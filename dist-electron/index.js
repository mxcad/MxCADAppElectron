"use strict";var fC=Object.defineProperty;var dC=(e,t,r)=>t in e?fC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wi=(e,t,r)=>(dC(e,typeof t!="symbol"?t+"":t,r),r);const we=require("electron"),hC=require("events"),pC=require("crypto"),mC=require("tty"),gC=require("util"),vC=require("os"),Yy=require("fs"),yC=require("stream"),_C=require("url"),wC=require("string_decoder"),EC=require("constants"),$C=require("assert"),Ky=require("path"),Jy=require("child_process"),SC=require("zlib"),bC=require("http"),AC=require("querystring"),TC=require("https"),rr=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function Xy(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const ja=rr(we),Tc=rr(hC),Ya=rr(pC),Qy=rr(mC),ua=rr(gC),la=rr(vC),ct=rr(Yy),Bt=Xy(Yy),hu=rr(yC),ca=rr(_C),OC=rr(wC),CC=rr(EC),kh=rr($C),Oe=rr(Ky),ac=Xy(Ky),Oc=rr(Jy),Zy=rr(SC),e_=rr(bC),RC=rr(AC),IC=rr(TC);var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vd={},yd={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.CancellationError=Ba.CancellationToken=void 0;const PC=Tc.default;class NC extends PC.EventEmitter{constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new oh);const r=()=>{if(i!=null)try{this.removeListener("cancel",i),i=null}catch{}};let i=null;return new Promise((a,s)=>{let u=null;if(i=()=>{try{u!=null&&(u(),u=null)}finally{s(new oh)}},this.cancelled){i();return}this.onCancel(i),t(a,s,c=>{u=c})}).then(a=>(r(),a)).catch(a=>{throw r(),a})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}Ba.CancellationToken=NC;class oh extends Error{constructor(){super("cancelled")}}Ba.CancellationError=oh;var Ct={},t_={exports:{}},Rl={exports:{}},_d,$0;function DC(){if($0)return _d;$0=1;var e=1e3,t=e*60,r=t*60,i=r*24,a=i*7,s=i*365.25;_d=function(h,d){d=d||{};var g=typeof h;if(g==="string"&&h.length>0)return u(h);if(g==="number"&&isFinite(h))return d.long?f(h):c(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function u(h){if(h=String(h),!(h.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(!!d){var g=parseFloat(d[1]),v=(d[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*a;case"days":case"day":case"d":return g*i;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function c(h){var d=Math.abs(h);return d>=i?Math.round(h/i)+"d":d>=r?Math.round(h/r)+"h":d>=t?Math.round(h/t)+"m":d>=e?Math.round(h/e)+"s":h+"ms"}function f(h){var d=Math.abs(h);return d>=i?m(h,d,i,"day"):d>=r?m(h,d,r,"hour"):d>=t?m(h,d,t,"minute"):d>=e?m(h,d,e,"second"):h+" ms"}function m(h,d,g,v){var b=d>=g*1.5;return Math.round(h/g)+" "+v+(b?"s":"")}return _d}var wd,S0;function r_(){if(S0)return wd;S0=1;function e(t){i.debug=i,i.default=i,i.coerce=m,i.disable=u,i.enable=s,i.enabled=c,i.humanize=DC(),i.destroy=h,Object.keys(t).forEach(d=>{i[d]=t[d]}),i.names=[],i.skips=[],i.formatters={};function r(d){let g=0;for(let v=0;v<d.length;v++)g=(g<<5)-g+d.charCodeAt(v),g|=0;return i.colors[Math.abs(g)%i.colors.length]}i.selectColor=r;function i(d){let g,v=null,b,R;function T(...$){if(!T.enabled)return;const _=T,I=Number(new Date),N=I-(g||I);_.diff=N,_.prev=g,_.curr=I,g=I,$[0]=i.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let Y=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(P,k)=>{if(P==="%%")return"%";Y++;const E=i.formatters[k];if(typeof E=="function"){const Q=$[Y];P=E.call(_,Q),$.splice(Y,1),Y--}return P}),i.formatArgs.call(_,$),(_.log||i.log).apply(_,$)}return T.namespace=d,T.useColors=i.useColors(),T.color=i.selectColor(d),T.extend=a,T.destroy=i.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(b!==i.namespaces&&(b=i.namespaces,R=i.enabled(d)),R),set:$=>{v=$}}),typeof i.init=="function"&&i.init(T),T}function a(d,g){const v=i(this.namespace+(typeof g>"u"?":":g)+d);return v.log=this.log,v}function s(d){i.save(d),i.namespaces=d,i.names=[],i.skips=[];let g;const v=(typeof d=="string"?d:"").split(/[\s,]+/),b=v.length;for(g=0;g<b;g++)!v[g]||(d=v[g].replace(/\*/g,".*?"),d[0]==="-"?i.skips.push(new RegExp("^"+d.slice(1)+"$")):i.names.push(new RegExp("^"+d+"$")))}function u(){const d=[...i.names.map(f),...i.skips.map(f).map(g=>"-"+g)].join(",");return i.enable(""),d}function c(d){if(d[d.length-1]==="*")return!0;let g,v;for(g=0,v=i.skips.length;g<v;g++)if(i.skips[g].test(d))return!1;for(g=0,v=i.names.length;g<v;g++)if(i.names[g].test(d))return!0;return!1}function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function m(d){return d instanceof Error?d.stack||d.message:d}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}return wd=e,wd}var b0;function FC(){return b0||(b0=1,function(e,t){t.formatArgs=i,t.save=a,t.load=s,t.useColors=r,t.storage=u(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;f.splice(1,0,m,"color: inherit");let h=0,d=0;f[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(h++,g==="%c"&&(d=h))}),f.splice(d,0,m)}t.log=console.debug||console.log||(()=>{});function a(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function s(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=process.env.DEBUG),f}function u(){try{return localStorage}catch{}}e.exports=r_()(t);const{formatters:c}=e.exports;c.j=function(f){try{return JSON.stringify(f)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}(Rl,Rl.exports)),Rl.exports}var Il={exports:{}},Ed,A0;function xC(){return A0||(A0=1,Ed=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",i=t.indexOf(r+e),a=t.indexOf("--");return i!==-1&&(a===-1||i<a)}),Ed}var $d,T0;function LC(){if(T0)return $d;T0=1;const e=la.default,t=Qy.default,r=xC(),{env:i}=process;let a;r("no-color")||r("no-colors")||r("color=false")||r("color=never")?a=0:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(a=1),"FORCE_COLOR"in i&&(i.FORCE_COLOR==="true"?a=1:i.FORCE_COLOR==="false"?a=0:a=i.FORCE_COLOR.length===0?1:Math.min(parseInt(i.FORCE_COLOR,10),3));function s(f){return f===0?!1:{level:f,hasBasic:!0,has256:f>=2,has16m:f>=3}}function u(f,m){if(a===0)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(f&&!m&&a===void 0)return 0;const h=a||0;if(i.TERM==="dumb")return h;if(process.platform==="win32"){const d=e.release().split(".");return Number(d[0])>=10&&Number(d[2])>=10586?Number(d[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(d=>d in i)||i.CI_NAME==="codeship"?1:h;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if(i.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in i){const d=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:h}function c(f){const m=u(f,f&&f.isTTY);return s(m)}return $d={supportsColor:c,stdout:s(u(!0,t.isatty(1))),stderr:s(u(!0,t.isatty(2)))},$d}var O0;function UC(){return O0||(O0=1,function(e,t){const r=Qy.default,i=ua.default;t.init=h,t.log=c,t.formatArgs=s,t.save=f,t.load=m,t.useColors=a,t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const g=LC();g&&(g.stderr||g).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(g=>/^debug_/i.test(g)).reduce((g,v)=>{const b=v.substring(6).toLowerCase().replace(/_([a-z])/g,(T,$)=>$.toUpperCase());let R=process.env[v];return/^(yes|on|true|enabled)$/i.test(R)?R=!0:/^(no|off|false|disabled)$/i.test(R)?R=!1:R==="null"?R=null:R=Number(R),g[b]=R,g},{});function a(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)}function s(g){const{namespace:v,useColors:b}=this;if(b){const R=this.color,T="\x1B[3"+(R<8?R:"8;5;"+R),$=`  ${T};1m${v} \x1B[0m`;g[0]=$+g[0].split(`
`).join(`
`+$),g.push(T+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else g[0]=u()+v+" "+g[0]}function u(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(...g){return process.stderr.write(i.format(...g)+`
`)}function f(g){g?process.env.DEBUG=g:delete process.env.DEBUG}function m(){return process.env.DEBUG}function h(g){g.inspectOpts={};const v=Object.keys(t.inspectOpts);for(let b=0;b<v.length;b++)g.inspectOpts[v[b]]=t.inspectOpts[v[b]]}e.exports=r_()(t);const{formatters:d}=e.exports;d.o=function(g){return this.inspectOpts.colors=this.useColors,i.inspect(g,this.inspectOpts).split(`
`).map(v=>v.trim()).join(" ")},d.O=function(g){return this.inspectOpts.colors=this.useColors,i.inspect(g,this.inspectOpts)}}(Il,Il.exports)),Il.exports}(function(e){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?e.exports=FC():e.exports=UC()})(t_);var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.ProgressCallbackTransform=void 0;const MC=hu.default;class kC extends MC.Transform{constructor(t,r,i){super(),this.total=t,this.cancellationToken=r,this.onProgress=i,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,i){if(this.cancellationToken.cancelled){i(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const a=Date.now();a>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=a+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((a-this.start)/1e3))}),this.delta=0),i(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}pu.ProgressCallbackTransform=kC;var C0;function jC(){if(C0)return Ct;C0=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.safeStringifyJson=Ct.configureRequestOptions=Ct.safeGetHeader=Ct.DigestTransform=Ct.configureRequestUrl=Ct.configureRequestOptionsFromUrl=Ct.HttpExecutor=Ct.parseJson=Ct.HttpError=Ct.createHttpError=void 0;const e=Ya.default,t=t_.exports,r=ct.default,i=hu.default,a=ca.default,s=Ba,u=Vt(),c=pu,f=t.default("electron-builder");function m(x,P=null){return new d(x.statusCode||-1,`${x.statusCode} ${x.statusMessage}`+(P==null?"":`
`+JSON.stringify(P,null,"  "))+`
Headers: `+Y(x.headers),P)}Ct.createHttpError=m;const h=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class d extends Error{constructor(P,k=`HTTP error: ${h.get(P)||P}`,E=null){super(k),this.statusCode=P,this.description=E,this.name="HttpError",this.code=`HTTP_ERROR_${P}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}Ct.HttpError=d;function g(x){return x.then(P=>P==null||P.length===0?null:JSON.parse(P))}Ct.parseJson=g;class v{constructor(){this.maxRedirects=10}request(P,k=new s.CancellationToken,E){N(P);const Q=E==null?void 0:JSON.stringify(E),le=Q?Buffer.from(Q):void 0;if(le!=null){f(Q);const{headers:ne,...ue}=P;P={method:"post",headers:{"Content-Type":"application/json","Content-Length":le.length,...ne},...ue}}return this.doApiRequest(P,k,ne=>ne.end(le))}doApiRequest(P,k,E,Q=0){return f.enabled&&f(`Request: ${Y(P)}`),k.createPromise((le,ne,ue)=>{const Z=this.createRequest(P,de=>{try{this.handleResponse(de,P,k,le,ne,Q,E)}catch(ge){ne(ge)}});this.addErrorAndTimeoutHandlers(Z,ne,P.timeout),this.addRedirectHandlers(Z,P,ne,Q,de=>{this.doApiRequest(de,k,E,Q).then(le).catch(ne)}),E(Z,ne),ue(()=>Z.abort())})}addRedirectHandlers(P,k,E,Q,le){}addErrorAndTimeoutHandlers(P,k,E=60*1e3){this.addTimeOutHandler(P,k,E),P.on("error",k),P.on("aborted",()=>{k(new Error("Request has been aborted by the server"))})}handleResponse(P,k,E,Q,le,ne,ue){var Z;if(f.enabled&&f(`Response: ${P.statusCode} ${P.statusMessage}, request options: ${Y(k)}`),P.statusCode===404){le(m(P,`method: ${k.method||"GET"} url: ${k.protocol||"https:"}//${k.hostname}${k.port?`:${k.port}`:""}${k.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(P.statusCode===204){Q();return}const de=(Z=P.statusCode)!==null&&Z!==void 0?Z:0,ge=de>=300&&de<400,ee=_(P,"location");if(ge&&ee!=null){if(ne>this.maxRedirects){le(this.createMaxRedirectError());return}this.doApiRequest(v.prepareRedirectUrlOptions(ee,k),E,ue,ne).then(Q).catch(le);return}P.setEncoding("utf8");let G="";P.on("error",le),P.on("data",X=>G+=X),P.on("end",()=>{try{if(P.statusCode!=null&&P.statusCode>=400){const X=_(P,"content-type"),W=X!=null&&(Array.isArray(X)?X.find(U=>U.includes("json"))!=null:X.includes("json"));le(m(P,`method: ${k.method||"GET"} url: ${k.protocol||"https:"}//${k.hostname}${k.port?`:${k.port}`:""}${k.path}

          Data:
          ${W?JSON.stringify(JSON.parse(G)):G}
          `))}else Q(G.length===0?null:G)}catch(X){le(X)}})}async downloadToBuffer(P,k){return await k.cancellationToken.createPromise((E,Q,le)=>{let ne=null;const ue={headers:k.headers||void 0,redirect:"manual"};R(P,ue),N(ue),this.doDownload(ue,{destination:null,options:k,onCancel:le,callback:Z=>{Z==null?E(ne):Q(Z)},responseHandler:(Z,de)=>{const ge=_(Z,"content-length");let ee=-1;if(ge!=null){const G=parseInt(ge,10);if(G>0){if(G>524288e3){de(new Error("Maximum allowed size is 500 MB"));return}ne=Buffer.alloc(G),ee=0}}Z.on("data",G=>{if(ee!==-1)G.copy(ne,ee),ee+=G.length;else if(ne==null)ne=G;else{if(ne.length>524288e3){de(new Error("Maximum allowed size is 500 MB"));return}ne=Buffer.concat([ne,G])}}),Z.on("end",()=>{ne!=null&&ee!==-1&&ee!==ne.length?de(new Error(`Received data length ${ee} is not equal to expected ${ne.length}`)):de(null)})}},0)})}doDownload(P,k,E){const Q=this.createRequest(P,le=>{if(le.statusCode>=400){k.callback(new Error(`Cannot download "${P.protocol||"https:"}//${P.hostname}${P.path}", status ${le.statusCode}: ${le.statusMessage}`));return}le.on("error",k.callback);const ne=_(le,"location");if(ne!=null){E<this.maxRedirects?this.doDownload(v.prepareRedirectUrlOptions(ne,P),k,E++):k.callback(this.createMaxRedirectError());return}k.responseHandler==null?I(k,le):k.responseHandler(le,k.callback)});this.addErrorAndTimeoutHandlers(Q,k.callback,P.timeout),this.addRedirectHandlers(Q,P,k.callback,E,le=>{this.doDownload(le,k,E++)}),Q.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(P,k,E){P.on("socket",Q=>{Q.setTimeout(E,()=>{P.abort(),k(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(P,k){const E=b(P,{...k}),Q=E.headers;if(Q!=null&&Q.authorization){const le=new a.URL(P);(le.hostname.endsWith(".amazonaws.com")||le.searchParams.has("X-Amz-Credential"))&&delete Q.authorization}return E}static retryOnServerError(P,k=3){for(let E=0;;E++)try{return P()}catch(Q){if(E<k&&(Q instanceof d&&Q.isServerError()||Q.code==="EPIPE"))continue;throw Q}}}Ct.HttpExecutor=v;function b(x,P){const k=N(P);return R(new a.URL(x),k),k}Ct.configureRequestOptionsFromUrl=b;function R(x,P){P.protocol=x.protocol,P.hostname=x.hostname,x.port?P.port=x.port:P.port&&delete P.port,P.path=x.pathname+x.search}Ct.configureRequestUrl=R;class T extends i.Transform{constructor(P,k="sha512",E="base64"){super(),this.expected=P,this.algorithm=k,this.encoding=E,this._actual=null,this.isValidateOnEnd=!0,this.digester=e.createHash(k)}get actual(){return this._actual}_transform(P,k,E){this.digester.update(P),E(null,P)}_flush(P){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(k){P(k);return}P(null)}validate(){if(this._actual==null)throw u.newError("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw u.newError(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}Ct.DigestTransform=T;function $(x,P,k){return x!=null&&P!=null&&x!==P?(k(new Error(`checksum mismatch: expected ${P} but got ${x} (X-Checksum-Sha2 header)`)),!1):!0}function _(x,P){const k=x.headers[P];return k==null?null:Array.isArray(k)?k.length===0?null:k[k.length-1]:k}Ct.safeGetHeader=_;function I(x,P){if(!$(_(P,"X-Checksum-Sha2"),x.options.sha2,x.callback))return;const k=[];if(x.options.onProgress!=null){const ne=_(P,"content-length");ne!=null&&k.push(new c.ProgressCallbackTransform(parseInt(ne,10),x.options.cancellationToken,x.options.onProgress))}const E=x.options.sha512;E!=null?k.push(new T(E,"sha512",E.length===128&&!E.includes("+")&&!E.includes("Z")&&!E.includes("=")?"hex":"base64")):x.options.sha2!=null&&k.push(new T(x.options.sha2,"sha256","hex"));const Q=r.createWriteStream(x.destination);k.push(Q);let le=P;for(const ne of k)ne.on("error",ue=>{Q.close(),x.options.cancellationToken.cancelled||x.callback(ue)}),le=le.pipe(ne);Q.on("finish",()=>{Q.close(x.callback)})}function N(x,P,k){k!=null&&(x.method=k),x.headers={...x.headers};const E=x.headers;return P!=null&&(E.authorization=P.startsWith("Basic")||P.startsWith("Bearer")?P:`token ${P}`),E["User-Agent"]==null&&(E["User-Agent"]="electron-builder"),(k==null||k==="GET"||E["Cache-Control"]==null)&&(E["Cache-Control"]="no-cache"),x.protocol==null&&process.versions.electron!=null&&(x.protocol="https:"),x}Ct.configureRequestOptions=N;function Y(x,P){return JSON.stringify(x,(k,E)=>k.endsWith("Authorization")||k.endsWith("authorization")||k.endsWith("Password")||k.endsWith("PASSWORD")||k.endsWith("Token")||k.includes("password")||k.includes("token")||P!=null&&P.has(k)?"<stripped sensitive data>":E,2)}return Ct.safeStringifyJson=Y,Ct}var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.getS3LikeProviderBaseUrl=Ho.githubUrl=void 0;function BC(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}Ho.githubUrl=BC;function qC(e){const t=e.provider;if(t==="s3")return HC(e);if(t==="spaces")return WC(e);throw new Error(`Not supported provider: ${t}`)}Ho.getS3LikeProviderBaseUrl=qC;function HC(e){let t;if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return n_(t,e.path)}function n_(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function WC(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return n_(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.parseDn=void 0;function GC(e){let t=!1,r=null,i="",a=0;e=e.trim();const s=new Map;for(let u=0;u<=e.length;u++){if(u===e.length){r!==null&&s.set(r,i);break}const c=e[u];if(t){if(c==='"'){t=!1;continue}}else{if(c==='"'){t=!0;continue}if(c==="\\"){u++;const f=parseInt(e.slice(u,u+2),16);Number.isNaN(f)?i+=e[u]:(u++,i+=String.fromCharCode(f));continue}if(r===null&&c==="="){r=i,i="";continue}if(c===","||c===";"||c==="+"){r!==null&&s.set(r,i),r=null,i="";continue}}if(c===" "&&!t){if(i.length===0)continue;if(u>a){let f=u;for(;e[f]===" ";)f++;a=f}if(a>=e.length||e[a]===","||e[a]===";"||r===null&&e[a]==="="||r!==null&&e[a]==="+"){u=a-1;continue}}i+=c}return s}Cc.parseDn=GC;var Aa={},R0;function zC(){if(R0)return Aa;R0=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.nil=Aa.UUID=void 0;const e=Ya.default,t=Vt(),r="options.name must be either a string or a Buffer",i=e.randomBytes(16);i[0]=i[0]|1;const a={},s=[];for(let d=0;d<256;d++){const g=(d+256).toString(16).substr(1);a[g]=d,s[d]=g}class u{constructor(g){this.ascii=null,this.binary=null;const v=u.check(g);if(!v)throw new Error("not a UUID");this.version=v.version,v.format==="ascii"?this.ascii=g:this.binary=g}static v5(g,v){return m(g,"sha1",80,v)}toString(){return this.ascii==null&&(this.ascii=h(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(g,v=0){if(typeof g=="string")return g=g.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(g)?g==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(a[g[14]+g[15]]&240)>>4,variant:c((a[g[19]+g[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(g)){if(g.length<v+16)return!1;let b=0;for(;b<16&&g[v+b]===0;b++);return b===16?{version:void 0,variant:"nil",format:"binary"}:{version:(g[v+6]&240)>>4,variant:c((g[v+8]&224)>>5),format:"binary"}}throw t.newError("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(g){const v=Buffer.allocUnsafe(16);let b=0;for(let R=0;R<16;R++)v[R]=a[g[b++]+g[b++]],(R===3||R===5||R===7||R===9)&&(b+=1);return v}}Aa.UUID=u,u.OID=u.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function c(d){switch(d){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var f;(function(d){d[d.ASCII=0]="ASCII",d[d.BINARY=1]="BINARY",d[d.OBJECT=2]="OBJECT"})(f||(f={}));function m(d,g,v,b,R=f.ASCII){const T=e.createHash(g);if(typeof d!="string"&&!Buffer.isBuffer(d))throw t.newError(r,"ERR_INVALID_UUID_NAME");T.update(b),T.update(d);const _=T.digest();let I;switch(R){case f.BINARY:_[6]=_[6]&15|v,_[8]=_[8]&63|128,I=_;break;case f.OBJECT:_[6]=_[6]&15|v,_[8]=_[8]&63|128,I=new u(_);break;default:I=s[_[0]]+s[_[1]]+s[_[2]]+s[_[3]]+"-"+s[_[4]]+s[_[5]]+"-"+s[_[6]&15|v]+s[_[7]]+"-"+s[_[8]&63|128]+s[_[9]]+"-"+s[_[10]]+s[_[11]]+s[_[12]]+s[_[13]]+s[_[14]]+s[_[15]];break}return I}function h(d){return s[d[0]]+s[d[1]]+s[d[2]]+s[d[3]]+"-"+s[d[4]]+s[d[5]]+"-"+s[d[6]]+s[d[7]]+"-"+s[d[8]]+s[d[9]]+"-"+s[d[10]]+s[d[11]]+s[d[12]]+s[d[13]]+s[d[14]]+s[d[15]]}return Aa.nil=new u("00000000-0000-0000-0000-000000000000"),Aa}var Ta={},i_={};(function(e){(function(t){t.parser=function(S,y){return new i(S,y)},t.SAXParser=i,t.SAXStream=h,t.createStream=m,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(S,y){if(!(this instanceof i))return new i(S,y);var te=this;s(te),te.q=te.c="",te.bufferCheckPosition=t.MAX_BUFFER_LENGTH,te.opt=y||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!S,te.noscript=!!(S||te.opt.noscript),te.state=E.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(R)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),le(te,"onready")}Object.create||(Object.create=function(S){function y(){}y.prototype=S;var te=new y;return te}),Object.keys||(Object.keys=function(S){var y=[];for(var te in S)S.hasOwnProperty(te)&&y.push(te);return y});function a(S){for(var y=Math.max(t.MAX_BUFFER_LENGTH,10),te=0,H=0,Ee=r.length;H<Ee;H++){var je=S[r[H]].length;if(je>y)switch(r[H]){case"textNode":ue(S);break;case"cdata":ne(S,"oncdata",S.cdata),S.cdata="";break;case"script":ne(S,"onscript",S.script),S.script="";break;default:de(S,"Max buffer length exceeded: "+r[H])}te=Math.max(te,je)}var et=t.MAX_BUFFER_LENGTH-te;S.bufferCheckPosition=et+S.position}function s(S){for(var y=0,te=r.length;y<te;y++)S[r[y]]=""}function u(S){ue(S),S.cdata!==""&&(ne(S,"oncdata",S.cdata),S.cdata=""),S.script!==""&&(ne(S,"onscript",S.script),S.script="")}i.prototype={end:function(){ge(this)},write:oe,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var c;try{c=require("stream").Stream}catch{c=function(){}}var f=t.EVENTS.filter(function(S){return S!=="error"&&S!=="end"});function m(S,y){return new h(S,y)}function h(S,y){if(!(this instanceof h))return new h(S,y);c.apply(this),this._parser=new i(S,y),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(H){te.emit("error",H),te._parser.error=null},this._decoder=null,f.forEach(function(H){Object.defineProperty(te,"on"+H,{get:function(){return te._parser["on"+H]},set:function(Ee){if(!Ee)return te.removeAllListeners(H),te._parser["on"+H]=Ee,Ee;te.on(H,Ee)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(c.prototype,{constructor:{value:h}}),h.prototype.write=function(S){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(S)){if(!this._decoder){var y=OC.default.StringDecoder;this._decoder=new y("utf8")}S=this._decoder.write(S)}return this._parser.write(S.toString()),this.emit("data",S),!0},h.prototype.end=function(S){return S&&S.length&&this.write(S),this._parser.end(),!0},h.prototype.on=function(S,y){var te=this;return!te._parser["on"+S]&&f.indexOf(S)!==-1&&(te._parser["on"+S]=function(){var H=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);H.splice(0,0,S),te.emit.apply(te,H)}),c.prototype.on.call(te,S,y)};var d="[CDATA[",g="DOCTYPE",v="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",R={xml:v,xmlns:b},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(S){return S===" "||S===`
`||S==="\r"||S==="	"}function Y(S){return S==='"'||S==="'"}function x(S){return S===">"||N(S)}function P(S,y){return S.test(y)}function k(S,y){return!P(S,y)}var E=0;t.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(S){var y=t.ENTITIES[S],te=typeof y=="number"?String.fromCharCode(y):y;t.ENTITIES[S]=te});for(var Q in t.STATE)t.STATE[t.STATE[Q]]=Q;E=t.STATE;function le(S,y,te){S[y]&&S[y](te)}function ne(S,y,te){S.textNode&&ue(S),le(S,y,te)}function ue(S){S.textNode=Z(S.opt,S.textNode),S.textNode&&le(S,"ontext",S.textNode),S.textNode=""}function Z(S,y){return S.trim&&(y=y.trim()),S.normalize&&(y=y.replace(/\s+/g," ")),y}function de(S,y){return ue(S),S.trackPosition&&(y+=`
Line: `+S.line+`
Column: `+S.column+`
Char: `+S.c),y=new Error(y),S.error=y,le(S,"onerror",y),S}function ge(S){return S.sawRoot&&!S.closedRoot&&ee(S,"Unclosed root tag"),S.state!==E.BEGIN&&S.state!==E.BEGIN_WHITESPACE&&S.state!==E.TEXT&&de(S,"Unexpected end"),ue(S),S.c="",S.closed=!0,le(S,"onend"),i.call(S,S.strict,S.opt),S}function ee(S,y){if(typeof S!="object"||!(S instanceof i))throw new Error("bad call to strictFail");S.strict&&de(S,y)}function G(S){S.strict||(S.tagName=S.tagName[S.looseCase]());var y=S.tags[S.tags.length-1]||S,te=S.tag={name:S.tagName,attributes:{}};S.opt.xmlns&&(te.ns=y.ns),S.attribList.length=0,ne(S,"onopentagstart",te)}function X(S,y){var te=S.indexOf(":"),H=te<0?["",S]:S.split(":"),Ee=H[0],je=H[1];return y&&S==="xmlns"&&(Ee="xmlns",je=""),{prefix:Ee,local:je}}function W(S){if(S.strict||(S.attribName=S.attribName[S.looseCase]()),S.attribList.indexOf(S.attribName)!==-1||S.tag.attributes.hasOwnProperty(S.attribName)){S.attribName=S.attribValue="";return}if(S.opt.xmlns){var y=X(S.attribName,!0),te=y.prefix,H=y.local;if(te==="xmlns")if(H==="xml"&&S.attribValue!==v)ee(S,"xml: prefix must be bound to "+v+`
Actual: `+S.attribValue);else if(H==="xmlns"&&S.attribValue!==b)ee(S,"xmlns: prefix must be bound to "+b+`
Actual: `+S.attribValue);else{var Ee=S.tag,je=S.tags[S.tags.length-1]||S;Ee.ns===je.ns&&(Ee.ns=Object.create(je.ns)),Ee.ns[H]=S.attribValue}S.attribList.push([S.attribName,S.attribValue])}else S.tag.attributes[S.attribName]=S.attribValue,ne(S,"onattribute",{name:S.attribName,value:S.attribValue});S.attribName=S.attribValue=""}function U(S,y){if(S.opt.xmlns){var te=S.tag,H=X(S.tagName);te.prefix=H.prefix,te.local=H.local,te.uri=te.ns[H.prefix]||"",te.prefix&&!te.uri&&(ee(S,"Unbound namespace prefix: "+JSON.stringify(S.tagName)),te.uri=H.prefix);var Ee=S.tags[S.tags.length-1]||S;te.ns&&Ee.ns!==te.ns&&Object.keys(te.ns).forEach(function(xt){ne(S,"onopennamespace",{prefix:xt,uri:te.ns[xt]})});for(var je=0,et=S.attribList.length;je<et;je++){var Ve=S.attribList[je],St=Ve[0],bt=Ve[1],Ye=X(St,!0),Ft=Ye.prefix,un=Ye.local,nr=Ft===""?"":te.ns[Ft]||"",Tt={name:St,value:bt,prefix:Ft,local:un,uri:nr};Ft&&Ft!=="xmlns"&&!nr&&(ee(S,"Unbound namespace prefix: "+JSON.stringify(Ft)),Tt.uri=Ft),S.tag.attributes[St]=Tt,ne(S,"onattribute",Tt)}S.attribList.length=0}S.tag.isSelfClosing=!!y,S.sawRoot=!0,S.tags.push(S.tag),ne(S,"onopentag",S.tag),y||(!S.noscript&&S.tagName.toLowerCase()==="script"?S.state=E.SCRIPT:S.state=E.TEXT,S.tag=null,S.tagName=""),S.attribName=S.attribValue="",S.attribList.length=0}function re(S){if(!S.tagName){ee(S,"Weird empty close tag."),S.textNode+="</>",S.state=E.TEXT;return}if(S.script){if(S.tagName!=="script"){S.script+="</"+S.tagName+">",S.tagName="",S.state=E.SCRIPT;return}ne(S,"onscript",S.script),S.script=""}var y=S.tags.length,te=S.tagName;S.strict||(te=te[S.looseCase]());for(var H=te;y--;){var Ee=S.tags[y];if(Ee.name!==H)ee(S,"Unexpected close tag");else break}if(y<0){ee(S,"Unmatched closing tag: "+S.tagName),S.textNode+="</"+S.tagName+">",S.state=E.TEXT;return}S.tagName=te;for(var je=S.tags.length;je-- >y;){var et=S.tag=S.tags.pop();S.tagName=S.tag.name,ne(S,"onclosetag",S.tagName);var Ve={};for(var St in et.ns)Ve[St]=et.ns[St];var bt=S.tags[S.tags.length-1]||S;S.opt.xmlns&&et.ns!==bt.ns&&Object.keys(et.ns).forEach(function(Ye){var Ft=et.ns[Ye];ne(S,"onclosenamespace",{prefix:Ye,uri:Ft})})}y===0&&(S.closedRoot=!0),S.tagName=S.attribValue=S.attribName="",S.attribList.length=0,S.state=E.TEXT}function K(S){var y=S.entity,te=y.toLowerCase(),H,Ee="";return S.ENTITIES[y]?S.ENTITIES[y]:S.ENTITIES[te]?S.ENTITIES[te]:(y=te,y.charAt(0)==="#"&&(y.charAt(1)==="x"?(y=y.slice(2),H=parseInt(y,16),Ee=H.toString(16)):(y=y.slice(1),H=parseInt(y,10),Ee=H.toString(10))),y=y.replace(/^0+/,""),isNaN(H)||Ee.toLowerCase()!==y?(ee(S,"Invalid character entity"),"&"+S.entity+";"):String.fromCodePoint(H))}function O(S,y){y==="<"?(S.state=E.OPEN_WAKA,S.startTagPosition=S.position):N(y)||(ee(S,"Non-whitespace before first tag."),S.textNode=y,S.state=E.TEXT)}function L(S,y){var te="";return y<S.length&&(te=S.charAt(y)),te}function oe(S){var y=this;if(this.error)throw this.error;if(y.closed)return de(y,"Cannot write after close. Assign an onready handler.");if(S===null)return ge(y);typeof S=="object"&&(S=S.toString());for(var te=0,H="";H=L(S,te++),y.c=H,!!H;)switch(y.trackPosition&&(y.position++,H===`
`?(y.line++,y.column=0):y.column++),y.state){case E.BEGIN:if(y.state=E.BEGIN_WHITESPACE,H==="\uFEFF")continue;O(y,H);continue;case E.BEGIN_WHITESPACE:O(y,H);continue;case E.TEXT:if(y.sawRoot&&!y.closedRoot){for(var Ee=te-1;H&&H!=="<"&&H!=="&";)H=L(S,te++),H&&y.trackPosition&&(y.position++,H===`
`?(y.line++,y.column=0):y.column++);y.textNode+=S.substring(Ee,te-1)}H==="<"&&!(y.sawRoot&&y.closedRoot&&!y.strict)?(y.state=E.OPEN_WAKA,y.startTagPosition=y.position):(!N(H)&&(!y.sawRoot||y.closedRoot)&&ee(y,"Text data outside of root node."),H==="&"?y.state=E.TEXT_ENTITY:y.textNode+=H);continue;case E.SCRIPT:H==="<"?y.state=E.SCRIPT_ENDING:y.script+=H;continue;case E.SCRIPT_ENDING:H==="/"?y.state=E.CLOSE_TAG:(y.script+="<"+H,y.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(H==="!")y.state=E.SGML_DECL,y.sgmlDecl="";else if(!N(H))if(P(T,H))y.state=E.OPEN_TAG,y.tagName=H;else if(H==="/")y.state=E.CLOSE_TAG,y.tagName="";else if(H==="?")y.state=E.PROC_INST,y.procInstName=y.procInstBody="";else{if(ee(y,"Unencoded <"),y.startTagPosition+1<y.position){var je=y.position-y.startTagPosition;H=new Array(je).join(" ")+H}y.textNode+="<"+H,y.state=E.TEXT}continue;case E.SGML_DECL:(y.sgmlDecl+H).toUpperCase()===d?(ne(y,"onopencdata"),y.state=E.CDATA,y.sgmlDecl="",y.cdata=""):y.sgmlDecl+H==="--"?(y.state=E.COMMENT,y.comment="",y.sgmlDecl=""):(y.sgmlDecl+H).toUpperCase()===g?(y.state=E.DOCTYPE,(y.doctype||y.sawRoot)&&ee(y,"Inappropriately located doctype declaration"),y.doctype="",y.sgmlDecl=""):H===">"?(ne(y,"onsgmldeclaration",y.sgmlDecl),y.sgmlDecl="",y.state=E.TEXT):(Y(H)&&(y.state=E.SGML_DECL_QUOTED),y.sgmlDecl+=H);continue;case E.SGML_DECL_QUOTED:H===y.q&&(y.state=E.SGML_DECL,y.q=""),y.sgmlDecl+=H;continue;case E.DOCTYPE:H===">"?(y.state=E.TEXT,ne(y,"ondoctype",y.doctype),y.doctype=!0):(y.doctype+=H,H==="["?y.state=E.DOCTYPE_DTD:Y(H)&&(y.state=E.DOCTYPE_QUOTED,y.q=H));continue;case E.DOCTYPE_QUOTED:y.doctype+=H,H===y.q&&(y.q="",y.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:y.doctype+=H,H==="]"?y.state=E.DOCTYPE:Y(H)&&(y.state=E.DOCTYPE_DTD_QUOTED,y.q=H);continue;case E.DOCTYPE_DTD_QUOTED:y.doctype+=H,H===y.q&&(y.state=E.DOCTYPE_DTD,y.q="");continue;case E.COMMENT:H==="-"?y.state=E.COMMENT_ENDING:y.comment+=H;continue;case E.COMMENT_ENDING:H==="-"?(y.state=E.COMMENT_ENDED,y.comment=Z(y.opt,y.comment),y.comment&&ne(y,"oncomment",y.comment),y.comment=""):(y.comment+="-"+H,y.state=E.COMMENT);continue;case E.COMMENT_ENDED:H!==">"?(ee(y,"Malformed comment"),y.comment+="--"+H,y.state=E.COMMENT):y.state=E.TEXT;continue;case E.CDATA:H==="]"?y.state=E.CDATA_ENDING:y.cdata+=H;continue;case E.CDATA_ENDING:H==="]"?y.state=E.CDATA_ENDING_2:(y.cdata+="]"+H,y.state=E.CDATA);continue;case E.CDATA_ENDING_2:H===">"?(y.cdata&&ne(y,"oncdata",y.cdata),ne(y,"onclosecdata"),y.cdata="",y.state=E.TEXT):H==="]"?y.cdata+="]":(y.cdata+="]]"+H,y.state=E.CDATA);continue;case E.PROC_INST:H==="?"?y.state=E.PROC_INST_ENDING:N(H)?y.state=E.PROC_INST_BODY:y.procInstName+=H;continue;case E.PROC_INST_BODY:if(!y.procInstBody&&N(H))continue;H==="?"?y.state=E.PROC_INST_ENDING:y.procInstBody+=H;continue;case E.PROC_INST_ENDING:H===">"?(ne(y,"onprocessinginstruction",{name:y.procInstName,body:y.procInstBody}),y.procInstName=y.procInstBody="",y.state=E.TEXT):(y.procInstBody+="?"+H,y.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:P($,H)?y.tagName+=H:(G(y),H===">"?U(y):H==="/"?y.state=E.OPEN_TAG_SLASH:(N(H)||ee(y,"Invalid character in tag name"),y.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:H===">"?(U(y,!0),re(y)):(ee(y,"Forward-slash in opening tag not followed by >"),y.state=E.ATTRIB);continue;case E.ATTRIB:if(N(H))continue;H===">"?U(y):H==="/"?y.state=E.OPEN_TAG_SLASH:P(T,H)?(y.attribName=H,y.attribValue="",y.state=E.ATTRIB_NAME):ee(y,"Invalid attribute name");continue;case E.ATTRIB_NAME:H==="="?y.state=E.ATTRIB_VALUE:H===">"?(ee(y,"Attribute without value"),y.attribValue=y.attribName,W(y),U(y)):N(H)?y.state=E.ATTRIB_NAME_SAW_WHITE:P($,H)?y.attribName+=H:ee(y,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(H==="=")y.state=E.ATTRIB_VALUE;else{if(N(H))continue;ee(y,"Attribute without value"),y.tag.attributes[y.attribName]="",y.attribValue="",ne(y,"onattribute",{name:y.attribName,value:""}),y.attribName="",H===">"?U(y):P(T,H)?(y.attribName=H,y.state=E.ATTRIB_NAME):(ee(y,"Invalid attribute name"),y.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(N(H))continue;Y(H)?(y.q=H,y.state=E.ATTRIB_VALUE_QUOTED):(ee(y,"Unquoted attribute value"),y.state=E.ATTRIB_VALUE_UNQUOTED,y.attribValue=H);continue;case E.ATTRIB_VALUE_QUOTED:if(H!==y.q){H==="&"?y.state=E.ATTRIB_VALUE_ENTITY_Q:y.attribValue+=H;continue}W(y),y.q="",y.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:N(H)?y.state=E.ATTRIB:H===">"?U(y):H==="/"?y.state=E.OPEN_TAG_SLASH:P(T,H)?(ee(y,"No whitespace between attributes"),y.attribName=H,y.attribValue="",y.state=E.ATTRIB_NAME):ee(y,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!x(H)){H==="&"?y.state=E.ATTRIB_VALUE_ENTITY_U:y.attribValue+=H;continue}W(y),H===">"?U(y):y.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(y.tagName)H===">"?re(y):P($,H)?y.tagName+=H:y.script?(y.script+="</"+y.tagName,y.tagName="",y.state=E.SCRIPT):(N(H)||ee(y,"Invalid tagname in closing tag"),y.state=E.CLOSE_TAG_SAW_WHITE);else{if(N(H))continue;k(T,H)?y.script?(y.script+="</"+H,y.state=E.SCRIPT):ee(y,"Invalid tagname in closing tag."):y.tagName=H}continue;case E.CLOSE_TAG_SAW_WHITE:if(N(H))continue;H===">"?re(y):ee(y,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var et,Ve;switch(y.state){case E.TEXT_ENTITY:et=E.TEXT,Ve="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:et=E.ATTRIB_VALUE_QUOTED,Ve="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:et=E.ATTRIB_VALUE_UNQUOTED,Ve="attribValue";break}H===";"?(y[Ve]+=K(y),y.entity="",y.state=et):P(y.entity.length?I:_,H)?y.entity+=H:(ee(y,"Invalid character in entity name"),y[Ve]+="&"+y.entity+H,y.entity="",y.state=et);continue;default:throw new Error(y,"Unknown state: "+y.state)}return y.position>=y.bufferCheckPosition&&a(y),y}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var S=String.fromCharCode,y=Math.floor,te=function(){var H=16384,Ee=[],je,et,Ve=-1,St=arguments.length;if(!St)return"";for(var bt="";++Ve<St;){var Ye=Number(arguments[Ve]);if(!isFinite(Ye)||Ye<0||Ye>1114111||y(Ye)!==Ye)throw RangeError("Invalid code point: "+Ye);Ye<=65535?Ee.push(Ye):(Ye-=65536,je=(Ye>>10)+55296,et=Ye%1024+56320,Ee.push(je,et)),(Ve+1===St||Ee.length>H)&&(bt+=S.apply(null,Ee),Ee.length=0)}return bt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te}()})(e)})(i_);var I0;function VC(){if(I0)return Ta;I0=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.parseXml=Ta.XElement=void 0;const e=i_,t=Vt();class r{constructor(f){if(this.name=f,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!f)throw t.newError("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!a(f))throw t.newError(`Invalid element name: ${f}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(f){const m=this.attributes===null?null:this.attributes[f];if(m==null)throw t.newError(`No attribute "${f}"`,"ERR_XML_MISSED_ATTRIBUTE");return m}removeAttribute(f){this.attributes!==null&&delete this.attributes[f]}element(f,m=!1,h=null){const d=this.elementOrNull(f,m);if(d===null)throw t.newError(h||`No element "${f}"`,"ERR_XML_MISSED_ELEMENT");return d}elementOrNull(f,m=!1){if(this.elements===null)return null;for(const h of this.elements)if(s(h,f,m))return h;return null}getElements(f,m=!1){return this.elements===null?[]:this.elements.filter(h=>s(h,f,m))}elementValueOrEmpty(f,m=!1){const h=this.elementOrNull(f,m);return h===null?"":h.value}}Ta.XElement=r;const i=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function a(c){return i.test(c)}function s(c,f,m){const h=c.name;return h===f||m===!0&&h.length===f.length&&h.toLowerCase()===f.toLowerCase()}function u(c){let f=null;const m=e.parser(!0,{}),h=[];return m.onopentag=d=>{const g=new r(d.name);if(g.attributes=d.attributes,f===null)f=g;else{const v=h[h.length-1];v.elements==null&&(v.elements=[]),v.elements.push(g)}h.push(g)},m.onclosetag=()=>{h.pop()},m.ontext=d=>{h.length>0&&(h[h.length-1].value=d)},m.oncdata=d=>{const g=h[h.length-1];g.value=d,g.isCData=!0},m.onerror=d=>{throw d},m.write(c),f}return Ta.parseXml=u,Ta}var P0;function Vt(){return P0||(P0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=Ba;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=jC();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var i=Ho;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return i.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return i.githubUrl}});var a=Cc;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return a.parseDn}});var s=zC();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return s.UUID}});var u=pu;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return u.ProgressCallbackTransform}});var c=VC();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return c.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return c.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function f(h){return h==null?[]:Array.isArray(h)?h:[h]}e.asArray=f;function m(h,d){const g=new Error(h);return g.code=d,g}e.newError=m}(yd)),yd}var Oa={},Ka={},Pr={};Pr.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,i)=>{e.call(this,...t,(a,s)=>a!=null?i(a):r(s))})},"name",{value:e.name})};Pr.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(i=>r(null,i),r)},"name",{value:e.name})};var Vi=CC.default,YC=process.cwd,Xl=null,KC=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Xl||(Xl=YC.call(process)),Xl};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var N0=process.chdir;process.chdir=function(e){Xl=null,N0.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,N0)}var JC=XC;function XC(e){Vi.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=u(e.chownSync),e.fchownSync=u(e.fchownSync),e.lchownSync=u(e.lchownSync),e.chmodSync=a(e.chmodSync),e.fchmodSync=a(e.fchmodSync),e.lchmodSync=a(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=f(e.statSync),e.fstatSync=f(e.fstatSync),e.lstatSync=f(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(h,d,g){g&&process.nextTick(g)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(h,d,g,v){v&&process.nextTick(v)},e.lchownSync=function(){}),KC==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(h){function d(g,v,b){var R=Date.now(),T=0;h(g,v,function $(_){if(_&&(_.code==="EACCES"||_.code==="EPERM"||_.code==="EBUSY")&&Date.now()-R<6e4){setTimeout(function(){e.stat(v,function(I,N){I&&I.code==="ENOENT"?h(g,v,$):b(_)})},T),T<100&&(T+=10);return}b&&b(_)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,h),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(h){function d(g,v,b,R,T,$){var _;if($&&typeof $=="function"){var I=0;_=function(N,Y,x){if(N&&N.code==="EAGAIN"&&I<10)return I++,h.call(e,g,v,b,R,T,_);$.apply(this,arguments)}}return h.call(e,g,v,b,R,T,_)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,h),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(h){return function(d,g,v,b,R){for(var T=0;;)try{return h.call(e,d,g,v,b,R)}catch($){if($.code==="EAGAIN"&&T<10){T++;continue}throw $}}}(e.readSync);function t(h){h.lchmod=function(d,g,v){h.open(d,Vi.O_WRONLY|Vi.O_SYMLINK,g,function(b,R){if(b){v&&v(b);return}h.fchmod(R,g,function(T){h.close(R,function($){v&&v(T||$)})})})},h.lchmodSync=function(d,g){var v=h.openSync(d,Vi.O_WRONLY|Vi.O_SYMLINK,g),b=!0,R;try{R=h.fchmodSync(v,g),b=!1}finally{if(b)try{h.closeSync(v)}catch{}else h.closeSync(v)}return R}}function r(h){Vi.hasOwnProperty("O_SYMLINK")&&h.futimes?(h.lutimes=function(d,g,v,b){h.open(d,Vi.O_SYMLINK,function(R,T){if(R){b&&b(R);return}h.futimes(T,g,v,function($){h.close(T,function(_){b&&b($||_)})})})},h.lutimesSync=function(d,g,v){var b=h.openSync(d,Vi.O_SYMLINK),R,T=!0;try{R=h.futimesSync(b,g,v),T=!1}finally{if(T)try{h.closeSync(b)}catch{}else h.closeSync(b)}return R}):h.futimes&&(h.lutimes=function(d,g,v,b){b&&process.nextTick(b)},h.lutimesSync=function(){})}function i(h){return h&&function(d,g,v){return h.call(e,d,g,function(b){m(b)&&(b=null),v&&v.apply(this,arguments)})}}function a(h){return h&&function(d,g){try{return h.call(e,d,g)}catch(v){if(!m(v))throw v}}}function s(h){return h&&function(d,g,v,b){return h.call(e,d,g,v,function(R){m(R)&&(R=null),b&&b.apply(this,arguments)})}}function u(h){return h&&function(d,g,v){try{return h.call(e,d,g,v)}catch(b){if(!m(b))throw b}}}function c(h){return h&&function(d,g,v){typeof g=="function"&&(v=g,g=null);function b(R,T){T&&(T.uid<0&&(T.uid+=4294967296),T.gid<0&&(T.gid+=4294967296)),v&&v.apply(this,arguments)}return g?h.call(e,d,g,b):h.call(e,d,b)}}function f(h){return h&&function(d,g){var v=g?h.call(e,d,g):h.call(e,d);return v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),v}}function m(h){if(!h||h.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(h.code==="EINVAL"||h.code==="EPERM"))}}var D0=hu.default.Stream,QC=ZC;function ZC(e){return{ReadStream:t,WriteStream:r};function t(i,a){if(!(this instanceof t))return new t(i,a);D0.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,a=a||{};for(var u=Object.keys(a),c=0,f=u.length;c<f;c++){var m=u[c];this[m]=a[m]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(h,d){if(h){s.emit("error",h),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(i,a){if(!(this instanceof r))return new r(i,a);D0.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,a=a||{};for(var s=Object.keys(a),u=0,c=s.length;u<c;u++){var f=s[u];this[f]=a[f]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var eR=rR,tR=Object.getPrototypeOf||function(e){return e.__proto__};function rR(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:tR(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Rt=ct.default,nR=JC,iR=QC,aR=eR,Pl=ua.default,cr,oc;typeof Symbol=="function"&&typeof Symbol.for=="function"?(cr=Symbol.for("graceful-fs.queue"),oc=Symbol.for("graceful-fs.previous")):(cr="___graceful-fs.queue",oc="___graceful-fs.previous");function oR(){}function a_(e,t){Object.defineProperty(e,cr,{get:function(){return t}})}var Ma=oR;Pl.debuglog?Ma=Pl.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ma=function(){var e=Pl.format.apply(Pl,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Rt[cr]){var sR=qt[cr]||[];a_(Rt,sR),Rt.close=function(e){function t(r,i){return e.call(Rt,r,function(a){a||F0(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,oc,{value:e}),t}(Rt.close),Rt.closeSync=function(e){function t(r){e.apply(Rt,arguments),F0()}return Object.defineProperty(t,oc,{value:e}),t}(Rt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ma(Rt[cr]),kh.default.equal(Rt[cr].length,0)})}qt[cr]||a_(qt,Rt[cr]);var Nr=jh(aR(Rt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Rt.__patched&&(Nr=jh(Rt),Rt.__patched=!0);function jh(e){nR(e),e.gracefulify=jh,e.createReadStream=Y,e.createWriteStream=x;var t=e.readFile;e.readFile=r;function r(E,Q,le){return typeof Q=="function"&&(le=Q,Q=null),ne(E,Q,le);function ne(ue,Z,de,ge){return t(ue,Z,function(ee){ee&&(ee.code==="EMFILE"||ee.code==="ENFILE")?Eo([ne,[ue,Z,de],ee,ge||Date.now(),Date.now()]):typeof de=="function"&&de.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=a;function a(E,Q,le,ne){return typeof le=="function"&&(ne=le,le=null),ue(E,Q,le,ne);function ue(Z,de,ge,ee,G){return i(Z,de,ge,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?Eo([ue,[Z,de,ge,ee],X,G||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=u);function u(E,Q,le,ne){return typeof le=="function"&&(ne=le,le=null),ue(E,Q,le,ne);function ue(Z,de,ge,ee,G){return s(Z,de,ge,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?Eo([ue,[Z,de,ge,ee],X,G||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=f);function f(E,Q,le,ne){return typeof le=="function"&&(ne=le,le=0),ue(E,Q,le,ne);function ue(Z,de,ge,ee,G){return c(Z,de,ge,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?Eo([ue,[Z,de,ge,ee],X,G||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}var m=e.readdir;e.readdir=d;var h=/^v[0-5]\./;function d(E,Q,le){typeof Q=="function"&&(le=Q,Q=null);var ne=h.test(process.version)?function(de,ge,ee,G){return m(de,ue(de,ge,ee,G))}:function(de,ge,ee,G){return m(de,ge,ue(de,ge,ee,G))};return ne(E,Q,le);function ue(Z,de,ge,ee){return function(G,X){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Eo([ne,[Z,de,ge],G,ee||Date.now(),Date.now()]):(X&&X.sort&&X.sort(),typeof ge=="function"&&ge.call(this,G,X))}}}if(process.version.substr(0,4)==="v0.8"){var g=iR(e);$=g.ReadStream,I=g.WriteStream}var v=e.ReadStream;v&&($.prototype=Object.create(v.prototype),$.prototype.open=_);var b=e.WriteStream;b&&(I.prototype=Object.create(b.prototype),I.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return $},set:function(E){$=E},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(E){I=E},enumerable:!0,configurable:!0});var R=$;Object.defineProperty(e,"FileReadStream",{get:function(){return R},set:function(E){R=E},enumerable:!0,configurable:!0});var T=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return T},set:function(E){T=E},enumerable:!0,configurable:!0});function $(E,Q){return this instanceof $?(v.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function _(){var E=this;k(E.path,E.flags,E.mode,function(Q,le){Q?(E.autoClose&&E.destroy(),E.emit("error",Q)):(E.fd=le,E.emit("open",le),E.read())})}function I(E,Q){return this instanceof I?(b.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function N(){var E=this;k(E.path,E.flags,E.mode,function(Q,le){Q?(E.destroy(),E.emit("error",Q)):(E.fd=le,E.emit("open",le))})}function Y(E,Q){return new e.ReadStream(E,Q)}function x(E,Q){return new e.WriteStream(E,Q)}var P=e.open;e.open=k;function k(E,Q,le,ne){return typeof le=="function"&&(ne=le,le=null),ue(E,Q,le,ne);function ue(Z,de,ge,ee,G){return P(Z,de,ge,function(X,W){X&&(X.code==="EMFILE"||X.code==="ENFILE")?Eo([ue,[Z,de,ge,ee],X,G||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}return e}function Eo(e){Ma("ENQUEUE",e[0].name,e[1]),Rt[cr].push(e),Bh()}var Nl;function F0(){for(var e=Date.now(),t=0;t<Rt[cr].length;++t)Rt[cr][t].length>2&&(Rt[cr][t][3]=e,Rt[cr][t][4]=e);Bh()}function Bh(){if(clearTimeout(Nl),Nl=void 0,Rt[cr].length!==0){var e=Rt[cr].shift(),t=e[0],r=e[1],i=e[2],a=e[3],s=e[4];if(a===void 0)Ma("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-a>=6e4){Ma("TIMEOUT",t.name,r);var u=r.pop();typeof u=="function"&&u.call(null,i)}else{var c=Date.now()-s,f=Math.max(s-a,1),m=Math.min(f*1.2,100);c>=m?(Ma("RETRY",t.name,r),t.apply(null,r.concat([a]))):Rt[cr].push(e)}Nl===void 0&&(Nl=setTimeout(Bh,0))}}(function(e){const t=Pr.fromCallback,r=Nr,i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(a=>typeof r[a]=="function");Object.assign(e,r),i.forEach(a=>{e[a]=t(r[a])}),e.exists=function(a,s){return typeof s=="function"?r.exists(a,s):new Promise(u=>r.exists(a,u))},e.read=function(a,s,u,c,f,m){return typeof m=="function"?r.read(a,s,u,c,f,m):new Promise((h,d)=>{r.read(a,s,u,c,f,(g,v,b)=>{if(g)return d(g);h({bytesRead:v,buffer:b})})})},e.write=function(a,s,...u){return typeof u[u.length-1]=="function"?r.write(a,s,...u):new Promise((c,f)=>{r.write(a,s,...u,(m,h,d)=>{if(m)return f(m);c({bytesWritten:h,buffer:d})})})},typeof r.writev=="function"&&(e.writev=function(a,s,...u){return typeof u[u.length-1]=="function"?r.writev(a,s,...u):new Promise((c,f)=>{r.writev(a,s,...u,(m,h,d)=>{if(m)return f(m);c({bytesWritten:h,buffers:d})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Ka);var qh={},o_={};const uR=Oe.default;o_.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(uR.parse(t).root,""))){const i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}};const s_=Ka,{checkPath:u_}=o_,l_=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};qh.makeDir=async(e,t)=>(u_(e),s_.mkdir(e,{mode:l_(t),recursive:!0}));qh.makeDirSync=(e,t)=>(u_(e),s_.mkdirSync(e,{mode:l_(t),recursive:!0}));const lR=Pr.fromPromise,{makeDir:cR,makeDirSync:Sd}=qh,bd=lR(cR);var ri={mkdirs:bd,mkdirsSync:Sd,mkdirp:bd,mkdirpSync:Sd,ensureDir:bd,ensureDirSync:Sd};const fR=Pr.fromPromise,c_=Ka;function dR(e){return c_.access(e).then(()=>!0).catch(()=>!1)}var Ja={pathExists:fR(dR),pathExistsSync:c_.existsSync};const jo=Nr;function hR(e,t,r,i){jo.open(e,"r+",(a,s)=>{if(a)return i(a);jo.futimes(s,t,r,u=>{jo.close(s,c=>{i&&i(u||c)})})})}function pR(e,t,r){const i=jo.openSync(e,"r+");return jo.futimesSync(i,t,r),jo.closeSync(i)}var f_={utimesMillis:hR,utimesMillisSync:pR};const Wo=Ka,tr=Oe.default,mR=ua.default;function gR(e,t,r){const i=r.dereference?a=>Wo.stat(a,{bigint:!0}):a=>Wo.lstat(a,{bigint:!0});return Promise.all([i(e),i(t).catch(a=>{if(a.code==="ENOENT")return null;throw a})]).then(([a,s])=>({srcStat:a,destStat:s}))}function vR(e,t,r){let i;const a=r.dereference?u=>Wo.statSync(u,{bigint:!0}):u=>Wo.lstatSync(u,{bigint:!0}),s=a(e);try{i=a(t)}catch(u){if(u.code==="ENOENT")return{srcStat:s,destStat:null};throw u}return{srcStat:s,destStat:i}}function yR(e,t,r,i,a){mR.callbackify(gR)(e,t,i,(s,u)=>{if(s)return a(s);const{srcStat:c,destStat:f}=u;if(f){if(mu(c,f)){const m=tr.basename(e),h=tr.basename(t);return r==="move"&&m!==h&&m.toLowerCase()===h.toLowerCase()?a(null,{srcStat:c,destStat:f,isChangingCase:!0}):a(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!f.isDirectory())return a(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!c.isDirectory()&&f.isDirectory())return a(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return c.isDirectory()&&Hh(e,t)?a(new Error(Rc(e,t,r))):a(null,{srcStat:c,destStat:f})})}function _R(e,t,r,i){const{srcStat:a,destStat:s}=vR(e,t,i);if(s){if(mu(a,s)){const u=tr.basename(e),c=tr.basename(t);if(r==="move"&&u!==c&&u.toLowerCase()===c.toLowerCase())return{srcStat:a,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(a.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!a.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(a.isDirectory()&&Hh(e,t))throw new Error(Rc(e,t,r));return{srcStat:a,destStat:s}}function d_(e,t,r,i,a){const s=tr.resolve(tr.dirname(e)),u=tr.resolve(tr.dirname(r));if(u===s||u===tr.parse(u).root)return a();Wo.stat(u,{bigint:!0},(c,f)=>c?c.code==="ENOENT"?a():a(c):mu(t,f)?a(new Error(Rc(e,r,i))):d_(e,t,u,i,a))}function h_(e,t,r,i){const a=tr.resolve(tr.dirname(e)),s=tr.resolve(tr.dirname(r));if(s===a||s===tr.parse(s).root)return;let u;try{u=Wo.statSync(s,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(mu(t,u))throw new Error(Rc(e,r,i));return h_(e,t,s,i)}function mu(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Hh(e,t){const r=tr.resolve(e).split(tr.sep).filter(a=>a),i=tr.resolve(t).split(tr.sep).filter(a=>a);return r.reduce((a,s,u)=>a&&i[u]===s,!0)}function Rc(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var ts={checkPaths:yR,checkPathsSync:_R,checkParentPaths:d_,checkParentPathsSync:h_,isSrcSubdir:Hh,areIdentical:mu};const zr=Nr,ru=Oe.default,wR=ri.mkdirs,ER=Ja.pathExists,$R=f_.utimesMillis,nu=ts;function SR(e,t,r,i){typeof r=="function"&&!i?(i=r,r={}):typeof r=="function"&&(r={filter:r}),i=i||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),nu.checkPaths(e,t,"copy",r,(a,s)=>{if(a)return i(a);const{srcStat:u,destStat:c}=s;nu.checkParentPaths(e,u,t,"copy",f=>f?i(f):r.filter?p_(x0,c,e,t,r,i):x0(c,e,t,r,i))})}function x0(e,t,r,i,a){const s=ru.dirname(r);ER(s,(u,c)=>{if(u)return a(u);if(c)return sc(e,t,r,i,a);wR(s,f=>f?a(f):sc(e,t,r,i,a))})}function p_(e,t,r,i,a,s){Promise.resolve(a.filter(r,i)).then(u=>u?e(t,r,i,a,s):s(),u=>s(u))}function bR(e,t,r,i,a){return i.filter?p_(sc,e,t,r,i,a):sc(e,t,r,i,a)}function sc(e,t,r,i,a){(i.dereference?zr.stat:zr.lstat)(t,(u,c)=>u?a(u):c.isDirectory()?PR(c,e,t,r,i,a):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?AR(c,e,t,r,i,a):c.isSymbolicLink()?FR(e,t,r,i,a):c.isSocket()?a(new Error(`Cannot copy a socket file: ${t}`)):c.isFIFO()?a(new Error(`Cannot copy a FIFO pipe: ${t}`)):a(new Error(`Unknown file: ${t}`)))}function AR(e,t,r,i,a,s){return t?TR(e,r,i,a,s):m_(e,r,i,a,s)}function TR(e,t,r,i,a){if(i.overwrite)zr.unlink(r,s=>s?a(s):m_(e,t,r,i,a));else return i.errorOnExist?a(new Error(`'${r}' already exists`)):a()}function m_(e,t,r,i,a){zr.copyFile(t,r,s=>s?a(s):i.preserveTimestamps?OR(e.mode,t,r,a):Ic(r,e.mode,a))}function OR(e,t,r,i){return CR(e)?RR(r,e,a=>a?i(a):L0(e,t,r,i)):L0(e,t,r,i)}function CR(e){return(e&128)===0}function RR(e,t,r){return Ic(e,t|128,r)}function L0(e,t,r,i){IR(t,r,a=>a?i(a):Ic(r,e,i))}function Ic(e,t,r){return zr.chmod(e,t,r)}function IR(e,t,r){zr.stat(e,(i,a)=>i?r(i):$R(t,a.atime,a.mtime,r))}function PR(e,t,r,i,a,s){return t?g_(r,i,a,s):NR(e.mode,r,i,a,s)}function NR(e,t,r,i,a){zr.mkdir(r,s=>{if(s)return a(s);g_(t,r,i,u=>u?a(u):Ic(r,e,a))})}function g_(e,t,r,i){zr.readdir(e,(a,s)=>a?i(a):v_(s,e,t,r,i))}function v_(e,t,r,i,a){const s=e.pop();return s?DR(e,s,t,r,i,a):a()}function DR(e,t,r,i,a,s){const u=ru.join(r,t),c=ru.join(i,t);nu.checkPaths(u,c,"copy",a,(f,m)=>{if(f)return s(f);const{destStat:h}=m;bR(h,u,c,a,d=>d?s(d):v_(e,r,i,a,s))})}function FR(e,t,r,i,a){zr.readlink(t,(s,u)=>{if(s)return a(s);if(i.dereference&&(u=ru.resolve(process.cwd(),u)),e)zr.readlink(r,(c,f)=>c?c.code==="EINVAL"||c.code==="UNKNOWN"?zr.symlink(u,r,a):a(c):(i.dereference&&(f=ru.resolve(process.cwd(),f)),nu.isSrcSubdir(u,f)?a(new Error(`Cannot copy '${u}' to a subdirectory of itself, '${f}'.`)):e.isDirectory()&&nu.isSrcSubdir(f,u)?a(new Error(`Cannot overwrite '${f}' with '${u}'.`)):xR(u,r,a)));else return zr.symlink(u,r,a)})}function xR(e,t,r){zr.unlink(t,i=>i?r(i):zr.symlink(e,t,r))}var LR=SR;const yr=Nr,iu=Oe.default,UR=ri.mkdirsSync,MR=f_.utimesMillisSync,au=ts;function kR(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:i,destStat:a}=au.checkPathsSync(e,t,"copy",r);return au.checkParentPathsSync(e,i,t,"copy"),jR(a,e,t,r)}function jR(e,t,r,i){if(i.filter&&!i.filter(t,r))return;const a=iu.dirname(r);return yr.existsSync(a)||UR(a),y_(e,t,r,i)}function BR(e,t,r,i){if(!(i.filter&&!i.filter(t,r)))return y_(e,t,r,i)}function y_(e,t,r,i){const s=(i.dereference?yr.statSync:yr.lstatSync)(t);if(s.isDirectory())return YR(s,e,t,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return qR(s,e,t,r,i);if(s.isSymbolicLink())return XR(e,t,r,i);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function qR(e,t,r,i,a){return t?HR(e,r,i,a):__(e,r,i,a)}function HR(e,t,r,i){if(i.overwrite)return yr.unlinkSync(r),__(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function __(e,t,r,i){return yr.copyFileSync(t,r),i.preserveTimestamps&&WR(e.mode,t,r),Wh(r,e.mode)}function WR(e,t,r){return GR(e)&&zR(r,e),VR(t,r)}function GR(e){return(e&128)===0}function zR(e,t){return Wh(e,t|128)}function Wh(e,t){return yr.chmodSync(e,t)}function VR(e,t){const r=yr.statSync(e);return MR(t,r.atime,r.mtime)}function YR(e,t,r,i,a){return t?w_(r,i,a):KR(e.mode,r,i,a)}function KR(e,t,r,i){return yr.mkdirSync(r),w_(t,r,i),Wh(r,e)}function w_(e,t,r){yr.readdirSync(e).forEach(i=>JR(i,e,t,r))}function JR(e,t,r,i){const a=iu.join(t,e),s=iu.join(r,e),{destStat:u}=au.checkPathsSync(a,s,"copy",i);return BR(u,a,s,i)}function XR(e,t,r,i){let a=yr.readlinkSync(t);if(i.dereference&&(a=iu.resolve(process.cwd(),a)),e){let s;try{s=yr.readlinkSync(r)}catch(u){if(u.code==="EINVAL"||u.code==="UNKNOWN")return yr.symlinkSync(a,r);throw u}if(i.dereference&&(s=iu.resolve(process.cwd(),s)),au.isSrcSubdir(a,s))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${s}'.`);if(yr.statSync(r).isDirectory()&&au.isSrcSubdir(s,a))throw new Error(`Cannot overwrite '${s}' with '${a}'.`);return QR(a,r)}else return yr.symlinkSync(a,r)}function QR(e,t){return yr.unlinkSync(t),yr.symlinkSync(e,t)}var ZR=kR;const eI=Pr.fromCallback;var Gh={copy:eI(LR),copySync:ZR};const U0=Nr,E_=Oe.default,gt=kh.default,ou=process.platform==="win32";function $_(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||U0[r],r=r+"Sync",e[r]=e[r]||U0[r]}),e.maxBusyTries=e.maxBusyTries||3}function zh(e,t,r){let i=0;typeof t=="function"&&(r=t,t={}),gt(e,"rimraf: missing path"),gt.strictEqual(typeof e,"string","rimraf: path should be a string"),gt.strictEqual(typeof r,"function","rimraf: callback function required"),gt(t,"rimraf: invalid options argument provided"),gt.strictEqual(typeof t,"object","rimraf: options should be object"),$_(t),M0(e,t,function a(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&i<t.maxBusyTries){i++;const u=i*100;return setTimeout(()=>M0(e,t,a),u)}s.code==="ENOENT"&&(s=null)}r(s)})}function M0(e,t,r){gt(e),gt(t),gt(typeof r=="function"),t.lstat(e,(i,a)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&ou)return k0(e,t,i,r);if(a&&a.isDirectory())return Ql(e,t,i,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return ou?k0(e,t,s,r):Ql(e,t,s,r);if(s.code==="EISDIR")return Ql(e,t,s,r)}return r(s)})})}function k0(e,t,r,i){gt(e),gt(t),gt(typeof i=="function"),t.chmod(e,438,a=>{a?i(a.code==="ENOENT"?null:r):t.stat(e,(s,u)=>{s?i(s.code==="ENOENT"?null:r):u.isDirectory()?Ql(e,t,r,i):t.unlink(e,i)})})}function j0(e,t,r){let i;gt(e),gt(t);try{t.chmodSync(e,438)}catch(a){if(a.code==="ENOENT")return;throw r}try{i=t.statSync(e)}catch(a){if(a.code==="ENOENT")return;throw r}i.isDirectory()?Zl(e,t,r):t.unlinkSync(e)}function Ql(e,t,r,i){gt(e),gt(t),gt(typeof i=="function"),t.rmdir(e,a=>{a&&(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")?tI(e,t,i):a&&a.code==="ENOTDIR"?i(r):i(a)})}function tI(e,t,r){gt(e),gt(t),gt(typeof r=="function"),t.readdir(e,(i,a)=>{if(i)return r(i);let s=a.length,u;if(s===0)return t.rmdir(e,r);a.forEach(c=>{zh(E_.join(e,c),t,f=>{if(!u){if(f)return r(u=f);--s===0&&t.rmdir(e,r)}})})})}function S_(e,t){let r;t=t||{},$_(t),gt(e,"rimraf: missing path"),gt.strictEqual(typeof e,"string","rimraf: path should be a string"),gt(t,"rimraf: missing options"),gt.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&ou&&j0(e,t,i)}try{r&&r.isDirectory()?Zl(e,t,null):t.unlinkSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return ou?j0(e,t,i):Zl(e,t,i);if(i.code!=="EISDIR")throw i;Zl(e,t,i)}}function Zl(e,t,r){gt(e),gt(t);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOTDIR")throw r;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")rI(e,t);else if(i.code!=="ENOENT")throw i}}function rI(e,t){if(gt(e),gt(t),t.readdirSync(e).forEach(r=>S_(E_.join(e,r),t)),ou){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var nI=zh;zh.sync=S_;const uc=Nr,iI=Pr.fromCallback,b_=nI;function aI(e,t){if(uc.rm)return uc.rm(e,{recursive:!0,force:!0},t);b_(e,t)}function oI(e){if(uc.rmSync)return uc.rmSync(e,{recursive:!0,force:!0});b_.sync(e)}var Pc={remove:iI(aI),removeSync:oI};const sI=Pr.fromPromise,A_=Ka,T_=Oe.default,O_=ri,C_=Pc,B0=sI(async function(t){let r;try{r=await A_.readdir(t)}catch{return O_.mkdirs(t)}return Promise.all(r.map(i=>C_.remove(T_.join(t,i))))});function q0(e){let t;try{t=A_.readdirSync(e)}catch{return O_.mkdirsSync(e)}t.forEach(r=>{r=T_.join(e,r),C_.removeSync(r)})}var uI={emptyDirSync:q0,emptydirSync:q0,emptyDir:B0,emptydir:B0};const lI=Pr.fromCallback,R_=Oe.default,Zi=Nr,I_=ri;function cI(e,t){function r(){Zi.writeFile(e,"",i=>{if(i)return t(i);t()})}Zi.stat(e,(i,a)=>{if(!i&&a.isFile())return t();const s=R_.dirname(e);Zi.stat(s,(u,c)=>{if(u)return u.code==="ENOENT"?I_.mkdirs(s,f=>{if(f)return t(f);r()}):t(u);c.isDirectory()?r():Zi.readdir(s,f=>{if(f)return t(f)})})})}function fI(e){let t;try{t=Zi.statSync(e)}catch{}if(t&&t.isFile())return;const r=R_.dirname(e);try{Zi.statSync(r).isDirectory()||Zi.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")I_.mkdirsSync(r);else throw i}Zi.writeFileSync(e,"")}var dI={createFile:lI(cI),createFileSync:fI};const hI=Pr.fromCallback,P_=Oe.default,Xi=Nr,N_=ri,pI=Ja.pathExists,{areIdentical:D_}=ts;function mI(e,t,r){function i(a,s){Xi.link(a,s,u=>{if(u)return r(u);r(null)})}Xi.lstat(t,(a,s)=>{Xi.lstat(e,(u,c)=>{if(u)return u.message=u.message.replace("lstat","ensureLink"),r(u);if(s&&D_(c,s))return r(null);const f=P_.dirname(t);pI(f,(m,h)=>{if(m)return r(m);if(h)return i(e,t);N_.mkdirs(f,d=>{if(d)return r(d);i(e,t)})})})})}function gI(e,t){let r;try{r=Xi.lstatSync(t)}catch{}try{const s=Xi.lstatSync(e);if(r&&D_(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const i=P_.dirname(t);return Xi.existsSync(i)||N_.mkdirsSync(i),Xi.linkSync(e,t)}var vI={createLink:hI(mI),createLinkSync:gI};const ea=Oe.default,zs=Nr,yI=Ja.pathExists;function _I(e,t,r){if(ea.isAbsolute(e))return zs.lstat(e,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),r(i)):r(null,{toCwd:e,toDst:e}));{const i=ea.dirname(t),a=ea.join(i,e);return yI(a,(s,u)=>s?r(s):u?r(null,{toCwd:a,toDst:e}):zs.lstat(e,c=>c?(c.message=c.message.replace("lstat","ensureSymlink"),r(c)):r(null,{toCwd:e,toDst:ea.relative(i,e)})))}}function wI(e,t){let r;if(ea.isAbsolute(e)){if(r=zs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const i=ea.dirname(t),a=ea.join(i,e);if(r=zs.existsSync(a),r)return{toCwd:a,toDst:e};if(r=zs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ea.relative(i,e)}}}var EI={symlinkPaths:_I,symlinkPathsSync:wI};const F_=Nr;function $I(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);F_.lstat(e,(i,a)=>{if(i)return r(null,"file");t=a&&a.isDirectory()?"dir":"file",r(null,t)})}function SI(e,t){let r;if(t)return t;try{r=F_.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var bI={symlinkType:$I,symlinkTypeSync:SI};const AI=Pr.fromCallback,x_=Oe.default,xn=Ka,L_=ri,TI=L_.mkdirs,OI=L_.mkdirsSync,U_=EI,CI=U_.symlinkPaths,RI=U_.symlinkPathsSync,M_=bI,II=M_.symlinkType,PI=M_.symlinkTypeSync,NI=Ja.pathExists,{areIdentical:k_}=ts;function DI(e,t,r,i){i=typeof r=="function"?r:i,r=typeof r=="function"?!1:r,xn.lstat(t,(a,s)=>{!a&&s.isSymbolicLink()?Promise.all([xn.stat(e),xn.stat(t)]).then(([u,c])=>{if(k_(u,c))return i(null);H0(e,t,r,i)}):H0(e,t,r,i)})}function H0(e,t,r,i){CI(e,t,(a,s)=>{if(a)return i(a);e=s.toDst,II(s.toCwd,r,(u,c)=>{if(u)return i(u);const f=x_.dirname(t);NI(f,(m,h)=>{if(m)return i(m);if(h)return xn.symlink(e,t,c,i);TI(f,d=>{if(d)return i(d);xn.symlink(e,t,c,i)})})})})}function FI(e,t,r){let i;try{i=xn.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){const c=xn.statSync(e),f=xn.statSync(t);if(k_(c,f))return}const a=RI(e,t);e=a.toDst,r=PI(a.toCwd,r);const s=x_.dirname(t);return xn.existsSync(s)||OI(s),xn.symlinkSync(e,t,r)}var xI={createSymlink:AI(DI),createSymlinkSync:FI};const{createFile:W0,createFileSync:G0}=dI,{createLink:z0,createLinkSync:V0}=vI,{createSymlink:Y0,createSymlinkSync:K0}=xI;var LI={createFile:W0,createFileSync:G0,ensureFile:W0,ensureFileSync:G0,createLink:z0,createLinkSync:V0,ensureLink:z0,ensureLinkSync:V0,createSymlink:Y0,createSymlinkSync:K0,ensureSymlink:Y0,ensureSymlinkSync:K0};function UI(e,{EOL:t=`
`,finalEOL:r=!0,replacer:i=null,spaces:a}={}){const s=r?t:"";return JSON.stringify(e,i,a).replace(/\n/g,t)+s}function MI(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Vh={stringify:UI,stripBom:MI};let Go;try{Go=Nr}catch{Go=ct.default}const Nc=Pr,{stringify:j_,stripBom:B_}=Vh;async function kI(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Go,i="throws"in t?t.throws:!0;let a=await Nc.fromCallback(r.readFile)(e,t);a=B_(a);let s;try{s=JSON.parse(a,t?t.reviver:null)}catch(u){if(i)throw u.message=`${e}: ${u.message}`,u;return null}return s}const jI=Nc.fromPromise(kI);function BI(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Go,i="throws"in t?t.throws:!0;try{let a=r.readFileSync(e,t);return a=B_(a),JSON.parse(a,t.reviver)}catch(a){if(i)throw a.message=`${e}: ${a.message}`,a;return null}}async function qI(e,t,r={}){const i=r.fs||Go,a=j_(t,r);await Nc.fromCallback(i.writeFile)(e,a,r)}const HI=Nc.fromPromise(qI);function WI(e,t,r={}){const i=r.fs||Go,a=j_(t,r);return i.writeFileSync(e,a,r)}const GI={readFile:jI,readFileSync:BI,writeFile:HI,writeFileSync:WI};var zI=GI;const Dl=zI;var VI={readJson:Dl.readFile,readJsonSync:Dl.readFileSync,writeJson:Dl.writeFile,writeJsonSync:Dl.writeFileSync};const YI=Pr.fromCallback,Vs=Nr,q_=Oe.default,H_=ri,KI=Ja.pathExists;function JI(e,t,r,i){typeof r=="function"&&(i=r,r="utf8");const a=q_.dirname(e);KI(a,(s,u)=>{if(s)return i(s);if(u)return Vs.writeFile(e,t,r,i);H_.mkdirs(a,c=>{if(c)return i(c);Vs.writeFile(e,t,r,i)})})}function XI(e,...t){const r=q_.dirname(e);if(Vs.existsSync(r))return Vs.writeFileSync(e,...t);H_.mkdirsSync(r),Vs.writeFileSync(e,...t)}var Yh={outputFile:YI(JI),outputFileSync:XI};const{stringify:QI}=Vh,{outputFile:ZI}=Yh;async function eP(e,t,r={}){const i=QI(t,r);await ZI(e,i,r)}var tP=eP;const{stringify:rP}=Vh,{outputFileSync:nP}=Yh;function iP(e,t,r){const i=rP(t,r);nP(e,i,r)}var aP=iP;const oP=Pr.fromPromise,Ir=VI;Ir.outputJson=oP(tP);Ir.outputJsonSync=aP;Ir.outputJSON=Ir.outputJson;Ir.outputJSONSync=Ir.outputJsonSync;Ir.writeJSON=Ir.writeJson;Ir.writeJSONSync=Ir.writeJsonSync;Ir.readJSON=Ir.readJson;Ir.readJSONSync=Ir.readJsonSync;var sP=Ir;const uP=Nr,sh=Oe.default,lP=Gh.copy,W_=Pc.remove,cP=ri.mkdirp,fP=Ja.pathExists,J0=ts;function dP(e,t,r,i){typeof r=="function"&&(i=r,r={}),r=r||{};const a=r.overwrite||r.clobber||!1;J0.checkPaths(e,t,"move",r,(s,u)=>{if(s)return i(s);const{srcStat:c,isChangingCase:f=!1}=u;J0.checkParentPaths(e,c,t,"move",m=>{if(m)return i(m);if(hP(t))return X0(e,t,a,f,i);cP(sh.dirname(t),h=>h?i(h):X0(e,t,a,f,i))})})}function hP(e){const t=sh.dirname(e);return sh.parse(t).root===t}function X0(e,t,r,i,a){if(i)return Ad(e,t,r,a);if(r)return W_(t,s=>s?a(s):Ad(e,t,r,a));fP(t,(s,u)=>s?a(s):u?a(new Error("dest already exists.")):Ad(e,t,r,a))}function Ad(e,t,r,i){uP.rename(e,t,a=>a?a.code!=="EXDEV"?i(a):pP(e,t,r,i):i())}function pP(e,t,r,i){lP(e,t,{overwrite:r,errorOnExist:!0},s=>s?i(s):W_(e,i))}var mP=dP;const G_=Nr,uh=Oe.default,gP=Gh.copySync,z_=Pc.removeSync,vP=ri.mkdirpSync,Q0=ts;function yP(e,t,r){r=r||{};const i=r.overwrite||r.clobber||!1,{srcStat:a,isChangingCase:s=!1}=Q0.checkPathsSync(e,t,"move",r);return Q0.checkParentPathsSync(e,a,t,"move"),_P(t)||vP(uh.dirname(t)),wP(e,t,i,s)}function _P(e){const t=uh.dirname(e);return uh.parse(t).root===t}function wP(e,t,r,i){if(i)return Td(e,t,r);if(r)return z_(t),Td(e,t,r);if(G_.existsSync(t))throw new Error("dest already exists.");return Td(e,t,r)}function Td(e,t,r){try{G_.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return EP(e,t,r)}}function EP(e,t,r){return gP(e,t,{overwrite:r,errorOnExist:!0}),z_(e)}var $P=yP;const SP=Pr.fromCallback;var bP={move:SP(mP),moveSync:$P},Xa={...Ka,...Gh,...uI,...LI,...sP,...ri,...bP,...Yh,...Ja,...Pc},dr={},Kh={},kn={};function V_(e){return typeof e>"u"||e===null}function AP(e){return typeof e=="object"&&e!==null}function TP(e){return Array.isArray(e)?e:V_(e)?[]:[e]}function OP(e,t){var r,i,a,s;if(t)for(s=Object.keys(t),r=0,i=s.length;r<i;r+=1)a=s[r],e[a]=t[a];return e}function CP(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function RP(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}kn.isNothing=V_;kn.isObject=AP;kn.toArray=TP;kn.repeat=CP;kn.isNegativeZero=RP;kn.extend=OP;function Y_(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function su(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Y_(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}su.prototype=Object.create(Error.prototype);su.prototype.constructor=su;su.prototype.toString=function(t){return this.name+": "+Y_(this,t)};var gu=su,Bs=kn;function Od(e,t,r,i,a){var s="",u="",c=Math.floor(a/2)-1;return i-t>c&&(s=" ... ",t=i-c+s.length),r-i>c&&(u=" ...",r=i+c-u.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+u,pos:i-t+s.length}}function Cd(e,t){return Bs.repeat(" ",t-e.length)+e}function IP(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],a=[],s,u=-1;s=r.exec(e.buffer);)a.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&u<0&&(u=i.length-2);u<0&&(u=i.length-1);var c="",f,m,h=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+h+3);for(f=1;f<=t.linesBefore&&!(u-f<0);f++)m=Od(e.buffer,i[u-f],a[u-f],e.position-(i[u]-i[u-f]),d),c=Bs.repeat(" ",t.indent)+Cd((e.line-f+1).toString(),h)+" | "+m.str+`
`+c;for(m=Od(e.buffer,i[u],a[u],e.position,d),c+=Bs.repeat(" ",t.indent)+Cd((e.line+1).toString(),h)+" | "+m.str+`
`,c+=Bs.repeat("-",t.indent+h+3+m.pos)+`^
`,f=1;f<=t.linesAfter&&!(u+f>=a.length);f++)m=Od(e.buffer,i[u+f],a[u+f],e.position-(i[u]-i[u+f]),d),c+=Bs.repeat(" ",t.indent)+Cd((e.line+f+1).toString(),h)+" | "+m.str+`
`;return c.replace(/\n$/,"")}var PP=IP,Jh={exports:{}},Z0=gu,NP=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],DP=["scalar","sequence","mapping"];function FP(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function xP(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(NP.indexOf(r)===-1)throw new Z0('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=FP(t.styleAliases||null),DP.indexOf(this.kind)===-1)throw new Z0('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Dr=xP,Ts=gu,Rd=Dr;function ev(e,t){var r=[];return e[t].forEach(function(i){var a=r.length;r.forEach(function(s,u){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(a=u)}),r[a]=i}),r}function LP(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function lh(e){return this.extend(e)}lh.prototype.extend=function(t){var r=[],i=[];if(t instanceof Rd)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Ts("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Rd))throw new Ts("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ts("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ts("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof Rd))throw new Ts("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(lh.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(i),a.compiledImplicit=ev(a,"implicit"),a.compiledExplicit=ev(a,"explicit"),a.compiledTypeMap=LP(a.compiledImplicit,a.compiledExplicit),a};var K_=lh,UP=Dr,J_=new UP("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),MP=Dr,X_=new MP("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),kP=Dr,Q_=new kP("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),jP=K_,Z_=new jP({explicit:[J_,X_,Q_]}),BP=Dr;function qP(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function HP(){return null}function WP(e){return e===null}var ew=new BP("tag:yaml.org,2002:null",{kind:"scalar",resolve:qP,construct:HP,predicate:WP,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),GP=Dr;function zP(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function VP(e){return e==="true"||e==="True"||e==="TRUE"}function YP(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var tw=new GP("tag:yaml.org,2002:bool",{kind:"scalar",resolve:zP,construct:VP,predicate:YP,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),KP=kn,JP=Dr;function XP(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function QP(e){return 48<=e&&e<=55}function ZP(e){return 48<=e&&e<=57}function eN(e){if(e===null)return!1;var t=e.length,r=0,i=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;i=!0}return i&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!XP(e.charCodeAt(r)))return!1;i=!0}return i&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!QP(e.charCodeAt(r)))return!1;i=!0}return i&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!ZP(e.charCodeAt(r)))return!1;i=!0}return!(!i||a==="_")}function tN(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function rN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!KP.isNegativeZero(e)}var rw=new JP("tag:yaml.org,2002:int",{kind:"scalar",resolve:eN,construct:tN,predicate:rN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),nw=kn,nN=Dr,iN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function aN(e){return!(e===null||!iN.test(e)||e[e.length-1]==="_")}function oN(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var sN=/^[-+]?[0-9]+e/;function uN(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(nw.isNegativeZero(e))return"-0.0";return r=e.toString(10),sN.test(r)?r.replace("e",".e"):r}function lN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||nw.isNegativeZero(e))}var iw=new nN("tag:yaml.org,2002:float",{kind:"scalar",resolve:aN,construct:oN,predicate:lN,represent:uN,defaultStyle:"lowercase"}),aw=Z_.extend({implicit:[ew,tw,rw,iw]});(function(e){e.exports=aw})(Jh);var cN=Dr,ow=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),sw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function fN(e){return e===null?!1:ow.exec(e)!==null||sw.exec(e)!==null}function dN(e){var t,r,i,a,s,u,c,f=0,m=null,h,d,g;if(t=ow.exec(e),t===null&&(t=sw.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,i,a));if(s=+t[4],u=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(h=+t[10],d=+(t[11]||0),m=(h*60+d)*6e4,t[9]==="-"&&(m=-m)),g=new Date(Date.UTC(r,i,a,s,u,c,f)),m&&g.setTime(g.getTime()-m),g}function hN(e){return e.toISOString()}var uw=new cN("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:fN,construct:dN,instanceOf:Date,represent:hN}),pN=Dr;function mN(e){return e==="<<"||e===null}var lw=new pN("tag:yaml.org,2002:merge",{kind:"scalar",resolve:mN}),gN=Dr,Xh=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vN(e){if(e===null)return!1;var t,r,i=0,a=e.length,s=Xh;for(r=0;r<a;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function yN(e){var t,r,i=e.replace(/[\r\n=]/g,""),a=i.length,s=Xh,u=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(u>>16&255),c.push(u>>8&255),c.push(u&255)),u=u<<6|s.indexOf(i.charAt(t));return r=a%4*6,r===0?(c.push(u>>16&255),c.push(u>>8&255),c.push(u&255)):r===18?(c.push(u>>10&255),c.push(u>>2&255)):r===12&&c.push(u>>4&255),new Uint8Array(c)}function _N(e){var t="",r=0,i,a,s=e.length,u=Xh;for(i=0;i<s;i++)i%3===0&&i&&(t+=u[r>>18&63],t+=u[r>>12&63],t+=u[r>>6&63],t+=u[r&63]),r=(r<<8)+e[i];return a=s%3,a===0?(t+=u[r>>18&63],t+=u[r>>12&63],t+=u[r>>6&63],t+=u[r&63]):a===2?(t+=u[r>>10&63],t+=u[r>>4&63],t+=u[r<<2&63],t+=u[64]):a===1&&(t+=u[r>>2&63],t+=u[r<<4&63],t+=u[64],t+=u[64]),t}function wN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var cw=new gN("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vN,construct:yN,predicate:wN,represent:_N}),EN=Dr,$N=Object.prototype.hasOwnProperty,SN=Object.prototype.toString;function bN(e){if(e===null)return!0;var t=[],r,i,a,s,u,c=e;for(r=0,i=c.length;r<i;r+=1){if(a=c[r],u=!1,SN.call(a)!=="[object Object]")return!1;for(s in a)if($N.call(a,s))if(!u)u=!0;else return!1;if(!u)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function AN(e){return e!==null?e:[]}var fw=new EN("tag:yaml.org,2002:omap",{kind:"sequence",resolve:bN,construct:AN}),TN=Dr,ON=Object.prototype.toString;function CN(e){if(e===null)return!0;var t,r,i,a,s,u=e;for(s=new Array(u.length),t=0,r=u.length;t<r;t+=1){if(i=u[t],ON.call(i)!=="[object Object]"||(a=Object.keys(i),a.length!==1))return!1;s[t]=[a[0],i[a[0]]]}return!0}function RN(e){if(e===null)return[];var t,r,i,a,s,u=e;for(s=new Array(u.length),t=0,r=u.length;t<r;t+=1)i=u[t],a=Object.keys(i),s[t]=[a[0],i[a[0]]];return s}var dw=new TN("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:CN,construct:RN}),IN=Dr,PN=Object.prototype.hasOwnProperty;function NN(e){if(e===null)return!0;var t,r=e;for(t in r)if(PN.call(r,t)&&r[t]!==null)return!1;return!0}function DN(e){return e!==null?e:{}}var hw=new IN("tag:yaml.org,2002:set",{kind:"mapping",resolve:NN,construct:DN}),Qh=Jh.exports.extend({implicit:[uw,lw],explicit:[cw,fw,dw,hw]}),Na=kn,pw=gu,FN=PP,xN=Qh,oa=Object.prototype.hasOwnProperty,lc=1,mw=2,gw=3,cc=4,Id=1,LN=2,tv=3,UN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,MN=/[\x85\u2028\u2029]/,kN=/[,\[\]\{\}]/,vw=/^(?:!|!!|![a-z\-]+!)$/i,yw=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function rv(e){return Object.prototype.toString.call(e)}function ei(e){return e===10||e===13}function ka(e){return e===9||e===32}function Vr(e){return e===9||e===32||e===10||e===13}function Do(e){return e===44||e===91||e===93||e===123||e===125}function jN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function BN(e){return e===120?2:e===117?4:e===85?8:0}function qN(e){return 48<=e&&e<=57?e-48:-1}function nv(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function HN(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var _w=new Array(256),ww=new Array(256);for(var $o=0;$o<256;$o++)_w[$o]=nv($o)?1:0,ww[$o]=nv($o);function WN(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||xN,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ew(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=FN(r),new pw(t,r)}function Te(e,t){throw Ew(e,t)}function fc(e,t){e.onWarning&&e.onWarning.call(null,Ew(e,t))}var iv={YAML:function(t,r,i){var a,s,u;t.version!==null&&Te(t,"duplication of %YAML directive"),i.length!==1&&Te(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),a===null&&Te(t,"ill-formed argument of the YAML directive"),s=parseInt(a[1],10),u=parseInt(a[2],10),s!==1&&Te(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=u<2,u!==1&&u!==2&&fc(t,"unsupported YAML version of the document")},TAG:function(t,r,i){var a,s;i.length!==2&&Te(t,"TAG directive accepts exactly two arguments"),a=i[0],s=i[1],vw.test(a)||Te(t,"ill-formed tag handle (first argument) of the TAG directive"),oa.call(t.tagMap,a)&&Te(t,'there is a previously declared suffix for "'+a+'" tag handle'),yw.test(s)||Te(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Te(t,"tag prefix is malformed: "+s)}t.tagMap[a]=s}};function ia(e,t,r,i){var a,s,u,c;if(t<r){if(c=e.input.slice(t,r),i)for(a=0,s=c.length;a<s;a+=1)u=c.charCodeAt(a),u===9||32<=u&&u<=1114111||Te(e,"expected valid JSON character");else UN.test(c)&&Te(e,"the stream contains non-printable characters");e.result+=c}}function av(e,t,r,i){var a,s,u,c;for(Na.isObject(r)||Te(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),u=0,c=a.length;u<c;u+=1)s=a[u],oa.call(t,s)||(t[s]=r[s],i[s]=!0)}function Fo(e,t,r,i,a,s,u,c,f){var m,h;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),m=0,h=a.length;m<h;m+=1)Array.isArray(a[m])&&Te(e,"nested arrays are not supported inside keys"),typeof a=="object"&&rv(a[m])==="[object Object]"&&(a[m]="[object Object]");if(typeof a=="object"&&rv(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(m=0,h=s.length;m<h;m+=1)av(e,t,s[m],r);else av(e,t,s,r);else!e.json&&!oa.call(r,a)&&oa.call(t,a)&&(e.line=u||e.line,e.lineStart=c||e.lineStart,e.position=f||e.position,Te(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[a]=s,delete r[a];return t}function Zh(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Te(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Gt(e,t,r){for(var i=0,a=e.input.charCodeAt(e.position);a!==0;){for(;ka(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(ei(a))for(Zh(e),a=e.input.charCodeAt(e.position),i++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&fc(e,"deficient indentation"),i}function Dc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Vr(r)))}function ep(e,t){t===1?e.result+=" ":t>1&&(e.result+=Na.repeat(`
`,t-1))}function GN(e,t,r){var i,a,s,u,c,f,m,h,d=e.kind,g=e.result,v;if(v=e.input.charCodeAt(e.position),Vr(v)||Do(v)||v===35||v===38||v===42||v===33||v===124||v===62||v===39||v===34||v===37||v===64||v===96||(v===63||v===45)&&(a=e.input.charCodeAt(e.position+1),Vr(a)||r&&Do(a)))return!1;for(e.kind="scalar",e.result="",s=u=e.position,c=!1;v!==0;){if(v===58){if(a=e.input.charCodeAt(e.position+1),Vr(a)||r&&Do(a))break}else if(v===35){if(i=e.input.charCodeAt(e.position-1),Vr(i))break}else{if(e.position===e.lineStart&&Dc(e)||r&&Do(v))break;if(ei(v))if(f=e.line,m=e.lineStart,h=e.lineIndent,Gt(e,!1,-1),e.lineIndent>=t){c=!0,v=e.input.charCodeAt(e.position);continue}else{e.position=u,e.line=f,e.lineStart=m,e.lineIndent=h;break}}c&&(ia(e,s,u,!1),ep(e,e.line-f),s=u=e.position,c=!1),ka(v)||(u=e.position+1),v=e.input.charCodeAt(++e.position)}return ia(e,s,u,!1),e.result?!0:(e.kind=d,e.result=g,!1)}function zN(e,t){var r,i,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ia(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,a=e.position;else return!0;else ei(r)?(ia(e,i,a,!0),ep(e,Gt(e,!1,t)),i=a=e.position):e.position===e.lineStart&&Dc(e)?Te(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);Te(e,"unexpected end of the stream within a single quoted scalar")}function VN(e,t){var r,i,a,s,u,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return ia(e,r,e.position,!0),e.position++,!0;if(c===92){if(ia(e,r,e.position,!0),c=e.input.charCodeAt(++e.position),ei(c))Gt(e,!1,t);else if(c<256&&_w[c])e.result+=ww[c],e.position++;else if((u=BN(c))>0){for(a=u,s=0;a>0;a--)c=e.input.charCodeAt(++e.position),(u=jN(c))>=0?s=(s<<4)+u:Te(e,"expected hexadecimal character");e.result+=HN(s),e.position++}else Te(e,"unknown escape sequence");r=i=e.position}else ei(c)?(ia(e,r,i,!0),ep(e,Gt(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Dc(e)?Te(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Te(e,"unexpected end of the stream within a double quoted scalar")}function YN(e,t){var r=!0,i,a,s,u=e.tag,c,f=e.anchor,m,h,d,g,v,b=Object.create(null),R,T,$,_;if(_=e.input.charCodeAt(e.position),_===91)h=93,v=!1,c=[];else if(_===123)h=125,v=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),_=e.input.charCodeAt(++e.position);_!==0;){if(Gt(e,!0,t),_=e.input.charCodeAt(e.position),_===h)return e.position++,e.tag=u,e.anchor=f,e.kind=v?"mapping":"sequence",e.result=c,!0;r?_===44&&Te(e,"expected the node content, but found ','"):Te(e,"missed comma between flow collection entries"),T=R=$=null,d=g=!1,_===63&&(m=e.input.charCodeAt(e.position+1),Vr(m)&&(d=g=!0,e.position++,Gt(e,!0,t))),i=e.line,a=e.lineStart,s=e.position,zo(e,t,lc,!1,!0),T=e.tag,R=e.result,Gt(e,!0,t),_=e.input.charCodeAt(e.position),(g||e.line===i)&&_===58&&(d=!0,_=e.input.charCodeAt(++e.position),Gt(e,!0,t),zo(e,t,lc,!1,!0),$=e.result),v?Fo(e,c,b,T,R,$,i,a,s):d?c.push(Fo(e,null,b,T,R,$,i,a,s)):c.push(R),Gt(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}Te(e,"unexpected end of the stream within a flow collection")}function KN(e,t){var r,i,a=Id,s=!1,u=!1,c=t,f=0,m=!1,h,d;if(d=e.input.charCodeAt(e.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Id===a?a=d===43?tv:LN:Te(e,"repeat of a chomping mode identifier");else if((h=qN(d))>=0)h===0?Te(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?Te(e,"repeat of an indentation width identifier"):(c=t+h-1,u=!0);else break;if(ka(d)){do d=e.input.charCodeAt(++e.position);while(ka(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!ei(d)&&d!==0)}for(;d!==0;){for(Zh(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!u||e.lineIndent<c)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>c&&(c=e.lineIndent),ei(d)){f++;continue}if(e.lineIndent<c){a===tv?e.result+=Na.repeat(`
`,s?1+f:f):a===Id&&s&&(e.result+=`
`);break}for(i?ka(d)?(m=!0,e.result+=Na.repeat(`
`,s?1+f:f)):m?(m=!1,e.result+=Na.repeat(`
`,f+1)):f===0?s&&(e.result+=" "):e.result+=Na.repeat(`
`,f):e.result+=Na.repeat(`
`,s?1+f:f),s=!0,u=!0,f=0,r=e.position;!ei(d)&&d!==0;)d=e.input.charCodeAt(++e.position);ia(e,r,e.position,!1)}return!0}function ov(e,t){var r,i=e.tag,a=e.anchor,s=[],u,c=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),!(f!==45||(u=e.input.charCodeAt(e.position+1),!Vr(u))));){if(c=!0,e.position++,Gt(e,!0,-1)&&e.lineIndent<=t){s.push(null),f=e.input.charCodeAt(e.position);continue}if(r=e.line,zo(e,t,gw,!1,!0),s.push(e.result),Gt(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&f!==0)Te(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=i,e.anchor=a,e.kind="sequence",e.result=s,!0):!1}function JN(e,t,r){var i,a,s,u,c,f,m=e.tag,h=e.anchor,d={},g=Object.create(null),v=null,b=null,R=null,T=!1,$=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),_=e.input.charCodeAt(e.position);_!==0;){if(!T&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(_===63||_===58)&&Vr(i))_===63?(T&&(Fo(e,d,g,v,b,null,u,c,f),v=b=R=null),$=!0,T=!0,a=!0):T?(T=!1,a=!0):Te(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=i;else{if(u=e.line,c=e.lineStart,f=e.position,!zo(e,r,mw,!1,!0))break;if(e.line===s){for(_=e.input.charCodeAt(e.position);ka(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),Vr(_)||Te(e,"a whitespace character is expected after the key-value separator within a block mapping"),T&&(Fo(e,d,g,v,b,null,u,c,f),v=b=R=null),$=!0,T=!1,a=!1,v=e.tag,b=e.result;else if($)Te(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=m,e.anchor=h,!0}else if($)Te(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=m,e.anchor=h,!0}if((e.line===s||e.lineIndent>t)&&(T&&(u=e.line,c=e.lineStart,f=e.position),zo(e,t,cc,!0,a)&&(T?b=e.result:R=e.result),T||(Fo(e,d,g,v,b,R,u,c,f),v=b=R=null),Gt(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&_!==0)Te(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return T&&Fo(e,d,g,v,b,null,u,c,f),$&&(e.tag=m,e.anchor=h,e.kind="mapping",e.result=d),$}function XN(e){var t,r=!1,i=!1,a,s,u;if(u=e.input.charCodeAt(e.position),u!==33)return!1;if(e.tag!==null&&Te(e,"duplication of a tag property"),u=e.input.charCodeAt(++e.position),u===60?(r=!0,u=e.input.charCodeAt(++e.position)):u===33?(i=!0,a="!!",u=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do u=e.input.charCodeAt(++e.position);while(u!==0&&u!==62);e.position<e.length?(s=e.input.slice(t,e.position),u=e.input.charCodeAt(++e.position)):Te(e,"unexpected end of the stream within a verbatim tag")}else{for(;u!==0&&!Vr(u);)u===33&&(i?Te(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),vw.test(a)||Te(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),u=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),kN.test(s)&&Te(e,"tag suffix cannot contain flow indicator characters")}s&&!yw.test(s)&&Te(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Te(e,"tag name is malformed: "+s)}return r?e.tag=s:oa.call(e.tagMap,a)?e.tag=e.tagMap[a]+s:a==="!"?e.tag="!"+s:a==="!!"?e.tag="tag:yaml.org,2002:"+s:Te(e,'undeclared tag handle "'+a+'"'),!0}function QN(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Te(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Vr(r)&&!Do(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Te(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ZN(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Vr(i)&&!Do(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Te(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),oa.call(e.anchorMap,r)||Te(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Gt(e,!0,-1),!0}function zo(e,t,r,i,a){var s,u,c,f=1,m=!1,h=!1,d,g,v,b,R,T;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=u=c=cc===r||gw===r,i&&Gt(e,!0,-1)&&(m=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;XN(e)||QN(e);)Gt(e,!0,-1)?(m=!0,c=s,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):c=!1;if(c&&(c=m||a),(f===1||cc===r)&&(lc===r||mw===r?R=t:R=t+1,T=e.position-e.lineStart,f===1?c&&(ov(e,T)||JN(e,T,R))||YN(e,R)?h=!0:(u&&KN(e,R)||zN(e,R)||VN(e,R)?h=!0:ZN(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&Te(e,"alias node should not have any properties")):GN(e,R,lc===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(h=c&&ov(e,T))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Te(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,g=e.implicitTypes.length;d<g;d+=1)if(b=e.implicitTypes[d],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(oa.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,v=e.typeMap.multi[e.kind||"fallback"],d=0,g=v.length;d<g;d+=1)if(e.tag.slice(0,v[d].tag.length)===v[d].tag){b=v[d];break}b||Te(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&Te(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Te(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function eD(e){var t=e.position,r,i,a,s=!1,u;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(u=e.input.charCodeAt(e.position))!==0&&(Gt(e,!0,-1),u=e.input.charCodeAt(e.position),!(e.lineIndent>0||u!==37));){for(s=!0,u=e.input.charCodeAt(++e.position),r=e.position;u!==0&&!Vr(u);)u=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),a=[],i.length<1&&Te(e,"directive name must not be less than one character in length");u!==0;){for(;ka(u);)u=e.input.charCodeAt(++e.position);if(u===35){do u=e.input.charCodeAt(++e.position);while(u!==0&&!ei(u));break}if(ei(u))break;for(r=e.position;u!==0&&!Vr(u);)u=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}u!==0&&Zh(e),oa.call(iv,i)?iv[i](e,i,a):fc(e,'unknown document directive "'+i+'"')}if(Gt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Gt(e,!0,-1)):s&&Te(e,"directives end mark is expected"),zo(e,e.lineIndent-1,cc,!1,!0),Gt(e,!0,-1),e.checkLineBreaks&&MN.test(e.input.slice(t,e.position))&&fc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Dc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Gt(e,!0,-1));return}if(e.position<e.length-1)Te(e,"end of the stream or a document separator is expected");else return}function $w(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new WN(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,Te(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)eD(r);return r.documents}function tD(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=$w(e,r);if(typeof t!="function")return i;for(var a=0,s=i.length;a<s;a+=1)t(i[a])}function rD(e,t){var r=$w(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new pw("expected a single document in the stream, but found more")}}Kh.loadAll=tD;Kh.load=rD;var Sw={},Fc=kn,vu=gu,nD=Qh,bw=Object.prototype.toString,Aw=Object.prototype.hasOwnProperty,tp=65279,iD=9,uu=10,aD=13,oD=32,sD=33,uD=34,ch=35,lD=37,cD=38,fD=39,dD=42,Tw=44,hD=45,dc=58,pD=61,mD=62,gD=63,vD=64,Ow=91,Cw=93,yD=96,Rw=123,_D=124,Iw=125,wr={};wr[0]="\\0";wr[7]="\\a";wr[8]="\\b";wr[9]="\\t";wr[10]="\\n";wr[11]="\\v";wr[12]="\\f";wr[13]="\\r";wr[27]="\\e";wr[34]='\\"';wr[92]="\\\\";wr[133]="\\N";wr[160]="\\_";wr[8232]="\\L";wr[8233]="\\P";var wD=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ED=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function $D(e,t){var r,i,a,s,u,c,f;if(t===null)return{};for(r={},i=Object.keys(t),a=0,s=i.length;a<s;a+=1)u=i[a],c=String(t[u]),u.slice(0,2)==="!!"&&(u="tag:yaml.org,2002:"+u.slice(2)),f=e.compiledTypeMap.fallback[u],f&&Aw.call(f.styleAliases,c)&&(c=f.styleAliases[c]),r[u]=c;return r}function SD(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new vu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Fc.repeat("0",i-t.length)+t}var bD=1,lu=2;function AD(e){this.schema=e.schema||nD,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Fc.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=$D(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?lu:bD,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function sv(e,t){for(var r=Fc.repeat(" ",t),i=0,a=-1,s="",u,c=e.length;i<c;)a=e.indexOf(`
`,i),a===-1?(u=e.slice(i),i=c):(u=e.slice(i,a+1),i=a+1),u.length&&u!==`
`&&(s+=r),s+=u;return s}function fh(e,t){return`
`+Fc.repeat(" ",e.indent*t)}function TD(e,t){var r,i,a;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}function hc(e){return e===oD||e===iD}function cu(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==tp||65536<=e&&e<=1114111}function uv(e){return cu(e)&&e!==tp&&e!==aD&&e!==uu}function lv(e,t,r){var i=uv(e),a=i&&!hc(e);return(r?i:i&&e!==Tw&&e!==Ow&&e!==Cw&&e!==Rw&&e!==Iw)&&e!==ch&&!(t===dc&&!a)||uv(t)&&!hc(t)&&e===ch||t===dc&&a}function OD(e){return cu(e)&&e!==tp&&!hc(e)&&e!==hD&&e!==gD&&e!==dc&&e!==Tw&&e!==Ow&&e!==Cw&&e!==Rw&&e!==Iw&&e!==ch&&e!==cD&&e!==dD&&e!==sD&&e!==_D&&e!==pD&&e!==mD&&e!==fD&&e!==uD&&e!==lD&&e!==vD&&e!==yD}function CD(e){return!hc(e)&&e!==dc}function qs(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Pw(e){var t=/^\n* /;return t.test(e)}var Nw=1,dh=2,Dw=3,Fw=4,Ro=5;function RD(e,t,r,i,a,s,u,c){var f,m=0,h=null,d=!1,g=!1,v=i!==-1,b=-1,R=OD(qs(e,0))&&CD(qs(e,e.length-1));if(t||u)for(f=0;f<e.length;m>=65536?f+=2:f++){if(m=qs(e,f),!cu(m))return Ro;R=R&&lv(m,h,c),h=m}else{for(f=0;f<e.length;m>=65536?f+=2:f++){if(m=qs(e,f),m===uu)d=!0,v&&(g=g||f-b-1>i&&e[b+1]!==" ",b=f);else if(!cu(m))return Ro;R=R&&lv(m,h,c),h=m}g=g||v&&f-b-1>i&&e[b+1]!==" "}return!d&&!g?R&&!u&&!a(e)?Nw:s===lu?Ro:dh:r>9&&Pw(e)?Ro:u?s===lu?Ro:dh:g?Fw:Dw}function ID(e,t,r,i,a){e.dump=function(){if(t.length===0)return e.quotingType===lu?'""':"''";if(!e.noCompatMode&&(wD.indexOf(t)!==-1||ED.test(t)))return e.quotingType===lu?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),u=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),c=i||e.flowLevel>-1&&r>=e.flowLevel;function f(m){return TD(e,m)}switch(RD(t,c,e.indent,u,f,e.quotingType,e.forceQuotes&&!i,a)){case Nw:return t;case dh:return"'"+t.replace(/'/g,"''")+"'";case Dw:return"|"+cv(t,e.indent)+fv(sv(t,s));case Fw:return">"+cv(t,e.indent)+fv(sv(PD(t,u),s));case Ro:return'"'+ND(t)+'"';default:throw new vu("impossible error: invalid scalar style")}}()}function cv(e,t){var r=Pw(e)?String(t):"",i=e[e.length-1]===`
`,a=i&&(e[e.length-2]===`
`||e===`
`),s=a?"+":i?"":"-";return r+s+`
`}function fv(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function PD(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var m=e.indexOf(`
`);return m=m!==-1?m:e.length,r.lastIndex=m,dv(e.slice(0,m),t)}(),a=e[0]===`
`||e[0]===" ",s,u;u=r.exec(e);){var c=u[1],f=u[2];s=f[0]===" ",i+=c+(!a&&!s&&f!==""?`
`:"")+dv(f,t),a=s}return i}function dv(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,a=0,s,u=0,c=0,f="";i=r.exec(e);)c=i.index,c-a>t&&(s=u>a?u:c,f+=`
`+e.slice(a,s),a=s+1),u=c;return f+=`
`,e.length-a>t&&u>a?f+=e.slice(a,u)+`
`+e.slice(u+1):f+=e.slice(a),f.slice(1)}function ND(e){for(var t="",r=0,i,a=0;a<e.length;r>=65536?a+=2:a++)r=qs(e,a),i=wr[r],!i&&cu(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=i||SD(r);return t}function DD(e,t,r){var i="",a=e.tag,s,u,c;for(s=0,u=r.length;s<u;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(Ii(e,t,c,!1,!1)||typeof c>"u"&&Ii(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}function hv(e,t,r,i){var a="",s=e.tag,u,c,f;for(u=0,c=r.length;u<c;u+=1)f=r[u],e.replacer&&(f=e.replacer.call(r,String(u),f)),(Ii(e,t+1,f,!0,!0,!1,!0)||typeof f>"u"&&Ii(e,t+1,null,!0,!0,!1,!0))&&((!i||a!=="")&&(a+=fh(e,t)),e.dump&&uu===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}function FD(e,t,r){var i="",a=e.tag,s=Object.keys(r),u,c,f,m,h;for(u=0,c=s.length;u<c;u+=1)h="",i!==""&&(h+=", "),e.condenseFlow&&(h+='"'),f=s[u],m=r[f],e.replacer&&(m=e.replacer.call(r,f,m)),Ii(e,t,f,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ii(e,t,m,!1,!1)&&(h+=e.dump,i+=h));e.tag=a,e.dump="{"+i+"}"}function xD(e,t,r,i){var a="",s=e.tag,u=Object.keys(r),c,f,m,h,d,g;if(e.sortKeys===!0)u.sort();else if(typeof e.sortKeys=="function")u.sort(e.sortKeys);else if(e.sortKeys)throw new vu("sortKeys must be a boolean or a function");for(c=0,f=u.length;c<f;c+=1)g="",(!i||a!=="")&&(g+=fh(e,t)),m=u[c],h=r[m],e.replacer&&(h=e.replacer.call(r,m,h)),Ii(e,t+1,m,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&uu===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,d&&(g+=fh(e,t)),Ii(e,t+1,h,!0,d)&&(e.dump&&uu===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,a+=g));e.tag=s,e.dump=a||"{}"}function pv(e,t,r){var i,a,s,u,c,f;for(a=r?e.explicitTypes:e.implicitTypes,s=0,u=a.length;s<u;s+=1)if(c=a[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(r?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(f=e.styleMap[c.tag]||c.defaultStyle,bw.call(c.represent)==="[object Function]")i=c.represent(t,f);else if(Aw.call(c.represent,f))i=c.represent[f](t,f);else throw new vu("!<"+c.tag+'> tag resolver accepts not "'+f+'" style');e.dump=i}return!0}return!1}function Ii(e,t,r,i,a,s,u){e.tag=null,e.dump=r,pv(e,r,!1)||pv(e,r,!0);var c=bw.call(e.dump),f=i,m;i&&(i=e.flowLevel<0||e.flowLevel>t);var h=c==="[object Object]"||c==="[object Array]",d,g;if(h&&(d=e.duplicates.indexOf(r),g=d!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(a=!1),g&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(h&&g&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(xD(e,t,e.dump,a),g&&(e.dump="&ref_"+d+e.dump)):(FD(e,t,e.dump),g&&(e.dump="&ref_"+d+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!u&&t>0?hv(e,t-1,e.dump,a):hv(e,t,e.dump,a),g&&(e.dump="&ref_"+d+e.dump)):(DD(e,t,e.dump),g&&(e.dump="&ref_"+d+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&ID(e,e.dump,t,s,f);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new vu("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(m=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?m="!"+m:m.slice(0,18)==="tag:yaml.org,2002:"?m="!!"+m.slice(18):m="!<"+m+">",e.dump=m+" "+e.dump)}return!0}function LD(e,t){var r=[],i=[],a,s;for(hh(e,r,i),a=0,s=i.length;a<s;a+=1)t.duplicates.push(r[i[a]]);t.usedDuplicates=new Array(s)}function hh(e,t,r){var i,a,s;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,s=e.length;a<s;a+=1)hh(e[a],t,r);else for(i=Object.keys(e),a=0,s=i.length;a<s;a+=1)hh(e[i[a]],t,r)}function UD(e,t){t=t||{};var r=new AD(t);r.noRefs||LD(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Ii(r,0,i,!0,!0)?r.dump+`
`:""}Sw.dump=UD;var xw=Kh,MD=Sw;function rp(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}dr.Type=Dr;dr.Schema=K_;dr.FAILSAFE_SCHEMA=Z_;dr.JSON_SCHEMA=aw;dr.CORE_SCHEMA=Jh.exports;dr.DEFAULT_SCHEMA=Qh;dr.load=xw.load;dr.loadAll=xw.loadAll;dr.dump=MD.dump;dr.YAMLException=gu;dr.types={binary:cw,float:iw,map:Q_,null:ew,pairs:dw,set:hw,timestamp:uw,bool:tw,int:rw,merge:lw,omap:fw,seq:X_,str:J_};dr.safeLoad=rp("safeLoad","load");dr.safeLoadAll=rp("safeLoadAll","loadAll");dr.safeDump=rp("safeDump","dump");var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.Lazy=void 0;class kD{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}xc.Lazy=kD;var qa={exports:{}};const jD="2.0.0",BD=256,qD=Number.MAX_SAFE_INTEGER||9007199254740991,HD=16,WD=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var yu={MAX_LENGTH:BD,MAX_SAFE_COMPONENT_LENGTH:HD,MAX_SAFE_INTEGER:qD,RELEASE_TYPES:WD,SEMVER_SPEC_VERSION:jD,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const GD=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Lc=GD;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=yu,i=Lc;t=e.exports={};const a=t.re=[],s=t.src=[],u=t.t={};let c=0;const f=(m,h,d)=>{const g=c++;i(m,g,h),u[m]=g,s[g]=h,a[g]=new RegExp(h,d?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","[0-9]+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION",`(${s[u.NUMERICIDENTIFIER]})\\.(${s[u.NUMERICIDENTIFIER]})\\.(${s[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${s[u.NUMERICIDENTIFIERLOOSE]})\\.(${s[u.NUMERICIDENTIFIERLOOSE]})\\.(${s[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${s[u.NUMERICIDENTIFIER]}|${s[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${s[u.NUMERICIDENTIFIERLOOSE]}|${s[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${s[u.PRERELEASEIDENTIFIER]}(?:\\.${s[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${s[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER","[0-9A-Za-z-]+"),f("BUILD",`(?:\\+(${s[u.BUILDIDENTIFIER]}(?:\\.${s[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${s[u.MAINVERSION]}${s[u.PRERELEASE]}?${s[u.BUILD]}?`),f("FULL",`^${s[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${s[u.MAINVERSIONLOOSE]}${s[u.PRERELEASELOOSE]}?${s[u.BUILD]}?`),f("LOOSE",`^${s[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${s[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${s[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${s[u.XRANGEIDENTIFIER]})(?:\\.(${s[u.XRANGEIDENTIFIER]})(?:\\.(${s[u.XRANGEIDENTIFIER]})(?:${s[u.PRERELEASE]})?${s[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${s[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[u.XRANGEIDENTIFIERLOOSE]})(?:${s[u.PRERELEASELOOSE]})?${s[u.BUILD]}?)?)?`),f("XRANGE",`^${s[u.GTLT]}\\s*${s[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${s[u.GTLT]}\\s*${s[u.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),f("COERCERTL",s[u.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${s[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${s[u.LONETILDE]}${s[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${s[u.LONETILDE]}${s[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${s[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${s[u.LONECARET]}${s[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${s[u.LONECARET]}${s[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${s[u.GTLT]}\\s*(${s[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${s[u.GTLT]}\\s*(${s[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${s[u.GTLT]}\\s*(${s[u.LOOSEPLAIN]}|${s[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${s[u.XRANGEPLAIN]})\\s+-\\s+(${s[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${s[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qa,qa.exports);const zD=Object.freeze({loose:!0}),VD=Object.freeze({}),YD=e=>e?typeof e!="object"?zD:e:VD;var np=YD;const mv=/^[0-9]+$/,Lw=(e,t)=>{const r=mv.test(e),i=mv.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1},KD=(e,t)=>Lw(t,e);var Uw={compareIdentifiers:Lw,rcompareIdentifiers:KD};const Fl=Lc,{MAX_LENGTH:gv,MAX_SAFE_INTEGER:xl}=yu,{re:vv,t:yv}=qa.exports,JD=np,{compareIdentifiers:So}=Uw;class Dn{constructor(t,r){if(r=JD(r),t instanceof Dn){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>gv)throw new TypeError(`version is longer than ${gv} characters`);Fl("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const i=t.trim().match(r.loose?vv[yv.LOOSE]:vv[yv.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>xl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xl||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const s=+a;if(s>=0&&s<xl)return s}return a}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Fl("SemVer.compare",this.version,this.options,t),!(t instanceof Dn)){if(typeof t=="string"&&t===this.version)return 0;t=new Dn(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Dn||(t=new Dn(t,this.options)),So(this.major,t.major)||So(this.minor,t.minor)||So(this.patch,t.patch)}comparePre(t){if(t instanceof Dn||(t=new Dn(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const i=this.prerelease[r],a=t.prerelease[r];if(Fl("prerelease compare",r,i,a),i===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(i===void 0)return-1;if(i===a)continue;return So(i,a)}while(++r)}compareBuild(t){t instanceof Dn||(t=new Dn(t,this.options));let r=0;do{const i=this.build[r],a=t.build[r];if(Fl("prerelease compare",r,i,a),i===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(i===void 0)return-1;if(i===a)continue;return So(i,a)}while(++r)}inc(t,r,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,i),this.inc("pre",r,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,i),this.inc("pre",r,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);a===-1&&this.prerelease.push(0)}if(r){const a=Number(i)?1:0;So(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,a]):this.prerelease=[r,a]}break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var Fr=Dn;const{MAX_LENGTH:XD}=yu,_v=Fr,QD=(e,t)=>{if(e instanceof _v)return e;if(typeof e!="string"||e.length>XD)return null;try{return new _v(e,t)}catch{return null}};var rs=QD;const ZD=rs,eF=(e,t)=>{const r=ZD(e,t);return r?r.version:null};var tF=eF;const rF=rs,nF=(e,t)=>{const r=rF(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var iF=nF;const wv=Fr,aF=(e,t,r,i,a)=>{typeof r=="string"&&(a=i,i=r,r=void 0);try{return new wv(e instanceof wv?e.version:e,r).inc(t,i,a).version}catch{return null}};var oF=aF;const Ev=Fr,sF=(e,t,r)=>new Ev(e,r).compare(new Ev(t,r));var jn=sF;const uF=jn,lF=(e,t,r)=>uF(e,t,r)===0;var ip=lF;const $v=rs,cF=ip,fF=(e,t)=>{const r=$v(e),i=$v(t);if(cF(r,i))return null;{const a=r.prerelease.length||i.prerelease.length,s=a?"pre":"",u=a?"prerelease":"";if(r.major!==i.major)return s+"major";if(r.minor!==i.minor)return s+"minor";if(r.patch!==i.patch)return s+"patch";if(!r.prerelease.length||!i.prerelease.length){if(r.patch)return"patch";if(r.minor)return"minor";if(r.major)return"major"}return u}};var dF=fF;const hF=Fr,pF=(e,t)=>new hF(e,t).major;var mF=pF;const gF=Fr,vF=(e,t)=>new gF(e,t).minor;var yF=vF;const _F=Fr,wF=(e,t)=>new _F(e,t).patch;var EF=wF;const $F=rs,SF=(e,t)=>{const r=$F(e,t);return r&&r.prerelease.length?r.prerelease:null};var bF=SF;const AF=jn,TF=(e,t,r)=>AF(t,e,r);var OF=TF;const CF=jn,RF=(e,t)=>CF(e,t,!0);var IF=RF;const Sv=Fr,PF=(e,t,r)=>{const i=new Sv(e,r),a=new Sv(t,r);return i.compare(a)||i.compareBuild(a)};var ap=PF;const NF=ap,DF=(e,t)=>e.sort((r,i)=>NF(r,i,t));var FF=DF;const xF=ap,LF=(e,t)=>e.sort((r,i)=>xF(i,r,t));var UF=LF;const MF=jn,kF=(e,t,r)=>MF(e,t,r)>0;var Uc=kF;const jF=jn,BF=(e,t,r)=>jF(e,t,r)<0;var op=BF;const qF=jn,HF=(e,t,r)=>qF(e,t,r)!==0;var Mw=HF;const WF=jn,GF=(e,t,r)=>WF(e,t,r)>=0;var sp=GF;const zF=jn,VF=(e,t,r)=>zF(e,t,r)<=0;var up=VF;const YF=ip,KF=Mw,JF=Uc,XF=sp,QF=op,ZF=up,ex=(e,t,r,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return YF(e,r,i);case"!=":return KF(e,r,i);case">":return JF(e,r,i);case">=":return XF(e,r,i);case"<":return QF(e,r,i);case"<=":return ZF(e,r,i);default:throw new TypeError(`Invalid operator: ${t}`)}};var kw=ex;const tx=Fr,rx=rs,{re:Ll,t:Ul}=qa.exports,nx=(e,t)=>{if(e instanceof tx)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Ll[Ul.COERCE]);else{let i;for(;(i=Ll[Ul.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||i.index+i[0].length!==r.index+r[0].length)&&(r=i),Ll[Ul.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;Ll[Ul.COERCERTL].lastIndex=-1}return r===null?null:rx(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var ix=nx,Pd,bv;function ax(){return bv||(bv=1,Pd=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Pd}var ox=Ze;Ze.Node=Ha;Ze.create=Ze;function Ze(e){var t=this;if(t instanceof Ze||(t=new Ze),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(a){t.push(a)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}Ze.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ze.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ze.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ze.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)ux(this,arguments[e]);return this.length};Ze.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lx(this,arguments[e]);return this.length};Ze.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ze.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ze.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};Ze.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};Ze.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ze.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ze.prototype.map=function(e,t){t=t||this;for(var r=new Ze,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};Ze.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ze,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};Ze.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;i!==null;a++)r=e(r,i.value,a),i=i.next;return r};Ze.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;i!==null;a--)r=e(r,i.value,a),i=i.prev;return r};Ze.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ze.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ze.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ze;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;a!==null&&i<e;i++)a=a.next;for(;a!==null&&i<t;i++,a=a.next)r.push(a.value);return r};Ze.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ze;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;a!==null&&i>t;i--)a=a.prev;for(;a!==null&&i>e;i--,a=a.prev)r.push(a.value);return r};Ze.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,a=this.head;a!==null&&i<e;i++)a=a.next;for(var s=[],i=0;a&&i<t;i++)s.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var i=0;i<r.length;i++)a=sx(this,a,r[i]);return s};Ze.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function sx(e,t,r){var i=t===e.head?new Ha(r,null,t,e):new Ha(r,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function ux(e,t){e.tail=new Ha(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lx(e,t){e.head=new Ha(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ha(e,t,r,i){if(!(this instanceof Ha))return new Ha(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ax()(Ze)}catch{}const cx=ox,Da=Symbol("max"),bi=Symbol("length"),bo=Symbol("lengthCalculator"),Ys=Symbol("allowStale"),Ua=Symbol("maxAge"),Ei=Symbol("dispose"),Av=Symbol("noDisposeOnSet"),er=Symbol("lruList"),Fn=Symbol("cache"),jw=Symbol("updateAgeOnGet"),Nd=()=>1;class fx{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Da]=t.max||1/0;const r=t.length||Nd;if(this[bo]=typeof r!="function"?Nd:r,this[Ys]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ua]=t.maxAge||0,this[Ei]=t.dispose,this[Av]=t.noDisposeOnSet||!1,this[jw]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Da]=t||1/0,Os(this)}get max(){return this[Da]}set allowStale(t){this[Ys]=!!t}get allowStale(){return this[Ys]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ua]=t,Os(this)}get maxAge(){return this[Ua]}set lengthCalculator(t){typeof t!="function"&&(t=Nd),t!==this[bo]&&(this[bo]=t,this[bi]=0,this[er].forEach(r=>{r.length=this[bo](r.value,r.key),this[bi]+=r.length})),Os(this)}get lengthCalculator(){return this[bo]}get length(){return this[bi]}get itemCount(){return this[er].length}rforEach(t,r){r=r||this;for(let i=this[er].tail;i!==null;){const a=i.prev;Tv(this,t,i,r),i=a}}forEach(t,r){r=r||this;for(let i=this[er].head;i!==null;){const a=i.next;Tv(this,t,i,r),i=a}}keys(){return this[er].toArray().map(t=>t.key)}values(){return this[er].toArray().map(t=>t.value)}reset(){this[Ei]&&this[er]&&this[er].length&&this[er].forEach(t=>this[Ei](t.key,t.value)),this[Fn]=new Map,this[er]=new cx,this[bi]=0}dump(){return this[er].map(t=>pc(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[er]}set(t,r,i){if(i=i||this[Ua],i&&typeof i!="number")throw new TypeError("maxAge must be a number");const a=i?Date.now():0,s=this[bo](r,t);if(this[Fn].has(t)){if(s>this[Da])return Bo(this,this[Fn].get(t)),!1;const f=this[Fn].get(t).value;return this[Ei]&&(this[Av]||this[Ei](t,f.value)),f.now=a,f.maxAge=i,f.value=r,this[bi]+=s-f.length,f.length=s,this.get(t),Os(this),!0}const u=new dx(t,r,s,a,i);return u.length>this[Da]?(this[Ei]&&this[Ei](t,r),!1):(this[bi]+=u.length,this[er].unshift(u),this[Fn].set(t,this[er].head),Os(this),!0)}has(t){if(!this[Fn].has(t))return!1;const r=this[Fn].get(t).value;return!pc(this,r)}get(t){return Dd(this,t,!0)}peek(t){return Dd(this,t,!1)}pop(){const t=this[er].tail;return t?(Bo(this,t),t.value):null}del(t){Bo(this,this[Fn].get(t))}load(t){this.reset();const r=Date.now();for(let i=t.length-1;i>=0;i--){const a=t[i],s=a.e||0;if(s===0)this.set(a.k,a.v);else{const u=s-r;u>0&&this.set(a.k,a.v,u)}}}prune(){this[Fn].forEach((t,r)=>Dd(this,r,!1))}}const Dd=(e,t,r)=>{const i=e[Fn].get(t);if(i){const a=i.value;if(pc(e,a)){if(Bo(e,i),!e[Ys])return}else r&&(e[jw]&&(i.value.now=Date.now()),e[er].unshiftNode(i));return a.value}},pc=(e,t)=>{if(!t||!t.maxAge&&!e[Ua])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Ua]&&r>e[Ua]},Os=e=>{if(e[bi]>e[Da])for(let t=e[er].tail;e[bi]>e[Da]&&t!==null;){const r=t.prev;Bo(e,t),t=r}},Bo=(e,t)=>{if(t){const r=t.value;e[Ei]&&e[Ei](r.key,r.value),e[bi]-=r.length,e[Fn].delete(r.key),e[er].removeNode(t)}};class dx{constructor(t,r,i,a,s){this.key=t,this.value=r,this.length=i,this.now=a,this.maxAge=s||0}}const Tv=(e,t,r,i)=>{let a=r.value;pc(e,a)&&(Bo(e,r),e[Ys]||(a=void 0)),a&&t.call(i,a.value,a.key,e)};var hx=fx,Fd,Ov;function Bn(){if(Ov)return Fd;Ov=1;class e{constructor(Z,de){if(de=i(de),Z instanceof e)return Z.loose===!!de.loose&&Z.includePrerelease===!!de.includePrerelease?Z:new e(Z.raw,de);if(Z instanceof a)return this.raw=Z.value,this.set=[[Z]],this.format(),this;if(this.options=de,this.loose=!!de.loose,this.includePrerelease=!!de.includePrerelease,this.raw=Z,this.set=Z.split("||").map(ge=>this.parseRange(ge.trim())).filter(ge=>ge.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${Z}`);if(this.set.length>1){const ge=this.set[0];if(this.set=this.set.filter(ee=>!b(ee[0])),this.set.length===0)this.set=[ge];else if(this.set.length>1){for(const ee of this.set)if(ee.length===1&&R(ee[0])){this.set=[ee];break}}}this.format()}format(){return this.range=this.set.map(Z=>Z.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Z){Z=Z.trim();const ge=((this.options.includePrerelease&&g)|(this.options.loose&&v))+":"+Z,ee=r.get(ge);if(ee)return ee;const G=this.options.loose,X=G?c[f.HYPHENRANGELOOSE]:c[f.HYPHENRANGE];Z=Z.replace(X,le(this.options.includePrerelease)),s("hyphen replace",Z),Z=Z.replace(c[f.COMPARATORTRIM],m),s("comparator trim",Z),Z=Z.replace(c[f.TILDETRIM],h),Z=Z.replace(c[f.CARETTRIM],d),Z=Z.split(/\s+/).join(" ");let W=Z.split(" ").map(O=>$(O,this.options)).join(" ").split(/\s+/).map(O=>Q(O,this.options));G&&(W=W.filter(O=>(s("loose invalid filter",O,this.options),!!O.match(c[f.COMPARATORLOOSE])))),s("range list",W);const U=new Map,re=W.map(O=>new a(O,this.options));for(const O of re){if(b(O))return[O];U.set(O.value,O)}U.size>1&&U.has("")&&U.delete("");const K=[...U.values()];return r.set(ge,K),K}intersects(Z,de){if(!(Z instanceof e))throw new TypeError("a Range is required");return this.set.some(ge=>T(ge,de)&&Z.set.some(ee=>T(ee,de)&&ge.every(G=>ee.every(X=>G.intersects(X,de)))))}test(Z){if(!Z)return!1;if(typeof Z=="string")try{Z=new u(Z,this.options)}catch{return!1}for(let de=0;de<this.set.length;de++)if(ne(this.set[de],Z,this.options))return!0;return!1}}Fd=e;const t=hx,r=new t({max:1e3}),i=np,a=Mc(),s=Lc,u=Fr,{re:c,t:f,comparatorTrimReplace:m,tildeTrimReplace:h,caretTrimReplace:d}=qa.exports,{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:v}=yu,b=ue=>ue.value==="<0.0.0-0",R=ue=>ue.value==="",T=(ue,Z)=>{let de=!0;const ge=ue.slice();let ee=ge.pop();for(;de&&ge.length;)de=ge.every(G=>ee.intersects(G,Z)),ee=ge.pop();return de},$=(ue,Z)=>(s("comp",ue,Z),ue=Y(ue,Z),s("caret",ue),ue=I(ue,Z),s("tildes",ue),ue=P(ue,Z),s("xrange",ue),ue=E(ue,Z),s("stars",ue),ue),_=ue=>!ue||ue.toLowerCase()==="x"||ue==="*",I=(ue,Z)=>ue.trim().split(/\s+/).map(de=>N(de,Z)).join(" "),N=(ue,Z)=>{const de=Z.loose?c[f.TILDELOOSE]:c[f.TILDE];return ue.replace(de,(ge,ee,G,X,W)=>{s("tilde",ue,ge,ee,G,X,W);let U;return _(ee)?U="":_(G)?U=`>=${ee}.0.0 <${+ee+1}.0.0-0`:_(X)?U=`>=${ee}.${G}.0 <${ee}.${+G+1}.0-0`:W?(s("replaceTilde pr",W),U=`>=${ee}.${G}.${X}-${W} <${ee}.${+G+1}.0-0`):U=`>=${ee}.${G}.${X} <${ee}.${+G+1}.0-0`,s("tilde return",U),U})},Y=(ue,Z)=>ue.trim().split(/\s+/).map(de=>x(de,Z)).join(" "),x=(ue,Z)=>{s("caret",ue,Z);const de=Z.loose?c[f.CARETLOOSE]:c[f.CARET],ge=Z.includePrerelease?"-0":"";return ue.replace(de,(ee,G,X,W,U)=>{s("caret",ue,ee,G,X,W,U);let re;return _(G)?re="":_(X)?re=`>=${G}.0.0${ge} <${+G+1}.0.0-0`:_(W)?G==="0"?re=`>=${G}.${X}.0${ge} <${G}.${+X+1}.0-0`:re=`>=${G}.${X}.0${ge} <${+G+1}.0.0-0`:U?(s("replaceCaret pr",U),G==="0"?X==="0"?re=`>=${G}.${X}.${W}-${U} <${G}.${X}.${+W+1}-0`:re=`>=${G}.${X}.${W}-${U} <${G}.${+X+1}.0-0`:re=`>=${G}.${X}.${W}-${U} <${+G+1}.0.0-0`):(s("no pr"),G==="0"?X==="0"?re=`>=${G}.${X}.${W}${ge} <${G}.${X}.${+W+1}-0`:re=`>=${G}.${X}.${W}${ge} <${G}.${+X+1}.0-0`:re=`>=${G}.${X}.${W} <${+G+1}.0.0-0`),s("caret return",re),re})},P=(ue,Z)=>(s("replaceXRanges",ue,Z),ue.split(/\s+/).map(de=>k(de,Z)).join(" ")),k=(ue,Z)=>{ue=ue.trim();const de=Z.loose?c[f.XRANGELOOSE]:c[f.XRANGE];return ue.replace(de,(ge,ee,G,X,W,U)=>{s("xRange",ue,ge,ee,G,X,W,U);const re=_(G),K=re||_(X),O=K||_(W),L=O;return ee==="="&&L&&(ee=""),U=Z.includePrerelease?"-0":"",re?ee===">"||ee==="<"?ge="<0.0.0-0":ge="*":ee&&L?(K&&(X=0),W=0,ee===">"?(ee=">=",K?(G=+G+1,X=0,W=0):(X=+X+1,W=0)):ee==="<="&&(ee="<",K?G=+G+1:X=+X+1),ee==="<"&&(U="-0"),ge=`${ee+G}.${X}.${W}${U}`):K?ge=`>=${G}.0.0${U} <${+G+1}.0.0-0`:O&&(ge=`>=${G}.${X}.0${U} <${G}.${+X+1}.0-0`),s("xRange return",ge),ge})},E=(ue,Z)=>(s("replaceStars",ue,Z),ue.trim().replace(c[f.STAR],"")),Q=(ue,Z)=>(s("replaceGTE0",ue,Z),ue.trim().replace(c[Z.includePrerelease?f.GTE0PRE:f.GTE0],"")),le=ue=>(Z,de,ge,ee,G,X,W,U,re,K,O,L,oe)=>(_(ge)?de="":_(ee)?de=`>=${ge}.0.0${ue?"-0":""}`:_(G)?de=`>=${ge}.${ee}.0${ue?"-0":""}`:X?de=`>=${de}`:de=`>=${de}${ue?"-0":""}`,_(re)?U="":_(K)?U=`<${+re+1}.0.0-0`:_(O)?U=`<${re}.${+K+1}.0-0`:L?U=`<=${re}.${K}.${O}-${L}`:ue?U=`<${re}.${K}.${+O+1}-0`:U=`<=${U}`,`${de} ${U}`.trim()),ne=(ue,Z,de)=>{for(let ge=0;ge<ue.length;ge++)if(!ue[ge].test(Z))return!1;if(Z.prerelease.length&&!de.includePrerelease){for(let ge=0;ge<ue.length;ge++)if(s(ue[ge].semver),ue[ge].semver!==a.ANY&&ue[ge].semver.prerelease.length>0){const ee=ue[ge].semver;if(ee.major===Z.major&&ee.minor===Z.minor&&ee.patch===Z.patch)return!0}return!1}return!0};return Fd}var xd,Cv;function Mc(){if(Cv)return xd;Cv=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(h,d){if(d=r(d),h instanceof t){if(h.loose===!!d.loose)return h;h=h.value}u("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===e?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(h){const d=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],g=h.match(d);if(!g)throw new TypeError(`Invalid comparator: ${h}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new c(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(h){if(u("Comparator.test",h,this.options.loose),this.semver===e||h===e)return!0;if(typeof h=="string")try{h=new c(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(h.value,d).test(this.value):h.operator===""?h.value===""?!0:new f(this.value,d).test(h.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,d)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,d)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}xd=t;const r=np,{re:i,t:a}=qa.exports,s=kw,u=Lc,c=Fr,f=Bn();return xd}const px=Bn(),mx=(e,t,r)=>{try{t=new px(t,r)}catch{return!1}return t.test(e)};var kc=mx;const gx=Bn(),vx=(e,t)=>new gx(e,t).set.map(r=>r.map(i=>i.value).join(" ").trim().split(" "));var yx=vx;const _x=Fr,wx=Bn(),Ex=(e,t,r)=>{let i=null,a=null,s=null;try{s=new wx(t,r)}catch{return null}return e.forEach(u=>{s.test(u)&&(!i||a.compare(u)===-1)&&(i=u,a=new _x(i,r))}),i};var $x=Ex;const Sx=Fr,bx=Bn(),Ax=(e,t,r)=>{let i=null,a=null,s=null;try{s=new bx(t,r)}catch{return null}return e.forEach(u=>{s.test(u)&&(!i||a.compare(u)===1)&&(i=u,a=new Sx(i,r))}),i};var Tx=Ax;const Ld=Fr,Ox=Bn(),Rv=Uc,Cx=(e,t)=>{e=new Ox(e,t);let r=new Ld("0.0.0");if(e.test(r)||(r=new Ld("0.0.0-0"),e.test(r)))return r;r=null;for(let i=0;i<e.set.length;++i){const a=e.set[i];let s=null;a.forEach(u=>{const c=new Ld(u.semver.version);switch(u.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||Rv(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),s&&(!r||Rv(r,s))&&(r=s)}return r&&e.test(r)?r:null};var Rx=Cx;const Ix=Bn(),Px=(e,t)=>{try{return new Ix(e,t).range||"*"}catch{return null}};var Nx=Px;const Dx=Fr,Bw=Mc(),{ANY:Fx}=Bw,xx=Bn(),Lx=kc,Iv=Uc,Pv=op,Ux=up,Mx=sp,kx=(e,t,r,i)=>{e=new Dx(e,i),t=new xx(t,i);let a,s,u,c,f;switch(r){case">":a=Iv,s=Ux,u=Pv,c=">",f=">=";break;case"<":a=Pv,s=Mx,u=Iv,c="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lx(e,t,i))return!1;for(let m=0;m<t.set.length;++m){const h=t.set[m];let d=null,g=null;if(h.forEach(v=>{v.semver===Fx&&(v=new Bw(">=0.0.0")),d=d||v,g=g||v,a(v.semver,d.semver,i)?d=v:u(v.semver,g.semver,i)&&(g=v)}),d.operator===c||d.operator===f||(!g.operator||g.operator===c)&&s(e,g.semver))return!1;if(g.operator===f&&u(e,g.semver))return!1}return!0};var lp=kx;const jx=lp,Bx=(e,t,r)=>jx(e,t,">",r);var qx=Bx;const Hx=lp,Wx=(e,t,r)=>Hx(e,t,"<",r);var Gx=Wx;const Nv=Bn(),zx=(e,t,r)=>(e=new Nv(e,r),t=new Nv(t,r),e.intersects(t,r));var Vx=zx;const Yx=kc,Kx=jn;var Jx=(e,t,r)=>{const i=[];let a=null,s=null;const u=e.sort((h,d)=>Kx(h,d,r));for(const h of u)Yx(h,t,r)?(s=h,a||(a=h)):(s&&i.push([a,s]),s=null,a=null);a&&i.push([a,null]);const c=[];for(const[h,d]of i)h===d?c.push(h):!d&&h===u[0]?c.push("*"):d?h===u[0]?c.push(`<=${d}`):c.push(`${h} - ${d}`):c.push(`>=${h}`);const f=c.join(" || "),m=typeof t.raw=="string"?t.raw:String(t);return f.length<m.length?f:t};const Dv=Bn(),cp=Mc(),{ANY:Ud}=cp,Cs=kc,fp=jn,Xx=(e,t,r={})=>{if(e===t)return!0;e=new Dv(e,r),t=new Dv(t,r);let i=!1;e:for(const a of e.set){for(const s of t.set){const u=Zx(a,s,r);if(i=i||u!==null,u)continue e}if(i)return!1}return!0},Qx=[new cp(">=0.0.0-0")],Fv=[new cp(">=0.0.0")],Zx=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ud){if(t.length===1&&t[0].semver===Ud)return!0;r.includePrerelease?e=Qx:e=Fv}if(t.length===1&&t[0].semver===Ud){if(r.includePrerelease)return!0;t=Fv}const i=new Set;let a,s;for(const v of e)v.operator===">"||v.operator===">="?a=xv(a,v,r):v.operator==="<"||v.operator==="<="?s=Lv(s,v,r):i.add(v.semver);if(i.size>1)return null;let u;if(a&&s){if(u=fp(a.semver,s.semver,r),u>0)return null;if(u===0&&(a.operator!==">="||s.operator!=="<="))return null}for(const v of i){if(a&&!Cs(v,String(a),r)||s&&!Cs(v,String(s),r))return null;for(const b of t)if(!Cs(v,String(b),r))return!1;return!0}let c,f,m,h,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const v of t){if(h=h||v.operator===">"||v.operator===">=",m=m||v.operator==="<"||v.operator==="<=",a){if(g&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===g.major&&v.semver.minor===g.minor&&v.semver.patch===g.patch&&(g=!1),v.operator===">"||v.operator===">="){if(c=xv(a,v,r),c===v&&c!==a)return!1}else if(a.operator===">="&&!Cs(a.semver,String(v),r))return!1}if(s){if(d&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===d.major&&v.semver.minor===d.minor&&v.semver.patch===d.patch&&(d=!1),v.operator==="<"||v.operator==="<="){if(f=Lv(s,v,r),f===v&&f!==s)return!1}else if(s.operator==="<="&&!Cs(s.semver,String(v),r))return!1}if(!v.operator&&(s||a)&&u!==0)return!1}return!(a&&m&&!s&&u!==0||s&&h&&!a&&u!==0||g||d)},xv=(e,t,r)=>{if(!e)return t;const i=fp(e.semver,t.semver,r);return i>0?e:i<0||t.operator===">"&&e.operator===">="?t:e},Lv=(e,t,r)=>{if(!e)return t;const i=fp(e.semver,t.semver,r);return i<0?e:i>0||t.operator==="<"&&e.operator==="<="?t:e};var eL=Xx;const Md=qa.exports,Uv=yu,tL=Fr,Mv=Uw,rL=rs,nL=tF,iL=iF,aL=oF,oL=dF,sL=mF,uL=yF,lL=EF,cL=bF,fL=jn,dL=OF,hL=IF,pL=ap,mL=FF,gL=UF,vL=Uc,yL=op,_L=ip,wL=Mw,EL=sp,$L=up,SL=kw,bL=ix,AL=Mc(),TL=Bn(),OL=kc,CL=yx,RL=$x,IL=Tx,PL=Rx,NL=Nx,DL=lp,FL=qx,xL=Gx,LL=Vx,UL=Jx,ML=eL;var dp={parse:rL,valid:nL,clean:iL,inc:aL,diff:oL,major:sL,minor:uL,patch:lL,prerelease:cL,compare:fL,rcompare:dL,compareLoose:hL,compareBuild:pL,sort:mL,rsort:gL,gt:vL,lt:yL,eq:_L,neq:wL,gte:EL,lte:$L,cmp:SL,coerce:bL,Comparator:AL,Range:TL,satisfies:OL,toComparators:CL,maxSatisfying:RL,minSatisfying:IL,minVersion:PL,validRange:NL,outside:DL,gtr:FL,ltr:xL,intersects:LL,simplifyRange:UL,subset:ML,SemVer:tL,re:Md.re,src:Md.src,tokens:Md.t,SEMVER_SPEC_VERSION:Uv.SEMVER_SPEC_VERSION,RELEASE_TYPES:Uv.RELEASE_TYPES,compareIdentifiers:Mv.compareIdentifiers,rcompareIdentifiers:Mv.rcompareIdentifiers},Vo={},ph={exports:{}};(function(e,t){var r=200,i="__lodash_hash_undefined__",a=1,s=2,u=9007199254740991,c="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",g="[object Error]",v="[object Function]",b="[object GeneratorFunction]",R="[object Map]",T="[object Number]",$="[object Null]",_="[object Object]",I="[object Promise]",N="[object Proxy]",Y="[object RegExp]",x="[object Set]",P="[object String]",k="[object Symbol]",E="[object Undefined]",Q="[object WeakMap]",le="[object ArrayBuffer]",ne="[object DataView]",ue="[object Float32Array]",Z="[object Float64Array]",de="[object Int8Array]",ge="[object Int16Array]",ee="[object Int32Array]",G="[object Uint8Array]",X="[object Uint8ClampedArray]",W="[object Uint16Array]",U="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L[ue]=L[Z]=L[de]=L[ge]=L[ee]=L[G]=L[X]=L[W]=L[U]=!0,L[c]=L[f]=L[le]=L[h]=L[ne]=L[d]=L[g]=L[v]=L[R]=L[T]=L[_]=L[Y]=L[x]=L[P]=L[Q]=!1;var oe=typeof qt=="object"&&qt&&qt.Object===Object&&qt,S=typeof self=="object"&&self&&self.Object===Object&&self,y=oe||S||Function("return this")(),te=t&&!t.nodeType&&t,H=te&&!0&&e&&!e.nodeType&&e,Ee=H&&H.exports===te,je=Ee&&oe.process,et=function(){try{return je&&je.binding&&je.binding("util")}catch{}}(),Ve=et&&et.isTypedArray;function St(F,V){for(var pe=-1,ye=F==null?0:F.length,ht=0,Fe=[];++pe<ye;){var wt=F[pe];V(wt,pe,F)&&(Fe[ht++]=wt)}return Fe}function bt(F,V){for(var pe=-1,ye=V.length,ht=F.length;++pe<ye;)F[ht+pe]=V[pe];return F}function Ye(F,V){for(var pe=-1,ye=F==null?0:F.length;++pe<ye;)if(V(F[pe],pe,F))return!0;return!1}function Ft(F,V){for(var pe=-1,ye=Array(F);++pe<F;)ye[pe]=V(pe);return ye}function un(F){return function(V){return F(V)}}function nr(F,V){return F.has(V)}function Tt(F,V){return F==null?void 0:F[V]}function xt(F){var V=-1,pe=Array(F.size);return F.forEach(function(ye,ht){pe[++V]=[ht,ye]}),pe}function Lt(F,V){return function(pe){return F(V(pe))}}function qn(F){var V=-1,pe=Array(F.size);return F.forEach(function(ye){pe[++V]=ye}),pe}var Kr=Array.prototype,En=Function.prototype,hr=Object.prototype,Er=y["__core-js_shared__"],Yt=En.toString,Pt=hr.hasOwnProperty,ii=function(){var F=/[^.]+$/.exec(Er&&Er.keys&&Er.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),ai=hr.toString,$n=RegExp("^"+Yt.call(Pt).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oi=Ee?y.Buffer:void 0,Hn=y.Symbol,si=y.Uint8Array,ir=hr.propertyIsEnumerable,os=Kr.splice,Sn=Hn?Hn.toStringTag:void 0,Qa=Object.getOwnPropertySymbols,Za=oi?oi.isBuffer:void 0,eo=Lt(Object.keys,Object),da=Zr(y,"DataView"),xr=Zr(y,"Map"),ha=Zr(y,"Promise"),Ni=Zr(y,"Set"),Di=Zr(y,"WeakMap"),bn=Zr(Object,"create"),to=ci(da),ss=ci(xr),Fi=ci(ha),us=ci(Ni),xi=ci(Di),j=Hn?Hn.prototype:void 0,D=j?j.valueOf:void 0;function B(F){var V=-1,pe=F==null?0:F.length;for(this.clear();++V<pe;){var ye=F[V];this.set(ye[0],ye[1])}}function ae(){this.__data__=bn?bn(null):{},this.size=0}function ie(F){var V=this.has(F)&&delete this.__data__[F];return this.size-=V?1:0,V}function $e(F){var V=this.__data__;if(bn){var pe=V[F];return pe===i?void 0:pe}return Pt.call(V,F)?V[F]:void 0}function be(F){var V=this.__data__;return bn?V[F]!==void 0:Pt.call(V,F)}function qe(F,V){var pe=this.__data__;return this.size+=this.has(F)?0:1,pe[F]=bn&&V===void 0?i:V,this}B.prototype.clear=ae,B.prototype.delete=ie,B.prototype.get=$e,B.prototype.has=be,B.prototype.set=qe;function He(F){var V=-1,pe=F==null?0:F.length;for(this.clear();++V<pe;){var ye=F[V];this.set(ye[0],ye[1])}}function yt(){this.__data__=[],this.size=0}function Ue(F){var V=this.__data__,pe=cn(V,F);if(pe<0)return!1;var ye=V.length-1;return pe==ye?V.pop():os.call(V,pe,1),--this.size,!0}function rt(F){var V=this.__data__,pe=cn(V,F);return pe<0?void 0:V[pe][1]}function _t(F){return cn(this.__data__,F)>-1}function Pe(F,V){var pe=this.__data__,ye=cn(pe,F);return ye<0?(++this.size,pe.push([F,V])):pe[ye][1]=V,this}He.prototype.clear=yt,He.prototype.delete=Ue,He.prototype.get=rt,He.prototype.has=_t,He.prototype.set=Pe;function Xe(F){var V=-1,pe=F==null?0:F.length;for(this.clear();++V<pe;){var ye=F[V];this.set(ye[0],ye[1])}}function ft(){this.size=0,this.__data__={hash:new B,map:new(xr||He),string:new B}}function ut(F){var V=Ui(this,F).delete(F);return this.size-=V?1:0,V}function $r(F){return Ui(this,F).get(F)}function Lr(F){return Ui(this,F).has(F)}function Ur(F,V){var pe=Ui(this,F),ye=pe.size;return pe.set(F,V),this.size+=pe.size==ye?0:1,this}Xe.prototype.clear=ft,Xe.prototype.delete=ut,Xe.prototype.get=$r,Xe.prototype.has=Lr,Xe.prototype.set=Ur;function Jr(F){var V=-1,pe=F==null?0:F.length;for(this.__data__=new Xe;++V<pe;)this.add(F[V])}function ln(F){return this.__data__.set(F,i),this}function ar(F){return this.__data__.has(F)}Jr.prototype.add=Jr.prototype.push=ln,Jr.prototype.has=ar;function Nt(F){var V=this.__data__=new He(F);this.size=V.size}function An(){this.__data__=new He,this.size=0}function Xr(F){var V=this.__data__,pe=V.delete(F);return this.size=V.size,pe}function ui(F){return this.__data__.get(F)}function ro(F){return this.__data__.has(F)}function pa(F,V){var pe=this.__data__;if(pe instanceof He){var ye=pe.__data__;if(!xr||ye.length<r-1)return ye.push([F,V]),this.size=++pe.size,this;pe=this.__data__=new Xe(ye)}return pe.set(F,V),this.size=pe.size,this}Nt.prototype.clear=An,Nt.prototype.delete=Xr,Nt.prototype.get=ui,Nt.prototype.has=ro,Nt.prototype.set=pa;function li(F,V){var pe=ao(F),ye=!pe&&ju(F),ht=!pe&&!ye&&ls(F),Fe=!pe&&!ye&&!ht&&Hu(F),wt=pe||ye||ht||Fe,Ht=wt?Ft(F.length,String):[],Ke=Ht.length;for(var pt in F)(V||Pt.call(F,pt))&&!(wt&&(pt=="length"||ht&&(pt=="offset"||pt=="parent")||Fe&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||xu(pt,Ke)))&&Ht.push(pt);return Ht}function cn(F,V){for(var pe=F.length;pe--;)if(ku(F[pe][0],V))return pe;return-1}function Wn(F,V,pe){var ye=V(F);return ao(F)?ye:bt(ye,pe(F))}function Gn(F){return F==null?F===void 0?E:$:Sn&&Sn in Object(F)?Du(F):cf(F)}function Li(F){return ma(F)&&Gn(F)==c}function Qr(F,V,pe,ye,ht){return F===V?!0:F==null||V==null||!ma(F)&&!ma(V)?F!==F&&V!==V:Ru(F,V,pe,ye,Qr,ht)}function Ru(F,V,pe,ye,ht,Fe){var wt=ao(F),Ht=ao(V),Ke=wt?f:zn(F),pt=Ht?f:zn(V);Ke=Ke==c?_:Ke,pt=pt==c?_:pt;var Ut=Ke==_,Mr=pt==_,Wt=Ke==pt;if(Wt&&ls(F)){if(!ls(V))return!1;wt=!0,Ut=!1}if(Wt&&!Ut)return Fe||(Fe=new Nt),wt||Hu(F)?no(F,V,pe,ye,ht,Fe):lf(F,V,Ke,pe,ye,ht,Fe);if(!(pe&a)){var Et=Ut&&Pt.call(F,"__wrapped__"),Sr=Mr&&Pt.call(V,"__wrapped__");if(Et||Sr){var Tn=Et?F.value():F,fn=Sr?V.value():V;return Fe||(Fe=new Nt),ht(Tn,fn,pe,ye,Fe)}}return Wt?(Fe||(Fe=new Nt),Nu(F,V,pe,ye,ht,Fe)):!1}function uf(F){if(!qu(F)||Uu(F))return!1;var V=oo(F)?$n:K;return V.test(ci(F))}function Iu(F){return ma(F)&&Bu(F.length)&&!!L[Gn(F)]}function Pu(F){if(!Mu(F))return eo(F);var V=[];for(var pe in Object(F))Pt.call(F,pe)&&pe!="constructor"&&V.push(pe);return V}function no(F,V,pe,ye,ht,Fe){var wt=pe&a,Ht=F.length,Ke=V.length;if(Ht!=Ke&&!(wt&&Ke>Ht))return!1;var pt=Fe.get(F);if(pt&&Fe.get(V))return pt==V;var Ut=-1,Mr=!0,Wt=pe&s?new Jr:void 0;for(Fe.set(F,V),Fe.set(V,F);++Ut<Ht;){var Et=F[Ut],Sr=V[Ut];if(ye)var Tn=wt?ye(Sr,Et,Ut,V,F,Fe):ye(Et,Sr,Ut,F,V,Fe);if(Tn!==void 0){if(Tn)continue;Mr=!1;break}if(Wt){if(!Ye(V,function(fn,Vn){if(!nr(Wt,Vn)&&(Et===fn||ht(Et,fn,pe,ye,Fe)))return Wt.push(Vn)})){Mr=!1;break}}else if(!(Et===Sr||ht(Et,Sr,pe,ye,Fe))){Mr=!1;break}}return Fe.delete(F),Fe.delete(V),Mr}function lf(F,V,pe,ye,ht,Fe,wt){switch(pe){case ne:if(F.byteLength!=V.byteLength||F.byteOffset!=V.byteOffset)return!1;F=F.buffer,V=V.buffer;case le:return!(F.byteLength!=V.byteLength||!Fe(new si(F),new si(V)));case h:case d:case T:return ku(+F,+V);case g:return F.name==V.name&&F.message==V.message;case Y:case P:return F==V+"";case R:var Ht=xt;case x:var Ke=ye&a;if(Ht||(Ht=qn),F.size!=V.size&&!Ke)return!1;var pt=wt.get(F);if(pt)return pt==V;ye|=s,wt.set(F,V);var Ut=no(Ht(F),Ht(V),ye,ht,Fe,wt);return wt.delete(F),Ut;case k:if(D)return D.call(F)==D.call(V)}return!1}function Nu(F,V,pe,ye,ht,Fe){var wt=pe&a,Ht=io(F),Ke=Ht.length,pt=io(V),Ut=pt.length;if(Ke!=Ut&&!wt)return!1;for(var Mr=Ke;Mr--;){var Wt=Ht[Mr];if(!(wt?Wt in V:Pt.call(V,Wt)))return!1}var Et=Fe.get(F);if(Et&&Fe.get(V))return Et==V;var Sr=!0;Fe.set(F,V),Fe.set(V,F);for(var Tn=wt;++Mr<Ke;){Wt=Ht[Mr];var fn=F[Wt],Vn=V[Wt];if(ye)var cs=wt?ye(Vn,fn,Wt,V,F,Fe):ye(fn,Vn,Wt,F,V,Fe);if(!(cs===void 0?fn===Vn||ht(fn,Vn,pe,ye,Fe):cs)){Sr=!1;break}Tn||(Tn=Wt=="constructor")}if(Sr&&!Tn){var ga=F.constructor,Xt=V.constructor;ga!=Xt&&"constructor"in F&&"constructor"in V&&!(typeof ga=="function"&&ga instanceof ga&&typeof Xt=="function"&&Xt instanceof Xt)&&(Sr=!1)}return Fe.delete(F),Fe.delete(V),Sr}function io(F){return Wn(F,hf,Fu)}function Ui(F,V){var pe=F.__data__;return Lu(V)?pe[typeof V=="string"?"string":"hash"]:pe.map}function Zr(F,V){var pe=Tt(F,V);return uf(pe)?pe:void 0}function Du(F){var V=Pt.call(F,Sn),pe=F[Sn];try{F[Sn]=void 0;var ye=!0}catch{}var ht=ai.call(F);return ye&&(V?F[Sn]=pe:delete F[Sn]),ht}var Fu=Qa?function(F){return F==null?[]:(F=Object(F),St(Qa(F),function(V){return ir.call(F,V)}))}:dt,zn=Gn;(da&&zn(new da(new ArrayBuffer(1)))!=ne||xr&&zn(new xr)!=R||ha&&zn(ha.resolve())!=I||Ni&&zn(new Ni)!=x||Di&&zn(new Di)!=Q)&&(zn=function(F){var V=Gn(F),pe=V==_?F.constructor:void 0,ye=pe?ci(pe):"";if(ye)switch(ye){case to:return ne;case ss:return R;case Fi:return I;case us:return x;case xi:return Q}return V});function xu(F,V){return V=V==null?u:V,!!V&&(typeof F=="number"||O.test(F))&&F>-1&&F%1==0&&F<V}function Lu(F){var V=typeof F;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?F!=="__proto__":F===null}function Uu(F){return!!ii&&ii in F}function Mu(F){var V=F&&F.constructor,pe=typeof V=="function"&&V.prototype||hr;return F===pe}function cf(F){return ai.call(F)}function ci(F){if(F!=null){try{return Yt.call(F)}catch{}try{return F+""}catch{}}return""}function ku(F,V){return F===V||F!==F&&V!==V}var ju=Li(function(){return arguments}())?Li:function(F){return ma(F)&&Pt.call(F,"callee")&&!ir.call(F,"callee")},ao=Array.isArray;function ff(F){return F!=null&&Bu(F.length)&&!oo(F)}var ls=Za||lt;function df(F,V){return Qr(F,V)}function oo(F){if(!qu(F))return!1;var V=Gn(F);return V==v||V==b||V==m||V==N}function Bu(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=u}function qu(F){var V=typeof F;return F!=null&&(V=="object"||V=="function")}function ma(F){return F!=null&&typeof F=="object"}var Hu=Ve?un(Ve):Iu;function hf(F){return ff(F)?li(F):Pu(F)}function dt(){return[]}function lt(){return!1}e.exports=df})(ph,ph.exports);Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createTempUpdateFile=Vo.DownloadedUpdateHelper=void 0;const kL=Ya.default,jL=ct.default,kv=ph.exports,Pa=Xa,Ks=Oe.default;class BL{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Ks.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,i,a){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return kv(this.versionInfo,r)&&kv(this.fileInfo.info,i.info)&&await Pa.pathExists(t)?t:null;const s=await this.getValidCachedUpdateFile(i,a);return s===null?null:(a.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,i,a,s,u){this._file=t,this._packageFile=r,this.versionInfo=i,this.fileInfo=a,this._downloadedFileInfo={fileName:s,sha512:a.info.sha512,isAdminRightsRequired:a.info.isAdminRightsRequired===!0},u&&await Pa.outputJson(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await Pa.emptyDir(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var i;const a=this.getUpdateInfoFile();if(!await Pa.pathExists(a))return null;let u;try{u=await Pa.readJson(a)}catch(h){let d="No cached update info available";return h.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),d+=` (error on read: ${h.message})`),r.info(d),null}if(!((i=(u==null?void 0:u.fileName)!==null)!==null&&i!==void 0?i:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==u.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${u.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const f=Ks.join(this.cacheDirForPendingUpdate,u.fileName);if(!await Pa.pathExists(f))return r.info("Cached update file doesn't exist"),null;const m=await qL(f);return t.info.sha512!==m?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${m}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=u,f)}getUpdateInfoFile(){return Ks.join(this.cacheDirForPendingUpdate,"update-info.json")}}Vo.DownloadedUpdateHelper=BL;function qL(e,t="sha512",r="base64",i){return new Promise((a,s)=>{const u=kL.createHash(t);u.on("error",s).setEncoding(r),jL.createReadStream(e,{...i,highWaterMark:1024*1024}).on("error",s).on("end",()=>{u.end(),a(u.read())}).pipe(u,{end:!1})})}async function HL(e,t,r){let i=0,a=Ks.join(t,e);for(let s=0;s<3;s++)try{return await Pa.unlink(a),a}catch(u){if(u.code==="ENOENT")return a;r.warn(`Error on remove temp update file: ${u}`),a=Ks.join(t,`${i++}-${e}`)}return a}Vo.createTempUpdateFile=HL;var jc={},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getAppCacheDir=void 0;const kd=Oe.default,WL=la.default;function GL(){const e=WL.homedir();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||kd.join(e,"AppData","Local"):process.platform==="darwin"?t=kd.join(e,"Library","Application Support","Caches"):t=process.env.XDG_CACHE_HOME||kd.join(e,".cache"),t}Bc.getAppCacheDir=GL;Object.defineProperty(jc,"__esModule",{value:!0});jc.ElectronAppAdapter=void 0;const jv=Oe.default,zL=Bc;class VL{constructor(t=ja.default.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?jv.join(process.resourcesPath,"app-update.yml"):jv.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return zL.getAppCacheDir()}quit(){this.app.quit()}onQuit(t){this.app.once("quit",(r,i)=>t(i))}}jc.ElectronAppAdapter=VL;var qw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=Vt();e.NET_SESSION_NAME="electron-updater";function r(){return ja.default.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class i extends t.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,u,c){return await c.cancellationToken.createPromise((f,m,h)=>{const d={headers:c.headers||void 0,redirect:"manual"};t.configureRequestUrl(s,d),t.configureRequestOptions(d),this.doDownload(d,{destination:u,options:c,onCancel:h,callback:g=>{g==null?f(u):m(g)},responseHandler:null},0)})}createRequest(s,u){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const c=ja.default.net.request({...s,session:this.cachedSession});return c.on("response",u),this.proxyLoginCallback!=null&&c.on("login",this.proxyLoginCallback),c}addRedirectHandlers(s,u,c,f,m){s.on("redirect",(h,d,g)=>{s.abort(),f>this.maxRedirects?c(this.createMaxRedirectError()):m(t.HttpExecutor.prepareRedirectUrlOptions(g,u))})}}e.ElectronHttpExecutor=i})(qw);var _u={},_r={},YL=1/0,KL="[object Symbol]",Hw=/[\\^$.*+?()[\]{}|]/g,JL=RegExp(Hw.source),XL=typeof qt=="object"&&qt&&qt.Object===Object&&qt,QL=typeof self=="object"&&self&&self.Object===Object&&self,ZL=XL||QL||Function("return this")(),e2=Object.prototype,t2=e2.toString,Bv=ZL.Symbol,qv=Bv?Bv.prototype:void 0,Hv=qv?qv.toString:void 0;function r2(e){if(typeof e=="string")return e;if(i2(e))return Hv?Hv.call(e):"";var t=e+"";return t=="0"&&1/e==-YL?"-0":t}function n2(e){return!!e&&typeof e=="object"}function i2(e){return typeof e=="symbol"||n2(e)&&t2.call(e)==KL}function a2(e){return e==null?"":r2(e)}function o2(e){return e=a2(e),e&&JL.test(e)?e.replace(Hw,"\\$&"):e}var s2=o2;Object.defineProperty(_r,"__esModule",{value:!0});_r.blockmapFiles=_r.getChannelFilename=_r.newUrlFromBase=_r.newBaseUrl=void 0;const Ww=ca.default,u2=s2;function l2(e){const t=new Ww.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}_r.newBaseUrl=l2;function mh(e,t,r=!1){const i=new Ww.URL(e,t),a=t.search;return a!=null&&a.length!==0?i.search=a:r&&(i.search=`noCache=${Date.now().toString(32)}`),i}_r.newUrlFromBase=mh;function c2(e){return`${e}.yml`}_r.getChannelFilename=c2;function f2(e,t,r){const i=mh(`${e.pathname}.blockmap`,e);return[mh(`${e.pathname.replace(new RegExp(u2(r),"g"),t)}.blockmap`,e),i]}_r.blockmapFiles=f2;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.resolveFiles=zt.getFileList=zt.parseUpdateInfo=zt.findFile=zt.Provider=void 0;const sa=Vt(),d2=dr,Wv=_r;class h2{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,i){return this.executor.request(this.createRequestOptions(t,r),i)}createRequestOptions(t,r){const i={};return this.requestHeaders==null?r!=null&&(i.headers=r):i.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},sa.configureRequestUrl(t,i),i}}zt.Provider=h2;function p2(e,t,r){if(e.length===0)throw sa.newError("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const i=e.find(a=>a.url.pathname.toLowerCase().endsWith(`.${t}`));return i!=null?i:r==null?e[0]:e.find(a=>!r.some(s=>a.url.pathname.toLowerCase().endsWith(`.${s}`)))}zt.findFile=p2;function m2(e,t,r){if(e==null)throw sa.newError(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let i;try{i=d2.load(e)}catch(a){throw sa.newError(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${a.stack||a.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return i}zt.parseUpdateInfo=m2;function Gw(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw sa.newError(`No files provided: ${sa.safeStringifyJson(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}zt.getFileList=Gw;function g2(e,t,r=i=>i){const a=Gw(e).map(c=>{if(c.sha2==null&&c.sha512==null)throw sa.newError(`Update info doesn't contain nor sha256 neither sha512 checksum: ${sa.safeStringifyJson(c)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:Wv.newUrlFromBase(r(c.url),t),info:c}}),s=e.packages,u=s==null?null:s[process.arch]||s.ia32;return u!=null&&(a[0].packageInfo={...u,path:Wv.newUrlFromBase(r(u.path),t).href}),a}zt.resolveFiles=g2;Object.defineProperty(_u,"__esModule",{value:!0});_u.GenericProvider=void 0;const Gv=Vt(),jd=_r,Bd=zt;class v2 extends Bd.Provider{constructor(t,r,i){super(i),this.configuration=t,this.updater=r,this.baseUrl=jd.newBaseUrl(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=jd.getChannelFilename(this.channel),r=jd.newUrlFromBase(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let i=0;;i++)try{return Bd.parseUpdateInfo(await this.httpRequest(r),t,r)}catch(a){if(a instanceof Gv.HttpError&&a.statusCode===404)throw Gv.newError(`Cannot find channel "${t}" update info: ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(a.code==="ECONNREFUSED"&&i<3){await new Promise((s,u)=>{try{setTimeout(s,1e3*i)}catch(c){u(c)}});continue}throw a}}resolveFiles(t){return Bd.resolveFiles(t,this.baseUrl)}}_u.GenericProvider=v2;var Yo={},qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.BitbucketProvider=void 0;const zv=Vt(),qd=_r,Hd=zt;class y2 extends Hd.Provider{constructor(t,r,i){super({...i,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:a,slug:s}=t;this.baseUrl=qd.newBaseUrl(`https://api.bitbucket.org/2.0/repositories/${a}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new zv.CancellationToken,r=qd.getChannelFilename(this.getCustomChannelName(this.channel)),i=qd.newUrlFromBase(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const a=await this.httpRequest(i,void 0,t);return Hd.parseUpdateInfo(a,r,i)}catch(a){throw zv.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${a.stack||a.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return Hd.resolveFiles(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}qc.BitbucketProvider=y2;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.computeReleaseNotes=Ti.GitHubProvider=Ti.BaseGitHubProvider=void 0;const $i=Vt(),Js=dp,_2=ca.default,xo=_r,gh=zt,Wd=/\/tag\/([^/]+)$/;class zw extends gh.Provider{constructor(t,r,i){super({...i,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=xo.newBaseUrl($i.githubUrl(t,r));const a=r==="github.com"?"api.github.com":r;this.baseApiUrl=xo.newBaseUrl($i.githubUrl(t,a))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}Ti.BaseGitHubProvider=zw;class w2 extends zw{constructor(t,r,i){super(t,"github.com",i),this.options=t,this.updater=r}async getLatestVersion(){var t,r,i,a;const s=new $i.CancellationToken,u=await this.httpRequest(xo.newUrlFromBase(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},s),c=$i.parseXml(u);let f=c.element("entry",!1,"No published versions on GitHub"),m=null;try{if(this.updater.allowPrerelease){const R=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=Js.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(R===null)m=Wd.exec(f.element("link").attribute("href"))[1];else for(const T of c.getElements("entry")){const $=Wd.exec(T.element("link").attribute("href"));if($===null)continue;const _=$[1],I=((i=Js.prerelease(_))===null||i===void 0?void 0:i[0])||null,N=!R||["alpha","beta"].includes(R),Y=!["alpha","beta"].includes(String(I));if(N&&!Y&&!(R==="beta"&&I==="alpha")){m=_;break}if(I&&I===R){m=_;break}}}else{m=await this.getLatestTagName(s);for(const R of c.getElements("entry"))if(Wd.exec(R.element("link").attribute("href"))[1]===m){f=R;break}}}catch(R){throw $i.newError(`Cannot parse releases feed: ${R.stack||R.message},
XML:
${u}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(m==null)throw $i.newError("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let h,d="",g="";const v=async R=>{d=xo.getChannelFilename(R),g=xo.newUrlFromBase(this.getBaseDownloadPath(String(m),d),this.baseUrl);const T=this.createRequestOptions(g);try{return await this.executor.request(T,s)}catch($){throw $ instanceof $i.HttpError&&$.statusCode===404?$i.newError(`Cannot find ${d} in the latest release artifacts (${g}): ${$.stack||$.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):$}};try{const R=this.updater.allowPrerelease?this.getCustomChannelName(String(((a=Js.prerelease(m))===null||a===void 0?void 0:a[0])||"latest")):this.getDefaultChannelName();h=await v(R)}catch(R){if(this.updater.allowPrerelease)h=await v(this.getDefaultChannelName());else throw R}const b=gh.parseUpdateInfo(h,d,g);return b.releaseName==null&&(b.releaseName=f.elementValueOrEmpty("title")),b.releaseNotes==null&&(b.releaseNotes=Vw(this.updater.currentVersion,this.updater.fullChangelog,c,f)),{tag:m,...b}}async getLatestTagName(t){const r=this.options,i=r.host==null||r.host==="github.com"?xo.newUrlFromBase(`${this.basePath}/latest`,this.baseUrl):new _2.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const a=await this.httpRequest(i,{Accept:"application/json"},t);return a==null?null:JSON.parse(a).tag_name}catch(a){throw $i.newError(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${a.stack||a.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return gh.resolveFiles(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}Ti.GitHubProvider=w2;function Vv(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Vw(e,t,r,i){if(!t)return Vv(i);const a=[];for(const s of r.getElements("entry")){const u=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];Js.lt(e,u)&&a.push({version:u,note:Vv(s)})}return a.sort((s,u)=>Js.rcompare(s.version,u.version))}Ti.computeReleaseNotes=Vw;var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.KeygenProvider=void 0;const Yv=Vt(),Gd=_r,zd=zt;class E2 extends zd.Provider{constructor(t,r,i){super({...i,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=Gd.newBaseUrl(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new Yv.CancellationToken,r=Gd.getChannelFilename(this.getCustomChannelName(this.channel)),i=Gd.newUrlFromBase(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const a=await this.httpRequest(i,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return zd.parseUpdateInfo(a,r,i)}catch(a){throw Yv.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${a.stack||a.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return zd.resolveFiles(t,this.baseUrl)}toString(){const{account:t,product:r,platform:i}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${i}, channel: ${this.channel})`}}Hc.KeygenProvider=E2;var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.PrivateGitHubProvider=void 0;const Ao=Vt(),$2=dr,S2=Oe.default,Kv=ca.default,Jv=_r,b2=Ti,A2=zt;class T2 extends b2.BaseGitHubProvider{constructor(t,r,i,a){super(t,"api.github.com",a),this.updater=r,this.token=i}createRequestOptions(t,r){const i=super.createRequestOptions(t,r);return i.redirect="manual",i}async getLatestVersion(){const t=new Ao.CancellationToken,r=Jv.getChannelFilename(this.getDefaultChannelName()),i=await this.getLatestVersionInfo(t),a=i.assets.find(c=>c.name===r);if(a==null)throw Ao.newError(`Cannot find ${r} in the release ${i.html_url||i.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new Kv.URL(a.url);let u;try{u=$2.load(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(c){throw c instanceof Ao.HttpError&&c.statusCode===404?Ao.newError(`Cannot find ${r} in the latest release artifacts (${s}): ${c.stack||c.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):c}return u.assets=i.assets,u}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let i=this.basePath;r||(i=`${i}/latest`);const a=Jv.newUrlFromBase(i,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(a,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(u=>u.prerelease)||s[0]:s}catch(s){throw Ao.newError(`Unable to find latest version on GitHub (${a}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return A2.getFileList(t).map(r=>{const i=S2.posix.basename(r.url).replace(/ /g,"-"),a=t.assets.find(s=>s!=null&&s.name===i);if(a==null)throw Ao.newError(`Cannot find asset "${i}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Kv.URL(a.url),info:r}})}}Wc.PrivateGitHubProvider=T2;Object.defineProperty(Yo,"__esModule",{value:!0});Yo.createClient=Yo.isUrlProbablySupportMultiRangeRequests=void 0;const Ml=Vt(),O2=qc,Xv=_u,C2=Ti,R2=Hc,I2=Wc;function Yw(e){return!e.includes("s3.amazonaws.com")}Yo.isUrlProbablySupportMultiRangeRequests=Yw;function P2(e,t,r){if(typeof e=="string")throw Ml.newError("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const i=e.provider;switch(i){case"github":{const a=e,s=(a.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||a.token;return s==null?new C2.GitHubProvider(a,t,r):new I2.PrivateGitHubProvider(a,t,s,r)}case"bitbucket":return new O2.BitbucketProvider(e,t,r);case"keygen":return new R2.KeygenProvider(e,t,r);case"s3":case"spaces":return new Xv.GenericProvider({provider:"generic",url:Ml.getS3LikeProviderBaseUrl(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const a=e;return new Xv.GenericProvider(a,t,{...r,isUseMultipleRangeRequest:a.useMultipleRangeRequest!==!1&&Yw(a.url)})}case"custom":{const a=e,s=a.updateProvider;if(!s)throw Ml.newError("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(a,t,r)}default:throw Ml.newError(`Unsupported provider: ${i}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}Yo.createClient=P2;var Qv;function hp(){if(Qv)return Oa;Qv=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.NoOpLogger=Oa.AppUpdater=void 0;const e=Vt(),t=Ya.default,r=Tc.default,i=Xa,a=dr,s=xc,u=Oe.default,c=dp,f=Vo,m=jc,h=qw,d=_u,g=Kc(),v=Yo;class b extends r.EventEmitter{constructor(_,I){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new g.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new s.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",x=>{this._logger.error(`Error: ${x.stack||x.message}`)}),I==null?(this.app=new m.ElectronAppAdapter,this.httpExecutor=new h.ElectronHttpExecutor((x,P)=>this.emit("login",x,P))):(this.app=I,this.httpExecutor=null);const N=this.app.version,Y=c.parse(N);if(Y==null)throw e.newError(`App version is not a valid semver version: "${N}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=Y,this.allowPrerelease=R(Y),_!=null&&(this.setFeedURL(_),typeof _!="string"&&_.requestHeaders&&(this.requestHeaders=_.requestHeaders))}get channel(){return this._channel}set channel(_){if(this._channel!=null){if(typeof _!="string")throw e.newError(`Channel must be a string, but got: ${_}`,"ERR_UPDATER_INVALID_CHANNEL");if(_.length===0)throw e.newError("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=_,this.allowDowngrade=!0}addAuthHeader(_){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:_})}get netSession(){return h.getNetSession()}get logger(){return this._logger}set logger(_){this._logger=_==null?new T:_}set updateConfigPath(_){this.clientPromise=null,this._appUpdateConfigPath=_,this.configOnDisk=new s.Lazy(()=>this.loadUpdateConfig())}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(_){const I=this.createProviderRuntimeOptions();let N;typeof _=="string"?N=new d.GenericProvider({provider:"generic",url:_},this,{...I,isUseMultipleRangeRequest:v.isUrlProbablySupportMultiRangeRequests(_)}):N=v.createClient(_,this,I),this.clientPromise=Promise.resolve(N)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let _=this.checkForUpdatesPromise;if(_!=null)return this._logger.info("Checking for update (already in progress)"),_;const I=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),_=this.doCheckForUpdates().then(N=>(I(),N)).catch(N=>{throw I(),this.emit("error",N,`Cannot check for updates: ${(N.stack||N).toString()}`),N}),this.checkForUpdatesPromise=_,_}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(_){return this.checkForUpdates().then(I=>I!=null&&I.downloadPromise?(I.downloadPromise.then(()=>{const N=b.formatDownloadNotification(I.updateInfo.version,this.app.name,_);new ja.default.Notification(N).show()}),I):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),I))}static formatDownloadNotification(_,I,N){return N==null&&(N={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),N={title:N.title.replace("{appName}",I).replace("{version}",_),body:N.body.replace("{appName}",I).replace("{version}",_)},N}async isStagingMatch(_){const I=_.stagingPercentage;let N=I;if(N==null)return!0;if(N=parseInt(N,10),isNaN(N))return this._logger.warn(`Staging percentage is NaN: ${I}`),!0;N=N/100;const Y=await this.stagingUserIdPromise.value,P=e.UUID.parse(Y).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${N}, percentage: ${P}, user id: ${Y}`),P<N}computeFinalHeaders(_){return this.requestHeaders!=null&&Object.assign(_,this.requestHeaders),_}async isUpdateAvailable(_){const I=c.parse(_.version);if(I==null)throw e.newError(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${_.version}"`,"ERR_UPDATER_INVALID_VERSION");const N=this.currentVersion;if(c.eq(I,N)||!await this.isStagingMatch(_))return!1;const x=c.gt(I,N),P=c.lt(I,N);return x?!0:this.allowDowngrade&&P}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(N=>v.createClient(N,this,this.createProviderRuntimeOptions())));const _=await this.clientPromise,I=await this.stagingUserIdPromise.value;return _.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":I})),{info:await _.getLatestVersion(),provider:_}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const _=await this.getUpdateInfoAndProvider(),I=_.info;if(!await this.isUpdateAvailable(I))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${I.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",I),{versionInfo:I,updateInfo:I};this.updateInfoAndProvider=_,this.onUpdateAvailable(I);const N=new e.CancellationToken;return{versionInfo:I,updateInfo:I,cancellationToken:N,downloadPromise:this.autoDownload?this.downloadUpdate(N):null}}onUpdateAvailable(_){this._logger.info(`Found version ${_.version} (url: ${e.asArray(_.files).map(I=>I.url).join(", ")})`),this.emit("update-available",_)}downloadUpdate(_=new e.CancellationToken){const I=this.updateInfoAndProvider;if(I==null){const Y=new Error("Please check update first");return this.dispatchError(Y),Promise.reject(Y)}this._logger.info(`Downloading update from ${e.asArray(I.info.files).map(Y=>Y.url).join(", ")}`);const N=Y=>{if(!(Y instanceof e.CancellationError))try{this.dispatchError(Y)}catch(x){this._logger.warn(`Cannot dispatch error event: ${x.stack||x}`)}return Y};try{return this.doDownloadUpdate({updateInfoAndProvider:I,requestHeaders:this.computeRequestHeaders(I.provider),cancellationToken:_,disableWebInstaller:this.disableWebInstaller}).catch(Y=>{throw N(Y)})}catch(Y){return Promise.reject(N(Y))}}dispatchError(_){this.emit("error",_,(_.stack||_).toString())}dispatchUpdateDownloaded(_){this.emit(g.UPDATE_DOWNLOADED,_)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),a.load(await i.readFile(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(_){const I=_.fileExtraDownloadHeaders;if(I!=null){const N=this.requestHeaders;return N==null?I:{...I,...N}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const _=u.join(this.app.userDataPath,".updaterId");try{const N=await i.readFile(_,"utf-8");if(e.UUID.check(N))return N;this._logger.warn(`Staging user id file exists, but content was invalid: ${N}`)}catch(N){N.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${N}`)}const I=e.UUID.v5(t.randomBytes(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${I}`);try{await i.outputFile(_,I)}catch(N){this._logger.warn(`Couldn't write out staging user ID: ${N}`)}return I}get isAddNoCacheQuery(){const _=this.requestHeaders;if(_==null)return!0;for(const I of Object.keys(_)){const N=I.toLowerCase();if(N==="authorization"||N==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let _=this.downloadedUpdateHelper;if(_==null){const I=(await this.configOnDisk.value).updaterCacheDirName,N=this._logger;I==null&&N.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const Y=u.join(this.app.baseCachePath,I||this.app.name);N.debug!=null&&N.debug(`updater cache dir: ${Y}`),_=new f.DownloadedUpdateHelper(Y),this.downloadedUpdateHelper=_}return _}async executeDownload(_){const I=_.fileInfo,N={headers:_.downloadUpdateOptions.requestHeaders,cancellationToken:_.downloadUpdateOptions.cancellationToken,sha2:I.info.sha2,sha512:I.info.sha512};this.listenerCount(g.DOWNLOAD_PROGRESS)>0&&(N.onProgress=X=>this.emit(g.DOWNLOAD_PROGRESS,X));const Y=_.downloadUpdateOptions.updateInfoAndProvider.info,x=Y.version,P=I.packageInfo;function k(){const X=decodeURIComponent(_.fileInfo.url.pathname);return X.endsWith(`.${_.fileExtension}`)?u.basename(X):`update.${_.fileExtension}`}const E=await this.getOrCreateDownloadHelper(),Q=E.cacheDirForPendingUpdate;await i.mkdir(Q,{recursive:!0});const le=k();let ne=u.join(Q,le);const ue=P==null?null:u.join(Q,`package-${x}${u.extname(P.path)||".7z"}`),Z=async X=>(await E.setDownloadedFile(ne,ue,Y,I,le,X),await _.done({...Y,downloadedFile:ne}),ue==null?[ne]:[ne,ue]),de=this._logger,ge=await E.validateDownloadedPath(ne,Y,I,de);if(ge!=null)return ne=ge,await Z(!1);const ee=async()=>(await E.clear().catch(()=>{}),await i.unlink(ne).catch(()=>{})),G=await f.createTempUpdateFile(`temp-${le}`,Q,de);try{await _.task(G,N,ue,ee),await i.rename(G,ne)}catch(X){throw await ee(),X instanceof e.CancellationError&&(de.info("cancelled"),this.emit("update-cancelled",Y)),X}return de.info(`New version ${x} has been downloaded to ${ne}`),await Z(!0)}}Oa.AppUpdater=b;function R($){const _=c.prerelease($);return _!=null&&_.length>0}class T{info(_){}warn(_){}error(_){}}return Oa.NoOpLogger=T,Oa}var Rs={},Is={},Zv;function Kw(){if(Zv)return Is;Zv=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.BaseUpdater=void 0;const e=hp();class t extends e.AppUpdater{constructor(i,a){super(i,a),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(i=!1,a=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(i,i?a:this.autoRunAppAfterInstall)?setImmediate(()=>{ja.default.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(i){return super.executeDownload({...i,done:a=>(this.dispatchUpdateDownloaded(a),this.addQuitHandler(),Promise.resolve())})}install(i,a){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const s=this.downloadedUpdateHelper,u=s==null?null:s.file,c=s==null?null:s.downloadedFileInfo;if(u==null||c==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${i}, isForceRunAfter: ${a}`),this.doInstall({installerPath:u,isSilent:i,isForceRunAfter:a,isAdminRightsRequired:c.isAdminRightsRequired})}catch(f){return this.dispatchError(f),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(i=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(i!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${i}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}}return Is.BaseUpdater=t,Is}var wu={},Eu={},Wa={},Gc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.computeOperations=e.OperationKind=void 0;var t;(function(c){c[c.COPY=0]="COPY",c[c.DOWNLOAD=1]="DOWNLOAD"})(t=e.OperationKind||(e.OperationKind={}));function r(c,f,m){const h=u(c.files),d=u(f.files);let g=null;const v=f.files[0],b=[],R=v.name,T=h.get(R);if(T==null)throw new Error(`no file ${R} in old blockmap`);const $=d.get(R);let _=0;const{checksumToOffset:I,checksumToOldSize:N}=s(h.get(R),T.offset,m);let Y=v.offset;for(let x=0;x<$.checksums.length;Y+=$.sizes[x],x++){const P=$.sizes[x],k=$.checksums[x];let E=I.get(k);E!=null&&N.get(k)!==P&&(m.warn(`Checksum ("${k}") matches, but size differs (old: ${N.get(k)}, new: ${P})`),E=void 0),E===void 0?(_++,g!=null&&g.kind===t.DOWNLOAD&&g.end===Y?g.end+=P:(g={kind:t.DOWNLOAD,start:Y,end:Y+P},a(g,b,k,x))):g!=null&&g.kind===t.COPY&&g.end===E?g.end+=P:(g={kind:t.COPY,start:E,end:E+P},a(g,b,k,x))}return _>0&&m.info(`File${v.name==="file"?"":" "+v.name} has ${_} changed blocks`),b}e.computeOperations=r;const i=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function a(c,f,m,h){if(i&&f.length!==0){const d=f[f.length-1];if(d.kind===c.kind&&c.start<d.end&&c.start>d.start){const g=[d.start,d.end,c.start,c.end].reduce((v,b)=>v<b?v:b);throw new Error(`operation (block index: ${h}, checksum: ${m}, kind: ${t[c.kind]}) overlaps previous operation (checksum: ${m}):
abs: ${d.start} until ${d.end} and ${c.start} until ${c.end}
rel: ${d.start-g} until ${d.end-g} and ${c.start-g} until ${c.end-g}`)}}f.push(c)}function s(c,f,m){const h=new Map,d=new Map;let g=f;for(let v=0;v<c.checksums.length;v++){const b=c.checksums[v],R=c.sizes[v],T=d.get(b);if(T===void 0)h.set(b,g),d.set(b,R);else if(m.debug!=null){const $=T===R?"(same size)":`(size: ${T}, this size: ${R})`;m.debug(`${b} duplicated in blockmap ${$}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}g+=R}return{checksumToOffset:h,checksumToOldSize:d}}function u(c){const f=new Map;for(const m of c)f.set(m.name,m);return f}})(Gc);Object.defineProperty(Wa,"__esModule",{value:!0});Wa.DataSplitter=Wa.copyData=void 0;const kl=Vt(),N2=ct.default,D2=hu.default,F2=Gc,ey=Buffer.from(`\r
\r
`);var Ji;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(Ji||(Ji={}));function Jw(e,t,r,i,a){const s=N2.createReadStream("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",i),s.once("end",a),s.pipe(t,{end:!1})}Wa.copyData=Jw;class x2 extends D2.Writable{constructor(t,r,i,a,s,u){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=i,this.partIndexToLength=s,this.finishHandler=u,this.partIndex=-1,this.headerListBuffer=null,this.readState=Ji.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=a.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,i){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(i).catch(i)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw kl.newError("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const i=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=i,r=i}else if(this.remainingPartDataCount>0){const i=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=i,await this.processPartData(t,0,i),r=i}if(r!==t.length){if(this.readState===Ji.HEADER){const i=this.searchHeaderListEnd(t,r);if(i===-1)return;r=i,this.readState=Ji.BODY,this.headerListBuffer=null}for(;;){if(this.readState===Ji.BODY)this.readState=Ji.INIT;else{this.partIndex++;let u=this.partIndexToTaskIndex.get(this.partIndex);if(u==null)if(this.isFinished)u=this.options.end;else throw kl.newError("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const c=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(c<u)await this.copyExistingData(c,u);else if(c>u)throw kl.newError("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=Ji.HEADER;return}}const i=this.partIndexToLength[this.partIndex],a=r+i,s=Math.min(a,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=i-(s-r),this.remainingPartDataCount>0)return;if(r=a+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-a);return}}}}copyExistingData(t,r){return new Promise((i,a)=>{const s=()=>{if(t===r){i();return}const u=this.options.tasks[t];if(u.kind!==F2.OperationKind.COPY){a(new Error("Task kind must be COPY"));return}Jw(u,this.out,this.options.oldFileFd,a,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){const i=t.indexOf(ey,r);if(i!==-1)return i+ey.length;const a=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=a:this.headerListBuffer=Buffer.concat([this.headerListBuffer,a]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw kl.newError(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,i){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,i)}processPartData(t,r,i){this.actualPartLength+=i-r;const a=this.out;return a.write(r===0&&t.length===i?t:t.slice(r,i))?Promise.resolve():new Promise((s,u)=>{a.on("error",u),a.once("drain",()=>{a.removeListener("error",u),s()})})}}Wa.DataSplitter=x2;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.checkIsRangesSupported=Ko.executeTasksUsingMultipleRangeRequests=void 0;const vh=Vt(),ty=Wa,ry=Gc;function L2(e,t,r,i,a){const s=u=>{if(u>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const c=u+1e3;U2(e,{tasks:t,start:u,end:Math.min(t.length,c),oldFileFd:i},r,()=>s(c),a)};return s}Ko.executeTasksUsingMultipleRangeRequests=L2;function U2(e,t,r,i,a){let s="bytes=",u=0;const c=new Map,f=[];for(let d=t.start;d<t.end;d++){const g=t.tasks[d];g.kind===ry.OperationKind.DOWNLOAD&&(s+=`${g.start}-${g.end-1}, `,c.set(u,d),u++,f.push(g.end-g.start))}if(u<=1){const d=g=>{if(g>=t.end){i();return}const v=t.tasks[g++];if(v.kind===ry.OperationKind.COPY)ty.copyData(v,r,t.oldFileFd,a,()=>d(g));else{const b=e.createRequestOptions();b.headers.Range=`bytes=${v.start}-${v.end-1}`;const R=e.httpExecutor.createRequest(b,T=>{!yh(T,a)||(T.pipe(r,{end:!1}),T.once("end",()=>d(g)))});e.httpExecutor.addErrorAndTimeoutHandlers(R,a),R.end()}};d(t.start);return}const m=e.createRequestOptions();m.headers.Range=s.substring(0,s.length-2);const h=e.httpExecutor.createRequest(m,d=>{if(!yh(d,a))return;const g=vh.safeGetHeader(d,"content-type"),v=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(g);if(v==null){a(new Error(`Content-Type "multipart/byteranges" is expected, but got "${g}"`));return}const b=new ty.DataSplitter(r,t,c,v[1]||v[2],f,i);b.on("error",a),d.pipe(b),d.on("end",()=>{setTimeout(()=>{h.abort(),a(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(h,a),h.end()}function yh(e,t){if(e.statusCode>=400)return t(vh.createHttpError(e)),!1;if(e.statusCode!==206){const r=vh.safeGetHeader(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}Ko.checkIsRangesSupported=yh;var zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.ProgressDifferentialDownloadCallbackTransform=void 0;const M2=hu.default;var Lo;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Lo||(Lo={}));class k2 extends M2.Transform{constructor(t,r,i){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=i,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=Lo.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,i){if(this.cancellationToken.cancelled){i(new Error("cancelled"),null);return}if(this.operationType==Lo.COPY){i(null,t);return}this.transferred+=t.length,this.delta+=t.length;const a=Date.now();a>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=a+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((a-this.start)/1e3))}),this.delta=0),i(null,t)}beginFileCopy(){this.operationType=Lo.COPY}beginRangeDownload(){this.operationType=Lo.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}zc.ProgressDifferentialDownloadCallbackTransform=k2;Object.defineProperty(Eu,"__esModule",{value:!0});Eu.DifferentialDownloader=void 0;const Ps=Vt(),Vd=Xa,j2=ct.default,B2=Wa,q2=ca.default,jl=Gc,ny=Ko,H2=zc;class W2{constructor(t,r,i){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=i,this.fileMetadataBuffer=null,this.logger=i.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return Ps.configureRequestUrl(this.options.newUrl,t),Ps.configureRequestOptions(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const i=this.logger,a=jl.computeOperations(t,r,i);i.debug!=null&&i.debug(JSON.stringify(a,null,2));let s=0,u=0;for(const f of a){const m=f.end-f.start;f.kind===jl.OperationKind.DOWNLOAD?s+=m:u+=m}const c=this.blockAwareFileInfo.size;if(s+u+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==c)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${u}, newSize: ${c}`);return i.info(`Full: ${iy(c)}, To download: ${iy(s)} (${Math.round(s/(c/100))}%)`),this.downloadFile(a)}downloadFile(t){const r=[],i=()=>Promise.all(r.map(a=>Vd.close(a.descriptor).catch(s=>{this.logger.error(`cannot close file "${a.path}": ${s}`)})));return this.doDownloadFile(t,r).then(i).catch(a=>i().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(u){try{console.error(u)}catch{}}throw a}).then(()=>{throw a}))}async doDownloadFile(t,r){const i=await Vd.open(this.options.oldFile,"r");r.push({descriptor:i,path:this.options.oldFile});const a=await Vd.open(this.options.newFile,"w");r.push({descriptor:a,path:this.options.newFile});const s=j2.createWriteStream(this.options.newFile,{fd:a});await new Promise((u,c)=>{const f=[];let m;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const $=[];let _=0;for(const N of t)N.kind===jl.OperationKind.DOWNLOAD&&($.push(N.end-N.start),_+=N.end-N.start);const I={expectedByteCounts:$,grandTotal:_};m=new H2.ProgressDifferentialDownloadCallbackTransform(I,this.options.cancellationToken,this.options.onProgress),f.push(m)}const h=new Ps.DigestTransform(this.blockAwareFileInfo.sha512);h.isValidateOnEnd=!1,f.push(h),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{h.validate()}catch($){c($);return}u(void 0)})}),f.push(s);let d=null;for(const $ of f)$.on("error",c),d==null?d=$:d=d.pipe($);const g=f[0];let v;if(this.options.isUseMultipleRangeRequest){v=ny.executeTasksUsingMultipleRangeRequests(this,t,g,i,c),v(0);return}let b=0,R=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const T=this.createRequestOptions();T.redirect="manual",v=$=>{var _,I;if($>=t.length){this.fileMetadataBuffer!=null&&g.write(this.fileMetadataBuffer),g.end();return}const N=t[$++];if(N.kind===jl.OperationKind.COPY){m&&m.beginFileCopy(),B2.copyData(N,g,i,c,()=>v($));return}const Y=`bytes=${N.start}-${N.end-1}`;T.headers.range=Y,(I=(_=this.logger)===null||_===void 0?void 0:_.debug)===null||I===void 0||I.call(_,`download range: ${Y}`),m&&m.beginRangeDownload();const x=this.httpExecutor.createRequest(T,P=>{P.statusCode>=400&&c(Ps.createHttpError(P)),P.pipe(g,{end:!1}),P.once("end",()=>{m&&m.endRangeDownload(),++b===100?(b=0,setTimeout(()=>v($),1e3)):v($)})});x.on("redirect",(P,k,E)=>{this.logger.info(`Redirect to ${G2(E)}`),R=E,Ps.configureRequestUrl(new q2.URL(R),T),x.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(x,c),x.end()},v(0)})}async readRemoteBytes(t,r){const i=Buffer.allocUnsafe(r+1-t),a=this.createRequestOptions();a.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(a,u=>{u.copy(i,s),s+=u.length}),s!==i.length)throw new Error(`Received data length ${s} is not equal to expected ${i.length}`);return i}request(t,r){return new Promise((i,a)=>{const s=this.httpExecutor.createRequest(t,u=>{!ny.checkIsRangesSupported(u,a)||(u.on("data",r),u.on("end",()=>i()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,a),s.end()})}}Eu.DifferentialDownloader=W2;function iy(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function G2(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(wu,"__esModule",{value:!0});wu.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const To=Xa,z2=Eu,V2=Zy.default;class Y2 extends z2.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,i=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(i,r-1);const a=Xw(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await K2(this.options.oldFile),a)}}wu.FileWithEmbeddedBlockMapDifferentialDownloader=Y2;function Xw(e){return JSON.parse(V2.inflateRawSync(e).toString())}async function K2(e){const t=await To.open(e,"r");try{const r=(await To.fstat(t)).size,i=Buffer.allocUnsafe(4);await To.read(t,i,0,i.length,r-i.length);const a=Buffer.allocUnsafe(i.readUInt32BE(0));return await To.read(t,a,0,a.length,r-i.length-a.length),await To.close(t),Xw(a)}catch(r){throw await To.close(t),r}}var ay;function oy(){if(ay)return Rs;ay=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.AppImageUpdater=void 0;const e=Vt(),t=Oc.default,r=Xa,i=ct.default,a=Oe.default,s=Kw(),u=wu,c=Kc(),f=zt;class m extends s.BaseUpdater{constructor(d,g){super(d,g)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(d){const g=d.updateInfoAndProvider.provider,v=f.findFile(g.resolveFiles(d.updateInfoAndProvider.info),"AppImage");return this.executeDownload({fileExtension:"AppImage",fileInfo:v,downloadUpdateOptions:d,task:async(b,R)=>{const T=process.env.APPIMAGE;if(T==null)throw e.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let $=!1;try{const _={newUrl:v.url,oldFile:T,logger:this._logger,newFile:b,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,requestHeaders:d.requestHeaders,cancellationToken:d.cancellationToken};this.listenerCount(c.DOWNLOAD_PROGRESS)>0&&(_.onProgress=I=>this.emit(c.DOWNLOAD_PROGRESS,I)),await new u.FileWithEmbeddedBlockMapDifferentialDownloader(v.info,this.httpExecutor,_).download()}catch(_){this._logger.error(`Cannot download differentially, fallback to full download: ${_.stack||_}`),$=process.platform==="linux"}$&&await this.httpExecutor.download(v.url,b,R),await r.chmod(b,493)}})}doInstall(d){const g=process.env.APPIMAGE;if(g==null)throw e.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");i.unlinkSync(g);let v;const b=a.basename(g);a.basename(d.installerPath)===b||!/\d+\.\d+\.\d+/.test(b)?v=g:v=a.join(a.dirname(g),a.basename(d.installerPath)),t.execFileSync("mv",["-f",d.installerPath,v]),v!==g&&this.emit("appimage-filename-updated",v);const R={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return d.isForceRunAfter?t.spawn(v,[],{detached:!0,stdio:"ignore",env:R}).unref():(R.APPIMAGE_EXIT_AFTER_INSTALL="true",t.execFileSync(v,[],{env:R})),!0}}return Rs.AppImageUpdater=m,Rs}var Ns={},sy;function uy(){if(sy)return Ns;sy=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.MacUpdater=void 0;const e=Vt(),t=Xa,r=ct.default,i=e_.default,a=hp(),s=zt,u=Oc.default,c=Ya.default;class f extends a.AppUpdater{constructor(h,d){super(h,d),this.nativeUpdater=ja.default.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",g=>{this._logger.warn(g),this.emit("error",g)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(h){this._logger.debug!=null&&this._logger.debug(h)}async doDownloadUpdate(h){let d=h.updateInfoAndProvider.provider.resolveFiles(h.updateInfoAndProvider.info);const g=this._logger,v="sysctl.proc_translated";let b=!1;try{this.debug("Checking for macOS Rosetta environment"),b=u.execFileSync("sysctl",[v],{encoding:"utf8"}).includes(`${v}: 1`),g.info(`Checked for macOS Rosetta environment (isRosetta=${b})`)}catch(_){g.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${_}`)}let R=!1;try{this.debug("Checking for arm64 in uname");const I=u.execFileSync("uname",["-a"],{encoding:"utf8"}).includes("ARM");g.info(`Checked 'uname -a': arm64=${I}`),R=R||I}catch(_){g.warn(`uname shell command to check for arm64 failed: ${_}`)}R=R||process.arch==="arm64"||b;const T=_=>{var I;return _.url.pathname.includes("arm64")||((I=_.info.url)===null||I===void 0?void 0:I.includes("arm64"))};R&&d.some(T)?d=d.filter(_=>R===T(_)):d=d.filter(_=>!T(_));const $=s.findFile(d,"zip",["pkg","dmg"]);if($==null)throw e.newError(`ZIP file not provided: ${e.safeStringifyJson(d)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:$,downloadUpdateOptions:h,task:(_,I)=>this.httpExecutor.download($.url,_,I),done:_=>this.updateDownloaded($,_)})}async updateDownloaded(h,d){var g,v;const b=d.downloadedFile,R=(g=h.info.size)!==null&&g!==void 0?g:(await t.stat(b)).size,T=this._logger,$=`fileToProxy=${h.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${$})`),(v=this.server)===null||v===void 0||v.close(),this.server=i.createServer(),this.debug(`Proxy server for native Squirrel.Mac is created (${$})`),this.server.on("close",()=>{T.info(`Proxy server for native Squirrel.Mac is closed (${$})`)});const _=I=>{const N=I.address();return typeof N=="string"?N:`http://127.0.0.1:${N==null?void 0:N.port}`};return await new Promise((I,N)=>{const Y=c.randomBytes(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),x=Buffer.from(`autoupdater:${Y}`,"ascii"),P=`/${c.randomBytes(64).toString("hex")}.zip`;this.server.on("request",(k,E)=>{const Q=k.url;if(T.info(`${Q} requested`),Q==="/"){if(!k.headers.authorization||k.headers.authorization.indexOf("Basic ")===-1){E.statusCode=401,E.statusMessage="Invalid Authentication Credentials",E.end(),T.warn("No authenthication info");return}const ue=k.headers.authorization.split(" ")[1],Z=Buffer.from(ue,"base64").toString("ascii"),[de,ge]=Z.split(":");if(de!=="autoupdater"||ge!==Y){E.statusCode=401,E.statusMessage="Invalid Authentication Credentials",E.end(),T.warn("Invalid authenthication credentials");return}const ee=Buffer.from(`{ "url": "${_(this.server)}${P}" }`);E.writeHead(200,{"Content-Type":"application/json","Content-Length":ee.length}),E.end(ee);return}if(!Q.startsWith(P)){T.warn(`${Q} requested, but not supported`),E.writeHead(404),E.end();return}T.info(`${P} requested by Squirrel.Mac, pipe ${b}`);let le=!1;E.on("finish",()=>{le||(this.nativeUpdater.removeListener("error",N),I([]))});const ne=r.createReadStream(b);ne.on("error",ue=>{try{E.end()}catch(Z){T.warn(`cannot end response: ${Z}`)}le=!0,this.nativeUpdater.removeListener("error",N),N(new Error(`Cannot pipe "${b}": ${ue}`))}),E.writeHead(200,{"Content-Type":"application/zip","Content-Length":R}),ne.pipe(E)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${$})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${_(this.server)}, ${$})`),this.nativeUpdater.setFeedURL({url:_(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${x.toString("base64")}`}}),this.dispatchUpdateDownloaded(d),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",N),this.nativeUpdater.checkForUpdates()):I([])})})}quitAndInstall(){var h;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(h=this.server)===null||h===void 0||h.close()):(this.nativeUpdater.on("update-downloaded",()=>{var d;this.nativeUpdater.quitAndInstall(),(d=this.server)===null||d===void 0||d.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}}return Ns.MacUpdater=f,Ns}var Ds={},Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.GenericDifferentialDownloader=void 0;const J2=Eu;class X2 extends J2.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}Vc.GenericDifferentialDownloader=X2;var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.verifySignature=void 0;const ly=Vt(),Qw=Oc.default,Q2=la.default;function Z2(e,t,r){return new Promise(i=>{const a=t.replace(/'/g,"''");Qw.execFile("powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`Get-AuthenticodeSignature -LiteralPath '${a}' | ConvertTo-Json -Compress | ForEach-Object { [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($_)) }`],{timeout:20*1e3},(s,u,c)=>{try{if(s!=null||c){cy(r,s,c),i(null);return}const f=eU(Buffer.from(u,"base64").toString("utf-8"));if(f.Status===0){const h=ly.parseDn(f.SignerCertificate.Subject);let d=!1;for(const g of e){const v=ly.parseDn(g);if(v.size?d=Array.from(v.keys()).every(R=>v.get(R)===h.get(R)):g===h.get("CN")&&(r.warn(`Signature validated using only CN ${g}. Please add your full Distinguished Name (DN) to publisherNames configuration`),d=!0),d){i(null);return}}}const m=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(f,(h,d)=>h==="RawData"?void 0:d,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${m}`),i(m)}catch(f){cy(r,f,null),i(null);return}})})}Yc.verifySignature=Z2;function eU(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function cy(e,t,r){if(tU()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{Qw.execFileSync("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}if(t!=null)throw t;if(r)throw new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`)}function tU(){const e=Q2.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var fy;function dy(){if(fy)return Ds;fy=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.NsisUpdater=void 0;const e=Vt(),t=Oc.default,r=Oe.default,i=Kw(),a=wu,s=Vc,u=Kc(),c=_r,f=zt,m=Xa,h=Yc,d=ca.default,g=Zy.default;class v extends i.BaseUpdater{constructor(T,$){super(T,$)}doDownloadUpdate(T){const $=T.updateInfoAndProvider.provider,_=f.findFile($.resolveFiles(T.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:T,fileInfo:_,task:async(I,N,Y,x)=>{const P=_.packageInfo,k=P!=null&&Y!=null;if(k&&T.disableWebInstaller)throw e.newError(`Unable to download new version ${T.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!k&&!T.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(k||await this.differentialDownloadInstaller(_,T,I,$))&&await this.httpExecutor.download(_.url,I,N);const E=await this.verifySignature(I);if(E!=null)throw await x(),e.newError(`New version ${T.updateInfoAndProvider.info.version} is not signed by the application owner: ${E}`,"ERR_UPDATER_INVALID_SIGNATURE");if(k&&await this.differentialDownloadWebPackage(T,P,Y,$))try{await this.httpExecutor.download(new d.URL(P.path),Y,{headers:T.requestHeaders,cancellationToken:T.cancellationToken,sha512:P.sha512})}catch(Q){try{await m.unlink(Y)}catch{}throw Q}}})}async verifySignature(T){let $;try{if($=(await this.configOnDisk.value).publisherName,$==null)return null}catch(_){if(_.code==="ENOENT")return null;throw _}return await h.verifySignature(Array.isArray($)?$:[$],T,this._logger)}doInstall(T){const $=["--updated"];T.isSilent&&$.push("/S"),T.isForceRunAfter&&$.push("--force-run"),this.installDirectory&&$.push(`/D=${this.installDirectory}`);const _=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;_!=null&&$.push(`--package-file=${_}`);const I=()=>{b(r.join(process.resourcesPath,"elevate.exe"),[T.installerPath].concat($)).catch(N=>this.dispatchError(N))};return T.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),I(),!0):(b(T.installerPath,$).catch(N=>{const Y=N.code;this._logger.info(`Cannot run installer: error code: ${Y}, error message: "${N.message}", will be executed again using elevate if EACCES"`),Y==="UNKNOWN"||Y==="EACCES"?I():this.dispatchError(N)}),!0)}async differentialDownloadInstaller(T,$,_,I){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const N=c.blockmapFiles(T.url,this.app.version,$.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${N[0]}", new: ${N[1]})`);const Y=async k=>{const E=await this.httpExecutor.downloadToBuffer(k,{headers:$.requestHeaders,cancellationToken:$.cancellationToken});if(E==null||E.length===0)throw new Error(`Blockmap "${k.href}" is empty`);try{return JSON.parse(g.gunzipSync(E).toString())}catch(Q){throw new Error(`Cannot parse blockmap "${k.href}", error: ${Q}`)}},x={newUrl:T.url,oldFile:r.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:_,isUseMultipleRangeRequest:I.isUseMultipleRangeRequest,requestHeaders:$.requestHeaders,cancellationToken:$.cancellationToken};this.listenerCount(u.DOWNLOAD_PROGRESS)>0&&(x.onProgress=k=>this.emit(u.DOWNLOAD_PROGRESS,k));const P=await Promise.all(N.map(k=>Y(k)));return await new s.GenericDifferentialDownloader(T.info,this.httpExecutor,x).download(P[0],P[1]),!1}catch(N){if(this._logger.error(`Cannot download differentially, fallback to full download: ${N.stack||N}`),this._testOnlyOptions!=null)throw N;return!0}}async differentialDownloadWebPackage(T,$,_,I){if($.blockMapSize==null)return!0;try{const N={newUrl:new d.URL($.path),oldFile:r.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:_,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:I.isUseMultipleRangeRequest,cancellationToken:T.cancellationToken};this.listenerCount(u.DOWNLOAD_PROGRESS)>0&&(N.onProgress=Y=>this.emit(u.DOWNLOAD_PROGRESS,Y)),await new a.FileWithEmbeddedBlockMapDifferentialDownloader($,this.httpExecutor,N).download()}catch(N){return this._logger.error(`Cannot download differentially, fallback to full download: ${N.stack||N}`),process.platform==="win32"}return!1}}Ds.NsisUpdater=v;async function b(R,T){return new Promise(($,_)=>{try{const I=t.spawn(R,T,{detached:!0,stdio:"ignore"});I.on("error",N=>{_(N)}),I.unref(),I.pid!==void 0&&$(!0)}catch(I){_(I)}})}return Ds}var hy;function Kc(){return hy||(hy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=Vt();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});var r=hp();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return r.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return r.NoOpLogger}});var i=zt;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return i.Provider}});var a=oy();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return a.AppImageUpdater}});var s=uy();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return s.MacUpdater}});var u=dy();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return u.NsisUpdater}});let c;function f(){return process.platform==="win32"?c=new(dy()).NsisUpdater:process.platform==="darwin"?c=new(uy()).MacUpdater:c=new(oy()).AppImageUpdater,c}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>c||f()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class m{constructor(g){this.emitter=g}login(g){h(this.emitter,"login",g)}progress(g){h(this.emitter,e.DOWNLOAD_PROGRESS,g)}updateDownloaded(g){h(this.emitter,e.UPDATE_DOWNLOADED,g)}updateCancelled(g){h(this.emitter,"update-cancelled",g)}}e.UpdaterSignal=m;function h(d,g,v){d.on(g,v)}}(vd)),vd}var Pi=Kc();Pi.autoUpdater.autoInstallOnAppQuit=!1;Pi.autoUpdater.on("checking-for-update",()=>{console.log("\u6B63\u5728\u68C0\u67E5\u66F4\u65B0\u2026\u2026")});Pi.autoUpdater.on("update-available",()=>{console.log("\u4E0B\u8F7D\u66F4\u65B0\u5305\u6210\u529F")});Pi.autoUpdater.on("update-not-available",()=>{console.log("\u73B0\u5728\u4F7F\u7528\u7684\u5C31\u662F\u6700\u65B0\u7248\u672C\uFF0C\u4E0D\u7528\u66F4\u65B0")});Pi.autoUpdater.on("error",(e,t)=>{console.log("\u68C0\u67E5\u66F4\u65B0\u51FA\u9519"),console.log(e),console.log(t)});Pi.autoUpdater.on("download-progress",()=>{console.log("\u6B63\u5728\u4E0B\u8F7D...")});Pi.autoUpdater.on("update-downloaded",e=>{const{releaseName:t,releaseNotes:r}=e;console.log("\u4E0B\u8F7D\u5B8C\u6210\uFF0C\u66F4\u65B0\u5F00\u59CB");const i={type:"info",buttons:["\u786E\u5B9A","\u53D6\u6D88"],title:"\u5E94\u7528\u66F4\u65B0",message:process.platform==="win32"?r:t,detail:"\u53D1\u73B0\u6709\u65B0\u7248\u672C\uFF0C\u662F\u5426\u66F4\u65B0\uFF1F"};we.dialog.showMessageBox(i).then(a=>{if(a.response===0)console.log("\u5F00\u59CB\u66F4\u65B0"),setTimeout(()=>{Pi.autoUpdater.quitAndInstall()},5e3);else{console.log("\u53D6\u6D88\u66F4\u65B0");return}})});const Zw=()=>Pi.autoUpdater.checkForUpdates();var _h={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,h="__lodash_placeholder__",d=1,g=2,v=4,b=1,R=2,T=1,$=2,_=4,I=8,N=16,Y=32,x=64,P=128,k=256,E=512,Q=30,le="...",ne=800,ue=16,Z=1,de=2,ge=3,ee=1/0,G=9007199254740991,X=17976931348623157e292,W=0/0,U=4294967295,re=U-1,K=U>>>1,O=[["ary",P],["bind",T],["bindKey",$],["curry",I],["curryRight",N],["flip",E],["partial",Y],["partialRight",x],["rearg",k]],L="[object Arguments]",oe="[object Array]",S="[object AsyncFunction]",y="[object Boolean]",te="[object Date]",H="[object DOMException]",Ee="[object Error]",je="[object Function]",et="[object GeneratorFunction]",Ve="[object Map]",St="[object Number]",bt="[object Null]",Ye="[object Object]",Ft="[object Promise]",un="[object Proxy]",nr="[object RegExp]",Tt="[object Set]",xt="[object String]",Lt="[object Symbol]",qn="[object Undefined]",Kr="[object WeakMap]",En="[object WeakSet]",hr="[object ArrayBuffer]",Er="[object DataView]",Yt="[object Float32Array]",Pt="[object Float64Array]",ii="[object Int8Array]",ai="[object Int16Array]",$n="[object Int32Array]",oi="[object Uint8Array]",Hn="[object Uint8ClampedArray]",si="[object Uint16Array]",ir="[object Uint32Array]",os=/\b__p \+= '';/g,Sn=/\b(__p \+=) '' \+/g,Qa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Za=/&(?:amp|lt|gt|quot|#39);/g,eo=/[&<>"']/g,da=RegExp(Za.source),xr=RegExp(eo.source),ha=/<%-([\s\S]+?)%>/g,Ni=/<%([\s\S]+?)%>/g,Di=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,ss=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fi=/[\\^$.*+?()[\]{}|]/g,us=RegExp(Fi.source),xi=/^\s+/,j=/\s/,D=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,B=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,be=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,Pe=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,$r="\\ud800-\\udfff",Lr="\\u0300-\\u036f",Ur="\\ufe20-\\ufe2f",Jr="\\u20d0-\\u20ff",ln=Lr+Ur+Jr,ar="\\u2700-\\u27bf",Nt="a-z\\xdf-\\xf6\\xf8-\\xff",An="\\xac\\xb1\\xd7\\xf7",Xr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ui="\\u2000-\\u206f",ro=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pa="A-Z\\xc0-\\xd6\\xd8-\\xde",li="\\ufe0e\\ufe0f",cn=An+Xr+ui+ro,Wn="['\u2019]",Gn="["+$r+"]",Li="["+cn+"]",Qr="["+ln+"]",Ru="\\d+",uf="["+ar+"]",Iu="["+Nt+"]",Pu="[^"+$r+cn+Ru+ar+Nt+pa+"]",no="\\ud83c[\\udffb-\\udfff]",lf="(?:"+Qr+"|"+no+")",Nu="[^"+$r+"]",io="(?:\\ud83c[\\udde6-\\uddff]){2}",Ui="[\\ud800-\\udbff][\\udc00-\\udfff]",Zr="["+pa+"]",Du="\\u200d",Fu="(?:"+Iu+"|"+Pu+")",zn="(?:"+Zr+"|"+Pu+")",xu="(?:"+Wn+"(?:d|ll|m|re|s|t|ve))?",Lu="(?:"+Wn+"(?:D|LL|M|RE|S|T|VE))?",Uu=lf+"?",Mu="["+li+"]?",cf="(?:"+Du+"(?:"+[Nu,io,Ui].join("|")+")"+Mu+Uu+")*",ci="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ku="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ju=Mu+Uu+cf,ao="(?:"+[uf,io,Ui].join("|")+")"+ju,ff="(?:"+[Nu+Qr+"?",Qr,io,Ui,Gn].join("|")+")",ls=RegExp(Wn,"g"),df=RegExp(Qr,"g"),oo=RegExp(no+"(?="+no+")|"+ff+ju,"g"),Bu=RegExp([Zr+"?"+Iu+"+"+xu+"(?="+[Li,Zr,"$"].join("|")+")",zn+"+"+Lu+"(?="+[Li,Zr+Fu,"$"].join("|")+")",Zr+"?"+Fu+"+"+xu,Zr+"+"+Lu,ku,ci,Ru,ao].join("|"),"g"),qu=RegExp("["+Du+$r+ln+li+"]"),ma=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hf=-1,dt={};dt[Yt]=dt[Pt]=dt[ii]=dt[ai]=dt[$n]=dt[oi]=dt[Hn]=dt[si]=dt[ir]=!0,dt[L]=dt[oe]=dt[hr]=dt[y]=dt[Er]=dt[te]=dt[Ee]=dt[je]=dt[Ve]=dt[St]=dt[Ye]=dt[nr]=dt[Tt]=dt[xt]=dt[Kr]=!1;var lt={};lt[L]=lt[oe]=lt[hr]=lt[Er]=lt[y]=lt[te]=lt[Yt]=lt[Pt]=lt[ii]=lt[ai]=lt[$n]=lt[Ve]=lt[St]=lt[Ye]=lt[nr]=lt[Tt]=lt[xt]=lt[Lt]=lt[oi]=lt[Hn]=lt[si]=lt[ir]=!0,lt[Ee]=lt[je]=lt[Kr]=!1;var F={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,Fe=parseInt,wt=typeof qt=="object"&&qt&&qt.Object===Object&&qt,Ht=typeof self=="object"&&self&&self.Object===Object&&self,Ke=wt||Ht||Function("return this")(),pt=t&&!t.nodeType&&t,Ut=pt&&!0&&e&&!e.nodeType&&e,Mr=Ut&&Ut.exports===pt,Wt=Mr&&wt.process,Et=function(){try{var z=Ut&&Ut.require&&Ut.require("util").types;return z||Wt&&Wt.binding&&Wt.binding("util")}catch{}}(),Sr=Et&&Et.isArrayBuffer,Tn=Et&&Et.isDate,fn=Et&&Et.isMap,Vn=Et&&Et.isRegExp,cs=Et&&Et.isSet,ga=Et&&Et.isTypedArray;function Xt(z,ce,se){switch(se.length){case 0:return z.call(ce);case 1:return z.call(ce,se[0]);case 2:return z.call(ce,se[0],se[1]);case 3:return z.call(ce,se[0],se[1],se[2])}return z.apply(ce,se)}function F1(z,ce,se,_e){for(var De=-1,tt=z==null?0:z.length;++De<tt;){var Kt=z[De];ce(_e,Kt,se(Kt),z)}return _e}function dn(z,ce){for(var se=-1,_e=z==null?0:z.length;++se<_e&&ce(z[se],se,z)!==!1;);return z}function x1(z,ce){for(var se=z==null?0:z.length;se--&&ce(z[se],se,z)!==!1;);return z}function Sm(z,ce){for(var se=-1,_e=z==null?0:z.length;++se<_e;)if(!ce(z[se],se,z))return!1;return!0}function Mi(z,ce){for(var se=-1,_e=z==null?0:z.length,De=0,tt=[];++se<_e;){var Kt=z[se];ce(Kt,se,z)&&(tt[De++]=Kt)}return tt}function Wu(z,ce){var se=z==null?0:z.length;return!!se&&so(z,ce,0)>-1}function pf(z,ce,se){for(var _e=-1,De=z==null?0:z.length;++_e<De;)if(se(ce,z[_e]))return!0;return!1}function At(z,ce){for(var se=-1,_e=z==null?0:z.length,De=Array(_e);++se<_e;)De[se]=ce(z[se],se,z);return De}function ki(z,ce){for(var se=-1,_e=ce.length,De=z.length;++se<_e;)z[De+se]=ce[se];return z}function mf(z,ce,se,_e){var De=-1,tt=z==null?0:z.length;for(_e&&tt&&(se=z[++De]);++De<tt;)se=ce(se,z[De],De,z);return se}function L1(z,ce,se,_e){var De=z==null?0:z.length;for(_e&&De&&(se=z[--De]);De--;)se=ce(se,z[De],De,z);return se}function gf(z,ce){for(var se=-1,_e=z==null?0:z.length;++se<_e;)if(ce(z[se],se,z))return!0;return!1}var U1=vf("length");function M1(z){return z.split("")}function k1(z){return z.match(ie)||[]}function bm(z,ce,se){var _e;return se(z,function(De,tt,Kt){if(ce(De,tt,Kt))return _e=tt,!1}),_e}function Gu(z,ce,se,_e){for(var De=z.length,tt=se+(_e?1:-1);_e?tt--:++tt<De;)if(ce(z[tt],tt,z))return tt;return-1}function so(z,ce,se){return ce===ce?X1(z,ce,se):Gu(z,Am,se)}function j1(z,ce,se,_e){for(var De=se-1,tt=z.length;++De<tt;)if(_e(z[De],ce))return De;return-1}function Am(z){return z!==z}function Tm(z,ce){var se=z==null?0:z.length;return se?_f(z,ce)/se:W}function vf(z){return function(ce){return ce==null?r:ce[z]}}function yf(z){return function(ce){return z==null?r:z[ce]}}function Om(z,ce,se,_e,De){return De(z,function(tt,Kt,mt){se=_e?(_e=!1,tt):ce(se,tt,Kt,mt)}),se}function B1(z,ce){var se=z.length;for(z.sort(ce);se--;)z[se]=z[se].value;return z}function _f(z,ce){for(var se,_e=-1,De=z.length;++_e<De;){var tt=ce(z[_e]);tt!==r&&(se=se===r?tt:se+tt)}return se}function wf(z,ce){for(var se=-1,_e=Array(z);++se<z;)_e[se]=ce(se);return _e}function q1(z,ce){return At(ce,function(se){return[se,z[se]]})}function Cm(z){return z&&z.slice(0,Nm(z)+1).replace(xi,"")}function en(z){return function(ce){return z(ce)}}function Ef(z,ce){return At(ce,function(se){return z[se]})}function fs(z,ce){return z.has(ce)}function Rm(z,ce){for(var se=-1,_e=z.length;++se<_e&&so(ce,z[se],0)>-1;);return se}function Im(z,ce){for(var se=z.length;se--&&so(ce,z[se],0)>-1;);return se}function H1(z,ce){for(var se=z.length,_e=0;se--;)z[se]===ce&&++_e;return _e}var W1=yf(F),G1=yf(V);function z1(z){return"\\"+ye[z]}function V1(z,ce){return z==null?r:z[ce]}function uo(z){return qu.test(z)}function Y1(z){return ma.test(z)}function K1(z){for(var ce,se=[];!(ce=z.next()).done;)se.push(ce.value);return se}function $f(z){var ce=-1,se=Array(z.size);return z.forEach(function(_e,De){se[++ce]=[De,_e]}),se}function Pm(z,ce){return function(se){return z(ce(se))}}function ji(z,ce){for(var se=-1,_e=z.length,De=0,tt=[];++se<_e;){var Kt=z[se];(Kt===ce||Kt===h)&&(z[se]=h,tt[De++]=se)}return tt}function zu(z){var ce=-1,se=Array(z.size);return z.forEach(function(_e){se[++ce]=_e}),se}function J1(z){var ce=-1,se=Array(z.size);return z.forEach(function(_e){se[++ce]=[_e,_e]}),se}function X1(z,ce,se){for(var _e=se-1,De=z.length;++_e<De;)if(z[_e]===ce)return _e;return-1}function Q1(z,ce,se){for(var _e=se+1;_e--;)if(z[_e]===ce)return _e;return _e}function lo(z){return uo(z)?e$(z):U1(z)}function On(z){return uo(z)?t$(z):M1(z)}function Nm(z){for(var ce=z.length;ce--&&j.test(z.charAt(ce)););return ce}var Z1=yf(pe);function e$(z){for(var ce=oo.lastIndex=0;oo.test(z);)++ce;return ce}function t$(z){return z.match(oo)||[]}function r$(z){return z.match(Bu)||[]}var n$=function z(ce){ce=ce==null?Ke:co.defaults(Ke.Object(),ce,co.pick(Ke,Hu));var se=ce.Array,_e=ce.Date,De=ce.Error,tt=ce.Function,Kt=ce.Math,mt=ce.Object,Sf=ce.RegExp,i$=ce.String,hn=ce.TypeError,Vu=se.prototype,a$=tt.prototype,fo=mt.prototype,Yu=ce["__core-js_shared__"],Ku=a$.toString,ot=fo.hasOwnProperty,o$=0,Dm=function(){var n=/[^.]+$/.exec(Yu&&Yu.keys&&Yu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ju=fo.toString,s$=Ku.call(mt),u$=Ke._,l$=Sf("^"+Ku.call(ot).replace(Fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xu=Mr?ce.Buffer:r,Bi=ce.Symbol,Qu=ce.Uint8Array,Fm=Xu?Xu.allocUnsafe:r,Zu=Pm(mt.getPrototypeOf,mt),xm=mt.create,Lm=fo.propertyIsEnumerable,el=Vu.splice,Um=Bi?Bi.isConcatSpreadable:r,ds=Bi?Bi.iterator:r,va=Bi?Bi.toStringTag:r,tl=function(){try{var n=$a(mt,"defineProperty");return n({},"",{}),n}catch{}}(),c$=ce.clearTimeout!==Ke.clearTimeout&&ce.clearTimeout,f$=_e&&_e.now!==Ke.Date.now&&_e.now,d$=ce.setTimeout!==Ke.setTimeout&&ce.setTimeout,rl=Kt.ceil,nl=Kt.floor,bf=mt.getOwnPropertySymbols,h$=Xu?Xu.isBuffer:r,Mm=ce.isFinite,p$=Vu.join,m$=Pm(mt.keys,mt),Jt=Kt.max,pr=Kt.min,g$=_e.now,v$=ce.parseInt,km=Kt.random,y$=Vu.reverse,Af=$a(ce,"DataView"),hs=$a(ce,"Map"),Tf=$a(ce,"Promise"),ho=$a(ce,"Set"),ps=$a(ce,"WeakMap"),ms=$a(mt,"create"),il=ps&&new ps,po={},_$=Sa(Af),w$=Sa(hs),E$=Sa(Tf),$$=Sa(ho),S$=Sa(ps),al=Bi?Bi.prototype:r,gs=al?al.valueOf:r,jm=al?al.toString:r;function A(n){if(Dt(n)&&!xe(n)&&!(n instanceof ze)){if(n instanceof pn)return n;if(ot.call(n,"__wrapped__"))return Bg(n)}return new pn(n)}var mo=function(){function n(){}return function(o){if(!Ot(o))return{};if(xm)return xm(o);n.prototype=o;var l=new n;return n.prototype=r,l}}();function ol(){}function pn(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}A.templateSettings={escape:ha,evaluate:Ni,interpolate:Di,variable:"",imports:{_:A}},A.prototype=ol.prototype,A.prototype.constructor=A,pn.prototype=mo(ol.prototype),pn.prototype.constructor=pn;function ze(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function b$(){var n=new ze(this.__wrapped__);return n.__actions__=kr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=kr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=kr(this.__views__),n}function A$(){if(this.__filtered__){var n=new ze(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function T$(){var n=this.__wrapped__.value(),o=this.__dir__,l=xe(n),p=o<0,w=l?n.length:0,C=MS(0,w,this.__views__),M=C.start,q=C.end,J=q-M,fe=p?q:M-1,he=this.__iteratees__,me=he.length,ve=0,Se=pr(J,this.__takeCount__);if(!l||!p&&w==J&&Se==J)return cg(n,this.__actions__);var Re=[];e:for(;J--&&ve<Se;){fe+=o;for(var Me=-1,Ie=n[fe];++Me<me;){var Ge=he[Me],Je=Ge.iteratee,nn=Ge.type,Tr=Je(Ie);if(nn==de)Ie=Tr;else if(!Tr){if(nn==Z)continue e;break e}}Re[ve++]=Ie}return Re}ze.prototype=mo(ol.prototype),ze.prototype.constructor=ze;function ya(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var p=n[o];this.set(p[0],p[1])}}function O$(){this.__data__=ms?ms(null):{},this.size=0}function C$(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function R$(n){var o=this.__data__;if(ms){var l=o[n];return l===f?r:l}return ot.call(o,n)?o[n]:r}function I$(n){var o=this.__data__;return ms?o[n]!==r:ot.call(o,n)}function P$(n,o){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=ms&&o===r?f:o,this}ya.prototype.clear=O$,ya.prototype.delete=C$,ya.prototype.get=R$,ya.prototype.has=I$,ya.prototype.set=P$;function fi(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var p=n[o];this.set(p[0],p[1])}}function N$(){this.__data__=[],this.size=0}function D$(n){var o=this.__data__,l=sl(o,n);if(l<0)return!1;var p=o.length-1;return l==p?o.pop():el.call(o,l,1),--this.size,!0}function F$(n){var o=this.__data__,l=sl(o,n);return l<0?r:o[l][1]}function x$(n){return sl(this.__data__,n)>-1}function L$(n,o){var l=this.__data__,p=sl(l,n);return p<0?(++this.size,l.push([n,o])):l[p][1]=o,this}fi.prototype.clear=N$,fi.prototype.delete=D$,fi.prototype.get=F$,fi.prototype.has=x$,fi.prototype.set=L$;function di(n){var o=-1,l=n==null?0:n.length;for(this.clear();++o<l;){var p=n[o];this.set(p[0],p[1])}}function U$(){this.size=0,this.__data__={hash:new ya,map:new(hs||fi),string:new ya}}function M$(n){var o=_l(this,n).delete(n);return this.size-=o?1:0,o}function k$(n){return _l(this,n).get(n)}function j$(n){return _l(this,n).has(n)}function B$(n,o){var l=_l(this,n),p=l.size;return l.set(n,o),this.size+=l.size==p?0:1,this}di.prototype.clear=U$,di.prototype.delete=M$,di.prototype.get=k$,di.prototype.has=j$,di.prototype.set=B$;function _a(n){var o=-1,l=n==null?0:n.length;for(this.__data__=new di;++o<l;)this.add(n[o])}function q$(n){return this.__data__.set(n,f),this}function H$(n){return this.__data__.has(n)}_a.prototype.add=_a.prototype.push=q$,_a.prototype.has=H$;function Cn(n){var o=this.__data__=new fi(n);this.size=o.size}function W$(){this.__data__=new fi,this.size=0}function G$(n){var o=this.__data__,l=o.delete(n);return this.size=o.size,l}function z$(n){return this.__data__.get(n)}function V$(n){return this.__data__.has(n)}function Y$(n,o){var l=this.__data__;if(l instanceof fi){var p=l.__data__;if(!hs||p.length<a-1)return p.push([n,o]),this.size=++l.size,this;l=this.__data__=new di(p)}return l.set(n,o),this.size=l.size,this}Cn.prototype.clear=W$,Cn.prototype.delete=G$,Cn.prototype.get=z$,Cn.prototype.has=V$,Cn.prototype.set=Y$;function Bm(n,o){var l=xe(n),p=!l&&ba(n),w=!l&&!p&&zi(n),C=!l&&!p&&!w&&_o(n),M=l||p||w||C,q=M?wf(n.length,i$):[],J=q.length;for(var fe in n)(o||ot.call(n,fe))&&!(M&&(fe=="length"||w&&(fe=="offset"||fe=="parent")||C&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||gi(fe,J)))&&q.push(fe);return q}function qm(n){var o=n.length;return o?n[Uf(0,o-1)]:r}function K$(n,o){return wl(kr(n),wa(o,0,n.length))}function J$(n){return wl(kr(n))}function Of(n,o,l){(l!==r&&!Rn(n[o],l)||l===r&&!(o in n))&&hi(n,o,l)}function vs(n,o,l){var p=n[o];(!(ot.call(n,o)&&Rn(p,l))||l===r&&!(o in n))&&hi(n,o,l)}function sl(n,o){for(var l=n.length;l--;)if(Rn(n[l][0],o))return l;return-1}function X$(n,o,l,p){return qi(n,function(w,C,M){o(p,w,l(w),M)}),p}function Hm(n,o){return n&&Kn(o,Qt(o),n)}function Q$(n,o){return n&&Kn(o,Br(o),n)}function hi(n,o,l){o=="__proto__"&&tl?tl(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}function Cf(n,o){for(var l=-1,p=o.length,w=se(p),C=n==null;++l<p;)w[l]=C?r:ud(n,o[l]);return w}function wa(n,o,l){return n===n&&(l!==r&&(n=n<=l?n:l),o!==r&&(n=n>=o?n:o)),n}function mn(n,o,l,p,w,C){var M,q=o&d,J=o&g,fe=o&v;if(l&&(M=w?l(n,p,w,C):l(n)),M!==r)return M;if(!Ot(n))return n;var he=xe(n);if(he){if(M=jS(n),!q)return kr(n,M)}else{var me=mr(n),ve=me==je||me==et;if(zi(n))return hg(n,q);if(me==Ye||me==L||ve&&!w){if(M=J||ve?{}:Ng(n),!q)return J?RS(n,Q$(M,n)):CS(n,Hm(M,n))}else{if(!lt[me])return w?n:{};M=BS(n,me,q)}}C||(C=new Cn);var Se=C.get(n);if(Se)return Se;C.set(n,M),s0(n)?n.forEach(function(Ie){M.add(mn(Ie,o,l,Ie,n,C))}):a0(n)&&n.forEach(function(Ie,Ge){M.set(Ge,mn(Ie,o,l,Ge,n,C))});var Re=fe?J?Yf:Vf:J?Br:Qt,Me=he?r:Re(n);return dn(Me||n,function(Ie,Ge){Me&&(Ge=Ie,Ie=n[Ge]),vs(M,Ge,mn(Ie,o,l,Ge,n,C))}),M}function Z$(n){var o=Qt(n);return function(l){return Wm(l,n,o)}}function Wm(n,o,l){var p=l.length;if(n==null)return!p;for(n=mt(n);p--;){var w=l[p],C=o[w],M=n[w];if(M===r&&!(w in n)||!C(M))return!1}return!0}function Gm(n,o,l){if(typeof n!="function")throw new hn(u);return bs(function(){n.apply(r,l)},o)}function ys(n,o,l,p){var w=-1,C=Wu,M=!0,q=n.length,J=[],fe=o.length;if(!q)return J;l&&(o=At(o,en(l))),p?(C=pf,M=!1):o.length>=a&&(C=fs,M=!1,o=new _a(o));e:for(;++w<q;){var he=n[w],me=l==null?he:l(he);if(he=p||he!==0?he:0,M&&me===me){for(var ve=fe;ve--;)if(o[ve]===me)continue e;J.push(he)}else C(o,me,p)||J.push(he)}return J}var qi=yg(Yn),zm=yg(If,!0);function eS(n,o){var l=!0;return qi(n,function(p,w,C){return l=!!o(p,w,C),l}),l}function ul(n,o,l){for(var p=-1,w=n.length;++p<w;){var C=n[p],M=o(C);if(M!=null&&(q===r?M===M&&!rn(M):l(M,q)))var q=M,J=C}return J}function tS(n,o,l,p){var w=n.length;for(l=Le(l),l<0&&(l=-l>w?0:w+l),p=p===r||p>w?w:Le(p),p<0&&(p+=w),p=l>p?0:l0(p);l<p;)n[l++]=o;return n}function Vm(n,o){var l=[];return qi(n,function(p,w,C){o(p,w,C)&&l.push(p)}),l}function or(n,o,l,p,w){var C=-1,M=n.length;for(l||(l=HS),w||(w=[]);++C<M;){var q=n[C];o>0&&l(q)?o>1?or(q,o-1,l,p,w):ki(w,q):p||(w[w.length]=q)}return w}var Rf=_g(),Ym=_g(!0);function Yn(n,o){return n&&Rf(n,o,Qt)}function If(n,o){return n&&Ym(n,o,Qt)}function ll(n,o){return Mi(o,function(l){return vi(n[l])})}function Ea(n,o){o=Wi(o,n);for(var l=0,p=o.length;n!=null&&l<p;)n=n[Jn(o[l++])];return l&&l==p?n:r}function Km(n,o,l){var p=o(n);return xe(n)?p:ki(p,l(n))}function br(n){return n==null?n===r?qn:bt:va&&va in mt(n)?US(n):JS(n)}function Pf(n,o){return n>o}function rS(n,o){return n!=null&&ot.call(n,o)}function nS(n,o){return n!=null&&o in mt(n)}function iS(n,o,l){return n>=pr(o,l)&&n<Jt(o,l)}function Nf(n,o,l){for(var p=l?pf:Wu,w=n[0].length,C=n.length,M=C,q=se(C),J=1/0,fe=[];M--;){var he=n[M];M&&o&&(he=At(he,en(o))),J=pr(he.length,J),q[M]=!l&&(o||w>=120&&he.length>=120)?new _a(M&&he):r}he=n[0];var me=-1,ve=q[0];e:for(;++me<w&&fe.length<J;){var Se=he[me],Re=o?o(Se):Se;if(Se=l||Se!==0?Se:0,!(ve?fs(ve,Re):p(fe,Re,l))){for(M=C;--M;){var Me=q[M];if(!(Me?fs(Me,Re):p(n[M],Re,l)))continue e}ve&&ve.push(Re),fe.push(Se)}}return fe}function aS(n,o,l,p){return Yn(n,function(w,C,M){o(p,l(w),C,M)}),p}function _s(n,o,l){o=Wi(o,n),n=Lg(n,o);var p=n==null?n:n[Jn(vn(o))];return p==null?r:Xt(p,n,l)}function Jm(n){return Dt(n)&&br(n)==L}function oS(n){return Dt(n)&&br(n)==hr}function sS(n){return Dt(n)&&br(n)==te}function ws(n,o,l,p,w){return n===o?!0:n==null||o==null||!Dt(n)&&!Dt(o)?n!==n&&o!==o:uS(n,o,l,p,ws,w)}function uS(n,o,l,p,w,C){var M=xe(n),q=xe(o),J=M?oe:mr(n),fe=q?oe:mr(o);J=J==L?Ye:J,fe=fe==L?Ye:fe;var he=J==Ye,me=fe==Ye,ve=J==fe;if(ve&&zi(n)){if(!zi(o))return!1;M=!0,he=!1}if(ve&&!he)return C||(C=new Cn),M||_o(n)?Rg(n,o,l,p,w,C):xS(n,o,J,l,p,w,C);if(!(l&b)){var Se=he&&ot.call(n,"__wrapped__"),Re=me&&ot.call(o,"__wrapped__");if(Se||Re){var Me=Se?n.value():n,Ie=Re?o.value():o;return C||(C=new Cn),w(Me,Ie,l,p,C)}}return ve?(C||(C=new Cn),LS(n,o,l,p,w,C)):!1}function lS(n){return Dt(n)&&mr(n)==Ve}function Df(n,o,l,p){var w=l.length,C=w,M=!p;if(n==null)return!C;for(n=mt(n);w--;){var q=l[w];if(M&&q[2]?q[1]!==n[q[0]]:!(q[0]in n))return!1}for(;++w<C;){q=l[w];var J=q[0],fe=n[J],he=q[1];if(M&&q[2]){if(fe===r&&!(J in n))return!1}else{var me=new Cn;if(p)var ve=p(fe,he,J,n,o,me);if(!(ve===r?ws(he,fe,b|R,p,me):ve))return!1}}return!0}function Xm(n){if(!Ot(n)||GS(n))return!1;var o=vi(n)?l$:rt;return o.test(Sa(n))}function cS(n){return Dt(n)&&br(n)==nr}function fS(n){return Dt(n)&&mr(n)==Tt}function dS(n){return Dt(n)&&Tl(n.length)&&!!dt[br(n)]}function Qm(n){return typeof n=="function"?n:n==null?qr:typeof n=="object"?xe(n)?tg(n[0],n[1]):eg(n):w0(n)}function Ff(n){if(!Ss(n))return m$(n);var o=[];for(var l in mt(n))ot.call(n,l)&&l!="constructor"&&o.push(l);return o}function hS(n){if(!Ot(n))return KS(n);var o=Ss(n),l=[];for(var p in n)p=="constructor"&&(o||!ot.call(n,p))||l.push(p);return l}function xf(n,o){return n<o}function Zm(n,o){var l=-1,p=jr(n)?se(n.length):[];return qi(n,function(w,C,M){p[++l]=o(w,C,M)}),p}function eg(n){var o=Jf(n);return o.length==1&&o[0][2]?Fg(o[0][0],o[0][1]):function(l){return l===n||Df(l,n,o)}}function tg(n,o){return Qf(n)&&Dg(o)?Fg(Jn(n),o):function(l){var p=ud(l,n);return p===r&&p===o?ld(l,n):ws(o,p,b|R)}}function cl(n,o,l,p,w){n!==o&&Rf(o,function(C,M){if(w||(w=new Cn),Ot(C))pS(n,o,M,l,cl,p,w);else{var q=p?p(ed(n,M),C,M+"",n,o,w):r;q===r&&(q=C),Of(n,M,q)}},Br)}function pS(n,o,l,p,w,C,M){var q=ed(n,l),J=ed(o,l),fe=M.get(J);if(fe){Of(n,l,fe);return}var he=C?C(q,J,l+"",n,o,M):r,me=he===r;if(me){var ve=xe(J),Se=!ve&&zi(J),Re=!ve&&!Se&&_o(J);he=J,ve||Se||Re?xe(q)?he=q:Mt(q)?he=kr(q):Se?(me=!1,he=hg(J,!0)):Re?(me=!1,he=pg(J,!0)):he=[]:As(J)||ba(J)?(he=q,ba(q)?he=c0(q):(!Ot(q)||vi(q))&&(he=Ng(J))):me=!1}me&&(M.set(J,he),w(he,J,p,C,M),M.delete(J)),Of(n,l,he)}function rg(n,o){var l=n.length;if(!!l)return o+=o<0?l:0,gi(o,l)?n[o]:r}function ng(n,o,l){o.length?o=At(o,function(C){return xe(C)?function(M){return Ea(M,C.length===1?C[0]:C)}:C}):o=[qr];var p=-1;o=At(o,en(Ce()));var w=Zm(n,function(C,M,q){var J=At(o,function(fe){return fe(C)});return{criteria:J,index:++p,value:C}});return B1(w,function(C,M){return OS(C,M,l)})}function mS(n,o){return ig(n,o,function(l,p){return ld(n,p)})}function ig(n,o,l){for(var p=-1,w=o.length,C={};++p<w;){var M=o[p],q=Ea(n,M);l(q,M)&&Es(C,Wi(M,n),q)}return C}function gS(n){return function(o){return Ea(o,n)}}function Lf(n,o,l,p){var w=p?j1:so,C=-1,M=o.length,q=n;for(n===o&&(o=kr(o)),l&&(q=At(n,en(l)));++C<M;)for(var J=0,fe=o[C],he=l?l(fe):fe;(J=w(q,he,J,p))>-1;)q!==n&&el.call(q,J,1),el.call(n,J,1);return n}function ag(n,o){for(var l=n?o.length:0,p=l-1;l--;){var w=o[l];if(l==p||w!==C){var C=w;gi(w)?el.call(n,w,1):jf(n,w)}}return n}function Uf(n,o){return n+nl(km()*(o-n+1))}function vS(n,o,l,p){for(var w=-1,C=Jt(rl((o-n)/(l||1)),0),M=se(C);C--;)M[p?C:++w]=n,n+=l;return M}function Mf(n,o){var l="";if(!n||o<1||o>G)return l;do o%2&&(l+=n),o=nl(o/2),o&&(n+=n);while(o);return l}function Be(n,o){return td(xg(n,o,qr),n+"")}function yS(n){return qm(wo(n))}function _S(n,o){var l=wo(n);return wl(l,wa(o,0,l.length))}function Es(n,o,l,p){if(!Ot(n))return n;o=Wi(o,n);for(var w=-1,C=o.length,M=C-1,q=n;q!=null&&++w<C;){var J=Jn(o[w]),fe=l;if(J==="__proto__"||J==="constructor"||J==="prototype")return n;if(w!=M){var he=q[J];fe=p?p(he,J,q):r,fe===r&&(fe=Ot(he)?he:gi(o[w+1])?[]:{})}vs(q,J,fe),q=q[J]}return n}var og=il?function(n,o){return il.set(n,o),n}:qr,wS=tl?function(n,o){return tl(n,"toString",{configurable:!0,enumerable:!1,value:fd(o),writable:!0})}:qr;function ES(n){return wl(wo(n))}function gn(n,o,l){var p=-1,w=n.length;o<0&&(o=-o>w?0:w+o),l=l>w?w:l,l<0&&(l+=w),w=o>l?0:l-o>>>0,o>>>=0;for(var C=se(w);++p<w;)C[p]=n[p+o];return C}function $S(n,o){var l;return qi(n,function(p,w,C){return l=o(p,w,C),!l}),!!l}function fl(n,o,l){var p=0,w=n==null?p:n.length;if(typeof o=="number"&&o===o&&w<=K){for(;p<w;){var C=p+w>>>1,M=n[C];M!==null&&!rn(M)&&(l?M<=o:M<o)?p=C+1:w=C}return w}return kf(n,o,qr,l)}function kf(n,o,l,p){var w=0,C=n==null?0:n.length;if(C===0)return 0;o=l(o);for(var M=o!==o,q=o===null,J=rn(o),fe=o===r;w<C;){var he=nl((w+C)/2),me=l(n[he]),ve=me!==r,Se=me===null,Re=me===me,Me=rn(me);if(M)var Ie=p||Re;else fe?Ie=Re&&(p||ve):q?Ie=Re&&ve&&(p||!Se):J?Ie=Re&&ve&&!Se&&(p||!Me):Se||Me?Ie=!1:Ie=p?me<=o:me<o;Ie?w=he+1:C=he}return pr(C,re)}function sg(n,o){for(var l=-1,p=n.length,w=0,C=[];++l<p;){var M=n[l],q=o?o(M):M;if(!l||!Rn(q,J)){var J=q;C[w++]=M===0?0:M}}return C}function ug(n){return typeof n=="number"?n:rn(n)?W:+n}function tn(n){if(typeof n=="string")return n;if(xe(n))return At(n,tn)+"";if(rn(n))return jm?jm.call(n):"";var o=n+"";return o=="0"&&1/n==-ee?"-0":o}function Hi(n,o,l){var p=-1,w=Wu,C=n.length,M=!0,q=[],J=q;if(l)M=!1,w=pf;else if(C>=a){var fe=o?null:DS(n);if(fe)return zu(fe);M=!1,w=fs,J=new _a}else J=o?[]:q;e:for(;++p<C;){var he=n[p],me=o?o(he):he;if(he=l||he!==0?he:0,M&&me===me){for(var ve=J.length;ve--;)if(J[ve]===me)continue e;o&&J.push(me),q.push(he)}else w(J,me,l)||(J!==q&&J.push(me),q.push(he))}return q}function jf(n,o){return o=Wi(o,n),n=Lg(n,o),n==null||delete n[Jn(vn(o))]}function lg(n,o,l,p){return Es(n,o,l(Ea(n,o)),p)}function dl(n,o,l,p){for(var w=n.length,C=p?w:-1;(p?C--:++C<w)&&o(n[C],C,n););return l?gn(n,p?0:C,p?C+1:w):gn(n,p?C+1:0,p?w:C)}function cg(n,o){var l=n;return l instanceof ze&&(l=l.value()),mf(o,function(p,w){return w.func.apply(w.thisArg,ki([p],w.args))},l)}function Bf(n,o,l){var p=n.length;if(p<2)return p?Hi(n[0]):[];for(var w=-1,C=se(p);++w<p;)for(var M=n[w],q=-1;++q<p;)q!=w&&(C[w]=ys(C[w]||M,n[q],o,l));return Hi(or(C,1),o,l)}function fg(n,o,l){for(var p=-1,w=n.length,C=o.length,M={};++p<w;){var q=p<C?o[p]:r;l(M,n[p],q)}return M}function qf(n){return Mt(n)?n:[]}function Hf(n){return typeof n=="function"?n:qr}function Wi(n,o){return xe(n)?n:Qf(n,o)?[n]:jg(nt(n))}var SS=Be;function Gi(n,o,l){var p=n.length;return l=l===r?p:l,!o&&l>=p?n:gn(n,o,l)}var dg=c$||function(n){return Ke.clearTimeout(n)};function hg(n,o){if(o)return n.slice();var l=n.length,p=Fm?Fm(l):new n.constructor(l);return n.copy(p),p}function Wf(n){var o=new n.constructor(n.byteLength);return new Qu(o).set(new Qu(n)),o}function bS(n,o){var l=o?Wf(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.byteLength)}function AS(n){var o=new n.constructor(n.source,He.exec(n));return o.lastIndex=n.lastIndex,o}function TS(n){return gs?mt(gs.call(n)):{}}function pg(n,o){var l=o?Wf(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.length)}function mg(n,o){if(n!==o){var l=n!==r,p=n===null,w=n===n,C=rn(n),M=o!==r,q=o===null,J=o===o,fe=rn(o);if(!q&&!fe&&!C&&n>o||C&&M&&J&&!q&&!fe||p&&M&&J||!l&&J||!w)return 1;if(!p&&!C&&!fe&&n<o||fe&&l&&w&&!p&&!C||q&&l&&w||!M&&w||!J)return-1}return 0}function OS(n,o,l){for(var p=-1,w=n.criteria,C=o.criteria,M=w.length,q=l.length;++p<M;){var J=mg(w[p],C[p]);if(J){if(p>=q)return J;var fe=l[p];return J*(fe=="desc"?-1:1)}}return n.index-o.index}function gg(n,o,l,p){for(var w=-1,C=n.length,M=l.length,q=-1,J=o.length,fe=Jt(C-M,0),he=se(J+fe),me=!p;++q<J;)he[q]=o[q];for(;++w<M;)(me||w<C)&&(he[l[w]]=n[w]);for(;fe--;)he[q++]=n[w++];return he}function vg(n,o,l,p){for(var w=-1,C=n.length,M=-1,q=l.length,J=-1,fe=o.length,he=Jt(C-q,0),me=se(he+fe),ve=!p;++w<he;)me[w]=n[w];for(var Se=w;++J<fe;)me[Se+J]=o[J];for(;++M<q;)(ve||w<C)&&(me[Se+l[M]]=n[w++]);return me}function kr(n,o){var l=-1,p=n.length;for(o||(o=se(p));++l<p;)o[l]=n[l];return o}function Kn(n,o,l,p){var w=!l;l||(l={});for(var C=-1,M=o.length;++C<M;){var q=o[C],J=p?p(l[q],n[q],q,l,n):r;J===r&&(J=n[q]),w?hi(l,q,J):vs(l,q,J)}return l}function CS(n,o){return Kn(n,Xf(n),o)}function RS(n,o){return Kn(n,Ig(n),o)}function hl(n,o){return function(l,p){var w=xe(l)?F1:X$,C=o?o():{};return w(l,n,Ce(p,2),C)}}function go(n){return Be(function(o,l){var p=-1,w=l.length,C=w>1?l[w-1]:r,M=w>2?l[2]:r;for(C=n.length>3&&typeof C=="function"?(w--,C):r,M&&Ar(l[0],l[1],M)&&(C=w<3?r:C,w=1),o=mt(o);++p<w;){var q=l[p];q&&n(o,q,p,C)}return o})}function yg(n,o){return function(l,p){if(l==null)return l;if(!jr(l))return n(l,p);for(var w=l.length,C=o?w:-1,M=mt(l);(o?C--:++C<w)&&p(M[C],C,M)!==!1;);return l}}function _g(n){return function(o,l,p){for(var w=-1,C=mt(o),M=p(o),q=M.length;q--;){var J=M[n?q:++w];if(l(C[J],J,C)===!1)break}return o}}function IS(n,o,l){var p=o&T,w=$s(n);function C(){var M=this&&this!==Ke&&this instanceof C?w:n;return M.apply(p?l:this,arguments)}return C}function wg(n){return function(o){o=nt(o);var l=uo(o)?On(o):r,p=l?l[0]:o.charAt(0),w=l?Gi(l,1).join(""):o.slice(1);return p[n]()+w}}function vo(n){return function(o){return mf(y0(v0(o).replace(ls,"")),n,"")}}function $s(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=mo(n.prototype),p=n.apply(l,o);return Ot(p)?p:l}}function PS(n,o,l){var p=$s(n);function w(){for(var C=arguments.length,M=se(C),q=C,J=yo(w);q--;)M[q]=arguments[q];var fe=C<3&&M[0]!==J&&M[C-1]!==J?[]:ji(M,J);if(C-=fe.length,C<l)return Ag(n,o,pl,w.placeholder,r,M,fe,r,r,l-C);var he=this&&this!==Ke&&this instanceof w?p:n;return Xt(he,this,M)}return w}function Eg(n){return function(o,l,p){var w=mt(o);if(!jr(o)){var C=Ce(l,3);o=Qt(o),l=function(q){return C(w[q],q,w)}}var M=n(o,l,p);return M>-1?w[C?o[M]:M]:r}}function $g(n){return mi(function(o){var l=o.length,p=l,w=pn.prototype.thru;for(n&&o.reverse();p--;){var C=o[p];if(typeof C!="function")throw new hn(u);if(w&&!M&&yl(C)=="wrapper")var M=new pn([],!0)}for(p=M?p:l;++p<l;){C=o[p];var q=yl(C),J=q=="wrapper"?Kf(C):r;J&&Zf(J[0])&&J[1]==(P|I|Y|k)&&!J[4].length&&J[9]==1?M=M[yl(J[0])].apply(M,J[3]):M=C.length==1&&Zf(C)?M[q]():M.thru(C)}return function(){var fe=arguments,he=fe[0];if(M&&fe.length==1&&xe(he))return M.plant(he).value();for(var me=0,ve=l?o[me].apply(this,fe):he;++me<l;)ve=o[me].call(this,ve);return ve}})}function pl(n,o,l,p,w,C,M,q,J,fe){var he=o&P,me=o&T,ve=o&$,Se=o&(I|N),Re=o&E,Me=ve?r:$s(n);function Ie(){for(var Ge=arguments.length,Je=se(Ge),nn=Ge;nn--;)Je[nn]=arguments[nn];if(Se)var Tr=yo(Ie),an=H1(Je,Tr);if(p&&(Je=gg(Je,p,w,Se)),C&&(Je=vg(Je,C,M,Se)),Ge-=an,Se&&Ge<fe){var kt=ji(Je,Tr);return Ag(n,o,pl,Ie.placeholder,l,Je,kt,q,J,fe-Ge)}var In=me?l:this,_i=ve?In[n]:n;return Ge=Je.length,q?Je=XS(Je,q):Re&&Ge>1&&Je.reverse(),he&&J<Ge&&(Je.length=J),this&&this!==Ke&&this instanceof Ie&&(_i=Me||$s(_i)),_i.apply(In,Je)}return Ie}function Sg(n,o){return function(l,p){return aS(l,n,o(p),{})}}function ml(n,o){return function(l,p){var w;if(l===r&&p===r)return o;if(l!==r&&(w=l),p!==r){if(w===r)return p;typeof l=="string"||typeof p=="string"?(l=tn(l),p=tn(p)):(l=ug(l),p=ug(p)),w=n(l,p)}return w}}function Gf(n){return mi(function(o){return o=At(o,en(Ce())),Be(function(l){var p=this;return n(o,function(w){return Xt(w,p,l)})})})}function gl(n,o){o=o===r?" ":tn(o);var l=o.length;if(l<2)return l?Mf(o,n):o;var p=Mf(o,rl(n/lo(o)));return uo(o)?Gi(On(p),0,n).join(""):p.slice(0,n)}function NS(n,o,l,p){var w=o&T,C=$s(n);function M(){for(var q=-1,J=arguments.length,fe=-1,he=p.length,me=se(he+J),ve=this&&this!==Ke&&this instanceof M?C:n;++fe<he;)me[fe]=p[fe];for(;J--;)me[fe++]=arguments[++q];return Xt(ve,w?l:this,me)}return M}function bg(n){return function(o,l,p){return p&&typeof p!="number"&&Ar(o,l,p)&&(l=p=r),o=yi(o),l===r?(l=o,o=0):l=yi(l),p=p===r?o<l?1:-1:yi(p),vS(o,l,p,n)}}function vl(n){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=yn(o),l=yn(l)),n(o,l)}}function Ag(n,o,l,p,w,C,M,q,J,fe){var he=o&I,me=he?M:r,ve=he?r:M,Se=he?C:r,Re=he?r:C;o|=he?Y:x,o&=~(he?x:Y),o&_||(o&=~(T|$));var Me=[n,o,w,Se,me,Re,ve,q,J,fe],Ie=l.apply(r,Me);return Zf(n)&&Ug(Ie,Me),Ie.placeholder=p,Mg(Ie,n,o)}function zf(n){var o=Kt[n];return function(l,p){if(l=yn(l),p=p==null?0:pr(Le(p),292),p&&Mm(l)){var w=(nt(l)+"e").split("e"),C=o(w[0]+"e"+(+w[1]+p));return w=(nt(C)+"e").split("e"),+(w[0]+"e"+(+w[1]-p))}return o(l)}}var DS=ho&&1/zu(new ho([,-0]))[1]==ee?function(n){return new ho(n)}:pd;function Tg(n){return function(o){var l=mr(o);return l==Ve?$f(o):l==Tt?J1(o):q1(o,n(o))}}function pi(n,o,l,p,w,C,M,q){var J=o&$;if(!J&&typeof n!="function")throw new hn(u);var fe=p?p.length:0;if(fe||(o&=~(Y|x),p=w=r),M=M===r?M:Jt(Le(M),0),q=q===r?q:Le(q),fe-=w?w.length:0,o&x){var he=p,me=w;p=w=r}var ve=J?r:Kf(n),Se=[n,o,l,p,w,he,me,C,M,q];if(ve&&YS(Se,ve),n=Se[0],o=Se[1],l=Se[2],p=Se[3],w=Se[4],q=Se[9]=Se[9]===r?J?0:n.length:Jt(Se[9]-fe,0),!q&&o&(I|N)&&(o&=~(I|N)),!o||o==T)var Re=IS(n,o,l);else o==I||o==N?Re=PS(n,o,q):(o==Y||o==(T|Y))&&!w.length?Re=NS(n,o,l,p):Re=pl.apply(r,Se);var Me=ve?og:Ug;return Mg(Me(Re,Se),n,o)}function Og(n,o,l,p){return n===r||Rn(n,fo[l])&&!ot.call(p,l)?o:n}function Cg(n,o,l,p,w,C){return Ot(n)&&Ot(o)&&(C.set(o,n),cl(n,o,r,Cg,C),C.delete(o)),n}function FS(n){return As(n)?r:n}function Rg(n,o,l,p,w,C){var M=l&b,q=n.length,J=o.length;if(q!=J&&!(M&&J>q))return!1;var fe=C.get(n),he=C.get(o);if(fe&&he)return fe==o&&he==n;var me=-1,ve=!0,Se=l&R?new _a:r;for(C.set(n,o),C.set(o,n);++me<q;){var Re=n[me],Me=o[me];if(p)var Ie=M?p(Me,Re,me,o,n,C):p(Re,Me,me,n,o,C);if(Ie!==r){if(Ie)continue;ve=!1;break}if(Se){if(!gf(o,function(Ge,Je){if(!fs(Se,Je)&&(Re===Ge||w(Re,Ge,l,p,C)))return Se.push(Je)})){ve=!1;break}}else if(!(Re===Me||w(Re,Me,l,p,C))){ve=!1;break}}return C.delete(n),C.delete(o),ve}function xS(n,o,l,p,w,C,M){switch(l){case Er:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case hr:return!(n.byteLength!=o.byteLength||!C(new Qu(n),new Qu(o)));case y:case te:case St:return Rn(+n,+o);case Ee:return n.name==o.name&&n.message==o.message;case nr:case xt:return n==o+"";case Ve:var q=$f;case Tt:var J=p&b;if(q||(q=zu),n.size!=o.size&&!J)return!1;var fe=M.get(n);if(fe)return fe==o;p|=R,M.set(n,o);var he=Rg(q(n),q(o),p,w,C,M);return M.delete(n),he;case Lt:if(gs)return gs.call(n)==gs.call(o)}return!1}function LS(n,o,l,p,w,C){var M=l&b,q=Vf(n),J=q.length,fe=Vf(o),he=fe.length;if(J!=he&&!M)return!1;for(var me=J;me--;){var ve=q[me];if(!(M?ve in o:ot.call(o,ve)))return!1}var Se=C.get(n),Re=C.get(o);if(Se&&Re)return Se==o&&Re==n;var Me=!0;C.set(n,o),C.set(o,n);for(var Ie=M;++me<J;){ve=q[me];var Ge=n[ve],Je=o[ve];if(p)var nn=M?p(Je,Ge,ve,o,n,C):p(Ge,Je,ve,n,o,C);if(!(nn===r?Ge===Je||w(Ge,Je,l,p,C):nn)){Me=!1;break}Ie||(Ie=ve=="constructor")}if(Me&&!Ie){var Tr=n.constructor,an=o.constructor;Tr!=an&&"constructor"in n&&"constructor"in o&&!(typeof Tr=="function"&&Tr instanceof Tr&&typeof an=="function"&&an instanceof an)&&(Me=!1)}return C.delete(n),C.delete(o),Me}function mi(n){return td(xg(n,r,Wg),n+"")}function Vf(n){return Km(n,Qt,Xf)}function Yf(n){return Km(n,Br,Ig)}var Kf=il?function(n){return il.get(n)}:pd;function yl(n){for(var o=n.name+"",l=po[o],p=ot.call(po,o)?l.length:0;p--;){var w=l[p],C=w.func;if(C==null||C==n)return w.name}return o}function yo(n){var o=ot.call(A,"placeholder")?A:n;return o.placeholder}function Ce(){var n=A.iteratee||dd;return n=n===dd?Qm:n,arguments.length?n(arguments[0],arguments[1]):n}function _l(n,o){var l=n.__data__;return WS(o)?l[typeof o=="string"?"string":"hash"]:l.map}function Jf(n){for(var o=Qt(n),l=o.length;l--;){var p=o[l],w=n[p];o[l]=[p,w,Dg(w)]}return o}function $a(n,o){var l=V1(n,o);return Xm(l)?l:r}function US(n){var o=ot.call(n,va),l=n[va];try{n[va]=r;var p=!0}catch{}var w=Ju.call(n);return p&&(o?n[va]=l:delete n[va]),w}var Xf=bf?function(n){return n==null?[]:(n=mt(n),Mi(bf(n),function(o){return Lm.call(n,o)}))}:md,Ig=bf?function(n){for(var o=[];n;)ki(o,Xf(n)),n=Zu(n);return o}:md,mr=br;(Af&&mr(new Af(new ArrayBuffer(1)))!=Er||hs&&mr(new hs)!=Ve||Tf&&mr(Tf.resolve())!=Ft||ho&&mr(new ho)!=Tt||ps&&mr(new ps)!=Kr)&&(mr=function(n){var o=br(n),l=o==Ye?n.constructor:r,p=l?Sa(l):"";if(p)switch(p){case _$:return Er;case w$:return Ve;case E$:return Ft;case $$:return Tt;case S$:return Kr}return o});function MS(n,o,l){for(var p=-1,w=l.length;++p<w;){var C=l[p],M=C.size;switch(C.type){case"drop":n+=M;break;case"dropRight":o-=M;break;case"take":o=pr(o,n+M);break;case"takeRight":n=Jt(n,o-M);break}}return{start:n,end:o}}function kS(n){var o=n.match(B);return o?o[1].split(ae):[]}function Pg(n,o,l){o=Wi(o,n);for(var p=-1,w=o.length,C=!1;++p<w;){var M=Jn(o[p]);if(!(C=n!=null&&l(n,M)))break;n=n[M]}return C||++p!=w?C:(w=n==null?0:n.length,!!w&&Tl(w)&&gi(M,w)&&(xe(n)||ba(n)))}function jS(n){var o=n.length,l=new n.constructor(o);return o&&typeof n[0]=="string"&&ot.call(n,"index")&&(l.index=n.index,l.input=n.input),l}function Ng(n){return typeof n.constructor=="function"&&!Ss(n)?mo(Zu(n)):{}}function BS(n,o,l){var p=n.constructor;switch(o){case hr:return Wf(n);case y:case te:return new p(+n);case Er:return bS(n,l);case Yt:case Pt:case ii:case ai:case $n:case oi:case Hn:case si:case ir:return pg(n,l);case Ve:return new p;case St:case xt:return new p(n);case nr:return AS(n);case Tt:return new p;case Lt:return TS(n)}}function qS(n,o){var l=o.length;if(!l)return n;var p=l-1;return o[p]=(l>1?"& ":"")+o[p],o=o.join(l>2?", ":" "),n.replace(D,`{
/* [wrapped with `+o+`] */
`)}function HS(n){return xe(n)||ba(n)||!!(Um&&n&&n[Um])}function gi(n,o){var l=typeof n;return o=o==null?G:o,!!o&&(l=="number"||l!="symbol"&&Pe.test(n))&&n>-1&&n%1==0&&n<o}function Ar(n,o,l){if(!Ot(l))return!1;var p=typeof o;return(p=="number"?jr(l)&&gi(o,l.length):p=="string"&&o in l)?Rn(l[o],n):!1}function Qf(n,o){if(xe(n))return!1;var l=typeof n;return l=="number"||l=="symbol"||l=="boolean"||n==null||rn(n)?!0:to.test(n)||!bn.test(n)||o!=null&&n in mt(o)}function WS(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function Zf(n){var o=yl(n),l=A[o];if(typeof l!="function"||!(o in ze.prototype))return!1;if(n===l)return!0;var p=Kf(l);return!!p&&n===p[0]}function GS(n){return!!Dm&&Dm in n}var zS=Yu?vi:gd;function Ss(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||fo;return n===l}function Dg(n){return n===n&&!Ot(n)}function Fg(n,o){return function(l){return l==null?!1:l[n]===o&&(o!==r||n in mt(l))}}function VS(n){var o=bl(n,function(p){return l.size===m&&l.clear(),p}),l=o.cache;return o}function YS(n,o){var l=n[1],p=o[1],w=l|p,C=w<(T|$|P),M=p==P&&l==I||p==P&&l==k&&n[7].length<=o[8]||p==(P|k)&&o[7].length<=o[8]&&l==I;if(!(C||M))return n;p&T&&(n[2]=o[2],w|=l&T?0:_);var q=o[3];if(q){var J=n[3];n[3]=J?gg(J,q,o[4]):q,n[4]=J?ji(n[3],h):o[4]}return q=o[5],q&&(J=n[5],n[5]=J?vg(J,q,o[6]):q,n[6]=J?ji(n[5],h):o[6]),q=o[7],q&&(n[7]=q),p&P&&(n[8]=n[8]==null?o[8]:pr(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=w,n}function KS(n){var o=[];if(n!=null)for(var l in mt(n))o.push(l);return o}function JS(n){return Ju.call(n)}function xg(n,o,l){return o=Jt(o===r?n.length-1:o,0),function(){for(var p=arguments,w=-1,C=Jt(p.length-o,0),M=se(C);++w<C;)M[w]=p[o+w];w=-1;for(var q=se(o+1);++w<o;)q[w]=p[w];return q[o]=l(M),Xt(n,this,q)}}function Lg(n,o){return o.length<2?n:Ea(n,gn(o,0,-1))}function XS(n,o){for(var l=n.length,p=pr(o.length,l),w=kr(n);p--;){var C=o[p];n[p]=gi(C,l)?w[C]:r}return n}function ed(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var Ug=kg(og),bs=d$||function(n,o){return Ke.setTimeout(n,o)},td=kg(wS);function Mg(n,o,l){var p=o+"";return td(n,qS(p,QS(kS(p),l)))}function kg(n){var o=0,l=0;return function(){var p=g$(),w=ue-(p-l);if(l=p,w>0){if(++o>=ne)return arguments[0]}else o=0;return n.apply(r,arguments)}}function wl(n,o){var l=-1,p=n.length,w=p-1;for(o=o===r?p:o;++l<o;){var C=Uf(l,w),M=n[C];n[C]=n[l],n[l]=M}return n.length=o,n}var jg=VS(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(ss,function(l,p,w,C){o.push(w?C.replace(be,"$1"):p||l)}),o});function Jn(n){if(typeof n=="string"||rn(n))return n;var o=n+"";return o=="0"&&1/n==-ee?"-0":o}function Sa(n){if(n!=null){try{return Ku.call(n)}catch{}try{return n+""}catch{}}return""}function QS(n,o){return dn(O,function(l){var p="_."+l[0];o&l[1]&&!Wu(n,p)&&n.push(p)}),n.sort()}function Bg(n){if(n instanceof ze)return n.clone();var o=new pn(n.__wrapped__,n.__chain__);return o.__actions__=kr(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function ZS(n,o,l){(l?Ar(n,o,l):o===r)?o=1:o=Jt(Le(o),0);var p=n==null?0:n.length;if(!p||o<1)return[];for(var w=0,C=0,M=se(rl(p/o));w<p;)M[C++]=gn(n,w,w+=o);return M}function eb(n){for(var o=-1,l=n==null?0:n.length,p=0,w=[];++o<l;){var C=n[o];C&&(w[p++]=C)}return w}function tb(){var n=arguments.length;if(!n)return[];for(var o=se(n-1),l=arguments[0],p=n;p--;)o[p-1]=arguments[p];return ki(xe(l)?kr(l):[l],or(o,1))}var rb=Be(function(n,o){return Mt(n)?ys(n,or(o,1,Mt,!0)):[]}),nb=Be(function(n,o){var l=vn(o);return Mt(l)&&(l=r),Mt(n)?ys(n,or(o,1,Mt,!0),Ce(l,2)):[]}),ib=Be(function(n,o){var l=vn(o);return Mt(l)&&(l=r),Mt(n)?ys(n,or(o,1,Mt,!0),r,l):[]});function ab(n,o,l){var p=n==null?0:n.length;return p?(o=l||o===r?1:Le(o),gn(n,o<0?0:o,p)):[]}function ob(n,o,l){var p=n==null?0:n.length;return p?(o=l||o===r?1:Le(o),o=p-o,gn(n,0,o<0?0:o)):[]}function sb(n,o){return n&&n.length?dl(n,Ce(o,3),!0,!0):[]}function ub(n,o){return n&&n.length?dl(n,Ce(o,3),!0):[]}function lb(n,o,l,p){var w=n==null?0:n.length;return w?(l&&typeof l!="number"&&Ar(n,o,l)&&(l=0,p=w),tS(n,o,l,p)):[]}function qg(n,o,l){var p=n==null?0:n.length;if(!p)return-1;var w=l==null?0:Le(l);return w<0&&(w=Jt(p+w,0)),Gu(n,Ce(o,3),w)}function Hg(n,o,l){var p=n==null?0:n.length;if(!p)return-1;var w=p-1;return l!==r&&(w=Le(l),w=l<0?Jt(p+w,0):pr(w,p-1)),Gu(n,Ce(o,3),w,!0)}function Wg(n){var o=n==null?0:n.length;return o?or(n,1):[]}function cb(n){var o=n==null?0:n.length;return o?or(n,ee):[]}function fb(n,o){var l=n==null?0:n.length;return l?(o=o===r?1:Le(o),or(n,o)):[]}function db(n){for(var o=-1,l=n==null?0:n.length,p={};++o<l;){var w=n[o];p[w[0]]=w[1]}return p}function Gg(n){return n&&n.length?n[0]:r}function hb(n,o,l){var p=n==null?0:n.length;if(!p)return-1;var w=l==null?0:Le(l);return w<0&&(w=Jt(p+w,0)),so(n,o,w)}function pb(n){var o=n==null?0:n.length;return o?gn(n,0,-1):[]}var mb=Be(function(n){var o=At(n,qf);return o.length&&o[0]===n[0]?Nf(o):[]}),gb=Be(function(n){var o=vn(n),l=At(n,qf);return o===vn(l)?o=r:l.pop(),l.length&&l[0]===n[0]?Nf(l,Ce(o,2)):[]}),vb=Be(function(n){var o=vn(n),l=At(n,qf);return o=typeof o=="function"?o:r,o&&l.pop(),l.length&&l[0]===n[0]?Nf(l,r,o):[]});function yb(n,o){return n==null?"":p$.call(n,o)}function vn(n){var o=n==null?0:n.length;return o?n[o-1]:r}function _b(n,o,l){var p=n==null?0:n.length;if(!p)return-1;var w=p;return l!==r&&(w=Le(l),w=w<0?Jt(p+w,0):pr(w,p-1)),o===o?Q1(n,o,w):Gu(n,Am,w,!0)}function wb(n,o){return n&&n.length?rg(n,Le(o)):r}var Eb=Be(zg);function zg(n,o){return n&&n.length&&o&&o.length?Lf(n,o):n}function $b(n,o,l){return n&&n.length&&o&&o.length?Lf(n,o,Ce(l,2)):n}function Sb(n,o,l){return n&&n.length&&o&&o.length?Lf(n,o,r,l):n}var bb=mi(function(n,o){var l=n==null?0:n.length,p=Cf(n,o);return ag(n,At(o,function(w){return gi(w,l)?+w:w}).sort(mg)),p});function Ab(n,o){var l=[];if(!(n&&n.length))return l;var p=-1,w=[],C=n.length;for(o=Ce(o,3);++p<C;){var M=n[p];o(M,p,n)&&(l.push(M),w.push(p))}return ag(n,w),l}function rd(n){return n==null?n:y$.call(n)}function Tb(n,o,l){var p=n==null?0:n.length;return p?(l&&typeof l!="number"&&Ar(n,o,l)?(o=0,l=p):(o=o==null?0:Le(o),l=l===r?p:Le(l)),gn(n,o,l)):[]}function Ob(n,o){return fl(n,o)}function Cb(n,o,l){return kf(n,o,Ce(l,2))}function Rb(n,o){var l=n==null?0:n.length;if(l){var p=fl(n,o);if(p<l&&Rn(n[p],o))return p}return-1}function Ib(n,o){return fl(n,o,!0)}function Pb(n,o,l){return kf(n,o,Ce(l,2),!0)}function Nb(n,o){var l=n==null?0:n.length;if(l){var p=fl(n,o,!0)-1;if(Rn(n[p],o))return p}return-1}function Db(n){return n&&n.length?sg(n):[]}function Fb(n,o){return n&&n.length?sg(n,Ce(o,2)):[]}function xb(n){var o=n==null?0:n.length;return o?gn(n,1,o):[]}function Lb(n,o,l){return n&&n.length?(o=l||o===r?1:Le(o),gn(n,0,o<0?0:o)):[]}function Ub(n,o,l){var p=n==null?0:n.length;return p?(o=l||o===r?1:Le(o),o=p-o,gn(n,o<0?0:o,p)):[]}function Mb(n,o){return n&&n.length?dl(n,Ce(o,3),!1,!0):[]}function kb(n,o){return n&&n.length?dl(n,Ce(o,3)):[]}var jb=Be(function(n){return Hi(or(n,1,Mt,!0))}),Bb=Be(function(n){var o=vn(n);return Mt(o)&&(o=r),Hi(or(n,1,Mt,!0),Ce(o,2))}),qb=Be(function(n){var o=vn(n);return o=typeof o=="function"?o:r,Hi(or(n,1,Mt,!0),r,o)});function Hb(n){return n&&n.length?Hi(n):[]}function Wb(n,o){return n&&n.length?Hi(n,Ce(o,2)):[]}function Gb(n,o){return o=typeof o=="function"?o:r,n&&n.length?Hi(n,r,o):[]}function nd(n){if(!(n&&n.length))return[];var o=0;return n=Mi(n,function(l){if(Mt(l))return o=Jt(l.length,o),!0}),wf(o,function(l){return At(n,vf(l))})}function Vg(n,o){if(!(n&&n.length))return[];var l=nd(n);return o==null?l:At(l,function(p){return Xt(o,r,p)})}var zb=Be(function(n,o){return Mt(n)?ys(n,o):[]}),Vb=Be(function(n){return Bf(Mi(n,Mt))}),Yb=Be(function(n){var o=vn(n);return Mt(o)&&(o=r),Bf(Mi(n,Mt),Ce(o,2))}),Kb=Be(function(n){var o=vn(n);return o=typeof o=="function"?o:r,Bf(Mi(n,Mt),r,o)}),Jb=Be(nd);function Xb(n,o){return fg(n||[],o||[],vs)}function Qb(n,o){return fg(n||[],o||[],Es)}var Zb=Be(function(n){var o=n.length,l=o>1?n[o-1]:r;return l=typeof l=="function"?(n.pop(),l):r,Vg(n,l)});function Yg(n){var o=A(n);return o.__chain__=!0,o}function eA(n,o){return o(n),n}function El(n,o){return o(n)}var tA=mi(function(n){var o=n.length,l=o?n[0]:0,p=this.__wrapped__,w=function(C){return Cf(C,n)};return o>1||this.__actions__.length||!(p instanceof ze)||!gi(l)?this.thru(w):(p=p.slice(l,+l+(o?1:0)),p.__actions__.push({func:El,args:[w],thisArg:r}),new pn(p,this.__chain__).thru(function(C){return o&&!C.length&&C.push(r),C}))});function rA(){return Yg(this)}function nA(){return new pn(this.value(),this.__chain__)}function iA(){this.__values__===r&&(this.__values__=u0(this.value()));var n=this.__index__>=this.__values__.length,o=n?r:this.__values__[this.__index__++];return{done:n,value:o}}function aA(){return this}function oA(n){for(var o,l=this;l instanceof ol;){var p=Bg(l);p.__index__=0,p.__values__=r,o?w.__wrapped__=p:o=p;var w=p;l=l.__wrapped__}return w.__wrapped__=n,o}function sA(){var n=this.__wrapped__;if(n instanceof ze){var o=n;return this.__actions__.length&&(o=new ze(this)),o=o.reverse(),o.__actions__.push({func:El,args:[rd],thisArg:r}),new pn(o,this.__chain__)}return this.thru(rd)}function uA(){return cg(this.__wrapped__,this.__actions__)}var lA=hl(function(n,o,l){ot.call(n,l)?++n[l]:hi(n,l,1)});function cA(n,o,l){var p=xe(n)?Sm:eS;return l&&Ar(n,o,l)&&(o=r),p(n,Ce(o,3))}function fA(n,o){var l=xe(n)?Mi:Vm;return l(n,Ce(o,3))}var dA=Eg(qg),hA=Eg(Hg);function pA(n,o){return or($l(n,o),1)}function mA(n,o){return or($l(n,o),ee)}function gA(n,o,l){return l=l===r?1:Le(l),or($l(n,o),l)}function Kg(n,o){var l=xe(n)?dn:qi;return l(n,Ce(o,3))}function Jg(n,o){var l=xe(n)?x1:zm;return l(n,Ce(o,3))}var vA=hl(function(n,o,l){ot.call(n,l)?n[l].push(o):hi(n,l,[o])});function yA(n,o,l,p){n=jr(n)?n:wo(n),l=l&&!p?Le(l):0;var w=n.length;return l<0&&(l=Jt(w+l,0)),Ol(n)?l<=w&&n.indexOf(o,l)>-1:!!w&&so(n,o,l)>-1}var _A=Be(function(n,o,l){var p=-1,w=typeof o=="function",C=jr(n)?se(n.length):[];return qi(n,function(M){C[++p]=w?Xt(o,M,l):_s(M,o,l)}),C}),wA=hl(function(n,o,l){hi(n,l,o)});function $l(n,o){var l=xe(n)?At:Zm;return l(n,Ce(o,3))}function EA(n,o,l,p){return n==null?[]:(xe(o)||(o=o==null?[]:[o]),l=p?r:l,xe(l)||(l=l==null?[]:[l]),ng(n,o,l))}var $A=hl(function(n,o,l){n[l?0:1].push(o)},function(){return[[],[]]});function SA(n,o,l){var p=xe(n)?mf:Om,w=arguments.length<3;return p(n,Ce(o,4),l,w,qi)}function bA(n,o,l){var p=xe(n)?L1:Om,w=arguments.length<3;return p(n,Ce(o,4),l,w,zm)}function AA(n,o){var l=xe(n)?Mi:Vm;return l(n,Al(Ce(o,3)))}function TA(n){var o=xe(n)?qm:yS;return o(n)}function OA(n,o,l){(l?Ar(n,o,l):o===r)?o=1:o=Le(o);var p=xe(n)?K$:_S;return p(n,o)}function CA(n){var o=xe(n)?J$:ES;return o(n)}function RA(n){if(n==null)return 0;if(jr(n))return Ol(n)?lo(n):n.length;var o=mr(n);return o==Ve||o==Tt?n.size:Ff(n).length}function IA(n,o,l){var p=xe(n)?gf:$S;return l&&Ar(n,o,l)&&(o=r),p(n,Ce(o,3))}var PA=Be(function(n,o){if(n==null)return[];var l=o.length;return l>1&&Ar(n,o[0],o[1])?o=[]:l>2&&Ar(o[0],o[1],o[2])&&(o=[o[0]]),ng(n,or(o,1),[])}),Sl=f$||function(){return Ke.Date.now()};function NA(n,o){if(typeof o!="function")throw new hn(u);return n=Le(n),function(){if(--n<1)return o.apply(this,arguments)}}function Xg(n,o,l){return o=l?r:o,o=n&&o==null?n.length:o,pi(n,P,r,r,r,r,o)}function Qg(n,o){var l;if(typeof o!="function")throw new hn(u);return n=Le(n),function(){return--n>0&&(l=o.apply(this,arguments)),n<=1&&(o=r),l}}var id=Be(function(n,o,l){var p=T;if(l.length){var w=ji(l,yo(id));p|=Y}return pi(n,p,o,l,w)}),Zg=Be(function(n,o,l){var p=T|$;if(l.length){var w=ji(l,yo(Zg));p|=Y}return pi(o,p,n,l,w)});function e0(n,o,l){o=l?r:o;var p=pi(n,I,r,r,r,r,r,o);return p.placeholder=e0.placeholder,p}function t0(n,o,l){o=l?r:o;var p=pi(n,N,r,r,r,r,r,o);return p.placeholder=t0.placeholder,p}function r0(n,o,l){var p,w,C,M,q,J,fe=0,he=!1,me=!1,ve=!0;if(typeof n!="function")throw new hn(u);o=yn(o)||0,Ot(l)&&(he=!!l.leading,me="maxWait"in l,C=me?Jt(yn(l.maxWait)||0,o):C,ve="trailing"in l?!!l.trailing:ve);function Se(kt){var In=p,_i=w;return p=w=r,fe=kt,M=n.apply(_i,In),M}function Re(kt){return fe=kt,q=bs(Ge,o),he?Se(kt):M}function Me(kt){var In=kt-J,_i=kt-fe,E0=o-In;return me?pr(E0,C-_i):E0}function Ie(kt){var In=kt-J,_i=kt-fe;return J===r||In>=o||In<0||me&&_i>=C}function Ge(){var kt=Sl();if(Ie(kt))return Je(kt);q=bs(Ge,Me(kt))}function Je(kt){return q=r,ve&&p?Se(kt):(p=w=r,M)}function nn(){q!==r&&dg(q),fe=0,p=J=w=q=r}function Tr(){return q===r?M:Je(Sl())}function an(){var kt=Sl(),In=Ie(kt);if(p=arguments,w=this,J=kt,In){if(q===r)return Re(J);if(me)return dg(q),q=bs(Ge,o),Se(J)}return q===r&&(q=bs(Ge,o)),M}return an.cancel=nn,an.flush=Tr,an}var DA=Be(function(n,o){return Gm(n,1,o)}),FA=Be(function(n,o,l){return Gm(n,yn(o)||0,l)});function xA(n){return pi(n,E)}function bl(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new hn(u);var l=function(){var p=arguments,w=o?o.apply(this,p):p[0],C=l.cache;if(C.has(w))return C.get(w);var M=n.apply(this,p);return l.cache=C.set(w,M)||C,M};return l.cache=new(bl.Cache||di),l}bl.Cache=di;function Al(n){if(typeof n!="function")throw new hn(u);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function LA(n){return Qg(2,n)}var UA=SS(function(n,o){o=o.length==1&&xe(o[0])?At(o[0],en(Ce())):At(or(o,1),en(Ce()));var l=o.length;return Be(function(p){for(var w=-1,C=pr(p.length,l);++w<C;)p[w]=o[w].call(this,p[w]);return Xt(n,this,p)})}),ad=Be(function(n,o){var l=ji(o,yo(ad));return pi(n,Y,r,o,l)}),n0=Be(function(n,o){var l=ji(o,yo(n0));return pi(n,x,r,o,l)}),MA=mi(function(n,o){return pi(n,k,r,r,r,o)});function kA(n,o){if(typeof n!="function")throw new hn(u);return o=o===r?o:Le(o),Be(n,o)}function jA(n,o){if(typeof n!="function")throw new hn(u);return o=o==null?0:Jt(Le(o),0),Be(function(l){var p=l[o],w=Gi(l,0,o);return p&&ki(w,p),Xt(n,this,w)})}function BA(n,o,l){var p=!0,w=!0;if(typeof n!="function")throw new hn(u);return Ot(l)&&(p="leading"in l?!!l.leading:p,w="trailing"in l?!!l.trailing:w),r0(n,o,{leading:p,maxWait:o,trailing:w})}function qA(n){return Xg(n,1)}function HA(n,o){return ad(Hf(o),n)}function WA(){if(!arguments.length)return[];var n=arguments[0];return xe(n)?n:[n]}function GA(n){return mn(n,v)}function zA(n,o){return o=typeof o=="function"?o:r,mn(n,v,o)}function VA(n){return mn(n,d|v)}function YA(n,o){return o=typeof o=="function"?o:r,mn(n,d|v,o)}function KA(n,o){return o==null||Wm(n,o,Qt(o))}function Rn(n,o){return n===o||n!==n&&o!==o}var JA=vl(Pf),XA=vl(function(n,o){return n>=o}),ba=Jm(function(){return arguments}())?Jm:function(n){return Dt(n)&&ot.call(n,"callee")&&!Lm.call(n,"callee")},xe=se.isArray,QA=Sr?en(Sr):oS;function jr(n){return n!=null&&Tl(n.length)&&!vi(n)}function Mt(n){return Dt(n)&&jr(n)}function ZA(n){return n===!0||n===!1||Dt(n)&&br(n)==y}var zi=h$||gd,eT=Tn?en(Tn):sS;function tT(n){return Dt(n)&&n.nodeType===1&&!As(n)}function rT(n){if(n==null)return!0;if(jr(n)&&(xe(n)||typeof n=="string"||typeof n.splice=="function"||zi(n)||_o(n)||ba(n)))return!n.length;var o=mr(n);if(o==Ve||o==Tt)return!n.size;if(Ss(n))return!Ff(n).length;for(var l in n)if(ot.call(n,l))return!1;return!0}function nT(n,o){return ws(n,o)}function iT(n,o,l){l=typeof l=="function"?l:r;var p=l?l(n,o):r;return p===r?ws(n,o,r,l):!!p}function od(n){if(!Dt(n))return!1;var o=br(n);return o==Ee||o==H||typeof n.message=="string"&&typeof n.name=="string"&&!As(n)}function aT(n){return typeof n=="number"&&Mm(n)}function vi(n){if(!Ot(n))return!1;var o=br(n);return o==je||o==et||o==S||o==un}function i0(n){return typeof n=="number"&&n==Le(n)}function Tl(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=G}function Ot(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function Dt(n){return n!=null&&typeof n=="object"}var a0=fn?en(fn):lS;function oT(n,o){return n===o||Df(n,o,Jf(o))}function sT(n,o,l){return l=typeof l=="function"?l:r,Df(n,o,Jf(o),l)}function uT(n){return o0(n)&&n!=+n}function lT(n){if(zS(n))throw new De(s);return Xm(n)}function cT(n){return n===null}function fT(n){return n==null}function o0(n){return typeof n=="number"||Dt(n)&&br(n)==St}function As(n){if(!Dt(n)||br(n)!=Ye)return!1;var o=Zu(n);if(o===null)return!0;var l=ot.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&Ku.call(l)==s$}var sd=Vn?en(Vn):cS;function dT(n){return i0(n)&&n>=-G&&n<=G}var s0=cs?en(cs):fS;function Ol(n){return typeof n=="string"||!xe(n)&&Dt(n)&&br(n)==xt}function rn(n){return typeof n=="symbol"||Dt(n)&&br(n)==Lt}var _o=ga?en(ga):dS;function hT(n){return n===r}function pT(n){return Dt(n)&&mr(n)==Kr}function mT(n){return Dt(n)&&br(n)==En}var gT=vl(xf),vT=vl(function(n,o){return n<=o});function u0(n){if(!n)return[];if(jr(n))return Ol(n)?On(n):kr(n);if(ds&&n[ds])return K1(n[ds]());var o=mr(n),l=o==Ve?$f:o==Tt?zu:wo;return l(n)}function yi(n){if(!n)return n===0?n:0;if(n=yn(n),n===ee||n===-ee){var o=n<0?-1:1;return o*X}return n===n?n:0}function Le(n){var o=yi(n),l=o%1;return o===o?l?o-l:o:0}function l0(n){return n?wa(Le(n),0,U):0}function yn(n){if(typeof n=="number")return n;if(rn(n))return W;if(Ot(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=Ot(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=Cm(n);var l=Ue.test(n);return l||_t.test(n)?Fe(n.slice(2),l?2:8):yt.test(n)?W:+n}function c0(n){return Kn(n,Br(n))}function yT(n){return n?wa(Le(n),-G,G):n===0?n:0}function nt(n){return n==null?"":tn(n)}var _T=go(function(n,o){if(Ss(o)||jr(o)){Kn(o,Qt(o),n);return}for(var l in o)ot.call(o,l)&&vs(n,l,o[l])}),f0=go(function(n,o){Kn(o,Br(o),n)}),Cl=go(function(n,o,l,p){Kn(o,Br(o),n,p)}),wT=go(function(n,o,l,p){Kn(o,Qt(o),n,p)}),ET=mi(Cf);function $T(n,o){var l=mo(n);return o==null?l:Hm(l,o)}var ST=Be(function(n,o){n=mt(n);var l=-1,p=o.length,w=p>2?o[2]:r;for(w&&Ar(o[0],o[1],w)&&(p=1);++l<p;)for(var C=o[l],M=Br(C),q=-1,J=M.length;++q<J;){var fe=M[q],he=n[fe];(he===r||Rn(he,fo[fe])&&!ot.call(n,fe))&&(n[fe]=C[fe])}return n}),bT=Be(function(n){return n.push(r,Cg),Xt(d0,r,n)});function AT(n,o){return bm(n,Ce(o,3),Yn)}function TT(n,o){return bm(n,Ce(o,3),If)}function OT(n,o){return n==null?n:Rf(n,Ce(o,3),Br)}function CT(n,o){return n==null?n:Ym(n,Ce(o,3),Br)}function RT(n,o){return n&&Yn(n,Ce(o,3))}function IT(n,o){return n&&If(n,Ce(o,3))}function PT(n){return n==null?[]:ll(n,Qt(n))}function NT(n){return n==null?[]:ll(n,Br(n))}function ud(n,o,l){var p=n==null?r:Ea(n,o);return p===r?l:p}function DT(n,o){return n!=null&&Pg(n,o,rS)}function ld(n,o){return n!=null&&Pg(n,o,nS)}var FT=Sg(function(n,o,l){o!=null&&typeof o.toString!="function"&&(o=Ju.call(o)),n[o]=l},fd(qr)),xT=Sg(function(n,o,l){o!=null&&typeof o.toString!="function"&&(o=Ju.call(o)),ot.call(n,o)?n[o].push(l):n[o]=[l]},Ce),LT=Be(_s);function Qt(n){return jr(n)?Bm(n):Ff(n)}function Br(n){return jr(n)?Bm(n,!0):hS(n)}function UT(n,o){var l={};return o=Ce(o,3),Yn(n,function(p,w,C){hi(l,o(p,w,C),p)}),l}function MT(n,o){var l={};return o=Ce(o,3),Yn(n,function(p,w,C){hi(l,w,o(p,w,C))}),l}var kT=go(function(n,o,l){cl(n,o,l)}),d0=go(function(n,o,l,p){cl(n,o,l,p)}),jT=mi(function(n,o){var l={};if(n==null)return l;var p=!1;o=At(o,function(C){return C=Wi(C,n),p||(p=C.length>1),C}),Kn(n,Yf(n),l),p&&(l=mn(l,d|g|v,FS));for(var w=o.length;w--;)jf(l,o[w]);return l});function BT(n,o){return h0(n,Al(Ce(o)))}var qT=mi(function(n,o){return n==null?{}:mS(n,o)});function h0(n,o){if(n==null)return{};var l=At(Yf(n),function(p){return[p]});return o=Ce(o),ig(n,l,function(p,w){return o(p,w[0])})}function HT(n,o,l){o=Wi(o,n);var p=-1,w=o.length;for(w||(w=1,n=r);++p<w;){var C=n==null?r:n[Jn(o[p])];C===r&&(p=w,C=l),n=vi(C)?C.call(n):C}return n}function WT(n,o,l){return n==null?n:Es(n,o,l)}function GT(n,o,l,p){return p=typeof p=="function"?p:r,n==null?n:Es(n,o,l,p)}var p0=Tg(Qt),m0=Tg(Br);function zT(n,o,l){var p=xe(n),w=p||zi(n)||_o(n);if(o=Ce(o,4),l==null){var C=n&&n.constructor;w?l=p?new C:[]:Ot(n)?l=vi(C)?mo(Zu(n)):{}:l={}}return(w?dn:Yn)(n,function(M,q,J){return o(l,M,q,J)}),l}function VT(n,o){return n==null?!0:jf(n,o)}function YT(n,o,l){return n==null?n:lg(n,o,Hf(l))}function KT(n,o,l,p){return p=typeof p=="function"?p:r,n==null?n:lg(n,o,Hf(l),p)}function wo(n){return n==null?[]:Ef(n,Qt(n))}function JT(n){return n==null?[]:Ef(n,Br(n))}function XT(n,o,l){return l===r&&(l=o,o=r),l!==r&&(l=yn(l),l=l===l?l:0),o!==r&&(o=yn(o),o=o===o?o:0),wa(yn(n),o,l)}function QT(n,o,l){return o=yi(o),l===r?(l=o,o=0):l=yi(l),n=yn(n),iS(n,o,l)}function ZT(n,o,l){if(l&&typeof l!="boolean"&&Ar(n,o,l)&&(o=l=r),l===r&&(typeof o=="boolean"?(l=o,o=r):typeof n=="boolean"&&(l=n,n=r)),n===r&&o===r?(n=0,o=1):(n=yi(n),o===r?(o=n,n=0):o=yi(o)),n>o){var p=n;n=o,o=p}if(l||n%1||o%1){var w=km();return pr(n+w*(o-n+ht("1e-"+((w+"").length-1))),o)}return Uf(n,o)}var eO=vo(function(n,o,l){return o=o.toLowerCase(),n+(l?g0(o):o)});function g0(n){return cd(nt(n).toLowerCase())}function v0(n){return n=nt(n),n&&n.replace(Xe,W1).replace(df,"")}function tO(n,o,l){n=nt(n),o=tn(o);var p=n.length;l=l===r?p:wa(Le(l),0,p);var w=l;return l-=o.length,l>=0&&n.slice(l,w)==o}function rO(n){return n=nt(n),n&&xr.test(n)?n.replace(eo,G1):n}function nO(n){return n=nt(n),n&&us.test(n)?n.replace(Fi,"\\$&"):n}var iO=vo(function(n,o,l){return n+(l?"-":"")+o.toLowerCase()}),aO=vo(function(n,o,l){return n+(l?" ":"")+o.toLowerCase()}),oO=wg("toLowerCase");function sO(n,o,l){n=nt(n),o=Le(o);var p=o?lo(n):0;if(!o||p>=o)return n;var w=(o-p)/2;return gl(nl(w),l)+n+gl(rl(w),l)}function uO(n,o,l){n=nt(n),o=Le(o);var p=o?lo(n):0;return o&&p<o?n+gl(o-p,l):n}function lO(n,o,l){n=nt(n),o=Le(o);var p=o?lo(n):0;return o&&p<o?gl(o-p,l)+n:n}function cO(n,o,l){return l||o==null?o=0:o&&(o=+o),v$(nt(n).replace(xi,""),o||0)}function fO(n,o,l){return(l?Ar(n,o,l):o===r)?o=1:o=Le(o),Mf(nt(n),o)}function dO(){var n=arguments,o=nt(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var hO=vo(function(n,o,l){return n+(l?"_":"")+o.toLowerCase()});function pO(n,o,l){return l&&typeof l!="number"&&Ar(n,o,l)&&(o=l=r),l=l===r?U:l>>>0,l?(n=nt(n),n&&(typeof o=="string"||o!=null&&!sd(o))&&(o=tn(o),!o&&uo(n))?Gi(On(n),0,l):n.split(o,l)):[]}var mO=vo(function(n,o,l){return n+(l?" ":"")+cd(o)});function gO(n,o,l){return n=nt(n),l=l==null?0:wa(Le(l),0,n.length),o=tn(o),n.slice(l,l+o.length)==o}function vO(n,o,l){var p=A.templateSettings;l&&Ar(n,o,l)&&(o=r),n=nt(n),o=Cl({},o,p,Og);var w=Cl({},o.imports,p.imports,Og),C=Qt(w),M=Ef(w,C),q,J,fe=0,he=o.interpolate||ft,me="__p += '",ve=Sf((o.escape||ft).source+"|"+he.source+"|"+(he===Di?qe:ft).source+"|"+(o.evaluate||ft).source+"|$","g"),Se="//# sourceURL="+(ot.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hf+"]")+`
`;n.replace(ve,function(Ie,Ge,Je,nn,Tr,an){return Je||(Je=nn),me+=n.slice(fe,an).replace(ut,z1),Ge&&(q=!0,me+=`' +
__e(`+Ge+`) +
'`),Tr&&(J=!0,me+=`';
`+Tr+`;
__p += '`),Je&&(me+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),fe=an+Ie.length,Ie}),me+=`';
`;var Re=ot.call(o,"variable")&&o.variable;if(!Re)me=`with (obj) {
`+me+`
}
`;else if($e.test(Re))throw new De(c);me=(J?me.replace(os,""):me).replace(Sn,"$1").replace(Qa,"$1;"),me="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var Me=_0(function(){return tt(C,Se+"return "+me).apply(r,M)});if(Me.source=me,od(Me))throw Me;return Me}function yO(n){return nt(n).toLowerCase()}function _O(n){return nt(n).toUpperCase()}function wO(n,o,l){if(n=nt(n),n&&(l||o===r))return Cm(n);if(!n||!(o=tn(o)))return n;var p=On(n),w=On(o),C=Rm(p,w),M=Im(p,w)+1;return Gi(p,C,M).join("")}function EO(n,o,l){if(n=nt(n),n&&(l||o===r))return n.slice(0,Nm(n)+1);if(!n||!(o=tn(o)))return n;var p=On(n),w=Im(p,On(o))+1;return Gi(p,0,w).join("")}function $O(n,o,l){if(n=nt(n),n&&(l||o===r))return n.replace(xi,"");if(!n||!(o=tn(o)))return n;var p=On(n),w=Rm(p,On(o));return Gi(p,w).join("")}function SO(n,o){var l=Q,p=le;if(Ot(o)){var w="separator"in o?o.separator:w;l="length"in o?Le(o.length):l,p="omission"in o?tn(o.omission):p}n=nt(n);var C=n.length;if(uo(n)){var M=On(n);C=M.length}if(l>=C)return n;var q=l-lo(p);if(q<1)return p;var J=M?Gi(M,0,q).join(""):n.slice(0,q);if(w===r)return J+p;if(M&&(q+=J.length-q),sd(w)){if(n.slice(q).search(w)){var fe,he=J;for(w.global||(w=Sf(w.source,nt(He.exec(w))+"g")),w.lastIndex=0;fe=w.exec(he);)var me=fe.index;J=J.slice(0,me===r?q:me)}}else if(n.indexOf(tn(w),q)!=q){var ve=J.lastIndexOf(w);ve>-1&&(J=J.slice(0,ve))}return J+p}function bO(n){return n=nt(n),n&&da.test(n)?n.replace(Za,Z1):n}var AO=vo(function(n,o,l){return n+(l?" ":"")+o.toUpperCase()}),cd=wg("toUpperCase");function y0(n,o,l){return n=nt(n),o=l?r:o,o===r?Y1(n)?r$(n):k1(n):n.match(o)||[]}var _0=Be(function(n,o){try{return Xt(n,r,o)}catch(l){return od(l)?l:new De(l)}}),TO=mi(function(n,o){return dn(o,function(l){l=Jn(l),hi(n,l,id(n[l],n))}),n});function OO(n){var o=n==null?0:n.length,l=Ce();return n=o?At(n,function(p){if(typeof p[1]!="function")throw new hn(u);return[l(p[0]),p[1]]}):[],Be(function(p){for(var w=-1;++w<o;){var C=n[w];if(Xt(C[0],this,p))return Xt(C[1],this,p)}})}function CO(n){return Z$(mn(n,d))}function fd(n){return function(){return n}}function RO(n,o){return n==null||n!==n?o:n}var IO=$g(),PO=$g(!0);function qr(n){return n}function dd(n){return Qm(typeof n=="function"?n:mn(n,d))}function NO(n){return eg(mn(n,d))}function DO(n,o){return tg(n,mn(o,d))}var FO=Be(function(n,o){return function(l){return _s(l,n,o)}}),xO=Be(function(n,o){return function(l){return _s(n,l,o)}});function hd(n,o,l){var p=Qt(o),w=ll(o,p);l==null&&!(Ot(o)&&(w.length||!p.length))&&(l=o,o=n,n=this,w=ll(o,Qt(o)));var C=!(Ot(l)&&"chain"in l)||!!l.chain,M=vi(n);return dn(w,function(q){var J=o[q];n[q]=J,M&&(n.prototype[q]=function(){var fe=this.__chain__;if(C||fe){var he=n(this.__wrapped__),me=he.__actions__=kr(this.__actions__);return me.push({func:J,args:arguments,thisArg:n}),he.__chain__=fe,he}return J.apply(n,ki([this.value()],arguments))})}),n}function LO(){return Ke._===this&&(Ke._=u$),this}function pd(){}function UO(n){return n=Le(n),Be(function(o){return rg(o,n)})}var MO=Gf(At),kO=Gf(Sm),jO=Gf(gf);function w0(n){return Qf(n)?vf(Jn(n)):gS(n)}function BO(n){return function(o){return n==null?r:Ea(n,o)}}var qO=bg(),HO=bg(!0);function md(){return[]}function gd(){return!1}function WO(){return{}}function GO(){return""}function zO(){return!0}function VO(n,o){if(n=Le(n),n<1||n>G)return[];var l=U,p=pr(n,U);o=Ce(o),n-=U;for(var w=wf(p,o);++l<n;)o(l);return w}function YO(n){return xe(n)?At(n,Jn):rn(n)?[n]:kr(jg(nt(n)))}function KO(n){var o=++o$;return nt(n)+o}var JO=ml(function(n,o){return n+o},0),XO=zf("ceil"),QO=ml(function(n,o){return n/o},1),ZO=zf("floor");function eC(n){return n&&n.length?ul(n,qr,Pf):r}function tC(n,o){return n&&n.length?ul(n,Ce(o,2),Pf):r}function rC(n){return Tm(n,qr)}function nC(n,o){return Tm(n,Ce(o,2))}function iC(n){return n&&n.length?ul(n,qr,xf):r}function aC(n,o){return n&&n.length?ul(n,Ce(o,2),xf):r}var oC=ml(function(n,o){return n*o},1),sC=zf("round"),uC=ml(function(n,o){return n-o},0);function lC(n){return n&&n.length?_f(n,qr):0}function cC(n,o){return n&&n.length?_f(n,Ce(o,2)):0}return A.after=NA,A.ary=Xg,A.assign=_T,A.assignIn=f0,A.assignInWith=Cl,A.assignWith=wT,A.at=ET,A.before=Qg,A.bind=id,A.bindAll=TO,A.bindKey=Zg,A.castArray=WA,A.chain=Yg,A.chunk=ZS,A.compact=eb,A.concat=tb,A.cond=OO,A.conforms=CO,A.constant=fd,A.countBy=lA,A.create=$T,A.curry=e0,A.curryRight=t0,A.debounce=r0,A.defaults=ST,A.defaultsDeep=bT,A.defer=DA,A.delay=FA,A.difference=rb,A.differenceBy=nb,A.differenceWith=ib,A.drop=ab,A.dropRight=ob,A.dropRightWhile=sb,A.dropWhile=ub,A.fill=lb,A.filter=fA,A.flatMap=pA,A.flatMapDeep=mA,A.flatMapDepth=gA,A.flatten=Wg,A.flattenDeep=cb,A.flattenDepth=fb,A.flip=xA,A.flow=IO,A.flowRight=PO,A.fromPairs=db,A.functions=PT,A.functionsIn=NT,A.groupBy=vA,A.initial=pb,A.intersection=mb,A.intersectionBy=gb,A.intersectionWith=vb,A.invert=FT,A.invertBy=xT,A.invokeMap=_A,A.iteratee=dd,A.keyBy=wA,A.keys=Qt,A.keysIn=Br,A.map=$l,A.mapKeys=UT,A.mapValues=MT,A.matches=NO,A.matchesProperty=DO,A.memoize=bl,A.merge=kT,A.mergeWith=d0,A.method=FO,A.methodOf=xO,A.mixin=hd,A.negate=Al,A.nthArg=UO,A.omit=jT,A.omitBy=BT,A.once=LA,A.orderBy=EA,A.over=MO,A.overArgs=UA,A.overEvery=kO,A.overSome=jO,A.partial=ad,A.partialRight=n0,A.partition=$A,A.pick=qT,A.pickBy=h0,A.property=w0,A.propertyOf=BO,A.pull=Eb,A.pullAll=zg,A.pullAllBy=$b,A.pullAllWith=Sb,A.pullAt=bb,A.range=qO,A.rangeRight=HO,A.rearg=MA,A.reject=AA,A.remove=Ab,A.rest=kA,A.reverse=rd,A.sampleSize=OA,A.set=WT,A.setWith=GT,A.shuffle=CA,A.slice=Tb,A.sortBy=PA,A.sortedUniq=Db,A.sortedUniqBy=Fb,A.split=pO,A.spread=jA,A.tail=xb,A.take=Lb,A.takeRight=Ub,A.takeRightWhile=Mb,A.takeWhile=kb,A.tap=eA,A.throttle=BA,A.thru=El,A.toArray=u0,A.toPairs=p0,A.toPairsIn=m0,A.toPath=YO,A.toPlainObject=c0,A.transform=zT,A.unary=qA,A.union=jb,A.unionBy=Bb,A.unionWith=qb,A.uniq=Hb,A.uniqBy=Wb,A.uniqWith=Gb,A.unset=VT,A.unzip=nd,A.unzipWith=Vg,A.update=YT,A.updateWith=KT,A.values=wo,A.valuesIn=JT,A.without=zb,A.words=y0,A.wrap=HA,A.xor=Vb,A.xorBy=Yb,A.xorWith=Kb,A.zip=Jb,A.zipObject=Xb,A.zipObjectDeep=Qb,A.zipWith=Zb,A.entries=p0,A.entriesIn=m0,A.extend=f0,A.extendWith=Cl,hd(A,A),A.add=JO,A.attempt=_0,A.camelCase=eO,A.capitalize=g0,A.ceil=XO,A.clamp=XT,A.clone=GA,A.cloneDeep=VA,A.cloneDeepWith=YA,A.cloneWith=zA,A.conformsTo=KA,A.deburr=v0,A.defaultTo=RO,A.divide=QO,A.endsWith=tO,A.eq=Rn,A.escape=rO,A.escapeRegExp=nO,A.every=cA,A.find=dA,A.findIndex=qg,A.findKey=AT,A.findLast=hA,A.findLastIndex=Hg,A.findLastKey=TT,A.floor=ZO,A.forEach=Kg,A.forEachRight=Jg,A.forIn=OT,A.forInRight=CT,A.forOwn=RT,A.forOwnRight=IT,A.get=ud,A.gt=JA,A.gte=XA,A.has=DT,A.hasIn=ld,A.head=Gg,A.identity=qr,A.includes=yA,A.indexOf=hb,A.inRange=QT,A.invoke=LT,A.isArguments=ba,A.isArray=xe,A.isArrayBuffer=QA,A.isArrayLike=jr,A.isArrayLikeObject=Mt,A.isBoolean=ZA,A.isBuffer=zi,A.isDate=eT,A.isElement=tT,A.isEmpty=rT,A.isEqual=nT,A.isEqualWith=iT,A.isError=od,A.isFinite=aT,A.isFunction=vi,A.isInteger=i0,A.isLength=Tl,A.isMap=a0,A.isMatch=oT,A.isMatchWith=sT,A.isNaN=uT,A.isNative=lT,A.isNil=fT,A.isNull=cT,A.isNumber=o0,A.isObject=Ot,A.isObjectLike=Dt,A.isPlainObject=As,A.isRegExp=sd,A.isSafeInteger=dT,A.isSet=s0,A.isString=Ol,A.isSymbol=rn,A.isTypedArray=_o,A.isUndefined=hT,A.isWeakMap=pT,A.isWeakSet=mT,A.join=yb,A.kebabCase=iO,A.last=vn,A.lastIndexOf=_b,A.lowerCase=aO,A.lowerFirst=oO,A.lt=gT,A.lte=vT,A.max=eC,A.maxBy=tC,A.mean=rC,A.meanBy=nC,A.min=iC,A.minBy=aC,A.stubArray=md,A.stubFalse=gd,A.stubObject=WO,A.stubString=GO,A.stubTrue=zO,A.multiply=oC,A.nth=wb,A.noConflict=LO,A.noop=pd,A.now=Sl,A.pad=sO,A.padEnd=uO,A.padStart=lO,A.parseInt=cO,A.random=ZT,A.reduce=SA,A.reduceRight=bA,A.repeat=fO,A.replace=dO,A.result=HT,A.round=sC,A.runInContext=z,A.sample=TA,A.size=RA,A.snakeCase=hO,A.some=IA,A.sortedIndex=Ob,A.sortedIndexBy=Cb,A.sortedIndexOf=Rb,A.sortedLastIndex=Ib,A.sortedLastIndexBy=Pb,A.sortedLastIndexOf=Nb,A.startCase=mO,A.startsWith=gO,A.subtract=uC,A.sum=lC,A.sumBy=cC,A.template=vO,A.times=VO,A.toFinite=yi,A.toInteger=Le,A.toLength=l0,A.toLower=yO,A.toNumber=yn,A.toSafeInteger=yT,A.toString=nt,A.toUpper=_O,A.trim=wO,A.trimEnd=EO,A.trimStart=$O,A.truncate=SO,A.unescape=bO,A.uniqueId=KO,A.upperCase=AO,A.upperFirst=cd,A.each=Kg,A.eachRight=Jg,A.first=Gg,hd(A,function(){var n={};return Yn(A,function(o,l){ot.call(A.prototype,l)||(n[l]=o)}),n}(),{chain:!1}),A.VERSION=i,dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){A[n].placeholder=A}),dn(["drop","take"],function(n,o){ze.prototype[n]=function(l){l=l===r?1:Jt(Le(l),0);var p=this.__filtered__&&!o?new ze(this):this.clone();return p.__filtered__?p.__takeCount__=pr(l,p.__takeCount__):p.__views__.push({size:pr(l,U),type:n+(p.__dir__<0?"Right":"")}),p},ze.prototype[n+"Right"]=function(l){return this.reverse()[n](l).reverse()}}),dn(["filter","map","takeWhile"],function(n,o){var l=o+1,p=l==Z||l==ge;ze.prototype[n]=function(w){var C=this.clone();return C.__iteratees__.push({iteratee:Ce(w,3),type:l}),C.__filtered__=C.__filtered__||p,C}}),dn(["head","last"],function(n,o){var l="take"+(o?"Right":"");ze.prototype[n]=function(){return this[l](1).value()[0]}}),dn(["initial","tail"],function(n,o){var l="drop"+(o?"":"Right");ze.prototype[n]=function(){return this.__filtered__?new ze(this):this[l](1)}}),ze.prototype.compact=function(){return this.filter(qr)},ze.prototype.find=function(n){return this.filter(n).head()},ze.prototype.findLast=function(n){return this.reverse().find(n)},ze.prototype.invokeMap=Be(function(n,o){return typeof n=="function"?new ze(this):this.map(function(l){return _s(l,n,o)})}),ze.prototype.reject=function(n){return this.filter(Al(Ce(n)))},ze.prototype.slice=function(n,o){n=Le(n);var l=this;return l.__filtered__&&(n>0||o<0)?new ze(l):(n<0?l=l.takeRight(-n):n&&(l=l.drop(n)),o!==r&&(o=Le(o),l=o<0?l.dropRight(-o):l.take(o-n)),l)},ze.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ze.prototype.toArray=function(){return this.take(U)},Yn(ze.prototype,function(n,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),p=/^(?:head|last)$/.test(o),w=A[p?"take"+(o=="last"?"Right":""):o],C=p||/^find/.test(o);!w||(A.prototype[o]=function(){var M=this.__wrapped__,q=p?[1]:arguments,J=M instanceof ze,fe=q[0],he=J||xe(M),me=function(Ge){var Je=w.apply(A,ki([Ge],q));return p&&ve?Je[0]:Je};he&&l&&typeof fe=="function"&&fe.length!=1&&(J=he=!1);var ve=this.__chain__,Se=!!this.__actions__.length,Re=C&&!ve,Me=J&&!Se;if(!C&&he){M=Me?M:new ze(this);var Ie=n.apply(M,q);return Ie.__actions__.push({func:El,args:[me],thisArg:r}),new pn(Ie,ve)}return Re&&Me?n.apply(this,q):(Ie=this.thru(me),Re?p?Ie.value()[0]:Ie.value():Ie)})}),dn(["pop","push","shift","sort","splice","unshift"],function(n){var o=Vu[n],l=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",p=/^(?:pop|shift)$/.test(n);A.prototype[n]=function(){var w=arguments;if(p&&!this.__chain__){var C=this.value();return o.apply(xe(C)?C:[],w)}return this[l](function(M){return o.apply(xe(M)?M:[],w)})}}),Yn(ze.prototype,function(n,o){var l=A[o];if(l){var p=l.name+"";ot.call(po,p)||(po[p]=[]),po[p].push({name:o,func:l})}}),po[pl(r,$).name]=[{name:"wrapper",func:r}],ze.prototype.clone=b$,ze.prototype.reverse=A$,ze.prototype.value=T$,A.prototype.at=tA,A.prototype.chain=rA,A.prototype.commit=nA,A.prototype.next=iA,A.prototype.plant=oA,A.prototype.reverse=sA,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=uA,A.prototype.first=A.prototype.head,ds&&(A.prototype[ds]=aA),A},co=n$();Ut?((Ut.exports=co)._=co,pt._=co):Ke._=co}).call(qt)})(_h,_h.exports);let ti={common:{update:"update",programInstallationLocation:"ProgramInstallationLocation",clearFileCache:"clearFileCache"},file:{openFile:"openFile",getFileOpenRecords:"getFileOpenRecords"},winMain:{close:"close",min:"min",max:"max",isMaximized:"isMaximized"},viewTab:{data:"data",add:"add",close:"close",active:"active",onUpdate:"onUpdate",closeAll:"closeAll"},message:{onShowMessage:"onShowMessage"},loading:{onShowLoading:"onShowLoading",onHideLoading:"onHideLoading"},wasm:{getWasmBinary:"getWasmBinary"},debug:{tools:"debug-tools"}};function eE(e,t="modules"){for(const r in e){const i=e[r];typeof i=="string"?e[r]=`${t}.${i}`:typeof i=="object"&&eE(i,`${t}.${r}`)}return e}ti=eE(ti);const wh=ti.common,Bl=ti.winMain,Uo=ti.viewTab,py=ti.file,my=ti.message,rU=ti.wasm,tE=ti.loading,nU=ti.debug,iU=()=>{we.ipcMain.handle(Uo.data,function(){const e=fr.getCurrentTabs();return e?e.tabs.map(({view:r,...i})=>i):void 0}),we.ipcMain.handle(Uo.add,function(e,t){const r=fr.getCurrentTabs();!r||r.addTab({title:t})}),we.ipcMain.handle(Uo.close,function(e,t){const r=fr.getCurrentTabs();!r||r.closeTab(t)}),we.ipcMain.handle(Uo.active,function(e,t){const r=fr.getCurrentTabs();!r||r.switchTab(t)})},ql=()=>{const e=we.BrowserWindow.getFocusedWindow();if(!e)return;const t=fr.getCurrentTabs();if(!t)return;const r=t.tabs.map(({view:i,...a})=>a);e.webContents.send(Uo.onUpdate,r),t.tabs.forEach(i=>{i.view&&i.view.webContents.send(Uo.onUpdate,r)})};function aU(e){return new URLSearchParams(oU(e)).toString()}function oU(e){const t={};for(const r in e)t[encodeURIComponent(r)]=encodeURIComponent(e[r]);return t}const Hs=Oe.default.join(__dirname,"../dist/2d/dist/index.html"),Eh=Oe.default.join(__dirname,"../dist/3d/dist/index.html"),rE=Oe.default.join(__dirname,"./preload2d.js"),sU=Oe.default.join(__dirname,"./preload2d.js");let uU=0;const Ac=class{constructor(t){wi(this,"mainWindow");wi(this,"activeTab");wi(this,"tabs",[]);wi(this,"loadTabHideMainWindowCanvas",async t=>{t.webContents.once("did-fail-load",()=>{this.mainWindow.webContents.removeInsertedCSS(r)});let r=await this.mainWindow.webContents.insertCSS("canvas { display: none; }");setTimeout(()=>{this.mainWindow.webContents.removeInsertedCSS(r)},2e3)});Ac.tabsMap.set(t,this),this.mainWindow=t,this.tabs.push({title:"\u9ED8\u8BA4\u6807\u7B7E",view:null,url:Hs,active:!1,isLoad:!0}),t.loadURL(`file://${Hs}`),this.activateTab(this.tabs[0]),this.mainWindow.on("resize",()=>{!this.mainWindow||this.tabs.forEach(({view:r})=>{r&&this.setSize(r)})}),this.mainWindow.on("closed",()=>{this.tabs=[]})}static getCurrentTabs(t=we.BrowserWindow.getFocusedWindow()){if(!!t)return Ac.tabsMap.get(t)}get is2D(){return this.activeTab.url===Hs}get is3D(){return this.activeTab.url===Eh}get preloadUrl(){return this.is2D?rE:sU}setSize(t){const{width:r,height:i}=this.mainWindow.getContentBounds();t.setBounds({x:0,y:0,width:r,height:i}),t.setAutoResize({width:!0,height:!0})}async activateTab(t){ql(),t&&(this.activeTab===t&&t.isLoad||(this.activeTab&&(this.activeTab.active=!1),t.active=!0,this.activeTab=t,t.isLoad?(ql(),this.mainWindow.setBrowserView(t.view)):this.loadTab(t).then(()=>{ql(),t.view&&(this.mainWindow.setBrowserView(t.view),this.setSize(t.view))})))}loadTab(t){return new Promise((r,i)=>{if(!t.view)return;t.isLoad=!1;const{webContents:a}=t.view;this.loadTabHideMainWindowCanvas(t.view),a.once("did-fail-load",(s,u,c,f)=>{console.error(`Tab ${t.title} failed to load: ${c}`),i(c)}),t.view.webContents.loadURL(`file://${t.url}?${aU((t==null?void 0:t.params)||{})}`).then(()=>{t.isLoad=!0,r()}).catch(()=>{i()})})}switchTab(t){if(t<0||t>=this.tabs.length)return;const r=this.tabs[t];this.activateTab(r)}openUrl(t){this.activeTab.url=t,this.loadTab(this.activeTab)}addTab(t){if(!this.mainWindow)return;const r=new we.BrowserView({webPreferences:{contextIsolation:!0,nodeIntegration:!1,preload:this.preloadUrl,webgl:!0,webSecurity:!1,experimentalFeatures:!0,enableBlinkFeatures:"SharedArrayBuffer"}}),i=t!=null&&t.title?t.title:"MxCloud"+uU++,a=t!=null&&t.url?t.url:this.is2D?Hs:Eh,s={view:r,title:i,url:a,active:!1,isLoad:!1,params:t==null?void 0:t.params};this.tabs.push(s),ql(),we.app.isPackaged||r.webContents.openDevTools(),this.activateTab(s)}closeTab(t){if(this.tabs.length<=1)return;const r=typeof t<"u"?t:this.tabs.indexOf(this.activeTab),i=this.tabs.splice(r,1)[0];i.view&&this.mainWindow.removeBrowserView(i.view),this.activateTab(this.tabs[r-1]||this.tabs[0])}getFocusedTab(){if(!this.mainWindow)return null;const t=this.mainWindow.getBrowserView();return t?this.tabs.find(r=>r.view===t):null}};let fr=Ac;wi(fr,"tabsMap",new WeakMap);var $h={exports:{}},lU=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Ca=lU,cU=new Set(["__proto__","prototype","constructor"]),fU=e=>!e.some(t=>cU.has(t));function Hl(e){const t=e.split("."),r=[];for(let i=0;i<t.length;i++){let a=t[i];for(;a[a.length-1]==="\\"&&t[i+1]!==void 0;)a=a.slice(0,-1)+".",a+=t[++i];r.push(a)}return fU(r)?r:[]}var dU={get(e,t,r){if(!Ca(e)||typeof t!="string")return r===void 0?e:r;const i=Hl(t);if(i.length!==0){for(let a=0;a<i.length;a++)if(e=e[i[a]],e==null){if(a!==i.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Ca(e)||typeof t!="string")return e;const i=e,a=Hl(t);for(let s=0;s<a.length;s++){const u=a[s];Ca(e[u])||(e[u]={}),s===a.length-1&&(e[u]=r),e=e[u]}return i},delete(e,t){if(!Ca(e)||typeof t!="string")return!1;const r=Hl(t);for(let i=0;i<r.length;i++){const a=r[i];if(i===r.length-1)return delete e[a],!0;if(e=e[a],!Ca(e))return!1}},has(e,t){if(!Ca(e)||typeof t!="string")return!1;const r=Hl(t);if(r.length===0)return!1;for(let i=0;i<r.length;i++)if(Ca(e)){if(!(r[i]in e))return!1;e=e[r[i]]}else return!1;return!0}},pp={exports:{}},mp={exports:{}},gp={exports:{}},vp={exports:{}};const nE=ct.default;vp.exports=e=>new Promise(t=>{nE.access(e,r=>{t(!r)})});vp.exports.sync=e=>{try{return nE.accessSync(e),!0}catch{return!1}};var yp={exports:{}},_p={exports:{}};const iE=(e,...t)=>new Promise(r=>{r(e(...t))});_p.exports=iE;_p.exports.default=iE;const hU=_p.exports,aE=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const i=()=>{r--,t.length>0&&t.shift()()},a=(c,f,...m)=>{r++;const h=hU(c,...m);f(h),h.then(i,i)},s=(c,f,...m)=>{r<e?a(c,f,...m):t.push(a.bind(null,c,f,...m))},u=(c,...f)=>new Promise(m=>s(c,m,...f));return Object.defineProperties(u,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),u};yp.exports=aE;yp.exports.default=aE;const gy=yp.exports;class oE extends Error{constructor(t){super(),this.value=t}}const pU=(e,t)=>Promise.resolve(e).then(t),mU=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new oE(t[0])));var gU=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const i=gy(r.concurrency),a=[...e].map(u=>[u,i(pU,u,t)]),s=gy(r.preserveOrder?1:1/0);return Promise.all(a.map(u=>s(mU,u))).then(()=>{}).catch(u=>u instanceof oE?u.value:Promise.reject(u))};const sE=Oe.default,uE=vp.exports,vU=gU;gp.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),vU(e,r=>uE(sE.resolve(t.cwd,r)),t));gp.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(uE.sync(sE.resolve(t.cwd,r)))return r};const ta=Oe.default,lE=gp.exports;mp.exports=(e,t={})=>{const r=ta.resolve(t.cwd||""),{root:i}=ta.parse(r),a=[].concat(e);return new Promise(s=>{(function u(c){lE(a,{cwd:c}).then(f=>{f?s(ta.join(c,f)):c===i?s(null):u(ta.dirname(c))})})(r)})};mp.exports.sync=(e,t={})=>{let r=ta.resolve(t.cwd||"");const{root:i}=ta.parse(r),a=[].concat(e);for(;;){const s=lE.sync(a,{cwd:r});if(s)return ta.join(r,s);if(r===i)return null;r=ta.dirname(r)}};const cE=mp.exports;pp.exports=async({cwd:e}={})=>cE("package.json",{cwd:e});pp.exports.sync=({cwd:e}={})=>cE.sync("package.json",{cwd:e});var wp={exports:{}};const It=Oe.default,fE=la.default,Qi=fE.homedir(),Ep=fE.tmpdir(),{env:Mo}=process,yU=e=>{const t=It.join(Qi,"Library");return{data:It.join(t,"Application Support",e),config:It.join(t,"Preferences",e),cache:It.join(t,"Caches",e),log:It.join(t,"Logs",e),temp:It.join(Ep,e)}},_U=e=>{const t=Mo.APPDATA||It.join(Qi,"AppData","Roaming"),r=Mo.LOCALAPPDATA||It.join(Qi,"AppData","Local");return{data:It.join(r,e,"Data"),config:It.join(t,e,"Config"),cache:It.join(r,e,"Cache"),log:It.join(r,e,"Log"),temp:It.join(Ep,e)}},wU=e=>{const t=It.basename(Qi);return{data:It.join(Mo.XDG_DATA_HOME||It.join(Qi,".local","share"),e),config:It.join(Mo.XDG_CONFIG_HOME||It.join(Qi,".config"),e),cache:It.join(Mo.XDG_CACHE_HOME||It.join(Qi,".cache"),e),log:It.join(Mo.XDG_STATE_HOME||It.join(Qi,".local","state"),e),temp:It.join(Ep,t,e)}},dE=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?yU(e):process.platform==="win32"?_U(e):wU(e)};wp.exports=dE;wp.exports.default=dE;var Qn={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.NOOP=at.LIMIT_FILES_DESCRIPTORS=at.LIMIT_BASENAME_LENGTH=at.IS_USER_ROOT=at.IS_POSIX=at.DEFAULT_TIMEOUT_SYNC=at.DEFAULT_TIMEOUT_ASYNC=at.DEFAULT_WRITE_OPTIONS=at.DEFAULT_READ_OPTIONS=at.DEFAULT_FOLDER_MODE=at.DEFAULT_FILE_MODE=at.DEFAULT_ENCODING=void 0;const EU="utf8";at.DEFAULT_ENCODING=EU;const $U=438;at.DEFAULT_FILE_MODE=$U;const SU=511;at.DEFAULT_FOLDER_MODE=SU;const bU={};at.DEFAULT_READ_OPTIONS=bU;const AU={};at.DEFAULT_WRITE_OPTIONS=AU;const TU=5e3;at.DEFAULT_TIMEOUT_ASYNC=TU;const OU=100;at.DEFAULT_TIMEOUT_SYNC=OU;const CU=!!process.getuid;at.IS_POSIX=CU;const RU=process.getuid?!process.getuid():!1;at.IS_USER_ROOT=RU;const IU=128;at.LIMIT_BASENAME_LENGTH=IU;const PU=1e4;at.LIMIT_FILES_DESCRIPTORS=PU;const NU=()=>{};at.NOOP=NU;var Jc={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.attemptifySync=Jo.attemptifyAsync=void 0;const hE=at,DU=(e,t=hE.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Jo.attemptifyAsync=DU;const FU=(e,t=hE.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Jo.attemptifySync=FU;var $p={};Object.defineProperty($p,"__esModule",{value:!0});const xU=at,pE={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!xU.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!pE.isChangeErrorOk(e))throw e}};$p.default=pE;var Xo={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});const LU=at,vt={interval:25,intervalId:void 0,limit:LU.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{vt.intervalId||(vt.intervalId=setInterval(vt.tick,vt.interval))},reset:()=>{!vt.intervalId||(clearInterval(vt.intervalId),delete vt.intervalId)},add:e=>{vt.queueWaiting.add(e),vt.queueActive.size<vt.limit/2?vt.tick():vt.init()},remove:e=>{vt.queueWaiting.delete(e),vt.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>vt.remove(r),r=()=>e(t);vt.add(r)}),tick:()=>{if(!(vt.queueActive.size>=vt.limit)){if(!vt.queueWaiting.size)return vt.reset();for(const e of vt.queueWaiting){if(vt.queueActive.size>=vt.limit)break;vt.queueWaiting.delete(e),vt.queueActive.add(e),e()}}}};Sp.default=vt;Object.defineProperty(Xo,"__esModule",{value:!0});Xo.retryifySync=Xo.retryifyAsync=void 0;const UU=Sp,MU=(e,t)=>function(r){return function i(){return UU.default.schedule().then(a=>e.apply(void 0,arguments).then(s=>(a(),s),s=>{if(a(),Date.now()>=r)throw s;if(t(s)){const u=Math.round(100+400*Math.random());return new Promise(f=>setTimeout(f,u)).then(()=>i.apply(void 0,arguments))}throw s}))}};Xo.retryifyAsync=MU;const kU=(e,t)=>function(r){return function i(){try{return e.apply(void 0,arguments)}catch(a){if(Date.now()>r)throw a;if(t(a))return i.apply(void 0,arguments);throw a}}};Xo.retryifySync=kU;Object.defineProperty(Jc,"__esModule",{value:!0});const st=ct.default,Or=ua.default,Cr=Jo,Zt=$p,Hr=Xo,jU={chmodAttempt:Cr.attemptifyAsync(Or.promisify(st.chmod),Zt.default.onChangeError),chownAttempt:Cr.attemptifyAsync(Or.promisify(st.chown),Zt.default.onChangeError),closeAttempt:Cr.attemptifyAsync(Or.promisify(st.close)),fsyncAttempt:Cr.attemptifyAsync(Or.promisify(st.fsync)),mkdirAttempt:Cr.attemptifyAsync(Or.promisify(st.mkdir)),realpathAttempt:Cr.attemptifyAsync(Or.promisify(st.realpath)),statAttempt:Cr.attemptifyAsync(Or.promisify(st.stat)),unlinkAttempt:Cr.attemptifyAsync(Or.promisify(st.unlink)),closeRetry:Hr.retryifyAsync(Or.promisify(st.close),Zt.default.isRetriableError),fsyncRetry:Hr.retryifyAsync(Or.promisify(st.fsync),Zt.default.isRetriableError),openRetry:Hr.retryifyAsync(Or.promisify(st.open),Zt.default.isRetriableError),readFileRetry:Hr.retryifyAsync(Or.promisify(st.readFile),Zt.default.isRetriableError),renameRetry:Hr.retryifyAsync(Or.promisify(st.rename),Zt.default.isRetriableError),statRetry:Hr.retryifyAsync(Or.promisify(st.stat),Zt.default.isRetriableError),writeRetry:Hr.retryifyAsync(Or.promisify(st.write),Zt.default.isRetriableError),chmodSyncAttempt:Cr.attemptifySync(st.chmodSync,Zt.default.onChangeError),chownSyncAttempt:Cr.attemptifySync(st.chownSync,Zt.default.onChangeError),closeSyncAttempt:Cr.attemptifySync(st.closeSync),mkdirSyncAttempt:Cr.attemptifySync(st.mkdirSync),realpathSyncAttempt:Cr.attemptifySync(st.realpathSync),statSyncAttempt:Cr.attemptifySync(st.statSync),unlinkSyncAttempt:Cr.attemptifySync(st.unlinkSync),closeSyncRetry:Hr.retryifySync(st.closeSync,Zt.default.isRetriableError),fsyncSyncRetry:Hr.retryifySync(st.fsyncSync,Zt.default.isRetriableError),openSyncRetry:Hr.retryifySync(st.openSync,Zt.default.isRetriableError),readFileSyncRetry:Hr.retryifySync(st.readFileSync,Zt.default.isRetriableError),renameSyncRetry:Hr.retryifySync(st.renameSync,Zt.default.isRetriableError),statSyncRetry:Hr.retryifySync(st.statSync,Zt.default.isRetriableError),writeSyncRetry:Hr.retryifySync(st.writeSync,Zt.default.isRetriableError)};Jc.default=jU;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});const BU={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};bp.default=BU;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});const Wl={},Sh={next:e=>{const t=Wl[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Sh.next(e)):delete Wl[e]},schedule:e=>new Promise(t=>{let r=Wl[e];r||(r=Wl[e]=[]),r.push(t),!(r.length>1)&&t(()=>Sh.next(e))})};Ap.default=Sh;var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});const qU=Oe.default,vy=at,yy=Jc,on={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),i="tmp-",a=`.${i}${r}${t}`;return`${e}${a}`},get:(e,t,r=!0)=>{const i=on.truncate(t(e));return i in on.store?on.get(e,t,r):(on.store[i]=r,[i,()=>delete on.store[i]])},purge:e=>{!on.store[e]||(delete on.store[e],yy.default.unlinkAttempt(e))},purgeSync:e=>{!on.store[e]||(delete on.store[e],yy.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in on.store)on.purgeSync(e)},truncate:e=>{const t=qU.basename(e);if(t.length<=vy.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const i=t.length-vy.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-i)}${r[3]}`}};process.on("exit",on.purgeSyncAll);Tp.default=on;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.writeFileSync=Qn.writeFile=Qn.readFileSync=Qn.readFile=void 0;const mE=Oe.default,ur=at,it=Jc,sn=bp,HU=Ap,ra=Tp;function gE(e,t=ur.DEFAULT_READ_OPTIONS){var r;if(sn.default.isString(t))return gE(e,{encoding:t});const i=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:ur.DEFAULT_TIMEOUT_ASYNC);return it.default.readFileRetry(i)(e,t)}Qn.readFile=gE;function vE(e,t=ur.DEFAULT_READ_OPTIONS){var r;if(sn.default.isString(t))return vE(e,{encoding:t});const i=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:ur.DEFAULT_TIMEOUT_SYNC);return it.default.readFileSyncRetry(i)(e,t)}Qn.readFileSync=vE;const yE=(e,t,r,i)=>{if(sn.default.isFunction(r))return yE(e,t,ur.DEFAULT_WRITE_OPTIONS,r);const a=_E(e,t,r);return i&&a.then(i,i),a};Qn.writeFile=yE;const _E=async(e,t,r=ur.DEFAULT_WRITE_OPTIONS)=>{var i;if(sn.default.isString(r))return _E(e,t,{encoding:r});const a=Date.now()+((i=r.timeout)!==null&&i!==void 0?i:ur.DEFAULT_TIMEOUT_ASYNC);let s=null,u=null,c=null,f=null,m=null;try{r.schedule&&(s=await r.schedule(e)),u=await HU.default.schedule(e),e=await it.default.realpathAttempt(e)||e,[f,c]=ra.default.get(e,r.tmpCreate||ra.default.create,r.tmpPurge!==!1);const h=ur.IS_POSIX&&sn.default.isUndefined(r.chown),d=sn.default.isUndefined(r.mode);if(h||d){const v=await it.default.statAttempt(e);v&&(r={...r},h&&(r.chown={uid:v.uid,gid:v.gid}),d&&(r.mode=v.mode))}const g=mE.dirname(e);await it.default.mkdirAttempt(g,{mode:ur.DEFAULT_FOLDER_MODE,recursive:!0}),m=await it.default.openRetry(a)(f,"w",r.mode||ur.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(f),sn.default.isString(t)?await it.default.writeRetry(a)(m,t,0,r.encoding||ur.DEFAULT_ENCODING):sn.default.isUndefined(t)||await it.default.writeRetry(a)(m,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await it.default.fsyncRetry(a)(m):it.default.fsyncAttempt(m)),await it.default.closeRetry(a)(m),m=null,r.chown&&await it.default.chownAttempt(f,r.chown.uid,r.chown.gid),r.mode&&await it.default.chmodAttempt(f,r.mode);try{await it.default.renameRetry(a)(f,e)}catch(v){if(v.code!=="ENAMETOOLONG")throw v;await it.default.renameRetry(a)(f,ra.default.truncate(e))}c(),f=null}finally{m&&await it.default.closeAttempt(m),f&&ra.default.purge(f),s&&s(),u&&u()}},wE=(e,t,r=ur.DEFAULT_WRITE_OPTIONS)=>{var i;if(sn.default.isString(r))return wE(e,t,{encoding:r});const a=Date.now()+((i=r.timeout)!==null&&i!==void 0?i:ur.DEFAULT_TIMEOUT_SYNC);let s=null,u=null,c=null;try{e=it.default.realpathSyncAttempt(e)||e,[u,s]=ra.default.get(e,r.tmpCreate||ra.default.create,r.tmpPurge!==!1);const f=ur.IS_POSIX&&sn.default.isUndefined(r.chown),m=sn.default.isUndefined(r.mode);if(f||m){const d=it.default.statSyncAttempt(e);d&&(r={...r},f&&(r.chown={uid:d.uid,gid:d.gid}),m&&(r.mode=d.mode))}const h=mE.dirname(e);it.default.mkdirSyncAttempt(h,{mode:ur.DEFAULT_FOLDER_MODE,recursive:!0}),c=it.default.openSyncRetry(a)(u,"w",r.mode||ur.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(u),sn.default.isString(t)?it.default.writeSyncRetry(a)(c,t,0,r.encoding||ur.DEFAULT_ENCODING):sn.default.isUndefined(t)||it.default.writeSyncRetry(a)(c,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?it.default.fsyncSyncRetry(a)(c):it.default.fsyncAttempt(c)),it.default.closeSyncRetry(a)(c),c=null,r.chown&&it.default.chownSyncAttempt(u,r.chown.uid,r.chown.gid),r.mode&&it.default.chmodSyncAttempt(u,r.mode);try{it.default.renameSyncRetry(a)(u,e)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;it.default.renameSyncRetry(a)(u,ra.default.truncate(e))}s(),u=null}finally{c&&it.default.closeSyncAttempt(c),u&&ra.default.purge(u)}};Qn.writeFileSync=wE;var mc={exports:{}},EE={},Mn={},Qo={},$u={},ke={},fu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class i extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((I,N)=>`${I}${N}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((I,N)=>(N instanceof r&&(I[N.str]=(I[N.str]||0)+1),I),{})}}e._Code=i,e.nil=new i("");function a($,..._){const I=[$[0]];let N=0;for(;N<_.length;)c(I,_[N]),I.push($[++N]);return new i(I)}e._=a;const s=new i("+");function u($,..._){const I=[v($[0])];let N=0;for(;N<_.length;)I.push(s),c(I,_[N]),I.push(s,v($[++N]));return f(I),new i(I)}e.str=u;function c($,_){_ instanceof i?$.push(..._._items):_ instanceof r?$.push(_):$.push(d(_))}e.addCodeArg=c;function f($){let _=1;for(;_<$.length-1;){if($[_]===s){const I=m($[_-1],$[_+1]);if(I!==void 0){$.splice(_-1,3,I);continue}$[_++]="+"}_++}}function m($,_){if(_==='""')return $;if($==='""')return _;if(typeof $=="string")return _ instanceof r||$[$.length-1]!=='"'?void 0:typeof _!="string"?`${$.slice(0,-1)}${_}"`:_[0]==='"'?$.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!($ instanceof r))return`"${$}${_.slice(1)}`}function h($,_){return _.emptyStr()?$:$.emptyStr()?_:u`${$}${_}`}e.strConcat=h;function d($){return typeof $=="number"||typeof $=="boolean"||$===null?$:v(Array.isArray($)?$.join(","):$)}function g($){return new i(v($))}e.stringify=g;function v($){return JSON.stringify($).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=v;function b($){return typeof $=="string"&&e.IDENTIFIER.test($)?new i(`.${$}`):a`[${$}]`}e.getProperty=b;function R($){if(typeof $=="string"&&e.IDENTIFIER.test($))return new i(`${$}`);throw new Error(`CodeGen: invalid export name: ${$}, use explicit $id name mapping`)}e.getEsmExportName=R;function T($){return new i($.toString())}e.regexpCode=T})(fu);var bh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=fu;class r extends Error{constructor(m){super(`CodeGen: "code" for ${m} not defined`),this.value=m.value}}var i;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(i=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:m,parent:h}={}){this._names={},this._prefixes=m,this._parent=h}toName(m){return m instanceof t.Name?m:this.name(m)}name(m){return new t.Name(this._newName(m))}_newName(m){const h=this._names[m]||this._nameGroup(m);return`${m}${h.index++}`}_nameGroup(m){var h,d;if(((d=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||d===void 0?void 0:d.has(m))||this._prefixes&&!this._prefixes.has(m))throw new Error(`CodeGen: prefix "${m}" is not allowed in this scope`);return this._names[m]={prefix:m,index:0}}}e.Scope=a;class s extends t.Name{constructor(m,h){super(h),this.prefix=m}setValue(m,{property:h,itemIndex:d}){this.value=m,this.scopePath=(0,t._)`.${new t.Name(h)}[${d}]`}}e.ValueScopeName=s;const u=(0,t._)`\n`;class c extends a{constructor(m){super(m),this._values={},this._scope=m.scope,this.opts={...m,_n:m.lines?u:t.nil}}get(){return this._scope}name(m){return new s(m,this._newName(m))}value(m,h){var d;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(m),{prefix:v}=g,b=(d=h.key)!==null&&d!==void 0?d:h.ref;let R=this._values[v];if(R){const _=R.get(b);if(_)return _}else R=this._values[v]=new Map;R.set(b,g);const T=this._scope[v]||(this._scope[v]=[]),$=T.length;return T[$]=h.ref,g.setValue(h,{property:v,itemIndex:$}),g}getValue(m,h){const d=this._values[m];if(!!d)return d.get(h)}scopeRefs(m,h=this._values){return this._reduceValues(h,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${m}${d.scopePath}`})}scopeCode(m=this._values,h,d){return this._reduceValues(m,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},h,d)}_reduceValues(m,h,d={},g){let v=t.nil;for(const b in m){const R=m[b];if(!R)continue;const T=d[b]=d[b]||new Map;R.forEach($=>{if(T.has($))return;T.set($,i.Started);let _=h($);if(_){const I=this.opts.es5?e.varKinds.var:e.varKinds.const;v=(0,t._)`${v}${I} ${$} = ${_};${this.opts._n}`}else if(_=g==null?void 0:g($))v=(0,t._)`${v}${_}${this.opts._n}`;else throw new r($);T.set($,i.Completed)})}return v}}e.ValueScope=c})(bh);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=fu,r=bh;var i=fu;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var a=bh;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(O,L){return this}}class u extends s{constructor(O,L,oe){super(),this.varKind=O,this.name=L,this.rhs=oe}render({es5:O,_n:L}){const oe=O?r.varKinds.var:this.varKind,S=this.rhs===void 0?"":` = ${this.rhs}`;return`${oe} ${this.name}${S};`+L}optimizeNames(O,L){if(!!O[this.name.str])return this.rhs&&(this.rhs=Z(this.rhs,O,L)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(O,L,oe){super(),this.lhs=O,this.rhs=L,this.sideEffects=oe}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,L){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=Z(this.rhs,O,L),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ue(O,this.rhs)}}class f extends c{constructor(O,L,oe,S){super(O,oe,S),this.op=L}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}}class m extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}}class h extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}}class d extends s{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}}class g extends s{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,L){return this.code=Z(this.code,O,L),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class v extends s{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((L,oe)=>L+oe.render(O),"")}optimizeNodes(){const{nodes:O}=this;let L=O.length;for(;L--;){const oe=O[L].optimizeNodes();Array.isArray(oe)?O.splice(L,1,...oe):oe?O[L]=oe:O.splice(L,1)}return O.length>0?this:void 0}optimizeNames(O,L){const{nodes:oe}=this;let S=oe.length;for(;S--;){const y=oe[S];y.optimizeNames(O,L)||(de(O,y.names),oe.splice(S,1))}return oe.length>0?this:void 0}get names(){return this.nodes.reduce((O,L)=>ne(O,L.names),{})}}class b extends v{render(O){return"{"+O._n+super.render(O)+"}"+O._n}}class R extends v{}class T extends b{}T.kind="else";class $ extends b{constructor(O,L){super(L),this.condition=O}render(O){let L=`if(${this.condition})`+super.render(O);return this.else&&(L+="else "+this.else.render(O)),L}optimizeNodes(){super.optimizeNodes();const O=this.condition;if(O===!0)return this.nodes;let L=this.else;if(L){const oe=L.optimizeNodes();L=this.else=Array.isArray(oe)?new T(oe):oe}if(L)return O===!1?L instanceof $?L:L.nodes:this.nodes.length?this:new $(ge(O),L instanceof $?[L]:L.nodes);if(!(O===!1||!this.nodes.length))return this}optimizeNames(O,L){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(O,L),!!(super.optimizeNames(O,L)||this.else))return this.condition=Z(this.condition,O,L),this}get names(){const O=super.names;return ue(O,this.condition),this.else&&ne(O,this.else.names),O}}$.kind="if";class _ extends b{}_.kind="for";class I extends _{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,L){if(!!super.optimizeNames(O,L))return this.iteration=Z(this.iteration,O,L),this}get names(){return ne(super.names,this.iteration.names)}}class N extends _{constructor(O,L,oe,S){super(),this.varKind=O,this.name=L,this.from=oe,this.to=S}render(O){const L=O.es5?r.varKinds.var:this.varKind,{name:oe,from:S,to:y}=this;return`for(${L} ${oe}=${S}; ${oe}<${y}; ${oe}++)`+super.render(O)}get names(){const O=ue(super.names,this.from);return ue(O,this.to)}}class Y extends _{constructor(O,L,oe,S){super(),this.loop=O,this.varKind=L,this.name=oe,this.iterable=S}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,L){if(!!super.optimizeNames(O,L))return this.iterable=Z(this.iterable,O,L),this}get names(){return ne(super.names,this.iterable.names)}}class x extends b{constructor(O,L,oe){super(),this.name=O,this.args=L,this.async=oe}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}}x.kind="func";class P extends v{render(O){return"return "+super.render(O)}}P.kind="return";class k extends b{render(O){let L="try"+super.render(O);return this.catch&&(L+=this.catch.render(O)),this.finally&&(L+=this.finally.render(O)),L}optimizeNodes(){var O,L;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(L=this.finally)===null||L===void 0||L.optimizeNodes(),this}optimizeNames(O,L){var oe,S;return super.optimizeNames(O,L),(oe=this.catch)===null||oe===void 0||oe.optimizeNames(O,L),(S=this.finally)===null||S===void 0||S.optimizeNames(O,L),this}get names(){const O=super.names;return this.catch&&ne(O,this.catch.names),this.finally&&ne(O,this.finally.names),O}}class E extends b{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}}E.kind="catch";class Q extends b{render(O){return"finally"+super.render(O)}}Q.kind="finally";class le{constructor(O,L={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...L,_n:L.lines?`
`:""},this._extScope=O,this._scope=new r.Scope({parent:O}),this._nodes=[new R]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,L){const oe=this._extScope.value(O,L);return(this._values[oe.prefix]||(this._values[oe.prefix]=new Set)).add(oe),oe}getScopeValue(O,L){return this._extScope.getValue(O,L)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,L,oe,S){const y=this._scope.toName(L);return oe!==void 0&&S&&(this._constants[y.str]=oe),this._leafNode(new u(O,y,oe)),y}const(O,L,oe){return this._def(r.varKinds.const,O,L,oe)}let(O,L,oe){return this._def(r.varKinds.let,O,L,oe)}var(O,L,oe){return this._def(r.varKinds.var,O,L,oe)}assign(O,L,oe){return this._leafNode(new c(O,L,oe))}add(O,L){return this._leafNode(new f(O,e.operators.ADD,L))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new g(O)),this}object(...O){const L=["{"];for(const[oe,S]of O)L.length>1&&L.push(","),L.push(oe),(oe!==S||this.opts.es5)&&(L.push(":"),(0,t.addCodeArg)(L,S));return L.push("}"),new t._Code(L)}if(O,L,oe){if(this._blockNode(new $(O)),L&&oe)this.code(L).else().code(oe).endIf();else if(L)this.code(L).endIf();else if(oe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new $(O))}else(){return this._elseNode(new T)}endIf(){return this._endBlockNode($,T)}_for(O,L){return this._blockNode(O),L&&this.code(L).endFor(),this}for(O,L){return this._for(new I(O),L)}forRange(O,L,oe,S,y=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(O);return this._for(new N(y,te,L,oe),()=>S(te))}forOf(O,L,oe,S=r.varKinds.const){const y=this._scope.toName(O);if(this.opts.es5){const te=L instanceof t.Name?L:this.var("_arr",L);return this.forRange("_i",0,(0,t._)`${te}.length`,H=>{this.var(y,(0,t._)`${te}[${H}]`),oe(y)})}return this._for(new Y("of",S,y,L),()=>oe(y))}forIn(O,L,oe,S=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${L})`,oe);const y=this._scope.toName(O);return this._for(new Y("in",S,y,L),()=>oe(y))}endFor(){return this._endBlockNode(_)}label(O){return this._leafNode(new m(O))}break(O){return this._leafNode(new h(O))}return(O){const L=new P;if(this._blockNode(L),this.code(O),L.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(O,L,oe){if(!L&&!oe)throw new Error('CodeGen: "try" without "catch" and "finally"');const S=new k;if(this._blockNode(S),this.code(O),L){const y=this.name("e");this._currNode=S.catch=new E(y),L(y)}return oe&&(this._currNode=S.finally=new Q,this.code(oe)),this._endBlockNode(E,Q)}throw(O){return this._leafNode(new d(O))}block(O,L){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(L),this}endBlock(O){const L=this._blockStarts.pop();if(L===void 0)throw new Error("CodeGen: not in self-balancing block");const oe=this._nodes.length-L;if(oe<0||O!==void 0&&oe!==O)throw new Error(`CodeGen: wrong number of nodes: ${oe} vs ${O} expected`);return this._nodes.length=L,this}func(O,L=t.nil,oe,S){return this._blockNode(new x(O,L,oe)),S&&this.code(S).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,L){const oe=this._currNode;if(oe instanceof O||L&&oe instanceof L)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${L?`${O.kind}/${L.kind}`:O.kind}"`)}_elseNode(O){const L=this._currNode;if(!(L instanceof $))throw new Error('CodeGen: "else" without "if"');return this._currNode=L.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const L=this._nodes;L[L.length-1]=O}}e.CodeGen=le;function ne(K,O){for(const L in O)K[L]=(K[L]||0)+(O[L]||0);return K}function ue(K,O){return O instanceof t._CodeOrName?ne(K,O.names):K}function Z(K,O,L){if(K instanceof t.Name)return oe(K);if(!S(K))return K;return new t._Code(K._items.reduce((y,te)=>(te instanceof t.Name&&(te=oe(te)),te instanceof t._Code?y.push(...te._items):y.push(te),y),[]));function oe(y){const te=L[y.str];return te===void 0||O[y.str]!==1?y:(delete O[y.str],te)}function S(y){return y instanceof t._Code&&y._items.some(te=>te instanceof t.Name&&O[te.str]===1&&L[te.str]!==void 0)}}function de(K,O){for(const L in O)K[L]=(K[L]||0)-(O[L]||0)}function ge(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${re(K)}`}e.not=ge;const ee=U(e.operators.AND);function G(...K){return K.reduce(ee)}e.and=G;const X=U(e.operators.OR);function W(...K){return K.reduce(X)}e.or=W;function U(K){return(O,L)=>O===t.nil?L:L===t.nil?O:(0,t._)`${re(O)} ${K} ${re(L)}`}function re(K){return K instanceof t.Name?K:(0,t._)`(${K})`}})(ke);var Qe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ke,r=fu;function i(x){const P={};for(const k of x)P[k]=!0;return P}e.toHash=i;function a(x,P){return typeof P=="boolean"?P:Object.keys(P).length===0?!0:(s(x,P),!u(P,x.self.RULES.all))}e.alwaysValidSchema=a;function s(x,P=x.schema){const{opts:k,self:E}=x;if(!k.strictSchema||typeof P=="boolean")return;const Q=E.RULES.keywords;for(const le in P)Q[le]||Y(x,`unknown keyword: "${le}"`)}e.checkUnknownRules=s;function u(x,P){if(typeof x=="boolean")return!x;for(const k in x)if(P[k])return!0;return!1}e.schemaHasRules=u;function c(x,P){if(typeof x=="boolean")return!x;for(const k in x)if(k!=="$ref"&&P.all[k])return!0;return!1}e.schemaHasRulesButRef=c;function f({topSchemaRef:x,schemaPath:P},k,E,Q){if(!Q){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return(0,t._)`${k}`}return(0,t._)`${x}${P}${(0,t.getProperty)(E)}`}e.schemaRefOrVal=f;function m(x){return g(decodeURIComponent(x))}e.unescapeFragment=m;function h(x){return encodeURIComponent(d(x))}e.escapeFragment=h;function d(x){return typeof x=="number"?`${x}`:x.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function g(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=g;function v(x,P){if(Array.isArray(x))for(const k of x)P(k);else P(x)}e.eachItem=v;function b({mergeNames:x,mergeToName:P,mergeValues:k,resultToName:E}){return(Q,le,ne,ue)=>{const Z=ne===void 0?le:ne instanceof t.Name?(le instanceof t.Name?x(Q,le,ne):P(Q,le,ne),ne):le instanceof t.Name?(P(Q,ne,le),le):k(le,ne);return ue===t.Name&&!(Z instanceof t.Name)?E(Q,Z):Z}}e.mergeEvaluated={props:b({mergeNames:(x,P,k)=>x.if((0,t._)`${k} !== true && ${P} !== undefined`,()=>{x.if((0,t._)`${P} === true`,()=>x.assign(k,!0),()=>x.assign(k,(0,t._)`${k} || {}`).code((0,t._)`Object.assign(${k}, ${P})`))}),mergeToName:(x,P,k)=>x.if((0,t._)`${k} !== true`,()=>{P===!0?x.assign(k,!0):(x.assign(k,(0,t._)`${k} || {}`),T(x,k,P))}),mergeValues:(x,P)=>x===!0?!0:{...x,...P},resultToName:R}),items:b({mergeNames:(x,P,k)=>x.if((0,t._)`${k} !== true && ${P} !== undefined`,()=>x.assign(k,(0,t._)`${P} === true ? true : ${k} > ${P} ? ${k} : ${P}`)),mergeToName:(x,P,k)=>x.if((0,t._)`${k} !== true`,()=>x.assign(k,P===!0?!0:(0,t._)`${k} > ${P} ? ${k} : ${P}`)),mergeValues:(x,P)=>x===!0?!0:Math.max(x,P),resultToName:(x,P)=>x.var("items",P)})};function R(x,P){if(P===!0)return x.var("props",!0);const k=x.var("props",(0,t._)`{}`);return P!==void 0&&T(x,k,P),k}e.evaluatedPropsToName=R;function T(x,P,k){Object.keys(k).forEach(E=>x.assign((0,t._)`${P}${(0,t.getProperty)(E)}`,!0))}e.setEvaluated=T;const $={};function _(x,P){return x.scopeValue("func",{ref:P,code:$[P.code]||($[P.code]=new r._Code(P.code))})}e.useFunc=_;var I;(function(x){x[x.Num=0]="Num",x[x.Str=1]="Str"})(I=e.Type||(e.Type={}));function N(x,P,k){if(x instanceof t.Name){const E=P===I.Num;return k?E?(0,t._)`"[" + ${x} + "]"`:(0,t._)`"['" + ${x} + "']"`:E?(0,t._)`"/" + ${x}`:(0,t._)`"/" + ${x}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,t.getProperty)(x).toString():"/"+d(x)}e.getErrorPath=N;function Y(x,P,k=x.opts.strictSchema){if(!!k){if(P=`strict mode: ${P}`,k===!0)throw new Error(P);x.self.logger.warn(P)}}e.checkStrictMode=Y})(Qe);var ni={};Object.defineProperty(ni,"__esModule",{value:!0});const gr=ke,WU={data:new gr.Name("data"),valCxt:new gr.Name("valCxt"),instancePath:new gr.Name("instancePath"),parentData:new gr.Name("parentData"),parentDataProperty:new gr.Name("parentDataProperty"),rootData:new gr.Name("rootData"),dynamicAnchors:new gr.Name("dynamicAnchors"),vErrors:new gr.Name("vErrors"),errors:new gr.Name("errors"),this:new gr.Name("this"),self:new gr.Name("self"),scope:new gr.Name("scope"),json:new gr.Name("json"),jsonPos:new gr.Name("jsonPos"),jsonLen:new gr.Name("jsonLen"),jsonPart:new gr.Name("jsonPart")};ni.default=WU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ke,r=Qe,i=ni;e.keywordError={message:({keyword:T})=>(0,t.str)`must pass "${T}" keyword validation`},e.keyword$DataError={message:({keyword:T,schemaType:$})=>$?(0,t.str)`"${T}" keyword must be ${$} ($data)`:(0,t.str)`"${T}" keyword is invalid ($data)`};function a(T,$=e.keywordError,_,I){const{it:N}=T,{gen:Y,compositeRule:x,allErrors:P}=N,k=d(T,$,_);(I!=null?I:x||P)?f(Y,k):m(N,(0,t._)`[${k}]`)}e.reportError=a;function s(T,$=e.keywordError,_){const{it:I}=T,{gen:N,compositeRule:Y,allErrors:x}=I,P=d(T,$,_);f(N,P),Y||x||m(I,i.default.vErrors)}e.reportExtraError=s;function u(T,$){T.assign(i.default.errors,$),T.if((0,t._)`${i.default.vErrors} !== null`,()=>T.if($,()=>T.assign((0,t._)`${i.default.vErrors}.length`,$),()=>T.assign(i.default.vErrors,null)))}e.resetErrorsCount=u;function c({gen:T,keyword:$,schemaValue:_,data:I,errsCount:N,it:Y}){if(N===void 0)throw new Error("ajv implementation error");const x=T.name("err");T.forRange("i",N,i.default.errors,P=>{T.const(x,(0,t._)`${i.default.vErrors}[${P}]`),T.if((0,t._)`${x}.instancePath === undefined`,()=>T.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(i.default.instancePath,Y.errorPath))),T.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${Y.errSchemaPath}/${$}`),Y.opts.verbose&&(T.assign((0,t._)`${x}.schema`,_),T.assign((0,t._)`${x}.data`,I))})}e.extendErrors=c;function f(T,$){const _=T.const("err",$);T.if((0,t._)`${i.default.vErrors} === null`,()=>T.assign(i.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${i.default.vErrors}.push(${_})`),T.code((0,t._)`${i.default.errors}++`)}function m(T,$){const{gen:_,validateName:I,schemaEnv:N}=T;N.$async?_.throw((0,t._)`new ${T.ValidationError}(${$})`):(_.assign((0,t._)`${I}.errors`,$),_.return(!1))}const h={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(T,$,_){const{createErrors:I}=T.it;return I===!1?(0,t._)`{}`:g(T,$,_)}function g(T,$,_={}){const{gen:I,it:N}=T,Y=[v(N,_),b(T,_)];return R(T,$,Y),I.object(...Y)}function v({errorPath:T},{instancePath:$}){const _=$?(0,t.str)`${T}${(0,r.getErrorPath)($,r.Type.Str)}`:T;return[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,_)]}function b({keyword:T,it:{errSchemaPath:$}},{schemaPath:_,parentSchema:I}){let N=I?$:(0,t.str)`${$}/${T}`;return _&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(_,r.Type.Str)}`),[h.schemaPath,N]}function R(T,{params:$,message:_},I){const{keyword:N,data:Y,schemaValue:x,it:P}=T,{opts:k,propertyName:E,topSchemaRef:Q,schemaPath:le}=P;I.push([h.keyword,N],[h.params,typeof $=="function"?$(T):$||(0,t._)`{}`]),k.messages&&I.push([h.message,typeof _=="function"?_(T):_]),k.verbose&&I.push([h.schema,x],[h.parentSchema,(0,t._)`${Q}${le}`],[i.default.data,Y]),E&&I.push([h.propertyName,E])}})($u);Object.defineProperty(Qo,"__esModule",{value:!0});Qo.boolOrEmptySchema=Qo.topBoolOrEmptySchema=void 0;const GU=$u,zU=ke,VU=ni,YU={message:"boolean schema is false"};function KU(e){const{gen:t,schema:r,validateName:i}=e;r===!1?$E(e,!1):typeof r=="object"&&r.$async===!0?t.return(VU.default.data):(t.assign((0,zU._)`${i}.errors`,null),t.return(!0))}Qo.topBoolOrEmptySchema=KU;function JU(e,t){const{gen:r,schema:i}=e;i===!1?(r.var(t,!1),$E(e)):r.var(t,!0)}Qo.boolOrEmptySchema=JU;function $E(e,t){const{gen:r,data:i}=e,a={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,GU.reportError)(a,YU,void 0,t)}var Su={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getRules=Ga.isJSONType=void 0;const XU=["string","number","integer","boolean","null","object","array"],QU=new Set(XU);function ZU(e){return typeof e=="string"&&QU.has(e)}Ga.isJSONType=ZU;function eM(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ga.getRules=eM;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.shouldUseRule=Oi.shouldUseGroup=Oi.schemaHasRulesForType=void 0;function tM({schema:e,self:t},r){const i=t.RULES.types[r];return i&&i!==!0&&SE(e,i)}Oi.schemaHasRulesForType=tM;function SE(e,t){return t.rules.some(r=>bE(e,r))}Oi.shouldUseGroup=SE;function bE(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(i=>e[i]!==void 0))}Oi.shouldUseRule=bE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ga,r=Oi,i=$u,a=ke,s=Qe;var u;(function(I){I[I.Correct=0]="Correct",I[I.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function c(I){const N=f(I.type);if(N.includes("null")){if(I.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&I.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');I.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=c;function f(I){const N=Array.isArray(I)?I:I?[I]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=f;function m(I,N){const{gen:Y,data:x,opts:P}=I,k=d(N,P.coerceTypes),E=N.length>0&&!(k.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(I,N[0]));if(E){const Q=R(N,x,P.strictNumbers,u.Wrong);Y.if(Q,()=>{k.length?g(I,N,k):$(I)})}return E}e.coerceAndCheckDataType=m;const h=new Set(["string","number","integer","boolean","null"]);function d(I,N){return N?I.filter(Y=>h.has(Y)||N==="array"&&Y==="array"):[]}function g(I,N,Y){const{gen:x,data:P,opts:k}=I,E=x.let("dataType",(0,a._)`typeof ${P}`),Q=x.let("coerced",(0,a._)`undefined`);k.coerceTypes==="array"&&x.if((0,a._)`${E} == 'object' && Array.isArray(${P}) && ${P}.length == 1`,()=>x.assign(P,(0,a._)`${P}[0]`).assign(E,(0,a._)`typeof ${P}`).if(R(N,P,k.strictNumbers),()=>x.assign(Q,P))),x.if((0,a._)`${Q} !== undefined`);for(const ne of Y)(h.has(ne)||ne==="array"&&k.coerceTypes==="array")&&le(ne);x.else(),$(I),x.endIf(),x.if((0,a._)`${Q} !== undefined`,()=>{x.assign(P,Q),v(I,Q)});function le(ne){switch(ne){case"string":x.elseIf((0,a._)`${E} == "number" || ${E} == "boolean"`).assign(Q,(0,a._)`"" + ${P}`).elseIf((0,a._)`${P} === null`).assign(Q,(0,a._)`""`);return;case"number":x.elseIf((0,a._)`${E} == "boolean" || ${P} === null
              || (${E} == "string" && ${P} && ${P} == +${P})`).assign(Q,(0,a._)`+${P}`);return;case"integer":x.elseIf((0,a._)`${E} === "boolean" || ${P} === null
              || (${E} === "string" && ${P} && ${P} == +${P} && !(${P} % 1))`).assign(Q,(0,a._)`+${P}`);return;case"boolean":x.elseIf((0,a._)`${P} === "false" || ${P} === 0 || ${P} === null`).assign(Q,!1).elseIf((0,a._)`${P} === "true" || ${P} === 1`).assign(Q,!0);return;case"null":x.elseIf((0,a._)`${P} === "" || ${P} === 0 || ${P} === false`),x.assign(Q,null);return;case"array":x.elseIf((0,a._)`${E} === "string" || ${E} === "number"
              || ${E} === "boolean" || ${P} === null`).assign(Q,(0,a._)`[${P}]`)}}}function v({gen:I,parentData:N,parentDataProperty:Y},x){I.if((0,a._)`${N} !== undefined`,()=>I.assign((0,a._)`${N}[${Y}]`,x))}function b(I,N,Y,x=u.Correct){const P=x===u.Correct?a.operators.EQ:a.operators.NEQ;let k;switch(I){case"null":return(0,a._)`${N} ${P} null`;case"array":k=(0,a._)`Array.isArray(${N})`;break;case"object":k=(0,a._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":k=E((0,a._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":k=E();break;default:return(0,a._)`typeof ${N} ${P} ${I}`}return x===u.Correct?k:(0,a.not)(k);function E(Q=a.nil){return(0,a.and)((0,a._)`typeof ${N} == "number"`,Q,Y?(0,a._)`isFinite(${N})`:a.nil)}}e.checkDataType=b;function R(I,N,Y,x){if(I.length===1)return b(I[0],N,Y,x);let P;const k=(0,s.toHash)(I);if(k.array&&k.object){const E=(0,a._)`typeof ${N} != "object"`;P=k.null?E:(0,a._)`!${N} || ${E}`,delete k.null,delete k.array,delete k.object}else P=a.nil;k.number&&delete k.integer;for(const E in k)P=(0,a.and)(P,b(E,N,Y,x));return P}e.checkDataTypes=R;const T={message:({schema:I})=>`must be ${I}`,params:({schema:I,schemaValue:N})=>typeof I=="string"?(0,a._)`{type: ${I}}`:(0,a._)`{type: ${N}}`};function $(I){const N=_(I);(0,i.reportError)(N,T)}e.reportTypeError=$;function _(I){const{gen:N,data:Y,schema:x}=I,P=(0,s.schemaRefOrVal)(I,x,"type");return{gen:N,keyword:"type",data:Y,schema:x.type,schemaCode:P,schemaValue:P,parentSchema:x,params:{},it:I}}})(Su);var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.assignDefaults=void 0;const Oo=ke,rM=Qe;function nM(e,t){const{properties:r,items:i}=e.schema;if(t==="object"&&r)for(const a in r)_y(e,a,r[a].default);else t==="array"&&Array.isArray(i)&&i.forEach((a,s)=>_y(e,s,a.default))}Xc.assignDefaults=nM;function _y(e,t,r){const{gen:i,compositeRule:a,data:s,opts:u}=e;if(r===void 0)return;const c=(0,Oo._)`${s}${(0,Oo.getProperty)(t)}`;if(a){(0,rM.checkStrictMode)(e,`default is ignored for: ${c}`);return}let f=(0,Oo._)`${c} === undefined`;u.useDefaults==="empty"&&(f=(0,Oo._)`${f} || ${c} === null || ${c} === ""`),i.if(f,(0,Oo._)`${c} = ${(0,Oo.stringify)(r)}`)}var Zn={},We={};Object.defineProperty(We,"__esModule",{value:!0});We.validateUnion=We.validateArray=We.usePattern=We.callValidateCode=We.schemaProperties=We.allSchemaProperties=We.noPropertyInData=We.propertyInData=We.isOwnProperty=We.hasPropFunc=We.reportMissingProp=We.checkMissingProp=We.checkReportMissingProp=void 0;const $t=ke,Op=Qe,Yi=ni,iM=Qe;function aM(e,t){const{gen:r,data:i,it:a}=e;r.if(Rp(r,i,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,$t._)`${t}`},!0),e.error()})}We.checkReportMissingProp=aM;function oM({gen:e,data:t,it:{opts:r}},i,a){return(0,$t.or)(...i.map(s=>(0,$t.and)(Rp(e,t,s,r.ownProperties),(0,$t._)`${a} = ${s}`)))}We.checkMissingProp=oM;function sM(e,t){e.setParams({missingProperty:t},!0),e.error()}We.reportMissingProp=sM;function AE(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,$t._)`Object.prototype.hasOwnProperty`})}We.hasPropFunc=AE;function Cp(e,t,r){return(0,$t._)`${AE(e)}.call(${t}, ${r})`}We.isOwnProperty=Cp;function uM(e,t,r,i){const a=(0,$t._)`${t}${(0,$t.getProperty)(r)} !== undefined`;return i?(0,$t._)`${a} && ${Cp(e,t,r)}`:a}We.propertyInData=uM;function Rp(e,t,r,i){const a=(0,$t._)`${t}${(0,$t.getProperty)(r)} === undefined`;return i?(0,$t.or)(a,(0,$t.not)(Cp(e,t,r))):a}We.noPropertyInData=Rp;function TE(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}We.allSchemaProperties=TE;function lM(e,t){return TE(t).filter(r=>!(0,Op.alwaysValidSchema)(e,t[r]))}We.schemaProperties=lM;function cM({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:a,errorPath:s},it:u},c,f,m){const h=m?(0,$t._)`${e}, ${t}, ${i}${a}`:t,d=[[Yi.default.instancePath,(0,$t.strConcat)(Yi.default.instancePath,s)],[Yi.default.parentData,u.parentData],[Yi.default.parentDataProperty,u.parentDataProperty],[Yi.default.rootData,Yi.default.rootData]];u.opts.dynamicRef&&d.push([Yi.default.dynamicAnchors,Yi.default.dynamicAnchors]);const g=(0,$t._)`${h}, ${r.object(...d)}`;return f!==$t.nil?(0,$t._)`${c}.call(${f}, ${g})`:(0,$t._)`${c}(${g})`}We.callValidateCode=cM;const fM=(0,$t._)`new RegExp`;function dM({gen:e,it:{opts:t}},r){const i=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,i);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,$t._)`${a.code==="new RegExp"?fM:(0,iM.useFunc)(e,a)}(${r}, ${i})`})}We.usePattern=dM;function hM(e){const{gen:t,data:r,keyword:i,it:a}=e,s=t.name("valid");if(a.allErrors){const c=t.let("valid",!0);return u(()=>t.assign(c,!1)),c}return t.var(s,!0),u(()=>t.break()),s;function u(c){const f=t.const("len",(0,$t._)`${r}.length`);t.forRange("i",0,f,m=>{e.subschema({keyword:i,dataProp:m,dataPropType:Op.Type.Num},s),t.if((0,$t.not)(s),c)})}}We.validateArray=hM;function pM(e){const{gen:t,schema:r,keyword:i,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(f=>(0,Op.alwaysValidSchema)(a,f))&&!a.opts.unevaluated)return;const u=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((f,m)=>{const h=e.subschema({keyword:i,schemaProp:m,compositeRule:!0},c);t.assign(u,(0,$t._)`${u} || ${c}`),e.mergeValidEvaluated(h,c)||t.if((0,$t.not)(u))})),e.result(u,()=>e.reset(),()=>e.error(!0))}We.validateUnion=pM;Object.defineProperty(Zn,"__esModule",{value:!0});Zn.validateKeywordUsage=Zn.validSchemaType=Zn.funcKeywordCode=Zn.macroKeywordCode=void 0;const Rr=ke,Fa=ni,mM=We,gM=$u;function vM(e,t){const{gen:r,keyword:i,schema:a,parentSchema:s,it:u}=e,c=t.macro.call(u.self,a,s,u),f=OE(r,i,c);u.opts.validateSchema!==!1&&u.self.validateSchema(c,!0);const m=r.name("valid");e.subschema({schema:c,schemaPath:Rr.nil,errSchemaPath:`${u.errSchemaPath}/${i}`,topSchemaRef:f,compositeRule:!0},m),e.pass(m,()=>e.error(!0))}Zn.macroKeywordCode=vM;function yM(e,t){var r;const{gen:i,keyword:a,schema:s,parentSchema:u,$data:c,it:f}=e;wM(f,t);const m=!c&&t.compile?t.compile.call(f.self,s,u,f):t.validate,h=OE(i,a,m),d=i.let("valid");e.block$data(d,g),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function g(){if(t.errors===!1)R(),t.modifying&&wy(e),T(()=>e.error());else{const $=t.async?v():b();t.modifying&&wy(e),T(()=>_M(e,$))}}function v(){const $=i.let("ruleErrs",null);return i.try(()=>R((0,Rr._)`await `),_=>i.assign(d,!1).if((0,Rr._)`${_} instanceof ${f.ValidationError}`,()=>i.assign($,(0,Rr._)`${_}.errors`),()=>i.throw(_))),$}function b(){const $=(0,Rr._)`${h}.errors`;return i.assign($,null),R(Rr.nil),$}function R($=t.async?(0,Rr._)`await `:Rr.nil){const _=f.opts.passContext?Fa.default.this:Fa.default.self,I=!("compile"in t&&!c||t.schema===!1);i.assign(d,(0,Rr._)`${$}${(0,mM.callValidateCode)(e,h,_,I)}`,t.modifying)}function T($){var _;i.if((0,Rr.not)((_=t.valid)!==null&&_!==void 0?_:d),$)}}Zn.funcKeywordCode=yM;function wy(e){const{gen:t,data:r,it:i}=e;t.if(i.parentData,()=>t.assign(r,(0,Rr._)`${i.parentData}[${i.parentDataProperty}]`))}function _M(e,t){const{gen:r}=e;r.if((0,Rr._)`Array.isArray(${t})`,()=>{r.assign(Fa.default.vErrors,(0,Rr._)`${Fa.default.vErrors} === null ? ${t} : ${Fa.default.vErrors}.concat(${t})`).assign(Fa.default.errors,(0,Rr._)`${Fa.default.vErrors}.length`),(0,gM.extendErrors)(e)},()=>e.error())}function wM({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function OE(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Rr.stringify)(r)})}function EM(e,t,r=!1){return!t.length||t.some(i=>i==="array"?Array.isArray(e):i==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==i||r&&typeof e>"u")}Zn.validSchemaType=EM;function $M({schema:e,opts:t,self:r,errSchemaPath:i},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const u=a.dependencies;if(u!=null&&u.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${s}: ${u.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const f=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(f);else throw new Error(f)}}Zn.validateKeywordUsage=$M;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.extendSubschemaMode=aa.extendSubschemaData=aa.getSubschema=void 0;const Xn=ke,CE=Qe;function SM(e,{keyword:t,schemaProp:r,schema:i,schemaPath:a,errSchemaPath:s,topSchemaRef:u}){if(t!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Xn._)`${e.schemaPath}${(0,Xn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Xn._)`${e.schemaPath}${(0,Xn.getProperty)(t)}${(0,Xn.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,CE.escapeFragment)(r)}`}}if(i!==void 0){if(a===void 0||s===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:a,topSchemaRef:u,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}aa.getSubschema=SM;function bM(e,t,{dataProp:r,dataPropType:i,data:a,dataTypes:s,propertyName:u}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:m,dataPathArr:h,opts:d}=t,g=c.let("data",(0,Xn._)`${t.data}${(0,Xn.getProperty)(r)}`,!0);f(g),e.errorPath=(0,Xn.str)`${m}${(0,CE.getErrorPath)(r,i,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Xn._)`${r}`,e.dataPathArr=[...h,e.parentDataProperty]}if(a!==void 0){const m=a instanceof Xn.Name?a:c.let("data",a,!0);f(m),u!==void 0&&(e.propertyName=u)}s&&(e.dataTypes=s);function f(m){e.data=m,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,m]}}aa.extendSubschemaData=bM;function AM(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:i,createErrors:a,allErrors:s}){i!==void 0&&(e.compositeRule=i),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}aa.extendSubschemaMode=AM;var lr={},RE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,a,s;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(a=i;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),i=s.length,i!==Object.keys(r).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=i;a--!==0;){var u=s[a];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r},IE={exports:{}},na=IE.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var i=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};ec(t,i,a,e,"",e)};na.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};na.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};na.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};na.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ec(e,t,r,i,a,s,u,c,f,m){if(i&&typeof i=="object"&&!Array.isArray(i)){t(i,a,s,u,c,f,m);for(var h in i){var d=i[h];if(Array.isArray(d)){if(h in na.arrayKeywords)for(var g=0;g<d.length;g++)ec(e,t,r,d[g],a+"/"+h+"/"+g,s,a,h,i,g)}else if(h in na.propsKeywords){if(d&&typeof d=="object")for(var v in d)ec(e,t,r,d[v],a+"/"+h+"/"+TM(v),s,a,h,i,v)}else(h in na.keywords||e.allKeys&&!(h in na.skipKeywords))&&ec(e,t,r,d,a+"/"+h,s,a,h,i)}r(i,a,s,u,c,f,m)}}function TM(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(lr,"__esModule",{value:!0});lr.getSchemaRefs=lr.resolveUrl=lr.normalizeId=lr._getFullPath=lr.getFullPath=lr.inlineRef=void 0;const OM=Qe,CM=RE,RM=IE.exports,IM=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function PM(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ah(e):t?PE(e)<=t:!1}lr.inlineRef=PM;const NM=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ah(e){for(const t in e){if(NM.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ah)||typeof r=="object"&&Ah(r))return!0}return!1}function PE(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!IM.has(r)&&(typeof e[r]=="object"&&(0,OM.eachItem)(e[r],i=>t+=PE(i)),t===1/0))return 1/0}return t}function NE(e,t="",r){r!==!1&&(t=qo(t));const i=e.parse(t);return DE(e,i)}lr.getFullPath=NE;function DE(e,t){return e.serialize(t).split("#")[0]+"#"}lr._getFullPath=DE;const DM=/#\/?$/;function qo(e){return e?e.replace(DM,""):""}lr.normalizeId=qo;function FM(e,t,r){return r=qo(r),e.resolve(t,r)}lr.resolveUrl=FM;const xM=/^[a-z_][-a-z0-9._]*$/i;function LM(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:i}=this.opts,a=qo(e[r]||t),s={"":a},u=NE(i,a,!1),c={},f=new Set;return RM(e,{allKeys:!0},(d,g,v,b)=>{if(b===void 0)return;const R=u+g;let T=s[b];typeof d[r]=="string"&&(T=$.call(this,d[r])),_.call(this,d.$anchor),_.call(this,d.$dynamicAnchor),s[g]=T;function $(I){const N=this.opts.uriResolver.resolve;if(I=qo(T?N(T,I):I),f.has(I))throw h(I);f.add(I);let Y=this.refs[I];return typeof Y=="string"&&(Y=this.refs[Y]),typeof Y=="object"?m(d,Y.schema,I):I!==qo(R)&&(I[0]==="#"?(m(d,c[I],I),c[I]=d):this.refs[I]=R),I}function _(I){if(typeof I=="string"){if(!xM.test(I))throw new Error(`invalid anchor "${I}"`);$.call(this,`#${I}`)}}}),c;function m(d,g,v){if(g!==void 0&&!CM(d,g))throw h(v)}function h(d){return new Error(`reference "${d}" resolves to more than one schema`)}}lr.getSchemaRefs=LM;Object.defineProperty(Mn,"__esModule",{value:!0});Mn.getData=Mn.KeywordCxt=Mn.validateFunctionCode=void 0;const FE=Qo,Ey=Su,Ip=Oi,gc=Su,UM=Xc,Xs=Zn,Yd=aa,Ae=ke,Ne=ni,MM=lr,Ci=Qe,Fs=$u;function kM(e){if(UE(e)&&(ME(e),LE(e))){qM(e);return}xE(e,()=>(0,FE.topBoolOrEmptySchema)(e))}Mn.validateFunctionCode=kM;function xE({gen:e,validateName:t,schema:r,schemaEnv:i,opts:a},s){a.code.es5?e.func(t,(0,Ae._)`${Ne.default.data}, ${Ne.default.valCxt}`,i.$async,()=>{e.code((0,Ae._)`"use strict"; ${$y(r,a)}`),BM(e,a),e.code(s)}):e.func(t,(0,Ae._)`${Ne.default.data}, ${jM(a)}`,i.$async,()=>e.code($y(r,a)).code(s))}function jM(e){return(0,Ae._)`{${Ne.default.instancePath}="", ${Ne.default.parentData}, ${Ne.default.parentDataProperty}, ${Ne.default.rootData}=${Ne.default.data}${e.dynamicRef?(0,Ae._)`, ${Ne.default.dynamicAnchors}={}`:Ae.nil}}={}`}function BM(e,t){e.if(Ne.default.valCxt,()=>{e.var(Ne.default.instancePath,(0,Ae._)`${Ne.default.valCxt}.${Ne.default.instancePath}`),e.var(Ne.default.parentData,(0,Ae._)`${Ne.default.valCxt}.${Ne.default.parentData}`),e.var(Ne.default.parentDataProperty,(0,Ae._)`${Ne.default.valCxt}.${Ne.default.parentDataProperty}`),e.var(Ne.default.rootData,(0,Ae._)`${Ne.default.valCxt}.${Ne.default.rootData}`),t.dynamicRef&&e.var(Ne.default.dynamicAnchors,(0,Ae._)`${Ne.default.valCxt}.${Ne.default.dynamicAnchors}`)},()=>{e.var(Ne.default.instancePath,(0,Ae._)`""`),e.var(Ne.default.parentData,(0,Ae._)`undefined`),e.var(Ne.default.parentDataProperty,(0,Ae._)`undefined`),e.var(Ne.default.rootData,Ne.default.data),t.dynamicRef&&e.var(Ne.default.dynamicAnchors,(0,Ae._)`{}`)})}function qM(e){const{schema:t,opts:r,gen:i}=e;xE(e,()=>{r.$comment&&t.$comment&&jE(e),VM(e),i.let(Ne.default.vErrors,null),i.let(Ne.default.errors,0),r.unevaluated&&HM(e),kE(e),JM(e)})}function HM(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Ae._)`${r}.evaluated`),t.if((0,Ae._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ae._)`${e.evaluated}.props`,(0,Ae._)`undefined`)),t.if((0,Ae._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ae._)`${e.evaluated}.items`,(0,Ae._)`undefined`))}function $y(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Ae._)`/*# sourceURL=${r} */`:Ae.nil}function WM(e,t){if(UE(e)&&(ME(e),LE(e))){GM(e,t);return}(0,FE.boolOrEmptySchema)(e,t)}function LE({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function UE(e){return typeof e.schema!="boolean"}function GM(e,t){const{schema:r,gen:i,opts:a}=e;a.$comment&&r.$comment&&jE(e),YM(e),KM(e);const s=i.const("_errs",Ne.default.errors);kE(e,s),i.var(t,(0,Ae._)`${s} === ${Ne.default.errors}`)}function ME(e){(0,Ci.checkUnknownRules)(e),zM(e)}function kE(e,t){if(e.opts.jtd)return Sy(e,[],!1,t);const r=(0,Ey.getSchemaTypes)(e.schema),i=(0,Ey.coerceAndCheckDataType)(e,r);Sy(e,r,!i,t)}function zM(e){const{schema:t,errSchemaPath:r,opts:i,self:a}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,Ci.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function VM(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ci.checkStrictMode)(e,"default is ignored in the schema root")}function YM(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,MM.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function KM(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function jE({gen:e,schemaEnv:t,schema:r,errSchemaPath:i,opts:a}){const s=r.$comment;if(a.$comment===!0)e.code((0,Ae._)`${Ne.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const u=(0,Ae.str)`${i}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,Ae._)`${Ne.default.self}.opts.$comment(${s}, ${u}, ${c}.schema)`)}}function JM(e){const{gen:t,schemaEnv:r,validateName:i,ValidationError:a,opts:s}=e;r.$async?t.if((0,Ae._)`${Ne.default.errors} === 0`,()=>t.return(Ne.default.data),()=>t.throw((0,Ae._)`new ${a}(${Ne.default.vErrors})`)):(t.assign((0,Ae._)`${i}.errors`,Ne.default.vErrors),s.unevaluated&&XM(e),t.return((0,Ae._)`${Ne.default.errors} === 0`))}function XM({gen:e,evaluated:t,props:r,items:i}){r instanceof Ae.Name&&e.assign((0,Ae._)`${t}.props`,r),i instanceof Ae.Name&&e.assign((0,Ae._)`${t}.items`,i)}function Sy(e,t,r,i){const{gen:a,schema:s,data:u,allErrors:c,opts:f,self:m}=e,{RULES:h}=m;if(s.$ref&&(f.ignoreKeywordsWithRef||!(0,Ci.schemaHasRulesButRef)(s,h))){a.block(()=>HE(e,"$ref",h.all.$ref.definition));return}f.jtd||QM(e,t),a.block(()=>{for(const g of h.rules)d(g);d(h.post)});function d(g){!(0,Ip.shouldUseGroup)(s,g)||(g.type?(a.if((0,gc.checkDataType)(g.type,u,f.strictNumbers)),by(e,g),t.length===1&&t[0]===g.type&&r&&(a.else(),(0,gc.reportTypeError)(e)),a.endIf()):by(e,g),c||a.if((0,Ae._)`${Ne.default.errors} === ${i||0}`))}}function by(e,t){const{gen:r,schema:i,opts:{useDefaults:a}}=e;a&&(0,UM.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Ip.shouldUseRule)(i,s)&&HE(e,s.keyword,s.definition,t.type)})}function QM(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ZM(e,t),e.opts.allowUnionTypes||ek(e,t),tk(e,e.dataTypes))}function ZM(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{BE(e.dataTypes,r)||Pp(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),nk(e,t)}}function ek(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Pp(e,"use allowUnionTypes to allow union type keyword")}function tk(e,t){const r=e.self.RULES.all;for(const i in r){const a=r[i];if(typeof a=="object"&&(0,Ip.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(u=>rk(t,u))&&Pp(e,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function rk(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function BE(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function nk(e,t){const r=[];for(const i of e.dataTypes)BE(t,i)?r.push(i):t.includes("integer")&&i==="number"&&r.push("integer");e.dataTypes=r}function Pp(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ci.checkStrictMode)(e,t,e.opts.strictTypes)}class qE{constructor(t,r,i){if((0,Xs.validateKeywordUsage)(t,r,i),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=i,this.data=t.data,this.schema=t.schema[i],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ci.schemaRefOrVal)(t,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",WE(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Xs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ne.default.errors))}result(t,r,i){this.failResult((0,Ae.not)(t),r,i)}failResult(t,r,i){this.gen.if(t),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Ae.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Ae._)`${r} !== undefined && (${(0,Ae.or)(this.invalid$data(),t)})`)}error(t,r,i){if(r){this.setParams(r),this._error(t,i),this.setParams({});return}this._error(t,i)}_error(t,r){(t?Fs.reportExtraError:Fs.reportError)(this,this.def.error,r)}$dataError(){(0,Fs.reportError)(this,this.def.$dataError||Fs.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Fs.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,i=Ae.nil){this.gen.block(()=>{this.check$data(t,i),r()})}check$data(t=Ae.nil,r=Ae.nil){if(!this.$data)return;const{gen:i,schemaCode:a,schemaType:s,def:u}=this;i.if((0,Ae.or)((0,Ae._)`${a} === undefined`,r)),t!==Ae.nil&&i.assign(t,!0),(s.length||u.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),t!==Ae.nil&&i.assign(t,!1)),i.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:i,def:a,it:s}=this;return(0,Ae.or)(u(),c());function u(){if(i.length){if(!(r instanceof Ae.Name))throw new Error("ajv implementation error");const f=Array.isArray(i)?i:[i];return(0,Ae._)`${(0,gc.checkDataTypes)(f,r,s.opts.strictNumbers,gc.DataType.Wrong)}`}return Ae.nil}function c(){if(a.validateSchema){const f=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,Ae._)`!${f}(${r})`}return Ae.nil}}subschema(t,r){const i=(0,Yd.getSubschema)(this.it,t);(0,Yd.extendSubschemaData)(i,this.it,t),(0,Yd.extendSubschemaMode)(i,t);const a={...this.it,...i,items:void 0,props:void 0};return WM(a,r),a}mergeEvaluated(t,r){const{it:i,gen:a}=this;!i.opts.unevaluated||(i.props!==!0&&t.props!==void 0&&(i.props=Ci.mergeEvaluated.props(a,t.props,i.props,r)),i.items!==!0&&t.items!==void 0&&(i.items=Ci.mergeEvaluated.items(a,t.items,i.items,r)))}mergeValidEvaluated(t,r){const{it:i,gen:a}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,Ae.Name)),!0}}Mn.KeywordCxt=qE;function HE(e,t,r,i){const a=new qE(e,r,t);"code"in r?r.code(a,i):a.$data&&r.validate?(0,Xs.funcKeywordCode)(a,r):"macro"in r?(0,Xs.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Xs.funcKeywordCode)(a,r)}const ik=/^\/(?:[^~]|~0|~1)*$/,ak=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function WE(e,{dataLevel:t,dataNames:r,dataPathArr:i}){let a,s;if(e==="")return Ne.default.rootData;if(e[0]==="/"){if(!ik.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=Ne.default.rootData}else{const m=ak.exec(e);if(!m)throw new Error(`Invalid JSON-pointer: ${e}`);const h=+m[1];if(a=m[2],a==="#"){if(h>=t)throw new Error(f("property/index",h));return i[t-h]}if(h>t)throw new Error(f("data",h));if(s=r[t-h],!a)return s}let u=s;const c=a.split("/");for(const m of c)m&&(s=(0,Ae._)`${s}${(0,Ae.getProperty)((0,Ci.unescapeJsonPointer)(m))}`,u=(0,Ae._)`${u} && ${s}`);return u;function f(m,h){return`Cannot access ${m} ${h} levels up, current level is ${t}`}}Mn.getData=WE;var bu={};Object.defineProperty(bu,"__esModule",{value:!0});class ok extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}bu.default=ok;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});const Kd=lr;class sk extends Error{constructor(t,r,i,a){super(a||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,Kd.resolveUrl)(t,r,i),this.missingSchema=(0,Kd.normalizeId)((0,Kd.getFullPath)(t,this.missingRef))}}Au.default=sk;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.resolveSchema=Gr.getCompilingSchema=Gr.resolveRef=Gr.compileSchema=Gr.SchemaEnv=void 0;const Pn=ke,uk=bu,Ra=ni,Ln=lr,Ay=Qe,lk=Mn;class Qc{constructor(t){var r;this.refs={},this.dynamicAnchors={};let i;typeof t.schema=="object"&&(i=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ln.normalizeId)(i==null?void 0:i[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=i==null?void 0:i.$async,this.refs={}}}Gr.SchemaEnv=Qc;function Np(e){const t=GE.call(this,e);if(t)return t;const r=(0,Ln.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:a}=this.opts.code,{ownProperties:s}=this.opts,u=new Pn.CodeGen(this.scope,{es5:i,lines:a,ownProperties:s});let c;e.$async&&(c=u.scopeValue("Error",{ref:uk.default,code:(0,Pn._)`require("ajv/dist/runtime/validation_error").default`}));const f=u.scopeName("validate");e.validateName=f;const m={gen:u,allErrors:this.opts.allErrors,data:Ra.default.data,parentData:Ra.default.parentData,parentDataProperty:Ra.default.parentDataProperty,dataNames:[Ra.default.data],dataPathArr:[Pn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Pn.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Pn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Pn._)`""`,opts:this.opts,self:this};let h;try{this._compilations.add(e),(0,lk.validateFunctionCode)(m),u.optimize(this.opts.code.optimize);const d=u.toString();h=`${u.scopeRefs(Ra.default.scope)}return ${d}`,this.opts.code.process&&(h=this.opts.code.process(h,e));const v=new Function(`${Ra.default.self}`,`${Ra.default.scope}`,h)(this,this.scope.get());if(this.scope.value(f,{ref:v}),v.errors=null,v.schema=e.schema,v.schemaEnv=e,e.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:f,validateCode:d,scopeValues:u._values}),this.opts.unevaluated){const{props:b,items:R}=m;v.evaluated={props:b instanceof Pn.Name?void 0:b,items:R instanceof Pn.Name?void 0:R,dynamicProps:b instanceof Pn.Name,dynamicItems:R instanceof Pn.Name},v.source&&(v.source.evaluated=(0,Pn.stringify)(v.evaluated))}return e.validate=v,e}catch(d){throw delete e.validate,delete e.validateName,h&&this.logger.error("Error compiling schema, function code:",h),d}finally{this._compilations.delete(e)}}Gr.compileSchema=Np;function ck(e,t,r){var i;r=(0,Ln.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=hk.call(this,e,r);if(s===void 0){const u=(i=e.localRefs)===null||i===void 0?void 0:i[r],{schemaId:c}=this.opts;u&&(s=new Qc({schema:u,schemaId:c,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=fk.call(this,s)}Gr.resolveRef=ck;function fk(e){return(0,Ln.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Np.call(this,e)}function GE(e){for(const t of this._compilations)if(dk(t,e))return t}Gr.getCompilingSchema=GE;function dk(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function hk(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Zc.call(this,e,t)}function Zc(e,t){const r=this.opts.uriResolver.parse(t),i=(0,Ln._getFullPath)(this.opts.uriResolver,r);let a=(0,Ln.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===a)return Jd.call(this,r,e);const s=(0,Ln.normalizeId)(i),u=this.refs[s]||this.schemas[s];if(typeof u=="string"){const c=Zc.call(this,e,u);return typeof(c==null?void 0:c.schema)!="object"?void 0:Jd.call(this,r,c)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||Np.call(this,u),s===(0,Ln.normalizeId)(t)){const{schema:c}=u,{schemaId:f}=this.opts,m=c[f];return m&&(a=(0,Ln.resolveUrl)(this.opts.uriResolver,a,m)),new Qc({schema:c,schemaId:f,root:e,baseId:a})}return Jd.call(this,r,u)}}Gr.resolveSchema=Zc;const pk=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Jd(e,{baseId:t,schema:r,root:i}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const f=r[(0,Ay.unescapeFragment)(c)];if(f===void 0)return;r=f;const m=typeof r=="object"&&r[this.opts.schemaId];!pk.has(c)&&m&&(t=(0,Ln.resolveUrl)(this.opts.uriResolver,t,m))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ay.schemaHasRulesButRef)(r,this.RULES)){const c=(0,Ln.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Zc.call(this,i,c)}const{schemaId:u}=this.opts;if(s=s||new Qc({schema:r,schemaId:u,root:i,baseId:t}),s.schema!==s.root.schema)return s}const mk="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gk="Meta-schema for $data reference (JSON AnySchema extension proposal)",vk="object",yk=["$data"],_k={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wk=!1,Ek={$id:mk,description:gk,type:vk,required:yk,properties:_k,additionalProperties:wk};var Dp={},Th={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,i){i(t)})(qt,function(r){function i(){for(var j=arguments.length,D=Array(j),B=0;B<j;B++)D[B]=arguments[B];if(D.length>1){D[0]=D[0].slice(0,-1);for(var ae=D.length-1,ie=1;ie<ae;++ie)D[ie]=D[ie].slice(1,-1);return D[ae]=D[ae].slice(1),D.join("")}else return D[0]}function a(j){return"(?:"+j+")"}function s(j){return j===void 0?"undefined":j===null?"null":Object.prototype.toString.call(j).split(" ").pop().split("]").shift().toLowerCase()}function u(j){return j.toUpperCase()}function c(j){return j!=null?j instanceof Array?j:typeof j.length!="number"||j.split||j.setInterval||j.call?[j]:Array.prototype.slice.call(j):[]}function f(j,D){var B=j;if(D)for(var ae in D)B[ae]=D[ae];return B}function m(j){var D="[A-Za-z]",B="[0-9]",ae=i(B,"[A-Fa-f]"),ie=a(a("%[EFef]"+ae+"%"+ae+ae+"%"+ae+ae)+"|"+a("%[89A-Fa-f]"+ae+"%"+ae+ae)+"|"+a("%"+ae+ae)),$e="[\\:\\/\\?\\#\\[\\]\\@]",be="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",qe=i($e,be),He=j?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",yt=j?"[\\uE000-\\uF8FF]":"[]",Ue=i(D,B,"[\\-\\.\\_\\~]",He);a(D+i(D,B,"[\\+\\-\\.]")+"*"),a(a(ie+"|"+i(Ue,be,"[\\:]"))+"*");var rt=a(a("25[0-5]")+"|"+a("2[0-4]"+B)+"|"+a("1"+B+B)+"|"+a("0?[1-9]"+B)+"|0?0?"+B),_t=a(rt+"\\."+rt+"\\."+rt+"\\."+rt),Pe=a(ae+"{1,4}"),Xe=a(a(Pe+"\\:"+Pe)+"|"+_t),ft=a(a(Pe+"\\:")+"{6}"+Xe),ut=a("\\:\\:"+a(Pe+"\\:")+"{5}"+Xe),$r=a(a(Pe)+"?\\:\\:"+a(Pe+"\\:")+"{4}"+Xe),Lr=a(a(a(Pe+"\\:")+"{0,1}"+Pe)+"?\\:\\:"+a(Pe+"\\:")+"{3}"+Xe),Ur=a(a(a(Pe+"\\:")+"{0,2}"+Pe)+"?\\:\\:"+a(Pe+"\\:")+"{2}"+Xe),Jr=a(a(a(Pe+"\\:")+"{0,3}"+Pe)+"?\\:\\:"+Pe+"\\:"+Xe),ln=a(a(a(Pe+"\\:")+"{0,4}"+Pe)+"?\\:\\:"+Xe),ar=a(a(a(Pe+"\\:")+"{0,5}"+Pe)+"?\\:\\:"+Pe),Nt=a(a(a(Pe+"\\:")+"{0,6}"+Pe)+"?\\:\\:"),An=a([ft,ut,$r,Lr,Ur,Jr,ln,ar,Nt].join("|")),Xr=a(a(Ue+"|"+ie)+"+");a("[vV]"+ae+"+\\."+i(Ue,be,"[\\:]")+"+"),a(a(ie+"|"+i(Ue,be))+"*");var ui=a(ie+"|"+i(Ue,be,"[\\:\\@]"));return a(a(ie+"|"+i(Ue,be,"[\\@]"))+"+"),a(a(ui+"|"+i("[\\/\\?]",yt))+"*"),{NOT_SCHEME:new RegExp(i("[^]",D,B,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Ue,be),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Ue,be),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Ue,be),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Ue,be),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Ue,be,"[\\:\\@\\/\\?]",yt),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Ue,be,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Ue,be),"g"),UNRESERVED:new RegExp(Ue,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Ue,qe),"g"),PCT_ENCODED:new RegExp(ie,"g"),IPV4ADDRESS:new RegExp("^("+_t+")$"),IPV6ADDRESS:new RegExp("^\\[?("+An+")"+a(a("\\%25|\\%(?!"+ae+"{2})")+"("+Xr+")")+"?\\]?$")}}var h=m(!1),d=m(!0),g=function(){function j(D,B){var ae=[],ie=!0,$e=!1,be=void 0;try{for(var qe=D[Symbol.iterator](),He;!(ie=(He=qe.next()).done)&&(ae.push(He.value),!(B&&ae.length===B));ie=!0);}catch(yt){$e=!0,be=yt}finally{try{!ie&&qe.return&&qe.return()}finally{if($e)throw be}}return ae}return function(D,B){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return j(D,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(j){if(Array.isArray(j)){for(var D=0,B=Array(j.length);D<j.length;D++)B[D]=j[D];return B}else return Array.from(j)},b=2147483647,R=36,T=1,$=26,_=38,I=700,N=72,Y=128,x="-",P=/^xn--/,k=/[^\0-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,Q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},le=R-T,ne=Math.floor,ue=String.fromCharCode;function Z(j){throw new RangeError(Q[j])}function de(j,D){for(var B=[],ae=j.length;ae--;)B[ae]=D(j[ae]);return B}function ge(j,D){var B=j.split("@"),ae="";B.length>1&&(ae=B[0]+"@",j=B[1]),j=j.replace(E,".");var ie=j.split("."),$e=de(ie,D).join(".");return ae+$e}function ee(j){for(var D=[],B=0,ae=j.length;B<ae;){var ie=j.charCodeAt(B++);if(ie>=55296&&ie<=56319&&B<ae){var $e=j.charCodeAt(B++);($e&64512)==56320?D.push(((ie&1023)<<10)+($e&1023)+65536):(D.push(ie),B--)}else D.push(ie)}return D}var G=function(D){return String.fromCodePoint.apply(String,v(D))},X=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:R},W=function(D,B){return D+22+75*(D<26)-((B!=0)<<5)},U=function(D,B,ae){var ie=0;for(D=ae?ne(D/I):D>>1,D+=ne(D/B);D>le*$>>1;ie+=R)D=ne(D/le);return ne(ie+(le+1)*D/(D+_))},re=function(D){var B=[],ae=D.length,ie=0,$e=Y,be=N,qe=D.lastIndexOf(x);qe<0&&(qe=0);for(var He=0;He<qe;++He)D.charCodeAt(He)>=128&&Z("not-basic"),B.push(D.charCodeAt(He));for(var yt=qe>0?qe+1:0;yt<ae;){for(var Ue=ie,rt=1,_t=R;;_t+=R){yt>=ae&&Z("invalid-input");var Pe=X(D.charCodeAt(yt++));(Pe>=R||Pe>ne((b-ie)/rt))&&Z("overflow"),ie+=Pe*rt;var Xe=_t<=be?T:_t>=be+$?$:_t-be;if(Pe<Xe)break;var ft=R-Xe;rt>ne(b/ft)&&Z("overflow"),rt*=ft}var ut=B.length+1;be=U(ie-Ue,ut,Ue==0),ne(ie/ut)>b-$e&&Z("overflow"),$e+=ne(ie/ut),ie%=ut,B.splice(ie++,0,$e)}return String.fromCodePoint.apply(String,B)},K=function(D){var B=[];D=ee(D);var ae=D.length,ie=Y,$e=0,be=N,qe=!0,He=!1,yt=void 0;try{for(var Ue=D[Symbol.iterator](),rt;!(qe=(rt=Ue.next()).done);qe=!0){var _t=rt.value;_t<128&&B.push(ue(_t))}}catch(Qr){He=!0,yt=Qr}finally{try{!qe&&Ue.return&&Ue.return()}finally{if(He)throw yt}}var Pe=B.length,Xe=Pe;for(Pe&&B.push(x);Xe<ae;){var ft=b,ut=!0,$r=!1,Lr=void 0;try{for(var Ur=D[Symbol.iterator](),Jr;!(ut=(Jr=Ur.next()).done);ut=!0){var ln=Jr.value;ln>=ie&&ln<ft&&(ft=ln)}}catch(Qr){$r=!0,Lr=Qr}finally{try{!ut&&Ur.return&&Ur.return()}finally{if($r)throw Lr}}var ar=Xe+1;ft-ie>ne((b-$e)/ar)&&Z("overflow"),$e+=(ft-ie)*ar,ie=ft;var Nt=!0,An=!1,Xr=void 0;try{for(var ui=D[Symbol.iterator](),ro;!(Nt=(ro=ui.next()).done);Nt=!0){var pa=ro.value;if(pa<ie&&++$e>b&&Z("overflow"),pa==ie){for(var li=$e,cn=R;;cn+=R){var Wn=cn<=be?T:cn>=be+$?$:cn-be;if(li<Wn)break;var Gn=li-Wn,Li=R-Wn;B.push(ue(W(Wn+Gn%Li,0))),li=ne(Gn/Li)}B.push(ue(W(li,0))),be=U($e,ar,Xe==Pe),$e=0,++Xe}}}catch(Qr){An=!0,Xr=Qr}finally{try{!Nt&&ui.return&&ui.return()}finally{if(An)throw Xr}}++$e,++ie}return B.join("")},O=function(D){return ge(D,function(B){return P.test(B)?re(B.slice(4).toLowerCase()):B})},L=function(D){return ge(D,function(B){return k.test(B)?"xn--"+K(B):B})},oe={version:"2.1.0",ucs2:{decode:ee,encode:G},decode:re,encode:K,toASCII:L,toUnicode:O},S={};function y(j){var D=j.charCodeAt(0),B=void 0;return D<16?B="%0"+D.toString(16).toUpperCase():D<128?B="%"+D.toString(16).toUpperCase():D<2048?B="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():B="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),B}function te(j){for(var D="",B=0,ae=j.length;B<ae;){var ie=parseInt(j.substr(B+1,2),16);if(ie<128)D+=String.fromCharCode(ie),B+=3;else if(ie>=194&&ie<224){if(ae-B>=6){var $e=parseInt(j.substr(B+4,2),16);D+=String.fromCharCode((ie&31)<<6|$e&63)}else D+=j.substr(B,6);B+=6}else if(ie>=224){if(ae-B>=9){var be=parseInt(j.substr(B+4,2),16),qe=parseInt(j.substr(B+7,2),16);D+=String.fromCharCode((ie&15)<<12|(be&63)<<6|qe&63)}else D+=j.substr(B,9);B+=9}else D+=j.substr(B,3),B+=3}return D}function H(j,D){function B(ae){var ie=te(ae);return ie.match(D.UNRESERVED)?ie:ae}return j.scheme&&(j.scheme=String(j.scheme).replace(D.PCT_ENCODED,B).toLowerCase().replace(D.NOT_SCHEME,"")),j.userinfo!==void 0&&(j.userinfo=String(j.userinfo).replace(D.PCT_ENCODED,B).replace(D.NOT_USERINFO,y).replace(D.PCT_ENCODED,u)),j.host!==void 0&&(j.host=String(j.host).replace(D.PCT_ENCODED,B).toLowerCase().replace(D.NOT_HOST,y).replace(D.PCT_ENCODED,u)),j.path!==void 0&&(j.path=String(j.path).replace(D.PCT_ENCODED,B).replace(j.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,y).replace(D.PCT_ENCODED,u)),j.query!==void 0&&(j.query=String(j.query).replace(D.PCT_ENCODED,B).replace(D.NOT_QUERY,y).replace(D.PCT_ENCODED,u)),j.fragment!==void 0&&(j.fragment=String(j.fragment).replace(D.PCT_ENCODED,B).replace(D.NOT_FRAGMENT,y).replace(D.PCT_ENCODED,u)),j}function Ee(j){return j.replace(/^0*(.*)/,"$1")||"0"}function je(j,D){var B=j.match(D.IPV4ADDRESS)||[],ae=g(B,2),ie=ae[1];return ie?ie.split(".").map(Ee).join("."):j}function et(j,D){var B=j.match(D.IPV6ADDRESS)||[],ae=g(B,3),ie=ae[1],$e=ae[2];if(ie){for(var be=ie.toLowerCase().split("::").reverse(),qe=g(be,2),He=qe[0],yt=qe[1],Ue=yt?yt.split(":").map(Ee):[],rt=He.split(":").map(Ee),_t=D.IPV4ADDRESS.test(rt[rt.length-1]),Pe=_t?7:8,Xe=rt.length-Pe,ft=Array(Pe),ut=0;ut<Pe;++ut)ft[ut]=Ue[ut]||rt[Xe+ut]||"";_t&&(ft[Pe-1]=je(ft[Pe-1],D));var $r=ft.reduce(function(ar,Nt,An){if(!Nt||Nt==="0"){var Xr=ar[ar.length-1];Xr&&Xr.index+Xr.length===An?Xr.length++:ar.push({index:An,length:1})}return ar},[]),Lr=$r.sort(function(ar,Nt){return Nt.length-ar.length})[0],Ur=void 0;if(Lr&&Lr.length>1){var Jr=ft.slice(0,Lr.index),ln=ft.slice(Lr.index+Lr.length);Ur=Jr.join(":")+"::"+ln.join(":")}else Ur=ft.join(":");return $e&&(Ur+="%"+$e),Ur}else return j}var Ve=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,St="".match(/(){0}/)[1]===void 0;function bt(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B={},ae=D.iri!==!1?d:h;D.reference==="suffix"&&(j=(D.scheme?D.scheme+":":"")+"//"+j);var ie=j.match(Ve);if(ie){St?(B.scheme=ie[1],B.userinfo=ie[3],B.host=ie[4],B.port=parseInt(ie[5],10),B.path=ie[6]||"",B.query=ie[7],B.fragment=ie[8],isNaN(B.port)&&(B.port=ie[5])):(B.scheme=ie[1]||void 0,B.userinfo=j.indexOf("@")!==-1?ie[3]:void 0,B.host=j.indexOf("//")!==-1?ie[4]:void 0,B.port=parseInt(ie[5],10),B.path=ie[6]||"",B.query=j.indexOf("?")!==-1?ie[7]:void 0,B.fragment=j.indexOf("#")!==-1?ie[8]:void 0,isNaN(B.port)&&(B.port=j.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ie[4]:void 0)),B.host&&(B.host=et(je(B.host,ae),ae)),B.scheme===void 0&&B.userinfo===void 0&&B.host===void 0&&B.port===void 0&&!B.path&&B.query===void 0?B.reference="same-document":B.scheme===void 0?B.reference="relative":B.fragment===void 0?B.reference="absolute":B.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==B.reference&&(B.error=B.error||"URI is not a "+D.reference+" reference.");var $e=S[(D.scheme||B.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!$e||!$e.unicodeSupport)){if(B.host&&(D.domainHost||$e&&$e.domainHost))try{B.host=oe.toASCII(B.host.replace(ae.PCT_ENCODED,te).toLowerCase())}catch(be){B.error=B.error||"Host's domain name can not be converted to ASCII via punycode: "+be}H(B,h)}else H(B,ae);$e&&$e.parse&&$e.parse(B,D)}else B.error=B.error||"URI can not be parsed.";return B}function Ye(j,D){var B=D.iri!==!1?d:h,ae=[];return j.userinfo!==void 0&&(ae.push(j.userinfo),ae.push("@")),j.host!==void 0&&ae.push(et(je(String(j.host),B),B).replace(B.IPV6ADDRESS,function(ie,$e,be){return"["+$e+(be?"%25"+be:"")+"]"})),(typeof j.port=="number"||typeof j.port=="string")&&(ae.push(":"),ae.push(String(j.port))),ae.length?ae.join(""):void 0}var Ft=/^\.\.?\//,un=/^\/\.(\/|$)/,nr=/^\/\.\.(\/|$)/,Tt=/^\/?(?:.|\n)*?(?=\/|$)/;function xt(j){for(var D=[];j.length;)if(j.match(Ft))j=j.replace(Ft,"");else if(j.match(un))j=j.replace(un,"/");else if(j.match(nr))j=j.replace(nr,"/"),D.pop();else if(j==="."||j==="..")j="";else{var B=j.match(Tt);if(B){var ae=B[0];j=j.slice(ae.length),D.push(ae)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function Lt(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=D.iri?d:h,ae=[],ie=S[(D.scheme||j.scheme||"").toLowerCase()];if(ie&&ie.serialize&&ie.serialize(j,D),j.host&&!B.IPV6ADDRESS.test(j.host)){if(D.domainHost||ie&&ie.domainHost)try{j.host=D.iri?oe.toUnicode(j.host):oe.toASCII(j.host.replace(B.PCT_ENCODED,te).toLowerCase())}catch(qe){j.error=j.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+qe}}H(j,B),D.reference!=="suffix"&&j.scheme&&(ae.push(j.scheme),ae.push(":"));var $e=Ye(j,D);if($e!==void 0&&(D.reference!=="suffix"&&ae.push("//"),ae.push($e),j.path&&j.path.charAt(0)!=="/"&&ae.push("/")),j.path!==void 0){var be=j.path;!D.absolutePath&&(!ie||!ie.absolutePath)&&(be=xt(be)),$e===void 0&&(be=be.replace(/^\/\//,"/%2F")),ae.push(be)}return j.query!==void 0&&(ae.push("?"),ae.push(j.query)),j.fragment!==void 0&&(ae.push("#"),ae.push(j.fragment)),ae.join("")}function qn(j,D){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=arguments[3],ie={};return ae||(j=bt(Lt(j,B),B),D=bt(Lt(D,B),B)),B=B||{},!B.tolerant&&D.scheme?(ie.scheme=D.scheme,ie.userinfo=D.userinfo,ie.host=D.host,ie.port=D.port,ie.path=xt(D.path||""),ie.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(ie.userinfo=D.userinfo,ie.host=D.host,ie.port=D.port,ie.path=xt(D.path||""),ie.query=D.query):(D.path?(D.path.charAt(0)==="/"?ie.path=xt(D.path):((j.userinfo!==void 0||j.host!==void 0||j.port!==void 0)&&!j.path?ie.path="/"+D.path:j.path?ie.path=j.path.slice(0,j.path.lastIndexOf("/")+1)+D.path:ie.path=D.path,ie.path=xt(ie.path)),ie.query=D.query):(ie.path=j.path,D.query!==void 0?ie.query=D.query:ie.query=j.query),ie.userinfo=j.userinfo,ie.host=j.host,ie.port=j.port),ie.scheme=j.scheme),ie.fragment=D.fragment,ie}function Kr(j,D,B){var ae=f({scheme:"null"},B);return Lt(qn(bt(j,ae),bt(D,ae),ae,!0),ae)}function En(j,D){return typeof j=="string"?j=Lt(bt(j,D),D):s(j)==="object"&&(j=bt(Lt(j,D),D)),j}function hr(j,D,B){return typeof j=="string"?j=Lt(bt(j,B),B):s(j)==="object"&&(j=Lt(j,B)),typeof D=="string"?D=Lt(bt(D,B),B):s(D)==="object"&&(D=Lt(D,B)),j===D}function Er(j,D){return j&&j.toString().replace(!D||!D.iri?h.ESCAPE:d.ESCAPE,y)}function Yt(j,D){return j&&j.toString().replace(!D||!D.iri?h.PCT_ENCODED:d.PCT_ENCODED,te)}var Pt={scheme:"http",domainHost:!0,parse:function(D,B){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,B){var ae=String(D.scheme).toLowerCase()==="https";return(D.port===(ae?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},ii={scheme:"https",domainHost:Pt.domainHost,parse:Pt.parse,serialize:Pt.serialize};function ai(j){return typeof j.secure=="boolean"?j.secure:String(j.scheme).toLowerCase()==="wss"}var $n={scheme:"ws",domainHost:!0,parse:function(D,B){var ae=D;return ae.secure=ai(ae),ae.resourceName=(ae.path||"/")+(ae.query?"?"+ae.query:""),ae.path=void 0,ae.query=void 0,ae},serialize:function(D,B){if((D.port===(ai(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var ae=D.resourceName.split("?"),ie=g(ae,2),$e=ie[0],be=ie[1];D.path=$e&&$e!=="/"?$e:void 0,D.query=be,D.resourceName=void 0}return D.fragment=void 0,D}},oi={scheme:"wss",domainHost:$n.domainHost,parse:$n.parse,serialize:$n.serialize},Hn={},si="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ir="[0-9A-Fa-f]",os=a(a("%[EFef]"+ir+"%"+ir+ir+"%"+ir+ir)+"|"+a("%[89A-Fa-f]"+ir+"%"+ir+ir)+"|"+a("%"+ir+ir)),Sn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Qa="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Za=i(Qa,'[\\"\\\\]'),eo="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",da=new RegExp(si,"g"),xr=new RegExp(os,"g"),ha=new RegExp(i("[^]",Sn,"[\\.]",'[\\"]',Za),"g"),Ni=new RegExp(i("[^]",si,eo),"g"),Di=Ni;function bn(j){var D=te(j);return D.match(da)?D:j}var to={scheme:"mailto",parse:function(D,B){var ae=D,ie=ae.to=ae.path?ae.path.split(","):[];if(ae.path=void 0,ae.query){for(var $e=!1,be={},qe=ae.query.split("&"),He=0,yt=qe.length;He<yt;++He){var Ue=qe[He].split("=");switch(Ue[0]){case"to":for(var rt=Ue[1].split(","),_t=0,Pe=rt.length;_t<Pe;++_t)ie.push(rt[_t]);break;case"subject":ae.subject=Yt(Ue[1],B);break;case"body":ae.body=Yt(Ue[1],B);break;default:$e=!0,be[Yt(Ue[0],B)]=Yt(Ue[1],B);break}}$e&&(ae.headers=be)}ae.query=void 0;for(var Xe=0,ft=ie.length;Xe<ft;++Xe){var ut=ie[Xe].split("@");if(ut[0]=Yt(ut[0]),B.unicodeSupport)ut[1]=Yt(ut[1],B).toLowerCase();else try{ut[1]=oe.toASCII(Yt(ut[1],B).toLowerCase())}catch($r){ae.error=ae.error||"Email address's domain name can not be converted to ASCII via punycode: "+$r}ie[Xe]=ut.join("@")}return ae},serialize:function(D,B){var ae=D,ie=c(D.to);if(ie){for(var $e=0,be=ie.length;$e<be;++$e){var qe=String(ie[$e]),He=qe.lastIndexOf("@"),yt=qe.slice(0,He).replace(xr,bn).replace(xr,u).replace(ha,y),Ue=qe.slice(He+1);try{Ue=B.iri?oe.toUnicode(Ue):oe.toASCII(Yt(Ue,B).toLowerCase())}catch(Xe){ae.error=ae.error||"Email address's domain name can not be converted to "+(B.iri?"Unicode":"ASCII")+" via punycode: "+Xe}ie[$e]=yt+"@"+Ue}ae.path=ie.join(",")}var rt=D.headers=D.headers||{};D.subject&&(rt.subject=D.subject),D.body&&(rt.body=D.body);var _t=[];for(var Pe in rt)rt[Pe]!==Hn[Pe]&&_t.push(Pe.replace(xr,bn).replace(xr,u).replace(Ni,y)+"="+rt[Pe].replace(xr,bn).replace(xr,u).replace(Di,y));return _t.length&&(ae.query=_t.join("&")),ae}},ss=/^([^\:]+)\:(.*)/,Fi={scheme:"urn",parse:function(D,B){var ae=D.path&&D.path.match(ss),ie=D;if(ae){var $e=B.scheme||ie.scheme||"urn",be=ae[1].toLowerCase(),qe=ae[2],He=$e+":"+(B.nid||be),yt=S[He];ie.nid=be,ie.nss=qe,ie.path=void 0,yt&&(ie=yt.parse(ie,B))}else ie.error=ie.error||"URN can not be parsed.";return ie},serialize:function(D,B){var ae=B.scheme||D.scheme||"urn",ie=D.nid,$e=ae+":"+(B.nid||ie),be=S[$e];be&&(D=be.serialize(D,B));var qe=D,He=D.nss;return qe.path=(ie||B.nid)+":"+He,qe}},us=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xi={scheme:"urn:uuid",parse:function(D,B){var ae=D;return ae.uuid=ae.nss,ae.nss=void 0,!B.tolerant&&(!ae.uuid||!ae.uuid.match(us))&&(ae.error=ae.error||"UUID is not valid."),ae},serialize:function(D,B){var ae=D;return ae.nss=(D.uuid||"").toLowerCase(),ae}};S[Pt.scheme]=Pt,S[ii.scheme]=ii,S[$n.scheme]=$n,S[oi.scheme]=oi,S[to.scheme]=to,S[Fi.scheme]=Fi,S[xi.scheme]=xi,r.SCHEMES=S,r.pctEncChar=y,r.pctDecChars=te,r.parse=bt,r.removeDotSegments=xt,r.serialize=Lt,r.resolveComponents=qn,r.resolve=Kr,r.normalize=En,r.equal=hr,r.escapeComponent=Er,r.unescapeComponent=Yt,Object.defineProperty(r,"__esModule",{value:!0})})})(Th,Th.exports);Object.defineProperty(Dp,"__esModule",{value:!0});const zE=Th.exports;zE.code='require("ajv/dist/runtime/uri").default';Dp.default=zE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Mn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ke;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=bu,a=Au,s=Ga,u=Gr,c=ke,f=lr,m=Su,h=Qe,d=Ek,g=Dp,v=(W,U)=>new RegExp(W,U);v.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],R=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),T={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},$={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function I(W){var U,re,K,O,L,oe,S,y,te,H,Ee,je,et,Ve,St,bt,Ye,Ft,un,nr,Tt,xt,Lt,qn,Kr;const En=W.strict,hr=(U=W.code)===null||U===void 0?void 0:U.optimize,Er=hr===!0||hr===void 0?1:hr||0,Yt=(K=(re=W.code)===null||re===void 0?void 0:re.regExp)!==null&&K!==void 0?K:v,Pt=(O=W.uriResolver)!==null&&O!==void 0?O:g.default;return{strictSchema:(oe=(L=W.strictSchema)!==null&&L!==void 0?L:En)!==null&&oe!==void 0?oe:!0,strictNumbers:(y=(S=W.strictNumbers)!==null&&S!==void 0?S:En)!==null&&y!==void 0?y:!0,strictTypes:(H=(te=W.strictTypes)!==null&&te!==void 0?te:En)!==null&&H!==void 0?H:"log",strictTuples:(je=(Ee=W.strictTuples)!==null&&Ee!==void 0?Ee:En)!==null&&je!==void 0?je:"log",strictRequired:(Ve=(et=W.strictRequired)!==null&&et!==void 0?et:En)!==null&&Ve!==void 0?Ve:!1,code:W.code?{...W.code,optimize:Er,regExp:Yt}:{optimize:Er,regExp:Yt},loopRequired:(St=W.loopRequired)!==null&&St!==void 0?St:_,loopEnum:(bt=W.loopEnum)!==null&&bt!==void 0?bt:_,meta:(Ye=W.meta)!==null&&Ye!==void 0?Ye:!0,messages:(Ft=W.messages)!==null&&Ft!==void 0?Ft:!0,inlineRefs:(un=W.inlineRefs)!==null&&un!==void 0?un:!0,schemaId:(nr=W.schemaId)!==null&&nr!==void 0?nr:"$id",addUsedSchema:(Tt=W.addUsedSchema)!==null&&Tt!==void 0?Tt:!0,validateSchema:(xt=W.validateSchema)!==null&&xt!==void 0?xt:!0,validateFormats:(Lt=W.validateFormats)!==null&&Lt!==void 0?Lt:!0,unicodeRegExp:(qn=W.unicodeRegExp)!==null&&qn!==void 0?qn:!0,int32range:(Kr=W.int32range)!==null&&Kr!==void 0?Kr:!0,uriResolver:Pt}}class N{constructor(U={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,U=this.opts={...U,...I(U)};const{es5:re,lines:K}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:R,es5:re,lines:K}),this.logger=ne(U.logger);const O=U.validateFormats;U.validateFormats=!1,this.RULES=(0,s.getRules)(),Y.call(this,T,U,"NOT SUPPORTED"),Y.call(this,$,U,"DEPRECATED","warn"),this._metaOpts=Q.call(this),U.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),U.keywords&&E.call(this,U.keywords),typeof U.meta=="object"&&this.addMetaSchema(U.meta),P.call(this),U.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:U,meta:re,schemaId:K}=this.opts;let O=d;K==="id"&&(O={...d},O.id=O.$id,delete O.$id),re&&U&&this.addMetaSchema(O,O[K],!1)}defaultMeta(){const{meta:U,schemaId:re}=this.opts;return this.opts.defaultMeta=typeof U=="object"?U[re]||U:void 0}validate(U,re){let K;if(typeof U=="string"){if(K=this.getSchema(U),!K)throw new Error(`no schema with key or ref "${U}"`)}else K=this.compile(U);const O=K(re);return"$async"in K||(this.errors=K.errors),O}compile(U,re){const K=this._addSchema(U,re);return K.validate||this._compileSchemaEnv(K)}compileAsync(U,re){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return O.call(this,U,re);async function O(H,Ee){await L.call(this,H.$schema);const je=this._addSchema(H,Ee);return je.validate||oe.call(this,je)}async function L(H){H&&!this.getSchema(H)&&await O.call(this,{$ref:H},!0)}async function oe(H){try{return this._compileSchemaEnv(H)}catch(Ee){if(!(Ee instanceof a.default))throw Ee;return S.call(this,Ee),await y.call(this,Ee.missingSchema),oe.call(this,H)}}function S({missingSchema:H,missingRef:Ee}){if(this.refs[H])throw new Error(`AnySchema ${H} is loaded but ${Ee} cannot be resolved`)}async function y(H){const Ee=await te.call(this,H);this.refs[H]||await L.call(this,Ee.$schema),this.refs[H]||this.addSchema(Ee,H,re)}async function te(H){const Ee=this._loading[H];if(Ee)return Ee;try{return await(this._loading[H]=K(H))}finally{delete this._loading[H]}}}addSchema(U,re,K,O=this.opts.validateSchema){if(Array.isArray(U)){for(const oe of U)this.addSchema(oe,void 0,K,O);return this}let L;if(typeof U=="object"){const{schemaId:oe}=this.opts;if(L=U[oe],L!==void 0&&typeof L!="string")throw new Error(`schema ${oe} must be string`)}return re=(0,f.normalizeId)(re||L),this._checkUnique(re),this.schemas[re]=this._addSchema(U,K,re,O,!0),this}addMetaSchema(U,re,K=this.opts.validateSchema){return this.addSchema(U,re,!0,K),this}validateSchema(U,re){if(typeof U=="boolean")return!0;let K;if(K=U.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(K,U);if(!O&&re){const L="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(L);else throw new Error(L)}return O}getSchema(U){let re;for(;typeof(re=x.call(this,U))=="string";)U=re;if(re===void 0){const{schemaId:K}=this.opts,O=new u.SchemaEnv({schema:{},schemaId:K});if(re=u.resolveSchema.call(this,O,U),!re)return;this.refs[U]=re}return re.validate||this._compileSchemaEnv(re)}removeSchema(U){if(U instanceof RegExp)return this._removeAllSchemas(this.schemas,U),this._removeAllSchemas(this.refs,U),this;switch(typeof U){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const re=x.call(this,U);return typeof re=="object"&&this._cache.delete(re.schema),delete this.schemas[U],delete this.refs[U],this}case"object":{const re=U;this._cache.delete(re);let K=U[this.opts.schemaId];return K&&(K=(0,f.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(U){for(const re of U)this.addKeyword(re);return this}addKeyword(U,re){let K;if(typeof U=="string")K=U,typeof re=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),re.keyword=K);else if(typeof U=="object"&&re===void 0){if(re=U,K=re.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Z.call(this,K,re),!re)return(0,h.eachItem)(K,L=>de.call(this,L)),this;ee.call(this,re);const O={...re,type:(0,m.getJSONTypes)(re.type),schemaType:(0,m.getJSONTypes)(re.schemaType)};return(0,h.eachItem)(K,O.type.length===0?L=>de.call(this,L,O):L=>O.type.forEach(oe=>de.call(this,L,O,oe))),this}getKeyword(U){const re=this.RULES.all[U];return typeof re=="object"?re.definition:!!re}removeKeyword(U){const{RULES:re}=this;delete re.keywords[U],delete re.all[U];for(const K of re.rules){const O=K.rules.findIndex(L=>L.keyword===U);O>=0&&K.rules.splice(O,1)}return this}addFormat(U,re){return typeof re=="string"&&(re=new RegExp(re)),this.formats[U]=re,this}errorsText(U=this.errors,{separator:re=", ",dataVar:K="data"}={}){return!U||U.length===0?"No errors":U.map(O=>`${K}${O.instancePath} ${O.message}`).reduce((O,L)=>O+re+L)}$dataMetaSchema(U,re){const K=this.RULES.all;U=JSON.parse(JSON.stringify(U));for(const O of re){const L=O.split("/").slice(1);let oe=U;for(const S of L)oe=oe[S];for(const S in K){const y=K[S];if(typeof y!="object")continue;const{$data:te}=y.definition,H=oe[S];te&&H&&(oe[S]=X(H))}}return U}_removeAllSchemas(U,re){for(const K in U){const O=U[K];(!re||re.test(K))&&(typeof O=="string"?delete U[K]:O&&!O.meta&&(this._cache.delete(O.schema),delete U[K]))}}_addSchema(U,re,K,O=this.opts.validateSchema,L=this.opts.addUsedSchema){let oe;const{schemaId:S}=this.opts;if(typeof U=="object")oe=U[S];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof U!="boolean")throw new Error("schema must be object or boolean")}let y=this._cache.get(U);if(y!==void 0)return y;K=(0,f.normalizeId)(oe||K);const te=f.getSchemaRefs.call(this,U,K);return y=new u.SchemaEnv({schema:U,schemaId:S,meta:re,baseId:K,localRefs:te}),this._cache.set(y.schema,y),L&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=y),O&&this.validateSchema(U,!0),y}_checkUnique(U){if(this.schemas[U]||this.refs[U])throw new Error(`schema with key or id "${U}" already exists`)}_compileSchemaEnv(U){if(U.meta?this._compileMetaSchema(U):u.compileSchema.call(this,U),!U.validate)throw new Error("ajv implementation error");return U.validate}_compileMetaSchema(U){const re=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,U)}finally{this.opts=re}}}e.default=N,N.ValidationError=i.default,N.MissingRefError=a.default;function Y(W,U,re,K="error"){for(const O in W){const L=O;L in U&&this.logger[K](`${re}: option ${O}. ${W[L]}`)}}function x(W){return W=(0,f.normalizeId)(W),this.schemas[W]||this.refs[W]}function P(){const W=this.opts.schemas;if(!!W)if(Array.isArray(W))this.addSchema(W);else for(const U in W)this.addSchema(W[U],U)}function k(){for(const W in this.opts.formats){const U=this.opts.formats[W];U&&this.addFormat(W,U)}}function E(W){if(Array.isArray(W)){this.addVocabulary(W);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const U in W){const re=W[U];re.keyword||(re.keyword=U),this.addKeyword(re)}}function Q(){const W={...this.opts};for(const U of b)delete W[U];return W}const le={log(){},warn(){},error(){}};function ne(W){if(W===!1)return le;if(W===void 0)return console;if(W.log&&W.warn&&W.error)return W;throw new Error("logger must implement log, warn and error methods")}const ue=/^[a-z_$][a-z0-9_$:-]*$/i;function Z(W,U){const{RULES:re}=this;if((0,h.eachItem)(W,K=>{if(re.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!ue.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!U&&U.$data&&!("code"in U||"validate"in U))throw new Error('$data keyword must have "code" or "validate" function')}function de(W,U,re){var K;const O=U==null?void 0:U.post;if(re&&O)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:L}=this;let oe=O?L.post:L.rules.find(({type:y})=>y===re);if(oe||(oe={type:re,rules:[]},L.rules.push(oe)),L.keywords[W]=!0,!U)return;const S={keyword:W,definition:{...U,type:(0,m.getJSONTypes)(U.type),schemaType:(0,m.getJSONTypes)(U.schemaType)}};U.before?ge.call(this,oe,S,U.before):oe.rules.push(S),L.all[W]=S,(K=U.implements)===null||K===void 0||K.forEach(y=>this.addKeyword(y))}function ge(W,U,re){const K=W.rules.findIndex(O=>O.keyword===re);K>=0?W.rules.splice(K,0,U):(W.rules.push(U),this.logger.warn(`rule ${re} is not defined`))}function ee(W){let{metaSchema:U}=W;U!==void 0&&(W.$data&&this.opts.$data&&(U=X(U)),W.validateSchema=this.compile(U,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(W){return{anyOf:[W,G]}}})(EE);var Fp={},xp={},Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});const $k={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Lp.default=$k;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.callRef=za.getValidate=void 0;const Sk=Au,Ty=We,Wr=ke,Co=ni,Oy=Gr,Gl=Qe,bk={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:a,schemaEnv:s,validateName:u,opts:c,self:f}=i,{root:m}=s;if((r==="#"||r==="#/")&&a===m.baseId)return d();const h=Oy.resolveRef.call(f,m,a,r);if(h===void 0)throw new Sk.default(i.opts.uriResolver,a,r);if(h instanceof Oy.SchemaEnv)return g(h);return v(h);function d(){if(s===m)return tc(e,u,s,s.$async);const b=t.scopeValue("root",{ref:m});return tc(e,(0,Wr._)`${b}.validate`,m,m.$async)}function g(b){const R=VE(e,b);tc(e,R,b,b.$async)}function v(b){const R=t.scopeValue("schema",c.code.source===!0?{ref:b,code:(0,Wr.stringify)(b)}:{ref:b}),T=t.name("valid"),$=e.subschema({schema:b,dataTypes:[],schemaPath:Wr.nil,topSchemaRef:R,errSchemaPath:r},T);e.mergeEvaluated($),e.ok(T)}}};function VE(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Wr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}za.getValidate=VE;function tc(e,t,r,i){const{gen:a,it:s}=e,{allErrors:u,schemaEnv:c,opts:f}=s,m=f.passContext?Co.default.this:Wr.nil;i?h():d();function h(){if(!c.$async)throw new Error("async schema referenced by sync schema");const b=a.let("valid");a.try(()=>{a.code((0,Wr._)`await ${(0,Ty.callValidateCode)(e,t,m)}`),v(t),u||a.assign(b,!0)},R=>{a.if((0,Wr._)`!(${R} instanceof ${s.ValidationError})`,()=>a.throw(R)),g(R),u||a.assign(b,!1)}),e.ok(b)}function d(){e.result((0,Ty.callValidateCode)(e,t,m),()=>v(t),()=>g(t))}function g(b){const R=(0,Wr._)`${b}.errors`;a.assign(Co.default.vErrors,(0,Wr._)`${Co.default.vErrors} === null ? ${R} : ${Co.default.vErrors}.concat(${R})`),a.assign(Co.default.errors,(0,Wr._)`${Co.default.vErrors}.length`)}function v(b){var R;if(!s.opts.unevaluated)return;const T=(R=r==null?void 0:r.validate)===null||R===void 0?void 0:R.evaluated;if(s.props!==!0)if(T&&!T.dynamicProps)T.props!==void 0&&(s.props=Gl.mergeEvaluated.props(a,T.props,s.props));else{const $=a.var("props",(0,Wr._)`${b}.evaluated.props`);s.props=Gl.mergeEvaluated.props(a,$,s.props,Wr.Name)}if(s.items!==!0)if(T&&!T.dynamicItems)T.items!==void 0&&(s.items=Gl.mergeEvaluated.items(a,T.items,s.items));else{const $=a.var("items",(0,Wr._)`${b}.evaluated.items`);s.items=Gl.mergeEvaluated.items(a,$,s.items,Wr.Name)}}}za.callRef=tc;za.default=bk;Object.defineProperty(xp,"__esModule",{value:!0});const Ak=Lp,Tk=za,Ok=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ak.default,Tk.default];xp.default=Ok;var Up={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});const vc=ke,Ki=vc.operators,yc={maximum:{okStr:"<=",ok:Ki.LTE,fail:Ki.GT},minimum:{okStr:">=",ok:Ki.GTE,fail:Ki.LT},exclusiveMaximum:{okStr:"<",ok:Ki.LT,fail:Ki.GTE},exclusiveMinimum:{okStr:">",ok:Ki.GT,fail:Ki.LTE}},Ck={message:({keyword:e,schemaCode:t})=>(0,vc.str)`must be ${yc[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,vc._)`{comparison: ${yc[e].okStr}, limit: ${t}}`},Rk={keyword:Object.keys(yc),type:"number",schemaType:"number",$data:!0,error:Ck,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data((0,vc._)`${r} ${yc[t].fail} ${i} || isNaN(${r})`)}};Mp.default=Rk;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});const Qs=ke,Ik={message:({schemaCode:e})=>(0,Qs.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Qs._)`{multipleOf: ${e}}`},Pk={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ik,code(e){const{gen:t,data:r,schemaCode:i,it:a}=e,s=a.opts.multipleOfPrecision,u=t.let("res"),c=s?(0,Qs._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${s}`:(0,Qs._)`${u} !== parseInt(${u})`;e.fail$data((0,Qs._)`(${i} === 0 || (${u} = ${r}/${i}, ${c}))`)}};kp.default=Pk;var jp={},Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});function YE(e){const t=e.length;let r=0,i=0,a;for(;i<t;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<t&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}Bp.default=YE;YE.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(jp,"__esModule",{value:!0});const xa=ke,Nk=Qe,Dk=Bp,Fk={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,xa.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,xa._)`{limit: ${e}}`},xk={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Fk,code(e){const{keyword:t,data:r,schemaCode:i,it:a}=e,s=t==="maxLength"?xa.operators.GT:xa.operators.LT,u=a.opts.unicode===!1?(0,xa._)`${r}.length`:(0,xa._)`${(0,Nk.useFunc)(e.gen,Dk.default)}(${r})`;e.fail$data((0,xa._)`${u} ${s} ${i}`)}};jp.default=xk;var qp={};Object.defineProperty(qp,"__esModule",{value:!0});const Lk=We,_c=ke,Uk={message:({schemaCode:e})=>(0,_c.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,_c._)`{pattern: ${e}}`},Mk={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Uk,code(e){const{data:t,$data:r,schema:i,schemaCode:a,it:s}=e,u=s.opts.unicodeRegExp?"u":"",c=r?(0,_c._)`(new RegExp(${a}, ${u}))`:(0,Lk.usePattern)(e,i);e.fail$data((0,_c._)`!${c}.test(${t})`)}};qp.default=Mk;var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});const Zs=ke,kk={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Zs.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Zs._)`{limit: ${e}}`},jk={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:kk,code(e){const{keyword:t,data:r,schemaCode:i}=e,a=t==="maxProperties"?Zs.operators.GT:Zs.operators.LT;e.fail$data((0,Zs._)`Object.keys(${r}).length ${a} ${i}`)}};Hp.default=jk;var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});const xs=We,eu=ke,Bk=Qe,qk={message:({params:{missingProperty:e}})=>(0,eu.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,eu._)`{missingProperty: ${e}}`},Hk={keyword:"required",type:"object",schemaType:"array",$data:!0,error:qk,code(e){const{gen:t,schema:r,schemaCode:i,data:a,$data:s,it:u}=e,{opts:c}=u;if(!s&&r.length===0)return;const f=r.length>=c.loopRequired;if(u.allErrors?m():h(),c.strictRequired){const v=e.parentSchema.properties,{definedProperties:b}=e.it;for(const R of r)if((v==null?void 0:v[R])===void 0&&!b.has(R)){const T=u.schemaEnv.baseId+u.errSchemaPath,$=`required property "${R}" is not defined at "${T}" (strictRequired)`;(0,Bk.checkStrictMode)(u,$,u.opts.strictRequired)}}function m(){if(f||s)e.block$data(eu.nil,d);else for(const v of r)(0,xs.checkReportMissingProp)(e,v)}function h(){const v=t.let("missing");if(f||s){const b=t.let("valid",!0);e.block$data(b,()=>g(v,b)),e.ok(b)}else t.if((0,xs.checkMissingProp)(e,r,v)),(0,xs.reportMissingProp)(e,v),t.else()}function d(){t.forOf("prop",i,v=>{e.setParams({missingProperty:v}),t.if((0,xs.noPropertyInData)(t,a,v,c.ownProperties),()=>e.error())})}function g(v,b){e.setParams({missingProperty:v}),t.forOf(v,i,()=>{t.assign(b,(0,xs.propertyInData)(t,a,v,c.ownProperties)),t.if((0,eu.not)(b),()=>{e.error(),t.break()})},eu.nil)}}};Wp.default=Hk;var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});const tu=ke,Wk={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,tu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,tu._)`{limit: ${e}}`},Gk={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Wk,code(e){const{keyword:t,data:r,schemaCode:i}=e,a=t==="maxItems"?tu.operators.GT:tu.operators.LT;e.fail$data((0,tu._)`${r}.length ${a} ${i}`)}};Gp.default=Gk;var zp={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});const KE=RE;KE.code='require("ajv/dist/runtime/equal").default';Tu.default=KE;Object.defineProperty(zp,"__esModule",{value:!0});const Xd=Su,sr=ke,zk=Qe,Vk=Tu,Yk={message:({params:{i:e,j:t}})=>(0,sr.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,sr._)`{i: ${e}, j: ${t}}`},Kk={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Yk,code(e){const{gen:t,data:r,$data:i,schema:a,parentSchema:s,schemaCode:u,it:c}=e;if(!i&&!a)return;const f=t.let("valid"),m=s.items?(0,Xd.getSchemaTypes)(s.items):[];e.block$data(f,h,(0,sr._)`${u} === false`),e.ok(f);function h(){const b=t.let("i",(0,sr._)`${r}.length`),R=t.let("j");e.setParams({i:b,j:R}),t.assign(f,!0),t.if((0,sr._)`${b} > 1`,()=>(d()?g:v)(b,R))}function d(){return m.length>0&&!m.some(b=>b==="object"||b==="array")}function g(b,R){const T=t.name("item"),$=(0,Xd.checkDataTypes)(m,T,c.opts.strictNumbers,Xd.DataType.Wrong),_=t.const("indices",(0,sr._)`{}`);t.for((0,sr._)`;${b}--;`,()=>{t.let(T,(0,sr._)`${r}[${b}]`),t.if($,(0,sr._)`continue`),m.length>1&&t.if((0,sr._)`typeof ${T} == "string"`,(0,sr._)`${T} += "_"`),t.if((0,sr._)`typeof ${_}[${T}] == "number"`,()=>{t.assign(R,(0,sr._)`${_}[${T}]`),e.error(),t.assign(f,!1).break()}).code((0,sr._)`${_}[${T}] = ${b}`)})}function v(b,R){const T=(0,zk.useFunc)(t,Vk.default),$=t.name("outer");t.label($).for((0,sr._)`;${b}--;`,()=>t.for((0,sr._)`${R} = ${b}; ${R}--;`,()=>t.if((0,sr._)`${T}(${r}[${b}], ${r}[${R}])`,()=>{e.error(),t.assign(f,!1).break($)})))}}};zp.default=Kk;var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});const Oh=ke,Jk=Qe,Xk=Tu,Qk={message:"must be equal to constant",params:({schemaCode:e})=>(0,Oh._)`{allowedValue: ${e}}`},Zk={keyword:"const",$data:!0,error:Qk,code(e){const{gen:t,data:r,$data:i,schemaCode:a,schema:s}=e;i||s&&typeof s=="object"?e.fail$data((0,Oh._)`!${(0,Jk.useFunc)(t,Xk.default)}(${r}, ${a})`):e.fail((0,Oh._)`${s} !== ${r}`)}};Vp.default=Zk;var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});const Ws=ke,e3=Qe,t3=Tu,r3={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ws._)`{allowedValues: ${e}}`},n3={keyword:"enum",schemaType:"array",$data:!0,error:r3,code(e){const{gen:t,data:r,$data:i,schema:a,schemaCode:s,it:u}=e;if(!i&&a.length===0)throw new Error("enum must have non-empty array");const c=a.length>=u.opts.loopEnum;let f;const m=()=>f!=null?f:f=(0,e3.useFunc)(t,t3.default);let h;if(c||i)h=t.let("valid"),e.block$data(h,d);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const v=t.const("vSchema",s);h=(0,Ws.or)(...a.map((b,R)=>g(v,R)))}e.pass(h);function d(){t.assign(h,!1),t.forOf("v",s,v=>t.if((0,Ws._)`${m()}(${r}, ${v})`,()=>t.assign(h,!0).break()))}function g(v,b){const R=a[b];return typeof R=="object"&&R!==null?(0,Ws._)`${m()}(${r}, ${v}[${b}])`:(0,Ws._)`${r} === ${R}`}}};Yp.default=n3;Object.defineProperty(Up,"__esModule",{value:!0});const i3=Mp,a3=kp,o3=jp,s3=qp,u3=Hp,l3=Wp,c3=Gp,f3=zp,d3=Vp,h3=Yp,p3=[i3.default,a3.default,o3.default,s3.default,u3.default,l3.default,c3.default,f3.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d3.default,h3.default];Up.default=p3;var Kp={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.validateAdditionalItems=void 0;const La=ke,Ch=Qe,m3={message:({params:{len:e}})=>(0,La.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,La._)`{limit: ${e}}`},g3={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:m3,code(e){const{parentSchema:t,it:r}=e,{items:i}=t;if(!Array.isArray(i)){(0,Ch.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}JE(e,i)}};function JE(e,t){const{gen:r,schema:i,data:a,keyword:s,it:u}=e;u.items=!0;const c=r.const("len",(0,La._)`${a}.length`);if(i===!1)e.setParams({len:t.length}),e.pass((0,La._)`${c} <= ${t.length}`);else if(typeof i=="object"&&!(0,Ch.alwaysValidSchema)(u,i)){const m=r.var("valid",(0,La._)`${c} <= ${t.length}`);r.if((0,La.not)(m),()=>f(m)),e.ok(m)}function f(m){r.forRange("i",t.length,c,h=>{e.subschema({keyword:s,dataProp:h,dataPropType:Ch.Type.Num},m),u.allErrors||r.if((0,La.not)(m),()=>r.break())})}}ns.validateAdditionalItems=JE;ns.default=g3;var Jp={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.validateTuple=void 0;const Cy=ke,rc=Qe,v3=We,y3={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return XE(e,"additionalItems",t);r.items=!0,!(0,rc.alwaysValidSchema)(r,t)&&e.ok((0,v3.validateArray)(e))}};function XE(e,t,r=e.schema){const{gen:i,parentSchema:a,data:s,keyword:u,it:c}=e;h(a),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=rc.mergeEvaluated.items(i,r.length,c.items));const f=i.name("valid"),m=i.const("len",(0,Cy._)`${s}.length`);r.forEach((d,g)=>{(0,rc.alwaysValidSchema)(c,d)||(i.if((0,Cy._)`${m} > ${g}`,()=>e.subschema({keyword:u,schemaProp:g,dataProp:g},f)),e.ok(f))});function h(d){const{opts:g,errSchemaPath:v}=c,b=r.length,R=b===d.minItems&&(b===d.maxItems||d[t]===!1);if(g.strictTuples&&!R){const T=`"${u}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${v}"`;(0,rc.checkStrictMode)(c,T,g.strictTuples)}}}is.validateTuple=XE;is.default=y3;Object.defineProperty(Jp,"__esModule",{value:!0});const _3=is,w3={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,_3.validateTuple)(e,"items")};Jp.default=w3;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});const Ry=ke,E3=Qe,$3=We,S3=ns,b3={message:({params:{len:e}})=>(0,Ry.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ry._)`{limit: ${e}}`},A3={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:b3,code(e){const{schema:t,parentSchema:r,it:i}=e,{prefixItems:a}=r;i.items=!0,!(0,E3.alwaysValidSchema)(i,t)&&(a?(0,S3.validateAdditionalItems)(e,a):e.ok((0,$3.validateArray)(e)))}};Xp.default=A3;var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});const _n=ke,zl=Qe,T3={message:({params:{min:e,max:t}})=>t===void 0?(0,_n.str)`must contain at least ${e} valid item(s)`:(0,_n.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,_n._)`{minContains: ${e}}`:(0,_n._)`{minContains: ${e}, maxContains: ${t}}`},O3={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:T3,code(e){const{gen:t,schema:r,parentSchema:i,data:a,it:s}=e;let u,c;const{minContains:f,maxContains:m}=i;s.opts.next?(u=f===void 0?1:f,c=m):u=1;const h=t.const("len",(0,_n._)`${a}.length`);if(e.setParams({min:u,max:c}),c===void 0&&u===0){(0,zl.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&u>c){(0,zl.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,zl.alwaysValidSchema)(s,r)){let R=(0,_n._)`${h} >= ${u}`;c!==void 0&&(R=(0,_n._)`${R} && ${h} <= ${c}`),e.pass(R);return}s.items=!0;const d=t.name("valid");c===void 0&&u===1?v(d,()=>t.if(d,()=>t.break())):u===0?(t.let(d,!0),c!==void 0&&t.if((0,_n._)`${a}.length > 0`,g)):(t.let(d,!1),g()),e.result(d,()=>e.reset());function g(){const R=t.name("_valid"),T=t.let("count",0);v(R,()=>t.if(R,()=>b(T)))}function v(R,T){t.forRange("i",0,h,$=>{e.subschema({keyword:"contains",dataProp:$,dataPropType:zl.Type.Num,compositeRule:!0},R),T()})}function b(R){t.code((0,_n._)`${R}++`),c===void 0?t.if((0,_n._)`${R} >= ${u}`,()=>t.assign(d,!0).break()):(t.if((0,_n._)`${R} > ${c}`,()=>t.assign(d,!1).break()),u===1?t.assign(d,!0):t.if((0,_n._)`${R} >= ${u}`,()=>t.assign(d,!0)))}}};Qp.default=O3;var QE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ke,r=Qe,i=We;e.error={message:({params:{property:f,depsCount:m,deps:h}})=>{const d=m===1?"property":"properties";return(0,t.str)`must have ${d} ${h} when property ${f} is present`},params:({params:{property:f,depsCount:m,deps:h,missingProperty:d}})=>(0,t._)`{property: ${f},
    missingProperty: ${d},
    depsCount: ${m},
    deps: ${h}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(f){const[m,h]=s(f);u(f,m),c(f,h)}};function s({schema:f}){const m={},h={};for(const d in f){if(d==="__proto__")continue;const g=Array.isArray(f[d])?m:h;g[d]=f[d]}return[m,h]}function u(f,m=f.schema){const{gen:h,data:d,it:g}=f;if(Object.keys(m).length===0)return;const v=h.let("missing");for(const b in m){const R=m[b];if(R.length===0)continue;const T=(0,i.propertyInData)(h,d,b,g.opts.ownProperties);f.setParams({property:b,depsCount:R.length,deps:R.join(", ")}),g.allErrors?h.if(T,()=>{for(const $ of R)(0,i.checkReportMissingProp)(f,$)}):(h.if((0,t._)`${T} && (${(0,i.checkMissingProp)(f,R,v)})`),(0,i.reportMissingProp)(f,v),h.else())}}e.validatePropertyDeps=u;function c(f,m=f.schema){const{gen:h,data:d,keyword:g,it:v}=f,b=h.name("valid");for(const R in m)(0,r.alwaysValidSchema)(v,m[R])||(h.if((0,i.propertyInData)(h,d,R,v.opts.ownProperties),()=>{const T=f.subschema({keyword:g,schemaProp:R},b);f.mergeValidEvaluated(T,b)},()=>h.var(b,!0)),f.ok(b))}e.validateSchemaDeps=c,e.default=a})(QE);var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});const ZE=ke,C3=Qe,R3={message:"property name must be valid",params:({params:e})=>(0,ZE._)`{propertyName: ${e.propertyName}}`},I3={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:R3,code(e){const{gen:t,schema:r,data:i,it:a}=e;if((0,C3.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",i,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},s),t.if((0,ZE.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};Zp.default=I3;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});const Vl=We,Nn=ke,P3=ni,Yl=Qe,N3={message:"must NOT have additional properties",params:({params:e})=>(0,Nn._)`{additionalProperty: ${e.additionalProperty}}`},D3={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:N3,code(e){const{gen:t,schema:r,parentSchema:i,data:a,errsCount:s,it:u}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:c,opts:f}=u;if(u.props=!0,f.removeAdditional!=="all"&&(0,Yl.alwaysValidSchema)(u,r))return;const m=(0,Vl.allSchemaProperties)(i.properties),h=(0,Vl.allSchemaProperties)(i.patternProperties);d(),e.ok((0,Nn._)`${s} === ${P3.default.errors}`);function d(){t.forIn("key",a,T=>{!m.length&&!h.length?b(T):t.if(g(T),()=>b(T))})}function g(T){let $;if(m.length>8){const _=(0,Yl.schemaRefOrVal)(u,i.properties,"properties");$=(0,Vl.isOwnProperty)(t,_,T)}else m.length?$=(0,Nn.or)(...m.map(_=>(0,Nn._)`${T} === ${_}`)):$=Nn.nil;return h.length&&($=(0,Nn.or)($,...h.map(_=>(0,Nn._)`${(0,Vl.usePattern)(e,_)}.test(${T})`))),(0,Nn.not)($)}function v(T){t.code((0,Nn._)`delete ${a}[${T}]`)}function b(T){if(f.removeAdditional==="all"||f.removeAdditional&&r===!1){v(T);return}if(r===!1){e.setParams({additionalProperty:T}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,Yl.alwaysValidSchema)(u,r)){const $=t.name("valid");f.removeAdditional==="failing"?(R(T,$,!1),t.if((0,Nn.not)($),()=>{e.reset(),v(T)})):(R(T,$),c||t.if((0,Nn.not)($),()=>t.break()))}}function R(T,$,_){const I={keyword:"additionalProperties",dataProp:T,dataPropType:Yl.Type.Str};_===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(I,$)}}};ef.default=D3;var em={};Object.defineProperty(em,"__esModule",{value:!0});const F3=Mn,Iy=We,Qd=Qe,Py=ef,x3={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:a,it:s}=e;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Py.default.code(new F3.KeywordCxt(s,Py.default,"additionalProperties"));const u=(0,Iy.allSchemaProperties)(r);for(const d of u)s.definedProperties.add(d);s.opts.unevaluated&&u.length&&s.props!==!0&&(s.props=Qd.mergeEvaluated.props(t,(0,Qd.toHash)(u),s.props));const c=u.filter(d=>!(0,Qd.alwaysValidSchema)(s,r[d]));if(c.length===0)return;const f=t.name("valid");for(const d of c)m(d)?h(d):(t.if((0,Iy.propertyInData)(t,a,d,s.opts.ownProperties)),h(d),s.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(f);function m(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function h(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},f)}}};em.default=x3;var tm={};Object.defineProperty(tm,"__esModule",{value:!0});const Ny=We,Kl=ke,Dy=Qe,Fy=Qe,L3={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:a,it:s}=e,{opts:u}=s,c=(0,Ny.allSchemaProperties)(r),f=c.filter(R=>(0,Dy.alwaysValidSchema)(s,r[R]));if(c.length===0||f.length===c.length&&(!s.opts.unevaluated||s.props===!0))return;const m=u.strictSchema&&!u.allowMatchingProperties&&a.properties,h=t.name("valid");s.props!==!0&&!(s.props instanceof Kl.Name)&&(s.props=(0,Fy.evaluatedPropsToName)(t,s.props));const{props:d}=s;g();function g(){for(const R of c)m&&v(R),s.allErrors?b(R):(t.var(h,!0),b(R),t.if(h))}function v(R){for(const T in m)new RegExp(R).test(T)&&(0,Dy.checkStrictMode)(s,`property ${T} matches pattern ${R} (use allowMatchingProperties)`)}function b(R){t.forIn("key",i,T=>{t.if((0,Kl._)`${(0,Ny.usePattern)(e,R)}.test(${T})`,()=>{const $=f.includes(R);$||e.subschema({keyword:"patternProperties",schemaProp:R,dataProp:T,dataPropType:Fy.Type.Str},h),s.opts.unevaluated&&d!==!0?t.assign((0,Kl._)`${d}[${T}]`,!0):!$&&!s.allErrors&&t.if((0,Kl.not)(h),()=>t.break())})})}}};tm.default=L3;var rm={};Object.defineProperty(rm,"__esModule",{value:!0});const U3=Qe,M3={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if((0,U3.alwaysValidSchema)(i,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};rm.default=M3;var nm={};Object.defineProperty(nm,"__esModule",{value:!0});const k3=We,j3={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:k3.validateUnion,error:{message:"must match a schema in anyOf"}};nm.default=j3;var im={};Object.defineProperty(im,"__esModule",{value:!0});const nc=ke,B3=Qe,q3={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,nc._)`{passingSchemas: ${e.passing}}`},H3={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:q3,code(e){const{gen:t,schema:r,parentSchema:i,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&i.discriminator)return;const s=r,u=t.let("valid",!1),c=t.let("passing",null),f=t.name("_valid");e.setParams({passing:c}),t.block(m),e.result(u,()=>e.reset(),()=>e.error(!0));function m(){s.forEach((h,d)=>{let g;(0,B3.alwaysValidSchema)(a,h)?t.var(f,!0):g=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},f),d>0&&t.if((0,nc._)`${f} && ${u}`).assign(u,!1).assign(c,(0,nc._)`[${c}, ${d}]`).else(),t.if(f,()=>{t.assign(u,!0),t.assign(c,d),g&&e.mergeEvaluated(g,nc.Name)})})}}};im.default=H3;var am={};Object.defineProperty(am,"__esModule",{value:!0});const W3=Qe,G3={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,u)=>{if((0,W3.alwaysValidSchema)(i,s))return;const c=e.subschema({keyword:"allOf",schemaProp:u},a);e.ok(a),e.mergeEvaluated(c)})}};am.default=G3;var om={};Object.defineProperty(om,"__esModule",{value:!0});const wc=ke,e1=Qe,z3={message:({params:e})=>(0,wc.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,wc._)`{failingKeyword: ${e.ifClause}}`},V3={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:z3,code(e){const{gen:t,parentSchema:r,it:i}=e;r.then===void 0&&r.else===void 0&&(0,e1.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=xy(i,"then"),s=xy(i,"else");if(!a&&!s)return;const u=t.let("valid",!0),c=t.name("_valid");if(f(),e.reset(),a&&s){const h=t.let("ifClause");e.setParams({ifClause:h}),t.if(c,m("then",h),m("else",h))}else a?t.if(c,m("then")):t.if((0,wc.not)(c),m("else"));e.pass(u,()=>e.error(!0));function f(){const h=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(h)}function m(h,d){return()=>{const g=e.subschema({keyword:h},c);t.assign(u,c),e.mergeValidEvaluated(g,u),d?t.assign(d,(0,wc._)`${h}`):e.setParams({ifClause:h})}}}};function xy(e,t){const r=e.schema[t];return r!==void 0&&!(0,e1.alwaysValidSchema)(e,r)}om.default=V3;var sm={};Object.defineProperty(sm,"__esModule",{value:!0});const Y3=Qe,K3={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Y3.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};sm.default=K3;Object.defineProperty(Kp,"__esModule",{value:!0});const J3=ns,X3=Jp,Q3=is,Z3=Xp,ej=Qp,tj=QE,rj=Zp,nj=ef,ij=em,aj=tm,oj=rm,sj=nm,uj=im,lj=am,cj=om,fj=sm;function dj(e=!1){const t=[oj.default,sj.default,uj.default,lj.default,cj.default,fj.default,rj.default,nj.default,tj.default,ij.default,aj.default];return e?t.push(X3.default,Z3.default):t.push(J3.default,Q3.default),t.push(ej.default),t}Kp.default=dj;var um={},lm={};Object.defineProperty(lm,"__esModule",{value:!0});const jt=ke,hj={message:({schemaCode:e})=>(0,jt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,jt._)`{format: ${e}}`},pj={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:hj,code(e,t){const{gen:r,data:i,$data:a,schema:s,schemaCode:u,it:c}=e,{opts:f,errSchemaPath:m,schemaEnv:h,self:d}=c;if(!f.validateFormats)return;a?g():v();function g(){const b=r.scopeValue("formats",{ref:d.formats,code:f.code.formats}),R=r.const("fDef",(0,jt._)`${b}[${u}]`),T=r.let("fType"),$=r.let("format");r.if((0,jt._)`typeof ${R} == "object" && !(${R} instanceof RegExp)`,()=>r.assign(T,(0,jt._)`${R}.type || "string"`).assign($,(0,jt._)`${R}.validate`),()=>r.assign(T,(0,jt._)`"string"`).assign($,R)),e.fail$data((0,jt.or)(_(),I()));function _(){return f.strictSchema===!1?jt.nil:(0,jt._)`${u} && !${$}`}function I(){const N=h.$async?(0,jt._)`(${R}.async ? await ${$}(${i}) : ${$}(${i}))`:(0,jt._)`${$}(${i})`,Y=(0,jt._)`(typeof ${$} == "function" ? ${N} : ${$}.test(${i}))`;return(0,jt._)`${$} && ${$} !== true && ${T} === ${t} && !${Y}`}}function v(){const b=d.formats[s];if(!b){_();return}if(b===!0)return;const[R,T,$]=I(b);R===t&&e.pass(N());function _(){if(f.strictSchema===!1){d.logger.warn(Y());return}throw new Error(Y());function Y(){return`unknown format "${s}" ignored in schema at path "${m}"`}}function I(Y){const x=Y instanceof RegExp?(0,jt.regexpCode)(Y):f.code.formats?(0,jt._)`${f.code.formats}${(0,jt.getProperty)(s)}`:void 0,P=r.scopeValue("formats",{key:s,ref:Y,code:x});return typeof Y=="object"&&!(Y instanceof RegExp)?[Y.type||"string",Y.validate,(0,jt._)`${P}.validate`]:["string",Y,P]}function N(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!h.$async)throw new Error("async format in sync schema");return(0,jt._)`await ${$}(${i})`}return typeof T=="function"?(0,jt._)`${$}(${i})`:(0,jt._)`${$}.test(${i})`}}}};lm.default=pj;Object.defineProperty(um,"__esModule",{value:!0});const mj=lm,gj=[mj.default];um.default=gj;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.contentVocabulary=Zo.metadataVocabulary=void 0;Zo.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Zo.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Fp,"__esModule",{value:!0});const vj=xp,yj=Up,_j=Kp,wj=um,Ly=Zo,Ej=[vj.default,yj.default,(0,_j.default)(),wj.default,Ly.metadataVocabulary,Ly.contentVocabulary];Fp.default=Ej;var cm={},t1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(t1);Object.defineProperty(cm,"__esModule",{value:!0});const Io=ke,Rh=t1,Uy=Gr,$j=Qe,Sj={message:({params:{discrError:e,tagName:t}})=>e===Rh.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Io._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},bj={keyword:"discriminator",type:"object",schemaType:"object",error:Sj,code(e){const{gen:t,data:r,schema:i,parentSchema:a,it:s}=e,{oneOf:u}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=i.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const f=t.let("valid",!1),m=t.const("tag",(0,Io._)`${r}${(0,Io.getProperty)(c)}`);t.if((0,Io._)`typeof ${m} == "string"`,()=>h(),()=>e.error(!1,{discrError:Rh.DiscrError.Tag,tag:m,tagName:c})),e.ok(f);function h(){const v=g();t.if(!1);for(const b in v)t.elseIf((0,Io._)`${m} === ${b}`),t.assign(f,d(v[b]));t.else(),e.error(!1,{discrError:Rh.DiscrError.Mapping,tag:m,tagName:c}),t.endIf()}function d(v){const b=t.name("valid"),R=e.subschema({keyword:"oneOf",schemaProp:v},b);return e.mergeEvaluated(R,Io.Name),b}function g(){var v;const b={},R=$(a);let T=!0;for(let N=0;N<u.length;N++){let Y=u[N];(Y==null?void 0:Y.$ref)&&!(0,$j.schemaHasRulesButRef)(Y,s.self.RULES)&&(Y=Uy.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,Y==null?void 0:Y.$ref),Y instanceof Uy.SchemaEnv&&(Y=Y.schema));const x=(v=Y==null?void 0:Y.properties)===null||v===void 0?void 0:v[c];if(typeof x!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);T=T&&(R||$(Y)),_(x,N)}if(!T)throw new Error(`discriminator: "${c}" must be required`);return b;function $({required:N}){return Array.isArray(N)&&N.includes(c)}function _(N,Y){if(N.const)I(N.const,Y);else if(N.enum)for(const x of N.enum)I(x,Y);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function I(N,Y){if(typeof N!="string"||N in b)throw new Error(`discriminator: "${c}" values must be unique strings`);b[N]=Y}}}};cm.default=bj;const Aj="http://json-schema.org/draft-07/schema#",Tj="http://json-schema.org/draft-07/schema#",Oj="Core schema meta-schema",Cj={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Rj=["object","boolean"],Ij={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Pj={$schema:Aj,$id:Tj,title:Oj,definitions:Cj,type:Rj,properties:Ij,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=EE,i=Fp,a=cm,s=Pj,u=["/properties"],c="http://json-schema.org/draft-07/schema";class f extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(s,u):s;this.addMetaSchema(b,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var m=Mn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var h=ke;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var d=bu;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var g=Au;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(mc,mc.exports);var Ih={exports:{}},r1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(E,Q){return{validate:E,compare:Q}}e.fullFormats={date:t(s,u),time:t(f,m),"date-time":t(d,g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:R,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:$,int32:{type:"number",validate:N},int64:{type:"number",validate:Y},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(E){return E%4===0&&(E%100!==0||E%400===0)}const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(E){const Q=i.exec(E);if(!Q)return!1;const le=+Q[1],ne=+Q[2],ue=+Q[3];return ne>=1&&ne<=12&&ue>=1&&ue<=(ne===2&&r(le)?29:a[ne])}function u(E,Q){if(!!(E&&Q))return E>Q?1:E<Q?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function f(E,Q){const le=c.exec(E);if(!le)return!1;const ne=+le[1],ue=+le[2],Z=+le[3],de=le[5];return(ne<=23&&ue<=59&&Z<=59||ne===23&&ue===59&&Z===60)&&(!Q||de!=="")}function m(E,Q){if(!(E&&Q))return;const le=c.exec(E),ne=c.exec(Q);if(!!(le&&ne))return E=le[1]+le[2]+le[3]+(le[4]||""),Q=ne[1]+ne[2]+ne[3]+(ne[4]||""),E>Q?1:E<Q?-1:0}const h=/t|\s/i;function d(E){const Q=E.split(h);return Q.length===2&&s(Q[0])&&f(Q[1],!0)}function g(E,Q){if(!(E&&Q))return;const[le,ne]=E.split(h),[ue,Z]=Q.split(h),de=u(le,ue);if(de!==void 0)return de||m(ne,Z)}const v=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function R(E){return v.test(E)&&b.test(E)}const T=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function $(E){return T.lastIndex=0,T.test(E)}const _=-(2**31),I=2**31-1;function N(E){return Number.isInteger(E)&&E<=I&&E>=_}function Y(E){return Number.isInteger(E)}function x(){return!0}const P=/[^\\]\\Z/;function k(E){if(P.test(E))return!1;try{return new RegExp(E),!0}catch{return!1}}})(r1);var n1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=mc.exports,r=ke,i=r.operators,a={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:c,schemaCode:f})=>r.str`should be ${a[c].okStr} ${f}`,params:({keyword:c,schemaCode:f})=>r._`{comparison: ${a[c].okStr}, limit: ${f}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(c){const{gen:f,data:m,schemaCode:h,keyword:d,it:g}=c,{opts:v,self:b}=g;if(!v.validateFormats)return;const R=new t.KeywordCxt(g,b.RULES.all.format.definition,"format");R.$data?T():$();function T(){const I=f.scopeValue("formats",{ref:b.formats,code:v.code.formats}),N=f.const("fmt",r._`${I}[${R.schemaCode}]`);c.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,_(N)))}function $(){const I=R.schema,N=b.formats[I];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${d}": format "${I}" does not define "compare" function`);const Y=f.scopeValue("formats",{key:I,ref:N,code:v.code.formats?r._`${v.code.formats}${r.getProperty(I)}`:void 0});c.fail$data(_(Y))}function _(I){return r._`${I}.compare(${m}, ${h}) ${a[d].fail} 0`}},dependencies:["format"]};const u=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=u})(n1);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=r1,i=n1,a=ke,s=new a.Name("fullFormats"),u=new a.Name("fastFormats"),c=(m,h={keywords:!0})=>{if(Array.isArray(h))return f(m,h,r.fullFormats,s),m;const[d,g]=h.mode==="fast"?[r.fastFormats,u]:[r.fullFormats,s],v=h.formats||r.formatNames;return f(m,v,d,g),h.keywords&&i.default(m),m};c.get=(m,h="full")=>{const g=(h==="fast"?r.fastFormats:r.fullFormats)[m];if(!g)throw new Error(`Unknown format "${m}"`);return g};function f(m,h,d,g){var v,b;(v=(b=m.opts.code).formats)!==null&&v!==void 0||(b.formats=a._`require("ajv-formats/dist/formats").${g}`);for(const R of h)m.addFormat(R,d[R])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(Ih,Ih.exports);const Nj=(e,t,r,i)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const a=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!Dj(a,s)&&i||Object.defineProperty(e,r,s)},Dj=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Fj=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},xj=(e,t)=>`/* Wrapped ${e}*/
${t}`,Lj=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Uj=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Mj=(e,t,r)=>{const i=r===""?"":`with ${r.trim()}() `,a=xj.bind(null,i,t.toString());Object.defineProperty(a,"name",Uj),Object.defineProperty(e,"toString",{...Lj,value:a})},kj=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:i}=e;for(const a of Reflect.ownKeys(t))Nj(e,t,a,r);return Fj(e,t),Mj(e,t,i),e};var jj=kj;const Bj=jj;var qj=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:i=!1,after:a=!0}=t;if(!i&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,u;const c=function(...f){const m=this,h=()=>{s=void 0,a&&(u=e.apply(m,f))},d=i&&!s;return clearTimeout(s),s=setTimeout(h,r),d&&(u=e.apply(m,f)),u};return Bj(c,e),c.cancel=()=>{s&&(clearTimeout(s),s=void 0)},c},tf={exports:{}},fm={exports:{}};const i1=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};fm.exports=i1;fm.exports.default=i1;const Hj=fm.exports,Ec=new WeakMap,a1=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,i=0;const a=e.displayName||e.name||"<anonymous>",s=function(...u){if(Ec.set(s,++i),i===1)r=e.apply(this,u),e=null;else if(t.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return r};return Hj(s,e),Ec.set(s,i),s};tf.exports=a1;tf.exports.default=a1;tf.exports.callCount=e=>{if(!Ec.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ec.get(e)};(function(e,t){var r=qt&&qt.__classPrivateFieldSet||function(ee,G,X,W,U){if(W==="m")throw new TypeError("Private method is not writable");if(W==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?ee!==G||!U:!G.has(ee))throw new TypeError("Cannot write private member to an object whose class did not declare it");return W==="a"?U.call(ee,X):U?U.value=X:G.set(ee,X),X},i=qt&&qt.__classPrivateFieldGet||function(ee,G,X,W){if(X==="a"&&!W)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?ee!==G||!W:!G.has(ee))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?W:X==="a"?W.call(ee):W?W.value:G.get(ee)},a,s,u,c,f,m;Object.defineProperty(t,"__esModule",{value:!0});const h=ua.default,d=ct.default,g=Oe.default,v=Ya.default,b=kh.default,R=Tc.default,T=dU,$=pp.exports,_=wp.exports,I=Qn,N=mc.exports,Y=Ih.exports,x=qj,P=dp,k=tf.exports,E="aes-256-cbc",Q=()=>Object.create(null),le=ee=>ee!=null;let ne="";try{delete require.cache[__filename],ne=g.dirname((s=(a=e.parent)===null||a===void 0?void 0:a.filename)!==null&&s!==void 0?s:".")}catch{}const ue=(ee,G)=>{const X=new Set(["undefined","symbol","function"]),W=typeof G;if(X.has(W))throw new TypeError(`Setting a value of type \`${W}\` for key \`${ee}\` is not allowed as it's not supported by JSON`)},Z="__internal__",de=`${Z}.migrations.version`;class ge{constructor(G={}){var X;u.set(this,void 0),c.set(this,void 0),f.set(this,void 0),m.set(this,{}),this._deserialize=L=>JSON.parse(L),this._serialize=L=>JSON.stringify(L,void 0,"	");const W={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...G},U=k(()=>{const L=$.sync({cwd:ne}),oe=L&&JSON.parse(d.readFileSync(L,"utf8"));return oe!=null?oe:{}});if(!W.cwd){if(W.projectName||(W.projectName=U().name),!W.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");W.cwd=_(W.projectName,{suffix:W.projectSuffix}).config}if(r(this,f,W,"f"),W.schema){if(typeof W.schema!="object")throw new TypeError("The `schema` option must be an object.");const L=new N.default({allErrors:!0,useDefaults:!0});(0,Y.default)(L);const oe={type:"object",properties:W.schema};r(this,u,L.compile(oe),"f");for(const[S,y]of Object.entries(W.schema))y!=null&&y.default&&(i(this,m,"f")[S]=y.default)}W.defaults&&r(this,m,{...i(this,m,"f"),...W.defaults},"f"),W.serialize&&(this._serialize=W.serialize),W.deserialize&&(this._deserialize=W.deserialize),this.events=new R.EventEmitter,r(this,c,W.encryptionKey,"f");const re=W.fileExtension?`.${W.fileExtension}`:"";this.path=g.resolve(W.cwd,`${(X=W.configName)!==null&&X!==void 0?X:"config"}${re}`);const K=this.store,O=Object.assign(Q(),W.defaults,K);this._validate(O);try{b.deepEqual(K,O)}catch{this.store=O}if(W.watch&&this._watch(),W.migrations){if(W.projectVersion||(W.projectVersion=U().version),!W.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(W.migrations,W.projectVersion,W.beforeEachMigration)}}get(G,X){if(i(this,f,"f").accessPropertiesByDotNotation)return this._get(G,X);const{store:W}=this;return G in W?W[G]:X}set(G,X){if(typeof G!="string"&&typeof G!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof G}`);if(typeof G!="object"&&X===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(G))throw new TypeError(`Please don't use the ${Z} key, as it's used to manage this module internal operations.`);const{store:W}=this,U=(re,K)=>{ue(re,K),i(this,f,"f").accessPropertiesByDotNotation?T.set(W,re,K):W[re]=K};if(typeof G=="object"){const re=G;for(const[K,O]of Object.entries(re))U(K,O)}else U(G,X);this.store=W}has(G){return i(this,f,"f").accessPropertiesByDotNotation?T.has(this.store,G):G in this.store}reset(...G){for(const X of G)le(i(this,m,"f")[X])&&this.set(X,i(this,m,"f")[X])}delete(G){const{store:X}=this;i(this,f,"f").accessPropertiesByDotNotation?T.delete(X,G):delete X[G],this.store=X}clear(){this.store=Q();for(const G of Object.keys(i(this,m,"f")))this.reset(G)}onDidChange(G,X){if(typeof G!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof G}`);if(typeof X!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof X}`);return this._handleChange(()=>this.get(G),X)}onDidAnyChange(G){if(typeof G!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof G}`);return this._handleChange(()=>this.store,G)}get size(){return Object.keys(this.store).length}get store(){try{const G=d.readFileSync(this.path,i(this,c,"f")?null:"utf8"),X=this._encryptData(G),W=this._deserialize(X);return this._validate(W),Object.assign(Q(),W)}catch(G){if((G==null?void 0:G.code)==="ENOENT")return this._ensureDirectory(),Q();if(i(this,f,"f").clearInvalidConfig&&G.name==="SyntaxError")return Q();throw G}}set store(G){this._ensureDirectory(),this._validate(G),this._write(G),this.events.emit("change")}*[(u=new WeakMap,c=new WeakMap,f=new WeakMap,m=new WeakMap,Symbol.iterator)](){for(const[G,X]of Object.entries(this.store))yield[G,X]}_encryptData(G){if(!i(this,c,"f"))return G.toString();try{if(i(this,c,"f"))try{if(G.slice(16,17).toString()===":"){const X=G.slice(0,16),W=v.pbkdf2Sync(i(this,c,"f"),X.toString(),1e4,32,"sha512"),U=v.createDecipheriv(E,W,X);G=Buffer.concat([U.update(Buffer.from(G.slice(17))),U.final()]).toString("utf8")}else{const X=v.createDecipher(E,i(this,c,"f"));G=Buffer.concat([X.update(Buffer.from(G)),X.final()]).toString("utf8")}}catch{}}catch{}return G.toString()}_handleChange(G,X){let W=G();const U=()=>{const re=W,K=G();(0,h.isDeepStrictEqual)(K,re)||(W=K,X.call(this,K,re))};return this.events.on("change",U),()=>this.events.removeListener("change",U)}_validate(G){if(!i(this,u,"f")||i(this,u,"f").call(this,G)||!i(this,u,"f").errors)return;const W=i(this,u,"f").errors.map(({instancePath:U,message:re=""})=>`\`${U.slice(1)}\` ${re}`);throw new Error("Config schema violation: "+W.join("; "))}_ensureDirectory(){d.mkdirSync(g.dirname(this.path),{recursive:!0})}_write(G){let X=this._serialize(G);if(i(this,c,"f")){const W=v.randomBytes(16),U=v.pbkdf2Sync(i(this,c,"f"),W.toString(),1e4,32,"sha512"),re=v.createCipheriv(E,U,W);X=Buffer.concat([W,Buffer.from(":"),re.update(Buffer.from(X)),re.final()])}if(process.env.SNAP)d.writeFileSync(this.path,X,{mode:i(this,f,"f").configFileMode});else try{I.writeFileSync(this.path,X,{mode:i(this,f,"f").configFileMode})}catch(W){if((W==null?void 0:W.code)==="EXDEV"){d.writeFileSync(this.path,X,{mode:i(this,f,"f").configFileMode});return}throw W}}_watch(){this._ensureDirectory(),d.existsSync(this.path)||this._write(Q()),process.platform==="win32"?d.watch(this.path,{persistent:!1},x(()=>{this.events.emit("change")},{wait:100})):d.watchFile(this.path,{persistent:!1},x(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(G,X,W){let U=this._get(de,"0.0.0");const re=Object.keys(G).filter(O=>this._shouldPerformMigration(O,U,X));let K={...this.store};for(const O of re)try{W&&W(this,{fromVersion:U,toVersion:O,finalVersion:X,versions:re});const L=G[O];L(this),this._set(de,O),U=O,K={...this.store}}catch(L){throw this.store=K,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${L}`)}(this._isVersionInRangeFormat(U)||!P.eq(U,X))&&this._set(de,X)}_containsReservedKey(G){return typeof G=="object"&&Object.keys(G)[0]===Z?!0:typeof G!="string"?!1:i(this,f,"f").accessPropertiesByDotNotation?!!G.startsWith(`${Z}.`):!1}_isVersionInRangeFormat(G){return P.clean(G)===null}_shouldPerformMigration(G,X,W){return this._isVersionInRangeFormat(G)?X!=="0.0.0"&&P.satisfies(X,G)?!1:P.satisfies(W,G):!(P.lte(G,X)||P.gt(G,W))}_get(G,X){return T.get(this.store,G,X)}_set(G,X){const{store:W}=this;T.set(W,G,X),this.store=W}}t.default=ge,e.exports=ge,e.exports.default=ge})($h,$h.exports);const My=Oe.default,{app:ic,ipcMain:Ph,ipcRenderer:ky,shell:Wj}=ja.default,Gj=$h.exports;let jy=!1;const By=()=>{if(!Ph||!ic)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:ic.getPath("userData"),appVersion:ic.getVersion()};return jy||(Ph.on("electron-store-get-data",t=>{t.returnValue=e}),jy=!0),e};class zj extends Gj{constructor(t){let r,i;if(ky){const a=ky.sendSync("electron-store-get-data");if(!a)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:i}=a)}else Ph&&ic&&({defaultCwd:r,appVersion:i}=By());t={name:"config",...t},t.projectVersion||(t.projectVersion=i),t.cwd?t.cwd=My.isAbsolute(t.cwd)?t.cwd:My.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){By()}openInEditor(){Wj.openPath(this.path)}}var Vj=zj;class dm extends Vj{getWithDefault(t,r){const i=this.get(t);return i!==void 0?JSON.parse(i):r}getMultiWithDefault(t,r){const i=t.map(a=>[a,this.getWithDefault(a,r)]);return Object.fromEntries(i)}setMulti(t){const r={};Object.entries(t).forEach(([i,a])=>{a!==void 0?r[i]=JSON.stringify(a):delete r[i]}),this.store.set(r)}deleteMulti(t){const r={};t.forEach(i=>{r[i]=void 0}),this.store.set(r)}getAll(){return this.store}getKeys(){return Object.keys(this.store)}getValues(){return this.store?Object.entries(this.store).map(([t,r])=>{if(typeof r=="string")try{r=JSON.parse(r)}catch{}return r}):[]}getCount(){return Object.keys(this.store).length}setBulk(t){this.store.set(t)}getMulti(t){const r=Object.entries(this.store).filter(([i])=>t.includes(i));return Object.fromEntries(r.map(([i,a])=>[i,JSON.parse(a)]))}has(t){return t in this.store}}const qy=new dm({name:"window"}),Yj=(e={})=>{const t={width:1600,height:800,frame:!1,show:!1,icon:Oe.default.join(__dirname,"../../../dist-electron/icons/icon.ico"),webPreferences:{contextIsolation:!0,nodeIntegration:!1,preload:rE,webgl:!0,experimentalFeatures:!0,hardwareAcceleration:!0,sharedWorker:!0,webSecurity:!1,enableBlinkFeatures:"SharedArrayBuffer"},backgroundColor:"#000"};return _h.exports.merge(t,e)},Kj=(e,t)=>{const r=we.BrowserWindow.getFocusedWindow();if(r){const[i,a]=r.getPosition();e=i+10,t=a+10}return{x:e,y:t}},Jj=(e={},t)=>{const{x:r,y:i,...a}=e,{bounds:s,isMaximized:u}=qy.get("windowState")||{};let c=new we.BrowserWindow(Yj({...Kj(r,i),...s,...a}));if(!c)return;u&&c.maximize();function f(){const m=c.isMaximized(),h=m?{}:c.getBounds();qy.set("windowState",{bounds:h,isMaximized:m})}return c.on("move",f),c.on("resize",f),c.on("ready-to-show",()=>{c.show()}),c.removeMenu(),t&&c.loadURL(t),c};let Gs;const Xj=()=>Gs,Nh=()=>{Gs=Jj({}),new fr(Gs),we.app.isPackaged||Gs.webContents.openDevTools(),Gs.show()},o1=()=>process.platform==="win32",hm=()=>process.platform==="linux";class pm extends Promise{constructor(r){super(r);wi(this,"_aborted",!1);wi(this,"_abortReason","Aborted Promise");wi(this,"_abortFn")}abort(r){this._aborted=!0,r&&(this._abortReason=r),this._abortFn&&this._abortFn(this._abortReason)}setAbortFn(r){this._abortFn=r}isAborted(){return this._aborted}then(r,i){return this._aborted?Promise.reject(this._abortReason):super.then(r,i)}catch(r){return this._aborted?Promise.reject(this._abortReason):super.catch(r)}}const $c=new WeakMap,Qj=e=>{const t=$c.get(e);t&&t.kill(),$c.delete(e)},s1=({command:e,args:t=[],cwd:r,env:i,timeout:a=6e4,killSignal:s="SIGTERM",stdio:u="pipe",maxBuffer:c=1024*1024,errorCodes:f=[],...m})=>{const h=Jy.spawn(e,t,{cwd:r,env:i,stdio:u,...m}),d=new pm((v,b)=>{let R="",T="",$,_;const I=x=>{R+=x.toString(),R.length>c&&(h.kill(s),$=new Error(`Command output exceeded max buffer size of ${c} bytes`))},N=x=>{T+=x.toString(),T.length>c&&(h.kill(s),$=new Error(`Command error output exceeded max buffer size of ${c} bytes`))},Y=x=>{console.error(`Error occurred while executing command: ${x}`),$=x};h.stdout.on("data",I),h.stderr.on("data",N),h.on("error",Y),a>0&&(_=setTimeout(()=>{console.error(`Command timed out after ${a}ms`),h.kill(s),$=new Error(`Command timed out after ${a}ms`)},a)),h.on("exit",()=>{_&&clearTimeout(_),h.stdout.off("data",I),h.stderr.off("data",N),h.off("error",Y),$?b($):v(R),g()})});function g(){$c.delete(d)}return d.setAbortFn(()=>{Qj(d),g()}),$c.set(d,h),d};function Zj(e,t,r){return new Promise((i,a)=>{var c;const s=(c=r==null?void 0:r.overwrite)!=null?c:!1,u=Bt.existsSync(t);if(!Bt.existsSync(e)){a(new Error(`Source path ${e} does not exist.`));return}!u||u&&s?Bt.lstatSync(e).isDirectory()?l1(e,t).then(()=>i()).catch(m=>a(m)):u1(e,t).then(()=>i()).catch(m=>a(m)):a(new Error(`Destination path ${t} already exists.`))})}function u1(e,t,r){return new Promise((i,a)=>{const s=Bt.createReadStream(e),u=Bt.createWriteStream(t);s.on("error",c=>{a(c)}),u.on("error",c=>{a(c)}),u.on("finish",()=>{i()}),s.pipe(u)})}function l1(e,t,r){return new Promise((i,a)=>{Bt.existsSync(t)||Bt.mkdirSync(t),Bt.readdirSync(e).forEach(s=>{const u=ac.join(e,s),c=ac.join(t,s);Bt.lstatSync(u).isDirectory()?l1(u,c).then(()=>i()).catch(f=>a(f)):u1(u,c).then(()=>i()).catch(f=>a(f))}),i()})}function eB(e,t,r){return new Promise((i,a)=>{var c;const s=(c=r==null?void 0:r.overwrite)!=null?c:!1,u=Bt.existsSync(t);if(!Bt.existsSync(e)){a(new Error(`Source path ${e} does not exist.`));return}!u||u&&s?Bt.lstatSync(e).isDirectory()?f1(e,t).then(()=>i()).catch(m=>a(m)):c1(e,t).then(()=>i()).catch(m=>a(m)):a(new Error(`Destination path ${t} already exists.`))})}function c1(e,t,r){return new Promise((i,a)=>{Bt.rename(e,t,s=>{s?s.code==="EXDEV"?tB(e,t).then(()=>i()).catch(u=>a(u)):a(s):i()})})}function tB(e,t,r){return new Promise((i,a)=>{const s=Bt.createReadStream(e),u=Bt.createWriteStream(t);s.on("error",c=>{a(c)}),u.on("error",c=>{a(c)}),u.on("finish",()=>{Bt.unlinkSync(e),i()}),s.pipe(u)})}function f1(e,t,r){return new Promise((i,a)=>{Bt.existsSync(t)||Bt.mkdirSync(t),Bt.readdirSync(e).forEach(s=>{const u=ac.join(e,s),c=ac.join(t,s);Bt.lstatSync(u).isDirectory()?f1(u,c).then(()=>i()).catch(f=>a(f)):c1(u,c).then(()=>i()).catch(f=>a(f))}),Bt.rmdirSync(e),i()})}function rB(e,t=Oe.default.join(we.app.getPath("userData"),"wasm-cache")){return new Promise((r,i)=>{const a=Oe.default.resolve(__dirname,e),s=Oe.default.join(t,`${Oe.default.basename(a)}.cache`);ct.default.existsSync(t)||ct.default.mkdirSync(t),ct.default.existsSync(s)?ct.default.readFile(s,(u,c)=>{u?i(u):r(c.buffer)}):ct.default.readFile(a,(u,c)=>{if(u)i(u);else{const f=c.buffer,m=new Uint8Array(f);ct.default.writeFile(s,m,h=>{h&&console.error(`Failed to cache Wasm file: ${h}`)}),r(f)}})})}const nB=()=>{if(hm())return Oe.default.resolve(we.app.isPackaged?we.app.getAppPath():__dirname,"../resources/linux/mxcadassembly");if(o1())return Oe.default.resolve(we.app.isPackaged?we.app.getAppPath():__dirname,"../resources/windows/mxcadassembly")},d1=nB(),iB=()=>o1()?"mxcadassembly.exe":hm()?"./node mxconvert.js":"";hm()&&s1({command:"sudo",cwd:d1,args:[...["-S","-p","","sh","-c"],"su root;chmod -R 777 *;rm -r -f /mx;cp -r -f ./mx /mx;chmod -R 777 /mx/*;cp -r -f ./mx/locale /usr/local/share/locale"]});const aB={dir:d1,cmd:iB(),convertSuffix:".mxweb"};var h1={exports:{}},oB=Oe.default,vr;try{vr=require("electron")}catch{vr=null}var Dh=la.default,rf={getName:p1,getPath:sB,getVersion:m1,getVersions:uB,isDev:fB,isElectron:dB,isIpcChannelListened:hB,loadRemoteModule:pB,onIpc:mB,openUrl:wB,sendIpc:gB,showErrorBox:_B};function Ou(){return mm("app")}function p1(){var e=Ou();return e?"name"in e?e.name:e.getName():null}function mm(e){return vr?vr[e]?vr[e]:vr.remote?vr.remote[e]:null:null}function gm(){return process.type==="browser"&&vr&&vr.ipcMain?vr.ipcMain:process.type==="renderer"&&vr&&vr.ipcRenderer?vr.ipcRenderer:null}function sB(e){var t=Ou();if(!t)return null;try{return t.getPath(e)}catch{return null}}function m1(){var e=Ou();return e?"version"in e?e.version:e.getVersion():null}function uB(){return{app:p1()+" "+m1(),electron:"Electron "+process.versions.electron,os:lB()}}function lB(){var e=Dh.type().replace("_"," "),t=Dh.release();return e==="Darwin"&&(e="macOS",t=cB()),e+" "+t}function cB(){var e=Number(Dh.release().split(".")[0]);return"10."+(e-4)}function fB(){var e=Ou();if(e&&e.isPackaged!==void 0)return!e.isPackaged;if(typeof process.execPath=="string"){var t=oB.basename(process.execPath).toLowerCase();return t.startsWith("electron")}return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}function dB(){return process.type==="browser"||process.type==="renderer"}function hB(e){var t=gm();return t?t.listenerCount(e)>0:!1}function pB(e){process.type==="browser"?Ou().on("web-contents-created",function(t,r){var i=r.executeJavaScript('try {require("'+e+'")} catch(e){}; void 0;');i&&typeof i.catch=="function"&&i.catch(function(){})}):process.type}function mB(e,t){var r=gm();r&&r.on(e,t)}function gB(e,t){process.type==="browser"?yB(e,t):process.type==="renderer"&&vB(e,t)}function vB(e,t){var r=gm();r&&r.send(e,t)}function yB(e,t){!vr||!vr.BrowserWindow||vr.BrowserWindow.getAllWindows().forEach(function(r){r.webContents&&!r.webContents.isDestroyed()&&r.webContents.send(e,t)})}function _B(e,t){var r=mm("dialog");!r||r.showErrorBox(e,t)}function wB(e,t){t=t||console.error;var r=mm("shell");!r||r.openExternal(e).catch(t)}var Zd=rf,EB=RC.default,eh=!1,$B=function(t){if(eh)return{stop:u};return eh=!0,process.type==="renderer"?(window.addEventListener("error",a),window.addEventListener("unhandledrejection",s)):(process.on("uncaughtException",r),process.on("unhandledRejection",i)),{stop:u};function r(f){try{if(typeof t.onError=="function"){var m=Zd.getVersions();if(t.onError(f,m,c)===!1)return}if(t.log("Unhandled Exception",f),t.showDialog&&f.name.indexOf("UnhandledRejection")<0){var h=process.type||"main";Zd.showErrorBox("A JavaScript error occurred in the "+h+" process",f.stack)}}catch{console.error(f)}}function i(f){if(f instanceof Error){try{Object.defineProperty(f,"name",{value:"UnhandledRejection "+f.name})}catch{}r(f);return}var m=new Error(JSON.stringify(f));m.name="UnhandledRejection",r(m)}function a(f){f.preventDefault(),r(f.error)}function s(f){f.preventDefault(),i(f.reason)}function u(){eh=!1,process.type==="renderer"?(window.removeEventListener("error",a),window.removeEventListener("unhandledrejection",s)):(process.removeListener("uncaughtException",r),process.removeListener("unhandledRejection",i))}function c(f,m){var h=f+"?"+EB.stringify(m);Zd.openUrl(h,t.log)}},vm={compareLevels:y1,log:SB,runTransport:v1,runTransports:g1};function SB(e,t){var r=e.transports,i={data:Array.prototype.slice.call(arguments,2),date:new Date,level:t.level,scope:t.scope?t.scope.toJSON():null,variables:e.variables};g1(r,i,e)}function g1(e,t,r){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&v1(e[i],t,r)}function v1(e,t,r){typeof e!="function"||e.level===!1||!y1(r.levels,e.level,t.level)||(t=bB(r.hooks,e,t),t&&e(t))}function y1(e,t,r){var i=e.indexOf(t),a=e.indexOf(r);return a===-1||i===-1?!0:a<=i}function bB(e,t,r){if(!e||!e.length)return r;for(var i=0;i<e.length&&(r=e[i](r,t),!!r);i++);return r}var AB=vm.log,TB=OB;function OB(e){return t.labelPadding=!0,t.defaultLabel="",t.maxLabelLength=0,t.getOptions=r,t;function t(a){var s={label:a,toJSON:function(){return{label:this.label}}};return e.levels.forEach(function(u){s[u]=AB.bind(null,e,{level:u,scope:s})}),s.log=s.info,t.maxLabelLength=Math.max(t.maxLabelLength,a.length),s}function r(){return{defaultLabel:t.defaultLabel,labelLength:i()}}function i(){return t.labelPadding===!0?t.maxLabelLength:t.labelPadding===!1?0:typeof t.labelPadding=="number"?t.labelPadding:0}}var nf={exports:{}},Ls=ua.default,CB={maxDepthFactory:IB,serialize:w1,toJSON:PB,toStringFactory:NB};function _1(e){var t=RB();return function(r,i){if(typeof i=="object"&&i!==null){if(t.has(i))return;t.add(i)}return w1(r,i,e)}}function RB(){if(typeof WeakSet<"u")return new WeakSet;var e=[];return{add:function(t){e.push(t)},has:function(t){return e.indexOf(t)!==-1}}}function Fh(e,t){if(!e)return e;if(t<1)return Hy(e)?"[array]":typeof e=="object"&&e?"[object]":e;if(Hy(e))return e.map(function(a){return Fh(a,t-1)});if(typeof e!="object"||e&&typeof e.toISOString=="function")return e;if(e===null)return null;if(e instanceof Error)return e;var r={};for(var i in e)!Object.prototype.hasOwnProperty.call(e,i)||(r[i]=Fh(e[i],t-1));return r}function IB(e){return e=e||6,function(r){return Fh(r,e)}}function w1(e,t,r){var i=!r||r.serializeMapAndSet!==!1;return t instanceof Error?t.stack:t&&(typeof t.toJSON=="function"?t.toJSON():typeof t=="function"?"[function] "+t.toString():i&&t instanceof Map&&Object.fromEntries?Object.fromEntries(t):i&&t instanceof Set&&Array.from?Array.from(t):t)}function PB(e){return JSON.parse(JSON.stringify(e,_1()))}function NB(e){return function(r){var i=r.map(function(a){if(a!==void 0)try{var s=JSON.stringify(a,_1(),"  ");return s===void 0?void 0:JSON.parse(s)}catch{return a}});return Ls.formatWithOptions?(i.unshift(e||{}),Ls.formatWithOptions.apply(Ls,i)):Ls.format.apply(Ls,i)}}function Hy(e){return Object.prototype.toString.call(e)==="[object Array]"}var DB={applyAnsiStyles:FB,removeStyles:UB,transformStyles:ym},E1={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function FB(e){return ym(e,xB,LB)}function xB(e){var t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return E1[t]||""}function LB(e){return e+E1.unset}function UB(e){return ym(e,function(){return""})}function ym(e,t,r){var i={};return e.reduce(function(a,s,u,c){if(i[u])return a;if(typeof s=="string"){var f=u,m=!1;s=s.replace(/%[1cdfiOos]/g,function(h){if(f+=1,h!=="%c")return h;var d=c[f];return typeof d=="string"?(i[f]=!0,m=!0,t(d,s)):h}),m&&r&&(s=r(s))}return a.push(s),a},[])}var MB={concatFirstStringElements:kB,formatDate:$1,formatTimeZone:S1,pad:Ai,padString:Sc,templateDate:jB,templateVariables:qB,templateScopeFactory:BB,templateText:HB};function kB(e){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)||(e[1]=e[0]+" "+e[1],e.shift()),e}function $1(e,t){return e.replace("{y}",String(t.getFullYear())).replace("{m}",Ai(t.getMonth()+1)).replace("{d}",Ai(t.getDate())).replace("{h}",Ai(t.getHours())).replace("{i}",Ai(t.getMinutes())).replace("{s}",Ai(t.getSeconds())).replace("{ms}",Ai(t.getMilliseconds(),3)).replace("{z}",S1(t.getTimezoneOffset())).replace("{iso}",t.toISOString())}function S1(e){var t=Math.abs(e);return(e>=0?"-":"+")+Ai(Math.floor(t/60))+":"+Ai(t%60)}function Ai(e,t){return t=t||2,(new Array(t+1).join("0")+e).substr(-t,t)}function Sc(e,t){t=Math.max(t,e.length);var r=Array(t+1).join(" ");return(e+r).substring(0,t)}function jB(e,t){var r=e[0];return typeof r!="string"||(e[0]=$1(r,t.date)),e}function BB(e){e=e||{};var t=e.labelLength||0;return function(i,a){var s=i[0],u=a.scope&&a.scope.label;u||(u=e.defaultLabel);var c;return u===""?c=t>0?Sc("",t+3):"":typeof u=="string"?c=Sc(" ("+u+")",t+3):c="",i[0]=s.replace("{scope}",c),i}}function qB(e,t){var r=e[0],i=t.variables;if(typeof r!="string"||!t.variables)return e;for(var a in i)!Object.prototype.hasOwnProperty.call(i,a)||(r=r.replace("{"+a+"}",i[a]));return r=r.replace("{level}]",Sc(t.level+"]",6)),r=r.replace("{level}",t.level),e[0]=r,e}function HB(e){var t=e[0];if(typeof t!="string")return e;var r=t.lastIndexOf("{text}");if(r===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;var i=t.split("{text}"),a=[];return i[0]!==""&&a.push(i[0]),a=a.concat(e.slice(1)),i[1]!==""&&a.push(i[1]),a}var th=CB,Wy=DB,Po=MB,af={applyAnsiStyles:Wy.applyAnsiStyles,concatFirstStringElements:Po.concatFirstStringElements,customFormatterFactory:WB,maxDepthFactory:th.maxDepthFactory,removeStyles:Wy.removeStyles,toJSON:th.toJSON,toStringFactory:th.toStringFactory,transform:b1};function WB(e,t,r){return typeof e=="string"?function(a,s){return b1(s,[Po.templateVariables,Po.templateScopeFactory(r),Po.templateDate,Po.templateText,t&&Po.concatFirstStringElements],[e].concat(a))}:typeof e=="function"?function(a,s){var u=Object.assign({},s,{data:a}),c=e(u,a);return[].concat(c)}:function(i){return[].concat(i)}}function b1(e,t,r){return t.reduce(function(i,a){return typeof a=="function"?a(i,e):i},r||e.data)}var Si=af,rh={context:console,error:console.error,warn:console.warn,info:console.info,verbose:console.verbose,debug:console.debug,silly:console.silly,log:console.log};nf.exports=zB;nf.exports.transformRenderer=A1;nf.exports.transformMain=T1;var GB=process.platform==="win32"?">":"\u203A",xh={browser:"%c{h}:{i}:{s}.{ms}{scope}%c "+GB+" {text}",renderer:"{h}:{i}:{s}.{ms}{scope} \u203A {text}",worker:"{h}:{i}:{s}.{ms}{scope} \u203A {text}"};function zB(e){return t.level="silly",t.useStyles=process.env.FORCE_STYLES,t.format=xh[process.type]||xh.browser,t;function t(r){var i=e.scope.getOptions(),a;process.type==="renderer"||process.type==="worker"?a=A1(r,t,i):a=T1(r,t,i),KB(r.level,a)}}function A1(e,t,r){return Si.transform(e,[Si.customFormatterFactory(t.format,!0,r)])}function T1(e,t,r){var i=YB(t.useStyles,e.level);return Si.transform(e,[VB(t.format),Si.customFormatterFactory(t.format,!1,r),i?Si.applyAnsiStyles:Si.removeStyles,Si.concatFirstStringElements,Si.maxDepthFactory(4),Si.toJSON])}function VB(e){return function(r,i){return e!==xh.browser?r:["color:"+JB(i.level),"color:unset"].concat(r)}}function YB(e,t){if(e===!0||e===!1)return e;var r=t==="error"||t==="warn",i=r?process.stderr:process.stdout;return i&&i.isTTY}function KB(e,t){var r=rh[e]||rh.info;if(process.type==="renderer"){setTimeout(r.bind.apply(r,[r.context].concat(t)));return}r.apply(rh.context,t)}function JB(e){switch(e){case"error":return"red";case"warn":return"yellow";case"info":return"cyan";default:return"unset"}}var of=Tc.default,wn=ct.default,O1=la.default,_m=Oe.default,XB=ca.default,wm=ua.default,QB={File:Yr,FileRegistry:as,NullFile:fa};function Yr(e,t,r){of.call(this),this.path=e,this.initialSize=void 0,this.bytesWritten=0,this.writeAsync=Boolean(r),this.asyncWriteQueue=[],this.hasActiveAsyncWritting=!1,this.writeOptions=t||{flag:"a",mode:438,encoding:"utf8"},Object.defineProperty(this,"size",{get:this.getSize.bind(this)})}wm.inherits(Yr,of);Yr.prototype.clear=function(){try{return wn.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(e){return e.code==="ENOENT"?!0:(this.emit("error",e,this),!1)}};Yr.prototype.crop=function(e){try{var t=ZB(this.path,e||4096);this.clear(),this.writeLine("[log cropped]"+O1.EOL+t)}catch(r){this.emit("error",new Error("Couldn't crop file "+this.path+". "+r.message),this)}};Yr.prototype.toString=function(){return this.path};Yr.prototype.reset=function(){this.initialSize=void 0,this.bytesWritten=0};Yr.prototype.writeLine=function(e){if(e+=O1.EOL,this.writeAsync){this.asyncWriteQueue.push(e),this.nextAsyncWrite();return}try{wn.writeFileSync(this.path,e,this.writeOptions),this.increaseBytesWrittenCounter(e)}catch(t){this.emit("error",new Error("Couldn't write to "+this.path+". "+t.message),this)}};Yr.prototype.getSize=function(){if(this.initialSize===void 0)try{var e=wn.statSync(this.path);this.initialSize=e.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten};Yr.prototype.isNull=function(){return!1};Yr.prototype.increaseBytesWrittenCounter=function(e){this.bytesWritten+=Buffer.byteLength(e,this.writeOptions.encoding)};Yr.prototype.nextAsyncWrite=function(){var e=this;if(!(this.hasActiveAsyncWritting||this.asyncWriteQueue.length<1)){var t=this.asyncWriteQueue.shift();this.hasActiveAsyncWritting=!0,wn.writeFile(this.path,t,this.writeOptions,function(r){e.hasActiveAsyncWritting=!1,r?e.emit("error",new Error("Couldn't write to "+e.path+". "+r.message),this):e.increaseBytesWrittenCounter(t),e.nextAsyncWrite()})}};function fa(e){Yr.call(this,e)}wm.inherits(fa,Yr);fa.prototype.clear=function(){};fa.prototype.crop=function(){};fa.prototype.writeLine=function(){};fa.prototype.getSize=function(){return 0};fa.prototype.isNull=function(){return!0};function as(){of.call(this),this.store={},this.emitError=this.emitError.bind(this)}wm.inherits(as,of);as.prototype.provide=function(e,t,r){var i;try{if(e=_m.resolve(e),this.store[e])return this.store[e];i=this.createFile(e,t,Boolean(r))}catch(a){i=new fa(e),this.emitError(a,i)}return i.on("error",this.emitError),this.store[e]=i,i};as.prototype.createFile=function(e,t,r){return this.testFileWriting(e),new Yr(e,t,r)};as.prototype.emitError=function(e,t){this.emit("error",e,t)};as.prototype.testFileWriting=function(e){Lh(_m.dirname(e)),wn.writeFileSync(e,"",{flag:"a"})};function Lh(e){var t=Boolean(XB.fileURLToPath);if(t)return wn.mkdirSync(e,{recursive:!0}),!0;try{return wn.mkdirSync(e),!0}catch(r){if(r.code==="ENOENT")return Lh(_m.dirname(e))&&Lh(e);try{if(wn.statSync(e).isDirectory())return!0;throw r}catch(i){throw i}}}function ZB(e,t){var r=Buffer.alloc(t),i=wn.statSync(e),a=Math.min(i.size,t),s=Math.max(0,i.size-t),u=wn.openSync(e,"r"),c=wn.readSync(u,r,0,a,s);return wn.closeSync(u),r.toString("utf8",0,c)}var C1=ct.default,ko=Oe.default,e9={readPackageJson:t9,tryReadJsonAt:No};function t9(){return No(require.main&&require.main.filename)||No(n9())||No(process.resourcesPath,"app.asar")||No(process.resourcesPath,"app")||No(process.cwd())||{name:null,version:null}}function No(e){if(!e)return null;try{e=ko.join.apply(ko,arguments);var t=r9("package.json",e);if(!t)return null;var r=JSON.parse(C1.readFileSync(t,"utf8")),i=r.productName||r.name;if(!i||i.toLowerCase()==="electron")return null;if(r.productName||r.name)return{name:i,version:r.version}}catch{return null}}function r9(e,t){for(var r=t;;){var i=ko.parse(r),a=i.root,s=i.dir;if(C1.existsSync(ko.join(r,e)))return ko.resolve(ko.join(r,e));if(r===a)return null;r=s}}function n9(){var e=process.argv.filter(function(r){return r.indexOf("--user-data-dir=")===0});if(e.length===0||typeof e[0]!="string")return null;var t=e[0];return t.replace("--user-data-dir=","")}var Uh=la.default,Ri=Oe.default,Va=rf,i9=e9,a9={getAppData:du,getLibraryDefaultDir:R1,getLibraryTemplate:I1,getNameAndVersion:P1,getPathVariables:o9,getUserData:Em};function du(e){var t=Va.getPath("appData");if(t)return t;var r=sf();switch(e){case"darwin":return Ri.join(r,"Library/Application Support");case"win32":return process.env.APPDATA||Ri.join(r,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||Ri.join(r,".config")}}function sf(){return Uh.homedir?Uh.homedir():process.env.HOME}function R1(e,t){return e==="darwin"?Ri.join(sf(),"Library/Logs",t):Ri.join(Em(e,t),"logs")}function I1(e){return e==="darwin"?Ri.join(sf(),"Library/Logs","{appName}"):Ri.join(du(e),"{appName}","logs")}function P1(){var e=Va.getName()||"",t=Va.getVersion();if(e.toLowerCase()==="electron"&&(e="",t=""),e&&t)return{name:e,version:t};var r=i9.readPackageJson();return e||(e=r.name),t||(t=r.version),e||(e="Electron"),{name:e,version:t}}function o9(e){var t=P1(),r=t.name,i=t.version;return{appData:du(e),appName:r,appVersion:i,electronDefaultDir:Va.getPath("logs"),home:sf(),libraryDefaultDir:R1(e,r),libraryTemplate:I1(e),temp:Va.getPath("temp")||Uh.tmpdir(),userData:Em(e,r)}}function Em(e,t){return Va.getName()!==t?Ri.join(du(e),t):Va.getPath("userData")||Ri.join(du(e),t)}var nh=ct.default,Us=Oe.default,s9=la.default,Ia=ua.default,Ms=af,u9=QB.FileRegistry,l9=a9,c9=d9,f9=new u9;function d9(e,t){var r=l9.getPathVariables(process.platform),i=t||f9;return i.listenerCount("error")<1&&i.on("error",function(d,g){u("Can't write to "+g,d)}),a.archiveLog=s,a.depth=5,a.fileName=h9(),a.format="[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",a.getFile=c,a.level="silly",a.maxSize=1024*1024,a.readAllLogs=m,a.resolvePath=f,a.sync=!0,a.writeOptions={flag:"a",mode:438,encoding:"utf8"},a.inspectOptions={},h(),a;function a(d){var g=c(d),v=a.maxSize>0&&g.size>a.maxSize;v&&(a.archiveLog(g),g.reset());var b=e.scope.getOptions(),R=Object.assign({depth:a.depth},a.inspectOptions),T=Ms.transform(d,[Ms.removeStyles,Ms.customFormatterFactory(a.format,!1,b),Ms.concatFirstStringElements,Ms.toStringFactory(R)]);g.writeLine(T)}function s(d){var g=d.toString(),v=Us.parse(g);try{nh.renameSync(g,Us.join(v.dir,v.name+".old"+v.ext))}catch(R){u("Could not rotate log",R);var b=Math.round(a.maxSize/4);d.crop(Math.min(b,256*1024))}}function u(d,g){var v=["electron-log.transports.file: "+d];g&&v.push(g),e.transports.console({data:v,date:new Date,level:"warn"})}function c(d){var g=Object.assign({},r,{fileName:a.fileName}),v=a.resolvePath(g,d);return i.provide(v,a.writeOptions,!a.sync)}function f(d){return Us.join(d.libraryDefaultDir,d.fileName)}function m(d){var g=d&&typeof d.fileFilter=="function"?d.fileFilter:function(R){return R.endsWith(".log")},v=Object.assign({},r,{fileName:a.fileName}),b=Us.dirname(a.resolvePath(v));return nh.readdirSync(b).map(function(R){return Us.join(b,R)}).filter(g).map(function(R){try{return{path:R,lines:nh.readFileSync(R,"utf8").split(s9.EOL)}}catch{return null}}).filter(Boolean)}function h(){var d=" is deprecated and will be removed in v5.",g=" property"+d;Object.defineProperties(a,{bytesWritten:{get:Ia.deprecate(v,"bytesWritten"+g)},file:{get:Ia.deprecate(b,"file"+g),set:Ia.deprecate(R,"file"+g)},fileSize:{get:Ia.deprecate(T,"file"+g)}}),a.clear=Ia.deprecate($,"clear()"+d),a.findLogPath=Ia.deprecate(b,"findLogPath()"+d),a.init=Ia.deprecate(_,"init()"+d);function v(){return c().bytesWritten}function b(){return c().path}function R(I){a.resolvePath=function(){return I}}function T(){return c().size}function $(){c().clear()}function _(){}}}function h9(){switch(process.type){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}var ih=af,ks=rf,p9=vm,m9=g9;function g9(e){if(t.eventId="__ELECTRON_LOG_IPC_"+e.logId+"__",t.level=e.isDev?"silly":!1,ks.isIpcChannelListened(t.eventId))return function(){};return ks.onIpc(t.eventId,function(r,i){i.date=new Date(i.date),p9.runTransport(e.transports.console,i,e)}),ks.loadRemoteModule("electron-log"),ks.isElectron()?t:null;function t(r){var i=Object.assign({},r,{data:ih.transform(r,[ih.toJSON,ih.maxDepthFactory(3)])});ks.sendIpc(t.eventId,i)}}var v9=e_.default,y9=IC.default,_9=ca.default,Jl=af,w9=E9;function E9(e){return t.client={name:"electron-application"},t.depth=6,t.level=!1,t.requestOptions={},t.url=null,t.onError=null,t.transformBody=function(r){return JSON.stringify(r)},t;function t(r){if(!t.url)return;var i=t.transformBody({client:t.client,data:Jl.transform(r,[Jl.removeStyles,Jl.toJSON,Jl.maxDepthFactory(t.depth+1)]),date:r.date.getTime(),level:r.level,variables:r.variables}),a=$9(t.url,t.requestOptions,Buffer.from(i,"utf8"));a.on("error",t.onError||s);function s(u){e.logMessageWithTransports({data:["electron-log.transports.remote: cannot send HTTP request to "+t.url,u],level:"warn"},[e.transports.console,e.transports.ipc,e.transports.file])}}}function $9(e,t,r){var i=_9.parse(e),a=i.protocol==="https:"?y9:v9,s={hostname:i.hostname,port:i.port,path:i.path,method:"POST",headers:{}};Object.assign(s,t),s.headers["Content-Length"]=r.length,s.headers["Content-Type"]||(s.headers["Content-Type"]="application/json");var u=a.request(s);return u.write(r),u.end(),u}(function(e){var t=$B,r=rf,i=vm,a=TB,s=nf.exports,u=c9,c=m9,f=w9;e.exports=m("default"),e.exports.default=e.exports;function m(h){var d={catchErrors:function(v){var b=Object.assign({},{log:d.error,showDialog:process.type==="browser"},v||{});t(b)},create:m,functions:{},hooks:[],isDev:r.isDev(),levels:[],logId:h,variables:{processType:process.type}};return d.scope=a(d),d.transports={console:s(d),file:u(d),remote:f(d),ipc:c(d)},Object.defineProperty(d.levels,"add",{enumerable:!1,value:function(v,b){b=b===void 0?d.levels.length:b,d.levels.splice(b,0,v),d[v]=i.log.bind(null,d,{level:v}),d.functions[v]=d[v]}}),["error","warn","info","verbose","debug","silly"].forEach(function(g){d.levels.add(g)}),d.log=i.log.bind(null,d,{level:"info"}),d.functions.log=d.log,d.logMessageWithTransports=function(v,b){return v.date===void 0&&(v.date=new Date),v.variables===void 0&&(v.variables=d.variables),i.runTransports(b,v,d)},d}})(h1);const Un=h1.exports;Un.transports.file.fileName="main.log";Un.transports.file.format="[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}";Un.transports.file.maxSize=1048576;we.app.on("ready",async()=>{we.app.on("renderer-process-crashed",(e,t,r)=>{Un.error(`APP-ERROR:renderer-process-crashed; event: ${JSON.stringify(e)}; webContents:${JSON.stringify(t)}; killed:${JSON.stringify(r)}`)}),we.app.on("gpu-process-crashed",(e,t)=>{Un.error(`APP-ERROR:gpu-process-crashed; event: ${JSON.stringify(e)}; killed: ${JSON.stringify(t)}`)}),we.app.on("render-process-gone",async(e,t,r)=>{Un.error(`APP-ERROR:render-process-gone; event: ${JSON.stringify(e)}; webContents:${JSON.stringify(t)}; details:${JSON.stringify(r)}`)}),we.app.on("child-process-gone",async(e,t)=>{Un.error(`APP-ERROR:child-process-gone; event: ${JSON.stringify(e)}; details:${JSON.stringify(t)}`)})});class S9 extends dm{constructor(t){super(t)}getFileHash(t){return new Promise(async(r,i)=>{const a=Ya.default.createHash("sha256"),s=ct.default.createReadStream(t);s.on("error",i),s.on("data",u=>a.update(u)),s.on("end",()=>r(a.digest("hex")))})}getFileName(t){if(this.has(t))return Oe.default.basename(this.get(t))}async compareFileHash(t,r){const i=await this.getFileHash(t),a=await this.getFileHash(r);return i===a}}const bc=new S9,{dir:b9,cmd:A9,convertSuffix:es}=aB,T9=e=>{const t=Oe.default.basename(e),r=Oe.default.extname(e);return{title:t,suffix:r,filePath:e}},Cu=()=>{const e=we.app.getPath("temp")+"/mxweb/";return ct.default.existsSync(e)||ct.default.mkdirSync(e),e},O9=(e,t)=>{var a,s;const r=Cu()+e+es,i=fr.getCurrentTabs();if(i)for(let u=0;u<i.tabs.length;u++){const c=i.tabs[u];if((c==null?void 0:c.params)&&((a=c.params)==null?void 0:a.file)&&c.params.file===r)return i.switchTab(u),!1;if(bc.get((s=c==null?void 0:c.params)==null?void 0:s.file)===t)return i.switchTab(u),!1}if(ct.default.existsSync(r))return r},C9=async(e,t)=>{const r=Cu()+t+es;return await eB(e,r,{overwrite:!0}),r},R9=async(e,t)=>{const r=Cu()+t+es;return await Zj(e,r,{overwrite:!0}),r},ah=(e,t)=>{const r=Cu()+e+es;bc.set(r,t),bc.set(t,r)},I9=e=>{let t;const r=new pm(async(i,a)=>{try{const s=T9(e),u=await bc.getFileHash(e),c=O9(u,e);if(c===!1)return i(!1);if(typeof c=="string")return s.filePath=c,ah(u,e),i(s);if(s.suffix===es){const d=await R9(s.filePath,u);return s.filePath=d,ah(u,e),i(s)}const f=e+es,m=[JSON.stringify({srcpath:e})];t=s1({command:A9,args:m,cwd:b9,shell:process.platform==="win32"});try{const{code:d}=JSON.parse(await t);if(d!==0)return a(new Error("\u56FE\u7EB8\u8F6C\u6362\u7A0B\u5E8F\u72B6\u6001\u7801\u4E0D\u4E3A0, \u8F6C\u6362\u5931\u8D25"))}catch{return a(new Error("\u56FE\u7EB8\u8F6C\u6362\u7A0B\u5E8F\u8F93\u51FA\u4E0D\u7B26\u5408JSON\u683C\u5F0F JSON.parse\u5E8F\u5217\u5316\u5931\u8D25"))}const h=await C9(f,u);s.filePath=h,ah(u,e),i(s)}catch(s){a(s)}});return r.setAbortFn(()=>{t.abort()}),r},P9=()=>{const e=we.BrowserWindow.getFocusedWindow();return new Promise((t,r)=>{e&&we.dialog.showOpenDialog(e,{title:"\u9009\u62E9\u8981\u6253\u5F00\u7684\u56FE\u7EB8\u6587\u4EF6",message:"\u9009\u62E9\u8981\u6253\u5F00\u7684\u56FE\u7EB8\u6587\u4EF6",filters:[{name:"CAD File Type",extensions:["dwg","dxf","mxweb"]},{name:"CAD File Type",extensions:["dwg","dxf"]},{name:"MxCAD File Type",extensions:["mxweb"]}],properties:["openFile","createDirectory"]}).then(i=>{const{filePaths:a}=i;!a||a.length===0||(a?t(a):r("\u9009\u62E9\u6587\u4EF6\u5931\u8D25"))})})},N1=e=>{let t;const r=new pm(async(i,a)=>{try{e||([e]=await P9()),t=I9(e);const s=await t;if(s===!1)return i();const{title:u,filePath:c}=s,f=fr.getCurrentTabs();f==null||f.addTab({title:u,url:Hs,params:{file:c}}),i()}catch(s){a("\u6253\u5F00\u56FE\u7EB8\u5931\u8D25"),Un.error(s)}});return r.setAbortFn(()=>{t.abort()}),r};let Mh={file:{openDrawingFile:"openDrawingFile"}};function D1(e,t="mxApi2d"){for(const r in e){const i=e[r];typeof i=="string"?e[r]=`${t}.${i}`:typeof i=="object"&&D1(i,`${t}.${r}`)}return e}Mh=D1(Mh);const N9=Mh.file,D9=()=>{we.ipcMain.handle(N9.openDrawingFile,()=>N1())},F9=()=>Oe.default.dirname(we.app.getPath("exe")),x9=()=>{we.ipcMain.handle(wh.update,function(){Zw()}),we.ipcMain.handle(wh.programInstallationLocation,function(){return F9()})};function $m(e,t=[]){const r=ct.default.readdirSync(e);for(const i of r){const a=Oe.default.join(e,i),s=ct.default.statSync(a);s.isDirectory()?$m(a,t):s.isFile()&&Oe.default.extname(a)===".wasm"&&t.push(a)}return t}let js;const L9=async e=>{const t=we.BrowserWindow.getFocusedWindow();if(!t)return;const r=fr.getCurrentTabs();if(!r)return;const i=r.getFocusedTab(),a=i&&i.view?i.view.webContents:t.webContents;if(e!=null&&e.abort){const{abort:s,...u}=e;js&&we.ipcMain.removeHandler(js),js=new Date().getTime().toString(),we.ipcMain.handleOnce(js,(c,...f)=>{s(...f)}),e=u}a.send(tE.onShowLoading,{...e,abortId:js})},Gy=e=>{let{win:t=we.BrowserWindow.getFocusedWindow(),...r}=e||{};if(!t)return;const i=fr.getCurrentTabs(t);if(!i)return;const a=i.getFocusedTab();(a&&a.view?a.view.webContents:t.webContents).send(tE.onHideLoading,r)},U9=(e,t="success")=>{var s;const r=we.BrowserWindow.getFocusedWindow();if(!r)return;const i=fr.getCurrentTabs();if(!i)return;const a=i.getFocusedTab();if(!a)return r.webContents.send(my.onShowMessage,e,t);(s=a.view)==null||s.webContents.send(my.onShowMessage,e,t)};class M9 extends dm{addFileOpenRecord(t){let r=this.get("fileOpenRecords",[]);const i=r.indexOf(t);i!==0&&(i>0&&r.splice(i,1),r.unshift(t),r.length>10&&(r=r.slice(0,10)),this.set("fileOpenRecords",r))}getFileOpenRecords(){return this.get("fileOpenRecords")}}const zy=new M9;function k9(e){ct.default.readdir(e,(t,r)=>{if(t){Un.error("utils:clearDirectory:\u65E0\u6CD5\u8BFB\u53D6\u76EE\u5F55\uFF1A",t);return}r.forEach(i=>{const a=Oe.default.join(e,i);ct.default.unlink(a,s=>{if(s){Un.error(`utils:clearDirectory:\u65E0\u6CD5\u5220\u9664\u6587\u4EF6 ${a}:`,s);return}})})})}let Vy=!1;const j9=()=>{Vy||(we.ipcMain.handle(Bl.min,function(){const e=we.BrowserWindow.getFocusedWindow();!e||e.minimize()}),we.ipcMain.handle(Bl.max,function(){const e=we.BrowserWindow.getFocusedWindow();!e||(e.isMaximized()?e.restore():e.maximize())}),we.ipcMain.handle(Bl.close,function(){const e=we.BrowserWindow.getFocusedWindow();!e||e.close()}),we.ipcMain.handle(Bl.isMaximized,function(){const e=we.BrowserWindow.getFocusedWindow();if(!!e)return e.isMaximized()}),we.ipcMain.handle(py.openFile,(e,t)=>{const r=fr.getCurrentTabs();return new Promise((i,a)=>{const s=we.BrowserWindow.getFocusedWindow(),u=f=>{Gy({win:s}),f&&U9(f,"error"),a(f)},c=(...f)=>{Gy({win:s}),t&&zy.addFileOpenRecord(t),i(...f)};if(!s)return u("\u5BF9\u8BDD\u6846\u672A\u805A\u7126");try{let f;if(L9({abort:()=>{f&&f.abort()}}),!t&&([t]=we.dialog.showOpenDialogSync(s,{title:"\u9009\u62E9\u8981\u6253\u5F00\u6587\u4EF6",message:"\u9009\u62E9\u8981\u6253\u5F00\u6587\u4EF6",properties:["openFile","createDirectory"]})||[],!t))return u();const h=Oe.default.extname(t).toLowerCase(),d=W9.includes(h),g=G9.includes(h);if(d){f=N1(t),f.then(()=>{c()},v=>{const b=typeof v=="object"?v.message:v;u(b)});return}if(g){if(!r)return u("\u5F53\u524D\u6807\u7B7E\u4E0D\u5B58\u5728");const v=Oe.default.basename(t);r.addTab({title:v,url:Eh,params:{url:t,name:v}}),c();return}return u("\u4E0D\u652F\u6301\u6253\u5F00"+h+"\u6587\u4EF6\u683C\u5F0F")}catch(f){u("\u7CFB\u7EDF\u9519\u8BEF"),Un.error(f)}})}),we.ipcMain.handle(py.getFileOpenRecords,()=>zy.getFileOpenRecords()),we.ipcMain.handle(rU.getWasmBinary,(e,t)=>{if(typeof t>"u"){const i=fr.getCurrentTabs();t=i!=null&&i.is2D?"2d":"3d"}const r=H9[t];return rB(r)}),we.ipcMain.handle(nU.tools,e=>{var r;const t=fr.getCurrentTabs();if(t){const i=t.getFocusedTab(),a=(r=i==null?void 0:i.view)==null?void 0:r.webContents;if(a)a.isDevToolsOpened()?a.closeDevTools():a.openDevTools();else{const s=we.BrowserWindow.getFocusedWindow();s&&(s.webContents.isDevToolsOpened()?s.webContents.closeDevTools():s.webContents.openDevTools())}}}),we.ipcMain.handle(wh.clearFileCache,()=>{k9(Cu())}),Vy=!0)},B9=$m(Oe.default.join(__dirname,"../dist/2d/dist/assets")),q9=$m(Oe.default.join(__dirname,"../dist/3d/dist/assets")),H9={"2d":B9.find(e=>e.includes("mxdrawassembly_min")),"3d":q9.find(e=>e.includes("mxdraw3d_min"))},W9=[".dwg",".dxf",".mxweb"],G9=[".brep"],z9=()=>{x9(),j9(),iU(),D9()},V9=we.app.requestSingleInstanceLock();V9?we.app.on("second-instance",(e,t,r)=>{Nh(),Xj().focus()}):we.app.quit();we.app.whenReady().then(()=>{Nh(),we.app.on("activate",()=>{we.BrowserWindow.getAllWindows().length===0&&Nh()}),z9()});we.app.on("will-finish-launching",()=>{Zw()});we.app.on("window-all-closed",()=>{if(process.platform==="darwin")return!1;we.app.quit()});we.app.commandLine.appendSwitch("enable-experimental-web-platform-features");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";
