"use strict";const n=require("electron"),R="7.0.0";let a={common:{update:"update",programInstallationLocation:"ProgramInstallationLocation",clearFileCache:"clearFileCache"},file:{openFile:"openFile",getFileOpenRecords:"getFileOpenRecords"},winMain:{close:"close",min:"min",max:"max",isMaximized:"isMaximized"},viewTab:{data:"data",add:"add",close:"close",active:"active",onUpdate:"onUpdate",closeAll:"closeAll"},message:{onShowMessage:"onShowMessage"},loading:{onShowLoading:"onShowLoading",onHideLoading:"onHideLoading"},wasm:{getWasmBinary:"getWasmBinary"},debug:{tools:"debug-tools"}};function E(e,r="modules"){for(const o in e){const i=e[o];typeof i=="string"?e[o]=`${r}.${i}`:typeof i=="object"&&E(i,`${r}.${o}`)}return e}a=E(a);const d=a.common,t=a.winMain,c=a.viewTab,p=a.file,v=a.message,_=a.wasm,g=a.loading,N=a.debug,w={winMainCose:()=>n.ipcRenderer.invoke(t.close),winMainMax:()=>n.ipcRenderer.invoke(t.max),winMainMin:()=>n.ipcRenderer.invoke(t.min),winIsMaximized:()=>n.ipcRenderer.invoke(t.isMaximized),openFile:e=>n.ipcRenderer.invoke(p.openFile,e),getFileOpenRecords:()=>n.ipcRenderer.invoke(p.getFileOpenRecords),version:R,getProgramInstallationLocation:()=>n.ipcRenderer.invoke(d.programInstallationLocation),checkForUpdates:()=>n.ipcRenderer.invoke(d.update),clearFileCache:()=>n.ipcRenderer.invoke(d.clearFileCache),viewTab:{data:()=>n.ipcRenderer.invoke(c.data),add:e=>n.ipcRenderer.invoke(c.add,e),close:e=>n.ipcRenderer.invoke(c.close,e),active:e=>n.ipcRenderer.invoke(c.active,e),onUpdate:e=>{n.ipcRenderer.on(c.onUpdate,(r,o)=>e(o))}},debugTools:()=>n.ipcRenderer.invoke(N.tools),onShowMessage:e=>{n.ipcRenderer.on(v.onShowMessage,(r,o,i)=>e(o,i))},onShowLoading:e=>{n.ipcRenderer.on(g.onShowLoading,(r,o)=>{const{abortId:i,...l}=o;l.abort=(...m)=>{n.ipcRenderer.invoke(i,...m)},e(l)})},onHideLoading:e=>{n.ipcRenderer.on(g.onHideLoading,(r,...o)=>e(...o))}};let s={file:{openDrawingFile:"openDrawingFile"}};function M(e,r="mxApi2d"){for(const o in e){const i=e[o];typeof i=="string"?e[o]=`${r}.${i}`:typeof i=="object"&&M(i,`${r}.${o}`)}return e}s=M(s);const k=s.file;n.contextBridge.exposeInMainWorld("MxElectronAPI",{...w,openDrawingFile:e=>n.ipcRenderer.invoke(k.openDrawingFile,e),getWasmBinary:e=>n.ipcRenderer.invoke(_.getWasmBinary,e)});
