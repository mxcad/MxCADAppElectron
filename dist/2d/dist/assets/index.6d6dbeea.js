function _mergeNamespaces(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(i,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerpolicy&&(a.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?a.credentials="include":l.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function makeMap(e,t){const r=Object.create(null),i=e.split(",");for(let l=0;l<i.length;l++)r[i[l]]=!0;return t?l=>!!r[l.toLowerCase()]:l=>!!r[l]}function normalizeStyle(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],l=isString$2(i)?parseStringStyle(i):normalizeStyle(i);if(l)for(const a in l)t[a]=l[a]}return t}else{if(isString$2(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const i=r.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$1(e))for(let r=0;r<e.length;r++){const i=normalizeClass(e[r]);i&&(t+=i+" ")}else if(isObject$2(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$2(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}const HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=looseEqual(e[i],t[i]);return r}function looseEqual(e,t){if(e===t)return!0;let r=isDate$1(e),i=isDate$1(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=isSymbol(e),i=isSymbol(t),r||i)return e===t;if(r=isArray$1(e),i=isArray$1(t),r||i)return r&&i?looseCompareArrays(e,t):!1;if(r=isObject$2(e),i=isObject$2(t),r||i){if(!r||!i)return!1;const l=Object.keys(e).length,a=Object.keys(t).length;if(l!==a)return!1;for(const c in e){const d=e.hasOwnProperty(c),D=t.hasOwnProperty(c);if(d&&!D||!d&&D||!looseEqual(e[c],t[c]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(r=>looseEqual(r,t))}const toDisplayString=e=>isString$2(e)?e:e==null?"":isArray$1(e)||isObject$2(e)&&(e.toString===objectToString||!isFunction$2(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,l])=>(r[`${i} =>`]=l,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$2(t)&&!isArray$1(t)&&!isPlainObject$2(t)?String(t):t,EMPTY_OBJ=Object.freeze({}),EMPTY_ARR=Object.freeze([]),NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=e=>onRE$1.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$3.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$2(e)&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function warn$1(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}else warn$1("cannot run an inactive effect scope.")}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope?activeEffectScope.cleanups.push(e):warn$1("onScopeDispose() is called when there is no active effect scope to be associated with.")}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const l=t[i];wasTracked(l)&&!newTracked(l)?l.delete(e):t[r++]=l,l.w&=~trackOpBit,l.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");class ReactiveEffect{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,i)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let i=targetMap.get(e);i||targetMap.set(e,i=new Map);let l=i.get(r);l||i.set(r,l=createDep()),trackEffects(l,{effect:activeEffect,target:e,type:t,key:r})}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e),activeEffect.onTrack&&activeEffect.onTrack(Object.assign({effect:activeEffect},t)))}function trigger(e,t,r,i,l,a){const c=targetMap.get(e);if(!c)return;let d=[];if(t==="clear")d=[...c.values()];else if(r==="length"&&isArray$1(e)){const v=Number(i);c.forEach((C,f)=>{(f==="length"||f>=v)&&d.push(C)})}else switch(r!==void 0&&d.push(c.get(r)),t){case"add":isArray$1(e)?isIntegerKey(r)&&d.push(c.get("length")):(d.push(c.get(ITERATE_KEY)),isMap(e)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(d.push(c.get(ITERATE_KEY)),isMap(e)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&d.push(c.get(ITERATE_KEY));break}const D={target:e,type:t,key:r,newValue:i,oldValue:l,oldTarget:a};if(d.length===1)d[0]&&triggerEffects(d[0],D);else{const v=[];for(const C of d)C&&v.push(...C);triggerEffects(createDep(v),D)}}function triggerEffects(e,t){const r=isArray$1(e)?e:[...e];for(const i of r)i.computed&&triggerEffect(i,t);for(const i of r)i.computed||triggerEffect(i,t)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(extend$1({effect:e},t)),e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,t){var r;return(r=targetMap.get(e))===null||r===void 0?void 0:r.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=toRaw(this);for(let a=0,c=this.length;a<c;a++)track(i,"get",a+"");const l=i[t](...r);return l===-1||l===!1?i[t](...r.map(toRaw)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const i=toRaw(this)[t].apply(this,r);return resetTracking(),i}}),e}function hasOwnProperty$2(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(i,l,a){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return t;if(l==="__v_raw"&&a===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(i))return i;const c=isArray$1(i);if(!e){if(c&&hasOwn(arrayInstrumentations,l))return Reflect.get(arrayInstrumentations,l,a);if(l==="hasOwnProperty")return hasOwnProperty$2}const d=Reflect.get(i,l,a);return(isSymbol(l)?builtInSymbols.has(l):isNonTrackableKeys(l))||(e||track(i,"get",l),t)?d:isRef(d)?c&&isIntegerKey(l)?d:d.value:isObject$2(d)?e?readonly(d):reactive(d):d}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,i,l,a){let c=r[i];if(isReadonly(c)&&isRef(c)&&!isRef(l))return!1;if(!e&&(!isShallow$1(l)&&!isReadonly(l)&&(c=toRaw(c),l=toRaw(l)),!isArray$1(r)&&isRef(c)&&!isRef(l)))return c.value=l,!0;const d=isArray$1(r)&&isIntegerKey(i)?Number(i)<r.length:hasOwn(r,i),D=Reflect.set(r,i,l,a);return r===toRaw(a)&&(d?hasChanged(l,c)&&trigger(r,"set",i,l,c):trigger(r,"add",i,l)),D}}function deleteProperty(e,t){const r=hasOwn(e,t),i=e[t],l=Reflect.deleteProperty(e,t);return l&&r&&trigger(e,"delete",t,void 0,i),l}function has$1(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return warn$1(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return warn$1(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$1({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,r=!1,i=!1){e=e.__v_raw;const l=toRaw(e),a=toRaw(t);r||(t!==a&&track(l,"get",t),track(l,"get",a));const{has:c}=getProto(l),d=i?toShallow:r?toReadonly:toReactive;if(c.call(l,t))return d(e.get(t));if(c.call(l,a))return d(e.get(a));e!==l&&e.get(t)}function has(e,t=!1){const r=this.__v_raw,i=toRaw(r),l=toRaw(e);return t||(e!==l&&track(i,"has",e),track(i,"has",l)),e===l?r.has(e):r.has(e)||r.has(l)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$2(e,t){t=toRaw(t);const r=toRaw(this),{has:i,get:l}=getProto(r);let a=i.call(r,e);a?checkIdentityKeys(r,i,e):(e=toRaw(e),a=i.call(r,e));const c=l.call(r,e);return r.set(e,t),a?hasChanged(t,c)&&trigger(r,"set",e,t,c):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:i}=getProto(t);let l=r.call(t,e);l?checkIdentityKeys(t,r,e):(e=toRaw(e),l=r.call(t,e));const a=i?i.call(t,e):void 0,c=t.delete(e);return l&&trigger(t,"delete",e,void 0,a),c}function clear(){const e=toRaw(this),t=e.size!==0,r=isMap(e)?new Map(e):new Set(e),i=e.clear();return t&&trigger(e,"clear",void 0,void 0,r),i}function createForEach(e,t){return function(i,l){const a=this,c=a.__v_raw,d=toRaw(c),D=t?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",ITERATE_KEY),c.forEach((v,C)=>i.call(l,D(v),D(C),a))}}function createIterableMethod(e,t,r){return function(...i){const l=this.__v_raw,a=toRaw(l),c=isMap(a),d=e==="entries"||e===Symbol.iterator&&c,D=e==="keys"&&c,v=l[e](...i),C=r?toShallow:t?toReadonly:toReactive;return!t&&track(a,"iterate",D?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:f,done:w}=v.next();return w?{value:f,done:w}:{value:d?[C(f[0]),C(f[1])]:C(f),done:w}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${capitalize(e)} operation ${r}failed: target is readonly.`,toRaw(this))}return e==="delete"?!1:this}}function createInstrumentations(){const e={get(a){return get(this,a)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(a){return get(this,a,!1,!0)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(a){return get(this,a,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(a){return get(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=createIterableMethod(a,!1,!1),r[a]=createIterableMethod(a,!0,!1),t[a]=createIterableMethod(a,!1,!0),i[a]=createIterableMethod(a,!0,!0)}),[e,r,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(i,l,a)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?i:Reflect.get(hasOwn(r,l)&&l in i?r:i,l,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)};function checkIdentityKeys(e,t,r){const i=toRaw(r);if(i!==r&&t.call(e,i)){const l=toRawType(e);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,r,i,l){if(!isObject$2(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=l.get(e);if(a)return a;const c=getTargetType(e);if(c===0)return e;const d=new Proxy(e,c===2?i:r);return l.set(e,d),d}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow$1(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep()),{target:e,type:"get",key:"value"}))}function triggerRefValue(e,t){e=toRaw(e);const r=e.dep;r&&triggerEffects(r,{target:e,type:"set",key:"value",newValue:t})}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow$1(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this,t))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const l=e[t];return isRef(l)&&!isRef(r)?(l.value=r,!0):Reflect.set(e,t,r,i)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=t(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){isProxy(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=isArray$1(e)?new Array(e.length):{};for(const r in e)t[r]=toRef(e,r);return t}class ObjectRefImpl{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(e,t,r){const i=e[t];return isRef(i)?i:new ObjectRefImpl(e,t,r)}var _a$1;class ComputedRefImpl{constructor(t,r,i,l){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=i}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,r=!1){let i,l;const a=isFunction$2(e);a?(i=e,l=()=>{console.warn("Write operation failed: computed value is readonly")}):(i=e.get,l=e.set);const c=new ComputedRefImpl(i,l,a||!l,r);return t&&!r&&(c.effect.onTrack=t.onTrack,c.effect.onTrigger=t.onTrigger),c}const stack=[];function pushWarningContext(e){stack.push(e)}function popWarningContext(){stack.pop()}function warn(e,...t){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,i=r&&r.appContext.config.warnHandler,l=getComponentTrace();if(i)callWithErrorHandling(i,r,11,[e+t.join(""),r&&r.proxy,l.map(({vnode:a})=>`at <${formatComponentName$1(r,a.type)}>`).join(`
`),l]);else{const a=[`[Vue warn]: ${e}`,...t];l.length&&a.push(`
`,...formatTrace(l)),console.warn(...a)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,i)=>{t.push(...i===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,l=` at <${formatComponentName$1(e.component,e.type,i)}`,a=">"+r;return e.props?[l,...formatProps(e.props),a]:[l+a]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(i=>{t.push(...formatProp(i,e[i]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString$2(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function assertNumber(e,t){e!==void 0&&(typeof e!="number"?warn(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&warn(`${t} is NaN - the duration expression might be incorrect.`))}const ErrorTypeStrings={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function callWithErrorHandling(e,t,r,i){let l;try{l=i?e(...i):e()}catch(a){handleError(a,t,r)}return l}function callWithAsyncErrorHandling(e,t,r,i){if(isFunction$2(e)){const a=callWithErrorHandling(e,t,r,i);return a&&isPromise$1(a)&&a.catch(c=>{handleError(c,t,r)}),a}const l=[];for(let a=0;a<e.length;a++)l.push(callWithAsyncErrorHandling(e[a],t,r,i));return l}function handleError(e,t,r,i=!0){const l=t?t.vnode:null;if(t){let a=t.parent;const c=t.proxy,d=ErrorTypeStrings[r];for(;a;){const v=a.ec;if(v){for(let C=0;C<v.length;C++)if(v[C](e,c,d)===!1)return}a=a.parent}const D=t.appContext.config.errorHandler;if(D){callWithErrorHandling(D,null,10,[e,c,d]);return}}logError(e,r,l,i)}function logError(e,t,r,i=!0){{const l=ErrorTypeStrings[t];if(r&&pushWarningContext(r),warn(`Unhandled error${l?` during execution of ${l}`:""}`),r&&popWarningContext(),i)throw e;console.error(e)}}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;const RECURSION_LIMIT=100;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const i=t+r>>>1;getId(queue[i])<e?t=i+1:r=i}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(e=e||new Map;t<queue.length;t++){const r=queue[t];if(r&&r.pre){if(checkRecursiveUpdates(e,r))continue;queue.splice(t,1),t--,r()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,e=e||new Map,activePostFlushCbs.sort((r,i)=>getId(r)-getId(i)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)checkRecursiveUpdates(e,activePostFlushCbs[postFlushIndex])||activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,e=e||new Map,queue.sort(comparator);const t=r=>checkRecursiveUpdates(e,r);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];if(r&&r.active!==!1){if(t(r))continue;callWithErrorHandling(r,null,14)}}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(e),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function checkRecursiveUpdates(e,t){if(!e.has(t))e.set(t,1);else{const r=e.get(t);if(r>RECURSION_LIMIT){const i=t.ownerInstance,l=i&&getComponentName(i.type);return warn(`Maximum recursive updates exceeded${l?` in component <${l}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,r+1)}}let isHmrUpdating=!1;const hmrDirtyComponents=new Set;getGlobalThis().__VUE_HMR_RUNTIME__={createRecord:tryWrap(createRecord),rerender:tryWrap(rerender),reload:tryWrap(reload)};const map=new Map;function registerHMR(e){const t=e.type.__hmrId;let r=map.get(t);r||(createRecord(t,e.type),r=map.get(t)),r.instances.add(e)}function unregisterHMR(e){map.get(e.type.__hmrId).instances.delete(e)}function createRecord(e,t){return map.has(e)?!1:(map.set(e,{initialDef:normalizeClassComponent(t),instances:new Set}),!0)}function normalizeClassComponent(e){return isClassComponent(e)?e.__vccOpts:e}function rerender(e,t){const r=map.get(e);!r||(r.initialDef.render=t,[...r.instances].forEach(i=>{t&&(i.render=t,normalizeClassComponent(i.type).render=t),i.renderCache=[],isHmrUpdating=!0,i.update(),isHmrUpdating=!1}))}function reload(e,t){const r=map.get(e);if(!r)return;t=normalizeClassComponent(t),updateComponentDef(r.initialDef,t);const i=[...r.instances];for(const l of i){const a=normalizeClassComponent(l.type);hmrDirtyComponents.has(a)||(a!==r.initialDef&&updateComponentDef(a,t),hmrDirtyComponents.add(a)),l.appContext.optionsCache.delete(l.type),l.ceReload?(hmrDirtyComponents.add(a),l.ceReload(t.styles),hmrDirtyComponents.delete(a)):l.parent?queueJob(l.parent.update):l.appContext.reload?l.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}queuePostFlushCb(()=>{for(const l of i)hmrDirtyComponents.delete(normalizeClassComponent(l.type))})}function updateComponentDef(e,t){extend$1(e,t);for(const r in e)r!=="__file"&&!(r in t)&&delete e[r]}function tryWrap(e){return(t,r)=>{try{return e(t,r)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let devtools,buffer=[],devtoolsNotInstalled=!1;function emit$1(e,...t){devtools?devtools.emit(e,...t):devtoolsNotInstalled||buffer.push({event:e,args:t})}function setDevtoolsHook(e,t){var r,i;devtools=e,devtools?(devtools.enabled=!0,buffer.forEach(({event:l,args:a})=>devtools.emit(l,...a)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{setDevtoolsHook(a,t)}),setTimeout(()=>{devtools||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,devtoolsNotInstalled=!0,buffer=[])},3e3)):(devtoolsNotInstalled=!0,buffer=[])}function devtoolsInitApp(e,t){emit$1("app:init",e,t,{Fragment,Text,Comment,Static})}function devtoolsUnmountApp(e){emit$1("app:unmount",e)}const devtoolsComponentAdded=createDevtoolsComponentHook("component:added"),devtoolsComponentUpdated=createDevtoolsComponentHook("component:updated"),_devtoolsComponentRemoved=createDevtoolsComponentHook("component:removed"),devtoolsComponentRemoved=e=>{devtools&&typeof devtools.cleanupBuffer=="function"&&!devtools.cleanupBuffer(e)&&_devtoolsComponentRemoved(e)};function createDevtoolsComponentHook(e){return t=>{emit$1(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const devtoolsPerfStart=createDevtoolsPerformanceHook("perf:start"),devtoolsPerfEnd=createDevtoolsPerformanceHook("perf:end");function createDevtoolsPerformanceHook(e){return(t,r,i)=>{emit$1(e,t.appContext.app,t.uid,t,r,i)}}function devtoolsComponentEmit(e,t,r){emit$1("component:emit",e.appContext.app,e,t,r)}function emit(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||EMPTY_OBJ;{const{emitsOptions:C,propsOptions:[f]}=e;if(C)if(!(t in C))(!f||!(toHandlerKey(t)in f))&&warn(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${toHandlerKey(t)}" prop.`);else{const w=C[t];isFunction$2(w)&&(w(...r)||warn(`Invalid event arguments: event validation failed for event "${t}".`))}}let l=r;const a=t.startsWith("update:"),c=a&&t.slice(7);if(c&&c in i){const C=`${c==="modelValue"?"model":c}Modifiers`,{number:f,trim:w}=i[C]||EMPTY_OBJ;w&&(l=r.map(F=>isString$2(F)?F.trim():F)),f&&(l=r.map(looseToNumber))}devtoolsComponentEmit(e,t,l);{const C=t.toLowerCase();C!==t&&i[toHandlerKey(C)]&&warn(`Event "${C}" is emitted in component ${formatComponentName$1(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hyphenate(t)}" instead of "${t}".`)}let d,D=i[d=toHandlerKey(t)]||i[d=toHandlerKey(camelize(t))];!D&&a&&(D=i[d=toHandlerKey(hyphenate(t))]),D&&callWithAsyncErrorHandling(D,e,6,l);const v=i[d+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,callWithAsyncErrorHandling(v,e,6,l)}}function normalizeEmitsOptions(e,t,r=!1){const i=t.emitsCache,l=i.get(e);if(l!==void 0)return l;const a=e.emits;let c={},d=!1;if(!isFunction$2(e)){const D=v=>{const C=normalizeEmitsOptions(v,t,!0);C&&(d=!0,extend$1(c,C))};!r&&t.mixins.length&&t.mixins.forEach(D),e.extends&&D(e.extends),e.mixins&&e.mixins.forEach(D)}return!a&&!d?(isObject$2(e)&&i.set(e,null),null):(isArray$1(a)?a.forEach(D=>c[D]=null):extend$1(c,a),isObject$2(e)&&i.set(e,c),c)}function isEmitListener(e,t){return!e||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const i=(...l)=>{i._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(t);let c;try{c=e(...l)}finally{setCurrentRenderingInstance(a),i._d&&setBlockTracking(1)}return devtoolsComponentUpdated(t),c};return i._n=!0,i._c=!0,i._d=!0,i}let accessedAttrs=!1;function markAttrsAccessed(){accessedAttrs=!0}function renderComponentRoot(e){const{type:t,vnode:r,proxy:i,withProxy:l,props:a,propsOptions:[c],slots:d,attrs:D,emit:v,render:C,renderCache:f,data:w,setupState:F,ctx:T,inheritAttrs:R}=e;let ee,re;const ae=setCurrentRenderingInstance(e);accessedAttrs=!1;try{if(r.shapeFlag&4){const de=l||i;ee=normalizeVNode(C.call(de,de,f,a,F,w,T)),re=D}else{const de=t;D===a&&markAttrsAccessed(),ee=normalizeVNode(de.length>1?de(a,{get attrs(){return markAttrsAccessed(),D},slots:d,emit:v}):de(a,null)),re=t.props?D:getFunctionalFallthrough(D)}}catch(de){blockStack.length=0,handleError(de,e,1),ee=createVNode(Comment)}let ce=ee,ue;if(ee.patchFlag>0&&ee.patchFlag&2048&&([ce,ue]=getChildRoot(ee)),re&&R!==!1){const de=Object.keys(re),{shapeFlag:A}=ce;if(de.length){if(A&7)c&&de.some(isModelListener)&&(re=filterModelListeners(re,c)),ce=cloneVNode(ce,re);else if(!accessedAttrs&&ce.type!==Comment){const oe=Object.keys(D),le=[],ie=[];for(let I=0,j=oe.length;I<j;I++){const pe=oe[I];isOn$1(pe)?isModelListener(pe)||le.push(pe[2].toLowerCase()+pe.slice(3)):ie.push(pe)}ie.length&&warn(`Extraneous non-props attributes (${ie.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),le.length&&warn(`Extraneous non-emits event listeners (${le.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return r.dirs&&(isElementRoot(ce)||warn("Runtime directive used on component with non-element root node. The directives will not function as intended."),ce=cloneVNode(ce),ce.dirs=ce.dirs?ce.dirs.concat(r.dirs):r.dirs),r.transition&&(isElementRoot(ce)||warn("Component inside <Transition> renders non-element root node that cannot be animated."),ce.transition=r.transition),ue?ue(ce):ee=ce,setCurrentRenderingInstance(ae),ee}const getChildRoot=e=>{const t=e.children,r=e.dynamicChildren,i=filterSingleRoot(t);if(!i)return[e,void 0];const l=t.indexOf(i),a=r?r.indexOf(i):-1,c=d=>{t[l]=d,r&&(a>-1?r[a]=d:d.patchFlag>0&&(e.dynamicChildren=[...r,d]))};return[normalizeVNode(i),c]};function filterSingleRoot(e){let t;for(let r=0;r<e.length;r++){const i=e[r];if(isVNode(i)){if(i.type!==Comment||i.children==="v-if"){if(t)return;t=i}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn$1(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const i in e)(!isModelListener(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r},isElementRoot=e=>e.shapeFlag&7||e.type===Comment;function shouldUpdateComponent(e,t,r){const{props:i,children:l,component:a}=e,{props:c,children:d,patchFlag:D}=t,v=a.emitsOptions;if((l||d)&&isHmrUpdating||t.dirs||t.transition)return!0;if(r&&D>=0){if(D&1024)return!0;if(D&16)return i?hasPropsChanged(i,c,v):!!c;if(D&8){const C=t.dynamicProps;for(let f=0;f<C.length;f++){const w=C[f];if(c[w]!==i[w]&&!isEmitListener(v,w))return!0}}}else return(l||d)&&(!d||!d.$stable)?!0:i===c?!1:i?c?hasPropsChanged(i,c,v):!0:!!c;return!1}function hasPropsChanged(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let l=0;l<i.length;l++){const a=i[l];if(t[a]!==e[a]&&!isEmitListener(r,a))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,r,i,l,a,c,d,D,v){e==null?mountSuspense(t,r,i,l,a,c,d,D,v):patchSuspense(e,t,r,i,l,c,d,D,v)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const r=e.props&&e.props[t];isFunction$2(r)&&r()}function mountSuspense(e,t,r,i,l,a,c,d,D){const{p:v,o:{createElement:C}}=D,f=C("div"),w=e.suspense=createSuspenseBoundary(e,l,i,t,f,r,a,c,d,D);v(null,w.pendingBranch=e.ssContent,f,null,i,w,a,c),w.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),v(null,e.ssFallback,t,r,i,null,a,c),setActiveBranch(w,e.ssFallback)):w.resolve()}function patchSuspense(e,t,r,i,l,a,c,d,{p:D,um:v,o:{createElement:C}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const w=t.ssContent,F=t.ssFallback,{activeBranch:T,pendingBranch:R,isInFallback:ee,isHydrating:re}=f;if(R)f.pendingBranch=w,isSameVNodeType(w,R)?(D(R,w,f.hiddenContainer,null,l,f,a,c,d),f.deps<=0?f.resolve():ee&&(D(T,F,r,i,l,null,a,c,d),setActiveBranch(f,F))):(f.pendingId++,re?(f.isHydrating=!1,f.activeBranch=R):v(R,l,f),f.deps=0,f.effects.length=0,f.hiddenContainer=C("div"),ee?(D(null,w,f.hiddenContainer,null,l,f,a,c,d),f.deps<=0?f.resolve():(D(T,F,r,i,l,null,a,c,d),setActiveBranch(f,F))):T&&isSameVNodeType(w,T)?(D(T,w,r,i,l,f,a,c,d),f.resolve(!0)):(D(null,w,f.hiddenContainer,null,l,f,a,c,d),f.deps<=0&&f.resolve()));else if(T&&isSameVNodeType(w,T))D(T,w,r,i,l,f,a,c,d),setActiveBranch(f,w);else if(triggerEvent(t,"onPending"),f.pendingBranch=w,f.pendingId++,D(null,w,f.hiddenContainer,null,l,f,a,c,d),f.deps<=0)f.resolve();else{const{timeout:ae,pendingId:ce}=f;ae>0?setTimeout(()=>{f.pendingId===ce&&f.fallback(F)},ae):ae===0&&f.fallback(F)}}let hasWarned=!1;function createSuspenseBoundary(e,t,r,i,l,a,c,d,D,v,C=!1){hasWarned||(hasWarned=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:w,um:F,n:T,o:{parentNode:R,remove:ee}}=v,re=e.props?toNumber(e.props.timeout):void 0;assertNumber(re,"Suspense timeout");const ae={vnode:e,parent:t,parentComponent:r,isSVG:c,container:i,hiddenContainer:l,anchor:a,deps:0,pendingId:0,timeout:typeof re=="number"?re:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:C,isUnmounted:!1,effects:[],resolve(ce=!1){{if(!ce&&!ae.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(ae.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:ue,activeBranch:de,pendingBranch:A,pendingId:oe,effects:le,parentComponent:ie,container:I}=ae;if(ae.isHydrating)ae.isHydrating=!1;else if(!ce){const be=de&&A.transition&&A.transition.mode==="out-in";be&&(de.transition.afterLeave=()=>{oe===ae.pendingId&&w(A,I,De,0)});let{anchor:De}=ae;de&&(De=T(de),F(de,ie,ae,!0)),be||w(A,I,De,0)}setActiveBranch(ae,A),ae.pendingBranch=null,ae.isInFallback=!1;let j=ae.parent,pe=!1;for(;j;){if(j.pendingBranch){j.effects.push(...le),pe=!0;break}j=j.parent}pe||queuePostFlushCb(le),ae.effects=[],triggerEvent(ue,"onResolve")},fallback(ce){if(!ae.pendingBranch)return;const{vnode:ue,activeBranch:de,parentComponent:A,container:oe,isSVG:le}=ae;triggerEvent(ue,"onFallback");const ie=T(de),I=()=>{!ae.isInFallback||(f(null,ce,oe,ie,A,null,le,d,D),setActiveBranch(ae,ce))},j=ce.transition&&ce.transition.mode==="out-in";j&&(de.transition.afterLeave=I),ae.isInFallback=!0,F(de,A,null,!0),j||I()},move(ce,ue,de){ae.activeBranch&&w(ae.activeBranch,ce,ue,de),ae.container=ce},next(){return ae.activeBranch&&T(ae.activeBranch)},registerDep(ce,ue){const de=!!ae.pendingBranch;de&&ae.deps++;const A=ce.vnode.el;ce.asyncDep.catch(oe=>{handleError(oe,ce,0)}).then(oe=>{if(ce.isUnmounted||ae.isUnmounted||ae.pendingId!==ce.suspenseId)return;ce.asyncResolved=!0;const{vnode:le}=ce;pushWarningContext(le),handleSetupResult(ce,oe,!1),A&&(le.el=A);const ie=!A&&ce.subTree.el;ue(ce,le,R(A||ce.subTree.el),A?null:T(ce.subTree),ae,c,D),ie&&ee(ie),updateHOCHostEl(ce,le.el),popWarningContext(),de&&--ae.deps===0&&ae.resolve()})},unmount(ce,ue){ae.isUnmounted=!0,ae.activeBranch&&F(ae.activeBranch,r,ce,ue),ae.pendingBranch&&F(ae.pendingBranch,r,ce,ue)}};return ae}function hydrateSuspense(e,t,r,i,l,a,c,d,D){const v=t.suspense=createSuspenseBoundary(t,i,r,e.parentNode,document.createElement("div"),null,l,a,c,d,!0),C=D(e,v.pendingBranch=t.ssContent,r,v,a,c);return v.deps===0&&v.resolve(),C}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=normalizeSuspenseSlot(i?r.default:r),e.ssFallback=i?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction$2(e)){const r=isBlockTreeEnabled&&e._c;r&&(e._d=!1,openBlock()),e=e(),r&&(e._d=!0,t=currentBlock,closeBlock())}if(isArray$1(e)){const r=filterSingleRoot(e);r||warn("<Suspense> slots expect a single root node."),e=r}return e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e,l=r.el=t.el;i&&i.subTree===r&&(i.vnode.el=l,updateHOCHostEl(i,l))}function provide(e,t){if(!currentInstance)warn("provide() can only be used inside setup().");else{let r=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===r&&(r=currentInstance.provides=Object.create(i)),r[e]=t}}function inject$1(e,t,r=!1){const i=currentInstance||currentRenderingInstance;if(i){const l=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(l&&e in l)return l[e];if(arguments.length>1)return r&&isFunction$2(t)?t.call(i.proxy):t;warn(`injection "${String(e)}" not found.`)}else warn("inject() can only be used inside setup() or functional components.")}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return isFunction$2(t)||warn("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:i,flush:l,onTrack:a,onTrigger:c}=EMPTY_OBJ){t||(r!==void 0&&warn('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&warn('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const d=ue=>{warn("Invalid watch source: ",ue,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},D=getCurrentScope()===currentInstance?.scope?currentInstance:null;let v,C=!1,f=!1;if(isRef(e)?(v=()=>e.value,C=isShallow$1(e)):isReactive(e)?(v=()=>e,i=!0):isArray$1(e)?(f=!0,C=e.some(ue=>isReactive(ue)||isShallow$1(ue)),v=()=>e.map(ue=>{if(isRef(ue))return ue.value;if(isReactive(ue))return traverse(ue);if(isFunction$2(ue))return callWithErrorHandling(ue,D,2);d(ue)})):isFunction$2(e)?t?v=()=>callWithErrorHandling(e,D,2):v=()=>{if(!(D&&D.isUnmounted))return w&&w(),callWithAsyncErrorHandling(e,D,3,[F])}:(v=NOOP,d(e)),t&&i){const ue=v;v=()=>traverse(ue())}let w,F=ue=>{w=ae.onStop=()=>{callWithErrorHandling(ue,D,4)}},T;if(isInSSRComponentSetup)if(F=NOOP,t?r&&callWithAsyncErrorHandling(t,D,3,[v(),f?[]:void 0,F]):v(),l==="sync"){const ue=useSSRContext();T=ue.__watcherHandles||(ue.__watcherHandles=[])}else return NOOP;let R=f?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const ee=()=>{if(!!ae.active)if(t){const ue=ae.run();(i||C||(f?ue.some((de,A)=>hasChanged(de,R[A])):hasChanged(ue,R)))&&(w&&w(),callWithAsyncErrorHandling(t,D,3,[ue,R===INITIAL_WATCHER_VALUE?void 0:f&&R[0]===INITIAL_WATCHER_VALUE?[]:R,F]),R=ue)}else ae.run()};ee.allowRecurse=!!t;let re;l==="sync"?re=ee:l==="post"?re=()=>queuePostRenderEffect(ee,D&&D.suspense):(ee.pre=!0,D&&(ee.id=D.uid),re=()=>queueJob(ee));const ae=new ReactiveEffect(v,re);ae.onTrack=a,ae.onTrigger=c,t?r?ee():R=ae.run():l==="post"?queuePostRenderEffect(ae.run.bind(ae),D&&D.suspense):ae.run();const ce=()=>{ae.stop(),D&&D.scope&&remove(D.scope.effects,ae)};return T&&T.push(ce),ce}function instanceWatch(e,t,r){const i=this.proxy,l=isString$2(e)?e.includes(".")?createPathGetter(i,e):()=>i[e]:e.bind(i,i);let a;isFunction$2(t)?a=t:(a=t.handler,r=t);const c=currentInstance;setCurrentInstance(this);const d=doWatch(l,a.bind(i),r);return c?setCurrentInstance(c):unsetCurrentInstance(),d}function createPathGetter(e,t){const r=t.split(".");return()=>{let i=e;for(let l=0;l<r.length&&i;l++)i=i[r[l]];return i}}function traverse(e,t){if(!isObject$2(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject$2(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance$1(),i=useTransitionState();let l;return()=>{const a=t.default&&getTransitionRawChildren(t.default(),!0);if(!a||!a.length)return;let c=a[0];if(a.length>1){let R=!1;for(const ee of a)if(ee.type!==Comment){if(R){warn("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}c=ee,R=!0}}const d=toRaw(e),{mode:D}=d;if(D&&D!=="in-out"&&D!=="out-in"&&D!=="default"&&warn(`invalid <transition> mode: ${D}`),i.isLeaving)return emptyPlaceholder(c);const v=getKeepAliveChild(c);if(!v)return emptyPlaceholder(c);const C=resolveTransitionHooks(v,d,i,r);setTransitionHooks(v,C);const f=r.subTree,w=f&&getKeepAliveChild(f);let F=!1;const{getTransitionKey:T}=v.type;if(T){const R=T();l===void 0?l=R:R!==l&&(l=R,F=!0)}if(w&&w.type!==Comment&&(!isSameVNodeType(v,w)||F)){const R=resolveTransitionHooks(w,d,i,r);if(setTransitionHooks(w,R),D==="out-in")return i.isLeaving=!0,R.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(c);D==="in-out"&&v.type!==Comment&&(R.delayLeave=(ee,re,ae)=>{const ce=getLeavingNodesForType(i,w);ce[String(w.key)]=w,ee._leaveCb=()=>{re(),ee._leaveCb=void 0,delete C.delayedLeave},C.delayedLeave=ae})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function resolveTransitionHooks(e,t,r,i){const{appear:l,mode:a,persisted:c=!1,onBeforeEnter:d,onEnter:D,onAfterEnter:v,onEnterCancelled:C,onBeforeLeave:f,onLeave:w,onAfterLeave:F,onLeaveCancelled:T,onBeforeAppear:R,onAppear:ee,onAfterAppear:re,onAppearCancelled:ae}=t,ce=String(e.key),ue=getLeavingNodesForType(r,e),de=(le,ie)=>{le&&callWithAsyncErrorHandling(le,i,9,ie)},A=(le,ie)=>{const I=ie[1];de(le,ie),isArray$1(le)?le.every(j=>j.length<=1)&&I():le.length<=1&&I()},oe={mode:a,persisted:c,beforeEnter(le){let ie=d;if(!r.isMounted)if(l)ie=R||d;else return;le._leaveCb&&le._leaveCb(!0);const I=ue[ce];I&&isSameVNodeType(e,I)&&I.el._leaveCb&&I.el._leaveCb(),de(ie,[le])},enter(le){let ie=D,I=v,j=C;if(!r.isMounted)if(l)ie=ee||D,I=re||v,j=ae||C;else return;let pe=!1;const be=le._enterCb=De=>{pe||(pe=!0,De?de(j,[le]):de(I,[le]),oe.delayedLeave&&oe.delayedLeave(),le._enterCb=void 0)};ie?A(ie,[le,be]):be()},leave(le,ie){const I=String(e.key);if(le._enterCb&&le._enterCb(!0),r.isUnmounting)return ie();de(f,[le]);let j=!1;const pe=le._leaveCb=be=>{j||(j=!0,ie(),be?de(T,[le]):de(F,[le]),le._leaveCb=void 0,ue[I]===e&&delete ue[I])};ue[I]=e,w?A(w,[le,pe]):pe()},clone(le){return resolveTransitionHooks(le,t,r,i)}};return oe}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let i=[],l=0;for(let a=0;a<e.length;a++){let c=e[a];const d=r==null?c.key:String(r)+String(c.key!=null?c.key:a);c.type===Fragment?(c.patchFlag&128&&l++,i=i.concat(getTransitionRawChildren(c.children,t,d))):(t||c.type!==Comment)&&i.push(d!=null?cloneVNode(c,{key:d}):c)}if(l>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}function defineComponent$1(e){return isFunction$2(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader;function defineAsyncComponent(e){isFunction$2(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:l=200,timeout:a,suspensible:c=!0,onError:d}=e;let D=null,v,C=0;const f=()=>(C++,D=null,w()),w=()=>{let F;return D||(F=D=t().catch(T=>{if(T=T instanceof Error?T:new Error(String(T)),d)return new Promise((R,ee)=>{d(T,()=>R(f()),()=>ee(T),C+1)});throw T}).then(T=>{if(F!==D&&D)return D;if(T||warn("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),T&&(T.__esModule||T[Symbol.toStringTag]==="Module")&&(T=T.default),T&&!isObject$2(T)&&!isFunction$2(T))throw new Error(`Invalid async component load result: ${T}`);return v=T,T}))};return defineComponent$1({name:"AsyncComponentWrapper",__asyncLoader:w,get __asyncResolved(){return v},setup(){const F=currentInstance;if(v)return()=>createInnerComp(v,F);const T=ae=>{D=null,handleError(ae,F,13,!i)};if(c&&F.suspense||isInSSRComponentSetup)return w().then(ae=>()=>createInnerComp(ae,F)).catch(ae=>(T(ae),()=>i?createVNode(i,{error:ae}):null));const R=ref(!1),ee=ref(),re=ref(!!l);return l&&setTimeout(()=>{re.value=!1},l),a!=null&&setTimeout(()=>{if(!R.value&&!ee.value){const ae=new Error(`Async component timed out after ${a}ms.`);T(ae),ee.value=ae}},a),w().then(()=>{R.value=!0,F.parent&&isKeepAlive(F.parent.vnode)&&queueJob(F.parent.update)}).catch(ae=>{T(ae),ee.value=ae}),()=>{if(R.value&&v)return createInnerComp(v,F);if(ee.value&&i)return createVNode(i,{error:ee.value});if(r&&!re.value)return createVNode(r)}}})}function createInnerComp(e,t){const{ref:r,props:i,children:l,ce:a}=t.vnode,c=createVNode(e,i,l);return c.ref=r,c.ce=a,delete t.vnode.ce,c}const isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const i=e.__wdc||(e.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(injectHook(t,i,r),r){let l=r.parent;for(;l&&l.parent;)isKeepAlive(l.parent.vnode)&&injectToKeepAliveRoot(i,t,r,l),l=l.parent}}function injectToKeepAliveRoot(e,t,r,i){const l=injectHook(t,e,i,!0);onUnmounted(()=>{remove(i[t],l)},r)}function injectHook(e,t,r=currentInstance,i=!1){if(r){const l=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...c)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const d=callWithAsyncErrorHandling(t,r,e,c);return unsetCurrentInstance(),resetTracking(),d});return i?l.unshift(a):l.push(a),a}else{const l=toHandlerKey(ErrorTypeStrings[e].replace(/ hook$/,""));warn(`${l} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...i)=>t(...i),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function validateDirectiveName(e){isBuiltInDirective(e)&&warn("Do not use built-in directive ids as custom directive id: "+e)}function withDirectives(e,t){const r=currentRenderingInstance;if(r===null)return warn("withDirectives can only be used inside render functions."),e;const i=getExposeProxy(r)||r.proxy,l=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[c,d,D,v=EMPTY_OBJ]=t[a];c&&(isFunction$2(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(d),l.push({dir:c,instance:i,value:d,oldValue:void 0,arg:D,modifiers:v}))}return e}function invokeDirectiveHook(e,t,r,i){const l=e.dirs,a=t&&t.dirs;for(let c=0;c<l.length;c++){const d=l[c];a&&(d.oldValue=a[c].value);let D=d.dir[i];D&&(pauseTracking(),callWithAsyncErrorHandling(D,r,8,[e.el,d,e,t]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$2(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,i=!1){const l=currentRenderingInstance||currentInstance;if(l){const a=l.type;if(e===COMPONENTS){const d=getComponentName(a,!1);if(d&&(d===t||d===camelize(t)||d===capitalize(camelize(t))))return a}const c=resolve(l[e]||a[e],t)||resolve(l.appContext[e],t);if(!c&&i)return a;if(r&&!c){const d=e===COMPONENTS?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";warn(`Failed to resolve ${e.slice(0,-1)}: ${t}${d}`)}return c}else warn(`resolve${capitalize(e.slice(0,-1))} can only be used in render() or setup().`)}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,r,i){let l;const a=r&&r[i];if(isArray$1(e)||isString$2(e)){l=new Array(e.length);for(let c=0,d=e.length;c<d;c++)l[c]=t(e[c],c,void 0,a&&a[c])}else if(typeof e=="number"){Number.isInteger(e)||warn(`The v-for range expect an integer value but got ${e}.`),l=new Array(e);for(let c=0;c<e;c++)l[c]=t(c+1,c,void 0,a&&a[c])}else if(isObject$2(e))if(e[Symbol.iterator])l=Array.from(e,(c,d)=>t(c,d,void 0,a&&a[d]));else{const c=Object.keys(e);l=new Array(c.length);for(let d=0,D=c.length;d<D;d++){const v=c[d];l[d]=t(e[v],v,d,a&&a[d])}}else l=[];return r&&(r[i]=l),l}function renderSlot(e,t,r={},i,l){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(r.name=t),createVNode("slot",r,i&&i());let a=e[t];a&&a.length>1&&(warn("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),a=()=>[]),a&&a._c&&(a._d=!1),openBlock();const c=a&&ensureValidVNode(a(r)),d=createBlock(Fragment,{key:r.key||c&&c.key||`_${t}`},c||(i?i():[]),c&&e._===1?64:-2);return!l&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),a&&a._c&&(a._d=!0),d}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e,t){const r={};if(!isObject$2(e))return warn("v-on with no argument expects an object value."),r;for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:toHandlerKey(i)]=e[i];return r}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>shallowReadonly(e.props),$attrs:e=>shallowReadonly(e.attrs),$slots:e=>shallowReadonly(e.slots),$refs:e=>shallowReadonly(e.refs),$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),isReservedPrefix=e=>e==="_"||e==="$",hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:i,data:l,props:a,accessCache:c,type:d,appContext:D}=e;if(t==="__isVue")return!0;let v;if(t[0]!=="$"){const F=c[t];if(F!==void 0)switch(F){case 1:return i[t];case 2:return l[t];case 4:return r[t];case 3:return a[t]}else{if(hasSetupBinding(i,t))return c[t]=1,i[t];if(l!==EMPTY_OBJ&&hasOwn(l,t))return c[t]=2,l[t];if((v=e.propsOptions[0])&&hasOwn(v,t))return c[t]=3,a[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return c[t]=4,r[t];shouldCacheAccess&&(c[t]=0)}}const C=publicPropertiesMap[t];let f,w;if(C)return t==="$attrs"&&(track(e,"get",t),markAttrsAccessed()),C(e);if((f=d.__cssModules)&&(f=f[t]))return f;if(r!==EMPTY_OBJ&&hasOwn(r,t))return c[t]=4,r[t];if(w=D.config.globalProperties,hasOwn(w,t))return w[t];currentRenderingInstance&&(!isString$2(t)||t.indexOf("__v")!==0)&&(l!==EMPTY_OBJ&&isReservedPrefix(t[0])&&hasOwn(l,t)?warn(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===currentRenderingInstance&&warn(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,r){const{data:i,setupState:l,ctx:a}=e;return hasSetupBinding(l,t)?(l[t]=r,!0):l.__isScriptSetup&&hasOwn(l,t)?(warn(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):i!==EMPTY_OBJ&&hasOwn(i,t)?(i[t]=r,!0):hasOwn(e.props,t)?(warn(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(warn(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(a,t,{enumerable:!0,configurable:!0,value:r}):a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:l,propsOptions:a}},c){let d;return!!r[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(t,c)||(d=a[0])&&hasOwn(d,c)||hasOwn(i,c)||hasOwn(publicPropertiesMap,c)||hasOwn(l.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};PublicInstanceProxyHandlers.ownKeys=e=>(warn("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function createDevRenderContext(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(publicPropertiesMap).forEach(r=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:()=>publicPropertiesMap[r](e),set:NOOP})}),t}function exposePropsOnRenderContext(e){const{ctx:t,propsOptions:[r]}=e;r&&Object.keys(r).forEach(i=>{Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>e.props[i],set:NOOP})})}function exposeSetupStateOnRenderContext(e){const{ctx:t,setupState:r}=e;Object.keys(toRaw(r)).forEach(i=>{if(!r.__isScriptSetup){if(isReservedPrefix(i[0])){warn(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r[i],set:NOOP})}})}function createDuplicateChecker(){const e=Object.create(null);return(t,r)=>{e[r]?warn(`${t} property "${r}" is already defined in ${e[r]}.`):e[r]=t}}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,i=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:l,computed:a,methods:c,watch:d,provide:D,inject:v,created:C,beforeMount:f,mounted:w,beforeUpdate:F,updated:T,activated:R,deactivated:ee,beforeDestroy:re,beforeUnmount:ae,destroyed:ce,unmounted:ue,render:de,renderTracked:A,renderTriggered:oe,errorCaptured:le,serverPrefetch:ie,expose:I,inheritAttrs:j,components:pe,directives:be,filters:De}=t,Re=createDuplicateChecker();{const[Se]=e.propsOptions;if(Se)for(const Le in Se)Re("Props",Le)}if(v&&resolveInjections(v,i,Re,e.appContext.config.unwrapInjectedRef),c)for(const Se in c){const Le=c[Se];isFunction$2(Le)?(Object.defineProperty(i,Se,{value:Le.bind(r),configurable:!0,enumerable:!0,writable:!0}),Re("Methods",Se)):warn(`Method "${Se}" has type "${typeof Le}" in the component definition. Did you reference the function correctly?`)}if(l){isFunction$2(l)||warn("The data option must be a function. Plain object usage is no longer supported.");const Se=l.call(r,r);if(isPromise$1(Se)&&warn("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!isObject$2(Se))warn("data() should return an object.");else{e.data=reactive(Se);for(const Le in Se)Re("Data",Le),isReservedPrefix(Le[0])||Object.defineProperty(i,Le,{configurable:!0,enumerable:!0,get:()=>Se[Le],set:NOOP})}}if(shouldCacheAccess=!0,a)for(const Se in a){const Le=a[Se],Ie=isFunction$2(Le)?Le.bind(r,r):isFunction$2(Le.get)?Le.get.bind(r,r):NOOP;Ie===NOOP&&warn(`Computed property "${Se}" has no getter.`);const st=!isFunction$2(Le)&&isFunction$2(Le.set)?Le.set.bind(r):()=>{warn(`Write operation failed: computed property "${Se}" is readonly.`)},Ye=computed({get:Ie,set:st});Object.defineProperty(i,Se,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Ke=>Ye.value=Ke}),Re("Computed",Se)}if(d)for(const Se in d)createWatcher(d[Se],i,r,Se);if(D){const Se=isFunction$2(D)?D.call(r):D;Reflect.ownKeys(Se).forEach(Le=>{provide(Le,Se[Le])})}C&&callHook$1(C,e,"c");function Ee(Se,Le){isArray$1(Le)?Le.forEach(Ie=>Se(Ie.bind(r))):Le&&Se(Le.bind(r))}if(Ee(onBeforeMount,f),Ee(onMounted,w),Ee(onBeforeUpdate,F),Ee(onUpdated,T),Ee(onActivated,R),Ee(onDeactivated,ee),Ee(onErrorCaptured,le),Ee(onRenderTracked,A),Ee(onRenderTriggered,oe),Ee(onBeforeUnmount,ae),Ee(onUnmounted,ue),Ee(onServerPrefetch,ie),isArray$1(I))if(I.length){const Se=e.exposed||(e.exposed={});I.forEach(Le=>{Object.defineProperty(Se,Le,{get:()=>r[Le],set:Ie=>r[Le]=Ie})})}else e.exposed||(e.exposed={});de&&e.render===NOOP&&(e.render=de),j!=null&&(e.inheritAttrs=j),pe&&(e.components=pe),be&&(e.directives=be)}function resolveInjections(e,t,r=NOOP,i=!1){isArray$1(e)&&(e=normalizeInject(e));for(const l in e){const a=e[l];let c;isObject$2(a)?"default"in a?c=inject$1(a.from||l,a.default,!0):c=inject$1(a.from||l):c=inject$1(a),isRef(c)?i?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>c.value,set:d=>c.value=d}):(warn(`injected property "${l}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[l]=c):t[l]=c,r("Inject",l)}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray$1(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,i){const l=i.includes(".")?createPathGetter(r,i):()=>r[i];if(isString$2(e)){const a=t[e];isFunction$2(a)?watch(l,a):warn(`Invalid watch handler specified by key "${e}"`,a)}else if(isFunction$2(e))watch(l,e.bind(r));else if(isObject$2(e))if(isArray$1(e))e.forEach(a=>createWatcher(a,t,r,i));else{const a=isFunction$2(e.handler)?e.handler.bind(r):t[e.handler];isFunction$2(a)?watch(l,a,e):warn(`Invalid watch handler specified by key "${e.handler}"`,a)}else warn(`Invalid watch option: "${i}"`,e)}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:l,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,d=a.get(t);let D;return d?D=d:!l.length&&!r&&!i?D=t:(D={},l.length&&l.forEach(v=>mergeOptions(D,v,c,!0)),mergeOptions(D,t,c)),isObject$2(t)&&a.set(t,D),D}function mergeOptions(e,t,r,i=!1){const{mixins:l,extends:a}=t;a&&mergeOptions(e,a,r,!0),l&&l.forEach(c=>mergeOptions(e,c,r,!0));for(const c in t)if(i&&c==="expose")warn('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const d=internalOptionMergeStrats[c]||r&&r[c];e[c]=d?d(e[c],t[c]):t[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(extend$1(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend$1(Object.create(null),e);for(const i in t)r[i]=mergeAsArray(e[i],t[i]);return r}function initProps(e,t,r,i=!1){const l={},a={};def(a,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,l,a);for(const c in e.propsOptions[0])c in l||(l[c]=void 0);validateProps(t||{},l,e),r?e.props=i?l:shallowReactive(l):e.type.props?e.props=l:e.props=a,e.attrs=a}function isInHmrContext(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function updateProps(e,t,r,i){const{props:l,attrs:a,vnode:{patchFlag:c}}=e,d=toRaw(l),[D]=e.propsOptions;let v=!1;if(!isInHmrContext(e)&&(i||c>0)&&!(c&16)){if(c&8){const C=e.vnode.dynamicProps;for(let f=0;f<C.length;f++){let w=C[f];if(isEmitListener(e.emitsOptions,w))continue;const F=t[w];if(D)if(hasOwn(a,w))F!==a[w]&&(a[w]=F,v=!0);else{const T=camelize(w);l[T]=resolvePropValue(D,d,T,F,e,!1)}else F!==a[w]&&(a[w]=F,v=!0)}}}else{setFullProps(e,t,l,a)&&(v=!0);let C;for(const f in d)(!t||!hasOwn(t,f)&&((C=hyphenate(f))===f||!hasOwn(t,C)))&&(D?r&&(r[f]!==void 0||r[C]!==void 0)&&(l[f]=resolvePropValue(D,d,f,void 0,e,!0)):delete l[f]);if(a!==d)for(const f in a)(!t||!hasOwn(t,f)&&!0)&&(delete a[f],v=!0)}v&&trigger(e,"set","$attrs"),validateProps(t||{},l,e)}function setFullProps(e,t,r,i){const[l,a]=e.propsOptions;let c=!1,d;if(t)for(let D in t){if(isReservedProp(D))continue;const v=t[D];let C;l&&hasOwn(l,C=camelize(D))?!a||!a.includes(C)?r[C]=v:(d||(d={}))[C]=v:isEmitListener(e.emitsOptions,D)||(!(D in i)||v!==i[D])&&(i[D]=v,c=!0)}if(a){const D=toRaw(r),v=d||EMPTY_OBJ;for(let C=0;C<a.length;C++){const f=a[C];r[f]=resolvePropValue(l,D,f,v[f],e,!hasOwn(v,f))}}return c}function resolvePropValue(e,t,r,i,l,a){const c=e[r];if(c!=null){const d=hasOwn(c,"default");if(d&&i===void 0){const D=c.default;if(c.type!==Function&&isFunction$2(D)){const{propsDefaults:v}=l;r in v?i=v[r]:(setCurrentInstance(l),i=v[r]=D.call(null,t),unsetCurrentInstance())}else i=D}c[0]&&(a&&!d?i=!1:c[1]&&(i===""||i===hyphenate(r))&&(i=!0))}return i}function normalizePropsOptions(e,t,r=!1){const i=t.propsCache,l=i.get(e);if(l)return l;const a=e.props,c={},d=[];let D=!1;if(!isFunction$2(e)){const C=f=>{D=!0;const[w,F]=normalizePropsOptions(f,t,!0);extend$1(c,w),F&&d.push(...F)};!r&&t.mixins.length&&t.mixins.forEach(C),e.extends&&C(e.extends),e.mixins&&e.mixins.forEach(C)}if(!a&&!D)return isObject$2(e)&&i.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(a))for(let C=0;C<a.length;C++){isString$2(a[C])||warn("props must be strings when using array syntax.",a[C]);const f=camelize(a[C]);validatePropName(f)&&(c[f]=EMPTY_OBJ)}else if(a){isObject$2(a)||warn("invalid props options",a);for(const C in a){const f=camelize(C);if(validatePropName(f)){const w=a[C],F=c[f]=isArray$1(w)||isFunction$2(w)?{type:w}:Object.assign({},w);if(F){const T=getTypeIndex(Boolean,F.type),R=getTypeIndex(String,F.type);F[0]=T>-1,F[1]=R<0||T<R,(T>-1||hasOwn(F,"default"))&&d.push(f)}}}}const v=[c,d];return isObject$2(e)&&i.set(e,v),v}function validatePropName(e){return e[0]!=="$"?!0:(warn(`Invalid prop name: "${e}" is a reserved property.`),!1)}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(r=>isSameType(r,e)):isFunction$2(t)&&isSameType(t,e)?0:-1}function validateProps(e,t,r){const i=toRaw(t),l=r.propsOptions[0];for(const a in l){let c=l[a];c!=null&&validateProp(a,i[a],c,!hasOwn(e,a)&&!hasOwn(e,hyphenate(a)))}}function validateProp(e,t,r,i){const{type:l,required:a,validator:c}=r;if(a&&i){warn('Missing required prop: "'+e+'"');return}if(!(t==null&&!r.required)){if(l!=null&&l!==!0){let d=!1;const D=isArray$1(l)?l:[l],v=[];for(let C=0;C<D.length&&!d;C++){const{valid:f,expectedType:w}=assertType(t,D[C]);v.push(w||""),d=f}if(!d){warn(getInvalidTypeMessage(e,t,v));return}}c&&!c(t)&&warn('Invalid prop: custom validator check failed for prop "'+e+'".')}}const isSimpleType=makeMap("String,Number,Boolean,Function,Symbol,BigInt");function assertType(e,t){let r;const i=getType(t);if(isSimpleType(i)){const l=typeof e;r=l===i.toLowerCase(),!r&&l==="object"&&(r=e instanceof t)}else i==="Object"?r=isObject$2(e):i==="Array"?r=isArray$1(e):i==="null"?r=e===null:r=e instanceof t;return{valid:r,expectedType:i}}function getInvalidTypeMessage(e,t,r){let i=`Invalid prop: type check failed for prop "${e}". Expected ${r.map(capitalize).join(" | ")}`;const l=r[0],a=toRawType(t),c=styleValue(t,l),d=styleValue(t,a);return r.length===1&&isExplicable(l)&&!isBoolean$2(l,a)&&(i+=` with value ${c}`),i+=`, got ${a} `,isExplicable(a)&&(i+=`with value ${d}.`),i}function styleValue(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function isExplicable(e){return["string","number","boolean"].some(r=>e.toLowerCase()===r)}function isBoolean$2(...e){return e.some(t=>t.toLowerCase()==="boolean")}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{if(t._n)return t;const i=withCtx((...l)=>(currentInstance&&warn(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),normalizeSlotValue(t(...l))),r);return i._c=!1,i},normalizeObjectSlots=(e,t,r)=>{const i=e._ctx;for(const l in e){if(isInternalKey(l))continue;const a=e[l];if(isFunction$2(a))t[l]=normalizeSlot(l,a,i);else if(a!=null){warn(`Non-function value encountered for slot "${l}". Prefer function slots for better performance.`);const c=normalizeSlotValue(a);t[l]=()=>c}}},normalizeVNodeSlots=(e,t)=>{isKeepAlive(e.vnode)||warn("Non-function value encountered for default slot. Prefer function slots for better performance.");const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:i,slots:l}=e;let a=!0,c=EMPTY_OBJ;if(i.shapeFlag&32){const d=t._;d?isHmrUpdating?extend$1(l,t):r&&d===1?a=!1:(extend$1(l,t),!r&&d===1&&delete l._):(a=!t.$stable,normalizeObjectSlots(t,l)),c=t}else t&&(normalizeVNodeSlots(e,t),c={default:1});if(a)for(const d in l)!isInternalKey(d)&&!(d in c)&&delete l[d]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(i,l=null){isFunction$2(i)||(i=Object.assign({},i)),l!=null&&!isObject$2(l)&&(warn("root props passed to app.mount() must be an object."),l=null);const a=createAppContext(),c=new Set;let d=!1;const D=a.app={_uid:uid$1++,_component:i,_props:l,_container:null,_context:a,_instance:null,version:version$3,get config(){return a.config},set config(v){warn("app.config cannot be replaced. Modify individual options instead.")},use(v,...C){return c.has(v)?warn("Plugin has already been applied to target app."):v&&isFunction$2(v.install)?(c.add(v),v.install(D,...C)):isFunction$2(v)?(c.add(v),v(D,...C)):warn('A plugin must either be a function or an object with an "install" function.'),D},mixin(v){return a.mixins.includes(v)?warn("Mixin has already been applied to target app"+(v.name?`: ${v.name}`:"")):a.mixins.push(v),D},component(v,C){return validateComponentName(v,a.config),C?(a.components[v]&&warn(`Component "${v}" has already been registered in target app.`),a.components[v]=C,D):a.components[v]},directive(v,C){return validateDirectiveName(v),C?(a.directives[v]&&warn(`Directive "${v}" has already been registered in target app.`),a.directives[v]=C,D):a.directives[v]},mount(v,C,f){if(d)warn("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{v.__vue_app__&&warn("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const w=createVNode(i,l);return w.appContext=a,a.reload=()=>{e(cloneVNode(w),v,f)},C&&t?t(w,v):e(w,v,f),d=!0,D._container=v,v.__vue_app__=D,D._instance=w.component,devtoolsInitApp(D,version$3),getExposeProxy(w.component)||w.component.proxy}},unmount(){d?(e(null,D._container),D._instance=null,devtoolsUnmountApp(D),delete D._container.__vue_app__):warn("Cannot unmount an app that is not mounted.")},provide(v,C){return v in a.provides&&warn(`App already provides property with key "${String(v)}". It will be overwritten with the new value.`),a.provides[v]=C,D}};return D}}function setRef(e,t,r,i,l=!1){if(isArray$1(e)){e.forEach((w,F)=>setRef(w,t&&(isArray$1(t)?t[F]:t),r,i,l));return}if(isAsyncWrapper(i)&&!l)return;const a=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,c=l?null:a,{i:d,r:D}=e;if(!d){warn("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const v=t&&t.r,C=d.refs===EMPTY_OBJ?d.refs={}:d.refs,f=d.setupState;if(v!=null&&v!==D&&(isString$2(v)?(C[v]=null,hasOwn(f,v)&&(f[v]=null)):isRef(v)&&(v.value=null)),isFunction$2(D))callWithErrorHandling(D,d,12,[c,C]);else{const w=isString$2(D),F=isRef(D);if(w||F){const T=()=>{if(e.f){const R=w?hasOwn(f,D)?f[D]:C[D]:D.value;l?isArray$1(R)&&remove(R,a):isArray$1(R)?R.includes(a)||R.push(a):w?(C[D]=[a],hasOwn(f,D)&&(f[D]=C[D])):(D.value=[a],e.k&&(C[e.k]=D.value))}else w?(C[D]=c,hasOwn(f,D)&&(f[D]=c)):F?(D.value=c,e.k&&(C[e.k]=c)):warn("Invalid template ref type:",D,`(${typeof D})`)};c?(T.id=-1,queuePostRenderEffect(T,r)):T()}else warn("Invalid template ref type:",D,`(${typeof D})`)}}let supported$1,perf$1;function startMeasure(e,t){e.appContext.config.performance&&isSupported$1()&&perf$1.mark(`vue-${t}-${e.uid}`),devtoolsPerfStart(e,t,isSupported$1()?perf$1.now():Date.now())}function endMeasure(e,t){if(e.appContext.config.performance&&isSupported$1()){const r=`vue-${t}-${e.uid}`,i=r+":end";perf$1.mark(i),perf$1.measure(`<${formatComponentName$1(e,e.type)}> ${t}`,r,i),perf$1.clearMarks(r),perf$1.clearMarks(i)}devtoolsPerfEnd(e,t,isSupported$1()?perf$1.now():Date.now())}function isSupported$1(){return supported$1!==void 0||(typeof window<"u"&&window.performance?(supported$1=!0,perf$1=window.performance):supported$1=!1),supported$1}function initFeatureFlags(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){initFeatureFlags();const r=getGlobalThis();r.__VUE__=!0,setDevtoolsHook(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:i,remove:l,patchProp:a,createElement:c,createText:d,createComment:D,setText:v,setElementText:C,parentNode:f,nextSibling:w,setScopeId:F=NOOP,insertStaticContent:T}=e,R=(Ae,Oe,Pe,$e=null,tt=null,qe=null,dt=!1,ft=null,Ft=isHmrUpdating?!1:!!Oe.dynamicChildren)=>{if(Ae===Oe)return;Ae&&!isSameVNodeType(Ae,Oe)&&($e=an(Ae),St(Ae,tt,qe,!0),Ae=null),Oe.patchFlag===-2&&(Ft=!1,Oe.dynamicChildren=null);const{type:it,ref:zt,shapeFlag:pt}=Oe;switch(it){case Text:ee(Ae,Oe,Pe,$e);break;case Comment:re(Ae,Oe,Pe,$e);break;case Static:Ae==null?ae(Oe,Pe,$e,dt):ce(Ae,Oe,Pe,dt);break;case Fragment:be(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft);break;default:pt&1?A(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft):pt&6?De(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft):pt&64||pt&128?it.process(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft,Ne):warn("Invalid VNode type:",it,`(${typeof it})`)}zt!=null&&tt&&setRef(zt,Ae&&Ae.ref,qe,Oe||Ae,!Oe)},ee=(Ae,Oe,Pe,$e)=>{if(Ae==null)i(Oe.el=d(Oe.children),Pe,$e);else{const tt=Oe.el=Ae.el;Oe.children!==Ae.children&&v(tt,Oe.children)}},re=(Ae,Oe,Pe,$e)=>{Ae==null?i(Oe.el=D(Oe.children||""),Pe,$e):Oe.el=Ae.el},ae=(Ae,Oe,Pe,$e)=>{[Ae.el,Ae.anchor]=T(Ae.children,Oe,Pe,$e,Ae.el,Ae.anchor)},ce=(Ae,Oe,Pe,$e)=>{if(Oe.children!==Ae.children){const tt=w(Ae.anchor);de(Ae),[Oe.el,Oe.anchor]=T(Oe.children,Pe,tt,$e)}else Oe.el=Ae.el,Oe.anchor=Ae.anchor},ue=({el:Ae,anchor:Oe},Pe,$e)=>{let tt;for(;Ae&&Ae!==Oe;)tt=w(Ae),i(Ae,Pe,$e),Ae=tt;i(Oe,Pe,$e)},de=({el:Ae,anchor:Oe})=>{let Pe;for(;Ae&&Ae!==Oe;)Pe=w(Ae),l(Ae),Ae=Pe;l(Oe)},A=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft)=>{dt=dt||Oe.type==="svg",Ae==null?oe(Oe,Pe,$e,tt,qe,dt,ft,Ft):I(Ae,Oe,tt,qe,dt,ft,Ft)},oe=(Ae,Oe,Pe,$e,tt,qe,dt,ft)=>{let Ft,it;const{type:zt,props:pt,shapeFlag:ut,transition:Gt,dirs:hn}=Ae;if(Ft=Ae.el=c(Ae.type,qe,pt&&pt.is,pt),ut&8?C(Ft,Ae.children):ut&16&&ie(Ae.children,Ft,null,$e,tt,qe&&zt!=="foreignObject",dt,ft),hn&&invokeDirectiveHook(Ae,null,$e,"created"),le(Ft,Ae,Ae.scopeId,dt,$e),pt){for(const Ot in pt)Ot!=="value"&&!isReservedProp(Ot)&&a(Ft,Ot,null,pt[Ot],qe,Ae.children,$e,tt,bt);"value"in pt&&a(Ft,"value",null,pt.value),(it=pt.onVnodeBeforeMount)&&invokeVNodeHook(it,$e,Ae)}Object.defineProperty(Ft,"__vnode",{value:Ae,enumerable:!1}),Object.defineProperty(Ft,"__vueParentComponent",{value:$e,enumerable:!1}),hn&&invokeDirectiveHook(Ae,null,$e,"beforeMount");const vn=(!tt||tt&&!tt.pendingBranch)&&Gt&&!Gt.persisted;vn&&Gt.beforeEnter(Ft),i(Ft,Oe,Pe),((it=pt&&pt.onVnodeMounted)||vn||hn)&&queuePostRenderEffect(()=>{it&&invokeVNodeHook(it,$e,Ae),vn&&Gt.enter(Ft),hn&&invokeDirectiveHook(Ae,null,$e,"mounted")},tt)},le=(Ae,Oe,Pe,$e,tt)=>{if(Pe&&F(Ae,Pe),$e)for(let qe=0;qe<$e.length;qe++)F(Ae,$e[qe]);if(tt){let qe=tt.subTree;if(qe.patchFlag>0&&qe.patchFlag&2048&&(qe=filterSingleRoot(qe.children)||qe),Oe===qe){const dt=tt.vnode;le(Ae,dt,dt.scopeId,dt.slotScopeIds,tt.parent)}}},ie=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft=0)=>{for(let it=Ft;it<Ae.length;it++){const zt=Ae[it]=ft?cloneIfMounted(Ae[it]):normalizeVNode(Ae[it]);R(null,zt,Oe,Pe,$e,tt,qe,dt,ft)}},I=(Ae,Oe,Pe,$e,tt,qe,dt)=>{const ft=Oe.el=Ae.el;let{patchFlag:Ft,dynamicChildren:it,dirs:zt}=Oe;Ft|=Ae.patchFlag&16;const pt=Ae.props||EMPTY_OBJ,ut=Oe.props||EMPTY_OBJ;let Gt;Pe&&toggleRecurse(Pe,!1),(Gt=ut.onVnodeBeforeUpdate)&&invokeVNodeHook(Gt,Pe,Oe,Ae),zt&&invokeDirectiveHook(Oe,Ae,Pe,"beforeUpdate"),Pe&&toggleRecurse(Pe,!0),isHmrUpdating&&(Ft=0,dt=!1,it=null);const hn=tt&&Oe.type!=="foreignObject";if(it?(j(Ae.dynamicChildren,it,ft,Pe,$e,hn,qe),Pe&&Pe.type.__hmrId&&traverseStaticChildren(Ae,Oe)):dt||Ie(Ae,Oe,ft,null,Pe,$e,hn,qe,!1),Ft>0){if(Ft&16)pe(ft,Oe,pt,ut,Pe,$e,tt);else if(Ft&2&&pt.class!==ut.class&&a(ft,"class",null,ut.class,tt),Ft&4&&a(ft,"style",pt.style,ut.style,tt),Ft&8){const vn=Oe.dynamicProps;for(let Ot=0;Ot<vn.length;Ot++){const rt=vn[Ot],xt=pt[rt],Qt=ut[rt];(Qt!==xt||rt==="value")&&a(ft,rt,xt,Qt,tt,Ae.children,Pe,$e,bt)}}Ft&1&&Ae.children!==Oe.children&&C(ft,Oe.children)}else!dt&&it==null&&pe(ft,Oe,pt,ut,Pe,$e,tt);((Gt=ut.onVnodeUpdated)||zt)&&queuePostRenderEffect(()=>{Gt&&invokeVNodeHook(Gt,Pe,Oe,Ae),zt&&invokeDirectiveHook(Oe,Ae,Pe,"updated")},$e)},j=(Ae,Oe,Pe,$e,tt,qe,dt)=>{for(let ft=0;ft<Oe.length;ft++){const Ft=Ae[ft],it=Oe[ft],zt=Ft.el&&(Ft.type===Fragment||!isSameVNodeType(Ft,it)||Ft.shapeFlag&70)?f(Ft.el):Pe;R(Ft,it,zt,null,$e,tt,qe,dt,!0)}},pe=(Ae,Oe,Pe,$e,tt,qe,dt)=>{if(Pe!==$e){if(Pe!==EMPTY_OBJ)for(const ft in Pe)!isReservedProp(ft)&&!(ft in $e)&&a(Ae,ft,Pe[ft],null,dt,Oe.children,tt,qe,bt);for(const ft in $e){if(isReservedProp(ft))continue;const Ft=$e[ft],it=Pe[ft];Ft!==it&&ft!=="value"&&a(Ae,ft,it,Ft,dt,Oe.children,tt,qe,bt)}"value"in $e&&a(Ae,"value",Pe.value,$e.value)}},be=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft)=>{const it=Oe.el=Ae?Ae.el:d(""),zt=Oe.anchor=Ae?Ae.anchor:d("");let{patchFlag:pt,dynamicChildren:ut,slotScopeIds:Gt}=Oe;(isHmrUpdating||pt&2048)&&(pt=0,Ft=!1,ut=null),Gt&&(ft=ft?ft.concat(Gt):Gt),Ae==null?(i(it,Pe,$e),i(zt,Pe,$e),ie(Oe.children,Pe,zt,tt,qe,dt,ft,Ft)):pt>0&&pt&64&&ut&&Ae.dynamicChildren?(j(Ae.dynamicChildren,ut,Pe,tt,qe,dt,ft),tt&&tt.type.__hmrId?traverseStaticChildren(Ae,Oe):(Oe.key!=null||tt&&Oe===tt.subTree)&&traverseStaticChildren(Ae,Oe,!0)):Ie(Ae,Oe,Pe,zt,tt,qe,dt,ft,Ft)},De=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft)=>{Oe.slotScopeIds=ft,Ae==null?Oe.shapeFlag&512?tt.ctx.activate(Oe,Pe,$e,dt,Ft):Re(Oe,Pe,$e,tt,qe,dt,Ft):Ee(Ae,Oe,Ft)},Re=(Ae,Oe,Pe,$e,tt,qe,dt)=>{const ft=Ae.component=createComponentInstance(Ae,$e,tt);if(ft.type.__hmrId&&registerHMR(ft),pushWarningContext(Ae),startMeasure(ft,"mount"),isKeepAlive(Ae)&&(ft.ctx.renderer=Ne),startMeasure(ft,"init"),setupComponent(ft),endMeasure(ft,"init"),ft.asyncDep){if(tt&&tt.registerDep(ft,Se),!Ae.el){const Ft=ft.subTree=createVNode(Comment);re(null,Ft,Oe,Pe)}return}Se(ft,Ae,Oe,Pe,tt,qe,dt),popWarningContext(),endMeasure(ft,"mount")},Ee=(Ae,Oe,Pe)=>{const $e=Oe.component=Ae.component;if(shouldUpdateComponent(Ae,Oe,Pe))if($e.asyncDep&&!$e.asyncResolved){pushWarningContext(Oe),Le($e,Oe,Pe),popWarningContext();return}else $e.next=Oe,invalidateJob($e.update),$e.update();else Oe.el=Ae.el,$e.vnode=Oe},Se=(Ae,Oe,Pe,$e,tt,qe,dt)=>{const ft=()=>{if(Ae.isMounted){let{next:zt,bu:pt,u:ut,parent:Gt,vnode:hn}=Ae,vn=zt,Ot;pushWarningContext(zt||Ae.vnode),toggleRecurse(Ae,!1),zt?(zt.el=hn.el,Le(Ae,zt,dt)):zt=hn,pt&&invokeArrayFns(pt),(Ot=zt.props&&zt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ot,Gt,zt,hn),toggleRecurse(Ae,!0),startMeasure(Ae,"render");const rt=renderComponentRoot(Ae);endMeasure(Ae,"render");const xt=Ae.subTree;Ae.subTree=rt,startMeasure(Ae,"patch"),R(xt,rt,f(xt.el),an(xt),Ae,tt,qe),endMeasure(Ae,"patch"),zt.el=rt.el,vn===null&&updateHOCHostEl(Ae,rt.el),ut&&queuePostRenderEffect(ut,tt),(Ot=zt.props&&zt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ot,Gt,zt,hn),tt),devtoolsComponentUpdated(Ae),popWarningContext()}else{let zt;const{el:pt,props:ut}=Oe,{bm:Gt,m:hn,parent:vn}=Ae,Ot=isAsyncWrapper(Oe);if(toggleRecurse(Ae,!1),Gt&&invokeArrayFns(Gt),!Ot&&(zt=ut&&ut.onVnodeBeforeMount)&&invokeVNodeHook(zt,vn,Oe),toggleRecurse(Ae,!0),pt&&me){const rt=()=>{startMeasure(Ae,"render"),Ae.subTree=renderComponentRoot(Ae),endMeasure(Ae,"render"),startMeasure(Ae,"hydrate"),me(pt,Ae.subTree,Ae,tt,null),endMeasure(Ae,"hydrate")};Ot?Oe.type.__asyncLoader().then(()=>!Ae.isUnmounted&&rt()):rt()}else{startMeasure(Ae,"render");const rt=Ae.subTree=renderComponentRoot(Ae);endMeasure(Ae,"render"),startMeasure(Ae,"patch"),R(null,rt,Pe,$e,Ae,tt,qe),endMeasure(Ae,"patch"),Oe.el=rt.el}if(hn&&queuePostRenderEffect(hn,tt),!Ot&&(zt=ut&&ut.onVnodeMounted)){const rt=Oe;queuePostRenderEffect(()=>invokeVNodeHook(zt,vn,rt),tt)}(Oe.shapeFlag&256||vn&&isAsyncWrapper(vn.vnode)&&vn.vnode.shapeFlag&256)&&Ae.a&&queuePostRenderEffect(Ae.a,tt),Ae.isMounted=!0,devtoolsComponentAdded(Ae),Oe=Pe=$e=null}},Ft=Ae.effect=new ReactiveEffect(ft,()=>queueJob(it),Ae.scope),it=Ae.update=()=>Ft.run();it.id=Ae.uid,toggleRecurse(Ae,!0),Ft.onTrack=Ae.rtc?zt=>invokeArrayFns(Ae.rtc,zt):void 0,Ft.onTrigger=Ae.rtg?zt=>invokeArrayFns(Ae.rtg,zt):void 0,it.ownerInstance=Ae,it()},Le=(Ae,Oe,Pe)=>{Oe.component=Ae;const $e=Ae.vnode.props;Ae.vnode=Oe,Ae.next=null,updateProps(Ae,Oe.props,$e,Pe),updateSlots(Ae,Oe.children,Pe),pauseTracking(),flushPreFlushCbs(),resetTracking()},Ie=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft=!1)=>{const it=Ae&&Ae.children,zt=Ae?Ae.shapeFlag:0,pt=Oe.children,{patchFlag:ut,shapeFlag:Gt}=Oe;if(ut>0){if(ut&128){Ye(it,pt,Pe,$e,tt,qe,dt,ft,Ft);return}else if(ut&256){st(it,pt,Pe,$e,tt,qe,dt,ft,Ft);return}}Gt&8?(zt&16&&bt(it,tt,qe),pt!==it&&C(Pe,pt)):zt&16?Gt&16?Ye(it,pt,Pe,$e,tt,qe,dt,ft,Ft):bt(it,tt,qe,!0):(zt&8&&C(Pe,""),Gt&16&&ie(pt,Pe,$e,tt,qe,dt,ft,Ft))},st=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft)=>{Ae=Ae||EMPTY_ARR,Oe=Oe||EMPTY_ARR;const it=Ae.length,zt=Oe.length,pt=Math.min(it,zt);let ut;for(ut=0;ut<pt;ut++){const Gt=Oe[ut]=Ft?cloneIfMounted(Oe[ut]):normalizeVNode(Oe[ut]);R(Ae[ut],Gt,Pe,null,tt,qe,dt,ft,Ft)}it>zt?bt(Ae,tt,qe,!0,!1,pt):ie(Oe,Pe,$e,tt,qe,dt,ft,Ft,pt)},Ye=(Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft)=>{let it=0;const zt=Oe.length;let pt=Ae.length-1,ut=zt-1;for(;it<=pt&&it<=ut;){const Gt=Ae[it],hn=Oe[it]=Ft?cloneIfMounted(Oe[it]):normalizeVNode(Oe[it]);if(isSameVNodeType(Gt,hn))R(Gt,hn,Pe,null,tt,qe,dt,ft,Ft);else break;it++}for(;it<=pt&&it<=ut;){const Gt=Ae[pt],hn=Oe[ut]=Ft?cloneIfMounted(Oe[ut]):normalizeVNode(Oe[ut]);if(isSameVNodeType(Gt,hn))R(Gt,hn,Pe,null,tt,qe,dt,ft,Ft);else break;pt--,ut--}if(it>pt){if(it<=ut){const Gt=ut+1,hn=Gt<zt?Oe[Gt].el:$e;for(;it<=ut;)R(null,Oe[it]=Ft?cloneIfMounted(Oe[it]):normalizeVNode(Oe[it]),Pe,hn,tt,qe,dt,ft,Ft),it++}}else if(it>ut)for(;it<=pt;)St(Ae[it],tt,qe,!0),it++;else{const Gt=it,hn=it,vn=new Map;for(it=hn;it<=ut;it++){const jn=Oe[it]=Ft?cloneIfMounted(Oe[it]):normalizeVNode(Oe[it]);jn.key!=null&&(vn.has(jn.key)&&warn("Duplicate keys found during update:",JSON.stringify(jn.key),"Make sure keys are unique."),vn.set(jn.key,it))}let Ot,rt=0;const xt=ut-hn+1;let Qt=!1,gn=0;const Nn=new Array(xt);for(it=0;it<xt;it++)Nn[it]=0;for(it=Gt;it<=pt;it++){const jn=Ae[it];if(rt>=xt){St(jn,tt,qe,!0);continue}let Hn;if(jn.key!=null)Hn=vn.get(jn.key);else for(Ot=hn;Ot<=ut;Ot++)if(Nn[Ot-hn]===0&&isSameVNodeType(jn,Oe[Ot])){Hn=Ot;break}Hn===void 0?St(jn,tt,qe,!0):(Nn[Hn-hn]=it+1,Hn>=gn?gn=Hn:Qt=!0,R(jn,Oe[Hn],Pe,null,tt,qe,dt,ft,Ft),rt++)}const Ar=Qt?getSequence(Nn):EMPTY_ARR;for(Ot=Ar.length-1,it=xt-1;it>=0;it--){const jn=hn+it,Hn=Oe[jn],ir=jn+1<zt?Oe[jn+1].el:$e;Nn[it]===0?R(null,Hn,Pe,ir,tt,qe,dt,ft,Ft):Qt&&(Ot<0||it!==Ar[Ot]?Ke(Hn,Pe,ir,2):Ot--)}}},Ke=(Ae,Oe,Pe,$e,tt=null)=>{const{el:qe,type:dt,transition:ft,children:Ft,shapeFlag:it}=Ae;if(it&6){Ke(Ae.component.subTree,Oe,Pe,$e);return}if(it&128){Ae.suspense.move(Oe,Pe,$e);return}if(it&64){dt.move(Ae,Oe,Pe,Ne);return}if(dt===Fragment){i(qe,Oe,Pe);for(let pt=0;pt<Ft.length;pt++)Ke(Ft[pt],Oe,Pe,$e);i(Ae.anchor,Oe,Pe);return}if(dt===Static){ue(Ae,Oe,Pe);return}if($e!==2&&it&1&&ft)if($e===0)ft.beforeEnter(qe),i(qe,Oe,Pe),queuePostRenderEffect(()=>ft.enter(qe),tt);else{const{leave:pt,delayLeave:ut,afterLeave:Gt}=ft,hn=()=>i(qe,Oe,Pe),vn=()=>{pt(qe,()=>{hn(),Gt&&Gt()})};ut?ut(qe,hn,vn):vn()}else i(qe,Oe,Pe)},St=(Ae,Oe,Pe,$e=!1,tt=!1)=>{const{type:qe,props:dt,ref:ft,children:Ft,dynamicChildren:it,shapeFlag:zt,patchFlag:pt,dirs:ut}=Ae;if(ft!=null&&setRef(ft,null,Pe,Ae,!0),zt&256){Oe.ctx.deactivate(Ae);return}const Gt=zt&1&&ut,hn=!isAsyncWrapper(Ae);let vn;if(hn&&(vn=dt&&dt.onVnodeBeforeUnmount)&&invokeVNodeHook(vn,Oe,Ae),zt&6)Pt(Ae.component,Pe,$e);else{if(zt&128){Ae.suspense.unmount(Pe,$e);return}Gt&&invokeDirectiveHook(Ae,null,Oe,"beforeUnmount"),zt&64?Ae.type.remove(Ae,Oe,Pe,tt,Ne,$e):it&&(qe!==Fragment||pt>0&&pt&64)?bt(it,Oe,Pe,!1,!0):(qe===Fragment&&pt&384||!tt&&zt&16)&&bt(Ft,Oe,Pe),$e&&ct(Ae)}(hn&&(vn=dt&&dt.onVnodeUnmounted)||Gt)&&queuePostRenderEffect(()=>{vn&&invokeVNodeHook(vn,Oe,Ae),Gt&&invokeDirectiveHook(Ae,null,Oe,"unmounted")},Pe)},ct=Ae=>{const{type:Oe,el:Pe,anchor:$e,transition:tt}=Ae;if(Oe===Fragment){Ae.patchFlag>0&&Ae.patchFlag&2048&&tt&&!tt.persisted?Ae.children.forEach(dt=>{dt.type===Comment?l(dt.el):ct(dt)}):Ct(Pe,$e);return}if(Oe===Static){de(Ae);return}const qe=()=>{l(Pe),tt&&!tt.persisted&&tt.afterLeave&&tt.afterLeave()};if(Ae.shapeFlag&1&&tt&&!tt.persisted){const{leave:dt,delayLeave:ft}=tt,Ft=()=>dt(Pe,qe);ft?ft(Ae.el,qe,Ft):Ft()}else qe()},Ct=(Ae,Oe)=>{let Pe;for(;Ae!==Oe;)Pe=w(Ae),l(Ae),Ae=Pe;l(Oe)},Pt=(Ae,Oe,Pe)=>{Ae.type.__hmrId&&unregisterHMR(Ae);const{bum:$e,scope:tt,update:qe,subTree:dt,um:ft}=Ae;$e&&invokeArrayFns($e),tt.stop(),qe&&(qe.active=!1,St(dt,Ae,Oe,Pe)),ft&&queuePostRenderEffect(ft,Oe),queuePostRenderEffect(()=>{Ae.isUnmounted=!0},Oe),Oe&&Oe.pendingBranch&&!Oe.isUnmounted&&Ae.asyncDep&&!Ae.asyncResolved&&Ae.suspenseId===Oe.pendingId&&(Oe.deps--,Oe.deps===0&&Oe.resolve()),devtoolsComponentRemoved(Ae)},bt=(Ae,Oe,Pe,$e=!1,tt=!1,qe=0)=>{for(let dt=qe;dt<Ae.length;dt++)St(Ae[dt],Oe,Pe,$e,tt)},an=Ae=>Ae.shapeFlag&6?an(Ae.component.subTree):Ae.shapeFlag&128?Ae.suspense.next():w(Ae.anchor||Ae.el),Yt=(Ae,Oe,Pe)=>{Ae==null?Oe._vnode&&St(Oe._vnode,null,null,!0):R(Oe._vnode||null,Ae,Oe,null,null,null,Pe),flushPreFlushCbs(),flushPostFlushCbs(),Oe._vnode=Ae},Ne={p:R,um:St,m:Ke,r:ct,mt:Re,mc:ie,pc:Ie,pbc:j,n:an,o:e};let mt,me;return t&&([mt,me]=t(Ne)),{render:Yt,hydrate:mt,createApp:createAppAPI(Yt,mt)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const i=e.children,l=t.children;if(isArray$1(i)&&isArray$1(l))for(let a=0;a<i.length;a++){const c=i[a];let d=l[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=l[a]=cloneIfMounted(l[a]),d.el=c.el),r||traverseStaticChildren(c,d)),d.type===Text&&(d.el=c.el),d.type===Comment&&!d.el&&(d.el=c.el)}}function getSequence(e){const t=e.slice(),r=[0];let i,l,a,c,d;const D=e.length;for(i=0;i<D;i++){const v=e[i];if(v!==0){if(l=r[r.length-1],e[l]<v){t[i]=l,r.push(i);continue}for(a=0,c=r.length-1;a<c;)d=a+c>>1,e[r[d]]<v?a=d+1:c=d;v<e[r[a]]&&(a>0&&(t[i]=r[a-1]),r[a]=i)}}for(a=r.length,c=r[a-1];a-- >0;)r[a]=c,c=t[c];return r}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const r=e&&e.to;if(isString$2(r))if(t){const i=t(r);return i||warn(`Failed to locate Teleport target with selector "${r}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),i}else return warn("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!r&&!isTeleportDisabled(e)&&warn(`Invalid Teleport target: ${r}`),r},TeleportImpl={__isTeleport:!0,process(e,t,r,i,l,a,c,d,D,v){const{mc:C,pc:f,pbc:w,o:{insert:F,querySelector:T,createText:R,createComment:ee}}=v,re=isTeleportDisabled(t.props);let{shapeFlag:ae,children:ce,dynamicChildren:ue}=t;if(isHmrUpdating&&(D=!1,ue=null),e==null){const de=t.el=ee("teleport start"),A=t.anchor=ee("teleport end");F(de,r,i),F(A,r,i);const oe=t.target=resolveTarget(t.props,T),le=t.targetAnchor=R("");oe?(F(le,oe),c=c||isTargetSVG(oe)):re||warn("Invalid Teleport target on mount:",oe,`(${typeof oe})`);const ie=(I,j)=>{ae&16&&C(ce,I,j,l,a,c,d,D)};re?ie(r,A):oe&&ie(oe,le)}else{t.el=e.el;const de=t.anchor=e.anchor,A=t.target=e.target,oe=t.targetAnchor=e.targetAnchor,le=isTeleportDisabled(e.props),ie=le?r:A,I=le?de:oe;if(c=c||isTargetSVG(A),ue?(w(e.dynamicChildren,ue,ie,l,a,c,d),traverseStaticChildren(e,t,!0)):D||f(e,t,ie,I,l,a,c,d,!1),re)le||moveTeleport(t,r,de,v,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=resolveTarget(t.props,T);j?moveTeleport(t,j,null,v,0):warn("Invalid Teleport target on update:",A,`(${typeof A})`)}else le&&moveTeleport(t,A,oe,v,1)}updateCssVars(t)},remove(e,t,r,i,{um:l,o:{remove:a}},c){const{shapeFlag:d,children:D,anchor:v,targetAnchor:C,target:f,props:w}=e;if(f&&a(C),(c||!isTeleportDisabled(w))&&(a(v),d&16))for(let F=0;F<D.length;F++){const T=D[F];l(T,t,r,!0,!!T.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,r,{o:{insert:i},m:l},a=2){a===0&&i(e.targetAnchor,t,r);const{el:c,anchor:d,shapeFlag:D,children:v,props:C}=e,f=a===2;if(f&&i(c,t,r),(!f||isTeleportDisabled(C))&&D&16)for(let w=0;w<v.length;w++)l(v[w],t,r,2);f&&i(d,t,r)}function hydrateTeleport(e,t,r,i,l,a,{o:{nextSibling:c,parentNode:d,querySelector:D}},v){const C=t.target=resolveTarget(t.props,D);if(C){const f=C._lpa||C.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=v(c(e),t,d(e),r,i,l,a),t.targetAnchor=f;else{t.anchor=c(e);let w=f;for(;w;)if(w=c(w),w&&w.nodeType===8&&w.data==="teleport anchor"){t.targetAnchor=w,C._lpa=t.targetAnchor&&c(t.targetAnchor);break}v(f,t,C,r,i,l,a)}updateCssVars(t)}return t.anchor&&c(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Fragment=Symbol("Fragment"),Text=Symbol("Text"),Comment=Symbol("Comment"),Static=Symbol("Static"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,i,l,a){return setupBlock(createBaseVNode(e,t,r,i,l,a,!0))}function createBlock(e,t,r,i,l){return setupBlock(createVNode(e,t,r,i,l,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return t.shapeFlag&6&&hmrDirtyComponents.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const createVNodeWithArgsTransform=(...e)=>_createVNode(...e),InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString$2(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,i=0,l=null,a=e===Fragment?0:1,c=!1,d=!1){const D={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return d?(normalizeChildren(D,r),a&128&&e.normalize(D)):r&&(D.shapeFlag|=isString$2(r)?8:16),D.key!==D.key&&warn("VNode created with invalid key (NaN). VNode type:",D.type),isBlockTreeEnabled>0&&!c&&currentBlock&&(D.patchFlag>0||a&6)&&D.patchFlag!==32&&currentBlock.push(D),D}const createVNode=createVNodeWithArgsTransform;function _createVNode(e,t=null,r=null,i=0,l=null,a=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e||warn(`Invalid vnode type when creating vnode: ${e}.`),e=Comment),isVNode(e)){const d=cloneVNode(e,t,!0);return r&&normalizeChildren(d,r),isBlockTreeEnabled>0&&!a&&currentBlock&&(d.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=d:currentBlock.push(d)),d.patchFlag|=-2,d}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:d,style:D}=t;d&&!isString$2(d)&&(t.class=normalizeClass(d)),isObject$2(D)&&(isProxy(D)&&!isArray$1(D)&&(D=extend$1({},D)),t.style=normalizeStyle(D))}const c=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return c&4&&isProxy(e)&&(e=toRaw(e),warn("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),createBaseVNode(e,t,r,i,l,c,a,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$1({},e):e:null}function cloneVNode(e,t,r=!1){const{props:i,ref:l,patchFlag:a,children:c}=e,d=t?mergeProps(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?r&&l?isArray$1(l)?l.concat(normalizeRef(t)):[l,normalizeRef(t)]:normalizeRef(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a===-1&&isArray$1(c)?c.map(deepCloneVNode):c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function deepCloneVNode(e){const t=cloneVNode(e);return isArray$1(e.children)&&(t.children=e.children.map(deepCloneVNode)),t}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(isArray$1(t))r=16;else if(typeof t=="object")if(i&65){const l=t.default;l&&(l._c&&(l._d=!1),normalizeChildren(e,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:l===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),i&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const l in i)if(l==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(l==="style")t.style=normalizeStyle([t.style,i.style]);else if(isOn$1(l)){const a=t[l],c=i[l];c&&a!==c&&!(isArray$1(a)&&a.includes(c))&&(t[l]=a?[].concat(a,c):c)}else l!==""&&(t[l]=i[l])}return t}function invokeVNodeHook(e,t,r,i=null){callWithAsyncErrorHandling(e,t,7,[r,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,r){const i=e.type,l=(t?t.appContext:e.appContext)||emptyAppContext,a={uid:uid++,vnode:e,type:i,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,l),emitsOptions:normalizeEmitsOptions(i,l),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx=createDevRenderContext(a),a.root=t?t.root:a,a.emit=emit.bind(null,a),e.ce&&e.ce(a),a}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null},isBuiltInTag=makeMap("slot,component");function validateComponentName(e,t){const r=t.isNativeTag||NO;(isBuiltInTag(e)||r(e))&&warn("Do not use built-in or reserved HTML elements as component id: "+e)}function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:i}=e.vnode,l=isStatefulComponent(e);initProps(e,r,l,t),initSlots(e,i);const a=l?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,a}function setupStatefulComponent(e,t){var r;const i=e.type;{if(i.name&&validateComponentName(i.name,e.appContext.config),i.components){const a=Object.keys(i.components);for(let c=0;c<a.length;c++)validateComponentName(a[c],e.appContext.config)}if(i.directives){const a=Object.keys(i.directives);for(let c=0;c<a.length;c++)validateDirectiveName(a[c])}i.compilerOptions&&isRuntimeOnly()&&warn('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers)),exposePropsOnRenderContext(e);const{setup:l}=i;if(l){const a=e.setupContext=l.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const c=callWithErrorHandling(l,e,0,[shallowReadonly(e.props),a]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(c)){if(c.then(unsetCurrentInstance,unsetCurrentInstance),t)return c.then(d=>{handleSetupResult(e,d,t)}).catch(d=>{handleError(d,e,0)});if(e.asyncDep=c,!e.suspense){const d=(r=i.name)!==null&&r!==void 0?r:"Anonymous";warn(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else handleSetupResult(e,c,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)?(isVNode(t)&&warn("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=proxyRefs(t),exposeSetupStateOnRenderContext(e)):t!==void 0&&warn(`setup() should return an object. Received: ${t===null?"null":typeof t}`),finishComponentSetup(e,r)}let compile;const isRuntimeOnly=()=>!compile;function finishComponentSetup(e,t,r){const i=e.type;if(!e.render){if(!t&&compile&&!i.render){const l=i.template||resolveMergedOptions(e).template;if(l){startMeasure(e,"compile");const{isCustomElement:a,compilerOptions:c}=e.appContext.config,{delimiters:d,compilerOptions:D}=i,v=extend$1(extend$1({isCustomElement:a,delimiters:d},c),D);i.render=compile(l,v),endMeasure(e,"compile")}}e.render=i.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance(),!i.render&&e.render===NOOP&&!t&&(i.template?warn('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):warn("Component is missing template or render function."))}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return markAttrsAccessed(),track(e,"get","$attrs"),t[r]},set(){return warn("setupContext.attrs is readonly."),!1},deleteProperty(){return warn("setupContext.attrs is readonly."),!1}})}function createSetupContext(e){const t=i=>{if(e.exposed&&warn("expose() should be called only once per setup()."),i!=null){let l=typeof i;l==="object"&&(isArray$1(i)?l="array":isRef(i)&&(l="ref")),l!=="object"&&warn(`expose() should be passed a plain object, received ${l}.`)}e.exposed=i||{}};let r;return Object.freeze({get attrs(){return r||(r=createAttrsProxy(e))},get slots(){return shallowReadonly(e.slots)},get emit(){return(i,...l)=>e.emit(i,...l)},expose:t})}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}}))}const classifyRE$1=/(?:^|[-_])(\w)/g,classify$1=e=>e.replace(classifyRE$1,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName$1(e,t,r=!1){let i=getComponentName(t);if(!i&&t.__file){const l=t.__file.match(/([^/\\]+)\.\w+$/);l&&(i=l[1])}if(!i&&e&&e.parent){const l=a=>{for(const c in a)if(a[c]===t)return c};i=l(e.components||e.parent.type.components)||l(e.appContext.components)}return i?classify$1(i):r?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,r){const i=arguments.length;return i===2?isObject$2(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const ssrContextKey=Symbol("ssrContext"),useSSRContext=()=>{{const e=inject$1(ssrContextKey);return e||warn("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function isShallow(e){return!!(e&&e.__v_isShallow)}function initCustomFormatter(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},r={style:"color:#b62e24"},i={style:"color:#9d288c"},l={header(f){return isObject$2(f)?f.__isVue?["div",e,"VueInstance"]:isRef(f)?["div",{},["span",e,C(f)],"<",d(f.value),">"]:isReactive(f)?["div",{},["span",e,isShallow(f)?"ShallowReactive":"Reactive"],"<",d(f),`>${isReadonly(f)?" (readonly)":""}`]:isReadonly(f)?["div",{},["span",e,isShallow(f)?"ShallowReadonly":"Readonly"],"<",d(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...a(f.$)]}};function a(f){const w=[];f.type.props&&f.props&&w.push(c("props",toRaw(f.props))),f.setupState!==EMPTY_OBJ&&w.push(c("setup",f.setupState)),f.data!==EMPTY_OBJ&&w.push(c("data",toRaw(f.data)));const F=D(f,"computed");F&&w.push(c("computed",F));const T=D(f,"inject");return T&&w.push(c("injected",T)),w.push(["div",{},["span",{style:i.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),w}function c(f,w){return w=extend$1({},w),Object.keys(w).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(w).map(F=>["div",{},["span",i,F+": "],d(w[F],!1)])]]:["span",{}]}function d(f,w=!0){return typeof f=="number"?["span",t,f]:typeof f=="string"?["span",r,JSON.stringify(f)]:typeof f=="boolean"?["span",i,f]:isObject$2(f)?["object",{object:w?toRaw(f):f}]:["span",r,String(f)]}function D(f,w){const F=f.type;if(isFunction$2(F))return;const T={};for(const R in f.ctx)v(F,R,w)&&(T[R]=f.ctx[R]);return T}function v(f,w,F){const T=f[F];if(isArray$1(T)&&T.includes(w)||isObject$2(T)&&w in T||f.extends&&v(f.extends,w,F)||f.mixins&&f.mixins.some(R=>v(R,w,F)))return!0}function C(f){return isShallow(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(l):window.devtoolsFormatters=[l]}const version$3="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const l=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&l.setAttribute("multiple",i.multiple),l},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,l,a){const c=r?r.previousSibling:t.lastChild;if(l&&(l===a||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===a||!(l=l.nextSibling)););else{templateContainer.innerHTML=i?`<svg>${e}</svg>`:e;const d=templateContainer.content;if(i){const D=d.firstChild;for(;D.firstChild;)d.appendChild(D.firstChild);d.removeChild(D)}t.insertBefore(d,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const i=e.style,l=isString$2(r);if(r&&!l){if(t&&!isString$2(t))for(const a in t)r[a]==null&&setStyle(i,a,"");for(const a in r)setStyle(i,a,r[a])}else{const a=i.display;l?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const semicolonRE=/[^\\];\s*$/,importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$1(r))r.forEach(i=>setStyle(e,t,i));else if(r==null&&(r=""),semicolonRE.test(r)&&warn(`Unexpected semicolon at the end of '${t}' style value: '${r}'`),t.startsWith("--"))e.setProperty(t,r);else{const i=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(i),r.replace(importantRE,""),"important"):e[i]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let i=camelize(t);if(i!=="filter"&&i in e)return prefixCache[t]=i;i=capitalize(i);for(let l=0;l<prefixes.length;l++){const a=prefixes[l]+i;if(a in e)return prefixCache[t]=a}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,i,l){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const a=isSpecialBooleanAttr(t);r==null||a&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function patchDOMProp(e,t,r,i,l,a,c){if(t==="innerHTML"||t==="textContent"){i&&c(i,l,a),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const D=r??"";(e.value!==D||e.tagName==="OPTION")&&(e.value=D),r==null&&e.removeAttribute(t);return}let d=!1;if(r===""||r==null){const D=typeof e[t];D==="boolean"?r=includeBooleanAttr(r):r==null&&D==="string"?(r="",d=!0):D==="number"&&(r=0,d=!0)}try{e[t]=r}catch(D){d||warn(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${r} is invalid.`,D)}d&&e.removeAttribute(t)}function addEventListener(e,t,r,i){e.addEventListener(t,r,i)}function removeEventListener(e,t,r,i){e.removeEventListener(t,r,i)}function patchEvent(e,t,r,i,l=null){const a=e._vei||(e._vei={}),c=a[t];if(i&&c)c.value=i;else{const[d,D]=parseName(t);if(i){const v=a[t]=createInvoker(i,l);addEventListener(e,d,v,D)}else c&&(removeEventListener(e,d,c,D),a[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let i;for(;i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,r.value),t,5,[i])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>l=>!l._stopped&&i&&i(l))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,i,l=!1,a,c,d,D)=>{t==="class"?patchClass(e,i,l):t==="style"?patchStyle(e,r,i):isOn$1(t)?isModelListener(t)||patchEvent(e,t,r,i,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,i,l))?patchDOMProp(e,t,i,a,c,d,D):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),patchAttr(e,t,i,l))};function shouldSetAsProp(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$2(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$2(r)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach(r=>r(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const pe in e)pe in DOMTransitionPropsValidators||(t[pe]=e[pe]);if(e.css===!1)return t;const{name:r="v",type:i,duration:l,enterFromClass:a=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:d=`${r}-enter-to`,appearFromClass:D=a,appearActiveClass:v=c,appearToClass:C=d,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:w=`${r}-leave-active`,leaveToClass:F=`${r}-leave-to`}=e,T=normalizeDuration(l),R=T&&T[0],ee=T&&T[1],{onBeforeEnter:re,onEnter:ae,onEnterCancelled:ce,onLeave:ue,onLeaveCancelled:de,onBeforeAppear:A=re,onAppear:oe=ae,onAppearCancelled:le=ce}=t,ie=(pe,be,De)=>{removeTransitionClass(pe,be?C:d),removeTransitionClass(pe,be?v:c),De&&De()},I=(pe,be)=>{pe._isLeaving=!1,removeTransitionClass(pe,f),removeTransitionClass(pe,F),removeTransitionClass(pe,w),be&&be()},j=pe=>(be,De)=>{const Re=pe?oe:ae,Ee=()=>ie(be,pe,De);callHook(Re,[be,Ee]),nextFrame(()=>{removeTransitionClass(be,pe?D:a),addTransitionClass(be,pe?C:d),hasExplicitCallback(Re)||whenTransitionEnds(be,i,R,Ee)})};return extend$1(t,{onBeforeEnter(pe){callHook(re,[pe]),addTransitionClass(pe,a),addTransitionClass(pe,c)},onBeforeAppear(pe){callHook(A,[pe]),addTransitionClass(pe,D),addTransitionClass(pe,v)},onEnter:j(!1),onAppear:j(!0),onLeave(pe,be){pe._isLeaving=!0;const De=()=>I(pe,be);addTransitionClass(pe,f),forceReflow(),addTransitionClass(pe,w),nextFrame(()=>{!pe._isLeaving||(removeTransitionClass(pe,f),addTransitionClass(pe,F),hasExplicitCallback(ue)||whenTransitionEnds(pe,i,ee,De))}),callHook(ue,[pe,De])},onEnterCancelled(pe){ie(pe,!1),callHook(ce,[pe])},onAppearCancelled(pe){ie(pe,!0),callHook(le,[pe])},onLeaveCancelled(pe){I(pe),callHook(de,[pe])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){const t=toNumber(e);return assertNumber(t,"<transition> explicit duration"),t}function addTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,r,i){const l=e._endId=++endId,a=()=>{l===e._endId&&i()};if(r)return setTimeout(a,r);const{type:c,timeout:d,propCount:D}=getTransitionInfo(e,t);if(!c)return i();const v=c+"end";let C=0;const f=()=>{e.removeEventListener(v,w),a()},w=F=>{F.target===e&&++C>=D&&f()};setTimeout(()=>{C<D&&f()},d+1),e.addEventListener(v,w)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),i=T=>(r[T]||"").split(", "),l=i(`${TRANSITION}Delay`),a=i(`${TRANSITION}Duration`),c=getTimeout(l,a),d=i(`${ANIMATION}Delay`),D=i(`${ANIMATION}Duration`),v=getTimeout(d,D);let C=null,f=0,w=0;t===TRANSITION?c>0&&(C=TRANSITION,f=c,w=a.length):t===ANIMATION?v>0&&(C=ANIMATION,f=v,w=D.length):(f=Math.max(c,v),C=f>0?c>v?TRANSITION:ANIMATION:null,w=C?C===TRANSITION?a.length:D.length:0);const F=C===TRANSITION&&/\b(transform|all)(,|$)/.test(i(`${TRANSITION}Property`).toString());return{type:C,timeout:f,propCount:w,hasTransform:F}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>toMs(r)+toMs(e[i])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=getCurrentInstance$1(),i=useTransitionState();let l,a;return onUpdated(()=>{if(!l.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(l[0].el,r.vnode.el,c))return;l.forEach(callPendingCbs),l.forEach(recordPosition);const d=l.filter(applyTranslation);forceReflow(),d.forEach(D=>{const v=D.el,C=v.style;addTransitionClass(v,c),C.transform=C.webkitTransform=C.transitionDuration="";const f=v._moveCb=w=>{w&&w.target!==v||(!w||/transform$/.test(w.propertyName))&&(v.removeEventListener("transitionend",f),v._moveCb=null,removeTransitionClass(v,c))};v.addEventListener("transitionend",f)})}),()=>{const c=toRaw(e),d=resolveTransitionProps(c);let D=c.tag||Fragment;l=a,a=t.default?getTransitionRawChildren(t.default()):[];for(let v=0;v<a.length;v++){const C=a[v];C.key!=null?setTransitionHooks(C,resolveTransitionHooks(C,d,i,r)):warn("<TransitionGroup> children must be keyed.")}if(l)for(let v=0;v<l.length;v++){const C=l[v];setTransitionHooks(C,resolveTransitionHooks(C,d,i,r)),positionMap.set(C,C.el.getBoundingClientRect())}return createVNode(D,null,a)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),r=newPositionMap.get(e),i=t.left-r.left,l=t.top-r.top;if(i||l){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${l}px)`,a.transitionDuration="0s",e}}function hasCSSTransform(e,t,r){const i=e.cloneNode();e._vtc&&e._vtc.forEach(c=>{c.split(/\s+/).forEach(d=>d&&i.classList.remove(d))}),r.split(/\s+/).forEach(c=>c&&i.classList.add(c)),i.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(i);const{hasTransform:a}=getTransitionInfo(i);return l.removeChild(i),a}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:r,number:i}},l){e._assign=getModelAssigner(l);const a=i||l.props&&l.props.type==="number";addEventListener(e,t?"change":"input",c=>{if(c.target.composing)return;let d=e.value;r&&(d=d.trim()),a&&(d=looseToNumber(d)),e._assign(d)}),r&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:i,number:l}},a){if(e._assign=getModelAssigner(a),e.composing||document.activeElement===e&&e.type!=="range"&&(r||i&&e.value.trim()===t||(l||e.type==="number")&&looseToNumber(e.value)===t))return;const c=t??"";e.value!==c&&(e.value=c)}},vModelCheckbox={deep:!0,created(e,t,r){e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{const i=e._modelValue,l=getValue(e),a=e.checked,c=e._assign;if(isArray$1(i)){const d=looseIndexOf(i,l),D=d!==-1;if(a&&!D)c(i.concat(l));else if(!a&&D){const v=[...i];v.splice(d,1),c(v)}}else if(isSet(i)){const d=new Set(i);a?d.add(l):d.delete(l),c(d)}else c(getCheckboxValue(e,a))})},mounted:setChecked,beforeUpdate(e,t,r){e._assign=getModelAssigner(r),setChecked(e,t,r)}};function setChecked(e,{value:t,oldValue:r},i){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,i.props.value)>-1:isSet(t)?e.checked=t.has(i.props.value):t!==r&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},r){e.checked=looseEqual(t,r.props.value),e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e._assign=getModelAssigner(i),t!==r&&(e.checked=looseEqual(t,i.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const l=isSet(t);addEventListener(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>r?looseToNumber(getValue(c)):getValue(c));e._assign(e.multiple?l?new Set(a):a:a[0])}),e._assign=getModelAssigner(i)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,r){e._assign=getModelAssigner(r)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const r=e.multiple;if(r&&!isArray$1(t)&&!isSet(t)){warn(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let i=0,l=e.options.length;i<l;i++){const a=e.options[i],c=getValue(a);if(r)isArray$1(t)?a.selected=looseIndexOf(t,c)>-1:a.selected=t.has(c);else if(looseEqual(getValue(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const vModelDynamic={created(e,t,r){callModelHook(e,t,r,null,"created")},mounted(e,t,r){callModelHook(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){callModelHook(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){callModelHook(e,t,r,i,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,r,i,l){const c=resolveDynamicModel(e.tagName,r.props&&r.props.type)[l];c&&c(e,t,r,i)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>(r,...i)=>{for(let l=0;l<t.length;l++){const a=modifierGuards[t[l]];if(a&&a(r,t))return}return e(r,...i)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>r=>{if(!("key"in r))return;const i=hyphenate(r.key);if(t.some(l=>l===i||keyNames[l]===i))return e(r)},vShow={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),setDisplay(e,!0),i.enter(e)):i.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e);injectNativeTagCheck(t),injectCompilerOptionsCheck(t);const{mount:r}=t;return t.mount=i=>{const l=normalizeContainer(i);if(!l)return;const a=t._component;!isFunction$2(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.innerHTML="";const c=r(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),c},t};function injectNativeTagCheck(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>isHTMLTag(t)||isSVGTag(t),writable:!1})}function injectCompilerOptionsCheck(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){warn("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const r=e.config.compilerOptions,i='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return warn(i),r},set(){warn(i)}})}}function normalizeContainer(e){if(isString$2(e)){const t=document.querySelector(e);return t||warn(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&warn('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function initDev(){initCustomFormatter()}initDev();const __vite_glob_0_0=""+new URL("mxdrawassembly_min.8cebdfac.js",import.meta.url).href,__vite_glob_0_1=""+new URL("mxdrawassembly_min.2c933026.wasm",import.meta.url).href,__vite_glob_0_2=""+new URL("mxdrawassembly_min.worker.ded005df.js",import.meta.url).href,__vite_glob_1_0=""+new URL("mxdrawassembly_min.c9e64b94.js",import.meta.url).href,__vite_glob_1_1=""+new URL("mxdrawassembly_minst.fe7fbb10.wasm",import.meta.url).href,scriptRel="modulepreload",assetsURL=function(e,t){return new URL(e,t).href},seen={},__vitePreload=function(t,r,i){if(!r||r.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=assetsURL(a,i),a in seen)return;seen[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!i)for(let C=l.length-1;C>=0;C--){const f=l[C];if(f.href===a&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${d}`))return;const v=document.createElement("link");if(v.rel=c?"stylesheet":scriptRel,c||(v.as="script",v.crossOrigin=""),v.href=a,document.head.appendChild(v),c)return new Promise((C,f)=>{v.addEventListener("load",C),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var __awaiter$k=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function dynamicImport(e){return __awaiter$k(this,void 0,void 0,function*(){let t;switch(e){case"jquery":t=yield dynamicImportJquery();break;case"element-resize-event-polyfill":t=yield dynamicImportResize()}return t})}function dynamicImportResize(){return __awaiter$k(this,void 0,void 0,function*(){try{const e=yield __vitePreload(()=>import("./element-resize-event-polyfill.umd.min.cc5cc0c8.js").then(t=>t.e),[],import.meta.url);return e.default?e.default:e}catch(e){console.log("import\u52A8\u6001\u5BFC\u5165\uFF1Aelement-resize-event-polyfill\u5931\u8D25\uFF01",e)}})}function dynamicImportJquery(){return __awaiter$k(this,void 0,void 0,function*(){try{const e=yield __vitePreload(()=>Promise.resolve().then(()=>jquery$1),void 0,import.meta.url);return e.default?e.default:e}catch(e){console.log("import\u52A8\u6001\u5BFC\u5165\uFF1Ajquery\u5931\u8D25\uFF01",e)}})}let _mapDynamicCreate=null;function intiDynamicCreateMxObject(){_mapDynamicCreate||((_mapDynamicCreate={}).MxDbArea=()=>__vitePreload(()=>Promise.resolve().then(()=>index$8),void 0,import.meta.url),_mapDynamicCreate.MxDbLeadTag=()=>__vitePreload(()=>Promise.resolve().then(()=>index$7),void 0,import.meta.url),_mapDynamicCreate.MxDbCoord=()=>__vitePreload(()=>Promise.resolve().then(()=>index$c),void 0,import.meta.url),_mapDynamicCreate.MxDb2LineAngularDimension=()=>__vitePreload(()=>Promise.resolve().then(()=>index$e),void 0,import.meta.url),_mapDynamicCreate.Mx3PointArc=()=>__vitePreload(()=>Promise.resolve().then(()=>index$d),void 0,import.meta.url),_mapDynamicCreate.MxDbAnyLine=()=>__vitePreload(()=>Promise.resolve().then(()=>index$6),void 0,import.meta.url),_mapDynamicCreate.MxDbCloudLine=()=>__vitePreload(()=>Promise.resolve().then(()=>index$5),void 0,import.meta.url),_mapDynamicCreate.MxDbLeadComment=()=>__vitePreload(()=>Promise.resolve().then(()=>index$3),void 0,import.meta.url),_mapDynamicCreate.MxDbRectBoxLeadComment=()=>__vitePreload(()=>Promise.resolve().then(()=>index$2),void 0,import.meta.url),_mapDynamicCreate.MxDbEllipse=()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0,import.meta.url),_mapDynamicCreate.MxDbText=()=>__vitePreload(()=>Promise.resolve().then(()=>index),void 0,import.meta.url),_mapDynamicCreate.MxDbRegularPolygon=()=>__vitePreload(()=>Promise.resolve().then(()=>index$4),void 0,import.meta.url),_mapDynamicCreate.MxDbHatch=()=>__vitePreload(()=>Promise.resolve().then(()=>index$9),void 0,import.meta.url),_mapDynamicCreate.MxDbHatch=()=>__vitePreload(()=>Promise.resolve().then(()=>index$9),void 0,import.meta.url))}function dynamicCreateMxObject(e){return __awaiter$k(this,void 0,void 0,function*(){let t;switch(intiDynamicCreateMxObject(),e){case"MxDbSVG":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$g),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}break;case"MxDbImage":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$i),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}break;case"MxDbRect":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$b),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}break;case"MxDbSVGText":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$h),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}break;case"MxDbPolyline":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$f),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}break;case"MxDbAlignedDimension":try{t=yield __vitePreload(()=>Promise.resolve().then(()=>index$a),void 0,import.meta.url)}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}}if(!t&&_mapDynamicCreate[e])try{t=yield _mapDynamicCreate[e]()}catch(r){console.log("import\uFF1A"+e+"error\uFF01",r)}return t?t.default?t.default:t:(console.log("mx dynmac load:"+e+" failed"),null)})}class PubSub{constructor(){this.events={}}on(t,r){let i=this;return i.events.hasOwnProperty(t)||(i.events[t]=[]),i.events[t].push(r)}emit(t,...r){return this.events.hasOwnProperty(t)?this.events[t].map(i=>i(...r)):[]}off(t,r){if(this.events[t]){const i=this.events[t].indexOf(r);this.events[t].splice(i,1)}}}class Store{constructor(t){let r=this;r.actions={},r.mutations={},r.state=t.state,r.status="resting",r.events=new PubSub,t.hasOwnProperty("actions")&&(r.actions=t.actions),t.hasOwnProperty("mutations")&&(r.mutations=t.mutations)}dispatch(t,r){return typeof this.actions[t]!="function"?(console.error(`Action "${t} doesn't exist.`),!1):(console.groupCollapsed(`ACTION: ${t}`),this.status="action",this.actions[t](this,r),console.groupEnd(),!0)}commit(t,r){if(typeof this.mutations[t]!="function")return console.log(`Mutation "${t}" doesn't exist`),!1;this.status="mutation";let i=this.mutations[t](this.state,r);return this.state=Object.assign(this.state,i),!0}}const Store$1=Store,options={state:{MxFun:null,Mxassembly:null,isCreateDrawObj:!1},actions:{},mutations:{}};for(let e in options.state){const t=e.charAt(0).toUpperCase()+e.slice(1);options.mutations["set"+t]=(r,i)=>{r[e]=i}}const store=new Store$1(options),store$1=store;function mxfun(){(function e(t,r,i){function l(d,D){if(!r[d]){if(!t[d]){var v=typeof require=="function"&&require;if(!D&&v)return v(d,!0);if(a)return a(d,!0);var C=new Error("Cannot find module '"+d+"'");throw C.code="MODULE_NOT_FOUND",C}var f=r[d]={exports:{}};t[d][0].call(f.exports,function(w){return l(t[d][1][w]||w)},f,f.exports,e,t,r,i)}return r[d].exports}for(var a=typeof require=="function"&&require,c=0;c<i.length;c++)l(i[c]);return l})({1:[function(e,t,r){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":2,"./lib/inflate":3,"./lib/utils/common":4,"./lib/zlib/constants":7}],2:[function(e,t,r){var i=e("./zlib/deflate"),l=e("./utils/common"),a=e("./utils/strings"),c=e("./zlib/messages"),d=e("./zlib/zstream"),D=Object.prototype.toString,v=0,C=-1,f=0,w=8;function F(R){if(!(this instanceof F))return new F(R);this.options=l.assign({level:C,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},R||{});var ee=this.options;ee.raw&&0<ee.windowBits?ee.windowBits=-ee.windowBits:ee.gzip&&0<ee.windowBits&&ee.windowBits<16&&(ee.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var re=i.deflateInit2(this.strm,ee.level,ee.method,ee.windowBits,ee.memLevel,ee.strategy);if(re!==v)throw new Error(c[re]);if(ee.header&&i.deflateSetHeader(this.strm,ee.header),ee.dictionary){var ae;if(ae=typeof ee.dictionary=="string"?a.string2buf(ee.dictionary):D.call(ee.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ee.dictionary):ee.dictionary,(re=i.deflateSetDictionary(this.strm,ae))!==v)throw new Error(c[re]);this._dict_set=!0}}function T(R,ee){var re=new F(ee);if(re.push(R,!0),re.err)throw re.msg||c[re.err];return re.result}F.prototype.push=function(R,ee){var re,ae,ce=this.strm,ue=this.options.chunkSize;if(this.ended)return!1;ae=ee===~~ee?ee:ee===!0?4:0,typeof R=="string"?ce.input=a.string2buf(R):D.call(R)==="[object ArrayBuffer]"?ce.input=new Uint8Array(R):ce.input=R,ce.next_in=0,ce.avail_in=ce.input.length;do{if(ce.avail_out===0&&(ce.output=new l.Buf8(ue),ce.next_out=0,ce.avail_out=ue),(re=i.deflate(ce,ae))!==1&&re!==v)return this.onEnd(re),!(this.ended=!0);ce.avail_out!==0&&(ce.avail_in!==0||ae!==4&&ae!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(l.shrinkBuf(ce.output,ce.next_out))):this.onData(l.shrinkBuf(ce.output,ce.next_out)))}while((0<ce.avail_in||ce.avail_out===0)&&re!==1);return ae===4?(re=i.deflateEnd(this.strm),this.onEnd(re),this.ended=!0,re===v):ae!==2||(this.onEnd(v),!(ce.avail_out=0))},F.prototype.onData=function(R){this.chunks.push(R)},F.prototype.onEnd=function(R){R===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},r.Deflate=F,r.deflate=T,r.deflateRaw=function(R,ee){return(ee=ee||{}).raw=!0,T(R,ee)},r.gzip=function(R,ee){return(ee=ee||{}).gzip=!0,T(R,ee)}},{"./utils/common":4,"./utils/strings":5,"./zlib/deflate":9,"./zlib/messages":14,"./zlib/zstream":16}],3:[function(e,t,r){var i=e("./zlib/inflate"),l=e("./utils/common"),a=e("./utils/strings"),c=e("./zlib/constants"),d=e("./zlib/messages"),D=e("./zlib/zstream"),v=e("./zlib/gzheader"),C=Object.prototype.toString;function f(F){if(!(this instanceof f))return new f(F);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},F||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||F&&F.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&(15&T.windowBits)==0&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var R=i.inflateInit2(this.strm,T.windowBits);if(R!==c.Z_OK)throw new Error(d[R]);if(this.header=new v,i.inflateGetHeader(this.strm,this.header),T.dictionary&&(typeof T.dictionary=="string"?T.dictionary=a.string2buf(T.dictionary):C.call(T.dictionary)==="[object ArrayBuffer]"&&(T.dictionary=new Uint8Array(T.dictionary)),T.raw&&(R=i.inflateSetDictionary(this.strm,T.dictionary))!==c.Z_OK))throw new Error(d[R])}function w(F,T){var R=new f(T);if(R.push(F,!0),R.err)throw R.msg||d[R.err];return R.result}f.prototype.push=function(F,T){var R,ee,re,ae,ce,ue=this.strm,de=this.options.chunkSize,A=this.options.dictionary,oe=!1;if(this.ended)return!1;ee=T===~~T?T:T===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof F=="string"?ue.input=a.binstring2buf(F):C.call(F)==="[object ArrayBuffer]"?ue.input=new Uint8Array(F):ue.input=F,ue.next_in=0,ue.avail_in=ue.input.length;do{if(ue.avail_out===0&&(ue.output=new l.Buf8(de),ue.next_out=0,ue.avail_out=de),(R=i.inflate(ue,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&A&&(R=i.inflateSetDictionary(this.strm,A)),R===c.Z_BUF_ERROR&&oe===!0&&(R=c.Z_OK,oe=!1),R!==c.Z_STREAM_END&&R!==c.Z_OK)return this.onEnd(R),!(this.ended=!0);ue.next_out&&(ue.avail_out!==0&&R!==c.Z_STREAM_END&&(ue.avail_in!==0||ee!==c.Z_FINISH&&ee!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(re=a.utf8border(ue.output,ue.next_out),ae=ue.next_out-re,ce=a.buf2string(ue.output,re),ue.next_out=ae,ue.avail_out=de-ae,ae&&l.arraySet(ue.output,ue.output,re,ae,0),this.onData(ce)):this.onData(l.shrinkBuf(ue.output,ue.next_out)))),ue.avail_in===0&&ue.avail_out===0&&(oe=!0)}while((0<ue.avail_in||ue.avail_out===0)&&R!==c.Z_STREAM_END);return R===c.Z_STREAM_END&&(ee=c.Z_FINISH),ee===c.Z_FINISH?(R=i.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===c.Z_OK):ee!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(ue.avail_out=0))},f.prototype.onData=function(F){this.chunks.push(F)},f.prototype.onEnd=function(F){F===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},r.Inflate=f,r.inflate=w,r.inflateRaw=function(F,T){return(T=T||{}).raw=!0,w(F,T)},r.ungzip=w},{"./utils/common":4,"./utils/strings":5,"./zlib/constants":7,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":16}],4:[function(e,t,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var d,D,v=Array.prototype.slice.call(arguments,1);v.length;){var C=v.shift();if(C){if(typeof C!="object")throw new TypeError(C+"must be non-object");for(var f in C)d=C,D=f,Object.prototype.hasOwnProperty.call(d,D)&&(c[f]=C[f])}}return c},r.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var l={arraySet:function(c,d,D,v,C){if(d.subarray&&c.subarray)c.set(d.subarray(D,D+v),C);else for(var f=0;f<v;f++)c[C+f]=d[D+f]},flattenChunks:function(c){var d,D,v,C,f,w;for(d=v=0,D=c.length;d<D;d++)v+=c[d].length;for(w=new Uint8Array(v),d=C=0,D=c.length;d<D;d++)f=c[d],w.set(f,C),C+=f.length;return w}},a={arraySet:function(c,d,D,v,C){for(var f=0;f<v;f++)c[C+f]=d[D+f]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,l)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},{}],5:[function(e,t,r){var i=e("./common"),l=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function D(v,C){if(C<65534&&(v.subarray&&a||!v.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(v,C));for(var f="",w=0;w<C;w++)f+=String.fromCharCode(v[w]);return f}c[254]=c[254]=1,r.string2buf=function(v){var C,f,w,F,T,R=v.length,ee=0;for(F=0;F<R;F++)(64512&(f=v.charCodeAt(F)))==55296&&F+1<R&&(64512&(w=v.charCodeAt(F+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),F++),ee+=f<128?1:f<2048?2:f<65536?3:4;for(C=new i.Buf8(ee),F=T=0;T<ee;F++)(64512&(f=v.charCodeAt(F)))==55296&&F+1<R&&(64512&(w=v.charCodeAt(F+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),F++),f<128?C[T++]=f:(f<2048?C[T++]=192|f>>>6:(f<65536?C[T++]=224|f>>>12:(C[T++]=240|f>>>18,C[T++]=128|f>>>12&63),C[T++]=128|f>>>6&63),C[T++]=128|63&f);return C},r.buf2binstring=function(v){return D(v,v.length)},r.binstring2buf=function(v){for(var C=new i.Buf8(v.length),f=0,w=C.length;f<w;f++)C[f]=v.charCodeAt(f);return C},r.buf2string=function(v,C){var f,w,F,T,R=C||v.length,ee=new Array(2*R);for(f=w=0;f<R;)if((F=v[f++])<128)ee[w++]=F;else if(4<(T=c[F]))ee[w++]=65533,f+=T-1;else{for(F&=T===2?31:T===3?15:7;1<T&&f<R;)F=F<<6|63&v[f++],T--;1<T?ee[w++]=65533:F<65536?ee[w++]=F:(F-=65536,ee[w++]=55296|F>>10&1023,ee[w++]=56320|1023&F)}return D(ee,w)},r.utf8border=function(v,C){var f;for((C=C||v.length)>v.length&&(C=v.length),f=C-1;0<=f&&(192&v[f])==128;)f--;return!(f<0)&&f!==0&&f+c[v[f]]>C?f:C}},{"./common":4}],6:[function(e,t,r){t.exports=function(i,l,a,c){for(var d=65535&i|0,D=i>>>16&65535|0,v=0;a!==0;){for(a-=v=2e3<a?2e3:a;D=D+(d=d+l[c++]|0)|0,--v;);d%=65521,D%=65521}return d|D<<16|0}},{}],7:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],8:[function(e,t,r){var i=function(){for(var l,a=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;a[c]=l}return a}();t.exports=function(l,a,c,d){var D=i,v=d+c;l^=-1;for(var C=d;C<v;C++)l=l>>>8^D[255&(l^a[C])];return-1^l}},{}],9:[function(e,t,r){var i,l=e("../utils/common"),a=e("./trees"),c=e("./adler32"),d=e("./crc32"),D=e("./messages"),v=0,C=4,f=0,w=-2,F=-1,T=4,R=2,ee=8,re=9,ae=286,ce=30,ue=19,de=2*ae+1,A=15,oe=3,le=258,ie=le+oe+1,I=42,j=113,pe=1,be=2,De=3,Re=4;function Ee(me,Ae){return me.msg=D[Ae],Ae}function Se(me){return(me<<1)-(4<me?9:0)}function Le(me){for(var Ae=me.length;0<=--Ae;)me[Ae]=0}function Ie(me){var Ae=me.state,Oe=Ae.pending;Oe>me.avail_out&&(Oe=me.avail_out),Oe!==0&&(l.arraySet(me.output,Ae.pending_buf,Ae.pending_out,Oe,me.next_out),me.next_out+=Oe,Ae.pending_out+=Oe,me.total_out+=Oe,me.avail_out-=Oe,Ae.pending-=Oe,Ae.pending===0&&(Ae.pending_out=0))}function st(me,Ae){a._tr_flush_block(me,0<=me.block_start?me.block_start:-1,me.strstart-me.block_start,Ae),me.block_start=me.strstart,Ie(me.strm)}function Ye(me,Ae){me.pending_buf[me.pending++]=Ae}function Ke(me,Ae){me.pending_buf[me.pending++]=Ae>>>8&255,me.pending_buf[me.pending++]=255&Ae}function St(me,Ae){var Oe,Pe,$e=me.max_chain_length,tt=me.strstart,qe=me.prev_length,dt=me.nice_match,ft=me.strstart>me.w_size-ie?me.strstart-(me.w_size-ie):0,Ft=me.window,it=me.w_mask,zt=me.prev,pt=me.strstart+le,ut=Ft[tt+qe-1],Gt=Ft[tt+qe];me.prev_length>=me.good_match&&($e>>=2),dt>me.lookahead&&(dt=me.lookahead);do if(Ft[(Oe=Ae)+qe]===Gt&&Ft[Oe+qe-1]===ut&&Ft[Oe]===Ft[tt]&&Ft[++Oe]===Ft[tt+1]){tt+=2,Oe++;do;while(Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&Ft[++tt]===Ft[++Oe]&&tt<pt);if(Pe=le-(pt-tt),tt=pt-le,qe<Pe){if(me.match_start=Ae,dt<=(qe=Pe))break;ut=Ft[tt+qe-1],Gt=Ft[tt+qe]}}while((Ae=zt[Ae&it])>ft&&--$e!=0);return qe<=me.lookahead?qe:me.lookahead}function ct(me){var Ae,Oe,Pe,$e,tt,qe,dt,ft,Ft,it,zt=me.w_size;do{if($e=me.window_size-me.lookahead-me.strstart,me.strstart>=zt+(zt-ie)){for(l.arraySet(me.window,me.window,zt,zt,0),me.match_start-=zt,me.strstart-=zt,me.block_start-=zt,Ae=Oe=me.hash_size;Pe=me.head[--Ae],me.head[Ae]=zt<=Pe?Pe-zt:0,--Oe;);for(Ae=Oe=zt;Pe=me.prev[--Ae],me.prev[Ae]=zt<=Pe?Pe-zt:0,--Oe;);$e+=zt}if(me.strm.avail_in===0)break;if(qe=me.strm,dt=me.window,ft=me.strstart+me.lookahead,it=void 0,(Ft=$e)<(it=qe.avail_in)&&(it=Ft),Oe=it===0?0:(qe.avail_in-=it,l.arraySet(dt,qe.input,qe.next_in,it,ft),qe.state.wrap===1?qe.adler=c(qe.adler,dt,it,ft):qe.state.wrap===2&&(qe.adler=d(qe.adler,dt,it,ft)),qe.next_in+=it,qe.total_in+=it,it),me.lookahead+=Oe,me.lookahead+me.insert>=oe)for(tt=me.strstart-me.insert,me.ins_h=me.window[tt],me.ins_h=(me.ins_h<<me.hash_shift^me.window[tt+1])&me.hash_mask;me.insert&&(me.ins_h=(me.ins_h<<me.hash_shift^me.window[tt+oe-1])&me.hash_mask,me.prev[tt&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=tt,tt++,me.insert--,!(me.lookahead+me.insert<oe)););}while(me.lookahead<ie&&me.strm.avail_in!==0)}function Ct(me,Ae){for(var Oe,Pe;;){if(me.lookahead<ie){if(ct(me),me.lookahead<ie&&Ae===v)return pe;if(me.lookahead===0)break}if(Oe=0,me.lookahead>=oe&&(me.ins_h=(me.ins_h<<me.hash_shift^me.window[me.strstart+oe-1])&me.hash_mask,Oe=me.prev[me.strstart&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=me.strstart),Oe!==0&&me.strstart-Oe<=me.w_size-ie&&(me.match_length=St(me,Oe)),me.match_length>=oe)if(Pe=a._tr_tally(me,me.strstart-me.match_start,me.match_length-oe),me.lookahead-=me.match_length,me.match_length<=me.max_lazy_match&&me.lookahead>=oe){for(me.match_length--;me.strstart++,me.ins_h=(me.ins_h<<me.hash_shift^me.window[me.strstart+oe-1])&me.hash_mask,Oe=me.prev[me.strstart&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=me.strstart,--me.match_length!=0;);me.strstart++}else me.strstart+=me.match_length,me.match_length=0,me.ins_h=me.window[me.strstart],me.ins_h=(me.ins_h<<me.hash_shift^me.window[me.strstart+1])&me.hash_mask;else Pe=a._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++;if(Pe&&(st(me,!1),me.strm.avail_out===0))return pe}return me.insert=me.strstart<oe-1?me.strstart:oe-1,Ae===C?(st(me,!0),me.strm.avail_out===0?De:Re):me.last_lit&&(st(me,!1),me.strm.avail_out===0)?pe:be}function Pt(me,Ae){for(var Oe,Pe,$e;;){if(me.lookahead<ie){if(ct(me),me.lookahead<ie&&Ae===v)return pe;if(me.lookahead===0)break}if(Oe=0,me.lookahead>=oe&&(me.ins_h=(me.ins_h<<me.hash_shift^me.window[me.strstart+oe-1])&me.hash_mask,Oe=me.prev[me.strstart&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=me.strstart),me.prev_length=me.match_length,me.prev_match=me.match_start,me.match_length=oe-1,Oe!==0&&me.prev_length<me.max_lazy_match&&me.strstart-Oe<=me.w_size-ie&&(me.match_length=St(me,Oe),me.match_length<=5&&(me.strategy===1||me.match_length===oe&&4096<me.strstart-me.match_start)&&(me.match_length=oe-1)),me.prev_length>=oe&&me.match_length<=me.prev_length){for($e=me.strstart+me.lookahead-oe,Pe=a._tr_tally(me,me.strstart-1-me.prev_match,me.prev_length-oe),me.lookahead-=me.prev_length-1,me.prev_length-=2;++me.strstart<=$e&&(me.ins_h=(me.ins_h<<me.hash_shift^me.window[me.strstart+oe-1])&me.hash_mask,Oe=me.prev[me.strstart&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=me.strstart),--me.prev_length!=0;);if(me.match_available=0,me.match_length=oe-1,me.strstart++,Pe&&(st(me,!1),me.strm.avail_out===0))return pe}else if(me.match_available){if((Pe=a._tr_tally(me,0,me.window[me.strstart-1]))&&st(me,!1),me.strstart++,me.lookahead--,me.strm.avail_out===0)return pe}else me.match_available=1,me.strstart++,me.lookahead--}return me.match_available&&(Pe=a._tr_tally(me,0,me.window[me.strstart-1]),me.match_available=0),me.insert=me.strstart<oe-1?me.strstart:oe-1,Ae===C?(st(me,!0),me.strm.avail_out===0?De:Re):me.last_lit&&(st(me,!1),me.strm.avail_out===0)?pe:be}function bt(me,Ae,Oe,Pe,$e){this.good_length=me,this.max_lazy=Ae,this.nice_length=Oe,this.max_chain=Pe,this.func=$e}function an(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ee,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*de),this.dyn_dtree=new l.Buf16(2*(2*ce+1)),this.bl_tree=new l.Buf16(2*(2*ue+1)),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(A+1),this.heap=new l.Buf16(2*ae+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*ae+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Yt(me){var Ae;return me&&me.state?(me.total_in=me.total_out=0,me.data_type=R,(Ae=me.state).pending=0,Ae.pending_out=0,Ae.wrap<0&&(Ae.wrap=-Ae.wrap),Ae.status=Ae.wrap?I:j,me.adler=Ae.wrap===2?0:1,Ae.last_flush=v,a._tr_init(Ae),f):Ee(me,w)}function Ne(me){var Ae,Oe=Yt(me);return Oe===f&&((Ae=me.state).window_size=2*Ae.w_size,Le(Ae.head),Ae.max_lazy_match=i[Ae.level].max_lazy,Ae.good_match=i[Ae.level].good_length,Ae.nice_match=i[Ae.level].nice_length,Ae.max_chain_length=i[Ae.level].max_chain,Ae.strstart=0,Ae.block_start=0,Ae.lookahead=0,Ae.insert=0,Ae.match_length=Ae.prev_length=oe-1,Ae.match_available=0,Ae.ins_h=0),Oe}function mt(me,Ae,Oe,Pe,$e,tt){if(!me)return w;var qe=1;if(Ae===F&&(Ae=6),Pe<0?(qe=0,Pe=-Pe):15<Pe&&(qe=2,Pe-=16),$e<1||re<$e||Oe!==ee||Pe<8||15<Pe||Ae<0||9<Ae||tt<0||T<tt)return Ee(me,w);Pe===8&&(Pe=9);var dt=new an;return(me.state=dt).strm=me,dt.wrap=qe,dt.gzhead=null,dt.w_bits=Pe,dt.w_size=1<<dt.w_bits,dt.w_mask=dt.w_size-1,dt.hash_bits=$e+7,dt.hash_size=1<<dt.hash_bits,dt.hash_mask=dt.hash_size-1,dt.hash_shift=~~((dt.hash_bits+oe-1)/oe),dt.window=new l.Buf8(2*dt.w_size),dt.head=new l.Buf16(dt.hash_size),dt.prev=new l.Buf16(dt.w_size),dt.lit_bufsize=1<<$e+6,dt.pending_buf_size=4*dt.lit_bufsize,dt.pending_buf=new l.Buf8(dt.pending_buf_size),dt.d_buf=+dt.lit_bufsize,dt.l_buf=3*dt.lit_bufsize,dt.level=Ae,dt.strategy=tt,dt.method=Oe,Ne(me)}i=[new bt(0,0,0,0,function(me,Ae){var Oe=65535;for(Oe>me.pending_buf_size-5&&(Oe=me.pending_buf_size-5);;){if(me.lookahead<=1){if(ct(me),me.lookahead===0&&Ae===v)return pe;if(me.lookahead===0)break}me.strstart+=me.lookahead,me.lookahead=0;var Pe=me.block_start+Oe;if((me.strstart===0||me.strstart>=Pe)&&(me.lookahead=me.strstart-Pe,me.strstart=Pe,st(me,!1),me.strm.avail_out===0)||me.strstart-me.block_start>=me.w_size-ie&&(st(me,!1),me.strm.avail_out===0))return pe}return me.insert=0,Ae===C?(st(me,!0),me.strm.avail_out===0?De:Re):(me.strstart>me.block_start&&(st(me,!1),me.strm.avail_out),pe)}),new bt(4,4,8,4,Ct),new bt(4,5,16,8,Ct),new bt(4,6,32,32,Ct),new bt(4,4,16,16,Pt),new bt(8,16,32,32,Pt),new bt(8,16,128,128,Pt),new bt(8,32,128,256,Pt),new bt(32,128,258,1024,Pt),new bt(32,258,258,4096,Pt)],r.deflateInit=function(me,Ae){return mt(me,Ae,ee,15,8,0)},r.deflateInit2=mt,r.deflateReset=Ne,r.deflateResetKeep=Yt,r.deflateSetHeader=function(me,Ae){return me&&me.state&&me.state.wrap===2?(me.state.gzhead=Ae,f):w},r.deflate=function(me,Ae){var Oe,Pe,$e,tt;if(!me||!me.state||5<Ae||Ae<0)return me?Ee(me,w):w;if(Pe=me.state,!me.output||!me.input&&me.avail_in!==0||Pe.status===666&&Ae!==C)return Ee(me,me.avail_out===0?-5:w);if(Pe.strm=me,Oe=Pe.last_flush,Pe.last_flush=Ae,Pe.status===I)if(Pe.wrap===2)me.adler=0,Ye(Pe,31),Ye(Pe,139),Ye(Pe,8),Pe.gzhead?(Ye(Pe,(Pe.gzhead.text?1:0)+(Pe.gzhead.hcrc?2:0)+(Pe.gzhead.extra?4:0)+(Pe.gzhead.name?8:0)+(Pe.gzhead.comment?16:0)),Ye(Pe,255&Pe.gzhead.time),Ye(Pe,Pe.gzhead.time>>8&255),Ye(Pe,Pe.gzhead.time>>16&255),Ye(Pe,Pe.gzhead.time>>24&255),Ye(Pe,Pe.level===9?2:2<=Pe.strategy||Pe.level<2?4:0),Ye(Pe,255&Pe.gzhead.os),Pe.gzhead.extra&&Pe.gzhead.extra.length&&(Ye(Pe,255&Pe.gzhead.extra.length),Ye(Pe,Pe.gzhead.extra.length>>8&255)),Pe.gzhead.hcrc&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending,0)),Pe.gzindex=0,Pe.status=69):(Ye(Pe,0),Ye(Pe,0),Ye(Pe,0),Ye(Pe,0),Ye(Pe,0),Ye(Pe,Pe.level===9?2:2<=Pe.strategy||Pe.level<2?4:0),Ye(Pe,3),Pe.status=j);else{var qe=ee+(Pe.w_bits-8<<4)<<8;qe|=(2<=Pe.strategy||Pe.level<2?0:Pe.level<6?1:Pe.level===6?2:3)<<6,Pe.strstart!==0&&(qe|=32),qe+=31-qe%31,Pe.status=j,Ke(Pe,qe),Pe.strstart!==0&&(Ke(Pe,me.adler>>>16),Ke(Pe,65535&me.adler)),me.adler=1}if(Pe.status===69)if(Pe.gzhead.extra){for($e=Pe.pending;Pe.gzindex<(65535&Pe.gzhead.extra.length)&&(Pe.pending!==Pe.pending_buf_size||(Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),Ie(me),$e=Pe.pending,Pe.pending!==Pe.pending_buf_size));)Ye(Pe,255&Pe.gzhead.extra[Pe.gzindex]),Pe.gzindex++;Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),Pe.gzindex===Pe.gzhead.extra.length&&(Pe.gzindex=0,Pe.status=73)}else Pe.status=73;if(Pe.status===73)if(Pe.gzhead.name){$e=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),Ie(me),$e=Pe.pending,Pe.pending===Pe.pending_buf_size)){tt=1;break}tt=Pe.gzindex<Pe.gzhead.name.length?255&Pe.gzhead.name.charCodeAt(Pe.gzindex++):0,Ye(Pe,tt)}while(tt!==0);Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),tt===0&&(Pe.gzindex=0,Pe.status=91)}else Pe.status=91;if(Pe.status===91)if(Pe.gzhead.comment){$e=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),Ie(me),$e=Pe.pending,Pe.pending===Pe.pending_buf_size)){tt=1;break}tt=Pe.gzindex<Pe.gzhead.comment.length?255&Pe.gzhead.comment.charCodeAt(Pe.gzindex++):0,Ye(Pe,tt)}while(tt!==0);Pe.gzhead.hcrc&&Pe.pending>$e&&(me.adler=d(me.adler,Pe.pending_buf,Pe.pending-$e,$e)),tt===0&&(Pe.status=103)}else Pe.status=103;if(Pe.status===103&&(Pe.gzhead.hcrc?(Pe.pending+2>Pe.pending_buf_size&&Ie(me),Pe.pending+2<=Pe.pending_buf_size&&(Ye(Pe,255&me.adler),Ye(Pe,me.adler>>8&255),me.adler=0,Pe.status=j)):Pe.status=j),Pe.pending!==0){if(Ie(me),me.avail_out===0)return Pe.last_flush=-1,f}else if(me.avail_in===0&&Se(Ae)<=Se(Oe)&&Ae!==C)return Ee(me,-5);if(Pe.status===666&&me.avail_in!==0)return Ee(me,-5);if(me.avail_in!==0||Pe.lookahead!==0||Ae!==v&&Pe.status!==666){var dt=Pe.strategy===2?function(ft,Ft){for(var it;;){if(ft.lookahead===0&&(ct(ft),ft.lookahead===0)){if(Ft===v)return pe;break}if(ft.match_length=0,it=a._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++,it&&(st(ft,!1),ft.strm.avail_out===0))return pe}return ft.insert=0,Ft===C?(st(ft,!0),ft.strm.avail_out===0?De:Re):ft.last_lit&&(st(ft,!1),ft.strm.avail_out===0)?pe:be}(Pe,Ae):Pe.strategy===3?function(ft,Ft){for(var it,zt,pt,ut,Gt=ft.window;;){if(ft.lookahead<=le){if(ct(ft),ft.lookahead<=le&&Ft===v)return pe;if(ft.lookahead===0)break}if(ft.match_length=0,ft.lookahead>=oe&&0<ft.strstart&&(zt=Gt[pt=ft.strstart-1])===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]){ut=ft.strstart+le;do;while(zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&zt===Gt[++pt]&&pt<ut);ft.match_length=le-(ut-pt),ft.match_length>ft.lookahead&&(ft.match_length=ft.lookahead)}if(ft.match_length>=oe?(it=a._tr_tally(ft,1,ft.match_length-oe),ft.lookahead-=ft.match_length,ft.strstart+=ft.match_length,ft.match_length=0):(it=a._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++),it&&(st(ft,!1),ft.strm.avail_out===0))return pe}return ft.insert=0,Ft===C?(st(ft,!0),ft.strm.avail_out===0?De:Re):ft.last_lit&&(st(ft,!1),ft.strm.avail_out===0)?pe:be}(Pe,Ae):i[Pe.level].func(Pe,Ae);if(dt!==De&&dt!==Re||(Pe.status=666),dt===pe||dt===De)return me.avail_out===0&&(Pe.last_flush=-1),f;if(dt===be&&(Ae===1?a._tr_align(Pe):Ae!==5&&(a._tr_stored_block(Pe,0,0,!1),Ae===3&&(Le(Pe.head),Pe.lookahead===0&&(Pe.strstart=0,Pe.block_start=0,Pe.insert=0))),Ie(me),me.avail_out===0))return Pe.last_flush=-1,f}return Ae!==C?f:Pe.wrap<=0?1:(Pe.wrap===2?(Ye(Pe,255&me.adler),Ye(Pe,me.adler>>8&255),Ye(Pe,me.adler>>16&255),Ye(Pe,me.adler>>24&255),Ye(Pe,255&me.total_in),Ye(Pe,me.total_in>>8&255),Ye(Pe,me.total_in>>16&255),Ye(Pe,me.total_in>>24&255)):(Ke(Pe,me.adler>>>16),Ke(Pe,65535&me.adler)),Ie(me),0<Pe.wrap&&(Pe.wrap=-Pe.wrap),Pe.pending!==0?f:1)},r.deflateEnd=function(me){var Ae;return me&&me.state?(Ae=me.state.status)!==I&&Ae!==69&&Ae!==73&&Ae!==91&&Ae!==103&&Ae!==j&&Ae!==666?Ee(me,w):(me.state=null,Ae===j?Ee(me,-3):f):w},r.deflateSetDictionary=function(me,Ae){var Oe,Pe,$e,tt,qe,dt,ft,Ft,it=Ae.length;if(!me||!me.state||(tt=(Oe=me.state).wrap)===2||tt===1&&Oe.status!==I||Oe.lookahead)return w;for(tt===1&&(me.adler=c(me.adler,Ae,it,0)),Oe.wrap=0,it>=Oe.w_size&&(tt===0&&(Le(Oe.head),Oe.strstart=0,Oe.block_start=0,Oe.insert=0),Ft=new l.Buf8(Oe.w_size),l.arraySet(Ft,Ae,it-Oe.w_size,Oe.w_size,0),Ae=Ft,it=Oe.w_size),qe=me.avail_in,dt=me.next_in,ft=me.input,me.avail_in=it,me.next_in=0,me.input=Ae,ct(Oe);Oe.lookahead>=oe;){for(Pe=Oe.strstart,$e=Oe.lookahead-(oe-1);Oe.ins_h=(Oe.ins_h<<Oe.hash_shift^Oe.window[Pe+oe-1])&Oe.hash_mask,Oe.prev[Pe&Oe.w_mask]=Oe.head[Oe.ins_h],Oe.head[Oe.ins_h]=Pe,Pe++,--$e;);Oe.strstart=Pe,Oe.lookahead=oe-1,ct(Oe)}return Oe.strstart+=Oe.lookahead,Oe.block_start=Oe.strstart,Oe.insert=Oe.lookahead,Oe.lookahead=0,Oe.match_length=Oe.prev_length=oe-1,Oe.match_available=0,me.next_in=dt,me.input=ft,me.avail_in=qe,Oe.wrap=tt,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./messages":14,"./trees":15}],10:[function(e,t,r){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],11:[function(e,t,r){t.exports=function(i,l){var a,c,d,D,v,C,f,w,F,T,R,ee,re,ae,ce,ue,de,A,oe,le,ie,I,j,pe,be;a=i.state,c=i.next_in,pe=i.input,d=c+(i.avail_in-5),D=i.next_out,be=i.output,v=D-(l-i.avail_out),C=D+(i.avail_out-257),f=a.dmax,w=a.wsize,F=a.whave,T=a.wnext,R=a.window,ee=a.hold,re=a.bits,ae=a.lencode,ce=a.distcode,ue=(1<<a.lenbits)-1,de=(1<<a.distbits)-1;e:do{re<15&&(ee+=pe[c++]<<re,re+=8,ee+=pe[c++]<<re,re+=8),A=ae[ee&ue];t:for(;;){if(ee>>>=oe=A>>>24,re-=oe,(oe=A>>>16&255)==0)be[D++]=65535&A;else{if(!(16&oe)){if((64&oe)==0){A=ae[(65535&A)+(ee&(1<<oe)-1)];continue t}if(32&oe){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}le=65535&A,(oe&=15)&&(re<oe&&(ee+=pe[c++]<<re,re+=8),le+=ee&(1<<oe)-1,ee>>>=oe,re-=oe),re<15&&(ee+=pe[c++]<<re,re+=8,ee+=pe[c++]<<re,re+=8),A=ce[ee&de];n:for(;;){if(ee>>>=oe=A>>>24,re-=oe,!(16&(oe=A>>>16&255))){if((64&oe)==0){A=ce[(65535&A)+(ee&(1<<oe)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(ie=65535&A,re<(oe&=15)&&(ee+=pe[c++]<<re,(re+=8)<oe&&(ee+=pe[c++]<<re,re+=8)),f<(ie+=ee&(1<<oe)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(ee>>>=oe,re-=oe,(oe=D-v)<ie){if(F<(oe=ie-oe)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(j=R,(I=0)===T){if(I+=w-oe,oe<le){for(le-=oe;be[D++]=R[I++],--oe;);I=D-ie,j=be}}else if(T<oe){if(I+=w+T-oe,(oe-=T)<le){for(le-=oe;be[D++]=R[I++],--oe;);if(I=0,T<le){for(le-=oe=T;be[D++]=R[I++],--oe;);I=D-ie,j=be}}}else if(I+=T-oe,oe<le){for(le-=oe;be[D++]=R[I++],--oe;);I=D-ie,j=be}for(;2<le;)be[D++]=j[I++],be[D++]=j[I++],be[D++]=j[I++],le-=3;le&&(be[D++]=j[I++],1<le&&(be[D++]=j[I++]))}else{for(I=D-ie;be[D++]=be[I++],be[D++]=be[I++],be[D++]=be[I++],2<(le-=3););le&&(be[D++]=be[I++],1<le&&(be[D++]=be[I++]))}break}}break}}while(c<d&&D<C);c-=le=re>>3,ee&=(1<<(re-=le<<3))-1,i.next_in=c,i.next_out=D,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=D<C?C-D+257:257-(D-C),a.hold=ee,a.bits=re}},{}],12:[function(e,t,r){var i=e("../utils/common"),l=e("./adler32"),a=e("./crc32"),c=e("./inffast"),d=e("./inftrees"),D=1,v=2,C=0,f=-2,w=1,F=852,T=592;function R(ie){return(ie>>>24&255)+(ie>>>8&65280)+((65280&ie)<<8)+((255&ie)<<24)}function ee(ie){var I;return ie&&ie.state?(I=ie.state,ie.total_in=ie.total_out=I.total=0,ie.msg="",I.wrap&&(ie.adler=1&I.wrap),I.mode=w,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(F),I.distcode=I.distdyn=new i.Buf32(T),I.sane=1,I.back=-1,C):f}function re(ie){var I;return ie&&ie.state?((I=ie.state).wsize=0,I.whave=0,I.wnext=0,ee(ie)):f}function ae(ie,I){var j,pe;return ie&&ie.state?(pe=ie.state,I<0?(j=0,I=-I):(j=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(pe.window!==null&&pe.wbits!==I&&(pe.window=null),pe.wrap=j,pe.wbits=I,re(ie))):f}function ce(ie,I){var j,pe;return ie?(pe=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},(ie.state=pe).window=null,(j=ae(ie,I))!==C&&(ie.state=null),j):f}var ue,de,A=!0;function oe(ie){if(A){var I;for(ue=new i.Buf32(512),de=new i.Buf32(32),I=0;I<144;)ie.lens[I++]=8;for(;I<256;)ie.lens[I++]=9;for(;I<280;)ie.lens[I++]=7;for(;I<288;)ie.lens[I++]=8;for(d(D,ie.lens,0,288,ue,0,ie.work,{bits:9}),I=0;I<32;)ie.lens[I++]=5;d(v,ie.lens,0,32,de,0,ie.work,{bits:5}),A=!1}ie.lencode=ue,ie.lenbits=9,ie.distcode=de,ie.distbits=5}function le(ie,I,j,pe){var be,De=ie.state;return De.window===null&&(De.wsize=1<<De.wbits,De.wnext=0,De.whave=0,De.window=new i.Buf8(De.wsize)),pe>=De.wsize?(i.arraySet(De.window,I,j-De.wsize,De.wsize,0),De.wnext=0,De.whave=De.wsize):(pe<(be=De.wsize-De.wnext)&&(be=pe),i.arraySet(De.window,I,j-pe,be,De.wnext),(pe-=be)?(i.arraySet(De.window,I,j-pe,pe,0),De.wnext=pe,De.whave=De.wsize):(De.wnext+=be,De.wnext===De.wsize&&(De.wnext=0),De.whave<De.wsize&&(De.whave+=be))),0}r.inflateReset=re,r.inflateReset2=ae,r.inflateResetKeep=ee,r.inflateInit=function(ie){return ce(ie,15)},r.inflateInit2=ce,r.inflate=function(ie,I){var j,pe,be,De,Re,Ee,Se,Le,Ie,st,Ye,Ke,St,ct,Ct,Pt,bt,an,Yt,Ne,mt,me,Ae,Oe,Pe=0,$e=new i.Buf8(4),tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ie||!ie.state||!ie.output||!ie.input&&ie.avail_in!==0)return f;(j=ie.state).mode===12&&(j.mode=13),Re=ie.next_out,be=ie.output,Se=ie.avail_out,De=ie.next_in,pe=ie.input,Ee=ie.avail_in,Le=j.hold,Ie=j.bits,st=Ee,Ye=Se,me=C;e:for(;;)switch(j.mode){case w:if(j.wrap===0){j.mode=13;break}for(;Ie<16;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(2&j.wrap&&Le===35615){$e[j.check=0]=255&Le,$e[1]=Le>>>8&255,j.check=a(j.check,$e,2,0),Ie=Le=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&Le)<<8)+(Le>>8))%31){ie.msg="incorrect header check",j.mode=30;break}if((15&Le)!=8){ie.msg="unknown compression method",j.mode=30;break}if(Ie-=4,mt=8+(15&(Le>>>=4)),j.wbits===0)j.wbits=mt;else if(mt>j.wbits){ie.msg="invalid window size",j.mode=30;break}j.dmax=1<<mt,ie.adler=j.check=1,j.mode=512&Le?10:12,Ie=Le=0;break;case 2:for(;Ie<16;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(j.flags=Le,(255&j.flags)!=8){ie.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){ie.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=Le>>8&1),512&j.flags&&($e[0]=255&Le,$e[1]=Le>>>8&255,j.check=a(j.check,$e,2,0)),Ie=Le=0,j.mode=3;case 3:for(;Ie<32;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.head&&(j.head.time=Le),512&j.flags&&($e[0]=255&Le,$e[1]=Le>>>8&255,$e[2]=Le>>>16&255,$e[3]=Le>>>24&255,j.check=a(j.check,$e,4,0)),Ie=Le=0,j.mode=4;case 4:for(;Ie<16;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.head&&(j.head.xflags=255&Le,j.head.os=Le>>8),512&j.flags&&($e[0]=255&Le,$e[1]=Le>>>8&255,j.check=a(j.check,$e,2,0)),Ie=Le=0,j.mode=5;case 5:if(1024&j.flags){for(;Ie<16;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.length=Le,j.head&&(j.head.extra_len=Le),512&j.flags&&($e[0]=255&Le,$e[1]=Le>>>8&255,j.check=a(j.check,$e,2,0)),Ie=Le=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(Ee<(Ke=j.length)&&(Ke=Ee),Ke&&(j.head&&(mt=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),i.arraySet(j.head.extra,pe,De,Ke,mt)),512&j.flags&&(j.check=a(j.check,pe,Ke,De)),Ee-=Ke,De+=Ke,j.length-=Ke),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(Ee===0)break e;for(Ke=0;mt=pe[De+Ke++],j.head&&mt&&j.length<65536&&(j.head.name+=String.fromCharCode(mt)),mt&&Ke<Ee;);if(512&j.flags&&(j.check=a(j.check,pe,Ke,De)),Ee-=Ke,De+=Ke,mt)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(Ee===0)break e;for(Ke=0;mt=pe[De+Ke++],j.head&&mt&&j.length<65536&&(j.head.comment+=String.fromCharCode(mt)),mt&&Ke<Ee;);if(512&j.flags&&(j.check=a(j.check,pe,Ke,De)),Ee-=Ke,De+=Ke,mt)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;Ie<16;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(Le!==(65535&j.check)){ie.msg="header crc mismatch",j.mode=30;break}Ie=Le=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),ie.adler=j.check=0,j.mode=12;break;case 10:for(;Ie<32;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}ie.adler=j.check=R(Le),Ie=Le=0,j.mode=11;case 11:if(j.havedict===0)return ie.next_out=Re,ie.avail_out=Se,ie.next_in=De,ie.avail_in=Ee,j.hold=Le,j.bits=Ie,2;ie.adler=j.check=1,j.mode=12;case 12:if(I===5||I===6)break e;case 13:if(j.last){Le>>>=7&Ie,Ie-=7&Ie,j.mode=27;break}for(;Ie<3;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}switch(j.last=1&Le,--Ie,3&(Le>>>=1)){case 0:j.mode=14;break;case 1:if(oe(j),j.mode=20,I!==6)break;Le>>>=2,Ie-=2;break e;case 2:j.mode=17;break;case 3:ie.msg="invalid block type",j.mode=30}Le>>>=2,Ie-=2;break;case 14:for(Le>>>=7&Ie,Ie-=7&Ie;Ie<32;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if((65535&Le)!=(Le>>>16^65535)){ie.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&Le,Ie=Le=0,j.mode=15,I===6)break e;case 15:j.mode=16;case 16:if(Ke=j.length){if(Ee<Ke&&(Ke=Ee),Se<Ke&&(Ke=Se),Ke===0)break e;i.arraySet(be,pe,De,Ke,Re),Ee-=Ke,De+=Ke,Se-=Ke,Re+=Ke,j.length-=Ke;break}j.mode=12;break;case 17:for(;Ie<14;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(j.nlen=257+(31&Le),Le>>>=5,Ie-=5,j.ndist=1+(31&Le),Le>>>=5,Ie-=5,j.ncode=4+(15&Le),Le>>>=4,Ie-=4,286<j.nlen||30<j.ndist){ie.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;Ie<3;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.lens[tt[j.have++]]=7&Le,Le>>>=3,Ie-=3}for(;j.have<19;)j.lens[tt[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,Ae={bits:j.lenbits},me=d(0,j.lens,0,19,j.lencode,0,j.work,Ae),j.lenbits=Ae.bits,me){ie.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Pt=(Pe=j.lencode[Le&(1<<j.lenbits)-1])>>>16&255,bt=65535&Pe,!((Ct=Pe>>>24)<=Ie);){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(bt<16)Le>>>=Ct,Ie-=Ct,j.lens[j.have++]=bt;else{if(bt===16){for(Oe=Ct+2;Ie<Oe;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(Le>>>=Ct,Ie-=Ct,j.have===0){ie.msg="invalid bit length repeat",j.mode=30;break}mt=j.lens[j.have-1],Ke=3+(3&Le),Le>>>=2,Ie-=2}else if(bt===17){for(Oe=Ct+3;Ie<Oe;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}Ie-=Ct,mt=0,Ke=3+(7&(Le>>>=Ct)),Le>>>=3,Ie-=3}else{for(Oe=Ct+7;Ie<Oe;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}Ie-=Ct,mt=0,Ke=11+(127&(Le>>>=Ct)),Le>>>=7,Ie-=7}if(j.have+Ke>j.nlen+j.ndist){ie.msg="invalid bit length repeat",j.mode=30;break}for(;Ke--;)j.lens[j.have++]=mt}}if(j.mode===30)break;if(j.lens[256]===0){ie.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,Ae={bits:j.lenbits},me=d(D,j.lens,0,j.nlen,j.lencode,0,j.work,Ae),j.lenbits=Ae.bits,me){ie.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,Ae={bits:j.distbits},me=d(v,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,Ae),j.distbits=Ae.bits,me){ie.msg="invalid distances set",j.mode=30;break}if(j.mode=20,I===6)break e;case 20:j.mode=21;case 21:if(6<=Ee&&258<=Se){ie.next_out=Re,ie.avail_out=Se,ie.next_in=De,ie.avail_in=Ee,j.hold=Le,j.bits=Ie,c(ie,Ye),Re=ie.next_out,be=ie.output,Se=ie.avail_out,De=ie.next_in,pe=ie.input,Ee=ie.avail_in,Le=j.hold,Ie=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Pt=(Pe=j.lencode[Le&(1<<j.lenbits)-1])>>>16&255,bt=65535&Pe,!((Ct=Pe>>>24)<=Ie);){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(Pt&&(240&Pt)==0){for(an=Ct,Yt=Pt,Ne=bt;Pt=(Pe=j.lencode[Ne+((Le&(1<<an+Yt)-1)>>an)])>>>16&255,bt=65535&Pe,!(an+(Ct=Pe>>>24)<=Ie);){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}Le>>>=an,Ie-=an,j.back+=an}if(Le>>>=Ct,Ie-=Ct,j.back+=Ct,j.length=bt,Pt===0){j.mode=26;break}if(32&Pt){j.back=-1,j.mode=12;break}if(64&Pt){ie.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Pt,j.mode=22;case 22:if(j.extra){for(Oe=j.extra;Ie<Oe;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.length+=Le&(1<<j.extra)-1,Le>>>=j.extra,Ie-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Pt=(Pe=j.distcode[Le&(1<<j.distbits)-1])>>>16&255,bt=65535&Pe,!((Ct=Pe>>>24)<=Ie);){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if((240&Pt)==0){for(an=Ct,Yt=Pt,Ne=bt;Pt=(Pe=j.distcode[Ne+((Le&(1<<an+Yt)-1)>>an)])>>>16&255,bt=65535&Pe,!(an+(Ct=Pe>>>24)<=Ie);){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}Le>>>=an,Ie-=an,j.back+=an}if(Le>>>=Ct,Ie-=Ct,j.back+=Ct,64&Pt){ie.msg="invalid distance code",j.mode=30;break}j.offset=bt,j.extra=15&Pt,j.mode=24;case 24:if(j.extra){for(Oe=j.extra;Ie<Oe;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}j.offset+=Le&(1<<j.extra)-1,Le>>>=j.extra,Ie-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){ie.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Se===0)break e;if(Ke=Ye-Se,j.offset>Ke){if((Ke=j.offset-Ke)>j.whave&&j.sane){ie.msg="invalid distance too far back",j.mode=30;break}St=Ke>j.wnext?(Ke-=j.wnext,j.wsize-Ke):j.wnext-Ke,Ke>j.length&&(Ke=j.length),ct=j.window}else ct=be,St=Re-j.offset,Ke=j.length;for(Se<Ke&&(Ke=Se),Se-=Ke,j.length-=Ke;be[Re++]=ct[St++],--Ke;);j.length===0&&(j.mode=21);break;case 26:if(Se===0)break e;be[Re++]=j.length,Se--,j.mode=21;break;case 27:if(j.wrap){for(;Ie<32;){if(Ee===0)break e;Ee--,Le|=pe[De++]<<Ie,Ie+=8}if(Ye-=Se,ie.total_out+=Ye,j.total+=Ye,Ye&&(ie.adler=j.check=(j.flags?a:l)(j.check,be,Ye,Re-Ye)),Ye=Se,(j.flags?Le:R(Le))!==j.check){ie.msg="incorrect data check",j.mode=30;break}Ie=Le=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;Ie<32;){if(Ee===0)break e;Ee--,Le+=pe[De++]<<Ie,Ie+=8}if(Le!==(4294967295&j.total)){ie.msg="incorrect length check",j.mode=30;break}Ie=Le=0}j.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return f}return ie.next_out=Re,ie.avail_out=Se,ie.next_in=De,ie.avail_in=Ee,j.hold=Le,j.bits=Ie,(j.wsize||Ye!==ie.avail_out&&j.mode<30&&(j.mode<27||I!==4))&&le(ie,ie.output,ie.next_out,Ye-ie.avail_out)?(j.mode=31,-4):(st-=ie.avail_in,Ye-=ie.avail_out,ie.total_in+=st,ie.total_out+=Ye,j.total+=Ye,j.wrap&&Ye&&(ie.adler=j.check=(j.flags?a:l)(j.check,be,Ye,ie.next_out-Ye)),ie.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(st==0&&Ye===0||I===4)&&me===C&&(me=-5),me)},r.inflateEnd=function(ie){if(!ie||!ie.state)return f;var I=ie.state;return I.window&&(I.window=null),ie.state=null,C},r.inflateGetHeader=function(ie,I){var j;return ie&&ie.state&&(2&(j=ie.state).wrap)!=0?((j.head=I).done=!1,C):f},r.inflateSetDictionary=function(ie,I){var j,pe=I.length;return!ie||!ie.state||(j=ie.state).wrap!==0&&j.mode!==11?f:j.mode===11&&l(1,I,pe,0)!==j.check?-3:le(ie,I,pe,pe)?(j.mode=31,-4):(j.havedict=1,C)},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./inffast":11,"./inftrees":13}],13:[function(e,t,r){var i=e("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(D,v,C,f,w,F,T,R){var ee,re,ae,ce,ue,de,A,oe,le,ie=R.bits,I=0,j=0,pe=0,be=0,De=0,Re=0,Ee=0,Se=0,Le=0,Ie=0,st=null,Ye=0,Ke=new i.Buf16(16),St=new i.Buf16(16),ct=null,Ct=0;for(I=0;I<=15;I++)Ke[I]=0;for(j=0;j<f;j++)Ke[v[C+j]]++;for(De=ie,be=15;1<=be&&Ke[be]===0;be--);if(be<De&&(De=be),be===0)return w[F++]=20971520,w[F++]=20971520,R.bits=1,0;for(pe=1;pe<be&&Ke[pe]===0;pe++);for(De<pe&&(De=pe),I=Se=1;I<=15;I++)if(Se<<=1,(Se-=Ke[I])<0)return-1;if(0<Se&&(D===0||be!==1))return-1;for(St[1]=0,I=1;I<15;I++)St[I+1]=St[I]+Ke[I];for(j=0;j<f;j++)v[C+j]!==0&&(T[St[v[C+j]]++]=j);if(de=D===0?(st=ct=T,19):D===1?(st=l,Ye-=257,ct=a,Ct-=257,256):(st=c,ct=d,-1),I=pe,ue=F,Ee=j=Ie=0,ae=-1,ce=(Le=1<<(Re=De))-1,D===1&&852<Le||D===2&&592<Le)return 1;for(;;){for(A=I-Ee,le=T[j]<de?(oe=0,T[j]):T[j]>de?(oe=ct[Ct+T[j]],st[Ye+T[j]]):(oe=96,0),ee=1<<I-Ee,pe=re=1<<Re;w[ue+(Ie>>Ee)+(re-=ee)]=A<<24|oe<<16|le|0,re!==0;);for(ee=1<<I-1;Ie&ee;)ee>>=1;if(ee!==0?(Ie&=ee-1,Ie+=ee):Ie=0,j++,--Ke[I]==0){if(I===be)break;I=v[C+T[j]]}if(De<I&&(Ie&ce)!==ae){for(Ee===0&&(Ee=De),ue+=pe,Se=1<<(Re=I-Ee);Re+Ee<be&&!((Se-=Ke[Re+Ee])<=0);)Re++,Se<<=1;if(Le+=1<<Re,D===1&&852<Le||D===2&&592<Le)return 1;w[ae=Ie&ce]=De<<24|Re<<16|ue-F|0}}return Ie!==0&&(w[ue+Ie]=I-Ee<<24|64<<16|0),R.bits=De,0}},{"../utils/common":4}],14:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,r){var i=e("../utils/common");function l(me){for(var Ae=me.length;0<=--Ae;)me[Ae]=0}var a=0,c=256,d=c+1+29,D=30,v=19,C=2*d+1,f=15,w=16,F=256,T=16,R=17,ee=18,re=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ae=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(d+2));l(de);var A=new Array(2*D);l(A);var oe=new Array(512);l(oe);var le=new Array(256);l(le);var ie=new Array(29);l(ie);var I,j,pe,be=new Array(D);function De(me,Ae,Oe,Pe,$e){this.static_tree=me,this.extra_bits=Ae,this.extra_base=Oe,this.elems=Pe,this.max_length=$e,this.has_stree=me&&me.length}function Re(me,Ae){this.dyn_tree=me,this.max_code=0,this.stat_desc=Ae}function Ee(me){return me<256?oe[me]:oe[256+(me>>>7)]}function Se(me,Ae){me.pending_buf[me.pending++]=255&Ae,me.pending_buf[me.pending++]=Ae>>>8&255}function Le(me,Ae,Oe){me.bi_valid>w-Oe?(me.bi_buf|=Ae<<me.bi_valid&65535,Se(me,me.bi_buf),me.bi_buf=Ae>>w-me.bi_valid,me.bi_valid+=Oe-w):(me.bi_buf|=Ae<<me.bi_valid&65535,me.bi_valid+=Oe)}function Ie(me,Ae,Oe){Le(me,Oe[2*Ae],Oe[2*Ae+1])}function st(me,Ae){for(var Oe=0;Oe|=1&me,me>>>=1,Oe<<=1,0<--Ae;);return Oe>>>1}function Ye(me,Ae,Oe){var Pe,$e,tt=new Array(f+1),qe=0;for(Pe=1;Pe<=f;Pe++)tt[Pe]=qe=qe+Oe[Pe-1]<<1;for($e=0;$e<=Ae;$e++){var dt=me[2*$e+1];dt!==0&&(me[2*$e]=st(tt[dt]++,dt))}}function Ke(me){var Ae;for(Ae=0;Ae<d;Ae++)me.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<D;Ae++)me.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<v;Ae++)me.bl_tree[2*Ae]=0;me.dyn_ltree[2*F]=1,me.opt_len=me.static_len=0,me.last_lit=me.matches=0}function St(me){8<me.bi_valid?Se(me,me.bi_buf):0<me.bi_valid&&(me.pending_buf[me.pending++]=me.bi_buf),me.bi_buf=0,me.bi_valid=0}function ct(me,Ae,Oe,Pe){var $e=2*Ae,tt=2*Oe;return me[$e]<me[tt]||me[$e]===me[tt]&&Pe[Ae]<=Pe[Oe]}function Ct(me,Ae,Oe){for(var Pe=me.heap[Oe],$e=Oe<<1;$e<=me.heap_len&&($e<me.heap_len&&ct(Ae,me.heap[$e+1],me.heap[$e],me.depth)&&$e++,!ct(Ae,Pe,me.heap[$e],me.depth));)me.heap[Oe]=me.heap[$e],Oe=$e,$e<<=1;me.heap[Oe]=Pe}function Pt(me,Ae,Oe){var Pe,$e,tt,qe,dt=0;if(me.last_lit!==0)for(;Pe=me.pending_buf[me.d_buf+2*dt]<<8|me.pending_buf[me.d_buf+2*dt+1],$e=me.pending_buf[me.l_buf+dt],dt++,Pe===0?Ie(me,$e,Ae):(Ie(me,(tt=le[$e])+c+1,Ae),(qe=re[tt])!==0&&Le(me,$e-=ie[tt],qe),Ie(me,tt=Ee(--Pe),Oe),(qe=ae[tt])!==0&&Le(me,Pe-=be[tt],qe)),dt<me.last_lit;);Ie(me,F,Ae)}function bt(me,Ae){var Oe,Pe,$e,tt=Ae.dyn_tree,qe=Ae.stat_desc.static_tree,dt=Ae.stat_desc.has_stree,ft=Ae.stat_desc.elems,Ft=-1;for(me.heap_len=0,me.heap_max=C,Oe=0;Oe<ft;Oe++)tt[2*Oe]!==0?(me.heap[++me.heap_len]=Ft=Oe,me.depth[Oe]=0):tt[2*Oe+1]=0;for(;me.heap_len<2;)tt[2*($e=me.heap[++me.heap_len]=Ft<2?++Ft:0)]=1,me.depth[$e]=0,me.opt_len--,dt&&(me.static_len-=qe[2*$e+1]);for(Ae.max_code=Ft,Oe=me.heap_len>>1;1<=Oe;Oe--)Ct(me,tt,Oe);for($e=ft;Oe=me.heap[1],me.heap[1]=me.heap[me.heap_len--],Ct(me,tt,1),Pe=me.heap[1],me.heap[--me.heap_max]=Oe,me.heap[--me.heap_max]=Pe,tt[2*$e]=tt[2*Oe]+tt[2*Pe],me.depth[$e]=(me.depth[Oe]>=me.depth[Pe]?me.depth[Oe]:me.depth[Pe])+1,tt[2*Oe+1]=tt[2*Pe+1]=$e,me.heap[1]=$e++,Ct(me,tt,1),2<=me.heap_len;);me.heap[--me.heap_max]=me.heap[1],function(it,zt){var pt,ut,Gt,hn,vn,Ot,rt=zt.dyn_tree,xt=zt.max_code,Qt=zt.stat_desc.static_tree,gn=zt.stat_desc.has_stree,Nn=zt.stat_desc.extra_bits,Ar=zt.stat_desc.extra_base,jn=zt.stat_desc.max_length,Hn=0;for(hn=0;hn<=f;hn++)it.bl_count[hn]=0;for(rt[2*it.heap[it.heap_max]+1]=0,pt=it.heap_max+1;pt<C;pt++)jn<(hn=rt[2*rt[2*(ut=it.heap[pt])+1]+1]+1)&&(hn=jn,Hn++),rt[2*ut+1]=hn,xt<ut||(it.bl_count[hn]++,vn=0,Ar<=ut&&(vn=Nn[ut-Ar]),Ot=rt[2*ut],it.opt_len+=Ot*(hn+vn),gn&&(it.static_len+=Ot*(Qt[2*ut+1]+vn)));if(Hn!==0){do{for(hn=jn-1;it.bl_count[hn]===0;)hn--;it.bl_count[hn]--,it.bl_count[hn+1]+=2,it.bl_count[jn]--,Hn-=2}while(0<Hn);for(hn=jn;hn!==0;hn--)for(ut=it.bl_count[hn];ut!==0;)xt<(Gt=it.heap[--pt])||(rt[2*Gt+1]!==hn&&(it.opt_len+=(hn-rt[2*Gt+1])*rt[2*Gt],rt[2*Gt+1]=hn),ut--)}}(me,Ae),Ye(tt,Ft,me.bl_count)}function an(me,Ae,Oe){var Pe,$e,tt=-1,qe=Ae[1],dt=0,ft=7,Ft=4;for(qe===0&&(ft=138,Ft=3),Ae[2*(Oe+1)+1]=65535,Pe=0;Pe<=Oe;Pe++)$e=qe,qe=Ae[2*(Pe+1)+1],++dt<ft&&$e===qe||(dt<Ft?me.bl_tree[2*$e]+=dt:$e!==0?($e!==tt&&me.bl_tree[2*$e]++,me.bl_tree[2*T]++):dt<=10?me.bl_tree[2*R]++:me.bl_tree[2*ee]++,tt=$e,Ft=(dt=0)===qe?(ft=138,3):$e===qe?(ft=6,3):(ft=7,4))}function Yt(me,Ae,Oe){var Pe,$e,tt=-1,qe=Ae[1],dt=0,ft=7,Ft=4;for(qe===0&&(ft=138,Ft=3),Pe=0;Pe<=Oe;Pe++)if($e=qe,qe=Ae[2*(Pe+1)+1],!(++dt<ft&&$e===qe)){if(dt<Ft)for(;Ie(me,$e,me.bl_tree),--dt!=0;);else $e!==0?($e!==tt&&(Ie(me,$e,me.bl_tree),dt--),Ie(me,T,me.bl_tree),Le(me,dt-3,2)):dt<=10?(Ie(me,R,me.bl_tree),Le(me,dt-3,3)):(Ie(me,ee,me.bl_tree),Le(me,dt-11,7));tt=$e,Ft=(dt=0)===qe?(ft=138,3):$e===qe?(ft=6,3):(ft=7,4)}}l(be);var Ne=!1;function mt(me,Ae,Oe,Pe){var $e,tt,qe;Le(me,(a<<1)+(Pe?1:0),3),tt=Ae,qe=Oe,St($e=me),Se($e,qe),Se($e,~qe),i.arraySet($e.pending_buf,$e.window,tt,qe,$e.pending),$e.pending+=qe}r._tr_init=function(me){Ne||(function(){var Ae,Oe,Pe,$e,tt,qe=new Array(f+1);for($e=Pe=0;$e<28;$e++)for(ie[$e]=Pe,Ae=0;Ae<1<<re[$e];Ae++)le[Pe++]=$e;for(le[Pe-1]=$e,$e=tt=0;$e<16;$e++)for(be[$e]=tt,Ae=0;Ae<1<<ae[$e];Ae++)oe[tt++]=$e;for(tt>>=7;$e<D;$e++)for(be[$e]=tt<<7,Ae=0;Ae<1<<ae[$e]-7;Ae++)oe[256+tt++]=$e;for(Oe=0;Oe<=f;Oe++)qe[Oe]=0;for(Ae=0;Ae<=143;)de[2*Ae+1]=8,Ae++,qe[8]++;for(;Ae<=255;)de[2*Ae+1]=9,Ae++,qe[9]++;for(;Ae<=279;)de[2*Ae+1]=7,Ae++,qe[7]++;for(;Ae<=287;)de[2*Ae+1]=8,Ae++,qe[8]++;for(Ye(de,d+1,qe),Ae=0;Ae<D;Ae++)A[2*Ae+1]=5,A[2*Ae]=st(Ae,5);I=new De(de,re,c+1,d,f),j=new De(A,ae,0,D,f),pe=new De(new Array(0),ce,0,v,7)}(),Ne=!0),me.l_desc=new Re(me.dyn_ltree,I),me.d_desc=new Re(me.dyn_dtree,j),me.bl_desc=new Re(me.bl_tree,pe),me.bi_buf=0,me.bi_valid=0,Ke(me)},r._tr_stored_block=mt,r._tr_flush_block=function(me,Ae,Oe,Pe){var $e,tt,qe=0;0<me.level?(me.strm.data_type===2&&(me.strm.data_type=function(dt){var ft,Ft=4093624447;for(ft=0;ft<=31;ft++,Ft>>>=1)if(1&Ft&&dt.dyn_ltree[2*ft]!==0)return 0;if(dt.dyn_ltree[18]!==0||dt.dyn_ltree[20]!==0||dt.dyn_ltree[26]!==0)return 1;for(ft=32;ft<c;ft++)if(dt.dyn_ltree[2*ft]!==0)return 1;return 0}(me)),bt(me,me.l_desc),bt(me,me.d_desc),qe=function(dt){var ft;for(an(dt,dt.dyn_ltree,dt.l_desc.max_code),an(dt,dt.dyn_dtree,dt.d_desc.max_code),bt(dt,dt.bl_desc),ft=v-1;3<=ft&&dt.bl_tree[2*ue[ft]+1]===0;ft--);return dt.opt_len+=3*(ft+1)+5+5+4,ft}(me),$e=me.opt_len+3+7>>>3,(tt=me.static_len+3+7>>>3)<=$e&&($e=tt)):$e=tt=Oe+5,Oe+4<=$e&&Ae!==-1?mt(me,Ae,Oe,Pe):me.strategy===4||tt===$e?(Le(me,2+(Pe?1:0),3),Pt(me,de,A)):(Le(me,4+(Pe?1:0),3),function(dt,ft,Ft,it){var zt;for(Le(dt,ft-257,5),Le(dt,Ft-1,5),Le(dt,it-4,4),zt=0;zt<it;zt++)Le(dt,dt.bl_tree[2*ue[zt]+1],3);Yt(dt,dt.dyn_ltree,ft-1),Yt(dt,dt.dyn_dtree,Ft-1)}(me,me.l_desc.max_code+1,me.d_desc.max_code+1,qe+1),Pt(me,me.dyn_ltree,me.dyn_dtree)),Ke(me),Pe&&St(me)},r._tr_tally=function(me,Ae,Oe){return me.pending_buf[me.d_buf+2*me.last_lit]=Ae>>>8&255,me.pending_buf[me.d_buf+2*me.last_lit+1]=255&Ae,me.pending_buf[me.l_buf+me.last_lit]=255&Oe,me.last_lit++,Ae===0?me.dyn_ltree[2*Oe]++:(me.matches++,Ae--,me.dyn_ltree[2*(le[Oe]+c+1)]++,me.dyn_dtree[2*Ee(Ae)]++),me.last_lit===me.lit_bufsize-1},r._tr_align=function(me){var Ae;Le(me,2,3),Ie(me,F,de),(Ae=me).bi_valid===16?(Se(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}},{"../utils/common":4}],16:[function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],17:[function(e,t,r){var i=e("three");i.OrbitControls=function(l,a){var c,d,D,v,C;a===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=l,this.domElement=a,this.enabled=!0,this.target=new i.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN},this.touches={ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return ae.phi},this.getAzimuthalAngle=function(){return ae.theta},this.saveState=function(){f.target0.copy(f.target),f.position0.copy(f.object.position),f.zoom0=f.object.zoom},this.resetStatusValue=function(){ee=R.NONE},this.reset=function(){f.target.copy(f.target0),f.object.position.copy(f.position0),f.object.zoom=f.zoom0,f.object.updateProjectionMatrix(),f.dispatchEvent(w),f.update(),ee=R.NONE},this.update=(c=new i.Vector3,d=new i.Quaternion().setFromUnitVectors(l.up,new i.Vector3(0,1,0)),D=d.clone().inverse(),v=new i.Vector3,C=new i.Quaternion,function(){var pt=f.object.position;return c.copy(pt).sub(f.target),c.applyQuaternion(d),ae.setFromVector3(c),f.autoRotate&&ee===R.NONE&&Se(2*Math.PI/60/60*f.autoRotateSpeed),f.enableDamping?(ae.theta+=ce.theta*f.dampingFactor,ae.phi+=ce.phi*f.dampingFactor):(ae.theta+=ce.theta,ae.phi+=ce.phi),ae.theta=Math.max(f.minAzimuthAngle,Math.min(f.maxAzimuthAngle,ae.theta)),ae.phi=Math.max(f.minPolarAngle,Math.min(f.maxPolarAngle,ae.phi)),ae.makeSafe(),ae.radius*=ue,ae.radius=Math.max(f.minDistance,Math.min(f.maxDistance,ae.radius)),f.enableDamping===!0?f.target.addScaledVector(de,f.dampingFactor):f.target.add(de),c.setFromSpherical(ae),c.applyQuaternion(D),pt.copy(f.target).add(c),f.object.lookAt(f.target),f.enableDamping===!0?(ce.theta*=1-f.dampingFactor,ce.phi*=1-f.dampingFactor,de.multiplyScalar(1-f.dampingFactor)):(ce.set(0,0,0),de.set(0,0,0)),ue=1,!(!(A||v.distanceToSquared(f.object.position)>re||8*(1-C.dot(f.object.quaternion))>re)||(f.dispatchEvent(w),v.copy(f.object.position),C.copy(f.object.quaternion),A=!1))}),this.dispose=function(){f.domElement.removeEventListener("contextmenu",zt,!1),f.domElement.removeEventListener("mousedown",Pe,!1),f.domElement.removeEventListener("wheel",qe,!1),f.domElement.removeEventListener("touchstart",ft,!1),f.domElement.removeEventListener("touchend",it,!1),f.domElement.removeEventListener("touchmove",Ft,!1),document.removeEventListener("mousemove",$e,!1),document.removeEventListener("mouseup",tt,!1),f.domElement.removeEventListener("keydown",dt,!1)};var f=this,w={type:"change"},F={type:"start"},T={type:"end"},R={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},ee=R.NONE,re=1e-6,ae=new i.Spherical,ce=new i.Spherical,ue=1,de=new i.Vector3,A=!1,oe=new i.Vector2,le=new i.Vector2,ie=new i.Vector2,I=new i.Vector2,j=new i.Vector2,pe=new i.Vector2,be=new i.Vector2,De=new i.Vector2,Re=new i.Vector2;function Ee(){return Math.pow(.95,f.zoomSpeed)}function Se(pt){ce.theta-=pt}function Le(pt){ce.phi-=pt}var Ie,st,Ye,Ke=(Ie=new i.Vector3,function(pt,ut){Ie.setFromMatrixColumn(ut,0),Ie.multiplyScalar(-pt),de.add(Ie)}),St=(st=new i.Vector3,function(pt,ut){f.screenSpacePanning===!0?st.setFromMatrixColumn(ut,1):(st.setFromMatrixColumn(ut,0),st.crossVectors(f.object.up,st)),st.multiplyScalar(pt),de.add(st)}),ct=(Ye=new i.Vector3,function(pt,ut){var Gt=f.domElement;if(f.object.isPerspectiveCamera){var hn=f.object.position;Ye.copy(hn).sub(f.target);var vn=Ye.length();vn*=Math.tan(f.object.fov/2*Math.PI/180),Ke(2*pt*vn/Gt.clientHeight,f.object.matrix),St(2*ut*vn/Gt.clientHeight,f.object.matrix)}else f.object.isOrthographicCamera?(Ke(pt*(f.object.right-f.object.left)/f.object.zoom/Gt.clientWidth,f.object.matrix),St(ut*(f.object.top-f.object.bottom)/f.object.zoom/Gt.clientHeight,f.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),f.enablePan=!1)});function Ct(pt){f.object.isPerspectiveCamera?ue/=pt:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom*pt)),f.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function Pt(pt){f.object.isPerspectiveCamera?ue*=pt:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom/pt)),f.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function bt(pt){oe.set(pt.clientX,pt.clientY)}function an(pt){I.set(pt.clientX,pt.clientY)}function Yt(pt){if(pt.touches.length==1)oe.set(pt.touches[0].pageX,pt.touches[0].pageY);else{var ut=.5*(pt.touches[0].pageX+pt.touches[1].pageX),Gt=.5*(pt.touches[0].pageY+pt.touches[1].pageY);oe.set(ut,Gt)}}function Ne(pt){if(pt.touches.length==1)I.set(pt.touches[0].pageX,pt.touches[0].pageY);else{var ut=.5*(pt.touches[0].pageX+pt.touches[1].pageX),Gt=.5*(pt.touches[0].pageY+pt.touches[1].pageY);I.set(ut,Gt)}}function mt(pt){var ut=pt.touches[0].pageX-pt.touches[1].pageX,Gt=pt.touches[0].pageY-pt.touches[1].pageY,hn=Math.sqrt(ut*ut+Gt*Gt);be.set(0,hn)}function me(pt){if(pt.touches.length==1)le.set(pt.touches[0].pageX,pt.touches[0].pageY);else{var ut=.5*(pt.touches[0].pageX+pt.touches[1].pageX),Gt=.5*(pt.touches[0].pageY+pt.touches[1].pageY);le.set(ut,Gt)}ie.subVectors(le,oe).multiplyScalar(f.rotateSpeed);var hn=f.domElement;Se(2*Math.PI*ie.x/hn.clientHeight),Le(2*Math.PI*ie.y/hn.clientHeight),oe.copy(le)}function Ae(pt){if(pt.touches.length==1)j.set(pt.touches[0].pageX,pt.touches[0].pageY);else{var ut=.5*(pt.touches[0].pageX+pt.touches[1].pageX),Gt=.5*(pt.touches[0].pageY+pt.touches[1].pageY);j.set(ut,Gt)}pe.subVectors(j,I).multiplyScalar(f.panSpeed),ct(pe.x,pe.y),I.copy(j)}function Oe(pt){var ut=pt.touches[0].pageX-pt.touches[1].pageX,Gt=pt.touches[0].pageY-pt.touches[1].pageY,hn=Math.sqrt(ut*ut+Gt*Gt);De.set(0,hn),Re.set(0,Math.pow(De.y/be.y,f.zoomSpeed)),Ct(Re.y),be.copy(De)}function Pe(pt){if(f.enabled!==!1){switch(pt.preventDefault(),f.domElement.focus?f.domElement.focus():window.focus(),pt.button){case 0:switch(f.mouseButtons.LEFT){case i.MOUSE.ROTATE:if(pt.ctrlKey||pt.metaKey||pt.shiftKey){if(f.enablePan===!1)return;an(pt),ee=R.PAN}else{if(f.enableRotate===!1)return;bt(pt),ee=R.ROTATE}break;case i.MOUSE.PAN:if(pt.ctrlKey||pt.metaKey||pt.shiftKey){if(f.enableRotate===!1)return;bt(pt),ee=R.ROTATE}else{if(f.enablePan===!1)return;an(pt),ee=R.PAN}break;default:ee=R.NONE}break;case 1:switch(f.mouseButtons.MIDDLE){case i.MOUSE.DOLLY:if(f.enableZoom===!1)return;ut=pt,be.set(ut.clientX,ut.clientY),ee=R.DOLLY;break;case i.MOUSE.PAN:if(f.enablePan===!1)return;an(pt),ee=R.PAN;break;default:ee=R.NONE}break;case 2:switch(f.mouseButtons.RIGHT){case i.MOUSE.ROTATE:if(f.enableRotate===!1)return;bt(pt),ee=R.ROTATE;break;case i.MOUSE.PAN:if(f.enablePan===!1)return;an(pt),ee=R.PAN;break;default:ee=R.NONE}}var ut;ee!==R.NONE&&(document.addEventListener("mousemove",$e,!1),document.addEventListener("mouseup",tt,!1),f.dispatchEvent(F))}}function $e(pt){var ut,Gt;if(f.enabled!==!1)switch(pt.preventDefault(),ee){case R.ROTATE:if(f.enableRotate===!1)return;(function(hn){le.set(hn.clientX,hn.clientY),ie.subVectors(le,oe).multiplyScalar(f.rotateSpeed);var vn=f.domElement;Se(2*Math.PI*ie.x/vn.clientHeight),Le(2*Math.PI*ie.y/vn.clientHeight),oe.copy(le),f.update()})(pt);break;case R.DOLLY:if(f.enableZoom===!1)return;Gt=pt,De.set(Gt.clientX,Gt.clientY),Re.subVectors(De,be),0<Re.y?Ct(Ee()):Re.y<0&&Pt(Ee()),be.copy(De),f.update();break;case R.PAN:if(f.enablePan===!1)return;ut=pt,j.set(ut.clientX,ut.clientY),pe.subVectors(j,I).multiplyScalar(f.panSpeed),ct(pe.x,pe.y),I.copy(j),f.update()}}function tt(pt){f.enabled!==!1&&(document.removeEventListener("mousemove",$e,!1),document.removeEventListener("mouseup",tt,!1),f.dispatchEvent(T),ee=R.NONE)}function qe(pt){var ut;f.enabled===!1||f.enableZoom===!1||ee!==R.NONE&&ee!==R.ROTATE||(pt.preventDefault(),pt.stopPropagation(),f.dispatchEvent(F),(ut=pt).deltaY<0?Pt(Ee()):0<ut.deltaY&&Ct(Ee()),f.update(),f.dispatchEvent(T))}function dt(pt){f.enabled!==!1&&f.enableKeys!==!1&&f.enablePan!==!1&&function(ut){var Gt=!1;switch(ut.keyCode){case f.keys.UP:ct(0,f.keyPanSpeed),Gt=!0;break;case f.keys.BOTTOM:ct(0,-f.keyPanSpeed),Gt=!0;break;case f.keys.LEFT:ct(f.keyPanSpeed,0),Gt=!0;break;case f.keys.RIGHT:ct(-f.keyPanSpeed,0),Gt=!0}Gt&&(ut.preventDefault(),f.update())}(pt)}function ft(pt){if(f.enabled!==!1){switch(pt.preventDefault(),pt.touches.length){case 1:switch(f.touches.ONE){case i.TOUCH.ROTATE:if(f.enableRotate===!1)return;Yt(pt),ee=R.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(f.enablePan===!1)return;Ne(pt),ee=R.TOUCH_PAN;break;default:ee=R.NONE}break;case 2:switch(f.touches.TWO){case i.TOUCH.DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;Gt=pt,f.enableZoom&&mt(Gt),f.enablePan&&Ne(Gt),ee=R.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;ut=pt,f.enableZoom&&mt(ut),f.enableRotate&&Yt(ut),ee=R.TOUCH_DOLLY_ROTATE;break;default:ee=R.NONE}break;default:ee=R.NONE}var ut,Gt;ee!==R.NONE&&f.dispatchEvent(F)}}function Ft(pt){var ut,Gt;if(f.enabled!==!1)switch(pt.preventDefault(),pt.stopPropagation(),ee){case R.TOUCH_ROTATE:if(f.enableRotate===!1)return;me(pt),f.update();break;case R.TOUCH_PAN:if(f.enablePan===!1)return;Ae(pt),f.update();break;case R.TOUCH_DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;Gt=pt,f.enableZoom&&Oe(Gt),f.enablePan&&Ae(Gt),f.update();break;case R.TOUCH_DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;ut=pt,f.enableZoom&&Oe(ut),f.enableRotate&&me(ut),f.update();break;default:ee=R.NONE}}function it(pt){f.enabled!==!1&&(f.dispatchEvent(T),ee=R.NONE)}function zt(pt){f.enabled!==!1&&pt.preventDefault()}f.domElement.addEventListener("contextmenu",zt,!1),f.domElement.addEventListener("mousedown",Pe,!1),f.domElement.addEventListener("wheel",qe,!1),f.domElement.addEventListener("touchstart",ft,!1),f.domElement.addEventListener("touchend",it,!1),f.domElement.addEventListener("touchmove",Ft,!1),f.domElement.addEventListener("keydown",dt,!1),f.domElement.tabIndex===-1&&(f.domElement.tabIndex=0),this.update()},i.OrbitControls.prototype=Object.create(i.EventDispatcher.prototype),i.OrbitControls.prototype.constructor=i.OrbitControls,i.MapControls=function(l,a){i.OrbitControls.call(this,l,a),this.mouseButtons.LEFT=i.MOUSE.PAN,this.mouseButtons.RIGHT=i.MOUSE.ROTATE,this.touches.ONE=i.TOUCH.PAN,this.touches.TWO=i.TOUCH.DOLLY_ROTATE},i.MapControls.prototype=Object.create(i.EventDispatcher.prototype),i.MapControls.prototype.constructor=i.MapControls,r!==void 0&&(t!==void 0&&t.exports&&(r=t.exports={OrbitControls:i.OrbitControls,MapControls:i.MapControls}),r.OrbitControls=i.OrbitControls,r.MapControls=i.MapControls)},{three:19}],18:[function(e,t,r){(function(){var i,l,a,c=e!==void 0,d=this.THREE||c&&e("three");if(!d)throw new Error("MeshLine requires three.js");function D(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new d.BufferGeometry,this.widthCallback=null,this.matrixWorld=new d.Matrix4}function v(f,w,F,T,R){var ee;if(f=f.subarray||f.slice?f:f.buffer,F=F.subarray||F.slice?F:F.buffer,f=w?f.subarray?f.subarray(w,R&&w+R):f.slice(w,R&&w+R):f,F.set)F.set(f,T);else for(ee=0;ee<f.length;ee++)F[ee+T]=f[ee];return F}function C(f){d.ShaderMaterial.call(this,{uniforms:Object.assign({},d.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new d.Color(16777215)},opacity:{value:1},resolution:{value:new d.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new d.Vector2(1,1)}}),vertexShader:d.ShaderChunk.meshline_vert,fragmentShader:d.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(w){this.uniforms.lineWidth.value=w}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(w){this.uniforms.map.value=w}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(w){this.uniforms.useMap.value=w}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(w){this.uniforms.alphaMap.value=w}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(w){this.uniforms.useAlphaMap.value=w}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(w){this.uniforms.color.value=w}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(w){this.uniforms.opacity.value=w}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(w){this.uniforms.resolution.value.copy(w)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(w){this.uniforms.sizeAttenuation.value=w}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(w){this.uniforms.near.value=w}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(w){this.uniforms.far.value=w}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(w){this.uniforms.dashArray.value=w,this.useDash=w!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(w){this.uniforms.dashOffset.value=w}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(w){this.uniforms.dashRatio.value=w}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(w){this.uniforms.useDash.value=w}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(w){this.uniforms.visibility.value=w}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(w){this.uniforms.alphaTest.value=w}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(w){this.uniforms.repeat.value.copy(w)}}}),this.setValues(f)}D.prototype.setMatrixWorld=function(f){this.matrixWorld=f},D.prototype.setGeometry=function(f,w){if(this.widthCallback=w,this.positions=[],this.counters=[],f instanceof d.Geometry)for(var F=0;F<f.vertices.length;F++){var T=f.vertices[F];w=F/f.vertices.length,this.positions.push(T.x,T.y,T.z),this.positions.push(T.x,T.y,T.z),this.counters.push(w),this.counters.push(w)}if(d.BufferGeometry,f instanceof Float32Array||f instanceof Array)for(F=0;F<f.length;F+=3)w=F/f.length,this.positions.push(f[F],f[F+1],f[F+2]),this.positions.push(f[F],f[F+1],f[F+2]),this.counters.push(w),this.counters.push(w);this.process()},D.prototype.raycast=(i=new d.Matrix4,l=new d.Ray,a=new d.Sphere,function(f,w){var F=f.linePrecision,T=F*F,R=this.geometry;if(R.boundingSphere===null&&R.computeBoundingSphere(),a.copy(R.boundingSphere),a.applyMatrix4(this.matrixWorld),f.ray.intersectSphere(a)!==!1){i.getInverse(this.matrixWorld),l.copy(f.ray).applyMatrix4(i);var ee=new d.Vector3,re=new d.Vector3,ae=new d.Vector3,ce=new d.Vector3,ue=this instanceof d.LineSegments?2:1;if(R instanceof d.BufferGeometry){var de=R.index,A=R.attributes;if(de!==null)for(var oe=de.array,le=A.position.array,ie=0,I=oe.length-1;ie<I;ie+=ue){var j=oe[ie],pe=oe[ie+1];ee.fromArray(le,3*j),re.fromArray(le,3*pe),T<l.distanceSqToSegment(ee,re,ce,ae)||(ce.applyMatrix4(this.matrixWorld),(Re=f.ray.origin.distanceTo(ce))<f.near||Re>f.far||w.push({distance:Re,point:ae.clone().applyMatrix4(this.matrixWorld),index:ie,face:null,faceIndex:null,object:this}))}else for(ie=0,I=(le=A.position.array).length/3-1;ie<I;ie+=ue)ee.fromArray(le,3*ie),re.fromArray(le,3*ie+3),T<l.distanceSqToSegment(ee,re,ce,ae)||(ce.applyMatrix4(this.matrixWorld),(Re=f.ray.origin.distanceTo(ce))<f.near||Re>f.far||w.push({distance:Re,point:ae.clone().applyMatrix4(this.matrixWorld),index:ie,face:null,faceIndex:null,object:this}))}else if(R instanceof d.Geometry){var be=R.vertices,De=be.length;for(ie=0;ie<De-1;ie+=ue){var Re;T<l.distanceSqToSegment(be[ie],be[ie+1],ce,ae)||(ce.applyMatrix4(this.matrixWorld),(Re=f.ray.origin.distanceTo(ce))<f.near||Re>f.far||w.push({distance:Re,point:ae.clone().applyMatrix4(this.matrixWorld),index:ie,face:null,faceIndex:null,object:this}))}}}}),D.prototype.compareV3=function(f,w){var F=6*f,T=6*w;return this.positions[F]===this.positions[T]&&this.positions[1+F]===this.positions[1+T]&&this.positions[2+F]===this.positions[2+T]},D.prototype.copyV3=function(f){var w=6*f;return[this.positions[w],this.positions[1+w],this.positions[2+w]]},D.prototype.process=function(){var f,w,F=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var T=0;T<F;T++)this.side.push(1),this.side.push(-1);for(T=0;T<F;T++)f=this.widthCallback?this.widthCallback(T/(F-1)):1,this.width.push(f),this.width.push(f);for(T=0;T<F;T++)this.uvs.push(T/(F-1),0),this.uvs.push(T/(F-1),1);for(w=this.compareV3(0,F-1)?this.copyV3(F-2):this.copyV3(0),this.previous.push(w[0],w[1],w[2]),this.previous.push(w[0],w[1],w[2]),T=0;T<F-1;T++)w=this.copyV3(T),this.previous.push(w[0],w[1],w[2]),this.previous.push(w[0],w[1],w[2]);for(T=1;T<F;T++)w=this.copyV3(T),this.next.push(w[0],w[1],w[2]),this.next.push(w[0],w[1],w[2]);for(w=this.compareV3(F-1,0)?this.copyV3(1):this.copyV3(F-1),this.next.push(w[0],w[1],w[2]),this.next.push(w[0],w[1],w[2]),T=0;T<F-1;T++){var R=2*T;this.indices_array.push(R,1+R,2+R),this.indices_array.push(2+R,1+R,3+R)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new d.BufferAttribute(new Float32Array(this.positions),3),previous:new d.BufferAttribute(new Float32Array(this.previous),3),next:new d.BufferAttribute(new Float32Array(this.next),3),side:new d.BufferAttribute(new Float32Array(this.side),1),width:new d.BufferAttribute(new Float32Array(this.width),1),uv:new d.BufferAttribute(new Float32Array(this.uvs),2),index:new d.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new d.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},D.prototype.advance=function(f){var w=this.attributes.position.array,F=this.attributes.previous.array,T=this.attributes.next.array,R=w.length;v(w,0,F,0,R),v(w,6,w,0,R-6),w[R-6]=f.x,w[R-5]=f.y,w[R-4]=f.z,w[R-3]=f.x,w[R-2]=f.y,w[R-1]=f.z,v(w,6,T,0,R-6),T[R-6]=f.x,T[R-5]=f.y,T[R-4]=f.z,T[R-3]=f.x,T[R-2]=f.y,T[R-1]=f.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},d.ShaderChunk.meshline_vert=["",d.ShaderChunk.logdepthbuf_pars_vertex,d.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",d.ShaderChunk.logdepthbuf_vertex,d.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",d.ShaderChunk.fog_vertex,"}"].join(`
`),d.ShaderChunk.meshline_frag=["",d.ShaderChunk.fog_pars_fragment,d.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",d.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",d.ShaderChunk.fog_fragment,"}"].join(`
`),((C.prototype=Object.create(d.ShaderMaterial.prototype)).constructor=C).prototype.isMeshLineMaterial=!0,C.prototype.copy=function(f){return d.ShaderMaterial.prototype.copy.call(this,f),this.lineWidth=f.lineWidth,this.map=f.map,this.useMap=f.useMap,this.alphaMap=f.alphaMap,this.useAlphaMap=f.useAlphaMap,this.color.copy(f.color),this.opacity=f.opacity,this.resolution.copy(f.resolution),this.sizeAttenuation=f.sizeAttenuation,this.near=f.near,this.far=f.far,this.dashArray.copy(f.dashArray),this.dashOffset.copy(f.dashOffset),this.dashRatio.copy(f.dashRatio),this.useDash=f.useDash,this.visibility=f.visibility,this.alphaTest=f.alphaTest,this.repeat.copy(f.repeat),this},r!==void 0?(t!==void 0&&t.exports&&(r=t.exports={MeshLine:D,MeshLineMaterial:C}),r.MeshLine=D,r.MeshLineMaterial=C):(this.MeshLine=D,this.MeshLineMaterial=C)}).call(this)},{three:19}],19:[function(e,t,r){var i,l;i=this,l=function(a){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}),Math.sign===void 0&&(Math.sign=function(n){return n<0?-1:0<n?1:+n}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var m=arguments[u];if(m!=null)for(var B in m)Object.prototype.hasOwnProperty.call(m,B)&&(o[B]=m[B])}return o});var c=0,d=1,D=2,v=1,C=2,f=3,w=0,F=1,T=2,R=0,ee=2,re=0,ae=1,ce=2,ue=3,de=4,A=5,oe=100,le=101,ie=102,I=103,j=104,pe=200,be=201,De=202,Re=203,Ee=204,Se=205,Le=206,Ie=207,st=208,Ye=209,Ke=210,St=0,ct=1,Ct=2,Pt=3,bt=4,an=5,Yt=6,Ne=7,mt=0,me=1,Ae=2,Oe=0,Pe=1,$e=2,tt=3,qe=4,dt=5,ft=301,Ft=302,it=303,zt=304,pt=305,ut=306,Gt=307,hn=1e3,vn=1001,Ot=1002,rt=1003,xt=1004,Qt=1005,gn=1006,Nn=1007,Ar=1008,jn=1009,Hn=1010,ir=1011,vi=1012,di=1013,jt=1014,En=1015,Xn=1016,Mr=1017,Wr=1018,jr=1019,yi=1020,Kr=1021,Co=1022,Ce=1023,ai=1024,zo=1025,mr=Ce,zi=1026,Yo=1027,oa=1028,Rs=1029,ps=1030,ms=1031,Xa=1032,Fo=1033,gs=33776,ho=33777,Ya=33778,jo=33779,xa=35840,Za=35841,fo=35842,aa=35843,sa=36196,Eo=37808,Ls=37809,So=37810,Da=37811,tl=37812,Is=37813,ks=37814,po=37815,ba=37816,Ho=37817,Be=37818,lt=37819,Ve=37820,at=37821,Rt=2300,Xt=2301,Cn=2400,_n=2401,Jn=2402,er=3e3,Cr=3001,la=3007,vs=3002,Ra=3003,Ka=3004,nl=3005,Kl=3006,Vs=3200,Pc=3201,wa=0,gu=1,rl=7680,vu=519,il=35044,Ns=35048;function Qa(){}Object.assign(Qa.prototype,{addEventListener:function(n,o){this._listeners===void 0&&(this._listeners={});var u=this._listeners;u[n]===void 0&&(u[n]=[]),u[n].indexOf(o)===-1&&u[n].push(o)},hasEventListener:function(n,o){if(this._listeners===void 0)return!1;var u=this._listeners;return u[n]!==void 0&&u[n].indexOf(o)!==-1},removeEventListener:function(n,o){if(this._listeners!==void 0){var u=this._listeners[n];if(u!==void 0){var m=u.indexOf(o);m!==-1&&u.splice(m,1)}}},dispatchEvent:function(n){if(this._listeners!==void 0){var o=this._listeners[n.type];if(o!==void 0){n.target=this;for(var u=o.slice(0),m=0,B=u.length;m<B;m++)u[m].call(this,n)}}}});for(var ao=[],Ql=0;Ql<256;Ql++)ao[Ql]=(Ql<16?"0":"")+Ql.toString(16);var ol,Gr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,u=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return(ao[255&n]+ao[n>>8&255]+ao[n>>16&255]+ao[n>>24&255]+"-"+ao[255&o]+ao[o>>8&255]+"-"+ao[o>>16&15|64]+ao[o>>24&255]+"-"+ao[63&u|128]+ao[u>>8&255]+"-"+ao[u>>16&255]+ao[u>>24&255]+ao[255&m]+ao[m>>8&255]+ao[m>>16&255]+ao[m>>24&255]).toUpperCase()},clamp:function(n,o,u){return Math.max(o,Math.min(u,n))},euclideanModulo:function(n,o){return(n%o+o)%o},mapLinear:function(n,o,u,m,B){return m+(n-o)*(B-m)/(u-o)},lerp:function(n,o,u){return(1-u)*n+u*o},smoothstep:function(n,o,u){return n<=o?0:u<=n?1:(n=(n-o)/(u-o))*n*(3-2*n)},smootherstep:function(n,o,u){return n<=o?0:u<=n?1:(n=(n-o)/(u-o))*n*n*(n*(6*n-15)+10)},randInt:function(n,o){return n+Math.floor(Math.random()*(o-n+1))},randFloat:function(n,o){return n+Math.random()*(o-n)},randFloatSpread:function(n){return n*(.5-Math.random())},degToRad:function(n){return n*Gr.DEG2RAD},radToDeg:function(n){return n*Gr.RAD2DEG},isPowerOfTwo:function(n){return(n&n-1)==0&&n!==0},ceilPowerOfTwo:function(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:function(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},setQuaternionFromProperEuler:function(n,o,u,m,B){var k=Math.cos,ne=Math.sin,se=k(u/2),ge=ne(u/2),ve=k((o+m)/2),we=ne((o+m)/2),_e=k((o-m)/2),Te=ne((o-m)/2),ye=k((m-o)/2),ke=ne((m-o)/2);B==="XYX"?n.set(se*we,ge*_e,ge*Te,se*ve):B==="YZY"?n.set(ge*Te,se*we,ge*_e,se*ve):B==="ZXZ"?n.set(ge*_e,ge*Te,se*we,se*ve):B==="XZX"?n.set(se*we,ge*ke,ge*ye,se*ve):B==="YXY"?n.set(ge*ye,se*we,ge*ke,se*ve):B==="ZYZ"?n.set(ge*ke,ge*ye,se*we,se*ve):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function An(n,o){this.x=n||0,this.y=o||0}function xo(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(An.prototype,{width:{get:function(){return this.x},set:function(n){this.x=n}},height:{get:function(){return this.y},set:function(n){this.y=n}}}),Object.assign(An.prototype,{isVector2:!0,set:function(n,o){return this.x=n,this.y=o,this},setScalar:function(n){return this.x=n,this.y=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(n){return this.x=n.x,this.y=n.y,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this)},addScalar:function(n){return this.x+=n,this.y+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this)},subScalar:function(n){return this.x-=n,this.y-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},divideScalar:function(n){return this.multiplyScalar(1/n)},applyMatrix3:function(n){var o=this.x,u=this.y,m=n.elements;return this.x=m[0]*o+m[3]*u+m[6],this.y=m[1]*o+m[4]*u+m[7],this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x,u=this.y-n.y;return o*o+u*u},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this},rotateAround:function(n,o){var u=Math.cos(o),m=Math.sin(o),B=this.x-n.x,k=this.y-n.y;return this.x=B*u-k*m+n.x,this.y=B*m+k*u+n.y,this}}),Object.assign(xo.prototype,{isMatrix3:!0,set:function(n,o,u,m,B,k,ne,se,ge){var ve=this.elements;return ve[0]=n,ve[1]=m,ve[2]=ne,ve[3]=o,ve[4]=B,ve[5]=se,ve[6]=u,ve[7]=k,ve[8]=ge,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(n){var o=this.elements,u=n.elements;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],this},setFromMatrix4:function(n){var o=n.elements;return this.set(o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]),this},multiply:function(n){return this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var u=n.elements,m=o.elements,B=this.elements,k=u[0],ne=u[3],se=u[6],ge=u[1],ve=u[4],we=u[7],_e=u[2],Te=u[5],ye=u[8],ke=m[0],Ge=m[3],We=m[6],ht=m[1],vt=m[4],Dt=m[7],Lt=m[2],Xe=m[5],Vt=m[8];return B[0]=k*ke+ne*ht+se*Lt,B[3]=k*Ge+ne*vt+se*Xe,B[6]=k*We+ne*Dt+se*Vt,B[1]=ge*ke+ve*ht+we*Lt,B[4]=ge*Ge+ve*vt+we*Xe,B[7]=ge*We+ve*Dt+we*Vt,B[2]=_e*ke+Te*ht+ye*Lt,B[5]=_e*Ge+Te*vt+ye*Xe,B[8]=_e*We+Te*Dt+ye*Vt,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[3]*=n,o[6]*=n,o[1]*=n,o[4]*=n,o[7]*=n,o[2]*=n,o[5]*=n,o[8]*=n,this},determinant:function(){var n=this.elements,o=n[0],u=n[1],m=n[2],B=n[3],k=n[4],ne=n[5],se=n[6],ge=n[7],ve=n[8];return o*k*ve-o*ne*ge-u*B*ve+u*ne*se+m*B*ge-m*k*se},getInverse:function(n,o){n&&n.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var u=n.elements,m=this.elements,B=u[0],k=u[1],ne=u[2],se=u[3],ge=u[4],ve=u[5],we=u[6],_e=u[7],Te=u[8],ye=Te*ge-ve*_e,ke=ve*we-Te*se,Ge=_e*se-ge*we,We=B*ye+k*ke+ne*Ge;if(We==0){var ht="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(o===!0)throw new Error(ht);return console.warn(ht),this.identity()}var vt=1/We;return m[0]=ye*vt,m[1]=(ne*_e-Te*k)*vt,m[2]=(ve*k-ne*ge)*vt,m[3]=ke*vt,m[4]=(Te*B-ne*we)*vt,m[5]=(ne*se-ve*B)*vt,m[6]=Ge*vt,m[7]=(k*we-_e*B)*vt,m[8]=(ge*B-k*se)*vt,this},transpose:function(){var n,o=this.elements;return n=o[1],o[1]=o[3],o[3]=n,n=o[2],o[2]=o[6],o[6]=n,n=o[5],o[5]=o[7],o[7]=n,this},getNormalMatrix:function(n){return this.setFromMatrix4(n).getInverse(this).transpose()},transposeIntoArray:function(n){var o=this.elements;return n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8],this},setUvTransform:function(n,o,u,m,B,k,ne){var se=Math.cos(B),ge=Math.sin(B);this.set(u*se,u*ge,-u*(se*k+ge*ne)+k+n,-m*ge,m*se,-m*(-ge*k+se*ne)+ne+o,0,0,1)},scale:function(n,o){var u=this.elements;return u[0]*=n,u[3]*=n,u[6]*=n,u[1]*=o,u[4]*=o,u[7]*=o,this},rotate:function(n){var o=Math.cos(n),u=Math.sin(n),m=this.elements,B=m[0],k=m[3],ne=m[6],se=m[1],ge=m[4],ve=m[7];return m[0]=o*B+u*se,m[3]=o*k+u*ge,m[6]=o*ne+u*ve,m[1]=-u*B+o*se,m[4]=-u*k+o*ge,m[7]=-u*ne+o*ve,this},translate:function(n,o){var u=this.elements;return u[0]+=n*u[2],u[3]+=n*u[5],u[6]+=n*u[8],u[1]+=o*u[2],u[4]+=o*u[5],u[7]+=o*u[8],this},equals:function(n){for(var o=this.elements,u=n.elements,m=0;m<9;m++)if(o[m]!==u[m])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var u=0;u<9;u++)this.elements[u]=n[u+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var u=this.elements;return n[o]=u[0],n[o+1]=u[1],n[o+2]=u[2],n[o+3]=u[3],n[o+4]=u[4],n[o+5]=u[5],n[o+6]=u[6],n[o+7]=u[7],n[o+8]=u[8],n}});var zs={getDataURL:function(n){var o;if(typeof HTMLCanvasElement>"u")return n.src;if(n instanceof HTMLCanvasElement)o=n;else{ol===void 0&&(ol=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ol.width=n.width,ol.height=n.height;var u=ol.getContext("2d");n instanceof ImageData?u.putImageData(n,0,0):u.drawImage(n,0,0,n.width,n.height),o=ol}return 2048<o.width||2048<o.height?o.toDataURL("image/jpeg",.6):o.toDataURL("image/png")}},yu=0;function wi(n,o,u,m,B,k,ne,se,ge,ve){Object.defineProperty(this,"id",{value:yu++}),this.uuid=Gr.generateUUID(),this.name="",this.image=n!==void 0?n:wi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=o!==void 0?o:wi.DEFAULT_MAPPING,this.wrapS=u!==void 0?u:vn,this.wrapT=m!==void 0?m:vn,this.magFilter=B!==void 0?B:gn,this.minFilter=k!==void 0?k:Ar,this.anisotropy=ge!==void 0?ge:1,this.format=ne!==void 0?ne:Ce,this.internalFormat=null,this.type=se!==void 0?se:jn,this.offset=new An(0,0),this.repeat=new An(1,1),this.center=new An(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ve!==void 0?ve:er,this.version=0,this.onUpdate=null}function Ci(n,o,u,m){this.x=n||0,this.y=o||0,this.z=u||0,this.w=m!==void 0?m:1}function Do(n,o,u){this.width=n,this.height=o,this.scissor=new Ci(0,0,n,o),this.scissorTest=!1,this.viewport=new Ci(0,0,n,o),u=u||{},this.texture=new wi(void 0,u.mapping,u.wrapS,u.wrapT,u.magFilter,u.minFilter,u.format,u.type,u.anisotropy,u.encoding),this.texture.image={},this.texture.image.width=n,this.texture.image.height=o,this.texture.generateMipmaps=u.generateMipmaps!==void 0&&u.generateMipmaps,this.texture.minFilter=u.minFilter!==void 0?u.minFilter:gn,this.depthBuffer=u.depthBuffer===void 0||u.depthBuffer,this.stencilBuffer=u.stencilBuffer===void 0||u.stencilBuffer,this.depthTexture=u.depthTexture!==void 0?u.depthTexture:null}function ec(n,o,u){Do.call(this,n,o,u),this.samples=4}function To(n,o,u,m){this._x=n||0,this._y=o||0,this._z=u||0,this._w=m!==void 0?m:1}wi.DEFAULT_IMAGE=void 0,wi.DEFAULT_MAPPING=300,wi.prototype=Object.assign(Object.create(Qa.prototype),{constructor:wi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.name=n.name,this.image=n.image,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.encoding=n.encoding,this},toJSON:function(n){var o=n===void 0||typeof n=="string";if(!o&&n.textures[this.uuid]!==void 0)return n.textures[this.uuid];var u={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var m=this.image;if(m.uuid===void 0&&(m.uuid=Gr.generateUUID()),!o&&n.images[m.uuid]===void 0){var B;if(Array.isArray(m)){B=[];for(var k=0,ne=m.length;k<ne;k++)B.push(zs.getDataURL(m[k]))}else B=zs.getDataURL(m);n.images[m.uuid]={uuid:m.uuid,url:B}}u.image=m.uuid}return o||(n.textures[this.uuid]=u),u},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(n){if(this.mapping!==300)return n;if(n.applyMatrix3(this.matrix),n.x<0||1<n.x)switch(this.wrapS){case hn:n.x=n.x-Math.floor(n.x);break;case vn:n.x=n.x<0?0:1;break;case Ot:Math.abs(Math.floor(n.x)%2)===1?n.x=Math.ceil(n.x)-n.x:n.x=n.x-Math.floor(n.x)}if(n.y<0||1<n.y)switch(this.wrapT){case hn:n.y=n.y-Math.floor(n.y);break;case vn:n.y=n.y<0?0:1;break;case Ot:Math.abs(Math.floor(n.y)%2)===1?n.y=Math.ceil(n.y)-n.y:n.y=n.y-Math.floor(n.y)}return this.flipY&&(n.y=1-n.y),n}}),Object.defineProperty(wi.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.defineProperties(Ci.prototype,{width:{get:function(){return this.z},set:function(n){this.z=n}},height:{get:function(){return this.w},set:function(n){this.w=n}}}),Object.assign(Ci.prototype,{isVector4:!0,set:function(n,o,u,m){return this.x=n,this.y=o,this.z=u,this.w=m,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this.w=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setW:function(n){return this.w=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this.w=n.w+o.w,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this.w+=n.w*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this.w=n.w-o.w,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this},applyMatrix4:function(n){var o=this.x,u=this.y,m=this.z,B=this.w,k=n.elements;return this.x=k[0]*o+k[4]*u+k[8]*m+k[12]*B,this.y=k[1]*o+k[5]*u+k[9]*m+k[13]*B,this.z=k[2]*o+k[6]*u+k[10]*m+k[14]*B,this.w=k[3]*o+k[7]*u+k[11]*m+k[15]*B,this},divideScalar:function(n){return this.multiplyScalar(1/n)},setAxisAngleFromQuaternion:function(n){this.w=2*Math.acos(n.w);var o=Math.sqrt(1-n.w*n.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/o,this.y=n.y/o,this.z=n.z/o),this},setAxisAngleFromRotationMatrix:function(n){var o,u,m,B,k=n.elements,ne=k[0],se=k[4],ge=k[8],ve=k[1],we=k[5],_e=k[9],Te=k[2],ye=k[6],ke=k[10];if(Math.abs(se-ve)<.01&&Math.abs(ge-Te)<.01&&Math.abs(_e-ye)<.01){if(Math.abs(se+ve)<.1&&Math.abs(ge+Te)<.1&&Math.abs(_e+ye)<.1&&Math.abs(ne+we+ke-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;var Ge=(ne+1)/2,We=(we+1)/2,ht=(ke+1)/2,vt=(se+ve)/4,Dt=(ge+Te)/4,Lt=(_e+ye)/4;return We<Ge&&ht<Ge?B=Ge<.01?(u=0,m=.707106781):(m=vt/(u=Math.sqrt(Ge)),Dt/u):ht<We?B=We<.01?(m=0,u=.707106781):(u=vt/(m=Math.sqrt(We)),Lt/m):ht<.01?(m=u=.707106781,B=0):(u=Dt/(B=Math.sqrt(ht)),m=Lt/B),this.set(u,m,B,o),this}var Xe=Math.sqrt((ye-_e)*(ye-_e)+(ge-Te)*(ge-Te)+(ve-se)*(ve-se));return Math.abs(Xe)<.001&&(Xe=1),this.x=(ye-_e)/Xe,this.y=(ge-Te)/Xe,this.z=(ve-se)/Xe,this.w=Math.acos((ne+we+ke-1)/2),this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this.w=Math.max(n.w,Math.min(o.w,this.w)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this.w=Math.max(n,Math.min(o,this.w)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this.w+=(n.w-this.w)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this.w=n[o+3],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n[o+3]=this.w,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this.w=n.getW(o),this}}),Do.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Do,isWebGLRenderTarget:!0,setSize:function(n,o){this.width===n&&this.height===o||(this.width=n,this.height=o,this.texture.image.width=n,this.texture.image.height=o,this.dispose()),this.viewport.set(0,0,n,o),this.scissor.set(0,0,n,o)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.width=n.width,this.height=n.height,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ec.prototype=Object.assign(Object.create(Do.prototype),{constructor:ec,isWebGLMultisampleRenderTarget:!0,copy:function(n){return Do.prototype.copy.call(this,n),this.samples=n.samples,this}}),Object.assign(To,{slerp:function(n,o,u,m){return u.copy(n).slerp(o,m)},slerpFlat:function(n,o,u,m,B,k,ne){var se=u[m+0],ge=u[m+1],ve=u[m+2],we=u[m+3],_e=B[k+0],Te=B[k+1],ye=B[k+2],ke=B[k+3];if(we!==ke||se!==_e||ge!==Te||ve!==ye){var Ge=1-ne,We=se*_e+ge*Te+ve*ye+we*ke,ht=0<=We?1:-1,vt=1-We*We;if(vt>Number.EPSILON){var Dt=Math.sqrt(vt),Lt=Math.atan2(Dt,We*ht);Ge=Math.sin(Ge*Lt)/Dt,ne=Math.sin(ne*Lt)/Dt}var Xe=ne*ht;if(se=se*Ge+_e*Xe,ge=ge*Ge+Te*Xe,ve=ve*Ge+ye*Xe,we=we*Ge+ke*Xe,Ge===1-ne){var Vt=1/Math.sqrt(se*se+ge*ge+ve*ve+we*we);se*=Vt,ge*=Vt,ve*=Vt,we*=Vt}}n[o]=se,n[o+1]=ge,n[o+2]=ve,n[o+3]=we}}),Object.defineProperties(To.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(n){this._w=n,this._onChangeCallback()}}}),Object.assign(To.prototype,{isQuaternion:!0,set:function(n,o,u,m){return this._x=n,this._y=o,this._z=u,this._w=m,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this},setFromEuler:function(n,o){if(!n||!n.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var u=n._x,m=n._y,B=n._z,k=n.order,ne=Math.cos,se=Math.sin,ge=ne(u/2),ve=ne(m/2),we=ne(B/2),_e=se(u/2),Te=se(m/2),ye=se(B/2);return k==="XYZ"?(this._x=_e*ve*we+ge*Te*ye,this._y=ge*Te*we-_e*ve*ye,this._z=ge*ve*ye+_e*Te*we,this._w=ge*ve*we-_e*Te*ye):k==="YXZ"?(this._x=_e*ve*we+ge*Te*ye,this._y=ge*Te*we-_e*ve*ye,this._z=ge*ve*ye-_e*Te*we,this._w=ge*ve*we+_e*Te*ye):k==="ZXY"?(this._x=_e*ve*we-ge*Te*ye,this._y=ge*Te*we+_e*ve*ye,this._z=ge*ve*ye+_e*Te*we,this._w=ge*ve*we-_e*Te*ye):k==="ZYX"?(this._x=_e*ve*we-ge*Te*ye,this._y=ge*Te*we+_e*ve*ye,this._z=ge*ve*ye-_e*Te*we,this._w=ge*ve*we+_e*Te*ye):k==="YZX"?(this._x=_e*ve*we+ge*Te*ye,this._y=ge*Te*we+_e*ve*ye,this._z=ge*ve*ye-_e*Te*we,this._w=ge*ve*we-_e*Te*ye):k==="XZY"&&(this._x=_e*ve*we-ge*Te*ye,this._y=ge*Te*we-_e*ve*ye,this._z=ge*ve*ye+_e*Te*we,this._w=ge*ve*we+_e*Te*ye),o!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(n,o){var u=o/2,m=Math.sin(u);return this._x=n.x*m,this._y=n.y*m,this._z=n.z*m,this._w=Math.cos(u),this._onChangeCallback(),this},setFromRotationMatrix:function(n){var o,u=n.elements,m=u[0],B=u[4],k=u[8],ne=u[1],se=u[5],ge=u[9],ve=u[2],we=u[6],_e=u[10],Te=m+se+_e;return 0<Te?(o=.5/Math.sqrt(Te+1),this._w=.25/o,this._x=(we-ge)*o,this._y=(k-ve)*o,this._z=(ne-B)*o):se<m&&_e<m?(o=2*Math.sqrt(1+m-se-_e),this._w=(we-ge)/o,this._x=.25*o,this._y=(B+ne)/o,this._z=(k+ve)/o):_e<se?(o=2*Math.sqrt(1+se-m-_e),this._w=(k-ve)/o,this._x=(B+ne)/o,this._y=.25*o,this._z=(ge+we)/o):(o=2*Math.sqrt(1+_e-m-se),this._w=(ne-B)/o,this._x=(k+ve)/o,this._y=(ge+we)/o,this._z=.25*o),this._onChangeCallback(),this},setFromUnitVectors:function(n,o){var u=n.dot(o)+1;return u<1e-6?(u=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0):(this._x=0,this._y=-n.z,this._z=n.y)):(this._x=n.y*o.z-n.z*o.y,this._y=n.z*o.x-n.x*o.z,this._z=n.x*o.y-n.y*o.x),this._w=u,this.normalize()},angleTo:function(n){return 2*Math.acos(Math.abs(Gr.clamp(this.dot(n),-1,1)))},rotateTowards:function(n,o){var u=this.angleTo(n);if(u===0)return this;var m=Math.min(1,o/u);return this.slerp(n,m),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var n=this.length();return n===0?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,o)):this.multiplyQuaternions(this,n)},premultiply:function(n){return this.multiplyQuaternions(n,this)},multiplyQuaternions:function(n,o){var u=n._x,m=n._y,B=n._z,k=n._w,ne=o._x,se=o._y,ge=o._z,ve=o._w;return this._x=u*ve+k*ne+m*ge-B*se,this._y=m*ve+k*se+B*ne-u*ge,this._z=B*ve+k*ge+u*se-m*ne,this._w=k*ve-u*ne-m*se-B*ge,this._onChangeCallback(),this},slerp:function(n,o){if(o===0)return this;if(o===1)return this.copy(n);var u=this._x,m=this._y,B=this._z,k=this._w,ne=k*n._w+u*n._x+m*n._y+B*n._z;if(ne<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,ne=-ne):this.copy(n),1<=ne)return this._w=k,this._x=u,this._y=m,this._z=B,this;var se=1-ne*ne;if(se<=Number.EPSILON){var ge=1-o;return this._w=ge*k+o*this._w,this._x=ge*u+o*this._x,this._y=ge*m+o*this._y,this._z=ge*B+o*this._z,this.normalize(),this._onChangeCallback(),this}var ve=Math.sqrt(se),we=Math.atan2(ve,ne),_e=Math.sin((1-o)*we)/ve,Te=Math.sin(o*we)/ve;return this._w=k*_e+this._w*Te,this._x=u*_e+this._x*Te,this._y=m*_e+this._y*Te,this._z=B*_e+this._z*Te,this._onChangeCallback(),this},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w},fromArray:function(n,o){return o===void 0&&(o=0),this._x=n[o],this._y=n[o+1],this._z=n[o+2],this._w=n[o+3],this._onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._w,n},_onChange:function(n){return this._onChangeCallback=n,this},_onChangeCallback:function(){}});var Bi=new gt,Ai=new To;function gt(n,o,u){this.x=n||0,this.y=o||0,this.z=u||0}Object.assign(gt.prototype,{isVector3:!0,set:function(n,o,u){return this.x=n,this.y=o,this.z=u,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,o)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this},multiplyVectors:function(n,o){return this.x=n.x*o.x,this.y=n.y*o.y,this.z=n.z*o.z,this},applyEuler:function(n){return n&&n.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ai.setFromEuler(n))},applyAxisAngle:function(n,o){return this.applyQuaternion(Ai.setFromAxisAngle(n,o))},applyMatrix3:function(n){var o=this.x,u=this.y,m=this.z,B=n.elements;return this.x=B[0]*o+B[3]*u+B[6]*m,this.y=B[1]*o+B[4]*u+B[7]*m,this.z=B[2]*o+B[5]*u+B[8]*m,this},applyNormalMatrix:function(n){return this.applyMatrix3(n).normalize()},applyMatrix4:function(n){var o=this.x,u=this.y,m=this.z,B=n.elements,k=1/(B[3]*o+B[7]*u+B[11]*m+B[15]);return this.x=(B[0]*o+B[4]*u+B[8]*m+B[12])*k,this.y=(B[1]*o+B[5]*u+B[9]*m+B[13])*k,this.z=(B[2]*o+B[6]*u+B[10]*m+B[14])*k,this},applyQuaternion:function(n){var o=this.x,u=this.y,m=this.z,B=n.x,k=n.y,ne=n.z,se=n.w,ge=se*o+k*m-ne*u,ve=se*u+ne*o-B*m,we=se*m+B*u-k*o,_e=-B*o-k*u-ne*m;return this.x=ge*se+_e*-B+ve*-ne-we*-k,this.y=ve*se+_e*-k+we*-B-ge*-ne,this.z=we*se+_e*-ne+ge*-k-ve*-B,this},project:function(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)},unproject:function(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)},transformDirection:function(n){var o=this.x,u=this.y,m=this.z,B=n.elements;return this.x=B[0]*o+B[4]*u+B[8]*m,this.y=B[1]*o+B[5]*u+B[9]*m,this.z=B[2]*o+B[6]*u+B[10]*m,this.normalize()},divide:function(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},cross:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,o)):this.crossVectors(this,n)},crossVectors:function(n,o){var u=n.x,m=n.y,B=n.z,k=o.x,ne=o.y,se=o.z;return this.x=m*se-B*ne,this.y=B*k-u*se,this.z=u*ne-m*k,this},projectOnVector:function(n){var o=n.lengthSq();if(o===0)return this.set(0,0,0);var u=n.dot(this)/o;return this.copy(n).multiplyScalar(u)},projectOnPlane:function(n){return Bi.copy(this).projectOnVector(n),this.sub(Bi)},reflect:function(n){return this.sub(Bi.copy(n).multiplyScalar(2*this.dot(n)))},angleTo:function(n){var o=Math.sqrt(this.lengthSq()*n.lengthSq());if(o===0)return Math.PI/2;var u=this.dot(n)/o;return Math.acos(Gr.clamp(u,-1,1))},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x,u=this.y-n.y,m=this.z-n.z;return o*o+u*u+m*m},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)},setFromSpherical:function(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)},setFromSphericalCoords:function(n,o,u){var m=Math.sin(o)*n;return this.x=m*Math.sin(u),this.y=Math.cos(o)*n,this.z=m*Math.cos(u),this},setFromCylindrical:function(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)},setFromCylindricalCoords:function(n,o,u){return this.x=n*Math.sin(o),this.y=u,this.z=n*Math.cos(o),this},setFromMatrixPosition:function(n){var o=n.elements;return this.x=o[12],this.y=o[13],this.z=o[14],this},setFromMatrixScale:function(n){var o=this.setFromMatrixColumn(n,0).length(),u=this.setFromMatrixColumn(n,1).length(),m=this.setFromMatrixColumn(n,2).length();return this.x=o,this.y=u,this.z=m,this},setFromMatrixColumn:function(n,o){return this.fromArray(n.elements,4*o)},setFromMatrix3Column:function(n,o){return this.fromArray(n.elements,3*o)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this}});var Fl=new gt,La=new ur,tc=new gt(0,0,0),vd=new gt(1,1,1),es=new gt,nc=new gt,ca=new gt;function ur(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ur.prototype,{isMatrix4:!0,set:function(n,o,u,m,B,k,ne,se,ge,ve,we,_e,Te,ye,ke,Ge){var We=this.elements;return We[0]=n,We[4]=o,We[8]=u,We[12]=m,We[1]=B,We[5]=k,We[9]=ne,We[13]=se,We[2]=ge,We[6]=ve,We[10]=we,We[14]=_e,We[3]=Te,We[7]=ye,We[11]=ke,We[15]=Ge,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ur().fromArray(this.elements)},copy:function(n){var o=this.elements,u=n.elements;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o[9]=u[9],o[10]=u[10],o[11]=u[11],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15],this},copyPosition:function(n){var o=this.elements,u=n.elements;return o[12]=u[12],o[13]=u[13],o[14]=u[14],this},extractBasis:function(n,o,u){return n.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),u.setFromMatrixColumn(this,2),this},makeBasis:function(n,o,u){return this.set(n.x,o.x,u.x,0,n.y,o.y,u.y,0,n.z,o.z,u.z,0,0,0,0,1),this},extractRotation:function(n){var o=this.elements,u=n.elements,m=1/Fl.setFromMatrixColumn(n,0).length(),B=1/Fl.setFromMatrixColumn(n,1).length(),k=1/Fl.setFromMatrixColumn(n,2).length();return o[0]=u[0]*m,o[1]=u[1]*m,o[2]=u[2]*m,o[3]=0,o[4]=u[4]*B,o[5]=u[5]*B,o[6]=u[6]*B,o[7]=0,o[8]=u[8]*k,o[9]=u[9]*k,o[10]=u[10]*k,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromEuler:function(n){n&&n.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var o=this.elements,u=n.x,m=n.y,B=n.z,k=Math.cos(u),ne=Math.sin(u),se=Math.cos(m),ge=Math.sin(m),ve=Math.cos(B),we=Math.sin(B);if(n.order==="XYZ"){var _e=k*ve,Te=k*we,ye=ne*ve,ke=ne*we;o[0]=se*ve,o[4]=-se*we,o[8]=ge,o[1]=Te+ye*ge,o[5]=_e-ke*ge,o[9]=-ne*se,o[2]=ke-_e*ge,o[6]=ye+Te*ge,o[10]=k*se}else if(n.order==="YXZ"){var Ge=se*ve,We=se*we,ht=ge*ve,vt=ge*we;o[0]=Ge+vt*ne,o[4]=ht*ne-We,o[8]=k*ge,o[1]=k*we,o[5]=k*ve,o[9]=-ne,o[2]=We*ne-ht,o[6]=vt+Ge*ne,o[10]=k*se}else if(n.order==="ZXY")Ge=se*ve,We=se*we,ht=ge*ve,vt=ge*we,o[0]=Ge-vt*ne,o[4]=-k*we,o[8]=ht+We*ne,o[1]=We+ht*ne,o[5]=k*ve,o[9]=vt-Ge*ne,o[2]=-k*ge,o[6]=ne,o[10]=k*se;else if(n.order==="ZYX")_e=k*ve,Te=k*we,ye=ne*ve,ke=ne*we,o[0]=se*ve,o[4]=ye*ge-Te,o[8]=_e*ge+ke,o[1]=se*we,o[5]=ke*ge+_e,o[9]=Te*ge-ye,o[2]=-ge,o[6]=ne*se,o[10]=k*se;else if(n.order==="YZX"){var Dt=k*se,Lt=k*ge,Xe=ne*se,Vt=ne*ge;o[0]=se*ve,o[4]=Vt-Dt*we,o[8]=Xe*we+Lt,o[1]=we,o[5]=k*ve,o[9]=-ne*ve,o[2]=-ge*ve,o[6]=Lt*we+Xe,o[10]=Dt-Vt*we}else n.order==="XZY"&&(Dt=k*se,Lt=k*ge,Xe=ne*se,Vt=ne*ge,o[0]=se*ve,o[4]=-we,o[8]=ge*ve,o[1]=Dt*we+Vt,o[5]=k*ve,o[9]=Lt*we-Xe,o[2]=Xe*we-Lt,o[6]=ne*ve,o[10]=Vt*we+Dt);return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromQuaternion:function(n){return this.compose(tc,n,vd)},lookAt:function(n,o,u){var m=this.elements;return ca.subVectors(n,o),ca.lengthSq()===0&&(ca.z=1),ca.normalize(),es.crossVectors(u,ca),es.lengthSq()===0&&(Math.abs(u.z)===1?ca.x+=1e-4:ca.z+=1e-4,ca.normalize(),es.crossVectors(u,ca)),es.normalize(),nc.crossVectors(ca,es),m[0]=es.x,m[4]=nc.x,m[8]=ca.x,m[1]=es.y,m[5]=nc.y,m[9]=ca.y,m[2]=es.z,m[6]=nc.z,m[10]=ca.z,this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,o)):this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var u=n.elements,m=o.elements,B=this.elements,k=u[0],ne=u[4],se=u[8],ge=u[12],ve=u[1],we=u[5],_e=u[9],Te=u[13],ye=u[2],ke=u[6],Ge=u[10],We=u[14],ht=u[3],vt=u[7],Dt=u[11],Lt=u[15],Xe=m[0],Vt=m[4],At=m[8],Wt=m[12],rn=m[1],un=m[5],pn=m[9],wn=m[13],Tn=m[2],Kt=m[6],on=m[10],zn=m[14],$n=m[3],xr=m[7],cr=m[11],sr=m[15];return B[0]=k*Xe+ne*rn+se*Tn+ge*$n,B[4]=k*Vt+ne*un+se*Kt+ge*xr,B[8]=k*At+ne*pn+se*on+ge*cr,B[12]=k*Wt+ne*wn+se*zn+ge*sr,B[1]=ve*Xe+we*rn+_e*Tn+Te*$n,B[5]=ve*Vt+we*un+_e*Kt+Te*xr,B[9]=ve*At+we*pn+_e*on+Te*cr,B[13]=ve*Wt+we*wn+_e*zn+Te*sr,B[2]=ye*Xe+ke*rn+Ge*Tn+We*$n,B[6]=ye*Vt+ke*un+Ge*Kt+We*xr,B[10]=ye*At+ke*pn+Ge*on+We*cr,B[14]=ye*Wt+ke*wn+Ge*zn+We*sr,B[3]=ht*Xe+vt*rn+Dt*Tn+Lt*$n,B[7]=ht*Vt+vt*un+Dt*Kt+Lt*xr,B[11]=ht*At+vt*pn+Dt*on+Lt*cr,B[15]=ht*Wt+vt*wn+Dt*zn+Lt*sr,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[4]*=n,o[8]*=n,o[12]*=n,o[1]*=n,o[5]*=n,o[9]*=n,o[13]*=n,o[2]*=n,o[6]*=n,o[10]*=n,o[14]*=n,o[3]*=n,o[7]*=n,o[11]*=n,o[15]*=n,this},determinant:function(){var n=this.elements,o=n[0],u=n[4],m=n[8],B=n[12],k=n[1],ne=n[5],se=n[9],ge=n[13],ve=n[2],we=n[6],_e=n[10],Te=n[14];return n[3]*(B*se*we-m*ge*we-B*ne*_e+u*ge*_e+m*ne*Te-u*se*Te)+n[7]*(o*se*Te-o*ge*_e+B*k*_e-m*k*Te+m*ge*ve-B*se*ve)+n[11]*(o*ge*we-o*ne*Te-B*k*we+u*k*Te+B*ne*ve-u*ge*ve)+n[15]*(-m*ne*ve-o*se*we+o*ne*_e+m*k*we-u*k*_e+u*se*ve)},transpose:function(){var n,o=this.elements;return n=o[1],o[1]=o[4],o[4]=n,n=o[2],o[2]=o[8],o[8]=n,n=o[6],o[6]=o[9],o[9]=n,n=o[3],o[3]=o[12],o[12]=n,n=o[7],o[7]=o[13],o[13]=n,n=o[11],o[11]=o[14],o[14]=n,this},setPosition:function(n,o,u){var m=this.elements;return n.isVector3?(m[12]=n.x,m[13]=n.y,m[14]=n.z):(m[12]=n,m[13]=o,m[14]=u),this},getInverse:function(n,o){var u=this.elements,m=n.elements,B=m[0],k=m[1],ne=m[2],se=m[3],ge=m[4],ve=m[5],we=m[6],_e=m[7],Te=m[8],ye=m[9],ke=m[10],Ge=m[11],We=m[12],ht=m[13],vt=m[14],Dt=m[15],Lt=ye*vt*_e-ht*ke*_e+ht*we*Ge-ve*vt*Ge-ye*we*Dt+ve*ke*Dt,Xe=We*ke*_e-Te*vt*_e-We*we*Ge+ge*vt*Ge+Te*we*Dt-ge*ke*Dt,Vt=Te*ht*_e-We*ye*_e+We*ve*Ge-ge*ht*Ge-Te*ve*Dt+ge*ye*Dt,At=We*ye*we-Te*ht*we-We*ve*ke+ge*ht*ke+Te*ve*vt-ge*ye*vt,Wt=B*Lt+k*Xe+ne*Vt+se*At;if(Wt==0){var rn="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(o===!0)throw new Error(rn);return console.warn(rn),this.identity()}var un=1/Wt;return u[0]=Lt*un,u[1]=(ht*ke*se-ye*vt*se-ht*ne*Ge+k*vt*Ge+ye*ne*Dt-k*ke*Dt)*un,u[2]=(ve*vt*se-ht*we*se+ht*ne*_e-k*vt*_e-ve*ne*Dt+k*we*Dt)*un,u[3]=(ye*we*se-ve*ke*se-ye*ne*_e+k*ke*_e+ve*ne*Ge-k*we*Ge)*un,u[4]=Xe*un,u[5]=(Te*vt*se-We*ke*se+We*ne*Ge-B*vt*Ge-Te*ne*Dt+B*ke*Dt)*un,u[6]=(We*we*se-ge*vt*se-We*ne*_e+B*vt*_e+ge*ne*Dt-B*we*Dt)*un,u[7]=(ge*ke*se-Te*we*se+Te*ne*_e-B*ke*_e-ge*ne*Ge+B*we*Ge)*un,u[8]=Vt*un,u[9]=(We*ye*se-Te*ht*se-We*k*Ge+B*ht*Ge+Te*k*Dt-B*ye*Dt)*un,u[10]=(ge*ht*se-We*ve*se+We*k*_e-B*ht*_e-ge*k*Dt+B*ve*Dt)*un,u[11]=(Te*ve*se-ge*ye*se-Te*k*_e+B*ye*_e+ge*k*Ge-B*ve*Ge)*un,u[12]=At*un,u[13]=(Te*ht*ne-We*ye*ne+We*k*ke-B*ht*ke-Te*k*vt+B*ye*vt)*un,u[14]=(We*ve*ne-ge*ht*ne-We*k*we+B*ht*we+ge*k*vt-B*ve*vt)*un,u[15]=(ge*ye*ne-Te*ve*ne+Te*k*we-B*ye*we-ge*k*ke+B*ve*ke)*un,this},scale:function(n){var o=this.elements,u=n.x,m=n.y,B=n.z;return o[0]*=u,o[4]*=m,o[8]*=B,o[1]*=u,o[5]*=m,o[9]*=B,o[2]*=u,o[6]*=m,o[10]*=B,o[3]*=u,o[7]*=m,o[11]*=B,this},getMaxScaleOnAxis:function(){var n=this.elements,o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],u=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],m=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(o,u,m))},makeTranslation:function(n,o,u){return this.set(1,0,0,n,0,1,0,o,0,0,1,u,0,0,0,1),this},makeRotationX:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(1,0,0,0,0,o,-u,0,0,u,o,0,0,0,0,1),this},makeRotationY:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(o,0,u,0,0,1,0,0,-u,0,o,0,0,0,0,1),this},makeRotationZ:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(o,-u,0,0,u,o,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(n,o){var u=Math.cos(o),m=Math.sin(o),B=1-u,k=n.x,ne=n.y,se=n.z,ge=B*k,ve=B*ne;return this.set(ge*k+u,ge*ne-m*se,ge*se+m*ne,0,ge*ne+m*se,ve*ne+u,ve*se-m*k,0,ge*se-m*ne,ve*se+m*k,B*se*se+u,0,0,0,0,1),this},makeScale:function(n,o,u){return this.set(n,0,0,0,0,o,0,0,0,0,u,0,0,0,0,1),this},makeShear:function(n,o,u){return this.set(1,o,u,0,n,1,u,0,n,o,1,0,0,0,0,1),this},compose:function(n,o,u){var m=this.elements,B=o._x,k=o._y,ne=o._z,se=o._w,ge=B+B,ve=k+k,we=ne+ne,_e=B*ge,Te=B*ve,ye=B*we,ke=k*ve,Ge=k*we,We=ne*we,ht=se*ge,vt=se*ve,Dt=se*we,Lt=u.x,Xe=u.y,Vt=u.z;return m[0]=(1-(ke+We))*Lt,m[1]=(Te+Dt)*Lt,m[2]=(ye-vt)*Lt,m[3]=0,m[4]=(Te-Dt)*Xe,m[5]=(1-(_e+We))*Xe,m[6]=(Ge+ht)*Xe,m[7]=0,m[8]=(ye+vt)*Vt,m[9]=(Ge-ht)*Vt,m[10]=(1-(_e+ke))*Vt,m[11]=0,m[12]=n.x,m[13]=n.y,m[14]=n.z,m[15]=1,this},decompose:function(n,o,u){var m=this.elements,B=Fl.set(m[0],m[1],m[2]).length(),k=Fl.set(m[4],m[5],m[6]).length(),ne=Fl.set(m[8],m[9],m[10]).length();this.determinant()<0&&(B=-B),n.x=m[12],n.y=m[13],n.z=m[14],La.copy(this);var se=1/B,ge=1/k,ve=1/ne;return La.elements[0]*=se,La.elements[1]*=se,La.elements[2]*=se,La.elements[4]*=ge,La.elements[5]*=ge,La.elements[6]*=ge,La.elements[8]*=ve,La.elements[9]*=ve,La.elements[10]*=ve,o.setFromRotationMatrix(La),u.x=B,u.y=k,u.z=ne,this},makePerspective:function(n,o,u,m,B,k){k===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var ne=this.elements,se=2*B/(o-n),ge=2*B/(u-m),ve=(o+n)/(o-n),we=(u+m)/(u-m),_e=-(k+B)/(k-B),Te=-2*k*B/(k-B);return ne[0]=se,ne[4]=0,ne[8]=ve,ne[12]=0,ne[1]=0,ne[5]=ge,ne[9]=we,ne[13]=0,ne[2]=0,ne[6]=0,ne[10]=_e,ne[14]=Te,ne[3]=0,ne[7]=0,ne[11]=-1,ne[15]=0,this},makeOrthographic:function(n,o,u,m,B,k){var ne=this.elements,se=1/(o-n),ge=1/(u-m),ve=1/(k-B),we=(o+n)*se,_e=(u+m)*ge,Te=(k+B)*ve;return ne[0]=2*se,ne[4]=0,ne[8]=0,ne[12]=-we,ne[1]=0,ne[5]=2*ge,ne[9]=0,ne[13]=-_e,ne[2]=0,ne[6]=0,ne[10]=-2*ve,ne[14]=-Te,ne[3]=0,ne[7]=0,ne[11]=0,ne[15]=1,this},equals:function(n){for(var o=this.elements,u=n.elements,m=0;m<16;m++)if(o[m]!==u[m])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var u=0;u<16;u++)this.elements[u]=n[u+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var u=this.elements;return n[o]=u[0],n[o+1]=u[1],n[o+2]=u[2],n[o+3]=u[3],n[o+4]=u[4],n[o+5]=u[5],n[o+6]=u[6],n[o+7]=u[7],n[o+8]=u[8],n[o+9]=u[9],n[o+10]=u[10],n[o+11]=u[11],n[o+12]=u[12],n[o+13]=u[13],n[o+14]=u[14],n[o+15]=u[15],n}});var te=new ur,fe=new To;function xe(n,o,u,m){this._x=n||0,this._y=o||0,this._z=u||0,this._order=m||xe.DefaultOrder}function Me(){this.mask=1}xe.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],xe.DefaultOrder="XYZ",Object.defineProperties(xe.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(n){this._order=n,this._onChangeCallback()}}}),Object.assign(xe.prototype,{isEuler:!0,set:function(n,o,u,m){return this._x=n,this._y=o,this._z=u,this._order=m||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this},setFromRotationMatrix:function(n,o,u){var m=Gr.clamp,B=n.elements,k=B[0],ne=B[4],se=B[8],ge=B[1],ve=B[5],we=B[9],_e=B[2],Te=B[6],ye=B[10];return(o=o||this._order)==="XYZ"?(this._y=Math.asin(m(se,-1,1)),Math.abs(se)<.9999999?(this._x=Math.atan2(-we,ye),this._z=Math.atan2(-ne,k)):(this._x=Math.atan2(Te,ve),this._z=0)):o==="YXZ"?(this._x=Math.asin(-m(we,-1,1)),Math.abs(we)<.9999999?(this._y=Math.atan2(se,ye),this._z=Math.atan2(ge,ve)):(this._y=Math.atan2(-_e,k),this._z=0)):o==="ZXY"?(this._x=Math.asin(m(Te,-1,1)),Math.abs(Te)<.9999999?(this._y=Math.atan2(-_e,ye),this._z=Math.atan2(-ne,ve)):(this._y=0,this._z=Math.atan2(ge,k))):o==="ZYX"?(this._y=Math.asin(-m(_e,-1,1)),Math.abs(_e)<.9999999?(this._x=Math.atan2(Te,ye),this._z=Math.atan2(ge,k)):(this._x=0,this._z=Math.atan2(-ne,ve))):o==="YZX"?(this._z=Math.asin(m(ge,-1,1)),Math.abs(ge)<.9999999?(this._x=Math.atan2(-we,ve),this._y=Math.atan2(-_e,k)):(this._x=0,this._y=Math.atan2(se,ye))):o==="XZY"?(this._z=Math.asin(-m(ne,-1,1)),Math.abs(ne)<.9999999?(this._x=Math.atan2(Te,ve),this._y=Math.atan2(se,k)):(this._x=Math.atan2(-we,ye),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+o),this._order=o,u!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(n,o,u){return te.makeRotationFromQuaternion(n),this.setFromRotationMatrix(te,o,u)},setFromVector3:function(n,o){return this.set(n.x,n.y,n.z,o||this._order)},reorder:function(n){return fe.setFromEuler(this),this.setFromQuaternion(fe,n)},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order},fromArray:function(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this._onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._order,n},toVector3:function(n){return n?n.set(this._x,this._y,this._z):new gt(this._x,this._y,this._z)},_onChange:function(n){return this._onChangeCallback=n,this},_onChangeCallback:function(){}}),Object.assign(Me.prototype,{set:function(n){this.mask=1<<n|0},enable:function(n){this.mask|=1<<n|0},enableAll:function(){this.mask=-1},toggle:function(n){this.mask^=1<<n|0},disable:function(n){this.mask&=~(1<<n|0)},disableAll:function(){this.mask=0},test:function(n){return(this.mask&n.mask)!=0}});var ze=0,He=new gt,Qe=new To,Mt=new ur,wt=new gt,Ut=new gt,cn=new gt,Dn=new To,Zt=new gt(1,0,0),dn=new gt(0,1,0),lr=new gt(0,0,1),Ir={type:"added"},tr={type:"removed"};function Fn(){Object.defineProperty(this,"id",{value:ze++}),this.uuid=Gr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fn.DefaultUp.clone();var n=new gt,o=new xe,u=new To,m=new gt(1,1,1);o._onChange(function(){u.setFromEuler(o,!1)}),u._onChange(function(){o.setFromQuaternion(u,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:u},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new ur},normalMatrix:{value:new xo}}),this.matrix=new ur,this.matrixWorld=new ur,this.matrixAutoUpdate=Fn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Me,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Ei(){Fn.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Fn.DefaultUp=new gt(0,1,0),Fn.DefaultMatrixAutoUpdate=!0,Fn.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Fn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(n){return this.quaternion.premultiply(n),this},setRotationFromAxisAngle:function(n,o){this.quaternion.setFromAxisAngle(n,o)},setRotationFromEuler:function(n){this.quaternion.setFromEuler(n,!0)},setRotationFromMatrix:function(n){this.quaternion.setFromRotationMatrix(n)},setRotationFromQuaternion:function(n){this.quaternion.copy(n)},rotateOnAxis:function(n,o){return Qe.setFromAxisAngle(n,o),this.quaternion.multiply(Qe),this},rotateOnWorldAxis:function(n,o){return Qe.setFromAxisAngle(n,o),this.quaternion.premultiply(Qe),this},rotateX:function(n){return this.rotateOnAxis(Zt,n)},rotateY:function(n){return this.rotateOnAxis(dn,n)},rotateZ:function(n){return this.rotateOnAxis(lr,n)},translateOnAxis:function(n,o){return He.copy(n).applyQuaternion(this.quaternion),this.position.add(He.multiplyScalar(o)),this},translateX:function(n){return this.translateOnAxis(Zt,n)},translateY:function(n){return this.translateOnAxis(dn,n)},translateZ:function(n){return this.translateOnAxis(lr,n)},localToWorld:function(n){return n.applyMatrix4(this.matrixWorld)},worldToLocal:function(n){return n.applyMatrix4(Mt.getInverse(this.matrixWorld))},lookAt:function(n,o,u){n.isVector3?wt.copy(n):wt.set(n,o,u);var m=this.parent;this.updateWorldMatrix(!0,!1),Ut.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mt.lookAt(Ut,wt,this.up):Mt.lookAt(wt,Ut,this.up),this.quaternion.setFromRotationMatrix(Mt),m&&(Mt.extractRotation(m.matrixWorld),Qe.setFromRotationMatrix(Mt),this.quaternion.premultiply(Qe.inverse()))},add:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return n===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",n):n&&n.isObject3D?(n.parent!==null&&n.parent.remove(n),(n.parent=this).children.push(n),n.dispatchEvent(Ir)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this},remove:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}var u=this.children.indexOf(n);return u!==-1&&(n.parent=null,this.children.splice(u,1),n.dispatchEvent(tr)),this},attach:function(n){return this.updateWorldMatrix(!0,!1),Mt.getInverse(this.matrixWorld),n.parent!==null&&(n.parent.updateWorldMatrix(!0,!1),Mt.multiply(n.parent.matrixWorld)),n.applyMatrix4(Mt),n.updateWorldMatrix(!1,!1),this.add(n),this},getObjectById:function(n){return this.getObjectByProperty("id",n)},getObjectByName:function(n){return this.getObjectByProperty("name",n)},getObjectByProperty:function(n,o){if(this[n]===o)return this;for(var u=0,m=this.children.length;u<m;u++){var B=this.children[u].getObjectByProperty(n,o);if(B!==void 0)return B}},getWorldPosition:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),n=new gt),this.updateMatrixWorld(!0),n.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new To),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ut,n,cn),n},getWorldScale:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new gt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ut,Dn,n),n},getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),n=new gt),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(o[8],o[9],o[10]).normalize()},raycast:function(){},traverse:function(n){n(this);for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].traverse(n)},traverseVisible:function(n){if(this.visible!==!1){n(this);for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].traverseVisible(n)}},traverseAncestors:function(n){var o=this.parent;o!==null&&(n(o),o.traverseAncestors(n))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n=!(this.matrixWorldNeedsUpdate=!1));for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].updateMatrixWorld(n)},updateWorldMatrix:function(n,o){var u=this.parent;if(n===!0&&u!==null&&u.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0)for(var m=this.children,B=0,k=m.length;B<k;B++)m[B].updateWorldMatrix(!1,!0)},toJSON:function(n){var o=n===void 0||typeof n=="string",u={};o&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},u.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var m={};function B(We,ht){return We[ht.uuid]===void 0&&(We[ht.uuid]=ht.toJSON(n)),ht.uuid}if(m.uuid=this.uuid,m.type=this.type,this.name!==""&&(m.name=this.name),this.castShadow===!0&&(m.castShadow=!0),this.receiveShadow===!0&&(m.receiveShadow=!0),this.visible===!1&&(m.visible=!1),this.frustumCulled===!1&&(m.frustumCulled=!1),this.renderOrder!==0&&(m.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=B(n.geometries,this.geometry);var k=this.geometry.parameters;if(k!==void 0&&k.shapes!==void 0){var ne=k.shapes;if(Array.isArray(ne))for(var se=0,ge=ne.length;se<ge;se++){var ve=ne[se];B(n.shapes,ve)}else B(n.shapes,ne)}}if(this.material!==void 0)if(Array.isArray(this.material)){var we=[];for(se=0,ge=this.material.length;se<ge;se++)we.push(B(n.materials,this.material[se]));m.material=we}else m.material=B(n.materials,this.material);if(0<this.children.length)for(m.children=[],se=0;se<this.children.length;se++)m.children.push(this.children[se].toJSON(n).object);if(o){var _e=Ge(n.geometries),Te=Ge(n.materials),ye=Ge(n.textures),ke=Ge(n.images);ne=Ge(n.shapes),0<_e.length&&(u.geometries=_e),0<Te.length&&(u.materials=Te),0<ye.length&&(u.textures=ye),0<ke.length&&(u.images=ke),0<ne.length&&(u.shapes=ne)}return u.object=m,u;function Ge(We){var ht=[];for(var vt in We){var Dt=We[vt];delete Dt.metadata,ht.push(Dt)}return ht}},clone:function(n){return new this.constructor().copy(this,n)},copy:function(n,o){if(o===void 0&&(o=!0),this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.userData=JSON.parse(JSON.stringify(n.userData)),o===!0)for(var u=0;u<n.children.length;u++){var m=n.children[u];this.add(m.clone())}return this}}),Ei.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Ei,isScene:!0,copy:function(n,o){return Fn.prototype.copy.call(this,n,o),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this},toJSON:function(n){var o=Fn.prototype.toJSON.call(this,n);return this.background!==null&&(o.object.background=this.background.toJSON(n)),this.environment!==null&&(o.object.environment=this.environment.toJSON(n)),this.fog!==null&&(o.object.fog=this.fog.toJSON()),o},dispose:function(){this.dispatchEvent({type:"dispose"})}});var kr=[new gt,new gt,new gt,new gt,new gt,new gt,new gt,new gt],Zr=new gt,Fr=new ji,so=new gt,Jr=new gt,Mi=new gt,Aa=new gt,Ia=new gt,no=new gt,Zo=new gt,Uo=new gt,bo=new gt,Go=new gt;function ji(n,o){this.min=n!==void 0?n:new gt(1/0,1/0,1/0),this.max=o!==void 0?o:new gt(-1/0,-1/0,-1/0)}function Ba(n,o,u,m,B){var k,ne;for(k=0,ne=n.length-3;k<=ne;k+=3){Go.fromArray(n,k);var se=B.x*Math.abs(Go.x)+B.y*Math.abs(Go.y)+B.z*Math.abs(Go.z),ge=o.dot(Go),ve=u.dot(Go),we=m.dot(Go);if(Math.max(-Math.max(ge,ve,we),Math.min(ge,ve,we))>se)return!1}return!0}Object.assign(ji.prototype,{isBox3:!0,set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromArray:function(n){for(var o=1/0,u=1/0,m=1/0,B=-1/0,k=-1/0,ne=-1/0,se=0,ge=n.length;se<ge;se+=3){var ve=n[se],we=n[se+1],_e=n[se+2];ve<o&&(o=ve),we<u&&(u=we),_e<m&&(m=_e),B<ve&&(B=ve),k<we&&(k=we),ne<_e&&(ne=_e)}return this.min.set(o,u,m),this.max.set(B,k,ne),this},setFromBufferAttribute:function(n){for(var o=1/0,u=1/0,m=1/0,B=-1/0,k=-1/0,ne=-1/0,se=0,ge=n.count;se<ge;se++){var ve=n.getX(se),we=n.getY(se),_e=n.getZ(se);ve<o&&(o=ve),we<u&&(u=we),_e<m&&(m=_e),B<ve&&(B=ve),k<we&&(k=we),ne<_e&&(ne=_e)}return this.min.set(o,u,m),this.max.set(B,k,ne),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,u=n.length;o<u;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(n,o){var u=Zr.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(u),this.max.copy(n).add(u),this},setFromObject:function(n){return this.makeEmpty(),this.expandByObject(n)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),n=new gt),this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),n=new gt),this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},expandByObject:function(n){n.updateWorldMatrix(!1,!1);var o=n.geometry;o!==void 0&&(o.boundingBox===null&&o.computeBoundingBox(),Fr.copy(o.boundingBox),Fr.applyMatrix4(n.matrixWorld),this.expandByPoint(Fr.min),this.expandByPoint(Fr.max));for(var u=n.children,m=0,B=u.length;m<B;m++)this.expandByObject(u[m]);return this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),o=new gt),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)},intersectsSphere:function(n){return this.clampPoint(n.center,Zr),Zr.distanceToSquared(n.center)<=n.radius*n.radius},intersectsPlane:function(n){var o,u;return u=0<n.normal.x?(o=n.normal.x*this.min.x,n.normal.x*this.max.x):(o=n.normal.x*this.max.x,n.normal.x*this.min.x),0<n.normal.y?(o+=n.normal.y*this.min.y,u+=n.normal.y*this.max.y):(o+=n.normal.y*this.max.y,u+=n.normal.y*this.min.y),0<n.normal.z?(o+=n.normal.z*this.min.z,u+=n.normal.z*this.max.z):(o+=n.normal.z*this.max.z,u+=n.normal.z*this.min.z),o<=-n.constant&&u>=-n.constant},intersectsTriangle:function(n){if(this.isEmpty())return!1;this.getCenter(Zo),Uo.subVectors(this.max,Zo),so.subVectors(n.a,Zo),Jr.subVectors(n.b,Zo),Mi.subVectors(n.c,Zo),Aa.subVectors(Jr,so),Ia.subVectors(Mi,Jr),no.subVectors(so,Mi);var o=[0,-Aa.z,Aa.y,0,-Ia.z,Ia.y,0,-no.z,no.y,Aa.z,0,-Aa.x,Ia.z,0,-Ia.x,no.z,0,-no.x,-Aa.y,Aa.x,0,-Ia.y,Ia.x,0,-no.y,no.x,0];return!!Ba(o,so,Jr,Mi,Uo)&&!!Ba(o=[1,0,0,0,1,0,0,0,1],so,Jr,Mi,Uo)&&(bo.crossVectors(Aa,Ia),Ba(o=[bo.x,bo.y,bo.z],so,Jr,Mi,Uo))},clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),o=new gt),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(n){return Zr.copy(n).clamp(this.min,this.max).sub(n).length()},getBoundingSphere:function(n){return n===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(n.center),n.radius=.5*this.getSize(Zr).length(),n},intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},applyMatrix4:function(n){return this.isEmpty()||(kr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),kr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),kr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),kr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),kr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),kr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),kr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),kr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(kr)),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}});var Oc=new ji;function Po(n,o){this.center=n!==void 0?n:new gt,this.radius=o!==void 0?o:0}Object.assign(Po.prototype,{set:function(n,o){return this.center.copy(n),this.radius=o,this},setFromPoints:function(n,o){var u=this.center;o!==void 0?u.copy(o):Oc.setFromPoints(n).getCenter(u);for(var m=0,B=0,k=n.length;B<k;B++)m=Math.max(m,u.distanceToSquared(n[B]));return this.radius=Math.sqrt(m),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.center.copy(n.center),this.radius=n.radius,this},empty:function(){return this.radius<=0},containsPoint:function(n){return n.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(n){return n.distanceTo(this.center)-this.radius},intersectsSphere:function(n){var o=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=o*o},intersectsBox:function(n){return n.intersectsSphere(this)},intersectsPlane:function(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius},clampPoint:function(n,o){var u=this.center.distanceToSquared(n);return o===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),o=new gt),o.copy(n),u>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o},getBoundingBox:function(n){return n===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),n=new ji),n.set(this.center,this.center),n.expandByScalar(this.radius),n},applyMatrix4:function(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this},translate:function(n){return this.center.add(n),this},equals:function(n){return n.center.equals(this.center)&&n.radius===this.radius}});var ka=new gt,si=new gt,Ma=new gt,ys=new gt,Sl=new gt,Oo=new gt,js=new gt;function Va(n,o){this.origin=n!==void 0?n:new gt,this.direction=o!==void 0?o:new gt(0,0,-1)}Object.assign(Va.prototype,{set:function(n,o){return this.origin.copy(n),this.direction.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this},at:function(n,o){return o===void 0&&(console.warn("THREE.Ray: .at() target is now required"),o=new gt),o.copy(this.direction).multiplyScalar(n).add(this.origin)},lookAt:function(n){return this.direction.copy(n).sub(this.origin).normalize(),this},recast:function(n){return this.origin.copy(this.at(n,ka)),this},closestPointToPoint:function(n,o){o===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),o=new gt),o.subVectors(n,this.origin);var u=o.dot(this.direction);return u<0?o.copy(this.origin):o.copy(this.direction).multiplyScalar(u).add(this.origin)},distanceToPoint:function(n){return Math.sqrt(this.distanceSqToPoint(n))},distanceSqToPoint:function(n){var o=ka.subVectors(n,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(n):(ka.copy(this.direction).multiplyScalar(o).add(this.origin),ka.distanceToSquared(n))},distanceSqToSegment:function(n,o,u,m){si.copy(n).add(o).multiplyScalar(.5),Ma.copy(o).sub(n).normalize(),ys.copy(this.origin).sub(si);var B,k,ne,se,ge=.5*n.distanceTo(o),ve=-this.direction.dot(Ma),we=ys.dot(this.direction),_e=-ys.dot(Ma),Te=ys.lengthSq(),ye=Math.abs(1-ve*ve);if(0<ye)if(k=ve*we-_e,se=ge*ye,0<=(B=ve*_e-we))if(-se<=k)if(k<=se){var ke=1/ye;ne=(B*=ke)*(B+ve*(k*=ke)+2*we)+k*(ve*B+k+2*_e)+Te}else k=ge,ne=-(B=Math.max(0,-(ve*k+we)))*B+k*(k+2*_e)+Te;else k=-ge,ne=-(B=Math.max(0,-(ve*k+we)))*B+k*(k+2*_e)+Te;else ne=k<=-se?-(B=Math.max(0,-(-ve*ge+we)))*B+(k=0<B?-ge:Math.min(Math.max(-ge,-_e),ge))*(k+2*_e)+Te:k<=se?(B=0,(k=Math.min(Math.max(-ge,-_e),ge))*(k+2*_e)+Te):-(B=Math.max(0,-(ve*ge+we)))*B+(k=0<B?ge:Math.min(Math.max(-ge,-_e),ge))*(k+2*_e)+Te;else k=0<ve?-ge:ge,ne=-(B=Math.max(0,-(ve*k+we)))*B+k*(k+2*_e)+Te;return u&&u.copy(this.direction).multiplyScalar(B).add(this.origin),m&&m.copy(Ma).multiplyScalar(k).add(si),ne},intersectSphere:function(n,o){ka.subVectors(n.center,this.origin);var u=ka.dot(this.direction),m=ka.dot(ka)-u*u,B=n.radius*n.radius;if(B<m)return null;var k=Math.sqrt(B-m),ne=u-k,se=u+k;return ne<0&&se<0?null:ne<0?this.at(se,o):this.at(ne,o)},intersectsSphere:function(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius},distanceToPlane:function(n){var o=n.normal.dot(this.direction);if(o===0)return n.distanceToPoint(this.origin)===0?0:null;var u=-(this.origin.dot(n.normal)+n.constant)/o;return 0<=u?u:null},intersectPlane:function(n,o){var u=this.distanceToPlane(n);return u===null?null:this.at(u,o)},intersectsPlane:function(n){var o=n.distanceToPoint(this.origin);return o===0||n.normal.dot(this.direction)*o<0},intersectBox:function(n,o){var u,m,B,k,ne,se,ge=1/this.direction.x,ve=1/this.direction.y,we=1/this.direction.z,_e=this.origin;return m=0<=ge?(u=(n.min.x-_e.x)*ge,(n.max.x-_e.x)*ge):(u=(n.max.x-_e.x)*ge,(n.min.x-_e.x)*ge),(k=0<=ve?(B=(n.min.y-_e.y)*ve,(n.max.y-_e.y)*ve):(B=(n.max.y-_e.y)*ve,(n.min.y-_e.y)*ve))<u||m<B?null:((u<B||u!=u)&&(u=B),(k<m||m!=m)&&(m=k),(se=0<=we?(ne=(n.min.z-_e.z)*we,(n.max.z-_e.z)*we):(ne=(n.max.z-_e.z)*we,(n.min.z-_e.z)*we))<u||m<ne?null:((u<ne||u!=u)&&(u=ne),(se<m||m!=m)&&(m=se),m<0?null:this.at(0<=u?u:m,o)))},intersectsBox:function(n){return this.intersectBox(n,ka)!==null},intersectTriangle:function(n,o,u,m,B){Sl.subVectors(o,n),Oo.subVectors(u,n),js.crossVectors(Sl,Oo);var k,ne=this.direction.dot(js);if(0<ne){if(m)return null;k=1}else{if(!(ne<0))return null;k=-1,ne=-ne}ys.subVectors(this.origin,n);var se=k*this.direction.dot(Oo.crossVectors(ys,Oo));if(se<0)return null;var ge=k*this.direction.dot(Sl.cross(ys));if(ge<0||ne<se+ge)return null;var ve=-k*ys.dot(js);return ve<0?null:this.at(ve/ne,B)},applyMatrix4:function(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this},equals:function(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}});var rc=new gt,yd=new gt,Oh=new xo;function Na(n,o){this.normal=n!==void 0?n:new gt(1,0,0),this.constant=o!==void 0?o:0}Object.assign(Na.prototype,{isPlane:!0,set:function(n,o){return this.normal.copy(n),this.constant=o,this},setComponents:function(n,o,u,m){return this.normal.set(n,o,u),this.constant=m,this},setFromNormalAndCoplanarPoint:function(n,o){return this.normal.copy(n),this.constant=-o.dot(this.normal),this},setFromCoplanarPoints:function(n,o,u){var m=rc.subVectors(u,o).cross(yd.subVectors(n,o)).normalize();return this.setFromNormalAndCoplanarPoint(m,n),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.normal.copy(n.normal),this.constant=n.constant,this},normalize:function(){var n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(n){return this.normal.dot(n)+this.constant},distanceToSphere:function(n){return this.distanceToPoint(n.center)-n.radius},projectPoint:function(n,o){return o===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),o=new gt),o.copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)},intersectLine:function(n,o){o===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),o=new gt);var u=n.delta(rc),m=this.normal.dot(u);if(m===0)return this.distanceToPoint(n.start)===0?o.copy(n.start):void 0;var B=-(n.start.dot(this.normal)+this.constant)/m;return B<0||1<B?void 0:o.copy(u).multiplyScalar(B).add(n.start)},intersectsLine:function(n){var o=this.distanceToPoint(n.start),u=this.distanceToPoint(n.end);return o<0&&0<u||u<0&&0<o},intersectsBox:function(n){return n.intersectsPlane(this)},intersectsSphere:function(n){return n.intersectsPlane(this)},coplanarPoint:function(n){return n===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),n=new gt),n.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(n,o){var u=o||Oh.getNormalMatrix(n),m=this.coplanarPoint(rc).applyMatrix4(n),B=this.normal.applyMatrix3(u).normalize();return this.constant=-m.dot(B),this},translate:function(n){return this.constant-=n.dot(this.normal),this},equals:function(n){return n.normal.equals(this.normal)&&n.constant===this.constant}});var Ko=new gt,Cs=new gt,Cu=new gt,Qo=new gt,ts=new gt,Tl=new gt,Pl=new gt,Fa=new gt,mo=new gt,al=new gt;function lo(n,o,u){this.a=n!==void 0?n:new gt,this.b=o!==void 0?o:new gt,this.c=u!==void 0?u:new gt}Object.assign(lo,{getNormal:function(n,o,u,m){m===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),m=new gt),m.subVectors(u,o),Ko.subVectors(n,o),m.cross(Ko);var B=m.lengthSq();return 0<B?m.multiplyScalar(1/Math.sqrt(B)):m.set(0,0,0)},getBarycoord:function(n,o,u,m,B){Ko.subVectors(m,o),Cs.subVectors(u,o),Cu.subVectors(n,o);var k=Ko.dot(Ko),ne=Ko.dot(Cs),se=Ko.dot(Cu),ge=Cs.dot(Cs),ve=Cs.dot(Cu),we=k*ge-ne*ne;if(B===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),B=new gt),we==0)return B.set(-2,-1,-1);var _e=1/we,Te=(ge*se-ne*ve)*_e,ye=(k*ve-ne*se)*_e;return B.set(1-Te-ye,ye,Te)},containsPoint:function(n,o,u,m){return lo.getBarycoord(n,o,u,m,Qo),0<=Qo.x&&0<=Qo.y&&Qo.x+Qo.y<=1},getUV:function(n,o,u,m,B,k,ne,se){return this.getBarycoord(n,o,u,m,Qo),se.set(0,0),se.addScaledVector(B,Qo.x),se.addScaledVector(k,Qo.y),se.addScaledVector(ne,Qo.z),se},isFrontFacing:function(n,o,u,m){return Ko.subVectors(u,o),Cs.subVectors(n,o),Ko.cross(Cs).dot(m)<0}}),Object.assign(lo.prototype,{set:function(n,o,u){return this.a.copy(n),this.b.copy(o),this.c.copy(u),this},setFromPointsAndIndices:function(n,o,u,m){return this.a.copy(n[o]),this.b.copy(n[u]),this.c.copy(n[m]),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this},getArea:function(){return Ko.subVectors(this.c,this.b),Cs.subVectors(this.a,this.b),.5*Ko.cross(Cs).length()},getMidpoint:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),n=new gt),n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(n){return lo.getNormal(this.a,this.b,this.c,n)},getPlane:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),n=new Na),n.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(n,o){return lo.getBarycoord(n,this.a,this.b,this.c,o)},getUV:function(n,o,u,m,B){return lo.getUV(n,this.a,this.b,this.c,o,u,m,B)},containsPoint:function(n){return lo.containsPoint(n,this.a,this.b,this.c)},isFrontFacing:function(n){return lo.isFrontFacing(this.a,this.b,this.c,n)},intersectsBox:function(n){return n.intersectsTriangle(this)},closestPointToPoint:function(n,o){o===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new gt);var u,m,B=this.a,k=this.b,ne=this.c;ts.subVectors(k,B),Tl.subVectors(ne,B),Fa.subVectors(n,B);var se=ts.dot(Fa),ge=Tl.dot(Fa);if(se<=0&&ge<=0)return o.copy(B);mo.subVectors(n,k);var ve=ts.dot(mo),we=Tl.dot(mo);if(0<=ve&&we<=ve)return o.copy(k);var _e=se*we-ve*ge;if(_e<=0&&0<=se&&ve<=0)return u=se/(se-ve),o.copy(B).addScaledVector(ts,u);al.subVectors(n,ne);var Te=ts.dot(al),ye=Tl.dot(al);if(0<=ye&&Te<=ye)return o.copy(ne);var ke=Te*ge-se*ye;if(ke<=0&&0<=ge&&ye<=0)return m=ge/(ge-ye),o.copy(B).addScaledVector(Tl,m);var Ge=ve*ye-Te*we;if(Ge<=0&&0<=we-ve&&0<=Te-ye)return Pl.subVectors(ne,k),m=(we-ve)/(we-ve+(Te-ye)),o.copy(k).addScaledVector(Pl,m);var We=1/(Ge+ke+_e);return u=ke*We,m=_e*We,o.copy(B).addScaledVector(ts,u).addScaledVector(Tl,m)},equals:function(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}});var Eu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},za={h:0,s:0,l:0},ii={h:0,s:0,l:0};function Un(n,o,u){return o===void 0&&u===void 0?this.set(n):this.setRGB(n,o,u)}function ea(n,o,u){return u<0&&(u+=1),1<u&&--u,u<1/6?n+6*(o-n)*u:u<.5?o:u<2/3?n+6*(o-n)*(2/3-u):n}function ta(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function ic(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}function sl(n,o,u,m,B,k){this.a=n,this.b=o,this.c=u,this.normal=m&&m.isVector3?m:new gt,this.vertexNormals=Array.isArray(m)?m:[],this.color=B&&B.isColor?B:new Un,this.vertexColors=Array.isArray(B)?B:[],this.materialIndex=k!==void 0?k:0}Object.assign(Un.prototype,{isColor:!0,r:1,g:1,b:1,set:function(n){return n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n),this},setScalar:function(n){return this.r=n,this.g=n,this.b=n,this},setHex:function(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(255&n)/255,this},setRGB:function(n,o,u){return this.r=n,this.g=o,this.b=u,this},setHSL:function(n,o,u){if(n=Gr.euclideanModulo(n,1),o=Gr.clamp(o,0,1),u=Gr.clamp(u,0,1),o===0)this.r=this.g=this.b=u;else{var m=u<=.5?u*(1+o):u+o-u*o,B=2*u-m;this.r=ea(B,m,n+1/3),this.g=ea(B,m,n),this.b=ea(B,m,n-1/3)}return this},setStyle:function(n){function o(_e){_e!==void 0&&parseFloat(_e)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}var u;if(u=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){var m,B=u[1],k=u[2];switch(B){case"rgb":case"rgba":if(m=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k))return this.r=Math.min(255,parseInt(m[1],10))/255,this.g=Math.min(255,parseInt(m[2],10))/255,this.b=Math.min(255,parseInt(m[3],10))/255,o(m[5]),this;if(m=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k))return this.r=Math.min(100,parseInt(m[1],10))/100,this.g=Math.min(100,parseInt(m[2],10))/100,this.b=Math.min(100,parseInt(m[3],10))/100,o(m[5]),this;break;case"hsl":case"hsla":if(m=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){var ne=parseFloat(m[1])/360,se=parseInt(m[2],10)/100,ge=parseInt(m[3],10)/100;return o(m[5]),this.setHSL(ne,se,ge)}}}else if(u=/^\#([A-Fa-f0-9]+)$/.exec(n)){var ve=u[1],we=ve.length;if(we===3)return this.r=parseInt(ve.charAt(0)+ve.charAt(0),16)/255,this.g=parseInt(ve.charAt(1)+ve.charAt(1),16)/255,this.b=parseInt(ve.charAt(2)+ve.charAt(2),16)/255,this;if(we===6)return this.r=parseInt(ve.charAt(0)+ve.charAt(1),16)/255,this.g=parseInt(ve.charAt(2)+ve.charAt(3),16)/255,this.b=parseInt(ve.charAt(4)+ve.charAt(5),16)/255,this}return n&&0<n.length?this.setColorName(n):this},setColorName:function(n){var o=Eu[n];return o!==void 0?this.setHex(o):console.warn("THREE.Color: Unknown color "+n),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(n){return this.r=n.r,this.g=n.g,this.b=n.b,this},copyGammaToLinear:function(n,o){return o===void 0&&(o=2),this.r=Math.pow(n.r,o),this.g=Math.pow(n.g,o),this.b=Math.pow(n.b,o),this},copyLinearToGamma:function(n,o){o===void 0&&(o=2);var u=0<o?1/o:1;return this.r=Math.pow(n.r,u),this.g=Math.pow(n.g,u),this.b=Math.pow(n.b,u),this},convertGammaToLinear:function(n){return this.copyGammaToLinear(this,n),this},convertLinearToGamma:function(n){return this.copyLinearToGamma(this,n),this},copySRGBToLinear:function(n){return this.r=ta(n.r),this.g=ta(n.g),this.b=ta(n.b),this},copyLinearToSRGB:function(n){return this.r=ic(n.r),this.g=ic(n.g),this.b=ic(n.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(n){n===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),n={h:0,s:0,l:0});var o,u,m=this.r,B=this.g,k=this.b,ne=Math.max(m,B,k),se=Math.min(m,B,k),ge=(se+ne)/2;if(se===ne)u=o=0;else{var ve=ne-se;switch(u=ge<=.5?ve/(ne+se):ve/(2-ne-se),ne){case m:o=(B-k)/ve+(B<k?6:0);break;case B:o=(k-m)/ve+2;break;case k:o=(m-B)/ve+4}o/=6}return n.h=o,n.s=u,n.l=ge,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(n,o,u){return this.getHSL(za),za.h+=n,za.s+=o,za.l+=u,this.setHSL(za.h,za.s,za.l),this},add:function(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this},addColors:function(n,o){return this.r=n.r+o.r,this.g=n.g+o.g,this.b=n.b+o.b,this},addScalar:function(n){return this.r+=n,this.g+=n,this.b+=n,this},sub:function(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this},multiply:function(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this},multiplyScalar:function(n){return this.r*=n,this.g*=n,this.b*=n,this},lerp:function(n,o){return this.r+=(n.r-this.r)*o,this.g+=(n.g-this.g)*o,this.b+=(n.b-this.b)*o,this},lerpHSL:function(n,o){this.getHSL(za),n.getHSL(ii);var u=Gr.lerp(za.h,ii.h,o),m=Gr.lerp(za.s,ii.s,o),B=Gr.lerp(za.l,ii.l,o);return this.setHSL(u,m,B),this},equals:function(n){return n.r===this.r&&n.g===this.g&&n.b===this.b},fromArray:function(n,o){return o===void 0&&(o=0),this.r=n[o],this.g=n[o+1],this.b=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.r,n[o+1]=this.g,n[o+2]=this.b,n},toJSON:function(){return this.getHex()}}),Un.NAMES=Eu,Object.assign(sl.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(n){this.a=n.a,this.b=n.b,this.c=n.c,this.normal.copy(n.normal),this.color.copy(n.color),this.materialIndex=n.materialIndex;for(var o=0,u=n.vertexNormals.length;o<u;o++)this.vertexNormals[o]=n.vertexNormals[o].clone();for(o=0,u=n.vertexColors.length;o<u;o++)this.vertexColors[o]=n.vertexColors[o].clone();return this}});var Rh=0;function Or(){Object.defineProperty(this,"id",{value:Rh++}),this.uuid=Gr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ae,this.side=w,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=R,this.opacity=1,this.transparent=!1,this.blendSrc=Ee,this.blendDst=Se,this.blendEquation=oe,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Pt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vu,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rl,this.stencilZFail=rl,this.stencilZPass=rl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Ro(n){Or.call(this),this.type="MeshBasicMaterial",this.color=new Un(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(n)}Or.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Or,isMaterial:!0,onBeforeCompile:function(){},setValues:function(n){if(n!==void 0)for(var o in n){var u=n[o];if(u!==void 0)if(o!=="shading"){var m=this[o];m!==void 0?m&&m.isColor?m.set(u):m&&m.isVector3&&u&&u.isVector3?m.copy(u):this[o]=u:console.warn("THREE."+this.type+": '"+o+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=u===1;else console.warn("THREE.Material: '"+o+"' parameter is undefined.")}},toJSON:function(n){var o=n===void 0||typeof n=="string";o&&(n={textures:{},images:{}});var u={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(ne){var se=[];for(var ge in ne){var ve=ne[ge];delete ve.metadata,se.push(ve)}return se}if(u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.color&&this.color.isColor&&(u.color=this.color.getHex()),this.roughness!==void 0&&(u.roughness=this.roughness),this.metalness!==void 0&&(u.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(u.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(u.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(u.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(u.specular=this.specular.getHex()),this.shininess!==void 0&&(u.shininess=this.shininess),this.clearcoat!==void 0&&(u.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(u.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(u.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,u.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(u.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(u.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(u.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(u.lightMap=this.lightMap.toJSON(n).uuid),this.aoMap&&this.aoMap.isTexture&&(u.aoMap=this.aoMap.toJSON(n).uuid,u.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(u.bumpMap=this.bumpMap.toJSON(n).uuid,u.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(u.normalMap=this.normalMap.toJSON(n).uuid,u.normalMapType=this.normalMapType,u.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(u.displacementMap=this.displacementMap.toJSON(n).uuid,u.displacementScale=this.displacementScale,u.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(u.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(u.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(u.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(u.specularMap=this.specularMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(u.envMap=this.envMap.toJSON(n).uuid,u.reflectivity=this.reflectivity,u.refractionRatio=this.refractionRatio,this.combine!==void 0&&(u.combine=this.combine),this.envMapIntensity!==void 0&&(u.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(u.gradientMap=this.gradientMap.toJSON(n).uuid),this.size!==void 0&&(u.size=this.size),this.sizeAttenuation!==void 0&&(u.sizeAttenuation=this.sizeAttenuation),this.blending!==ae&&(u.blending=this.blending),this.flatShading===!0&&(u.flatShading=this.flatShading),this.side!==w&&(u.side=this.side),this.vertexColors!==R&&(u.vertexColors=this.vertexColors),this.opacity<1&&(u.opacity=this.opacity),this.transparent===!0&&(u.transparent=this.transparent),u.depthFunc=this.depthFunc,u.depthTest=this.depthTest,u.depthWrite=this.depthWrite,u.stencilWrite=this.stencilWrite,u.stencilWriteMask=this.stencilWriteMask,u.stencilFunc=this.stencilFunc,u.stencilRef=this.stencilRef,u.stencilFuncMask=this.stencilFuncMask,u.stencilFail=this.stencilFail,u.stencilZFail=this.stencilZFail,u.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(u.rotation=this.rotation),this.polygonOffset===!0&&(u.polygonOffset=!0),this.polygonOffsetFactor!==0&&(u.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(u.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(u.linewidth=this.linewidth),this.dashSize!==void 0&&(u.dashSize=this.dashSize),this.gapSize!==void 0&&(u.gapSize=this.gapSize),this.scale!==void 0&&(u.scale=this.scale),this.dithering===!0&&(u.dithering=!0),0<this.alphaTest&&(u.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(u.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(u.wireframe=this.wireframe),1<this.wireframeLinewidth&&(u.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(u.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(u.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(u.morphTargets=!0),this.morphNormals===!0&&(u.morphNormals=!0),this.skinning===!0&&(u.skinning=!0),this.visible===!1&&(u.visible=!1),this.toneMapped===!1&&(u.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(u.userData=this.userData),o){var B=m(n.textures),k=m(n.images);0<B.length&&(u.textures=B),0<k.length&&(u.images=k)}return u},clone:function(){return new this.constructor().copy(this)},copy:function(n){this.name=n.name,this.fog=n.fog,this.blending=n.blending,this.side=n.side,this.flatShading=n.flatShading,this.vertexTangents=n.vertexTangents,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;var o=n.clippingPlanes,u=null;if(o!==null){var m=o.length;u=new Array(m);for(var B=0;B!==m;++B)u[B]=o[B].clone()}return this.clippingPlanes=u,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.premultipliedAlpha=n.premultipliedAlpha,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Or.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),((Ro.prototype=Object.create(Or.prototype)).constructor=Ro).prototype.isMeshBasicMaterial=!0,Ro.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this};var Tt=new gt;function $t(n,o,u){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=n,this.itemSize=o,this.count=n!==void 0?n.length/o:0,this.normalized=u===!0,this.usage=il,this.updateRange={offset:0,count:-1},this.version=0}function sn(n,o,u){$t.call(this,new Int8Array(n),o,u)}function qn(n,o,u){$t.call(this,new Uint8Array(n),o,u)}function Sr(n,o,u){$t.call(this,new Uint8ClampedArray(n),o,u)}function ti(n,o,u){$t.call(this,new Int16Array(n),o,u)}function Ii(n,o,u){$t.call(this,new Uint16Array(n),o,u)}function hi(n,o,u){$t.call(this,new Int32Array(n),o,u)}function ns(n,o,u){$t.call(this,new Uint32Array(n),o,u)}function Wn(n,o,u){$t.call(this,new Float32Array(n),o,u)}function $o(n,o,u){$t.call(this,new Float64Array(n),o,u)}function nt(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Bt(n){if(n.length===0)return-1/0;for(var o=n[0],u=1,m=n.length;u<m;++u)n[u]>o&&(o=n[u]);return o}Object.defineProperty($t.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign($t.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(n){return this.usage=n,this},copy:function(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this},copyAt:function(n,o,u){n*=this.itemSize,u*=o.itemSize;for(var m=0,B=this.itemSize;m<B;m++)this.array[n+m]=o.array[u+m];return this},copyArray:function(n){return this.array.set(n),this},copyColorsArray:function(n){for(var o=this.array,u=0,m=0,B=n.length;m<B;m++){var k=n[m];k===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),k=new Un),o[u++]=k.r,o[u++]=k.g,o[u++]=k.b}return this},copyVector2sArray:function(n){for(var o=this.array,u=0,m=0,B=n.length;m<B;m++){var k=n[m];k===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),k=new An),o[u++]=k.x,o[u++]=k.y}return this},copyVector3sArray:function(n){for(var o=this.array,u=0,m=0,B=n.length;m<B;m++){var k=n[m];k===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),k=new gt),o[u++]=k.x,o[u++]=k.y,o[u++]=k.z}return this},copyVector4sArray:function(n){for(var o=this.array,u=0,m=0,B=n.length;m<B;m++){var k=n[m];k===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),k=new Ci),o[u++]=k.x,o[u++]=k.y,o[u++]=k.z,o[u++]=k.w}return this},applyMatrix3:function(n){for(var o=0,u=this.count;o<u;o++)Tt.x=this.getX(o),Tt.y=this.getY(o),Tt.z=this.getZ(o),Tt.applyMatrix3(n),this.setXYZ(o,Tt.x,Tt.y,Tt.z);return this},applyMatrix4:function(n){for(var o=0,u=this.count;o<u;o++)Tt.x=this.getX(o),Tt.y=this.getY(o),Tt.z=this.getZ(o),Tt.applyMatrix4(n),this.setXYZ(o,Tt.x,Tt.y,Tt.z);return this},applyNormalMatrix:function(n){for(var o=0,u=this.count;o<u;o++)Tt.x=this.getX(o),Tt.y=this.getY(o),Tt.z=this.getZ(o),Tt.applyNormalMatrix(n),this.setXYZ(o,Tt.x,Tt.y,Tt.z);return this},transformDirection:function(n){for(var o=0,u=this.count;o<u;o++)Tt.x=this.getX(o),Tt.y=this.getY(o),Tt.z=this.getZ(o),Tt.transformDirection(n),this.setXYZ(o,Tt.x,Tt.y,Tt.z);return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},getX:function(n){return this.array[n*this.itemSize]},setX:function(n,o){return this.array[n*this.itemSize]=o,this},getY:function(n){return this.array[n*this.itemSize+1]},setY:function(n,o){return this.array[n*this.itemSize+1]=o,this},getZ:function(n){return this.itemSize<3?0:this.array[n*this.itemSize+2]},setZ:function(n,o){return this.array[n*this.itemSize+2]=o,this},getW:function(n){return this.array[n*this.itemSize+3]},setW:function(n,o){return this.array[n*this.itemSize+3]=o,this},setXY:function(n,o,u){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this},setXYZ:function(n,o,u,m){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this.array[n+2]=m,this},setXYZW:function(n,o,u,m,B){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this.array[n+2]=m,this.array[n+3]=B,this},onUpload:function(n){return this.onUploadCallback=n,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(sn.prototype=Object.create($t.prototype)).constructor=sn,(qn.prototype=Object.create($t.prototype)).constructor=qn,(Sr.prototype=Object.create($t.prototype)).constructor=Sr,(ti.prototype=Object.create($t.prototype)).constructor=ti,(Ii.prototype=Object.create($t.prototype)).constructor=Ii,(hi.prototype=Object.create($t.prototype)).constructor=hi,(ns.prototype=Object.create($t.prototype)).constructor=ns,(Wn.prototype=Object.create($t.prototype)).constructor=Wn,($o.prototype=Object.create($t.prototype)).constructor=$o,Object.assign(nt.prototype,{computeGroups:function(n){for(var o,u=[],m=void 0,B=n.faces,k=0;k<B.length;k++){var ne=B[k];ne.materialIndex!==m&&(m=ne.materialIndex,o!==void 0&&(o.count=3*k-o.start,u.push(o)),o={start:3*k,materialIndex:m})}o!==void 0&&(o.count=3*k-o.start,u.push(o)),this.groups=u},fromGeometry:function(n){var o,u=n.faces,m=n.vertices,B=n.faceVertexUvs,k=B[0]&&0<B[0].length,ne=B[1]&&0<B[1].length,se=n.morphTargets,ge=se.length;if(0<ge){o=[];for(var ve=0;ve<ge;ve++)o[ve]={name:se[ve].name,data:[]};this.morphTargets.position=o}var we,_e=n.morphNormals,Te=_e.length;if(0<Te){for(we=[],ve=0;ve<Te;ve++)we[ve]={name:_e[ve].name,data:[]};this.morphTargets.normal=we}var ye=n.skinIndices,ke=n.skinWeights,Ge=ye.length===m.length,We=ke.length===m.length;for(0<m.length&&u.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),ve=0;ve<u.length;ve++){var ht=u[ve];this.vertices.push(m[ht.a],m[ht.b],m[ht.c]);var vt=ht.vertexNormals;if(vt.length===3)this.normals.push(vt[0],vt[1],vt[2]);else{var Dt=ht.normal;this.normals.push(Dt,Dt,Dt)}var Lt,Xe=ht.vertexColors;if(Xe.length===3)this.colors.push(Xe[0],Xe[1],Xe[2]);else{var Vt=ht.color;this.colors.push(Vt,Vt,Vt)}k===!0&&((Lt=B[0][ve])!==void 0?this.uvs.push(Lt[0],Lt[1],Lt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",ve),this.uvs.push(new An,new An,new An))),ne===!0&&((Lt=B[1][ve])!==void 0?this.uvs2.push(Lt[0],Lt[1],Lt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",ve),this.uvs2.push(new An,new An,new An)));for(var At=0;At<ge;At++){var Wt=se[At].vertices;o[At].data.push(Wt[ht.a],Wt[ht.b],Wt[ht.c])}for(At=0;At<Te;At++){var rn=_e[At].vertexNormals[ve];we[At].data.push(rn.a,rn.b,rn.c)}Ge&&this.skinIndices.push(ye[ht.a],ye[ht.b],ye[ht.c]),We&&this.skinWeights.push(ke[ht.a],ke[ht.b],ke[ht.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this}});var kt=2147483647,mn=new ur,Ht=new Fn,nn=new gt,bn=new ji,kn=new ji,Bn=new gt;function xn(){Object.defineProperty(this,"id",{value:kt+=2}),this.uuid=Gr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}xn.prototype=Object.assign(Object.create(Qa.prototype),{constructor:xn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(n){Array.isArray(n)?this.index=new(65535<Bt(n)?ns:Ii)(n,1):this.index=n},getAttribute:function(n){return this.attributes[n]},setAttribute:function(n,o){return this.attributes[n]=o,this},deleteAttribute:function(n){return delete this.attributes[n],this},addGroup:function(n,o,u){this.groups.push({start:n,count:o,materialIndex:u!==void 0?u:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(n,o){this.drawRange.start=n,this.drawRange.count=o},applyMatrix4:function(n){var o=this.attributes.position;o!==void 0&&(o.applyMatrix4(n),o.needsUpdate=!0);var u=this.attributes.normal;if(u!==void 0){var m=new xo().getNormalMatrix(n);u.applyNormalMatrix(m),u.needsUpdate=!0}var B=this.attributes.tangent;return B!==void 0&&(B.transformDirection(n),B.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(n){return mn.makeRotationX(n),this.applyMatrix4(mn),this},rotateY:function(n){return mn.makeRotationY(n),this.applyMatrix4(mn),this},rotateZ:function(n){return mn.makeRotationZ(n),this.applyMatrix4(mn),this},translate:function(n,o,u){return mn.makeTranslation(n,o,u),this.applyMatrix4(mn),this},scale:function(n,o,u){return mn.makeScale(n,o,u),this.applyMatrix4(mn),this},lookAt:function(n){return Ht.lookAt(n),Ht.updateMatrix(),this.applyMatrix4(Ht.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(nn).negate(),this.translate(nn.x,nn.y,nn.z),this},setFromObject:function(n){var o=n.geometry;if(n.isPoints||n.isLine){var u=new Wn(3*o.vertices.length,3),m=new Wn(3*o.colors.length,3);if(this.setAttribute("position",u.copyVector3sArray(o.vertices)),this.setAttribute("color",m.copyColorsArray(o.colors)),o.lineDistances&&o.lineDistances.length===o.vertices.length){var B=new Wn(o.lineDistances.length,1);this.setAttribute("lineDistance",B.copyArray(o.lineDistances))}o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone())}else n.isMesh&&o&&o.isGeometry&&this.fromGeometry(o);return this},setFromPoints:function(n){for(var o=[],u=0,m=n.length;u<m;u++){var B=n[u];o.push(B.x,B.y,B.z||0)}return this.setAttribute("position",new Wn(o,3)),this},updateFromObject:function(n){var o,u=n.geometry;if(n.isMesh){var m=u.__directGeometry;if(u.elementsNeedUpdate===!0&&(m=void 0,u.elementsNeedUpdate=!1),m===void 0)return this.fromGeometry(u);m.verticesNeedUpdate=u.verticesNeedUpdate,m.normalsNeedUpdate=u.normalsNeedUpdate,m.colorsNeedUpdate=u.colorsNeedUpdate,m.uvsNeedUpdate=u.uvsNeedUpdate,m.groupsNeedUpdate=u.groupsNeedUpdate,u.verticesNeedUpdate=!1,u.normalsNeedUpdate=!1,u.colorsNeedUpdate=!1,u.uvsNeedUpdate=!1,u.groupsNeedUpdate=!1,u=m}return u.verticesNeedUpdate===!0&&((o=this.attributes.position)!==void 0&&(o.copyVector3sArray(u.vertices),o.needsUpdate=!0),u.verticesNeedUpdate=!1),u.normalsNeedUpdate===!0&&((o=this.attributes.normal)!==void 0&&(o.copyVector3sArray(u.normals),o.needsUpdate=!0),u.normalsNeedUpdate=!1),u.colorsNeedUpdate===!0&&((o=this.attributes.color)!==void 0&&(o.copyColorsArray(u.colors),o.needsUpdate=!0),u.colorsNeedUpdate=!1),u.uvsNeedUpdate&&((o=this.attributes.uv)!==void 0&&(o.copyVector2sArray(u.uvs),o.needsUpdate=!0),u.uvsNeedUpdate=!1),u.lineDistancesNeedUpdate&&((o=this.attributes.lineDistance)!==void 0&&(o.copyArray(u.lineDistances),o.needsUpdate=!0),u.lineDistancesNeedUpdate=!1),u.groupsNeedUpdate&&(u.computeGroups(n.geometry),this.groups=u.groups,u.groupsNeedUpdate=!1),this},fromGeometry:function(n){return n.__directGeometry=new nt().fromGeometry(n),this.fromDirectGeometry(n.__directGeometry)},fromDirectGeometry:function(n){var o=new Float32Array(3*n.vertices.length);if(this.setAttribute("position",new $t(o,3).copyVector3sArray(n.vertices)),0<n.normals.length){var u=new Float32Array(3*n.normals.length);this.setAttribute("normal",new $t(u,3).copyVector3sArray(n.normals))}if(0<n.colors.length){var m=new Float32Array(3*n.colors.length);this.setAttribute("color",new $t(m,3).copyColorsArray(n.colors))}if(0<n.uvs.length){var B=new Float32Array(2*n.uvs.length);this.setAttribute("uv",new $t(B,2).copyVector2sArray(n.uvs))}if(0<n.uvs2.length){var k=new Float32Array(2*n.uvs2.length);this.setAttribute("uv2",new $t(k,2).copyVector2sArray(n.uvs2))}for(var ne in this.groups=n.groups,n.morphTargets){for(var se=[],ge=n.morphTargets[ne],ve=0,we=ge.length;ve<we;ve++){var _e=ge[ve],Te=new Wn(3*_e.data.length,3);Te.name=_e.name,se.push(Te.copyVector3sArray(_e.data))}this.morphAttributes[ne]=se}if(0<n.skinIndices.length){var ye=new Wn(4*n.skinIndices.length,4);this.setAttribute("skinIndex",ye.copyVector4sArray(n.skinIndices))}if(0<n.skinWeights.length){var ke=new Wn(4*n.skinWeights.length,4);this.setAttribute("skinWeight",ke.copyVector4sArray(n.skinWeights))}return n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ji);var n=this.attributes.position,o=this.morphAttributes.position;if(n!==void 0){if(this.boundingBox.setFromBufferAttribute(n),o)for(var u=0,m=o.length;u<m;u++){var B=o[u];bn.setFromBufferAttribute(B),this.morphTargetsRelative?(Bn.addVectors(this.boundingBox.min,bn.min),this.boundingBox.expandByPoint(Bn),Bn.addVectors(this.boundingBox.max,bn.max),this.boundingBox.expandByPoint(Bn)):(this.boundingBox.expandByPoint(bn.min),this.boundingBox.expandByPoint(bn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Po);var n=this.attributes.position,o=this.morphAttributes.position;if(n){var u=this.boundingSphere.center;if(bn.setFromBufferAttribute(n),o)for(var m=0,B=o.length;m<B;m++){var k=o[m];kn.setFromBufferAttribute(k),this.morphTargetsRelative?(Bn.addVectors(bn.min,kn.min),bn.expandByPoint(Bn),Bn.addVectors(bn.max,kn.max),bn.expandByPoint(Bn)):(bn.expandByPoint(kn.min),bn.expandByPoint(kn.max))}bn.getCenter(u);var ne=0;for(m=0,B=n.count;m<B;m++)Bn.fromBufferAttribute(n,m),ne=Math.max(ne,u.distanceToSquared(Bn));if(o)for(m=0,B=o.length;m<B;m++){k=o[m];for(var se=this.morphTargetsRelative,ge=0,ve=k.count;ge<ve;ge++)Bn.fromBufferAttribute(k,ge),se&&(nn.fromBufferAttribute(n,ge),Bn.add(nn)),ne=Math.max(ne,u.distanceToSquared(Bn))}this.boundingSphere.radius=Math.sqrt(ne),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var n=this.index,o=this.attributes;if(o.position){var u=o.position.array;if(o.normal===void 0)this.setAttribute("normal",new $t(new Float32Array(u.length),3));else for(var m=o.normal.array,B=0,k=m.length;B<k;B++)m[B]=0;var ne,se,ge,ve=o.normal.array,we=new gt,_e=new gt,Te=new gt,ye=new gt,ke=new gt;if(n){var Ge=n.array;for(B=0,k=n.count;B<k;B+=3)ne=3*Ge[B+0],se=3*Ge[B+1],ge=3*Ge[B+2],we.fromArray(u,ne),_e.fromArray(u,se),Te.fromArray(u,ge),ye.subVectors(Te,_e),ke.subVectors(we,_e),ye.cross(ke),ve[ne]+=ye.x,ve[1+ne]+=ye.y,ve[2+ne]+=ye.z,ve[se]+=ye.x,ve[1+se]+=ye.y,ve[2+se]+=ye.z,ve[ge]+=ye.x,ve[1+ge]+=ye.y,ve[2+ge]+=ye.z}else for(B=0,k=u.length;B<k;B+=9)we.fromArray(u,B),_e.fromArray(u,B+3),Te.fromArray(u,B+6),ye.subVectors(Te,_e),ke.subVectors(we,_e),ye.cross(ke),ve[B]=ye.x,ve[B+1]=ye.y,ve[B+2]=ye.z,ve[B+3]=ye.x,ve[B+4]=ye.y,ve[B+5]=ye.z,ve[B+6]=ye.x,ve[B+7]=ye.y,ve[B+8]=ye.z;this.normalizeNormals(),o.normal.needsUpdate=!0}},merge:function(n,o){if(n&&n.isBufferGeometry){o===void 0&&(o=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var u=this.attributes;for(var m in u)if(n.attributes[m]!==void 0)for(var B=u[m].array,k=n.attributes[m],ne=k.array,se=k.itemSize*o,ge=Math.min(ne.length,B.length-se),ve=0,we=se;ve<ge;ve++,we++)B[we]=ne[ve];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",n)},normalizeNormals:function(){for(var n=this.attributes.normal,o=0,u=n.count;o<u;o++)Bn.x=n.getX(o),Bn.y=n.getY(o),Bn.z=n.getZ(o),Bn.normalize(),n.setXYZ(o,Bn.x,Bn.y,Bn.z)},toNonIndexed:function(){function n(ke,Ge){for(var We=ke.array,ht=ke.itemSize,vt=new We.constructor(Ge.length*ht),Dt=0,Lt=0,Xe=0,Vt=Ge.length;Xe<Vt;Xe++){Dt=Ge[Xe]*ht;for(var At=0;At<ht;At++)vt[Lt++]=We[Dt++]}return new $t(vt,ht)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var o=new xn,u=this.index.array,m=this.attributes;for(var B in m){var k=n(m[B],u);o.setAttribute(B,k)}var ne=this.morphAttributes;for(B in ne){for(var se=[],ge=ne[B],ve=0,we=ge.length;ve<we;ve++)k=n(ge[ve],u),se.push(k);o.morphAttributes[B]=se}o.morphTargetsRelative=this.morphTargetsRelative;for(var _e=this.groups,Te=(ve=0,_e.length);ve<Te;ve++){var ye=_e[ve];o.addGroup(ye.start,ye.count,ye.materialIndex)}return o},toJSON:function(){var n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),0<Object.keys(this.userData).length&&(n.userData=this.userData),this.parameters!==void 0){var o=this.parameters;for(var u in o)o[u]!==void 0&&(n[u]=o[u]);return n}n.data={attributes:{}};var m=this.index;m!==null&&(n.data.index={type:m.array.constructor.name,array:Array.prototype.slice.call(m.array)});var B=this.attributes;for(var u in B){var k=(Te=B[u]).toJSON();Te.name!==""&&(k.name=Te.name),n.data.attributes[u]=k}var ne={},se=!1;for(var u in this.morphAttributes){for(var ge=this.morphAttributes[u],ve=[],we=0,_e=ge.length;we<_e;we++){var Te;k=(Te=ge[we]).toJSON(),Te.name!==""&&(k.name=Te.name),ve.push(k)}0<ve.length&&(ne[u]=ve,se=!0)}se&&(n.data.morphAttributes=ne,n.data.morphTargetsRelative=this.morphTargetsRelative);var ye=this.groups;0<ye.length&&(n.data.groups=JSON.parse(JSON.stringify(ye)));var ke=this.boundingSphere;return ke!==null&&(n.data.boundingSphere={center:ke.center.toArray(),radius:ke.radius}),n},clone:function(){return new xn().copy(this)},copy:function(n){var o,u,m;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var B=n.index;B!==null&&this.setIndex(B.clone());var k=n.attributes;for(o in k){var ne=k[o];this.setAttribute(o,ne.clone())}var se=n.morphAttributes;for(o in se){var ge=[],ve=se[o];for(u=0,m=ve.length;u<m;u++)ge.push(ve[u].clone());this.morphAttributes[o]=ge}this.morphTargetsRelative=n.morphTargetsRelative;var we=n.groups;for(u=0,m=we.length;u<m;u++){var _e=we[u];this.addGroup(_e.start,_e.count,_e.materialIndex)}var Te=n.boundingBox;Te!==null&&(this.boundingBox=Te.clone());var ye=n.boundingSphere;return ye!==null&&(this.boundingSphere=ye.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var fr=new ur,dr=new Va,Hr=new Po,qr=new gt,or=new gt,Si=new gt,Ki=new gt,Lo=new gt,Fi=new gt,ja=new gt,Es=new gt,ro=new gt,rs=new An,ll=new An,Rc=new An,xu=new gt,Cd=new gt;function Oi(n,o){Fn.call(this),this.type="Mesh",this.geometry=n!==void 0?n:new xn,this.material=o!==void 0?o:new Ro,this.updateMorphTargets()}function Du(n,o,u,m,B,k,ne,se){if((o.side===F?m.intersectTriangle(ne,k,B,!0,se):m.intersectTriangle(B,k,ne,o.side!==T,se))===null)return null;Cd.copy(se),Cd.applyMatrix4(n.matrixWorld);var ge=u.ray.origin.distanceTo(Cd);return ge<u.near||ge>u.far?null:{distance:ge,point:Cd.clone(),object:n}}function Lc(n,o,u,m,B,k,ne,se,ge,ve,we,_e){qr.fromBufferAttribute(B,ve),or.fromBufferAttribute(B,we),Si.fromBufferAttribute(B,_e);var Te=n.morphTargetInfluences;if(o.morphTargets&&k&&Te){ja.set(0,0,0),Es.set(0,0,0),ro.set(0,0,0);for(var ye=0,ke=k.length;ye<ke;ye++){var Ge=Te[ye],We=k[ye];Ge!==0&&(Ki.fromBufferAttribute(We,ve),Lo.fromBufferAttribute(We,we),Fi.fromBufferAttribute(We,_e),ne?(ja.addScaledVector(Ki,Ge),Es.addScaledVector(Lo,Ge),ro.addScaledVector(Fi,Ge)):(ja.addScaledVector(Ki.sub(qr),Ge),Es.addScaledVector(Lo.sub(or),Ge),ro.addScaledVector(Fi.sub(Si),Ge)))}qr.add(ja),or.add(Es),Si.add(ro)}var ht=Du(n,o,u,m,qr,or,Si,xu);if(ht){se&&(rs.fromBufferAttribute(se,ve),ll.fromBufferAttribute(se,we),Rc.fromBufferAttribute(se,_e),ht.uv=lo.getUV(xu,qr,or,Si,rs,ll,Rc,new An)),ge&&(rs.fromBufferAttribute(ge,ve),ll.fromBufferAttribute(ge,we),Rc.fromBufferAttribute(ge,_e),ht.uv2=lo.getUV(xu,qr,or,Si,rs,ll,Rc,new An));var vt=new sl(ve,we,_e);lo.getNormal(qr,or,Si,vt.normal),ht.face=vt}return ht}Oi.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Oi,isMesh:!0,copy:function(n){return Fn.prototype.copy.call(this,n),n.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),n.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this},updateMorphTargets:function(){var n,o,u,m=this.geometry;if(m.isBufferGeometry){var B=m.morphAttributes,k=Object.keys(B);if(0<k.length){var ne=B[k[0]];if(ne!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},n=0,o=ne.length;n<o;n++)u=ne[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=n}}else{var se=m.morphTargets;se!==void 0&&0<se.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(n,o){var u,m=this.geometry,B=this.material,k=this.matrixWorld;if(B!==void 0&&(m.boundingSphere===null&&m.computeBoundingSphere(),Hr.copy(m.boundingSphere),Hr.applyMatrix4(k),n.ray.intersectsSphere(Hr)!==!1&&(fr.getInverse(k),dr.copy(n.ray).applyMatrix4(fr),m.boundingBox===null||dr.intersectsBox(m.boundingBox)!==!1))){if(m.isBufferGeometry){var ne,se,ge,ve,we,_e,Te,ye,ke,Ge=m.index,We=m.attributes.position,ht=m.morphAttributes.position,vt=m.morphTargetsRelative,Dt=m.attributes.uv,Lt=m.attributes.uv2,Xe=m.groups,Vt=m.drawRange;if(Ge!==null)if(Array.isArray(B))for(ve=0,_e=Xe.length;ve<_e;ve++)for(ke=B[(ye=Xe[ve]).materialIndex],we=Math.max(ye.start,Vt.start),Te=Math.min(ye.start+ye.count,Vt.start+Vt.count);we<Te;we+=3)ne=Ge.getX(we),se=Ge.getX(we+1),ge=Ge.getX(we+2),(u=Lc(this,ke,n,dr,We,ht,vt,Dt,Lt,ne,se,ge))&&(u.faceIndex=Math.floor(we/3),u.face.materialIndex=ye.materialIndex,o.push(u));else for(ve=Math.max(0,Vt.start),_e=Math.min(Ge.count,Vt.start+Vt.count);ve<_e;ve+=3)ne=Ge.getX(ve),se=Ge.getX(ve+1),ge=Ge.getX(ve+2),(u=Lc(this,B,n,dr,We,ht,vt,Dt,Lt,ne,se,ge))&&(u.faceIndex=Math.floor(ve/3),o.push(u));else if(We!==void 0)if(Array.isArray(B))for(ve=0,_e=Xe.length;ve<_e;ve++)for(ke=B[(ye=Xe[ve]).materialIndex],we=Math.max(ye.start,Vt.start),Te=Math.min(ye.start+ye.count,Vt.start+Vt.count);we<Te;we+=3)(u=Lc(this,ke,n,dr,We,ht,vt,Dt,Lt,ne=we,se=we+1,ge=we+2))&&(u.faceIndex=Math.floor(we/3),u.face.materialIndex=ye.materialIndex,o.push(u));else for(ve=Math.max(0,Vt.start),_e=Math.min(We.count,Vt.start+Vt.count);ve<_e;ve+=3)(u=Lc(this,B,n,dr,We,ht,vt,Dt,Lt,ne=ve,se=ve+1,ge=ve+2))&&(u.faceIndex=Math.floor(ve/3),o.push(u))}else if(m.isGeometry){var At,Wt,rn,un,pn=Array.isArray(B),wn=m.vertices,Tn=m.faces,Kt=m.faceVertexUvs[0];0<Kt.length&&(un=Kt);for(var on=0,zn=Tn.length;on<zn;on++){var $n=Tn[on],xr=pn?B[$n.materialIndex]:B;if(xr!==void 0&&(At=wn[$n.a],Wt=wn[$n.b],rn=wn[$n.c],u=Du(this,xr,n,dr,At,Wt,rn,xu))){if(un&&un[on]){var cr=un[on];rs.copy(cr[0]),ll.copy(cr[1]),Rc.copy(cr[2]),u.uv=lo.getUV(xu,At,Wt,rn,rs,ll,Rc,new An)}u.face=$n,u.faceIndex=on,o.push(u)}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Jp=0,xs=new ur,Lh=new Fn,Ed=new gt;function nr(){Object.defineProperty(this,"id",{value:Jp+=2}),this.uuid=Gr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}nr.prototype=Object.assign(Object.create(Qa.prototype),{constructor:nr,isGeometry:!0,applyMatrix4:function(n){for(var o=new xo().getNormalMatrix(n),u=0,m=this.vertices.length;u<m;u++)this.vertices[u].applyMatrix4(n);for(u=0,m=this.faces.length;u<m;u++){var B=this.faces[u];B.normal.applyMatrix3(o).normalize();for(var k=0,ne=B.vertexNormals.length;k<ne;k++)B.vertexNormals[k].applyMatrix3(o).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(n){return xs.makeRotationX(n),this.applyMatrix4(xs),this},rotateY:function(n){return xs.makeRotationY(n),this.applyMatrix4(xs),this},rotateZ:function(n){return xs.makeRotationZ(n),this.applyMatrix4(xs),this},translate:function(n,o,u){return xs.makeTranslation(n,o,u),this.applyMatrix4(xs),this},scale:function(n,o,u){return xs.makeScale(n,o,u),this.applyMatrix4(xs),this},lookAt:function(n){return Lh.lookAt(n),Lh.updateMatrix(),this.applyMatrix4(Lh.matrix),this},fromBufferGeometry:function(n){var o=this,u=n.index!==null?n.index.array:void 0,m=n.attributes;if(m.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var B=m.position.array,k=m.normal!==void 0?m.normal.array:void 0,ne=m.color!==void 0?m.color.array:void 0,se=m.uv!==void 0?m.uv.array:void 0,ge=m.uv2!==void 0?m.uv2.array:void 0;ge!==void 0&&(this.faceVertexUvs[1]=[]);for(var ve=0;ve<B.length;ve+=3)o.vertices.push(new gt().fromArray(B,ve)),ne!==void 0&&o.colors.push(new Un().fromArray(ne,ve));function we(We,ht,vt,Dt){var Lt=ne===void 0?[]:[o.colors[We].clone(),o.colors[ht].clone(),o.colors[vt].clone()],Xe=new sl(We,ht,vt,k===void 0?[]:[new gt().fromArray(k,3*We),new gt().fromArray(k,3*ht),new gt().fromArray(k,3*vt)],Lt,Dt);o.faces.push(Xe),se!==void 0&&o.faceVertexUvs[0].push([new An().fromArray(se,2*We),new An().fromArray(se,2*ht),new An().fromArray(se,2*vt)]),ge!==void 0&&o.faceVertexUvs[1].push([new An().fromArray(ge,2*We),new An().fromArray(ge,2*ht),new An().fromArray(ge,2*vt)])}var _e=n.groups;if(0<_e.length)for(ve=0;ve<_e.length;ve++)for(var Te=_e[ve],ye=Te.start,ke=ye,Ge=ye+Te.count;ke<Ge;ke+=3)u!==void 0?we(u[ke],u[ke+1],u[ke+2],Te.materialIndex):we(ke,ke+1,ke+2,Te.materialIndex);else if(u!==void 0)for(ve=0;ve<u.length;ve+=3)we(u[ve],u[ve+1],u[ve+2]);else for(ve=0;ve<B.length/3;ve+=3)we(ve,ve+1,ve+2);return this.computeFaceNormals(),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ed).negate(),this.translate(Ed.x,Ed.y,Ed.z),this},normalize:function(){this.computeBoundingSphere();var n=this.boundingSphere.center,o=this.boundingSphere.radius,u=o===0?1:1/o,m=new ur;return m.set(u,0,0,-u*n.x,0,u,0,-u*n.y,0,0,u,-u*n.z,0,0,0,1),this.applyMatrix4(m),this},computeFaceNormals:function(){for(var n=new gt,o=new gt,u=0,m=this.faces.length;u<m;u++){var B=this.faces[u],k=this.vertices[B.a],ne=this.vertices[B.b],se=this.vertices[B.c];n.subVectors(se,ne),o.subVectors(k,ne),n.cross(o),n.normalize(),B.normal.copy(n)}},computeVertexNormals:function(n){var o,u,m,B,k,ne;for(n===void 0&&(n=!0),ne=new Array(this.vertices.length),o=0,u=this.vertices.length;o<u;o++)ne[o]=new gt;if(n){var se,ge,ve,we=new gt,_e=new gt;for(m=0,B=this.faces.length;m<B;m++)k=this.faces[m],se=this.vertices[k.a],ge=this.vertices[k.b],ve=this.vertices[k.c],we.subVectors(ve,ge),_e.subVectors(se,ge),we.cross(_e),ne[k.a].add(we),ne[k.b].add(we),ne[k.c].add(we)}else for(this.computeFaceNormals(),m=0,B=this.faces.length;m<B;m++)ne[(k=this.faces[m]).a].add(k.normal),ne[k.b].add(k.normal),ne[k.c].add(k.normal);for(o=0,u=this.vertices.length;o<u;o++)ne[o].normalize();for(m=0,B=this.faces.length;m<B;m++){var Te=(k=this.faces[m]).vertexNormals;Te.length===3?(Te[0].copy(ne[k.a]),Te[1].copy(ne[k.b]),Te[2].copy(ne[k.c])):(Te[0]=ne[k.a].clone(),Te[1]=ne[k.b].clone(),Te[2]=ne[k.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var n,o,u;for(this.computeFaceNormals(),n=0,o=this.faces.length;n<o;n++){var m=(u=this.faces[n]).vertexNormals;m.length===3?(m[0].copy(u.normal),m[1].copy(u.normal),m[2].copy(u.normal)):(m[0]=u.normal.clone(),m[1]=u.normal.clone(),m[2]=u.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var n,o,u,m,B;for(u=0,m=this.faces.length;u<m;u++)for((B=this.faces[u]).__originalFaceNormal?B.__originalFaceNormal.copy(B.normal):B.__originalFaceNormal=B.normal.clone(),B.__originalVertexNormals||(B.__originalVertexNormals=[]),n=0,o=B.vertexNormals.length;n<o;n++)B.__originalVertexNormals[n]?B.__originalVertexNormals[n].copy(B.vertexNormals[n]):B.__originalVertexNormals[n]=B.vertexNormals[n].clone();var k=new nr;for(k.faces=this.faces,n=0,o=this.morphTargets.length;n<o;n++){if(!this.morphNormals[n]){this.morphNormals[n]={},this.morphNormals[n].faceNormals=[],this.morphNormals[n].vertexNormals=[];var ne=this.morphNormals[n].faceNormals,se=this.morphNormals[n].vertexNormals;for(u=0,m=this.faces.length;u<m;u++)ge=new gt,ve={a:new gt,b:new gt,c:new gt},ne.push(ge),se.push(ve)}var ge,ve,we=this.morphNormals[n];for(k.vertices=this.morphTargets[n].vertices,k.computeFaceNormals(),k.computeVertexNormals(),u=0,m=this.faces.length;u<m;u++)B=this.faces[u],ge=we.faceNormals[u],ve=we.vertexNormals[u],ge.copy(B.normal),ve.a.copy(B.vertexNormals[0]),ve.b.copy(B.vertexNormals[1]),ve.c.copy(B.vertexNormals[2])}for(u=0,m=this.faces.length;u<m;u++)(B=this.faces[u]).normal=B.__originalFaceNormal,B.vertexNormals=B.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ji),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Po),this.boundingSphere.setFromPoints(this.vertices)},merge:function(n,o,u){if(n&&n.isGeometry){var m,B=this.vertices.length,k=this.vertices,ne=n.vertices,se=this.faces,ge=n.faces,ve=this.colors,we=n.colors;u===void 0&&(u=0),o!==void 0&&(m=new xo().getNormalMatrix(o));for(var _e=0,Te=ne.length;_e<Te;_e++){var ye=ne[_e].clone();o!==void 0&&ye.applyMatrix4(o),k.push(ye)}for(_e=0,Te=we.length;_e<Te;_e++)ve.push(we[_e].clone());for(_e=0,Te=ge.length;_e<Te;_e++){var ke,Ge,We,ht=ge[_e],vt=ht.vertexNormals,Dt=ht.vertexColors;(ke=new sl(ht.a+B,ht.b+B,ht.c+B)).normal.copy(ht.normal),m!==void 0&&ke.normal.applyMatrix3(m).normalize();for(var Lt=0,Xe=vt.length;Lt<Xe;Lt++)Ge=vt[Lt].clone(),m!==void 0&&Ge.applyMatrix3(m).normalize(),ke.vertexNormals.push(Ge);for(ke.color.copy(ht.color),Lt=0,Xe=Dt.length;Lt<Xe;Lt++)We=Dt[Lt],ke.vertexColors.push(We.clone());ke.materialIndex=ht.materialIndex+u,se.push(ke)}for(_e=0,Te=n.faceVertexUvs.length;_e<Te;_e++){var Vt=n.faceVertexUvs[_e];for(this.faceVertexUvs[_e]===void 0&&(this.faceVertexUvs[_e]=[]),Lt=0,Xe=Vt.length;Lt<Xe;Lt++){for(var At=Vt[Lt],Wt=[],rn=0,un=At.length;rn<un;rn++)Wt.push(At[rn].clone());this.faceVertexUvs[_e].push(Wt)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",n)},mergeMesh:function(n){n&&n.isMesh?(n.matrixAutoUpdate&&n.updateMatrix(),this.merge(n.geometry,n.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",n)},mergeVertices:function(){var n,o,u,m,B,k,ne,se,ge={},ve=[],we=[],_e=Math.pow(10,4);for(u=0,m=this.vertices.length;u<m;u++)n=this.vertices[u],ge[o=Math.round(n.x*_e)+"_"+Math.round(n.y*_e)+"_"+Math.round(n.z*_e)]===void 0?(ge[o]=u,ve.push(this.vertices[u]),we[u]=ve.length-1):we[u]=we[ge[o]];var Te=[];for(u=0,m=this.faces.length;u<m;u++){(B=this.faces[u]).a=we[B.a],B.b=we[B.b],B.c=we[B.c],k=[B.a,B.b,B.c];for(var ye=0;ye<3;ye++)if(k[ye]===k[(ye+1)%3]){Te.push(u);break}}for(u=Te.length-1;0<=u;u--){var ke=Te[u];for(this.faces.splice(ke,1),ne=0,se=this.faceVertexUvs.length;ne<se;ne++)this.faceVertexUvs[ne].splice(ke,1)}var Ge=this.vertices.length-ve.length;return this.vertices=ve,Ge},setFromPoints:function(n){this.vertices=[];for(var o=0,u=n.length;o<u;o++){var m=n[o];this.vertices.push(new gt(m.x,m.y,m.z||0))}return this},sortFacesByMaterialIndex:function(){for(var n=this.faces,o=n.length,u=0;u<o;u++)n[u]._id=u;n.sort(function(ge,ve){return ge.materialIndex-ve.materialIndex});var m,B,k=this.faceVertexUvs[0],ne=this.faceVertexUvs[1];for(k&&k.length===o&&(m=[]),ne&&ne.length===o&&(B=[]),u=0;u<o;u++){var se=n[u]._id;m&&m.push(k[se]),B&&B.push(ne[se])}m&&(this.faceVertexUvs[0]=m),B&&(this.faceVertexUvs[1]=B)},toJSON:function(){var n={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.parameters!==void 0){var o=this.parameters;for(var u in o)o[u]!==void 0&&(n[u]=o[u]);return n}for(var m=[],B=0;B<this.vertices.length;B++){var k=this.vertices[B];m.push(k.x,k.y,k.z)}var ne=[],se=[],ge={},ve=[],we={},_e=[],Te={};for(B=0;B<this.faces.length;B++){var ye=this.faces[B],ke=this.faceVertexUvs[0][B]!==void 0,Ge=0<ye.normal.length(),We=0<ye.vertexNormals.length,ht=ye.color.r!==1||ye.color.g!==1||ye.color.b!==1,vt=0<ye.vertexColors.length,Dt=0;if(Dt=At(Dt=At(Dt=At(Dt=At(Dt=At(Dt=At(Dt=At(Dt=At(Dt,0,0),1,!0),2,!1),3,ke),4,Ge),5,We),6,ht),7,vt),ne.push(Dt),ne.push(ye.a,ye.b,ye.c),ne.push(ye.materialIndex),ke){var Lt=this.faceVertexUvs[0][B];ne.push(un(Lt[0]),un(Lt[1]),un(Lt[2]))}if(Ge&&ne.push(Wt(ye.normal)),We){var Xe=ye.vertexNormals;ne.push(Wt(Xe[0]),Wt(Xe[1]),Wt(Xe[2]))}if(ht&&ne.push(rn(ye.color)),vt){var Vt=ye.vertexColors;ne.push(rn(Vt[0]),rn(Vt[1]),rn(Vt[2]))}}function At(pn,wn,Tn){return Tn?pn|1<<wn:pn&~(1<<wn)}function Wt(pn){var wn=pn.x.toString()+pn.y.toString()+pn.z.toString();return ge[wn]!==void 0||(ge[wn]=se.length/3,se.push(pn.x,pn.y,pn.z)),ge[wn]}function rn(pn){var wn=pn.r.toString()+pn.g.toString()+pn.b.toString();return we[wn]!==void 0||(we[wn]=ve.length,ve.push(pn.getHex())),we[wn]}function un(pn){var wn=pn.x.toString()+pn.y.toString();return Te[wn]!==void 0||(Te[wn]=_e.length/2,_e.push(pn.x,pn.y)),Te[wn]}return n.data={},n.data.vertices=m,n.data.normals=se,0<ve.length&&(n.data.colors=ve),0<_e.length&&(n.data.uvs=[_e]),n.data.faces=ne,n},clone:function(){return new nr().copy(this)},copy:function(n){var o,u,m,B,k,ne;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var se=n.vertices;for(o=0,u=se.length;o<u;o++)this.vertices.push(se[o].clone());var ge=n.colors;for(o=0,u=ge.length;o<u;o++)this.colors.push(ge[o].clone());var ve=n.faces;for(o=0,u=ve.length;o<u;o++)this.faces.push(ve[o].clone());for(o=0,u=n.faceVertexUvs.length;o<u;o++){var we=n.faceVertexUvs[o];for(this.faceVertexUvs[o]===void 0&&(this.faceVertexUvs[o]=[]),m=0,B=we.length;m<B;m++){var _e=we[m],Te=[];for(k=0,ne=_e.length;k<ne;k++){var ye=_e[k];Te.push(ye.clone())}this.faceVertexUvs[o].push(Te)}}var ke=n.morphTargets;for(o=0,u=ke.length;o<u;o++){var Ge={};if(Ge.name=ke[o].name,ke[o].vertices!==void 0)for(Ge.vertices=[],m=0,B=ke[o].vertices.length;m<B;m++)Ge.vertices.push(ke[o].vertices[m].clone());if(ke[o].normals!==void 0)for(Ge.normals=[],m=0,B=ke[o].normals.length;m<B;m++)Ge.normals.push(ke[o].normals[m].clone());this.morphTargets.push(Ge)}var We=n.morphNormals;for(o=0,u=We.length;o<u;o++){var ht={};if(We[o].vertexNormals!==void 0)for(ht.vertexNormals=[],m=0,B=We[o].vertexNormals.length;m<B;m++){var vt=We[o].vertexNormals[m],Dt={};Dt.a=vt.a.clone(),Dt.b=vt.b.clone(),Dt.c=vt.c.clone(),ht.vertexNormals.push(Dt)}if(We[o].faceNormals!==void 0)for(ht.faceNormals=[],m=0,B=We[o].faceNormals.length;m<B;m++)ht.faceNormals.push(We[o].faceNormals[m].clone());this.morphNormals.push(ht)}var Lt=n.skinWeights;for(o=0,u=Lt.length;o<u;o++)this.skinWeights.push(Lt[o].clone());var Xe=n.skinIndices;for(o=0,u=Xe.length;o<u;o++)this.skinIndices.push(Xe[o].clone());var Vt=n.lineDistances;for(o=0,u=Vt.length;o<u;o++)this.lineDistances.push(Vt[o]);var At=n.boundingBox;At!==null&&(this.boundingBox=At.clone());var Wt=n.boundingSphere;return Wt!==null&&(this.boundingSphere=Wt.clone()),this.elementsNeedUpdate=n.elementsNeedUpdate,this.verticesNeedUpdate=n.verticesNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.lineDistancesNeedUpdate=n.lineDistancesNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Io=function(n){function o(u,m,B,k,ne,se){n.call(this),this.type="BoxGeometry",this.parameters={width:u,height:m,depth:B,widthSegments:k,heightSegments:ne,depthSegments:se},this.fromBufferGeometry(new bu(u,m,B,k,ne,se)),this.mergeVertices()}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o}(nr),bu=function(n){function o(u,m,B,k,ne,se){n.call(this),this.type="BoxBufferGeometry",this.parameters={width:u,height:m,depth:B,widthSegments:k,heightSegments:ne,depthSegments:se};var ge=this;u=u||1,m=m||1,B=B||1,k=Math.floor(k)||1,ne=Math.floor(ne)||1;var ve=[],we=[],_e=[],Te=[],ye=0,ke=0;function Ge(We,ht,vt,Dt,Lt,Xe,Vt,At,Wt,rn,un){var pn,wn,Tn=Xe/Wt,Kt=Vt/rn,on=Xe/2,zn=Vt/2,$n=At/2,xr=Wt+1,cr=rn+1,sr=0,mi=0,Lr=new gt;for(wn=0;wn<cr;wn++){var gr=wn*Kt-zn;for(pn=0;pn<xr;pn++){var Ur=pn*Tn-on;Lr[We]=Ur*Dt,Lr[ht]=gr*Lt,Lr[vt]=$n,we.push(Lr.x,Lr.y,Lr.z),Lr[We]=0,Lr[ht]=0,Lr[vt]=0<At?1:-1,_e.push(Lr.x,Lr.y,Lr.z),Te.push(pn/Wt),Te.push(1-wn/rn),sr+=1}}for(wn=0;wn<rn;wn++)for(pn=0;pn<Wt;pn++){var ni=ye+pn+xr*wn,Yr=ye+pn+xr*(wn+1),qi=ye+(pn+1)+xr*(wn+1),Xi=ye+(pn+1)+xr*wn;ve.push(ni,Yr,Xi),ve.push(Yr,qi,Xi),mi+=6}ge.addGroup(ke,mi,un),ke+=mi,ye+=sr}Ge("z","y","x",-1,-1,B,m,u,se=Math.floor(se)||1,ne,0),Ge("z","y","x",1,-1,B,m,-u,se,ne,1),Ge("x","z","y",1,1,u,B,m,k,se,2),Ge("x","z","y",1,-1,u,B,-m,k,se,3),Ge("x","y","z",1,-1,u,m,B,k,ne,4),Ge("x","y","z",-1,-1,u,m,-B,k,ne,5),this.setIndex(ve),this.setAttribute("position",new Wn(we,3)),this.setAttribute("normal",new Wn(_e,3)),this.setAttribute("uv",new Wn(Te,2))}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o}(xn);function Ic(n){var o={};for(var u in n)for(var m in o[u]={},n[u]){var B=n[u][m];B&&(B.isColor||B.isMatrix3||B.isMatrix4||B.isVector2||B.isVector3||B.isVector4||B.isTexture)?o[u][m]=B.clone():Array.isArray(B)?o[u][m]=B.slice():o[u][m]=B}return o}function Wo(n){for(var o={},u=0;u<n.length;u++){var m=Ic(n[u]);for(var B in m)o[B]=m[B]}return o}var $f={clone:Ic,merge:Wo},Ih=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wu=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function ua(n){Or.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Ih,this.fragmentShader=wu,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,n!==void 0&&(n.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))}function da(){Fn.call(this),this.type="Camera",this.matrixWorldInverse=new ur,this.projectionMatrix=new ur,this.projectionMatrixInverse=new ur}function Gi(n,o,u,m){da.call(this),this.type="PerspectiveCamera",this.fov=n!==void 0?n:50,this.zoom=1,this.near=u!==void 0?u:.1,this.far=m!==void 0?m:2e3,this.focus=10,this.aspect=o!==void 0?o:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function cl(n,o,u,m){Fn.call(this),this.type="CubeCamera";var B=new Gi(90,1,n,o);B.up.set(0,-1,0),B.lookAt(new gt(1,0,0)),this.add(B);var k=new Gi(90,1,n,o);k.up.set(0,-1,0),k.lookAt(new gt(-1,0,0)),this.add(k);var ne=new Gi(90,1,n,o);ne.up.set(0,0,1),ne.lookAt(new gt(0,1,0)),this.add(ne);var se=new Gi(90,1,n,o);se.up.set(0,0,-1),se.lookAt(new gt(0,-1,0)),this.add(se);var ge=new Gi(90,1,n,o);ge.up.set(0,-1,0),ge.lookAt(new gt(0,0,1)),this.add(ge);var ve=new Gi(90,1,n,o);ve.up.set(0,-1,0),ve.lookAt(new gt(0,0,-1)),this.add(ve),m=m||{format:Co,magFilter:gn,minFilter:gn},this.renderTarget=new ul(u,m),this.renderTarget.texture.name="CubeCamera",this.update=function(we,_e){this.parent===null&&this.updateMatrixWorld();var Te=we.getRenderTarget(),ye=this.renderTarget,ke=ye.texture.generateMipmaps;ye.texture.generateMipmaps=!1,we.setRenderTarget(ye,0),we.render(_e,B),we.setRenderTarget(ye,1),we.render(_e,k),we.setRenderTarget(ye,2),we.render(_e,ne),we.setRenderTarget(ye,3),we.render(_e,se),we.setRenderTarget(ye,4),we.render(_e,ge),ye.texture.generateMipmaps=ke,we.setRenderTarget(ye,5),we.render(_e,ve),we.setRenderTarget(Te)},this.clear=function(we,_e,Te,ye){for(var ke=we.getRenderTarget(),Ge=this.renderTarget,We=0;We<6;We++)we.setRenderTarget(Ge,We),we.clear(_e,Te,ye);we.setRenderTarget(ke)}}function ul(n,o,u){Number.isInteger(o)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),o=u),Do.call(this,n,n,o)}function Hs(n,o,u,m,B,k,ne,se,ge,ve,we,_e){wi.call(this,null,k,ne,se,ge,ve,m,B,we,_e),this.image={data:n||null,width:o||1,height:u||1},this.magFilter=ge!==void 0?ge:rt,this.minFilter=ve!==void 0?ve:rt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}((ua.prototype=Object.create(Or.prototype)).constructor=ua).prototype.isShaderMaterial=!0,ua.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=Ic(n.uniforms),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=n.extensions,this},ua.prototype.toJSON=function(n){var o=Or.prototype.toJSON.call(this,n);for(var u in o.uniforms={},this.uniforms){var m=this.uniforms[u].value;m&&m.isTexture?o.uniforms[u]={type:"t",value:m.toJSON(n).uuid}:m&&m.isColor?o.uniforms[u]={type:"c",value:m.getHex()}:m&&m.isVector2?o.uniforms[u]={type:"v2",value:m.toArray()}:m&&m.isVector3?o.uniforms[u]={type:"v3",value:m.toArray()}:m&&m.isVector4?o.uniforms[u]={type:"v4",value:m.toArray()}:m&&m.isMatrix3?o.uniforms[u]={type:"m3",value:m.toArray()}:m&&m.isMatrix4?o.uniforms[u]={type:"m4",value:m.toArray()}:o.uniforms[u]={value:m}}0<Object.keys(this.defines).length&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader;var B={};for(var k in this.extensions)this.extensions[k]===!0&&(B[k]=!0);return 0<Object.keys(B).length&&(o.extensions=B),o},da.prototype=Object.assign(Object.create(Fn.prototype),{constructor:da,isCamera:!0,copy:function(n,o){return Fn.prototype.copy.call(this,n,o),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this},getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),n=new gt),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(-o[8],-o[9],-o[10]).normalize()},updateMatrixWorld:function(n){Fn.prototype.updateMatrixWorld.call(this,n),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(n,o){Fn.prototype.updateWorldMatrix.call(this,n,o),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),Gi.prototype=Object.assign(Object.create(da.prototype),{constructor:Gi,isPerspectiveCamera:!0,copy:function(n,o){return da.prototype.copy.call(this,n,o),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=n.view===null?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this},setFocalLength:function(n){var o=.5*this.getFilmHeight()/n;this.fov=2*Gr.RAD2DEG*Math.atan(o),this.updateProjectionMatrix()},getFocalLength:function(){var n=Math.tan(.5*Gr.DEG2RAD*this.fov);return .5*this.getFilmHeight()/n},getEffectiveFOV:function(){return 2*Gr.RAD2DEG*Math.atan(Math.tan(.5*Gr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(n,o,u,m,B,k){this.aspect=n/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=u,this.view.offsetY=m,this.view.width=B,this.view.height=k,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=this.near,o=n*Math.tan(.5*Gr.DEG2RAD*this.fov)/this.zoom,u=2*o,m=this.aspect*u,B=-.5*m,k=this.view;if(this.view!==null&&this.view.enabled){var ne=k.fullWidth,se=k.fullHeight;B+=k.offsetX*m/ne,o-=k.offsetY*u/se,m*=k.width/ne,u*=k.height/se}var ge=this.filmOffset;ge!==0&&(B+=n*ge/this.getFilmWidth()),this.projectionMatrix.makePerspective(B,B+m,o,o-u,n,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){var o=Fn.prototype.toJSON.call(this,n);return o.object.fov=this.fov,o.object.zoom=this.zoom,o.object.near=this.near,o.object.far=this.far,o.object.focus=this.focus,o.object.aspect=this.aspect,this.view!==null&&(o.object.view=Object.assign({},this.view)),o.object.filmGauge=this.filmGauge,o.object.filmOffset=this.filmOffset,o}}),(cl.prototype=Object.create(Fn.prototype)).constructor=cl,((ul.prototype=Object.create(Do.prototype)).constructor=ul).prototype.isWebGLCubeRenderTarget=!0,ul.prototype.fromEquirectangularTexture=function(n,o){this.texture.type=o.type,this.texture.format=o.format,this.texture.encoding=o.encoding;var u=new Ei,m={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV;","	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},B=new ua({type:"CubemapFromEquirect",uniforms:Ic(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,side:F,blending:re});B.uniforms.tEquirect.value=o;var k=new Oi(new bu(5,5,5),B);u.add(k);var ne=new cl(1,10,1);return ne.renderTarget=this,ne.renderTarget.texture.name="CubeCameraTexture",ne.update(n,u),k.geometry.dispose(),k.material.dispose(),this},((Hs.prototype=Object.create(wi.prototype)).constructor=Hs).prototype.isDataTexture=!0;var kc=new Po,xd=new gt;function Vc(n,o,u,m,B,k){this.planes=[n!==void 0?n:new Na,o!==void 0?o:new Na,u!==void 0?u:new Na,m!==void 0?m:new Na,B!==void 0?B:new Na,k!==void 0?k:new Na]}Object.assign(Vc.prototype,{set:function(n,o,u,m,B,k){var ne=this.planes;return ne[0].copy(n),ne[1].copy(o),ne[2].copy(u),ne[3].copy(m),ne[4].copy(B),ne[5].copy(k),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){for(var o=this.planes,u=0;u<6;u++)o[u].copy(n.planes[u]);return this},setFromProjectionMatrix:function(n){var o=this.planes,u=n.elements,m=u[0],B=u[1],k=u[2],ne=u[3],se=u[4],ge=u[5],ve=u[6],we=u[7],_e=u[8],Te=u[9],ye=u[10],ke=u[11],Ge=u[12],We=u[13],ht=u[14],vt=u[15];return o[0].setComponents(ne-m,we-se,ke-_e,vt-Ge).normalize(),o[1].setComponents(ne+m,we+se,ke+_e,vt+Ge).normalize(),o[2].setComponents(ne+B,we+ge,ke+Te,vt+We).normalize(),o[3].setComponents(ne-B,we-ge,ke-Te,vt-We).normalize(),o[4].setComponents(ne-k,we-ve,ke-ye,vt-ht).normalize(),o[5].setComponents(ne+k,we+ve,ke+ye,vt+ht).normalize(),this},intersectsObject:function(n){var o=n.geometry;return o.boundingSphere===null&&o.computeBoundingSphere(),kc.copy(o.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(kc)},intersectsSprite:function(n){return kc.center.set(0,0,0),kc.radius=.7071067811865476,kc.applyMatrix4(n.matrixWorld),this.intersectsSphere(kc)},intersectsSphere:function(n){for(var o=this.planes,u=n.center,m=-n.radius,B=0;B<6;B++)if(o[B].distanceToPoint(u)<m)return!1;return!0},intersectsBox:function(n){for(var o=this.planes,u=0;u<6;u++){var m=o[u];if(xd.x=0<m.normal.x?n.max.x:n.min.x,xd.y=0<m.normal.y?n.max.y:n.min.y,xd.z=0<m.normal.z?n.max.z:n.min.z,m.distanceToPoint(xd)<0)return!1}return!0},containsPoint:function(n){for(var o=this.planes,u=0;u<6;u++)if(o[u].distanceToPoint(n)<0)return!1;return!0}});var Yn={common:{diffuse:{value:new Un(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new xo},uv2Transform:{value:new xo},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new An(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Un(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Un(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new xo}},sprite:{diffuse:{value:new Un(15658734)},opacity:{value:1},center:{value:new An(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new xo}}};function Wf(){var n=null,o=!1,u=null;function m(B,k){o!==!1&&(u(B,k),n.requestAnimationFrame(m))}return{start:function(){o!==!0&&u!==null&&(n.requestAnimationFrame(m),o=!0)},stop:function(){o=!1},setAnimationLoop:function(B){u=B},setContext:function(B){n=B}}}function oc(n,o,u,m){nr.call(this),this.type="PlaneGeometry",this.parameters={width:n,height:o,widthSegments:u,heightSegments:m},this.fromBufferGeometry(new Us(n,o,u,m)),this.mergeVertices()}function Us(n,o,u,m){xn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:n,height:o,widthSegments:u,heightSegments:m};var B,k,ne=(n=n||1)/2,se=(o=o||1)/2,ge=Math.floor(u)||1,ve=Math.floor(m)||1,we=ge+1,_e=ve+1,Te=n/ge,ye=o/ve,ke=[],Ge=[],We=[],ht=[];for(k=0;k<_e;k++){var vt=k*ye-se;for(B=0;B<we;B++){var Dt=B*Te-ne;Ge.push(Dt,-vt,0),We.push(0,0,1),ht.push(B/ge),ht.push(1-k/ve)}}for(k=0;k<ve;k++)for(B=0;B<ge;B++){var Lt=B+we*k,Xe=B+we*(k+1),Vt=B+1+we*(k+1),At=B+1+we*k;ke.push(Lt,Xe,At),ke.push(Xe,Vt,At)}this.setIndex(ke),this.setAttribute("position",new Wn(Ge,3)),this.setAttribute("normal",new Wn(We,3)),this.setAttribute("uv",new Wn(ht,2))}(oc.prototype=Object.create(nr.prototype)).constructor=oc,(Us.prototype=Object.create(xn.prototype)).constructor=Us;var Qr={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;
		}
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);
    } else if (face == 1.0) {
      uv = vec2(direction.x, -direction.z) / abs(direction.y);
    } else if (face == 2.0) {
      uv = direction.xy / abs(direction.z);
    } else if (face == 3.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);
    } else if (face == 4.0) {
      uv = direction.xz / abs(direction.y);
    } else {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);
    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	transformedNormal = mat3( instanceMatrix ) * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		reflectVec = normalize( reflectVec );
		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = saturate( clearcoat );	material.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_normalmap_pars_fragment:`#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV;
	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},et={basic:{uniforms:Wo([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.fog]),vertexShader:Qr.meshbasic_vert,fragmentShader:Qr.meshbasic_frag},lambert:{uniforms:Wo([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.fog,Yn.lights,{emissive:{value:new Un(0)}}]),vertexShader:Qr.meshlambert_vert,fragmentShader:Qr.meshlambert_frag},phong:{uniforms:Wo([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.fog,Yn.lights,{emissive:{value:new Un(0)},specular:{value:new Un(1118481)},shininess:{value:30}}]),vertexShader:Qr.meshphong_vert,fragmentShader:Qr.meshphong_frag},standard:{uniforms:Wo([Yn.common,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.roughnessmap,Yn.metalnessmap,Yn.fog,Yn.lights,{emissive:{value:new Un(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Qr.meshphysical_vert,fragmentShader:Qr.meshphysical_frag},toon:{uniforms:Wo([Yn.common,Yn.specularmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.gradientmap,Yn.fog,Yn.lights,{emissive:{value:new Un(0)},specular:{value:new Un(1118481)},shininess:{value:30}}]),vertexShader:Qr.meshtoon_vert,fragmentShader:Qr.meshtoon_frag},matcap:{uniforms:Wo([Yn.common,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.fog,{matcap:{value:null}}]),vertexShader:Qr.meshmatcap_vert,fragmentShader:Qr.meshmatcap_frag},points:{uniforms:Wo([Yn.points,Yn.fog]),vertexShader:Qr.points_vert,fragmentShader:Qr.points_frag},dashed:{uniforms:Wo([Yn.common,Yn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qr.linedashed_vert,fragmentShader:Qr.linedashed_frag},depth:{uniforms:Wo([Yn.common,Yn.displacementmap]),vertexShader:Qr.depth_vert,fragmentShader:Qr.depth_frag},normal:{uniforms:Wo([Yn.common,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,{opacity:{value:1}}]),vertexShader:Qr.normal_vert,fragmentShader:Qr.normal_frag},sprite:{uniforms:Wo([Yn.sprite,Yn.fog]),vertexShader:Qr.sprite_vert,fragmentShader:Qr.sprite_frag},background:{uniforms:{uvTransform:{value:new xo},t2D:{value:null}},vertexShader:Qr.background_vert,fragmentShader:Qr.background_frag},cube:{uniforms:Wo([Yn.envmap,{opacity:{value:1}}]),vertexShader:Qr.cube_vert,fragmentShader:Qr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qr.equirect_vert,fragmentShader:Qr.equirect_frag},distanceRGBA:{uniforms:Wo([Yn.common,Yn.displacementmap,{referencePosition:{value:new gt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qr.distanceRGBA_vert,fragmentShader:Qr.distanceRGBA_frag},shadow:{uniforms:Wo([Yn.lights,Yn.fog,{color:{value:new Un(0)},opacity:{value:1}}]),vertexShader:Qr.shadow_vert,fragmentShader:Qr.shadow_frag}};function Nc(n,o,u,m){var B,k,ne=new Un(0),se=0,ge=null,ve=0,we=null;function _e(Te,ye){o.buffers.color.setClear(Te.r,Te.g,Te.b,ye,m)}return{getClearColor:function(){return ne},setClearColor:function(Te,ye){ne.set(Te),_e(ne,se=ye!==void 0?ye:1)},getClearAlpha:function(){return se},setClearAlpha:function(Te){_e(ne,se=Te)},render:function(Te,ye,ke,Ge){var We=ye.background,ht=n.xr,vt=ht.getSession&&ht.getSession();if(vt&&vt.environmentBlendMode==="additive"&&(We=null),We===null?_e(ne,se):We&&We.isColor&&(_e(We,1),Ge=!0),(n.autoClear||Ge)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),We&&(We.isCubeTexture||We.isWebGLCubeRenderTarget||We.mapping===ut)){k===void 0&&((k=new Oi(new bu(1,1,1),new ua({type:"BackgroundCubeMaterial",uniforms:Ic(et.cube.uniforms),vertexShader:et.cube.vertexShader,fragmentShader:et.cube.fragmentShader,side:F,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),k.geometry.deleteAttribute("uv"),k.onBeforeRender=function(Lt,Xe,Vt){this.matrixWorld.copyPosition(Vt.matrixWorld)},Object.defineProperty(k.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),u.update(k));var Dt=We.isWebGLCubeRenderTarget?We.texture:We;k.material.uniforms.envMap.value=Dt,k.material.uniforms.flipEnvMap.value=Dt.isCubeTexture?-1:1,ge===We&&ve===Dt.version&&we===n.toneMapping||(k.material.needsUpdate=!0,ge=We,ve=Dt.version,we=n.toneMapping),Te.unshift(k,k.geometry,k.material,0,0,null)}else We&&We.isTexture&&(B===void 0&&((B=new Oi(new Us(2,2),new ua({type:"BackgroundMaterial",uniforms:Ic(et.background.uniforms),vertexShader:et.background.vertexShader,fragmentShader:et.background.fragmentShader,side:w,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(B.material,"map",{get:function(){return this.uniforms.t2D.value}}),u.update(B)),(B.material.uniforms.t2D.value=We).matrixAutoUpdate===!0&&We.updateMatrix(),B.material.uniforms.uvTransform.value.copy(We.matrix),ge===We&&ve===We.version&&we===n.toneMapping||(B.material.needsUpdate=!0,ve=(ge=We).version,we=n.toneMapping),Te.unshift(B,B.geometry,B.material,0,0,null))}}}function Dd(n,o){return Math.abs(o[1])-Math.abs(n[1])}function ko(n,o,u,m,B,k,ne,se,ge,ve){wi.call(this,n=n!==void 0?n:[],o=o!==void 0?o:ft,u,m,B,k,ne=ne!==void 0?ne:Co,se,ge,ve),this.flipY=!1}function ei(n,o,u,m){wi.call(this,null),this.image={data:n||null,width:o||1,height:u||1,depth:m||1},this.magFilter=rt,this.minFilter=rt,this.wrapR=vn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function bd(n,o,u,m){wi.call(this,null),this.image={data:n||null,width:o||1,height:u||1,depth:m||1},this.magFilter=rt,this.minFilter=rt,this.wrapR=vn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}et.physical={uniforms:Wo([et.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Un(0)},clearcoatNormalScale:{value:new An(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:Qr.meshphysical_vert,fragmentShader:Qr.meshphysical_frag},((ko.prototype=Object.create(wi.prototype)).constructor=ko).prototype.isCubeTexture=!0,Object.defineProperty(ko.prototype,"images",{get:function(){return this.image},set:function(n){this.image=n}}),((ei.prototype=Object.create(wi.prototype)).constructor=ei).prototype.isDataTexture2DArray=!0,((bd.prototype=Object.create(wi.prototype)).constructor=bd).prototype.isDataTexture3D=!0;var Jf=new wi,qp=new ei,ac=new bd,qf=new ko,Xf=[],Yf=[],Zf=new Float32Array(16),Kf=new Float32Array(9),Gs=new Float32Array(4);function zc(n,o,u){var m=n[0];if(m<=0||0<m)return n;var B=o*u,k=Xf[B];if(k===void 0&&(k=new Float32Array(B),Xf[B]=k),o!==0){m.toArray(k,0);for(var ne=1,se=0;ne!==o;++ne)se+=u,n[ne].toArray(k,se)}return k}function is(n,o){if(n.length===o.length){for(var u=0,m=n.length;u<m;u++)if(n[u]!==o[u])return;return 1}}function Ha(n,o){for(var u=0,m=o.length;u<m;u++)n[u]=o[u]}function Qf(n,o){var u=Yf[o];u===void 0&&(u=new Int32Array(o),Yf[o]=u);for(var m=0;m!==o;++m)u[m]=n.allocateTextureUnit();return u}function Xp(n,o){var u=this.cache;u[0]!==o&&(n.uniform1f(this.addr,o),u[0]=o)}function dl(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y||(n.uniform2f(this.addr,o.x,o.y),u[0]=o.x,u[1]=o.y);else{if(is(u,o))return;n.uniform2fv(this.addr,o),Ha(u,o)}}function Yp(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y&&u[2]===o.z||(n.uniform3f(this.addr,o.x,o.y,o.z),u[0]=o.x,u[1]=o.y,u[2]=o.z);else if(o.r!==void 0)u[0]===o.r&&u[1]===o.g&&u[2]===o.b||(n.uniform3f(this.addr,o.r,o.g,o.b),u[0]=o.r,u[1]=o.g,u[2]=o.b);else{if(is(u,o))return;n.uniform3fv(this.addr,o),Ha(u,o)}}function Zp(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y&&u[2]===o.z&&u[3]===o.w||(n.uniform4f(this.addr,o.x,o.y,o.z,o.w),u[0]=o.x,u[1]=o.y,u[2]=o.z,u[3]=o.w);else{if(is(u,o))return;n.uniform4fv(this.addr,o),Ha(u,o)}}function Kp(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(is(u,o))return;n.uniformMatrix2fv(this.addr,!1,o),Ha(u,o)}else{if(is(u,m))return;Gs.set(m),n.uniformMatrix2fv(this.addr,!1,Gs),Ha(u,m)}}function Qp(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(is(u,o))return;n.uniformMatrix3fv(this.addr,!1,o),Ha(u,o)}else{if(is(u,m))return;Kf.set(m),n.uniformMatrix3fv(this.addr,!1,Kf),Ha(u,m)}}function em(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(is(u,o))return;n.uniformMatrix4fv(this.addr,!1,o),Ha(u,o)}else{if(is(u,m))return;Zf.set(m),n.uniformMatrix4fv(this.addr,!1,Zf),Ha(u,m)}}function sc(n,o,u){var m=this.cache,B=u.allocateTextureUnit();m[0]!==B&&(n.uniform1i(this.addr,B),m[0]=B),u.safeSetTexture2D(o||Jf,B)}function tm(n,o,u){var m=this.cache,B=u.allocateTextureUnit();m[0]!==B&&(n.uniform1i(this.addr,B),m[0]=B),u.setTexture2DArray(o||qp,B)}function nm(n,o,u){var m=this.cache,B=u.allocateTextureUnit();m[0]!==B&&(n.uniform1i(this.addr,B),m[0]=B),u.setTexture3D(o||ac,B)}function Ds(n,o,u){var m=this.cache,B=u.allocateTextureUnit();m[0]!==B&&(n.uniform1i(this.addr,B),m[0]=B),u.safeSetTextureCube(o||qf,B)}function rm(n,o){var u=this.cache;u[0]!==o&&(n.uniform1i(this.addr,o),u[0]=o)}function im(n,o){var u=this.cache;is(u,o)||(n.uniform2iv(this.addr,o),Ha(u,o))}function om(n,o){var u=this.cache;is(u,o)||(n.uniform3iv(this.addr,o),Ha(u,o))}function am(n,o){var u=this.cache;is(u,o)||(n.uniform4iv(this.addr,o),Ha(u,o))}function sm(n,o){var u=this.cache;u[0]!==o&&(n.uniform1ui(this.addr,o),u[0]=o)}function ep(n,o){n.uniform1fv(this.addr,o)}function tp(n,o){n.uniform1iv(this.addr,o)}function lm(n,o){n.uniform2iv(this.addr,o)}function cm(n,o){n.uniform3iv(this.addr,o)}function kh(n,o){n.uniform4iv(this.addr,o)}function Au(n,o){var u=zc(o,this.size,2);n.uniform2fv(this.addr,u)}function wd(n,o){var u=zc(o,this.size,3);n.uniform3fv(this.addr,u)}function um(n,o){var u=zc(o,this.size,4);n.uniform4fv(this.addr,u)}function np(n,o){var u=zc(o,this.size,4);n.uniformMatrix2fv(this.addr,!1,u)}function dm(n,o){var u=zc(o,this.size,9);n.uniformMatrix3fv(this.addr,!1,u)}function hl(n,o){var u=zc(o,this.size,16);n.uniformMatrix4fv(this.addr,!1,u)}function Vh(n,o,u){var m=o.length,B=Qf(u,m);n.uniform1iv(this.addr,B);for(var k=0;k!==m;++k)u.safeSetTexture2D(o[k]||Jf,B[k])}function lc(n,o,u){var m=o.length,B=Qf(u,m);n.uniform1iv(this.addr,B);for(var k=0;k!==m;++k)u.safeSetTextureCube(o[k]||qf,B[k])}function os(n,o,u){this.id=n,this.addr=u,this.cache=[],this.setValue=function(m){switch(o.type){case 5126:return Xp;case 35664:return dl;case 35665:return Yp;case 35666:return Zp;case 35674:return Kp;case 35675:return Qp;case 35676:return em;case 5124:case 35670:return rm;case 35667:case 35671:return im;case 35668:case 35672:return om;case 35669:case 35673:return am;case 5125:return sm;case 35678:case 36198:case 36298:case 36306:case 35682:return sc;case 35679:case 36299:case 36307:return nm;case 35680:case 36300:case 36308:case 36293:return Ds;case 36289:case 36303:case 36311:case 36292:return tm}}()}function rp(n,o,u){this.id=n,this.addr=u,this.cache=[],this.size=o.size,this.setValue=function(m){switch(o.type){case 5126:return ep;case 35664:return Au;case 35665:return wd;case 35666:return um;case 35674:return np;case 35675:return dm;case 35676:return hl;case 5124:case 35670:return tp;case 35667:case 35671:return lm;case 35668:case 35672:return cm;case 35669:case 35673:return kh;case 35678:case 36198:case 36298:case 36306:case 35682:return Vh;case 35680:case 36300:case 36308:case 36293:return lc}}()}function Nh(n){this.id=n,this.seq=[],this.map={}}rp.prototype.updateCache=function(n){var o=this.cache;n instanceof Float32Array&&o.length!==n.length&&(this.cache=new Float32Array(n.length)),Ha(o,n)},Nh.prototype.setValue=function(n,o,u){for(var m=this.seq,B=0,k=m.length;B!==k;++B){var ne=m[B];ne.setValue(n,o[ne.id],u)}};var Ad=/([\w\d_]+)(\])?(\[|\.)?/g;function jc(n,o){n.seq.push(o),n.map[o.id]=o}function Ol(n,o,u){var m=n.name,B=m.length;for(Ad.lastIndex=0;;){var k=Ad.exec(m),ne=Ad.lastIndex,se=k[1],ge=k[2]==="]",ve=k[3];if(ge&&(se|=0),ve===void 0||ve==="["&&ne+2===B){jc(u,new(ve===void 0?os:rp)(se,n,o));break}var we=u.map[se];we===void 0&&jc(u,we=new Nh(se)),u=we}}function fl(n,o){this.seq=[],this.map={};for(var u=n.getProgramParameter(o,35718),m=0;m<u;++m){var B=n.getActiveUniform(o,m);Ol(B,n.getUniformLocation(o,B.name),this)}}function ip(n,o,u){var m=n.createShader(o);return n.shaderSource(m,u),n.compileShader(m),m}fl.prototype.setValue=function(n,o,u,m){var B=this.map[o];B!==void 0&&B.setValue(n,u,m)},fl.prototype.setOptional=function(n,o,u){var m=o[u];m!==void 0&&this.setValue(n,u,m)},fl.upload=function(n,o,u,m){for(var B=0,k=o.length;B!==k;++B){var ne=o[B],se=u[ne.id];se.needsUpdate!==!1&&ne.setValue(n,se.value,m)}},fl.seqWithValue=function(n,o){for(var u=[],m=0,B=n.length;m!==B;++m){var k=n[m];k.id in o&&u.push(k)}return u};var _d=0;function op(n){switch(n){case er:return["Linear","( value )"];case Cr:return["sRGB","( value )"];case vs:return["RGBE","( value )"];case Ka:return["RGBM","( value, 7.0 )"];case nl:return["RGBM","( value, 16.0 )"];case Kl:return["RGBD","( value, 256.0 )"];case la:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Ra:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+n)}}function zh(n,o,u){var m=n.getShaderParameter(o,35713),B=n.getShaderInfoLog(o).trim();return m&&B===""?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+u+`
`+B+function(k){for(var ne=k.split(`
`),se=0;se<ne.length;se++)ne[se]=se+1+": "+ne[se];return ne.join(`
`)}(n.getShaderSource(o))}function co(n,o){var u=op(o);return"vec4 "+n+"( vec4 value ) { return "+u[0]+"ToLinear"+u[1]+"; }"}function cc(n){return n!==""}function jh(n,o){return n.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function bs(n,o){return n.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}var Hh=/^[ \t]*#include +<([\w\d./]+)>/gm;function Hc(n){return n.replace(Hh,uc)}function uc(n,o){var u=Qr[o];if(u===void 0)throw new Error("Can not resolve #include <"+o+">");return Hc(u)}var ap=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function na(n){return n.replace(ap,Uh)}function Uh(n,o,u,m){for(var B="",k=parseInt(o);k<parseInt(u);k++)B+=m.replace(/\[ i \]/g,"[ "+k+" ]").replace(/UNROLLED_LOOP_INDEX/g,k);return B}function sp(n){var o="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?o+=`
#define HIGH_PRECISION`:n.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function hm(n,o,u){var m=[],B=u.isWebGL2,k=u.logarithmicDepthBuffer,ne=u.floatVertexTextures,se=u.precision,ge=u.maxVertexUniforms,ve=u.vertexTextures,we={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},_e=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function Te(ye){var ke;return ye?ye.isTexture?ke=ye.encoding:ye.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ke=ye.texture.encoding):ke=er,ke}this.getParameters=function(ye,ke,Ge,We,ht,vt,Dt){var Lt=We.fog,Xe=ye.isMeshStandardMaterial?We.environment:null,Vt=ye.envMap||Xe,At=we[ye.type],Wt=Dt.isSkinnedMesh?function(wn){var Tn=Dt.skeleton.bones;if(ne)return 1024;var Kt=ge,on=Math.floor((Kt-20)/4),zn=Math.min(on,Tn.length);return zn<Tn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Tn.length+" bones. This GPU supports "+zn+"."),0):zn}():0;ye.precision!==null&&(se=u.getMaxPrecision(ye.precision))!==ye.precision&&console.warn("THREE.WebGLProgram.getParameters:",ye.precision,"not supported, using",se,"instead.");var rn=function(wn,Tn){var Kt;if(At){var on=et[At];Kt={name:wn.type,uniforms:$f.clone(on.uniforms),vertexShader:on.vertexShader,fragmentShader:on.fragmentShader}}else Kt={name:wn.type,uniforms:wn.uniforms,vertexShader:wn.vertexShader,fragmentShader:wn.fragmentShader};return Kt}(ye);ye.onBeforeCompile(rn,n);var un=n.getRenderTarget(),pn=un&&un.isWebGLMultiviewRenderTarget?un.numViews:0;return{isWebGL2:B,shaderID:At,shaderName:rn.name,uniforms:rn.uniforms,vertexShader:rn.vertexShader,fragmentShader:rn.fragmentShader,defines:ye.defines,isRawShaderMaterial:ye.isRawShaderMaterial,isShaderMaterial:ye.isShaderMaterial,precision:se,instancing:Dt.isInstancedMesh===!0,supportsVertexTextures:ve,numMultiviewViews:pn,outputEncoding:un!==null?Te(un.texture):n.outputEncoding,map:!!ye.map,mapEncoding:Te(ye.map),matcap:!!ye.matcap,matcapEncoding:Te(ye.matcap),envMap:!!Vt,envMapMode:Vt&&Vt.mapping,envMapEncoding:Te(Vt),envMapCubeUV:!!Vt&&(Vt.mapping===ut||Vt.mapping===Gt),lightMap:!!ye.lightMap,lightMapEncoding:Te(ye.lightMap),aoMap:!!ye.aoMap,emissiveMap:!!ye.emissiveMap,emissiveMapEncoding:Te(ye.emissiveMap),bumpMap:!!ye.bumpMap,normalMap:!!ye.normalMap,objectSpaceNormalMap:ye.normalMapType===gu,tangentSpaceNormalMap:ye.normalMapType===wa,clearcoatNormalMap:!!ye.clearcoatNormalMap,displacementMap:!!ye.displacementMap,roughnessMap:!!ye.roughnessMap,metalnessMap:!!ye.metalnessMap,specularMap:!!ye.specularMap,alphaMap:!!ye.alphaMap,gradientMap:!!ye.gradientMap,sheen:!!ye.sheen,combine:ye.combine,vertexTangents:ye.normalMap&&ye.vertexTangents,vertexColors:ye.vertexColors,vertexUvs:!!(ye.map||ye.bumpMap||ye.normalMap||ye.specularMap||ye.alphaMap||ye.emissiveMap||ye.roughnessMap||ye.metalnessMap||ye.clearcoatNormalMap||ye.displacementMap),uvsVertexOnly:!(ye.map||ye.bumpMap||ye.normalMap||ye.specularMap||ye.alphaMap||ye.emissiveMap||ye.roughnessMap||ye.metalnessMap||ye.clearcoatNormalMap||!ye.displacementMap),fog:!!Lt,useFog:ye.fog,fogExp2:Lt&&Lt.isFogExp2,flatShading:ye.flatShading,sizeAttenuation:ye.sizeAttenuation,logarithmicDepthBuffer:k,skinning:ye.skinning&&0<Wt,maxBones:Wt,useVertexTexture:ne,morphTargets:ye.morphTargets,morphNormals:ye.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:ke.directional.length,numPointLights:ke.point.length,numSpotLights:ke.spot.length,numRectAreaLights:ke.rectArea.length,numHemiLights:ke.hemi.length,numDirLightShadows:ke.directionalShadowMap.length,numPointLightShadows:ke.pointShadowMap.length,numSpotLightShadows:ke.spotShadowMap.length,numClippingPlanes:ht,numClipIntersection:vt,dithering:ye.dithering,shadowMapEnabled:n.shadowMap.enabled&&0<Ge.length,shadowMapType:n.shadowMap.type,toneMapping:ye.toneMapped?n.toneMapping:Oe,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:ye.premultipliedAlpha,alphaTest:ye.alphaTest,doubleSided:ye.side===T,flipSided:ye.side===F,depthPacking:ye.depthPacking!==void 0&&ye.depthPacking,index0AttributeName:ye.index0AttributeName,extensionDerivatives:ye.extensions&&ye.extensions.derivatives,extensionFragDepth:ye.extensions&&ye.extensions.frawbuffers,extensionDrawbuffers:ye.extensions&&ye.extensions.drawbuffers,extensionShaderTextureLOD:ye.extensions&&ye.extensions.shaderTextureLOD,rendererExtensionFragDepth:B||o.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:B||o.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:B||o.get("EXT_shader_texture_lod")!==null,onBeforeCompile:ye.onBeforeCompile}},this.getProgramCacheKey=function(ye){var ke=[];if(ye.shaderID?ke.push(ye.shaderID):(ke.push(ye.fragmentShader),ke.push(ye.vertexShader)),ye.defines!==void 0)for(var Ge in ye.defines)ke.push(Ge),ke.push(ye.defines[Ge]);if(ye.isRawShaderMaterial===void 0){for(var We=0;We<_e.length;We++)ke.push(ye[_e[We]]);ke.push(n.outputEncoding),ke.push(n.gammaFactor)}return ke.push(ye.onBeforeCompile.toString()),ke.join()},this.acquireProgram=function(ye,ke){for(var Ge,We=0,ht=m.length;We<ht;We++){var vt=m[We];if(vt.cacheKey===ke){++(Ge=vt).usedTimes;break}}return Ge===void 0&&(Ge=new function(Dt,Lt,Xe){var Vt,At,Wt,rn,un,pn,wn,Tn,Kt=Dt.getContext(),on=Xe.defines,zn=Xe.vertexShader,$n=Xe.fragmentShader,xr=(At="SHADOWMAP_TYPE_BASIC",(Vt=Xe).shadowMapType===v?At="SHADOWMAP_TYPE_PCF":Vt.shadowMapType===C?At="SHADOWMAP_TYPE_PCF_SOFT":Vt.shadowMapType===f&&(At="SHADOWMAP_TYPE_VSM"),At),cr=function(Pr){var Rr="ENVMAP_TYPE_CUBE";if(Pr.envMap)switch(Pr.envMapMode){case ft:case Ft:Rr="ENVMAP_TYPE_CUBE";break;case ut:case Gt:Rr="ENVMAP_TYPE_CUBE_UV";break;case it:case zt:Rr="ENVMAP_TYPE_EQUIREC";break;case pt:Rr="ENVMAP_TYPE_SPHERE"}return Rr}(Xe),sr=function(Pr){var Rr="ENVMAP_MODE_REFLECTION";if(Pr.envMap)switch(Pr.envMapMode){case Ft:case zt:Rr="ENVMAP_MODE_REFRACTION"}return Rr}(Xe),mi=function(Pr){var Rr="ENVMAP_BLENDING_NONE";if(Pr.envMap)switch(Pr.combine){case mt:Rr="ENVMAP_BLENDING_MULTIPLY";break;case me:Rr="ENVMAP_BLENDING_MIX";break;case Ae:Rr="ENVMAP_BLENDING_ADD"}return Rr}(Xe),Lr=0<Dt.gammaFactor?Dt.gammaFactor:1,gr=Xe.isWebGL2?"":[(Wt=Xe).extensionDerivatives||Wt.envMapCubeUV||Wt.bumpMap||Wt.tangentSpaceNormalMap||Wt.clearcoatNormalMap||Wt.flatShading||Wt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(Wt.extensionFragDepth||Wt.logarithmicDepthBuffer)&&Wt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",Wt.extensionDrawBuffers&&Wt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(Wt.extensionShaderTextureLOD||Wt.envMap)&&Wt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(cc).join(`
`),Ur=function(Pr){var Rr=[];for(var Br in Pr){var pi=Pr[Br];pi!==!1&&Rr.push("#define "+Br+" "+pi)}return Rr.join(`
`)}(on),ni=Kt.createProgram(),Yr=Xe.numMultiviewViews;if(Xe.isRawShaderMaterial?(0<(rn=[Ur].filter(cc).join(`
`)).length&&(rn+=`
`),0<(un=[gr,Ur].filter(cc).join(`
`)).length&&(un+=`
`)):(rn=[sp(Xe),"#define SHADER_NAME "+Xe.shaderName,Ur,Xe.instancing?"#define USE_INSTANCING":"",Xe.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Lr,"#define MAX_BONES "+Xe.maxBones,Xe.useFog&&Xe.fog?"#define USE_FOG":"",Xe.useFog&&Xe.fogExp2?"#define FOG_EXP2":"",Xe.map?"#define USE_MAP":"",Xe.envMap?"#define USE_ENVMAP":"",Xe.envMap?"#define "+sr:"",Xe.lightMap?"#define USE_LIGHTMAP":"",Xe.aoMap?"#define USE_AOMAP":"",Xe.emissiveMap?"#define USE_EMISSIVEMAP":"",Xe.bumpMap?"#define USE_BUMPMAP":"",Xe.normalMap?"#define USE_NORMALMAP":"",Xe.normalMap&&Xe.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",Xe.normalMap&&Xe.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",Xe.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",Xe.displacementMap&&Xe.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",Xe.specularMap?"#define USE_SPECULARMAP":"",Xe.roughnessMap?"#define USE_ROUGHNESSMAP":"",Xe.metalnessMap?"#define USE_METALNESSMAP":"",Xe.alphaMap?"#define USE_ALPHAMAP":"",Xe.vertexTangents?"#define USE_TANGENT":"",Xe.vertexColors?"#define USE_COLOR":"",Xe.vertexUvs?"#define USE_UV":"",Xe.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",Xe.flatShading?"#define FLAT_SHADED":"",Xe.skinning?"#define USE_SKINNING":"",Xe.useVertexTexture?"#define BONE_TEXTURE":"",Xe.morphTargets?"#define USE_MORPHTARGETS":"",Xe.morphNormals&&Xe.flatShading===!1?"#define USE_MORPHNORMALS":"",Xe.doubleSided?"#define DOUBLE_SIDED":"",Xe.flipSided?"#define FLIP_SIDED":"",Xe.shadowMapEnabled?"#define USE_SHADOWMAP":"",Xe.shadowMapEnabled?"#define "+xr:"",Xe.sizeAttenuation?"#define USE_SIZEATTENUATION":"",Xe.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",Xe.logarithmicDepthBuffer&&Xe.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cc).join(`
`),un=[gr,sp(Xe),"#define SHADER_NAME "+Xe.shaderName,Ur,Xe.alphaTest?"#define ALPHATEST "+Xe.alphaTest+(Xe.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+Lr,Xe.useFog&&Xe.fog?"#define USE_FOG":"",Xe.useFog&&Xe.fogExp2?"#define FOG_EXP2":"",Xe.map?"#define USE_MAP":"",Xe.matcap?"#define USE_MATCAP":"",Xe.envMap?"#define USE_ENVMAP":"",Xe.envMap?"#define "+cr:"",Xe.envMap?"#define "+sr:"",Xe.envMap?"#define "+mi:"",Xe.lightMap?"#define USE_LIGHTMAP":"",Xe.aoMap?"#define USE_AOMAP":"",Xe.emissiveMap?"#define USE_EMISSIVEMAP":"",Xe.bumpMap?"#define USE_BUMPMAP":"",Xe.normalMap?"#define USE_NORMALMAP":"",Xe.normalMap&&Xe.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",Xe.normalMap&&Xe.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",Xe.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",Xe.specularMap?"#define USE_SPECULARMAP":"",Xe.roughnessMap?"#define USE_ROUGHNESSMAP":"",Xe.metalnessMap?"#define USE_METALNESSMAP":"",Xe.alphaMap?"#define USE_ALPHAMAP":"",Xe.sheen?"#define USE_SHEEN":"",Xe.vertexTangents?"#define USE_TANGENT":"",Xe.vertexColors?"#define USE_COLOR":"",Xe.vertexUvs?"#define USE_UV":"",Xe.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",Xe.gradientMap?"#define USE_GRADIENTMAP":"",Xe.flatShading?"#define FLAT_SHADED":"",Xe.doubleSided?"#define DOUBLE_SIDED":"",Xe.flipSided?"#define FLIP_SIDED":"",Xe.shadowMapEnabled?"#define USE_SHADOWMAP":"",Xe.shadowMapEnabled?"#define "+xr:"",Xe.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",Xe.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",Xe.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",Xe.logarithmicDepthBuffer&&Xe.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(Xe.extensionShaderTextureLOD||Xe.envMap)&&Xe.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",Xe.toneMapping!==Oe?"#define TONE_MAPPING":"",Xe.toneMapping!==Oe?Qr.tonemapping_pars_fragment:"",Xe.toneMapping!==Oe?function(Pr,Rr){var Br;switch(Rr){case Pe:Br="Linear";break;case $e:Br="Reinhard";break;case tt:Br="Uncharted2";break;case qe:Br="OptimizedCineon";break;case dt:Br="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+Rr)}return"vec3 toneMapping( vec3 color ) { return "+Br+"ToneMapping( color ); }"}(0,Xe.toneMapping):"",Xe.dithering?"#define DITHERING":"",Xe.outputEncoding||Xe.mapEncoding||Xe.matcapEncoding||Xe.envMapEncoding||Xe.emissiveMapEncoding||Xe.lightMapEncoding?Qr.encodings_pars_fragment:"",Xe.mapEncoding?co("mapTexelToLinear",Xe.mapEncoding):"",Xe.matcapEncoding?co("matcapTexelToLinear",Xe.matcapEncoding):"",Xe.envMapEncoding?co("envMapTexelToLinear",Xe.envMapEncoding):"",Xe.emissiveMapEncoding?co("emissiveMapTexelToLinear",Xe.emissiveMapEncoding):"",Xe.lightMapEncoding?co("lightMapTexelToLinear",Xe.lightMapEncoding):"",Xe.outputEncoding?(pn="linearToOutputTexel",wn=Xe.outputEncoding,Tn=op(wn),"vec4 "+pn+"( vec4 value ) { return LinearTo"+Tn[0]+Tn[1]+"; }"):"",Xe.depthPacking?"#define DEPTH_PACKING "+Xe.depthPacking:"",`
`].filter(cc).join(`
`)),zn=bs(zn=jh(zn=Hc(zn),Xe),Xe),$n=bs($n=jh($n=Hc($n),Xe),Xe),zn=na(zn),$n=na($n),Xe.isWebGL2&&!Xe.isRawShaderMaterial){var qi=!1,Xi=/^\s*#version\s+300\s+es\s*\n/;Xe.isShaderMaterial&&zn.match(Xi)!==null&&$n.match(Xi)!==null&&(qi=!0,zn=zn.replace(Xi,""),$n=$n.replace(Xi,"")),rn=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+rn,un=[`#version 300 es
`,"#define varying in",qi?"":"out highp vec4 pc_fragColor;",qi?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+un,0<Yr&&(rn=(rn=rn.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","layout(num_views = "+Yr+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+Yr+"];","uniform mat4 projectionMatrices["+Yr+"];","uniform mat4 viewMatrices["+Yr+"];","uniform mat3 normalMatrices["+Yr+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),un=(un=un.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+Yr+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`)))}var Gn,li,Di=un+$n,qt=ip(Kt,35633,rn+zn),vr=ip(Kt,35632,Di);if(Kt.attachShader(ni,qt),Kt.attachShader(ni,vr),Xe.index0AttributeName!==void 0?Kt.bindAttribLocation(ni,0,Xe.index0AttributeName):Xe.morphTargets===!0&&Kt.bindAttribLocation(ni,0,"position"),Kt.linkProgram(ni),Dt.debug.checkShaderErrors){var yr=Kt.getProgramInfoLog(ni).trim(),fi=Kt.getShaderInfoLog(qt).trim(),_r=Kt.getShaderInfoLog(vr).trim(),Li=!0,ri=!0;if(Kt.getProgramParameter(ni,35714)===!1){Li=!1;var Ui=zh(Kt,qt,"vertex"),Wa=zh(Kt,vr,"fragment");console.error("THREE.WebGLProgram: shader error: ",Kt.getError(),"35715",Kt.getProgramParameter(ni,35715),"gl.getProgramInfoLog",yr,Ui,Wa)}else yr!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",yr):fi!==""&&_r!==""||(ri=!1);ri&&(this.diagnostics={runnable:Li,programLog:yr,vertexShader:{log:fi,prefix:rn},fragmentShader:{log:_r,prefix:un}})}return Kt.deleteShader(qt),Kt.deleteShader(vr),this.getUniforms=function(){return Gn===void 0&&(Gn=new fl(Kt,ni)),Gn},this.getAttributes=function(){return li===void 0&&(li=function(Pr,Rr){for(var Br={},pi=Pr.getProgramParameter(Rr,35721),bi=0;bi<pi;bi++){var Vi=Pr.getActiveAttrib(Rr,bi).name;Br[Vi]=Pr.getAttribLocation(Rr,Vi)}return Br}(Kt,ni)),li},this.destroy=function(){Kt.deleteProgram(ni),this.program=void 0},this.name=Xe.shaderName,this.id=_d++,this.cacheKey=Lt,this.usedTimes=1,this.program=ni,this.vertexShader=qt,this.fragmentShader=vr,this.numMultiviewViews=Yr,this}(n,ke,ye),m.push(Ge)),Ge},this.releaseProgram=function(ye){if(--ye.usedTimes==0){var ke=m.indexOf(ye);m[ke]=m[m.length-1],m.pop(),ye.destroy()}},this.programs=m}function fm(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.program!==o.program?n.program.id-o.program.id:n.material.id!==o.material.id?n.material.id-o.material.id:n.z!==o.z?n.z-o.z:n.id-o.id}function Gh(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.z!==o.z?o.z-n.z:n.id-o.id}function lp(){var n=[],o=0,u=[],m=[],B={id:-1};function k(ne,se,ge,ve,we,_e){var Te=n[o];return Te===void 0?(Te={id:ne.id,object:ne,geometry:se,material:ge,program:ge.program||B,groupOrder:ve,renderOrder:ne.renderOrder,z:we,group:_e},n[o]=Te):(Te.id=ne.id,Te.object=ne,Te.geometry=se,Te.material=ge,Te.program=ge.program||B,Te.groupOrder=ve,Te.renderOrder=ne.renderOrder,Te.z=we,Te.group=_e),o++,Te}return{opaque:u,transparent:m,init:function(){o=0,u.length=0,m.length=0},push:function(ne,se,ge,ve,we,_e){var Te=k(ne,se,ge,ve,we,_e);(ge.transparent===!0?m:u).push(Te)},unshift:function(ne,se,ge,ve,we,_e){var Te=k(ne,se,ge,ve,we,_e);(ge.transparent===!0?m:u).unshift(Te)},sort:function(ne,se){1<u.length&&u.sort(ne||fm),1<m.length&&m.sort(se||Gh)}}}var _u=0;function cp(n,o){return(o.castShadow?1:0)-(n.castShadow?1:0)}function pm(){for(var n=new function(){var ne={};return{get:function(se){if(ne[se.id]!==void 0)return ne[se.id];var ge;switch(se.type){case"DirectionalLight":ge={direction:new gt,color:new Un,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new An};break;case"SpotLight":ge={position:new gt,direction:new gt,color:new Un,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new An};break;case"PointLight":ge={position:new gt,color:new Un,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new An,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":ge={direction:new gt,skyColor:new Un,groundColor:new Un};break;case"RectAreaLight":ge={color:new Un,position:new gt,halfWidth:new gt,halfHeight:new gt}}return ne[se.id]=ge}}},o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},u=0;u<9;u++)o.probe.push(new gt);var m=new gt,B=new ur,k=new ur;return{setup:function(ne,se,ge){for(var ve=0,we=0,_e=0,Te=0;Te<9;Te++)o.probe[Te].set(0,0,0);var ye=0,ke=0,Ge=0,We=0,ht=0,vt=0,Dt=0,Lt=0,Xe=ge.matrixWorldInverse;ne.sort(cp),Te=0;for(var Vt=ne.length;Te<Vt;Te++){var At=ne[Te],Wt=At.color,rn=At.intensity,un=At.distance,pn=At.shadow&&At.shadow.map?At.shadow.map.texture:null;if(At.isAmbientLight)ve+=Wt.r*rn,we+=Wt.g*rn,_e+=Wt.b*rn;else if(At.isLightProbe)for(var wn=0;wn<9;wn++)o.probe[wn].addScaledVector(At.sh.coefficients[wn],rn);else if(At.isDirectionalLight){if((Kt=n.get(At)).color.copy(At.color).multiplyScalar(At.intensity),Kt.direction.setFromMatrixPosition(At.matrixWorld),m.setFromMatrixPosition(At.target.matrixWorld),Kt.direction.sub(m),Kt.direction.transformDirection(Xe),Kt.shadow=At.castShadow,At.castShadow){var Tn=At.shadow;Kt.shadowBias=Tn.bias,Kt.shadowRadius=Tn.radius,Kt.shadowMapSize=Tn.mapSize,o.directionalShadowMap[ye]=pn,o.directionalShadowMatrix[ye]=At.shadow.matrix,vt++}o.directional[ye]=Kt,ye++}else if(At.isSpotLight)(Kt=n.get(At)).position.setFromMatrixPosition(At.matrixWorld),Kt.position.applyMatrix4(Xe),Kt.color.copy(Wt).multiplyScalar(rn),Kt.distance=un,Kt.direction.setFromMatrixPosition(At.matrixWorld),m.setFromMatrixPosition(At.target.matrixWorld),Kt.direction.sub(m),Kt.direction.transformDirection(Xe),Kt.coneCos=Math.cos(At.angle),Kt.penumbraCos=Math.cos(At.angle*(1-At.penumbra)),Kt.decay=At.decay,Kt.shadow=At.castShadow,At.castShadow&&(Tn=At.shadow,Kt.shadowBias=Tn.bias,Kt.shadowRadius=Tn.radius,Kt.shadowMapSize=Tn.mapSize,o.spotShadowMap[Ge]=pn,o.spotShadowMatrix[Ge]=At.shadow.matrix,Lt++),o.spot[Ge]=Kt,Ge++;else if(At.isRectAreaLight)(Kt=n.get(At)).color.copy(Wt).multiplyScalar(rn),Kt.position.setFromMatrixPosition(At.matrixWorld),Kt.position.applyMatrix4(Xe),k.identity(),B.copy(At.matrixWorld),B.premultiply(Xe),k.extractRotation(B),Kt.halfWidth.set(.5*At.width,0,0),Kt.halfHeight.set(0,.5*At.height,0),Kt.halfWidth.applyMatrix4(k),Kt.halfHeight.applyMatrix4(k),o.rectArea[We]=Kt,We++;else if(At.isPointLight)(Kt=n.get(At)).position.setFromMatrixPosition(At.matrixWorld),Kt.position.applyMatrix4(Xe),Kt.color.copy(At.color).multiplyScalar(At.intensity),Kt.distance=At.distance,Kt.decay=At.decay,Kt.shadow=At.castShadow,At.castShadow&&(Tn=At.shadow,Kt.shadowBias=Tn.bias,Kt.shadowRadius=Tn.radius,Kt.shadowMapSize=Tn.mapSize,Kt.shadowCameraNear=Tn.camera.near,Kt.shadowCameraFar=Tn.camera.far,o.pointShadowMap[ke]=pn,o.pointShadowMatrix[ke]=At.shadow.matrix,Dt++),o.point[ke]=Kt,ke++;else if(At.isHemisphereLight){var Kt;(Kt=n.get(At)).direction.setFromMatrixPosition(At.matrixWorld),Kt.direction.transformDirection(Xe),Kt.direction.normalize(),Kt.skyColor.copy(At.color).multiplyScalar(rn),Kt.groundColor.copy(At.groundColor).multiplyScalar(rn),o.hemi[ht]=Kt,ht++}}o.ambient[0]=ve,o.ambient[1]=we,o.ambient[2]=_e;var on=o.hash;on.directionalLength===ye&&on.pointLength===ke&&on.spotLength===Ge&&on.rectAreaLength===We&&on.hemiLength===ht&&on.numDirectionalShadows===vt&&on.numPointShadows===Dt&&on.numSpotShadows===Lt||(o.directional.length=ye,o.spot.length=Ge,o.rectArea.length=We,o.point.length=ke,o.hemi.length=ht,o.directionalShadowMap.length=vt,o.pointShadowMap.length=Dt,o.spotShadowMap.length=Lt,o.directionalShadowMatrix.length=vt,o.pointShadowMatrix.length=Dt,o.spotShadowMatrix.length=Lt,on.directionalLength=ye,on.pointLength=ke,on.spotLength=Ge,on.rectAreaLength=We,on.hemiLength=ht,on.numDirectionalShadows=vt,on.numPointShadows=Dt,on.numSpotShadows=Lt,o.version=_u++)},state:o}}function up(){var n=new pm,o=[],u=[];return{init:function(){o.length=0,u.length=0},state:{lightsArray:o,shadowsArray:u,lights:n},setupLights:function(m){n.setup(o,u,m)},pushLight:function(m){o.push(m)},pushShadow:function(m){u.push(m)}}}function $s(n){Or.call(this),this.type="MeshDepthMaterial",this.depthPacking=Vs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(n)}function Uc(n){Or.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new gt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(n)}(($s.prototype=Object.create(Or.prototype)).constructor=$s).prototype.isMeshDepthMaterial=!0,$s.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this},((Uc.prototype=Object.create(Or.prototype)).constructor=Uc).prototype.isMeshDistanceMaterial=!0,Uc.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this};var mm=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,$h=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function Wh(n,o,u){var m=new Vc,B=new An,k=new An,ne=new Ci,se=[],ge=[],ve={},we={0:F,1:w,2:T},_e=new ua({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new An},radius:{value:4}},vertexShader:$h,fragmentShader:mm}),Te=_e.clone();Te.defines.HORIZONAL_PASS=1;var ye=new xn;ye.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var ke=new Oi(ye,_e),Ge=this;function We(Xe,Vt){var At=o.update(ke);_e.uniforms.shadow_pass.value=Xe.map.texture,_e.uniforms.resolution.value=Xe.mapSize,_e.uniforms.radius.value=Xe.radius,n.setRenderTarget(Xe.mapPass),n.clear(),n.renderBufferDirect(Vt,null,At,_e,ke,null),Te.uniforms.shadow_pass.value=Xe.mapPass.texture,Te.uniforms.resolution.value=Xe.mapSize,Te.uniforms.radius.value=Xe.radius,n.setRenderTarget(Xe.map),n.clear(),n.renderBufferDirect(Vt,null,At,Te,ke,null)}function ht(Xe,Vt,At){var Wt=Xe<<0|Vt<<1|At<<2,rn=se[Wt];return rn===void 0&&(rn=new $s({depthPacking:Pc,morphTargets:Xe,skinning:Vt}),se[Wt]=rn),rn}function vt(Xe,Vt,At){var Wt=Xe<<0|Vt<<1|At<<2,rn=ge[Wt];return rn===void 0&&(rn=new Uc({morphTargets:Xe,skinning:Vt}),ge[Wt]=rn),rn}function Dt(Xe,Vt,At,Wt,rn,un){var pn=Xe.geometry,wn=null,Tn=ht,Kt=Xe.customDepthMaterial;if(At.isPointLight===!0&&(Tn=vt,Kt=Xe.customDistanceMaterial),Kt===void 0){var on=!1;Vt.morphTargets===!0&&(pn.isBufferGeometry===!0?on=pn.morphAttributes&&pn.morphAttributes.position&&0<pn.morphAttributes.position.length:pn.isGeometry===!0&&(on=pn.morphTargets&&0<pn.morphTargets.length));var zn=!1;Xe.isSkinnedMesh===!0&&(Vt.skinning===!0?zn=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Xe)),wn=Tn(on,zn,Xe.isInstancedMesh===!0)}else wn=Kt;if(n.localClippingEnabled&&Vt.clipShadows===!0&&Vt.clippingPlanes.length!==0){var $n=wn.uuid,xr=Vt.uuid,cr=ve[$n];cr===void 0&&(cr={},ve[$n]=cr);var sr=cr[xr];sr===void 0&&(sr=wn.clone(),cr[xr]=sr),wn=sr}return wn.visible=Vt.visible,wn.wireframe=Vt.wireframe,wn.side=un===f?Vt.shadowSide!==null?Vt.shadowSide:Vt.side:Vt.shadowSide!==null?Vt.shadowSide:we[Vt.side],wn.clipShadows=Vt.clipShadows,wn.clippingPlanes=Vt.clippingPlanes,wn.clipIntersection=Vt.clipIntersection,wn.wireframeLinewidth=Vt.wireframeLinewidth,wn.linewidth=Vt.linewidth,At.isPointLight===!0&&wn.isMeshDistanceMaterial===!0&&(wn.referencePosition.setFromMatrixPosition(At.matrixWorld),wn.nearDistance=Wt,wn.farDistance=rn),wn}function Lt(Xe,Vt,At,Wt,rn){if(Xe.visible!==!1){if(Xe.layers.test(Vt.layers)&&(Xe.isMesh||Xe.isLine||Xe.isPoints)&&(Xe.castShadow||Xe.receiveShadow&&rn===f)&&(!Xe.frustumCulled||m.intersectsObject(Xe))){Xe.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,Xe.matrixWorld);var un=o.update(Xe),pn=Xe.material;if(Array.isArray(pn))for(var wn=un.groups,Tn=0,Kt=wn.length;Tn<Kt;Tn++){var on=wn[Tn],zn=pn[on.materialIndex];if(zn&&zn.visible){var $n=Dt(Xe,zn,Wt,At.near,At.far,rn);n.renderBufferDirect(At,null,un,$n,Xe,on)}}else pn.visible&&($n=Dt(Xe,pn,Wt,At.near,At.far,rn),n.renderBufferDirect(At,null,un,$n,Xe,null))}for(var xr=Xe.children,cr=0,sr=xr.length;cr<sr;cr++)Lt(xr[cr],Vt,At,Wt,rn)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v,this.render=function(Xe,Vt,At){if(Ge.enabled!==!1&&(Ge.autoUpdate!==!1||Ge.needsUpdate!==!1)&&Xe.length!==0){var Wt=n.getRenderTarget(),rn=n.getActiveCubeFace(),un=n.getActiveMipmapLevel(),pn=n.state;pn.setBlending(re),pn.buffers.color.setClear(1,1,1,1),pn.buffers.depth.setTest(!0),pn.setScissorTest(!1);for(var wn=0,Tn=Xe.length;wn<Tn;wn++){var Kt=Xe[wn],on=Kt.shadow;if(on!==void 0){B.copy(on.mapSize);var zn=on.getFrameExtents();if(B.multiply(zn),k.copy(on.mapSize),(B.x>u||B.y>u)&&(console.warn("THREE.WebGLShadowMap:",Kt,"has shadow exceeding max texture size, reducing"),B.x>u&&(k.x=Math.floor(u/zn.x),B.x=k.x*zn.x,on.mapSize.x=k.x),B.y>u&&(k.y=Math.floor(u/zn.y),B.y=k.y*zn.y,on.mapSize.y=k.y)),on.map===null&&!on.isPointLightShadow&&this.type===f){var $n={minFilter:gn,magFilter:gn,format:Ce};on.map=new Do(B.x,B.y,$n),on.map.texture.name=Kt.name+".shadowMap",on.mapPass=new Do(B.x,B.y,$n),on.camera.updateProjectionMatrix()}on.map===null&&($n={minFilter:rt,magFilter:rt,format:Ce},on.map=new Do(B.x,B.y,$n),on.map.texture.name=Kt.name+".shadowMap",on.camera.updateProjectionMatrix()),n.setRenderTarget(on.map),n.clear();for(var xr=on.getViewportCount(),cr=0;cr<xr;cr++){var sr=on.getViewport(cr);ne.set(k.x*sr.x,k.y*sr.y,k.x*sr.z,k.y*sr.w),pn.viewport(ne),on.updateMatrices(Kt,cr),m=on.getFrustum(),Lt(Vt,At,on.camera,Kt,this.type)}on.isPointLightShadow||this.type!==f||We(on,At)}else console.warn("THREE.WebGLShadowMap:",Kt,"has no shadow.")}Ge.needsUpdate=!1,n.setRenderTarget(Wt,rn,un)}}}function gm(n,o,u){var m=u.isWebGL2,B=new function(){var qt=!1,vr=new Ci,yr=null,fi=new Ci(0,0,0,0);return{setMask:function(_r){yr===_r||qt||(n.colorMask(_r,_r,_r,_r),yr=_r)},setLocked:function(_r){qt=_r},setClear:function(_r,Li,ri,Ui,Wa){Wa===!0&&(_r*=Ui,Li*=Ui,ri*=Ui),vr.set(_r,Li,ri,Ui),fi.equals(vr)===!1&&(n.clearColor(_r,Li,ri,Ui),fi.copy(vr))},reset:function(){qt=!1,yr=null,fi.set(-1,0,0,0)}}},k=new function(){var qt=!1,vr=null,yr=null,fi=null;return{setTest:function(_r){(_r?Lr:gr)(2929)},setMask:function(_r){vr===_r||qt||(n.depthMask(_r),vr=_r)},setFunc:function(_r){if(yr!==_r){if(_r)switch(_r){case St:n.depthFunc(512);break;case ct:n.depthFunc(519);break;case Ct:n.depthFunc(513);break;case Pt:n.depthFunc(515);break;case bt:n.depthFunc(514);break;case an:n.depthFunc(518);break;case Yt:n.depthFunc(516);break;case Ne:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);yr=_r}},setLocked:function(_r){qt=_r},setClear:function(_r){fi!==_r&&(n.clearDepth(_r),fi=_r)},reset:function(){qt=!1,fi=yr=vr=null}}},ne=new function(){var qt=!1,vr=null,yr=null,fi=null,_r=null,Li=null,ri=null,Ui=null,Wa=null;return{setTest:function(Pr){qt||(Pr?Lr:gr)(2960)},setMask:function(Pr){vr===Pr||qt||(n.stencilMask(Pr),vr=Pr)},setFunc:function(Pr,Rr,Br){yr===Pr&&fi===Rr&&_r===Br||(n.stencilFunc(Pr,Rr,Br),yr=Pr,fi=Rr,_r=Br)},setOp:function(Pr,Rr,Br){Li===Pr&&ri===Rr&&Ui===Br||(n.stencilOp(Pr,Rr,Br),Li=Pr,ri=Rr,Ui=Br)},setLocked:function(Pr){qt=Pr},setClear:function(Pr){Wa!==Pr&&(n.clearStencil(Pr),Wa=Pr)},reset:function(){qt=!1,Wa=Ui=ri=Li=_r=fi=yr=vr=null}}},se=n.getParameter(34921),ge=new Uint8Array(se),ve=new Uint8Array(se),we=new Uint8Array(se),_e={},Te=null,ye=null,ke=null,Ge=null,We=null,ht=null,vt=null,Dt=null,Lt=null,Xe=!1,Vt=null,At=null,Wt=null,rn=null,un=null,pn=n.getParameter(35661),wn=!1,Tn=0,Kt=n.getParameter(7938);Kt.indexOf("WebGL")!==-1?(Tn=parseFloat(/^WebGL\ ([0-9])/.exec(Kt)[1]),wn=1<=Tn):Kt.indexOf("OpenGL ES")!==-1&&(Tn=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Kt)[1]),wn=2<=Tn);var on=null,zn={},$n=new Ci,xr=new Ci;function cr(qt,vr,yr){var fi=new Uint8Array(4),_r=n.createTexture();n.bindTexture(qt,_r),n.texParameteri(qt,10241,9728),n.texParameteri(qt,10240,9728);for(var Li=0;Li<yr;Li++)n.texImage2D(vr+Li,0,6408,1,1,0,6408,5121,fi);return _r}var sr={};function mi(qt,vr){ge[qt]=1,ve[qt]===0&&(n.enableVertexAttribArray(qt),ve[qt]=1),we[qt]!==vr&&((m?n:o.get("ANGLE_instanced_arrays"))[m?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](qt,vr),we[qt]=vr)}function Lr(qt){_e[qt]!==!0&&(n.enable(qt),_e[qt]=!0)}function gr(qt){_e[qt]!==!1&&(n.disable(qt),_e[qt]=!1)}sr[3553]=cr(3553,3553,1),sr[34067]=cr(34067,34069,6),B.setClear(0,0,0,1),k.setClear(1),ne.setClear(0),Lr(2929),k.setFunc(Pt),Xi(!1),Gn(d),Lr(2884),qi(re);var Ur={};if(Ur[oe]=32774,Ur[le]=32778,Ur[ie]=32779,m)Ur[I]=32775,Ur[j]=32776;else{var ni=o.get("EXT_blend_minmax");ni!==null&&(Ur[I]=ni.MIN_EXT,Ur[j]=ni.MAX_EXT)}var Yr={};function qi(qt,vr,yr,fi,_r,Li,ri,Ui){if(qt!==re){if(ye||(Lr(3042),ye=!0),qt===A)_r=_r||vr,Li=Li||yr,ri=ri||fi,vr===Ge&&_r===vt||(n.blendEquationSeparate(Ur[vr],Ur[_r]),Ge=vr,vt=_r),yr===We&&fi===ht&&Li===Dt&&ri===Lt||(n.blendFuncSeparate(Yr[yr],Yr[fi],Yr[Li],Yr[ri]),We=yr,ht=fi,Dt=Li,Lt=ri),ke=qt,Xe=null;else if(qt!==ke||Ui!==Xe){if(Ge===oe&&vt===oe||(n.blendEquation(32774),vt=Ge=oe),Ui)switch(qt){case ae:n.blendFuncSeparate(1,771,1,771);break;case ce:n.blendFunc(1,1);break;case ue:n.blendFuncSeparate(0,0,769,771);break;case de:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt)}else switch(qt){case ae:n.blendFuncSeparate(770,771,1,771);break;case ce:n.blendFunc(770,1);break;case ue:n.blendFunc(0,769);break;case de:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt)}Lt=Dt=ht=We=null,ke=qt,Xe=Ui}}else ye&&(gr(3042),ye=!1)}function Xi(qt){Vt!==qt&&(qt?n.frontFace(2304):n.frontFace(2305),Vt=qt)}function Gn(qt){qt!==c?(Lr(2884),qt!==At&&(qt===d?n.cullFace(1029):qt===D?n.cullFace(1028):n.cullFace(1032))):gr(2884),At=qt}function li(qt,vr,yr){qt?(Lr(32823),rn===vr&&un===yr||(n.polygonOffset(vr,yr),rn=vr,un=yr)):gr(32823)}function Di(qt){qt===void 0&&(qt=33984+pn-1),on!==qt&&(n.activeTexture(qt),on=qt)}return Yr[pe]=0,Yr[be]=1,Yr[De]=768,Yr[Ee]=770,Yr[Ke]=776,Yr[st]=774,Yr[Le]=772,Yr[Re]=769,Yr[Se]=771,Yr[Ye]=775,Yr[Ie]=773,{buffers:{color:B,depth:k,stencil:ne},initAttributes:function(){for(var qt=0,vr=ge.length;qt<vr;qt++)ge[qt]=0},enableAttribute:function(qt){mi(qt,0)},enableAttributeAndDivisor:mi,disableUnusedAttributes:function(){for(var qt=0,vr=ve.length;qt!==vr;++qt)ve[qt]!==ge[qt]&&(n.disableVertexAttribArray(qt),ve[qt]=0)},enable:Lr,disable:gr,useProgram:function(qt){return Te!==qt&&(n.useProgram(qt),Te=qt,!0)},setBlending:qi,setMaterial:function(qt,vr){(qt.side===T?gr:Lr)(2884);var yr=qt.side===F;vr&&(yr=!yr),Xi(yr),qt.blending===ae&&qt.transparent===!1?qi(re):qi(qt.blending,qt.blendEquation,qt.blendSrc,qt.blendDst,qt.blendEquationAlpha,qt.blendSrcAlpha,qt.blendDstAlpha,qt.premultipliedAlpha),k.setFunc(qt.depthFunc),k.setTest(qt.depthTest),k.setMask(qt.depthWrite),B.setMask(qt.colorWrite);var fi=qt.stencilWrite;ne.setTest(fi),fi&&(ne.setMask(qt.stencilWriteMask),ne.setFunc(qt.stencilFunc,qt.stencilRef,qt.stencilFuncMask),ne.setOp(qt.stencilFail,qt.stencilZFail,qt.stencilZPass)),li(qt.polygonOffset,qt.polygonOffsetFactor,qt.polygonOffsetUnits)},setFlipSided:Xi,setCullFace:Gn,setLineWidth:function(qt){qt!==Wt&&(wn&&n.lineWidth(qt),Wt=qt)},setPolygonOffset:li,setScissorTest:function(qt){(qt?Lr:gr)(3089)},activeTexture:Di,bindTexture:function(qt,vr){on===null&&Di();var yr=zn[on];yr===void 0&&(yr={type:void 0,texture:void 0},zn[on]=yr),yr.type===qt&&yr.texture===vr||(n.bindTexture(qt,vr||sr[qt]),yr.type=qt,yr.texture=vr)},unbindTexture:function(){var qt=zn[on];qt!==void 0&&qt.type!==void 0&&(n.bindTexture(qt.type,null),qt.type=void 0,qt.texture=void 0)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}},scissor:function(qt){$n.equals(qt)===!1&&(n.scissor(qt.x,qt.y,qt.z,qt.w),$n.copy(qt))},viewport:function(qt){xr.equals(qt)===!1&&(n.viewport(qt.x,qt.y,qt.z,qt.w),xr.copy(qt))},reset:function(){for(var qt=0;qt<ve.length;qt++)ve[qt]===1&&(n.disableVertexAttribArray(qt),ve[qt]=0);_e={},zn={},At=Vt=ke=Te=on=null,B.reset(),k.reset(),ne.reset()}}}function dp(n,o,u){var m=u.isWebGL2;return{convert:function(B){var k;if(B===jn)return 5121;if(B===Mr)return 32819;if(B===Wr)return 32820;if(B===jr)return 33635;if(B===Hn)return 5120;if(B===ir)return 5122;if(B===vi)return 5123;if(B===di)return 5124;if(B===jt)return 5125;if(B===En)return 5126;if(B===Xn)return m?5131:(k=o.get("OES_texture_half_float"))!==null?k.HALF_FLOAT_OES:null;if(B===Kr)return 6406;if(B===Co)return 6407;if(B===Ce)return 6408;if(B===ai)return 6409;if(B===zo)return 6410;if(B===zi)return 6402;if(B===Yo)return 34041;if(B===oa)return 6403;if(B===Rs)return 36244;if(B===ps)return 33319;if(B===ms)return 33320;if(B===Xa)return 36248;if(B===Fo)return 36249;if(B===gs||B===ho||B===Ya||B===jo){if((k=o.get("WEBGL_compressed_texture_s3tc"))===null)return null;if(B===gs)return k.COMPRESSED_RGB_S3TC_DXT1_EXT;if(B===ho)return k.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(B===Ya)return k.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(B===jo)return k.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(B===xa||B===Za||B===fo||B===aa){if((k=o.get("WEBGL_compressed_texture_pvrtc"))===null)return null;if(B===xa)return k.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(B===Za)return k.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(B===fo)return k.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(B===aa)return k.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return B===sa?(k=o.get("WEBGL_compressed_texture_etc1"))!==null?k.COMPRESSED_RGB_ETC1_WEBGL:null:B===Eo||B===Ls||B===So||B===Da||B===tl||B===Is||B===ks||B===po||B===ba||B===Ho||B===Be||B===lt||B===Ve||B===at?(k=o.get("WEBGL_compressed_texture_astc"))!==null?B:null:B===yi?m?34042:(k=o.get("WEBGL_depth_texture"))!==null?k.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Jh(n,o,u,m){Do.call(this,n,o,m),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=u}function Bu(n){Gi.call(this),this.cameras=n||[]}function Rl(){Fn.call(this),this.type="Group"}function hp(n,o){var u=this,m=null,B=null,k="local-floor",ne=null,se=[],ge=new Map,ve=new Gi;ve.layers.enable(1),ve.viewport=new Ci;var we=new Gi;we.layers.enable(2),we.viewport=new Ci;var _e=new Bu([ve,we]);_e.layers.enable(1),_e.layers.enable(2);var Te=null,ye=null;function ke(At){var Wt=ge.get(At.inputSource);Wt&&(Wt.targetRay&&Wt.targetRay.dispatchEvent({type:At.type}),Wt.grip&&Wt.grip.dispatchEvent({type:At.type}))}function Ge(){ge.forEach(function(At,Wt){At.targetRay&&(At.targetRay.dispatchEvent({type:"disconnected",data:Wt}),At.targetRay.visible=!1),At.grip&&(At.grip.dispatchEvent({type:"disconnected",data:Wt}),At.grip.visible=!1)}),ge.clear(),n.setFramebuffer(null),n.setRenderTarget(n.getRenderTarget()),Vt.stop(),u.isPresenting=!1,u.dispatchEvent({type:"sessionend"})}function We(At){B=At,Vt.setContext(m),Vt.start(),u.isPresenting=!0,u.dispatchEvent({type:"sessionstart"})}function ht(At){for(var Wt=m.inputSources,rn=0;rn<se.length;rn++)ge.set(Wt[rn],se[rn]);for(rn=0;rn<At.removed.length;rn++){var un=At.removed[rn];(pn=ge.get(un))&&(pn.targetRay&&pn.targetRay.dispatchEvent({type:"disconnected",data:un}),pn.grip&&pn.grip.dispatchEvent({type:"disconnected",data:un}),ge.delete(un))}for(rn=0;rn<At.added.length;rn++){var pn;un=At.added[rn],(pn=ge.get(un))&&(pn.targetRay&&pn.targetRay.dispatchEvent({type:"connected",data:un}),pn.grip&&pn.grip.dispatchEvent({type:"connected",data:un}))}}this.enabled=!1,this.isPresenting=!1,this.getController=function(At){var Wt=se[At];return Wt===void 0&&(Wt={},se[At]=Wt),Wt.targetRay===void 0&&(Wt.targetRay=new Rl,Wt.targetRay.matrixAutoUpdate=!1,Wt.targetRay.visible=!1),Wt.targetRay},this.getControllerGrip=function(At){var Wt=se[At];return Wt===void 0&&(Wt={},se[At]=Wt),Wt.grip===void 0&&(Wt.grip=new Rl,Wt.grip.matrixAutoUpdate=!1,Wt.grip.visible=!1),Wt.grip},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(At){k=At},this.getReferenceSpace=function(){return B},this.getSession=function(){return m},this.setSession=function(At){if((m=At)!==null){m.addEventListener("select",ke),m.addEventListener("selectstart",ke),m.addEventListener("selectend",ke),m.addEventListener("squeeze",ke),m.addEventListener("squeezestart",ke),m.addEventListener("squeezeend",ke),m.addEventListener("end",Ge);var Wt=o.getContextAttributes(),rn={antialias:Wt.antialias,alpha:Wt.alpha,depth:Wt.depth,stencil:Wt.stencil},un=new XRWebGLLayer(m,o,rn);m.updateRenderState({baseLayer:un}),m.requestReferenceSpace(k).then(We),m.addEventListener("inputsourceschange",ht)}};var vt=new gt,Dt=new gt;function Lt(At,Wt){Wt===null?At.matrixWorld.copy(At.matrix):At.matrixWorld.multiplyMatrices(Wt.matrixWorld,At.matrix),At.matrixWorldInverse.getInverse(At.matrixWorld)}this.getCamera=function(At){_e.near=we.near=ve.near=At.near,_e.far=we.far=ve.far=At.far,Te===_e.near&&ye===_e.far||(m.updateRenderState({depthNear:_e.near,depthFar:_e.far}),Te=_e.near,ye=_e.far);var Wt=At.parent,rn=_e.cameras;Lt(_e,Wt);for(var un=0;un<rn.length;un++)Lt(rn[un],Wt);At.matrixWorld.copy(_e.matrixWorld);for(var pn=At.children,wn=(un=0,pn.length);un<wn;un++)pn[un].updateMatrixWorld(!0);return function(Tn,Kt,on){vt.setFromMatrixPosition(Kt.matrixWorld),Dt.setFromMatrixPosition(on.matrixWorld);var zn=vt.distanceTo(Dt),$n=Kt.projectionMatrix.elements,xr=on.projectionMatrix.elements,cr=$n[14]/($n[10]-1),sr=$n[14]/($n[10]+1),mi=($n[9]+1)/$n[5],Lr=($n[9]-1)/$n[5],gr=($n[8]-1)/$n[0],Ur=(xr[8]+1)/xr[0],ni=cr*gr,Yr=cr*Ur,qi=zn/(Ur-gr),Xi=qi*-gr;Kt.matrixWorld.decompose(Tn.position,Tn.quaternion,Tn.scale),Tn.translateX(Xi),Tn.translateZ(qi),Tn.matrixWorld.compose(Tn.position,Tn.quaternion,Tn.scale),Tn.matrixWorldInverse.getInverse(Tn.matrixWorld);var Gn=cr+qi,li=sr+qi,Di=ni-Xi,qt=zn-Xi+Yr,vr=mi*sr/li*Gn,yr=Lr*sr/li*Gn;Tn.projectionMatrix.makePerspective(Di,qt,vr,yr,Gn,li)}(_e,ve,we),_e};var Xe=null,Vt=new Wf;Vt.setAnimationLoop(function(At,Wt){if((ne=Wt.getViewerPose(B))!==null){var rn=ne.views,un=m.renderState.baseLayer;n.setFramebuffer(un.framebuffer);for(var pn=0;pn<rn.length;pn++){var wn=rn[pn],Tn=un.getViewport(wn),Kt=_e.cameras[pn];Kt.matrix.fromArray(wn.transform.matrix),Kt.projectionMatrix.fromArray(wn.projectionMatrix),Kt.viewport.set(Tn.x,Tn.y,Tn.width,Tn.height),pn===0&&_e.matrix.copy(Kt.matrix)}}var on=m.inputSources;for(pn=0;pn<se.length;pn++){var zn=se[pn],$n=on[pn],xr=null,cr=null;$n&&(zn.targetRay&&(xr=Wt.getPose($n.targetRaySpace,B))!==null&&(zn.targetRay.matrix.fromArray(xr.transform.matrix),zn.targetRay.matrix.decompose(zn.targetRay.position,zn.targetRay.rotation,zn.targetRay.scale)),zn.grip&&$n.gripSpace&&(cr=Wt.getPose($n.gripSpace,B))!==null&&(zn.grip.matrix.fromArray(cr.transform.matrix),zn.grip.matrix.decompose(zn.grip.position,zn.grip.rotation,zn.grip.scale))),zn.targetRay&&(zn.targetRay.visible=xr!==null),zn.grip&&(zn.grip.visible=cr!==null)}Xe&&Xe(At,Wt)}),this.setAnimationLoop=function(At){Xe=At},this.dispose=function(){}}function Mu(n){var o=(n=n||{}).canvas!==void 0?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),u=n.context!==void 0?n.context:null,m=n.alpha!==void 0&&n.alpha,B=n.depth===void 0||n.depth,k=n.stencil===void 0||n.stencil,ne=n.antialias!==void 0&&n.antialias,se=n.premultipliedAlpha===void 0||n.premultipliedAlpha,ge=n.preserveDrawingBuffer!==void 0&&n.preserveDrawingBuffer,ve=n.powerPreference!==void 0?n.powerPreference:"default",we=n.failIfMajorPerformanceCaveat!==void 0&&n.failIfMajorPerformanceCaveat,_e=null,Te=null;this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=er,this.physicallyCorrectLights=!1,this.toneMapping=Pe,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ye,ke,Ge,We,ht,vt,Dt,Lt,Xe,Vt,At,Wt,rn,un,pn,wn,Tn,Kt,on=this,zn=!1,$n=null,xr=0,cr=0,sr=null,mi=null,Lr=-1,gr={geometry:null,program:null,wireframe:!1},Ur=null,ni=null,Yr=new Ci,qi=new Ci,Xi=null,Gn=o.width,li=o.height,Di=1,qt=null,vr=null,yr=new Ci(0,0,Gn,li),fi=new Ci(0,0,Gn,li),_r=!1,Li=new Vc,ri=new function(){var Je=this,_t=null,yt=0,It=!1,Jt=!1,Pn=new Na,In=new xo,Rn={value:null,needsUpdate:!1};function On(){Rn.value!==_t&&(Rn.value=_t,Rn.needsUpdate=0<yt),Je.numPlanes=yt,Je.numIntersection=0}function yn(Mn,Qn,rr,Vn){var Ln=Mn!==null?Mn.length:0,ar=null;if(Ln!==0){if(ar=Rn.value,Vn!==!0||ar===null){var pr=rr+4*Ln,Dr=Qn.matrixWorldInverse;In.getNormalMatrix(Dr),(ar===null||ar.length<pr)&&(ar=new Float32Array(pr));for(var oi=0,$r=rr;oi!==Ln;++oi,$r+=4)Pn.copy(Mn[oi]).applyMatrix4(Dr,In),Pn.normal.toArray(ar,$r),ar[$r+3]=Pn.constant}Rn.value=ar,Rn.needsUpdate=!0}return Je.numPlanes=Ln,ar}this.uniform=Rn,this.numPlanes=0,this.numIntersection=0,this.init=function(Mn,Qn,rr){var Vn=Mn.length!==0||Qn||yt!==0||It;return It=Qn,_t=yn(Mn,rr,0),yt=Mn.length,Vn},this.beginShadows=function(){Jt=!0,yn(null)},this.endShadows=function(){Jt=!1,On()},this.setState=function(Mn,Qn,rr,Vn,Ln,ar){if(!It||Mn===null||Mn.length===0||Jt&&!rr)Jt?yn(null):On();else{var pr=Jt?0:yt,Dr=4*pr,oi=Ln.clippingState||null;Rn.value=oi,oi=yn(Mn,Vn,Dr,ar);for(var $r=0;$r!==Dr;++$r)oi[$r]=_t[$r];Ln.clippingState=oi,this.numIntersection=Qn?this.numPlanes:0,this.numPlanes+=pr}}},Ui=!1,Wa=!1,Pr=new ur,Rr=new gt;function Br(){return sr===null?Di:1}try{var pi={alpha:m,depth:B,stencil:k,antialias:ne,premultipliedAlpha:se,preserveDrawingBuffer:ge,powerPreference:ve,failIfMajorPerformanceCaveat:we,xrCompatible:!0};o.addEventListener("webglcontextlost",ya,!1),o.addEventListener("webglcontextrestored",Ps,!1);var bi="webgl";if(n.webgl2===!0&&(bi="webgl2"),(ye=u||o.getContext(bi,pi)||o.getContext("experimental-webgl",pi))===null)throw o.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");n.retver=bi,ye.getShaderPrecisionFormat===void 0&&(ye.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Je){throw console.error("THREE.WebGLRenderer: "+Je.message),Je}function Vi(){ke=new function(Je){var _t={};return{get:function(yt){if(_t[yt]!==void 0)return _t[yt];var It;switch(yt){case"WEBGL_depth_texture":It=Je.getExtension("WEBGL_depth_texture")||Je.getExtension("MOZ_WEBGL_depth_texture")||Je.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":It=Je.getExtension("EXT_texture_filter_anisotropic")||Je.getExtension("MOZ_EXT_texture_filter_anisotropic")||Je.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":It=Je.getExtension("WEBGL_compressed_texture_s3tc")||Je.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Je.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":It=Je.getExtension("WEBGL_compressed_texture_pvrtc")||Je.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:It=Je.getExtension(yt)}return It===null&&console.warn("THREE.WebGLRenderer: "+yt+" extension not supported."),_t[yt]=It}}}(ye),(Ge=new function(Je,_t,yt){var It;function Jt($r){if($r==="highp"){if(0<Je.getShaderPrecisionFormat(35633,36338).precision&&0<Je.getShaderPrecisionFormat(35632,36338).precision)return"highp";$r="mediump"}return $r==="mediump"&&0<Je.getShaderPrecisionFormat(35633,36337).precision&&0<Je.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var Pn=typeof WebGL2RenderingContext<"u"&&Je instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&Je instanceof WebGL2ComputeRenderingContext,In=yt.precision!==void 0?yt.precision:"highp",Rn=Jt(In);Rn!==In&&(console.warn("THREE.WebGLRenderer:",In,"not supported, using",Rn,"instead."),In=Rn);var On=yt.logarithmicDepthBuffer===!0,yn=Je.getParameter(34930),Mn=Je.getParameter(35660),Qn=Je.getParameter(3379),rr=Je.getParameter(34076),Vn=Je.getParameter(34921),Ln=Je.getParameter(36347),ar=Je.getParameter(36348),pr=Je.getParameter(36349),Dr=0<Mn,oi=Pn||!!_t.get("OES_texture_float");return{isWebGL2:Pn,getMaxAnisotropy:function(){if(It!==void 0)return It;var $r=_t.get("EXT_texture_filter_anisotropic");return It=$r!==null?Je.getParameter($r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:Jt,precision:In,logarithmicDepthBuffer:On,maxTextures:yn,maxVertexTextures:Mn,maxTextureSize:Qn,maxCubemapSize:rr,maxAttributes:Vn,maxVertexUniforms:Ln,maxVaryings:ar,maxFragmentUniforms:pr,vertexTextures:Dr,floatFragmentTextures:oi,floatVertexTextures:Dr&&oi,maxSamples:Pn?Je.getParameter(36183):0}}(ye,ke,n)).isWebGL2===!1&&(ke.get("WEBGL_depth_texture"),ke.get("OES_texture_float"),ke.get("OES_texture_half_float"),ke.get("OES_texture_half_float_linear"),ke.get("OES_standard_derivatives"),ke.get("OES_element_index_uint"),ke.get("ANGLE_instanced_arrays")),ke.get("OES_texture_float_linear"),Kt=new dp(0,ke,Ge),(We=new gm(ye,ke,Ge)).scissor(qi.copy(fi).multiplyScalar(Di).floor()),We.viewport(Yr.copy(yr).multiplyScalar(Di).floor()),ht=new function(Je){var _t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:_t,programs:null,autoReset:!0,reset:function(){_t.frame++,_t.calls=0,_t.triangles=0,_t.points=0,_t.lines=0},update:function(yt,It,Jt){switch(Jt=Jt||1,_t.calls++,It){case 4:_t.triangles+=Jt*(yt/3);break;case 1:_t.lines+=Jt*(yt/2);break;case 3:_t.lines+=Jt*(yt-1);break;case 2:_t.lines+=Jt*yt;break;case 0:_t.points+=Jt*yt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",It)}}}},vt=new function(){var Je=new WeakMap;return{get:function(_t){var yt=Je.get(_t);return yt===void 0&&(yt={},Je.set(_t,yt)),yt},remove:function(_t){Je.delete(_t)},update:function(_t,yt,It){Je.get(_t)[yt]=It},dispose:function(){Je=new WeakMap}}},Dt=new function(Je,_t,yt,It,Jt,Pn,In){var Rn,On=Jt.isWebGL2,yn=Jt.maxTextures,Mn=Jt.maxCubemapSize,Qn=Jt.maxTextureSize,rr=Jt.maxSamples,Vn=new WeakMap,Ln=!1;try{Ln=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ar(je,Ze){return Ln?new OffscreenCanvas(je,Ze):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function pr(je,Ze,Et,Nt){var ln=1;if((je.width>Nt||je.height>Nt)&&(ln=Nt/Math.max(je.width,je.height)),ln<1||Ze===!0){if(typeof HTMLImageElement<"u"&&je instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&je instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&je instanceof ImageBitmap){var tn=Ze?Gr.floorPowerOfTwo:Math.floor,fn=tn(ln*je.width),Sn=tn(ln*je.height);Rn===void 0&&(Rn=ar(fn,Sn));var Kn=Et?ar(fn,Sn):Rn;return Kn.width=fn,Kn.height=Sn,Kn.getContext("2d").drawImage(je,0,0,fn,Sn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+je.width+"x"+je.height+") to ("+fn+"x"+Sn+")."),Kn}return"data"in je&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+je.width+"x"+je.height+")."),je}return je}function Dr(je){return Gr.isPowerOfTwo(je.width)&&Gr.isPowerOfTwo(je.height)}function oi(je,Ze){return je.generateMipmaps&&Ze&&je.minFilter!==rt&&je.minFilter!==gn}function $r(je,Ze,Et,Nt){Je.generateMipmap(je),It.get(Ze).__maxMipLevel=Math.log(Math.max(Et,Nt))*Math.LOG2E}function Yi(je,Ze,Et){if(On===!1)return Ze;if(je!==null){if(Je[je]!==void 0)return Je[je];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+je+"'")}var Nt=Ze;return Ze===6403&&(Et===5126&&(Nt=33326),Et===5131&&(Nt=33325),Et===5121&&(Nt=33321)),Ze===6407&&(Et===5126&&(Nt=34837),Et===5131&&(Nt=34843),Et===5121&&(Nt=32849)),Ze===6408&&(Et===5126&&(Nt=34836),Et===5131&&(Nt=34842),Et===5121&&(Nt=32856)),Nt===33325||Nt===33326||Nt===34842||Nt===34836?_t.get("EXT_color_buffer_float"):Nt!==34843&&Nt!==34837||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),Nt}function Ca(je){return je===rt||je===xt||je===Qt?9728:9729}function Ea(je){var Ze=je.target;Ze.removeEventListener("dispose",Ea),function(Et){var Nt=It.get(Et);Nt.__webglInit!==void 0&&(Je.deleteTexture(Nt.__webglTexture),It.remove(Et))}(Ze),Ze.isVideoTexture&&Vn.delete(Ze),In.memory.textures--}function fs(je){var Ze=je.target;Ze.removeEventListener("dispose",fs),function(Et){var Nt=It.get(Et),ln=It.get(Et.texture);if(Et){if(ln.__webglTexture!==void 0&&Je.deleteTexture(ln.__webglTexture),Et.depthTexture&&Et.depthTexture.dispose(),Et.isWebGLCubeRenderTarget)for(var tn=0;tn<6;tn++)Je.deleteFramebuffer(Nt.__webglFramebuffer[tn]),Nt.__webglDepthbuffer&&Je.deleteRenderbuffer(Nt.__webglDepthbuffer[tn]);else Je.deleteFramebuffer(Nt.__webglFramebuffer),Nt.__webglDepthbuffer&&Je.deleteRenderbuffer(Nt.__webglDepthbuffer);if(Et.isWebGLMultiviewRenderTarget){Je.deleteTexture(Nt.__webglColorTexture),Je.deleteTexture(Nt.__webglDepthStencilTexture),In.memory.textures-=2,tn=0;for(var fn=Nt.__webglViewFramebuffers.length;tn<fn;tn++)Je.deleteFramebuffer(Nt.__webglViewFramebuffers[tn])}It.remove(Et.texture),It.remove(Et)}}(Ze),In.memory.textures--}var Bo=0;function Pi(je,Ze){var Et,Nt,ln=It.get(je);if(je.isVideoTexture&&(Et=je,Nt=In.render.frame,Vn.get(Et)!==Nt&&(Vn.set(Et,Nt),Et.update())),0<je.version&&ln.__version!==je.version){var tn=je.image;if(tn===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(tn.complete!==!1)return void Xo(ln,je,Ze);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}yt.activeTexture(33984+Ze),yt.bindTexture(3553,ln.__webglTexture)}function ci(je,Ze){if(je.image.length===6){var Et=It.get(je);if(0<je.version&&Et.__version!==je.version){Ni(Et,je),yt.activeTexture(33984+Ze),yt.bindTexture(34067,Et.__webglTexture),Je.pixelStorei(37440,je.flipY);for(var Nt=je&&(je.isCompressedTexture||je.image[0].isCompressedTexture),ln=je.image[0]&&je.image[0].isDataTexture,tn=[],fn=0;fn<6;fn++)tn[fn]=Nt||ln?ln?je.image[fn].image:je.image[fn]:pr(je.image[fn],!1,!0,Mn);var Sn,Kn=tn[0],br=Dr(Kn)||On,Zn=Pn.convert(je.format),hr=Pn.convert(je.type),wr=Yi(je.internalFormat,Zn,hr);if(Mo(34067,je,br),Nt){for(fn=0;fn<6;fn++){Sn=tn[fn].mipmaps;for(var zr=0;zr<Sn.length;zr++){var ui=Sn[zr];je.format!==Ce&&je.format!==Co?Zn!==null?yt.compressedTexImage2D(34069+fn,zr,wr,ui.width,ui.height,0,ui.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):yt.texImage2D(34069+fn,zr,wr,ui.width,ui.height,0,Zn,hr,ui.data)}}Et.__maxMipLevel=Sn.length-1}else{for(Sn=je.mipmaps,fn=0;fn<6;fn++)if(ln)for(yt.texImage2D(34069+fn,0,wr,tn[fn].width,tn[fn].height,0,Zn,hr,tn[fn].data),zr=0;zr<Sn.length;zr++){var No=(ui=Sn[zr]).image[fn].image;yt.texImage2D(34069+fn,zr+1,wr,No.width,No.height,0,Zn,hr,No.data)}else for(yt.texImage2D(34069+fn,0,wr,Zn,hr,tn[fn]),zr=0;zr<Sn.length;zr++)ui=Sn[zr],yt.texImage2D(34069+fn,zr+1,wr,Zn,hr,ui.image[fn]);Et.__maxMipLevel=Sn.length}oi(je,br)&&$r(34067,je,Kn.width,Kn.height),Et.__version=je.version,je.onUpdate&&je.onUpdate(je)}else yt.activeTexture(33984+Ze),yt.bindTexture(34067,Et.__webglTexture)}}function Tc(je,Ze){yt.activeTexture(33984+Ze),yt.bindTexture(34067,It.get(je).__webglTexture)}var yo={};yo[hn]=10497,yo[vn]=33071,yo[Ot]=33648;var Ja={};function Mo(je,Ze,Et){Et?(Je.texParameteri(je,10242,yo[Ze.wrapS]),Je.texParameteri(je,10243,yo[Ze.wrapT]),je!==32879&&je!==35866||Je.texParameteri(je,32882,yo[Ze.wrapR]),Je.texParameteri(je,10240,Ja[Ze.magFilter]),Je.texParameteri(je,10241,Ja[Ze.minFilter])):(Je.texParameteri(je,10242,33071),Je.texParameteri(je,10243,33071),je!==32879&&je!==35866||Je.texParameteri(je,32882,33071),Ze.wrapS===vn&&Ze.wrapT===vn||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),Je.texParameteri(je,10240,Ca(Ze.magFilter)),Je.texParameteri(je,10241,Ca(Ze.minFilter)),Ze.minFilter!==rt&&Ze.minFilter!==gn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var Nt=_t.get("EXT_texture_filter_anisotropic");if(Nt){if(Ze.type===En&&_t.get("OES_texture_float_linear")===null||Ze.type===Xn&&(On||_t.get("OES_texture_half_float_linear"))===null)return;(1<Ze.anisotropy||It.get(Ze).__currentAnisotropy)&&(Je.texParameterf(je,Nt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ze.anisotropy,Jt.getMaxAnisotropy())),It.get(Ze).__currentAnisotropy=Ze.anisotropy)}}function Ni(je,Ze){je.__webglInit===void 0&&(je.__webglInit=!0,Ze.addEventListener("dispose",Ea),je.__webglTexture=Je.createTexture(),In.memory.textures++)}function Xo(je,Ze,Et){var Nt=3553;Ze.isDataTexture2DArray&&(Nt=35866),Ze.isDataTexture3D&&(Nt=32879),Ni(je,Ze),yt.activeTexture(33984+Et),yt.bindTexture(Nt,je.__webglTexture),Je.pixelStorei(37440,Ze.flipY),Je.pixelStorei(37441,Ze.premultiplyAlpha),Je.pixelStorei(3317,Ze.unpackAlignment);var ln,tn=(ln=Ze,!On&&(ln.wrapS!==vn||ln.wrapT!==vn||ln.minFilter!==rt&&ln.minFilter!==gn)&&Dr(Ze.image)===!1),fn=pr(Ze.image,tn,!1,Qn),Sn=Dr(fn)||On,Kn=Pn.convert(Ze.format),br=Pn.convert(Ze.type),Zn=Yi(Ze.internalFormat,Kn,br);Mo(Nt,Ze,Sn);var hr,wr=Ze.mipmaps;if(Ze.isDepthTexture){if(Zn=6402,Ze.type===En){if(On===!1)throw new Error("Float Depth Texture only supported in WebGL2.0");Zn=36012}else On&&(Zn=33189);Ze.format===zi&&Zn===6402&&Ze.type!==vi&&Ze.type!==jt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ze.type=vi,br=Pn.convert(Ze.type)),Ze.format===Yo&&(Zn=34041,Ze.type!==yi&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ze.type=yi,br=Pn.convert(Ze.type))),yt.texImage2D(3553,0,Zn,fn.width,fn.height,0,Kn,br,null)}else if(Ze.isDataTexture)if(0<wr.length&&Sn){for(var zr=0,ui=wr.length;zr<ui;zr++)hr=wr[zr],yt.texImage2D(3553,zr,Zn,hr.width,hr.height,0,Kn,br,hr.data);Ze.generateMipmaps=!1,je.__maxMipLevel=wr.length-1}else yt.texImage2D(3553,0,Zn,fn.width,fn.height,0,Kn,br,fn.data),je.__maxMipLevel=0;else if(Ze.isCompressedTexture){for(zr=0,ui=wr.length;zr<ui;zr++)hr=wr[zr],Ze.format!==Ce&&Ze.format!==Co?Kn!==null?yt.compressedTexImage2D(3553,zr,Zn,hr.width,hr.height,0,hr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt.texImage2D(3553,zr,Zn,hr.width,hr.height,0,Kn,br,hr.data);je.__maxMipLevel=wr.length-1}else if(Ze.isDataTexture2DArray)yt.texImage3D(35866,0,Zn,fn.width,fn.height,fn.depth,0,Kn,br,fn.data),je.__maxMipLevel=0;else if(Ze.isDataTexture3D)yt.texImage3D(32879,0,Zn,fn.width,fn.height,fn.depth,0,Kn,br,fn.data),je.__maxMipLevel=0;else if(0<wr.length&&Sn){for(zr=0,ui=wr.length;zr<ui;zr++)hr=wr[zr],yt.texImage2D(3553,zr,Zn,Kn,br,hr);Ze.generateMipmaps=!1,je.__maxMipLevel=wr.length-1}else yt.texImage2D(3553,0,Zn,Kn,br,fn),je.__maxMipLevel=0;oi(Ze,Sn)&&$r(Nt,Ze,fn.width,fn.height),je.__version=Ze.version,Ze.onUpdate&&Ze.onUpdate(Ze)}function E(je,Ze,Et,Nt){var ln=Pn.convert(Ze.texture.format),tn=Pn.convert(Ze.texture.type),fn=Yi(Ze.texture.internalFormat,ln,tn);yt.texImage2D(Nt,0,fn,Ze.width,Ze.height,0,ln,tn,null),Je.bindFramebuffer(36160,je),Je.framebufferTexture2D(36160,Et,Nt,It.get(Ze.texture).__webglTexture,0),Je.bindFramebuffer(36160,null)}function O(je,Ze,Et){if(Je.bindRenderbuffer(36161,je),Ze.depthBuffer&&!Ze.stencilBuffer){if(Et){var Nt=Fe(Ze);Je.renderbufferStorageMultisample(36161,Nt,33189,Ze.width,Ze.height)}else Je.renderbufferStorage(36161,33189,Ze.width,Ze.height);Je.framebufferRenderbuffer(36160,36096,36161,je)}else if(Ze.depthBuffer&&Ze.stencilBuffer)Et?(Nt=Fe(Ze),Je.renderbufferStorageMultisample(36161,Nt,35056,Ze.width,Ze.height)):Je.renderbufferStorage(36161,34041,Ze.width,Ze.height),Je.framebufferRenderbuffer(36160,33306,36161,je);else{var ln=Pn.convert(Ze.texture.format),tn=Pn.convert(Ze.texture.type),fn=Yi(Ze.texture.internalFormat,ln,tn);Et?(Nt=Fe(Ze),Je.renderbufferStorageMultisample(36161,Nt,fn,Ze.width,Ze.height)):Je.renderbufferStorage(36161,fn,Ze.width,Ze.height)}Je.bindRenderbuffer(36161,null)}function he(je){var Ze=It.get(je),Et=je.isWebGLCubeRenderTarget===!0;if(je.depthTexture){if(Et)throw new Error("target.depthTexture not supported in Cube render targets");(function(ln,tn){if(tn&&tn.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(Je.bindFramebuffer(36160,ln),!tn.depthTexture||!tn.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");It.get(tn.depthTexture).__webglTexture&&tn.depthTexture.image.width===tn.width&&tn.depthTexture.image.height===tn.height||(tn.depthTexture.image.width=tn.width,tn.depthTexture.image.height=tn.height,tn.depthTexture.needsUpdate=!0),Pi(tn.depthTexture,0);var fn=It.get(tn.depthTexture).__webglTexture;if(tn.depthTexture.format===zi)Je.framebufferTexture2D(36160,36096,3553,fn,0);else{if(tn.depthTexture.format!==Yo)throw new Error("Unknown depthTexture format");Je.framebufferTexture2D(36160,33306,3553,fn,0)}})(Ze.__webglFramebuffer,je)}else if(Et){Ze.__webglDepthbuffer=[];for(var Nt=0;Nt<6;Nt++)Je.bindFramebuffer(36160,Ze.__webglFramebuffer[Nt]),Ze.__webglDepthbuffer[Nt]=Je.createRenderbuffer(),O(Ze.__webglDepthbuffer[Nt],je)}else Je.bindFramebuffer(36160,Ze.__webglFramebuffer),Ze.__webglDepthbuffer=Je.createRenderbuffer(),O(Ze.__webglDepthbuffer,je);Je.bindFramebuffer(36160,null)}function Fe(je){return On&&je.isWebGLMultisampleRenderTarget?Math.min(rr,je.samples):0}Ja[rt]=9728,Ja[xt]=9984,Ja[Qt]=9986,Ja[gn]=9729,Ja[Nn]=9985;var Ue=!(Ja[Ar]=9987),ot=!1;this.allocateTextureUnit=function(){var je=Bo;return yn<=je&&console.warn("THREE.WebGLTextures: Trying to use "+je+" texture units while this GPU supports only "+yn),Bo+=1,je},this.resetTextureUnits=function(){Bo=0},this.setTexture2D=Pi,this.setTexture2DArray=function(je,Ze){var Et=It.get(je);0<je.version&&Et.__version!==je.version?Xo(Et,je,Ze):(yt.activeTexture(33984+Ze),yt.bindTexture(35866,Et.__webglTexture))},this.setTexture3D=function(je,Ze){var Et=It.get(je);0<je.version&&Et.__version!==je.version?Xo(Et,je,Ze):(yt.activeTexture(33984+Ze),yt.bindTexture(32879,Et.__webglTexture))},this.setTextureCube=ci,this.setTextureCubeDynamic=Tc,this.setupRenderTarget=function(je){var Ze=It.get(je),Et=It.get(je.texture);je.addEventListener("dispose",fs),Et.__webglTexture=Je.createTexture(),In.memory.textures++;var Nt=je.isWebGLCubeRenderTarget===!0,ln=je.isWebGLMultisampleRenderTarget===!0,tn=je.isWebGLMultiviewRenderTarget===!0,fn=Dr(je)||On;if(Nt){Ze.__webglFramebuffer=[];for(var Sn=0;Sn<6;Sn++)Ze.__webglFramebuffer[Sn]=Je.createFramebuffer()}else if(Ze.__webglFramebuffer=Je.createFramebuffer(),ln)if(On){Ze.__webglMultisampledFramebuffer=Je.createFramebuffer(),Ze.__webglColorRenderbuffer=Je.createRenderbuffer(),Je.bindRenderbuffer(36161,Ze.__webglColorRenderbuffer);var Kn=Pn.convert(je.texture.format),br=Pn.convert(je.texture.type),Zn=Yi(je.texture.internalFormat,Kn,br),hr=Fe(je);Je.renderbufferStorageMultisample(36161,hr,Zn,je.width,je.height),Je.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),Je.framebufferRenderbuffer(36160,36064,36161,Ze.__webglColorRenderbuffer),Je.bindRenderbuffer(36161,null),je.depthBuffer&&(Ze.__webglDepthRenderbuffer=Je.createRenderbuffer(),O(Ze.__webglDepthRenderbuffer,je,!0)),Je.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(tn){var wr=je.width,zr=je.height,ui=je.numViews;Je.bindFramebuffer(36160,Ze.__webglFramebuffer);var No=_t.get("OVR_multiview2");In.memory.textures+=2;var Zi=Je.createTexture();Je.bindTexture(35866,Zi),Je.texParameteri(35866,10240,9728),Je.texParameteri(35866,10241,9728),Je.texImage3D(35866,0,32856,wr,zr,ui,0,6408,5121,null),No.framebufferTextureMultiviewOVR(36160,36064,Zi,0,0,ui);var qa=Je.createTexture();Je.bindTexture(35866,qa),Je.texParameteri(35866,10240,9728),Je.texParameteri(35866,10241,9728),Je.texImage3D(35866,0,35056,wr,zr,ui,0,34041,34042,null),No.framebufferTextureMultiviewOVR(36160,33306,qa,0,0,ui);var Os=new Array(ui);for(Sn=0;Sn<ui;++Sn)Os[Sn]=Je.createFramebuffer(),Je.bindFramebuffer(36160,Os[Sn]),Je.framebufferTextureLayer(36160,36064,Zi,0,Sn);Ze.__webglColorTexture=Zi,Ze.__webglDepthStencilTexture=qa,Ze.__webglViewFramebuffers=Os,Je.bindFramebuffer(36160,null),Je.bindTexture(35866,null)}if(Nt){for(yt.bindTexture(34067,Et.__webglTexture),Mo(34067,je.texture,fn),Sn=0;Sn<6;Sn++)E(Ze.__webglFramebuffer[Sn],je,36064,34069+Sn);oi(je.texture,fn)&&$r(34067,je.texture,je.width,je.height),yt.bindTexture(34067,null)}else tn||(yt.bindTexture(3553,Et.__webglTexture),Mo(3553,je.texture,fn),E(Ze.__webglFramebuffer,je,36064,3553),oi(je.texture,fn)&&$r(3553,je.texture,je.width,je.height),yt.bindTexture(3553,null));je.depthBuffer&&he(je)},this.updateRenderTargetMipmap=function(je){var Ze=je.texture;if(oi(Ze,Dr(je)||On)){var Et=je.isWebGLCubeRenderTarget?34067:3553,Nt=It.get(Ze).__webglTexture;yt.bindTexture(Et,Nt),$r(Et,Ze,je.width,je.height),yt.bindTexture(Et,null)}},this.updateMultisampleRenderTarget=function(je){if(je.isWebGLMultisampleRenderTarget)if(On){var Ze=It.get(je);Je.bindFramebuffer(36008,Ze.__webglMultisampledFramebuffer),Je.bindFramebuffer(36009,Ze.__webglFramebuffer);var Et=je.width,Nt=je.height,ln=16384;je.depthBuffer&&(ln|=256),je.stencilBuffer&&(ln|=1024),Je.blitFramebuffer(0,0,Et,Nt,0,0,Et,Nt,ln,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(je,Ze){je&&je.isWebGLRenderTarget&&(Ue===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Ue=!0),je=je.texture),Pi(je,Ze)},this.safeSetTextureCube=function(je,Ze){je&&je.isWebGLCubeRenderTarget&&(ot===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ot=!0),je=je.texture),(je&&je.isCubeTexture||Array.isArray(je.image)&&je.image.length===6?ci:Tc)(je,Ze)}}(ye,ke,We,vt,Ge,Kt,ht),Lt=new function(Je,_t){var yt=_t.isWebGL2,It=new WeakMap;return{get:function(Jt){return Jt.isInterleavedBufferAttribute&&(Jt=Jt.data),It.get(Jt)},remove:function(Jt){Jt.isInterleavedBufferAttribute&&(Jt=Jt.data);var Pn=It.get(Jt);Pn&&(Je.deleteBuffer(Pn.buffer),It.delete(Jt))},update:function(Jt,Pn){Jt.isInterleavedBufferAttribute&&(Jt=Jt.data);var In,Rn,On,yn,Mn,Qn=It.get(Jt);Qn===void 0?It.set(Jt,function(rr,Vn){var Ln=rr.array,ar=rr.usage,pr=Je.createBuffer();Je.bindBuffer(Vn,pr),Je.bufferData(Vn,Ln,ar),rr.onUploadCallback();var Dr=5126;return Ln instanceof Float32Array?Dr=5126:Ln instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):Ln instanceof Uint16Array?Dr=5123:Ln instanceof Int16Array?Dr=5122:Ln instanceof Uint32Array?Dr=5125:Ln instanceof Int32Array?Dr=5124:Ln instanceof Int8Array?Dr=5120:Ln instanceof Uint8Array&&(Dr=5121),{buffer:pr,type:Dr,bytesPerElement:Ln.BYTES_PER_ELEMENT,version:rr.version}}(Jt,Pn)):Qn.version<Jt.version&&(In=Qn.buffer,On=Pn,yn=(Rn=Jt).array,Mn=Rn.updateRange,Je.bindBuffer(On,In),Mn.count===-1?Je.bufferSubData(On,0,yn):(yt?Je.bufferSubData(On,Mn.offset*yn.BYTES_PER_ELEMENT,yn,Mn.offset,Mn.count):Je.bufferSubData(On,Mn.offset*yn.BYTES_PER_ELEMENT,yn.subarray(Mn.offset,Mn.offset+Mn.count)),Mn.count=-1),Qn.version=Jt.version)}}}(ye,Ge),Xe=new function(Je,_t,yt){var It=new WeakMap,Jt=new WeakMap;function Pn(Rn){var On=Rn.target,yn=It.get(On);for(var Mn in yn.index!==null&&_t.remove(yn.index),yn.attributes)_t.remove(yn.attributes[Mn]);On.removeEventListener("dispose",Pn),It.delete(On);var Qn=Jt.get(yn);Qn&&(_t.remove(Qn),Jt.delete(yn)),yt.memory.geometries--}function In(Rn){var On=[],yn=Rn.index,Mn=Rn.attributes.position,Qn=0;if(yn!==null){var rr=yn.array;Qn=yn.version;for(var Vn=0,Ln=rr.length;Vn<Ln;Vn+=3){var ar=rr[Vn+0],pr=rr[Vn+1],Dr=rr[Vn+2];On.push(ar,pr,pr,Dr,Dr,ar)}}else for(rr=Mn.array,Qn=Mn.version,Vn=0,Ln=rr.length/3-1;Vn<Ln;Vn+=3)ar=Vn+0,pr=Vn+1,Dr=Vn+2,On.push(ar,pr,pr,Dr,Dr,ar);var oi=new(65535<Bt(On)?ns:Ii)(On,1);oi.version=Qn,_t.update(oi,34963);var $r=Jt.get(Rn);$r&&_t.remove($r),Jt.set(Rn,oi)}return{get:function(Rn,On){var yn=It.get(On);return yn||(On.addEventListener("dispose",Pn),On.isBufferGeometry?yn=On:On.isGeometry&&(On._bufferGeometry===void 0&&(On._bufferGeometry=new xn().setFromObject(Rn)),yn=On._bufferGeometry),It.set(On,yn),yt.memory.geometries++,yn)},update:function(Rn){var On=Rn.index,yn=Rn.attributes;for(var Mn in On!==null&&_t.update(On,34963),yn)_t.update(yn[Mn],34962);var Qn=Rn.morphAttributes;for(var Mn in Qn)for(var rr=Qn[Mn],Vn=0,Ln=rr.length;Vn<Ln;Vn++)_t.update(rr[Vn],34962)},getWireframeAttribute:function(Rn){var On=Jt.get(Rn);if(On){var yn=Rn.index;yn!==null&&On.version<yn.version&&In(Rn)}else In(Rn);return Jt.get(Rn)}}}(0,Lt,ht),Vt=new function(Je,_t,yt,It){var Jt={};return{update:function(Pn){var In=It.render.frame,Rn=Pn.geometry,On=_t.get(Pn,Rn);return Jt[On.id]!==In&&(Rn.isGeometry&&On.updateFromObject(Pn),_t.update(On),Jt[On.id]=In),Pn.isInstancedMesh&&yt.update(Pn.instanceMatrix,34962),On},dispose:function(){Jt={}}}}(0,Xe,Lt,ht),pn=new function(Je){var _t={},yt=new Float32Array(8);return{update:function(It,Jt,Pn,In){var Rn=It.morphTargetInfluences,On=Rn===void 0?0:Rn.length,yn=_t[Jt.id];if(yn===void 0){yn=[];for(var Mn=0;Mn<On;Mn++)yn[Mn]=[Mn,0];_t[Jt.id]=yn}var Qn=Pn.morphTargets&&Jt.morphAttributes.position,rr=Pn.morphNormals&&Jt.morphAttributes.normal;for(Mn=0;Mn<On;Mn++)(Ln=yn[Mn])[1]!==0&&(Qn&&Jt.deleteAttribute("morphTarget"+Mn),rr&&Jt.deleteAttribute("morphNormal"+Mn));for(Mn=0;Mn<On;Mn++)(Ln=yn[Mn])[0]=Mn,Ln[1]=Rn[Mn];yn.sort(Dd);var Vn=0;for(Mn=0;Mn<8;Mn++){var Ln;if(Ln=yn[Mn]){var ar=Ln[0],pr=Ln[1];if(pr){Qn&&Jt.setAttribute("morphTarget"+Mn,Qn[ar]),rr&&Jt.setAttribute("morphNormal"+Mn,rr[ar]),Vn+=yt[Mn]=pr;continue}}yt[Mn]=0}var Dr=Jt.morphTargetsRelative?1:1-Vn;In.getUniforms().setValue(Je,"morphTargetBaseInfluence",Dr),In.getUniforms().setValue(Je,"morphTargetInfluences",yt)}}}(ye),At=new hm(on,ke,Ge),Wt=new function(){var Je=new WeakMap;function _t(yt){var It=yt.target;It.removeEventListener("dispose",_t),Je.delete(It)}return{get:function(yt,It){var Jt,Pn=Je.get(yt);return Pn===void 0?(Jt=new lp,Je.set(yt,new WeakMap),Je.get(yt).set(It,Jt),yt.addEventListener("dispose",_t)):(Jt=Pn.get(It))===void 0&&(Jt=new lp,Pn.set(It,Jt)),Jt},dispose:function(){Je=new WeakMap}}},rn=new function(){var Je=new WeakMap;function _t(yt){var It=yt.target;It.removeEventListener("dispose",_t),Je.delete(It)}return{get:function(yt,It){var Jt;return Je.has(yt)===!1?(Jt=new up,Je.set(yt,new WeakMap),Je.get(yt).set(It,Jt),yt.addEventListener("dispose",_t)):Je.get(yt).has(It)===!1?(Jt=new up,Je.get(yt).set(It,Jt)):Jt=Je.get(yt).get(It),Jt},dispose:function(){Je=new WeakMap}}},un=new Nc(on,We,Vt,se),wn=new function(Je,_t,yt,It){var Jt,Pn=It.isWebGL2;this.setMode=function(In){Jt=In},this.render=function(In,Rn){Je.drawArrays(Jt,In,Rn),yt.update(Rn,Jt)},this.renderInstances=function(In,Rn,On,yn){if(yn!==0){var Mn,Qn;if(Pn)Mn=Je,Qn="drawArraysInstanced";else if(Qn="drawArraysInstancedANGLE",(Mn=_t.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");Mn[Qn](Jt,Rn,On,yn),yt.update(On,Jt,yn)}}}(ye,ke,ht,Ge),Tn=new function(Je,_t,yt,It){var Jt,Pn,In,Rn=It.isWebGL2;this.setMode=function(On){Jt=On},this.setIndex=function(On){Pn=On.type,In=On.bytesPerElement},this.render=function(On,yn){Je.drawElements(Jt,yn,Pn,On*In),yt.update(yn,Jt)},this.renderInstances=function(On,yn,Mn,Qn){if(Qn!==0){var rr,Vn;if(Rn)rr=Je,Vn="drawElementsInstanced";else if(Vn="drawElementsInstancedANGLE",(rr=_t.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");rr[Vn](Jt,Mn,Pn,yn*In,Qn),yt.update(Mn,Jt,Qn)}}}(ye,ke,ht,Ge),ht.programs=At.programs,on.capabilities=Ge,on.extensions=ke,on.properties=vt,on.renderLists=Wt,on.state=We,on.info=ht}Vi();var gi=new hp(on,ye);this.xr=gi;var to=new function(Je,_t){var yt,It,Jt,Pn,In,Rn,On,yn=Je.extensions,Mn=Je.properties,Qn=0;function rr(Vn){return Vn.isArrayCamera?Vn.cameras:(In[0]=Vn,In)}this.isAvailable=function(){if(On===void 0){var Vn=yn.get("OVR_multiview2");if(On=Vn!==null&&_t.getContextAttributes().antialias===!1){Qn=_t.getParameter(Vn.MAX_VIEWS_OVR),yt=new Jh(0,0,2),Rn=new An,Pn=[],Jt=[],In=[];for(var Ln=0;Ln<Qn;Ln++)Pn[Ln]=new ur,Jt[Ln]=new xo}}return On},this.attachCamera=function(Vn){(function(Ln){if(Ln.isArrayCamera===void 0)return!0;var ar=Ln.cameras;if(ar.length>Qn)return!1;for(var pr=1,Dr=ar.length;pr<Dr;pr++)if(ar[0].viewport.z!==ar[pr].viewport.z||ar[0].viewport.w!==ar[pr].viewport.w)return!1;return!0})(Vn)!==!1&&(It=Je.getRenderTarget(),function(Ln){if(It?Rn.set(It.width,It.height):Je.getDrawingBufferSize(Rn),Ln.isArrayCamera){var ar=Ln.cameras[0].viewport;yt.setSize(ar.z,ar.w),yt.setNumViews(Ln.cameras.length)}else yt.setSize(Rn.x,Rn.y),yt.setNumViews(2)}(Vn),Je.setRenderTarget(yt))},this.detachCamera=function(Vn){yt===Je.getRenderTarget()&&(Je.setRenderTarget(It),function(Ln){var ar=yt,pr=ar.numViews,Dr=Mn.get(ar).__webglViewFramebuffers,oi=ar.width,$r=ar.height;if(Ln.isArrayCamera)for(var Yi=0;Yi<pr;Yi++){var Ca=Ln.cameras[Yi].viewport,Ea=Ca.x,fs=Ca.y,Bo=Ea+Ca.z,Pi=fs+Ca.w;_t.bindFramebuffer(36008,Dr[Yi]),_t.blitFramebuffer(0,0,oi,$r,Ea,fs,Bo,Pi,16384,9728)}else _t.bindFramebuffer(36008,Dr[0]),_t.blitFramebuffer(0,0,oi,$r,0,0,Rn.x,Rn.y,16384,9728)}(Vn))},this.updateCameraProjectionMatricesUniform=function(Vn,Ln){for(var ar=rr(Vn),pr=0;pr<ar.length;pr++)Pn[pr].copy(ar[pr].projectionMatrix);Ln.setValue(_t,"projectionMatrices",Pn)},this.updateCameraViewMatricesUniform=function(Vn,Ln){for(var ar=rr(Vn),pr=0;pr<ar.length;pr++)Pn[pr].copy(ar[pr].matrixWorldInverse);Ln.setValue(_t,"viewMatrices",Pn)},this.updateObjectMatricesUniforms=function(Vn,Ln,ar){for(var pr=rr(Ln),Dr=0;Dr<pr.length;Dr++)Pn[Dr].multiplyMatrices(pr[Dr].matrixWorldInverse,Vn.matrixWorld),Jt[Dr].getNormalMatrix(Pn[Dr]);ar.setValue(_t,"modelViewMatrices",Pn),ar.setValue(_t,"normalMatrices",Jt)}}(on,ye),ia=new Wh(on,Vt,Ge.maxTextureSize);function ya(Je){Je.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),zn=!0}function Ps(){console.log("THREE.WebGLRenderer: Context Restored."),zn=!1,Vi()}function hs(Je){var _t,yt=Je.target;yt.removeEventListener("dispose",hs),pu(_t=yt),vt.remove(_t)}function pu(Je){var _t=vt.get(Je).program;(Je.program=void 0)!==_t&&At.releaseProgram(_t)}this.shadowMap=ia,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){var Je=ke.get("WEBGL_lose_context");Je&&Je.loseContext()},this.forceContextRestore=function(){var Je=ke.get("WEBGL_lose_context");Je&&Je.restoreContext()},this.getPixelRatio=function(){return Di},this.setPixelRatio=function(Je){Je!==void 0&&(Di=Je,this.setSize(Gn,li,!1))},this.getSize=function(Je){return Je===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Je=new An),Je.set(Gn,li)},this.setSize=function(Je,_t,yt){gi.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Gn=Je,li=_t,o.width=Math.floor(Je*Di),o.height=Math.floor(_t*Di),yt!==!1&&(o.style.width=Je+"px",o.style.height=_t+"px"),this.setViewport(0,0,Je,_t))},this.getDrawingBufferSize=function(Je){return Je===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Je=new An),Je.set(Gn*Di,li*Di).floor()},this.setDrawingBufferSize=function(Je,_t,yt){Gn=Je,li=_t,Di=yt,o.width=Math.floor(Je*yt),o.height=Math.floor(_t*yt),this.setViewport(0,0,Je,_t)},this.getCurrentViewport=function(Je){return Je===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Je=new Ci),Je.copy(Yr)},this.getViewport=function(Je){return Je.copy(yr)},this.setViewport=function(Je,_t,yt,It){Je.isVector4?yr.set(Je.x,Je.y,Je.z,Je.w):yr.set(Je,_t,yt,It),We.viewport(Yr.copy(yr).multiplyScalar(Di).floor())},this.getScissor=function(Je){return Je.copy(fi)},this.setScissor=function(Je,_t,yt,It){Je.isVector4?fi.set(Je.x,Je.y,Je.z,Je.w):fi.set(Je,_t,yt,It),We.scissor(qi.copy(fi).multiplyScalar(Di).floor())},this.getScissorTest=function(){return _r},this.setScissorTest=function(Je){We.setScissorTest(_r=Je)},this.setOpaqueSort=function(Je){qt=Je},this.setTransparentSort=function(Je){vr=Je},this.getClearColor=function(){return un.getClearColor()},this.setClearColor=function(){un.setClearColor.apply(un,arguments)},this.getClearAlpha=function(){return un.getClearAlpha()},this.setClearAlpha=function(){un.setClearAlpha.apply(un,arguments)},this.clear=function(Je,_t,yt){var It=0;Je!==void 0&&!Je||(It|=16384),_t!==void 0&&!_t||(It|=256),yt!==void 0&&!yt||(It|=1024),ye.clear(It)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",ya,!1),o.removeEventListener("webglcontextrestored",Ps,!1),Wt.dispose(),rn.dispose(),vt.dispose(),Vt.dispose(),gi.dispose(),vo.stop()},this.renderBufferImmediate=function(Je,_t){We.initAttributes();var yt=vt.get(Je);Je.hasPositions&&!yt.position&&(yt.position=ye.createBuffer()),Je.hasNormals&&!yt.normal&&(yt.normal=ye.createBuffer()),Je.hasUvs&&!yt.uv&&(yt.uv=ye.createBuffer()),Je.hasColors&&!yt.color&&(yt.color=ye.createBuffer());var It=_t.getAttributes();Je.hasPositions&&(ye.bindBuffer(34962,yt.position),ye.bufferData(34962,Je.positionArray,35048),We.enableAttribute(It.position),ye.vertexAttribPointer(It.position,3,5126,!1,0,0)),Je.hasNormals&&(ye.bindBuffer(34962,yt.normal),ye.bufferData(34962,Je.normalArray,35048),We.enableAttribute(It.normal),ye.vertexAttribPointer(It.normal,3,5126,!1,0,0)),Je.hasUvs&&(ye.bindBuffer(34962,yt.uv),ye.bufferData(34962,Je.uvArray,35048),We.enableAttribute(It.uv),ye.vertexAttribPointer(It.uv,2,5126,!1,0,0)),Je.hasColors&&(ye.bindBuffer(34962,yt.color),ye.bufferData(34962,Je.colorArray,35048),We.enableAttribute(It.color),ye.vertexAttribPointer(It.color,3,5126,!1,0,0)),We.disableUnusedAttributes(),ye.drawArrays(4,0,Je.count),Je.count=0};var Gf=new Ei;this.renderBufferDirect=function(Je,_t,yt,It,Jt,Pn){_t===null&&(_t=Gf);var In=Jt.isMesh&&Jt.matrixWorld.determinant()<0,Rn=gd(Je,_t,It,Jt);We.setMaterial(It,In);var On=!1;gr.geometry===yt.id&&gr.program===Rn.id&&gr.wireframe===(It.wireframe===!0)||(gr.geometry=yt.id,gr.program=Rn.id,gr.wireframe=It.wireframe===!0,On=!0),(It.morphTargets||It.morphNormals)&&(pn.update(Jt,yt,It,Rn),On=!0);var yn=yt.index,Mn=yt.attributes.position;if(yn===null){if(Mn===void 0||Mn.count===0)return}else if(yn.count===0)return;var Qn,rr=1;It.wireframe===!0&&(yn=Xe.getWireframeAttribute(yt),rr=2);var Vn=wn;yn!==null&&((Qn=Lt.get(yn))?(Vn=Tn).setIndex(Qn):(console.log("mx attribute == null"),yn=null)),On&&(function(fs,Bo,Pi,ci){if(Ge.isWebGL2!==!1||!fs.isInstancedMesh&&!Bo.isInstancedBufferGeometry||ke.get("ANGLE_instanced_arrays")!==null){We.initAttributes();var Tc=Bo.attributes,yo=ci.getAttributes(),Ja=Pi.defaultAttributeValues;for(var Mo in yo){var Ni=yo[Mo];if(0<=Ni){var Xo=Tc[Mo];if(Xo!==void 0){var E=Xo.normalized,O=Xo.itemSize;if((Et=Lt.get(Xo))===void 0)continue;var he=Et.buffer,Fe=Et.type,Ue=Et.bytesPerElement;if(Xo.isInterleavedBufferAttribute){var ot=Xo.data,je=ot.stride,Ze=Xo.offset;ot&&ot.isInstancedInterleavedBuffer?(We.enableAttributeAndDivisor(Ni,ot.meshPerAttribute),Bo.maxInstancedCount===void 0&&(Bo.maxInstancedCount=ot.meshPerAttribute*ot.count)):We.enableAttribute(Ni),ye.bindBuffer(34962,he),ye.vertexAttribPointer(Ni,O,Fe,E,je*Ue,Ze*Ue)}else Xo.isInstancedBufferAttribute?(We.enableAttributeAndDivisor(Ni,Xo.meshPerAttribute),Bo.maxInstancedCount===void 0&&(Bo.maxInstancedCount=Xo.meshPerAttribute*Xo.count)):We.enableAttribute(Ni),ye.bindBuffer(34962,he),ye.vertexAttribPointer(Ni,O,Fe,E,0,0)}else if(Mo==="instanceMatrix"){var Et;if((Et=Lt.get(fs.instanceMatrix))===void 0)continue;he=Et.buffer,Fe=Et.type,We.enableAttributeAndDivisor(Ni+0,1),We.enableAttributeAndDivisor(Ni+1,1),We.enableAttributeAndDivisor(Ni+2,1),We.enableAttributeAndDivisor(Ni+3,1),ye.bindBuffer(34962,he),ye.vertexAttribPointer(Ni+0,4,Fe,!1,64,0),ye.vertexAttribPointer(Ni+1,4,Fe,!1,64,16),ye.vertexAttribPointer(Ni+2,4,Fe,!1,64,32),ye.vertexAttribPointer(Ni+3,4,Fe,!1,64,48)}else if(Ja!==void 0){var Nt=Ja[Mo];if(Nt!==void 0)switch(Nt.length){case 2:ye.vertexAttrib2fv(Ni,Nt);break;case 3:ye.vertexAttrib3fv(Ni,Nt);break;case 4:ye.vertexAttrib4fv(Ni,Nt);break;default:ye.vertexAttrib1fv(Ni,Nt)}}}}We.disableUnusedAttributes()}}(Jt,yt,It,Rn),yn!==null&&ye.bindBuffer(34963,Qn.buffer));var Ln=yn!==null?yn.count:Mn.count,ar=yt.drawRange.start*rr,pr=yt.drawRange.count*rr,Dr=Pn!==null?Pn.start*rr:0,oi=Pn!==null?Pn.count*rr:1/0,$r=Math.max(ar,Dr),Yi=Math.min(Ln,ar+pr,Dr+oi)-1,Ca=Math.max(0,Yi-$r+1);if(Ca!==0){if(Jt.isMesh)It.wireframe===!0?(We.setLineWidth(It.wireframeLinewidth*Br()),Vn.setMode(1)):Vn.setMode(4);else if(Jt.isLine){var Ea=It.linewidth;Ea===void 0&&(Ea=1),We.setLineWidth(Ea*Br()),Jt.isLineSegments?Vn.setMode(1):Jt.isLineLoop?Vn.setMode(2):Vn.setMode(3)}else Jt.isPoints?Vn.setMode(0):Jt.isSprite&&Vn.setMode(4);Jt.isInstancedMesh?Vn.renderInstances(yt,$r,Ca,Jt.count):yt.isInstancedBufferGeometry?Vn.renderInstances(yt,$r,Ca,yt.maxInstancedCount):Vn.render($r,Ca)}},this.compile=function(Je,_t){(Te=rn.get(Je,_t)).init(),Je.traverse(function(It){It.isLight&&(Te.pushLight(It),It.castShadow&&Te.pushShadow(It))}),Te.setupLights(_t);var yt={};Je.traverse(function(It){if(It.material)if(Array.isArray(It.material))for(var Jt=0;Jt<It.material.length;Jt++)It.material[Jt].uuid in yt==0&&(Sc(It.material[Jt],Je,It),yt[It.material[Jt].uuid]=!0);else It.material.uuid in yt==0&&(Sc(It.material,Je,It),yt[It.material.uuid]=!0)})};var mu=null,vo=new Wf;function Ml(Je,_t,yt,It){for(var Jt=0,Pn=Je.length;Jt<Pn;Jt++){var In=Je[Jt],Rn=In.object,On=In.geometry,yn=It===void 0?In.material:It,Mn=In.group;if(yt.isArrayCamera)if(ni=yt,gi.enabled&&to.isAvailable())Fc(Rn,_t,yt,On,yn,Mn);else for(var Qn=yt.cameras,rr=0,Vn=Qn.length;rr<Vn;rr++){var Ln=Qn[rr];Rn.layers.test(Ln.layers)&&(We.viewport(Yr.copy(Ln.viewport)),Te.setupLights(Ln),Fc(Rn,_t,Ln,On,yn,Mn))}else ni=null,Fc(Rn,_t,yt,On,yn,Mn)}}function Fc(Je,_t,yt,It,Jt,Pn){if(Je.onBeforeRender(on,_t,yt,It,Jt,Pn),Te=rn.get(_t,ni||yt),Je.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,Je.matrixWorld),Je.normalMatrix.getNormalMatrix(Je.modelViewMatrix),Je.isImmediateRenderObject){var In=gd(yt,_t,Jt,Je);We.setMaterial(Jt),gr.geometry=null,gr.program=null,gr.wireframe=!1,Rn=In,Je.render(function(On){on.renderBufferImmediate(On,Rn)})}else on.renderBufferDirect(yt,_t,It,Jt,Je,Pn);var Rn;Je.onAfterRender(on,_t,yt,It,Jt,Pn),Te=rn.get(_t,ni||yt)}function Sc(Je,_t,yt){var It=vt.get(Je),Jt=Te.state.lights,Pn=Te.state.shadowsArray,In=Jt.state.version,Rn=At.getParameters(Je,Jt.state,Pn,_t,ri.numPlanes,ri.numIntersection,yt),On=At.getProgramCacheKey(Rn),yn=It.program,Mn=!0;if(yn===void 0)Je.addEventListener("dispose",hs);else if(yn.cacheKey!==On)pu(Je);else if(It.lightsStateVersion!==In)It.lightsStateVersion=In,Mn=!1;else{if(Rn.shaderID!==void 0)return;Mn=!1}Mn&&(yn=At.acquireProgram(Rn,On),It.program=yn,It.uniforms=Rn.uniforms,It.environment=Je.isMeshStandardMaterial?_t.environment:null,It.outputEncoding=on.outputEncoding,Je.program=yn);var Qn=yn.getAttributes();if(Je.morphTargets)for(var rr=Je.numSupportedMorphTargets=0;rr<on.maxMorphTargets;rr++)0<=Qn["morphTarget"+rr]&&Je.numSupportedMorphTargets++;if(Je.morphNormals)for(rr=Je.numSupportedMorphNormals=0;rr<on.maxMorphNormals;rr++)0<=Qn["morphNormal"+rr]&&Je.numSupportedMorphNormals++;var Vn,Ln=It.uniforms;(Je.isShaderMaterial||Je.isRawShaderMaterial)&&Je.clipping!==!0||(It.numClippingPlanes=ri.numPlanes,It.numIntersection=ri.numIntersection,Ln.clippingPlanes=ri.uniform),It.fog=_t.fog,It.needsLights=(Vn=Je).isMeshLambertMaterial||Vn.isMeshToonMaterial||Vn.isMeshPhongMaterial||Vn.isMeshStandardMaterial||Vn.isShadowMaterial||Vn.isShaderMaterial&&Vn.lights===!0,It.lightsStateVersion=In,It.needsLights&&(Ln.ambientLightColor.value=Jt.state.ambient,Ln.lightProbe.value=Jt.state.probe,Ln.directionalLights.value=Jt.state.directional,Ln.spotLights.value=Jt.state.spot,Ln.rectAreaLights.value=Jt.state.rectArea,Ln.pointLights.value=Jt.state.point,Ln.hemisphereLights.value=Jt.state.hemi,Ln.directionalShadowMap.value=Jt.state.directionalShadowMap,Ln.directionalShadowMatrix.value=Jt.state.directionalShadowMatrix,Ln.spotShadowMap.value=Jt.state.spotShadowMap,Ln.spotShadowMatrix.value=Jt.state.spotShadowMatrix,Ln.pointShadowMap.value=Jt.state.pointShadowMap,Ln.pointShadowMatrix.value=Jt.state.pointShadowMatrix);var ar=It.program.getUniforms(),pr=fl.seqWithValue(ar.seq,Ln);It.uniformsList=pr}function gd(Je,_t,yt,It){Dt.resetTextureUnits();var Jt=_t.fog,Pn=yt.isMeshStandardMaterial?_t.environment:null,In=vt.get(yt),Rn=Te.state.lights;if(Ui&&(Wa||Je!==Ur)){var On=Je===Ur&&yt.id===Lr;ri.setState(yt.clippingPlanes,yt.clipIntersection,yt.clipShadows,Je,In,On)}yt.version===In.__version?(In.program===void 0||yt.fog&&In.fog!==Jt||In.environment!==Pn||In.needsLights&&In.lightsStateVersion!==Rn.state.version||In.numClippingPlanes!==void 0&&(In.numClippingPlanes!==ri.numPlanes||In.numIntersection!==ri.numIntersection)||In.outputEncoding!==on.outputEncoding)&&Sc(yt,_t,It):(vt.update(yt,"uniforms",yt.uniforms),Sc(yt,_t,It),In.__version=yt.version);var yn,Mn,Qn,rr,Vn,Ln,ar,pr,Dr,oi,$r,Yi,Ca=!1,Ea=!1,fs=!1,Bo=In.program,Pi=Bo.getUniforms(),ci=In.uniforms;if(We.useProgram(Bo.program)&&(fs=Ea=Ca=!0),yt.id!==Lr&&(Lr=yt.id,Ea=!0),Ca||Ur!==Je){if(0<Bo.numMultiviewViews?to.updateCameraProjectionMatricesUniform(Je,Pi):Pi.setValue(ye,"projectionMatrix",Je.projectionMatrix),Ge.logarithmicDepthBuffer&&Pi.setValue(ye,"logDepthBufFC",2/(Math.log(Je.far+1)/Math.LN2)),Ur!==Je&&(Ur=Je,fs=Ea=!0),yt.isShaderMaterial||yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshStandardMaterial||yt.envMap){var Tc=Pi.map.cameraPosition;Tc!==void 0&&Tc.setValue(ye,Rr.setFromMatrixPosition(Je.matrixWorld))}(yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshLambertMaterial||yt.isMeshBasicMaterial||yt.isMeshStandardMaterial||yt.isShaderMaterial)&&Pi.setValue(ye,"isOrthographic",Je.isOrthographicCamera===!0),(yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshLambertMaterial||yt.isMeshBasicMaterial||yt.isMeshStandardMaterial||yt.isShaderMaterial||yt.skinning)&&(0<Bo.numMultiviewViews?to.updateCameraViewMatricesUniform(Je,Pi):Pi.setValue(ye,"viewMatrix",Je.matrixWorldInverse))}if(yt.skinning){Pi.setOptional(ye,It,"bindMatrix"),Pi.setOptional(ye,It,"bindMatrixInverse");var yo=It.skeleton;if(yo){var Ja=yo.bones;if(Ge.floatVertexTextures){if(yo.boneTexture===void 0){var Mo=Math.sqrt(4*Ja.length);Mo=Gr.ceilPowerOfTwo(Mo),Mo=Math.max(Mo,4);var Ni=new Float32Array(Mo*Mo*4);Ni.set(yo.boneMatrices);var Xo=new Hs(Ni,Mo,Mo,Ce,En);yo.boneMatrices=Ni,yo.boneTexture=Xo,yo.boneTextureSize=Mo}Pi.setValue(ye,"boneTexture",yo.boneTexture,Dt),Pi.setValue(ye,"boneTextureSize",yo.boneTextureSize)}else Pi.setOptional(ye,yo,"boneMatrices")}}return!Ea&&In.receiveShadow===It.receiveShadow||(In.receiveShadow=It.receiveShadow,Pi.setValue(ye,"receiveShadow",It.receiveShadow)),Ea&&(Pi.setValue(ye,"toneMappingExposure",on.toneMappingExposure),Pi.setValue(ye,"toneMappingWhitePoint",on.toneMappingWhitePoint),In.needsLights&&(Yi=fs,($r=ci).ambientLightColor.needsUpdate=Yi,$r.lightProbe.needsUpdate=Yi,$r.directionalLights.needsUpdate=Yi,$r.pointLights.needsUpdate=Yi,$r.spotLights.needsUpdate=Yi,$r.rectAreaLights.needsUpdate=Yi,$r.hemisphereLights.needsUpdate=Yi),Jt&&yt.fog&&(oi=Jt,(Dr=ci).fogColor.value.copy(oi.color),oi.isFog?(Dr.fogNear.value=oi.near,Dr.fogFar.value=oi.far):oi.isFogExp2&&(Dr.fogDensity.value=oi.density)),yt.isMeshBasicMaterial?Oa(ci,yt):yt.isMeshLambertMaterial?(Oa(ci,yt),ar=ci,(pr=yt).emissiveMap&&(ar.emissiveMap.value=pr.emissiveMap)):yt.isMeshToonMaterial?(Oa(ci,yt),function(E,O){E.specular.value.copy(O.specular),E.shininess.value=Math.max(O.shininess,1e-4),O.gradientMap&&(E.gradientMap.value=O.gradientMap),O.emissiveMap&&(E.emissiveMap.value=O.emissiveMap),O.bumpMap&&(E.bumpMap.value=O.bumpMap,E.bumpScale.value=O.bumpScale,O.side===F&&(E.bumpScale.value*=-1)),O.normalMap&&(E.normalMap.value=O.normalMap,E.normalScale.value.copy(O.normalScale),O.side===F&&E.normalScale.value.negate()),O.displacementMap&&(E.displacementMap.value=O.displacementMap,E.displacementScale.value=O.displacementScale,E.displacementBias.value=O.displacementBias)}(ci,yt)):yt.isMeshPhongMaterial?(Oa(ci,yt),function(E,O){E.specular.value.copy(O.specular),E.shininess.value=Math.max(O.shininess,1e-4),O.emissiveMap&&(E.emissiveMap.value=O.emissiveMap),O.bumpMap&&(E.bumpMap.value=O.bumpMap,E.bumpScale.value=O.bumpScale,O.side===F&&(E.bumpScale.value*=-1)),O.normalMap&&(E.normalMap.value=O.normalMap,E.normalScale.value.copy(O.normalScale),O.side===F&&E.normalScale.value.negate()),O.displacementMap&&(E.displacementMap.value=O.displacementMap,E.displacementScale.value=O.displacementScale,E.displacementBias.value=O.displacementBias)}(ci,yt)):yt.isMeshStandardMaterial?(Oa(ci,yt,Pn),(yt.isMeshPhysicalMaterial?function(E,O,he){Ph(E,O,he),E.reflectivity.value=O.reflectivity,E.clearcoat.value=O.clearcoat,E.clearcoatRoughness.value=O.clearcoatRoughness,O.sheen&&E.sheen.value.copy(O.sheen),O.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(O.clearcoatNormalScale),E.clearcoatNormalMap.value=O.clearcoatNormalMap,O.side===F&&E.clearcoatNormalScale.value.negate()),E.transparency.value=O.transparency}:Ph)(ci,yt,Pn)):yt.isMeshMatcapMaterial?(Oa(ci,yt),function(E,O){O.matcap&&(E.matcap.value=O.matcap),O.bumpMap&&(E.bumpMap.value=O.bumpMap,E.bumpScale.value=O.bumpScale,O.side===F&&(E.bumpScale.value*=-1)),O.normalMap&&(E.normalMap.value=O.normalMap,E.normalScale.value.copy(O.normalScale),O.side===F&&E.normalScale.value.negate()),O.displacementMap&&(E.displacementMap.value=O.displacementMap,E.displacementScale.value=O.displacementScale,E.displacementBias.value=O.displacementBias)}(ci,yt)):yt.isMeshDepthMaterial?(Oa(ci,yt),Vn=ci,(Ln=yt).displacementMap&&(Vn.displacementMap.value=Ln.displacementMap,Vn.displacementScale.value=Ln.displacementScale,Vn.displacementBias.value=Ln.displacementBias)):yt.isMeshDistanceMaterial?(Oa(ci,yt),function(E,O){O.displacementMap&&(E.displacementMap.value=O.displacementMap,E.displacementScale.value=O.displacementScale,E.displacementBias.value=O.displacementBias),E.referencePosition.value.copy(O.referencePosition),E.nearDistance.value=O.nearDistance,E.farDistance.value=O.farDistance}(ci,yt)):yt.isMeshNormalMaterial?(Oa(ci,yt),function(E,O){O.bumpMap&&(E.bumpMap.value=O.bumpMap,E.bumpScale.value=O.bumpScale,O.side===F&&(E.bumpScale.value*=-1)),O.normalMap&&(E.normalMap.value=O.normalMap,E.normalScale.value.copy(O.normalScale),O.side===F&&E.normalScale.value.negate()),O.displacementMap&&(E.displacementMap.value=O.displacementMap,E.displacementScale.value=O.displacementScale,E.displacementBias.value=O.displacementBias)}(ci,yt)):yt.isLineBasicMaterial?(rr=yt,(Qn=ci).diffuse.value.copy(rr.color),Qn.opacity.value=rr.opacity,yt.isLineDashedMaterial&&(Mn=yt,(yn=ci).dashSize.value=Mn.dashSize,yn.totalSize.value=Mn.dashSize+Mn.gapSize,yn.scale.value=Mn.scale)):yt.isPointsMaterial?function(E,O){var he;E.diffuse.value.copy(O.color),E.opacity.value=O.opacity,E.size.value=O.size*Di,E.scale.value=.5*li,O.map&&(E.map.value=O.map),O.alphaMap&&(E.alphaMap.value=O.alphaMap),O.map?he=O.map:O.alphaMap&&(he=O.alphaMap),he!==void 0&&(he.matrixAutoUpdate===!0&&he.updateMatrix(),E.uvTransform.value.copy(he.matrix))}(ci,yt):yt.isSpriteMaterial?function(E,O){var he;E.diffuse.value.copy(O.color),E.opacity.value=O.opacity,E.rotation.value=O.rotation,O.map&&(E.map.value=O.map),O.alphaMap&&(E.alphaMap.value=O.alphaMap),O.map?he=O.map:O.alphaMap&&(he=O.alphaMap),he!==void 0&&(he.matrixAutoUpdate===!0&&he.updateMatrix(),E.uvTransform.value.copy(he.matrix))}(ci,yt):yt.isShadowMaterial&&(ci.color.value.copy(yt.color),ci.opacity.value=yt.opacity),ci.ltc_1!==void 0&&(ci.ltc_1.value=Yn.LTC_1),ci.ltc_2!==void 0&&(ci.ltc_2.value=Yn.LTC_2),fl.upload(ye,In.uniformsList,ci,Dt),yt.isShaderMaterial&&(yt.uniformsNeedUpdate=!1)),yt.isShaderMaterial&&yt.uniformsNeedUpdate===!0&&(fl.upload(ye,In.uniformsList,ci,Dt),yt.uniformsNeedUpdate=!1),yt.isSpriteMaterial&&Pi.setValue(ye,"center",It.center),0<Bo.numMultiviewViews?to.updateObjectMatricesUniforms(It,Je,Pi):(Pi.setValue(ye,"modelViewMatrix",It.modelViewMatrix),Pi.setValue(ye,"normalMatrix",It.normalMatrix)),Pi.setValue(ye,"modelMatrix",It.matrixWorld),Bo}function Oa(Je,_t,yt){Je.opacity.value=_t.opacity,_t.color&&Je.diffuse.value.copy(_t.color),_t.emissive&&Je.emissive.value.copy(_t.emissive).multiplyScalar(_t.emissiveIntensity),_t.map&&(Je.map.value=_t.map),_t.alphaMap&&(Je.alphaMap.value=_t.alphaMap),_t.specularMap&&(Je.specularMap.value=_t.specularMap);var It,Jt,Pn=_t.envMap||yt;Pn&&(Je.envMap.value=Pn,Je.flipEnvMap.value=Pn.isCubeTexture?-1:1,Je.reflectivity.value=_t.reflectivity,Je.refractionRatio.value=_t.refractionRatio,Je.maxMipLevel.value=vt.get(Pn).__maxMipLevel),_t.lightMap&&(Je.lightMap.value=_t.lightMap,Je.lightMapIntensity.value=_t.lightMapIntensity),_t.aoMap&&(Je.aoMap.value=_t.aoMap,Je.aoMapIntensity.value=_t.aoMapIntensity),_t.map?It=_t.map:_t.specularMap?It=_t.specularMap:_t.displacementMap?It=_t.displacementMap:_t.normalMap?It=_t.normalMap:_t.bumpMap?It=_t.bumpMap:_t.roughnessMap?It=_t.roughnessMap:_t.metalnessMap?It=_t.metalnessMap:_t.alphaMap?It=_t.alphaMap:_t.emissiveMap&&(It=_t.emissiveMap),It!==void 0&&(It.isWebGLRenderTarget&&(It=It.texture),It.matrixAutoUpdate===!0&&It.updateMatrix(),Je.uvTransform.value.copy(It.matrix)),_t.aoMap?Jt=_t.aoMap:_t.lightMap&&(Jt=_t.lightMap),Jt!==void 0&&(Jt.isWebGLRenderTarget&&(Jt=Jt.texture),Jt.matrixAutoUpdate===!0&&Jt.updateMatrix(),Je.uv2Transform.value.copy(Jt.matrix))}function Ph(Je,_t,yt){Je.roughness.value=_t.roughness,Je.metalness.value=_t.metalness,_t.roughnessMap&&(Je.roughnessMap.value=_t.roughnessMap),_t.metalnessMap&&(Je.metalnessMap.value=_t.metalnessMap),_t.emissiveMap&&(Je.emissiveMap.value=_t.emissiveMap),_t.bumpMap&&(Je.bumpMap.value=_t.bumpMap,Je.bumpScale.value=_t.bumpScale,_t.side===F&&(Je.bumpScale.value*=-1)),_t.normalMap&&(Je.normalMap.value=_t.normalMap,Je.normalScale.value.copy(_t.normalScale),_t.side===F&&Je.normalScale.value.negate()),_t.displacementMap&&(Je.displacementMap.value=_t.displacementMap,Je.displacementScale.value=_t.displacementScale,Je.displacementBias.value=_t.displacementBias),(_t.envMap||yt)&&(Je.envMapIntensity.value=_t.envMapIntensity)}vo.setAnimationLoop(function(Je){gi.isPresenting||mu&&mu(Je)}),typeof window<"u"&&vo.setContext(window),this.setAnimationLoop=function(Je){mu=Je,gi.setAnimationLoop(Je),vo.start()},this.render=function(Je,_t){var yt,It;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),yt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),It=arguments[3]),_t&&_t.isCamera){if(!zn){gr.geometry=null,gr.program=null,gr.wireframe=!1,Lr=-1,!(Ur=null)===Je.autoUpdate&&Je.updateMatrixWorld(),_t.parent===null&&_t.updateMatrixWorld(),gi.enabled&&gi.isPresenting&&(_t=gi.getCamera(_t)),(Te=rn.get(Je,_t)).init(),Je.onBeforeRender(on,Je,_t,yt||sr),Pr.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),Li.setFromProjectionMatrix(Pr),Wa=this.localClippingEnabled,Ui=ri.init(this.clippingPlanes,Wa,_t),(_e=Wt.get(Je,_t)).init(),function On(yn,Mn,Qn,rr){if(yn.visible!==!1){if(yn.layers.test(Mn.layers)){if(yn.isGroup)Qn=yn.renderOrder;else if(yn.isLOD)yn.autoUpdate===!0&&yn.update(Mn);else if(yn.isLight)Te.pushLight(yn),yn.castShadow&&Te.pushShadow(yn);else if(yn.isSprite){if(!yn.frustumCulled||Li.intersectsSprite(yn)){rr&&Rr.setFromMatrixPosition(yn.matrixWorld).applyMatrix4(Pr);var Vn=Vt.update(yn);(Ln=yn.material).visible&&_e.push(yn,Vn,Ln,Qn,Rr.z,null)}}else if(yn.isImmediateRenderObject)rr&&Rr.setFromMatrixPosition(yn.matrixWorld).applyMatrix4(Pr),_e.push(yn,null,yn.material,Qn,Rr.z,null);else if((yn.isMesh||yn.isLine||yn.isPoints)&&(yn.isSkinnedMesh&&yn.skeleton.frame!==ht.render.frame&&(yn.skeleton.update(),yn.skeleton.frame=ht.render.frame),!yn.frustumCulled||Li.intersectsObject(yn))){rr&&Rr.setFromMatrixPosition(yn.matrixWorld).applyMatrix4(Pr),Vn=Vt.update(yn);var Ln=yn.material;if(Array.isArray(Ln))for(var ar=Vn.groups,pr=0,Dr=ar.length;pr<Dr;pr++){var oi=ar[pr],$r=Ln[oi.materialIndex];$r&&$r.visible&&_e.push(yn,Vn,$r,Qn,Rr.z,oi)}else Ln.visible&&_e.push(yn,Vn,Ln,Qn,Rr.z,null)}}var Yi=yn.children;for(pr=0,Dr=Yi.length;pr<Dr;pr++)On(Yi[pr],Mn,Qn,rr)}}(Je,_t,0,on.sortObjects),on.sortObjects===!0&&_e.sort(qt,vr),Ui&&ri.beginShadows();var Jt=Te.state.shadowsArray;ia.render(Jt,Je,_t),Te.setupLights(_t),Ui&&ri.endShadows(),this.info.autoReset&&this.info.reset(),yt!==void 0&&this.setRenderTarget(yt),gi.enabled&&to.isAvailable()&&to.attachCamera(_t),un.render(_e,Je,_t,It);var Pn=_e.opaque,In=_e.transparent;if(Je.overrideMaterial){var Rn=Je.overrideMaterial;Pn.length&&Ml(Pn,Je,_t,Rn),In.length&&Ml(In,Je,_t,Rn)}else Pn.length&&Ml(Pn,Je,_t),In.length&&Ml(In,Je,_t);Je.onAfterRender(on,Je,_t),sr!==null&&(Dt.updateRenderTargetMipmap(sr),Dt.updateMultisampleRenderTarget(sr)),We.buffers.depth.setTest(!0),We.buffers.depth.setMask(!0),We.buffers.color.setMask(!0),We.setPolygonOffset(!1),gi.enabled&&to.isAvailable()&&to.detachCamera(_t),Te=_e=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.mxRenderObject=function(Je,_t,yt,It,Jt){Fc(Je,_t,yt,Vt.update(Je),It,Jt)},this.setFramebuffer=function(Je){$n!==Je&&sr===null&&ye.bindFramebuffer(36160,Je),$n=Je},this.getActiveCubeFace=function(){return xr},this.getActiveMipmapLevel=function(){return cr},this.getRenderTarget=function(){return sr},this.setRenderTarget=function(Je,_t,yt){xr=_t,cr=yt,(sr=Je)&&vt.get(Je).__webglFramebuffer===void 0&&Dt.setupRenderTarget(Je);var It=$n,Jt=!1;if(Je){var Pn=vt.get(Je).__webglFramebuffer;Je.isWebGLCubeRenderTarget?(It=Pn[_t||0],Jt=!0):It=Je.isWebGLMultisampleRenderTarget?vt.get(Je).__webglMultisampledFramebuffer:Pn,Yr.copy(Je.viewport),qi.copy(Je.scissor),Xi=Je.scissorTest}else Yr.copy(yr).multiplyScalar(Di).floor(),qi.copy(fi).multiplyScalar(Di).floor(),Xi=_r;if(mi!==It&&(ye.bindFramebuffer(36160,It),mi=It),We.viewport(Yr),We.scissor(qi),We.setScissorTest(Xi),Jt){var In=vt.get(Je.texture);ye.framebufferTexture2D(36160,36064,34069+(_t||0),In.__webglTexture,yt||0)}},this.readRenderTargetPixels=function(Je,_t,yt,It,Jt,Pn,In){if(Je&&Je.isWebGLRenderTarget){var Rn=vt.get(Je).__webglFramebuffer;if(Je.isWebGLCubeRenderTarget&&In!==void 0&&(Rn=Rn[In]),Rn){var On=!1;Rn!==mi&&(ye.bindFramebuffer(36160,Rn),On=!0);try{var yn=Je.texture,Mn=yn.format,Qn=yn.type;if(Mn!==Ce&&Kt.convert(Mn)!==ye.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Qn===jn||Kt.convert(Qn)===ye.getParameter(35738)||Qn===En&&(Ge.isWebGL2||ke.get("OES_texture_float")||ke.get("WEBGL_color_buffer_float"))||Qn===Xn&&(Ge.isWebGL2?ke.get("EXT_color_buffer_float"):ke.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ye.checkFramebufferStatus(36160)===36053?0<=_t&&_t<=Je.width-It&&0<=yt&&yt<=Je.height-Jt&&ye.readPixels(_t,yt,It,Jt,Kt.convert(Mn),Kt.convert(Qn),Pn):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{On&&ye.bindFramebuffer(36160,mi)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(Je,_t,yt){yt===void 0&&(yt=0);var It=Math.pow(2,-yt),Jt=Math.floor(_t.image.width*It),Pn=Math.floor(_t.image.height*It),In=Kt.convert(_t.format);Dt.setTexture2D(_t,0),ye.copyTexImage2D(3553,yt,In,Je.x,Je.y,Jt,Pn,0),We.unbindTexture()},this.copyTextureToTexture=function(Je,_t,yt,It){var Jt=_t.image.width,Pn=_t.image.height,In=Kt.convert(yt.format),Rn=Kt.convert(yt.type);Dt.setTexture2D(yt,0),_t.isDataTexture?ye.texSubImage2D(3553,It||0,Je.x,Je.y,Jt,Pn,In,Rn,_t.image.data):ye.texSubImage2D(3553,It||0,Je.x,Je.y,In,Rn,_t.image),We.unbindTexture()},this.initTexture=function(Je){Dt.setTexture2D(Je,0),We.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Fu(n,o){this.name="",this.color=new Un(n),this.density=o!==void 0?o:25e-5}function Su(n,o,u){this.name="",this.color=new Un(n),this.near=o!==void 0?o:1,this.far=u!==void 0?u:1e3}function Ws(n,o){this.array=n,this.stride=o,this.count=n!==void 0?n.length/o:0,this.usage=il,this.updateRange={offset:0,count:-1},this.version=0}Jh.prototype=Object.assign(Object.create(Do.prototype),{constructor:Jh,isWebGLMultiviewRenderTarget:!0,copy:function(n){return Do.prototype.copy.call(this,n),this.numViews=n.numViews,this},setNumViews:function(n){return this.numViews!==n&&(this.numViews=n,this.dispose()),this}}),Bu.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Bu,isArrayCamera:!0}),Rl.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Rl,isGroup:!0}),Object.assign(hp.prototype,Qa.prototype),Object.assign(Fu.prototype,{isFogExp2:!0,clone:function(){return new Fu(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Su.prototype,{isFog:!0,clone:function(){return new Su(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ws.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(Ws.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(n){return this.usage=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this},copyAt:function(n,o,u){n*=this.stride,u*=o.stride;for(var m=0,B=this.stride;m<B;m++)this.array[n+m]=o.array[u+m];return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(n){return this.onUploadCallback=n,this}});var pl,dc=new gt;function Gc(n,o,u,m){this.data=n,this.itemSize=o,this.offset=u,this.normalized=m===!0}function hc(n){Or.call(this),this.type="SpriteMaterial",this.color=new Un(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(n)}Object.defineProperties(Gc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Gc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(n){for(var o=0,u=this.data.count;o<u;o++)dc.x=this.getX(o),dc.y=this.getY(o),dc.z=this.getZ(o),dc.applyMatrix4(n),this.setXYZ(o,dc.x,dc.y,dc.z);return this},setX:function(n,o){return this.data.array[n*this.data.stride+this.offset]=o,this},setY:function(n,o){return this.data.array[n*this.data.stride+this.offset+1]=o,this},setZ:function(n,o){return this.data.array[n*this.data.stride+this.offset+2]=o,this},setW:function(n,o){return this.data.array[n*this.data.stride+this.offset+3]=o,this},getX:function(n){return this.data.array[n*this.data.stride+this.offset]},getY:function(n){return this.data.array[n*this.data.stride+this.offset+1]},getZ:function(n){return this.data.array[n*this.data.stride+this.offset+2]},getW:function(n){return this.data.array[n*this.data.stride+this.offset+3]},setXY:function(n,o,u){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this},setXYZ:function(n,o,u,m){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this.data.array[n+2]=m,this},setXYZW:function(n,o,u,m,B){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this.data.array[n+2]=m,this.data.array[n+3]=B,this}}),((hc.prototype=Object.create(Or.prototype)).constructor=hc).prototype.isSpriteMaterial=!0,hc.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this};var Tu=new gt,fc=new gt,$c=new gt,Ll=new An,Wc=new An,Bd=new ur,Md=new gt,pc=new gt,Xr=new gt,fp=new An,qh=new An,Jc=new An;function qc(n){if(Fn.call(this),this.type="Sprite",pl===void 0){pl=new xn;var o=new Ws(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);pl.setIndex([0,1,2,0,2,3]),pl.setAttribute("position",new Gc(o,3,0,!1)),pl.setAttribute("uv",new Gc(o,2,3,!1))}this.geometry=pl,this.material=n!==void 0?n:new hc,this.center=new An(.5,.5)}function Fd(n,o,u,m,B,k){Ll.subVectors(n,u).addScalar(.5).multiply(m),B!==void 0?(Wc.x=k*Ll.x-B*Ll.y,Wc.y=B*Ll.x+k*Ll.y):Wc.copy(Ll),n.copy(o),n.x+=Wc.x,n.y+=Wc.y,n.applyMatrix4(Bd)}qc.prototype=Object.assign(Object.create(Fn.prototype),{constructor:qc,isSprite:!0,raycast:function(n,o){n.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fc.setFromMatrixScale(this.matrixWorld),Bd.copy(n.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(n.camera.matrixWorldInverse,this.matrixWorld),$c.setFromMatrixPosition(this.modelViewMatrix),n.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fc.multiplyScalar(-$c.z);var u,m,B=this.material.rotation;B!==0&&(m=Math.cos(B),u=Math.sin(B));var k=this.center;Fd(Md.set(-.5,-.5,0),$c,k,fc,u,m),Fd(pc.set(.5,-.5,0),$c,k,fc,u,m),Fd(Xr.set(.5,.5,0),$c,k,fc,u,m),fp.set(0,0),qh.set(1,0),Jc.set(1,1);var ne=n.ray.intersectTriangle(Md,pc,Xr,!1,Tu);if(ne!==null||(Fd(pc.set(-.5,.5,0),$c,k,fc,u,m),qh.set(0,1),(ne=n.ray.intersectTriangle(Md,Xr,pc,!1,Tu))!==null)){var se=n.ray.origin.distanceTo(Tu);se<n.near||se>n.far||o.push({distance:se,point:Tu.clone(),uv:lo.getUV(Tu,Md,pc,Xr,fp,qh,Jc,new An),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(n){return Fn.prototype.copy.call(this,n),n.center!==void 0&&this.center.copy(n.center),this}});var Sd=new gt,Ua=new gt;function Pu(){Fn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Il(n,o){n&&n.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Oi.call(this,n,o),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ur,this.bindMatrixInverse=new ur}Pu.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Pu,isLOD:!0,copy:function(n){Fn.prototype.copy.call(this,n,!1);for(var o=n.levels,u=0,m=o.length;u<m;u++){var B=o[u];this.addLevel(B.object.clone(),B.distance)}return this.autoUpdate=n.autoUpdate,this},addLevel:function(n,o){o===void 0&&(o=0),o=Math.abs(o);for(var u=this.levels,m=0;m<u.length&&!(o<u[m].distance);m++);return u.splice(m,0,{distance:o,object:n}),this.add(n),this},getObjectForDistance:function(n){var o=this.levels;if(0<o.length){for(var u=1,m=o.length;u<m&&!(n<o[u].distance);u++);return o[u-1].object}return null},raycast:function(n,o){if(0<this.levels.length){Sd.setFromMatrixPosition(this.matrixWorld);var u=n.ray.origin.distanceTo(Sd);this.getObjectForDistance(u).raycast(n,o)}},update:function(n){var o=this.levels;if(1<o.length){Sd.setFromMatrixPosition(n.matrixWorld),Ua.setFromMatrixPosition(this.matrixWorld);var u=Sd.distanceTo(Ua);o[0].object.visible=!0;for(var m=1,B=o.length;m<B&&u>=o[m].distance;m++)o[m-1].object.visible=!1,o[m].object.visible=!0;for(;m<B;m++)o[m].object.visible=!1}},toJSON:function(n){var o=Fn.prototype.toJSON.call(this,n);this.autoUpdate===!1&&(o.object.autoUpdate=!1),o.object.levels=[];for(var u=this.levels,m=0,B=u.length;m<B;m++){var k=u[m];o.object.levels.push({object:k.object.uuid,distance:k.distance})}return o}}),Il.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Il,isSkinnedMesh:!0,bind:function(n,o){this.skeleton=n,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.getInverse(o)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var n=new Ci,o=this.geometry.attributes.skinWeight,u=0,m=o.count;u<m;u++){n.x=o.getX(u),n.y=o.getY(u),n.z=o.getZ(u),n.w=o.getW(u);var B=1/n.manhattanLength();B!=1/0?n.multiplyScalar(B):n.set(1,0,0,0),o.setXYZW(u,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(n){Oi.prototype.updateMatrixWorld.call(this,n),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Td=new ur,pp=new ur;function Ou(n,o){if(n=n||[],this.bones=n.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,o===void 0)this.calculateInverses();else if(this.bones.length===o.length)this.boneInverses=o.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var u=0,m=this.bones.length;u<m;u++)this.boneInverses.push(new ur)}}function ha(){Fn.call(this),this.type="Bone"}Object.assign(Ou.prototype,{calculateInverses:function(){this.boneInverses=[];for(var n=0,o=this.bones.length;n<o;n++){var u=new ur;this.bones[n]&&u.getInverse(this.bones[n].matrixWorld),this.boneInverses.push(u)}},pose:function(){var n,o,u;for(o=0,u=this.bones.length;o<u;o++)(n=this.bones[o])&&n.matrixWorld.getInverse(this.boneInverses[o]);for(o=0,u=this.bones.length;o<u;o++)(n=this.bones[o])&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))},update:function(){for(var n=this.bones,o=this.boneInverses,u=this.boneMatrices,m=this.boneTexture,B=0,k=n.length;B<k;B++){var ne=n[B]?n[B].matrixWorld:pp;Td.multiplyMatrices(ne,o[B]),Td.toArray(u,16*B)}m!==void 0&&(m.needsUpdate=!0)},clone:function(){return new Ou(this.bones,this.boneInverses)},getBoneByName:function(n){for(var o=0,u=this.bones.length;o<u;o++){var m=this.bones[o];if(m.name===n)return m}}}),ha.prototype=Object.assign(Object.create(Fn.prototype),{constructor:ha,isBone:!0});var ml=new ur,Pd=new ur,mc=[],kl=new Oi;function Ru(n,o,u){Oi.call(this,n,o),this.instanceMatrix=new $t(new Float32Array(16*u),16),this.count=u,this.frustumCulled=!1}function $i(n){Or.call(this),this.type="LineBasicMaterial",this.color=new Un(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(n)}Ru.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Ru,isInstancedMesh:!0,getMatrixAt:function(n,o){o.fromArray(this.instanceMatrix.array,16*n)},raycast:function(n,o){var u=this.matrixWorld,m=this.count;if(kl.geometry=this.geometry,kl.material=this.material,kl.material!==void 0)for(var B=0;B<m;B++)this.getMatrixAt(B,ml),Pd.multiplyMatrices(u,ml),kl.matrixWorld=Pd,kl.raycast(n,mc),0<mc.length&&(mc[0].instanceId=B,mc[0].object=this,o.push(mc[0]),mc.length=0)},setMatrixAt:function(n,o){o.toArray(this.instanceMatrix.array,16*n)},updateMorphTargets:function(){}}),(($i.prototype=Object.create(Or.prototype)).constructor=$i).prototype.isLineBasicMaterial=!0,$i.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this};var Xh=new gt,Od=new gt,Rd=new ur,ws=new Va,Ld=new Po;function go(n,o,u){u===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Fn.call(this),this.type="Line",this.geometry=n!==void 0?n:new xn,this.material=o!==void 0?o:new $i}go.prototype=Object.assign(Object.create(Fn.prototype),{constructor:go,isLine:!0,computeLineDistances:function(){var n=this.geometry;if(n.isBufferGeometry)if(n.index===null){for(var o=n.attributes.position,u=[0],m=1,B=o.count;m<B;m++)Xh.fromBufferAttribute(o,m-1),Od.fromBufferAttribute(o,m),u[m]=u[m-1],u[m]+=Xh.distanceTo(Od);n.setAttribute("lineDistance",new Wn(u,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var k=n.vertices;for((u=n.lineDistances)[0]=0,m=1,B=k.length;m<B;m++)u[m]=u[m-1],u[m]+=k[m-1].distanceTo(k[m])}return this},raycast:function(n,o){var u=n.linePrecision,m=this.geometry,B=this.matrixWorld;if(m.boundingSphere===null&&m.computeBoundingSphere(),Ld.copy(m.boundingSphere),Ld.applyMatrix4(B),Ld.radius+=u,n.ray.intersectsSphere(Ld)!==!1){Rd.getInverse(B),ws.copy(n.ray).applyMatrix4(Rd);var k=u/((this.scale.x+this.scale.y+this.scale.z)/3),ne=k*k,se=new gt,ge=new gt,ve=new gt,we=new gt,_e=this&&this.isLineSegments?2:1;if(m.isBufferGeometry){var Te=m.index,ye=m.attributes.position.array;if(Te!==null)for(var ke=Te.array,Ge=0,We=ke.length-1;Ge<We;Ge+=_e){var ht=ke[Ge],vt=ke[Ge+1];se.fromArray(ye,3*ht),ge.fromArray(ye,3*vt),ne<ws.distanceSqToSegment(se,ge,we,ve)||(we.applyMatrix4(this.matrixWorld),(Xe=n.ray.origin.distanceTo(we))<n.near||Xe>n.far||o.push({distance:Xe,point:ve.clone().applyMatrix4(this.matrixWorld),index:Ge,face:null,faceIndex:null,object:this}))}else for(Ge=0,We=ye.length/3-1;Ge<We;Ge+=_e)se.fromArray(ye,3*Ge),ge.fromArray(ye,3*Ge+3),ne<ws.distanceSqToSegment(se,ge,we,ve)||(we.applyMatrix4(this.matrixWorld),(Xe=n.ray.origin.distanceTo(we))<n.near||Xe>n.far||o.push({distance:Xe,point:ve.clone().applyMatrix4(this.matrixWorld),index:Ge,face:null,faceIndex:null,object:this}))}else if(m.isGeometry){var Dt=m.vertices,Lt=Dt.length;for(Ge=0;Ge<Lt-1;Ge+=_e){var Xe;ne<ws.distanceSqToSegment(Dt[Ge],Dt[Ge+1],we,ve)||(we.applyMatrix4(this.matrixWorld),(Xe=n.ray.origin.distanceTo(we))<n.near||Xe>n.far||o.push({distance:Xe,point:ve.clone().applyMatrix4(this.matrixWorld),index:Ge,face:null,faceIndex:null,object:this}))}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Lu=new gt,Iu=new gt;function Hi(n,o){go.call(this,n,o),this.type="LineSegments"}function Id(n,o){go.call(this,n,o),this.type="LineLoop"}function gl(n){Or.call(this),this.type="PointsMaterial",this.color=new Un(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(n)}Hi.prototype=Object.assign(Object.create(go.prototype),{constructor:Hi,isLineSegments:!0,computeLineDistances:function(){var n=this.geometry;if(n.isBufferGeometry)if(n.index===null){for(var o=n.attributes.position,u=[],m=0,B=o.count;m<B;m+=2)Lu.fromBufferAttribute(o,m),Iu.fromBufferAttribute(o,m+1),u[m]=m===0?0:u[m-1],u[m+1]=u[m]+Lu.distanceTo(Iu);n.setAttribute("lineDistance",new Wn(u,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var k=n.vertices;for(u=n.lineDistances,m=0,B=k.length;m<B;m+=2)Lu.copy(k[m]),Iu.copy(k[m+1]),u[m]=m===0?0:u[m-1],u[m+1]=u[m]+Lu.distanceTo(Iu)}return this}}),Id.prototype=Object.assign(Object.create(go.prototype),{constructor:Id,isLineLoop:!0}),((gl.prototype=Object.create(Or.prototype)).constructor=gl).prototype.isPointsMaterial=!0,gl.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.morphTargets=n.morphTargets,this};var mp=new ur,kd=new Va,ku=new Po,Vd=new gt;function gc(n,o){Fn.call(this),this.type="Points",this.geometry=n!==void 0?n:new xn,this.material=o!==void 0?o:new gl,this.updateMorphTargets()}function Nd(n,o,u,m,B,k,ne){var se=kd.distanceSqToPoint(n);if(se<u){var ge=new gt;kd.closestPointToPoint(n,ge),ge.applyMatrix4(m);var ve=B.ray.origin.distanceTo(ge);if(ve<B.near||ve>B.far)return;k.push({distance:ve,distanceToRay:Math.sqrt(se),point:ge,index:o,face:null,object:ne})}}function ra(n,o,u,m,B,k,ne,se,ge){wi.call(this,n,o,u,m,B,k,ne,se,ge),this.format=ne!==void 0?ne:Co,this.minFilter=k!==void 0?k:gn,this.magFilter=B!==void 0?B:gn,this.generateMipmaps=!1}function Ga(n,o,u,m,B,k,ne,se,ge,ve,we,_e){wi.call(this,null,k,ne,se,ge,ve,m,B,we,_e),this.image={width:o,height:u},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}function Yh(n,o,u,m,B,k,ne,se,ge){wi.call(this,n,o,u,m,B,k,ne,se,ge),this.needsUpdate=!0}function Zh(n,o,u,m,B,k,ne,se,ge,ve){if((ve=ve!==void 0?ve:zi)!==zi&&ve!==Yo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");u===void 0&&ve===zi&&(u=vi),u===void 0&&ve===Yo&&(u=yi),wi.call(this,null,m,B,k,ne,se,ve,u,ge),this.image={width:n,height:o},this.magFilter=ne!==void 0?ne:rt,this.minFilter=se!==void 0?se:rt,this.flipY=!1,this.generateMipmaps=!1}function Vl(n){xn.call(this),this.type="WireframeGeometry";var o,u,m,B,k,ne,se,ge,ve,we,_e=[],Te=[0,0],ye={},ke=["a","b","c"];if(n&&n.isGeometry){var Ge=n.faces;for(o=0,m=Ge.length;o<m;o++){var We=Ge[o];for(u=0;u<3;u++)se=We[ke[u]],ge=We[ke[(u+1)%3]],Te[0]=Math.min(se,ge),Te[1]=Math.max(se,ge),ye[ve=Te[0]+","+Te[1]]===void 0&&(ye[ve]={index1:Te[0],index2:Te[1]})}for(ve in ye)ne=ye[ve],we=n.vertices[ne.index1],_e.push(we.x,we.y,we.z),we=n.vertices[ne.index2],_e.push(we.x,we.y,we.z)}else if(n&&n.isBufferGeometry){var ht,vt,Dt,Lt,Xe,Vt;if(we=new gt,n.index!==null){for(ht=n.attributes.position,vt=n.index,(Dt=n.groups).length===0&&(Dt=[{start:0,count:vt.count,materialIndex:0}]),B=0,k=Dt.length;B<k;++B)for(m=(o=(Lt=Dt[B]).start)+Lt.count;o<m;o+=3)for(u=0;u<3;u++)se=vt.getX(o+u),ge=vt.getX(o+(u+1)%3),Te[0]=Math.min(se,ge),Te[1]=Math.max(se,ge),ye[ve=Te[0]+","+Te[1]]===void 0&&(ye[ve]={index1:Te[0],index2:Te[1]});for(ve in ye)ne=ye[ve],we.fromBufferAttribute(ht,ne.index1),_e.push(we.x,we.y,we.z),we.fromBufferAttribute(ht,ne.index2),_e.push(we.x,we.y,we.z)}else for(o=0,m=(ht=n.attributes.position).count/3;o<m;o++)for(u=0;u<3;u++)Xe=3*o+u,we.fromBufferAttribute(ht,Xe),_e.push(we.x,we.y,we.z),Vt=3*o+(u+1)%3,we.fromBufferAttribute(ht,Vt),_e.push(we.x,we.y,we.z)}this.setAttribute("position",new Wn(_e,3))}function vl(n,o,u){nr.call(this),this.type="ParametricGeometry",this.parameters={func:n,slices:o,stacks:u},this.fromBufferGeometry(new Xc(n,o,u)),this.mergeVertices()}function Xc(n,o,u){xn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:n,slices:o,stacks:u};var m,B,k=[],ne=[],se=[],ge=[],ve=new gt,we=new gt,_e=new gt,Te=new gt,ye=new gt;n.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var ke=o+1;for(m=0;m<=u;m++){var Ge=m/u;for(B=0;B<=o;B++){var We=B/o;n(We,Ge,we),ne.push(we.x,we.y,we.z),0<=We-1e-5?(n(We-1e-5,Ge,_e),Te.subVectors(we,_e)):(n(1e-5+We,Ge,_e),Te.subVectors(_e,we)),0<=Ge-1e-5?(n(We,Ge-1e-5,_e),ye.subVectors(we,_e)):(n(We,1e-5+Ge,_e),ye.subVectors(_e,we)),ve.crossVectors(Te,ye).normalize(),se.push(ve.x,ve.y,ve.z),ge.push(We,Ge)}}for(m=0;m<u;m++)for(B=0;B<o;B++){var ht=m*ke+B,vt=m*ke+B+1,Dt=(m+1)*ke+B+1,Lt=(m+1)*ke+B;k.push(ht,vt,Lt),k.push(vt,Dt,Lt)}this.setIndex(k),this.setAttribute("position",new Wn(ne,3)),this.setAttribute("normal",new Wn(se,3)),this.setAttribute("uv",new Wn(ge,2))}function Vu(n,o,u,m){nr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:o,radius:u,detail:m},this.fromBufferGeometry(new $a(n,o,u,m)),this.mergeVertices()}function $a(n,o,u,m){xn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:o,radius:u,detail:m},u=u||1;var B=[],k=[];function ne(_e,Te,ye,ke){var Ge,We,ht=Math.pow(2,ke),vt=[];for(Ge=0;Ge<=ht;Ge++){vt[Ge]=[];var Dt=_e.clone().lerp(ye,Ge/ht),Lt=Te.clone().lerp(ye,Ge/ht),Xe=ht-Ge;for(We=0;We<=Xe;We++)vt[Ge][We]=We===0&&Ge===ht?Dt:Dt.clone().lerp(Lt,We/Xe)}for(Ge=0;Ge<ht;Ge++)for(We=0;We<2*(ht-Ge)-1;We++){var Vt=Math.floor(We/2);We%2==0?(se(vt[Ge][Vt+1]),se(vt[Ge+1][Vt]),se(vt[Ge][Vt])):(se(vt[Ge][Vt+1]),se(vt[Ge+1][Vt+1]),se(vt[Ge+1][Vt]))}}function se(_e){B.push(_e.x,_e.y,_e.z)}function ge(_e,Te){var ye=3*_e;Te.x=n[0+ye],Te.y=n[1+ye],Te.z=n[2+ye]}function ve(_e,Te,ye,ke){ke<0&&_e.x===1&&(k[Te]=_e.x-1),ye.x===0&&ye.z===0&&(k[Te]=ke/2/Math.PI+.5)}function we(_e){return Math.atan2(_e.z,-_e.x)}(function(_e){for(var Te=new gt,ye=new gt,ke=new gt,Ge=0;Ge<o.length;Ge+=3)ge(o[Ge+0],Te),ge(o[Ge+1],ye),ge(o[Ge+2],ke),ne(Te,ye,ke,_e)})(m=m||0),function(_e){for(var Te=new gt,ye=0;ye<B.length;ye+=3)Te.x=B[ye+0],Te.y=B[ye+1],Te.z=B[ye+2],Te.normalize().multiplyScalar(_e),B[ye+0]=Te.x,B[ye+1]=Te.y,B[ye+2]=Te.z}(u),function(){for(var _e=new gt,Te=0;Te<B.length;Te+=3){_e.x=B[Te+0],_e.y=B[Te+1],_e.z=B[Te+2];var ye=we(_e)/2/Math.PI+.5,ke=(Ge=_e,Math.atan2(-Ge.y,Math.sqrt(Ge.x*Ge.x+Ge.z*Ge.z))/Math.PI+.5);k.push(ye,1-ke)}var Ge;(function(){for(var We=new gt,ht=new gt,vt=new gt,Dt=new gt,Lt=new An,Xe=new An,Vt=new An,At=0,Wt=0;At<B.length;At+=9,Wt+=6){We.set(B[At+0],B[At+1],B[At+2]),ht.set(B[At+3],B[At+4],B[At+5]),vt.set(B[At+6],B[At+7],B[At+8]),Lt.set(k[Wt+0],k[Wt+1]),Xe.set(k[Wt+2],k[Wt+3]),Vt.set(k[Wt+4],k[Wt+5]),Dt.copy(We).add(ht).add(vt).divideScalar(3);var rn=we(Dt);ve(Lt,Wt+0,We,rn),ve(Xe,Wt+2,ht,rn),ve(Vt,Wt+4,vt,rn)}})(),function(){for(var We=0;We<k.length;We+=6){var ht=k[We+0],vt=k[We+2],Dt=k[We+4],Lt=Math.max(ht,vt,Dt),Xe=Math.min(ht,vt,Dt);.9<Lt&&Xe<.1&&(ht<.2&&(k[We+0]+=1),vt<.2&&(k[We+2]+=1),Dt<.2&&(k[We+4]+=1))}}()}(),this.setAttribute("position",new Wn(B,3)),this.setAttribute("normal",new Wn(B.slice(),3)),this.setAttribute("uv",new Wn(k,2)),m===0?this.computeVertexNormals():this.normalizeNormals()}function Nu(n,o){nr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Js(n,o)),this.mergeVertices()}function Js(n,o){$a.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,o),this.type="TetrahedronBufferGeometry",this.parameters={radius:n,detail:o}}function Nl(n,o){nr.call(this),this.type="OctahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Yc(n,o)),this.mergeVertices()}function Yc(n,o){$a.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,o),this.type="OctahedronBufferGeometry",this.parameters={radius:n,detail:o}}function zu(n,o){nr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Zc(n,o)),this.mergeVertices()}function Zc(n,o){var u=(1+Math.sqrt(5))/2;$a.call(this,[-1,u,0,1,u,0,-1,-u,0,1,-u,0,0,-1,u,0,1,u,0,-1,-u,0,1,-u,u,0,-1,u,0,1,-u,0,-1,-u,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,o),this.type="IcosahedronBufferGeometry",this.parameters={radius:n,detail:o}}function vc(n,o){nr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Kc(n,o)),this.mergeVertices()}function Kc(n,o){var u=(1+Math.sqrt(5))/2,m=1/u;$a.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-m,-u,0,-m,u,0,m,-u,0,m,u,-m,-u,0,-m,u,0,m,-u,0,m,u,0,-u,0,-m,u,0,-m,-u,0,m,u,0,m],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,o),this.type="DodecahedronBufferGeometry",this.parameters={radius:n,detail:o}}function yc(n,o,u,m,B,k){nr.call(this),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:o,radius:u,radialSegments:m,closed:B},k!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var ne=new Cc(n,o,u,m,B);this.tangents=ne.tangents,this.normals=ne.normals,this.binormals=ne.binormals,this.fromBufferGeometry(ne),this.mergeVertices()}function Cc(n,o,u,m,B){xn.call(this),this.type="TubeBufferGeometry",this.parameters={path:n,tubularSegments:o,radius:u,radialSegments:m,closed:B},o=o||64,u=u||1,m=m||8,B=B||!1;var k=n.computeFrenetFrames(o,B);this.tangents=k.tangents,this.normals=k.normals,this.binormals=k.binormals;var ne,se,ge=new gt,ve=new gt,we=new An,_e=new gt,Te=[],ye=[],ke=[],Ge=[];function We(ht){_e=n.getPointAt(ht/o,_e);var vt=k.normals[ht],Dt=k.binormals[ht];for(se=0;se<=m;se++){var Lt=se/m*Math.PI*2,Xe=Math.sin(Lt),Vt=-Math.cos(Lt);ve.x=Vt*vt.x+Xe*Dt.x,ve.y=Vt*vt.y+Xe*Dt.y,ve.z=Vt*vt.z+Xe*Dt.z,ve.normalize(),ye.push(ve.x,ve.y,ve.z),ge.x=_e.x+u*ve.x,ge.y=_e.y+u*ve.y,ge.z=_e.z+u*ve.z,Te.push(ge.x,ge.y,ge.z)}}(function(){for(ne=0;ne<o;ne++)We(ne);We(B===!1?o:0),function(){for(ne=0;ne<=o;ne++)for(se=0;se<=m;se++)we.x=ne/o,we.y=se/m,ke.push(we.x,we.y)}(),function(){for(se=1;se<=o;se++)for(ne=1;ne<=m;ne++){var ht=(m+1)*(se-1)+(ne-1),vt=(m+1)*se+(ne-1),Dt=(m+1)*se+ne,Lt=(m+1)*(se-1)+ne;Ge.push(ht,vt,Lt),Ge.push(vt,Dt,Lt)}}()})(),this.setIndex(Ge),this.setAttribute("position",new Wn(Te,3)),this.setAttribute("normal",new Wn(ye,3)),this.setAttribute("uv",new Wn(ke,2))}function Ec(n,o,u,m,B,k,ne){nr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:o,tubularSegments:u,radialSegments:m,p:B,q:k},ne!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ju(n,o,u,m,B,k)),this.mergeVertices()}function ju(n,o,u,m,B,k){xn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:n,tube:o,tubularSegments:u,radialSegments:m,p:B,q:k},n=n||1,o=o||.4,u=Math.floor(u)||64,m=Math.floor(m)||8,B=B||2,k=k||3;var ne,se,ge=[],ve=[],we=[],_e=[],Te=new gt,ye=new gt,ke=new gt,Ge=new gt,We=new gt,ht=new gt,vt=new gt;for(ne=0;ne<=u;++ne){var Dt=ne/u*B*Math.PI*2;for(pn(Dt,B,k,n,ke),pn(.01+Dt,B,k,n,Ge),ht.subVectors(Ge,ke),vt.addVectors(Ge,ke),We.crossVectors(ht,vt),vt.crossVectors(We,ht),We.normalize(),vt.normalize(),se=0;se<=m;++se){var Lt=se/m*Math.PI*2,Xe=-o*Math.cos(Lt),Vt=o*Math.sin(Lt);Te.x=ke.x+(Xe*vt.x+Vt*We.x),Te.y=ke.y+(Xe*vt.y+Vt*We.y),Te.z=ke.z+(Xe*vt.z+Vt*We.z),ve.push(Te.x,Te.y,Te.z),ye.subVectors(Te,ke).normalize(),we.push(ye.x,ye.y,ye.z),_e.push(ne/u),_e.push(se/m)}}for(se=1;se<=u;se++)for(ne=1;ne<=m;ne++){var At=(m+1)*(se-1)+(ne-1),Wt=(m+1)*se+(ne-1),rn=(m+1)*se+ne,un=(m+1)*(se-1)+ne;ge.push(At,Wt,un),ge.push(Wt,rn,un)}function pn(wn,Tn,Kt,on,zn){var $n=Math.cos(wn),xr=Math.sin(wn),cr=Kt/Tn*wn,sr=Math.cos(cr);zn.x=on*(2+sr)*.5*$n,zn.y=on*(2+sr)*xr*.5,zn.z=on*Math.sin(cr)*.5}this.setIndex(ge),this.setAttribute("position",new Wn(ve,3)),this.setAttribute("normal",new Wn(we,3)),this.setAttribute("uv",new Wn(_e,2))}function Hu(n,o,u,m,B){nr.call(this),this.type="TorusGeometry",this.parameters={radius:n,tube:o,radialSegments:u,tubularSegments:m,arc:B},this.fromBufferGeometry(new zl(n,o,u,m,B)),this.mergeVertices()}function zl(n,o,u,m,B){xn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:n,tube:o,radialSegments:u,tubularSegments:m,arc:B},n=n||1,o=o||.4,u=Math.floor(u)||8,m=Math.floor(m)||6,B=B||2*Math.PI;var k,ne,se=[],ge=[],ve=[],we=[],_e=new gt,Te=new gt,ye=new gt;for(k=0;k<=u;k++)for(ne=0;ne<=m;ne++){var ke=ne/m*B,Ge=k/u*Math.PI*2;Te.x=(n+o*Math.cos(Ge))*Math.cos(ke),Te.y=(n+o*Math.cos(Ge))*Math.sin(ke),Te.z=o*Math.sin(Ge),ge.push(Te.x,Te.y,Te.z),_e.x=n*Math.cos(ke),_e.y=n*Math.sin(ke),ye.subVectors(Te,_e).normalize(),ve.push(ye.x,ye.y,ye.z),we.push(ne/m),we.push(k/u)}for(k=1;k<=u;k++)for(ne=1;ne<=m;ne++){var We=(m+1)*k+ne-1,ht=(m+1)*(k-1)+ne-1,vt=(m+1)*(k-1)+ne,Dt=(m+1)*k+ne;se.push(We,ht,Dt),se.push(ht,vt,Dt)}this.setIndex(se),this.setAttribute("position",new Wn(ge,3)),this.setAttribute("normal",new Wn(ve,3)),this.setAttribute("uv",new Wn(we,2))}gc.prototype=Object.assign(Object.create(Fn.prototype),{constructor:gc,isPoints:!0,raycast:function(n,o){var u=this.geometry,m=this.matrixWorld,B=n.params.Points.threshold;if(u.boundingSphere===null&&u.computeBoundingSphere(),ku.copy(u.boundingSphere),ku.applyMatrix4(m),ku.radius+=B,n.ray.intersectsSphere(ku)!==!1){mp.getInverse(m),kd.copy(n.ray).applyMatrix4(mp);var k=B/((this.scale.x+this.scale.y+this.scale.z)/3),ne=k*k;if(u.isBufferGeometry){var se=u.index,ge=u.attributes.position.array;if(se!==null)for(var ve=se.array,we=0,_e=ve.length;we<_e;we++){var Te=ve[we];Vd.fromArray(ge,3*Te),Nd(Vd,Te,ne,m,n,o,this)}else{we=0;for(var ye=ge.length/3;we<ye;we++)Vd.fromArray(ge,3*we),Nd(Vd,we,ne,m,n,o,this)}}else{var ke=u.vertices;for(we=0,ye=ke.length;we<ye;we++)Nd(ke[we],we,ne,m,n,o,this)}}},updateMorphTargets:function(){var n,o,u,m=this.geometry;if(m.isBufferGeometry){var B=m.morphAttributes,k=Object.keys(B);if(0<k.length){var ne=B[k[0]];if(ne!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},n=0,o=ne.length;n<o;n++)u=ne[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=n}}else{var se=m.morphTargets;se!==void 0&&0<se.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ra.prototype=Object.assign(Object.create(wi.prototype),{constructor:ra,isVideoTexture:!0,update:function(){var n=this.image;n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Ga.prototype=Object.create(wi.prototype)).constructor=Ga).prototype.isCompressedTexture=!0,((Yh.prototype=Object.create(wi.prototype)).constructor=Yh).prototype.isCanvasTexture=!0,((Zh.prototype=Object.create(wi.prototype)).constructor=Zh).prototype.isDepthTexture=!0,(Vl.prototype=Object.create(xn.prototype)).constructor=Vl,(vl.prototype=Object.create(nr.prototype)).constructor=vl,(Xc.prototype=Object.create(xn.prototype)).constructor=Xc,(Vu.prototype=Object.create(nr.prototype)).constructor=Vu,($a.prototype=Object.create(xn.prototype)).constructor=$a,(Nu.prototype=Object.create(nr.prototype)).constructor=Nu,(Js.prototype=Object.create($a.prototype)).constructor=Js,(Nl.prototype=Object.create(nr.prototype)).constructor=Nl,(Yc.prototype=Object.create($a.prototype)).constructor=Yc,(zu.prototype=Object.create(nr.prototype)).constructor=zu,(Zc.prototype=Object.create($a.prototype)).constructor=Zc,(vc.prototype=Object.create(nr.prototype)).constructor=vc,(Kc.prototype=Object.create($a.prototype)).constructor=Kc,(yc.prototype=Object.create(nr.prototype)).constructor=yc,((Cc.prototype=Object.create(xn.prototype)).constructor=Cc).prototype.toJSON=function(){var n=xn.prototype.toJSON.call(this);return n.path=this.parameters.path.toJSON(),n},(Ec.prototype=Object.create(nr.prototype)).constructor=Ec,(ju.prototype=Object.create(xn.prototype)).constructor=ju,(Hu.prototype=Object.create(nr.prototype)).constructor=Hu,(zl.prototype=Object.create(xn.prototype)).constructor=zl;function Kh(n,o,u,m,B){var k,ne;if(B===0<function(se,ge,ve,we){for(var _e=0,Te=ge,ye=ve-we;Te<ve;Te+=we)_e+=(se[ye]-se[Te])*(se[Te+1]+se[ye+1]),ye=Te;return _e}(n,o,u,m))for(k=o;k<u;k+=m)ne=Tr(k,n[k],n[k+1],ne);else for(k=u-m;o<=k;k-=m)ne=Tr(k,n[k],n[k+1],ne);return ne&&Cl(ne,ne.next)&&(Hl(ne),ne=ne.next),ne}function xc(n,o){if(!n)return n;o=o||n;var u,m=n;do if(u=!1,m.steiner||!Cl(m,m.next)&&wo(m.prev,m,m.next)!==0)m=m.next;else{if(Hl(m),(m=o=m.prev)===m.next)break;u=!0}while(u||m!==o);return o}function Uu(n,o,u,m,B,k,ne){if(n){!ne&&k&&function(we,_e,Te,ye){for(var ke=we;ke.z===null&&(ke.z=Qh(ke.x,ke.y,_e,Te,ye)),ke.prevZ=ke.prev,ke.nextZ=ke.next,(ke=ke.next)!==we;);ke.prevZ.nextZ=null,ke.prevZ=null,function(Ge){var We,ht,vt,Dt,Lt,Xe,Vt,At,Wt=1;do{for(ht=Ge,Lt=Ge=null,Xe=0;ht;){for(Xe++,vt=ht,We=Vt=0;We<Wt&&(Vt++,vt=vt.nextZ);We++);for(At=Wt;0<Vt||0<At&&vt;)Vt!==0&&(At===0||!vt||ht.z<=vt.z)?(ht=(Dt=ht).nextZ,Vt--):(vt=(Dt=vt).nextZ,At--),Lt?Lt.nextZ=Dt:Ge=Dt,Dt.prevZ=Lt,Lt=Dt;ht=vt}Lt.nextZ=null,Wt*=2}while(1<Xe)}(ke)}(n,m,B,k);for(var se,ge,ve=n;n.prev!==n.next;)if(se=n.prev,ge=n.next,k?yl(n,m,B,k):gp(n))o.push(se.i/u),o.push(n.i/u),o.push(ge.i/u),Hl(n),n=ge.next,ve=ge.next;else if((n=ge)===ve){ne?ne===1?Uu(n=vp(n,o,u),o,u,m,B,k,2):ne===2&&yp(n,o,u,m,B,k):Uu(xc(n),o,u,m,B,k,1);break}}}function gp(n){var o=n.prev,u=n,m=n.next;if(!(0<=wo(o,u,m))){for(var B=n.next.next;B!==n.prev;){if(Sa(o.x,o.y,u.x,u.y,m.x,m.y,B.x,B.y)&&0<=wo(B.prev,B,B.next))return;B=B.next}return 1}}function yl(n,o,u,m){var B=n.prev,k=n,ne=n.next;if(!(0<=wo(B,k,ne))){for(var se=B.x<k.x?B.x<ne.x?B.x:ne.x:k.x<ne.x?k.x:ne.x,ge=B.y<k.y?B.y<ne.y?B.y:ne.y:k.y<ne.y?k.y:ne.y,ve=B.x>k.x?B.x>ne.x?B.x:ne.x:k.x>ne.x?k.x:ne.x,we=B.y>k.y?B.y>ne.y?B.y:ne.y:k.y>ne.y?k.y:ne.y,_e=Qh(se,ge,o,u,m),Te=Qh(ve,we,o,u,m),ye=n.prevZ,ke=n.nextZ;ye&&ye.z>=_e&&ke&&ke.z<=Te;){if(ye!==n.prev&&ye!==n.next&&Sa(B.x,B.y,k.x,k.y,ne.x,ne.y,ye.x,ye.y)&&0<=wo(ye.prev,ye,ye.next)||(ye=ye.prevZ,ke!==n.prev&&ke!==n.next&&Sa(B.x,B.y,k.x,k.y,ne.x,ne.y,ke.x,ke.y)&&0<=wo(ke.prev,ke,ke.next)))return;ke=ke.nextZ}for(;ye&&ye.z>=_e;){if(ye!==n.prev&&ye!==n.next&&Sa(B.x,B.y,k.x,k.y,ne.x,ne.y,ye.x,ye.y)&&0<=wo(ye.prev,ye,ye.next))return;ye=ye.prevZ}for(;ke&&ke.z<=Te;){if(ke!==n.prev&&ke!==n.next&&Sa(B.x,B.y,k.x,k.y,ne.x,ne.y,ke.x,ke.y)&&0<=wo(ke.prev,ke,ke.next))return;ke=ke.nextZ}return 1}}function vp(n,o,u){var m=n;do{var B=m.prev,k=m.next.next;!Cl(B,k)&&zd(B,m,m.next,k)&&jl(B,k)&&jl(k,B)&&(o.push(B.i/u),o.push(m.i/u),o.push(k.i/u),Hl(m),Hl(m.next),m=n=k),m=m.next}while(m!==n);return m}function yp(n,o,u,m,B,k){var ne,se,ge=n;do{for(var ve=ge.next.next;ve!==ge.prev;){if(ge.i!==ve.i&&(se=ve,(ne=ge).next.i!==se.i&&ne.prev.i!==se.i&&!function(_e,Te){var ye=_e;do{if(ye.i!==_e.i&&ye.next.i!==_e.i&&ye.i!==Te.i&&ye.next.i!==Te.i&&zd(ye,ye.next,_e,Te))return 1;ye=ye.next}while(ye!==_e)}(ne,se)&&jl(ne,se)&&jl(se,ne)&&function(_e,Te){for(var ye=_e,ke=!1,Ge=(_e.x+Te.x)/2,We=(_e.y+Te.y)/2;ye.y>We!=ye.next.y>We&&ye.next.y!==ye.y&&Ge<(ye.next.x-ye.x)*(We-ye.y)/(ye.next.y-ye.y)+ye.x&&(ke=!ke),(ye=ye.next)!==_e;);return ke}(ne,se))){var we=Dc(ge,ve);return ge=xc(ge,ge.next),we=xc(we,we.next),Uu(ge,o,u,m,B,k),void Uu(we,o,u,m,B,k)}ve=ve.next}ge=ge.next}while(ge!==n)}function vm(n,o){return n.x-o.x}function Cp(n,o){if(o=function(m,B){var k,ne=B,se=m.x,ge=m.y,ve=-1/0;do{if(ge<=ne.y&&ge>=ne.next.y&&ne.next.y!==ne.y){var we=ne.x+(ge-ne.y)*(ne.next.x-ne.x)/(ne.next.y-ne.y);if(we<=se&&ve<we){if((ve=we)===se){if(ge===ne.y)return ne;if(ge===ne.next.y)return ne.next}k=ne.x<ne.next.x?ne:ne.next}}ne=ne.next}while(ne!==B);if(!k)return null;if(se===ve)return k.prev;var _e,Te=k,ye=k.x,ke=k.y,Ge=1/0;for(ne=k.next;ne!==Te;)se>=ne.x&&ne.x>=ye&&se!==ne.x&&Sa(ge<ke?se:ve,ge,ye,ke,ge<ke?ve:se,ge,ne.x,ne.y)&&((_e=Math.abs(ge-ne.y)/(se-ne.x))<Ge||_e===Ge&&ne.x>k.x)&&jl(ne,m)&&(k=ne,Ge=_e),ne=ne.next;return k}(n,o)){var u=Dc(o,n);xc(u,u.next)}}function Qh(n,o,u,m,B){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-u)*B)|n<<8))|n<<4))|n<<2))|n<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-m)*B)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function ym(n){for(var o=n,u=n;(o.x<u.x||o.x===u.x&&o.y<u.y)&&(u=o),(o=o.next)!==n;);return u}function Sa(n,o,u,m,B,k,ne,se){return 0<=(B-ne)*(o-se)-(n-ne)*(k-se)&&0<=(n-ne)*(m-se)-(u-ne)*(o-se)&&0<=(u-ne)*(k-se)-(B-ne)*(m-se)}function wo(n,o,u){return(o.y-n.y)*(u.x-o.x)-(o.x-n.x)*(u.y-o.y)}function Cl(n,o){return n.x===o.x&&n.y===o.y}function zd(n,o,u,m){return Cl(n,u)&&Cl(o,m)||Cl(n,m)&&Cl(u,o)||0<wo(n,o,u)!=0<wo(n,o,m)&&0<wo(u,m,n)!=0<wo(u,m,o)}function jl(n,o){return wo(n.prev,n,n.next)<0?0<=wo(n,o,n.next)&&0<=wo(n,n.prev,o):wo(n,o,n.prev)<0||wo(n,n.next,o)<0}function Dc(n,o){var u=new Gu(n.i,n.x,n.y),m=new Gu(o.i,o.x,o.y),B=n.next,k=o.prev;return(n.next=o).prev=n,(u.next=B).prev=u,(m.next=u).prev=m,(k.next=m).prev=k,m}function Tr(n,o,u,m){var B=new Gu(n,o,u);return m?(B.next=m.next,(B.prev=m).next.prev=B,m.next=B):(B.prev=B).next=B,B}function Hl(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Gu(n,o,u){this.i=n,this.x=o,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var fa={area:function(n){for(var o=n.length,u=0,m=o-1,B=0;B<o;m=B++)u+=n[m].x*n[B].y-n[B].x*n[m].y;return .5*u},isClockWise:function(n){return fa.area(n)<0},triangulateShape:function(n,o){var u=[],m=[],B=[];Ep(n),jd(u,n);var k=n.length;o.forEach(Ep);for(var ne=0;ne<o.length;ne++)m.push(k),k+=o[ne].length,jd(u,o[ne]);var se=function(ge,ve,we){we=we||2;var _e,Te,ye,ke,Ge,We,ht,vt=ve&&ve.length,Dt=vt?ve[0]*we:ge.length,Lt=Kh(ge,0,Dt,we,!0),Xe=[];if(!Lt||Lt.next===Lt.prev)return Xe;if(vt&&(Lt=function(At,Wt,rn,un){var pn,wn,Tn,Kt=[];for(pn=0,wn=Wt.length;pn<wn;pn++)(Tn=Kh(At,Wt[pn]*un,pn<wn-1?Wt[pn+1]*un:At.length,un,!1))===Tn.next&&(Tn.steiner=!0),Kt.push(ym(Tn));for(Kt.sort(vm),pn=0;pn<Kt.length;pn++)Cp(Kt[pn],rn),rn=xc(rn,rn.next);return rn}(ge,ve,Lt,we)),ge.length>80*we){_e=ye=ge[0],Te=ke=ge[1];for(var Vt=we;Vt<Dt;Vt+=we)(Ge=ge[Vt])<_e&&(_e=Ge),(We=ge[Vt+1])<Te&&(Te=We),ye<Ge&&(ye=Ge),ke<We&&(ke=We);ht=(ht=Math.max(ye-_e,ke-Te))!==0?1/ht:0}return Uu(Lt,Xe,we,_e,Te,ht),Xe}(u,m);for(ne=0;ne<se.length;ne+=3)B.push(se.slice(ne,ne+3));return B}};function Ep(n){var o=n.length;2<o&&n[o-1].equals(n[0])&&n.pop()}function jd(n,o){for(var u=0;u<o.length;u++)n.push(o[u].x),n.push(o[u].y)}function Qc(n,o){nr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:o},this.fromBufferGeometry(new Qi(n,o)),this.mergeVertices()}function Qi(n,o){xn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:n,options:o};for(var u=this,m=[],B=[],k=0,ne=(n=Array.isArray(n)?n:[n]).length;k<ne;k++)se(n[k]);function se(ge){var ve=[],we=o.curveSegments!==void 0?o.curveSegments:12,_e=o.steps!==void 0?o.steps:1,Te=o.depth!==void 0?o.depth:100,ye=o.bevelEnabled===void 0||o.bevelEnabled,ke=o.bevelThickness!==void 0?o.bevelThickness:6,Ge=o.bevelSize!==void 0?o.bevelSize:ke-2,We=o.bevelOffset!==void 0?o.bevelOffset:0,ht=o.bevelSegments!==void 0?o.bevelSegments:3,vt=o.extrudePath,Dt=o.UVGenerator!==void 0?o.UVGenerator:Cm;o.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),Te=o.amount);var Lt,Xe,Vt,At,Wt,rn,un,pn,wn=!1;vt&&(Lt=vt.getSpacedPoints(_e),ye=!(wn=!0),Xe=vt.computeFrenetFrames(_e,!1),Vt=new gt,At=new gt,Wt=new gt),ye||(We=Ge=ke=ht=0);var Tn=ge.extractPoints(we),Kt=Tn.shape,on=Tn.holes;if(!fa.isClockWise(Kt))for(Kt=Kt.reverse(),un=0,pn=on.length;un<pn;un++)rn=on[un],fa.isClockWise(rn)&&(on[un]=rn.reverse());var zn=fa.triangulateShape(Kt,on),$n=Kt;for(un=0,pn=on.length;un<pn;un++)rn=on[un],Kt=Kt.concat(rn);function xr(Br,pi,bi){return pi||console.error("THREE.ExtrudeGeometry: vec does not exist"),pi.clone().multiplyScalar(bi).add(Br)}var cr,sr,mi,Lr,gr,Ur,ni=Kt.length,Yr=zn.length;function qi(Br,pi,bi){var Vi,gi,to,ia=Br.x-pi.x,ya=Br.y-pi.y,Ps=bi.x-Br.x,hs=bi.y-Br.y,pu=ia*ia+ya*ya,Gf=ia*hs-ya*Ps;if(Math.abs(Gf)>Number.EPSILON){var mu=Math.sqrt(pu),vo=Math.sqrt(Ps*Ps+hs*hs),Ml=pi.x-ya/mu,Fc=pi.y+ia/mu,Sc=((bi.x-hs/vo-Ml)*hs-(bi.y+Ps/vo-Fc)*Ps)/(ia*hs-ya*Ps),gd=(Vi=Ml+ia*Sc-Br.x)*Vi+(gi=Fc+ya*Sc-Br.y)*gi;if(gd<=2)return new An(Vi,gi);to=Math.sqrt(gd/2)}else{var Oa=!1;ia>Number.EPSILON?Ps>Number.EPSILON&&(Oa=!0):ia<-Number.EPSILON?Ps<-Number.EPSILON&&(Oa=!0):Math.sign(ya)===Math.sign(hs)&&(Oa=!0),to=Oa?(Vi=-ya,gi=ia,Math.sqrt(pu)):(Vi=ia,gi=ya,Math.sqrt(pu/2))}return new An(Vi/to,gi/to)}for(var Xi=[],Gn=0,li=$n.length,Di=li-1,qt=Gn+1;Gn<li;Gn++,Di++,qt++)Di===li&&(Di=0),qt===li&&(qt=0),Xi[Gn]=qi($n[Gn],$n[Di],$n[qt]);var vr,yr,fi=[],_r=Xi.concat();for(un=0,pn=on.length;un<pn;un++){for(rn=on[un],vr=[],Gn=0,Di=(li=rn.length)-1,qt=Gn+1;Gn<li;Gn++,Di++,qt++)Di===li&&(Di=0),qt===li&&(qt=0),vr[Gn]=qi(rn[Gn],rn[Di],rn[qt]);fi.push(vr),_r=_r.concat(vr)}for(cr=0;cr<ht;cr++){for(mi=cr/ht,Lr=ke*Math.cos(mi*Math.PI/2),sr=Ge*Math.sin(mi*Math.PI/2)+We,Gn=0,li=$n.length;Gn<li;Gn++)ri((gr=xr($n[Gn],Xi[Gn],sr)).x,gr.y,-Lr);for(un=0,pn=on.length;un<pn;un++)for(rn=on[un],vr=fi[un],Gn=0,li=rn.length;Gn<li;Gn++)ri((gr=xr(rn[Gn],vr[Gn],sr)).x,gr.y,-Lr)}for(sr=Ge+We,Gn=0;Gn<ni;Gn++)gr=ye?xr(Kt[Gn],_r[Gn],sr):Kt[Gn],wn?(At.copy(Xe.normals[0]).multiplyScalar(gr.x),Vt.copy(Xe.binormals[0]).multiplyScalar(gr.y),Wt.copy(Lt[0]).add(At).add(Vt),ri(Wt.x,Wt.y,Wt.z)):ri(gr.x,gr.y,0);for(yr=1;yr<=_e;yr++)for(Gn=0;Gn<ni;Gn++)gr=ye?xr(Kt[Gn],_r[Gn],sr):Kt[Gn],wn?(At.copy(Xe.normals[yr]).multiplyScalar(gr.x),Vt.copy(Xe.binormals[yr]).multiplyScalar(gr.y),Wt.copy(Lt[yr]).add(At).add(Vt),ri(Wt.x,Wt.y,Wt.z)):ri(gr.x,gr.y,Te/_e*yr);for(cr=ht-1;0<=cr;cr--){for(mi=cr/ht,Lr=ke*Math.cos(mi*Math.PI/2),sr=Ge*Math.sin(mi*Math.PI/2)+We,Gn=0,li=$n.length;Gn<li;Gn++)ri((gr=xr($n[Gn],Xi[Gn],sr)).x,gr.y,Te+Lr);for(un=0,pn=on.length;un<pn;un++)for(rn=on[un],vr=fi[un],Gn=0,li=rn.length;Gn<li;Gn++)gr=xr(rn[Gn],vr[Gn],sr),wn?ri(gr.x,gr.y+Lt[_e-1].y,Lt[_e-1].x+Lr):ri(gr.x,gr.y,Te+Lr)}function Li(Br,pi){var bi,Vi;for(Gn=Br.length;0<=--Gn;){(Vi=(bi=Gn)-1)<0&&(Vi=Br.length-1);var gi=0,to=_e+2*ht;for(gi=0;gi<to;gi++){var ia=ni*gi,ya=ni*(gi+1);Wa(pi+bi+ia,pi+Vi+ia,pi+Vi+ya,pi+bi+ya)}}}function ri(Br,pi,bi){ve.push(Br),ve.push(pi),ve.push(bi)}function Ui(Br,pi,bi){Pr(Br),Pr(pi),Pr(bi);var Vi=m.length/3,gi=Dt.generateTopUV(u,m,Vi-3,Vi-2,Vi-1);Rr(gi[0]),Rr(gi[1]),Rr(gi[2])}function Wa(Br,pi,bi,Vi){Pr(Br),Pr(pi),Pr(Vi),Pr(pi),Pr(bi),Pr(Vi);var gi=m.length/3,to=Dt.generateSideWallUV(u,m,gi-6,gi-3,gi-2,gi-1);Rr(to[0]),Rr(to[1]),Rr(to[3]),Rr(to[1]),Rr(to[2]),Rr(to[3])}function Pr(Br){m.push(ve[3*Br+0]),m.push(ve[3*Br+1]),m.push(ve[3*Br+2])}function Rr(Br){B.push(Br.x),B.push(Br.y)}(function(){var Br=m.length/3;if(ye){var pi=0,bi=ni*pi;for(Gn=0;Gn<Yr;Gn++)Ui((Ur=zn[Gn])[2]+bi,Ur[1]+bi,Ur[0]+bi);for(bi=ni*(pi=_e+2*ht),Gn=0;Gn<Yr;Gn++)Ui((Ur=zn[Gn])[0]+bi,Ur[1]+bi,Ur[2]+bi)}else{for(Gn=0;Gn<Yr;Gn++)Ui((Ur=zn[Gn])[2],Ur[1],Ur[0]);for(Gn=0;Gn<Yr;Gn++)Ui((Ur=zn[Gn])[0]+ni*_e,Ur[1]+ni*_e,Ur[2]+ni*_e)}u.addGroup(Br,m.length/3-Br,0)})(),function(){var Br=m.length/3,pi=0;for(Li($n,pi),pi+=$n.length,un=0,pn=on.length;un<pn;un++)Li(rn=on[un],pi),pi+=rn.length;u.addGroup(Br,m.length/3-Br,1)}()}this.setAttribute("position",new Wn(m,3)),this.setAttribute("uv",new Wn(B,2)),this.computeVertexNormals()}((Qc.prototype=Object.create(nr.prototype)).constructor=Qc).prototype.toJSON=function(){var n=nr.prototype.toJSON.call(this);return xp(this.parameters.shapes,this.parameters.options,n)},((Qi.prototype=Object.create(xn.prototype)).constructor=Qi).prototype.toJSON=function(){var n=xn.prototype.toJSON.call(this);return xp(this.parameters.shapes,this.parameters.options,n)};var Cm={generateTopUV:function(n,o,u,m,B){var k=o[3*u],ne=o[3*u+1],se=o[3*m],ge=o[3*m+1],ve=o[3*B],we=o[3*B+1];return[new An(k,ne),new An(se,ge),new An(ve,we)]},generateSideWallUV:function(n,o,u,m,B,k){var ne=o[3*u],se=o[3*u+1],ge=o[3*u+2],ve=o[3*m],we=o[3*m+1],_e=o[3*m+2],Te=o[3*B],ye=o[3*B+1],ke=o[3*B+2],Ge=o[3*k],We=o[3*k+1],ht=o[3*k+2];return Math.abs(se-we)<.01?[new An(ne,1-ge),new An(ve,1-_e),new An(Te,1-ke),new An(Ge,1-ht)]:[new An(se,1-ge),new An(we,1-_e),new An(ye,1-ke),new An(We,1-ht)]}};function xp(n,o,u){if(u.shapes=[],Array.isArray(n))for(var m=0,B=n.length;m<B;m++){var k=n[m];u.shapes.push(k.uuid)}else u.shapes.push(n.uuid);return o.extrudePath!==void 0&&(u.options.extrudePath=o.extrudePath.toJSON()),u}function $u(n,o){nr.call(this),this.type="TextGeometry",this.parameters={text:n,parameters:o},this.fromBufferGeometry(new Wu(n,o)),this.mergeVertices()}function Wu(n,o){var u=(o=o||{}).font;if(!u||!u.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new nr;var m=u.generateShapes(n,o.size);o.depth=o.height!==void 0?o.height:50,o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),Qi.call(this,m,o),this.type="TextBufferGeometry"}function Ju(n,o,u,m,B,k,ne){nr.call(this),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:u,phiStart:m,phiLength:B,thetaStart:k,thetaLength:ne},this.fromBufferGeometry(new eu(n,o,u,m,B,k,ne)),this.mergeVertices()}function eu(n,o,u,m,B,k,ne){xn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:u,phiStart:m,phiLength:B,thetaStart:k,thetaLength:ne},n=n||1,o=Math.max(3,Math.floor(o)||8),u=Math.max(2,Math.floor(u)||6),m=m!==void 0?m:0,B=B!==void 0?B:2*Math.PI,k=k!==void 0?k:0,ne=ne!==void 0?ne:Math.PI;var se,ge,ve=Math.min(k+ne,Math.PI),we=0,_e=[],Te=new gt,ye=new gt,ke=[],Ge=[],We=[],ht=[];for(ge=0;ge<=u;ge++){var vt=[],Dt=ge/u,Lt=0;for(ge==0&&k==0?Lt=.5/o:ge==u&&ve==Math.PI&&(Lt=-.5/o),se=0;se<=o;se++){var Xe=se/o;Te.x=-n*Math.cos(m+Xe*B)*Math.sin(k+Dt*ne),Te.y=n*Math.cos(k+Dt*ne),Te.z=n*Math.sin(m+Xe*B)*Math.sin(k+Dt*ne),Ge.push(Te.x,Te.y,Te.z),ye.copy(Te).normalize(),We.push(ye.x,ye.y,ye.z),ht.push(Xe+Lt,1-Dt),vt.push(we++)}_e.push(vt)}for(ge=0;ge<u;ge++)for(se=0;se<o;se++){var Vt=_e[ge][se+1],At=_e[ge][se],Wt=_e[ge+1][se],rn=_e[ge+1][se+1];(ge!==0||0<k)&&ke.push(Vt,At,rn),(ge!==u-1||ve<Math.PI)&&ke.push(At,Wt,rn)}this.setIndex(ke),this.setAttribute("position",new Wn(Ge,3)),this.setAttribute("normal",new Wn(We,3)),this.setAttribute("uv",new Wn(ht,2))}function Hd(n,o,u,m,B,k){nr.call(this),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:u,phiSegments:m,thetaStart:B,thetaLength:k},this.fromBufferGeometry(new qu(n,o,u,m,B,k)),this.mergeVertices()}function qu(n,o,u,m,B,k){xn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:u,phiSegments:m,thetaStart:B,thetaLength:k},n=n||.5,o=o||1,B=B!==void 0?B:0,k=k!==void 0?k:2*Math.PI,u=u!==void 0?Math.max(3,u):8;var ne,se,ge,ve=[],we=[],_e=[],Te=[],ye=n,ke=(o-n)/(m=m!==void 0?Math.max(1,m):1),Ge=new gt,We=new An;for(se=0;se<=m;se++){for(ge=0;ge<=u;ge++)ne=B+ge/u*k,Ge.x=ye*Math.cos(ne),Ge.y=ye*Math.sin(ne),we.push(Ge.x,Ge.y,Ge.z),_e.push(0,0,1),We.x=(Ge.x/o+1)/2,We.y=(Ge.y/o+1)/2,Te.push(We.x,We.y);ye+=ke}for(se=0;se<m;se++){var ht=se*(u+1);for(ge=0;ge<u;ge++){var vt=ne=ge+ht,Dt=ne+u+1,Lt=ne+u+2,Xe=ne+1;ve.push(vt,Dt,Xe),ve.push(Dt,Lt,Xe)}}this.setIndex(ve),this.setAttribute("position",new Wn(we,3)),this.setAttribute("normal",new Wn(_e,3)),this.setAttribute("uv",new Wn(Te,2))}function as(n,o,u,m){nr.call(this),this.type="LatheGeometry",this.parameters={points:n,segments:o,phiStart:u,phiLength:m},this.fromBufferGeometry(new Ao(n,o,u,m)),this.mergeVertices()}function Ao(n,o,u,m){xn.call(this),this.type="LatheBufferGeometry",this.parameters={points:n,segments:o,phiStart:u,phiLength:m},o=Math.floor(o)||12,u=u||0,m=m||2*Math.PI,m=Gr.clamp(m,0,2*Math.PI);var B,k,ne,se=[],ge=[],ve=[],we=1/o,_e=new gt,Te=new An;for(k=0;k<=o;k++){var ye=u+k*we*m,ke=Math.sin(ye),Ge=Math.cos(ye);for(ne=0;ne<=n.length-1;ne++)_e.x=n[ne].x*ke,_e.y=n[ne].y,_e.z=n[ne].x*Ge,ge.push(_e.x,_e.y,_e.z),Te.x=k/o,Te.y=ne/(n.length-1),ve.push(Te.x,Te.y)}for(k=0;k<o;k++)for(ne=0;ne<n.length-1;ne++){var We=B=ne+k*n.length,ht=B+n.length,vt=B+n.length+1,Dt=B+1;se.push(We,ht,Dt),se.push(ht,vt,Dt)}if(this.setIndex(se),this.setAttribute("position",new Wn(ge,3)),this.setAttribute("uv",new Wn(ve,2)),this.computeVertexNormals(),m===2*Math.PI){var Lt=this.attributes.normal.array,Xe=new gt,Vt=new gt,At=new gt;for(B=o*n.length*3,ne=k=0;k<n.length;k++,ne+=3)Xe.x=Lt[ne+0],Xe.y=Lt[ne+1],Xe.z=Lt[ne+2],Vt.x=Lt[B+ne+0],Vt.y=Lt[B+ne+1],Vt.z=Lt[B+ne+2],At.addVectors(Xe,Vt).normalize(),Lt[ne+0]=Lt[B+ne+0]=At.x,Lt[ne+1]=Lt[B+ne+1]=At.y,Lt[ne+2]=Lt[B+ne+2]=At.z}}function bc(n,o){nr.call(this),this.type="ShapeGeometry",typeof o=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),o=o.curveSegments),this.parameters={shapes:n,curveSegments:o},this.fromBufferGeometry(new Xu(n,o)),this.mergeVertices()}function Xu(n,o){xn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:o},o=o||12;var u=[],m=[],B=[],k=[],ne=0,se=0;if(Array.isArray(n)===!1)ve(n);else for(var ge=0;ge<n.length;ge++)ve(n[ge]),this.addGroup(ne,se,ge),ne+=se,se=0;function ve(we){var _e,Te,ye,ke=m.length/3,Ge=we.extractPoints(o),We=Ge.shape,ht=Ge.holes;for(fa.isClockWise(We)===!1&&(We=We.reverse()),_e=0,Te=ht.length;_e<Te;_e++)ye=ht[_e],fa.isClockWise(ye)===!0&&(ht[_e]=ye.reverse());var vt=fa.triangulateShape(We,ht);for(_e=0,Te=ht.length;_e<Te;_e++)ye=ht[_e],We=We.concat(ye);for(_e=0,Te=We.length;_e<Te;_e++){var Dt=We[_e];m.push(Dt.x,Dt.y,0),B.push(0,0,1),k.push(Dt.x,Dt.y)}for(_e=0,Te=vt.length;_e<Te;_e++){var Lt=vt[_e],Xe=Lt[0]+ke,Vt=Lt[1]+ke,At=Lt[2]+ke;u.push(Xe,Vt,At),se+=3}}this.setIndex(u),this.setAttribute("position",new Wn(m,3)),this.setAttribute("normal",new Wn(B,3)),this.setAttribute("uv",new Wn(k,2))}function Ud(n,o){if(o.shapes=[],Array.isArray(n))for(var u=0,m=n.length;u<m;u++){var B=n[u];o.shapes.push(B.uuid)}else o.shapes.push(n.uuid);return o}function Yu(n,o){xn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:o},o=o!==void 0?o:1;var u,m,B,k,ne=[],se=Math.cos(Gr.DEG2RAD*o),ge=[0,0],ve={},we=["a","b","c"];n.isBufferGeometry?(k=new nr).fromBufferGeometry(n):k=n.clone(),k.mergeVertices(),k.computeFaceNormals();for(var _e=k.vertices,Te=k.faces,ye=0,ke=Te.length;ye<ke;ye++)for(var Ge=Te[ye],We=0;We<3;We++)u=Ge[we[We]],m=Ge[we[(We+1)%3]],ge[0]=Math.min(u,m),ge[1]=Math.max(u,m),ve[B=ge[0]+","+ge[1]]===void 0?ve[B]={index1:ge[0],index2:ge[1],face1:ye,face2:void 0}:ve[B].face2=ye;for(B in ve){var ht=ve[B];if(ht.face2===void 0||Te[ht.face1].normal.dot(Te[ht.face2].normal)<=se){var vt=_e[ht.index1];ne.push(vt.x,vt.y,vt.z),vt=_e[ht.index2],ne.push(vt.x,vt.y,vt.z)}}this.setAttribute("position",new Wn(ne,3))}function tu(n,o,u,m,B,k,ne,se){nr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:u,radialSegments:m,heightSegments:B,openEnded:k,thetaStart:ne,thetaLength:se},this.fromBufferGeometry(new ss(n,o,u,m,B,k,ne,se)),this.mergeVertices()}function ss(n,o,u,m,B,k,ne,se){xn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:u,radialSegments:m,heightSegments:B,openEnded:k,thetaStart:ne,thetaLength:se};var ge=this;n=n!==void 0?n:1,o=o!==void 0?o:1,u=u||1,m=Math.floor(m)||8,B=Math.floor(B)||1,k=k!==void 0&&k,ne=ne!==void 0?ne:0,se=se!==void 0?se:2*Math.PI;var ve=[],we=[],_e=[],Te=[],ye=0,ke=[],Ge=u/2,We=0;function ht(vt){var Dt,Lt,Xe,Vt=new An,At=new gt,Wt=0,rn=vt===!0?n:o,un=vt===!0?1:-1;for(Lt=ye,Dt=1;Dt<=m;Dt++)we.push(0,Ge*un,0),_e.push(0,un,0),Te.push(.5,.5),ye++;for(Xe=ye,Dt=0;Dt<=m;Dt++){var pn=Dt/m*se+ne,wn=Math.cos(pn),Tn=Math.sin(pn);At.x=rn*Tn,At.y=Ge*un,At.z=rn*wn,we.push(At.x,At.y,At.z),_e.push(0,un,0),Vt.x=.5*wn+.5,Vt.y=.5*Tn*un+.5,Te.push(Vt.x,Vt.y),ye++}for(Dt=0;Dt<m;Dt++){var Kt=Lt+Dt,on=Xe+Dt;vt===!0?ve.push(on,on+1,Kt):ve.push(on+1,on,Kt),Wt+=3}ge.addGroup(We,Wt,vt===!0?1:2),We+=Wt}(function(){var vt,Dt,Lt=new gt,Xe=new gt,Vt=0,At=(o-n)/u;for(Dt=0;Dt<=B;Dt++){var Wt=[],rn=Dt/B,un=rn*(o-n)+n;for(vt=0;vt<=m;vt++){var pn=vt/m,wn=pn*se+ne,Tn=Math.sin(wn),Kt=Math.cos(wn);Xe.x=un*Tn,Xe.y=-rn*u+Ge,Xe.z=un*Kt,we.push(Xe.x,Xe.y,Xe.z),Lt.set(Tn,At,Kt).normalize(),_e.push(Lt.x,Lt.y,Lt.z),Te.push(pn,1-rn),Wt.push(ye++)}ke.push(Wt)}for(vt=0;vt<m;vt++)for(Dt=0;Dt<B;Dt++){var on=ke[Dt][vt],zn=ke[Dt+1][vt],$n=ke[Dt+1][vt+1],xr=ke[Dt][vt+1];ve.push(on,zn,xr),ve.push(zn,$n,xr),Vt+=6}ge.addGroup(We,Vt,0),We+=Vt})(),k===!1&&(0<n&&ht(!0),0<o&&ht(!1)),this.setIndex(ve),this.setAttribute("position",new Wn(we,3)),this.setAttribute("normal",new Wn(_e,3)),this.setAttribute("uv",new Wn(Te,2))}function Zu(n,o,u,m,B,k,ne){tu.call(this,0,n,o,u,m,B,k,ne),this.type="ConeGeometry",this.parameters={radius:n,height:o,radialSegments:u,heightSegments:m,openEnded:B,thetaStart:k,thetaLength:ne}}function Ku(n,o,u,m,B,k,ne){ss.call(this,0,n,o,u,m,B,k,ne),this.type="ConeBufferGeometry",this.parameters={radius:n,height:o,radialSegments:u,heightSegments:m,openEnded:B,thetaStart:k,thetaLength:ne}}function Gd(n,o,u,m){nr.call(this),this.type="CircleGeometry",this.parameters={radius:n,segments:o,thetaStart:u,thetaLength:m},this.fromBufferGeometry(new Qu(n,o,u,m)),this.mergeVertices()}function Qu(n,o,u,m){xn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:n,segments:o,thetaStart:u,thetaLength:m},n=n||1,o=o!==void 0?Math.max(3,o):8,u=u!==void 0?u:0,m=m!==void 0?m:2*Math.PI;var B,k,ne=[],se=[],ge=[],ve=[],we=new gt,_e=new An;for(se.push(0,0,0),ge.push(0,0,1),ve.push(.5,.5),k=0,B=3;k<=o;k++,B+=3){var Te=u+k/o*m;we.x=n*Math.cos(Te),we.y=n*Math.sin(Te),se.push(we.x,we.y,we.z),ge.push(0,0,1),_e.x=(se[B]/n+1)/2,_e.y=(se[B+1]/n+1)/2,ve.push(_e.x,_e.y)}for(B=1;B<=o;B++)ne.push(B,B+1,0);this.setIndex(ne),this.setAttribute("position",new Wn(se,3)),this.setAttribute("normal",new Wn(ge,3)),this.setAttribute("uv",new Wn(ve,2))}($u.prototype=Object.create(nr.prototype)).constructor=$u,(Wu.prototype=Object.create(Qi.prototype)).constructor=Wu,(Ju.prototype=Object.create(nr.prototype)).constructor=Ju,(eu.prototype=Object.create(xn.prototype)).constructor=eu,(Hd.prototype=Object.create(nr.prototype)).constructor=Hd,(qu.prototype=Object.create(xn.prototype)).constructor=qu,(as.prototype=Object.create(nr.prototype)).constructor=as,(Ao.prototype=Object.create(xn.prototype)).constructor=Ao,((bc.prototype=Object.create(nr.prototype)).constructor=bc).prototype.toJSON=function(){var n=nr.prototype.toJSON.call(this);return Ud(this.parameters.shapes,n)},((Xu.prototype=Object.create(xn.prototype)).constructor=Xu).prototype.toJSON=function(){var n=xn.prototype.toJSON.call(this);return Ud(this.parameters.shapes,n)},(Yu.prototype=Object.create(xn.prototype)).constructor=Yu,(tu.prototype=Object.create(nr.prototype)).constructor=tu,(ss.prototype=Object.create(xn.prototype)).constructor=ss,(Zu.prototype=Object.create(tu.prototype)).constructor=Zu,(Ku.prototype=Object.create(ss.prototype)).constructor=Ku,(Gd.prototype=Object.create(nr.prototype)).constructor=Gd,(Qu.prototype=Object.create(xn.prototype)).constructor=Qu;var pa=Object.freeze({__proto__:null,WireframeGeometry:Vl,ParametricGeometry:vl,ParametricBufferGeometry:Xc,TetrahedronGeometry:Nu,TetrahedronBufferGeometry:Js,OctahedronGeometry:Nl,OctahedronBufferGeometry:Yc,IcosahedronGeometry:zu,IcosahedronBufferGeometry:Zc,DodecahedronGeometry:vc,DodecahedronBufferGeometry:Kc,PolyhedronGeometry:Vu,PolyhedronBufferGeometry:$a,TubeGeometry:yc,TubeBufferGeometry:Cc,TorusKnotGeometry:Ec,TorusKnotBufferGeometry:ju,TorusGeometry:Hu,TorusBufferGeometry:zl,TextGeometry:$u,TextBufferGeometry:Wu,SphereGeometry:Ju,SphereBufferGeometry:eu,RingGeometry:Hd,RingBufferGeometry:qu,PlaneGeometry:oc,PlaneBufferGeometry:Us,LatheGeometry:as,LatheBufferGeometry:Ao,ShapeGeometry:bc,ShapeBufferGeometry:Xu,ExtrudeGeometry:Qc,ExtrudeBufferGeometry:Qi,EdgesGeometry:Yu,ConeGeometry:Zu,ConeBufferGeometry:Ku,CylinderGeometry:tu,CylinderBufferGeometry:ss,CircleGeometry:Gd,CircleBufferGeometry:Qu,BoxGeometry:Io,BoxBufferGeometry:bu});function ed(n){Or.call(this),this.type="ShadowMaterial",this.color=new Un(0),this.transparent=!0,this.setValues(n)}function Ul(n){ua.call(this,n),this.type="RawShaderMaterial"}function El(n){Or.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Un(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wa,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function td(n){El.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new An(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(n)}function Gl(n){Or.call(this),this.type="MeshPhongMaterial",this.color=new Un(16777215),this.specular=new Un(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wa,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function nu(n){Or.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Un(16777215),this.specular=new Un(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wa,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function xl(n){Or.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wa,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function wc(n){Or.call(this),this.type="MeshLambertMaterial",this.color=new Un(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Un(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function ru(n){Or.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Un(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=wa,this.normalScale=new An(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function iu(n){$i.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}((ed.prototype=Object.create(Or.prototype)).constructor=ed).prototype.isShadowMaterial=!0,ed.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this},((Ul.prototype=Object.create(ua.prototype)).constructor=Ul).prototype.isRawShaderMaterial=!0,((El.prototype=Object.create(Or.prototype)).constructor=El).prototype.isMeshStandardMaterial=!0,El.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((td.prototype=Object.create(El.prototype)).constructor=td).prototype.isMeshPhysicalMaterial=!0,td.prototype.copy=function(n){return El.prototype.copy.call(this,n),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=n.reflectivity,this.clearcoat=n.clearcoat,this.clearcoatRoughness=n.clearcoatRoughness,n.sheen?this.sheen=(this.sheen||new Un).copy(n.sheen):this.sheen=null,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.transparency=n.transparency,this},((Gl.prototype=Object.create(Or.prototype)).constructor=Gl).prototype.isMeshPhongMaterial=!0,Gl.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((nu.prototype=Object.create(Or.prototype)).constructor=nu).prototype.isMeshToonMaterial=!0,nu.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.gradientMap=n.gradientMap,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((xl.prototype=Object.create(Or.prototype)).constructor=xl).prototype.isMeshNormalMaterial=!0,xl.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((wc.prototype=Object.create(Or.prototype)).constructor=wc).prototype.isMeshLambertMaterial=!0,wc.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((ru.prototype=Object.create(Or.prototype)).constructor=ru).prototype.isMeshMatcapMaterial=!0,ru.prototype.copy=function(n){return Or.prototype.copy.call(this,n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((iu.prototype=Object.create($i.prototype)).constructor=iu).prototype.isLineDashedMaterial=!0,iu.prototype.copy=function(n){return $i.prototype.copy.call(this,n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};var $d=Object.freeze({__proto__:null,ShadowMaterial:ed,SpriteMaterial:hc,RawShaderMaterial:Ul,ShaderMaterial:ua,PointsMaterial:gl,MeshPhysicalMaterial:td,MeshStandardMaterial:El,MeshPhongMaterial:Gl,MeshToonMaterial:nu,MeshNormalMaterial:xl,MeshLambertMaterial:wc,MeshDepthMaterial:$s,MeshDistanceMaterial:Uc,MeshBasicMaterial:Ro,MeshMatcapMaterial:ru,LineDashedMaterial:iu,LineBasicMaterial:$i,Material:Or}),eo={arraySlice:function(n,o,u){return eo.isTypedArray(n)?new n.constructor(n.subarray(o,u!==void 0?u:n.length)):n.slice(o,u)},convertArray:function(n,o,u){return!n||!u&&n.constructor===o?n:typeof o.BYTES_PER_ELEMENT=="number"?new o(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){for(var o=n.length,u=new Array(o),m=0;m!==o;++m)u[m]=m;return u.sort(function(B,k){return n[B]-n[k]}),u},sortedArray:function(n,o,u){for(var m=n.length,B=new n.constructor(m),k=0,ne=0;ne!==m;++k)for(var se=u[k]*o,ge=0;ge!==o;++ge)B[ne++]=n[se+ge];return B},flattenJSON:function(n,o,u,m){for(var B=1,k=n[0];k!==void 0&&k[m]===void 0;)k=n[B++];if(k!==void 0){var ne=k[m];if(ne!==void 0)if(Array.isArray(ne))for(;(ne=k[m])!==void 0&&(o.push(k.time),u.push.apply(u,ne)),(k=n[B++])!==void 0;);else if(ne.toArray!==void 0)for(;(ne=k[m])!==void 0&&(o.push(k.time),ne.toArray(u,u.length)),(k=n[B++])!==void 0;);else for(;(ne=k[m])!==void 0&&(o.push(k.time),u.push(ne)),(k=n[B++])!==void 0;);}},subclip:function(n,o,u,m,B){B=B||30;var k=n.clone();k.name=o;for(var ne=[],se=0;se<k.tracks.length;++se){for(var ge=k.tracks[se],ve=ge.getValueSize(),we=[],_e=[],Te=0;Te<ge.times.length;++Te){var ye=ge.times[Te]*B;if(!(ye<u||m<=ye)){we.push(ge.times[Te]);for(var ke=0;ke<ve;++ke)_e.push(ge.values[Te*ve+ke])}}we.length!==0&&(ge.times=eo.convertArray(we,ge.times.constructor),ge.values=eo.convertArray(_e,ge.values.constructor),ne.push(ge))}k.tracks=ne;var Ge=1/0;for(se=0;se<k.tracks.length;++se)Ge>k.tracks[se].times[0]&&(Ge=k.tracks[se].times[0]);for(se=0;se<k.tracks.length;++se)k.tracks[se].shift(-1*Ge);return k.resetDuration(),k}};function io(n,o,u,m){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=m!==void 0?m:new o.constructor(u),this.sampleValues=o,this.valueSize=u}function qs(n,o,u,m){io.call(this,n,o,u,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function nd(n,o,u,m){io.call(this,n,o,u,m)}function rd(n,o,u,m){io.call(this,n,o,u,m)}function Jo(n,o,u,m){if(n===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=eo.convertArray(o,this.TimeBufferType),this.values=eo.convertArray(u,this.ValueBufferType),this.setInterpolation(m||this.DefaultInterpolation)}function Wd(n,o,u){Jo.call(this,n,o,u)}function Jd(n,o,u,m){Jo.call(this,n,o,u,m)}function ou(n,o,u,m){Jo.call(this,n,o,u,m)}function qd(n,o,u,m){io.call(this,n,o,u,m)}function id(n,o,u,m){Jo.call(this,n,o,u,m)}function Xd(n,o,u,m){Jo.call(this,n,o,u,m)}function au(n,o,u,m){Jo.call(this,n,o,u,m)}function ls(n,o,u){this.name=n,this.tracks=u,this.duration=o!==void 0?o:-1,this.uuid=Gr.generateUUID(),this.duration<0&&this.resetDuration()}function Em(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var o=function(B){switch(B.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ou;case"vector":case"vector2":case"vector3":case"vector4":return au;case"color":return Jd;case"quaternion":return id;case"bool":case"boolean":return Wd;case"string":return Xd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+B)}(n.type);if(n.times===void 0){var u=[],m=[];eo.flattenJSON(n.keys,u,m,"value"),n.times=u,n.values=m}return o.parse!==void 0?o.parse(n):new o(n.name,n.times,n.values,n.interpolation)}Object.assign(io.prototype,{evaluate:function(n){var o=this.parameterPositions,u=this._cachedIndex,m=o[u],B=o[u-1];e:{t:{var k;n:{o:if(!(n<m)){for(var ne=u+2;;){if(m===void 0){if(n<B)break o;return u=o.length,this._cachedIndex=u,this.afterEnd_(u-1,n,B)}if(u===ne)break;if(B=m,n<(m=o[++u]))break t}k=o.length;break n}if(B<=n)break e;var se=o[1];for(n<se&&(u=2,B=se),ne=u-2;;){if(B===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,m);if(u===ne)break;if(m=B,(B=o[--u-1])<=n)break t}k=u,u=0}for(;u<k;){var ge=u+k>>>1;n<o[ge]?k=ge:u=1+ge}if(m=o[u],(B=o[u-1])===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,m);if(m===void 0)return u=o.length,this._cachedIndex=u,this.afterEnd_(u-1,B,n)}this._cachedIndex=u,this.intervalChanged_(u,B,m)}return this.interpolate_(u,B,n,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(n){for(var o=this.resultBuffer,u=this.sampleValues,m=this.valueSize,B=n*m,k=0;k!==m;++k)o[k]=u[B+k];return o},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(io.prototype,{beforeStart_:io.prototype.copySampleValue_,afterEnd_:io.prototype.copySampleValue_}),qs.prototype=Object.assign(Object.create(io.prototype),{constructor:qs,DefaultSettings_:{endingStart:Cn,endingEnd:Cn},intervalChanged_:function(n,o,u){var m=this.parameterPositions,B=n-2,k=n+1,ne=m[B],se=m[k];if(ne===void 0)switch(this.getSettings_().endingStart){case _n:B=n,ne=2*o-u;break;case Jn:ne=o+m[B=m.length-2]-m[B+1];break;default:B=n,ne=u}if(se===void 0)switch(this.getSettings_().endingEnd){case _n:k=n,se=2*u-o;break;case Jn:se=u+m[k=1]-m[0];break;default:k=n-1,se=o}var ge=.5*(u-o),ve=this.valueSize;this._weightPrev=ge/(o-ne),this._weightNext=ge/(se-u),this._offsetPrev=B*ve,this._offsetNext=k*ve},interpolate_:function(n,o,u,m){for(var B=this.resultBuffer,k=this.sampleValues,ne=this.valueSize,se=n*ne,ge=se-ne,ve=this._offsetPrev,we=this._offsetNext,_e=this._weightPrev,Te=this._weightNext,ye=(u-o)/(m-o),ke=ye*ye,Ge=ke*ye,We=-_e*Ge+2*_e*ke-_e*ye,ht=(1+_e)*Ge+(-1.5-2*_e)*ke+(-.5+_e)*ye+1,vt=(-1-Te)*Ge+(1.5+Te)*ke+.5*ye,Dt=Te*Ge-Te*ke,Lt=0;Lt!==ne;++Lt)B[Lt]=We*k[ve+Lt]+ht*k[ge+Lt]+vt*k[se+Lt]+Dt*k[we+Lt];return B}}),nd.prototype=Object.assign(Object.create(io.prototype),{constructor:nd,interpolate_:function(n,o,u,m){for(var B=this.resultBuffer,k=this.sampleValues,ne=this.valueSize,se=n*ne,ge=se-ne,ve=(u-o)/(m-o),we=1-ve,_e=0;_e!==ne;++_e)B[_e]=k[ge+_e]*we+k[se+_e]*ve;return B}}),rd.prototype=Object.assign(Object.create(io.prototype),{constructor:rd,interpolate_:function(n){return this.copySampleValue_(n-1)}}),Object.assign(Jo,{toJSON:function(n){var o,u=n.constructor;if(u.toJSON!==void 0)o=u.toJSON(n);else{o={name:n.name,times:eo.convertArray(n.times,Array),values:eo.convertArray(n.values,Array)};var m=n.getInterpolation();m!==n.DefaultInterpolation&&(o.interpolation=m)}return o.type=n.ValueTypeName,o}}),Object.assign(Jo.prototype,{constructor:Jo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Xt,InterpolantFactoryMethodDiscrete:function(n){return new rd(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodLinear:function(n){return new nd(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:function(n){return new qs(this.times,this.values,this.getValueSize(),n)},setInterpolation:function(n){var o;switch(n){case Rt:o=this.InterpolantFactoryMethodDiscrete;break;case Xt:o=this.InterpolantFactoryMethodLinear;break;case 2302:o=this.InterpolantFactoryMethodSmooth}if(o!==void 0)return this.createInterpolant=o,this;var u="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(n===this.DefaultInterpolation)throw new Error(u);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",u),this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rt;case this.InterpolantFactoryMethodLinear:return Xt;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(n){if(n!==0)for(var o=this.times,u=0,m=o.length;u!==m;++u)o[u]+=n;return this},scale:function(n){if(n!==1)for(var o=this.times,u=0,m=o.length;u!==m;++u)o[u]*=n;return this},trim:function(n,o){for(var u=this.times,m=u.length,B=0,k=m-1;B!==m&&u[B]<n;)++B;for(;k!==-1&&u[k]>o;)--k;if(++k,B!==0||k!==m){k<=B&&(B=(k=Math.max(k,1))-1);var ne=this.getValueSize();this.times=eo.arraySlice(u,B,k),this.values=eo.arraySlice(this.values,B*ne,k*ne)}return this},validate:function(){var n=!0,o=this.getValueSize();o-Math.floor(o)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);var u=this.times,m=this.values,B=u.length;B===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);for(var k=null,ne=0;ne!==B;ne++){var se=u[ne];if(typeof se=="number"&&isNaN(se)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,ne,se),n=!1;break}if(k!==null&&se<k){console.error("THREE.KeyframeTrack: Out of order keys.",this,ne,se,k),n=!1;break}k=se}if(m!==void 0&&eo.isTypedArray(m)){ne=0;for(var ge=m.length;ne!==ge;++ne){var ve=m[ne];if(isNaN(ve)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,ne,ve),n=!1;break}}}return n},optimize:function(){for(var n=eo.arraySlice(this.times),o=eo.arraySlice(this.values),u=this.getValueSize(),m=this.getInterpolation()===2302,B=1,k=n.length-1,ne=1;ne<k;++ne){var se=!1,ge=n[ne];if(ge!==n[ne+1]&&(ne!==1||ge!==ge[0]))if(m)se=!0;else for(var ve=ne*u,we=ve-u,_e=ve+u,Te=0;Te!==u;++Te){var ye=o[ve+Te];if(ye!==o[we+Te]||ye!==o[_e+Te]){se=!0;break}}if(se){if(ne!==B){n[B]=n[ne];var ke=ne*u,Ge=B*u;for(Te=0;Te!==u;++Te)o[Ge+Te]=o[ke+Te]}++B}}if(0<k){for(n[B]=n[k],ke=k*u,Ge=B*u,Te=0;Te!==u;++Te)o[Ge+Te]=o[ke+Te];++B}return B!==n.length?(this.times=eo.arraySlice(n,0,B),this.values=eo.arraySlice(o,0,B*u)):(this.times=n,this.values=o),this},clone:function(){var n=eo.arraySlice(this.times,0),o=eo.arraySlice(this.values,0),u=new this.constructor(this.name,n,o);return u.createInterpolant=this.createInterpolant,u}}),Wd.prototype=Object.assign(Object.create(Jo.prototype),{constructor:Wd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Rt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Jd.prototype=Object.assign(Object.create(Jo.prototype),{constructor:Jd,ValueTypeName:"color"}),ou.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ou,ValueTypeName:"number"}),qd.prototype=Object.assign(Object.create(io.prototype),{constructor:qd,interpolate_:function(n,o,u,m){for(var B=this.resultBuffer,k=this.sampleValues,ne=this.valueSize,se=n*ne,ge=(u-o)/(m-o),ve=se+ne;se!==ve;se+=4)To.slerpFlat(B,0,k,se-ne,k,se,ge);return B}}),id.prototype=Object.assign(Object.create(Jo.prototype),{constructor:id,ValueTypeName:"quaternion",DefaultInterpolation:Xt,InterpolantFactoryMethodLinear:function(n){return new qd(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:void 0}),Xd.prototype=Object.assign(Object.create(Jo.prototype),{constructor:Xd,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Rt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),au.prototype=Object.assign(Object.create(Jo.prototype),{constructor:au,ValueTypeName:"vector"}),Object.assign(ls,{parse:function(n){for(var o=[],u=n.tracks,m=1/(n.fps||1),B=0,k=u.length;B!==k;++B)o.push(Em(u[B]).scale(m));return new ls(n.name,n.duration,o)},toJSON:function(n){for(var o=[],u=n.tracks,m={name:n.name,duration:n.duration,tracks:o,uuid:n.uuid},B=0,k=u.length;B!==k;++B)o.push(Jo.toJSON(u[B]));return m},CreateFromMorphTargetSequence:function(n,o,u,m){for(var B=o.length,k=[],ne=0;ne<B;ne++){var se=[],ge=[];se.push((ne+B-1)%B,ne,(ne+1)%B),ge.push(0,1,0);var ve=eo.getKeyframeOrder(se);se=eo.sortedArray(se,1,ve),ge=eo.sortedArray(ge,1,ve),m||se[0]!==0||(se.push(B),ge.push(ge[0])),k.push(new ou(".morphTargetInfluences["+o[ne].name+"]",se,ge).scale(1/u))}return new ls(n,-1,k)},findByName:function(n,o){var u=n;Array.isArray(n)||(u=n.geometry&&n.geometry.animations||n.animations);for(var m=0;m<u.length;m++)if(u[m].name===o)return u[m];return null},CreateClipsFromMorphTargetSequences:function(n,o,u){for(var m={},B=/^([\w-]*?)([\d]+)$/,k=0,ne=n.length;k<ne;k++){var se=n[k],ge=se.name.match(B);if(ge&&1<ge.length){var ve=m[_e=ge[1]];ve||(m[_e]=ve=[]),ve.push(se)}}var we=[];for(var _e in m)we.push(ls.CreateFromMorphTargetSequence(_e,m[_e],o,u));return we},parseAnimation:function(n,o){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var u=function(vt,Dt,Lt,Xe,Vt){if(Lt.length!==0){var At=[],Wt=[];eo.flattenJSON(Lt,At,Wt,Xe),At.length!==0&&Vt.push(new vt(Dt,At,Wt))}},m=[],B=n.name||"default",k=n.length||-1,ne=n.fps||30,se=n.hierarchy||[],ge=0;ge<se.length;ge++){var ve=se[ge].keys;if(ve&&ve.length!==0)if(ve[0].morphTargets){for(var we={},_e=0;_e<ve.length;_e++)if(ve[_e].morphTargets)for(var Te=0;Te<ve[_e].morphTargets.length;Te++)we[ve[_e].morphTargets[Te]]=-1;for(var ye in we){var ke=[],Ge=[];for(Te=0;Te!==ve[_e].morphTargets.length;++Te){var We=ve[_e];ke.push(We.time),Ge.push(We.morphTarget===ye?1:0)}m.push(new ou(".morphTargetInfluence["+ye+"]",ke,Ge))}k=we.length*(ne||1)}else{var ht=".bones["+o[ge].name+"]";u(au,ht+".position",ve,"pos",m),u(id,ht+".quaternion",ve,"rot",m),u(au,ht+".scale",ve,"scl",m)}}return m.length===0?null:new ls(B,k,m)}}),Object.assign(ls.prototype,{resetDuration:function(){for(var n=0,o=0,u=this.tracks.length;o!==u;++o){var m=this.tracks[o];n=Math.max(n,m.times[m.times.length-1])}return this.duration=n,this},trim:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this},validate:function(){for(var n=!0,o=0;o<this.tracks.length;o++)n=n&&this.tracks[o].validate();return n},optimize:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this},clone:function(){for(var n=[],o=0;o<this.tracks.length;o++)n.push(this.tracks[o].clone());return new ls(this.name,this.duration,n)}});var Ac={enabled:!1,files:{},add:function(n,o){this.enabled!==!1&&(this.files[n]=o)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};function Yd(n,o,u){var m=this,B=!1,k=0,ne=0,se=void 0,ge=[];this.onStart=void 0,this.onLoad=n,this.onProgress=o,this.onError=u,this.itemStart=function(ve){ne++,B===!1&&m.onStart!==void 0&&m.onStart(ve,k,ne),B=!0},this.itemEnd=function(ve){k++,m.onProgress!==void 0&&m.onProgress(ve,k,ne),k===ne&&(B=!1,m.onLoad!==void 0&&m.onLoad())},this.itemError=function(ve){m.onError!==void 0&&m.onError(ve)},this.resolveURL=function(ve){return se?se(ve):ve},this.setURLModifier=function(ve){return se=ve,this},this.addHandler=function(ve,we){return ge.push(ve,we),this},this.removeHandler=function(ve){var we=ge.indexOf(ve);return we!==-1&&ge.splice(we,2),this},this.getHandler=function(ve){for(var we=0,_e=ge.length;we<_e;we+=2){var Te=ge[we],ye=ge[we+1];if(Te.global&&(Te.lastIndex=0),Te.test(ve))return ye}return null}}var ef=new Yd;function _i(n){this.manager=n!==void 0?n:ef,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(_i.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this}});var As={};function us(n){_i.call(this,n)}function tf(n){_i.call(this,n)}function Zd(n){_i.call(this,n)}function Kd(n){_i.call(this,n)}function su(n){_i.call(this,n)}function Qd(n){_i.call(this,n)}function eh(n){_i.call(this,n)}function Er(){this.type="Curve",this.arcLengthDivisions=200}function _s(n,o,u,m,B,k,ne,se){Er.call(this),this.type="EllipseCurve",this.aX=n||0,this.aY=o||0,this.xRadius=u||1,this.yRadius=m||1,this.aStartAngle=B||0,this.aEndAngle=k||2*Math.PI,this.aClockwise=ne||!1,this.aRotation=se||0}function ma(n,o,u,m,B,k){_s.call(this,n,o,u,u,m,B,k),this.type="ArcCurve"}function nf(){var n=0,o=0,u=0,m=0;function B(k,ne,se,ge){u=-3*(n=k)+3*ne-2*(o=se)-ge,m=2*k-2*ne+se+ge}return{initCatmullRom:function(k,ne,se,ge,ve){B(ne,se,ve*(se-k),ve*(ge-ne))},initNonuniformCatmullRom:function(k,ne,se,ge,ve,we,_e){var Te=(ne-k)/ve-(se-k)/(ve+we)+(se-ne)/we,ye=(se-ne)/we-(ge-ne)/(we+_e)+(ge-se)/_e;B(ne,se,Te*=we,ye*=we)},calc:function(k){var ne=k*k;return n+o*k+u*ne+m*(ne*k)}}}us.prototype=Object.assign(Object.create(_i.prototype),{constructor:us,load:function(n,o,u,m){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var B=this,k=Ac.get(n);if(k!==void 0)return B.manager.itemStart(n),setTimeout(function(){o&&o(k),B.manager.itemEnd(n)},0),k;if(As[n]===void 0){var ne=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(ne){var se=ne[1],ge=!!ne[2],ve=ne[3];ve=decodeURIComponent(ve),ge&&(ve=atob(ve));try{var we,_e=(this.responseType||"").toLowerCase();switch(_e){case"arraybuffer":case"blob":for(var Te=new Uint8Array(ve.length),ye=0;ye<ve.length;ye++)Te[ye]=ve.charCodeAt(ye);we=_e==="blob"?new Blob([Te.buffer],{type:se}):Te.buffer;break;case"document":var ke=new DOMParser;we=ke.parseFromString(ve,se);break;case"json":we=JSON.parse(ve);break;default:we=ve}setTimeout(function(){o&&o(we),B.manager.itemEnd(n)},0)}catch(ht){setTimeout(function(){m&&m(ht),B.manager.itemError(n),B.manager.itemEnd(n)},0)}}else{As[n]=[],As[n].push({onLoad:o,onProgress:u,onError:m});var Ge=new XMLHttpRequest;for(var We in Ge.open("GET",n,!0),Ge.addEventListener("load",function(ht){var vt=this.response,Dt=As[n];if(delete As[n],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ac.add(n,vt);for(var Lt=0,Xe=Dt.length;Lt<Xe;Lt++)(Vt=Dt[Lt]).onLoad&&Vt.onLoad(vt);B.manager.itemEnd(n)}else{for(Lt=0,Xe=Dt.length;Lt<Xe;Lt++){var Vt;(Vt=Dt[Lt]).onError&&Vt.onError(ht)}B.manager.itemError(n),B.manager.itemEnd(n)}},!1),Ge.addEventListener("progress",function(ht){for(var vt=As[n],Dt=0,Lt=vt.length;Dt<Lt;Dt++){var Xe=vt[Dt];Xe.onProgress&&Xe.onProgress(ht)}},!1),Ge.addEventListener("error",function(ht){var vt=As[n];delete As[n];for(var Dt=0,Lt=vt.length;Dt<Lt;Dt++){var Xe=vt[Dt];Xe.onError&&Xe.onError(ht)}B.manager.itemError(n),B.manager.itemEnd(n)},!1),Ge.addEventListener("abort",function(ht){var vt=As[n];delete As[n];for(var Dt=0,Lt=vt.length;Dt<Lt;Dt++){var Xe=vt[Dt];Xe.onError&&Xe.onError(ht)}B.manager.itemError(n),B.manager.itemEnd(n)},!1),this.responseType!==void 0&&(Ge.responseType=this.responseType),this.withCredentials!==void 0&&(Ge.withCredentials=this.withCredentials),Ge.overrideMimeType&&Ge.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain"),this.requestHeader)Ge.setRequestHeader(We,this.requestHeader[We]);Ge.send(null)}return B.manager.itemStart(n),Ge}As[n].push({onLoad:o,onProgress:u,onError:m})},setResponseType:function(n){return this.responseType=n,this},setWithCredentials:function(n){return this.withCredentials=n,this},setMimeType:function(n){return this.mimeType=n,this},setRequestHeader:function(n){return this.requestHeader=n,this}}),tf.prototype=Object.assign(Object.create(_i.prototype),{constructor:tf,load:function(n,o,u,m){var B=this,k=new us(B.manager);k.setPath(B.path),k.load(n,function(ne){o(B.parse(JSON.parse(ne)))},u,m)},parse:function(n){for(var o=[],u=0;u<n.length;u++){var m=ls.parse(n[u]);o.push(m)}return o}}),Zd.prototype=Object.assign(Object.create(_i.prototype),{constructor:Zd,load:function(n,o,u,m){var B=this,k=[],ne=new Ga;ne.image=k;var se=new us(this.manager);function ge(Te){se.load(n[Te],function(ye){var ke=B.parse(ye,!0);k[Te]={width:ke.width,height:ke.height,format:ke.format,mipmaps:ke.mipmaps},(ve+=1)===6&&(ke.mipmapCount===1&&(ne.minFilter=gn),ne.format=ke.format,ne.needsUpdate=!0,o&&o(ne))},u,m)}if(se.setPath(this.path),se.setResponseType("arraybuffer"),Array.isArray(n))for(var ve=0,we=0,_e=n.length;we<_e;++we)ge(we);else se.load(n,function(Te){var ye=B.parse(Te,!0);if(ye.isCubemap)for(var ke=ye.mipmaps.length/ye.mipmapCount,Ge=0;Ge<ke;Ge++){k[Ge]={mipmaps:[]};for(var We=0;We<ye.mipmapCount;We++)k[Ge].mipmaps.push(ye.mipmaps[Ge*ye.mipmapCount+We]),k[Ge].format=ye.format,k[Ge].width=ye.width,k[Ge].height=ye.height}else ne.image.width=ye.width,ne.image.height=ye.height,ne.mipmaps=ye.mipmaps;ye.mipmapCount===1&&(ne.minFilter=gn),ne.format=ye.format,ne.needsUpdate=!0,o&&o(ne)},u,m);return ne}}),Kd.prototype=Object.assign(Object.create(_i.prototype),{constructor:Kd,load:function(n,o,u,m){var B=this,k=new Hs,ne=new us(this.manager);return ne.setResponseType("arraybuffer"),ne.setPath(this.path),ne.load(n,function(se){var ge=B.parse(se);ge&&(ge.image!==void 0?k.image=ge.image:ge.data!==void 0&&(k.image.width=ge.width,k.image.height=ge.height,k.image.data=ge.data),k.wrapS=ge.wrapS!==void 0?ge.wrapS:vn,k.wrapT=ge.wrapT!==void 0?ge.wrapT:vn,k.magFilter=ge.magFilter!==void 0?ge.magFilter:gn,k.minFilter=ge.minFilter!==void 0?ge.minFilter:gn,k.anisotropy=ge.anisotropy!==void 0?ge.anisotropy:1,ge.format!==void 0&&(k.format=ge.format),ge.type!==void 0&&(k.type=ge.type),ge.mipmaps!==void 0&&(k.mipmaps=ge.mipmaps,k.minFilter=Ar),ge.mipmapCount===1&&(k.minFilter=gn),k.needsUpdate=!0,o&&o(k,ge))},u,m),k}}),su.prototype=Object.assign(Object.create(_i.prototype),{constructor:su,load:function(n,o,u,m){this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var B=this,k=Ac.get(n);if(k!==void 0)return B.manager.itemStart(n),setTimeout(function(){o&&o(k),B.manager.itemEnd(n)},0),k;var ne=document.createElementNS("http://www.w3.org/1999/xhtml","img");function se(){ne.removeEventListener("load",se,!1),ne.removeEventListener("error",ge,!1),Ac.add(n,this),o&&o(this),B.manager.itemEnd(n)}function ge(ve){ne.removeEventListener("load",se,!1),ne.removeEventListener("error",ge,!1),m&&m(ve),B.manager.itemError(n),B.manager.itemEnd(n)}return ne.addEventListener("load",se,!1),ne.addEventListener("error",ge,!1),n.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(ne.crossOrigin=this.crossOrigin),B.manager.itemStart(n),ne.src=n,ne}}),Qd.prototype=Object.assign(Object.create(_i.prototype),{constructor:Qd,load:function(n,o,u,m){var B=new ko,k=new su(this.manager);k.setCrossOrigin(this.crossOrigin),k.setPath(this.path);var ne=0;function se(ve){k.load(n[ve],function(we){B.images[ve]=we,++ne==6&&(B.needsUpdate=!0,o&&o(B))},void 0,m)}for(var ge=0;ge<n.length;++ge)se(ge);return B}}),eh.prototype=Object.assign(Object.create(_i.prototype),{constructor:eh,load:function(n,o,u,m){var B=new wi,k=new su(this.manager);return k.setCrossOrigin(this.crossOrigin),k.setPath(this.path),k.load(n,function(ne){B.image=ne;var se=0<n.search(/\.jpe?g($|\?)/i)||n.search(/^data\:image\/jpeg/)===0;B.format=se?Co:Ce,B.needsUpdate=!0,o!==void 0&&o(B)},u,m),B}}),Object.assign(Er.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(n,o){var u=this.getUtoTmapping(n);return this.getPoint(u,o)},getPoints:function(n){n===void 0&&(n=5);for(var o=[],u=0;u<=n;u++)o.push(this.getPoint(u/n));return o},getSpacedPoints:function(n){n===void 0&&(n=5);for(var o=[],u=0;u<=n;u++)o.push(this.getPointAt(u/n));return o},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o,u,m=[],B=this.getPoint(0),k=0;for(m.push(0),u=1;u<=n;u++)k+=(o=this.getPoint(u/n)).distanceTo(B),m.push(k),B=o;return this.cacheArcLengths=m},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(n,o){var u,m=this.getLengths(),B=0,k=m.length;u=o||n*m[k-1];for(var ne,se=0,ge=k-1;se<=ge;)if((ne=m[B=Math.floor(se+(ge-se)/2)]-u)<0)se=B+1;else{if(!(0<ne)){ge=B;break}ge=B-1}if(m[B=ge]===u)return B/(k-1);var ve=m[B];return(B+(u-ve)/(m[B+1]-ve))/(k-1)},getTangent:function(n){var o=n-1e-4,u=n+1e-4;o<0&&(o=0),1<u&&(u=1);var m=this.getPoint(o);return this.getPoint(u).clone().sub(m).normalize()},getTangentAt:function(n){var o=this.getUtoTmapping(n);return this.getTangent(o)},computeFrenetFrames:function(n,o){var u,m,B,k=new gt,ne=[],se=[],ge=[],ve=new gt,we=new ur;for(u=0;u<=n;u++)m=u/n,ne[u]=this.getTangentAt(m),ne[u].normalize();se[0]=new gt,ge[0]=new gt;var _e=Number.MAX_VALUE,Te=Math.abs(ne[0].x),ye=Math.abs(ne[0].y),ke=Math.abs(ne[0].z);for(Te<=_e&&(_e=Te,k.set(1,0,0)),ye<=_e&&(_e=ye,k.set(0,1,0)),ke<=_e&&k.set(0,0,1),ve.crossVectors(ne[0],k).normalize(),se[0].crossVectors(ne[0],ve),ge[0].crossVectors(ne[0],se[0]),u=1;u<=n;u++)se[u]=se[u-1].clone(),ge[u]=ge[u-1].clone(),ve.crossVectors(ne[u-1],ne[u]),ve.length()>Number.EPSILON&&(ve.normalize(),B=Math.acos(Gr.clamp(ne[u-1].dot(ne[u]),-1,1)),se[u].applyMatrix4(we.makeRotationAxis(ve,B))),ge[u].crossVectors(ne[u],se[u]);if(o===!0)for(B=Math.acos(Gr.clamp(se[0].dot(se[n]),-1,1)),B/=n,0<ne[0].dot(ve.crossVectors(se[0],se[n]))&&(B=-B),u=1;u<=n;u++)se[u].applyMatrix4(we.makeRotationAxis(ne[u],B*u)),ge[u].crossVectors(ne[u],se[u]);return{tangents:ne,normals:se,binormals:ge}},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this},toJSON:function(){var n={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return n.arcLengthDivisions=this.arcLengthDivisions,n.type=this.type,n},fromJSON:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}),((_s.prototype=Object.create(Er.prototype)).constructor=_s).prototype.isEllipseCurve=!0,_s.prototype.getPoint=function(n,o){for(var u=o||new An,m=2*Math.PI,B=this.aEndAngle-this.aStartAngle,k=Math.abs(B)<Number.EPSILON;B<0;)B+=m;for(;m<B;)B-=m;B<Number.EPSILON&&(B=k?0:m),this.aClockwise!==!0||k||(B===m?B=-m:B-=m);var ne=this.aStartAngle+n*B,se=this.aX+this.xRadius*Math.cos(ne),ge=this.aY+this.yRadius*Math.sin(ne);if(this.aRotation!==0){var ve=Math.cos(this.aRotation),we=Math.sin(this.aRotation),_e=se-this.aX,Te=ge-this.aY;se=_e*ve-Te*we+this.aX,ge=_e*we+Te*ve+this.aY}return u.set(se,ge)},_s.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},_s.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n},_s.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},((ma.prototype=Object.create(_s.prototype)).constructor=ma).prototype.isArcCurve=!0;var th=new gt,rf=new nf,nh=new nf,of=new nf;function Ta(n,o,u,m){Er.call(this),this.type="CatmullRomCurve3",this.points=n||[],this.closed=o||!1,this.curveType=u||"centripetal",this.tension=m||.5}function Dp(n,o,u,m,B){var k=.5*(m-o),ne=.5*(B-u),se=n*n;return(2*u-2*m+k+ne)*(n*se)+(-3*u+3*m-2*k-ne)*se+k*n+u}function od(n,o,u,m){return(ne=1-n)*ne*o+2*(1-(k=n))*k*u+(B=n)*B*m;var B,k,ne}function _c(n,o,u,m,B){return(ve=1-n)*ve*ve*o+3*(ge=1-(se=n))*ge*se*u+3*(1-(ne=n))*ne*ne*m+(k=n)*k*k*B;var k,ne,se,ge,ve}function Dl(n,o,u,m){Er.call(this),this.type="CubicBezierCurve",this.v0=n||new An,this.v1=o||new An,this.v2=u||new An,this.v3=m||new An}function $l(n,o,u,m){Er.call(this),this.type="CubicBezierCurve3",this.v0=n||new gt,this.v1=o||new gt,this.v2=u||new gt,this.v3=m||new gt}function ds(n,o){Er.call(this),this.type="LineCurve",this.v1=n||new An,this.v2=o||new An}function bl(n,o){Er.call(this),this.type="LineCurve3",this.v1=n||new gt,this.v2=o||new gt}function wl(n,o,u){Er.call(this),this.type="QuadraticBezierCurve",this.v0=n||new An,this.v1=o||new An,this.v2=u||new An}function Wl(n,o,u){Er.call(this),this.type="QuadraticBezierCurve3",this.v0=n||new gt,this.v1=o||new gt,this.v2=u||new gt}function Al(n){Er.call(this),this.type="SplineCurve",this.points=n||[]}((Ta.prototype=Object.create(Er.prototype)).constructor=Ta).prototype.isCatmullRomCurve3=!0,Ta.prototype.getPoint=function(n,o){var u,m,B,k,ne=o||new gt,se=this.points,ge=se.length,ve=(ge-(this.closed?0:1))*n,we=Math.floor(ve),_e=ve-we;if(this.closed?we+=0<we?0:(Math.floor(Math.abs(we)/ge)+1)*ge:_e===0&&we===ge-1&&(we=ge-2,_e=1),u=this.closed||0<we?se[(we-1)%ge]:(th.subVectors(se[0],se[1]).add(se[0]),th),m=se[we%ge],B=se[(we+1)%ge],k=this.closed||we+2<ge?se[(we+2)%ge]:(th.subVectors(se[ge-1],se[ge-2]).add(se[ge-1]),th),this.curveType==="centripetal"||this.curveType==="chordal"){var Te=this.curveType==="chordal"?.5:.25,ye=Math.pow(u.distanceToSquared(m),Te),ke=Math.pow(m.distanceToSquared(B),Te),Ge=Math.pow(B.distanceToSquared(k),Te);ke<1e-4&&(ke=1),ye<1e-4&&(ye=ke),Ge<1e-4&&(Ge=ke),rf.initNonuniformCatmullRom(u.x,m.x,B.x,k.x,ye,ke,Ge),nh.initNonuniformCatmullRom(u.y,m.y,B.y,k.y,ye,ke,Ge),of.initNonuniformCatmullRom(u.z,m.z,B.z,k.z,ye,ke,Ge)}else this.curveType==="catmullrom"&&(rf.initCatmullRom(u.x,m.x,B.x,k.x,this.tension),nh.initCatmullRom(u.y,m.y,B.y,k.y,this.tension),of.initCatmullRom(u.z,m.z,B.z,k.z,this.tension));return ne.set(rf.calc(_e),nh.calc(_e),of.calc(_e)),ne},Ta.prototype.copy=function(n){Er.prototype.copy.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(m.clone())}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},Ta.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);n.points=[];for(var o=0,u=this.points.length;o<u;o++){var m=this.points[o];n.points.push(m.toArray())}return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n},Ta.prototype.fromJSON=function(n){Er.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(new gt().fromArray(m))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},((Dl.prototype=Object.create(Er.prototype)).constructor=Dl).prototype.isCubicBezierCurve=!0,Dl.prototype.getPoint=function(n,o){var u=o||new An,m=this.v0,B=this.v1,k=this.v2,ne=this.v3;return u.set(_c(n,m.x,B.x,k.x,ne.x),_c(n,m.y,B.y,k.y,ne.y)),u},Dl.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},Dl.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},Dl.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},(($l.prototype=Object.create(Er.prototype)).constructor=$l).prototype.isCubicBezierCurve3=!0,$l.prototype.getPoint=function(n,o){var u=o||new gt,m=this.v0,B=this.v1,k=this.v2,ne=this.v3;return u.set(_c(n,m.x,B.x,k.x,ne.x),_c(n,m.y,B.y,k.y,ne.y),_c(n,m.z,B.z,k.z,ne.z)),u},$l.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},$l.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},$l.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},((ds.prototype=Object.create(Er.prototype)).constructor=ds).prototype.isLineCurve=!0,ds.prototype.getPoint=function(n,o){var u=o||new An;return n===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(n).add(this.v1)),u},ds.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},ds.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ds.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},ds.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},ds.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((bl.prototype=Object.create(Er.prototype)).constructor=bl).prototype.isLineCurve3=!0,bl.prototype.getPoint=function(n,o){var u=o||new gt;return n===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(n).add(this.v1)),u},bl.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},bl.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},bl.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},bl.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((wl.prototype=Object.create(Er.prototype)).constructor=wl).prototype.isQuadraticBezierCurve=!0,wl.prototype.getPoint=function(n,o){var u=o||new An,m=this.v0,B=this.v1,k=this.v2;return u.set(od(n,m.x,B.x,k.x),od(n,m.y,B.y,k.y)),u},wl.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},wl.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},wl.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((Wl.prototype=Object.create(Er.prototype)).constructor=Wl).prototype.isQuadraticBezierCurve3=!0,Wl.prototype.getPoint=function(n,o){var u=o||new gt,m=this.v0,B=this.v1,k=this.v2;return u.set(od(n,m.x,B.x,k.x),od(n,m.y,B.y,k.y),od(n,m.z,B.z,k.z)),u},Wl.prototype.copy=function(n){return Er.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Wl.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Wl.prototype.fromJSON=function(n){return Er.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((Al.prototype=Object.create(Er.prototype)).constructor=Al).prototype.isSplineCurve=!0,Al.prototype.getPoint=function(n,o){var u=o||new An,m=this.points,B=(m.length-1)*n,k=Math.floor(B),ne=B-k,se=m[k===0?k:k-1],ge=m[k],ve=m[k>m.length-2?m.length-1:k+1],we=m[k>m.length-3?m.length-1:k+2];return u.set(Dp(ne,se.x,ge.x,ve.x,we.x),Dp(ne,se.y,ge.y,ve.y,we.y)),u},Al.prototype.copy=function(n){Er.prototype.copy.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(m.clone())}return this},Al.prototype.toJSON=function(){var n=Er.prototype.toJSON.call(this);n.points=[];for(var o=0,u=this.points.length;o<u;o++){var m=this.points[o];n.points.push(m.toArray())}return n},Al.prototype.fromJSON=function(n){Er.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(new An().fromArray(m))}return this};var af=Object.freeze({__proto__:null,ArcCurve:ma,CatmullRomCurve3:Ta,CubicBezierCurve:Dl,CubicBezierCurve3:$l,EllipseCurve:_s,LineCurve:ds,LineCurve3:bl,QuadraticBezierCurve:wl,QuadraticBezierCurve3:Wl,SplineCurve:Al});function _l(){Er.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Bs(n){_l.call(this),this.type="Path",this.currentPoint=new An,n&&this.setFromPoints(n)}function Jl(n){Bs.call(this,n),this.uuid=Gr.generateUUID(),this.type="Shape",this.holes=[]}function ki(n,o){Fn.call(this),this.type="Light",this.color=new Un(n),this.intensity=o!==void 0?o:1,this.receiveShadow=void 0}function rh(n,o,u){ki.call(this,n,u),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Fn.DefaultUp),this.updateMatrix(),this.groundColor=new Un(o)}function Xs(n){this.camera=n,this.bias=0,this.radius=1,this.mapSize=new An(512,512),this.map=null,this.mapPass=null,this.matrix=new ur,this._frustum=new Vc,this._frameExtents=new An(1,1),this._viewportCount=1,this._viewports=[new Ci(0,0,1,1)]}function ih(){Xs.call(this,new Gi(50,1,.5,500))}function oh(n,o,u,m,B,k){ki.call(this,n,o),this.type="SpotLight",this.position.copy(Fn.DefaultUp),this.updateMatrix(),this.target=new Fn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(ne){this.intensity=ne/Math.PI}}),this.distance=u!==void 0?u:0,this.angle=m!==void 0?m:Math.PI/3,this.penumbra=B!==void 0?B:0,this.decay=k!==void 0?k:1,this.shadow=new ih}function sf(){Xs.call(this,new Gi(90,1,.5,500)),this._frameExtents=new An(4,2),this._viewportCount=6,this._viewports=[new Ci(2,1,1,1),new Ci(0,1,1,1),new Ci(3,1,1,1),new Ci(1,1,1,1),new Ci(3,0,1,1),new Ci(1,0,1,1)],this._cubeDirections=[new gt(1,0,0),new gt(-1,0,0),new gt(0,0,1),new gt(0,0,-1),new gt(0,1,0),new gt(0,-1,0)],this._cubeUps=[new gt(0,1,0),new gt(0,1,0),new gt(0,1,0),new gt(0,1,0),new gt(0,0,1),new gt(0,0,-1)]}function ah(n,o,u,m){ki.call(this,n,o),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(B){this.intensity=B/(4*Math.PI)}}),this.distance=u!==void 0?u:0,this.decay=m!==void 0?m:1,this.shadow=new sf}function lu(n,o,u,m,B,k){da.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n!==void 0?n:-1,this.right=o!==void 0?o:1,this.top=u!==void 0?u:1,this.bottom=m!==void 0?m:-1,this.near=B!==void 0?B:.1,this.far=k!==void 0?k:2e3,this.updateProjectionMatrix()}function sh(){Xs.call(this,new lu(-5,5,5,-5,.5,500))}function cu(n,o){ki.call(this,n,o),this.type="DirectionalLight",this.position.copy(Fn.DefaultUp),this.updateMatrix(),this.target=new Fn,this.shadow=new sh}function ad(n,o){ki.call(this,n,o),this.type="AmbientLight",this.castShadow=void 0}function lh(n,o,u,m){ki.call(this,n,o),this.type="RectAreaLight",this.width=u!==void 0?u:10,this.height=m!==void 0?m:10}function ch(n){_i.call(this,n),this.textures={}}_l.prototype=Object.assign(Object.create(Er.prototype),{constructor:_l,add:function(n){this.curves.push(n)},closePath:function(){var n=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);n.equals(o)||this.curves.push(new ds(o,n))},getPoint:function(n){for(var o=n*this.getLength(),u=this.getCurveLengths(),m=0;m<u.length;){if(u[m]>=o){var B=u[m]-o,k=this.curves[m],ne=k.getLength(),se=ne===0?0:1-B/ne;return k.getPointAt(se)}m++}return null},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var n=[],o=0,u=0,m=this.curves.length;u<m;u++)o+=this.curves[u].getLength(),n.push(o);return this.cacheLengths=n},getSpacedPoints:function(n){n===void 0&&(n=40);for(var o=[],u=0;u<=n;u++)o.push(this.getPoint(u/n));return this.autoClose&&o.push(o[0]),o},getPoints:function(n){n=n||12;for(var o,u=[],m=0,B=this.curves;m<B.length;m++)for(var k=B[m],ne=k&&k.isEllipseCurve?2*n:k&&(k.isLineCurve||k.isLineCurve3)?1:k&&k.isSplineCurve?n*k.points.length:n,se=k.getPoints(ne),ge=0;ge<se.length;ge++){var ve=se[ge];o&&o.equals(ve)||(u.push(ve),o=ve)}return this.autoClose&&1<u.length&&!u[u.length-1].equals(u[0])&&u.push(u[0]),u},copy:function(n){Er.prototype.copy.call(this,n),this.curves=[];for(var o=0,u=n.curves.length;o<u;o++){var m=n.curves[o];this.curves.push(m.clone())}return this.autoClose=n.autoClose,this},toJSON:function(){var n=Er.prototype.toJSON.call(this);n.autoClose=this.autoClose,n.curves=[];for(var o=0,u=this.curves.length;o<u;o++){var m=this.curves[o];n.curves.push(m.toJSON())}return n},fromJSON:function(n){Er.prototype.fromJSON.call(this,n),this.autoClose=n.autoClose,this.curves=[];for(var o=0,u=n.curves.length;o<u;o++){var m=n.curves[o];this.curves.push(new af[m.type]().fromJSON(m))}return this}}),Bs.prototype=Object.assign(Object.create(_l.prototype),{constructor:Bs,setFromPoints:function(n){this.moveTo(n[0].x,n[0].y);for(var o=1,u=n.length;o<u;o++)this.lineTo(n[o].x,n[o].y);return this},moveTo:function(n,o){return this.currentPoint.set(n,o),this},lineTo:function(n,o){var u=new ds(this.currentPoint.clone(),new An(n,o));return this.curves.push(u),this.currentPoint.set(n,o),this},quadraticCurveTo:function(n,o,u,m){var B=new wl(this.currentPoint.clone(),new An(n,o),new An(u,m));return this.curves.push(B),this.currentPoint.set(u,m),this},bezierCurveTo:function(n,o,u,m,B,k){var ne=new Dl(this.currentPoint.clone(),new An(n,o),new An(u,m),new An(B,k));return this.curves.push(ne),this.currentPoint.set(B,k),this},splineThru:function(n){var o=new Al([this.currentPoint.clone()].concat(n));return this.curves.push(o),this.currentPoint.copy(n[n.length-1]),this},arc:function(n,o,u,m,B,k){var ne=this.currentPoint.x,se=this.currentPoint.y;return this.absarc(n+ne,o+se,u,m,B,k),this},absarc:function(n,o,u,m,B,k){return this.absellipse(n,o,u,u,m,B,k),this},ellipse:function(n,o,u,m,B,k,ne,se){var ge=this.currentPoint.x,ve=this.currentPoint.y;return this.absellipse(n+ge,o+ve,u,m,B,k,ne,se),this},absellipse:function(n,o,u,m,B,k,ne,se){var ge=new _s(n,o,u,m,B,k,ne,se);if(0<this.curves.length){var ve=ge.getPoint(0);ve.equals(this.currentPoint)||this.lineTo(ve.x,ve.y)}this.curves.push(ge);var we=ge.getPoint(1);return this.currentPoint.copy(we),this},copy:function(n){return _l.prototype.copy.call(this,n),this.currentPoint.copy(n.currentPoint),this},toJSON:function(){var n=_l.prototype.toJSON.call(this);return n.currentPoint=this.currentPoint.toArray(),n},fromJSON:function(n){return _l.prototype.fromJSON.call(this,n),this.currentPoint.fromArray(n.currentPoint),this}}),Jl.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Jl,getPointsHoles:function(n){for(var o=[],u=0,m=this.holes.length;u<m;u++)o[u]=this.holes[u].getPoints(n);return o},extractPoints:function(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}},copy:function(n){Bs.prototype.copy.call(this,n),this.holes=[];for(var o=0,u=n.holes.length;o<u;o++){var m=n.holes[o];this.holes.push(m.clone())}return this},toJSON:function(){var n=Bs.prototype.toJSON.call(this);n.uuid=this.uuid,n.holes=[];for(var o=0,u=this.holes.length;o<u;o++){var m=this.holes[o];n.holes.push(m.toJSON())}return n},fromJSON:function(n){Bs.prototype.fromJSON.call(this,n),this.uuid=n.uuid,this.holes=[];for(var o=0,u=n.holes.length;o<u;o++){var m=n.holes[o];this.holes.push(new Bs().fromJSON(m))}return this}}),ki.prototype=Object.assign(Object.create(Fn.prototype),{constructor:ki,isLight:!0,copy:function(n){return Fn.prototype.copy.call(this,n),this.color.copy(n.color),this.intensity=n.intensity,this},toJSON:function(n){var o=Fn.prototype.toJSON.call(this,n);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,this.groundColor!==void 0&&(o.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(o.object.distance=this.distance),this.angle!==void 0&&(o.object.angle=this.angle),this.decay!==void 0&&(o.object.decay=this.decay),this.penumbra!==void 0&&(o.object.penumbra=this.penumbra),this.shadow!==void 0&&(o.object.shadow=this.shadow.toJSON()),o}}),rh.prototype=Object.assign(Object.create(ki.prototype),{constructor:rh,isHemisphereLight:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.groundColor.copy(n.groundColor),this}}),Object.assign(Xs.prototype,{_projScreenMatrix:new ur,_lightPositionWorld:new gt,_lookTarget:new gt,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(n){var o=this.camera,u=this.matrix,m=this._projScreenMatrix,B=this._lookTarget,k=this._lightPositionWorld;k.setFromMatrixPosition(n.matrixWorld),o.position.copy(k),B.setFromMatrixPosition(n.target.matrixWorld),o.lookAt(B),o.updateMatrixWorld(),m.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(o.projectionMatrix),u.multiply(o.matrixWorldInverse)},getViewport:function(n){return this._viewports[n]},getFrameExtents:function(){return this._frameExtents},copy:function(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n={};return this.bias!==0&&(n.bias=this.bias),this.radius!==1&&(n.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}),ih.prototype=Object.assign(Object.create(Xs.prototype),{constructor:ih,isSpotLightShadow:!0,updateMatrices:function(n){var o=this.camera,u=2*Gr.RAD2DEG*n.angle,m=this.mapSize.width/this.mapSize.height,B=n.distance||o.far;u===o.fov&&m===o.aspect&&B===o.far||(o.fov=u,o.aspect=m,o.far=B,o.updateProjectionMatrix()),Xs.prototype.updateMatrices.call(this,n)}}),oh.prototype=Object.assign(Object.create(ki.prototype),{constructor:oh,isSpotLight:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),sf.prototype=Object.assign(Object.create(Xs.prototype),{constructor:sf,isPointLightShadow:!0,updateMatrices:function(n,o){o===void 0&&(o=0);var u=this.camera,m=this.matrix,B=this._lightPositionWorld,k=this._lookTarget,ne=this._projScreenMatrix;B.setFromMatrixPosition(n.matrixWorld),u.position.copy(B),k.copy(u.position),k.add(this._cubeDirections[o]),u.up.copy(this._cubeUps[o]),u.lookAt(k),u.updateMatrixWorld(),m.makeTranslation(-B.x,-B.y,-B.z),ne.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ne)}}),ah.prototype=Object.assign(Object.create(ki.prototype),{constructor:ah,isPointLight:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}),lu.prototype=Object.assign(Object.create(da.prototype),{constructor:lu,isOrthographicCamera:!0,copy:function(n,o){return da.prototype.copy.call(this,n,o),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=n.view===null?null:Object.assign({},n.view),this},setViewOffset:function(n,o,u,m,B,k){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=u,this.view.offsetY=m,this.view.width=B,this.view.height=k,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),u=(this.right+this.left)/2,m=(this.top+this.bottom)/2,B=u-n,k=u+n,ne=m+o,se=m-o;if(this.view!==null&&this.view.enabled){var ge=(this.right-this.left)/this.view.fullWidth/this.zoom,ve=(this.top-this.bottom)/this.view.fullHeight/this.zoom;k=(B+=ge*this.view.offsetX)+ge*this.view.width,se=(ne-=ve*this.view.offsetY)-ve*this.view.height}this.projectionMatrix.makeOrthographic(B,k,ne,se,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){var o=Fn.prototype.toJSON.call(this,n);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,this.view!==null&&(o.object.view=Object.assign({},this.view)),o}}),sh.prototype=Object.assign(Object.create(Xs.prototype),{constructor:sh,isDirectionalLightShadow:!0,updateMatrices:function(n){Xs.prototype.updateMatrices.call(this,n)}}),cu.prototype=Object.assign(Object.create(ki.prototype),{constructor:cu,isDirectionalLight:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),ad.prototype=Object.assign(Object.create(ki.prototype),{constructor:ad,isAmbientLight:!0}),lh.prototype=Object.assign(Object.create(ki.prototype),{constructor:lh,isRectAreaLight:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.width=n.width,this.height=n.height,this},toJSON:function(n){var o=ki.prototype.toJSON.call(this,n);return o.object.width=this.width,o.object.height=this.height,o}}),ch.prototype=Object.assign(Object.create(_i.prototype),{constructor:ch,load:function(n,o,u,m){var B=this,k=new us(B.manager);k.setPath(B.path),k.load(n,function(ne){o(B.parse(JSON.parse(ne)))},u,m)},parse:function(n){var o=this.textures;function u(ge){return o[ge]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ge),o[ge]}var m=new $d[n.type];if(n.uuid!==void 0&&(m.uuid=n.uuid),n.name!==void 0&&(m.name=n.name),n.color!==void 0&&m.color.setHex(n.color),n.roughness!==void 0&&(m.roughness=n.roughness),n.metalness!==void 0&&(m.metalness=n.metalness),n.sheen!==void 0&&(m.sheen=new Un().setHex(n.sheen)),n.emissive!==void 0&&m.emissive.setHex(n.emissive),n.specular!==void 0&&m.specular.setHex(n.specular),n.shininess!==void 0&&(m.shininess=n.shininess),n.clearcoat!==void 0&&(m.clearcoat=n.clearcoat),n.clearcoatRoughness!==void 0&&(m.clearcoatRoughness=n.clearcoatRoughness),n.vertexColors!==void 0&&(m.vertexColors=n.vertexColors),n.fog!==void 0&&(m.fog=n.fog),n.flatShading!==void 0&&(m.flatShading=n.flatShading),n.blending!==void 0&&(m.blending=n.blending),n.combine!==void 0&&(m.combine=n.combine),n.side!==void 0&&(m.side=n.side),n.opacity!==void 0&&(m.opacity=n.opacity),n.transparent!==void 0&&(m.transparent=n.transparent),n.alphaTest!==void 0&&(m.alphaTest=n.alphaTest),n.depthTest!==void 0&&(m.depthTest=n.depthTest),n.depthWrite!==void 0&&(m.depthWrite=n.depthWrite),n.colorWrite!==void 0&&(m.colorWrite=n.colorWrite),n.stencilWrite!==void 0&&(m.stencilWrite=n.stencilWrite),n.stencilWriteMask!==void 0&&(m.stencilWriteMask=n.stencilWriteMask),n.stencilFunc!==void 0&&(m.stencilFunc=n.stencilFunc),n.stencilRef!==void 0&&(m.stencilRef=n.stencilRef),n.stencilFuncMask!==void 0&&(m.stencilFuncMask=n.stencilFuncMask),n.stencilFail!==void 0&&(m.stencilFail=n.stencilFail),n.stencilZFail!==void 0&&(m.stencilZFail=n.stencilZFail),n.stencilZPass!==void 0&&(m.stencilZPass=n.stencilZPass),n.wireframe!==void 0&&(m.wireframe=n.wireframe),n.wireframeLinewidth!==void 0&&(m.wireframeLinewidth=n.wireframeLinewidth),n.wireframeLinecap!==void 0&&(m.wireframeLinecap=n.wireframeLinecap),n.wireframeLinejoin!==void 0&&(m.wireframeLinejoin=n.wireframeLinejoin),n.rotation!==void 0&&(m.rotation=n.rotation),n.linewidth!==1&&(m.linewidth=n.linewidth),n.dashSize!==void 0&&(m.dashSize=n.dashSize),n.gapSize!==void 0&&(m.gapSize=n.gapSize),n.scale!==void 0&&(m.scale=n.scale),n.polygonOffset!==void 0&&(m.polygonOffset=n.polygonOffset),n.polygonOffsetFactor!==void 0&&(m.polygonOffsetFactor=n.polygonOffsetFactor),n.polygonOffsetUnits!==void 0&&(m.polygonOffsetUnits=n.polygonOffsetUnits),n.skinning!==void 0&&(m.skinning=n.skinning),n.morphTargets!==void 0&&(m.morphTargets=n.morphTargets),n.morphNormals!==void 0&&(m.morphNormals=n.morphNormals),n.dithering!==void 0&&(m.dithering=n.dithering),n.visible!==void 0&&(m.visible=n.visible),n.toneMapped!==void 0&&(m.toneMapped=n.toneMapped),n.userData!==void 0&&(m.userData=n.userData),n.uniforms!==void 0)for(var B in n.uniforms){var k=n.uniforms[B];switch(m.uniforms[B]={},k.type){case"t":m.uniforms[B].value=u(k.value);break;case"c":m.uniforms[B].value=new Un().setHex(k.value);break;case"v2":m.uniforms[B].value=new An().fromArray(k.value);break;case"v3":m.uniforms[B].value=new gt().fromArray(k.value);break;case"v4":m.uniforms[B].value=new Ci().fromArray(k.value);break;case"m3":m.uniforms[B].value=new xo().fromArray(k.value);case"m4":m.uniforms[B].value=new ur().fromArray(k.value);break;default:m.uniforms[B].value=k.value}}if(n.defines!==void 0&&(m.defines=n.defines),n.vertexShader!==void 0&&(m.vertexShader=n.vertexShader),n.fragmentShader!==void 0&&(m.fragmentShader=n.fragmentShader),n.extensions!==void 0)for(var ne in n.extensions)m.extensions[ne]=n.extensions[ne];if(n.shading!==void 0&&(m.flatShading=n.shading===1),n.size!==void 0&&(m.size=n.size),n.sizeAttenuation!==void 0&&(m.sizeAttenuation=n.sizeAttenuation),n.map!==void 0&&(m.map=u(n.map)),n.matcap!==void 0&&(m.matcap=u(n.matcap)),n.alphaMap!==void 0&&(m.alphaMap=u(n.alphaMap),m.transparent=!0),n.bumpMap!==void 0&&(m.bumpMap=u(n.bumpMap)),n.bumpScale!==void 0&&(m.bumpScale=n.bumpScale),n.normalMap!==void 0&&(m.normalMap=u(n.normalMap)),n.normalMapType!==void 0&&(m.normalMapType=n.normalMapType),n.normalScale!==void 0){var se=n.normalScale;Array.isArray(se)===!1&&(se=[se,se]),m.normalScale=new An().fromArray(se)}return n.displacementMap!==void 0&&(m.displacementMap=u(n.displacementMap)),n.displacementScale!==void 0&&(m.displacementScale=n.displacementScale),n.displacementBias!==void 0&&(m.displacementBias=n.displacementBias),n.roughnessMap!==void 0&&(m.roughnessMap=u(n.roughnessMap)),n.metalnessMap!==void 0&&(m.metalnessMap=u(n.metalnessMap)),n.emissiveMap!==void 0&&(m.emissiveMap=u(n.emissiveMap)),n.emissiveIntensity!==void 0&&(m.emissiveIntensity=n.emissiveIntensity),n.specularMap!==void 0&&(m.specularMap=u(n.specularMap)),n.envMap!==void 0&&(m.envMap=u(n.envMap)),n.envMapIntensity!==void 0&&(m.envMapIntensity=n.envMapIntensity),n.reflectivity!==void 0&&(m.reflectivity=n.reflectivity),n.refractionRatio!==void 0&&(m.refractionRatio=n.refractionRatio),n.lightMap!==void 0&&(m.lightMap=u(n.lightMap)),n.lightMapIntensity!==void 0&&(m.lightMapIntensity=n.lightMapIntensity),n.aoMap!==void 0&&(m.aoMap=u(n.aoMap)),n.aoMapIntensity!==void 0&&(m.aoMapIntensity=n.aoMapIntensity),n.gradientMap!==void 0&&(m.gradientMap=u(n.gradientMap)),n.clearcoatNormalMap!==void 0&&(m.clearcoatNormalMap=u(n.clearcoatNormalMap)),n.clearcoatNormalScale!==void 0&&(m.clearcoatNormalScale=new An().fromArray(n.clearcoatNormalScale)),m},setTextures:function(n){return this.textures=n,this}});var lf={decodeText:function(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);for(var o="",u=0,m=n.length;u<m;u++)o+=String.fromCharCode(n[u]);try{return decodeURIComponent(escape(o))}catch{return o}},extractUrlBase:function(n){var o=n.lastIndexOf("/");return o===-1?"./":n.substr(0,o+1)}};function uh(){xn.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function dh(n,o,u,m){typeof u=="number"&&(m=u,u=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),$t.call(this,n,o,u),this.meshPerAttribute=m||1}function hh(n){_i.call(this,n)}uh.prototype=Object.assign(Object.create(xn.prototype),{constructor:uh,isInstancedBufferGeometry:!0,copy:function(n){return xn.prototype.copy.call(this,n),this.maxInstancedCount=n.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n=xn.prototype.toJSON.call(this);return n.maxInstancedCount=this.maxInstancedCount,n.isInstancedBufferGeometry=!0,n}}),dh.prototype=Object.assign(Object.create($t.prototype),{constructor:dh,isInstancedBufferAttribute:!0,copy:function(n){return $t.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this},toJSON:function(){var n=$t.prototype.toJSON.call(this);return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}),hh.prototype=Object.assign(Object.create(_i.prototype),{constructor:hh,load:function(n,o,u,m){var B=this,k=new us(B.manager);k.setPath(B.path),k.load(n,function(ne){o(B.parse(JSON.parse(ne)))},u,m)},parse:function(n){var o=new(n.isInstancedBufferGeometry?uh:xn),u=n.data.index;if(u!==void 0){var m=new cf[u.type](u.array);o.setIndex(new $t(m,1))}var B=n.data.attributes;for(var k in B){var ne=B[k],se=(m=new cf[ne.type](ne.array),new(ne.isInstancedBufferAttribute?dh:$t)(m,ne.itemSize,ne.normalized));ne.name!==void 0&&(se.name=ne.name),o.setAttribute(k,se)}var ge=n.data.morphAttributes;if(ge)for(var k in ge){for(var ve=ge[k],we=[],_e=0,Te=ve.length;_e<Te;_e++)ne=ve[_e],se=new $t(m=new cf[ne.type](ne.array),ne.itemSize,ne.normalized),ne.name!==void 0&&(se.name=ne.name),we.push(se);o.morphAttributes[k]=we}n.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);var ye=n.data.groups||n.data.drawcalls||n.data.offsets;if(ye!==void 0){_e=0;for(var ke=ye.length;_e!==ke;++_e){var Ge=ye[_e];o.addGroup(Ge.start,Ge.count,Ge.materialIndex)}}var We=n.data.boundingSphere;if(We!==void 0){var ht=new gt;We.center!==void 0&&ht.fromArray(We.center),o.boundingSphere=new Po(ht,We.radius)}return n.name&&(o.name=n.name),n.userData&&(o.userData=n.userData),o}});var cf={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fh(n){_i.call(this,n)}fh.prototype=Object.assign(Object.create(_i.prototype),{constructor:fh,load:function(n,o,u,m){var B=this,k=this.path===""?lf.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||k;var ne=new us(B.manager);ne.setPath(this.path),ne.load(n,function(se){var ge=null;try{ge=JSON.parse(se)}catch(we){return m!==void 0&&m(we),void console.error("THREE:ObjectLoader: Can't parse "+n+".",we.message)}var ve=ge.metadata;ve!==void 0&&ve.type!==void 0&&ve.type.toLowerCase()!=="geometry"?B.parse(ge,o):console.error("THREE.ObjectLoader: Can't load "+n)},u,m)},parse:function(n,o){var u=this.parseShape(n.shapes),m=this.parseGeometries(n.geometries,u),B=this.parseImages(n.images,function(){o!==void 0&&o(se)}),k=this.parseTextures(n.textures,B),ne=this.parseMaterials(n.materials,k),se=this.parseObject(n.object,m,ne);return n.animations&&(se.animations=this.parseAnimations(n.animations)),n.images!==void 0&&n.images.length!==0||o!==void 0&&o(se),se},parseShape:function(n){var o={};if(n!==void 0)for(var u=0,m=n.length;u<m;u++){var B=new Jl().fromJSON(n[u]);o[B.uuid]=B}return o},parseGeometries:function(n,o){var u={};if(n!==void 0)for(var m=new hh,B=0,k=n.length;B<k;B++){var ne,se=n[B];switch(se.type){case"PlaneGeometry":case"PlaneBufferGeometry":ne=new pa[se.type](se.width,se.height,se.widthSegments,se.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":ne=new pa[se.type](se.width,se.height,se.depth,se.widthSegments,se.heightSegments,se.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":ne=new pa[se.type](se.radius,se.segments,se.thetaStart,se.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":ne=new pa[se.type](se.radiusTop,se.radiusBottom,se.height,se.radialSegments,se.heightSegments,se.openEnded,se.thetaStart,se.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":ne=new pa[se.type](se.radius,se.height,se.radialSegments,se.heightSegments,se.openEnded,se.thetaStart,se.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":ne=new pa[se.type](se.radius,se.widthSegments,se.heightSegments,se.phiStart,se.phiLength,se.thetaStart,se.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":ne=new pa[se.type](se.radius,se.detail);break;case"RingGeometry":case"RingBufferGeometry":ne=new pa[se.type](se.innerRadius,se.outerRadius,se.thetaSegments,se.phiSegments,se.thetaStart,se.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":ne=new pa[se.type](se.radius,se.tube,se.radialSegments,se.tubularSegments,se.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":ne=new pa[se.type](se.radius,se.tube,se.tubularSegments,se.radialSegments,se.p,se.q);break;case"TubeGeometry":case"TubeBufferGeometry":ne=new pa[se.type](new af[se.path.type]().fromJSON(se.path),se.tubularSegments,se.radius,se.radialSegments,se.closed);break;case"LatheGeometry":case"LatheBufferGeometry":ne=new pa[se.type](se.points,se.segments,se.phiStart,se.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":ne=new pa[se.type](se.vertices,se.indices,se.radius,se.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var ge=[],ve=0,we=se.shapes.length;ve<we;ve++){var _e=o[se.shapes[ve]];ge.push(_e)}ne=new pa[se.type](ge,se.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(ge=[],ve=0,we=se.shapes.length;ve<we;ve++)_e=o[se.shapes[ve]],ge.push(_e);var Te=se.options.extrudePath;Te!==void 0&&(se.options.extrudePath=new af[Te.type]().fromJSON(Te)),ne=new pa[se.type](ge,se.options);break;case"BufferGeometry":case"InstancedBufferGeometry":ne=m.parse(se);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?ne=new THREE.LegacyJSONLoader().parse(se,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+se.type+'"');continue}ne.uuid=se.uuid,se.name!==void 0&&(ne.name=se.name),ne.isBufferGeometry===!0&&se.userData!==void 0&&(ne.userData=se.userData),u[se.uuid]=ne}return u},parseMaterials:function(n,o){var u={},m={};if(n!==void 0){var B=new ch;B.setTextures(o);for(var k=0,ne=n.length;k<ne;k++){var se=n[k];if(se.type==="MultiMaterial"){for(var ge=[],ve=0;ve<se.materials.length;ve++){var we=se.materials[ve];u[we.uuid]===void 0&&(u[we.uuid]=B.parse(we)),ge.push(u[we.uuid])}m[se.uuid]=ge}else u[se.uuid]===void 0&&(u[se.uuid]=B.parse(se)),m[se.uuid]=u[se.uuid]}}return m},parseAnimations:function(n){for(var o=[],u=0;u<n.length;u++){var m=n[u],B=ls.parse(m);m.uuid!==void 0&&(B.uuid=m.uuid),o.push(B)}return o},parseImages:function(n,o){var u=this,m={};function B(ke){return u.manager.itemStart(ke),k.load(ke,function(){u.manager.itemEnd(ke)},void 0,function(){u.manager.itemError(ke),u.manager.itemEnd(ke)})}if(n!==void 0&&0<n.length){var k=new su(new Yd(o));k.setCrossOrigin(this.crossOrigin);for(var ne=0,se=n.length;ne<se;ne++){var ge=n[ne],ve=ge.url;if(Array.isArray(ve)){m[ge.uuid]=[];for(var we=0,_e=ve.length;we<_e;we++){var Te=ve[we],ye=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Te)?Te:u.resourcePath+Te;m[ge.uuid].push(B(ye))}}else ye=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ge.url)?ge.url:u.resourcePath+ge.url,m[ge.uuid]=B(ye)}}return m},parseTextures:function(n,o){function u(ge,ve){return typeof ge=="number"?ge:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ge),ve[ge])}var m={};if(n!==void 0)for(var B=0,k=n.length;B<k;B++){var ne,se=n[B];se.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',se.uuid),o[se.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",se.image),(ne=new(Array.isArray(o[se.image])?ko:wi)(o[se.image])).needsUpdate=!0,ne.uuid=se.uuid,se.name!==void 0&&(ne.name=se.name),se.mapping!==void 0&&(ne.mapping=u(se.mapping,xm)),se.offset!==void 0&&ne.offset.fromArray(se.offset),se.repeat!==void 0&&ne.repeat.fromArray(se.repeat),se.center!==void 0&&ne.center.fromArray(se.center),se.rotation!==void 0&&(ne.rotation=se.rotation),se.wrap!==void 0&&(ne.wrapS=u(se.wrap[0],ld),ne.wrapT=u(se.wrap[1],ld)),se.format!==void 0&&(ne.format=se.format),se.type!==void 0&&(ne.type=se.type),se.encoding!==void 0&&(ne.encoding=se.encoding),se.minFilter!==void 0&&(ne.minFilter=u(se.minFilter,bp)),se.magFilter!==void 0&&(ne.magFilter=u(se.magFilter,bp)),se.anisotropy!==void 0&&(ne.anisotropy=se.anisotropy),se.flipY!==void 0&&(ne.flipY=se.flipY),se.premultiplyAlpha!==void 0&&(ne.premultiplyAlpha=se.premultiplyAlpha),se.unpackAlignment!==void 0&&(ne.unpackAlignment=se.unpackAlignment),m[se.uuid]=ne}return m},parseObject:function(n,o,u){var m;function B(We){return o[We]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",We),o[We]}function k(We){if(We!==void 0){if(Array.isArray(We)){for(var ht=[],vt=0,Dt=We.length;vt<Dt;vt++){var Lt=We[vt];u[Lt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Lt),ht.push(u[Lt])}return ht}return u[We]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",We),u[We]}}switch(n.type){case"Scene":m=new Ei,n.background!==void 0&&Number.isInteger(n.background)&&(m.background=new Un(n.background)),n.fog!==void 0&&(n.fog.type==="Fog"?m.fog=new Su(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(m.fog=new Fu(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":m=new Gi(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(m.focus=n.focus),n.zoom!==void 0&&(m.zoom=n.zoom),n.filmGauge!==void 0&&(m.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(m.filmOffset=n.filmOffset),n.view!==void 0&&(m.view=Object.assign({},n.view));break;case"OrthographicCamera":m=new lu(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(m.zoom=n.zoom),n.view!==void 0&&(m.view=Object.assign({},n.view));break;case"AmbientLight":m=new ad(n.color,n.intensity);break;case"DirectionalLight":m=new cu(n.color,n.intensity);break;case"PointLight":m=new ah(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":m=new lh(n.color,n.intensity,n.width,n.height);break;case"SpotLight":m=new oh(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":m=new rh(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var ne=B(n.geometry),se=k(n.material);m=new(ne.bones&&0<ne.bones.length?Il:Oi)(ne,se);break;case"InstancedMesh":ne=B(n.geometry),se=k(n.material);var ge=n.count,ve=n.instanceMatrix;(m=new Ru(ne,se,ge)).instanceMatrix=new $t(new Float32Array(ve.array),16);break;case"LOD":m=new Pu;break;case"Line":m=new go(B(n.geometry),k(n.material),n.mode);break;case"LineLoop":m=new Id(B(n.geometry),k(n.material));break;case"LineSegments":m=new Hi(B(n.geometry),k(n.material));break;case"PointCloud":case"Points":m=new gc(B(n.geometry),k(n.material));break;case"Sprite":m=new qc(k(n.material));break;case"Group":m=new Rl;break;default:m=new Fn}if(m.uuid=n.uuid,n.name!==void 0&&(m.name=n.name),n.matrix!==void 0?(m.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(m.matrixAutoUpdate=n.matrixAutoUpdate),m.matrixAutoUpdate&&m.matrix.decompose(m.position,m.quaternion,m.scale)):(n.position!==void 0&&m.position.fromArray(n.position),n.rotation!==void 0&&m.rotation.fromArray(n.rotation),n.quaternion!==void 0&&m.quaternion.fromArray(n.quaternion),n.scale!==void 0&&m.scale.fromArray(n.scale)),n.castShadow!==void 0&&(m.castShadow=n.castShadow),n.receiveShadow!==void 0&&(m.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(m.shadow.bias=n.shadow.bias),n.shadow.radius!==void 0&&(m.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&m.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(m.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(m.visible=n.visible),n.frustumCulled!==void 0&&(m.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(m.renderOrder=n.renderOrder),n.userData!==void 0&&(m.userData=n.userData),n.layers!==void 0&&(m.layers.mask=n.layers),n.children!==void 0)for(var we=n.children,_e=0;_e<we.length;_e++)m.add(this.parseObject(we[_e],o,u));if(n.type==="LOD"){n.autoUpdate!==void 0&&(m.autoUpdate=n.autoUpdate);for(var Te=n.levels,ye=0;ye<Te.length;ye++){var ke=Te[ye],Ge=m.getObjectByProperty("uuid",ke.object);Ge!==void 0&&m.addLevel(Ge,ke.distance)}}return m}});var sd,xm={UVMapping:300,CubeReflectionMapping:ft,CubeRefractionMapping:Ft,EquirectangularReflectionMapping:it,EquirectangularRefractionMapping:zt,SphericalReflectionMapping:pt,CubeUVReflectionMapping:ut,CubeUVRefractionMapping:Gt},ld={RepeatWrapping:hn,ClampToEdgeWrapping:vn,MirroredRepeatWrapping:Ot},bp={NearestFilter:rt,NearestMipmapNearestFilter:xt,NearestMipmapLinearFilter:Qt,LinearFilter:gn,LinearMipmapNearestFilter:Nn,LinearMipmapLinearFilter:Ar};function uf(n){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),_i.call(this,n),this.options=void 0}function df(){this.type="ShapePath",this.color=new Un,this.subPaths=[],this.currentPath=null}function hf(n){this.type="Font",this.data=n}function Dm(n,o,u,m,B){var k=B.glyphs[n]||B.glyphs["?"];if(k){var ne,se,ge,ve,we,_e,Te,ye,ke=new df;if(k.o)for(var Ge=k._cachedOutline||(k._cachedOutline=k.o.split(" ")),We=0,ht=Ge.length;We<ht;)switch(Ge[We++]){case"m":ne=Ge[We++]*o+u,se=Ge[We++]*o+m,ke.moveTo(ne,se);break;case"l":ne=Ge[We++]*o+u,se=Ge[We++]*o+m,ke.lineTo(ne,se);break;case"q":ge=Ge[We++]*o+u,ve=Ge[We++]*o+m,we=Ge[We++]*o+u,_e=Ge[We++]*o+m,ke.quadraticCurveTo(we,_e,ge,ve);break;case"b":ge=Ge[We++]*o+u,ve=Ge[We++]*o+m,we=Ge[We++]*o+u,_e=Ge[We++]*o+m,Te=Ge[We++]*o+u,ye=Ge[We++]*o+m,ke.bezierCurveTo(we,_e,Te,ye,ge,ve)}return{offsetX:k.ha*o,path:ke}}console.error('THREE.Font: character "'+n+'" does not exists in font family '+B.familyName+".")}function ff(n){_i.call(this,n)}uf.prototype=Object.assign(Object.create(_i.prototype),{constructor:uf,setOptions:function(n){return this.options=n,this},load:function(n,o,u,m){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var B=this,k=Ac.get(n);if(k!==void 0)return B.manager.itemStart(n),setTimeout(function(){o&&o(k),B.manager.itemEnd(n)},0),k;fetch(n).then(function(ne){return ne.blob()}).then(function(ne){return B.options===void 0?createImageBitmap(ne):createImageBitmap(ne,B.options)}).then(function(ne){Ac.add(n,ne),o&&o(ne),B.manager.itemEnd(n)}).catch(function(ne){m&&m(ne),B.manager.itemError(n),B.manager.itemEnd(n)}),B.manager.itemStart(n)}}),Object.assign(df.prototype,{moveTo:function(n,o){return this.currentPath=new Bs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,o),this},lineTo:function(n,o){return this.currentPath.lineTo(n,o),this},quadraticCurveTo:function(n,o,u,m){return this.currentPath.quadraticCurveTo(n,o,u,m),this},bezierCurveTo:function(n,o,u,m,B,k){return this.currentPath.bezierCurveTo(n,o,u,m,B,k),this},splineThru:function(n){return this.currentPath.splineThru(n),this},toShapes:function(n,o){function u(on){for(var zn=[],$n=0,xr=on.length;$n<xr;$n++){var cr=on[$n],sr=new Jl;sr.curves=cr.curves,zn.push(sr)}return zn}function m(on,zn){for(var $n=zn.length,xr=!1,cr=$n-1,sr=0;sr<$n;cr=sr++){var mi=zn[cr],Lr=zn[sr],gr=Lr.x-mi.x,Ur=Lr.y-mi.y;if(Math.abs(Ur)>Number.EPSILON){if(Ur<0&&(mi=zn[sr],gr=-gr,Lr=zn[cr],Ur=-Ur),on.y<mi.y||on.y>Lr.y)continue;if(on.y===mi.y){if(on.x===mi.x)return 1}else{var ni=Ur*(on.x-mi.x)-gr*(on.y-mi.y);if(ni==0)return 1;if(ni<0)continue;xr=!xr}}else{if(on.y!==mi.y)continue;if(Lr.x<=on.x&&on.x<=mi.x||mi.x<=on.x&&on.x<=Lr.x)return 1}}return xr}var B=fa.isClockWise,k=this.subPaths;if(k.length===0)return[];if(o===!0)return u(k);var ne,se,ge,ve=[];if(k.length===1)return se=k[0],(ge=new Jl).curves=se.curves,ve.push(ge),ve;var we=!B(k[0].getPoints());we=n?!we:we;var _e,Te,ye=[],ke=[],Ge=[],We=0;ke[We]=void 0,Ge[We]=[];for(var ht=0,vt=k.length;ht<vt;ht++)ne=B(_e=(se=k[ht]).getPoints()),(ne=n?!ne:ne)?(!we&&ke[We]&&We++,ke[We]={s:new Jl,p:_e},ke[We].s.curves=se.curves,we&&We++,Ge[We]=[]):Ge[We].push({h:se,p:_e[0]});if(!ke[0])return u(k);if(1<ke.length){for(var Dt=!1,Lt=[],Xe=0,Vt=ke.length;Xe<Vt;Xe++)ye[Xe]=[];for(Xe=0,Vt=ke.length;Xe<Vt;Xe++)for(var At=Ge[Xe],Wt=0;Wt<At.length;Wt++){for(var rn=At[Wt],un=!0,pn=0;pn<ke.length;pn++)m(rn.p,ke[pn].p)&&(Xe!==pn&&Lt.push({froms:Xe,tos:pn,hole:Wt}),un?(un=!1,ye[pn].push(rn)):Dt=!0);un&&ye[Xe].push(rn)}0<Lt.length&&(Dt||(Ge=ye))}ht=0;for(var wn=ke.length;ht<wn;ht++){ge=ke[ht].s,ve.push(ge);for(var Tn=0,Kt=(Te=Ge[ht]).length;Tn<Kt;Tn++)ge.holes.push(Te[Tn].h)}return ve}}),Object.assign(hf.prototype,{isFont:!0,generateShapes:function(n,o){o===void 0&&(o=100);for(var u=[],m=function(ne,se,ge){for(var ve=Array.from?Array.from(ne):String(ne).split(""),we=se/ge.resolution,_e=(ge.boundingBox.yMax-ge.boundingBox.yMin+ge.underlineThickness)*we,Te=[],ye=0,ke=0,Ge=0;Ge<ve.length;Ge++){var We=ve[Ge];if(We===`
`)ye=0,ke-=_e;else{var ht=Dm(We,we,ye,ke,ge);ye+=ht.offsetX,Te.push(ht.path)}}return Te}(n,o,this.data),B=0,k=m.length;B<k;B++)Array.prototype.push.apply(u,m[B].toShapes());return u}}),ff.prototype=Object.assign(Object.create(_i.prototype),{constructor:ff,load:function(n,o,u,m){var B=this,k=new us(this.manager);k.setPath(this.path),k.load(n,function(ne){var se;try{se=JSON.parse(ne)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),se=JSON.parse(ne.substring(65,ne.length-2))}var ge=B.parse(se);o&&o(ge)},u,m)},parse:function(n){return new hf(n)}});var pf={getContext:function(){return sd===void 0&&(sd=new(window.AudioContext||window.webkitAudioContext)),sd},setContext:function(n){sd=n}};function ph(n){_i.call(this,n)}function mh(){this.coefficients=[];for(var n=0;n<9;n++)this.coefficients.push(new gt)}function Ms(n,o){ki.call(this,void 0,o),this.sh=n!==void 0?n:new mh}function mf(n,o,u){Ms.call(this,void 0,u);var m=new Un().set(n),B=new Un().set(o),k=new gt(m.r,m.g,m.b),ne=new gt(B.r,B.g,B.b),se=Math.sqrt(Math.PI),ge=se*Math.sqrt(.75);this.sh.coefficients[0].copy(k).add(ne).multiplyScalar(se),this.sh.coefficients[1].copy(k).sub(ne).multiplyScalar(ge)}function gf(n,o){Ms.call(this,void 0,o);var u=new Un().set(n);this.sh.coefficients[0].set(u.r,u.g,u.b).multiplyScalar(2*Math.sqrt(Math.PI))}ph.prototype=Object.assign(Object.create(_i.prototype),{constructor:ph,load:function(n,o,u,m){var B=new us(this.manager);B.setResponseType("arraybuffer"),B.setPath(this.path),B.load(n,function(k){var ne=k.slice(0);pf.getContext().decodeAudioData(ne,function(se){o(se)})},u,m)}}),Object.assign(mh.prototype,{isSphericalHarmonics3:!0,set:function(n){for(var o=0;o<9;o++)this.coefficients[o].copy(n[o]);return this},zero:function(){for(var n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this},getAt:function(n,o){var u=n.x,m=n.y,B=n.z,k=this.coefficients;return o.copy(k[0]).multiplyScalar(.282095),o.addScale(k[1],.488603*m),o.addScale(k[2],.488603*B),o.addScale(k[3],.488603*u),o.addScale(k[4],u*m*1.092548),o.addScale(k[5],m*B*1.092548),o.addScale(k[6],.315392*(3*B*B-1)),o.addScale(k[7],u*B*1.092548),o.addScale(k[8],.546274*(u*u-m*m)),o},getIrradianceAt:function(n,o){var u=n.x,m=n.y,B=n.z,k=this.coefficients;return o.copy(k[0]).multiplyScalar(.886227),o.addScale(k[1],1.023328*m),o.addScale(k[2],1.023328*B),o.addScale(k[3],1.023328*u),o.addScale(k[4],.858086*u*m),o.addScale(k[5],.858086*m*B),o.addScale(k[6],.743125*B*B-.247708),o.addScale(k[7],.858086*u*B),o.addScale(k[8],.429043*(u*u-m*m)),o},add:function(n){for(var o=0;o<9;o++)this.coefficients[o].add(n.coefficients[o]);return this},scale:function(n){for(var o=0;o<9;o++)this.coefficients[o].multiplyScalar(n);return this},lerp:function(n,o){for(var u=0;u<9;u++)this.coefficients[u].lerp(n.coefficients[u],o);return this},equals:function(n){for(var o=0;o<9;o++)if(!this.coefficients[o].equals(n.coefficients[o]))return!1;return!0},copy:function(n){return this.set(n.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(n,o){o===void 0&&(o=0);for(var u=this.coefficients,m=0;m<9;m++)u[m].fromArray(n,o+3*m);return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);for(var u=this.coefficients,m=0;m<9;m++)u[m].toArray(n,o+3*m);return n}}),Object.assign(mh,{getBasisAt:function(n,o){var u=n.x,m=n.y,B=n.z;o[0]=.282095,o[1]=.488603*m,o[2]=.488603*B,o[3]=.488603*u,o[4]=1.092548*u*m,o[5]=1.092548*m*B,o[6]=.315392*(3*B*B-1),o[7]=1.092548*u*B,o[8]=.546274*(u*u-m*m)}}),Ms.prototype=Object.assign(Object.create(ki.prototype),{constructor:Ms,isLightProbe:!0,copy:function(n){return ki.prototype.copy.call(this,n),this.sh.copy(n.sh),this.intensity=n.intensity,this},toJSON:function(n){return ki.prototype.toJSON.call(this,n)}}),mf.prototype=Object.assign(Object.create(Ms.prototype),{constructor:mf,isHemisphereLightProbe:!0,copy:function(n){return Ms.prototype.copy.call(this,n),this},toJSON:function(n){return Ms.prototype.toJSON.call(this,n)}}),gf.prototype=Object.assign(Object.create(Ms.prototype),{constructor:gf,isAmbientLightProbe:!0,copy:function(n){return Ms.prototype.copy.call(this,n),this},toJSON:function(n){return Ms.prototype.toJSON.call(this,n)}});var wp=new ur,Ap=new ur;function _p(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function vf(n){this.autoStart=n===void 0||n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(_p.prototype,{update:function(n){var o=this._cache;if(o.focus!==n.focus||o.fov!==n.fov||o.aspect!==n.aspect*this.aspect||o.near!==n.near||o.far!==n.far||o.zoom!==n.zoom||o.eyeSep!==this.eyeSep){o.focus=n.focus,o.fov=n.fov,o.aspect=n.aspect*this.aspect,o.near=n.near,o.far=n.far,o.zoom=n.zoom,o.eyeSep=this.eyeSep;var u,m,B=n.projectionMatrix.clone(),k=o.eyeSep/2,ne=k*o.near/o.focus,se=o.near*Math.tan(Gr.DEG2RAD*o.fov*.5)/o.zoom;Ap.elements[12]=-k,wp.elements[12]=k,u=-se*o.aspect+ne,m=se*o.aspect+ne,B.elements[0]=2*o.near/(m-u),B.elements[8]=(m+u)/(m-u),this.cameraL.projectionMatrix.copy(B),u=-se*o.aspect-ne,m=se*o.aspect-ne,B.elements[0]=2*o.near/(m-u),B.elements[8]=(m+u)/(m-u),this.cameraR.projectionMatrix.copy(B)}this.cameraL.matrixWorld.copy(n.matrixWorld).multiply(Ap),this.cameraR.matrixWorld.copy(n.matrixWorld).multiply(wp)}}),Object.assign(vf.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var o=(typeof performance>"u"?Date:performance).now();n=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=n}return n}});var ql=new gt,yf=new To,bm=new gt,Bc=new gt;function Cf(){Fn.call(this),this.type="AudioListener",this.context=pf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vf}function uu(n){Fn.call(this),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}Cf.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Cf,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this},updateMatrixWorld:function(n){Fn.prototype.updateMatrixWorld.call(this,n);var o=this.context.listener,u=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ql,yf,bm),Bc.set(0,0,-1).applyQuaternion(yf),o.positionX){var m=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(ql.x,m),o.positionY.linearRampToValueAtTime(ql.y,m),o.positionZ.linearRampToValueAtTime(ql.z,m),o.forwardX.linearRampToValueAtTime(Bc.x,m),o.forwardY.linearRampToValueAtTime(Bc.y,m),o.forwardZ.linearRampToValueAtTime(Bc.z,m),o.upX.linearRampToValueAtTime(u.x,m),o.upY.linearRampToValueAtTime(u.y,m),o.upZ.linearRampToValueAtTime(u.z,m)}else o.setPosition(ql.x,ql.y,ql.z),o.setOrientation(Bc.x,Bc.y,Bc.z,u.x,u.y,u.z)}}),uu.prototype=Object.assign(Object.create(Fn.prototype),{constructor:uu,getOutput:function(){return this.gain},setNodeSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},setMediaElementSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this},setMediaStreamSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this},setBuffer:function(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(n){if(n===void 0&&(n=0),this.isPlaying!==!0){if(this.hasPlaybackControl!==!1){this._startedAt=this.context.currentTime+n;var o=this.context.createBufferSource();return o.buffer=this.buffer,o.loop=this.loop,o.loopStart=this.loopStart,o.loopEnd=this.loopEnd,o.onended=this.onEnded.bind(this),o.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=o,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(this.hasPlaybackControl!==!1)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(n){return n=n||[],this.isPlaying===!0?(this.disconnect(),this.filters=n,this.connect()):this.filters=n,this},setDetune:function(n){if(this.detune=n,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(n){return this.setFilters(n?[n]:[])},setPlaybackRate:function(n){if(this.hasPlaybackControl!==!1)return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(n){if(this.hasPlaybackControl!==!1)return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(n){return this.loopStart=n,this},setLoopEnd:function(n){return this.loopEnd=n,this},getVolume:function(){return this.gain.gain.value},setVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}});var Ys=new gt,Bp=new To,wm=new gt,Mc=new gt;function Ef(n){uu.call(this,n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function xf(n,o){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=o!==void 0?o:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}function Df(n,o,u){this.binding=n,this.valueSize=u;var m,B=Float64Array;switch(o){case"quaternion":m=this._slerp;break;case"string":case"bool":B=Array,m=this._select;break;default:m=this._lerp}this.buffer=new B(4*u),this._mixBufferRegion=m,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Ef.prototype=Object.assign(Object.create(uu.prototype),{constructor:Ef,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(n){return this.panner.refDistance=n,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(n){return this.panner.rolloffFactor=n,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(n){return this.panner.distanceModel=n,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(n){return this.panner.maxDistance=n,this},setDirectionalCone:function(n,o,u){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=u,this},updateMatrixWorld:function(n){if(Fn.prototype.updateMatrixWorld.call(this,n),this.hasPlaybackControl!==!0||this.isPlaying!==!1){this.matrixWorld.decompose(Ys,Bp,wm),Mc.set(0,0,1).applyQuaternion(Bp);var o=this.panner;if(o.positionX){var u=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(Ys.x,u),o.positionY.linearRampToValueAtTime(Ys.y,u),o.positionZ.linearRampToValueAtTime(Ys.z,u),o.orientationX.linearRampToValueAtTime(Mc.x,u),o.orientationY.linearRampToValueAtTime(Mc.y,u),o.orientationZ.linearRampToValueAtTime(Mc.z,u)}else o.setPosition(Ys.x,Ys.y,Ys.z),o.setOrientation(Mc.x,Mc.y,Mc.z)}}}),Object.assign(xf.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var n=0,o=this.getFrequencyData(),u=0;u<o.length;u++)n+=o[u];return n/o.length}}),Object.assign(Df.prototype,{accumulate:function(n,o){var u=this.buffer,m=this.valueSize,B=n*m+m,k=this.cumulativeWeight;if(k===0){for(var ne=0;ne!==m;++ne)u[B+ne]=u[ne];k=o}else{var se=o/(k+=o);this._mixBufferRegion(u,B,0,se,m)}this.cumulativeWeight=k},apply:function(n){var o=this.valueSize,u=this.buffer,m=n*o+o,B=this.cumulativeWeight,k=this.binding;if(this.cumulativeWeight=0,B<1){var ne=3*o;this._mixBufferRegion(u,m,ne,1-B,o)}for(var se=o,ge=o+o;se!==ge;++se)if(u[se]!==u[se+o]){k.setValue(u,m);break}},saveOriginalState:function(){var n=this.binding,o=this.buffer,u=this.valueSize,m=3*u;n.getValue(o,m);for(var B=u,k=m;B!==k;++B)o[B]=o[m+B%u];this.cumulativeWeight=0},restoreOriginalState:function(){var n=3*this.valueSize;this.binding.setValue(this.buffer,n)},_select:function(n,o,u,m,B){if(.5<=m)for(var k=0;k!==B;++k)n[o+k]=n[u+k]},_slerp:function(n,o,u,m){To.slerpFlat(n,o,n,o,n,u,m)},_lerp:function(n,o,u,m,B){for(var k=1-m,ne=0;ne!==B;++ne){var se=o+ne;n[se]=n[se]*k+n[u+ne]*m}}});var bf="\\[\\]\\.:\\/",Am=new RegExp("["+bf+"]","g"),wf="[^"+bf+"]",_m="[^"+bf.replace("\\.","")+"]",Bm=/((?:WC+[\/:])*)/.source.replace("WC",wf),gh=/(WCOD+)?/.source.replace("WCOD",_m),Mm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wf),Mp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wf),Fp=new RegExp("^"+Bm+gh+Mm+Mp+"$"),Af=["material","materials","bones"];function _f(n,o,u){var m=u||qo.parseTrackName(o);this._targetGroup=n,this._bindings=n.subscribe_(o,m)}function qo(n,o,u){this.path=o,this.parsedPath=u||qo.parseTrackName(o),this.node=qo.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n}function Bf(){this.uuid=Gr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var n={};this._indicesByUUID=n;for(var o=0,u=arguments.length;o!==u;++o)n[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var m=this;this.stats={objects:{get total(){return m._objects.length},get inUse(){return this.total-m.nCachedObjects_}},get bindingsPerObject(){return m._bindings.length}}}function Mf(n,o,u){this._mixer=n,this._clip=o,this._localRoot=u||null;for(var m=o.tracks,B=m.length,k=new Array(B),ne={endingStart:Cn,endingEnd:Cn},se=0;se!==B;++se){var ge=m[se].createInterpolant(null);(k[se]=ge).settings=ne}this._interpolantSettings=ne,this._interpolants=k,this._propertyBindings=new Array(B),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ff(n){this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function vh(n){typeof n=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=arguments[1]),this.value=n}function Sf(n,o,u){Ws.call(this,n,o),this.meshPerAttribute=u||1}function cd(n,o,u,m){this.ray=new Va(n,o),this.near=u||0,this.far=m||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ud(n,o){return n.distance-o.distance}function Tf(n,o,u,m){if(n.visible!==!1&&(n.raycast(o,u),m===!0))for(var B=n.children,k=0,ne=B.length;k<ne;k++)Tf(B[k],o,u,!0)}function Sp(n,o,u){return this.radius=n!==void 0?n:1,this.phi=o!==void 0?o:0,this.theta=u!==void 0?u:0,this}function yh(n,o,u){return this.radius=n!==void 0?n:1,this.theta=o!==void 0?o:0,this.y=u!==void 0?u:0,this}Object.assign(_f.prototype,{getValue:function(n,o){this.bind();var u=this._targetGroup.nCachedObjects_,m=this._bindings[u];m!==void 0&&m.getValue(n,o)},setValue:function(n,o){for(var u=this._bindings,m=this._targetGroup.nCachedObjects_,B=u.length;m!==B;++m)u[m].setValue(n,o)},bind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,u=n.length;o!==u;++o)n[o].bind()},unbind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,u=n.length;o!==u;++o)n[o].unbind()}}),Object.assign(qo,{Composite:_f,create:function(n,o,u){return n&&n.isAnimationObjectGroup?new qo.Composite(n,o,u):new qo(n,o,u)},sanitizeNodeName:function(n){return n.replace(/\s/g,"_").replace(Am,"")},parseTrackName:function(n){var o=Fp.exec(n);if(!o)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var u={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},m=u.nodeName&&u.nodeName.lastIndexOf(".");if(m!==void 0&&m!==-1){var B=u.nodeName.substring(m+1);Af.indexOf(B)!==-1&&(u.nodeName=u.nodeName.substring(0,m),u.objectName=B)}if(u.propertyName===null||u.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return u},findNode:function(n,o){if(!o||o===""||o==="root"||o==="."||o===-1||o===n.name||o===n.uuid)return n;if(n.skeleton){var u=n.skeleton.getBoneByName(o);if(u!==void 0)return u}if(n.children){var m=function(k){for(var ne=0;ne<k.length;ne++){var se=k[ne];if(se.name===o||se.uuid===o)return se;var ge=m(se.children);if(ge)return ge}return null},B=m(n.children);if(B)return B}return null}}),Object.assign(qo.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,o){n[o]=this.node[this.propertyName]},function(n,o){for(var u=this.resolvedProperty,m=0,B=u.length;m!==B;++m)n[o++]=u[m]},function(n,o){n[o]=this.resolvedProperty[this.propertyIndex]},function(n,o){this.resolvedProperty.toArray(n,o)}],SetterByBindingTypeAndVersioning:[[function(n,o){this.targetObject[this.propertyName]=n[o]},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){for(var u=this.resolvedProperty,m=0,B=u.length;m!==B;++m)u[m]=n[o++]},function(n,o){for(var u=this.resolvedProperty,m=0,B=u.length;m!==B;++m)u[m]=n[o++];this.targetObject.needsUpdate=!0},function(n,o){for(var u=this.resolvedProperty,m=0,B=u.length;m!==B;++m)u[m]=n[o++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty[this.propertyIndex]=n[o]},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty.fromArray(n,o)},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(n,o){this.bind(),this.getValue(n,o)},setValue:function(n,o){this.bind(),this.setValue(n,o)},bind:function(){var n=this.node,o=this.parsedPath,u=o.objectName,m=o.propertyName,B=o.propertyIndex;if(n||(n=qo.findNode(this.rootNode,o.nodeName)||this.rootNode,this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(u){var k=o.objectIndex;switch(u){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(var ne=0;ne<n.length;ne++)if(n[ne].name===k){k=ne;break}break;default:if(n[u]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[u]}if(k!==void 0){if(n[k]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[k]}}var se=n[m];if(se!==void 0){var ge=this.Versioning.None;(this.targetObject=n).needsUpdate!==void 0?ge=this.Versioning.NeedsUpdate:n.matrixWorldNeedsUpdate!==void 0&&(ge=this.Versioning.MatrixWorldNeedsUpdate);var ve=this.BindingType.Direct;if(B!==void 0){if(m==="morphTargetInfluences"){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(n.geometry.isBufferGeometry){if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(ne=0;ne<this.node.geometry.morphAttributes.position.length;ne++)if(n.geometry.morphAttributes.position[ne].name===B){B=ne;break}}else{if(!n.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(ne=0;ne<this.node.geometry.morphTargets.length;ne++)if(n.geometry.morphTargets[ne].name===B){B=ne;break}}}ve=this.BindingType.ArrayElement,this.resolvedProperty=se,this.propertyIndex=B}else se.fromArray!==void 0&&se.toArray!==void 0?(ve=this.BindingType.HasFromToArray,this.resolvedProperty=se):Array.isArray(se)?(ve=this.BindingType.EntireArray,this.resolvedProperty=se):this.propertyName=m;this.getValue=this.GetterByBindingType[ve],this.setValue=this.SetterByBindingTypeAndVersioning[ve][ge]}else{var we=o.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+we+"."+m+" but it wasn't found.",n)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(qo.prototype,{_getValue_unbound:qo.prototype.getValue,_setValue_unbound:qo.prototype.setValue}),Object.assign(Bf.prototype,{isAnimationObjectGroup:!0,add:function(){for(var n=this._objects,o=n.length,u=this.nCachedObjects_,m=this._indicesByUUID,B=this._paths,k=this._parsedPaths,ne=this._bindings,se=ne.length,ge=void 0,ve=0,we=arguments.length;ve!==we;++ve){var _e=arguments[ve],Te=_e.uuid,ye=m[Te];if(ye===void 0){ye=o++,m[Te]=ye,n.push(_e);for(var ke=0,Ge=se;ke!==Ge;++ke)ne[ke].push(new qo(_e,B[ke],k[ke]))}else if(ye<u){ge=n[ye];var We=--u,ht=n[We];for(n[m[ht.uuid]=ye]=ht,n[m[Te]=We]=_e,ke=0,Ge=se;ke!==Ge;++ke){var vt=ne[ke],Dt=vt[We],Lt=vt[ye];vt[ye]=Dt,Lt===void 0&&(Lt=new qo(_e,B[ke],k[ke])),vt[We]=Lt}}else n[ye]!==ge&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u},remove:function(){for(var n=this._objects,o=this.nCachedObjects_,u=this._indicesByUUID,m=this._bindings,B=m.length,k=0,ne=arguments.length;k!==ne;++k){var se=arguments[k],ge=se.uuid,ve=u[ge];if(ve!==void 0&&o<=ve){var we=o++,_e=n[we];n[u[_e.uuid]=ve]=_e,n[u[ge]=we]=se;for(var Te=0,ye=B;Te!==ye;++Te){var ke=m[Te],Ge=ke[we],We=ke[ve];ke[ve]=Ge,ke[we]=We}}}this.nCachedObjects_=o},uncache:function(){for(var n=this._objects,o=n.length,u=this.nCachedObjects_,m=this._indicesByUUID,B=this._bindings,k=B.length,ne=0,se=arguments.length;ne!==se;++ne){var ge=arguments[ne].uuid,ve=m[ge];if(ve!==void 0)if(delete m[ge],ve<u){var we=--u,_e=n[we],Te=n[ht=--o];n[m[_e.uuid]=ve]=_e,n[m[Te.uuid]=we]=Te,n.pop();for(var ye=0,ke=k;ye!==ke;++ye){var Ge=(vt=B[ye])[we],We=vt[ht];vt[ve]=Ge,vt[we]=We,vt.pop()}}else{var ht;for(n[m[(Te=n[ht=--o]).uuid]=ve]=Te,n.pop(),ye=0,ke=k;ye!==ke;++ye){var vt;(vt=B[ye])[ve]=vt[ht],vt.pop()}}}this.nCachedObjects_=u},subscribe_:function(n,o){var u=this._bindingsIndicesByPath,m=u[n],B=this._bindings;if(m!==void 0)return B[m];var k=this._paths,ne=this._parsedPaths,se=this._objects,ge=se.length,ve=this.nCachedObjects_,we=new Array(ge);m=B.length,u[n]=m,k.push(n),ne.push(o),B.push(we);for(var _e=ve,Te=se.length;_e!==Te;++_e){var ye=se[_e];we[_e]=new qo(ye,n,o)}return we},unsubscribe_:function(n){var o=this._bindingsIndicesByPath,u=o[n];if(u!==void 0){var m=this._paths,B=this._parsedPaths,k=this._bindings,ne=k.length-1,se=k[ne];k[o[n[ne]]=u]=se,k.pop(),B[u]=B[ne],B.pop(),m[u]=m[ne],m.pop()}}}),Object.assign(Mf.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(n){return this._startTime=n,this},setLoop:function(n,o){return this.loop=n,this.repetitions=o,this},setEffectiveWeight:function(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(n){return this._scheduleFading(n,0,1)},fadeOut:function(n){return this._scheduleFading(n,1,0)},crossFadeFrom:function(n,o,u){if(n.fadeOut(o),this.fadeIn(o),u){var m=this._clip.duration,B=n._clip.duration,k=B/m,ne=m/B;n.warp(1,k,o),this.warp(ne,1,o)}return this},crossFadeTo:function(n,o,u){return n.crossFadeFrom(this,o,u)},stopFading:function(){var n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},setEffectiveTimeScale:function(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(n){return this.timeScale=this._clip.duration/n,this.stopWarping()},syncWith:function(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()},halt:function(n){return this.warp(this._effectiveTimeScale,0,n)},warp:function(n,o,u){var m=this._mixer,B=m.time,k=this._timeScaleInterpolant,ne=this.timeScale;k===null&&(k=m._lendControlInterpolant(),this._timeScaleInterpolant=k);var se=k.parameterPositions,ge=k.sampleValues;return se[0]=B,se[1]=B+u,ge[0]=n/ne,ge[1]=o/ne,this},stopWarping:function(){var n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(n,o,u,m){if(this.enabled){var B=this._startTime;if(B!==null){var k=(n-B)*u;if(k<0||u===0)return;this._startTime=null,o=u*k}o*=this._updateTimeScale(n);var ne=this._updateTime(o),se=this._updateWeight(n);if(0<se)for(var ge=this._interpolants,ve=this._propertyBindings,we=0,_e=ge.length;we!==_e;++we)ge[we].evaluate(ne),ve[we].accumulate(m,se)}else this._updateWeight(n)},_updateWeight:function(n){var o=0;if(this.enabled){o=this.weight;var u=this._weightInterpolant;if(u!==null){var m=u.evaluate(n)[0];o*=m,n>u.parameterPositions[1]&&(this.stopFading(),m===0&&(this.enabled=!1))}}return this._effectiveWeight=o},_updateTimeScale:function(n){var o=0;if(!this.paused){o=this.timeScale;var u=this._timeScaleInterpolant;u!==null&&(o*=u.evaluate(n)[0],n>u.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o))}return this._effectiveTimeScale=o},_updateTime:function(n){var o=this.time+n,u=this._clip.duration,m=this.loop,B=this._loopCount,k=m===2202;if(n===0)return B!==-1&&k&&(1&B)==1?u-o:o;if(m===2200){B===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(u<=o)o=u;else{if(!(o<0)){this.time=o;break e}o=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(B===-1&&(0<=n?(B=0,this._setEndings(!0,this.repetitions===0,k)):this._setEndings(this.repetitions===0,!0,k)),u<=o||o<0){var ne=Math.floor(o/u);o-=u*ne,B+=Math.abs(ne);var se=this.repetitions-B;if(se<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=0<n?u:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<n?1:-1});else{if(se==1){var ge=n<0;this._setEndings(ge,!ge,k)}else this._setEndings(!1,!1,k);this._loopCount=B,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ne})}}else this.time=o;if(k&&(1&B)==1)return u-o}return o},_setEndings:function(n,o,u){var m=this._interpolantSettings;u?(m.endingStart=_n,m.endingEnd=_n):(m.endingStart=n?this.zeroSlopeAtStart?_n:Cn:Jn,m.endingEnd=o?this.zeroSlopeAtEnd?_n:Cn:Jn)},_scheduleFading:function(n,o,u){var m=this._mixer,B=m.time,k=this._weightInterpolant;k===null&&(k=m._lendControlInterpolant(),this._weightInterpolant=k);var ne=k.parameterPositions,se=k.sampleValues;return ne[0]=B,se[0]=o,ne[1]=B+n,se[1]=u,this}}),Ff.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Ff,_bindAction:function(n,o){var u=n._localRoot||this._root,m=n._clip.tracks,B=m.length,k=n._propertyBindings,ne=n._interpolants,se=u.uuid,ge=this._bindingsByRootAndName,ve=ge[se];ve===void 0&&(ve={},ge[se]=ve);for(var we=0;we!==B;++we){var _e=m[we],Te=_e.name,ye=ve[Te];if(ye!==void 0)k[we]=ye;else{if((ye=k[we])!==void 0){ye._cacheIndex===null&&(++ye.referenceCount,this._addInactiveBinding(ye,se,Te));continue}var ke=o&&o._propertyBindings[we].binding.parsedPath;++(ye=new Df(qo.create(u,Te,ke),_e.ValueTypeName,_e.getValueSize())).referenceCount,this._addInactiveBinding(ye,se,Te),k[we]=ye}ne[we].resultBuffer=ye.buffer}},_activateAction:function(n){if(!this._isActiveAction(n)){if(n._cacheIndex===null){var o=(n._localRoot||this._root).uuid,u=n._clip.uuid,m=this._actionsByClip[u];this._bindAction(n,m&&m.knownActions[0]),this._addInactiveAction(n,u,o)}for(var B=n._propertyBindings,k=0,ne=B.length;k!==ne;++k){var se=B[k];se.useCount++==0&&(this._lendBinding(se),se.saveOriginalState())}this._lendAction(n)}},_deactivateAction:function(n){if(this._isActiveAction(n)){for(var o=n._propertyBindings,u=0,m=o.length;u!==m;++u){var B=o[u];--B.useCount==0&&(B.restoreOriginalState(),this._takeBackBinding(B))}this._takeBackAction(n)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}},_isActiveAction:function(n){var o=n._cacheIndex;return o!==null&&o<this._nActiveActions},_addInactiveAction:function(n,o,u){var m=this._actions,B=this._actionsByClip,k=B[o];if(k===void 0)k={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,B[o]=k;else{var ne=k.knownActions;n._byClipCacheIndex=ne.length,ne.push(n)}n._cacheIndex=m.length,m.push(n),k.actionByRoot[u]=n},_removeInactiveAction:function(n){var o=this._actions,u=o[o.length-1],m=n._cacheIndex;o[u._cacheIndex=m]=u,o.pop(),n._cacheIndex=null;var B=n._clip.uuid,k=this._actionsByClip,ne=k[B],se=ne.knownActions,ge=se[se.length-1],ve=n._byClipCacheIndex;se[ge._byClipCacheIndex=ve]=ge,se.pop(),n._byClipCacheIndex=null,delete ne.actionByRoot[(n._localRoot||this._root).uuid],se.length===0&&delete k[B],this._removeInactiveBindingsForAction(n)},_removeInactiveBindingsForAction:function(n){for(var o=n._propertyBindings,u=0,m=o.length;u!==m;++u){var B=o[u];--B.referenceCount==0&&this._removeInactiveBinding(B)}},_lendAction:function(n){var o=this._actions,u=n._cacheIndex,m=this._nActiveActions++,B=o[m];o[n._cacheIndex=m]=n,o[B._cacheIndex=u]=B},_takeBackAction:function(n){var o=this._actions,u=n._cacheIndex,m=--this._nActiveActions,B=o[m];o[n._cacheIndex=m]=n,o[B._cacheIndex=u]=B},_addInactiveBinding:function(n,o,u){var m=this._bindingsByRootAndName,B=m[o],k=this._bindings;B===void 0&&(B={},m[o]=B),(B[u]=n)._cacheIndex=k.length,k.push(n)},_removeInactiveBinding:function(n){var o=this._bindings,u=n.binding,m=u.rootNode.uuid,B=u.path,k=this._bindingsByRootAndName,ne=k[m],se=o[o.length-1],ge=n._cacheIndex;o[se._cacheIndex=ge]=se,o.pop(),delete ne[B],Object.keys(ne).length===0&&delete k[m]},_lendBinding:function(n){var o=this._bindings,u=n._cacheIndex,m=this._nActiveBindings++,B=o[m];o[n._cacheIndex=m]=n,o[B._cacheIndex=u]=B},_takeBackBinding:function(n){var o=this._bindings,u=n._cacheIndex,m=--this._nActiveBindings,B=o[m];o[n._cacheIndex=m]=n,o[B._cacheIndex=u]=B},_lendControlInterpolant:function(){var n=this._controlInterpolants,o=this._nActiveControlInterpolants++,u=n[o];return u===void 0&&(n[(u=new nd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=o]=u),u},_takeBackControlInterpolant:function(n){var o=this._controlInterpolants,u=n.__cacheIndex,m=--this._nActiveControlInterpolants,B=o[m];o[n.__cacheIndex=m]=n,o[B.__cacheIndex=u]=B},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(n,o){var u=o||this._root,m=u.uuid,B=typeof n=="string"?ls.findByName(u,n):n,k=B!==null?B.uuid:n,ne=this._actionsByClip[k],se=null;if(ne!==void 0){var ge=ne.actionByRoot[m];if(ge!==void 0)return ge;se=ne.knownActions[0],B===null&&(B=se._clip)}if(B===null)return null;var ve=new Mf(this,B,o);return this._bindAction(ve,se),this._addInactiveAction(ve,k,m),ve},existingAction:function(n,o){var u=o||this._root,m=u.uuid,B=typeof n=="string"?ls.findByName(u,n):n,k=B?B.uuid:n,ne=this._actionsByClip[k];return ne!==void 0&&ne.actionByRoot[m]||null},stopAllAction:function(){var n=this._actions,o=this._nActiveActions,u=this._bindings,m=this._nActiveBindings;this._nActiveActions=0;for(var B=this._nActiveBindings=0;B!==o;++B)n[B].reset();for(B=0;B!==m;++B)u[B].useCount=0;return this},update:function(n){n*=this.timeScale;for(var o=this._actions,u=this._nActiveActions,m=this.time+=n,B=Math.sign(n),k=this._accuIndex^=1,ne=0;ne!==u;++ne)o[ne]._update(m,n,B,k);var se=this._bindings,ge=this._nActiveBindings;for(ne=0;ne!==ge;++ne)se[ne].apply(k);return this},setTime:function(n){for(var o=this.time=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(n)},getRoot:function(){return this._root},uncacheClip:function(n){var o=this._actions,u=n.uuid,m=this._actionsByClip,B=m[u];if(B!==void 0){for(var k=B.knownActions,ne=0,se=k.length;ne!==se;++ne){var ge=k[ne];this._deactivateAction(ge);var ve=ge._cacheIndex,we=o[o.length-1];ge._cacheIndex=null,ge._byClipCacheIndex=null,o[we._cacheIndex=ve]=we,o.pop(),this._removeInactiveBindingsForAction(ge)}delete m[u]}},uncacheRoot:function(n){var o=n.uuid,u=this._actionsByClip;for(var m in u){var B=u[m].actionByRoot[o];B!==void 0&&(this._deactivateAction(B),this._removeInactiveAction(B))}var k=this._bindingsByRootAndName[o];if(k!==void 0)for(var ne in k){var se=k[ne];se.restoreOriginalState(),this._removeInactiveBinding(se)}},uncacheAction:function(n,o){var u=this.existingAction(n,o);u!==null&&(this._deactivateAction(u),this._removeInactiveAction(u))}}),vh.prototype.clone=function(){return new vh(this.value.clone===void 0?this.value:this.value.clone())},Sf.prototype=Object.assign(Object.create(Ws.prototype),{constructor:Sf,isInstancedInterleavedBuffer:!0,copy:function(n){return Ws.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this}}),Object.assign(cd.prototype,{linePrecision:1,set:function(n,o){this.ray.set(n,o)},setFromCamera:function(n,o){o&&o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o&&o.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(n,o,u){var m=u||[];return Tf(n,this,m,o),m.sort(ud),m},intersectObjects:function(n,o,u){var m=u||[];if(Array.isArray(n)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),m;for(var B=0,k=n.length;B<k;B++)Tf(n[B],this,m,o);return m.sort(ud),m}}),Object.assign(Sp.prototype,{set:function(n,o,u){return this.radius=n,this.phi=o,this.theta=u,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,u){return this.radius=Math.sqrt(n*n+o*o+u*u),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,u),this.phi=Math.acos(Gr.clamp(o/this.radius,-1,1))),this}}),Object.assign(yh.prototype,{set:function(n,o,u){return this.radius=n,this.theta=o,this.y=u,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,u){return this.radius=Math.sqrt(n*n+u*u),this.theta=Math.atan2(n,u),this.y=o,this}});var Pf=new An;function Of(n,o){this.min=n!==void 0?n:new An(1/0,1/0),this.max=o!==void 0?o:new An(-1/0,-1/0)}Object.assign(Of.prototype,{set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,u=n.length;o<u;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(n,o){var u=Pf.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(u),this.max.copy(n).add(u),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),n=new An),this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),n=new An),this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),o=new An),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)},clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),o=new An),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(n){return Pf.copy(n).clamp(this.min,this.max).sub(n).length()},intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}});var Tp=new gt,Ch=new gt;function Rf(n,o){this.start=n!==void 0?n:new gt,this.end=o!==void 0?o:new gt}function Lf(n){Fn.call(this),this.material=n,this.render=function(){}}Object.assign(Rf.prototype,{set:function(n,o){return this.start.copy(n),this.end.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.start.copy(n.start),this.end.copy(n.end),this},getCenter:function(n){return n===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),n=new gt),n.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(n){return n===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),n=new gt),n.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(n,o){return o===void 0&&(console.warn("THREE.Line3: .at() target is now required"),o=new gt),this.delta(o).multiplyScalar(n).add(this.start)},closestPointToPointParameter:function(n,o){Tp.subVectors(n,this.start),Ch.subVectors(this.end,this.start);var u=Ch.dot(Ch),m=Ch.dot(Tp)/u;return o&&(m=Gr.clamp(m,0,1)),m},closestPointToPoint:function(n,o,u){var m=this.closestPointToPointParameter(n,o);return u===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),u=new gt),this.delta(u).multiplyScalar(m).add(this.start)},applyMatrix4:function(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this},equals:function(n){return n.start.equals(this.start)&&n.end.equals(this.end)}}),((Lf.prototype=Object.create(Fn.prototype)).constructor=Lf).prototype.isImmediateRenderObject=!0;var Pp=new gt;function Eh(n,o){Fn.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=o;for(var u=new xn,m=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],B=0,k=1;B<32;B++,k++){var ne=B/32*Math.PI*2,se=k/32*Math.PI*2;m.push(Math.cos(ne),Math.sin(ne),1,Math.cos(se),Math.sin(se),1)}u.setAttribute("position",new Wn(m,3));var ge=new $i({fog:!1});this.cone=new Hi(u,ge),this.add(this.cone),this.update()}((Eh.prototype=Object.create(Fn.prototype)).constructor=Eh).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Eh.prototype.update=function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,o=n*Math.tan(this.light.angle);this.cone.scale.set(o,o,n),Pp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Pp),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Xl=new gt,xh=new ur,If=new ur;function Dh(n){for(var o=function we(_e){var Te=[];_e&&_e.isBone&&Te.push(_e);for(var ye=0;ye<_e.children.length;ye++)Te.push.apply(Te,we(_e.children[ye]));return Te}(n),u=new xn,m=[],B=[],k=new Un(0,0,1),ne=new Un(0,1,0),se=0;se<o.length;se++){var ge=o[se];ge.parent&&ge.parent.isBone&&(m.push(0,0,0),m.push(0,0,0),B.push(k.r,k.g,k.b),B.push(ne.r,ne.g,ne.b))}u.setAttribute("position",new Wn(m,3)),u.setAttribute("color",new Wn(B,3));var ve=new $i({vertexColors:ee,depthTest:!1,depthWrite:!1,transparent:!0});Hi.call(this,u,ve),this.root=n,this.bones=o,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}function bh(n,o,u){this.light=n,this.light.updateMatrixWorld(),this.color=u;var m=new eu(o,4,2),B=new Ro({wireframe:!0,fog:!1});Oi.call(this,m,B),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}((Dh.prototype=Object.create(Hi.prototype)).constructor=Dh).prototype.updateMatrixWorld=function(n){var o=this.bones,u=this.geometry,m=u.getAttribute("position");If.getInverse(this.root.matrixWorld);for(var B=0,k=0;B<o.length;B++){var ne=o[B];ne.parent&&ne.parent.isBone&&(xh.multiplyMatrices(If,ne.matrixWorld),Xl.setFromMatrixPosition(xh),m.setXYZ(k,Xl.x,Xl.y,Xl.z),xh.multiplyMatrices(If,ne.parent.matrixWorld),Xl.setFromMatrixPosition(xh),m.setXYZ(k+1,Xl.x,Xl.y,Xl.z),k+=2)}u.getAttribute("position").needsUpdate=!0,Fn.prototype.updateMatrixWorld.call(this,n)},((bh.prototype=Object.create(Oi.prototype)).constructor=bh).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},bh.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var Fs=new gt,Op=new Un,Rp=new Un;function Zs(n,o,u){Fn.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=u;var m=new Yc(o);m.rotateY(.5*Math.PI),this.material=new Ro({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=ee);var B=m.getAttribute("position"),k=new Float32Array(3*B.count);m.setAttribute("color",new $t(k,3)),this.add(new Oi(m,this.material)),this.update()}function Vr(n,o,u,m){n=n||10,o=o||10,u=new Un(u!==void 0?u:4473924),m=new Un(m!==void 0?m:8947848);for(var B=o/2,k=n/o,ne=n/2,se=[],ge=[],ve=0,we=0,_e=-ne;ve<=o;ve++,_e+=k){se.push(-ne,0,_e,ne,0,_e),se.push(_e,0,-ne,_e,0,ne);var Te=ve===B?u:m;Te.toArray(ge,we),we+=3,Te.toArray(ge,we),we+=3,Te.toArray(ge,we),we+=3,Te.toArray(ge,we),we+=3}var ye=new xn;ye.setAttribute("position",new Wn(se,3)),ye.setAttribute("color",new Wn(ge,3));var ke=new $i({vertexColors:ee});Hi.call(this,ye,ke)}function kf(n,o,u,m,B,k){n=n||10,o=o||16,u=u||8,m=m||64,B=new Un(B!==void 0?B:4473924),k=new Un(k!==void 0?k:8947848);var ne,se,ge,ve,we,_e,Te,ye=[],ke=[];for(ve=0;ve<=o;ve++)ge=ve/o*(2*Math.PI),ne=Math.sin(ge)*n,se=Math.cos(ge)*n,ye.push(0,0,0),ye.push(ne,0,se),Te=1&ve?B:k,ke.push(Te.r,Te.g,Te.b),ke.push(Te.r,Te.g,Te.b);for(ve=0;ve<=u;ve++)for(Te=1&ve?B:k,_e=n-n/u*ve,we=0;we<m;we++)ge=we/m*(2*Math.PI),ne=Math.sin(ge)*_e,se=Math.cos(ge)*_e,ye.push(ne,0,se),ke.push(Te.r,Te.g,Te.b),ge=(we+1)/m*(2*Math.PI),ne=Math.sin(ge)*_e,se=Math.cos(ge)*_e,ye.push(ne,0,se),ke.push(Te.r,Te.g,Te.b);var Ge=new xn;Ge.setAttribute("position",new Wn(ye,3)),Ge.setAttribute("color",new Wn(ke,3));var We=new $i({vertexColors:ee});Hi.call(this,Ge,We)}((Zs.prototype=Object.create(Fn.prototype)).constructor=Zs).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Zs.prototype.update=function(){var n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var o=n.geometry.getAttribute("color");Op.copy(this.light.color),Rp.copy(this.light.groundColor);for(var u=0,m=o.count;u<m;u++){var B=u<m/2?Op:Rp;o.setXYZ(u,B.r,B.g,B.b)}o.needsUpdate=!0}n.lookAt(Fs.setFromMatrixPosition(this.light.matrixWorld).negate())},Vr.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Vr,copy:function(n){return Hi.prototype.copy.call(this,n),this.geometry.copy(n.geometry),this.material.copy(n.material),this},clone:function(){return new this.constructor().copy(this)}}),(kf.prototype=Object.create(Hi.prototype)).constructor=kf;var ga=new gt,Wi=new gt,Lp=new gt;function Ss(n,o,u){Fn.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,o===void 0&&(o=1);var m=new xn;m.setAttribute("position",new Wn([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));var B=new $i({fog:!1});this.lightPlane=new go(m,B),this.add(this.lightPlane),(m=new xn).setAttribute("position",new Wn([0,0,0,0,0,1],3)),this.targetLine=new go(m,B),this.add(this.targetLine),this.update()}((Ss.prototype=Object.create(Fn.prototype)).constructor=Ss).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ss.prototype.update=function(){ga.setFromMatrixPosition(this.light.matrixWorld),Wi.setFromMatrixPosition(this.light.target.matrixWorld),Lp.subVectors(Wi,ga),this.lightPlane.lookAt(Wi),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wi),this.targetLine.scale.z=Lp.length()};var wh=new gt,oo=new da;function Vf(n){var o=new xn,u=new $i({color:16777215,vertexColors:1}),m=[],B=[],k={},ne=new Un(16755200),se=new Un(16711680),ge=new Un(43775),ve=new Un(16777215),we=new Un(3355443);function _e(ye,ke,Ge){Te(ye,Ge),Te(ke,Ge)}function Te(ye,ke){m.push(0,0,0),B.push(ke.r,ke.g,ke.b),k[ye]===void 0&&(k[ye]=[]),k[ye].push(m.length/3-1)}_e("n1","n2",ne),_e("n2","n4",ne),_e("n4","n3",ne),_e("n3","n1",ne),_e("f1","f2",ne),_e("f2","f4",ne),_e("f4","f3",ne),_e("f3","f1",ne),_e("n1","f1",ne),_e("n2","f2",ne),_e("n3","f3",ne),_e("n4","f4",ne),_e("p","n1",se),_e("p","n2",se),_e("p","n3",se),_e("p","n4",se),_e("u1","u2",ge),_e("u2","u3",ge),_e("u3","u1",ge),_e("c","t",ve),_e("p","c",we),_e("cn1","cn2",we),_e("cn3","cn4",we),_e("cf1","cf2",we),_e("cf3","cf4",we),o.setAttribute("position",new Wn(m,3)),o.setAttribute("color",new Wn(B,3)),Hi.call(this,o,u),this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=k,this.update()}function uo(n,o,u,m,B,k,ne){wh.set(B,k,ne).unproject(m);var se=o[n];if(se!==void 0)for(var ge=u.getAttribute("position"),ve=0,we=se.length;ve<we;ve++)ge.setXYZ(se[ve],wh.x,wh.y,wh.z)}((Vf.prototype=Object.create(Hi.prototype)).constructor=Vf).prototype.update=function(){var n=this.geometry,o=this.pointMap;oo.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),uo("c",o,n,oo,0,0,-1),uo("t",o,n,oo,0,0,1),uo("n1",o,n,oo,-1,-1,-1),uo("n2",o,n,oo,1,-1,-1),uo("n3",o,n,oo,-1,1,-1),uo("n4",o,n,oo,1,1,-1),uo("f1",o,n,oo,-1,-1,1),uo("f2",o,n,oo,1,-1,1),uo("f3",o,n,oo,-1,1,1),uo("f4",o,n,oo,1,1,1),uo("u1",o,n,oo,.7,1.1,-1),uo("u2",o,n,oo,-.7,1.1,-1),uo("u3",o,n,oo,0,2,-1),uo("cf1",o,n,oo,-1,0,1),uo("cf2",o,n,oo,1,0,1),uo("cf3",o,n,oo,0,-1,1),uo("cf4",o,n,oo,0,1,1),uo("cn1",o,n,oo,-1,0,-1),uo("cn2",o,n,oo,1,0,-1),uo("cn3",o,n,oo,0,-1,-1),uo("cn4",o,n,oo,0,1,-1),n.getAttribute("position").needsUpdate=!0};var Ah=new ji;function Bl(n,o){this.object=n,o===void 0&&(o=16776960);var u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new Float32Array(24),B=new xn;B.setIndex(new $t(u,1)),B.setAttribute("position",new $t(m,3)),Hi.call(this,B,new $i({color:o})),this.matrixAutoUpdate=!1,this.update()}function Nf(n,o){this.type="Box3Helper",this.box=n,o=o||16776960;var u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new xn;m.setIndex(new $t(u,1)),m.setAttribute("position",new Wn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Hi.call(this,m,new $i({color:o})),this.geometry.computeBoundingSphere()}function Ts(n,o,u){this.type="PlaneHelper",this.plane=n,this.size=o===void 0?1:o;var m=u!==void 0?u:16776960,B=new xn;B.setAttribute("position",new Wn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),B.computeBoundingSphere(),go.call(this,B,new $i({color:m}));var k=new xn;k.setAttribute("position",new Wn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),k.computeBoundingSphere(),this.add(new Oi(k,new Ro({color:m,opacity:.2,transparent:!0,depthWrite:!1})))}((Bl.prototype=Object.create(Hi.prototype)).constructor=Bl).prototype.update=function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ah.setFromObject(this.object),!Ah.isEmpty()){var o=Ah.min,u=Ah.max,m=this.geometry.attributes.position,B=m.array;B[0]=u.x,B[1]=u.y,B[2]=u.z,B[3]=o.x,B[4]=u.y,B[5]=u.z,B[6]=o.x,B[7]=o.y,B[8]=u.z,B[9]=u.x,B[10]=o.y,B[11]=u.z,B[12]=u.x,B[13]=u.y,B[14]=o.z,B[15]=o.x,B[16]=u.y,B[17]=o.z,B[18]=o.x,B[19]=o.y,B[20]=o.z,B[21]=u.x,B[22]=o.y,B[23]=o.z,m.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Bl.prototype.setFromObject=function(n){return this.object=n,this.update(),this},Bl.prototype.copy=function(n){return Hi.prototype.copy.call(this,n),this.object=n.object,this},Bl.prototype.clone=function(){return new this.constructor().copy(this)},((Nf.prototype=Object.create(Hi.prototype)).constructor=Nf).prototype.updateMatrixWorld=function(n){var o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),Fn.prototype.updateMatrixWorld.call(this,n))},((Ts.prototype=Object.create(go.prototype)).constructor=Ts).prototype.updateMatrixWorld=function(n){var o=-this.plane.constant;Math.abs(o)<1e-8&&(o=1e-8),this.scale.set(.5*this.size,.5*this.size,o),this.children[0].material.side=o<0?F:w,this.lookAt(this.plane.normal),Fn.prototype.updateMatrixWorld.call(this,n)};var _h,dd,Ji=new gt;function Ti(n,o,u,m,B,k){Fn.call(this),n===void 0&&(n=new gt(0,0,1)),o===void 0&&(o=new gt(0,0,0)),u===void 0&&(u=1),m===void 0&&(m=16776960),B===void 0&&(B=.2*u),k===void 0&&(k=.2*B),_h===void 0&&((_h=new xn).setAttribute("position",new Wn([0,0,0,0,1,0],3)),(dd=new ss(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(o),this.line=new go(_h,new $i({color:m})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Oi(dd,new Ro({color:m})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(u,B,k)}function hd(n){var o=[0,0,0,n=n||1,0,0,0,0,0,0,n,0,0,0,0,0,0,n],u=new xn;u.setAttribute("position",new Wn(o,3)),u.setAttribute("color",new Wn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var m=new $i({vertexColors:ee});Hi.call(this,u,m)}((Ti.prototype=Object.create(Fn.prototype)).constructor=Ti).prototype.setDirection=function(n){if(.99999<n.y)this.quaternion.set(0,0,0,1);else if(n.y<-.99999)this.quaternion.set(1,0,0,0);else{Ji.set(n.z,0,-n.x).normalize();var o=Math.acos(n.y);this.quaternion.setFromAxisAngle(Ji,o)}},Ti.prototype.setLength=function(n,o,u){o===void 0&&(o=.2*n),u===void 0&&(u=.2*o),this.line.scale.set(1,Math.max(1e-4,n-o),1),this.line.updateMatrix(),this.cone.scale.set(u,o,u),this.cone.position.y=n,this.cone.updateMatrix()},Ti.prototype.setColor=function(n){this.line.material.color.set(n),this.cone.material.color.set(n)},Ti.prototype.copy=function(n){return Fn.prototype.copy.call(this,n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this},Ti.prototype.clone=function(){return new this.constructor().copy(this)},(hd.prototype=Object.create(Hi.prototype)).constructor=hd;var du=4,Yl=8,Ks=Math.pow(2,Yl),Ip=[.125,.215,.35,.446,.526,.582],kp=Yl-du+1+Ip.length,hu=20,Vo={};Vo[er]=0,Vo[Cr]=1,Vo[vs]=2,Vo[Ka]=3,Vo[nl]=4,Vo[Kl]=5,Vo[la]=6;var fu,Bh,zf=new lu,fd=((Bh=new Ul({defines:{n:fu=hu},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(fu)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new gt(0,1,0)},inputEncoding:{value:Vo[er]},outputEncoding:{value:Vo[er]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

void main() {
	gl_FragColor = vec4(0.0);
	for (int i = 0; i < n; i++) {
		if (i >= samples)
			break;
		for (int dir = -1; dir < 2; dir += 2) {
			if (i == 0 && dir == 1)
				continue;
			vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
			if (all(equal(axis, vec3(0.0))))
				axis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);
			axis = normalize(axis);
			float theta = dTheta * float(dir * i);
			float cosTheta = cos(theta);
			// Rodrigues' axis-angle rotation
			vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross(axis, vOutputDirection) * sin(theta)
					+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
			gl_FragColor.rgb +=
					weights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);
		}
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:re,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",Bh),Qs=null,_o=null,Zl=function(){for(var n=[],o=[],u=[],m=Yl,B=0;B<kp;B++){var k=Math.pow(2,m);o.push(k);var ne=1/k;Yl-du<B?ne=Ip[B-Yl+du-1]:B==0&&(ne=0),u.push(ne);for(var se=1/(k-1),ge=-se/2,ve=1+se/2,we=[ge,ge,ve,ge,ve,ve,ge,ge,ve,ve,ge,ve],_e=new Float32Array(108),Te=new Float32Array(72),ye=new Float32Array(36),ke=0;ke<6;ke++){var Ge=ke%3*2/3-1,We=2<ke?0:-1,ht=[Ge,We,0,Ge+2/3,We,0,Ge+2/3,1+We,0,Ge,We,0,Ge+2/3,1+We,0,Ge,1+We,0];_e.set(ht,18*ke),Te.set(we,12*ke);var vt=[ke,ke,ke,ke,ke,ke];ye.set(vt,6*ke)}var Dt=new xn;Dt.setAttribute("position",new $t(_e,3)),Dt.setAttribute("uv",new $t(Te,2)),Dt.setAttribute("faceIndex",new $t(ye,1)),n.push(Dt),du<m&&m--}return{_lodPlanes:n,_sizeLods:o,_sigmas:u}}(),pd=Zl._lodPlanes,Vp=Zl._sizeLods,Mh=Zl._sigmas,Fh=null,Ri=null,Sh=null,va=(1+Math.sqrt(5))/2,Nr=1/va,jf=[new gt(1,1,1),new gt(-1,1,1),new gt(1,1,-1),new gt(-1,1,-1),new gt(0,va,Nr),new gt(0,va,-Nr),new gt(Nr,0,va),new gt(-Nr,0,va),new gt(va,Nr,0),new gt(-va,Nr,0)];function Pa(n){Ri=n,xi(fd)}function Hf(n){var o={magFilter:rt,minFilter:rt,generateMipmaps:!1,type:n?n.type:jn,format:n?n.format:mr,encoding:n?n.encoding:vs,depthBuffer:!1,stencilBuffer:!1},u=zp(o);return u.depthBuffer=!n,Fh=zp(o),u}function Np(n){Fh.dispose(),Ri.setRenderTarget(Sh),n.scissorTest=!1,n.setSize(n.width,n.height)}function xi(n){var o=new Ei;o.add(new Oi(pd[0],n)),Ri.compile(o,zf)}function zp(n){var o=new Do(3*Ks,3*Ks,n);return o.texture.mapping=ut,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function Th(n,o,u,m,B){n.viewport.set(o,u,m,B),n.scissor.set(o,u,m,B)}function md(n){var o=Ri.autoClear;Ri.autoClear=!1;for(var u=1;u<kp;u++)jp(n,u-1,u,Math.sqrt(Mh[u]*Mh[u]-Mh[u-1]*Mh[u-1]),jf[(u-1)%jf.length]);Ri.autoClear=o}function jp(n,o,u,m,B){Hp(n,Fh,o,u,m,"latitudinal",B),Hp(Fh,n,u,u,m,"longitudinal",B)}function Hp(n,o,u,m,B,k,ne){k!=="latitudinal"&&k!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var se=new Ei;se.add(new Oi(pd[m],fd));var ge=fd.uniforms,ve=Vp[u]-1,we=isFinite(B)?Math.PI/(2*ve):2*Math.PI/(2*hu-1),_e=B/we,Te=isFinite(B)?1+Math.floor(3*_e):hu;hu<Te&&console.warn("sigmaRadians, "+B+", is too large and will clip, as it requested "+Te+" samples when the maximum is set to "+hu);for(var ye=[],ke=0,Ge=0;Ge<hu;++Ge){var We=Ge/_e,ht=Math.exp(-We*We/2);ye.push(ht),Ge==0?ke+=ht:Ge<Te&&(ke+=2*ht)}for(Ge=0;Ge<ye.length;Ge++)ye[Ge]=ye[Ge]/ke;ge.envMap.value=n.texture,ge.samples.value=Te,ge.weights.value=ye,ge.latitudinal.value=k==="latitudinal",ne&&(ge.poleAxis.value=ne),ge.dTheta.value=we,ge.mipInt.value=Yl-u,ge.inputEncoding.value=Vo[n.texture.encoding],ge.outputEncoding.value=Vo[n.texture.encoding];var vt=Vp[m];Th(o,We=3*Math.max(0,Ks-2*vt),(m===0?0:2*Ks)+2*vt*(Yl-du<m?m-Yl+du:0),3*vt,2*vt),Ri.setRenderTarget(o),Ri.render(se,zf)}function Up(){var n=new Ul({uniforms:{envMap:{value:null},texelSize:{value:new An(1,1)},inputEncoding:{value:Vo[er]},outputEncoding:{value:Vo[er]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv;
	uv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;
	uv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:re,depthTest:!1,depthWrite:!1});return n.type="EquirectangularToCubeUV",n}function Gp(){var n=new Ul({uniforms:{envMap:{value:null},inputEncoding:{value:Vo[er]},outputEncoding:{value:Vo[er]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:re,depthTest:!1,depthWrite:!1});return n.type="CubemapToCubeUV",n}function $p(n){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ta.call(this,n),this.type="catmullrom",this.closed=!0}function Wp(n){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ta.call(this,n),this.type="catmullrom"}function Uf(n){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ta.call(this,n),this.type="catmullrom"}Pa.prototype={constructor:Pa,fromScene:function(n,o,u,m){o===void 0&&(o=0),u===void 0&&(u=.1),m===void 0&&(m=100),Sh=Ri.getRenderTarget();var B=Hf();return function(k,ne,se,ge){var ve=new Gi(90,1,ne,se),we=[1,1,1,1,-1,1],_e=[1,1,-1,-1,-1,1],Te=Ri.outputEncoding,ye=Ri.toneMapping,ke=Ri.toneMappingExposure,Ge=Ri.getClearColor(),We=Ri.getClearAlpha();Ri.toneMapping=Pe,Ri.toneMappingExposure=1,Ri.outputEncoding=er,k.scale.z*=-1;var ht=k.background;if(ht&&ht.isColor){ht.convertSRGBToLinear();var vt=Math.max(ht.r,ht.g,ht.b),Dt=Math.min(Math.max(Math.ceil(Math.log2(vt)),-128),127);ht=ht.multiplyScalar(Math.pow(2,-Dt));var Lt=(Dt+128)/255;Ri.setClearColor(ht,Lt),k.background=null}for(var Xe=0;Xe<6;Xe++){var Vt=Xe%3;Vt==0?(ve.up.set(0,we[Xe],0),ve.lookAt(_e[Xe],0,0)):Vt==1?(ve.up.set(0,0,we[Xe]),ve.lookAt(0,_e[Xe],0)):(ve.up.set(0,we[Xe],0),ve.lookAt(0,0,_e[Xe])),Th(ge,Vt*Ks,2<Xe?Ks:0,Ks,Ks),Ri.setRenderTarget(ge),Ri.render(k,ve)}Ri.toneMapping=ye,Ri.toneMappingExposure=ke,Ri.outputEncoding=Te,Ri.setClearColor(Ge,We),k.scale.z*=-1}(n,u,m,B),0<o&&jp(B,0,0,o),md(B),Np(B),B},fromEquirectangular:function(n){return n.magFilter=rt,n.minFilter=rt,n.generateMipmaps=!1,this.fromCubemap(n)},fromCubemap:function(n){Sh=Ri.getRenderTarget();var o=Hf(n);return function(u,m){var B=new Ei;u.isCubeTexture?_o==null&&(_o=Gp()):Qs==null&&(Qs=Up());var k=u.isCubeTexture?_o:Qs;B.add(new Oi(pd[0],k));var ne=k.uniforms;(ne.envMap.value=u).isCubeTexture||ne.texelSize.value.set(1/u.image.width,1/u.image.height),ne.inputEncoding.value=Vo[u.encoding],ne.outputEncoding.value=Vo[u.encoding],Th(m,0,0,3*Ks,2*Ks),Ri.setRenderTarget(m),Ri.render(B,zf)}(n,o),md(o),Np(o),o},compileCubemapShader:function(){_o==null&&xi(_o=Gp())},compileEquirectangularShader:function(){Qs==null&&xi(Qs=Up())},dispose:function(){fd.dispose(),_o?.dispose(),Qs?.dispose();for(var n=0;n<pd.length;n++)pd[n].dispose()}},Er.create=function(n,o){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Er.prototype),(n.prototype.constructor=n).prototype.getPoint=o,n},Object.assign(_l.prototype,{createPointsGeometry:function(n){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var o=this.getPoints(n);return this.createGeometry(o)},createSpacedPointsGeometry:function(n){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var o=this.getSpacedPoints(n);return this.createGeometry(o)},createGeometry:function(n){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var o=new nr,u=0,m=n.length;u<m;u++){var B=n[u];o.vertices.push(new gt(B.x,B.y,B.z||0))}return o}}),Object.assign(Bs.prototype,{fromPoints:function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)}}),$p.prototype=Object.create(Ta.prototype),Wp.prototype=Object.create(Ta.prototype),Uf.prototype=Object.create(Ta.prototype),Object.assign(Uf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Vr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Dh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(_i.prototype,{extractUrlBase:function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),lf.extractUrlBase(n)}}),_i.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(fh.prototype,{setTexturePath:function(n){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(n)}}),Object.assign(Of.prototype,{center:function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},size:function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)}}),Object.assign(ji.prototype,{center:function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionSphere:function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},size:function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)}}),Vc.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},Rf.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Object.assign(Gr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(n){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Gr.floorPowerOfTwo(n)},nextPowerOfTwo:function(n){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Gr.ceilPowerOfTwo(n)}}),Object.assign(xo.prototype,{flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},multiplyVector3:function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ur.prototype,{extractPosition:function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new gt().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector4:function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},crossVector:function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(n,o,u,m,B,k){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,o,m,u,B,k)}}),Na.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},To.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Object.assign(Va.prototype,{isIntersectionBox:function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionPlane:function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},isIntersectionSphere:function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}}),Object.assign(lo.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(n,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,o)},midpoint:function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},normal:function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},plane:function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)}}),Object.assign(lo,{barycoordFromPoint:function(n,o,u,m,B){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),lo.getBarycoord(n,o,u,m,B)},normal:function(n,o,u,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),lo.getNormal(n,o,u,m)}}),Object.assign(Jl.prototype,{extractAllPoints:function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},extrude:function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Qc(this,n)},makeGeometry:function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new bc(this,n)}}),Object.assign(An.prototype,{fromAttribute:function(n,o,u){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},distanceToManhattan:function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(gt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},getScaleFromMatrix:function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},getColumnFromMatrix:function(n,o){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(o,n)},applyProjection:function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},fromAttribute:function(n,o,u){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},distanceToManhattan:function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ci.prototype,{fromAttribute:function(n,o,u){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(nr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(n){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.assign(Fn.prototype,{getChildByName:function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(n,o){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(o,n)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.defineProperties(Fn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Oi.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Oi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Pu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ou.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Il.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Er.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(n){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=n}}),Gi.prototype.setLens=function(n,o){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),o!==void 0&&(this.filmGauge=o),this.setFocalLength(n)},Object.defineProperties(ki.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties($t.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ns},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ns)}}}),Object.assign($t.prototype,{setDynamic:function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Ns:il),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(xn.prototype,{addIndex:function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},addAttribute:function(n,o){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),o&&o.isBufferAttribute||o&&o.isInterleavedBufferAttribute?n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(o),this):this.setAttribute(n,o):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new $t(o,arguments[2])))},addDrawCall:function(n,o,u){u!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,o)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)},applyMatrix:function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.defineProperties(xn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ws.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Ns},set:function(n){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(n)}}}),Object.assign(Ws.prototype,{setDynamic:function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Ns:il),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Qi.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(vh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Or.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Un}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}}}),Object.defineProperties(Gl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ua.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),Object.assign(Mu.prototype,{clearTarget:function(n,o,u,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(o,u,m)},animate:function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Mu.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Cr:er}}}),Object.defineProperties(Wh.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Do.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),Object.defineProperties(uu.prototype,{load:{value:function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var o=this;return new ph().load(n,function(u){o.setBuffer(u)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),xf.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},cl.prototype.updateCubeMap=function(n,o){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,o)};var Fm={merge:function(n,o,u){var m;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),o.isMesh&&(o.matrixAutoUpdate&&o.updateMatrix(),m=o.matrix,o=o.geometry),n.merge(o,m,u)},center:function(n){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),n.center()}};zs.crossOrigin=void 0,zs.loadTexture=function(n,o,u,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var B=new eh;B.setCrossOrigin(this.crossOrigin);var k=B.load(n,u,void 0,m);return o&&(k.mapping=o),k},zs.loadTextureCube=function(n,o,u,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var B=new Qd;B.setCrossOrigin(this.crossOrigin);var k=B.load(n,u,void 0,m);return o&&(k.mapping=o),k},zs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},zs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Sm={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"113"}})),a.ACESFilmicToneMapping=dt,a.AddEquation=oe,a.AddOperation=Ae,a.AdditiveBlending=ce,a.AlphaFormat=Kr,a.AlwaysDepth=ct,a.AlwaysStencilFunc=vu,a.AmbientLight=ad,a.AmbientLightProbe=gf,a.AnimationClip=ls,a.AnimationLoader=tf,a.AnimationMixer=Ff,a.AnimationObjectGroup=Bf,a.AnimationUtils=eo,a.ArcCurve=ma,a.ArrayCamera=Bu,a.ArrowHelper=Ti,a.Audio=uu,a.AudioAnalyser=xf,a.AudioContext=pf,a.AudioListener=Cf,a.AudioLoader=ph,a.AxesHelper=hd,a.AxisHelper=function(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new hd(n)},a.BackSide=F,a.BasicDepthPacking=Vs,a.BasicShadowMap=0,a.BinaryTextureLoader=function(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Kd(n)},a.Bone=ha,a.BooleanKeyframeTrack=Wd,a.BoundingBoxHelper=function(n,o){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Bl(n,o)},a.Box2=Of,a.Box3=ji,a.Box3Helper=Nf,a.BoxBufferGeometry=bu,a.BoxGeometry=Io,a.BoxHelper=Bl,a.BufferAttribute=$t,a.BufferGeometry=xn,a.BufferGeometryLoader=hh,a.ByteType=Hn,a.Cache=Ac,a.Camera=da,a.CameraHelper=Vf,a.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},a.CanvasTexture=Yh,a.CatmullRomCurve3=Ta,a.CineonToneMapping=qe,a.CircleBufferGeometry=Qu,a.CircleGeometry=Gd,a.ClampToEdgeWrapping=vn,a.Clock=vf,a.ClosedSplineCurve3=$p,a.Color=Un,a.ColorKeyframeTrack=Jd,a.CompressedTexture=Ga,a.CompressedTextureLoader=Zd,a.ConeBufferGeometry=Ku,a.ConeGeometry=Zu,a.CubeCamera=cl,a.CubeGeometry=Io,a.CubeReflectionMapping=ft,a.CubeRefractionMapping=Ft,a.CubeTexture=ko,a.CubeTextureLoader=Qd,a.CubeUVReflectionMapping=ut,a.CubeUVRefractionMapping=Gt,a.CubicBezierCurve=Dl,a.CubicBezierCurve3=$l,a.CubicInterpolant=qs,a.CullFaceBack=d,a.CullFaceFront=D,a.CullFaceFrontBack=3,a.CullFaceNone=c,a.Curve=Er,a.CurvePath=_l,a.CustomBlending=A,a.CylinderBufferGeometry=ss,a.CylinderGeometry=tu,a.Cylindrical=yh,a.DataTexture=Hs,a.DataTexture2DArray=ei,a.DataTexture3D=bd,a.DataTextureLoader=Kd,a.DecrementStencilOp=7683,a.DecrementWrapStencilOp=34056,a.DefaultLoadingManager=ef,a.DepthFormat=zi,a.DepthStencilFormat=Yo,a.DepthTexture=Zh,a.DirectionalLight=cu,a.DirectionalLightHelper=Ss,a.DirectionalLightShadow=sh,a.DiscreteInterpolant=rd,a.DodecahedronBufferGeometry=Kc,a.DodecahedronGeometry=vc,a.DoubleSide=T,a.DstAlphaFactor=Le,a.DstColorFactor=st,a.DynamicBufferAttribute=function(n,o){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new $t(n,o).setUsage(Ns)},a.DynamicCopyUsage=35050,a.DynamicDrawUsage=Ns,a.DynamicReadUsage=35049,a.EdgesGeometry=Yu,a.EdgesHelper=function(n,o){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Hi(new Yu(n.geometry),new $i({color:o!==void 0?o:16777215}))},a.EllipseCurve=_s,a.EqualDepth=bt,a.EqualStencilFunc=514,a.EquirectangularReflectionMapping=it,a.EquirectangularRefractionMapping=zt,a.Euler=xe,a.EventDispatcher=Qa,a.ExtrudeBufferGeometry=Qi,a.ExtrudeGeometry=Qc,a.Face3=sl,a.Face4=function(n,o,u,m,B,k,ne){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new sl(n,o,u,B,k,ne)},a.FaceColors=1,a.FileLoader=us,a.FlatShading=1,a.Float32Attribute=function(n,o){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Wn(n,o)},a.Float32BufferAttribute=Wn,a.Float64Attribute=function(n,o){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new $o(n,o)},a.Float64BufferAttribute=$o,a.FloatType=En,a.Fog=Su,a.FogExp2=Fu,a.Font=hf,a.FontLoader=ff,a.FrontFaceDirectionCCW=1,a.FrontFaceDirectionCW=0,a.FrontSide=w,a.Frustum=Vc,a.GammaEncoding=la,a.Geometry=nr,a.GeometryUtils=Fm,a.GreaterDepth=Yt,a.GreaterEqualDepth=an,a.GreaterEqualStencilFunc=518,a.GreaterStencilFunc=516,a.GridHelper=Vr,a.Group=Rl,a.HalfFloatType=Xn,a.HemisphereLight=rh,a.HemisphereLightHelper=Zs,a.HemisphereLightProbe=mf,a.IcosahedronBufferGeometry=Zc,a.IcosahedronGeometry=zu,a.ImageBitmapLoader=uf,a.ImageLoader=su,a.ImageUtils=zs,a.ImmediateRenderObject=Lf,a.IncrementStencilOp=7682,a.IncrementWrapStencilOp=34055,a.InstancedBufferAttribute=dh,a.InstancedBufferGeometry=uh,a.InstancedInterleavedBuffer=Sf,a.InstancedMesh=Ru,a.Int16Attribute=function(n,o){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ti(n,o)},a.Int16BufferAttribute=ti,a.Int32Attribute=function(n,o){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new hi(n,o)},a.Int32BufferAttribute=hi,a.Int8Attribute=function(n,o){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new sn(n,o)},a.Int8BufferAttribute=sn,a.IntType=di,a.InterleavedBuffer=Ws,a.InterleavedBufferAttribute=Gc,a.Interpolant=io,a.InterpolateDiscrete=Rt,a.InterpolateLinear=Xt,a.InterpolateSmooth=2302,a.InvertStencilOp=5386,a.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},a.KeepStencilOp=rl,a.KeyframeTrack=Jo,a.LOD=Pu,a.LatheBufferGeometry=Ao,a.LatheGeometry=as,a.Layers=Me,a.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},a.LessDepth=Ct,a.LessEqualDepth=Pt,a.LessEqualStencilFunc=515,a.LessStencilFunc=513,a.Light=ki,a.LightProbe=Ms,a.LightShadow=Xs,a.Line=go,a.Line3=Rf,a.LineBasicMaterial=$i,a.LineCurve=ds,a.LineCurve3=bl,a.LineDashedMaterial=iu,a.LineLoop=Id,a.LinePieces=1,a.LineSegments=Hi,a.LineStrip=0,a.LinearEncoding=er,a.LinearFilter=gn,a.LinearInterpolant=nd,a.LinearMipMapLinearFilter=1008,a.LinearMipMapNearestFilter=1007,a.LinearMipmapLinearFilter=Ar,a.LinearMipmapNearestFilter=Nn,a.LinearToneMapping=Pe,a.Loader=_i,a.LoaderUtils=lf,a.LoadingManager=Yd,a.LogLuvEncoding=Ra,a.LoopOnce=2200,a.LoopPingPong=2202,a.LoopRepeat=2201,a.LuminanceAlphaFormat=zo,a.LuminanceFormat=ai,a.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a.Material=Or,a.MaterialLoader=ch,a.Math=Gr,a.MathUtils=Gr,a.Matrix3=xo,a.Matrix4=ur,a.MaxEquation=j,a.Mesh=Oi,a.MeshBasicMaterial=Ro,a.MeshDepthMaterial=$s,a.MeshDistanceMaterial=Uc,a.MeshFaceMaterial=function(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n},a.MeshLambertMaterial=wc,a.MeshMatcapMaterial=ru,a.MeshNormalMaterial=xl,a.MeshPhongMaterial=Gl,a.MeshPhysicalMaterial=td,a.MeshStandardMaterial=El,a.MeshToonMaterial=nu,a.MinEquation=I,a.MirroredRepeatWrapping=Ot,a.MixOperation=me,a.MultiMaterial=function(n){return n===void 0&&(n=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,(n.materials=n).clone=function(){return n.slice()},n},a.MultiplyBlending=de,a.MultiplyOperation=mt,a.NearestFilter=rt,a.NearestMipMapLinearFilter=1005,a.NearestMipMapNearestFilter=1004,a.NearestMipmapLinearFilter=Qt,a.NearestMipmapNearestFilter=xt,a.NeverDepth=St,a.NeverStencilFunc=512,a.NoBlending=re,a.NoColors=R,a.NoToneMapping=Oe,a.NormalBlending=ae,a.NotEqualDepth=Ne,a.NotEqualStencilFunc=517,a.NumberKeyframeTrack=ou,a.Object3D=Fn,a.ObjectLoader=fh,a.ObjectSpaceNormalMap=gu,a.OctahedronBufferGeometry=Yc,a.OctahedronGeometry=Nl,a.OneFactor=be,a.OneMinusDstAlphaFactor=Ie,a.OneMinusDstColorFactor=Ye,a.OneMinusSrcAlphaFactor=Se,a.OneMinusSrcColorFactor=Re,a.OrthographicCamera=lu,a.PCFShadowMap=v,a.PCFSoftShadowMap=C,a.PMREMGenerator=Pa,a.ParametricBufferGeometry=Xc,a.ParametricGeometry=vl,a.Particle=function(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new qc(n)},a.ParticleBasicMaterial=function(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new gl(n)},a.ParticleSystem=function(n,o){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new gc(n,o)},a.ParticleSystemMaterial=function(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new gl(n)},a.Path=Bs,a.PerspectiveCamera=Gi,a.Plane=Na,a.PlaneBufferGeometry=Us,a.PlaneGeometry=oc,a.PlaneHelper=Ts,a.PointCloud=function(n,o){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new gc(n,o)},a.PointCloudMaterial=function(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new gl(n)},a.PointLight=ah,a.PointLightHelper=bh,a.Points=gc,a.PointsMaterial=gl,a.PolarGridHelper=kf,a.PolyhedronBufferGeometry=$a,a.PolyhedronGeometry=Vu,a.PositionalAudio=Ef,a.PropertyBinding=qo,a.PropertyMixer=Df,a.QuadraticBezierCurve=wl,a.QuadraticBezierCurve3=Wl,a.Quaternion=To,a.QuaternionKeyframeTrack=id,a.QuaternionLinearInterpolant=qd,a.REVISION="113",a.RGBADepthPacking=Pc,a.RGBAFormat=Ce,a.RGBAIntegerFormat=Fo,a.RGBA_ASTC_10x10_Format=lt,a.RGBA_ASTC_10x5_Format=ba,a.RGBA_ASTC_10x6_Format=Ho,a.RGBA_ASTC_10x8_Format=Be,a.RGBA_ASTC_12x10_Format=Ve,a.RGBA_ASTC_12x12_Format=at,a.RGBA_ASTC_4x4_Format=Eo,a.RGBA_ASTC_5x4_Format=Ls,a.RGBA_ASTC_5x5_Format=So,a.RGBA_ASTC_6x5_Format=Da,a.RGBA_ASTC_6x6_Format=tl,a.RGBA_ASTC_8x5_Format=Is,a.RGBA_ASTC_8x6_Format=ks,a.RGBA_ASTC_8x8_Format=po,a.RGBA_PVRTC_2BPPV1_Format=aa,a.RGBA_PVRTC_4BPPV1_Format=fo,a.RGBA_S3TC_DXT1_Format=ho,a.RGBA_S3TC_DXT3_Format=Ya,a.RGBA_S3TC_DXT5_Format=jo,a.RGBDEncoding=Kl,a.RGBEEncoding=vs,a.RGBEFormat=mr,a.RGBFormat=Co,a.RGBIntegerFormat=Xa,a.RGBM16Encoding=nl,a.RGBM7Encoding=Ka,a.RGB_ETC1_Format=sa,a.RGB_PVRTC_2BPPV1_Format=Za,a.RGB_PVRTC_4BPPV1_Format=xa,a.RGB_S3TC_DXT1_Format=gs,a.RGFormat=ps,a.RGIntegerFormat=ms,a.RawShaderMaterial=Ul,a.Ray=Va,a.Raycaster=cd,a.RectAreaLight=lh,a.RedFormat=oa,a.RedIntegerFormat=Rs,a.ReinhardToneMapping=$e,a.RepeatWrapping=hn,a.ReplaceStencilOp=7681,a.ReverseSubtractEquation=ie,a.RingBufferGeometry=qu,a.RingGeometry=Hd,a.Scene=Ei,a.SceneUtils=Sm,a.ShaderChunk=Qr,a.ShaderLib=et,a.ShaderMaterial=ua,a.ShadowMaterial=ed,a.Shape=Jl,a.ShapeBufferGeometry=Xu,a.ShapeGeometry=bc,a.ShapePath=df,a.ShapeUtils=fa,a.ShortType=ir,a.Skeleton=Ou,a.SkeletonHelper=Dh,a.SkinnedMesh=Il,a.SmoothShading=2,a.Sphere=Po,a.SphereBufferGeometry=eu,a.SphereGeometry=Ju,a.Spherical=Sp,a.SphericalHarmonics3=mh,a.SphericalReflectionMapping=pt,a.Spline=Uf,a.SplineCurve=Al,a.SplineCurve3=Wp,a.SpotLight=oh,a.SpotLightHelper=Eh,a.SpotLightShadow=ih,a.Sprite=qc,a.SpriteMaterial=hc,a.SrcAlphaFactor=Ee,a.SrcAlphaSaturateFactor=Ke,a.SrcColorFactor=De,a.StaticCopyUsage=35046,a.StaticDrawUsage=il,a.StaticReadUsage=35045,a.StereoCamera=_p,a.StreamCopyUsage=35042,a.StreamDrawUsage=35040,a.StreamReadUsage=35041,a.StringKeyframeTrack=Xd,a.SubtractEquation=le,a.SubtractiveBlending=ue,a.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a.TangentSpaceNormalMap=wa,a.TetrahedronBufferGeometry=Js,a.TetrahedronGeometry=Nu,a.TextBufferGeometry=Wu,a.TextGeometry=$u,a.Texture=wi,a.TextureLoader=eh,a.TorusBufferGeometry=zl,a.TorusGeometry=Hu,a.TorusKnotBufferGeometry=ju,a.TorusKnotGeometry=Ec,a.Triangle=lo,a.TriangleFanDrawMode=2,a.TriangleStripDrawMode=1,a.TrianglesDrawMode=0,a.TubeBufferGeometry=Cc,a.TubeGeometry=yc,a.UVMapping=300,a.Uint16Attribute=function(n,o){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ii(n,o)},a.Uint16BufferAttribute=Ii,a.Uint32Attribute=function(n,o){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ns(n,o)},a.Uint32BufferAttribute=ns,a.Uint8Attribute=function(n,o){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new qn(n,o)},a.Uint8BufferAttribute=qn,a.Uint8ClampedAttribute=function(n,o){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Sr(n,o)},a.Uint8ClampedBufferAttribute=Sr,a.Uncharted2ToneMapping=tt,a.Uniform=vh,a.UniformsLib=Yn,a.UniformsUtils=$f,a.UnsignedByteType=jn,a.UnsignedInt248Type=yi,a.UnsignedIntType=jt,a.UnsignedShort4444Type=Mr,a.UnsignedShort5551Type=Wr,a.UnsignedShort565Type=jr,a.UnsignedShortType=vi,a.VSMShadowMap=f,a.Vector2=An,a.Vector3=gt,a.Vector4=Ci,a.VectorKeyframeTrack=au,a.Vertex=function(n,o,u){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new gt(n,o,u)},a.VertexColors=ee,a.VideoTexture=ra,a.WebGLCubeRenderTarget=ul,a.WebGLMultisampleRenderTarget=ec,a.WebGLRenderTarget=Do,a.WebGLRenderTargetCube=function(n,o,u){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ul(n,u)},a.WebGLRenderer=Mu,a.WebGLUtils=dp,a.WireframeGeometry=Vl,a.WireframeHelper=function(n,o){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Hi(new Vl(n.geometry),new $i({color:o!==void 0?o:16777215}))},a.WrapAroundEnding=Jn,a.XHRLoader=function(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new us(n)},a.ZeroCurvatureEnding=Cn,a.ZeroFactor=pe,a.ZeroSlopeEnding=_n,a.ZeroStencilOp=0,a.sRGBEncoding=Cr,Object.defineProperty(a,"__esModule",{value:!0})},typeof r=="object"&&t!==void 0?l(r):typeof define=="function"&&define.amd?define(["exports"],l):l((i=i||self).THREE={})},{}],20:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUtils=void 0;var i,l=e("./Operate/MxEntSelJig"),a=e("./Operate/MxJigCmdManager"),c=e("./UI/MxUiVue");(i=r.MrxDbgUtils||(r.MrxDbgUtils={})).findEntAtPoint=function(d,D,v,C,f){return v===void 0&&(v=null),C===void 0&&(C=!0),new Promise(function(w){if(d.isMxCAD())C||(D=d.screenCoord2Doc(D.x,D.y,D.z)),d.callCommand("MxCAD_FindEntAtPoint",JSON.stringify(D),function(ce){if(typeof ce!="string"||ce.length<1)w([]);else{var ue=JSON.parse(ce);w(ue.ids)}});else{for(var F=d.findMxEntityAtPoint(D,C,f),T=[],R=F.length,ee=0;ee<R;ee++){var re=F[ee];if(!v||!v.type||v.type==re.getTypeName()){var ae=re.objectId();T.push(ae)}}w(T)}})},i.selectEnt=function(d,D){return D===void 0&&(D=null),new Promise(function(v){var C=new l.MxEntSelJig;d&&c.MxUiVue.acutPrintf(d),C.filter=D,C.callRet=function(f){v(f)},a.MxJigCmdManager.runCmd(C)})}},{"./Operate/MxEntSelJig":55,"./Operate/MxJigCmdManager":58,"./UI/MxUiVue":67}],21:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADSyncDisplay=r.MxCADDisplayFun=r.MxCADDatabase=r.MxCADLayerTable=r.MxCADLayerTableRecord=r.MxCADDisplayBlockTable=r.MxCADDisplayBlockRecord=r.MxCADDisplayLayerTable=r.MxCADDisplayLayerRecord=r.MxCADDisplayMemorySections=r.MxCADDisplayMemorySection=r.MxCADDisplayMemorySectionType=r.MxCADDisplayBlockInstance=r.MxCADDisplayBlockRef=r.MxCADDisplayClipPlans=r.MxCADDisplayClipPlan=void 0;var i=e("three"),l=e("../MxFun"),a=e("../MxShader"),c=e("./MxCADNetData"),d=e("../MxManager");r.MxCADDisplayClipPlan=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0};var D=function(){this.id=1,this.clipPlanArray=new Array};r.MxCADDisplayClipPlans=D;var v,C,f=function(){this.mat=new i.Matrix4,this.blkRecId=-1,this.blkOwnerId=0,this.layerId=-1,this.color=0,this.clipPlans=new D};r.MxCADDisplayBlockRef=f,r.MxCADDisplayBlockInstance=function(){this.mat=new i.Matrix4,this.clipPlans=new D},(C=v=r.MxCADDisplayMemorySectionType||(r.MxCADDisplayMemorySectionType={}))[C.kLinesType=1]="kLinesType",C[C.kTriangleType=2]="kTriangleType";var w=function(){this.id=0,this.type=v.kLinesType,this.blockId=0,this.layerId=0,this.color=0,this.points=[]};r.MxCADDisplayMemorySection=w;var F=(T.prototype.add=function(Ee){this.datas.set(Ee.id,Ee)},T.prototype.get=function(Ee){return this.datas.get(Ee)},T.prototype.remove=function(Ee){this.datas.delete(Ee)},T.prototype.has=function(Ee){return this.datas.has(Ee)},T.prototype.clearAll=function(){this.datas=new Map},T);function T(){this.datas=new Map}r.MxCADDisplayMemorySections=F;var R=(ee.prototype.addColorByLayerMaterial=function(Ee,Se){this.mapColorByLayerMaterial.set(Ee,Se)},ee.prototype.upColorToByLayerMaterial=function(Ee){this.mapColorByLayerMaterial.forEach(function(Se){Se.uniformsNeedUpdate=!0,Se.needsUpdate=!0,Se.uniforms={color:{value:Ee}}})},ee.prototype.getId=function(){return this.id},ee.prototype.getBlockRecordId=function(){return this.blockRecId},ee.prototype.createMemorySectionToEntityArray=function(Ee){var Se=this.mapMemorySectionIdToEntity.get(Ee);return Se||(Se=new Array,this.mapMemorySectionIdToEntity.set(Ee,Se),Se)},ee.prototype.show=function(Ee){this.mapMemorySectionIdToEntity.forEach(function(Se){for(var Le in Se)Se[Le].visible=Ee})},ee.prototype.addEntity=function(Ee,Se){this.createMemorySectionToEntityArray(Ee).push(Se)},ee.prototype.deleteMemorySectionEntitys=function(Ee,Se){var Le=this.mapMemorySectionIdToEntity.get(Ee);if(!Le)return!1;for(var Ie=Le.length,st=0;st<Ie;st++)l.MxFun.removeThreejsObject(Le[st],Se);return this.mapMemorySectionIdToEntity.delete(Ee),this.mapColorByLayerMaterial.delete(Ee),!0},ee.prototype.addClipMaterial=function(Ee){this.material_clip.push(Ee)},ee.prototype.updataClipMaterial=function(Ee){for(var Se=this.material_clip.length,Le=.5*Ee.width,Ie=.5*Ee.height,st=0;st<Se;st++)this.material_clip[st].uniforms.vieww.value=Le,this.material_clip[st].uniforms.viewh.value=Ie},ee);function ee(Ee,Se){this.id=0,this.blockRecId=0,this.mapMemorySectionIdToEntity=new Map,this.mapColorByLayerMaterial=new Map,this.material_clip=[],this.id=Ee,this.blockRecId=Se}r.MxCADDisplayLayerRecord=R;var re=(ae.prototype.createLayerRecord=function(Ee){var Se=this.layers.get(Ee);return Se||(Se=new R(Ee,this.blockRecId),this.layers.set(Ee,Se),Se)},ae.prototype.getLayerRecord=function(Ee){return this.layers.get(Ee)},ae);function ae(Ee){this.blockRecId=0,this.layers=new Map,this.blockRecId=Ee}r.MxCADDisplayLayerTable=re;var ce=(ue.prototype.getId=function(){return this.id},ue.prototype.addBlkRef=function(Ee){this.blkRefs.set(Ee.id,Ee)},ue.prototype.getAllBlkRef=function(){return this.blkRefs},ue.prototype.addInstance=function(Ee){this.blkInstances.push(Ee)},ue.prototype.deleteAllInstance=function(){this.blkInstances=new Array},ue.prototype.deleteBlkRef=function(){this.blkRefs=new Map},ue.prototype.getLayerTable=function(){return this.layerTable},ue.prototype.getInstances=function(){return this.blkInstances},ue.prototype.getInstances_class=function(){for(var Ee=[],Se=new Map,Le=this.blkInstances.length,Ie=0;Ie<Le;Ie++){var st=this.blkInstances[Ie];if(st.clipPlans.clipPlanArray.length==0)Ee.push(st);else{var Ye=Se.get(st.clipPlans.id);Ye==null&&(Ye=[],Se.set(st.clipPlans.id,Ye)),Ye.push(st)}}var Ke={};return Ke.aryInstanceNoClip=Ee,Ke.mapInstanceClip=Se,Ke},ue);function ue(Ee){this.id=0,this.blkRefs=new Map,this.blkInstances=new Array,this.id=Ee||0,this.layerTable=new re(this.id)}r.MxCADDisplayBlockRecord=ce;var de=(A.prototype.crateBlockRecord=function(Ee){var Se=this.blocks.get(Ee);return Se==null&&(Se=new ce(Ee),this.blocks.set(Ee,Se)),Se},A.prototype.getBlockRecord=function(Ee){return this.blocks.get(Ee)},A.prototype.getAllBlockRecord=function(){return this.blocks},A.prototype.reInitData=function(Ee){this.blocks=new Map,this.curSpaceBlockRecId=Ee||0,this.crateBlockRecord(this.curSpaceBlockRecId)},A);function A(){this.blocks=new Map,this.curSpaceBlockRecId=0}r.MxCADDisplayBlockTable=de;var oe=function(){};r.MxCADLayerTableRecord=oe;var le=(ie.prototype.add=function(Ee,Se,Le,Ie){var st=new oe;st.id=Ee,st.name=Le,st.color=Se,st.off=Ie,this.mapData.set(Ee,st)},ie.prototype.getAllLayerData=function(){for(var Ee,Se=new Array,Le=this.mapData.values();!(Ee=Le.next()).done;){var Ie=new oe;Ie.color=Ee.value.color,Ie.name=Ee.value.name,Ie.off=Ee.value.off,Ie.id=Ee.value.id,Se.push(Ie)}return Se},ie.prototype.setZeroLayerId=function(Ee){this.zeroLayerId=Ee},ie.prototype.getZeroLayerId=function(){return this.zeroLayerId},ie.prototype.getLayerIdForName=function(Ee){for(var Se,Le=this.mapData.values();!(Se=Le.next()).done;)if(Se.value.name==Ee)return Se.value.id;return 0},ie.prototype.getColor=function(Ee){var Se=this.mapData.get(Ee);return Se?Se.color:0},ie.prototype.getRecord=function(Ee){return this.mapData.get(Ee)},ie.prototype.isOff=function(Ee){var Se=this.mapData.get(Ee);return!Se||Se.off},ie.prototype.upDisplayForLayerData=function(Ee,Se){for(var Le,Ie=Se,st=Ie.length,Ye=!1,Ke=function(bt){var an=Ie[bt],Yt=an.id;if(Yt==0)return"continue";var Ne=St.getRecord(Yt);if(!Ne)return"continue";var mt=an.color.split(",");if(mt.length<3)return"continue";var me=255&parseInt(mt[0])|parseInt(mt[1])<<8&65280|parseInt(mt[2])<<16&16711680;if((16777215&Ne.color)==me)return"continue";Ne.color=4278190080&Ne.color|me,(Le=[]).push((255&Ne.color)/255,(Ne.color>>8&255)/255,(Ne.color>>16&255)/255),Ee.getDisplayBlockTable().getAllBlockRecord().forEach(function(Ae){var Oe=Ae.getLayerTable().getLayerRecord(Yt);Oe&&Oe.upColorToByLayerMaterial(Le)}),Ye=!0},St=this,ct=0;ct<st;ct++)Ke(ct);var Ct=function(bt){var an=Ie[bt],Yt=an.id;if(Yt==0)return"continue";var Ne=Pt.getRecord(Yt);return Ne&&Ne.off!=an.off?(Ne.off=an.off,Ee.getDisplayBlockTable().getAllBlockRecord().forEach(function(mt){var me=mt.getLayerTable().getLayerRecord(Yt);me&&me.show(!Ne.off)}),void(Ye=!0)):"continue"},Pt=this;for(ct=0;ct<st;ct++)Ct(ct);return Ye},ie);function ie(){this.mapData=new Map,this.zeroLayerId=0}r.MxCADLayerTable=le;var I,j,pe=(be.prototype.initRootBlockRef=function(Ee){Ee?this.dpRootBlkRef=Ee:(this.dpRootBlkRef=new f,this.dpRootBlkRef.mat=new i.Matrix4,this.dpRootBlkRef.blkRecId=0,this.dpRootBlkRef.blkOwnerId=-1,this.dpRootBlkRef.layerId=-1,this.dpRootBlkRef.color=16777215,this.dpRootBlkRef.id=0)},be.prototype.reInit=function(){this.dpBlockTable=new de,this.layerTable=new le,this.memSections=new F,this.initRootBlockRef()},be.prototype.getMxObj=function(){return this.mxObj},be.prototype.getDisplayRootBlockRef=function(){return this.dpRootBlkRef},be.prototype.getDisplayBlockTable=function(){return this.dpBlockTable},be.prototype.getLayerTable=function(){return this.layerTable},be.prototype.getMemSections=function(){return this.memSections},be);function be(Ee){this.dpBlockTable=new de,this.dpRootBlkRef=null,this.layerTable=new le,this.memSections=new F,this.mxObj=null,this.mxObj=Ee,this.initRootBlockRef()}r.MxCADDatabase=pe,(j=I=r.MxCADDisplayFun||(r.MxCADDisplayFun={})).showLayer=function(Ee,Se,Le){Ee.getDisplayBlockTable().getAllBlockRecord().forEach(function(Ie){var st=Ie.getLayerTable().getLayerRecord(Se);st&&st.show(Le)})},j.createThreejsObjForMemData_Clip=function(Ee,Se,Le,Ie,st,Ye,Ke){if(Ee.length==0)return!1;var St=[],ct=[],Ct=Ee[0].clipPlans.clipPlanArray[0];St.push(Ct.x1,Ct.y1),ct.push(Ct.x2,Ct.y2);for(var Pt=[],bt=[],an=[],Yt=[],Ne=[],mt=0;mt<Ee.length;mt++){var me=Ee[mt];Pt=Pt.concat(me.mat.elements.slice(0,4)),bt=bt.concat(me.mat.elements.slice(4,8)),an=an.concat(me.mat.elements.slice(8,12)),Yt=Yt.concat(me.mat.elements.slice(12,16)),Ne.push(0)}var Ae=Se.color,Oe=(4278190080&Ae)==16777216;Oe&&(Ae=st);var Pe=[];Pe.push(255&Ae,(65280&Ae)>>8,(16711680&Ae)>>16);var $e=Ke.getCanvas(),tt=.5*$e.width,qe=.5*$e.height;if(Se.type==v.kLinesType){var dt=new i.RawShaderMaterial({uniforms:{color:{value:Pe},clippt1:{value:St},clippt2:{value:ct},vieww:{value:tt},viewh:{value:qe}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_CLIP_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});Le.addClipMaterial(dt),(Ft=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Ft.setAttribute("position",new i.Float32BufferAttribute(Se.points,2)),Ft.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Pt),4)),Ft.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(bt),4)),Ft.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(an),4)),Ft.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Yt),4)),Ft.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ne),1));var ft=new i.LineSegments(Ft,dt);ft.frustumCulled=!1,ft.renderOrder=d.MxData.iCADCurveRenderOrder,Ie.add(ft),Le.addEntity(Se.id,ft),Oe&&Le.addColorByLayerMaterial(Se.id,dt)}else if(Se.type==v.kTriangleType){var Ft;dt=new i.RawShaderMaterial({uniforms:{color:{value:Pe},clippt1:{value:St},clippt2:{value:ct},vieww:{value:tt},viewh:{value:qe}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_CLIP_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP_FORMXCAD,transparent:!0,side:i.DoubleSide}),Le.addClipMaterial(dt),(Ft=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Ft.setAttribute("position",new i.Float32BufferAttribute(Se.points,2)),Ft.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Pt),4)),Ft.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(bt),4)),Ft.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(an),4)),Ft.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Yt),4)),Ft.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ne),1));var it=new i.Mesh(Ft,dt);it.frustumCulled=!1,it.renderOrder=d.MxData.iCADMeshRenderOrder,Ie.add(it),Le.addEntity(Se.id,it),Oe&&Le.addColorByLayerMaterial(Se.id,dt)}},j.createThreejsObjForMemData=function(Ee,Se,Le,Ie,st,Ye){if(Ee.length==0)return!1;for(var Ke=[],St=[],ct=[],Ct=[],Pt=[],bt=0;bt<Ee.length;bt++){var an=Ee[bt];Ke=Ke.concat(an.mat.elements.slice(0,4)),St=St.concat(an.mat.elements.slice(4,8)),ct=ct.concat(an.mat.elements.slice(8,12)),Ct=Ct.concat(an.mat.elements.slice(12,16)),Pt.push(0)}var Yt=Se.color,Ne=(4278190080&Yt)==16777216;Ne&&(Yt=st);var mt=[];if(mt.push((255&Yt)/255,(Yt>>8&255)/255,(Yt>>16&255)/255),Se.type==v.kLinesType){var me=new i.RawShaderMaterial({uniforms:{color:{value:mt}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(Se.points,2)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(ct),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ct),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Pt),1));var Ae=new i.LineSegments(Oe,me);Ae.frustumCulled=!1,Ae.renderOrder=d.MxData.iCADCurveRenderOrder,Ae.visible=!Ye,Ie.add(Ae),Le.addEntity(Se.id,Ae),Ne&&Le.addColorByLayerMaterial(Se.id,me)}else if(Se.type==v.kTriangleType){var Oe;me=new i.RawShaderMaterial({uniforms:{color:{value:mt}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(Se.points,2)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(ct),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ct),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Pt),1));var Pe=new i.Mesh(Oe,me);Pe.frustumCulled=!1,Pe.renderOrder=d.MxData.iCADMeshRenderOrder,Pe.visible=!Ye,Ie.add(Pe),Le.addEntity(Se.id,Pe),Ne&&Le.addColorByLayerMaterial(Se.id,me)}};var De=(Re.prototype.upDisplayFromChage_memData=function(Ee){var Se=this.database.getDisplayBlockTable().getBlockRecord(Ee.blockId);if(Se==null)return!1;var Le=this.database.getLayerTable().getColor(Ee.layerId),Ie=this.database.getLayerTable().isOff(Ee.layerId),st=Se.getLayerTable().createLayerRecord(Ee.layerId),Ye=this.mxObj.getScene(),Ke=Se.getInstances_class();st.deleteMemorySectionEntitys(Ee.id,Ye);var St=Ke.aryInstanceNoClip,ct=Ke.mapInstanceClip;0<St.length&&I.createThreejsObjForMemData(St,Ee,st,Ye,Le,Ie);for(var Ct=ct.values(),Pt=Ct.next();!Pt.done;){var bt=Pt.value;I.createThreejsObjForMemData_Clip(bt,Ee,st,Ye,Le,Ie,this.mxObj),Pt=Ct.next()}},Re.prototype.upDisplayFromChage=function(Ee){for(var Se=Ee.length,Le=0;Le<Se;Le++){var Ie=Ee[Le];this.upDisplayFromChage_memData(Ie)}},Re.prototype.OnMessageDisplayMemorySectionsFromChange=function(Ee){for(var Se=this.database.getMemSections(),Le=new c.MxCADNetData(Ee),Ie=Le.getMxCADPointMemorySectionsHeadFromChange(),st=Ie.nOffset,Ye=[],Ke=0;Ke<Ie.datacount;Ke++){var St=Le.getMxCADPointMemorySectionHeadFromChange(st);st=St.offset;var ct=new w;ct.layerId=St.layerId,ct.blockId=St.blkId,ct.id=St.memId,ct.color=St.memColor,ct.type=St.memType;var Ct=St.pointCount;if(!(Ct<1)){for(var Pt=[],bt=0;bt<Ct;bt++){var an=Ee.getFloat32(st,!0);st+=4;var Yt=Ee.getFloat32(st,!0);st+=4,Pt.push(an,Yt)}ct.points=Pt,Se.add(ct),Ye.push(ct)}}this.upDisplayFromChage(Ye)},Re.prototype.deleteMemorySectionAndEntity=function(Ee){var Se=this.database.getMemSections(),Le=Se.get(Ee);if(!Le)return!1;var Ie=this.database.getDisplayBlockTable().getBlockRecord(Le.blockId);if(Ie==null)return Se.remove(Le.id),console.log("mx:blkrec null assert(0)"),!1;var st=Ie.getLayerTable().createLayerRecord(Le.layerId),Ye=this.mxObj.getScene();return st.deleteMemorySectionEntitys(Le.id,Ye),Se.remove(Le.id),!0},Re.prototype.OnMessageDisplayNotUseMemorySectionsForChage=function(Ee){for(var Se=new c.MxCADNetData(Ee).getMxCADNotUseMemorySectionsHeadForChage(),Le=Se.nCount,Ie=Se.nOffset,st=0;st<Le;st++){var Ye=Ee.getInt32(Ie,!0);Ie+=4,this.deleteMemorySectionAndEntity(Ye)}},Re);function Re(Ee){this.database=null,this.mxObj=null,this.database=Ee,this.mxObj=Ee.getMxObj()}r.MxCADSyncDisplay=De},{"../MxFun":34,"../MxManager":36,"../MxShader":40,"./MxCADNetData":23,three:19}],22:[function(e,t,r){var i,l=this&&this.__extends||(i=function(ae,ce){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,de){ue.__proto__=de}||function(ue,de){for(var A in de)Object.prototype.hasOwnProperty.call(de,A)&&(ue[A]=de[A])})(ae,ce)},function(ae,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function ue(){this.constructor=ae}i(ae,ce),ae.prototype=ce===null?Object.create(ce):(ue.prototype=ce.prototype,new ue)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADGripJig=r.MxCADGrip=r.MxCADGripData=void 0;var a=e("three"),c=e("../MxFun"),d=e("../MxThreeJS"),D=e("../Operate/MxJig"),v=e("../Operate/MxJigCmdManager"),C=e("../MxManager"),f=e("../MxDrawData"),w=function(){this.threeObject=null};r.MxCADGripData=w;var F=(T.prototype.getParentObject=function(){return this.mxObj.getTheTempDrawContainer()},T.prototype.removeAllEntity=function(){var ae=this.getParentObject();this.mapGrips.forEach(function(ce,ue,de){for(var A=ce.length,oe=0;oe<A;oe++){var le=ce[oe];c.MxFun.removeThreejsObject(le.threeObject,ae)}}),this.mapGrips=new Map},T.prototype.deleteGripData=function(ae){var ce=this.getParentObject(),ue=this.mapGrips.get(ae);if(ue)for(var de=ue.length,A=0;A<de;A++){var oe=ue[A];c.MxFun.removeThreejsObject(oe.threeObject,ce)}this.mapGrips.delete(ae)},T.prototype.deleteEntityData=function(ae){this.mapEntityData.delete(ae)},T.prototype.addGripData=function(ae,ce,ue,de){var A=this.mapGrips.get(ae);A==null&&(A=new Array,this.mapGrips.set(ae,A));var oe=new w;return oe.iIndex=ce,oe.point=new a.Vector3(ue,de,0),A.push(oe),oe},T.prototype.createGripDisplayObject=function(ae){var ce=this.getParentObject();ae.geometry=new a.Geometry;var ue=this.mxObj.screenCoordLong2Doc(f.MxDrawData.m_dGridWidth/2);ae.geometry.vertices.push(new a.Vector3(ae.point.x-ue,ae.point.y-ue,0)),ae.geometry.vertices.push(new a.Vector3(ae.point.x-ue,ae.point.y+ue,0)),ae.geometry.vertices.push(new a.Vector3(ae.point.x+ue,ae.point.y+ue,0)),ae.geometry.vertices.push(new a.Vector3(ae.point.x+ue,ae.point.y-ue,0)),ae.geometry.faces.push(new a.Face3(0,1,2)),ae.geometry.faces.push(new a.Face3(2,3,0)),ae.geometry.computeFaceNormals(),ae.geometry.computeVertexNormals();var de=new a.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:a.DoubleSide,opacity:.9}),A=new a.Mesh(ae.geometry,de);A.renderOrder=C.MxData.iGripRenderOrder,ce.add(A),ae.threeObject=A},T.prototype.clearAll=function(){return this.mapEntityData=new Map,this.mapGrips.size!=0&&(this.removeAllEntity(),!0)},T.prototype.addEntityData=function(ae,ce){this.mapEntityData.set(ae,ce)},T.prototype.onIntelliSelect=function(ae){for(var ce=JSON.parse(ae),ue=ce.vecEntityData.length,de=0;de<ue;de++){var A=ce.vecEntityData[de],oe=A.lIdIndex;this.addEntityData(oe,A.entity),this.deleteGripData(oe);for(var le=A.vecGrip.length,ie=0;ie<le;ie++){var I=A.vecGrip[ie],j=this.addGripData(oe,I.iIndex,I.ptx,I.pty);this.createGripDisplayObject(j)}}},T.prototype.onControlsChage=function(){if(this.mapGrips.size!=0){var ae=this.mxObj.screenCoordLong2Doc(8);this.mapGrips.forEach(function(ce,ue,de){for(var A=ce.length,oe=0;oe<A;oe++){var le=ce[oe];le.geometry.vertices.length==4&&(le.geometry.vertices[0].x=le.point.x-ae,le.geometry.vertices[0].y=le.point.y-ae,le.geometry.vertices[1].x=le.point.x-ae,le.geometry.vertices[1].y=le.point.y+ae,le.geometry.vertices[2].x=le.point.x+ae,le.geometry.vertices[2].y=le.point.y+ae,le.geometry.vertices[3].x=le.point.x+ae,le.geometry.vertices[3].y=le.point.y-ae,le.geometry.computeFaceNormals(),le.geometry.computeVertexNormals(),le.geometry.verticesNeedUpdate=!0)}})}},T.prototype.hitTest=function(ae){var ce={grips:new Array,ids:new Array,pt:ae},ue=new a.Vector3(ae.x,ae.y,0),de=this.mxObj.screenCoordLong2Doc(32);return this.mapGrips.forEach(function(A,oe){for(var le=A.length,ie=0;ie<le;ie++){var I=A[ie];if(I.point.distanceTo(ue)<=de){ce.grips.push(I),ce.ids.push(oe);break}}}),ce},T.prototype.onMouseLBDown=function(ae){var ce=this.hitTest(ae);return ce.grips.length!=0&&(c.MxFun.sendStringToExecute("Mx_GripEdit",ce),!0)},T.prototype.gripEditImp=function(ae){var ce=ae.grips,ue=ae.ids,de=ae.pt,A=new ee(de,ce,ue,this.mapEntityData);A.setDisableDynInput(!0),A.setDisableOsnap(!0),v.MxJigCmdManager.runCmd(A)},T);function T(ae){this.mxObj=null,this.mapGrips=new Map,this.mapEntityData=new Map,this.mxObj=ae}r.MxCADGrip=F;var R,ee=(l(re,R=D.McEdJigCommand),re.prototype.sampler=function(){var ae=v.MxJigCmdManager.InType.kGetBegan,ce=this.acquirePoint(ae);return ce.status==v.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=ce.pt),ce.status},re.prototype.getTypeName=function(){return"MxGripEdit"},re.prototype.done=function(ae){if(ae==v.MxJigCmdManager.DragStatus.kNormal){var ce=[];ce.push(this.currPt.x,this.currPt.y);for(var ue=this.getMxObject(),de=ue.getMxCAD().getGrip(),A=ue.getMxCAD().getSelect(),oe=this.grips.length,le=0;le<oe;le++){var ie=this.grips[le],I=this.ids[le];ce.push(I,ie.iIndex),de.deleteGripData(I),de.deleteEntityData(I),A.removeAllEntity()}ue.callCommand("MxCAD_GridEdit",JSON.stringify(ce),function(j){de.onIntelliSelect(j)})}return v.MxJigCmdManager.DoneStatius.kExitCommand},re.prototype.upDisplay_Line=function(ae,ce){var ue=new a.Vector3(ae.pt1x,ae.pt1y,0),de=new a.Vector3(ae.pt2x,ae.pt2y,0);if(ce.iIndex==0)ue.x=this.currPt.x,ue.y=this.currPt.y;else if(ce.iIndex==1)de.x=this.currPt.x,de.y=this.currPt.y;else if(ce.iIndex==2){var A=de.x+.5*(ue.x-de.x),oe=de.y+.5*(ue.y-de.y),le=this.currPt.x-A,ie=this.currPt.y-oe;ue.x+=le,ue.y+=ie,de.x+=le,de.y+=ie}var I=d.MxThreeJS.createLine(ue,de,16777215);this.drawEntity(I,31)},re.prototype.upDisplay=function(){for(var ae=this.grips.length,ce=0;ce<ae;ce++){var ue=this.grips[ce],de=this.ids[ce],A=this.mapEntityData.get(de);A&&A.name=="McDbLine"&&this.upDisplay_Line(A,ue)}},re);function re(ae,ce,ue,de){var A=R.call(this)||this;return A.pt=ae,A.grips=ce,A.ids=ue,A.currPt=ae,A.mapEntityData=de,A}r.MxCADGripJig=ee},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxThreeJS":44,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],23:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADNetData=void 0;var i=(l.prototype.getBlobHead=function(a){var c={};return c.type=this._dataView.getInt32(a,!0),a+=4,c.ver=this._dataView.getInt32(a,!0),a+=4,c.databaseIndex=this._dataView.getInt32(a,!0),a+=4,c.nOffset=a,c},l.prototype.getMxCADPointMemorySectionsHead=function(){var a=this.getBlobHead(0);return a.zeroLayerIdIndex=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datacount=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize!=a.nOffset&&console.log("mx: sectionshead size assert(0)"),a},l.prototype.getMxCADPointMemorySectionsHeadFromChange=function(){var a=this.getBlobHead(0);return a.zeroLayerIdIndex=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datacount=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize!=a.nOffset&&console.log("mx: sectionshead size assert(0)"),a},l.prototype.getMxCADPointMemorySectionHead=function(a){var c=this.getBlobHead(a);return a=c.nOffset,c.pointCount=this._dataView.getInt32(a,!0),a+=4,c.layerId=this._dataView.getInt32(a,!0),a+=4,c.blkId=this._dataView.getInt32(a,!0),a+=4,c.memColor=this._dataView.getInt32(a,!0),a+=4,c.memId=this._dataView.getInt32(a,!0),a+=4,c.memType=this._dataView.getInt32(a,!0),a+=4,c.offset=a,c},l.prototype.getMxCADPointMemorySectionHeadFromChange=function(a){var c=this.getBlobHead(a);return a=c.nOffset,c.pointCount=this._dataView.getInt32(a,!0),a+=4,c.layerId=this._dataView.getInt32(a,!0),a+=4,c.blkId=this._dataView.getInt32(a,!0),a+=4,c.memColor=this._dataView.getInt32(a,!0),a+=4,c.memId=this._dataView.getInt32(a,!0),a+=4,c.memType=this._dataView.getInt32(a,!0),a+=4,c.offset=a,c},l.prototype.getMxCADBlockRefsHead=function(){var a=this.getBlobHead(0);return a.nBlockRefCount=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize!=a.nOffset&&console.log("mx: sectionshead size assert(0)"),a},l.prototype.getMxCADNotUseMemorySectionsHeadForChage=function(){var a=this.getBlobHead(0);return a.nCount=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize!=a.nOffset&&console.log("mx: sectionshead size assert(0)"),a},l.prototype.getEntityDisplayDatasHead=function(){var a=this.getBlobHead(0);return a.nCount=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize=this._dataView.getInt32(a.nOffset,!0),a.nOffset+=4,a.datasize!=a.nOffset&&console.log("mx: sectionshead size assert(0)"),a},l.prototype.getEntityDisplayDataHead=function(a){var c=this.getBlobHead(a);return c.nCount=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.type=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.datasize=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.datasize!=c.nOffset-a&&console.log("mx: sectionshead size assert(0)"),c},l);function l(a){this._dataView=a}r.MxCADNetData=i},{}],24:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADObject=void 0;var i=e("./MxCADEditDisplay"),l=e("./MxCADOpenDisplay"),a=e("./MxCADSelect"),c=e("./MxCADGrip"),d=(D.prototype.reInit=function(){this.openDisplay.reInit(),this.databsae.reInit(),this.mxObj.reInit()},D.prototype.getSelect=function(){return this.select},D.prototype.getGrip=function(){return this.grip},D.prototype.newFile=function(){this.reInit(),this.openFile("")},D.prototype.undo=function(){this.mxObj.undo()},D.prototype.openFile=function(v,C){var f=this;this.reInit(),this._openFile=v,this.mxObj.callCommand("MxCAD_OpenFile",JSON.stringify({file:v}),function(w){f.mxObj.callCommand("MxCAD_SendDisplay"),typeof w!="string"||w.length<1?C&&C({}):C&&C(JSON.parse(w))})},D.prototype.saveFile=function(v,C){this.mxObj.callCommand("MxCAD_SaveFile",JSON.stringify({file:v}),function(f){C(JSON.parse(f))})},D.prototype.getDisplayFromServer=function(){this.reInit(),this.mxObj.callCommand("MxCAD_SendDisplay")},D.prototype.getFileName=function(){return this._openFile},D.prototype.getDatabase=function(){return this.databsae},D.prototype.getOpenDisplay=function(){return this.openDisplay},D.prototype.getSyncDisplay=function(){return this.syncDisplay},D.prototype.getAllLayerData=function(){return this.databsae.getLayerTable().getAllLayerData()},D);function D(v){this._openFile="",this.mxObj=null,this.databsae=null,this.openDisplay=null,this.syncDisplay=null,this.select=null,this.grip=null,this.mxObj=v,this.databsae=new i.MxCADDatabase(v),this.openDisplay=new l.MxCADOpenDisplay(this.databsae),this.syncDisplay=new i.MxCADSyncDisplay(this.databsae),this.select=new a.MxCADSelect(v),this.grip=new c.MxCADGrip(v)}r.MxCADObject=d},{"./MxCADEditDisplay":21,"./MxCADGrip":22,"./MxCADOpenDisplay":25,"./MxCADSelect":26}],25:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADOpenDisplay=void 0;var i=e("three"),l=e("./MxCADNetData"),a=e("./MxCADEditDisplay"),c=(d.prototype.createAllInstanceCall=function(D,v,C,f,w){if(!f.get(D.getId())){f.set(D.getId(),!0);var F=new a.MxCADDisplayBlockInstance;if(F.mat=new i.Matrix4,F.mat.copy(C),F.idBlkRef=v.id,F.mat.multiply(v.mat),v.clipPlans.clipPlanArray.length==0)F.clipPlans=w;else{F.clipPlans=v.clipPlans;for(var T=F.clipPlans.clipPlanArray.length,R=0;R<T;R++){var ee=new i.Vector3(F.clipPlans.clipPlanArray[R].x1,F.clipPlans.clipPlanArray[R].y1,0),re=new i.Vector3(F.clipPlans.clipPlanArray[R].x2,F.clipPlans.clipPlanArray[R].y2,0);ee.applyMatrix4(F.mat),re.applyMatrix4(F.mat),F.clipPlans.clipPlanArray[R].x1=ee.x,F.clipPlans.clipPlanArray[R].y1=ee.y,F.clipPlans.clipPlanArray[R].x2=re.x,F.clipPlans.clipPlanArray[R].y2=re.y}}D.addInstance(F);for(var ae=this.database.getDisplayBlockTable(),ce=D.getAllBlkRef().values(),ue=ce.next();!ue.done;){var de=ue.value;if(de.blkRecId!=0){var A=ae.getBlockRecord(de.blkRecId);A!=null&&(this.createAllInstanceCall(A,de,F.mat,f,F.clipPlans),ue=ce.next())}}f.set(D.getId(),!1)}},d.prototype.deleteAllInstance=function(){for(var D=this.database.getDisplayBlockTable().getAllBlockRecord().values(),v=D.next();!v.done;)v.value.deleteAllInstance(),v=D.next()},d.prototype.createAllInstance=function(){this.deleteAllInstance();var D=this.database.getDisplayBlockTable().getBlockRecord(0);if(D==null)return!1;var v=this.database.getDisplayRootBlockRef(),C=new i.Matrix4,f=new Map,w=new a.MxCADDisplayClipPlans;return this.createAllInstanceCall(D,v,C,f,w),this.isCreateInstance=!0},d.prototype.creteDisplayForMemData=function(D){var v=this.database.getDisplayBlockTable().getBlockRecord(D.blockId);if(v==null)return!1;var C=v.getLayerTable().createLayerRecord(D.layerId),f=this.database.getLayerTable().getColor(D.layerId),w=this.database.getLayerTable().isOff(D.layerId),F=this.mxObj.getScene(),T=v.getInstances_class(),R=T.aryInstanceNoClip,ee=T.mapInstanceClip;0<R.length&&a.MxCADDisplayFun.createThreejsObjForMemData(R,D,C,F,f,w);for(var re=ee.values(),ae=re.next();!ae.done;){var ce=ae.value;a.MxCADDisplayFun.createThreejsObjForMemData_Clip(ce,D,C,F,f,w,this.mxObj),ae=re.next()}},d.prototype.creteDisplayForNewData=function(){if(this.isCreateInstance||this.isGetDisplayBlockRef&&this.isGetLayerTable&&this.createAllInstance(),this.isCreateInstance){for(var D=this.vecNewCreateDisplayData.length,v=0;v<D;v++){var C=this.vecNewCreateDisplayData[v];this.creteDisplayForMemData(C)}this.vecNewCreateDisplayData=[]}},d.prototype.reInit=function(){this.isGetDisplayBlockRef=!1,this.isCreateInstance=!1,this.isGetLayerTable=!1,this.vecNewCreateDisplayData=[]},d.prototype.getMxOb=function(){return this.mxObj},d.prototype.OnMessageLayerData=function(D){var v=this.database.getLayerTable(),C=JSON.parse(D);if(C!=null){var f=C.list;for(var w in f)v.add(f[w].id,f[w].colorvalue,f[w].name,f[w].off==1),f[w].zerolayer==1&&v.setZeroLayerId(f[w].id)}this.isGetLayerTable=!0,this.creteDisplayForNewData()},d.prototype.OnMessageDisplayBlockRef=function(D){var v=this.database.getDisplayBlockTable();v.reInitData(),this.isCreateInstance=!1;for(var C=new l.MxCADNetData(D).getMxCADBlockRefsHead(),f=C.nBlockRefCount,w=C.nOffset,F=1,T=0;T<f;T++){var R=D.getInt32(w,!0);w+=4;var ee=D.getInt32(w,!0);w+=4;var re=D.getInt32(w,!0);w+=4;var ae=D.getInt32(w,!0);w+=4;var ce=D.getInt32(w,!0);w+=4;for(var ue=new Array,de=0;de<16;de++){var A=D.getFloat32(w,!0);w+=4,ue.push(A)}var oe=D.getInt32(w,!0);w+=4;var le=new a.MxCADDisplayClipPlans;le.id=F,F++,le.clipPlanArray=[];for(var ie=0;ie<oe;ie++){var I=D.getFloat32(w,!0);w+=4;var j=D.getFloat32(w,!0);w+=4;var pe=D.getFloat32(w,!0);w+=4;var be=D.getFloat32(w,!0);w+=4;var De=new a.MxCADDisplayClipPlan;De.x1=I,De.y1=j,De.x2=pe,De.y2=be,le.clipPlanArray.push(De)}var Re=new a.MxCADDisplayBlockRef;Re.mat=new i.Matrix4,Re.mat.fromArray(ue),Re.blkRecId=ae,Re.blkOwnerId=ee,Re.layerId=re,Re.color=ce,Re.clipPlans=le,Re.id=R,v.crateBlockRecord(ae),v.crateBlockRecord(ee);var Ee=v.getBlockRecord(ee);Ee?Ee.addBlkRef(Re):console.log("ownerBlkRec == null,assert(0)")}this.isGetDisplayBlockRef=!0,this.creteDisplayForNewData()},d.prototype.OnMessageDisplayMemorySections=function(D){for(var v=this.database.getMemSections(),C=new l.MxCADNetData(D),f=C.getMxCADPointMemorySectionsHead(),w=f.nOffset,F=0;F<f.datacount;F++){var T=C.getMxCADPointMemorySectionHead(w);w=T.offset;var R=new a.MxCADDisplayMemorySection;R.layerId=T.layerId,R.blockId=T.blkId,R.id=T.memId,R.color=T.memColor,R.type=T.memType;var ee=T.pointCount;if(!(ee<1)){for(var re=[],ae=0;ae<ee;ae++){var ce=D.getFloat32(w,!0);w+=4;var ue=D.getFloat32(w,!0);w+=4,re.push(ce,ue)}R.points=re,v.add(R),this.vecNewCreateDisplayData.push(R)}}this.creteDisplayForNewData()},d);function d(D){this.database=null,this.isGetDisplayBlockRef=!1,this.isCreateInstance=!1,this.isGetLayerTable=!1,this.vecNewCreateDisplayData=[],this.mxObj=null,this.database=D,this.mxObj=D.getMxObj()}r.MxCADOpenDisplay=c},{"./MxCADEditDisplay":21,"./MxCADNetData":23,three:19}],26:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADSelect=r.MxCADSelectDisplayEntityData=r.MxCADSelectDisplayEntityDataType=void 0;var i,l,a=e("three"),c=e("../MxFun"),d=e("three.meshline"),D=e("./MxCADNetData"),v=e("../MxManager");(l=i=r.MxCADSelectDisplayEntityDataType||(r.MxCADSelectDisplayEntityDataType={}))[l.kLinesType=1]="kLinesType",l[l.kTriangleType=2]="kTriangleType";var C=function(){this.type=i.kLinesType,this.points=[]};r.MxCADSelectDisplayEntityData=C;var f=(w.prototype.getParentObject=function(){return this.mxObj.getScene()},w.prototype.removeAllEntity=function(){for(var F=this.getParentObject(),T=this.aryThreeObject.length,R=0;R<T;R++)c.MxFun.removeThreejsObject(this.aryThreeObject[R],F);this.aryThreeObject=[]},w.prototype.clearAllSelect=function(F){return F===void 0&&(F=!0),F&&this.mxObj.callCommand("MxCAD_ClearSelect"),this.aryThreeObject.length!=0&&(this.removeAllEntity(),!0)},w.prototype.OnMessageEntityDisplayDatas=function(F){for(var T=new D.MxCADNetData(F),R=T.getEntityDisplayDatasHead(),ee=R.nOffset,re=[],ae=0;ae<R.nCount;ae++){var ce=T.getEntityDisplayDataHead(ee);ee=ce.nOffset,(De=new C).type=ce.type;var ue=ce.nCount;if(!(ue<1)){for(var de=[],A=0;A<ue;A+=2){var oe=F.getFloat32(ee,!0);ee+=4;var le=F.getFloat32(ee,!0);ee+=4,de.push(oe,le)}De.points=de,re.push(De)}}var ie=this.mxObj.getViewWidth(),I=this.mxObj.getViewHeight();this.material.resolution=new a.Vector2(ie,I);for(var j=re.length,pe=this.getParentObject(),be=0;be<j;be++){var De;if((De=re[be]).type==i.kLinesType)for(var Re=De.points.length,Ee=0;Ee+3<Re;Ee+=4){var Se=new Float32Array(6);Se[0]=De.points[Ee],Se[1]=De.points[Ee+1],Se[2]=0,Se[3]=De.points[Ee+2],Se[4]=De.points[Ee+3],Se[5]=0;var Le=new d.MeshLine;Le.setGeometry(Se);var Ie=new a.Mesh(Le.geometry,this.material);Ie.renderOrder=v.MxData.iSelectRenderOrder,pe.add(Ie),this.aryThreeObject.push(Ie)}else if(De.type==i.kTriangleType){Re=De.points.length;var st=new a.Geometry,Ye=0;for(Ee=0;Ee+5<Re;Ee+=6){var Ke=new a.Vector3(De.points[Ee],De.points[Ee+1],0),St=new a.Vector3(De.points[Ee+2],De.points[Ee+3],0),ct=new a.Vector3(De.points[Ee+4],De.points[Ee+5],0);st.vertices.push(Ke),st.vertices.push(St),st.vertices.push(ct);var Ct=new a.Face3(Ye,Ye+1,Ye+2);st.faces.push(Ct),Ye+=3}var Pt=new a.Mesh(st,this.materialFill);Pt.renderOrder=v.MxData.iSelectRenderOrder,pe.add(Pt),this.aryThreeObject.push(Pt)}}},w);function w(F){this.aryThreeObject=[],this.mxObj=null,this.material=new d.MeshLineMaterial({useMap:!1,color:new a.Color(2641557),opacity:1,resolution:new a.Vector2(500,500),sizeAttenuation:!1,lineWidth:10,transparent:!0,depthTest:!1}),this.materialFill=new a.MeshBasicMaterial({color:new a.Color(2641557),opacity:.8,side:a.DoubleSide,transparent:!0,depthTest:!1}),this.mxObj=F}r.MxCADSelect=f},{"../MxFun":34,"../MxManager":36,"./MxCADNetData":23,three:19,"three.meshline":18}],27:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCadSketchLayers=r.MxCadSketchLayer=void 0;var i=(l.prototype.addEntity=function(d){this._setEntityId.add(d)},l.prototype.getId=function(){return this.id},l.prototype.setId=function(d){this.id=d},l.prototype.removeEntity=function(d){this._setEntityId.delete(d)},l.prototype.show=function(d){var D=this;this._setEntityId.forEach(function(v){var C=D._mxobj.getEntity(v);if(C!=null)for(var f=0,w=C.length;f<w;f++)C[f].visible=d})},l);function l(d){this._setEntityId=new Set,this.id=0,this._mxobj=null,this._mxobj=d}r.MxCadSketchLayer=i;var a=(c.prototype.getLayer=function(d,D){var v=this._mapId2Layers.get(d);return v==null&&((v=new i(this._mxobj)).setId(d),this._mapId2Layers.set(d,v)),v},c.prototype.addEntity=function(d,D){this.getLayer(D).addEntity(d)},c.prototype.removeEntity=function(d){this._mapId2Layers.forEach(function(D){D.removeEntity(d)})},c.prototype.removeAllEntity=function(){this._mapId2Layers.clear()},c);function c(d){this._mxobj=null,this._mapId2Layers=new Map,this._mxobj=d}r.MxCadSketchLayers=a},{}],28:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawCommands=void 0;var i=e("./MxFun"),l=e("./MxType"),a=e("./Operate/MxIntelliSelect"),c=e("./Operate/MxJigCmdManager"),d=e("./MxWindowsEvent"),D=e("./MxDrawData");function v(T){if(T!=null&&T.pt1!=null){var R=new a.MxIntelliSelectJig(T.pt1,!1);R.setDisableDynInput(!0),R.setDisableOsnap(!0);var ee=T.pt1,re=i.MxFun.getCurrentMx();if(!D.MxDrawData.m_isMultipleSelect){var ae=re.getMxCAD();ae.getSelect().clearAllSelect(),ae.getGrip().clearAll(),re.getMcObject().isValid()&&re.getMcObject().getGripManager().clearAll()}R.doPointSelect(i.MxFun.getCurrentMx(),T.pt1,function(ce){if(JSON.parse(ce).lCount!=0&&(re.getMxCAD().getGrip().onIntelliSelect(ce),D.MxDrawData.m_isMultipleSelect)){var ue=d.MxWindowsEvent.getCurrentMousePostion();if(re.screenCoord2Doc(ue.x,ue.y,0).distanceTo(ee)<re.screenCoordLong2Doc(10)){var de=c.MxJigCmdManager.getCurCmd();de&&de.getTypeName()=="MxIntelliSelect"&&c.MxJigCmdManager.stopCmd()}}}),D.MxDrawData.m_isMultipleSelect&&c.MxJigCmdManager.runCmd(R)}}function C(T){T!=null&&T.grips!=null&&T.ids!=null&&i.MxFun.getCurrentMx().getMxCAD().getGrip().gripEditImp(T)}function f(T){T!=null&&T.grips!=null&&T.ids!=null&&i.MxFun.getCurrentMx().getMcObject().getGripManager().gripEditImp(T)}function w(T){if(T!=null&&T.pt!=null){var R=i.MxFun.getCurrentMx(),ee=T.pt;if(!R.getMxDatabase().getGripManager().doPointSelect(ee)){var re=!0;if(R.isValidMcObject()&&R.getMcObject().getGripManager().doPointSelect(ee)&&(re=!1),re&&D.MxDrawData.m_isMultipleSelect){var ae=R.screenCoord2Doc(ee.x,ee.y,0),ce=new a.MxIntelliSelectJig(ae,!0);ce.setDisableDynInput(!0),ce.setDisableOsnap(!0),c.MxJigCmdManager.runCmd(ce)}}}}function F(T){T!=null&&T.grips!=null&&T.ents!=null&&i.MxFun.getCurrentMx().getMxDatabase().getGripManager().gripEditImp(T)}(r.MxDrawCommands||(r.MxDrawCommands={})).registerCommand=function(){i.MxFun.addCommand("Mx_IntelliSel",v,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),i.MxFun.addCommand("Mx_GripEdit",C,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),i.MxFun.addCommand("McDraw_GripEdit",f,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),i.MxFun.addCommand("Mx_FrontEndWebpageIntelliSel",w,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),i.MxFun.addCommand("Mx_FrontEndWebpageGripEdit",F,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT)}},{"./MxDrawData":29,"./MxFun":34,"./MxType":46,"./MxWindowsEvent":48,"./Operate/MxIntelliSelect":56,"./Operate/MxJigCmdManager":58}],29:[function(e,t,r){var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawData=void 0,(i=r.MxDrawData||(r.MxDrawData={})).m_isEnableIntelliSelect=!1,i.m_isEnableGripEidt=!0,i.m_isMultipleSelect=!0,i.m_isAutoResetRenderer=!1,i.m_isCorrectLargeCoordinates=!1,i.m_isRequestHeaderCacheControl=!1,i.m_dGridWidth=16,i.getCursorWidthPixels=function(){return 16},i.setIniset=function(l){l.EnableIntelliSelect!==void 0&&typeof l.EnableIntelliSelect=="boolean"&&(i.m_isEnableIntelliSelect=l.EnableIntelliSelect),l.EnableGripEidt!==void 0&&typeof l.EnableGripEidt=="boolean"&&(i.m_isEnableGripEidt=l.EnableGripEidt),l.multipleSelect!==void 0&&typeof l.multipleSelect=="boolean"&&(i.m_isMultipleSelect=l.multipleSelect),l.autoResetRenderer!==void 0&&typeof l.autoResetRenderer=="boolean"&&(i.m_isAutoResetRenderer=l.autoResetRenderer),l.correctLargeCoordinates!==void 0&&typeof l.autoResetRenderer=="boolean"&&(i.m_isCorrectLargeCoordinates=l.correctLargeCoordinates),l.requestHeaderCacheControl!==void 0&&typeof l.requestHeaderCacheControl=="boolean"&&(i.m_isRequestHeaderCacheControl=l.requestHeaderCacheControl)}},{}],30:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject=r.IniSetName=r.MxRunMode=void 0;var i,l,a,c=e("three"),d=e("./MxFun"),D=e("./MxCAD/MxCadSketchLayer"),v=e("./View/MxBrowseLayerData"),C=e("./View/MxBrowseDisplay"),f=e("./MxNetData"),w=e("./MxNetData"),F=e("./MxSelect"),T=e("./MxManager"),R=e("./MxSystemVariable"),ee=e("./MxCAD/MxCADObject"),re=e("./MxLocalFileLoad"),ae=e("./Operate/MxDrawObjectOsnap"),ce=e("./View/MxDbDatabase"),ue=e("./View/MxDrawMapBox"),de=e("./MxDrawObjectEvent"),A=e("./View/MxDbEntityGrip"),oe=e("./cpp/McDrawObject");(l=i=r.MxRunMode||(r.MxRunMode={}))[l.kBrowse=1]="kBrowse",l[l.kMxCAD=2]="kMxCAD",l[l.kMxCADBrowseApp=3]="kMxCADBrowseApp",l[l.kCPPMxCAD=4]="kCPPMxCAD",(a=r.IniSetName||(r.IniSetName={})).kEnableOsnapFunction="EnableOsnapFunction";var le=(ie.prototype.getMcObject=function(){return this.mcObject},ie.prototype.isValidMcObject=function(){return this.mcObject.isValid()},ie.prototype.getId=function(){return this.id},ie.prototype.getEventManager=function(){return this.eventManager},ie.prototype.setCurrentLoadUrl=function(I){this._sCurrentLoadURL=I},ie.prototype.getCurrentLoadUrl=function(){return this._sCurrentLoadURL},ie.prototype.isWebgl2=function(){return!(!this._rendererParam||this._rendererParam.retver!="webgl2")},ie.prototype.getMxDatabase=function(){return this.m_mxDatabase},ie.prototype.updateCanvasSize=function(){this._onResizeFun&&this._onResizeFun()},ie.prototype.mapBoxRender=function(I,j){this.camera.projectionMatrix=j,this.renderer.state.reset(),this.renderer.render(this.scene,this.camera)},ie.prototype.mapBoxInitThreeJSObject=function(I,j,pe){this.scene=I,this.camera=j,this.renderer=pe},ie.prototype.addMxEntity=function(I){return this.m_mxDatabase.addMxEntity(I)},ie.prototype.getMxEntity=function(I){return this.m_mxDatabase.getEntity(I)},ie.prototype.getMxEntityUserObject=function(I){var j=this.getMxEntity(I);return j?j.getUserObject():null},ie.prototype.eraseAllMxEntity=function(){this.m_mxDatabase.eraseAllEntity()},ie.prototype.eraseMxEntity=function(I){var j=this.m_mxDatabase.getEntity(I);return!!j&&j.erase()},ie.prototype.getAllMxEntity=function(){var I=[];return this.m_mxDatabase.getAllEntity().forEach(function(j){j&&I.push(j.getUserObject())}),I},ie.prototype.getMxAllSelect=function(){var I=this.m_mxDatabase.getSelectManager().getAllSelect(),j=this.m_mxDatabase.getGripManager().getAllSelect(),pe=new Set;return I.forEach(function(be){pe.add(be)}),j.forEach(function(be){pe.has(be)||I.push(be)}),I},ie.prototype.getPrvCommandSelect=function(){return this.m_mxDatabase.getSelectManager().getPrvCommandSelect()},ie.prototype.addMxCurrentSelect=function(I){this.m_mxDatabase.getGripManager().addSelect(I)},ie.prototype.clearMxCurrentSelect=function(){var I=this.m_mxDatabase.clearMxCurrentSelect();if(this._mxCAD){var j=this._mxCAD.getSelect().clearAllSelect(),pe=this._mxCAD.getGrip().clearAll();(j||pe)&&(I=!0)}return this.mcObject.isValid()&&this.mcObject.getGripManager().clearAll(),I},ie.prototype.addViewObject=function(I){this.secenView?this.threejsselectObjectsView.add(I):console.log("this.secenView is null")},ie.prototype.removeViewObject=function(I){d.MxFun.removeThreejsObject(I,this.threejsselectObjectsView)},ie.prototype.setOtherRefFile=function(I){this._tzDwgStaticFile=I},ie.prototype.setRequestHeader=function(I){this._requestHeader=I},ie.prototype.initZoomW=function(I,j){this._initZoomwCoordPt1=I.clone(),this._initZoomWCoordPt2=j.clone()},ie.prototype.getMxCAD=function(){return this._mxCAD},ie.prototype.setMouseRightRotate=function(I){this._mouseRightRotate=I,this.controls!=null&&(this.controls.mouseButtons.RIGHT=I?c.MOUSE.ROTATE:c.MOUSE.PAN)},ie.prototype.setZoomSpeed=function(I){var j=this.controls.zoomSpeed;return this.controls.zoomSpeed=I,j},ie.prototype.resetRenderer=function(){this.renderer.info.reset()},ie.prototype.setMouseMiddlePan=function(I){this._isMouseMiddlePan=typeof I=="boolean"?I?1:0:I,this.controls!=null&&(this._isMouseMiddlePan==1?(this.controls.mouseButtons.LEFT=-1,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN):this._isMouseMiddlePan==2?(this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN):(this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this._mouseRightRotate?this.controls.mouseButtons.RIGHT=c.MOUSE.ROTATE:this.controls.mouseButtons.RIGHT=c.MOUSE.PAN,this.controls.mouseButtons.MIDDLE=1))},ie.prototype.resetThreeJSControls=function(){this.controls&&(this.controls.saveState(),this.controls.reset())},ie.prototype.enableZoom=function(I){this.controls!=null&&(this.controls.enableZoom=I)},ie.prototype.enablePan=function(I){this.controls!=null&&(this.controls.enablePan=I)},ie.prototype.getOrbitControls=function(){return this.controls},ie.prototype.enableViewControls=function(I){this.controls.enabled=I},ie.prototype.initRunMode=function(I){this._isCreate?console.log("iniRunMode failed,mxobject already created"):this._runMode=I},ie.prototype.getRunMode=function(){return this._runMode},ie.prototype.setStaticLocalLoad=function(I){this._isStaticLocalLoad=I},ie.prototype.isStaticLocalLoad=function(){return this._isStaticLocalLoad},ie.prototype.setStaticLocalLoadPath=function(I){this._staticLocalLoadPath=I},ie.prototype.addEvent=function(I,j){if(this._event[I])if(this._event[I]instanceof Array)this._event[I].includes(j)||this._event[I].push(j);else{var pe=this._event[I];if(pe==j)return;this._event[I]=[],this._event[I].push(pe),this._event[I].push(j)}else this._event[I]=j},ie.prototype.addControlsEvent=function(I,j,pe){return pe===void 0&&(pe=!1),this.eventManager.addEventListener(I,j,pe)},ie.prototype.removeEvent=function(I){this._event[I]=void 0},ie.prototype.removeEventFuction=function(I,j){if(this._event[I]){if(this._event[I]instanceof Array){var pe=this._event[I].indexOf(j);if(pe!=-1)return this._event[I].splice(pe,1),this._event[I].length==0&&(this._event[I]=void 0),!0}else if(this._event[I]==j)return!(this._event[I]=void 0)}return!1},ie.prototype.sysVariable=function(){return this.m_sysVariable},ie.prototype.setIniset=function(I){this.m_iniSet=I},ie.prototype.getInisetValue=function(I){return this.m_iniSet[I]},ie.prototype.getViewColor=function(){return this._viewcolor},ie.prototype.isWhiteViewColor=function(){return this._viewcolor==16777215},ie.prototype.initUserLoginData=function(I,j){this._userIdentitySign=I,this._userRandomToken=j},ie.prototype.initRendererParam=function(I){this._rendererParam=I},ie.prototype.automaticInversionColor=function(I){return this._viewcolor!=16777215||I!=16777215?I:0},ie.prototype.automaticInversionColor2=function(I){return this._viewcolor==16777215&&(16777215&I)==16777215?4278190080&I:I},ie.prototype.setViewColor=function(I){this._viewcolor=I,this.scene!=null&&(this.scene.background=new c.Color(I))},ie.prototype.getViewAngle=function(){return this._viewangle},ie.prototype.callInitCompleteEvent=function(){this.callEvent("loadComplete")},ie.prototype.callInitObjectEvent=function(){this.callEvent("initObject")},ie.prototype.callInitSceneEvent=function(I,j,pe){var be=this._event.initScene;if(!be)return 0;if(be instanceof Array){var De=0;return be.forEach(function(Re){De=Re(I,j,pe)}),De}return be(I,j,pe)},ie.prototype.callOpenFileComplete=function(I,j){j===void 0&&(j=0);var pe=this._event.openFileComplete;pe&&(pe instanceof Array?pe.forEach(function(be){be(I,j)}):pe(I,j))},ie.prototype.callSaveFileComplete=function(I,j){var pe=this._event.saveFileComplete;pe&&(pe instanceof Array?pe.forEach(function(be){be(j,I)}):pe(j,I))},ie.prototype.hasEvent=function(I){return this._event[I]!=null},ie.prototype.callEvent=function(I,j){var pe=this._event[I];if(!pe)return!1;if(pe instanceof Array){var be=!1;return pe.forEach(function(De){be=De(j)}),be}return pe(j)},ie.prototype.userLoginResult=function(I){this.callEvent("userLoginResult",I)},ie.prototype.serverReturn=function(I){var j=JSON.parse(I);this.callEvent("serverReturn",j)},ie.prototype.openFileResult=function(I){JSON.parse(I).linkServer||console.log("link mx serverobj error"),this.callEvent("openFileResult",I)},ie.prototype.xzSize=function(I){var j=this._devicePixelRatio;if(j-1<=1e-4&&-1e-4<=j-1)return I;for(var pe=9999999,be=I,De=0,Re=I;De<100;De++){if((Se=(Ee=Re*j)-Math.floor(Ee))<=.001)return Re;Se<pe&&(pe=Se,be=Re),Re+=1}for(Re=I;De<100;De++){var Ee,Se;if((Se=(Ee=Re*j)-Math.floor(Ee))<=.001)return Re;Se<pe&&(pe=Se,be=Re),--Re}return be},ie.prototype.setSize=function(I,j){this._viewWidth=I,this._viewHeight=j,this._userCanvas!=null&&(this._userCanvas.width=I,this._userCanvas.height=j,this._userCanvas.style.width=I+"px",this._userCanvas.style.height=j+"px"),this.onResizeImp(),this.updateDisplay()},ie.prototype.getCurrentColor=function(){return this._color},ie.prototype.setCurrentColor=function(I){this._color=I},ie.prototype.getSelect=function(){return this._select},ie.prototype.call=function(I,j,pe){this._net.getSend().CallServerJS(I,j,pe)},ie.prototype.zoomAll=function(){this._is2d&&this.call("getDatabaseBoundHelp",'{"isBackground":1}',function(I){if(I.length!=0){var j=JSON.parse(I);this.zoomW(new c.Vector3(j[0],j[1],0),new c.Vector3(j[2],j[3],0))}})},ie.prototype.tempDisableSelect=function(I){this._select.tmpDisable=I},ie.prototype.getViewCenterDocCoord=function(){return this._userCanvas!=null?this.screenCoord2Doc(.5*this._userCanvas.clientWidth,.5*this._userCanvas.clientHeight,0):this.screenCoord2Doc(.5*this._viewWidth,.5*this._viewHeight,0)},ie.prototype.closeWebSocket=function(){this._net.closeWebSocket()},ie.prototype.findMxEntityAtPoint=function(I,j,pe){!j&&j!==void 0||(I=this.docCoord2Screen(I.x,I.y,0));var be=[],De=this.m_mxDatabase.getIntersectObjects(I);if(De.length==0)return be;var Re=new Map;return De.forEach(function(Ee){var Se=(0,A.MxGetMxDbEntitForThreeJsObject)(Ee.object);if(Se){var Le=Se.objectId();if(!Re.has(Le)){if(pe){var Ie=(0,A.MxGetWordDrawxDataForThreeJsObject)(Ee.object);Ie&&pe(Le,Ie)}Re.set(Le,Se.getUserObject())}}}),Re.forEach(function(Ee){be.push(Ee)}),be},ie.prototype.isMxCAD=function(){return this._runMode==i.kMxCAD},ie.prototype.onLoad=function(I){if(this._runMode==i.kCPPMxCAD)this.callInitCompleteEvent();else if(this._isStaticLocalLoad)this._net=new w.MxNet,this._net.init(this,!1),0<this._openFile.length&&(this._staticLocalNet=new re.MxLocalDwgFileLoad(this._net),this._staticLocalNet.load(encodeURIComponent(this._staticLocalLoadPath),encodeURIComponent(this._openFile)));else{this._net=new w.MxNet;var j=!0;if(this._runMode==i.kMxCAD?j=!0:(j=!d.MxFun.isStaticLoad(),this._is2d||(j=!0)),this._openFile.substring(this._openFile.lastIndexOf(".")+1).toLowerCase()=="wgh"&&(j=!1),0<this._staticLoadingOpenFiles.length&&(j=!1),this._net.init(this,j),!j&&(this._staticNet=new w.MxHFileLoad(this._net),this._staticNet.setRequestHeader(this._requestHeader),this._staticNet.setUrlParam(I),this._staticNet.load(this._openFile,this._staticLoadingOpenFiles),this._tzDwgStaticFile&&0<this._tzDwgStaticFile.length)){var pe=new w.MxNet;pe.init(this,!1),this._extRefManager.createTzDwgExternalReferences(99999),pe.setCurrentDatabaseId(99999),this._staticLoadTzNet=new w.MxHFileLoad(pe),this._staticLoadTzNet.setShowloading(!1),this._staticLoadTzNet.setRequestHeader(this._requestHeader),this._staticLoadTzNet.load(this._tzDwgStaticFile,[])}}},ie.prototype.stopAllLoading=function(){this._staticNet&&this._staticNet.stopAllLoading()},ie.prototype.getStaticNet=function(){return this._staticNet},ie.prototype.isStaticFileNet=function(){return!this._isStaticLocalLoad&&this._staticNet!=null},ie.prototype.getStaticLocalNet=function(){return this._staticLocalNet},ie.prototype.getStaticLoadTzNet=function(){return this._staticLoadTzNet},ie.prototype.getViewWidth=function(){return this._userCanvas!=null?this._userCanvas.clientWidth:this._viewWidth},ie.prototype.getViewHeight=function(){return this._userCanvas!=null?this._userCanvas.clientHeight:this._viewHeight},ie.prototype.makeCurrent=function(){T.MxManager.setCurrentMx(this)},ie.prototype.createCanvasImageData=function(I,j){var pe=this,be=0,De=0,Re=!1;j&&j.width&&j.height&&(be=this.getViewWidth(),De=this.getViewHeight(),Re=!0,this.setSize(j.width,j.height)),this._callCreateCanvasImageData=function(Ee){Re&&pe.setSize(be,De),I(Ee)},this.updateDisplay()},ie.prototype.getIntersectObjects=function(I){var j=new c.Raycaster;j.linePrecision=this.screenCoordLong2Doc(4);var pe=this.getCanvas(),be=pe.clientWidth,De=pe.clientHeight;return I=new c.Vector2(I.x/be*2-1,-I.y/De*2+1),j.setFromCamera(I,this.camera),j.intersectObjects(this.threejsselectObjects.children,!0)},ie.prototype.addObject=function(I){this.threejsselectObjects.add(I)},ie.prototype.removeAllSelectObject=function(){for(;this.threejsselectObjects.children.length;)this.threejsselectObjects.remove(this.threejsselectObjects.children[0])},ie.prototype.removeObject=function(I){this.threejsselectObjects.remove(I)},ie.prototype.render=function(){this.secenView?(this.mcObject.updateDisplay()?(this.renderer.autoClear=!1,this.renderer.state.reset()):this.renderer.autoClear=!0,this.renderer.render(this.secenView,this.cameraView),this.renderer.autoClear=!1):this.mcObject.updateDisplay()?(this.renderer.autoClear=!1,this.renderer.state.reset()):this.renderer.autoClear=!0,this.renderer.render(this.scene,this.camera),this._callCreateCanvasImageData!=null&&(this._callCreateCanvasImageData(this.renderer.domElement.toDataURL("image/png")),this._callCreateCanvasImageData=void 0),this.callEvent("render",this.renderer)},ie.prototype.updateDisplay=function(I){I===void 0&&(I=!1),this.mxdrawThreeJS.updateDisplay(I)},ie.prototype.updateDisplayImplement=function(I){function j(){pe.m_mxDatabase.upDirtyDisplay(),pe._isAnimation?(pe._isAnimationStarting=!0,requestAnimationFrame(this.needRander)):pe._isWaiteCount=0,pe.render()}I===void 0&&(I=!1);var pe=this;I!==!0?this._isAnimationStarting||(this._isAnimation?requestAnimationFrame(j):((5<this._isWaiteCount||this._isWaiteCount<0)&&(this._isWaiteCount=0),this._isWaiteCount<=0&&requestAnimationFrame(j),this._isWaiteCount++)):j()},ie.prototype.gotoLayoutOld=function(I){I=="Modle"&&(I="");var j=this._openFile;for(var pe in this._iniParam)(Ee=(Re=this._iniParam[pe])[0])=="srcname"&&(j=Re[1]);var be={},De="";for(var pe in this._iniParam){var Re,Ee;if(be[Ee=(Re=this._iniParam[pe])[0]]==null){be[Ee]=!0;var Se=Re[1];if(Ee=="file"){if(Se=j,0<I.length){var Le=Se.substring(Se.lastIndexOf(".")+1);Se=Se.substring(0,Se.lastIndexOf("."))+"%23"+I+"%23."+Le}}else if(Ee=="srcname")continue;De.length==0?De=Ee+"="+Se+"&srcname="+j:De+="&"+Ee+"="+Se}}var Ie=d.MxFun.getLocationPageUrl()+"?"+De;window.location.href=Ie},ie.prototype.gotoLayout=function(I){var j=!1,pe=!this.isStaticFileNet();for(var be in this._iniParam)if((Ie=this._iniParam[be])[0]=="dwgdir"){j=!0;break}if(j||pe)this.gotoLayoutOld(I);else{I=="Model"&&(I="");var De=this._openFile;if(!De)return;var Re=De.lastIndexOf(".dwg");if(Re===void 0||Re===-1)return;if((De=De.substring(0,Re))[De.length-1]=="#"){var Ee=De.substring(0,De.length-1),Se=Ee.lastIndexOf("#");Se!==void 0&&Se!==-1&&(De=Ee.substring(0,Se))}0<I.length?De=De+"#"+I+"#.dwg.mxb1.wgh":De+=".dwg.mxb1.wgh";var Le={};for(var be in this._iniParam){var Ie,st=(Ie=this._iniParam[be])[0];if(Le[st]==null){Le[st]=!0;var Ye=Ie[1];st!="file"&&st!="srcname"&&(De+="&"+st+"="+Ye)}}var Ke=d.MxFun.getLocationPageUrl()+"?file="+De;window.location.href=encodeURI(Ke)}},ie.prototype.addInitParam=function(I,j){var pe=new Array;pe.push(I),pe.push(j),this._iniParam.push(pe)},ie.prototype.openFile=function(I,j){if(j===void 0&&(j=""),!this._isCreate)return console.log("mx: openFile Fialed mxasser(_isCreate == false)"),!1;if(this.stopAllLoading(),I.length==0)return!1;this.reInit(),this._devicePixelRatio=window.devicePixelRatio,I instanceof Array?(this._openFile=I[0],this._staticLoadingOpenFiles=I):this._openFile=I,this._openFileExtName=this._openFile.substring(this._openFile.lastIndexOf(".")+1),this._iniParam=[],this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null;var pe=new Array;return pe.push("file"),pe.push(this._openFile),this._iniParam.push(pe),this.onLoad(j),!0},ie.prototype.updateCameraDisplayRange=function(I,j,pe){this.mxdrawThreeJS.updateCameraDisplayRange(I,j,pe)},ie.prototype.newFile=function(I,j,pe,be){if(!this._isCreate)return console.log("mx: openFile Fialed mxasser(_isCreate == false)"),!1;var De,Re;if(Re=I instanceof Object&&j instanceof Object?(De=I,j):(De=new c.Vector3(I,j,0),new c.Vector3(pe,be,0)),De.x>Re.x){var Ee=De.x;De.x=Re.x,Re.x=Ee}if(De.y>Re.y){var Se=De.y;De.y=Re.y,Re.y=Se}this.reInit(),this._devicePixelRatio=window.devicePixelRatio,this._openFile="",this._openFileExtName="dwg",this._iniParam=[],this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null;var Le=new c.Matrix4;Le.identity(),this.intiDoc2Wold(Le),this.mxdrawThreeJS.updateCameraDisplayRange(De,Re,0),this.updateDisplay(!0);var Ie=d.MxFun.getUiObj();Ie!=null&&(Ie.SetLayoutData(this._allLayoutName),Ie.UpDisplayLayout())},ie.prototype.calcViewsize=function(){if(this._userCanvas==null)return{viewWidth:window.innerWidth,viewHeight:window.innerHeight};var I=this._userCanvas.clientWidth,j=this._userCanvas.clientHeight;if(this._event.onResize!=null){var pe=this._event.onResize;pe instanceof Array&&(pe=pe[0]);var be=pe();be!=null&&(I=parseInt(be.width),j=parseInt(be.height))}return{viewWidth:I,viewHeight:j}},ie.prototype.initMxCpp=function(I){I&&I.getImp()?(this.mcObject.init(this,I),this.secenView!=null?this.secenView.background=null:this.scene.background=null):console.log("mxerror: mcppObjectImp is null")},ie.prototype.create=function(I,j,pe,be){if(this._is2d?be?(this.mxdrawThreeJS=new ue.MxDrawMapBoxThreeJS(be,this),this._viewcolor=16777215):this.mxdrawThreeJS=new ue.MxDrawObject2dThreeJS(this):this.mxdrawThreeJS=new ue.MxDrawObject3dThreeJS(this),this._callCreateCanvasImageData=void 0,this._devicePixelRatio=window.devicePixelRatio,this._runMode==i.kCPPMxCAD)this._mxCAD=null,this._openFile="";else{if(j instanceof Array?(this._openFile=j[0],this._staticLoadingOpenFiles=j):this._openFile=j,this._iniParam=d.MxFun.getUrlParams(),this._openFileExtName=this._openFile.substring(this._openFile.lastIndexOf(".")+1),this._openFile!=""&&this._runMode!=i.kMxCAD&&this._runMode!=i.kMxCADBrowseApp){var De=new Array;De.push("file"),De.push(this._openFile),this._iniParam.push(De)}this._userIdentitySign!=""&&(this.addInitParam("userIdentitySign",this._userIdentitySign),this.addInitParam("userRandomToken",this._userRandomToken)),this.addInitParam("runMode",this._runMode==i.kMxCAD||this._runMode==i.kMxCADBrowseApp?"mxcad":"browse"),this._runMode==i.kMxCAD||this._runMode==i.kMxCADBrowseApp?(this._openFile=="empty"&&(this._openFile=""),this._mxCAD=new ee.MxCADObject(this)):this._mxCAD=null}this._userCanvas=I;var Re=window.innerWidth,Ee=window.innerHeight;if(I!=null&&(Re=I.clientWidth,Ee=I.clientHeight),this._viewWidth=Re,this._viewHeight=Ee,this.m_mxDatabase.getSelectManager().setCanvasSize(Re,Ee),this.mxdrawThreeJS.onInitThreejs(),this.eventManager.registEvent(this),this.onCreate(),this.m_mxDatabase.init(this),this._parentDocObject=new c.Object3D,this.scene.add(this._parentDocObject),this.threejsselectObjects=new c.Object3D,this.scene.add(this.threejsselectObjects),this._objectsOsnap=new ae.MxDrawObjectOsnap(this),this._select=new F.MxSelect(this,this.getCanvas()),this._select.enabled=d.MxFun.isEnableSelect(),this._select.init(),this._is2d||(this._select.enabled=!1),this._runMode!=i.kBrowse&&(this._select.enabled=!1),T.MxManager.add(this),T.MxManager.setCurrentMx(this),this.mxdrawThreeJS.addControlsChangeEvent(),this.updateDisplay(),this.mxdrawThreeJS.getType()==ue.MxThreeJSType.kMapBox)this.mxdrawThreeJS.addWindowResizeEvent();else{var Se=this;if(I==null){var Le=function(){Se._viewWidth=window.innerWidth,Se._viewHeight=window.innerHeight,Se.onResizeImp(),Se.updateDisplay()};window.addEventListener("resize",Le,!1),this._onResizeFun=Le}else{var Ie=function(Pt){Pt&&Pt.viewWidth&&Pt.viewHeight||(Pt=Se.calcViewsize()),Se._viewWidth=Pt.viewWidth,Se._viewHeight=Pt.viewHeight,Se.onResizeImp(Se._viewWidth,Se._viewHeight),Se.updateDisplay()};if(this._onResizeFun=Ie,this._event.addResizeEvent!=null){var st=this._event.addResizeEvent;st instanceof Array&&(st=st[0]),st(Ie,I)}else window.addEventListener("resize",Ie,!1);if(window.setTimeout(function(){Ie()},5),this._event.onResize!=null){var Ye=Se.calcViewsize();Ie(Ye);var Ke=0,St=0,ct=!0,Ct=window.setInterval(function(){St++;var Pt=Se.calcViewsize();if(Pt.viewWidth==Ye.viewWidth&&Pt.viewHeight==Ye.viewHeight&&0<Pt.viewWidth&&0<Pt.viewHeight){if(8<++Ke)return clearInterval(Ct),void Ie(Pt);1<=Ke&&ct&&(Ie(Pt),2<=Ke&&(ct=!1))}else Ke=0;Ye=Pt,50<St&&(clearInterval(Ct),0<Pt.viewWidth&&0<Pt.viewHeight?Ie(Pt):console.log("mxassert(0) error view size"))},50)}}}this.callInitObjectEvent(),this.onLoad(pe),this._isCreate=!0},ie.prototype.initResize=function(){if(this._userCanvas==null)this._viewWidth=window.innerWidth,this._viewHeight=window.innerHeight,this.onResizeImp();else{if(this._viewWidth=this._userCanvas.clientWidth,this._viewHeight=this._userCanvas.clientHeight,this._event.onResize!=null){var I=this._event.onResize;I instanceof Array&&(I=I[0]);var j=I();j!=null&&(this._viewWidth=j.width,this._viewHeight=j.height)}this.onResizeImp(this._viewWidth,this._viewHeight)}this.updateDisplay()},ie.prototype.is2D=function(){return this._is2d},ie.prototype.getOpenFile=function(){return this._openFile},ie.prototype.getFileTitle=function(){var I=this._openFile;if(this._openFile.substring(this._openFile.lastIndexOf(".")+1).toLowerCase()=="wgh"){var j=this._openFile.substring(0,this._openFile.indexOf(".mxb1.wgh")).split("/");(I=j.length==1?j[0]:j[j.length-1])[0]=="$"&&(I=I.substring(1))}return I},ie.prototype.getIniParam=function(){return this._iniParam},ie.prototype.getOpenFileExtName=function(){return this._openFileExtName},ie.prototype.loadCodeToServer=function(I,j){this._net.getSend().CallLoadCodeToServer(I,j)},ie.prototype.userLogin=function(I,j){this._net.getSend().UserLogin(I,j)},ie.prototype.getUserCanvas=function(){return this._userCanvas},ie.prototype.getCanvas=function(){return this._userCanvas!=null?this._userCanvas:this.renderer.domElement},ie.prototype.getScene=function(){return this.scene},ie.prototype.getCamera=function(){return this.camera},ie.prototype.callCommand=function(I,j,pe){j===void 0&&(j=""),this._net.getSend().DoCommand(I,j,pe)},ie.prototype.undoMark=function(){this._runMode==i.kCPPMxCAD||this._net.getSend().UndoMark()},ie.prototype.loadCodeFileToServer=function(I,j,pe){var be='{"path":"'+I+'","reload":'+(pe!=null?"true":"false")+"}";this._net.getSend().DoCommand("Mx_LoadCodeFormServerFile",be,j)},ie.prototype.deleteAll=function(){this.removeAllEntity(),this.callCommand("Mx_ClearAll"),this.updateDisplay()},ie.prototype.undo=function(){this.callCommand("Mx_Undo")},ie.prototype.save=function(){this.callCommand("Mx_Save")},ie.prototype.initAllLayoutName=function(I){this._allLayoutName=I},ie.prototype.getAllLayoutName=function(){return this._allLayoutName},ie.prototype.updataClipMaterial=function(){this._blocks.updataClipMaterial(this)},ie.prototype.getSketchLayers=function(){return this._sketchLayers},ie.prototype.getExtRefManager=function(){return this._extRefManager},ie.prototype.showLayer=function(I,j,pe){typeof I=="string"&&(I=this._layers.getLayerIdForName(I)),pe?this._sketchLayers.getLayer(I).show(j):this._blocks.showLayer(I,j),this.updateDisplay()},ie.prototype.addLayerInfo=function(I,j,pe){j=this.automaticInversionColor(16777215&j),this._layers.add(I,j,pe)},ie.prototype.setZeroLayerId=function(I){this._layers.setZeroLayerId(I)},ie.prototype.addLayerInfoComplete=function(){this._layers.initComplete()},ie.prototype.addEntity=function(I,j){var pe=this._mapId2Entity.get(I);pe==null&&(pe=new Array,this._mapId2Entity.set(I,pe)),pe.push(j)},ie.prototype.getEntity=function(I){return this._mapId2Entity.get(I)},ie.prototype.clearThreejsScence=function(){d.MxFun.removeThreejsObject(this.threejsselectObjects,this.scene),this.threejsselectObjects=new c.Object3D,d.MxFun.removeThreejsObject(this._parentDocObject,this.scene),this._parentDocObject=new c.Object3D,this.scene.remove(),this.scene.dispose(),this.scene=new c.Scene,this.scene.add(this.threejsselectObjects),this.scene.add(this._parentDocObject),this._objectsOsnap=new ae.MxDrawObjectOsnap(this),this.m_mxDatabase.init(this),this.mxdrawThreeJS.onInitScene(),d.MxFun.removeThreejsObject(this.threejsselectObjectsView,this.secenView),this.threejsselectObjectsView=null,this.secenView.remove(),this.secenView.dispose(),this.secenView=null,this.onInitViewScene()},ie.prototype.reInit=function(){this.clearThreejsScence(),this._openFile="",this._openFileExtName="",this._select.removeAll(),this._is2d||(this._select.enabled=!1),this._mapId2Entity=new Map,this._setAdyDelete=new Map,this._sketchLayers=new D.MxCadSketchLayers(this),this._layers=new v.MxBrowseLayerData,this._blocks=new C.Blocks,this._extRefManager=new C.ExternalReferenceManager,this._doc2World=new c.Matrix4,this._word2doc=new c.Matrix4,this._allLayoutName=new Array,this._tzDwgStaticFile="",this._devicePixelRatio=window.devicePixelRatio,this._blocks.initRootBlockRef()},ie.prototype.removeEntity=function(I){if(this._setAdyDelete[I]==null){this._setAdyDelete[I]=!0;var j=this._mapId2Entity.get(I);if(j!=null){for(var pe in j)this.scene.remove(j[pe]);this._sketchLayers.removeEntity(I),this._mapId2Entity.delete(I)}}},ie.prototype.removeEntityFromServer=function(I){for(var j=I.getInt32(4,!0),pe=0;pe<j;pe++){var be=I.getInt32(4*(pe+20),!0);this.removeEntity(be)}},ie.prototype.removeAllEntity=function(){var I=this;this._mapId2Entity.forEach(function(j,pe,be){for(var De in j)I.scene.remove(j[De])}),this._mapId2Entity.clear(),this._sketchLayers.removeAllEntity()},ie.prototype.mxWebAddEntity=function(I){this._setAdyDelete.clear();var j=this.mxWebAddEntity_3DChild(I);this.mxWebAddEntity_Curve(I,j),this._setAdyDelete.clear()},ie.prototype.screenCoord2World=function(I,j,pe){var be=this.getCanvas(),De=be.clientWidth,Re=be.clientHeight;pe=.5;var Ee=this.camera;Ee&&Ee.isOrthographicCamera&&(pe=(Ee.near+Ee.far)/(Ee.near-Ee.far));var Se=new c.Vector3(I/De*2-1,-j/Re*2+1,pe);return Se.unproject(this.camera),Se},ie.prototype.worldCoord2Screen=function(I,j,pe){var be=new c.Vector3(I,j,pe).project(this.camera),De=this.getCanvas(),Re=De.clientWidth/2,Ee=De.clientHeight/2,Se=Math.round(be.x*Re+Re),Le=Math.round(-be.y*Ee+Ee);return new c.Vector3(Se,Le,0)},ie.prototype.worldCoordLong2Doc=function(I){var j=this.worldCoord2Doc(0,0,0),pe=this.worldCoord2Doc(I,0,0);return j.distanceTo(pe)},ie.prototype.docCoordLong2World=function(I){var j=this.docCoord2World(0,0,0),pe=this.docCoord2World(I,0,0);return j.distanceTo(pe)},ie.prototype.getDoc2CADMatrix=function(){return this._doc2CAD},ie.prototype.docCoord2Cad=function(I,j,pe){var be=new c.Vector3(I,j,pe);return be.applyMatrix4(this._doc2CAD),be},ie.prototype.cadCoord2Doc=function(I,j,pe){var be=new c.Vector3(I,j,pe);return be.applyMatrix4(this._cad2Doc),be},ie.prototype.docCoordLong2Cad=function(I){var j=this.docCoord2Cad(0,0,0),pe=this.docCoord2Cad(I,0,0);return j.distanceTo(pe)},ie.prototype.cadCoordLong2Doc=function(I){var j=this.cadCoord2Doc(0,0,0),pe=this.cadCoord2Doc(I,0,0);return j.distanceTo(pe)},ie.prototype.viewCoordLong2Cad=function(I){return this.docCoordLong2Cad(this.screenCoordLong2Doc(I))},ie.prototype.cadCoordLong2View=function(I){return this.docCoordLong2Screen(this.cadCoordLong2Doc(I))},ie.prototype.docCoord2World=function(I,j,pe){var be=new c.Vector3(I,j,pe);return be.applyMatrix4(this._doc2World),be},ie.prototype.getDoc2World=function(){return this._doc2World},ie.prototype.getWorldToDoc=function(){return this._word2doc},ie.prototype.worldCoord2Doc=function(I,j,pe){var be=new c.Vector3(I,j,pe);return be.applyMatrix4(this._word2doc),be},ie.prototype.screenCoord2Doc=function(I,j,pe){var be=this.screenCoord2World(I,j,pe);return this.worldCoord2Doc(be.x,be.y,0)},ie.prototype.docCoord2Screen=function(I,j,pe){var be=this.docCoord2World(I,j,pe);return this.worldCoord2Screen(be.x,be.y,be.z)},ie.prototype.screenCoordLong2Doc=function(I){var j=this.screenCoord2Doc(0,0,0),pe=this.screenCoord2Doc(I,0,0);return j.distanceTo(pe)},ie.prototype.screenCoordLong2DocScale=function(){var I=this.screenCoord2Doc(0,0,0),j=this.screenCoord2Doc(1,0,0);return I.distanceTo(j)},ie.prototype.docCoordLong2Screen=function(I){var j=this.docCoord2Screen(0,0,0),pe=this.docCoord2Screen(0<I?I:-I,0,0);return 0<=I?j.distanceTo(pe):-j.distanceTo(pe)},ie.prototype.screenCoordLong2World=function(I){var j=this.screenCoord2World(0,0,0),pe=this.screenCoord2World(0<I?I:-I,0,0);return 0<=I?j.distanceTo(pe):-j.distanceTo(pe)},ie.prototype.worldCoordLong2Screen=function(I){var j=this.worldCoord2Screen(0,0,0),pe=this.worldCoord2Screen(I,0,0);return j.distanceTo(pe)},ie.prototype.initCAD2Doc=function(I){I instanceof Array?this._cad2Doc.fromArray(I):this._cad2Doc=I,this._doc2CAD.getInverse(this._cad2Doc)},ie.prototype.intiDoc2Wold=function(I){I instanceof Array?this._doc2World.fromArray(I):this._doc2World=I,this._word2doc.getInverse(this._doc2World),this.m_mxDatabase.intiDoc2Wold(this._doc2World),this._parentDocObject.matrix=this._doc2World,this._parentDocObject.matrixAutoUpdate=!1,this.threejsselectObjects.matrix=this._doc2World,this.threejsselectObjects.matrixAutoUpdate=!1},ie.prototype.getDrawContainer=function(){return this.threejsselectObjects},ie.prototype.getTheTempDrawContainer=function(){return this._parentDocObject},ie.prototype.enableSingleTouchPan=function(I){this.controls.enablePan=I},ie.prototype.mxWebAddEntityFor2dPointMeshBuffers=function(I,j){var pe=new f.MxNetData(I),be=pe.getdPointMeshBuffersHead(),De=be.zeroLayerIdIndex,Re=be.databaseIndex;j!=-1&&(Re=j);for(var Ee=be.datasize,Se=0;Se<be.datacount;Se++){var Le=pe.getdPointMeshBufferDataHead(Ee);Ee=Le.offset;var Ie=Le.layerId,st=Ie==De,Ye=Le.blkId,Ke=Le.pointCount;if(!(Ke<1)){for(var St=[],ct=[],Ct=[],Pt=[],bt=[],an=0;an<Ke;an++){var Yt=I.getFloat32(Ee,!0);Ee+=4;var Ne=I.getFloat32(Ee,!0);Ee+=4;var mt=I.getFloat32(Ee,!0);Ee+=4;var me=I.getFloat32(Ee,!0);Ee+=4;var Ae=I.getFloat32(Ee,!0);Ee+=4;var Oe=I.getFloat32(Ee,!0);Ee+=4;var Pe=I.getInt32(Ee,!0);Ee+=4;var $e=Pe>>24&255;$e==2?(Pt.push(Yt,Ne),Pt.push(mt,me),Pt.push(Ae,Oe)):$e==1?Ye!=0&&st?(bt.push(Yt,Ne),bt.push(mt,me),bt.push(Ae,Oe)):(Ct.push(Yt,Ne),Ct.push(mt,me),Ct.push(Ae,Oe)):(Pe=this.automaticInversionColor(16777215&Pe),St.push(Yt,Ne),St.push(mt,me),St.push(Ae,Oe),ct.push((255&Pe)/255,(Pe>>8&255)/255,(Pe>>16&255)/255),ct.push((255&Pe)/255,(Pe>>8&255)/255,(Pe>>16&255)/255),ct.push((255&Pe)/255,(Pe>>8&255)/255,(Pe>>16&255)/255))}var tt=this._blocks,qe=this._layers;Re!=0&&(tt=this._extRefManager.getBlocks(Re),qe=this._extRefManager.getLayers(Re));var dt=tt.crateBlock(Ye);dt.addGeometryMesh(St,ct,Ie,Pt,Ct,bt),tt.createThreejsObj(dt,this,qe)}}},ie.prototype.mxWebAddEntityForMemorySections=function(I,j){var pe=new f.MxNetData(I),be=pe.getMemorySectionsHead(),De=(be.zeroLayerIdIndex,be.databaseIndex);j!=-1&&(De=j);var Re=be.nOffset,Ee=this._blocks,Se=this._layers;De!=0&&(Ee=this._extRefManager.getBlocks(De),Se=this._extRefManager.getLayers(De));for(var Le=0;Le<be.datacount;Le++){var Ie=pe.getMemorySectionHead(Re);Re=Ie.offset;var st=new C.MxNewDisplayMemorySection;st.layerId=Ie.layerId,st.blockId=Ie.blkId,st.id=Ie.memId,st.color=Ie.memColor,st.type=Ie.memType;var Ye=!1;st.type==C.MxNewDisplayMemorySectionType.kLinesType_Float?(Ye=!0,st.type=C.MxNewDisplayMemorySectionType.kLinesType):st.type==C.MxNewDisplayMemorySectionType.kTriangleType_Float?(Ye=!0,st.type=C.MxNewDisplayMemorySectionType.kTriangleType):st.type==C.MxNewDisplayMemorySectionType.kPointType_Float&&(Ye=!0,st.type=C.MxNewDisplayMemorySectionType.kPointType);var Ke=Ie.pointCount;if(!(Ke<1)){for(var St=[],ct=0;ct<Ke;ct++)if(Ye){var Ct=I.getFloat32(Re,!0);Re+=4;var Pt=I.getFloat32(Re,!0);Re+=4,I.getFloat32(Re,!0),Re+=4,St.push(Ct,Pt,0)}else Ct=I.getFloat64(Re,!0),Re+=8,Pt=I.getFloat64(Re,!0),Re+=8,I.getFloat64(Re,!0),Re+=8,St.push(Ct,Pt,0);st.points=St;var bt=Ee.crateBlock(st.blockId);bt.addMemorySections(st),Ee.createThreejsObj(bt,this,Se)}}},ie.prototype.convertBytesToUTF8=function(I,j){var pe=0;j=Math.min(j||I.length,I.length),I[0]===239&&I[1]===187&&I[2]===191&&(pe=3);for(var be=[],De=0;pe<j;De++){var Re,Ee,Se,Le=I[pe++];if(Le===0)break;Le<128?be[De]=String.fromCharCode(Le):194<=Le&&Le<224?(Re=I[pe++],be[De]=String.fromCharCode(((31&Le)<<6)+(63&Re))):224<=Le&&Le<240?(Re=I[pe++],Ee=I[pe++],be[De]=String.fromCharCode(((15&Le)<<12)+((63&Re)<<6)+(63&Ee))):240<=Le&&Le<245&&(Se=((7&Le)<<18)+((63&(Re=I[pe++]))<<12)+((63&(Ee=I[pe++]))<<6)+(63&I[pe++])-65536,be[De]=String.fromCharCode(55296+(Se>>10),56320+(1023&Se)))}return be.join("")},ie.prototype.mxWebAddEntityFor2dPointTextureBuffers=function(I,j){var pe=new f.MxNetData(I),be=pe.getdPointTextureBuffersHead(),De=be.ver,Re=(be.zeroLayerIdIndex,be.databaseIndex);j!=-1&&(Re=j);for(var Ee=be.datasize,Se=0;Se<be.datacount;Se++){var Le=pe.getdPointTextureBufferDataHead(Ee);Ee=Le.offset;var Ie=Le.layerId,st=Le.blkId,Ye=Le.dataCount;if(!(Ye<1)){var Ke=0,St=this._blocks,ct=this._layers;Re!=0&&(St=this._extRefManager.getBlocks(Re),ct=this._extRefManager.getLayers(Re));for(var Ct=St.crateBlock(st);Ke<Ye;Ke++){var Pt=I.getFloat64(Ee,!0);Ee+=8;var bt=I.getFloat64(Ee,!0);Ee+=8;var an=I.getFloat64(Ee,!0);Ee+=8;var Yt=I.getUint32(Ee,!0);Ee+=4;var Ne=I.getUint32(Ee,!0);Ee+=4;var mt=this.convertBytesToUTF8(new Uint8Array(I.buffer.slice(Ee,Ee+Ne)),void 0);Ee+=Ne;var me=[],Ae=[],Oe=[];if(!(Yt<1)){for(var Pe=0;Pe<Yt;Pe++){if(5<=De){var $e=I.getFloat64(Ee,!0);Ee+=8;var tt=I.getFloat64(Ee,!0);Ee+=8,I.getFloat64(Ee,!0),Ee+=8;var qe=I.getFloat64(Ee,!0);Ee+=8;var dt=I.getFloat64(Ee,!0);Ee+=8,I.getFloat64(Ee,!0),Ee+=8;var ft=I.getFloat64(Ee,!0);Ee+=8;var Ft=I.getFloat64(Ee,!0);Ee+=8,I.getFloat64(Ee,!0),Ee+=8,me.push($e,tt),me.push(qe,dt),me.push(ft,Ft)}else $e=I.getFloat32(Ee,!0),Ee+=4,tt=I.getFloat32(Ee,!0),Ee+=4,qe=I.getFloat32(Ee,!0),Ee+=4,dt=I.getFloat32(Ee,!0),Ee+=4,ft=I.getFloat32(Ee,!0),Ee+=4,Ft=I.getFloat32(Ee,!0),Ee+=4,me.push($e,tt),me.push(qe,dt),me.push(ft,Ft);var it=I.getInt32(Ee,!0);Ee+=4;var zt=I.getFloat32(Ee,!0);Ee+=4;var pt=I.getFloat32(Ee,!0);Ee+=4;var ut=I.getFloat32(Ee,!0);Ee+=4;var Gt=I.getFloat32(Ee,!0);Ee+=4;var hn=I.getFloat32(Ee,!0);Ee+=4;var vn=I.getFloat32(Ee,!0);Ee+=4;var Ot=it>>24&255;it=Ot==2||Ot==1?16777215:this.automaticInversionColor(16777215&it),Oe.push(zt,pt),Oe.push(ut,Gt),Oe.push(hn,vn),Ae.push((255&it)/255,(it>>8&255)/255,(it>>16&255)/255),Ae.push((255&it)/255,(it>>8&255)/255,(it>>16&255)/255),Ae.push((255&it)/255,(it>>8&255)/255,(it>>16&255)/255)}Ct.addGeometryTexture(me,Oe,Ae,Ie,mt,Pt,bt,an)}}St.createThreejsObj(Ct,this,ct)}}},ie.prototype.mxWebAddEntityFor2dPointCurveBuffers=function(I,j){var pe=new f.MxNetData(I),be=pe.getdPointCurveBuffersHead(),De=be.zeroLayerIdIndex,Re=be.databaseIndex;j!=-1&&(Re=j);for(var Ee=be.datasize,Se=0;Se<be.datacount;Se++){var Le=pe.getdPointCurveBufferDataHead(Ee);Ee=Le.offset;var Ie=Le.layerId,st=Ie==De,Ye=Le.blkId,Ke=Le.pointCount;if(!(Ke<1)){for(var St=[],ct=[],Ct=[],Pt=[],bt=[],an=0;an<Ke;an++){var Yt=I.getFloat32(Ee,!0);Ee+=4;var Ne=I.getFloat32(Ee,!0);Ee+=4;var mt=I.getFloat32(Ee,!0);Ee+=4;var me=I.getFloat32(Ee,!0);Ee+=4;var Ae=I.getInt32(Ee,!0);Ee+=4;var Oe=Ae>>24&255;Oe==2?(Pt.push(Yt,Ne),Pt.push(mt,me)):Oe==1?Ye!=0&&st?(bt.push(Yt,Ne),bt.push(mt,me)):(Ct.push(Yt,Ne),Ct.push(mt,me)):(St.push(Yt,Ne),St.push(mt,me),Ae=this.automaticInversionColor(16777215&Ae),ct.push((255&Ae)/255,(Ae>>8&255)/255,(Ae>>16&255)/255),ct.push((255&Ae)/255,(Ae>>8&255)/255,(Ae>>16&255)/255))}var Pe=this._blocks,$e=this._layers;Re!=0&&(Pe=this._extRefManager.getBlocks(Re),$e=this._extRefManager.getLayers(Re));var tt=Pe.crateBlock(Ye);tt.addGeometryCurve(St,ct,Ie,Pt,Ct,bt),Pe.createThreejsObj(tt,this,$e)}}},ie.prototype.mxWebAddEntityFor2dPointCurveBuffer=function(I,j){var pe=new f.MxNetData(I);if(!pe.getIsSketchEntity()){var be,De=pe.getLayerId(),Re=De==pe.getZeroLayerId(),Ee=pe.getBlockId();if(!((be=I.getInt32(20,!0)/20)<1)){for(var Se=80,Le=[],Ie=[],st=[],Ye=[],Ke=[],St=0;St<be;St++){var ct=I.getFloat32(Se,!0);Se+=4;var Ct=I.getFloat32(Se,!0);Se+=4;var Pt=I.getFloat32(Se,!0);Se+=4;var bt=I.getFloat32(Se,!0);Se+=4;var an=I.getInt32(Se,!0);Se+=4;var Yt=an>>24&255;Yt==2?(Ye.push(ct,Ct),Ye.push(Pt,bt)):Yt==1?Ee!=0&&Re?(Ke.push(ct,Ct),Ke.push(Pt,bt)):(st.push(ct,Ct),st.push(Pt,bt)):(an=this.automaticInversionColor(16777215&an),Le.push(ct,Ct),Le.push(Pt,bt),Ie.push((255&an)/255,(an>>8&255)/255,(an>>16&255)/255),Ie.push((255&an)/255,(an>>8&255)/255,(an>>16&255)/255))}var Ne=pe.getDatabaseIndex();j!=-1&&(Ne=j);var mt=this._blocks,me=this._layers;Ne!=0&&(mt=this._extRefManager.getBlocks(Ne),me=this._extRefManager.getLayers(Ne));var Ae=mt.crateBlock(Ee);Ae.addGeometryCurve(Le,Ie,De,Ye,st,Ke),mt.createThreejsObj(Ae,this,me)}}},ie.prototype.mxWebAddEntityFor2dPointMeshBuffer=function(I,j){var pe=new f.MxNetData(I);if(!pe.getIsSketchEntity()){var be,De=pe.getLayerId(),Re=pe.getBlockId(),Ee=De==pe.getZeroLayerId();if(!((be=I.getInt32(12,!0)/28)<1)){for(var Se=80,Le=[],Ie=[],st=[],Ye=[],Ke=[],St=0;St<be;St++){var ct=I.getFloat32(Se,!0);Se+=4;var Ct=I.getFloat32(Se,!0);Se+=4;var Pt=I.getFloat32(Se,!0);Se+=4;var bt=I.getFloat32(Se,!0);Se+=4;var an=I.getFloat32(Se,!0);Se+=4;var Yt=I.getFloat32(Se,!0);Se+=4;var Ne=I.getInt32(Se,!0);Se+=4;var mt=Ne>>24&255;mt==2?(Ye.push(ct,Ct),Ye.push(Pt,bt),Ye.push(an,Yt)):mt==1?Re!=0&&Ee?(Ke.push(ct,Ct),Ke.push(Pt,bt),Ke.push(an,Yt)):(st.push(ct,Ct),st.push(Pt,bt),st.push(an,Yt)):(Le.push(ct,Ct),Le.push(Pt,bt),Le.push(an,Yt),Ne=this.automaticInversionColor(16777215&Ne),Ie.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255),Ie.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255),Ie.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255))}var me=pe.getDatabaseIndex();j!=-1&&(me=j);var Ae=this._blocks,Oe=this._layers;me!=0&&(Ae=this._extRefManager.getBlocks(me),Oe=this._extRefManager.getLayers(me));var Pe=Ae.crateBlock(Re);Pe.addGeometryMesh(Le,Ie,De,Ye,st,Ke),Ae.createThreejsObj(Pe,this,Oe)}}},ie.prototype.mxWebCreateAllBlocks=function(I,j){var pe=new f.MxNetData(I).getDatabaseIndex();j!=-1&&(pe=j);var be=this._blocks;pe!=0&&(be=this._extRefManager.getBlocks(pe)),be.createBlocks(I,this.scene)},ie.prototype.mxWebEntitysData=function(I,j){j==-1&&this._objectsOsnap.mxWebEntitysData(I,j)},ie.prototype.getObjectOsnap=function(){return this._objectsOsnap},ie.prototype.saveMxEntityToJson=function(I){return this.m_mxDatabase.saveJson(I)},ie.prototype.getDtabaseJsonString=function(){return JSON.stringify(this.m_mxDatabase.toJsonObject())},ie.prototype.loadMxEntityFromJson=function(I){return this.m_mxDatabase.loadJson(I)},ie);function ie(I){this._is2d=!0,this._runMode=i.kBrowse,this._mxCAD=null,this._userCanvas=null,this._openFile="empty",this._staticLoadingOpenFiles=[],this._openFileExtName="",this._userIdentitySign="",this._rendererParam=void 0,this._userRandomToken="",this._isCreate=!1,this.m_iniSet={},this._net=null,this._staticNet=null,this._staticLoadTzNet=null,this._staticLocalNet=null,this._isStaticLocalLoad=!1,this._staticLocalLoadPath="",this._viewWidth=1,this._viewHeight=1,this.m_sysVariable=new R.MxSystemVariable,this._color="#FFFFFF",this._viewcolor=15790320,this._isAnimation=!1,this._isAnimationStarting=!1,this._isWaiteCount=0,this._callCreateCanvasImageData=void 0,this._event={},this.scene=null,this.camera=null,this.secenView=null,this.cameraView=null,this.renderer=null,this.controls=null,this.threejsselectObjectsView=null,this._mouseRightRotate=!0,this._isMouseMiddlePan=-1,this._mapId2Entity=new Map,this._setAdyDelete=new Map,this._sketchLayers=new D.MxCadSketchLayers(this),this._layers=new v.MxBrowseLayerData,this._blocks=new C.Blocks,this._extRefManager=new C.ExternalReferenceManager,this._doc2World=new c.Matrix4,this._word2doc=new c.Matrix4,this._cad2Doc=new c.Matrix4,this._doc2CAD=new c.Matrix4,this._allLayoutName=new Array,this._devicePixelRatio=1,this._tzDwgStaticFile="",this._requestHeader="",this._objectsOsnap=null,this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null,this.m_mxDatabase=null,this._parentDocObject=null,this.threejsselectObjects=null,this._onResizeFun=null,this._sCurrentLoadURL="",this.mxdrawThreeJS=null,this.eventManager=new de.MxDrawObjectEvent,this._viewangle=0,this.id=0,this.mcObject=new oe.McDrawObject,this._is2d=I,this._blocks.initRootBlockRef(),this.m_iniSet[a.kEnableOsnapFunction]=!1,this.m_sysVariable.init(this),this.m_mxDatabase=new ce.MxDbDatabase,this.id=T.MxManager.allocId()}r.MxDrawObject=le},{"./MxCAD/MxCADObject":24,"./MxCAD/MxCadSketchLayer":27,"./MxDrawObjectEvent":33,"./MxFun":34,"./MxLocalFileLoad":35,"./MxManager":36,"./MxNetData":38,"./MxSelect":39,"./MxSystemVariable":43,"./Operate/MxDrawObjectOsnap":54,"./View/MxBrowseDisplay":68,"./View/MxBrowseLayerData":69,"./View/MxDbDatabase":70,"./View/MxDbEntityGrip":72,"./View/MxDrawMapBox":77,"./cpp/McDrawObject":79,three:19}],31:[function(e,t,r){var i,l=this&&this.__extends||(i=function(R,ee){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ae){re.__proto__=ae}||function(re,ae){for(var ce in ae)Object.prototype.hasOwnProperty.call(ae,ce)&&(re[ce]=ae[ce])})(R,ee)},function(R,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function re(){this.constructor=R}i(R,ee),R.prototype=ee===null?Object.create(ee):(re.prototype=ee.prototype,new re)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject2d=void 0;var a,c=e("three"),d=e("./MxFun"),D=e("./MxDrawObject"),v=e("three-orbitcontrols"),C=e("./MxNetData"),f=e("./MxMaterial"),w=e("./MxDrawData"),F=(l(T,a=D.MxDrawObject),T.prototype.set3DDraw=function(R){this.is3DDraw=R},T.prototype.getOrthographicCamera=function(){return this.camera instanceof c.OrthographicCamera?this.camera:null},T.prototype.getFullDisplayRange=function(){return{minPt:this._initMinDisplayPoint,maxPt:this._initMaxDisplayPoint}},T.prototype.zoomW=function(R,ee,re){if(re!=null&&re||(R=this.docCoord2World(R.x,R.y,0),ee=this.docCoord2World(ee.x,ee.y,0)),this._curMinDisplayPoint=R,this._curMaxDisplayPoint=ee,R.x>ee.x){var ae=R.x;R.x=ee.x,ee.x=ae}R.y>ee.y&&(ae=R.y,R.y=ee.y,ee.y=ae);var ce=this.getViewWidth(),ue=this.getViewHeight(),de=Math.abs(R.x-ee.x),A=Math.abs(R.y-ee.y),oe=this.getOrthographicCamera();if(de/A<ce/ue){var le=.5*A,ie=ce/ue;oe.left=-le*ie,oe.right=le*ie,oe.top=le,oe.bottom=-le}else le=.5*de,ie=ue/ce,oe.left=-le,oe.right=le,oe.top=le*ie,oe.bottom=-le*ie;var I=de,j=A,pe=I;pe<I&&(pe=j),oe.far=1e3*pe,oe.far<9e4&&(oe.far=9e4),oe.near=1e3*-pe,-9e4<oe.near&&(oe.near=-9e4);var be=R.x+.5*I,De=R.y+.5*j;oe.zoom=1,oe.position.set(be,De,.5*pe),oe.lookAt(new c.Vector3(be,De,0)),oe.updateProjectionMatrix(),this.controls.target.x=be,this.controls.target.y=De,this.controls.target.z=0,this.controls.update()},T.prototype.zoomScale=function(R){var ee=this.getOrthographicCamera();ee.zoom=Math.max(this.controls.minZoom,Math.min(this.controls.maxZoom,ee.zoom*R)),ee.updateProjectionMatrix(),this.controls.update()},T.prototype.zoomCenter=function(R,ee){var re=this.getOrthographicCamera(),ae=this.docCoord2World(R,ee,0);R=ae.x,ee=ae.y,re.position.set(R,ee,re.position.z),re.lookAt(new c.Vector3(R,ee,0)),re.updateProjectionMatrix(),this.controls.target.x=R,this.controls.target.y=ee,this.controls.target.z=0,this.controls.update()},T.prototype.calcCameraUp=function(R){var ee=new c.Vector3(0,1,0),re=new c.Matrix4;return re.makeRotationZ(R),ee.applyMatrix4(re),ee},T.prototype.updateCameraDisplayRangeImp=function(R,ee,re){this._initZoomwCoordPt1!=null&&this._initZoomWCoordPt2!=null?(this._initMinDisplayPoint=this.docCoord2World(this._initZoomwCoordPt1.x,this._initZoomwCoordPt1.y,0),this._initMaxDisplayPoint=this.docCoord2World(this._initZoomWCoordPt2.x,this._initZoomWCoordPt2.y,0)):(this._initMinDisplayPoint=R,this._initMaxDisplayPoint=ee),this._viewangle=re,this.camera.up=this.calcCameraUp(re),this.cameraView.up=this.calcCameraUp(re),this.cameraView.updateProjectionMatrix(),this.zoomW(this._initMinDisplayPoint,this._initMaxDisplayPoint,!0)},T.prototype.setViewAngle=function(R){this._viewangle=R;var ee=this.getOrthographicCamera();ee&&(ee.up=this.calcCameraUp(R),ee.updateProjectionMatrix()),this.cameraView.up=this.calcCameraUp(R),this.cameraView.updateProjectionMatrix(),this.controls.update()},T.prototype.zoomInitialStates=function(){this._initMinDisplayPoint!=null&&this._initMaxDisplayPoint!=null?(this.camera.up=this.calcCameraUp(this._viewangle),this.cameraView.up=this.calcCameraUp(this._viewangle),this.cameraView.updateProjectionMatrix(),this.zoomW(this._initMinDisplayPoint,this._initMaxDisplayPoint,!0)):console.log("mx assert(0)")},T.prototype.onInitScene=function(){if(this.callInitSceneEvent(this.scene,this.controls,!0)==0){var R=new c.AmbientLight(3355443,1);this.scene.add(R);var ee=new c.DirectionalLight(16777215,1);ee.position.set(-2,2,3).normalize(),this.scene.add(ee)}},T.prototype.updataCameraView=function(R,ee){var re=R,ae=ee;this.cameraView.left=0,this.cameraView.right=re,this.cameraView.top=ae,this.cameraView.bottom=0,this.cameraView.updateProjectionMatrix()},T.prototype.onInitViewScene=function(){if(!this.secenView){this.secenView=new c.Scene,this.secenView.background=new c.Color(this._viewcolor);var R=this.getViewWidth(),ee=this.getViewHeight();R=this.xzSize(R),ee=this.xzSize(ee),this.cameraView=new c.OrthographicCamera(0,R,ee,0,1,2e3),this.cameraView.position.set(0,0,2e3),this.cameraView.lookAt(new c.Vector3(0,0,0)),this.cameraView.updateProjectionMatrix();var re=new c.AmbientLight(3355443,1);this.secenView.add(re);var ae=new c.DirectionalLight(16777215,1);ae.position.set(-2,2,3).normalize(),this.secenView.add(ae),this.threejsselectObjectsView=new c.Object3D,this.secenView.add(this.threejsselectObjectsView)}},T.prototype.onInitThreejs=function(){var R=this.getViewWidth(),ee=this.getViewHeight(),re=(R=this.xzSize(R))/(ee=this.xzSize(ee))*50;this.onInitViewScene(),this.camera=new c.OrthographicCamera(re/-2,re/2,25,-25,1,1e3),this.camera.position.set(0,0,200),this.scene=new c.Scene;var ae=this.getUserCanvas(),ce=this._rendererParam;ce=ce||{},ae==null?(ce.antialias=!1,ce.stencil=!0,this.renderer=new c.WebGLRenderer(ce),this.renderer.setClearColor(0,1),this.renderer.setPixelRatio(this._devicePixelRatio),this.renderer.setSize(R,ee),document.body.appendChild(this.renderer.domElement)):(ce.canvas=ae,ce.stencil=!0,this.renderer=new c.WebGLRenderer(ce),this.renderer.setClearColor(0,1),this.renderer.setPixelRatio(this._devicePixelRatio)),this.renderer.sortObjects=!0,this.renderer.info.autoReset=w.MxDrawData.m_isAutoResetRenderer,this.renderer.info.reset();var ue=this.getUserCanvas();ue==null&&(ue=this.renderer.domElement),this.controls=new v.OrbitControls(this.camera,ue),this.is3DDraw||(this.controls.enableZoom=!0),d.MxFun.isPC()?(this.controls.zoomSpeed=4,this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this._mouseRightRotate?this.controls.mouseButtons.RIGHT=c.MOUSE.ROTATE:this.controls.mouseButtons.RIGHT=c.MOUSE.PAN,this.controls.screenSpacePanning=!0,this._isMouseMiddlePan!=-1&&this.setMouseMiddlePan(this._isMouseMiddlePan)):(this.controls.zoomSpeed=1.5,this.controls.touches.ONE=c.TOUCH.PAN,this.controls.screenSpacePanning=!0),this._is2d&&(this._runMode!=D.MxRunMode.kMxCAD&&this._runMode!=D.MxRunMode.kMxCADBrowseApp&&this._runMode!=D.MxRunMode.kCPPMxCAD||(this.controls.mouseButtons.LEFT=-1,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN))},T.prototype.onCreate=function(){this._is2d=!0,this.mxdrawThreeJS.onInitScene()},T.prototype.mxWebAddEntity_3DChild=function(R){var ee=new C.MxNetData(R),re=ee.getMesh();if(re.id==null)return re.size;var ae=new c.Mesh(re.geometry,f.MxMaterial.GetBaseColorMaterial(re.nColorIndex));return this.removeEntity(re.id),this.scene.add(ae),re.isSketchEntity&&(this.addEntity(re.id,ae),this.getSketchLayers().addEntity(re.id,ee.getLayerId())),re.size},T.prototype.mxWebAddEntity_Curve=function(R,ee){var re=new C.MxNetData(R),ae=re.getCurve(ee);if(ae.id!=null){var ce=f.MxMaterial.GetCurveColorMaterial(ae.colorIndex),ue=new c.LineSegments(ae.geometry,ce);this.removeEntity(ae.id),this.scene.add(ue),ae.isSketchEntity&&(this.addEntity(ae.id,ue),this.getSketchLayers().addEntity(ae.id,re.getLayerId()))}},T.prototype.onResizeImp=function(R,ee){var re=this.getViewWidth();R!=null&&(re=R);var ae=this.getViewHeight();ee!=null&&(ae=ee),re=this.xzSize(re),ae=this.xzSize(ae);var ce=this.getOrthographicCamera();if(this._curMinDisplayPoint==null||this._curMaxDisplayPoint==null){var ue=50,de=re/ae;ce.left=ue*de/-2,ce.right=ue*de/2,ce.top=ue/2,ce.bottom=ue/-2,ce.updateProjectionMatrix()}else{var A=Math.abs(this._curMinDisplayPoint.x-this._curMaxDisplayPoint.x),oe=Math.abs(this._curMinDisplayPoint.y-this._curMaxDisplayPoint.y);A/oe<re/ae?(ue=.5*oe,de=re/ae,ce.left=-ue*de,ce.right=ue*de,ce.top=ue,ce.bottom=-ue):(ue=.5*A,de=ae/re,ce.left=-ue,ce.right=ue,ce.top=ue*de,ce.bottom=-ue*de),ce.updateProjectionMatrix()}this.renderer.setSize(re,ae),this.mcObject.setSize(re,ae),this.updataClipMaterial(),this.updataCameraView(re,ae),this.callEvent("viewsizechange",{width:re,height:ae}),this.callEvent("viewchange"),this.m_mxDatabase.getSelectManager().setCanvasSize(re,ae),this.m_mxDatabase.onViewChange()},T);function T(){var R=a.call(this,!0)||this;return R._initMinDisplayPoint=null,R._initMaxDisplayPoint=null,R._curMinDisplayPoint=null,R._curMaxDisplayPoint=null,R.is3DDraw=d.MxFun.is3DDwg(),R}r.MxDrawObject2d=F},{"./MxDrawData":29,"./MxDrawObject":30,"./MxFun":34,"./MxMaterial":37,"./MxNetData":38,three:19,"three-orbitcontrols":17}],32:[function(e,t,r){var i,l=this&&this.__extends||(i=function(T,R){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ae in re)Object.prototype.hasOwnProperty.call(re,ae)&&(ee[ae]=re[ae])})(T,R)},function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function ee(){this.constructor=T}i(T,R),T.prototype=R===null?Object.create(R):(ee.prototype=R.prototype,new ee)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject3d=void 0;var a,c=e("three"),d=e("./MxDrawObject"),D=e("three-orbitcontrols"),v=e("./MxNetData"),C=e("./MxMaterial"),f=e("./MxTools"),w=(l(F,a=d.MxDrawObject),F.prototype.mxWebAddEntity_Curve=function(T,R){var ee,re=new v.MxNetData(T),ae=T.getInt32(32,!0)==0,ce=re.getIsSketchEntity();if(!((ee=ae?T.getInt32(20,!0)/4/3:T.getInt32(20,!0)/4/2)<2)){for(var ue=new c.Geometry,de=R,A=0;A<ee;A++){var oe=T.getFloat32(de,!0);de+=4;var le=T.getFloat32(de,!0);de+=4;var ie=0;ae&&(ie=T.getFloat32(de,!0),de+=4),ue.vertices.push(f.MxTools.AsThreeJsPoint(oe,le,ie))}var I=T.getInt32(28,!0),j=C.MxMaterial.GetCurveColorMaterial(I),pe=new c.LineSegments(ue,j),be=T.getInt32(4,!0);this.removeEntity(be),this.scene.add(pe),ce&&this.addEntity(be,pe)}},F.prototype.mxWebAddEntity_3DChild=function(T){var R=new v.MxNetData(T),ee=R.getId(),re=(R.getColorIndex(),R.getBufferType()==0),ae=R.getIsSketchEntity();this.removeEntity(ee);var ce=new c.Mesh(new c.Geometry),ue=this.mxWebUpdateEntity_3DChild(ce,T,re);return this.scene.add(ce),ae&&this.addEntity(ee,ce),ce.geometry.computeBoundingBox(),ce.geometry.computeBoundingSphere(),ue},F.prototype.mxWebUpdateEntity_3DChild=function(T,R,ee){var re=new v.MxNetData(R),ae=re.getVertexBufferSize(),ce=re.getIndexBufferSize(),ue=re.getColorIndex();if(ae===0||ce===0)return re.getDrawDataOffset();var de=re.getMateria(),A=void 0,oe=!0,le=!1,ie=!1;de.length!=0&&((A=JSON.parse(de)).computeFaceNonmal!=null&&(oe=A.computeFaceNonmal),A.castShadow!=null&&(le=A.castShadow),A.receiveShadow!=null&&(ie=A.receiveShadow)),T.material=C.MxMaterial.createMaterial(A),T.material==null&&(T.material=C.MxMaterial.GetColorMaterial(ue)),T.castShadow=le,T.receiveShadow=ie;var I,j=re.getDrawDataOffset();I=ee?ae/4/8:ae/4/2;var pe=T.geometry;pe.vertices=[],pe.faces=[];for(var be=0;be<I;be++){var De=R.getFloat32(j+0,!0),Re=R.getFloat32(j+4,!0),Ee=0,Se=0,Le=0,Ie=0,st=0,Ye=0;ee?(Ee=R.getFloat32(j+8,!0),Se=R.getFloat32(j+12,!0),Le=R.getFloat32(j+16,!0),Ie=R.getFloat32(j+20,!0),st=R.getFloat32(j+24,!0),Ye=R.getFloat32(j+28,!0),j+=32):j+=8;var Ke=f.MxTools.AsThreeJsPoint(De,Re,Ee);pe.vertices.push(Ke),pe.vertices[be].normal=f.MxTools.AsThreeJsPoint(Se,Le,Ie),pe.vertices[be].uv=new c.Vector2(st,Ye)}var St=ce/4;for(be=0;be<St;be+=3){var ct=R.getInt32(j,!0);j+=4;var Ct=R.getInt32(j,!0);j+=4;var Pt=R.getInt32(j,!0);j+=4;var bt=new c.Face3(ct,Ct,Pt);oe||bt.vertexNormals.push(pe.vertices[ct].normal,pe.vertices[Ct].normal,pe.vertices[Pt].normal),pe.faces.push(bt),pe.faceVertexUvs[0].push([pe.vertices[ct].uv,pe.vertices[Ct].uv,pe.vertices[Pt].uv])}return oe&&pe.computeFaceNormals(),j},F.prototype.updateUVs=function(T){T.faceVertexUvs[0]=[],T.faces.forEach(function(R){var ee=["x","y","z"].sort(function(oe,le){return Math.abs(R.normal[oe])-Math.abs(R.normal[le])}),re=T.vertices[R.a],ae=T.vertices[R.b],ce=T.vertices[R.c],ue=new c.Vector2(re[ee[0]],re[ee[1]]),de=new c.Vector2(ae[ee[0]],ae[ee[1]]),A=new c.Vector2(ce[ee[0]],ce[ee[1]]);T.faceVertexUvs[0].push([ue,de,A])}),T.uvsNeedUpdate=!0},F.prototype.onInitThreejs=function(){var T=this.getViewWidth(),R=this.getViewHeight(),ee=(T=this.xzSize(T))/(R=this.xzSize(R))*50;this.camera=new c.OrthographicCamera(ee/-2,ee/2,25,-25,1,1e3),this.camera.position.set(-200,200,200),this.scene=new c.Scene,this.scene.background=new c.Color(this._viewcolor);var re=this.getUserCanvas();re==null?(this.renderer=new c.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this._devicePixelRatio),this.renderer.setSize(T,R),document.body.appendChild(this.renderer.domElement)):(this.renderer=new c.WebGLRenderer({canvas:re,antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this._devicePixelRatio));var ae=this.getUserCanvas();ae==null&&(ae=this.renderer.domElement),this.controls=new D.OrbitControls(this.camera,ae)},F.prototype.onInitViewScene=function(){},F.prototype.onInitScene=function(){if(this.callInitSceneEvent(this.scene,this.controls,!1)==0){var T=new c.AmbientLight(2236962);T.integrity=1,this.scene.add(T);var R=new c.DirectionalLight(16777215,1);R.position.set(-2,2,3).normalize(),this.scene.add(R);var ee=new c.GridHelper(2e3,100);ee.position.y=-199,ee.material.opacity=.25,ee.material.transparent=!0,this.scene.add(ee);var re=new c.AxesHelper(20);this.scene.add(re)}},F.prototype.onCreate=function(){this._is2d=!1,this.callEvent("initRenderer",this.renderer),this.mxdrawThreeJS.onInitScene()},F.prototype.getOrthographicCamera=function(){return this.camera instanceof c.OrthographicCamera?this.camera:null},F.prototype.onResizeImp=function(T,R){var ee=this.getViewWidth();T!=null&&(ee=T);var re=this.getViewHeight();R!=null&&(re=R),ee=this.xzSize(ee),re=this.xzSize(re);var ae=this.getOrthographicCamera(),ce=ee/re;ae.left=50*ce/-2,ae.right=50*ce/2,ae.top=25,ae.bottom=-25,ae.updateProjectionMatrix(),this.renderer.setSize(ee,re)},F.prototype.zoomInitialStates=function(){},F.prototype.zoomScale=function(T){},F.prototype.zoomW=function(T,R,ee){},F.prototype.zoomCenter=function(T,R){},F.prototype.setViewAngle=function(T){this._viewangle=T},F.prototype.getFullDisplayRange=function(){return{}},F);function F(){var T=a.call(this,!1)||this;return T._viewcolor=15790320,T}r.MxDrawObject3d=w},{"./MxDrawObject":30,"./MxMaterial":37,"./MxNetData":38,"./MxTools":45,three:19,"three-orbitcontrols":17}],33:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObjectEvent=r.MxDrawObjectEventDefautProc=void 0;var i=e("./MxFun"),l=e("./Operate/MxJigCmdManager"),a=e("three"),c=e("./UI/MxUiVue"),d=e("./MxDrawData"),D=(v.prototype.onMousemove=function(w){if(c.MxUiVue.isNull())return 0;var F=this.mxObj.screenCoord2Doc(w.offsetX,w.offsetY,0);return F=this.mxObj.docCoord2Cad(F.x,F.y,F.z),c.MxUiVue.setTipCoord(i.MxFun.formatString("{0},{1},0.000",F.x.toFixed(3),F.y.toFixed(3))),0},v.prototype.onTouchStart=function(w){if(d.MxDrawData.m_isEnableIntelliSelect&&!l.MxJigCmdManager.isRunning()){var F=w.touches[0].pageX,T=w.touches[0].pageY,R=this.mxObj,ee=R.screenCoord2Doc(F,T,0);if(R.isMxCAD()){var re=R.getMxCAD();if(!re)return;var ae=!0;if(re&&re.getGrip().onMouseLBDown(ee)&&(ae=!1),ae)return i.MxFun.sendStringToExecute("Mx_IntelliSel",{pt1:ee}),1}else if(!R.getMxDatabase().getGripManager().onMouseLBDown(ee)){var ce=new a.Vector3(F,T,0);return i.MxFun.sendStringToExecute("Mx_FrontEndWebpageIntelliSel",{pt:ce}),1}}return 0},v.prototype.onMousdown=function(w){if(w.button==l.MxJigCmdManager.MouseButton.kRight&&l.MxJigCmdManager.isRunning())return l.MxJigCmdManager.stopCmd(),0;if(d.MxDrawData.m_isEnableIntelliSelect&&w.button==l.MxJigCmdManager.MouseButton.kLeft&&!l.MxJigCmdManager.isRunning()){var F=this.mxObj,T=F.screenCoord2Doc(w.offsetX,w.offsetY,0);if(F.isMxCAD()){var R=F.getMxCAD();if(!R)return;var ee=!0;if(R&&R.getGrip().onMouseLBDown(T)&&(ee=!1),ee)return i.MxFun.sendStringToExecute("Mx_IntelliSel",{pt1:T}),1}else if(!(F.getMxDatabase().getGripManager().onMouseLBDown(T)||F.isValidMcObject()&&F.getMcObject().getGripManager().onMouseLBDown(T))){var re=new a.Vector3(w.offsetX,w.offsetY,0);return i.MxFun.sendStringToExecute("Mx_FrontEndWebpageIntelliSel",{pt:re}),1}}return 0},v.prototype.init=function(w,F){this.mxObj=w;var T=this;F.addEventListener("mousemove",function(R){return T.onMousemove(R)}),F.addEventListener("mousedown",function(R){return T.onMousdown(R)}),F.addEventListener("touchstart",function(R){return T.onTouchStart(R)})},v);function v(){}r.MxDrawObjectEventDefautProc=D;var C=(f.prototype.onMousedown=function(w){this.callEvent("mousedown",w)},f.prototype.onMousemove=function(w){this.callEvent("mousemove",w)},f.prototype.onMouseup=function(w){this.callEvent("mouseup",w)},f.prototype.registEvent=function(w){var F=w.getCanvas();if(!F)return!1;var T=this;i.MxFun.isPC()?(F.addEventListener("mouseup",function(R){T.onMouseup(R)},!0),F.addEventListener("mousemove",function(R){T.onMousemove(R)},!0),F.addEventListener("mousedown",function(R){T.onMousedown(R)},!0)):(F.addEventListener("touchstart",function(R){T.callEvent("touchstart",R)},!0),F.addEventListener("touchend",function(R){T.callEvent("touchend",R)},!0),F.addEventListener("touchmove",function(R){T.callEvent("touchmove",R)},!0)),this.defautProc.init(w,this)},f.prototype.getEventCall=function(w){var F;return w=="mousemove"?F=this.aryMousemoveEventCall:w=="mouseup"?F=this.aryMouseupEventCall:w=="mousedown"?F=this.aryMousedownEventCall:w=="touchstart"?F=this.aryTouchstartEventCall:w=="touchend"?F=this.aryTouchendEventCall:w=="touchmove"&&(F=this.aryTouchmoveEventCall),F},f.prototype.callEvent=function(w,F){var T=this.getEventCall(w);if(T){for(var R=T.slice(),ee=0,re=R.length;ee<re;ee++){var ae=R[ee](F);if(ae==1)return ae}return 0}},f.prototype.addEventListener=function(w,F,T){T===void 0&&(T=!1);var R=this.getEventCall(w);return!!R&&(-1<R.indexOf(F)||(T?R.unshift(F):R.push(F)),!0)},f.prototype.removeEventListener=function(w,F){var T=this.getEventCall(w);if(!T)return!1;var R=T.indexOf(F);return-1<R&&(T.splice(R,1),!0)},f);function f(){this.aryMousedownEventCall=[],this.aryMouseupEventCall=[],this.aryMousemoveEventCall=[],this.aryTouchstartEventCall=[],this.aryTouchendEventCall=[],this.aryTouchmoveEventCall=[],this.defautProc=new D}r.MxDrawObjectEvent=C},{"./MxDrawData":29,"./MxFun":34,"./Operate/MxJigCmdManager":58,"./UI/MxUiVue":67,three:19}],34:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxFun=void 0;var i,l,a,c,d,D,v,C,f,w,F,T,R,ee,re=e("three"),ae=e("./MxManager"),ce=e("./MxDrawObject"),ue=e("./MxDrawObject2d"),de=e("./MxDrawObject3d"),A=e("./UI/MxUiObjectMobile"),oe=e("./UI/MxUiObjectPC"),le=e("./Operate/MxJigCmdManager"),ie=e("./Operate/MxJigGetLine"),I=e("./Operate/MxCmdRunManager"),j=e("./UI/MxUiVue"),pe=e("./MxThreeJS"),be=e("./MxWindowsEvent"),De=e("./MxTools"),Re=e("./MxDrawCommands"),Ee=e("./MxDrawData"),Se=e("./MxCAD/MxCADEditDisplay"),Le=e("./MxLocalFileLoad"),Ie=e("./TempTest/MxTestJig"),st=e("./MxVersion"),Ye=e("./MrxDbgUtils");function Ke(Ne){Ne.cmd&&an(Ne.cmd)}function St(Ne){var mt=new RegExp("(^|&)"+Ne+"=([^&]*)(&|$)"),me=window.location.href,Ae=me.indexOf("?"),Oe=(me=Ae==-1?"":me.substring(Ae)).substr(1).match(mt);return Oe!=null?decodeURIComponent(Oe[2]):""}function ct(){return ae.MxManager.currentMx()}function Ct(){return ae.MxManager.currentMx()}function Pt(Ne,mt){var me={};if(Ne!=null)if(Ne instanceof Array)me.is2d=!0;else{Ne.length==0&&(Ne="empty");var Ae=Ne.substring(Ne.lastIndexOf(".")+1).toLowerCase();if(Ae!="dwg"&&Ae!="dxf"&&Ae!="dwf"&&Ae!="mwg"&&Ae!="wgh"||(me.is2d=!0),mt!=1&&mt!=null&&Ae!="wgh"){var Oe=void 0,Pe=Ne.split("/");(Oe=Pe.length==1?Pe[0]:Pe[Pe.length-1])[0]=="$"&&(Oe=Oe.substring(1));for(var $e=void 0,tt=0;tt<Pe.length-1;tt++)$e=tt==0?Pe[tt]:$e+"/"+Pe[tt];Ne=$e?$e+"/$"+Oe+".mxb1.wgh":"$"+Oe+".mxb1.wgh"}}else Ne="empty";return me.sFileName=Ne,me}function bt(Ne){if(typeof Ne=="string"){var mt=Ne.substring(Ne.lastIndexOf(".")+1).toLowerCase();if(mt!="dwg"&&mt!="wgh"){var me=Ne.lastIndexOf("?");if(me!=-1){var Ae=Ne.substring(me,Ne.length);return{sFileName:Ne=Ne.substring(0,me),sUrlParam:Ae}}}}return null}function an(Ne,mt){var me=Ct();return I.MxCmdRunManager.runCmd(me,Ne,mt)}function Yt(Ne){Ne!=null&&(Ne.init(),j.MxUiVue.init(Ne)),F||(console.log("MxDraw Version:"+st.MxBulid.getVersion()),F=!0,ee=new Le.MxLocalNodeJs,le.MxJigCmdManager.init(),be.MxWindowsEvent.registEvent(),Re.MxDrawCommands.registerCommand(),window.mxConfig_isLoadTest&&Ie.MxTest.registerCommand(),R.sendStringToExecute=Ke)}i=r.MxFun||(r.MxFun={}),l=".",v=d=c=-1,w=null,F=!(f="ws://localhost:5090"),R={},ee=T=C=D=a=void 0,i.getUiObj=function(){return w},i.getNodeJs=function(){return ee},i.setMxServer=function(Ne){f=Ne},i.getMxServer=function(){return f},i.isPC=function(){return!/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)},i.getClientPlatform=function(){return navigator.platform},i.getClientInfo=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},i.curPath=function(){return l},i.setCurPath=function(Ne){l=Ne},i.getQueryString=St,i.getLocationPageUrl=function(){var Ne=window.location.href,mt=Ne.lastIndexOf("?");return mt==-1?Ne:Ne.substring(0,mt)},i.getUrlParams=function(){var Ne=window.location.search,mt=Ne.substr(1,Ne.length).split("&"),me=new Array;if(mt!=null)for(var Ae=0;Ae<mt.length;Ae++){var Oe=mt[Ae].replace(/[=|^==]/,"&").split("&");if(1<Oe.length){var Pe=new Array;Pe.push(decodeURIComponent(Oe[0])),Pe.push(decodeURIComponent(Oe[1])),me.push(Pe)}}return me},i.call=function(Ne,mt,me){mt==null?mt="{}":typeof mt=="string"?mt.length==0?mt="{}":mt[0]=="["&&mt[mt.length-1]=="]"||mt[0]=="{"&&mt[mt.length-1]=="}"||(mt='"'+(mt=mt.replace(/"/g,"'"))+'"'):mt=typeof mt=="object"?JSON.stringify(mt):"{}",ae.MxManager.currentMx().call(Ne,mt,me)},i.loadCodeToServer=function(Ne,mt){ae.MxManager.currentMx().loadCodeToServer(Ne,mt)},i.getCurrentMx=ct,i.getCurrentMxCAD=function(){var Ne=ct();return Ne?Ne.getMxCAD():null},i.loadCodeFileToServer=function(Ne,mt,me){ae.MxManager.currentMx().loadCodeFileToServer(Ne,mt,me)},i.isEnableSelect=function(){if(c!=-1)return c==1;var Ne=St("select");return c=0,Ne!=null&&Ne.toLowerCase()=="y"&&(c=1),c==1},i.is3DDwg=function(){if(v!=-1)return v==1;var Ne=St("3ddwg");return v=0,Ne!=null&&Ne.toLowerCase()=="y"&&(v=1),v==1},i.isStaticLoad=function(){if(d!=-1)return d==1;var Ne=St("static");return d=0,Ne!=null&&Ne.toLowerCase()=="y"&&(d=1),d==1},i.enableSelect=function(Ne){c=Ne?1:0},i.enablStaticLoad=function(Ne){d=Ne==null||Ne?1:0},i.dwgDir=function(){return D!=null||(D=St("dwgdir"))==null&&(D=""),D},i.setDwgDir=function(Ne){D=Ne},i.getStaticServer=function(){return C!=null||(C=St("staticServer"))==null&&(C=""),C},i.setStaticServer=function(Ne){C=Ne},i.is2dParam=function(){if(a!=null)return a;var Ne=St("file");if(a=!1,Ne!=null){var mt=Ne.substring(Ne.lastIndexOf(".")+1);mt.toLowerCase()!="dwg"&&mt.toLowerCase()!="dxf"&&mt.toLowerCase()!="dwf"&&mt.toLowerCase()!="mwg"||(a=!0)}return a},i.set2dParam=function(Ne){a=Ne},i.showLayer=function(Ne,mt,me){var Ae=ae.MxManager.currentMx().getMxCAD();if(!Ae)return ae.MxManager.currentMx().showLayer(Ne,mt,me);typeof Ne=="number"&&Se.MxCADDisplayFun.showLayer(Ae.getDatabase(),Ne,mt)},i.upDisplayForLayerData=function(Ne){var mt=ae.MxManager.currentMx().getMxCAD();return!!mt&&mt.getDatabase().getLayerTable().upDisplayForLayerData(mt.getDatabase(),Ne)},i.screenCoord2World=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().screenCoord2World(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().screenCoord2World(Ne,mt,me)},i.worldCoord2Screen=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().worldCoord2Screen(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().worldCoord2Screen(Ne,mt,me)},i.docCoord2Cad=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().docCoord2Cad(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().docCoord2Cad(Ne,mt,me)},i.cadCoord2Doc=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().cadCoord2Doc(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().cadCoord2Doc(Ne,mt,me)},i.docCoord2World=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().docCoord2World(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().docCoord2World(Ne,mt,me)},i.worldCoord2Doc=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().worldCoord2Doc(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().worldCoord2Doc(Ne,mt,me)},i.screenCoord2Doc=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().screenCoord2Doc(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().screenCoord2Doc(Ne,mt,me)},i.docCoord2Screen=function(Ne,mt,me){return Ne instanceof Object?ae.MxManager.currentMx().docCoord2Screen(Ne.x,Ne.y,Ne.z):ae.MxManager.currentMx().docCoord2Screen(Ne,mt,me)},i.docCoordLong2Cad=function(Ne){return ae.MxManager.currentMx().docCoordLong2Cad(Ne)},i.cadCoordLong2Doc=function(Ne){return ae.MxManager.currentMx().cadCoordLong2Doc(Ne)},i.viewCoordLong2Cad=function(Ne){return ae.MxManager.currentMx().viewCoordLong2Cad(Ne)},i.cadCoordLong2View=function(Ne){return ae.MxManager.currentMx().cadCoordLong2View(Ne)},i.zoomCenter=function(Ne,mt){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomCenter(Ne,mt),ae.MxManager.currentMx().updateDisplay())},i.zoomW=function(Ne,mt,me,Ae,Oe){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomW(new re.Vector3(Ne,mt,0),new re.Vector3(me,Ae,0),Oe),ae.MxManager.currentMx().updateDisplay())},i.zoomScale=function(Ne){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomScale(Ne),ae.MxManager.currentMx().updateDisplay())},i.zoomAll=function(){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomAll(),ae.MxManager.currentMx().updateDisplay())},i.deleteAll=function(){return ae.MxManager.currentMx().deleteAll()},i.callCommand=function(Ne,mt,me){ae.MxManager.currentMx().callCommand(Ne,mt,me)},i.getCurrentColor=function(){return ae.MxManager.currentMx().getCurrentColor()},i.setCurrentColor=function(Ne){ae.MxManager.currentMx().setCurrentColor(Ne)},i.undo=function(){ae.MxManager.currentMx().undo()},i.save=function(){ae.MxManager.currentMx().save()},i.showLoading=function(){w?.ShowLoading()},i.hideLoading=function(){w?.HideLoading()},i.showProp=function(Ne){w?.ShowObjectProperty(Ne)},i.hideProp=function(){w?.HideObjectProp()},i.getUiObject=function(){return w},i.getViewCenterDocCoord=function(){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().getViewCenterDocCoord():new re.Vector3(0,0,0)},i.screenCoordLong2Doc=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().screenCoordLong2Doc(Ne):Ne},i.docCoordLong2Screen=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().docCoordLong2Screen(Ne):Ne},i.worldCoordLong2Doc=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().worldCoordLong2Doc(Ne):Ne},i.docCoordLong2World=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().docCoordLong2World(Ne):Ne},i.screenCoordLong2World=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().screenCoordLong2World(Ne):Ne},i.worldCoordLong2Screen=function(Ne){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().worldCoordLong2Screen(Ne):Ne},i.addSelectEvent=function(Ne){ae.MxManager.addSelectEvent(Ne)},i.clearSelectEvent=function(){ae.MxManager.clearSelectEvent()},i.removeThreejsObject=function(Ne,mt,me){Ne&&(Ne.traverse(function(Ae){(Ae instanceof re.Mesh||Ae instanceof re.Line||Ae instanceof re.LineLoop)&&(Ae.geometry.dispose(),me&&(Ae.material instanceof Array?Ae.material.forEach(function(Oe){Oe.dispose()}):Ae.material.dispose()))}),mt.remove(Ne))},i.setOutServerDebugCall=function(Ne){ae.MxManager.setOutDebugCall(Ne)},i.updateDisplay=function(){ae.MxManager.updateDisplay()},i.getCurrentDraw=Ct,i.formatString=function(Ne){for(var mt=[],me=1;me<arguments.length;me++)mt[me-1]=arguments[me];for(var Ae=0;Ae<mt.length;Ae++)Ne=Ne.replace("{".concat(Ae,"}"),mt[Ae]);return Ne},i.createMxUiObject=function(Ne){var mt;return mt=this.isPC()?new oe.MxUiObjectPC:new A.MxUiObjectMobile,Ne(w=mt),mt.create(),mt},i.openFile=function(Ne,mt){var me="";if(typeof Ne=="string"){var Ae=bt(Ne);Ae&&(me=Ae.sUrlParam,Ne=Ae.sFileName)}mt==null&&(mt=!1);var Oe=Pt(Ne,mt);return Oe.is2d&&(a=Oe.is2d),Ne=Oe.sFileName,ae.MxManager.currentMx().openFile(Ne,me)},i.createMxObject=function(Ne,mt,me,Ae,Oe,Pe,$e,tt){F||Yt(),typeof Ne=="string"&&(Ne=Ne.length==0?void 0:document.getElementById(Ne));var qe=null,dt="";if(tt)mt="",(qe=new ue.MxDrawObject2d).setViewColor(0),qe.initRunMode(ce.MxRunMode.kCPPMxCAD);else{if(mt==null)mt=i.getQueryString("file");else{var ft=bt(mt);ft&&(dt=ft.sUrlParam,mt=ft.sFileName)}var Ft=Ae!=null&&Ae,it=Pt(mt,Pe);it.is2d&&(Ft=it.is2d),mt=it.sFileName,Oe==1&&(mt=""),Ft?(qe=new ue.MxDrawObject2d).setViewColor(0):(qe=new de.MxDrawObject3d).setViewColor(15790320)}return me?.(qe),qe.create(Ne,mt,dt,$e),qe},i.getMxObjectFormElement=function(Ne){return ae.MxManager.getMxObject(Ne)},i.initMxCpp=function(Ne){ae.MxManager.initMxCpp(Ne)},i.isRunningCommand=function(){return le.MxJigCmdManager.isRunning()},i.stopRunCommand=function(){return le.MxJigCmdManager.stopCmd()},i.runCommand=function(Ne){return le.MxJigCmdManager.runCmd(Ne)},i.getTHREE=function(){return re},i.getLine=function(Ne){var mt=new ie.MxJigGetLine;mt.setRetCall(Ne),le.MxJigCmdManager.runCmd(mt)},i.addCommand=function(Ne,mt,me){I.MxCmdRunManager.addCommand(Ne,mt,me)},i.sendStringToExecute=an,i.getMxEntity=function(Ne){var mt=Ct();return mt?mt.getMxEntityUserObject(Ne):null},i.initUiDataObject=function(Ne){j.MxUiVue.isNull()&&(Ne.init(i),j.MxUiVue.init(Ne))},i.init=Yt,i.addWindowsEvent=function(Ne){be.MxWindowsEvent.addEvent(Ne)},i.getCurrentMousePostion=function(){return be.MxWindowsEvent.getCurrentMousePostion()},i.getMxThreeJS=function(){return pe.MxThreeJS},i.getMxTools=function(){return De.MxTools},i.getMxCmdRunManager=function(){return I.MxCmdRunManager},i.getMxJigCmdManager=function(){return le.MxJigCmdManager},i.initQuickCommand=function(Ne){I.MxCmdRunManager.InitQuickCommand(Ne)},i.Assert=function(Ne){Ne||console.log("MxAssert error")},i.setIniset=function(Ne){Ee.MxDrawData.setIniset(Ne)},i.setPostMessageToParentFrameFunction=function(Ne){T=Ne},i.postMessageToParentFrame=function(Ne){return T!=null&&(T(Ne),!0)},i.onParentFrameMessage=function(Ne){Ne!=null&&Ne.type!=null&&R[Ne.type]&&R[Ne.type](Ne)},i.acutPrintf=function(Ne){for(var mt=[],me=1;me<arguments.length;me++)mt[me-1]=arguments[me];if(!j.MxUiVue.isNull()){for(var Ae=arguments,Oe=Ae[0],Pe=0;Pe<Ae.length-1;Pe++){var $e=new RegExp("\\{"+Pe+"\\}","gm");Oe=Oe.replace($e,Ae[Pe+1])}j.MxUiVue.AcutPrintfNoFormat(Oe,!0)}},i.loadImageMaterial=function(Ne,mt){ae.MxManager.getMxDbTextureManager().loadImage(Ne,mt)},i.loadSVG=function(Ne,mt,me,Ae){ae.MxManager.getMxDbSvgManager().loadSVG(Ne,mt,me,Ae)},i.initMxDbEntityType=function(Ne){ae.MxManager.getMxDbEntityClassHierarchy().init(Ne)},i.initDynamicCreate=function(Ne){ae.MxManager.getMxDbEntityClassHierarchy().initDynamic(Ne)},i.ceneratecursor=function(Ne,mt,me,Ae){Ne===void 0&&(Ne=128),mt===void 0&&(mt=10),me===void 0&&(me=!0);var Oe=document.createElement("canvas");Oe.width=Oe.height=Ne,Oe.style.background="transparent";var Pe=Oe.getContext("2d"),$e=Ne%2==0?-.5:0,tt=mt%2==0?-.5:0;Pe.strokeStyle=Ae||"#fff",me&&(Pe.beginPath(),Pe.moveTo(Oe.width/2+$e,$e),Pe.lineTo(Oe.width/2+$e,Oe.height+$e),Pe.stroke(),Pe.beginPath(),Pe.moveTo($e,Oe.height/2+$e),Pe.lineTo(Oe.width+$e,Oe.height/2+$e),Pe.stroke()),Pe.beginPath(),Pe.strokeRect(Ne/2-mt/2+tt,Ne/2-mt/2+tt,mt,mt),Pe.stroke();var qe=new Image;return qe.src=Oe.toDataURL("image/png"),qe.src},i.getMrxDbgUtilsClass=function(){return Ye.MrxDbgUtils}},{"./MrxDbgUtils":20,"./MxCAD/MxCADEditDisplay":21,"./MxDrawCommands":28,"./MxDrawData":29,"./MxDrawObject":30,"./MxDrawObject2d":31,"./MxDrawObject3d":32,"./MxLocalFileLoad":35,"./MxManager":36,"./MxThreeJS":44,"./MxTools":45,"./MxVersion":47,"./MxWindowsEvent":48,"./Operate/MxCmdRunManager":53,"./Operate/MxJigCmdManager":58,"./Operate/MxJigGetLine":59,"./TempTest/MxTestJig":63,"./UI/MxUiObjectMobile":65,"./UI/MxUiObjectPC":66,"./UI/MxUiVue":67,three:19}],35:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxLocalDwgFileLoad=r.MxLocalFileLoad=r.MxLocalNodeJs=void 0;var i=e("./MxFun"),l=(a.prototype.init=function(C){this.loadFileCall=C.loadFileFun},a.prototype.loadFile=function(C,f,w,F,T){this.loadFileCall!=null?this.loadFileCall(C,f,w,F,T):T(void 0)},a);function a(){this.loadFileCall=null}r.MxLocalNodeJs=l;var c=(d.prototype.setPath=function(C){this.path=C},d.prototype.setBinary=function(C){this.isBinary=C},d.prototype.load=function(C,f,w,F){i.MxFun.getNodeJs().loadFile(this.path+C,this.isBinary,f,w,F)},d);function d(){this.path="",this.isBinary=!1}r.MxLocalFileLoad=c;var D=(v.prototype.setShowloading=function(C){this._isShowLoading=C},v.prototype.load=function(C,f){var w="$"+f+".mxb1.wgh";this._path=C,this._filename=f;var F=this;this.getFile(this._path,w,!1,function(T){typeof T=="string"?F.net.onStaticHeadMessage(T):console.log("mx error h1")},function(){console.log("mx get "+w+" faild")})},v.prototype.getDatas=function(){if(this._iGet>=this._dataNum)this._isShowLoading&&i.MxFun.hideLoading();else{var C=this._dataType[this._iGet];this._iGet++;var f=this,w=this._iGet+1,F="$"+this._filename+".mxb"+w+".wgh",T=C!=0;this.getFile(this._path,F,T,function(R){f.net.onStaticMessage(R),f.getDatas()},function(){f._dataNum=0,f._iGet=0,f._isShowLoading&&i.MxFun.hideLoading(),console.log("mx get "+F+" faild")})}},v.prototype.onRenderHead=function(C){var f=JSON.parse(C);this._dataType=f.type,this._dataNum=f.count,this._iGet=0,this._isShowLoading&&i.MxFun.showLoading(),this.getDatas()},v.prototype.getFile=function(C,f,w,F,T){var R=new c;R.setPath(C),R.setBinary(w),R.load(f,F,function(){},T)},v);function v(C){this.net=null,this._dataNum=0,this._iGet=0,this._dataType=[],this._path="",this._filename="",this._isShowLoading=!0,this.net=C}r.MxLocalDwgFileLoad=D},{"./MxFun":34}],36:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxManager=r.MxCpp=r.MxData=void 0;var i,l=e("./View/MxDbEntity"),a=e("./View/MxDbTextureManager"),c=e("./SVGLoader/MxSVGLoader");(i=r.MxData||(r.MxData={})).iSelectRenderOrder=5,i.iCADMeshRenderOrder=10,i.iCADCurveRenderOrder=20,i.iMxEntityRenderOrder=30,i.iGripRenderOrder=110,i.iDynJigRenderOrder=120;var d,D,v,C,f,w,F,T,R,ee,re=(ae.prototype.init=function(ce){this.imp=ce},ae.prototype.NewMdGePoint3d=function(ce){return this.imp?this.imp.NewMdGePoint3d(ce):null},ae);function ae(){}r.MxCpp=re,d=r.MxManager||(r.MxManager={}),D=[],v=null,f=[],w=void(C=0),F=new a.MxDbTextureManager,T=new c.MxSvgManager,R=new l.MxDbEntityClassHierarchy,ee=new re,d.add=function(ce){D.push(ce)},d.initMxCpp=function(ce){ee.init(ce)},d.getMxCpp=function(){return ee},d.allocId=function(){return++C},d.getMxDbEntityClassHierarchy=function(){return R},d.getMxDbTextureManager=function(){return F},d.getMxDbSvgManager=function(){return T},d.outDebugString=function(ce){w==null?console.log(ce):w(ce)},d.setOutDebugCall=function(ce){w=ce},d.onLoad=function(){for(var ce in D)D[ce].onLoad("")},d.updateDisplay=function(){for(var ce in D)D[ce].updateDisplay()},d.currentMx=function(){return v},d.setCurrentMx=function(ce){v=ce},d.initResize=function(){for(var ce in D)D[ce].initResize()},d.addSelectEvent=function(ce){f.push(ce)},d.clearSelectEvent=function(){f=[]},d.callSelectObject=function(ce){for(var ue in f)if(f[ue](ce)==1)break},d.getMxObject=function(ce){if(typeof ce=="number"){for(var ue in D)if(D[ue].getId()===ce)return D[ue]}else for(var ue in D)if(D[ue].getCanvas()===ce)return D[ue];return null}},{"./SVGLoader/MxSVGLoader":61,"./View/MxDbEntity":71,"./View/MxDbTextureManager":76}],37:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxMaterial=void 0;var i=e("three");(function(l){l.shaderUniforms={crAmbient:{value:new i.Vector3(1,0,0)},crDiffuse:{value:new i.Vector3(1,0,0)},crSpecular:{value:new i.Vector3(1,0,0)}},l.m_arrSystemColors=new Array(0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10066176,10066252,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510272,8755532,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019904,7510348,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529536,6265164,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,39168,5019980,32512,4161343,19456,2509862,65343,8388511,52275,6737023,39206,5019999,32543,4161359,19475,2509871,65407,8388543,52326,6737049,39244,5020018,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39282,5020037,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39321,5020057,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29337,5014937,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19609,5010073,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9881,5005209,8063,4149119,4940,2502476,255,8355839,204,6710988,153,5000345,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490521,6245529,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980889,7490713,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471257,8735897,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,10027161,10046617,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,10027122,10046597,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,10027084,10046578,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,10027046,10046559,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215),l.m_arrDefUseMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_arrDefUseCurveMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_arrDefUseBasicMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_selectMaterial=new i.MeshPhongMaterial({color:255,opacity:.2,transparent:!0,side:i.DoubleSide}),l.m_mouseMoveMaterial=new i.MeshPhongMaterial({color:16776960,side:i.DoubleSide}),l.m_lockedMaterial=new i.MeshPhongMaterial({color:197379,side:i.DoubleSide}),l.m_samplePoints=new i.PointsMaterial({color:255,depthTest:!1,size:8}),l.m_samplePointsMouseMove=new i.PointsMaterial({color:16711680,depthTest:!1,size:12});var a=new i.MeshBasicMaterial({color:16777215,transparent:!0,depthTest:!1,side:i.DoubleSide,opacity:1,stencilWrite:!1,colorWrite:!1});l.getStencilMaterial=function(){return a},l.GetColorByIndex=function(c){return l.m_arrSystemColors[c]},l.GetColorMaterial=function(c){var d=l.m_arrDefUseMaterials[c];return d===null&&(d=new i.MeshLambertMaterial({color:l.m_arrSystemColors[c],side:i.DoubleSide}),l.m_arrDefUseMaterials[c]=d),d},l.GetBaseColorMaterial=function(c){var d=l.m_arrDefUseBasicMaterials[c];return d===null&&(d=new i.MeshBasicMaterial({color:l.m_arrSystemColors[c],side:i.DoubleSide}),l.m_arrDefUseMaterials[c]=d),d},l.GetCurveColorMaterial=function(c){var d=l.m_arrDefUseCurveMaterials[c];return d===null&&(d=new i.LineBasicMaterial({color:l.m_arrSystemColors[c],linewidth:1}),l.m_arrDefUseCurveMaterials[c]=d),d},l.GetSelectMaterial=function(){return l.m_selectMaterial},l.GetMouseMoveMaterial=function(){return l.m_mouseMoveMaterial},l.GetLockedMaterial=function(){return l.m_lockedMaterial},l.GetSamplePointsMaterial=function(){return l.m_samplePoints},l.GetSamplePointsMouseMoveMaterial=function(){return l.m_samplePointsMouseMove},l.createMaterial=function(c){var d=void 0;if(c==null)return d;function D(v,C){if(C.map!=null){var f=C.map,w=new i.TextureLoader().load(f);w.wrapS=w.wrapT=i.RepeatWrapping,v.map=w,v.side=i.DoubleSide}}return c.transparent!=0?c.transparent=!0:c.transparent=!1,c.name=="MeshPhongMaterial"?D(d=new i.MeshPhongMaterial(c),c):c.name=="MeshBasicMaterial"?D(d=new i.MeshBasicMaterial(c),c):c.name=="MeshDepthMaterial"?D(d=new i.MeshDepthMaterial(c),c):c.name=="MeshNormalMaterial"?D(d=new i.MeshNormalMaterial(c),c):c.name=="MeshLambertMaterial"?D(d=new i.MeshLambertMaterial(c),c):c.name=="MeshStandardMaterial"&&D(d=new i.MeshStandardMaterial(c),c),d}})(r.MxMaterial||(r.MxMaterial={}))},{three:19}],38:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxHFileLoad=r.MxNet=r.MxNetBinMessageType=r.MxNetSend=r.MxNetMessage=r.MxNetMessageType=r.MxNetData=void 0;var i,l,a=e("three"),c=e("./MxFun"),d=e("pako"),D=e("./MxManager"),v=e("./MxDrawData"),C=(f.prototype.getId=function(){return this._dataView.getInt32(4,!0)},f.prototype.getVersion_MwBlobHead=function(){return this._dataView.getInt32(60,!0)},f.prototype.getVersion_MwBlobHeadDynLen=function(){return this._dataView.getInt32(4,!0)},f.prototype.getdPointCurveBuffersHead=function(){var A={};return A.ver=this._dataView.getInt32(4,!0),A.databaseIndex=this._dataView.getInt32(8,!0),A.zeroLayerIdIndex=this._dataView.getInt32(16,!0),A.datacount=this._dataView.getInt32(20,!0),A.datasize=this._dataView.getInt32(24,!0),A},f.prototype.getdPointMeshBuffersHead=function(){var A={};return A.ver=this._dataView.getInt32(4,!0),A.databaseIndex=this._dataView.getInt32(8,!0),A.id=this._dataView.getInt32(12,!0),A.zeroLayerIdIndex=this._dataView.getInt32(16,!0),A.datacount=this._dataView.getInt32(20,!0),A.datasize=this._dataView.getInt32(24,!0),A},f.prototype.getdPointTextureBuffersHead=function(){var A={};return A.ver=this._dataView.getInt32(4,!0),A.databaseIndex=this._dataView.getInt32(8,!0),A.zeroLayerIdIndex=this._dataView.getInt32(16,!0),A.datacount=this._dataView.getInt32(20,!0),A.datasize=this._dataView.getInt32(24,!0),A},f.prototype.getBlobHeadForMemorySectionsHead=function(A){var oe={};return oe.type=this._dataView.getInt32(A,!0),A+=4,oe.ver=this._dataView.getInt32(A,!0),A+=4,oe.databaseIndex=this._dataView.getInt32(A,!0),A+=4,oe.nOffset=A,oe},f.prototype.getMemorySectionsHead=function(){var A=this.getBlobHeadForMemorySectionsHead(0);return A.zeroLayerIdIndex=this._dataView.getInt32(A.nOffset,!0),A.nOffset+=4,A.datacount=this._dataView.getInt32(A.nOffset,!0),A.nOffset+=4,A.datasize=this._dataView.getInt32(A.nOffset,!0),A.nOffset+=4,A.datasize!=A.nOffset&&console.log("mx: sectionshead size assert(0)"),A},f.prototype.getMemorySectionHead=function(A){var oe=this.getBlobHeadForMemorySectionsHead(A);return A=oe.nOffset,oe.pointCount=this._dataView.getInt32(A,!0),A+=4,oe.layerId=this._dataView.getInt32(A,!0),A+=4,oe.blkId=this._dataView.getInt32(A,!0),A+=4,oe.memColor=this._dataView.getInt32(A,!0),A+=4,oe.memId=this._dataView.getInt32(A,!0),A+=4,oe.memType=this._dataView.getInt32(A,!0),A+=4,oe.offset=A,oe},f.prototype.getdPointTextureBufferDataHead=function(A){A+=4,A+=4,A+=4;var oe={};return oe.dataCount=this._dataView.getInt32(A,!0),A+=4,oe.layerId=this._dataView.getInt32(A,!0),A+=4,oe.blkId=this._dataView.getInt32(A,!0),A+=4,oe.offset=A,oe},f.prototype.getdPointCurveBufferDataHead=function(A){A+=4,A+=4,A+=4;var oe={};return oe.pointCount=this._dataView.getInt32(A,!0),A+=4,oe.layerId=this._dataView.getInt32(A,!0),A+=4,oe.blkId=this._dataView.getInt32(A,!0),A+=4,oe.offset=A,oe},f.prototype.getdPointMeshBufferDataHead=function(A){A+=4,A+=4,A+=4;var oe={};return oe.pointCount=this._dataView.getInt32(A,!0),A+=4,oe.layerId=this._dataView.getInt32(A,!0),A+=4,oe.blkId=this._dataView.getInt32(A,!0),A+=4,oe.offset=A,oe},f.prototype.getDatabaseIndex=function(){return this._dataView.getInt32(8,!0)},f.prototype.getColorIndex=function(){return this._dataView.getInt32(24,!0)},f.prototype.getBufferType=function(){return this._dataView.getInt32(32,!0)},f.prototype.getIsSketchEntity=function(){return this._dataView.getInt32(40,!0)},f.prototype.getLayerId=function(){return this._dataView.getInt32(44,!0)},f.prototype.getBlockId=function(){return this._dataView.getInt32(48,!0)},f.prototype.getVertexBufferSize=function(){return this._dataView.getInt32(12,!0)},f.prototype.getIndexBufferSize=function(){return this._dataView.getInt32(16,!0)},f.prototype.getZeroLayerId=function(){return this._dataView.getInt32(52,!0)},f.prototype.getSelectMark=function(){return this._dataView.getInt32(56,!0)},f.prototype.getMateria=function(){var A=this._dataView.getInt32(36,!0);if(A==0)return"";for(var oe=[],le=0;le<A;le++){var ie=String.fromCharCode(this._dataView.getUint8(80+le));oe.push(ie)}return oe.join("")},f.prototype.getDrawDataOffset=function(){return this._dataView.getInt32(36,!0)+80},f.prototype.getMesh=function(){var A=this._dataView.getInt32(4,!0),oe=this._dataView.getInt32(32,!0)==0,le={},ie=this._dataView.getInt32(12,!0),I=this._dataView.getInt32(16,!0);if(ie===0||I===0)return le.size=80,le;var j,pe=new a.Geometry,be=80;j=oe?ie/4/8:ie/4/2;for(var De=0;De<j;De++){var Re=this._dataView.getFloat32(be+0,!0),Ee=this._dataView.getFloat32(be+4,!0),Se=0;oe?(Se=this._dataView.getFloat32(be+8,!0),this._dataView.getFloat32(be+12,!0),this._dataView.getFloat32(be+16,!0),this._dataView.getFloat32(be+20,!0),this._dataView.getFloat32(be+24,!0),this._dataView.getFloat32(be+28,!0),be+=32):be+=8;var Le=new a.Vector3(Re,Ee,Se);pe.vertices.push(Le)}var Ie=I/4;for(De=0;De<Ie;De+=3){var st=this._dataView.getInt32(be,!0);be+=4;var Ye=this._dataView.getInt32(be,!0);be+=4;var Ke=this._dataView.getInt32(be,!0);be+=4;var St=new a.Face3(st,Ye,Ke);pe.faces.push(St)}var ct=this.getIsSketchEntity();return le.size=be,le.geometry=pe,le.id=A,le.isSketchEntity=ct,le.nColorIndex=this._dataView.getInt32(24,!0),le},f.prototype.getCurve=function(A){var oe,le=this._dataView.getInt32(32,!0),ie=this.getIsSketchEntity(),I=le==0,j={};if((oe=I?this._dataView.getInt32(20,!0)/4/3:this._dataView.getInt32(20,!0)/4/2)<2)return j;for(var pe=new a.Geometry,be=A,De=0;De<oe;De++){var Re=this._dataView.getFloat32(be,!0);be+=4;var Ee=this._dataView.getFloat32(be,!0);be+=4;var Se=0;I&&(Se=this._dataView.getFloat32(be,!0),be+=4),pe.vertices.push(new a.Vector3(Re,Ee,Se))}var Le=this._dataView.getInt32(4,!0);return j.size=be,j.geometry=pe,j.id=Le,j.isSketchEntity=ie,j.colorIndex=this._dataView.getInt32(28,!0),j},f);function f(A){this._dataView=A}r.MxNetData=C,(l=i=r.MxNetMessageType||(r.MxNetMessageType={})).kAddLayer="00000007",l.kClearLayer="00000008",l.kHideLayer="00000009",l.kShowLayer="00000010",l.kUpdateDisplayRange="00000011",l.kCallJsReturn="00000012",l.kLayerData="00000013",l.kSendDebugString="00000014",l.kShowLoading="00000015",l.kHideLoading="00000016",l.kSelectObject="00000017",l.kGlRenderHead="00000018",l.kUserLoginResult="00000019",l.kOpenFileResult="00000020",l.kServerReturn="00000021",l.kMxCADLayerData="00000056",l.kMxCADSystemVariable="00000057";var w=(F.prototype.setJsRetCall=function(A,oe,le){this.serverJsRetCall.set(oe+le,A)},F.prototype.onSocketErrort=function(){this.serverJsRetCall.forEach(function(A){A(void 0)}),this.serverJsRetCall=new Map},F.prototype.Do=function(A){var oe=this.net.getCurrentDatabaseId();if(oe==-1){var le=A.substring(0,4);oe=parseInt(le)}var ie=A.substring(4,12),I=A.substring(12);return this.messageCall[ie]!=null&&(this.messageCall[ie](I,oe),!0)},F);function F(A,oe){this.messageCall=new Map,this.serverJsRetCall=new Map,this.net=null,this.net=oe;var le=this;this.messageCall[i.kUpdateDisplayRange]=function(ie){if(!le.net.isTzDwgStaticFile()){ie=ie.replace(/\\/g,"\\\\");try{var I=JSON.parse(ie);if(I!=null&&A.is2D()){A.initCAD2Doc(new a.Matrix4),I.newbrownermode?I.DToSMat?v.MxDrawData.m_isCorrectLargeCoordinates?(A.intiDoc2Wold(new a.Matrix4),A.initCAD2Doc(I.DToSMat)):A.intiDoc2Wold(I.DToSMat):A.intiDoc2Wold(new a.Matrix4):A.intiDoc2Wold(I.DToWMat),A.updateCameraDisplayRange(new a.Vector3(+I.pt1[0],+I.pt1[1],+I.pt1[2]),new a.Vector3(+I.pt2[0],+I.pt2[1],+I.pt2[2]),+I.viewangle),A.initAllLayoutName(I.layout),A.updateDisplay(!0);var j=c.MxFun.getUiObj();j!=null&&(j.SetLayoutData(I.layout),j.UpDisplayLayout())}}catch{console.log("UpdateDisplayRange exception")}}},this.messageCall[i.kCallJsReturn]=function(ie){if(ie.length!=0){var I=JSON.parse(ie);I.cmd.length==0&&(I.cmd="__mx_loadcode");var j=I.cmd+I.count,pe=le.serverJsRetCall.get(j);pe&&(le.serverJsRetCall.delete(j),typeof I.ret=="string"&&(I.ret=I.ret.replace(/\'/g,'"')),pe(I.ret))}else console.log("assert(0),kCallJsReturn return empty")},this.messageCall[i.kSendDebugString]=function(ie){D.MxManager.outDebugString(ie)},this.messageCall[i.kUserLoginResult]=function(ie){A.userLoginResult(ie)},this.messageCall[i.kOpenFileResult]=function(ie){A.openFileResult(ie)},this.messageCall[i.kServerReturn]=function(ie){A.serverReturn(ie)},this.messageCall[i.kShowLoading]=function(ie){le.net.isTzDwgStaticFile()||c.MxFun.showLoading()},this.messageCall[i.kHideLoading]=function(ie){le.net.isTzDwgStaticFile()||(c.MxFun.hideLoading(),A.callInitCompleteEvent())},this.messageCall[i.kSelectObject]=function(ie){var I=JSON.parse(ie);D.MxManager.callSelectObject(parseInt(I.id))},this.messageCall[i.kGlRenderHead]=function(ie){A.isStaticLocalLoad()?A.getStaticLocalNet().onRenderHead(ie):(le.net.isTzDwgStaticFile()?A.getStaticLoadTzNet():A.getStaticNet()).onRenderHead(ie)},this.messageCall[i.kMxCADLayerData]=function(ie,I){A.getMxCAD().getOpenDisplay().OnMessageLayerData(ie)},this.messageCall[i.kMxCADSystemVariable]=function(ie,I){A.sysVariable().OnMessageMxCADSystemVariable(ie)},this.messageCall[i.kLayerData]=function(ie,I){if(I==0){if(A.addLayerInfoComplete(),(De=JSON.parse(ie))!=null){if(!De.isSketch){var j=De.list;for(var pe in j)A.addLayerInfo(j[pe].id,j[pe].colorvalue,j[pe].name),j[pe].zerolayer==1&&A.setZeroLayerId(j[pe].id)}De.isSketch||A.callEvent("uiSetLayerData",De.list);var be=c.MxFun.getUiObj();be!=null&&(De.isSketch?be.SetSketchLayerData(De.list):be.SetLayerData(De.list),be.UpDisplayLayer())}}else{var De,Re=A.getExtRefManager().getLayers(I);if(Re.initComplete(),(De=JSON.parse(ie))!=null)for(var pe in j=De.list)Re.add(j[pe].id,j[pe].colorvalue,j[pe].name),j[pe].zerolayer==1&&Re.setZeroLayerId(j[pe].id)}}}r.MxNetMessage=w;var T,R,ee=(re.prototype.setWebSocket=function(A){this._webSocket=A},re.prototype.UndoMark=function(){this._webSocket!=null&&this._webSocket.send(this.SendType.kUndoMark+"")},re.prototype.DoCommand=function(A,oe,le){this._webSocket!=null&&(le!=null?(this._callCount++,200<this._callCount&&(this._callCount=1),this._msg.setJsRetCall(le,A,this._callCount),oe==null&&(oe=""),this._webSocket.send(this.SendType.kCmdEx+","+A+","+this._callCount+","+oe)):oe==null?this._webSocket.send(this.SendType.kCmd+","+A):this._webSocket.send(this.SendType.kCmd+","+A+","+oe))},re.prototype.OpenFile=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kOpenFile+","+A)},re.prototype.UserLogin=function(A,oe,le){if(this._webSocket!=null){var ie={};ie.IdentitySign=A,ie.RandomToken=oe??"",ie.Init=le??"",this._webSocket.send(this.SendType.kUserLogin+","+JSON.stringify(ie))}},re.prototype.Init=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kInit+","+A)},re.prototype.CallServerJS=function(A,oe,le){this._webSocket!=null&&(le==null?oe==null||oe==null||oe.length==0?this._webSocket.send(this.SendType.kCallJS+',{"command":"'+A+'","param":"{}"}'):this._webSocket.send(this.SendType.kCallJS+',{"command":"'+A+'","param":'+oe+"}"):(this._callCount++,200<this._callCount&&(this._callCount=1),this._msg.setJsRetCall(le,A,this._callCount),oe==null||oe==null||oe.length==0?this._webSocket.send(this.SendType.kCallJS+',{"command":"'+A+'","param":"{}","count":"'+this._callCount+'"}'):this._webSocket.send(this.SendType.kCallJS+',{"command":"'+A+'","param":'+oe+',"count":"'+this._callCount+'"}')))},re.prototype.CallLoadCodeToServer=function(A,oe){this._webSocket!=null&&(this._msg.setJsRetCall(oe,"__mx_loadcode",0),A!=null&&A!=null&&A.length!=0&&this._webSocket.send(this.SendType.kCallJS+","+A))},re.prototype.DeleteObject=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kDelete+","+A)},re.prototype.SelectObject=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kSelect+","+A)},re.prototype.QuitSelectObject=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kQuitSelect+","+A)},re.prototype.SendDragDrawEntity=function(A){this._webSocket!=null&&this._webSocket.send(this.SendType.kAddDragDraw+","+A)},re.prototype.SendDragDrawRequest=function(){this._webSocket!=null&&(this.SendMousePickRay(),this._webSocket.send(this.SendType.kRequestDragDraw))},re.prototype.SendDragDrawDetermine=function(){this._webSocket!=null&&(this.SendMousePickRay(),this._webSocket.send(this.SendType.kDetermineDragDraw))},re.prototype.SendDragDrawCancel=function(){this._webSocket!=null&&this._webSocket.send(this.SendType.kCancelDragDraw)},re.prototype.SendMousePickRay=function(){this._webSocket},re);function re(A,oe){this.SendType={},this._callCount=1,this._webSocket=A,this._msg=oe,this.SendType.kCmd=0,this.SendType.kDelete=1,this.SendType.kSelect=2,this.SendType.kOpenFile=3,this.SendType.kGetDemoList=4,this.SendType.kCallJS=5,this.SendType.kAddDragDraw=6,this.SendType.kRequestDragDraw=7,this.SendType.kMousePickRay=8,this.SendType.kDetermineDragDraw=9,this.SendType.kCancelDragDraw=10,this.SendType.kQuitSelect=11,this.SendType.kInit=12,this.SendType.kCmdEx=13,this.SendType.kUserLogin=14,this.SendType.kUndoMark=15}r.MxNetSend=ee,(R=T=r.MxNetBinMessageType||(r.MxNetBinMessageType={})).eBlockRef=10,R.eEntitysData=14,R.eAddEntityFor2dPointTextureBuffers=15,R.eMxNewMemorySections=16,R.kMxCADBlockRef=56,R.kMxCADMemorySections=57,R.kMxCADMemorySectionsFromChange=59,R.kMxCADNotUseMemorySectionsForChage=61,R.kMxCADEntityDisplayDatas=62;var ae=(ce.prototype.setCurrentDatabaseId=function(A){this._iCurrentDatabaseId=A},ce.prototype.getMxDrawObject=function(){return this._mx},ce.prototype.getCurrentDatabaseId=function(){return this._iCurrentDatabaseId},ce.prototype.isTzDwgStaticFile=function(){return this._iCurrentDatabaseId!=-1},ce.prototype.onBinMessage=function(A){var oe=this._mx,le=d.inflate(A),ie=new DataView(le.buffer),I=ie.getInt32(0,!0);this._binMessageCall.has(I)?this._binMessageCall.get(I)(ie,this._iCurrentDatabaseId):(this._iCurrentDatabaseId==-1&&(I==0?oe.mxWebAddEntity(ie):I==2?oe.getSelect().mxWebAddEntity(ie):I==6?oe.removeEntityFromServer(ie):I==11&&oe.getExtRefManager().createExternalReferences(ie)),I==12?oe.mxWebAddEntityFor2dPointCurveBuffers(ie,this._iCurrentDatabaseId):I==13?oe.mxWebAddEntityFor2dPointMeshBuffers(ie,this._iCurrentDatabaseId):I==8?oe.mxWebAddEntityFor2dPointCurveBuffer(ie,this._iCurrentDatabaseId):I==9?oe.mxWebAddEntityFor2dPointMeshBuffer(ie,this._iCurrentDatabaseId):I==T.eBlockRef&&oe.mxWebCreateAllBlocks(ie,this._iCurrentDatabaseId))},ce.prototype.socket_onErrort=function(){this._msg.onSocketErrort()},ce.prototype.socket_onMessageImp=function(A,oe){if(oe===void 0&&(oe=!1),typeof A=="string")this._msg.Do(A);else if(oe)this.onBinMessage(A);else{var le=new FileReader;le.readAsArrayBuffer(A);var ie=this;le.onload=function(I){ie._mx.updateDisplay(),ie.onBinMessage(le.result)}}this._mx.updateDisplay()},ce.prototype.initBinMessage=function(){var A=this._mx;this._binMessageCall.set(T.kMxCADBlockRef,function(oe,le){A.getMxCAD().getOpenDisplay().OnMessageDisplayBlockRef(oe)}),this._binMessageCall.set(T.kMxCADMemorySections,function(oe,le){A.getMxCAD().getOpenDisplay().OnMessageDisplayMemorySections(oe)}),this._binMessageCall.set(T.kMxCADMemorySectionsFromChange,function(oe,le){A.getMxCAD().getSyncDisplay().OnMessageDisplayMemorySectionsFromChange(oe)}),this._binMessageCall.set(T.kMxCADNotUseMemorySectionsForChage,function(oe,le){A.getMxCAD().getSyncDisplay().OnMessageDisplayNotUseMemorySectionsForChage(oe)}),this._binMessageCall.set(T.kMxCADEntityDisplayDatas,function(oe,le){A.getMxCAD().getSelect().OnMessageEntityDisplayDatas(oe)}),this._binMessageCall.set(T.eEntitysData,function(oe,le){A.mxWebEntitysData(oe,le)}),this._binMessageCall.set(T.eAddEntityFor2dPointTextureBuffers,function(oe,le){A.mxWebAddEntityFor2dPointTextureBuffers(oe,le)}),this._binMessageCall.set(T.eMxNewMemorySections,function(oe,le){A.mxWebAddEntityForMemorySections(oe,le)})},ce.prototype.init=function(A,oe){var le=this;this._mx=A,this._msg=new w(A,this),this.initBinMessage(),oe&&(this._webSocket=new WebSocket(c.MxFun.getMxServer()),this._webSocket.onopen=function(){var ie=le._mx.getIniParam();if(ie.length!=0){for(var I="{",j=ie.length,pe=0;pe<j;pe++)I=pe==0?I+'"'+ie[pe][0]+'":"'+ie[pe][1]+'"':I+',"'+ie[pe][0]+'":"'+ie[pe][1]+'"';I+="}",le._send.Init(I)}},this._webSocket.onmessage=function(ie){le.socket_onMessageImp(ie.data)},this._webSocket.onerror=function(){console.log("mx: socket error"),le.socket_onErrort()}),this._send=new ee(this._webSocket,this._msg)},ce.prototype.closeWebSocket=function(){this._webSocket&&(this._send.setWebSocket(null),this._webSocket.close(),this._webSocket=null)},ce.prototype.getOnMessage=function(){return this._msg},ce.prototype.getSend=function(){return this._send},ce.prototype.onStaticMessage=function(A){try{return this.socket_onMessageImp(A,!0),!0}catch(oe){return console.log("mx file data error!"),console.log(oe),!1}},ce.prototype.onStaticHeadMessage=function(A){return typeof A=="string"&&this._msg.Do(A)},ce);function ce(){this._webSocket=null,this._send=null,this._msg=null,this._mx=null,this._binMessageCall=new Map,this._iCurrentDatabaseId=-1}r.MxNet=ae;var ue=(de.prototype.stopAllLoading=function(){this._isStopLoading||(this._isStopLoading=!0,this._isShowLoading&&c.MxFun.hideLoading())},de.prototype.setShowloading=function(A){this._isShowLoading=A},de.prototype.showLoading=function(){this._isShowLoading&&c.MxFun.showLoading()},de.prototype.hideLoading=function(A){this._isStopLoading||(this._isShowLoading&&c.MxFun.hideLoading(),this.net.getMxDrawObject().callInitCompleteEvent(),this.net.getMxDrawObject().callOpenFileComplete(A))},de.prototype.setRequestHeader=function(A){this._requestHeader=A},de.prototype.setUrlParam=function(A){this._urlParam=A},de.prototype.load=function(A,oe){var le=c.MxFun.curPath(),ie=c.MxFun.dwgDir(),I=c.MxFun.getStaticServer(),j="/buf/";if(A.substring(A.lastIndexOf(".")+1).toLowerCase()=="wgh"){j="/";var pe=A.substring(0,A.indexOf(".mxb1.wgh")).split("/");(A=pe.length==1?pe[0]:(I=A.substring(0,A.lastIndexOf("/")),pe[pe.length-1]))[0]=="$"&&(A=A.substring(1))}var be="$"+(A=encodeURIComponent(A))+".mxb1.wgh";I.length!=0?le=I+j:ie.length!=0?le=le+"/"+ie+j:le+=j,this._path=le,this._filename=A,1<(this._staticLoadingOpenFiles=oe).length&&(be=oe[0],this._path=void 0);var De=this;this.getFile(this._path,be,function(Re){if(!De._isStopLoading)return typeof Re!="string"?(console.log("mx error h1"),void De.hideLoading(4)):De.net.onStaticHeadMessage(Re)?void 0:(console.log("mx error h1:"+Re),void De.hideLoading(2))},function(){De.hideLoading(3),console.log("mx get "+be+" faild")})},de.prototype.getData=function(){if(this._isStopLoading)this.hideLoading(5);else if(this._iGet>=this._dataNum)this.hideLoading(0);else{var A=this._dataType[this._iGet];this._iGet++;var oe=this,le=this._iGet+1,ie="$"+this._filename+".mxb"+le+".wgh";if(1<this._staticLoadingOpenFiles.length){if(this._iGet>=this._staticLoadingOpenFiles.length)return console.log("Mx staticLoadingOpenFiles error!"),void this.hideLoading(7);ie=this._staticLoadingOpenFiles[this._iGet]}var I=ie;this._path&&(I=this._path+ie);var j=I.substring(0,I.lastIndexOf("/")+1);if(this.net.getMxDrawObject().setCurrentLoadUrl(j),A==0)this.getFile(this._path,ie,function(De){oe._isStopLoading||(oe.net.onStaticMessage(De)||(console.log(this._path),console.log(ie)),oe.getData())},function(){oe._dataNum=0,oe._iGet=0,oe.hideLoading(8),console.log("mx get "+ie+" faild")});else{var pe=new XMLHttpRequest,be=ie;this._path&&(be=this._path+ie),this._urlParam.length!=0?pe.open("GET",be+this._urlParam):pe.open("GET",be),v.MxDrawData.m_isRequestHeaderCacheControl&&pe.setRequestHeader("Cache-Control","max-age=7200"),this._requestHeader.length!=0&&pe.setRequestHeader("usertoken",this._requestHeader),pe.responseType="arraybuffer",pe.onload=function(){oe._isStopLoading||(oe.net.onStaticMessage(pe.response)||console.log(be),oe.getData())},pe.addEventListener("error",function(De){oe._dataNum=0,oe._iGet=0,oe.hideLoading(9),console.log("mx get "+ie+" faild")},!1),pe.send()}}},de.prototype.onRenderHead=function(A){if(!this._isStopLoading){var oe=JSON.parse(A);this._dataType=oe.type,this._dataNum=oe.count,this._iGet=0,this.showLoading(),this.getData()}},de.prototype.getFile=function(A,oe,le,ie){var I=new a.FileLoader(this.manager);I.setPath(A);var j=oe;this._urlParam.length!=0&&(j=oe+this._urlParam),this._requestHeader.length!=0&&(I.requestHeader={usertoken:this._requestHeader}),I.load(j,le,function(){},ie)},de);function de(A,oe){this.net=null,this.manager=null,this._dataNum=0,this._iGet=0,this._dataType=[],this._path="",this._filename="",this._staticLoadingOpenFiles=[],this._isShowLoading=!0,this._requestHeader="",this._isStopLoading=!1,this._urlParam="",this.net=A,this.manager=oe!==void 0?oe:a.DefaultLoadingManager}r.MxHFileLoad=ue},{"./MxDrawData":29,"./MxFun":34,"./MxManager":36,pako:1,three:19}],39:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSelect=void 0;var i=e("three"),l=e("three.meshline"),a=e("./MxFun"),c=e("./MxNetData"),d=e("./MxMaterial"),D=(v.prototype.removeAll=function(){this._mapSelectMark2Entity=new Map},v.prototype.addEntity=function(C,f){var w=this._mapSelectMark2Entity.get(C);w==null&&(w=new Array,this._mapSelectMark2Entity.set(C,w)),w.push(f)},v.prototype.removeEntity=function(C){var f=new Map,w=function(F,T){var R=this.mx.getScene(),ee=T;return function(re,ae,ce){if(F==null||ae!=F)for(var ue in re)a.MxFun.removeThreejsObject(re[ue],R);else{var de=re.concat();ee.set(F,de)}}}.call(this,C,f);this._mapSelectMark2Entity.forEach(w),this._mapSelectMark2Entity=f},v.prototype.init=function(){var C=this;C.domElement.addEventListener("mousedown",function(f){if(C.enabled!==!1&&!C.tmpDisable&&f.button==i.MOUSE.LEFT){var w=C.mx.screenCoord2Doc(f.clientX,f.clientY,0),F=C.mx.screenCoordLong2Doc(10),T=a.MxFun.formatString("[{0},{1},{2},{3}]",w.x.toString(),w.y.toString(),"0",F.toString());C.mx.callCommand("Mx_Select",T)}},!1)},v.prototype.mxWebAddEntity=function(C){var f=new c.MxNetData(C),w=f.getSelectMark();this.removeEntity(w);var F=this.mxWebAddEntity_3DChild(f);this.mxWebAddEntity_Curve(f,F)},v.prototype.mxWebAddEntity_3DChild=function(C){var f=C.getMesh();if(f.id==null)return f.size;var w=new i.Mesh(f.geometry,d.MxMaterial.GetBaseColorMaterial(1));this.mx.getScene().add(w);var F=C.getSelectMark();return this.addEntity(F,w),f.size},v.prototype.mxWebAddEntity_Curve=function(C,f){var w=C.getCurve(f);if(w.id!=null){var F=this.mx.getViewWidth(),T=this.mx.getViewHeight();this._material.resolution=new i.Vector2(F,T);for(var R=C.getSelectMark(),ee=w.geometry,re=this.mx.getScene(),ae=0;ae+1<ee.vertices.length;ae+=2){var ce=ee.vertices[ae],ue=ee.vertices[ae+1],de=new Float32Array(6);de[0]=ce.x,de[1]=ce.y,de[2]=ce.z,de[3]=ue.x,de[4]=ue.y,de[5]=ue.z;var A=new l.MeshLine;A.setGeometry(de);var oe=new i.Mesh(A.geometry,this._material);re.add(oe),this.addEntity(R,oe)}}},v);function v(C,f){this.enabled=!0,this.tmpDisable=!1,this.mx=void 0,this.domElement=void 0,this._mapSelectMark2Entity=new Map,this._material=new l.MeshLineMaterial({useMap:!1,color:new i.Color(16711680),opacity:.5,resolution:new i.Vector2(500,500),sizeAttenuation:!1,lineWidth:10,transparent:!0}),this.mx=C,this.domElement=f!==void 0?f:document}r.MxSelect=D},{"./MxFun":34,"./MxMaterial":37,"./MxNetData":38,three:19,"three.meshline":18}],40:[function(e,t,r){var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MxShader=void 0,(i=r.MxShader||(r.MxShader={})).VSHADER_COLOR_POINT=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
attribute vec2 position; 
attribute vec3 color; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.VSHADER_COLOR_POINT_BYLAYER=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.FSHADER_COLOR_POINT=` precision highp float; 
varying vec4 vColor; 
void main() { 
gl_FragColor = vColor; 
} 
`,i.VSHADER_COLOR_POINT_TEXTURE=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
attribute vec2 position; 
attribute vec2 uv; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
varying vec2 vUv; 
void main(){ 
vUv = uv; 
mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.FSHADER_COLOR_POINT_TEXTURE=` precision highp float; 
varying vec2 vUv; 
uniform sampler2D texture; 
void main() { 
gl_FragColor = texture2D( texture, vUv ); 
} 
`,i.VSHADER_COLOR_POINT_CLIP=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec3 color; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.VSHADER_COLOR_POINT_BYLAYER_CLIP=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.FSHADER_COLOR_POINT_CLIP=`precision highp float; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main() { 
if(gl_FragCoord.x > vCp1.x && gl_FragCoord.x < vCp2.x && gl_FragCoord.y > vCp1.y && gl_FragCoord.y < vCp2.y) 
gl_FragColor = vColor; 
else 
discard; 
} 
`,i.VSHADER_COLOR_POINT_FORMXCAD=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
gl_PointSize = 1.0;
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.FSHADER_COLOR_POINT_FORMXCAD=` precision highp float; 
varying vec4 vColor; 
void main() { 
gl_FragColor = vColor; 
} 
`,i.VSHADER_COLOR_POINT_CLIP_FORMXCAD=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,i.FSHADER_COLOR_POINT_CLIP_FORMXCAD=`precision highp float; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main() { 
if(gl_FragCoord.x > vCp1.x && gl_FragCoord.x < vCp2.x && gl_FragCoord.y > vCp1.y && gl_FragCoord.y < vCp2.y) 
gl_FragColor = vColor; 
else 
discard; 
} 
`},{}],41:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxStencilObject=void 0;var i=e("three"),l=e("./MxMaterial"),a=(c.prototype.object_onAfterRender=function(d){var D=this.aryMeshStencil;if(D&&0<D.length){d.getContext();var v=d.state.buffers;v.stencil.setLocked(!1),v.depth.setTest(!0),v.stencil.setTest(!1)}},c.prototype.object_onBeforeRender=function(d,D,v){var C=this.aryMeshStencil;if(C&&0<C.length){var f=d.getContext(),w=d.state.buffers;w.color.setMask(!1),w.color.setLocked(!0),w.depth.setTest(!1),w.stencil.setTest(!0),w.stencil.setMask(255),w.stencil.setClear(0),d.clearStencil(),w.stencil.setLocked(!0);var F=1,T=!0;C.forEach(function(R){T?(T=!1,w.stencil.setFunc(f.ALWAYS,F,255),w.stencil.setOp(f.KEEP,f.KEEP,f.REPLACE)):(w.stencil.setFunc(f.EQUAL,F,255),w.stencil.setOp(f.KEEP,f.KEEP,f.INCR),F++),d.mxRenderObject(R,D,v,R.material,null)}),w.color.setLocked(!1),w.color.setMask(!0),w.stencil.setMask(0),w.stencil.setFunc(f.EQUAL,F,255)}},c.prototype.associateObject=function(d,D){var v=this;D.forEach(function(f){if(3<=f.length){var w=new i.Shape(f),F=new i.ShapeGeometry(w),T=new i.Mesh(F,l.MxMaterial.getStencilMaterial());v.aryMeshStencil.push(T)}});var C=this;d.onBeforeRender=function(f,w,F){C.object_onBeforeRender(f,w,F)},d.onAfterRender=function(f){C.object_onAfterRender(f)}},c);function c(){this.aryMeshStencil=[]}r.MxStencilObject=a},{"./MxMaterial":37,three:19}],42:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxString=void 0;var i=(l.prototype.Find=function(a){return this.m_val.indexOf(a)},l.prototype.Left=function(a){return this.m_val.substring(0,a)},l.prototype.Right=function(a){return this.m_val.substring(a+1,this.m_val.length)},l.prototype.TrimLeft=function(a){for(;0<this.m_val.length&&this.m_val[0]==a;)this.m_val=this.m_val.slice(1)},l.prototype.TrimRight=function(a){for(;0<this.m_val.length&&this.m_val[this.m_val.length-1]==a;)this.m_val=this.m_val.slice(0,-1)},l.prototype.AnalyzeString=function(a){return this.m_val.split(a)},l.prototype.IsEmpty=function(){return this.m_val.length==0},l.prototype.MakeUpper=function(){this.m_val=this.m_val.toUpperCase()},l.prototype.MakeLower=function(){this.m_val=this.m_val.toLowerCase()},l.prototype.GetLength=function(){return this.m_val.length},l);function l(a){this.m_val="",a!=null&&(this.m_val=a)}r.MxString=i},{}],43:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSystemVariable=void 0;var i=e("three"),l=e("./Operate/McEdJigOsnap"),a=(c.prototype.init=function(d){this.m_mxObj=d},c.prototype.getAllLinetypeName=function(){return this.m_vecLinetype},c.prototype.getSysVarBool=function(d){return this.m_data[d]!=null&&this.m_data[d]},c.prototype.setSysVarBool=function(d,D){this.m_data[d]=D},c.prototype.setSysVarPoint=function(d,D){this.m_data[d]=D},c.prototype.OnMessageMxCADSystemVariable=function(d){this.m_vecLinetype=[];var D=JSON.parse(d);if(D!=null){var v=D.vecLinetypeName;for(var C in v)this.m_vecLinetype.push(v[C]);this.m_data.CELTYPE=D.curLinetypeName,this.m_data.CLAYER=D.clayer,this.m_data.CECOLOR=D.cecolor,this.m_data.CECOLORINDEX=D.cecolorindex}this.m_mxObj.callEvent("loadSystmeVariableComplete")},c.prototype.getSysVarPoint=function(d){return this.m_data[d]==null?new i.Vector3(0,0,0):this.m_data[d]},c.prototype.setSysVarNumber=function(d,D){this.m_data[d]=D},c.prototype.getSysVarNumber=function(d){return this.m_data[d]==null?0:this.m_data[d]},c.prototype.getSysVar=function(d){return this.m_data[d]},c.prototype.setSysVar=function(d,D){this.m_data[d]=D},c);function c(){this.m_data={},this.m_mxObj=null,this.m_vecLinetype=[],this.m_data.DYNINPUT=!0,this.m_data.GETPOINTSTATUS=0,this.m_data.CELTYPE="Continuous",this.m_data.CLAYER="0",this.m_data.CECOLOR=67108863,this.m_data.CECOLORINDEX=7,this.m_data.OSMODE=l.MxOsnapDefine.OsModeAll}r.MxSystemVariable=a},{"./Operate/McEdJigOsnap":49,three:19}],44:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxThreeJS=void 0;var i,l=e("three"),a=e("./MxFun");function c(d){return Math.pow(2,Math.floor(Math.log(d)/Math.LN2))}(i=r.MxThreeJS||(r.MxThreeJS={})).createLine=function(d,D,v,C){var f,w=new l.Geometry;return f=C&&C!=1||C==0?new l.LineBasicMaterial({color:v,transparent:!0,depthTest:!1,opacity:C}):new l.LineBasicMaterial({color:v,transparent:!0,depthTest:!1}),w.vertices.push(d,D),new l.Line(w,f)},i.createCircle=function(d,D,v){var C=new l.CircleGeometry(D,64,3,2*Math.PI),f=new l.LineBasicMaterial({color:v,transparent:!0,depthTest:!1});C.vertices.shift();var w=new l.LineLoop(C,f);return w.position.x=d.x,w.position.y=d.y,w.position.z=d.z,w},i.clacTextSize=function(d,D){var v=document.createElement("canvas").getContext("2d");if(v==null)return D;var C=a.MxFun.formatString("normal {0}px Arial","256");return v.font=C,v.measureText(d).width*D/256},i.clacTextSpriteSize=function(d,D,v){D<=1e-8&&(D=1);var C=document.createElement("canvas"),f=C.getContext("2d"),w=a.MxFun.formatString("normal {0}px Arial","256");f.font=w;var F=D/256,T=0,R=[],ee=!0,re=0;if(v){T=v;for(var ae=0,ce=0,ue=0;ce<d.length;ce++)(de=f.measureText(d.substring(ae,ce+1))).width*F>T&&(re+=(de.fontBoundingBoxAscent+de.fontBoundingBoxDescent)*F,R.push(d.substring(ae,ce)),ae=ce,ue++);if(ae<ce){var de=f.measureText(d.substring(ae,ce));R.push(d.substring(ae,ce)),re+=(de.fontBoundingBoxAscent+de.fontBoundingBoxDescent)*F,ue++}ee=ue<=1}else re=D,T=(de=f.measureText(d)).width*F,R.push(d),ee=!1;var A=re/T*(C.width=1024);return C.height=c(A),C.height<A&&(C.height*=2),C.height==0&&(C.height=512),{spritewidth:T,spriteheight:T*C.height/C.width,textwidth:T,allTextHeight:re,singleline:ee}},i.creatTextSprite=function(d,D,v,C,f,w,F){v<=1e-8&&(v=1);var T=document.createElement("canvas"),R=T.getContext("2d");F?(R.font=F(256),R.font.length==0&&(R.font=a.MxFun.formatString("normal {0}px Arial","256"))):R.font=a.MxFun.formatString("normal {0}px Arial","256");var ee=v/256,re=0,ae=[],ce=[],ue=0;if(w){re=w;for(var de=0,A=0;A<d.length;A++)(le=R.measureText(d.substring(de,A+1))).width*ee>re&&(ue+=oe=(le.fontBoundingBoxAscent+le.fontBoundingBoxDescent)*ee,ae.push(d.substring(de,A)),ce.push(oe),de=A);if(de<A){var oe,le=R.measureText(d.substring(de,A));ae.push(d.substring(de,A)),ue+=oe=(le.fontBoundingBoxAscent+le.fontBoundingBoxDescent)*ee,ce.push(oe)}}else ue=v,re=(le=R.measureText(d)).width*ee,ae.push(d),ce.push(ue);var ie=ue/re*(T.width=1024);T.height=c(ie),T.height<ie&&(T.height*=2),T.height==0&&(T.height=512);var I=1024/re,j=I*v;F?(R.font=F(j),R.font.length==0&&(R.font=a.MxFun.formatString("normal {0}px Arial",""+j))):R.font=a.MxFun.formatString("normal {0}px Arial",""+j);var pe=a.MxFun.formatString("rgba({0}, {1}, {2}, 1.0)",(f>>16&255)+"",(f>>8&255)+"",(255&f)+"");R.fillStyle=pe,R.textAlign="left",R.textBaseline="bottom";for(var be=0,De=0;be<ae.length;be++)De+=I*ce[be];for(be=0,De=.5*(T.height-De);be<ae.length;be++)De+=I*ce[be],R.fillText(ae[be],0,De);var Re=new l.Texture(T);Re.needsUpdate=!0;var Ee=new l.SpriteMaterial({transparent:!0,depthTest:!1,map:Re});Ee.rotation=C;var Se=new l.Sprite(Ee);return Se.scale.set(re,re/T.width*T.height,1),Se.position.set(D.x,D.y,D.z),Se},i.createTriangle=function(d,D,v){if(!(d.length<3)){for(var C=d.length,f=new l.Geometry,w=0;w+2<C;w+=3){f.vertices.push(d[w]),f.vertices.push(d[w+1]),f.vertices.push(d[w+2]);var F=new l.Face3(w,w+1,w+2);f.faces.push(F)}f.computeFaceNormals(),f.computeVertexNormals(),v==null&&(v=1);var T=new l.MeshBasicMaterial({color:D,transparent:!0,depthTest:!1,side:l.DoubleSide,opacity:v});return new l.Mesh(f,T)}},i.createLines=function(d,D,v){var C,f=new l.Geometry;return f.vertices=d,C=v&&v!=1||v==0?new l.LineBasicMaterial({color:D,transparent:!0,depthTest:!1,opacity:v}):new l.LineBasicMaterial({color:D,transparent:!0,depthTest:!1}),new l.Line(f,C)},i.createDashedLines=function(d,D,v,C){var f=new l.Geometry;f.vertices=d;var w=new l.Line(f,new l.LineDashedMaterial({color:D,dashSize:v,gapSize:C,transparent:!0,depthTest:!1}));return w.computeLineDistances(),w}},{"./MxFun":34,three:19}],45:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxPair=r.MxTools=void 0;var i,l=e("three");(i=r.MxTools||(r.MxTools={})).AsMxWebPoint=function(a,c,d){return new l.Vector3(-a,d,c)},i.AsMxWebPoint_pt=function(a){return new l.Vector3(-a.x,a.z,a.y)},i.AsThreeJsPoint=function(a,c,d){return new l.Vector3(-a,d,c)},i.stringTrimLeftSpace=function(a){return a.replace(/^\s*/g,"")},i.stringDeleteAllSpace=function(a){return a.replace(/\s*/g,"")},i.stringTrimLeftRightSpace=function(a){return a.replace(/^\s*|\s*$/g,"")},i.stringTrimRightSpace=function(a){return a.replace(/(\s*$)/g,"")},i.IsNumerical=function(a){if(typeof a=="string"){var c=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!/^\d+(\.\d+)?$/.test(a)&&!c.test(a))}var d=a.m_val;return c=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/,!(!/^\d+(\.\d+)?$/.test(d)&&!c.test(d))},i.formatString=function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];for(var D=0;D<c.length;D++)a=a.replace("{".concat(D,"}"),c[D]);return a},i._tstof=function(a){return parseFloat(a)},i._tstoi=function(a){return parseInt(a)},i.IsZero=function(a){return-1e-7<a&&a<1e-7},i.MillimeterToPixels=function(a){return 10*a},i.getXYPlanDistance=function(a,c){var d=new l.Vector2(a.x,a.y),D=new l.Vector2(c.x,c.y);return d.distanceTo(D)},i.MxASSERT=function(a,c){a||console.log("MxASSERT(0):"+c)},i.generateUUID=function(){return l.MathUtils.generateUUID()},r.MxPair=function(a,c){this.first=a,this.second=c}},{three:19}],46:[function(e,t,r){var i,l,a;Object.defineProperty(r,"__esModule",{value:!0}),r.MxType=void 0,(l=(i=r.MxType||(r.MxType={})).CommandFlags||(i.CommandFlags={}))[l.MCRX_CMD_MODAL=0]="MCRX_CMD_MODAL",l[l.MCRX_CMD_TRANSPARENT=1]="MCRX_CMD_TRANSPARENT",l[l.MCRX_CMD_NO_UNDO_MARKER=2]="MCRX_CMD_NO_UNDO_MARKER",l[l.MCRX_CMD_NOPRV=4]="MCRX_CMD_NOPRV",(a=i.MxCloneType||(i.MxCloneType={}))[a.kClone=1]="kClone",a[a.kDragClone=2]="kDragClone",a[a.kMxFileClone=3]="kMxFileClone",a[a.kSaveDwgClone=4]="kSaveDwgClone"},{}],47:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxBulid=void 0,window.MxDrawVersion="1.0(2023-05-25 16:01)",(r.MxBulid||(r.MxBulid={})).getVersion=function(){return window.MxDrawVersion?window.MxDrawVersion:"inalid version"}},{}],48:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxWindowsEvent=void 0;var i,l,a,c,d=e("./MxFun"),D=e("./Operate/MxJigCmdManager"),v=e("three"),C=e("./MxDrawData");function f(re,ae){for(var ce=0,ue=c.length;ce<ue;ce++){var de=c[ce](re,ae);if(de!=0)return de}}function w(re){a.x=re.offsetX,a.y=re.offsetY,f("mousemove",re)}function F(re){f("mouseup",re)}function T(re){f("dblclick",re)}function R(re){a.x=re.offsetX,a.y=re.offsetY,f("mousedown",re)}function ee(re){var ae=re||window.event||arguments.callee.caller.arguments[0];if(ae&&ae.keyCode==27)if(C.MxDrawData.m_isEnableIntelliSelect&&!D.MxJigCmdManager.isRunning()){var ce=!1,ue=d.MxFun.getCurrentMx(),de=ue.getMxCAD();if(de){var A=de.getSelect().clearAllSelect(),oe=de.getGrip().clearAll();(A||oe)&&(ce=!0)}ue.getMxDatabase().getGripManager().removeAllGrips()&&(ce=!0),ue.getMxDatabase().getSelectManager().removeAllEntity()&&(ce=!0),ue.isValidMcObject()&&ue.getMcObject().getGripManager().clearAll()&&(ce=!0),ce&&ue.updateDisplay()}else D.MxJigCmdManager.isRunning()&&D.MxJigCmdManager.stopCmd()}i=r.MxWindowsEvent||(r.MxWindowsEvent={}),l=!1,a=new v.Vector2(0,0),c=new Array,i.addEvent=function(re){c.push(re)},i.getCurrentMousePostion=function(){return a},i.registEvent=function(){l||(l=!0,d.MxFun.isPC()&&(document.addEventListener("mousemove",w,!1),document.addEventListener("mouseup",F,!1),document.addEventListener("mousedown",R,!1),document.addEventListener("dblclick",T,!1),document.onkeydown=ee))}},{"./MxDrawData":29,"./MxFun":34,"./Operate/MxJigCmdManager":58,three:19}],49:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McEdJigOsnap=r.McEdImpJigGlobalData=r.MxOsnapDefine=void 0;var i,l,a,c,d,D,v,C,f,w,F,T=e("three"),R=e("../MxDrawObject"),ee=e("../MxFun"),re=e("./MxJigCmdManager"),ae=e("../MxTools"),ce=e("../MxDrawData"),ue=e("../MxWindowsEvent");(l=i=r.MxOsnapDefine||(r.MxOsnapDefine={}))[l.OsModeInvalid=0]="OsModeInvalid",l[l.OsModeEnd=1]="OsModeEnd",l[l.OsModeMid=2]="OsModeMid",l[l.OsModeCen=4]="OsModeCen",l[l.OsModeNode=8]="OsModeNode",l[l.OsModeQuad=16]="OsModeQuad",l[l.OsModeInt=32]="OsModeInt",l[l.OsModeIns=64]="OsModeIns",l[l.OsModePerp=128]="OsModePerp",l[l.OsModeTan=256]="OsModeTan",l[l.OsModeNear=512]="OsModeNear",l[l.OsModeApp=2048]="OsModeApp",l[l.OsModeExt=4096]="OsModeExt",l[l.OsModePar=8192]="OsModePar",l[l.OsModeOff=16384]="OsModeOff",l[l.OsModeAll=16383]="OsModeAll",c=a=r.McEdImpJigGlobalData||(r.McEdImpJigGlobalData={}),d=!1,D=new T.Vector3,v=new T.Vector3,C=0,w=f=!1,F=new Array,c.setPrvPoint=function(ie){D=ie,w=!0},c.isOsnapZValue=function(){return!1},c.setIsValidPrvpoint=function(ie){w=ie},c.isValidPrvpoint=function(){return w},c.getPrvPoint=function(){return D},c.setIsValidBasepoint=function(ie){d=ie},c.isValidBasepoint=function(){return d},c.setBasepoint=function(ie){d=!0,v=ie},c.getBasepoint=function(){return v},c.initStartCommand=function(){f=d=!1},c.setIsTmpDisableOsmode=function(ie){f=ie},c.isTmpDisableOsmode=function(){return f},c.intiStartDrag=function(ie){C=ie.sysVariable().getSysVarNumber("OSMODE")},c.isEnableOsmode=function(){return!(C==0||C&i.OsModeOff||f)},c.getOSmode=function(){return C},c.addDynDrawObject=function(ie){F.push(ie)},c.clearDisplay=function(ie){for(var I=F.length,j=0;j<I;j++)ee.MxFun.removeThreejsObject(F[j],ie);F=[]};var de=(A.prototype.drawLine=function(ie,I,j){var pe=new T.Geometry,be=new T.LineBasicMaterial({color:this.m_iColor});pe.vertices.push(new T.Vector3(ie.x,ie.y,ie.z),new T.Vector3(I.x,I.y,I.z));var De=new T.Line(pe,be);j.add(De),a.addDynDrawObject(De)},A.prototype.drawPolyline=function(ie,I){for(var j=new T.Geometry,pe=new T.LineBasicMaterial({color:this.m_iColor}),be=ie.length,De=0;De<be;De++)j.vertices.push(new T.Vector3(ie[De].x,ie[De].y,ie[De].z));var Re=new T.Line(j,pe);I.add(Re),a.addDynDrawObject(Re)},A.prototype.setWidth=function(ie){this.m_dOsmodeWdith=ie},A.prototype.GetDrawRect=function(){var ie=.5*this.m_dOsmodeWdith,I={};return I.left=this.m_pt.x-ie,I.right=this.m_pt.x+ie,I.top=this.m_pt.y-ie,I.bottom=this.m_pt.y+ie,I},A.prototype.DrawNear=function(ie){var I=this.GetDrawRect(),j=[new T.Vector3,new T.Vector3];j[0].x=I.left,j[0].y=I.top,j[1].x=I.right,j[1].y=I.top,this.drawLine(j[0],j[1],ie),j[0].x=I.left,j[0].y=I.bottom,j[1].x=I.right,j[1].y=I.bottom,this.drawLine(j[0],j[1],ie),j[0].x=I.right,j[0].y=I.top,j[1].x=I.left,j[1].y=I.bottom,this.drawLine(j[0],j[1],ie),j[0].x=I.right,j[0].y=I.bottom,j[1].x=I.left,j[1].y=I.top,this.drawLine(j[0],j[1],ie)},A.prototype.DrawEnd=function(ie){var I=this.GetDrawRect(),j=[new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3];j[0].x=I.left,j[0].y=I.top,j[1].x=I.right,j[1].y=I.top,j[2].x=I.right,j[2].y=I.bottom,j[3].x=I.left,j[3].y=I.bottom,this.drawLine(j[0],j[1],ie),this.drawLine(j[1],j[2],ie),this.drawLine(j[2],j[3],ie),this.drawLine(j[3],j[0],ie)},A.prototype.DrawMid=function(ie){var I=this.GetDrawRect(),j=1.2*(I.right-I.left),pe=j/2/Math.sin(60*3.14159265/180),be=pe*Math.sin(.5235987750000001),De=new T.Vector3(this.m_pt.x,this.m_pt.y,this.m_pt.z);De.y-=pe;var Re=new T.Vector3;Re.x=this.m_pt.x+j/2,Re.y=this.m_pt.y+be;var Ee=new T.Vector3;Ee.x=this.m_pt.x-j/2,Ee.y=this.m_pt.y+be;var Se=[new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3];Se[0].x=De.x,Se[0].y=De.y,Se[1].x=Re.x,Se[1].y=Re.y,Se[2].x=Ee.x,Se[2].y=Ee.y,Se[3].x=De.x,Se[3].y=De.y,this.drawLine(Se[0],Se[1],ie),this.drawLine(Se[1],Se[2],ie),this.drawLine(Se[2],Se[3],ie)},A.prototype.DrawPerp=function(ie){var I=this.GetDrawRect(),j=[new T.Vector3,new T.Vector3,new T.Vector3];j[0].x=I.left,j[0].y=I.top,j[1].x=I.left,j[1].y=I.bottom,j[2].x=I.right,j[2].y=I.bottom,this.drawPolyline(j,ie),j[0].x=I.left,j[0].y=this.m_pt.y,j[1].x=this.m_pt.x,j[1].y=this.m_pt.y,j[2].x=this.m_pt.x,j[2].y=I.bottom,this.drawPolyline(j,ie)},A.prototype.DrawCircle=function(ie,I,j){j==null&&(j=.5*this.m_dOsmodeWdith);for(var pe=[],be=0,De=3.14159265/180;be<=360;be+=15){var Re=j*Math.cos(be*De)+ie.x,Ee=j*Math.sin(be*De)+ie.y;pe.push(new T.Vector3(Re,Ee))}this.drawPolyline(pe,I)},A.prototype.DrawInt=function(ie){var I=this.GetDrawRect(),j=[new T.Vector3,new T.Vector3];j[0].x=I.right,j[0].y=I.top,j[1].x=I.left,j[1].y=I.bottom,this.drawLine(j[0],j[1],ie),j[0].x=I.right,j[0].y=I.bottom,j[1].x=I.left,j[1].y=I.top,this.drawLine(j[0],j[1],ie)},A.prototype.DrawCen=function(ie){this.DrawInt(ie),this.DrawCircle(this.m_pt,ie)},A.prototype.DrawTan=function(ie){this.DrawEnd(ie)},A.prototype.DrawIns=function(ie){var I=this.GetDrawRect(),j={},pe=(I.right-I.left)/1.5;j.left=this.m_pt.x-pe,j.right=this.m_pt.x+pe,j.top=this.m_pt.y-pe,j.bottom=this.m_pt.y+pe;var be=this.m_pt.x,De=this.m_pt.y,Re=[new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3];Re[0].x=j.left,Re[0].y=j.top,Re[1].x=j.left,Re[1].y=De+2,Re[2].x=be,Re[2].y=De+2,Re[3].x=be,Re[3].y=j.bottom,Re[4].x=j.right,Re[4].y=j.bottom,Re[5].x=j.right,Re[5].y=De-2,Re[6].x=be,Re[6].y=De-2,Re[7].x=be,Re[7].y=j.top,Re[8].x=j.left,Re[8].y=j.top,this.drawPolyline(Re,ie)},A.prototype.DrawNode=function(ie){var I=this.GetDrawRect(),j={},pe=(I.right-I.left)/1.5;j.left=this.m_pt.x-pe,j.right=this.m_pt.x+pe,j.top=this.m_pt.y-pe,j.bottom=this.m_pt.y+pe;var be=this.m_dOsmodeWdith/1.3;this.m_pt.x-be,this.m_pt.x+be,this.m_pt.y-be,this.m_pt.y+be;var De=[new T.Vector3,new T.Vector3,new T.Vector3,new T.Vector3];De[0].x=j.left,De[0].y=j.top,De[1].x=j.right,De[1].y=j.bottom,De[2].x=j.left,De[2].y=j.bottom,De[3].x=j.right,De[3].y=j.top,this.drawLine(De[0],De[1],ie),this.drawLine(De[2],De[3],ie),this.DrawCircle(this.m_pt,ie,be)},A.prototype.upDisplay=function(ie,I,j){this.m_pt=ie,this.m_osmode=I,this.clearDisplay(j);var pe=j.getMxObject().getTheTempDrawContainer(),be=.5*this.m_dOsmodeWdith;if(this.m_osmode!=re.MxJigCmdManager.OsnapMode.kOsModekValid)if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeNear)this.DrawNear(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeEnd)this.DrawEnd(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeMid)this.DrawMid(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModePerp)this.DrawPerp(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeInt)this.DrawInt(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeCen)this.DrawCen(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeTan)this.DrawTan(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeIns)this.DrawIns(pe);else if(this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModeNode)this.DrawNode(pe);else{var De=new T.Vector3(ie.x-be,ie.y-be,0),Re=new T.Vector3(ie.x+be,ie.y+be,0);this.drawLine(De,Re,pe);var Ee=new T.Vector3(ie.x-be,ie.y+be,0),Se=new T.Vector3(ie.x+be,ie.y-be,0);this.drawLine(Ee,Se,pe)}},A.prototype.clearDisplay=function(ie){var I=ie.getMxObject().getTheTempDrawContainer();a.clearDisplay(I)},A);function A(){this.m_iColor=16711935,this.m_pt=new T.Vector3,this.m_osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_dOsmodeWdith=10}var oe=(le.prototype.resetData=function(){this.m_osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_isValidPrvInputPoint=!1,this.m_lOSmode=0,this.m_vecOffset.set(0,0,0),this.m_isValid=!1,this.m_iLongprogressStatus=-1},le.prototype.notifyOsnapToServer=function(){var ie=this;if(this.m_isRuning){var I={ptx:this.m_pt.x,pty:this.m_pt.y,osmode:this.m_lOSmode,isValidPrvInputPoint:this.m_isValidPrvInputPoint};this.m_isValidPrvInputPoint&&(I.prvPtx=this.m_prvInputPoint.x,I.prvPty=this.m_prvInputPoint.y);var j=this.m_mxJig.getMxObject();if(j.getRunMode()==R.MxRunMode.kBrowse){var pe=this,be=ue.MxWindowsEvent.getCurrentMousePostion();j.getObjectOsnap().getOsnapData(be,function(Re,Ee){Re=j.worldCoord2Doc(Re.x,Re.y,Re.z),pe.m_ptSnapPoint.x=Re.x,pe.m_ptSnapPoint.y=Re.y,pe.m_ptSnapPoint.z=0,pe.m_ptSnapSrcPoint.x=pe.m_pt.x,pe.m_ptSnapSrcPoint.y=pe.m_pt.y,pe.m_ptSnapSrcPoint.z=0,pe.m_osmode=Ee,pe.m_draw.setWidth(j.screenCoordLong2Doc(ce.MxDrawData.getCursorWidthPixels())),pe.m_draw.upDisplay(new T.Vector3(Re.x,Re.y,0),Ee,pe.m_mxJig)})}else if(j.getRunMode()!=R.MxRunMode.kCPPMxCAD){I.SearchRnge=j.screenCoordLong2Doc(ce.MxDrawData.getCursorWidthPixels());var De=this;j.callCommand("MxCAD_NotifyOsnap",JSON.stringify(I),function(Re){if(!(typeof Re!="string"||Re.length<1)&&De.m_isRuning){var Ee=JSON.parse(Re);ie.m_ptSnapPoint.x=Ee.ptsx,ie.m_ptSnapPoint.y=Ee.ptsy,ie.m_ptSnapPoint.z=Ee.ptsz,ie.m_ptSnapSrcPoint.x=Ee.ptx,ie.m_ptSnapSrcPoint.y=Ee.pty,ie.m_ptSnapSrcPoint.z=0,ie.m_osmode=Ee.osmode,De.m_draw.setWidth(j.screenCoordLong2Doc(ce.MxDrawData.getCursorWidthPixels())),De.m_draw.upDisplay(new T.Vector3(Ee.ptsx,Ee.ptsy,Ee.ptsz),Ee.osmode,De.m_mxJig)}})}}},le.prototype.startDrag=function(ie,I){this.m_mxJig=I;var j,pe,be=this.m_mxJig.getMxObject();function De(){j.notifyOsnapToServer()}return I.isDisableOsnap()?this.m_isEnable=!1:this.m_isEnable=be.getInisetValue(R.IniSetName.kEnableOsnapFunction)===!0,this.m_isOffsetInputPostion=ie,this.m_isRuning=!0,this.m_draw.setWidth(be.screenCoordLong2Doc(ce.MxDrawData.getCursorWidthPixels())),this.resetData(),this.m_notifyOsnap_delayCall=(j=this,pe=null,function(){clearTimeout(pe),pe=setTimeout(De,100)}),!0},le.prototype.endDrag=function(){return this.m_isRuning=!1,this.m_draw.clearDisplay(this.m_mxJig),!0},le.prototype.reCompteCurrentPoint=function(ie){return ie},le.prototype.isEnable=function(){return this.m_isEnable&&a.isEnableOsmode()},le.prototype.notifyOsnap=function(ie,I){this.m_lOSmode=ie,I==null?this.m_isValidPrvInputPoint=!1:(this.m_isValidPrvInputPoint=!0,this.m_prvInputPoint=I),this.m_osmode==re.MxJigCmdManager.OsnapMode.kOsModekValid&&this.m_draw.clearDisplay(this.m_mxJig),this.m_notifyOsnap_delayCall()},le.prototype.setPoint=function(ie,I){if(this.isEnable()){ie==null?(this.m_isValid=!1,this.m_osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid):(this.m_iLongprogressStatus==-1||this.m_iLongprogressStatus,this.m_pt=ie,this.m_inPoint=ie,this.m_isValid=!0,(I==null||this.m_osmode!=re.MxJigCmdManager.OsnapMode.kOsModekValid&&ae.MxTools.getXYPlanDistance(this.m_ptSnapSrcPoint,ie)>I)&&(this.m_osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid));var j=a.getOSmode(),pe=a.getPrvPoint();this.notifyOsnap(j,a.isValidPrvpoint()?pe:void 0)}},le.prototype.seInValidPoint=function(){this.setPoint(void 0)},le.prototype.getCurrentOSnapPoint=function(ie){var I={};return this.isEnable()?(I.pt=ie,I.osmode=this.m_osmode,this.m_osmode!=re.MxJigCmdManager.OsnapMode.kOsModekValid?(I.pt.x=this.m_ptSnapPoint.x,I.pt.y=this.m_ptSnapPoint.y,I.pt.z=this.m_ptSnapPoint.z,a.isOsnapZValue()||(ie.z=0)):I.pt=ie):(I.pt=ie,I.osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid),I},le.prototype.setLongprogressStatus=function(ie){this.m_iLongprogressStatus=ie},le.prototype.reComputeOffset=function(){},le);function le(ie){this.m_inPoint=new T.Vector3,this.m_vecOffset=new T.Vector3,this.m_pt=new T.Vector3,this.m_isValid=!1,this.m_ptSnapPoint=new T.Vector3,this.m_ptSnapSrcPoint=new T.Vector3,this.m_osmode=re.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_prvInputPoint=new T.Vector3,this.m_isValidPrvInputPoint=!1,this.m_lOSmode=0,this.m_iLongprogressStatus=-1,this.m_isOffsetInputPostion=!1,this.m_mxJig=null,this.m_notifyOsnap_delayCall=void 0,this.m_isRuning=!1,this.m_isEnable=!1,this.m_mxJig=ie,this.m_draw=new de}r.McEdJigOsnap=oe},{"../MxDrawData":29,"../MxDrawObject":30,"../MxFun":34,"../MxTools":45,"../MxWindowsEvent":48,"./MxJigCmdManager":58,three:19}],50:[function(e,t,r){var i,l=this&&this.__extends||(i=function(ee,re){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,ce){ae.__proto__=ce}||function(ae,ce){for(var ue in ce)Object.prototype.hasOwnProperty.call(ce,ue)&&(ae[ue]=ce[ue])})(ee,re)},function(ee,re){if(typeof re!="function"&&re!==null)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function ae(){this.constructor=ee}i(ee,re),ee.prototype=re===null?Object.create(re):(ae.prototype=re.prototype,new ae)});Object.defineProperty(r,"__esModule",{value:!0}),r.McGiWorldDrawSelect=r.McGiWorldDraw=r.McGiWorldDrawType=void 0;var a,c,d=e("three"),D=e("../MxThreeJS"),v=e("../MxManager"),C=e("three.meshline");(c=a=r.McGiWorldDrawType||(r.McGiWorldDrawType={}))[c.kWorldDraw=1]="kWorldDraw",c[c.kDynDragDraw=2]="kDynDragDraw",c[c.kSelectDraw=3]="kSelectDraw";var f=(w.prototype.getType=function(){return this.worldDrawType},w.prototype.setXData=function(ee){this.xData=ee},w.prototype.setMatrix=function(ee){this.matrix=ee},w.prototype.getMatrix=function(){return this.matrix},w.prototype.setOpacity=function(ee){this.opacity=ee},w.prototype.getOpacity=function(){return this.opacity},w.prototype.setColor=function(ee){this.iColor!=ee&&(this.widthMaterial=null),this.iColor=ee},w.prototype.setDash=function(ee,re){this.dDashArray=ee,this.dDashRatio=re},w.prototype.getDash=function(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}},w.prototype.setDashLineDisplay=function(ee){ee?(this.dDashArray=.03,this.dDashRatio=.1,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0)},w.prototype.isDashLineDisplay=function(){return 0<this.dDashArray&&0<this.dDashRatio},w.prototype.getColor=function(){return this.iColor},w.prototype.setRenderOrder=function(ee){this.iRenderOrder=ee},w.prototype.getRenderOrder=function(){return this.iRenderOrder},w.prototype.setLineWidthByPixels=function(ee){this.lineWidthByPixels!=ee&&(this.widthMaterial=null),this.lineWidthByPixels=ee},w.prototype.getLineWidthByPixels=function(){return this.lineWidthByPixels},w.prototype.setLineWidth=function(ee){this.dLineWidth!=ee&&(this.widthMaterial=null),this.dLineWidth=ee},w.prototype.getLineWidth=function(){return this.dLineWidth},w.prototype.drawEntity=function(ee){var re=this.iRenderOrder;ee.type=="Group"?ee.traverse(function(ae){ae.type!="Group"&&(ae.renderOrder=re)}):ee.renderOrder=re,this.matrix!=null&&ee.applyMatrix4(this.matrix),this.aryEntity.push(ee),this.xData&&(ee.MxWordDrawXData=this.xData,this.xData=null)},w.prototype.getEntitys=function(){return this.aryEntity},w.prototype.getMxObject=function(){return this.mxObj},w.prototype.createWidthMaterial=function(){this.widthMaterial==null&&(0<this.dDashArray&&0<this.dDashRatio?this.widthMaterial=new C.MeshLineMaterial({useMap:!1,color:this.iColor,opacity:1,resolution:new d.Vector2(this.mxObj.getViewWidth(),this.mxObj.getViewHeight()),sizeAttenuation:!this.lineWidthByPixels,lineWidth:this.dLineWidth,transparent:!0,depthTest:!1,dashArray:this.dDashArray,dashRatio:this.dDashRatio}):this.widthMaterial=new C.MeshLineMaterial({useMap:!1,color:this.iColor,opacity:1,resolution:new d.Vector2(this.mxObj.getViewWidth(),this.mxObj.getViewHeight()),sizeAttenuation:!this.lineWidthByPixels,lineWidth:this.dLineWidth,transparent:!0,depthTest:!1}))},w.prototype.drawSolid=function(ee){if(!(ee.length<3)){var re=new d.Shape(ee.map(function(ue){var de=ue.x,A=ue.y;return new d.Vector2(de,A)})),ae=new d.ShapeGeometry(re),ce=new d.Mesh(ae,new d.MeshPhongMaterial({color:this.getColor(),side:d.DoubleSide,transparent:!0,opacity:this.getOpacity()}));this.drawEntity(ce)}},w.prototype.drawLines=function(ee){if(!(ee.length<2))if(this.dLineWidth!=0){this.createWidthMaterial();var re=new d.Geometry;re.vertices=ee;var ae=new C.MeshLine;ae.setGeometry(re);var ce=new d.Mesh(ae.geometry,this.widthMaterial);this.drawEntity(ce),this.drawEntity(D.MxThreeJS.createLines(ee.slice(0),this.iColor,0))}else this.drawEntity(D.MxThreeJS.createLines(ee.slice(0),this.iColor,this.opacity))},w.prototype.drawGeometryLines=function(ee){if(!(ee.vertices.length<2))if(this.dLineWidth!=0){this.createWidthMaterial();var re=new C.MeshLine;if(!(ee instanceof d.Geometry)){var ae=new d.Geometry;ae.vertices=ee.vertices,ee=ae}re.setGeometry(ee);var ce=new d.Mesh(re.geometry,this.widthMaterial);this.drawEntity(ce);var ue=new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1,opacity:0}),de=new d.Line(ee,ue);this.drawEntity(de)}else ue=void 0,ue=this.opacity&&this.opacity!=1||this.opacity==0?new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1,opacity:this.opacity}):new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1}),de=new d.Line(ee,ue),this.drawEntity(de)},w.prototype.drawSelectLine=function(ee,re,ae,ce){ee instanceof Object&&re instanceof Object?this.drawEntity(D.MxThreeJS.createLine(ee,re,this.iColor,0)):typeof ee=="number"&&typeof re=="number"&&this.drawEntity(D.MxThreeJS.createLine(new d.Vector3(ee,re,0),new d.Vector3(ae,ce,0),this.iColor,0))},w.prototype.drawLine=function(ee,re,ae,ce){var ue,de;if(ee instanceof Object&&re instanceof Object?(ue=ee,de=re):typeof ee=="number"&&typeof re=="number"&&(ue=new d.Vector3(ee,re,0),de=new d.Vector3(ae,ce,0)),this.dLineWidth!=0){this.createWidthMaterial();var A=new Float32Array(6);A[0]=ue.x,A[1]=ue.y,A[2]=0,A[3]=de.x,A[4]=de.y,A[5]=0;var oe=new C.MeshLine;oe.setGeometry(A);var le=new d.Mesh(oe.geometry,this.widthMaterial);le.renderOrder=this.iRenderOrder,this.drawEntity(le),this.drawSelectLine(ue,de)}else this.drawEntity(D.MxThreeJS.createLine(ue,de,this.iColor,this.opacity))},w.prototype.drawCircle=function(ee,re){this.drawEntity(D.MxThreeJS.createCircle(ee,re,this.iColor))},w.prototype.drawText=function(ee,re,ae,ce,ue,de){var A=D.MxThreeJS.creatTextSprite(ee,ce,re,ae,this.iColor,ue,de);return this.drawEntity(A),A},w.prototype.setupForEntity=function(ee){this.iColor=ee.getColor(),this.iRenderOrder=ee.getRenderOrder(),this.opacity=ee.opacity,this.dLineWidth=ee.getLineWidth(),this.lineWidthByPixels=ee.getLineWidthByPixels(),this.dDashArray=ee.getDash().dDashArray,this.dDashRatio=ee.getDash().dDashRatio},w);function w(ee,re){this.aryEntity=[],this.iColor=16777215,this.dLineWidth=0,this.lineWidthByPixels=!0,this.iRenderOrder=v.MxData.iMxEntityRenderOrder,this.worldDrawType=1,this.widthMaterial=null,this.dDashArray=0,this.dDashRatio=0,this.matrix=null,this.opacity=1,this.xData=null,this.mxObj=ee,this.worldDrawType=re}r.McGiWorldDraw=f;var F,T=(l(R,F=f),R.prototype.setCurEntityId=function(ee){this.curEntityId=ee},R.prototype.drawEntity=function(ee){},R.prototype.drawText=function(ee,re,ae,ce,ue,de){return null},R.prototype.drawSelectLine=function(ee,re,ae,ce){},R.prototype.isValid=function(){return this.curEntityId!=0||(console.log("this.curEntityId == 0"),!1)},R.prototype.drawLine=function(ee,re,ae,ce){var ue,de;this.isValid()&&(ee instanceof Object&&re instanceof Object?(ue=ee,de=re):typeof ee=="number"&&typeof re=="number"&&(ue=new d.Vector3(ee,re,0),de=new d.Vector3(ae,ce,0)),this.selectManager.addLineDisplay(this.curEntityId,ue,de))},R.prototype.drawCircle=function(ee,re){this.isValid()&&this.selectManager.addCircleDisplay(this.curEntityId,ee,re)},R.prototype.drawLines=function(ee){if(!(ee.length<2))for(var re=ee.length,ae=0;ae<re-1;ae++)this.selectManager.addLineDisplay(this.curEntityId,ee[ae],ee[ae+1])},R);function R(ee,re){var ae=F.call(this,ee,a.kSelectDraw)||this;return ae.selectManager=re,ae.curEntityId=0,ae}r.McGiWorldDrawSelect=T},{"../MxManager":36,"../MxThreeJS":44,three:19,"three.meshline":18}],51:[function(e,t,r){var i,l=this&&this.__extends||(i=function(de,A){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,le){oe.__proto__=le}||function(oe,le){for(var ie in le)Object.prototype.hasOwnProperty.call(le,ie)&&(oe[ie]=le[ie])})(de,A)},function(de,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function oe(){this.constructor=de}i(de,A),de.prototype=A===null?Object.create(A):(oe.prototype=A.prototype,new oe)});Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUiPrBase=r.MrxDbgUiPrBase_Return=r.McEdGetPointWorldDrawObject=r.McEdGetPointWorldDraw=void 0;var a=e("./MxJig"),c=e("./MxJigCmdManager"),d=e("../MxThreeJS"),D=e("../UI/MxUiVue"),v=e("../MxString"),C=e("./McGiWorldDraw"),f=(w.prototype.setMcEdJig=function(de){this.m_pJig=de},w.prototype.setColor=function(de){this.m_iColor=de},w.prototype.getColor=function(){return this.m_iColor},w.prototype.drawLine=function(de,A){this.m_pJig.drawEntity(d.MxThreeJS.createLine(de,A,this.m_iColor))},w.prototype.drawMcDbEntity=function(de){this.m_pJig.drawMcDbEntity(de)},w.prototype.drawMcDbLine=function(de,A,oe,le,ie,I){this.m_pJig.drawMcDbLine(de,A,oe,le,ie,I)},w.prototype.drawCircle=function(de,A){this.m_pJig.drawEntity(d.MxThreeJS.createCircle(de,A,this.m_iColor))},w.prototype.drawEntity=function(de,A){this.m_pJig.drawEntity(de,A)},w.prototype.drawText=function(de,A,oe,le){var ie=d.MxThreeJS.creatTextSprite(de,le,A,oe,this.m_iColor);this.drawEntity(ie)},w.prototype.drawCustomEntity=function(de,A){var oe=new C.McGiWorldDraw(this.m_pJig.getMxObject(),C.McGiWorldDrawType.kDynDragDraw);oe.setupForEntity(de),de.worldDraw(oe);for(var le=oe.getEntitys(),ie=le.length,I=0;I<ie;I++)this.drawEntity(le[I],A)},w);function w(){this.m_pJig=null,this.m_iColor=16777215}r.McEdGetPointWorldDraw=f;var F,T,R,ee=(l(re,F=f),re.prototype.setDraw=function(de){this.m_callDraw=de},re.prototype.worldDraw=function(de){this.m_callDraw!=null&&this.m_callDraw(de,this)},re);function re(){var de=F!==null&&F.apply(this,arguments)||this;return de.m_callDraw=void 0,de}r.McEdGetPointWorldDrawObject=ee,(R=T=r.MrxDbgUiPrBase_Return||(r.MrxDbgUiPrBase_Return={}))[R.kCancel=-2]="kCancel",R[R.kNone=-1]="kNone",R[R.kOk=0]="kOk",R[R.kKeyWord=1]="kKeyWord";var ae,ce=(l(ue,ae=a.McEdJigCommand),ue.prototype.procInKeyword=function(de){de.status>=c.MxJigCmdManager.DragStatus.kKW1&&0<de.sKeyValue.length?this.m_keyWordPicked=de.sKeyValue.toUpperCase():this.m_keyWordPicked=""},ue.prototype.getReturnStatus=function(de){switch(de){case c.MxJigCmdManager.DragStatus.kNoChange:return T.kNone;case c.MxJigCmdManager.DragStatus.kCancel:return T.kCancel;case c.MxJigCmdManager.DragStatus.kNull:return T.kNone;case c.MxJigCmdManager.DragStatus.kNormal:return T.kOk}return 1<=de?T.kKeyWord:T.kCancel},ue.prototype.setCursorType=function(de){this.m_cursorType=de},ue.prototype.getCursorType=function(){return this.m_cursorType},ue.prototype.setInputToucheType=function(de){this.m_toucheType=de},ue.prototype.getInputToucheType=function(){return this.m_toucheType},ue.prototype.keyWords=function(){return this.m_keyWords},ue.prototype.setKeyWords=function(de){this.m_keyWords=de},ue.prototype.message=function(){return this.m_message},ue.prototype.setMessage=function(de){this.m_message=de},ue.prototype.keyWordPicked=function(){return this.m_keyWordPicked},ue.prototype.isKeyWordPicked=function(de){return de=de.toUpperCase(),this.m_keyWordPicked==de},ue.prototype.setUserDraw=function(de){de.setMcEdJig(this),this.m_pWorldDraw=de},ue.prototype.printMessage=function(){var de=new v.MxString(this.m_message);de.TrimRight(":"),1<this.m_keyWords.length&&this.m_keyWords[0]=="["&&this.m_keyWords[this.m_keyWords.length-1]=="]"?D.MxUiVue.acutPrintf(de.m_val+" \u6216"+this.m_keyWords+":"):D.MxUiVue.acutPrintf(de.m_val+":")},ue);function ue(){var de=ae!==null&&ae.apply(this,arguments)||this;return de.m_keyWords="",de.m_message="",de.m_keyWordPicked="",de.m_pWorldDraw=null,de.m_toucheType=c.MxJigCmdManager.InType.kGetBegan,de.m_cursorType=D.MxUiVue.CursorType.kNormal,de}r.MrxDbgUiPrBase=ce},{"../MxString":42,"../MxThreeJS":44,"../UI/MxUiVue":67,"./McGiWorldDraw":50,"./MxJig":57,"./MxJigCmdManager":58}],52:[function(e,t,r){var i,l=this&&this.__extends||(i=function(R,ee){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ae){re.__proto__=ae}||function(re,ae){for(var ce in ae)Object.prototype.hasOwnProperty.call(ae,ce)&&(re[ce]=ae[ce])})(R,ee)},function(R,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function re(){this.constructor=R}i(R,ee),R.prototype=ee===null?Object.create(ee):(re.prototype=ee.prototype,new re)});Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUiPrPoint=void 0;var a,c=e("three"),d=e("./MxJigCmdManager"),D=e("../MxFun"),v=e("./MrxDbgUiPrBase"),C=e("../UI/MxUiVue"),f=e("../MxThreeJS"),w=e("../MxManager"),F=(l(T,a=v.MrxDbgUiPrBase),T.prototype.value=function(){return new c.Vector3(this.m_value.x,this.m_value.y,0)},T.prototype.getCADValue=function(){return w.MxManager.getMxCpp().NewMdGePoint3d(w.MxManager.currentMx().docCoord2Cad(this.m_value.x,this.m_value.y,0))},T.prototype.basePt=function(){return new c.Vector3(this.m_basePt.x,this.m_basePt.y,0)},T.prototype.setBasePt=function(R){this.m_basePt==null?this.m_basePt=new c.Vector3(R.x,R.y,0):(this.m_basePt.x=R.x,this.m_basePt.y=R.y)},T.prototype.setUseBasePt=function(R){this.m_useBasePt=R},T.prototype.initGo=function(){this.m_keyWordPicked="",this.m_retcall=null,this.m_retWhileCall=null,this.m_exitCall=null},T.prototype.go=function(R){this.initGo(),this.m_retcall=R,d.MxJigCmdManager.runCmd(this)},T.prototype.goWhile=function(R,ee){this.initGo(),this.m_retWhileCall=R,ee&&(this.m_exitCall=ee),d.MxJigCmdManager.runCmd(this)},T.prototype.onExitCommand=function(){var R=this;C.MxUiVue.setCursorType(C.MxUiVue.CursorType.kNormal);var ee=!1;this.m_retcall!=null&&(d.MxJigCmdManager.setRunCmdEvent(function(){a.prototype.onExitCommand.call(R,!1),ee=!0}),this.m_retcall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.setRunCmdEvent(void 0)),!ee&&d.MxJigCmdManager.isWaitCmdNull()&&C.MxUiVue.restoreCmdStatus(),ee||a.prototype.onExitCommand.call(this,!0)},T.prototype.onStartCommand=function(){C.MxUiVue.setCursorType(this.m_cursorType),this.printMessage(),d.MxJigCmdManager.setKeywordList(this.keyWords()),a.prototype.onStartCommand.call(this)},T.prototype.sampler=function(){var R=this.acquirePoint(this.m_toucheType);return this.procInKeyword(R),R.status==d.MxJigCmdManager.DragStatus.kNormal&&(this.m_value==null?this.m_value=new c.Vector3(R.pt.x,R.pt.y,0):(this.m_value.x=R.pt.x,this.m_value.y=R.pt.y)),R.status},T.prototype.done=function(R){if(this.m_retcall!=null)return this.m_resultDragStatus=R,this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand;if(this.m_retWhileCall!=null){if((this.m_resultDragStatus=R)==d.MxJigCmdManager.DragStatus.kCancel)return this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand;var ee=!1;R==d.MxJigCmdManager.DragStatus.kNull&&(ee=!0);var re=this.m_retWhileCall(this.getReturnStatus(this.m_resultDragStatus));return re!=null&&re.exit!=null&&(ee=re.exit),ee?(this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand):(d.MxJigCmdManager.setKeywordList(this.keyWords()),this.printMessage(),d.MxJigCmdManager.DoneStatius.kContinueCommand)}D.MxFun.Assert(0)},T.prototype.upDisplay=function(){this.m_value&&(this.m_pWorldDraw&&(this._mxObject.getMcObject().onReadyJigUpdateDispla(),this.m_pWorldDraw.worldDraw(this.m_value)),this.m_useBasePt&&this.m_basePt&&this.drawEntity(f.MxThreeJS.createLine(this.m_value,this.m_basePt,16777215)))},T);function T(){var R=a.call(this)||this;return R.m_useBasePt=!1,R.m_basePt=null,R.m_value=null,R.m_retcall=null,R.m_retWhileCall=null,R.m_exitCall=null,R.m_resultDragStatus=d.MxJigCmdManager.DragStatus.kCancel,R.m_cursorType=C.MxUiVue.CursorType.kCross,R}r.MrxDbgUiPrPoint=F},{"../MxFun":34,"../MxManager":36,"../MxThreeJS":44,"../UI/MxUiVue":67,"./MrxDbgUiPrBase":51,"./MxJigCmdManager":58,three:19}],53:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCmdRunManager=void 0;var i,l,a,c,d,D,v,C=e("../MxFun"),f=e("../MxType"),w=e("./MxJigCmdManager"),F=e("../UI/MxUiVue"),T=e("../MxDrawData");i=r.MxCmdRunManager||(r.MxCmdRunManager={}),l={},a=new Array,c=0,d=!1,D="",v={},i.InitQuickCommand=function(R){for(var ee=R.length,re=0;re<ee;re++){var ae=R[re];if(!(ae.length<2)){var ce=ae[0];if(ce.length!=0)for(var ue=ae.length,de=1;de<ue;de++)ae[de].length!=0&&(v[ae[de].toUpperCase()]=ce)}}},i.MoveUpKey=function(){return d?++c>=a.length&&(c=0):d=!0,!0},i.MoveDownKey=function(){return!!d&&(--c<0&&(c=a.length-1),!0)},i.GetListCommad=function(){return c<0||c>=a.length?"":a[c]},i.ClearPrvCmd=function(){D=""},i.GetPrvCmd=function(){return D},i.SetPrvCmd=function(R){D=R},i.runCmd=function(R,ee,re){var ae=ee.toUpperCase(),ce=l[ae];if(R&&ce==null){var ue=v[ae];if(ue!=null&&(ce=l[ue.toUpperCase()]),ce==null)return F.MxUiVue.isNull()?console.log(C.MxFun.formatString('\u672A\u77E5\u547D\u4EE4"{0}"',ee)):F.MxUiVue.acutPrintf(`\u672A\u77E5\u547D\u4EE4"{0}"\u3002
\u547D\u4EE4:`,ee),!1}if(!ce)return!1;var de=a.indexOf(ce.cmd);-1<de&&a.splice(de,1),d=!(c=0),a.push(ce.cmd),D=ce.cmd;var A=ce.fun;if(R&&(ce.flag&f.MxType.CommandFlags.MCRX_CMD_TRANSPARENT)==0&&F.MxUiVue.acutPrintf(`{0}
`,ce.cmd),w.MxJigCmdManager.stopCmd(),R&&R.undoMark(),R.callEvent("commandWillStart",{cmd:ee}),R&&ee!="Mx_GripEdit"&&ee!="Mx_IntelliSel"&&ee!="McDraw_GripEdit"&&ee!="Mx_FrontEndWebpageIntelliSel"&&ee!="Mx_FrontEndWebpageGripEdit"){var oe=!1,le=R.getMxCAD();if(le){R.callCommand("MxCAD_StartCommandEvent");var ie=le.getSelect().clearAllSelect(!1),I=le.getGrip().clearAll();(ie||I)&&(oe=!0)}else{var j=R.getMxAllSelect();R.getMxDatabase().getGripManager().removeAllGrips()&&(oe=!0),R.getMxDatabase().getSelectManager().removeAllEntity()&&(oe=!0),R.isValidMcObject()&&R.getMcObject().getGripManager().clearAll()&&(oe=!0),R.getMxDatabase().getSelectManager().setPrvCommandSelect(j)}oe&&R.updateDisplay()}return A(re),R&&(w.MxJigCmdManager.isRunning()||F.MxUiVue.restoreCmdStatus(),R.updateDisplay(),T.MxDrawData.m_isAutoResetRenderer||R.resetRenderer()),!0},i.addCommand=function(R,ee,re){re==null&&(re=f.MxType.CommandFlags.MCRX_CMD_MODAL);var ae=R.toUpperCase();l[ae]={fun:ee,cmd:R,flag:re}}},{"../MxDrawData":29,"../MxFun":34,"../MxType":46,"../UI/MxUiVue":67,"./MxJigCmdManager":58}],54:[function(e,t,r){var i,l=this&&this.__extends||(i=function(A,oe){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ie){le.__proto__=ie}||function(le,ie){for(var I in ie)Object.prototype.hasOwnProperty.call(ie,I)&&(le[I]=ie[I])})(A,oe)},function(A,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function le(){this.constructor=A}i(A,oe),A.prototype=oe===null?Object.create(oe):(le.prototype=oe.prototype,new le)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObjectOsnap=r.McDbLine=r.McDbCurve=r.McDbEntity=r.McDbType=void 0;var a,c,d=e("three"),D=e("../MxThreeJS"),v=e("../MxDrawData"),C=e("./MxJigCmdManager"),f=e("./McEdJigOsnap");(c=a=r.McDbType||(r.McDbType={}))[c.kInValid=0]="kInValid",c[c.kLine=1]="kLine";var w=(F.prototype.getType=function(){return this.m_type},F);function F(){this.m_type=a.kInValid}r.McDbEntity=w;var T,R=(l(ee,T=w),ee);function ee(){return T!==null&&T.apply(this,arguments)||this}r.McDbCurve=R;var re,ae=(l(ce,re=R),ce);function ce(){var A=re.call(this)||this;return A.m_type=a.kLine,A}r.McDbLine=ae;var ue=(de.prototype.getBlobHead=function(A,oe){var le={};return le.type=A.getInt32(oe,!0),oe+=4,le.ver=A.getInt32(oe,!0),oe+=4,le.databaseIndex=A.getInt32(oe,!0),oe+=4,le.nOffset=oe,le},de.prototype.clearData=function(){this.threejsObjects=new d.Object3D},de.prototype.calculateDistance=function(A,oe,le){var ie=new d.Vector3().subVectors(oe,A),I=new d.Vector3().subVectors(le,A),j=ie.clone().normalize(),pe=I.clone().normalize(),be=j.dot(pe),De=new d.Vector3().subVectors(le,oe),Re=new d.Vector3().subVectors(A,oe),Ee=De.clone().normalize(),Se=Re.clone().normalize();if(0<Ee.dot(Se)&&0<be){var Le=Math.sqrt(1-be*be),Ie=A.distanceTo(le),st=Ie*Le,Ye=Ie*be,Ke=ie.clone().normalize().multiplyScalar(Ye),St=A.clone().add(Ke),ct=ie.clone().normalize().multiplyScalar(200+Ye);return{pt1:A,pt2:oe,pt:le,distance:st,targetPt:St,warningPt:A.clone().add(ct)}}return null},de.prototype.getOsnapData=function(A,oe){if(this.threejsObjects){var le=new d.Raycaster,ie=v.MxDrawData.getCursorWidthPixels();le.linePrecision=this.mxObj.screenCoordLong2World(ie);var I=this.mxObj.getCanvas(),j=I.clientWidth,pe=I.clientHeight,be=this.mxObj.screenCoord2World(A.x,A.y);be.z=0,A=new d.Vector2(A.x/j*2-1,-A.y/pe*2+1),le.setFromCamera(A,this.mxObj.getCamera());var De=le.intersectObjects(this.threejsObjects.children,!0),Re=this.mxObj.sysVariable().getSysVarNumber("OSMODE"),Ee=new Map;if(De.length)for(var Se=0;Se<De.length;Se++){var Le=De[Se];if(Le.object.userData&&Le.object.userData.obj.getType()==a.kLine){var Ie=Le.object.userData.obj;if(Re&f.MxOsnapDefine.OsModeEnd){var st=be.distanceTo(Ie.pt1);Ie.pt1.type=C.MxJigCmdManager.OsnapMode.kOsModeEnd,Ee.set(st,Ie.pt1);var Ye=be.distanceTo(Ie.pt2);Ie.pt2.type=C.MxJigCmdManager.OsnapMode.kOsModeEnd,Ee.set(Ye,Ie.pt2)}if(Re&f.MxOsnapDefine.OsModeNear&&(!Ie.bulge||Ie.bulge==0)){var Ke=this.calculateDistance(Ie.pt1,Ie.pt2,be);Ke&&(Ke.targetPt.type=C.MxJigCmdManager.OsnapMode.kOsModeNear,Ee.set(Ke.distance,Ke.targetPt))}}}if(Ee.size){var St=this.mxObj.screenCoordLong2World(ie),ct=Array.from(Ee);ct.sort(function(Ct,Pt){return Ct[0]-Pt[0]}),ct[0][0]<St&&oe(ct[0][1],ct[0][1].type)}}},de.prototype.mxWebEntitysData=function(A,oe){var le=this.getBlobHead(A,0);A.getInt32(le.nOffset,!0),le.nOffset+=4;var ie=A.getInt32(le.nOffset,!0);le.nOffset+=4;var I=A.getInt32(le.nOffset,!0);if(le.nOffset+=4,1<I)console.log("mx:error mxfun.js version is old!");else{var j=A.getInt32(le.nOffset,!0);if(le.nOffset+=4,j==le.nOffset){this.threejsObjects=new d.Object3D;for(var pe=0;pe<ie;pe++){var be=A.getInt8(le.nOffset);le.nOffset+=1;var De=A.getInt32(le.nOffset,!0);if(le.nOffset+=4,be==1){var Re=A.getFloat32(le.nOffset,!0);le.nOffset+=4;var Ee=A.getFloat32(le.nOffset,!0);le.nOffset+=4;var Se=A.getFloat32(le.nOffset,!0);le.nOffset+=4;var Le=A.getFloat32(le.nOffset,!0);le.nOffset+=4,(Pt=new ae).pt1=new d.Vector3(Re,Ee,0),Pt.pt2=new d.Vector3(Se,Le,0),(bt=D.MxThreeJS.createLine(Pt.pt1,Pt.pt2,16777215)).userData.obj=Pt,this.threejsObjects.add(bt)}else if(be==2){var Ie=A.getInt8(le.nOffset);le.nOffset+=1;var st=A.getInt32(le.nOffset,!0);le.nOffset+=4;for(var Ye=new d.Vector3,Ke=0,St=null,ct=0;ct<st;ct++){var Ct=new d.Vector3;Ct.x=A.getFloat32(le.nOffset,!0),le.nOffset+=4,Ct.y=A.getFloat32(le.nOffset,!0),le.nOffset+=4;var Pt,bt,an=A.getFloat32(le.nOffset,!0);le.nOffset+=4,0<ct&&((Pt=new ae).pt1=Ye.clone(),Pt.pt2=Ct.clone(),Pt.bulge=an,(bt=D.MxThreeJS.createLine(Pt.pt1,Pt.pt2,16777215)).userData.obj=Pt,this.threejsObjects.add(bt)),Ye=Ct,Ke=an,ct==0&&(St=Ct)}Ie&&2<st&&((Pt=new ae).pt1=St.clone(),Pt.pt2=Ye.clone(),Pt.bulge=Ke,(bt=D.MxThreeJS.createLine(Pt.pt1,Pt.pt2,16777215)).userData.obj=Pt,this.threejsObjects.add(bt))}else console.log("mx:error mxWebEntitysData type"),le.nOffset=le.nOffset-5+De}}else console.log("mx: mxWebEntitysData size assert(0)")}},de);function de(A){this.threejsObjects=null,this.mxObj=null,this.mxObj=A}r.MxDrawObjectOsnap=ue},{"../MxDrawData":29,"../MxThreeJS":44,"./McEdJigOsnap":49,"./MxJigCmdManager":58,three:19}],55:[function(e,t,r){var i,l=this&&this.__extends||(i=function(w,F){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var ee in R)Object.prototype.hasOwnProperty.call(R,ee)&&(T[ee]=R[ee])})(w,F)},function(w,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function T(){this.constructor=w}i(w,F),w.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxEntSelJig=void 0;var a,c=e("./MxJig"),d=e("./MxJigCmdManager"),D=e("../UI/MxUiVue"),v=e("../MrxDbgUtils"),C=(l(f,a=c.McEdJigCommand),f.prototype.sampler=function(){var w=d.MxJigCmdManager.InType.kGetBegan,F=this.acquirePoint(w);return F.status==d.MxJigCmdManager.DragStatus.kNormal&&(this.point=F.pt),F.status},f.prototype.done=function(w){if(w==d.MxJigCmdManager.DragStatus.kNormal){var F=this;v.MrxDbgUtils.findEntAtPoint(this.getMxObject(),this.point,this.filter).then(function(T){F.callRet(T)})}else this.callRet([]);return d.MxJigCmdManager.DoneStatius.kExitCommand},f.prototype.onStartCommand=function(){D.MxUiVue.setCursorType(D.MxUiVue.CursorType.kRect),a.prototype.onStartCommand.call(this)},f.prototype.onExitCommand=function(){D.MxUiVue.setCursorType(D.MxUiVue.CursorType.kNormal),d.MxJigCmdManager.isWaitCmdNull()&&D.MxUiVue.restoreCmdStatus(),a.prototype.onExitCommand.call(this,!0)},f.prototype.upDisplay=function(){},f);function f(){return a!==null&&a.apply(this,arguments)||this}r.MxEntSelJig=C},{"../MrxDbgUtils":20,"../UI/MxUiVue":67,"./MxJig":57,"./MxJigCmdManager":58}],56:[function(e,t,r){var i,l=this&&this.__extends||(i=function(w,F){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var ee in R)Object.prototype.hasOwnProperty.call(R,ee)&&(T[ee]=R[ee])})(w,F)},function(w,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function T(){this.constructor=w}i(w,F),w.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxIntelliSelectJig=void 0;var a,c=e("three"),d=e("./MxJig"),D=e("./MxJigCmdManager"),v=e("../MxThreeJS"),C=(l(f,a=d.McEdJigCommand),f.prototype.sampler=function(){var w=D.MxJigCmdManager.InType.kGetBegan,F=this.acquirePoint(w);return F.status==D.MxJigCmdManager.DragStatus.kNormal&&(this.m_pt2=F.pt),F.status},f.prototype.getTypeName=function(){return"MxIntelliSelect"},f.prototype.done=function(w){if(w==D.MxJigCmdManager.DragStatus.kNormal){var F=this.getMxObject();if(this.m_isFrontEndWebpage)F.getMxDatabase().getGripManager().doWindowsSelect(this.m_pt1,this.m_pt2);else{var T={x1:this.m_pt1.x,y1:this.m_pt1.y,x2:this.m_pt2.x,y2:this.m_pt2.y};F.callCommand("MxCAD_IntelliSelect",JSON.stringify(T),function(R){F.getMxCAD().getGrip().onIntelliSelect(R)})}}return D.MxJigCmdManager.DoneStatius.kExitCommand},f.prototype.doPointSelect=function(w,F,T){var R=w.screenCoordLong2Doc(16),ee={x:F.x,y:F.y,tol:R};w.callCommand("MxCAD_IntelliSelect_Point",JSON.stringify(ee),function(re){T(re)})},f.prototype.upDisplay=function(){var w=new c.Vector3(this.m_pt1.x,this.m_pt2.y,this.m_pt2.z),F=new c.Vector3(this.m_pt2.x,this.m_pt1.y,this.m_pt2.z),T=[];T.push(this.m_pt1),T.push(w),T.push(this.m_pt2),T.push(F),T.push(this.m_pt1);var R=null,ee=65280;if(this.m_pt2.x>this.m_pt1.x)R=v.MxThreeJS.createLines(T,16777215),ee=255;else{var re=this.getMxObject().screenCoordLong2Doc(3);R=v.MxThreeJS.createDashedLines(T,16777215,2*re,re)}var ae=[];ae.push(this.m_pt1),ae.push(w),ae.push(this.m_pt2),ae.push(this.m_pt1),ae.push(this.m_pt2),ae.push(F);var ce=v.MxThreeJS.createTriangle(ae,ee,.27);this.drawEntity(ce,30),this.drawEntity(R,31)},f);function f(w,F){var T=a.call(this)||this;return T.m_pt1=w,T.m_pt2=w,T.m_isFrontEndWebpage=F,T}r.MxIntelliSelectJig=C},{"../MxThreeJS":44,"./MxJig":57,"./MxJigCmdManager":58,three:19}],57:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McEdJigCommand=r.MxDynamicInput=void 0;var i=e("three"),l=e("../MxFun"),a=e("./MxJigCmdManager"),c=e("../MxManager"),d=e("../MxTools"),D=e("../UI/MxUiVue"),v=e("./McEdJigOsnap"),C=e("../MxWindowsEvent"),f=(w.prototype.onKeyDonw=function(R){if(R==27)return this.m_isInputStatus?(this.m_isInputStatus=!1,D.MxUiVue.OnMxEvent({name:"dynInputReSet"}),1):0;if(R!=32&&R!=13)return this.m_isInputStatus=!0,0;if(this.m_isInputStatus&&D.MxUiVue.DynamicInput_isShow()&&D.MxUiVue.DynamicInput_getType()==a.MxJigCmdManager.DynamicInputType.kXYCoordInput){var ee,re=D.MxUiVue.DynamicInput_getValue1(),ae=D.MxUiVue.DynamicInput_getValue2(),ce=D.MxUiVue.DynamicInput_getFocusValue();ee=d.MxTools.IsNumerical(re)&&d.MxTools.IsNumerical(ae)?l.MxFun.formatString("{0},{1}",re,ae):ce,D.MxUiVue.setCmdText(ee)}return this.m_isInputStatus=!1,0},w.prototype.isInputStatus=function(){return this.m_isInputStatus},w.prototype.initDynInput=function(R){this.m_jig=R;var ee=this.m_jig.getMxObject();D.MxUiVue.DynamicInput_setType(this.m_dynType),this.m_dynType==a.MxJigCmdManager.DynamicInputType.kAutoInput&&(this._dynamicInputBasePoint!=null||ee.sysVariable().getSysVarNumber("GETPOINTSTATUS")&a.MxJigCmdManager.GETPOINTSTATUS.OsModeSValidLastPoint?D.MxUiVue.DynamicInput_setType(a.MxJigCmdManager.DynamicInputType.kDistanceInput):D.MxUiVue.DynamicInput_setType(a.MxJigCmdManager.DynamicInputType.kXYCoordInput))},w.prototype.setFocus=function(R){D.MxUiVue.OnMxEvent({name:"dynInputSetFocus",param:{isFocus:R}})},w.prototype.exitDynInput=function(){this._dynamicInputBasePoint=void 0,D.MxUiVue.DynamicInput_setShow(!1),D.MxUiVue.DynamicInput_upDisplay()},w.prototype.isShow=function(){return D.MxUiVue.DynamicInput_isShow()},w.prototype.upDynInput=function(){var R,ee=this.m_jig.getMxObject();if(R=!this.m_jig.isDisableDynInput()&&ee.sysVariable().getSysVarBool("DYNINPUT"),D.MxUiVue.DynamicInput_setShow(R),R){if(D.MxUiVue.DynamicInput_setTip(D.MxUiVue.getCmdTip()),a.MxJigCmdManager.getAcquireStatus()==a.MxJigCmdManager.AcquireStatus.kMove){var re=a.MxJigCmdManager.getAcquirePoint();if(D.MxUiVue.DynamicInput_setPos(l.MxFun.docCoord2Screen(re.x,re.y,re.z)),D.MxUiVue.DynamicInput_getType()==a.MxJigCmdManager.DynamicInputType.kXYCoordInput){var ae=re;D.MxUiVue.DynamicInput_setValue1(ae.x.toFixed(3)),D.MxUiVue.DynamicInput_setValue2(ae.y.toFixed(3))}else D.MxUiVue.DynamicInput_getType(),a.MxJigCmdManager.DynamicInputType.kDistanceInput}D.MxUiVue.DynamicInput_upDisplay()}},w.prototype.setDynamicInputBasePoint=function(R){this._dynamicInputBasePoint=R},w.prototype.setDynamicInputType=function(R){this.m_dynType=R},w.prototype.getDynamicInputType=function(){return this.m_dynType},w);function w(R){this.m_dynType=a.MxJigCmdManager.DynamicInputType.kAutoInput,this._dynamicInputBasePoint=void 0,this.m_isInputStatus=!1,this.m_jig=R}r.MxDynamicInput=f;var F=(T.prototype.getTypeName=function(){return""},T.prototype.getSence=function(){return this._mxObject.getTheTempDrawContainer()},T.prototype.onExitCommand=function(R){R&&this.m_dynInput.exitDynInput(),this.m_osnap.endDrag(),this._mxObject.getMcObject().onJigCommandEnd()},T.prototype.getOsnap=function(){return this.m_osnap},T.prototype.isDisableDynInput=function(){return this.m_isDisableDynInput},T.prototype.setDisableDynInput=function(R){this.m_isDisableDynInput=R},T.prototype.setDisableOsnap=function(R){this.m_isDisableOsnap=R},T.prototype.isDisableOsnap=function(){return this.m_isDisableOsnap},T.prototype.onStartCommand=function(){this._isCancle=!1,this._isExit=!1,this.m_dynInput.initDynInput(this),v.McEdImpJigGlobalData.intiStartDrag(this._mxObject),this.m_osnap.startDrag(this.m_isOffsetInputPostion,this);var R=C.MxWindowsEvent.getCurrentMousePostion(),ee=this._mxObject.screenCoord2Doc(R.x,R.y,0);this.m_osnap.setPoint(ee),a.MxJigCmdManager.doMouseMoveImp(),this.m_dynInput.setFocus(!0)},T.prototype.getDynImput=function(){return this.m_dynInput},T.prototype.setMxObject=function(R){this._mxObject=R},T.prototype.getMxObject=function(){return this._mxObject},T.prototype.setColor=function(R){this._iColor=R},T.prototype.getColor=function(){return this._iColor},T.prototype.setDynamicInputType=function(R){this.m_dynInput.setDynamicInputType(R)},T.prototype.getDynamicInputType=function(){return this.m_dynInput.getDynamicInputType()},T.prototype.createTriangle=function(R,ee,re){var ae=new i.MeshBasicMaterial({color:this._iColor,side:i.DoubleSide}),ce=new i.Geometry;ce.vertices.push(R),ce.vertices.push(ee),ce.vertices.push(re);var ue=new i.Vector3(1,1,1),de=new i.Color(this._iColor),A=new i.Face3(0,1,2,ue,de,0);return ce.faces.push(A),ce.computeFaceNormals(),ce.computeVertexNormals(),new i.Mesh(ce,ae)},T.prototype.createPoint=function(R){var ee=new i.Geometry;ee.vertices.push(R);var re=new i.PointsMaterial({color:this._iColor,size:3});return new i.Points(ee,re)},T.prototype.createLine=function(R,ee){var re=new i.Geometry,ae=new i.LineBasicMaterial({color:this._iColor});return re.vertices.push(R,ee),new i.Line(re,ae)},T.prototype.drawReserve=function(R){this.m_isReserveDrawStatus=!0,this.m_callReserveDrawAddEntity=R,this.upDisplay(),this.m_isReserveDrawStatus=!1,this.m_callReserveDrawAddEntity=null},T.prototype.drawMcDbEntity=function(R){this.m_isReserveDrawStatus?this._mxObject.getMcObject().DrawEntity(R.getImp()):this._mxObject.getMcObject().onJigDrawEntityDisplay(R.getImp())},T.prototype.drawMcDbLine=function(R,ee,re,ae,ce,ue){this.m_isReserveDrawStatus?this._mxObject.getMcObject().DrawLine(R,ee,re,ae,ce,ue):this._mxObject.getMcObject().onJigDrawEntityDisplay_line(R,ee,re,ae,ce,ue)},T.prototype.drawEntity=function(R,ee){if(R!=null)if(this.m_isReserveDrawStatus)R.renderOrder=ee??c.MxData.iDynJigRenderOrder,this._mxObject.addObject(R),this.m_callReserveDrawAddEntity&&this.m_callReserveDrawAddEntity(R);else{var re="MxDynDraw_"+this._DynNameId.toString();R.name=re,R.renderOrder=ee??c.MxData.iDynJigRenderOrder,this._aryDynDrawObjectNamesId==null&&(this._aryDynDrawObjectNamesId=new Array),this._aryDynDrawObjectNamesId.push(this._DynNameId),this._DynNameId++,this.getSence().add(R)}},T.prototype.floorPowerOfTwo=function(R){return Math.pow(2,Math.floor(Math.log(R)/Math.LN2))},T.prototype.makeTextSprite=function(R,ee,re,ae,ce){var ue,de=document.createElement("canvas"),A=de.getContext("2d"),oe=l.MxFun.formatString("normal {0}px Arial","256");A.font=oe;var le=A.measureText(R);ue=2*this.floorPowerOfTwo(le.width),de.width=ue,de.height=256,A.font=oe,A.textAlign="center",A.textBaseline="middle";var ie=l.MxFun.formatString("#{0}",ce.toString(16));A.fillStyle=ie,A.fillText(R,ue/2,128);var I=new i.Texture(de);I.needsUpdate=!0;var j=new i.SpriteMaterial({map:I});j.transparent=!1,j.rotation=ae;var pe=new i.Sprite(j);return pe.scale.set(ue/256*re,re,1),pe.position.set(ee.x,ee.y,0),pe},T.prototype.drawText=function(R,ee,re,ae){var ce=this.makeTextSprite(R,ae,ee,re,this._iColor);this.drawEntity(ce)},T.prototype.drawPoints=function(R){for(var ee=0;ee<R.length;ee++){var re=new i.Geometry;re.vertices.push(R[ee]);var ae=new i.PointsMaterial({color:this._iColor,size:3}),ce=new i.Points(re,ae);this.drawEntity(ce)}},T.prototype.drawPoint=function(R){var ee=new i.Geometry;ee.vertices.push(R);var re=new i.PointsMaterial({color:this._iColor,size:3}),ae=new i.Points(ee,re);this.drawEntity(ae)},T.prototype.drawPolyline=function(R){for(var ee=new i.Geometry,re=0;re<R.length;re++)ee.vertices.push(R[re]);var ae=new i.LineBasicMaterial({color:this._iColor}),ce=new i.Line(ee,ae);this.drawEntity(ce)},T.prototype.drawSpline=function(R){},T.prototype.drawCircle=function(R,ee){var re=new i.CircleGeometry(ee,64,3,2*Math.PI),ae=new i.LineBasicMaterial({color:this._iColor});re.vertices.shift();var ce=new i.LineLoop(re,ae);ce.position.x=R.x,ce.position.y=R.y,ce.position.z=R.z,this.drawEntity(ce)},T.prototype.drawArc=function(R,ee,re,ae){var ce=new i.CircleGeometry(ee,64,re,ae),ue=new i.LineBasicMaterial({color:this._iColor});ce.vertices.shift();var de=new i.Line(ce,ue);de.position.x=R.x,de.position.y=R.y,de.position.z=R.z,this.drawEntity(de)},T.prototype.drawLine=function(R,ee){var re=new i.Geometry,ae=new i.LineBasicMaterial({color:this._iColor});re.vertices.push(R,ee);var ce=new i.Line(re,ae);this.drawEntity(ce)},T.prototype.removeDynDrawObject=function(){if(this._aryDynDrawObjectNamesId!=null){for(var R=0;R<this._aryDynDrawObjectNamesId.length;R++){var ee="MxDynDraw_"+this._aryDynDrawObjectNamesId[R].toString(),re=this.getSence().getObjectByName(ee);l.MxFun.removeThreejsObject(re,this.getSence())}this._aryDynDrawObjectNamesId=[],this._mxObject.getMcObject().onJigClearDisplay()}},T.prototype.acquirePoint=function(R){var ee=a.MxJigCmdManager.acquirePoint(R);return this._isExit=ee.exit,ee},T.prototype.notifyCancleExit=function(){this._isCancle=!0,this.removeDynDrawObject(),this.done(a.MxJigCmdManager.DragStatus.kCancel),this.onExitCommand(!0),a.MxJigCmdManager.commandRunComplete(this)},T.prototype.notifySampler=function(){var R=this.sampler();if(this.m_dynInput.upDynInput(),R==a.MxJigCmdManager.DragStatus.kNormal&&(this.removeDynDrawObject(),this.upDisplay()),this._isExit){var ee=this.done(R);this._isCancle||(ee==a.MxJigCmdManager.DoneStatius.kContinueCommand?(this._isExit=!1,a.MxJigCmdManager.doMouseMoveImp(),D.MxUiVue.OnMxEvent({name:"dynInputReSet"})):(this.removeDynDrawObject(),a.MxJigCmdManager.commandRunComplete(this),this.onExitCommand(!0)))}this._mxObject.updateDisplay()},T.prototype.getCurrentMouseButton=function(){return a.MxJigCmdManager.getCurrentMouseButton()},T.prototype.userInputControls=function(){return this._userInputContros},T.prototype.setUserInputControls=function(R){this._userInputContros=R},T);function T(){this._isExit=!1,this._aryDynDrawObjectNamesId=void 0,this._DynNameId=1,this._iColor=16777215,this._isCancle=!1,this.m_isDisableDynInput=!1,this.m_isDisableOsnap=!1,this.m_dynInput=new f(this),this.m_osnap=new v.McEdJigOsnap(this),this._userInputContros=a.MxJigCmdManager.UserInputControls.kNullResponseAccepted,this.m_isOffsetInputPostion=!1,this.m_isReserveDrawStatus=!1,this.m_callReserveDrawAddEntity=null,this._mxObject=null}r.McEdJigCommand=F},{"../MxFun":34,"../MxManager":36,"../MxTools":45,"../MxWindowsEvent":48,"../UI/MxUiVue":67,"./McEdJigOsnap":49,"./MxJigCmdManager":58,three:19}],58:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxJigCmdManager=r.AcquireReturn=void 0;var i,l=e("three"),a=e("../MxFun"),c=e("./MxJig"),d=e("../MxManager"),D=e("./MrxDbgUiPrPoint"),v=e("./MrxDbgUiPrBase"),C=e("../UI/MxUiVue"),f=e("../MxTools"),w=e("../MxString"),F=e("../MxWindowsEvent"),T=e("../MxDrawObject"),R=e("./McEdJigOsnap"),ee=e("../MxDrawData"),re=function(){this.status=i.DragStatus.kNoChange,this.exit=!0,this.sKeyValue=""};r.AcquireReturn=re,function(ae){var ce,ue,de,A,oe,le,ie,I,j,pe,be,De,Re,Ee,Se,Le,Ie,st;(ue=ce=ae.UserInputControls||(ae.UserInputControls={}))[ue.kGovernedByOrthoMode=1]="kGovernedByOrthoMode",ue[ue.kNullResponseAccepted=2]="kNullResponseAccepted",ue[ue.kDontEchoCancelForCtrlC=4]="kDontEchoCancelForCtrlC",ue[ue.kDontUpdateLastPoint=8]="kDontUpdateLastPoint",ue[ue.kNoDwgLimitsChecking=16]="kNoDwgLimitsChecking",ue[ue.kNoZeroResponseAccepted=32]="kNoZeroResponseAccepted",ue[ue.kNoNegativeResponseAccepted=64]="kNoNegativeResponseAccepted",ue[ue.kAccept3dCoordinates=128]="kAccept3dCoordinates",ue[ue.kAcceptMouseUpAsPoint=256]="kAcceptMouseUpAsPoint",ue[ue.kAnyBlankTerminatesInput=512]="kAnyBlankTerminatesInput",ue[ue.kInitialBlankTerminatesInput=1024]="kInitialBlankTerminatesInput",ue[ue.kAcceptOtherInputString=2048]="kAcceptOtherInputString",ue[ue.kGovernedByUCSDetect=4096]="kGovernedByUCSDetect",ue[ue.kNoZDirectionOrtho=8192]="kNoZDirectionOrtho",ue[ue.kSpacesInAccepted=16384]="kSpacesInAccepted",(A=de=ae.AcquireStatus||(ae.AcquireStatus={}))[A.kNoChange=0]="kNoChange",A[A.kMove=1]="kMove",A[A.kBegan=2]="kBegan",A[A.kEnd=3]="kEnd",A[A.kMouseUp=4]="kMouseUp",A[A.kMouseDown=5]="kMouseDown",A[A.kCancle=6]="kCancle",(le=oe=ae.DragStatus||(ae.DragStatus={}))[le.kNoChange=-6]="kNoChange",le[le.kCancel=-4]="kCancel",le[le.kOther=-3]="kOther",le[le.kNull=-1]="kNull",le[le.kNormal=0]="kNormal",le[le.kKW1=1]="kKW1",(ie=ae.DoneStatius||(ae.DoneStatius={}))[ie.kContinueCommand=0]="kContinueCommand",ie[ie.kExitCommand=1]="kExitCommand",(j=I=ae.InType||(ae.InType={}))[j.kGetBegan=1]="kGetBegan",j[j.kGetEnd=2]="kGetEnd",(be=pe=ae.MouseButton||(ae.MouseButton={}))[be.kInvalid=-1]="kInvalid",be[be.kLeft=0]="kLeft",be[be.kMid=1]="kMid",be[be.kRight=2]="kRight",(Re=De=ae.COMMAND_IN||(ae.COMMAND_IN={}))[Re.COMMAND_IN_NO_ENTITY=0]="COMMAND_IN_NO_ENTITY",Re[Re.COMMAND_IN_EMTPY=1]="COMMAND_IN_EMTPY",Re[Re.COMMAND_IN_KEY=2]="COMMAND_IN_KEY",Re[Re.COMMAND_IN_STRING=3]="COMMAND_IN_STRING",Re[Re.COMMAND_IN_COORD=5]="COMMAND_IN_COORD",Re[Re.COMMAND_IN_DIST=6]="COMMAND_IN_DIST",Re[Re.COMMAND_IN_INVALID=7]="COMMAND_IN_INVALID",Re[Re.COMMAND_IN_INVALID_ZERO=8]="COMMAND_IN_INVALID_ZERO",Re[Re.COMMAND_IN_INVALID_NEG=9]="COMMAND_IN_INVALID_NEG",Re[Re.COMMAND_IN_INT=10]="COMMAND_IN_INT",(Se=Ee=ae.COMMAND_GET||(ae.COMMAND_GET={}))[Se.COMMAND_GET_STRING=1]="COMMAND_GET_STRING",Se[Se.COMMAND_GET_KEY=2]="COMMAND_GET_KEY",Se[Se.COMMAND_GET_DIST=4]="COMMAND_GET_DIST",Se[Se.COMMAND_GET_COORD=8]="COMMAND_GET_COORD",Se[Se.COMMAND_GET_INT=16]="COMMAND_GET_INT",(Le=ae.DynamicInputType||(ae.DynamicInputType={}))[Le.kNoInput=0]="kNoInput",Le[Le.kXYCoordInput=1]="kXYCoordInput",Le[Le.kDistanceInput=2]="kDistanceInput",Le[Le.kDynTip=3]="kDynTip",Le[Le.kAutoInput=4]="kAutoInput",Le[Le.kAngleInput=5]="kAngleInput",(Ie=ae.GETPOINTSTATUS||(ae.GETPOINTSTATUS={}))[Ie.OsModeSValidLastPoint=1]="OsModeSValidLastPoint",Ie[Ie.OsModeSTempDisable=2]="OsModeSTempDisable",Ie[Ie.OsModeOrthoTempDisable=4]="OsModeOrthoTempDisable",Ie[Ie.OsModeSInvalidLastMovePoint=8]="OsModeSInvalidLastMovePoint",Ie[Ie.OsModePoloarTempDisable=16]="OsModePoloarTempDisable",Ie[Ie.OsModeDynTraceTempDisable=32]="OsModeDynTraceTempDisable",Ie[Ie.OsModeGridSnapTempDisable=64]="OsModeGridSnapTempDisable",(st=ae.OsnapMode||(ae.OsnapMode={}))[st.kOsModekValid=0]="kOsModekValid",st[st.kOsModeEnd=1]="kOsModeEnd",st[st.kOsModeMid=2]="kOsModeMid",st[st.kOsModeCen=3]="kOsModeCen",st[st.kOsModeNode=4]="kOsModeNode",st[st.kOsModeQuad=5]="kOsModeQuad",st[st.kOsModeIns=7]="kOsModeIns",st[st.kOsModePerp=8]="kOsModePerp",st[st.kOsModeTan=9]="kOsModeTan",st[st.kOsModeNear=10]="kOsModeNear",st[st.kOsModeInt=11]="kOsModeInt";var Ye,Ke=void 0,St=void 0,ct=de.kNoChange,Ct=pe.kInvalid,Pt=-9999999,bt=new l.Vector2(Pt,Pt),an=!1,Yt=void 0,Ne=!1,mt=new Map,me=new Array,Ae=new w.MxString,Oe=void 0;function Pe(){Ke?.notifySampler()}function $e(rt){var xt=rt.srcElement;if(xt&&xt.tagName=="CANVAS"){if(Ke==null||Ke.getDynImput().isInputStatus())return 0;bt.x=rt.offsetX,bt.y=rt.offsetY,it(bt),rt.stopPropagation()}return 0}function tt(rt){if(rt.button!=pe.kLeft)return 0;var xt=rt.srcElement;return!xt||xt.tagName!="CANVAS"||Ke==null||Ke.getDynImput().isInputStatus()?0:(bt.x=rt.offsetX,bt.y=rt.offsetY,Ye=Ke.getMxObject().screenCoord2Doc(rt.offsetX,rt.offsetY,0),ct=de.kMouseUp,Ct=rt.button,Pe(),rt.stopPropagation(),1)}function qe(rt){if(rt.button!=pe.kLeft)return 0;Ke!=null&&Ke.getDynImput().isShow()&&Ke.getDynImput().setFocus(!0);var xt=rt.srcElement;if(xt&&xt.tagName=="CANVAS"){if(Ke==null||Ke.getDynImput().isInputStatus())return 0;bt.x=rt.offsetX,bt.y=rt.offsetY;var Qt=Ke.getMxObject().screenCoord2Doc(rt.offsetX,rt.offsetY,0),gn=Ke.getOsnap(),Nn=gn.getCurrentOSnapPoint(Qt);return Qt=Nn.pt,Nn.osmode,R.McEdImpJigGlobalData.setPrvPoint(Qt),gn.seInValidPoint(),Ye=Qt,ct=de.kMouseDown,Ct=rt.button,Pe(),rt.stopPropagation(),1}return 0}function dt(rt){if(rt.touches.length!=0){Ke!=null&&Ke.getDynImput().isShow()&&Ke.getDynImput().setFocus(!0);var xt=rt.srcElement;if(xt&&xt.tagName=="CANVAS"){if(Ke==null||Ke.getDynImput().isInputStatus())return;bt.x=rt.touches[0].pageX,bt.y=rt.touches[0].pageY;var Qt=Ke.getMxObject().screenCoord2Doc(rt.touches[0].pageX,rt.touches[0].pageY,0),gn=Ke.getOsnap(),Nn=gn.getCurrentOSnapPoint(Qt);return Qt=Nn.pt,Nn.osmode,R.McEdImpJigGlobalData.setPrvPoint(Qt),gn.seInValidPoint(),Ye=Qt,ct=de.kBegan,Ct=pe.kInvalid,Pe(),rt.stopPropagation(),1}}}function ft(rt){var xt=rt.srcElement;if(xt&&xt.tagName=="CANVAS")return Ke==null||Ke.getDynImput().isInputStatus()||bt.x==Pt||bt.y==Pt?void 0:(Ye=Ke.getMxObject().screenCoord2Doc(bt.x,bt.y,0),ct=de.kEnd,Ct=pe.kInvalid,Pe(),rt.stopPropagation(),1)}function Ft(rt){var xt=rt.srcElement;if(xt&&xt.tagName=="CANVAS"){if(Ke==null||Ke.getDynImput().isInputStatus())return;bt.x=rt.touches[0].pageX,bt.y=rt.touches[0].pageY,it(bt)}}function it(rt){if(Ne=!1,rt==null){if(bt.x==Pt||bt.y==Pt)return;rt=bt}var xt=Ke.getMxObject().screenCoord2Doc(rt.x,rt.y,0),Qt=Ke.getOsnap(),gn=Ke.getMxObject().screenCoordLong2Doc(.5*ee.MxDrawData.getCursorWidthPixels());Qt.setPoint(xt,gn),ae.OsnapMode.kOsModekValid,Ye=xt,ct=de.kMove,Pe.call(this)}function zt(){Ke&&(Oe=Ke.getMxObject().getEventManager(),a.MxFun.isPC()?(Oe.addEventListener("mouseup",tt,!0),Oe.addEventListener("mousemove",$e,!0),Oe.addEventListener("mousedown",qe,!0)):(Oe.addEventListener("touchstart",dt,!0),Oe.addEventListener("touchend",ft,!0),Oe.addEventListener("touchmove",Ft,!0)))}function pt(){Oe&&(a.MxFun.isPC()?(Oe.removeEventListener("mouseup",tt,!0),Oe.removeEventListener("mousemove",$e,!0),Oe.removeEventListener("mousedown",qe,!0)):(Oe.removeEventListener("touchstart",dt,!0),Oe.removeEventListener("touchend",ft,!0),Oe.removeEventListener("touchmove",Ft,!0)),Oe=void 0)}function ut(rt){var xt=rt.getOrbitControls();a.MxFun.isPC()||(xt.enabled=!1),xt.resetStatusValue(),rt.getRunMode()==T.MxRunMode.kBrowse&&rt.enableSingleTouchPan(!1),rt.tempDisableSelect(!0),rt.updateDisplay()}function Gt(rt){var xt=new l.Vector3,Qt=!1,gn=new w.MxString(rt),Nn=gn.AnalyzeString(",");if(Nn.length<2)for(;!gn.IsEmpty()&&f.MxTools.IsNumerical(gn);){var Ar=f.MxTools._tstof(gn.m_val);if(f.MxTools.IsZero(Ar))break;break}else{var jn=new w.MxString(Nn[0]),Hn=new w.MxString(Nn[1]),ir=new w.MxString("0");2<Nn.length&&(ir.m_val=Nn[2]),jn.IsEmpty()||jn.Left(1)!="@"?f.MxTools.IsNumerical(jn)&&f.MxTools.IsNumerical(Hn)&&f.MxTools.IsNumerical(ir)?(Qt=!0,xt.x=f.MxTools._tstof(jn.m_val),xt.y=f.MxTools._tstof(Hn.m_val),xt.z=f.MxTools._tstof(ir.m_val)):Qt=!1:(jn.m_val=jn.Right(jn.GetLength()-1),f.MxTools.IsNumerical(jn)&&f.MxTools.IsNumerical(Hn)&&f.MxTools.IsNumerical(ir)||(Qt=!1))}return Qt?xt:null}function hn(rt,xt){xt===void 0&&(xt=!1),C.MxUiVue.AcutPrintfNoFormat(rt,xt)}function vn(rt,xt){if(rt==De.COMMAND_IN_INVALID){var Qt=C.MxUiVue.getCmdTip();return hn(xt),hn(Qt),oe.kNoChange}return rt==De.COMMAND_IN_INVALID_ZERO?(Qt=C.MxUiVue.getCmdTip(),Ke.userInputControls()&ce.kNoNegativeResponseAccepted?hn(`
 \u503C\u5FC5\u987B\u4E3A\u6B63 \u4E14\u975E\u96F6\u3002 
`):hn(`
 \u503C\u5FC5\u4E0D\u80FD\u4E3A\u96F6\u3002 
`),hn(Qt),oe.kOther):rt!=De.COMMAND_IN_INVALID_NEG?oe.kNoChange:(Qt=C.MxUiVue.getCmdTip(),Ke.userInputControls()&ce.kNoZeroResponseAccepted?hn(`
 \u503C\u5FC5\u987B\u4E3A\u6B63 \u4E14\u975E\u96F6\u3002 
`):hn(`
 \u503C\u5FC5\u4E0D\u80FD\u4E3A\u8D1F\u3002 
`),hn(Qt),oe.kOther)}function Ot(rt){var xt={iRet:De.COMMAND_IN_NO_ENTITY,sValue:"",iKey:oe.kNull,dDist:0,iVal:0,pt:null};if(!Ne)return xt;var Qt=Ke.userInputControls(),gn=C.MxUiVue.getCmdText();if(gn.length==0)return Qt&ce.kNullResponseAccepted?xt.iRet=De.COMMAND_IN_EMTPY:xt.iRet=De.COMMAND_IN_INVALID,xt;if(rt&Ee.COMMAND_GET_KEY&&0<mt.size){var Nn=new w.MxString(gn);Nn.MakeUpper(),Nn.TrimLeft(" "),Nn.TrimRight(" ");var Ar=mt.get(Nn.m_val);if(Ar!=null)return xt.iRet=De.COMMAND_IN_KEY,xt.iKey=Ar,xt.sValue=Nn.m_val,xt}if(rt&Ee.COMMAND_GET_DIST&&f.MxTools.IsNumerical(gn))return xt.dDist=f.MxTools._tstof(gn),Qt&ce.kNoZeroResponseAccepted&&f.MxTools.IsZero(xt.dDist)?xt.iRet=De.COMMAND_IN_INVALID_ZERO:Qt&ce.kNoNegativeResponseAccepted&&xt.dDist<0?xt.iRet=De.COMMAND_IN_INVALID_NEG:(xt.sValue=gn,xt.iRet=De.COMMAND_IN_DIST),xt;if(rt&Ee.COMMAND_GET_INT&&f.MxTools.IsNumerical(gn))return xt.iVal=f.MxTools._tstoi(gn),Qt&ce.kNoZeroResponseAccepted&&xt.iiVal==0?xt.iRet=De.COMMAND_IN_INVALID_ZERO:Qt&ce.kNoNegativeResponseAccepted&&xt.iiVal<0?xt.iRet=De.COMMAND_IN_INVALID_NEG:(xt.sValue=gn,xt.iRet=De.COMMAND_IN_INT),xt;if(rt&Ee.COMMAND_GET_COORD){var jn=Gt(gn);if(jn!=null)return xt.sValue=gn,xt.iRet=De.COMMAND_IN_COORD,xt.pt=jn,xt}return rt&Ee.COMMAND_GET_STRING?(xt.sValue=gn,xt.iRet=De.COMMAND_IN_STRING):xt.iRet=De.COMMAND_IN_INVALID,xt}ae.getInputKeyword=function(rt){if(rt<1)return"";for(var xt,Qt=mt.entries();!(xt=Qt.next()).done;)if(xt.value==rt)return xt.key;return""},ae.GetKeyWordToString=function(){return me},ae.keywordList=function(){return Ae.m_val},ae.setKeywordList=function(rt){if(Ae.m_val=rt,mt.clear(),me.length=0,!Ae.IsEmpty())if(Ae.TrimLeft(" "),Ae.TrimRight(" "),Ae.m_val[0]=="["&&Ae.m_val[Ae.m_val.length-1]=="]"){Ae.TrimLeft("["),Ae.TrimRight("]");for(var xt=Ae.AnalyzeString("/"),Qt=1,gn=0;gn<xt.length;gn++){var Nn=(Hn=new w.MxString(xt[gn])).Find("(");if(Nn!=-1){var Ar=new w.MxString(Hn.Left(Nn)),jn=new w.MxString(Hn.Right(Hn.GetLength()-Nn-1));jn.TrimRight(")"),Ar.IsEmpty()||jn.IsEmpty()||(jn.MakeUpper(),mt.set(jn.m_val,Qt),Qt++,me.push(new f.MxPair(jn.m_val,Ar.m_val)))}}}else for(xt=Ae.AnalyzeString(" "),Qt=1,gn=0;gn<xt.length;gn++){var Hn;(Hn=new w.MxString(xt[gn])).IsEmpty()||(Hn.MakeUpper(),mt.set(Hn.m_val,Qt),Qt++)}},ae.getAcquirePoint=function(){return Ye},ae.getAcquireStatus=function(){return ct},ae.doMouseMoveImp=it,ae.OnThreeControlsChage=function(){Ke==null||bt.x!=Pt&&bt.y!=Pt&&it(bt)},ae.OnEnter=function(rt){Ne=!0,ct=de.kNoChange,Pe(),Ne=!1},ae.Test=function(){Ne=!0},ae.registEvent=zt,ae.unRegistEvent=pt,ae.getCurrentMouseButton=function(){return Ct},ae.isRunning=function(){return Ke!=null},ae.getCurCmd=function(){return Ke},ae.commandRunComplete=function(rt){Ke!=rt&&console.log("aseert:_curCmd == cmd");var xt,Qt=d.MxManager.currentMx();Ke!=null&&(Qt=Ke.getMxObject()),St!=null?(Ke=St,St=void 0,Ct=pe.kInvalid,zt(),Ke.onStartCommand(),ut(Qt)):(pt(),Ke=void 0,xt=Qt,a.MxFun.isPC()||(xt.getOrbitControls().enabled=!0),xt.getRunMode()==T.MxRunMode.kBrowse&&xt.enableSingleTouchPan(!0),xt.tempDisableSelect(!1),xt.updateDisplay(),ee.MxDrawData.m_isAutoResetRenderer||xt.resetRenderer())},ae.isWaitCmdNull=function(){return St==null},ae.stopCmd=function(){Ke!=null&&(an=!0,Ke.notifyCancleExit(),an=!1)},ae.setRunCmdEvent=function(rt){Yt=rt},ae.runCmd=function(rt){if(!an){var xt=d.MxManager.currentMx();rt.setMxObject(xt),a.MxFun.isPC()?bt=F.MxWindowsEvent.getCurrentMousePostion():(bt.x=Pt,bt.y=Pt),Yt&&Yt(),Ke==null?(Ke=rt,Ct=pe.kInvalid,zt(),Ke.onStartCommand(),ut(xt)):(St=rt,an=!0,Ke.notifyCancleExit(),an=!1)}},ae.GetAcqurePointFromStringTo=Gt,ae.ProcCommandRetResult=vn,ae.GetCommandLineContent=Ot,ae.acquirePoint=function(rt){var xt=new re;if(Ke==null)return xt.status=oe.kCancel,xt;var Qt=Ot(Ee.COMMAND_GET_COORD|Ee.COMMAND_GET_KEY);return Qt.iRet==De.COMMAND_IN_EMTPY?(xt.status=oe.kNull,xt.exit=!0):Qt.iRet==De.COMMAND_IN_KEY?(xt.status=Qt.iKey,xt.exit=!0,xt.sKeyValue=Qt.sValue):Qt.iRet==De.COMMAND_IN_COORD?(xt.status=oe.kNormal,xt.pt=new l.Vector3(Qt.pt.x,Qt.pt.y,Qt.pt.z),xt.exit=!0):(vn(Qt.iRet,`
 \u9700\u8981\u70B9\u6216\u9009\u9879\u5173\u952E\u5B57\u3002 
`),ct==de.kMove?(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!1):ct==de.kEnd?rt&I.kGetEnd?(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!0):(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!1):ct==de.kCancle?(xt.status=oe.kCancel,xt.pt=Ye,xt.exit=!0):ct==de.kBegan?rt&I.kGetBegan?(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!0):(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!1):ct==de.kMouseDown?(xt.status=oe.kNormal,xt.pt=Ye,xt.exit=!0):(xt.status=oe.kNoChange,xt.pt=void 0,xt.exit=!1)),xt},ae.getMcEdJigCommandClass=function(){return c.McEdJigCommand},ae.getMrxDbgUiPrPointClass=function(){return D.MrxDbgUiPrPoint},ae.getMcEdGetPointWorldDrawClass=function(){return v.McEdGetPointWorldDraw},ae.McEdGetPointWorldDrawObjectClass=function(){return v.McEdGetPointWorldDrawObject},ae.init=function(){this._curCmd=void 0}}(i=r.MxJigCmdManager||(r.MxJigCmdManager={}))},{"../MxDrawData":29,"../MxDrawObject":30,"../MxFun":34,"../MxManager":36,"../MxString":42,"../MxTools":45,"../MxWindowsEvent":48,"../UI/MxUiVue":67,"./McEdJigOsnap":49,"./MrxDbgUiPrBase":51,"./MrxDbgUiPrPoint":52,"./MxJig":57,three:19}],59:[function(e,t,r){var i,l=this&&this.__extends||(i=function(f,w){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,T){F.__proto__=T}||function(F,T){for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(F[R]=T[R])})(f,w)},function(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function F(){this.constructor=f}i(f,w),f.prototype=w===null?Object.create(w):(F.prototype=w.prototype,new F)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxJigGetLine=void 0;var a,c=e("./MxJig"),d=e("./MxJigCmdManager"),D=e("../MxFun"),v=(l(C,a=c.McEdJigCommand),C.prototype.sampler=function(){var f=d.MxJigCmdManager.InType.kGetBegan;this._isGetPt1||(f=d.MxJigCmdManager.InType.kGetEnd);var w=this.acquirePoint(f);return w.status==d.MxJigCmdManager.DragStatus.kNormal&&(this._isGetPt1?this._pt1=w.pt:this._pt2=w.pt),w.status},C.prototype.setRetCall=function(f){this._retCall=f},C.prototype.done=function(f){if(this._isGetPt1)return this._isGetPt1=!1,d.MxJigCmdManager.DoneStatius.kContinueCommand;var w={};return w.pt1=D.MxFun.worldCoord2Doc(this._pt1.x,this._pt1.y,this._pt1.z),w.pt2=D.MxFun.worldCoord2Doc(this._pt2.x,this._pt2.y,this._pt2.z),this._retCall(w),d.MxJigCmdManager.DoneStatius.kExitCommand},C.prototype.upDisplay=function(){this._isGetPt1||this._pt1==null||this._pt2==null||this.drawLine(this._pt1,this._pt2)},C);function C(){var f=a!==null&&a.apply(this,arguments)||this;return f._isGetPt1=!0,f}r.MxJigGetLine=v},{"../MxFun":34,"./MxJig":57,"./MxJigCmdManager":58}],60:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./MxFun");function l(){}(l.CreateMx=function(){i.MxFun.init(),typeof MxMain<"u"&&MxMain(e)==0||i.MxFun.createMxObject();var a=i.MxFun.getUiObject();a!=null&&(a.sTitle=i.MxFun.getCurrentDraw().getFileTitle(),setTimeout(function(){a.init()},400))},l.Main=function(){if(typeof MxUiMain<"u"){MxUiMain(e);var a=i.MxFun.getUiObject();a?.writeUICSS()}typeof MxDocumentReady>"u"?$(document).ready(function(){l.CreateMx()}):MxDocumentReady(e,l.CreateMx)},l).Main()},{"./MxFun":34}],61:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSvgManager=void 0;var i=e("three"),l=e("three"),a=e("./SVGLoader"),c=(d.prototype.loadSVGImp=function(C,f,w,F){new a.SVGLoader().load(C,function(T){if(T.paths.length){var R=[],ee=T.paths,re=new i.Group,ae=!0,ce=!0,ue=!1,de=!1;F&&(F.drawStrokes&&(ae=F.drawStrokes),F.drawFillShapes&&(ce=F.drawFillShapes),F.fillShapesWireframe&&(ue=F.fillShapesWireframe),F.strokesWireframe&&(de=F.strokesWireframe));for(var A=0;A<ee.length;A++){var oe=ee[A],le=oe.userData.style.fill;if(ce&&le!==void 0&&le!=="none"){for(var ie=new i.MeshBasicMaterial({color:f||new i.Color().setStyle(le),opacity:oe.userData.style.fillOpacity,transparent:oe.userData.style.fillOpacity<1,side:i.DoubleSide,depthWrite:!1,wireframe:ue}),I=a.SVGLoader.createShapes(oe),j=0;j<I.length;j++){var pe=I[j],be=new i.ShapeBufferGeometry(pe),De=new i.Mesh(be,ie);re.add(De)}R.push(ie)}var Re=oe.userData.style.stroke;if(ae&&Re!==void 0&&Re!=="none"){ie=new i.MeshBasicMaterial({color:f||new i.Color().setStyle(Re),opacity:oe.userData.style.strokeOpacity,transparent:oe.userData.style.strokeOpacity<1,side:i.DoubleSide,depthWrite:!1,wireframe:de}),j=0;for(var Ee=oe.subPaths.length;j<Ee;j++){var Se=oe.subPaths[j];(be=a.SVGLoader.pointsToStroke(Se.getPoints(),oe.userData.style,12,.001))&&(De=new i.Mesh(be,ie),re.add(De))}R.push(ie)}}w&&w(re,R)}else console.log("mx svg:"+C+" data.paths.length == 0"),w&&w(null,null)},void 0,function(){w&&w(null,null)})},d.prototype.loadSVG=function(C,f,w,F){var T=this,R=this.mapSvgUrlToData.get(C),ee=!F||!F.useBuffer||F.useBuffer;if(R&&ee){if(w)if(R==null)w(null,null);else{var re=R.svg.clone();re.boxSize=R.boxSize,w(re,R.aryMeterial)}}else this.loadSVGImp(C,f,function(ae,ce){if(ae&&ce){var ue=new function(){this.svg=new i.Group,this.aryMeterial=[],this.boxSize=new l.Vector3(1,1,1)};ue.svg=ae,ue.aryMeterial=ce;var de=new l.Box3().setFromObject(ae);ue.boxSize.x=de.max.x-de.min.x,ue.boxSize.y=de.max.y-de.min.y,ue.boxSize.x!==-1/0&&ue.boxSize.y!==-1/0||console.log("mx svg:"+C+" boxSize invalid"),T.mapSvgUrlToData.set(C,ue);var A=ue.svg.clone();A.boxSize=ue.boxSize,w&&w(A,ue.aryMeterial)}else T.mapSvgUrlToData.set(C,null),w&&w(null,null)},F)},d);function d(){this.mapSvgUrlToData=new Map}var D=(v.prototype.loadSVG=function(C,f,w,F){w&&this.mxThreeJsBuffer.loadSVG(C,f,w,F)},v);function v(){this.mxThreeJsBuffer=new c}r.MxSvgManager=D},{"./SVGLoader":62,three:19}],62:[function(e,t,r){var i,l=this&&this.__extends||(i=function(v,C){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,w){f.__proto__=w}||function(f,w){for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(f[F]=w[F])})(v,C)},function(v,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function f(){this.constructor=v}i(v,C),v.prototype=C===null?Object.create(C):(f.prototype=C.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0}),r.SVGLoader=void 0;var a,c=e("three"),d=(l(D,a=c.Loader),D.prototype.load=function(v,C,f,w){var F=this,T=new c.FileLoader(F.manager);T.setPath(F.path),T.setRequestHeader(F.requestHeader),T.setWithCredentials(F.withCredentials),T.load(v,function(R){try{C(F.parse(R))}catch(ee){w?w(ee):console.error(ee),F.manager.itemError(v)}},f,w)},D.prototype.parse=function(v){var C=this;function f(De,Re,Ee,Se,Le,Ie,st,Ye){if(Re!=0&&Ee!=0){Se=Se*Math.PI/180,Re=Math.abs(Re),Ee=Math.abs(Ee);var Ke=(st.x-Ye.x)/2,St=(st.y-Ye.y)/2,ct=Math.cos(Se)*Ke+Math.sin(Se)*St,Ct=-Math.sin(Se)*Ke+Math.cos(Se)*St,Pt=Re*Re,bt=Ee*Ee,an=ct*ct,Yt=Ct*Ct,Ne=an/Pt+Yt/bt;if(1<Ne){var mt=Math.sqrt(Ne);Pt=(Re*=mt)*Re,bt=(Ee*=mt)*Ee}var me=Pt*Yt+bt*an,Ae=(Pt*bt-me)/me,Oe=Math.sqrt(Math.max(0,Ae));Le===Ie&&(Oe=-Oe);var Pe=Oe*Re*Ct/Ee,$e=-Oe*Ee*ct/Re,tt=Math.cos(Se)*Pe-Math.sin(Se)*$e+(st.x+Ye.x)/2,qe=Math.sin(Se)*Pe+Math.cos(Se)*$e+(st.y+Ye.y)/2,dt=w(1,0,(ct-Pe)/Re,(Ct-$e)/Ee),ft=w((ct-Pe)/Re,(Ct-$e)/Ee,(-ct-Pe)/Re,(-Ct-$e)/Ee)%(2*Math.PI);De.currentPath.absellipse(tt,qe,Re,Ee,dt,dt+ft,Ie===0,Se)}else De.lineTo(Ye.x,Ye.y)}function w(De,Re,Ee,Se){var Le=De*Ee+Re*Se,Ie=Math.sqrt(De*De+Re*Re)*Math.sqrt(Ee*Ee+Se*Se),st=Math.acos(Math.max(-1,Math.min(1,Le/Ie)));return De*Se-Re*Ee<0&&(st=-st),st}function F(De,Re){Re=Object.assign({},Re);var Ee={};if(De.hasAttribute("class"))for(var Se=De.getAttribute("class").split(/\s/).filter(Boolean).map(function(Ke){return Ke.trim()}),Le=0;Le<Se.length;Le++)Ee=Object.assign(Ee,ue["."+Se[Le]]);function Ie(Ke,St,ct){ct===void 0&&(ct=function(Ct){return Ct.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),Ct}),De.hasAttribute(Ke)&&(Re[St]=ct(De.getAttribute(Ke))),Ee[Ke]&&(Re[St]=ct(Ee[Ke])),De.style&&De.style[Ke]!==""&&(Re[St]=ct(De.style[Ke]))}function st(Ke){return Math.max(0,Math.min(1,ae(Ke)))}function Ye(Ke){return Math.max(0,ae(Ke))}return De.hasAttribute("id")&&(Ee=Object.assign(Ee,ue["#"+De.getAttribute("id")])),Ie("fill","fill"),Ie("fill-opacity","fillOpacity",st),Ie("fill-rule","fillRule"),Ie("opacity","opacity",st),Ie("stroke","stroke"),Ie("stroke-opacity","strokeOpacity",st),Ie("stroke-width","strokeWidth",Ye),Ie("stroke-linejoin","strokeLineJoin"),Ie("stroke-linecap","strokeLineCap"),Ie("stroke-miterlimit","strokeMiterLimit",Ye),Ie("visibility","visibility"),Re}function T(De,Re){return De-(Re-De)}function R(De,Re,Ee){if(typeof De!="string")throw new TypeError("Invalid input: "+typeof De);var Se,Le={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},Ie=0,st=!0,Ye="",Ke="",St=[];function ct(an,Yt,Ne){var mt=new SyntaxError('Unexpected character "'+an+'" at index '+Yt+".");throw mt.partial=Ne,mt}function Ct(){Ye!==""&&(Ke===""?St.push(Number(Ye)):St.push(Number(Ye)*Math.pow(10,Number(Ke)))),Ke=Ye=""}for(var Pt=De.length,bt=0;bt<Pt;bt++)if(Se=De[bt],Array.isArray(Re)&&Re.includes(St.length%Ee)&&Le.FLAGS.test(Se))Ie=1,Ye=Se,Ct();else{if(Ie===0){if(Le.WHITESPACE.test(Se))continue;if(Le.DIGIT.test(Se)||Le.SIGN.test(Se)){Ie=1,Ye=Se;continue}if(Le.POINT.test(Se)){Ie=2,Ye=Se;continue}Le.COMMA.test(Se)&&(st&&ct(Se,bt,St),st=!0)}if(Ie===1){if(Le.DIGIT.test(Se)){Ye+=Se;continue}if(Le.POINT.test(Se)){Ye+=Se,Ie=2;continue}if(Le.EXP.test(Se)){Ie=3;continue}Le.SIGN.test(Se)&&Ye.length===1&&Le.SIGN.test(Ye[0])&&ct(Se,bt,St)}if(Ie===2){if(Le.DIGIT.test(Se)){Ye+=Se;continue}if(Le.EXP.test(Se)){Ie=3;continue}Le.POINT.test(Se)&&Ye[Ye.length-1]==="."&&ct(Se,bt,St)}if(Ie===3){if(Le.DIGIT.test(Se)){Ke+=Se;continue}if(Le.SIGN.test(Se)){if(Ke===""){Ke+=Se;continue}Ke.length===1&&Le.SIGN.test(Ke)&&ct(Se,bt,St)}}Le.WHITESPACE.test(Se)?(Ct(),Ie=0,st=!1):Le.COMMA.test(Se)?(Ct(),st=!(Ie=0)):Le.SIGN.test(Se)?(Ct(),Ie=1,Ye=Se):Le.POINT.test(Se)?(Ct(),Ie=2,Ye=Se):ct(Se,bt,St)}return Ct(),St}var ee=["mm","cm","in","pt","pc","px"],re={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function ae(De){var Re="px";if(typeof De=="string"||De instanceof String)for(var Ee=0,Se=ee.length;Ee<Se;Ee++){var Le=ee[Ee];if(De.endsWith(Le)){Re=Le,De=De.substring(0,De.length-Le.length);break}}var Ie=void 0;return Re==="px"&&C.defaultUnit!=="px"?Ie=re.in[C.defaultUnit]/C.defaultDPI:(Ie=re[Re][C.defaultUnit])<0&&(Ie=re[Re].in*C.defaultDPI),Ie*parseFloat(De)}var ce=[],ue={},de=[],A=new c.Matrix3,oe=new c.Matrix3,le=new c.Matrix3,ie=new c.Matrix3,I=new c.Vector2,j=new c.Vector3,pe=new c.Matrix3,be=new DOMParser().parseFromString(v,"image/svg+xml");return function De(Re,Ee){if(Re.nodeType===1){var Se,Le,Ie,st,Ye,Ke,St,ct,Ct,Pt,bt,an,Yt=function($e){if(!($e.hasAttribute("transform")||$e.nodeName==="use"&&($e.hasAttribute("x")||$e.hasAttribute("y"))))return null;var tt=function(qe){var dt=new c.Matrix3,ft=A;if(qe.nodeName==="use"&&(qe.hasAttribute("x")||qe.hasAttribute("y"))){var Ft=ae(qe.getAttribute("x")),it=ae(qe.getAttribute("y"));dt.translate(Ft,it)}if(qe.hasAttribute("transform"))for(var zt=qe.getAttribute("transform").split(")"),pt=zt.length-1;0<=pt;pt--){var ut=zt[pt].trim();if(ut!==""){var Gt=ut.indexOf("("),hn=ut.length;if(0<Gt&&Gt<hn){var vn=ut.substr(0,Gt),Ot=R(ut.substr(Gt+1,hn-Gt-1));switch(ft.identity(),vn){case"translate":1<=Ot.length&&(it=Ft=Ot[0],2<=Ot.length&&(it=Ot[1]),ft.translate(Ft,it));break;case"rotate":if(1<=Ot.length){var rt,xt=0,Qt=0;rt=-Ot[0]*Math.PI/180,3<=Ot.length&&(xt=Ot[1],Qt=Ot[2]),oe.identity().translate(-xt,-Qt),le.identity().rotate(rt),ie.multiplyMatrices(le,oe),oe.identity().translate(xt,Qt),ft.multiplyMatrices(oe,ie)}break;case"scale":if(1<=Ot.length){var gn=Ot[0],Nn=gn;2<=Ot.length&&(Nn=Ot[1]),ft.scale(gn,Nn)}break;case"skewX":Ot.length===1&&ft.set(1,Math.tan(Ot[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":Ot.length===1&&ft.set(1,0,0,Math.tan(Ot[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":Ot.length===6&&ft.set(Ot[0],Ot[2],Ot[4],Ot[1],Ot[3],Ot[5],0,0,1)}}dt.premultiply(ft)}}return dt}($e);return 0<de.length&&tt.premultiply(de[de.length-1]),pe.copy(tt),de.push(tt),tt}(Re),Ne=!0,mt=null;switch(Re.nodeName){case"svg":break;case"style":(function($e){if($e.sheet&&$e.sheet.cssRules&&$e.sheet.cssRules.length)for(var tt=0;tt<$e.sheet.cssRules.length;tt++){var qe=$e.sheet.cssRules[tt];if(qe.type===1)for(var dt=qe.selectorText.split(/,/gm).filter(Boolean).map(function(Ft){return Ft.trim()}),ft=0;ft<dt.length;ft++)ue[dt[ft]]=Object.assign(ue[dt[ft]]||{},qe.style)}})(Re);break;case"g":Ee=F(Re,Ee);break;case"path":Ee=F(Re,Ee),Re.hasAttribute("d")&&(mt=function($e){for(var tt=new c.ShapePath,qe=new c.Vector2,dt=new c.Vector2,ft=new c.Vector2,Ft=!0,it=!1,zt=$e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),pt=0,ut=zt.length;pt<ut;pt++){var Gt=zt[pt],hn=Gt.charAt(0),vn=Gt.substr(1).trim();Ft===!0&&(Ft=!(it=!0));var Ot=void 0;switch(hn){case"M":for(var rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2)qe.x=Ot[rt+0],qe.y=Ot[rt+1],dt.x=qe.x,dt.y=qe.y,rt===0?tt.moveTo(qe.x,qe.y):tt.lineTo(qe.x,qe.y),rt===0&&ft.copy(qe);break;case"H":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt++)qe.x=Ot[rt],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"V":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt++)qe.y=Ot[rt],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"L":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2)qe.x=Ot[rt+0],qe.y=Ot[rt+1],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"C":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=6)tt.bezierCurveTo(Ot[rt+0],Ot[rt+1],Ot[rt+2],Ot[rt+3],Ot[rt+4],Ot[rt+5]),dt.x=Ot[rt+2],dt.y=Ot[rt+3],qe.x=Ot[rt+4],qe.y=Ot[rt+5],rt===0&&it===!0&&ft.copy(qe);break;case"S":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=4)tt.bezierCurveTo(T(qe.x,dt.x),T(qe.y,dt.y),Ot[rt+0],Ot[rt+1],Ot[rt+2],Ot[rt+3]),dt.x=Ot[rt+0],dt.y=Ot[rt+1],qe.x=Ot[rt+2],qe.y=Ot[rt+3],rt===0&&it===!0&&ft.copy(qe);break;case"Q":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=4)tt.quadraticCurveTo(Ot[rt+0],Ot[rt+1],Ot[rt+2],Ot[rt+3]),dt.x=Ot[rt+0],dt.y=Ot[rt+1],qe.x=Ot[rt+2],qe.y=Ot[rt+3],rt===0&&it===!0&&ft.copy(qe);break;case"T":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2){var Qt=T(qe.x,dt.x),gn=T(qe.y,dt.y);tt.quadraticCurveTo(Qt,gn,Ot[rt+0],Ot[rt+1]),dt.x=Qt,dt.y=gn,qe.x=Ot[rt+0],qe.y=Ot[rt+1],rt===0&&it===!0&&ft.copy(qe)}break;case"A":for(rt=0,xt=(Ot=R(vn,[3,4],7)).length;rt<xt;rt+=7)if(Ot[rt+5]!=qe.x||Ot[rt+6]!=qe.y){var Nn=qe.clone();qe.x=Ot[rt+5],qe.y=Ot[rt+6],dt.x=qe.x,dt.y=qe.y,f(tt,Ot[rt],Ot[rt+1],Ot[rt+2],Ot[rt+3],Ot[rt+4],Nn,qe),rt===0&&it===!0&&ft.copy(qe)}break;case"m":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2)qe.x+=Ot[rt+0],qe.y+=Ot[rt+1],dt.x=qe.x,dt.y=qe.y,rt===0?tt.moveTo(qe.x,qe.y):tt.lineTo(qe.x,qe.y),rt===0&&ft.copy(qe);break;case"h":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt++)qe.x+=Ot[rt],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"v":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt++)qe.y+=Ot[rt],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"l":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2)qe.x+=Ot[rt+0],qe.y+=Ot[rt+1],dt.x=qe.x,dt.y=qe.y,tt.lineTo(qe.x,qe.y),rt===0&&it===!0&&ft.copy(qe);break;case"c":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=6)tt.bezierCurveTo(qe.x+Ot[rt+0],qe.y+Ot[rt+1],qe.x+Ot[rt+2],qe.y+Ot[rt+3],qe.x+Ot[rt+4],qe.y+Ot[rt+5]),dt.x=qe.x+Ot[rt+2],dt.y=qe.y+Ot[rt+3],qe.x+=Ot[rt+4],qe.y+=Ot[rt+5],rt===0&&it===!0&&ft.copy(qe);break;case"s":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=4)tt.bezierCurveTo(T(qe.x,dt.x),T(qe.y,dt.y),qe.x+Ot[rt+0],qe.y+Ot[rt+1],qe.x+Ot[rt+2],qe.y+Ot[rt+3]),dt.x=qe.x+Ot[rt+0],dt.y=qe.y+Ot[rt+1],qe.x+=Ot[rt+2],qe.y+=Ot[rt+3],rt===0&&it===!0&&ft.copy(qe);break;case"q":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=4)tt.quadraticCurveTo(qe.x+Ot[rt+0],qe.y+Ot[rt+1],qe.x+Ot[rt+2],qe.y+Ot[rt+3]),dt.x=qe.x+Ot[rt+0],dt.y=qe.y+Ot[rt+1],qe.x+=Ot[rt+2],qe.y+=Ot[rt+3],rt===0&&it===!0&&ft.copy(qe);break;case"t":for(rt=0,xt=(Ot=R(vn)).length;rt<xt;rt+=2)Qt=T(qe.x,dt.x),gn=T(qe.y,dt.y),tt.quadraticCurveTo(Qt,gn,qe.x+Ot[rt+0],qe.y+Ot[rt+1]),dt.x=Qt,dt.y=gn,qe.x=qe.x+Ot[rt+0],qe.y=qe.y+Ot[rt+1],rt===0&&it===!0&&ft.copy(qe);break;case"a":for(rt=0,xt=(Ot=R(vn,[3,4],7)).length;rt<xt;rt+=7)Ot[rt+5]==0&&Ot[rt+6]==0||(Nn=qe.clone(),qe.x+=Ot[rt+5],qe.y+=Ot[rt+6],dt.x=qe.x,dt.y=qe.y,f(tt,Ot[rt],Ot[rt+1],Ot[rt+2],Ot[rt+3],Ot[rt+4],Nn,qe),rt===0&&it===!0&&ft.copy(qe));break;case"Z":case"z":tt.currentPath.autoClose=!0,0<tt.currentPath.curves.length&&(qe.copy(ft),tt.currentPath.currentPoint.copy(qe),Ft=!0);break;default:console.warn(Gt)}it=!1}return tt}(Re));break;case"rect":Ee=F(Re,Ee),mt=function($e){var tt=ae($e.getAttribute("x")||0),qe=ae($e.getAttribute("y")||0),dt=ae($e.getAttribute("rx")||$e.getAttribute("ry")||0),ft=ae($e.getAttribute("ry")||$e.getAttribute("rx")||0),Ft=ae($e.getAttribute("width")),it=ae($e.getAttribute("height")),zt=.448084975506,pt=new c.ShapePath;return pt.moveTo(tt+dt,qe),pt.lineTo(tt+Ft-dt,qe),dt===0&&ft===0||pt.bezierCurveTo(tt+Ft-dt*zt,qe,tt+Ft,qe+ft*zt,tt+Ft,qe+ft),pt.lineTo(tt+Ft,qe+it-ft),dt===0&&ft===0||pt.bezierCurveTo(tt+Ft,qe+it-ft*zt,tt+Ft-dt*zt,qe+it,tt+Ft-dt,qe+it),pt.lineTo(tt+dt,qe+it),dt===0&&ft===0||pt.bezierCurveTo(tt+dt*zt,qe+it,tt,qe+it-ft*zt,tt,qe+it-ft),pt.lineTo(tt,qe+ft),dt===0&&ft===0||pt.bezierCurveTo(tt,qe+ft*zt,tt+dt*zt,qe,tt+dt,qe),pt}(Re);break;case"polygon":Ee=F(Re,Ee),Pt=Re,bt=new c.ShapePath,an=0,Pt.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function($e,tt,qe){var dt=ae(tt),ft=ae(qe);an===0?bt.moveTo(dt,ft):bt.lineTo(dt,ft),an++}),bt.currentPath.autoClose=!0,mt=bt;break;case"polyline":Ee=F(Re,Ee),St=Re,ct=new c.ShapePath,Ct=0,St.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function($e,tt,qe){var dt=ae(tt),ft=ae(qe);Ct===0?ct.moveTo(dt,ft):ct.lineTo(dt,ft),Ct++}),ct.currentPath.autoClose=!1,mt=ct;break;case"circle":Ee=F(Re,Ee),mt=function($e){var tt=ae($e.getAttribute("cx")||0),qe=ae($e.getAttribute("cy")||0),dt=ae($e.getAttribute("r")||0),ft=new c.Path;ft.absarc(tt,qe,dt,0,2*Math.PI,!1);var Ft=new c.ShapePath;return Ft.subPaths.push(ft),Ft}(Re);break;case"ellipse":Ee=F(Re,Ee),mt=function($e){var tt=ae($e.getAttribute("cx")||0),qe=ae($e.getAttribute("cy")||0),dt=ae($e.getAttribute("rx")||0),ft=ae($e.getAttribute("ry")||0),Ft=new c.Path;Ft.absellipse(tt,qe,dt,ft,0,2*Math.PI,void 0,void 0);var it=new c.ShapePath;return it.subPaths.push(Ft),it}(Re);break;case"line":Ee=F(Re,Ee),Le=ae((Se=Re).getAttribute("x1")||0),Ie=ae(Se.getAttribute("y1")||0),st=ae(Se.getAttribute("x2")||0),Ye=ae(Se.getAttribute("y2")||0),(Ke=new c.ShapePath).moveTo(Le,Ie),Ke.lineTo(st,Ye),Ke.currentPath.autoClose=!1,mt=Ke;break;case"defs":Ne=!1;break;case"use":Ee=F(Re,Ee);var me=Re.href.baseVal.substring(1),Ae=Re.viewportElement.getElementById(me);Ae?De(Ae,Ee):console.warn("SVGLoader: 'use node' references non-existent node id: "+me)}if(mt&&(Ee.fill!==void 0&&Ee.fill!=="none"&&mt.color.setStyle(Ee.fill),function($e,tt){function qe(vn){j.set(vn.x,vn.y,1).applyMatrix3(tt),vn.set(j.x,j.y)}for(var dt=function(vn){return vn.elements[1]!==0||vn.elements[3]!==0}(tt),ft=$e.subPaths,Ft=0,it=ft.length;Ft<it;Ft++)for(var zt=ft[Ft].curves,pt=0;pt<zt.length;pt++){var ut=zt[pt];ut.isLineCurve?(qe(ut.v1),qe(ut.v2)):ut.isCubicBezierCurve?(qe(ut.v0),qe(ut.v1),qe(ut.v2),qe(ut.v3)):ut.isQuadraticBezierCurve?(qe(ut.v0),qe(ut.v1),qe(ut.v2)):ut.isEllipseCurve&&(dt&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),I.set(ut.aX,ut.aY),qe(I),ut.aX=I.x,ut.aY=I.y,ut.xRadius*=(hn=tt.elements,Math.sqrt(hn[0]*hn[0]+hn[1]*hn[1])),ut.yRadius*=(Gt=tt.elements,Math.sqrt(Gt[3]*Gt[3]+Gt[4]*Gt[4])))}var Gt,hn}(mt,pe),ce.push(mt),mt.userData={node:Re,style:Ee}),Ne)for(var Oe=Re.childNodes,Pe=0;Pe<Oe.length;Pe++)De(Oe[Pe],Ee);Yt&&(de.pop(),0<de.length?pe.copy(de[de.length-1]):pe.identity())}}(be.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:ce,xml:be.documentElement}},D.createShapes=function(v){var C=999999999,f={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},w={loc:f.ORIGIN,t:0};function F(A,oe,le,ie){var I=A.x,j=oe.x,pe=le.x,be=ie.x,De=A.y,Re=oe.y,Ee=le.y,Se=ie.y,Le=(be-pe)*(De-Ee)-(Se-Ee)*(I-pe),Ie=(Se-Ee)*(j-I)-(be-pe)*(Re-De),st=Le/Ie,Ye=((j-I)*(De-Ee)-(Re-De)*(I-pe))/Ie;if(Ie==0&&Le!=0||st<=0||1<=st||Ye<0||1<Ye)return null;if(Le==0&&Ie==0){for(var Ke=0;Ke<2;Ke++){if(T(Ke===0?le:ie,A,oe),w.loc==f.ORIGIN)return{x:(St=Ke===0?le:ie).x,y:St.y,t:w.t};if(w.loc==f.BETWEEN)return{x:+(I+w.t*(j-I)).toPrecision(10),y:+(De+w.t*(Re-De)).toPrecision(10),t:w.t}}return null}for(Ke=0;Ke<2;Ke++){var St;if(T(Ke===0?le:ie,A,oe),w.loc==f.ORIGIN)return{x:(St=Ke===0?le:ie).x,y:St.y,t:w.t}}return{x:+(I+st*(j-I)).toPrecision(10),y:+(De+st*(Re-De)).toPrecision(10),t:st}}function T(A,oe,le){var ie,I=le.x-oe.x,j=le.y-oe.y,pe=A.x-oe.x,be=A.y-oe.y,De=I*be-pe*j;return A.x===oe.x&&A.y===oe.y?(w.loc=f.ORIGIN,w.t=0):A.x===le.x&&A.y===le.y?(w.loc=f.DESTINATION,w.t=1,0):void(De<-Number.EPSILON?w.loc=f.LEFT:De>Number.EPSILON?w.loc=f.RIGHT:I*pe<0||j*be<0?w.loc=f.BEHIND:Math.sqrt(I*I+j*j)<Math.sqrt(pe*pe+be*be)?w.loc=f.BEYOND:(ie=I!=0?pe/I:be/j,w.loc=f.BETWEEN,w.t=ie))}function R(A,oe,le){var ie=new c.Vector2;oe.getCenter(ie);var I=[];return le.forEach(function(j){j.boundingBox.containsPoint(ie)&&function(pe,be){for(var De=[],Re=[],Ee=1;Ee<pe.length;Ee++)for(var Se=pe[Ee-1],Le=pe[Ee],Ie=function(Ye){var Ke=be[Ye-1],St=be[Ye],ct=F(Se,Le,Ke,St);ct!==null&&De.find(function(Ct){return Ct.t<=ct.t+Number.EPSILON&&Ct.t>=ct.t-Number.EPSILON})===void 0&&(De.push(ct),Re.push(new c.Vector2(ct.x,ct.y)))},st=1;st<be.length;st++)Ie(st);return Re}(A,j.points).forEach(function(pe){I.push({identifier:j.identifier,isCW:j.isCW,point:pe})})}),I.sort(function(j,pe){return j.point.x-pe.point.x}),I}var ee=0,re=C,ae=-C,ce=v.subPaths.map(function(A){for(var oe=A.getPoints(),le=-C,ie=C,I=-C,j=C,pe=0;pe<oe.length;pe++){var be=oe[pe];be.y>le&&(le=be.y),be.y<ie&&(ie=be.y),be.x>I&&(I=be.x),be.x<j&&(j=be.x)}return ae<=I&&(ae=I+1),j<=re&&(re=j-1),{curves:A.curves,points:oe,isCW:c.ShapeUtils.isClockWise(oe),identifier:ee++,boundingBox:new c.Box2(new c.Vector2(j,ie),new c.Vector2(I,le))}});ce=ce.filter(function(A){return 1<A.points.length}),ee=0;var ue=(ce=ce.map(function(A){return A.identifier=ee,ee++,A})).map(function(A){return function(oe,le,ie,I,j){j!=null&&j!==""||(j="nonzero");var pe=new c.Vector2;oe.boundingBox.getCenter(pe);var be=R([new c.Vector2(ie,pe.y),new c.Vector2(I,pe.y)],oe.boundingBox,le);be.sort(function(ct,Ct){return ct.point.x-Ct.point.x});var De=[],Re=[];be.forEach(function(ct){ct.identifier===oe.identifier?De.push(ct):Re.push(ct)});for(var Ee=De[0].point.x,Se=[],Le=0;Le<Re.length&&Re[Le].point.x<Ee;)0<Se.length&&Se[Se.length-1]===Re[Le].identifier?Se.pop():Se.push(Re[Le].identifier),Le++;if(Se.push(oe.identifier),j==="evenodd"){var Ie=Se.length%2==0,st=Se[Se.length-2];return{identifier:oe.identifier,isHole:Ie,for:st}}if(j==="nonzero"){Ie=!0;for(var Ye=st=null,Ke=0;Ke<Se.length;Ke++){var St=Se[Ke];Ie?(Ye=le[St].isCW,Ie=!1,st=St):Ye!==le[St].isCW&&(Ye=le[St].isCW,Ie=!0)}return{identifier:oe.identifier,isHole:Ie,for:st}}console.warn('fill-rule: "'+j+'" is currently not implemented.')}(A,ce,re,ae,v.userData.style.fillRule)}),de=[];return ce.forEach(function(A){if(!ue[A.identifier].isHole){var oe=new c.Shape;oe.curves=A.curves,ue.filter(function(le){return le.isHole&&le.for===A.identifier}).forEach(function(le){var ie=ce[le.identifier],I=new c.Path;I.curves=ie.curves,oe.holes.push(I)}),de.push(oe)}}),de},D.getStrokeStyle=function(v,C,f,w,F){return{strokeColor:C=C!==void 0?C:"#000",strokeWidth:v=v!==void 0?v:1,strokeLineJoin:f=f!==void 0?f:"miter",strokeLineCap:w=w!==void 0?w:"butt",strokeMiterLimit:F=F!==void 0?F:4}},D.pointsToStroke=function(v,C,f,w){var F=[],T=[],R=[];if(D.pointsToStrokeWithBuffers(v,C,f,w,F,T,R)===0)return null;var ee=new c.BufferGeometry;return ee.setAttribute("position",new c.Float32BufferAttribute(F,3)),ee.setAttribute("normal",new c.Float32BufferAttribute(T,3)),ee.setAttribute("uv",new c.Float32BufferAttribute(R,2)),ee},D.pointsToStrokeWithBuffers=function(v,C,f,w,F,T,R,ee){var re=new c.Vector2,ae=new c.Vector2,ce=new c.Vector2,ue=new c.Vector2,de=new c.Vector2,A=new c.Vector2,oe=new c.Vector2,le=new c.Vector2,ie=new c.Vector2,I=new c.Vector2,j=new c.Vector2,pe=new c.Vector2,be=new c.Vector2,De=new c.Vector2,Re=new c.Vector2,Ee=new c.Vector2,Se=new c.Vector2;f=f!==void 0?f:12,w=w!==void 0?w:.001,ee=ee!==void 0?ee:0;var Le=(v=function(xt){for(var Qt=!1,gn=1,Nn=xt.length-1;gn<Nn;gn++)if(xt[gn].distanceTo(xt[gn+1])<w){Qt=!0;break}if(!Qt)return xt;var Ar=[];for(Ar.push(xt[0]),gn=1,Nn=xt.length-1;gn<Nn;gn++)xt[gn].distanceTo(xt[gn+1])>=w&&Ar.push(xt[gn]);return Ar.push(xt[xt.length-1]),Ar}(v)).length;if(Le<2)return 0;var Ie,st,Ye,Ke,St,ct,Ct=v[0].equals(v[Le-1]),Pt=v[0],bt=C.strokeWidth/2,an=1/(Le-1),Yt=0,Ne=!1,mt=0,me=3*ee,Ae=2*ee;pt(v[0],v[1],re).multiplyScalar(bt),le.copy(v[0]).sub(re),ie.copy(v[0]).add(re),I.copy(le),j.copy(ie);for(var Oe=1;Oe<Le;Oe++){Ie=v[Oe],st=Oe===Le-1?Ct?v[1]:void 0:v[Oe+1];var Pe=re;if(pt(Pt,Ie,Pe),ce.copy(Pe).multiplyScalar(bt),pe.copy(Ie).sub(ce),be.copy(Ie).add(ce),Ye=Yt+an,Ke=!1,st!==void 0){pt(Ie,st,ae),ce.copy(ae).multiplyScalar(bt),De.copy(Ie).sub(ce),Re.copy(Ie).add(ce),St=!0,ce.subVectors(st,Pt),Pe.dot(ce)<0&&(St=!1),Oe===1&&(Ne=St),ce.subVectors(st,Ie),ce.normalize();var $e=Math.abs(Pe.dot(ce));if($e!==0){var tt=bt/$e;ce.multiplyScalar(-tt),ue.subVectors(Ie,Pt),de.copy(ue).setLength(tt).add(ce),Ee.copy(de).negate();var qe=de.length(),dt=ue.length();ue.divideScalar(dt),A.subVectors(st,Ie);var ft=A.length();switch(A.divideScalar(ft),ue.dot(Ee)<dt&&A.dot(Ee)<ft&&(Ke=!0),Se.copy(de).add(Ie),Ee.add(Ie),ct=!1,Ke?St?(Re.copy(Ee),be.copy(Ee)):(De.copy(Ee),pe.copy(Ee)):hn(),C.strokeLineJoin){case"bevel":vn(St,Ke,Ye);break;case"round":Ot(St,Ke),St?Gt(Ie,pe,De,Ye,0):Gt(Ie,Re,be,Ye,1);break;case"miter":case"miter-clip":default:var Ft=bt*C.strokeMiterLimit/qe;if(Ft<1){if(C.strokeLineJoin!=="miter-clip"){vn(St,Ke,Ye);break}Ot(St,Ke),St?(A.subVectors(Se,pe).multiplyScalar(Ft).add(pe),oe.subVectors(Se,De).multiplyScalar(Ft).add(De),ut(pe,Ye,0),ut(A,Ye,0),ut(Ie,Ye,.5),ut(Ie,Ye,.5),ut(A,Ye,0),ut(oe,Ye,0),ut(Ie,Ye,.5),ut(oe,Ye,0),ut(De,Ye,0)):(A.subVectors(Se,be).multiplyScalar(Ft).add(be),oe.subVectors(Se,Re).multiplyScalar(Ft).add(Re),ut(be,Ye,1),ut(A,Ye,1),ut(Ie,Ye,.5),ut(Ie,Ye,.5),ut(A,Ye,1),ut(oe,Ye,1),ut(Ie,Ye,.5),ut(oe,Ye,1),ut(Re,Ye,1))}else Ke?(St?(ut(ie,Yt,1),ut(le,Yt,0),ut(Se,Ye,0),ut(ie,Yt,1),ut(Se,Ye,0),ut(Ee,Ye,1)):(ut(ie,Yt,1),ut(le,Yt,0),ut(Se,Ye,1),ut(le,Yt,0),ut(Ee,Ye,0),ut(Se,Ye,1)),St?De.copy(Se):Re.copy(Se)):St?(ut(pe,Ye,0),ut(Se,Ye,0),ut(Ie,Ye,.5),ut(Ie,Ye,.5),ut(Se,Ye,0),ut(De,Ye,0)):(ut(be,Ye,1),ut(Se,Ye,1),ut(Ie,Ye,.5),ut(Ie,Ye,.5),ut(Se,Ye,1),ut(Re,Ye,1)),ct=!0}}else hn()}else hn();Ct||Oe!==Le-1||rt(v[0],I,j,St,!0,Yt),Yt=Ye,Pt=Ie,le.copy(De),ie.copy(Re)}if(Ct){if(Ke&&F){var it=Se,zt=Ee;Ne!==St&&(it=Ee,zt=Se),St?(ct||Ne)&&(zt.toArray(F,0),zt.toArray(F,9),ct&&it.toArray(F,3)):!ct&&Ne||(zt.toArray(F,3),zt.toArray(F,9),ct&&it.toArray(F,0))}}else rt(Ie,pe,be,St,!1,Ye);return mt;function pt(xt,Qt,gn){return gn.subVectors(Qt,xt),gn.set(-gn.y,gn.x).normalize()}function ut(xt,Qt,gn){F&&(F[me]=xt.x,F[me+1]=xt.y,F[me+2]=0,T&&(T[me]=0,T[me+1]=0,T[me+2]=1),me+=3,R&&(R[Ae]=Qt,R[Ae+1]=gn,Ae+=2)),mt+=3}function Gt(xt,Qt,gn,Nn,Ar){re.copy(Qt).sub(xt).normalize(),ae.copy(gn).sub(xt).normalize();var jn=Math.PI,Hn=re.dot(ae);Math.abs(Hn)<1&&(jn=Math.abs(Math.acos(Hn))),jn/=f,ce.copy(Qt);for(var ir=0,vi=f-1;ir<vi;ir++)ue.copy(ce).rotateAround(xt,jn),ut(ce,Nn,Ar),ut(ue,Nn,Ar),ut(xt,Nn,.5),ce.copy(ue);ut(ue,Nn,Ar),ut(gn,Nn,Ar),ut(xt,Nn,.5)}function hn(){ut(ie,Yt,1),ut(le,Yt,0),ut(pe,Ye,0),ut(ie,Yt,1),ut(pe,Ye,1),ut(be,Ye,0)}function vn(xt,Qt,gn){Qt?(xt?(ut(ie,Yt,1),ut(le,Yt,0),ut(pe,Ye,0),ut(ie,Yt,1),ut(pe,Ye,0),ut(Ee,Ye,1),ut(pe,gn,0),ut(De,gn,0)):(ut(ie,Yt,1),ut(le,Yt,0),ut(be,Ye,1),ut(le,Yt,0),ut(Ee,Ye,0),ut(be,Ye,1),ut(be,gn,1),ut(Re,gn,0)),ut(Ee,gn,.5)):(xt?(ut(pe,gn,0),ut(De,gn,0)):(ut(be,gn,1),ut(Re,gn,0)),ut(Ie,gn,.5))}function Ot(xt,Qt){Qt&&(xt?(ut(ie,Yt,1),ut(le,Yt,0),ut(pe,Ye,0),ut(ie,Yt,1),ut(pe,Ye,0),ut(Ee,Ye,1),ut(pe,Yt,0),ut(Ie,Ye,.5),ut(Ee,Ye,1),ut(Ie,Ye,.5),ut(De,Yt,0),ut(Ee,Ye,1)):(ut(ie,Yt,1),ut(le,Yt,0),ut(be,Ye,1),ut(le,Yt,0),ut(Ee,Ye,0),ut(be,Ye,1),ut(be,Yt,1),ut(Ee,Ye,0),ut(Ie,Ye,.5),ut(Ie,Ye,.5),ut(Ee,Ye,0),ut(Re,Yt,1)))}function rt(xt,Qt,gn,Nn,Ar,jn){switch(C.strokeLineCap){case"round":Ar?Gt(xt,gn,Qt,jn,.5):Gt(xt,Qt,gn,jn,.5);break;case"square":if(Ar)re.subVectors(Qt,xt),ae.set(re.y,-re.x),ce.addVectors(re,ae).add(xt),ue.subVectors(ae,re).add(xt),Nn?(ce.toArray(F,3),ue.toArray(F,0),ue.toArray(F,9)):(ce.toArray(F,3),ce.toArray(F,9),ue.toArray(F,0));else{re.subVectors(gn,xt),ae.set(re.y,-re.x),ce.addVectors(re,ae).add(xt),ue.subVectors(ae,re).add(xt);var Hn=F.length;Nn?(ce.toArray(F,Hn-3),ue.toArray(F,Hn-6)):(ce.toArray(F,Hn-6),ue.toArray(F,Hn-3)),ue.toArray(F,Hn-12)}}}},D);function D(v){var C=a.call(this,v)||this;return C.defaultDPI=90,C.defaultUnit="px",C}r.SVGLoader=d},{three:19}],63:[function(e,t,r){var i,l=this&&this.__extends||(i=function(de,A){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,le){oe.__proto__=le}||function(oe,le){for(var ie in le)Object.prototype.hasOwnProperty.call(le,ie)&&(oe[ie]=le[ie])})(de,A)},function(de,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function oe(){this.constructor=de}i(de,A),de.prototype=A===null?Object.create(A):(oe.prototype=A.prototype,new oe)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxTest=void 0;var a,c,d=e("../Operate/MrxDbgUiPrBase"),D=e("../Operate/MrxDbgUiPrPoint"),v=e("../MxThreeJS"),C=e("three"),f=e("../MxFun"),w=e("../View/MxDbEntity"),F=e("../MrxDbgUtils"),T=(l(R,a=w.MxDbEntityUserObject),R.prototype.worldDraw=function(de){var A=new C.Vector3(this.pt.x-this.r,this.pt.y-this.r,0),oe=new C.Vector3(this.pt.x+this.r,this.pt.y+this.r,0);new C.Vector3(A.x,oe.y);var le=new C.Vector3(oe.x,A.y);de.setDashLineDisplay(!0),de.setDash(.1,.2),de.drawLine(le,A)},R.prototype.setPoint=function(de){this.pt=de},R.prototype.setR=function(de){this.r=de},R.prototype.getTypeName=function(){return"MxDbTest"},R.prototype.getGripPoints=function(){var de=[];return de.push(this.pt),de},R.prototype.moveGripPointsAt=function(de,A){return de==0&&this.pt.add(A),!0},R.prototype.dwgIn=function(de){return a.prototype.dwgIn.call(this,de),this.pt.copy(de.pt),this.r=de.r,!0},R.prototype.dwgOut=function(de){return a.prototype.dwgOut.call(this,de),de.pt=this.pt,de.r=this.r,de},R.prototype.create=function(){return new R},R);function R(){var de=a!==null&&a.apply(this,arguments)||this;return de.pt=new C.Vector3,de.r=100,de}function ee(de){var A=new D.MrxDbgUiPrPoint;A.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),A.go(function(oe){if(oe==0){var le=A.value(),ie=new C.Vector3;ie.x=le.x,ie.y=le.y;var I=new d.McEdGetPointWorldDrawObject;I.setDraw(function(j,pe){pe.setColor(255),pe.drawLine(j,ie)}),A.setUserDraw(I),A.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),A.go(function(j){if(j==0){var pe=A.value(),be=f.MxFun.getCurrentDraw(),De=v.MxThreeJS.createLine(le,pe,16777215);be.addObject(De)}})}})}function re(){var de=new D.MrxDbgUiPrPoint;de.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),de.go(function(A){if(A==0){var oe=f.MxFun.getCurrentDraw(),le=new T;le.setColor(16711680),le.setPoint(de.value()),le.setR(oe.screenCoordLong2Doc(100)),oe.addMxEntity(le),oe.addMxCurrentSelect(le.objectId())}})}function ae(){F.MrxDbgUtils.selectEnt("Test").then(function(de){console.log(de)})}function ce(){var de=f.MxFun.getCurrentDraw();c?(de.eraseAllMxEntity(),de.loadMxEntityFromJson(c)):(c=de.saveMxEntityToJson(),console.log(c))}function ue(){f.MxFun.openFile("demo/buf/hhhh.dwg?token=123456")}(r.MxTest||(r.MxTest={})).registerCommand=function(){console.log("regist mx test"),new T().init(),f.MxFun.addCommand("MxTest_GetPoint",ee),f.MxFun.addCommand("MxTest_DrawCustomEntity",re),f.MxFun.addCommand("MxTest_EntSel",ae),f.MxFun.addCommand("MxTest_SaveMxDbEntityToJson",ce),f.MxFun.addCommand("MxTest_OpenFile",ue),f.MxFun.addWindowsEvent(function(de,A){if(de=="mouseup"){if(f.MxFun.isRunningCommand()||A.button!=0)return 0;var oe=A.srcElement;if(oe&&oe.tagName=="CANVAS"){var le=f.MxFun.getCurrentDraw(),ie=new C.Vector3(A.offsetX,A.offsetY,0);le.findMxEntityAtPoint(ie,!1).length&&A.preventDefault()}return 0}})}},{"../MrxDbgUtils":20,"../MxFun":34,"../MxThreeJS":44,"../Operate/MrxDbgUiPrBase":51,"../Operate/MrxDbgUiPrPoint":52,"../View/MxDbEntity":71,three:19}],64:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.MxUiObject=exports.MxToolBarItem=exports.MxMenuItem=void 0;var MxFun_1=require("../MxFun"),MxMenuItem=function(){this.id=-1,this.text="",this.evalString="",this.parentId=-1};exports.MxMenuItem=MxMenuItem;var MxToolBarItem=function(){this.isMxCommand=!1,this.itemid=""};exports.MxToolBarItem=MxToolBarItem;var MxUiObject=function(){function MxUiObject(){this.vecMenuItem=new Array,this.vecToolBarItem=new Array,this.uiPath="./ui",this.idMenuItemCount=100,this.isShowTitle=!1,this.isShowStructTree=!1,this.isEnableLoading=!0,this.isShowLayer=!1,this.isShowTakeColor=!1,this.isShowLayout=!1,this.isEnableObjectProperty=!1,this.isShowToolbar=!1,this.isShowMainMenu=!1,this.sTitle="",this.sLanguageTable={layout:"\u5E03\u5C40",layer:"\u56FE\u5C42",visible:"\u53EF\u89C1",color:"\u989C\u8272",name:"\u540D\u5B57",status:"\u72B6\u6001",openComplete:"\u63D0\u793A\uFF1A\u6253\u5F00\u56FE\u7EB8\u5B8C\u6210"}}return MxUiObject.prototype.SetLayoutData=function(e){this.vecLayoutData=e},MxUiObject.prototype.CallMxCommand=function(e){MxFun_1.MxFun.callCommand(e,"")},MxUiObject.prototype.EvalJs=function(value){eval(value)},MxUiObject.prototype.SetLayerData=function(e){this.vecLayerData=e},MxUiObject.prototype.SetSketchLayerData=function(e){this.vecSketchLayerData=e},MxUiObject.prototype.init=function(){this.onInit()},MxUiObject.prototype.addMenuItem=function(e,t,r,i){t===void 0&&(t=""),r===void 0&&(r=-1),i===void 0&&(i=-1);var l=new MxMenuItem;l.text=e,l.evalString=t,i==-1&&(i=this.idMenuItemCount,this.idMenuItemCount++),l.id=i,l.parentId=r,this.vecMenuItem.push(l)},MxUiObject.prototype.addToolBarItem=function(e,t,r,i,l){t===void 0&&(t=""),r===void 0&&(r=""),i===void 0&&(i=!1),l===void 0&&(l="");var a=new MxToolBarItem;a.image=e,a.evalString=r,a.text=t,a.isMxCommand=i,a.itemid=l,this.vecToolBarItem.push(a)},MxUiObject.prototype.setPath=function(e){this.uiPath=e},MxUiObject.prototype.getPath=function(){return this.uiPath},MxUiObject.prototype.create=function(){this.onCreate()},MxUiObject.prototype.writeUICSS=function(){var e=this.uiPath;MxFun_1.MxFun.isPC()?(document.write("<link rel='stylesheet' href='"+e+"/css/mxbimpcm.css'>"),this.isShowMainMenu&&(document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts2.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightmnu.css'>"),document.write("<script type='text/javascript' src='"+e+"/hc-mobile-nav.js'><\/script>"))):(document.write("<link rel='stylesheet' href='"+e+"/css/mxmobile.css'>"),this.isShowMainMenu&&(document.write("<link href='"+e+"/css/font-awesome.min.css' rel='stylesheet'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts1.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts2.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightmnu.css'>"),document.write("<script type='text/javascript' src='"+e+"/hc-mobile-nav.js'><\/script>")))},MxUiObject}();exports.MxUiObject=MxUiObject},{"../MxFun":34}],65:[function(e,t,r){var i,l=this&&this.__extends||(i=function(C,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,F){w.__proto__=F}||function(w,F){for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(w[T]=F[T])})(C,f)},function(C,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function w(){this.constructor=C}i(C,f),C.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiObjectMobile=void 0;var a,c=e("./MxUiObject"),d=e("../MxFun"),D=(l(v,a=c.MxUiObject),v.prototype.onCreate=function(){this.isShowTitle&&this.WriteTitle(),this.WriteStructTree(),this.isEnableLoading&&this.WriteLoading(),this.WriteLayer(),this.WriteTakeColor(),this.WriteLayout(),this.isEnableObjectProperty&&this.WriteObjectProperty(),this.isShowToolbar&&this.WriteToolbar()},v.prototype.onInit=function(){this.InitEvent()},v.prototype.ShowLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0)"),$(".Prompt").fadeIn(100),$(".Prompt span").css("display","none"))},v.prototype.HideLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0.8)"),$(".Prompt div").fadeOut(100),$(".Prompt span").fadeIn(200),setTimeout(function(){$(".Prompt").fadeOut(1e3)},1e3))},v.prototype.ShowObjectProperty=function(C){if(C.length!=0){var f;f=typeof C=="string"?JSON.parse(C):C;var w="";for(var F in f){var T=f[F];for(var R in w+='<tbody class="bf-group undefined bf-collapse">',w+='<tr class="bf-group-title">',w+='<td colspan="2"><i class="bf-icon" style=" padding: 12px;"></i>'+T.name+"</td>",w+="</tr>",T.datas){var ee=T.datas[R];w+="<tr class='bf-group-content'>",w+="<td class='bf-key'>"+ee.name+"</td>",w+="<td class='bf-value'>"+ee.value+"</td>",w+="</tr>"}w+="</tbody>"}document.getElementById("ComponentContent").innerHTML=w,$(".bf-group").click(function(){$(this).hasClass("bf-collapse")?$(this).removeClass("bf-collapse"):$(this).addClass("bf-collapse")})}},v.prototype.HideObjectProp=function(){},v.prototype.SwitchShowLayer=function(){var C=document.getElementById("LayerInterface");C.style.display=="none"?(C.style.display="block",C.style.left="80px",C.style.top="50px"):C.style.display="none"},v.prototype.SwitchShowStructTree=function(){},v.prototype.Chosecolor=function(){document.getElementById("color-picker").click()},v.prototype.ColorChange=function(C){document.getElementById("colorbox").style.backgroundColor=C,d.MxFun.setCurrentColor(C)},v.prototype.SwitchShowLayout=function(){var C=document.getElementById("LayerOutInterface");C.style.display=="none"?C.style.display="block":C.style.display="none"},v.prototype.WriteTitle=function(){var C=this.uiPath;document.write("<div class='bar1'>"),document.write("<img src='"+C+"/image/mxcad.png' style='height: 50%;position: absolute;top: 12px;left: 10px;'>"),document.write("<span  class='barspan'  style='position: absolute;left: 45px;'>"),document.write("</span>"),document.write("<div id='container'>"),this.isShowMainMenu&&(document.write("<header>"),document.write("<div class='wrapper cf'style='z-index: 999'>"),document.write("<nav id='main-nav' >"),document.write("</nav>"),document.write("<a class='toggle'>"),document.write("<span></span>"),document.write("</a>"),document.write("</div>"),document.write("</header>")),document.write("</div>"),document.write("</div>")},v.prototype.WriteToolbar=function(){document.write("<div id='MainMenuContent' class='bf-toolbar bf-toolbar-bottom'>"),document.write("</div>")},v.prototype.WriteLoading=function(){var C=this.uiPath;document.write("<div class='Prompt' style='width: 100px;height:30px;position:"),document.write("absolute;top: 60px;left: 50%;margin-left: -50px;color: #fff;text-align: center;'>"),document.write("<div style='text-align: center;'>"),document.write("<img src='"+C+"/image/loading.gif' alt='' style='width:30px;height:30px;float: left'>"),document.write("<p style='color:black;vertical-align: middle;float: left;  margin-top: 5px;margin-left: 5px;'>\u52A0\u8F7D\u4E2D.....</p>"),document.write("</div>"),document.write("<span style='vertical-align: middle;display: none'>\u56FE\u7EB8\u52A0\u8F7D\u5B8C\u6BD5</span>"),document.write("</div>")},v.prototype.WriteLayer=function(){var C=this.uiPath;this.isShowLayer&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' title='ModelTree' style='position: absolute; top:111px;left: 0px;' onclick='uiObj.SwitchShowLayer()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u56FE\u5C42'>"),document.write("<img src='"+C+"/image/layer.png.gif' alt='' style='width: 24px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerInterface' title='\u56FE\u5C42'"),document.write("style='left: 0px;"),document.write("top: 0px;"),document.write("width: 100%;"),document.write("height: 100%;"),document.write("display: none;'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayer()' style='text-align: center;'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u56FE\u5C42</div>"),document.write("<div>"),document.write("<div class='layer-title' style='width: 12.5%;'>\u53EF\u89C1</div>"),document.write("<div class='layer-title' style='width: 12.5%;'>\u989C\u8272</div>"),document.write("<div class='layer-title' style='width: 62.5%'>\u540D\u5B57</div>"),document.write("<div class='layer-title' style='width: 12.5%'>\u72B6\u6001</div>"),document.write("</div>"),document.write("<div id='Layer-Info'  style='margin-top: 26px;height: 79%;width: 100%; position: absolute;overflow-y: auto;'>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteStructTree=function(){this.isShowStructTree&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='Fmj' title='ModelTree'"),document.write("style='position: absolute; top:60px;left: 0px;' onclick='uiObj.SwitchShowStructTree()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u6784\u4EF6\u6811'><i class='fa fa-sitemap' aria-hidden='true' style='font-size: 24px;'></i></div>"),document.write("</div>")),document.write("<div class='bf-panel  bf-has-title bf-sizable tree-panel' id='dv' title='\u76EE\u5F55\u6811' style='left: 0px; top: 0px; width: 100%; height: 100%; display: none;'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowStructTree()'><i class='fa fa-times fa-2x' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u76EE\u5F55\u6811</div>"),document.write("<div class='bf-panel-body' style='padding-top: 57px;overflow-y: scroll;'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-tree-header' style='margin-top: -57px;'>"),document.write("<div class='bf-tabs bf-tabs-tree'>"),document.write("<ul class='bf-tabs-list'>"),document.write("<li class='bf-tabs-option my-option undefined active' id='component'>\u6784\u4EF6</li>"),document.write("<li class='bf-tabs-option my-option undefined' id='area'>\u7A7A\u95F4</li>"),document.write("<li class='bf-tabs-option my-option undefined' id='drawing'>\u56FE\u7EB8</li>"),document.write("</ul>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("<div class='' style='margin-bottom: 100px;' id='DirectoryContent'>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteTakeColor=function(){var C=this.uiPath;this.isShowTakeColor&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='TakeColor'"),document.write("style='position: absolute;left: 0px; top: 162px;width: 45px; '>"),document.write("<div class='bf-button' onclick='uiObj.Chosecolor()' style='opacity: 1;width: 45px;'>"),document.write("<div  style='position: relative;margin-left: 10px;margin-top: -5px;'>"),document.write("<img src='"+C+"/image/color.png' alt='' style='width: 40px;margin-left: -21px;'>"),document.write("</div>"),document.write("<div id='colorbox' style='width: 30px;height: 5px;background-color: #cccccc;margin-left: -3px;margin-top: -5px;'>"),document.write("</div>"),document.write("<div style='width: 18px;height: 40px;float: right;margin-top: -38px;margin-left: 14px;position: absolute;'>"),document.write("<img src='"+C+"/image/daojiao.png' alt='' style='width: 15px;margin-top: 10px;z-index: 999;position: relative'>"),document.write("<input id='color-picker' type='color' value='#c0c0c0'   style='display: none' onchange='colorChange(value)'>"),document.write("</div>"),document.write("</div>"),document.write("</div>"))},v.prototype.WriteLayout=function(){var C=this.uiPath;this.isShowLayout&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerOut'"),document.write("style='position: absolute;left: 0px; top: 213px; ' onclick='uiObj.SwitchShowLayout()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+C+"/image/layout.png' alt='' style='width: 24px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerOutInterface'"),document.write("style='left: 0; top: 0; width: 100%;display:none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayout()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='buju' style='cursor: move; user-select: none;'>\u5E03\u5C40</div>"),document.write("<div>"),document.write("</div>"),document.write("<div id=''>"),document.write("<div>"),document.write("<table  class='bf-table'>"),document.write("<tbody class='bf-group'>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div layer_on'></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div' ></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div' ></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div'></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("</tbody>"),document.write("</table>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteObjectProperty=function(){document.write("<div class='bf-panel bf-has-title bf-sizable property-panel' id='fmj2' title='\u6784\u4EF6\u8BE6\u60C5' style='left: 0px; top: 0px; width: 100%; height: 100%;display: none;'>"),document.write("<div class='bf-close' id='close2' style='top:4.0em;'><i class='fa fa-times fa-2x' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u6784\u4EF6\u8BE6\u60C5</div>"),document.write("<div class='bf-panel-body' style='padding-top: 41px;'>"),document.write("<div class='bf-panel-container bf-scroll-bar' style='top:0;width: 100%;height: 100%;overflow-y: auto;position: relative;'>"),document.write("<table class='bf-table' id='ComponentContent'>"),document.write("</table>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},v.prototype.UpDisplayLayout=function(){},v.prototype.UpDisplayLayer=function(){var C=this.uiPath,f=this.vecLayerData,w=this.vecSketchLayerData,F="";if(w!=null){var T=w;for(var R in T){F+="<div>";var ee="hide.png";T[R].off==0&&(ee="show.png");var re="unlock.png";F+="<table class='bf-table'>",F+="<tbody class='bf-group'>",F+="<tr class='bf-group-title'>",F+='<td><img class="layer-enable" sketch=1 id='+T[R].id+' src="'+C+"/image/"+ee+'"/></td>',F+='<td><span class="layer-color" style="background-color:'+T[R].color+'"></span></td>',F+='<td><span class="layer-text">\u8349\u56FE_'+T[R].name+"</span></td>",F+='<td><img class="layer-state" src="'+C+"/image/"+re+'"/></td>',F+="</tr>",F+="</tbody>",F+="</table>",F+="</div>"}}if(f!=null)for(var R in T=f)F+="<div>",ee="hide.png",T[R].off==0&&(ee="show.png"),re="lock.png",F+="<table class='bf-table'>",F+="<tbody class='bf-group'>",F+="<tr class='bf-group-title'>",F+='<td><img class="layer-enable" sketch=0 id='+T[R].id+' src="'+C+"/image/"+ee+'"/></td>',F+='<td><span class="layer-color" style="background-color:'+T[R].color+'"></span></td>',F+='<td><span class="layer-text">'+T[R].name+"</span></td>",F+='<td><img class="layer-state" src="'+C+"/image/"+re+'"/></td>',F+="</tr>",F+="</tbody>",F+="</table>",F+="</div>";var ae=document.getElementById("Layer-Info");ae!=null&&(ae.innerHTML=F)},v.prototype.WriteFooter=function(){document.write("<div class='footer' style='background: rgba(0, 0, 0, 0.7);min-width: auto;position: fixed;left: 0;bottom: 0;width: 100%;'>"),document.write("<div style='line-height: 40px;font-size: 12px;color: #999;padding: 0 10px;'>"),document.write("<p style='float: right;line-height: 15px;font-size: 12px;color: #999;display: block;'>"),document.write("<a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com/' target='_blank'>\u68A6\u60F3CAD</a>\u65D7\u4E0B\u4EA7\u54C1"),document.write("</p>"),document.write("<a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com' target='_blank'>MX3D</a> \u8700ICP\u590715011727\u53F7"),document.write("</div>"),document.write("</div>")},v.prototype.CreateToolBar=function(C){if(this.isShowToolbar){var f="";for(var w in C){var F=C[w],T="uiObj.CallMxCommand";F.isMxCommand||(T="uiObj.EvalJs"),0<F.itemid.length?f+='<div class="bf-button" onclick="'+T+"('"+C[w].evalString+`')"><img class="mainimage-bf-butto" id="`+F.itemid+'" src="'+this.uiPath+"\\image\\"+F.image+'" title="'+C[w].text+'"></div>':f+='<div class="bf-button" onclick="'+T+"('"+C[w].evalString+`')"><img class="mainimage-bf-butto" src="`+this.uiPath+"\\image\\"+F.image+'" title="'+C[w].text+'"></div>'}document.getElementById("MainMenuContent").innerHTML=f}},v.prototype.InitEvent=function(){var C=document.getElementById("LayerInterface");this.CreateToolBar(this.vecToolBarItem),C.style.display="none";var f=this.vecMenuItem;this.isShowMainMenu&&function(ee){var re="";(function oe(le,ie){var I=function(pe,be){var De=new Array;for(var Re in be)be[Re].parentId==pe&&De.push(be[Re]);return De}(le,ie);if(0<I.length){for(var j in re+="<ul>",I)I[j].evalString.length!=0?(re+='<li><p class="li_option" ',re+=`onclick="uiObj.EvalJs('`+I[j].evalString+`')"`,re+=">"+I[j].text+"</p>"):(re+="<li><a ",re+=">"+I[j].text+"</a>"),oe(I[j].id,ie),re+="</li>";re+="</br>",re+="</br>",re+="</br>",re+="</ul>"}})(-1,f),ee("#main-nav").append(re);var ae=ee("#main-nav"),ce=ee(".toggle"),ue={maxWidth:!1,customToggle:ce,levelTitles:!0},de=null,A={};de&&de.remove(),ce.off("click"),de=ae.clone(),ee.extend(A,{side:"right"}),de.hcMobileNav(ee.extend({},ue,A))}(jQuery);var w=window.location.href,F=w.length,T=w.indexOf("?"),R=w.substr(T,F).split("=")[1];$(".barspan").html(decodeURIComponent(R)),$("#close2").click(function(){$(this).parent("div").fadeOut(200)}),$(".bf-select-current").click(function(){$(this).hasClass("bf-open")?$(this).removeClass("bf-open"):$(this).addClass("bf-open")}),$(".my-option").click(function(){var ee=$(this);$(".my-option").each(function(){$(this).removeClass("active")}),ee.addClass("active")}),$(".bf-select-option").click(function(){$(this).parent("ul").prev("span").html($(this).text()),$(this).parent("ul").prev("span").removeClass("bf-open")}),$(document).on("click",".layer-enable",function(){var ee=d.MxFun.getUiObj().getPath(),re=parseInt($(this).attr("id")),ae=parseInt($(this).attr("sketch")),ce=!0;$(this).attr("src")==ee+"/image/show.png"?($(this).attr("src",ee+"/image/hide.png"),ce=!1):$(this).attr("src",ee+"/image/show.png"),d.MxFun.showLayer(re,ce,ae==1)})},v.prototype.Fullscreen=function(){var C=document.documentElement;C.requestFullscreen?C.requestFullscreen():C.mozRequestFullScreen?C.mozRequestFullScreen():C.webkitRequestFullScreen&&C.webkitRequestFullScreen(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.IsFullStatus()?($("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("src",this.uiPath+"/image\\fullscreen1.gif"),$("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("title","\u5168\u5C4F")):($("img[title='\u5168\u5C4F']").attr("src",this.uiPath+"/image\\escscreen1.gif"),$("img[title='\u5168\u5C4F']").attr("title","\u53D6\u6D88\u5168\u5C4F"))},v.prototype.IsFullStatus=function(){return(document.fullscreenEnabled||document.mozFullscreenElement||document.webkitFullscreenElement)!=null},v);function v(){return a!==null&&a.apply(this,arguments)||this}r.MxUiObjectMobile=D},{"../MxFun":34,"./MxUiObject":64}],66:[function(e,t,r){var i,l=this&&this.__extends||(i=function(C,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,F){w.__proto__=F}||function(w,F){for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(w[T]=F[T])})(C,f)},function(C,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function w(){this.constructor=C}i(C,f),C.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiObjectPC=void 0;var a,c=e("./MxUiObject"),d=e("../MxFun"),D=(l(v,a=c.MxUiObject),v.prototype.onCreate=function(){this.isShowTitle&&this.WriteTitle(),this.WriteStructTree(),this.isEnableLoading&&this.WriteLoading(),this.WriteLayer(),this.WriteTakeColor(),this.WriteLayout(),this.isEnableObjectProperty&&this.WriteObjectProperty(),this.isShowToolbar&&this.WriteToolbar()},v.prototype.onInit=function(){this.InitEvent()},v.prototype.WriteTitle=function(){var C=this.uiPath;document.write("<div id='all'>"),document.write("   <div class='bar1'>"),document.write("   <img src="+C+"/image/mxcad.png style='height: 50%;position: absolute;top: 12px;left: 10px;'>"),document.write("   <span  class='barspan' style='position: absolute;left: 45px;'>"),document.write("   </span>"),document.write("   <div id='container'>"),this.isShowMainMenu&&(document.write("   <header>"),document.write("    <div class='wrapper cf'style='z-index: 999'>"),document.write("   <nav id='main-nav' >"),document.write("    </nav>"),document.write("    <a class='toggle'>"),document.write("   <span></span>"),document.write("    </a>"),document.write("    </div>"),document.write("    </header>")),document.write("    </div>"),document.write("    </div>")},v.prototype.WriteStructTree=function(){this.isShowStructTree&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='ModelTreeThumbnail' title='\u76EE\u5F55\u6811'"),document.write("style='position: absolute;left: 10px; top: 97px; ' onclick='uiObj.SwitchShowStructTree()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u76EE\u5F55\u6811'><i class='fa fa-sitemap' aria-hidden='true'></i></div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='ModelTreeInterface' title='\u76EE\u5F55\u6811'"),document.write("style='left:0px; top: 0px; width: 300px; height: 416px;display: none'>"),document.write("   <div class='bf-close' onclick='uiObj.SwitchShowStructTree()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;' id='mulushu'>\u76EE\u5F55\u6811</div>"),document.write("<div class='bf-panel-body' style='padding-top: 36px;'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-tree-header' style='margin-top: -36px;'>"),document.write("<div class='bf-select bf-select-tree'>"),document.write("<span class='bf-select-current'>\u6784\u4EF6</span>"),document.write("<ul class='bf-select-list'>"),document.write("<li class='bf-select-option' id='type'>\u6784\u4EF6</li>"),document.write("<li class='bf-select-option' id='file'>\u6587\u4EF6</li>"),document.write("<li class='bf-select-option' id='area'>\u7A7A\u95F4</li>"),document.write("<li class='bf-select-option' id='drawing'>\u56FE\u7EB8</li>"),document.write("</ul>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("<div id='DirectoryContent' class='bf-panel-container TreeInfo'>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteLoading=function(){var C=this.uiPath;document.write("<div class='Prompt'>"),document.write("<div style='text-align: center;'>"),document.write("<img src='"+C+"/image/loading.gif' alt='' style='width:30px;height:30px;float: left'>"),document.write("<p  style='color:black;vertical-align: middle;float: left; margin-top: 5px;margin-left: 5px;'>\u52A0\u8F7D\u4E2D.....</p>"),document.write("</div>"),document.write("<span style='display: none'>"+this.sLanguageTable.openComplete+"</span>"),document.write("</div>")},v.prototype.WriteLayer=function(){var C=this.uiPath;this.isShowLayer&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerThumbnail' title='"+this.sLanguageTable.layer+"'"),document.write("style='position: absolute;left: 10px; top: 45px; ' onclick='uiObj.SwitchShowLayer()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+C+"/image/layer.png.gif' alt='' style='width: 32px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerInterface'"),document.write("style='left: 10px; top: 50px; width: 300px; height: 416px;display: none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayer(false)'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='tuceng' style='cursor: move; user-select: none;'>"+this.sLanguageTable.layer+"</div>"),document.write("<div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.visible+"</div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.color+"</div>"),document.write("<div class='layer-title' style='width: 148px;font-size: 14px'>"+this.sLanguageTable.name+"</div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.status+"</div>"),document.write("</div>"),document.write("<div id='Layer-Info' style='margin-top: 25px;height: 349px;position: absolute;overflow-y: auto;'>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteTakeColor=function(){var C=this.uiPath;this.isShowTakeColor&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='TakeColor' title='\u9009\u62E9\u989C\u8272'"),document.write("style='position: absolute;left: 10px; top: 149px; '>"),document.write("<div class='bf-button' onclick='uiObj.Chosecolor()' style='opacity: 1;'>"),document.write("<img src='"+C+"/image/color.png' alt='' style='width: 40px;margin-left: -10px;'>"),document.write("<div id='colorbox' style='width: 35px;height: 5px;background-color: #cccccc;margin-left: -3px'>"),document.write("</div>"),document.write("<div style='width: 18px;height: 40px;float: right;margin-top: -42px;margin-left: 14px;'>"),document.write("<img src='"+C+"/image/daojiao.png' alt='' style='width: 15px;margin-top: 10px;z-index: 999;position: relative'>"),document.write("<input id='color-picker' type='color' value='#c0c0c0'   style='display: none' onchange='uiObj.ColorChange(value)'>"),document.write("</div>"),document.write("</div>"),document.write("</div>"))},v.prototype.WriteLayout=function(){var C=this.uiPath;this.isShowLayout&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerOut' title='"+this.sLanguageTable.layout+"'"),document.write("style='position: absolute;left: 10px; top: 97px; ' onclick='uiObj.SwitchShowLayout()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+C+"/image/layout.png' alt='' style='width: 32px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerOutInterface'"),document.write("style='left: 10px; top: 50px; width: 300px;display:none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayout()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='buju' style='cursor: move; user-select: none;'>"+this.sLanguageTable.layout+"</div>"),document.write("<div>"),document.write("</div>"),document.write("<div id='layout-Info'>"),document.write("</div>"),document.write("</div>")},v.prototype.WriteObjectProperty=function(){document.write("<div class='bf-panel bf-has-title bf-sizable' id='StrcutInfoBase' title='\u5C5E\u6027'"),document.write("style='right: 10px; top: 45px; width: 300px; height: 416px;display: none'>"),document.write("<div class='bf-close' id='close2'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u5C5E\u6027</div>"),document.write("<div id='ComponentContent' class='bf-panel-body StructInfo'></div>"),document.write("<div class='bf-resize'></div>"),document.write("</div>")},v.prototype.WriteToolbar=function(){document.write("<div id='MainMenuContent' class='bf-toolbar bf-toolbar-bottom' style='position: fixed'></div>")},v.prototype.CreateToolBar=function(C){if(this.isShowToolbar){var f="";for(var w in C){var F=C[w],T="uiObj.CallMxCommand";F.isMxCommand||(T="uiObj.EvalJs"),0<F.itemid.length?f+='<div class="bf-button" onclick="'+T+"('"+C[w].evalString+`')"><img class="mainimage-bf-butto" id="`+F.itemid+'" src="'+this.uiPath+"\\image\\"+F.image+'" title="'+C[w].text+'"></div>':f+='<div class="bf-button" onclick="'+T+"('"+C[w].evalString+`')"><img class="mainimage-bf-butto" src="`+this.uiPath+"\\image\\"+F.image+'" title="'+C[w].text+'"></div>'}document.getElementById("MainMenuContent").innerHTML=f}},v.prototype.UpDisplayLayer=function(){var C=this.uiPath,f=this.vecLayerData,w=this.vecSketchLayerData,F="";if(w!=null){var T=w;for(var R in T){F+="<div>";var ee="hide.png";T[R].off==0&&(ee="show.png");var re="unlock.png";F+="<table class='bf-table'>",F+="<tbody class='bf-group'>",F+="<tr class='bf-group-title'>",F+='<td><img class="layer-enable" sketch=1 id='+T[R].id+' src="'+C+"/image/"+ee+'"/></td>',F+='<td><span class="layer-color" style="background-color:'+T[R].color+'"></span></td>',F+='<td><span class="layer-text">\u8349\u56FE_'+T[R].name+"</span></td>",F+='<td><img class="layer-state" src="'+C+"/image/"+re+'"/></td>',F+="</tr>",F+="</tbody>",F+="</table>",F+="</div>"}}if(f!=null)for(var R in T=f)F+="<div>",ee="hide.png",T[R].off==0&&(ee="show.png"),re="lock.png",F+="<table class='bf-table'>",F+="<tbody class='bf-group'>",F+="<tr class='bf-group-title'>",F+='<td><img class="layer-enable" sketch=0 id='+T[R].id+' src="'+C+"/image/"+ee+'"/></td>',F+='<td><span class="layer-color" style="background-color:'+T[R].color+'"></span></td>',F+='<td><span class="layer-text">'+T[R].name+"</span></td>",F+='<td><img class="layer-state" src="'+C+"/image/"+re+'"/></td>',F+="</tr>",F+="</tbody>",F+="</table>",F+="</div>";var ae=document.getElementById("Layer-Info");ae!=null&&(ae.innerHTML=F)},v.prototype.UpDisplayLayout=function(){var C=this.vecLayoutData,f="";if(f+="<div>",f+="<table  class='bf-table'>",f+="<tbody class='bf-group'>",f+="<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>",f+="<td class='bf_layerout_td'  style='width: 60px' >",f+="<div class='bf_layer_div layer_on'></div>",f+="</td>",f+="<td  style='width: 238px' >",f+="<span  class='layout-name' name='Model' style='color: white;cursor: pointer;'>Model</span>",f+="</td>",f+="</tr>",C!=null){var w=C;for(var F in w)f+="<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>",f+="<td class='bf_layerout_td'  style='width: 60px' >",f+="<div class='bf_layer_div layer_on'></div>",f+="</td>",f+="<td style='width: 238px' >",f+="<span class='layout-name' name='"+w[F]+"' style='color: white;cursor: pointer;'>"+w[F]+"</span>",f+="</td>",f+="</tr>"}f+="</tbody>",f+="</table>",f+="</div>";var T=document.getElementById("layout-Info");T!=null&&(T.innerHTML=f)},v.prototype.InitEvent=function(){var C=document.getElementById("ModelTreeInterface"),f=document.getElementById("LayerInterface"),w=document.getElementById("LayerOutInterface"),F=document.getElementById("tuceng"),T=document.getElementById("mulushu"),R=document.getElementById("buju"),ee=0,re=0,ae=0,ce=0,ue=!1;T.onmousedown=function(j){ee=j.clientX,re=j.clientY,ae=C.offsetLeft,ce=C.offsetTop,ue=!0,C.style.cursor="move"},F.onmousedown=function(j){ee=j.clientX,re=j.clientY,ae=f.offsetLeft,ce=f.offsetTop,ue=!0,f.style.cursor="move"},R.onmousedown=function(j){ee=j.clientX,re=j.clientY,ae=w.offsetLeft,ce=w.offsetTop,ue=!0,w.style.cursor="move"},window.onmousemove=function(j){if(ue!=0){var pe=j.clientX,be=j.clientY,De=pe-(ee-ae),Re=be-(re-ce);C.style.left=De+"px",C.style.top=Re+"px",f.style.left=De+"px",f.style.top=Re+"px",w.style.left=De+"px",w.style.top=Re+"px"}},T.onmouseup=function(){ue=!1,C.style.cursor="default"},F.onmouseup=function(){ue=!1,f.style.cursor="default"},R.onmouseup=function(){ue=!1,w.style.cursor="default"},$("#close2").click(function(){$(this).parent("div").fadeOut(200)}),$("#menu4").click(function(){$("#StrcutInfoBase").hasClass("hide")?($("#StrcutInfoBase").fadeIn(200),$("#StrcutInfoBase").removeClass("hide")):($("#StrcutInfoBase").fadeOut(200),$("#StrcutInfoBase").addClass("hide"))}),$(".bf-select-current").click(function(){$(this).hasClass("bf-open")?$(this).removeClass("bf-open"):$(this).addClass("bf-open")}),$(".bf-select-option").click(function(){$(this).parent("ul").prev("span").html($(this).text()),$(this).parent("ul").prev("span").removeClass("bf-open")});var de=$("#StrcutInfoBase");de.bind("mousedown",function(j){var pe=$(this)[0].offsetLeft,be=$(this)[0].offsetTop,De=j.pageX,Re=j.pageY;$(document).bind("mousemove",function(Ee){var Se=Ee.pageX-De,Le=Ee.pageY-Re,Ie=pe+Se+"px",st=be+Le+"px";de.css({top:st,left:Ie})})}),$(document).bind("mouseup",function(){$(this).unbind("mousemove")}),this.CreateToolBar(this.vecToolBarItem);var A=this.vecMenuItem;if(this.isShowMainMenu&&function(j){var pe="";(function Le(Ie,st){var Ye=function(St,ct){var Ct=new Array;for(var Pt in ct)ct[Pt].parentId==St&&Ct.push(ct[Pt]);return Ct}(Ie,st);if(0<Ye.length){for(var Ke in pe+="<ul>",Ye)Ye[Ke].evalString.length!=0?(pe+='<li><p class="li_option" ',pe+=`onclick="uiObj.EvalJs('`+Ye[Ke].evalString+`')"`,pe+=">"+Ye[Ke].text+"</p>"):(pe+="<li><a ",pe+=">"+Ye[Ke].text+"</a>"),Le(Ye[Ke].id,st),pe+="</li>";pe+="</br>",pe+="</br>",pe+="</br>",pe+="</ul>"}})(-1,A),j("#main-nav").append(pe);var be=j("#main-nav"),De=j(".toggle"),Re={maxWidth:!1,customToggle:De,levelTitles:!0},Ee=null,Se={};Ee&&Ee.remove(),De.off("click"),Ee=be.clone(),j.extend(Se,{side:"right"}),Ee.hcMobileNav(j.extend({},Re,Se))}(jQuery),$(".li_option").click(function(){var j=$(this);$(".li_option").each(function(){$(this).removeClass("active")}),j.addClass("active")}),this.sTitle==""){var oe=window.location.href,le=oe.length,ie=oe.indexOf("?"),I=oe.substr(ie,le).split("=")[1];I!=null&&(this.sTitle=I)}$(".barspan").html(decodeURIComponent(this.sTitle)),$(document).on("click",".layer-enable",function(){var j=d.MxFun.getUiObj().getPath(),pe=parseInt($(this).attr("id")),be=parseInt($(this).attr("sketch")),De=!0;$(this).attr("src")==j+"/image/show.png"?($(this).attr("src",j+"/image/hide.png"),De=!1):$(this).attr("src",j+"/image/show.png"),d.MxFun.showLayer(pe,De,be==1)}),$(document).on("click",".layout-name",function(){var j=$(this).attr("name");j=="Model"&&(j=""),d.MxFun.getCurrentDraw().gotoLayout(j)})},v.prototype.WriteFooter=function(){document.write("<div class='footer' style='background: rgba(0, 0, 0, 0.7);position: fixed;left: 0;bottom: 0;width: 100%;'>"),document.write("   <div style='line-height: 40px;font-size: 12px;color: #999;padding: 0 10px;'>"),document.write("    <p style='float: right;line-height: 15px;font-size: 12px;color: #999;display: block;'>"),document.write("    <a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com/' target='_blank'>MxDraw </a>\u65D7\u4E0B\u4EA7\u54C1"),document.write("    </p>"),document.write("    <a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com' target='_blank'>MX3D </a> \u8700ICP\u590715011727\u53F7"),document.write("    </div>"),document.write("   </div>")},v.prototype.ShowLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0)"),$(".Prompt").fadeIn(100),$(".Prompt span").css("display","none"))},v.prototype.HideLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0.8)"),$(".Prompt div").fadeOut(100),$(".Prompt span").fadeIn(200),setTimeout(function(){$(".Prompt").fadeOut(1e3)},1e3))},v.prototype.ShowObjectProperty=function(C){if(C.length!=0){var f;f=typeof C=="string"?JSON.parse(C):C;var w="";for(var F in f){var T=f[F];for(var R in w+="<table class='bf-table'>",w+="<tbody class='bf-group'>",w+="<tr class='bf-group-title'>",w+="<td colspan='2'><i class='bf-icon'></i>"+T.name+"</td>",w+="</tr>",T.datas){var ee=T.datas[R];w+="<tr class='bf-group-content'>",w+="<td class='bf-key'>"+ee.name+"</td>",w+="<td class='bf-value'>"+ee.value+"</td>",w+="</tr>"}w+="</tbody>",w+="</table>"}document.getElementById("ComponentContent").innerHTML=w,$(".bf-group").click(function(){$(this).hasClass("bf-collapse")?$(this).removeClass("bf-collapse"):$(this).addClass("bf-collapse")}),$("#StrcutInfoBase").fadeIn(200),$("#StrcutInfoBase").removeClass("hide")}},v.prototype.HideObjectProp=function(){$("#StrcutInfoBase").hasClass("hide")||($("#StrcutInfoBase").fadeOut(200),$("#StrcutInfoBase").addClass("hide"))},v.prototype.SwitchShowLayer=function(){var C=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),w=document.getElementById("LayerThumbnail"),F=document.getElementById("LayerInterface"),T=document.getElementById("LayerOut"),R=document.getElementById("LayerOutInterface");C.style.display="none",(R.style.display="none")==F.style.display?(w.style.display="block",F.style.display="block",F.style.left="80px",F.style.top="50px",f!=null&&(f.style.display="block"),T!=null&&(T.style.display="block"),C.style.display="none",R.style.display="none"):(F.style.display="none",f!=null&&(f.style.display="block"),w.style.display="block",T!=null&&(T.style.display="block"))},v.prototype.SwitchShowStructTree=function(){var C=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),w=document.getElementById("LayerThumbnail"),F=document.getElementById("LayerInterface"),T=document.getElementById("LayerOut"),R=document.getElementById("LayerOutInterface");F.style.display="none",(R.style.display="none")==C.style.display?(f!=null&&(f.style.display="block"),C.style.display="block",C.style.left="80px",C.style.top="50px",w.style.display="block",T!=null&&(T.style.display="block"),F.style.display="none",R.style.display="none"):(C.style.display="none",f!=null&&(f.style.display="block"),w.style.display="block",T!=null&&(T.style.display="block"))},v.prototype.Chosecolor=function(){document.getElementById("color-picker").click()},v.prototype.ColorChange=function(C){document.getElementById("colorbox").style.backgroundColor=C,d.MxFun.setCurrentColor(C)},v.prototype.SwitchShowLayout=function(){var C=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),w=document.getElementById("LayerThumbnail"),F=document.getElementById("LayerInterface"),T=document.getElementById("LayerOut"),R=document.getElementById("LayerOutInterface");C.style.display="none",F.style.display="none",R&&R.style.display=="none"?(T&&(T.style.display="block"),R.style.display="block",R.style.left="80px",R.style.top="120px",f!=null&&(f.style.display="block"),w&&(w.style.display="block"),C.style.display="none",F.style.display="none"):(R&&(R.style.display="none"),f!=null&&(f.style.display="block"),w&&(w.style.display="block"),T&&(T.style.display="block"))},v.prototype.Fullscreen=function(){var C=document.documentElement;C.requestFullscreen?C.requestFullscreen():C.mozRequestFullScreen?C.mozRequestFullScreen():C.webkitRequestFullScreen&&C.webkitRequestFullScreen(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.IsFullStatus()?($("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("src",this.uiPath+"/image\\fullscreen1.gif"),$("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("title","\u5168\u5C4F")):($("img[title='\u5168\u5C4F']").attr("src",this.uiPath+"/image\\escscreen1.gif"),$("img[title='\u5168\u5C4F']").attr("title","\u53D6\u6D88\u5168\u5C4F"))},v.prototype.IsFullStatus=function(){return(document.fullscreenEnabled||document.mozFullscreenElement||document.webkitFullscreenElement)!=null},v);function v(){return a!==null&&a.apply(this,arguments)||this}r.MxUiObjectPC=D},{"../MxFun":34,"./MxUiObject":64}],67:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiVue=void 0;var i,l,a,c=e("../MxFun"),d=e("../Operate/MxJigCmdManager"),D=e("../MxTools"),v=e("../Operate/MxCmdRunManager");function C(re){if(re==32||re==13)if(d.MxJigCmdManager.isRunning())d.MxJigCmdManager.OnEnter(re);else{var ae=T(),ce="";ce=ae.length==0?v.MxCmdRunManager.GetPrvCmd():ae,R(""),ce=D.MxTools.stringTrimLeftSpace(ce),c.MxFun.sendStringToExecute(ce)}else if(re==27)d.MxJigCmdManager.isRunning()?d.MxJigCmdManager.stopCmd():w(` *\u53D6\u6D88*
\u547D\u4EE4:`);else if(re==38)d.MxJigCmdManager.isRunning()||(v.MxCmdRunManager.MoveUpKey(),(ue=v.MxCmdRunManager.GetListCommad()).length!=0&&(R(ue),F()));else if(re==40){var ue;d.MxJigCmdManager.isRunning()||(v.MxCmdRunManager.MoveDownKey(),(ue=v.MxCmdRunManager.GetListCommad()).length!=0&&(R(ue),F()))}}function f(re,ae){ae===void 0&&(ae=!0);var ce=re.length;if(!(ce<1)){for(var ue=a.getCmdLine(),de=ue.getCmdTip(),A=ue.getCmdText(),oe=re.indexOf(`
`),le=0,ie=!0;oe!=-1&&(ie?(ue.addCmdDisplay(`
`+de+A+re.substring(le,oe-le)),A=de="",ie=!1):ue.addCmdDisplay(`
`+re.substring(le,oe-le)),(le=oe+1)<ce);)oe=re.indexOf(`
`,le);if(ie){var I=re.substring(le,ce-le),j=I.indexOf("\r"),pe=I.length;de=j==-1?de+A+I:j+1<pe?I.substring(j+1,pe-j-1):""}else le<ce&&(de=re.substring(le,ce));A="",ae&&(de+=" "),ue.setCmdTip(de),ue.setCmdText(A),ue.upDisplay()}}function w(re){for(var ae=[],ce=1;ce<arguments.length;ce++)ae[ce-1]=arguments[ce];if(a!=null){for(var ue=arguments,de=ue[0],A=0;A<ue.length-1;A++){var oe=new RegExp("\\{"+A+"\\}","gm");de=de.replace(oe,ue[A+1])}f(de,!0)}}function F(){a?.getCmdLine().upDisplay()}function T(){if(a==null)return"";var re=a.getCmdLine();return D.MxTools.stringTrimLeftRightSpace(re.getCmdText())}function R(re){if(a!=null)return a.getCmdLine().setCmdText(re)}function ee(re){var ae=d.MxJigCmdManager.getCurCmd();ae!=null&&(ae.getDynImput().onKeyDonw(re)||C(re))}i=r.MxUiVue||(r.MxUiVue={}),a=void 0,(l=i.CursorType||(i.CursorType={}))[l.kNormal=0]="kNormal",l[l.kRect=1]="kRect",l[l.kCross=2]="kCross",i.isNull=function(){return a==null},i.init=function(re){(a=re).mountKeydownEvent(C),a.getDynamicInput().mountKeydownEvent(ee)},i.setTipCoord=function(re){a?.setTipCoord(re)},i.setCursorType=function(re){a?.setCursorType(re)},i.AcutPrintfNoFormat=f,i.acutPrintf=w,i.cmdLineUpDisplay=F,i.getCmdText=T,i.setCmdText=R,i.getCmdDisplay=function(){return a==null?"":a.getCmdLine().getCmdDisplay()},i.setCmdDisplay=function(re){if(a!=null)return a.getCmdLine().setCmdDisplay(re)},i.getCmdTip=function(){return a==null?"":a.getCmdLine().getCmdTip()},i.setCmdTip=function(re){if(a!=null)return a.getCmdLine().setCmdTip(re)},i.restoreCmdStatus=function(){if(a!=null){var re=a.getCmdLine();re.getCmdTip()==" "&&re.getCmdText().length==0?(re.setCmdTip(""),w("{0}:","\u547D\u4EE4")):w(`
{0}:`,"\u547D\u4EE4")}},i.DynamicInput_upDisplay=function(){a!=null&&i.OnMxEvent({name:"dynInputUpDisplay"})},i.DynamicInput_setType=function(re){a?.getDynamicInput().setType(re)},i.DynamicInput_getType=function(){return a==null?d.MxJigCmdManager.DynamicInputType.kNoInput:a.getDynamicInput().getType()},i.DynamicInput_setPos=function(re){a?.getDynamicInput().setPos([re.x,re.y])},i.DynamicInput_setTip=function(re){a?.getDynamicInput().setTip(re)},i.DynamicInput_setValue1=function(re){a?.getDynamicInput().setValue1(re)},i.DynamicInput_getValue1=function(){return a==null?"":a.getDynamicInput().getValue1()},i.DynamicInput_setValue1Pos=function(re){a?.getDynamicInput().setValue1Pos([re.x,re.y])},i.DynamicInput_setValue2=function(re){a?.getDynamicInput().setValue2(re)},i.DynamicInput_getValue2=function(){return a==null?"":a.getDynamicInput().getValue2()},i.DynamicInput_getFocusValue=function(){return a==null?"":a.getDynamicInput().getFocusValue()},i.DynamicInput_setValue2Pos=function(re){a?.getDynamicInput().setValue2Pos([re.x,re.y])},i.DynamicInput_setShow=function(re){a?.getDynamicInput().setShow(re)},i.DynamicInput_isShow=function(){return a!=null&&a.getDynamicInput().isShow()},i.OnMxEvent=function(re){if(a==null)return!1;a.OnMxEvent(re)}},{"../MxFun":34,"../MxTools":45,"../Operate/MxCmdRunManager":53,"../Operate/MxJigCmdManager":58}],68:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalReferenceManager=r.ExternalReferenceDatabase=r.Blocks=r.Block=r.Layer=r.MxNewDisplayMemorySection=r.MxNewDisplayMemorySectionType=r.TextureData=r.BlockInstance=r.BlockRef=r.ClipPlans=r.ClipPlan=void 0;var i=e("three"),l=e("../MxShader"),a=e("./MxBrowseLayerData"),c=e("../MxManager"),d=e("../MxNetData"),D=e("../MxStencilObject"),v=e("../MxFun"),C=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0};r.ClipPlan=C;var f=function(){this.ver=4,this.id=1,this.clipPlanArray=new Array,this.clipPoints=[],this.instansClipePoints=[]};r.ClipPlans=f;var w=function(){this.ver=4,this.mat=new i.Matrix4,this.blkRecId=-1,this.blkOwnerId=0,this.layerId=-1,this.color=16777215,this.clipPlans=new f};r.BlockRef=w;var F=function(){this.mat=new i.Matrix4,this.color=new Array,this.topLayerColor=new Array,this.clipPlans=new f,this.clipMat=new i.Matrix4};r.BlockInstance=F;var T,R,ee=function(){};r.TextureData=ee,(R=T=r.MxNewDisplayMemorySectionType||(r.MxNewDisplayMemorySectionType={}))[R.kLinesType=1]="kLinesType",R[R.kTriangleType=2]="kTriangleType",R[R.kLinesType_Float=3]="kLinesType_Float",R[R.kTriangleType_Float=4]="kTriangleType_Float",R[R.kPointType_Float=5]="kPointType_Float",R[R.kPointType=6]="kPointType",r.MxNewDisplayMemorySection=function(){this.id=0,this.type=T.kLinesType,this.blockId=0,this.layerId=0,this.color=0,this.points=[]};var re=(ae.prototype.Show=function(I){for(var j=0,pe=this._entitys.length;j<pe;j++)this._entitys[j].visible=I},ae.prototype.updataClipMaterial=function(I){for(var j=this._material_clip.length,pe=.5*I.width,be=.5*I.height,De=0;De<j;De++)this._material_clip[De].uniforms.vieww.value=pe,this._material_clip[De].uniforms.viewh.value=be},ae.prototype.createThreejsObjForMesh_Clip=function(I,j,pe){I.size!=0&&I.forEach(function(be){var De=be;if(De.length!=0){var Re=[],Ee=[],Se=De[0].clipPlans;Se.ver<=3&&(Re.push(Se.clipPlanArray[0].x1,Se.clipPlanArray[0].y1),Ee.push(Se.clipPlanArray[0].x2,Se.clipPlanArray[0].y2));for(var Le=[],Ie=[],st=[],Ye=[],Ke=[],St=[],ct=[],Ct=0;Ct<De.length;Ct++){var Pt=De[Ct];Le=Le.concat(Pt.mat.elements.slice(0,4)),Ie=Ie.concat(Pt.mat.elements.slice(4,8)),st=st.concat(Pt.mat.elements.slice(8,12)),Ye=Ye.concat(Pt.mat.elements.slice(12,16)),Ke.push(0),St=St.concat(De[Ct].color)}if(0<this._geometryMeshPositionsByBlock.length)for(Ct=0;Ct<De.length;Ct++)St=St.concat(De[Ct].color);if(0<this._geometryMeshPositionsByBlock_ZeroLayer.length)for(Ct=0;Ct<De.length;Ct++)ct=ct.concat(De[Ct].topLayerColor);var bt,an=.5*pe.width,Yt=.5*pe.height;Se.ver<=3?(bt=new i.RawShaderMaterial({uniforms:{clippt1:{value:Re},clippt2:{value:Ee},vieww:{value:an},viewh:{value:Yt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_CLIP,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide}),this._material_clip.push(bt)):bt=new i.RawShaderMaterial({vertexShader:l.MxShader.VSHADER_COLOR_POINT,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(var Ne=0;Ne<this._geometryMeshPostion.length;Ne++)(me=new i.InstancedBufferGeometry).maxInstancedCount=De.length,me.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPostion[Ne],2)),me.setAttribute("color",new i.Float32BufferAttribute(this._geometryMeshColor[Ne],3)),me.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),me.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),me.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(st),4)),me.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),me.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ke),1)),(Ae=new i.Mesh(me,bt)).frustumCulled=!1,Ae.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ae),this._entitys.push(Ae),4<=Se.ver&&0<Se.instansClipePoints.length&&new D.MxStencilObject().associateObject(Ae,Se.instansClipePoints);for(Ne=0;Ne<this._geometryMeshPositionsByBlock.length;Ne++)(me=new i.InstancedBufferGeometry).maxInstancedCount=De.length,me.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock[Ne],2)),me.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(St),3)),me.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),me.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),me.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(st),4)),me.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),me.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ke),1)),(Ae=new i.Mesh(me,bt)).frustumCulled=!1,Ae.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ae),this._entitys.push(Ae),4<=Se.ver&&0<Se.instansClipePoints.length&&new D.MxStencilObject().associateObject(Ae,Se.instansClipePoints);for(Ne=0;Ne<this._geometryMeshPositionsByBlock_ZeroLayer.length;Ne++)(me=new i.InstancedBufferGeometry).maxInstancedCount=De.length,me.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock_ZeroLayer[Ne],2)),me.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(ct),3)),me.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),me.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),me.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(st),4)),me.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),me.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ke),1)),(Ae=new i.Mesh(me,bt)).frustumCulled=!1,Ae.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ae),this._entitys.push(Ae),4<=Se.ver&&0<Se.instansClipePoints.length&&new D.MxStencilObject().associateObject(Ae,Se.instansClipePoints);var mt=new i.RawShaderMaterial({uniforms:{color:{value:this._color},clippt1:{value:Re},clippt2:{value:Ee},vieww:{value:an},viewh:{value:Yt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_BYLAYER_CLIP,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide});for(this._material_clip.push(mt),Ne=0;Ne<this._geometryMeshPositionsByLayer.length;Ne++){var me,Ae;(me=new i.InstancedBufferGeometry).maxInstancedCount=De.length,me.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByLayer[Ne],2)),me.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),me.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),me.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(st),4)),me.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),me.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ke),1)),(Ae=new i.Mesh(me,mt)).frustumCulled=!1,Ae.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ae),this._entitys.push(Ae),4<=Se.ver&&0<Se.instansClipePoints.length&&new D.MxStencilObject().associateObject(Ae,Se.instansClipePoints)}}},this)},ae.prototype.createThreejsObjForCurve_Clip=function(I,j,pe){I.size!=0&&I.forEach(function(be,De,Re){var Ee=be;if(Ee.length!=0){var Se=[],Le=[],Ie=Ee[0].clipPlans;Ie.ver<=3&&(Se.push(Ie.clipPlanArray[0].x1,Ie.clipPlanArray[0].y1),Le.push(Ie.clipPlanArray[0].x2,Ie.clipPlanArray[0].y2));for(var st=[],Ye=[],Ke=[],St=[],ct=[],Ct=[],Pt=[],bt=0;bt<Ee.length;bt++){var an=Ee[bt];st=st.concat(an.mat.elements.slice(0,4)),Ye=Ye.concat(an.mat.elements.slice(4,8)),Ke=Ke.concat(an.mat.elements.slice(8,12)),St=St.concat(an.mat.elements.slice(12,16)),ct.push(0)}if(0<this._geometryCurvePositionsByBlock.length)for(bt=0;bt<Ee.length;bt++)Ct=Ct.concat(Ee[bt].color);if(0<this._geometryCurvePositionsByBlock_ZeroLayer.length)for(bt=0;bt<Ee.length;bt++)Pt=Pt.concat(Ee[bt].topLayerColor);var Yt,Ne=.5*pe.width,mt=.5*pe.height;Ie.ver<=3?(Yt=new i.RawShaderMaterial({uniforms:{clippt1:{value:Se},clippt2:{value:Le},vieww:{value:Ne},viewh:{value:mt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_CLIP,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide}),this._material_clip.push(Yt)):Yt=new i.RawShaderMaterial({vertexShader:l.MxShader.VSHADER_COLOR_POINT,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(var me=0;me<this._geometryCurvePostion.length;me++)(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePostion[me],2)),Oe.setAttribute("color",new i.Float32BufferAttribute(this._geometryCurveColor[me],3)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(st),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(ct),1)),(Pe=new i.LineSegments(Oe,Yt)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Pe),this._entitys.push(Pe),4<=Ie.ver&&0<Ie.instansClipePoints.length&&new D.MxStencilObject().associateObject(Pe,Ie.instansClipePoints);for(me=0;me<this._geometryCurvePositionsByBlock.length;me++)(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock[me],2)),Oe.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Ct),3)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(st),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(ct),1)),(Pe=new i.LineSegments(Oe,Yt)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Pe),this._entitys.push(Pe),4<=Ie.ver&&0<Ie.instansClipePoints.length&&new D.MxStencilObject().associateObject(Pe,Ie.instansClipePoints);for(me=0;me<this._geometryCurvePositionsByBlock_ZeroLayer.length;me++)(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock_ZeroLayer[me],2)),Oe.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Pt),3)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(st),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(ct),1)),(Pe=new i.LineSegments(Oe,Yt)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Pe),this._entitys.push(Pe),4<=Ie.ver&&0<Ie.instansClipePoints.length&&new D.MxStencilObject().associateObject(Pe,Ie.instansClipePoints);var Ae=new i.RawShaderMaterial({uniforms:{color:{value:this._color},clippt1:{value:Se},clippt2:{value:Le},vieww:{value:Ne},viewh:{value:mt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_BYLAYER_CLIP,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide});for(this._material_clip.push(Ae),me=0;me<this._geometryCurvePositionsByLayer.length;me++){var Oe,Pe;(Oe=new i.InstancedBufferGeometry).maxInstancedCount=Ee.length,Oe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByLayer[me],2)),Oe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(st),4)),Oe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),Oe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ke),4)),Oe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(St),4)),Oe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(ct),1)),(Pe=new i.LineSegments(Oe,Ae)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Pe),this._entitys.push(Pe),4<=Ie.ver&&0<Ie.instansClipePoints.length&&new D.MxStencilObject().associateObject(Pe,Ie.instansClipePoints)}}},this)},ae.prototype.createThreejsObjForCurve=function(I,j){if(I.length!=0){for(var pe=[],be=[],De=[],Re=[],Ee=[],Se=[],Le=[],Ie=0;Ie<I.length;Ie++){var st=I[Ie];pe=pe.concat(st.mat.elements.slice(0,4)),be=be.concat(st.mat.elements.slice(4,8)),De=De.concat(st.mat.elements.slice(8,12)),Re=Re.concat(st.mat.elements.slice(12,16)),Ee.push(0)}if(0<this._geometryCurvePositionsByBlock.length)for(Ie=0;Ie<I.length;Ie++)Se=Se.concat(I[Ie].color);if(0<this._geometryCurvePositionsByBlock_ZeroLayer.length)for(Ie=0;Ie<I.length;Ie++)Le=Le.concat(I[Ie].topLayerColor);for(var Ye=new i.RawShaderMaterial({vertexShader:l.MxShader.VSHADER_COLOR_POINT,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide}),Ke=0;Ke<this._geometryCurvePostion.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePostion[Ke],2)),ct.setAttribute("color",new i.Float32BufferAttribute(this._geometryCurveColor[Ke],3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.LineSegments(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Ct),this._entitys.push(Ct);for(Ke=0;Ke<this._geometryCurvePositionsByBlock.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock[Ke],2)),ct.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Se),3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.LineSegments(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Ct),this._entitys.push(Ct);for(Ke=0;Ke<this._geometryCurvePositionsByBlock_ZeroLayer.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock_ZeroLayer[Ke],2)),ct.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Le),3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.LineSegments(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Ct),this._entitys.push(Ct);var St=new i.RawShaderMaterial({uniforms:{color:{value:this._color}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_BYLAYER,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(Ke=0;Ke<this._geometryCurvePositionsByLayer.length;Ke++){var ct,Ct;(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByLayer[Ke],2)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.LineSegments(ct,St)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(Ct),this._entitys.push(Ct)}}},ae.prototype.createThreejsObjForMemorySections_clip=function(I,j,pe){I.size!=0&&I.forEach(function(be){var De=be;if(De.length!=0){for(var Re=De[0].clipPlans,Ee=[],Se=[],Le=[],Ie=[],st=[],Ye=0;Ye<De.length;Ye++){var Ke=De[Ye];Ee=Ee.concat(Ke.mat.elements.slice(0,4)),Se=Se.concat(Ke.mat.elements.slice(4,8)),Le=Le.concat(Ke.mat.elements.slice(8,12)),Ie=Ie.concat(Ke.mat.elements.slice(12,16)),st.push(0)}for(var St=this._MemorySections.length,ct=0;ct<St;ct++){var Ct=this._MemorySections[ct],Pt=pe.automaticInversionColor2(Ct.color),bt=[];if((4278190080&Pt)==16777216?bt=this._color:bt.push((255&Pt)/255,(Pt>>8&255)/255,(Pt>>16&255)/255),Ct.type==T.kLinesType){var an=new i.RawShaderMaterial({uniforms:{color:{value:bt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(Ne=new i.InstancedBufferGeometry).maxInstancedCount=De.length,Ne.setAttribute("position",new i.Float32BufferAttribute(Ct.points,3)),Ne.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ne.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Se),4)),Ne.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ne.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),Ne.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(st),1)),(mt=new i.LineSegments(Ne,an)).frustumCulled=!1,mt.renderOrder=c.MxData.iCADCurveRenderOrder,4<=Re.ver&&0<Re.instansClipePoints.length&&new D.MxStencilObject().associateObject(mt,Re.instansClipePoints),j.add(mt),this._entitys.push(mt)}else if(Ct.type==T.kTriangleType){an=new i.RawShaderMaterial({uniforms:{color:{value:bt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(Ne=new i.InstancedBufferGeometry).maxInstancedCount=De.length,Ne.setAttribute("position",new i.Float32BufferAttribute(Ct.points,3)),Ne.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ne.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Se),4)),Ne.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ne.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),Ne.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(st),1));var Yt=new i.Mesh(Ne,an);Yt.frustumCulled=!1,Yt.renderOrder=c.MxData.iCADMeshRenderOrder,4<=Re.ver&&0<Re.instansClipePoints.length&&new D.MxStencilObject().associateObject(Yt,Re.instansClipePoints),j.add(Yt),this._entitys.push(Yt)}else if(Ct.type==T.kPointType){var Ne,mt;an=new i.RawShaderMaterial({uniforms:{color:{value:bt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(Ne=new i.InstancedBufferGeometry).maxInstancedCount=De.length,Ne.setAttribute("position",new i.Float32BufferAttribute(Ct.points,3)),Ne.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ne.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Se),4)),Ne.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ne.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),Ne.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(st),1)),(mt=new i.Points(Ne,an)).frustumCulled=!1,mt.renderOrder=c.MxData.iCADCurveRenderOrder,4<=Re.ver&&0<Re.instansClipePoints.length&&new D.MxStencilObject().associateObject(mt,Re.instansClipePoints),j.add(mt),this._entitys.push(mt)}}}},this)},ae.prototype.createThreejsObjForMemorySections=function(I,j,pe){if(I.length!=0){for(var be=[],De=[],Re=[],Ee=[],Se=[],Le=0;Le<I.length;Le++){var Ie=I[Le];be=be.concat(Ie.mat.elements.slice(0,4)),De=De.concat(Ie.mat.elements.slice(4,8)),Re=Re.concat(Ie.mat.elements.slice(8,12)),Ee=Ee.concat(Ie.mat.elements.slice(12,16)),Se.push(0)}for(var st=this._MemorySections.length,Ye=0;Ye<st;Ye++){var Ke=this._MemorySections[Ye],St=pe.automaticInversionColor2(Ke.color),ct=[];if((4278190080&St)==16777216?(ct=this._color,this._colorValue):ct.push((255&St)/255,(St>>8&255)/255,(St>>16&255)/255),Ke.type==T.kLinesType){var Ct=new i.RawShaderMaterial({uniforms:{color:{value:ct}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(bt=new i.InstancedBufferGeometry).maxInstancedCount=I.length,bt.setAttribute("position",new i.Float32BufferAttribute(Ke.points,3)),bt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(be),4)),bt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),bt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Re),4)),bt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),bt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Se),1)),(an=new i.LineSegments(bt,Ct)).frustumCulled=!1,an.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(an),this._entitys.push(an)}else if(Ke.type==T.kTriangleType){Ct=new i.RawShaderMaterial({uniforms:{color:{value:ct}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(bt=new i.InstancedBufferGeometry).maxInstancedCount=I.length,bt.setAttribute("position",new i.Float32BufferAttribute(Ke.points,3)),bt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(be),4)),bt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),bt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Re),4)),bt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),bt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Se),1));var Pt=new i.Mesh(bt,Ct);Pt.frustumCulled=!1,Pt.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Pt),this._entitys.push(Pt)}else if(Ke.type==T.kPointType){var bt,an;Ct=new i.RawShaderMaterial({uniforms:{color:{value:ct},size:1},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(bt=new i.InstancedBufferGeometry).maxInstancedCount=I.length,bt.setAttribute("position",new i.Float32BufferAttribute(Ke.points,3)),bt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(be),4)),bt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),bt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Re),4)),bt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),bt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Se),1)),(an=new i.Points(bt,Ct)).frustumCulled=!1,an.renderOrder=c.MxData.iCADCurveRenderOrder,j.add(an),this._entitys.push(an)}}}},ae.prototype.createThreejsObjForTexture=function(I,j,pe){if(I.length!=0){var be=[],De=[],Re=[],Ee=[],Se=[],Le=pe.getCurrentLoadUrl(),Ie=v.MxFun.dwgDir();Ie.length!=0&&Le.substring(Le.lastIndexOf("/buf/")).toLowerCase()!="/buf/"&&(Le=Le+Ie+"/buf/");for(var st=0;st<I.length;st++){var Ye=I[st];be=be.concat(Ye.mat.elements.slice(0,4)),De=De.concat(Ye.mat.elements.slice(4,8)),Re=Re.concat(Ye.mat.elements.slice(8,12)),Ee=Ee.concat(Ye.mat.elements.slice(12,16)),Se.push(0)}for(var Ke=0;Ke<this._TextureData.length;Ke++){var St=this._TextureData[Ke],ct=new i.InstancedBufferGeometry;ct.maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(St.pos,2)),ct.setAttribute("uv",new i.Float32BufferAttribute(St.textureCoord,2)),ct.setAttribute("color",new i.Float32BufferAttribute(St.color,3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Se),1));var Ct=Le+St.sFileName,Pt={texture:{value:new i.TextureLoader().load(Ct,function(Yt){Yt&&pe.updateDisplay()})}};Pt.texture.value.wrapS=Pt.texture.value.wrapT=i.RepeatWrapping;var bt=new i.RawShaderMaterial({uniforms:Pt,vertexShader:l.MxShader.VSHADER_COLOR_POINT_TEXTURE,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_TEXTURE,transparent:!0,side:i.DoubleSide}),an=new i.Mesh(ct,bt);an.renderOrder=c.MxData.iCADMeshRenderOrder,an.frustumCulled=!1,j.add(an),this._entitys.push(an)}}},ae.prototype.createThreejsObjForTexture_Clip=function(I,j,pe){if(I.size!=0){var be=pe.getCurrentLoadUrl(),De=v.MxFun.dwgDir();De.length!=0&&be.substring(be.lastIndexOf("/buf/")).toLowerCase()!="/buf/"&&(be=be+De+"/buf/"),I.forEach(function(Re){var Ee=Re;if(Ee.length!=0){for(var Se=Ee[0].clipPlans,Le=[],Ie=[],st=[],Ye=[],Ke=[],St=0;St<Ee.length;St++){var ct=Ee[St];Le=Le.concat(ct.mat.elements.slice(0,4)),Ie=Ie.concat(ct.mat.elements.slice(4,8)),st=st.concat(ct.mat.elements.slice(8,12)),Ye=Ye.concat(ct.mat.elements.slice(12,16)),Ke.push(0)}for(var Ct=0;Ct<this._TextureData.length;Ct++){var Pt=this._TextureData[Ct],bt=new i.InstancedBufferGeometry;bt.maxInstancedCount=Ee.length,bt.setAttribute("position",new i.Float32BufferAttribute(Pt.pos,2)),bt.setAttribute("uv",new i.Float32BufferAttribute(Pt.textureCoord,2)),bt.setAttribute("color",new i.Float32BufferAttribute(Pt.color,3)),bt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),bt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ie),4)),bt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(st),4)),bt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ye),4)),bt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ke),1));var an=be+Pt.sFileName,Yt={texture:{value:new i.TextureLoader().load(an,function(me){me&&pe.updateDisplay()})}};Yt.texture.value.wrapS=Yt.texture.value.wrapT=i.RepeatWrapping;var Ne=new i.RawShaderMaterial({uniforms:Yt,vertexShader:l.MxShader.VSHADER_COLOR_POINT_TEXTURE,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_TEXTURE,transparent:!0,side:i.DoubleSide}),mt=new i.Mesh(bt,Ne);mt.renderOrder=c.MxData.iCADMeshRenderOrder,mt.frustumCulled=!1,4<=Se.ver&&0<Se.instansClipePoints.length&&new D.MxStencilObject().associateObject(mt,Se.instansClipePoints),j.add(mt),this._entitys.push(mt)}}},this)}},ae.prototype.createThreejsObjForMesh=function(I,j){if(I.length!=0){for(var pe=[],be=[],De=[],Re=[],Ee=[],Se=[],Le=[],Ie=0;Ie<I.length;Ie++){var st=I[Ie];pe=pe.concat(st.mat.elements.slice(0,4)),be=be.concat(st.mat.elements.slice(4,8)),De=De.concat(st.mat.elements.slice(8,12)),Re=Re.concat(st.mat.elements.slice(12,16)),Ee.push(0),Se=Se.concat(I[Ie].color)}if(0<this._geometryMeshPositionsByBlock.length)for(Ie=0;Ie<I.length;Ie++)Se=Se.concat(I[Ie].color);if(0<this._geometryMeshPositionsByBlock_ZeroLayer.length)for(Ie=0;Ie<I.length;Ie++)Le=Le.concat(I[Ie].topLayerColor);for(var Ye=new i.RawShaderMaterial({vertexShader:l.MxShader.VSHADER_COLOR_POINT,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,transparent:!0,side:i.DoubleSide}),Ke=0;Ke<this._geometryMeshPostion.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPostion[Ke],2)),ct.setAttribute("color",new i.Float32BufferAttribute(this._geometryMeshColor[Ke],3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.Mesh(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ct),this._entitys.push(Ct);for(Ke=0;Ke<this._geometryMeshPositionsByBlock.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock[Ke],2)),ct.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Se),3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.Mesh(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ct),this._entitys.push(Ct);for(Ke=0;Ke<this._geometryMeshPositionsByBlock_ZeroLayer.length;Ke++)(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock_ZeroLayer[Ke],2)),ct.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Le),3)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.Mesh(ct,Ye)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ct),this._entitys.push(Ct);var St=new i.RawShaderMaterial({uniforms:{color:{value:this._color}},vertexShader:l.MxShader.VSHADER_COLOR_POINT,fragmentShader:l.MxShader.FSHADER_COLOR_POINT,transparent:!0,side:i.DoubleSide});for(Ke=0;Ke<this._geometryMeshPositionsByLayer.length;Ke++){var ct,Ct;(ct=new i.InstancedBufferGeometry).maxInstancedCount=I.length,ct.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByLayer[Ke],2)),ct.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(pe),4)),ct.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(be),4)),ct.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(De),4)),ct.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Re),4)),ct.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ee),1)),(Ct=new i.Mesh(ct,St)).frustumCulled=!1,Ct.renderOrder=c.MxData.iCADMeshRenderOrder,j.add(Ct),this._entitys.push(Ct)}}},ae.prototype.addGeometryCurve=function(I,j,pe,be,De){0<I.length&&(this._geometryCurvePostion.push(I),this._geometryCurveColor.push(j)),0<pe.length&&this._geometryCurvePositionsByBlock.push(pe),0<be.length&&this._geometryCurvePositionsByLayer.push(be),0<De.length&&this._geometryCurvePositionsByBlock_ZeroLayer.push(De)},ae.prototype.addGeometryMesh=function(I,j,pe,be,De){0<I.length&&(this._geometryMeshPostion.push(I),this._geometryMeshColor.push(j)),0<pe.length&&this._geometryMeshPositionsByBlock.push(pe),0<be.length&&this._geometryMeshPositionsByLayer.push(be),0<De.length&&this._geometryMeshPositionsByBlock_ZeroLayer.push(De)},ae.prototype.addGeometryTexture=function(I,j,pe,be,De,Re,Ee){var Se=new ee;Se.pos=I,Se.textureCoord=j,Se.color=pe,Se.sFileName=be,Se.dAngel=De,Se.ptRotationPostionX=Re,Se.ptRotationPostionY=Ee,this._TextureData.push(Se)},ae.prototype.addMemorySections=function(I){this._MemorySections.push(I)},ae.prototype.createThreejsObj=function(I,j,pe,be,De){var Re=pe.getScene(),Ee=pe.getCanvas();if(I.length!=0){if(this._color==null){var Se=be.getColor(De);this._color=[],this._color.push((255&Se)/255,(Se>>8&255)/255,(Se>>16&255)/255),this._colorValue=16777215&Se}this._geometryCurvePostion.length==0&&this._geometryCurvePositionsByBlock.length==0&&this._geometryCurvePositionsByLayer.length==0&&this._geometryCurvePositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForCurve(I,Re),this._geometryMeshPostion.length==0&&this._geometryMeshPositionsByBlock.length==0&&this._geometryMeshPositionsByLayer.length==0&&this._geometryMeshPositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForMesh(I,Re),this._TextureData.length!=0&&this.createThreejsObjForTexture(I,Re,pe),this._MemorySections.length!=0&&this.createThreejsObjForMemorySections(I,Re,pe)}j.size!=0&&(this._color==null&&(Se=be.getColor(De),this._color=[],this._color.push((255&Se)/255,(Se>>8&255)/255,(Se>>16&255)/255),this._colorValue=16777215&Se),this._geometryCurvePostion.length==0&&this._geometryCurvePositionsByBlock.length==0&&this._geometryCurvePositionsByLayer.length==0&&this._geometryCurvePositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForCurve_Clip(j,Re,Ee),this._geometryMeshPostion.length==0&&this._geometryMeshPositionsByBlock.length==0&&this._geometryMeshPositionsByLayer.length==0&&this._geometryMeshPositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForMesh_Clip(j,Re,Ee),this._TextureData.length!=0&&this.createThreejsObjForTexture_Clip(j,Re,pe),this._MemorySections.length!=0&&this.createThreejsObjForMemorySections_clip(j,Re,pe)),this._geometryCurvePostion=[],this._geometryCurvePositionsByBlock=[],this._geometryCurvePositionsByLayer=[],this._geometryCurvePositionsByBlock_ZeroLayer=[],this._geometryCurveColor=[],this._geometryMeshPostion=[],this._geometryMeshPositionsByBlock=[],this._geometryMeshPositionsByLayer=[],this._geometryMeshPositionsByBlock_ZeroLayer=[],this._geometryMeshColor=[],this._TextureData=[],this._MemorySections=[]},ae);function ae(I){this._blockRecId=0,this._TextureData=[],this._MemorySections=[],this._geometryCurvePostion=new Array,this._geometryCurveColor=new Array,this._geometryMeshPostion=new Array,this._geometryMeshColor=new Array,this._geometryCurvePositionsByBlock=new Array,this._geometryMeshPositionsByBlock=new Array,this._geometryCurvePositionsByLayer=new Array,this._geometryMeshPositionsByLayer=new Array,this._geometryCurvePositionsByBlock_ZeroLayer=new Array,this._geometryMeshPositionsByBlock_ZeroLayer=new Array,this._entitys=new Array,this._color=void 0,this._colorValue=16777215,this._material_clip=[],this._blockRecId=I}r.Layer=re;var ce=(ue.prototype.showLayer=function(I,j){var pe=this._layerTogeometry.get(I);pe?.Show(j)},ue.prototype.updataClipMaterial=function(I){var j=I.getCanvas();this._layerTogeometry.forEach(function(pe,be,De){pe.updataClipMaterial(j)})},ue.prototype.getId=function(){return this._id},ue.prototype.getBlkRef=function(){return this._blkRef},ue.prototype.createThreejsObj=function(I,j){var pe=this;this._layerTogeometry.forEach(function(be,De,Re){be.createThreejsObj(pe._instance,pe._instance_clip,I,j,De)})},ue.prototype.addGeometryCurve=function(I,j,pe,be,De,Re){var Ee=this._layerTogeometry.get(pe);Ee==null&&(Ee=new re(this._id),this._layerTogeometry.set(pe,Ee)),Ee.addGeometryCurve(I,j,be,De,Re)},ue.prototype.addMemorySections=function(I){var j=this._layerTogeometry.get(I.layerId);j==null&&(j=new re(this._id),this._layerTogeometry.set(I.layerId,j)),j.addMemorySections(I)},ue.prototype.addGeometryTexture=function(I,j,pe,be,De,Re,Ee,Se){var Le=this._layerTogeometry.get(be);Le==null&&(Le=new re(this._id),this._layerTogeometry.set(be,Le)),Le.addGeometryTexture(I,j,pe,De,Re,Ee,Se)},ue.prototype.addGeometryMesh=function(I,j,pe,be,De,Re){var Ee=this._layerTogeometry.get(pe);Ee==null&&(Ee=new re(this._id),this._layerTogeometry.set(pe,Ee)),Ee.addGeometryMesh(I,j,be,De,Re)},ue.prototype.addInstance=function(I){var j;I.clipPlans.ver<=3?I.clipPlans.clipPlanArray.length==0?this._instance.push(I):((j=this._instance_clip.get(I.clipPlans.id))==null&&(j=[],this._instance_clip.set(I.clipPlans.id,j)),j.push(I)):I.clipPlans.instansClipePoints.length==0||100<this._instance_clip.size?this._instance.push(I):((j=this._instance_clip.get(I.clipPlans.id))==null&&(j=[],this._instance_clip.set(I.clipPlans.id,j)),j.push(I))},ue.prototype.addBlkRef=function(I){this._blkRef.push(I)},ue);function ue(I){this._id=0,this._layerTogeometry=new Map,this._blkRef=[],this._instance=[],this._instance_clip=new Map,this._id=I}r.Block=ce;var de=(A.prototype.crateBlock=function(I){var j=this._mapBlock.get(I);return j==null&&(j=new ce(I),this._mapBlock.set(I,j)),j},A.prototype.getBlock=function(I){return this._mapBlock.get(I)},A.prototype.addBlockRef=function(I){this.crateBlock(I.blkOwnerId).addBlkRef(I)},A.prototype.showLayer=function(I,j){this._mapBlock.forEach(function(pe,be){var De=pe,Re=be;return function(Ee,Se,Le){Ee.showLayer(De,Re)}}.call(this,I,j))},A.prototype.createBlocks_30=function(I,j){if(!this._isCreate){this.crateBlock(0);for(var pe=1,be=I.getInt32(12,!0),De=80,Re=0;Re<be;Re++){var Ee=I.getInt32(De,!0);De+=4;var Se=I.getInt32(De,!0);De+=4;var Le=I.getInt32(De,!0);De+=4;var Ie=I.getInt32(De,!0);De+=4;for(var st=new Array,Ye=0;Ye<16;Ye++){var Ke=I.getFloat32(De,!0);De+=4,st.push(Ke)}var St=I.getInt32(De,!0);De+=4;var ct=new f;ct.id=pe,ct.ver=3,pe++,ct.clipPlanArray=[];for(var Ct=0;Ct<St;Ct++){var Pt=I.getFloat32(De,!0);De+=4;var bt=I.getFloat32(De,!0);De+=4;var an=I.getFloat32(De,!0);De+=4;var Yt=I.getFloat32(De,!0);De+=4;var Ne=new C;Ne.x1=Pt,Ne.y1=bt,Ne.x2=an,Ne.y2=Yt,ct.clipPlanArray.push(Ne)}var mt=new w;mt.ver=3,mt.mat=new i.Matrix4,mt.mat.fromArray(st),mt.blkRecId=Le,mt.blkOwnerId=Ee,mt.layerId=Se,mt.color=Ie,mt.clipPlans=ct,this.crateBlock(Le),this.addBlockRef(mt)}this._isGetAllBlocks=!0,this._isCreate=!0}},A.prototype.createBlocks_40=function(I,j){if(!this._isCreate){this.crateBlock(0);for(var pe=1,be=I.getInt32(12,!0),De=80,Re=0;Re<be;Re++){var Ee=I.getInt32(De,!0);De+=4;var Se=I.getInt32(De,!0);De+=4;var Le=I.getInt32(De,!0);De+=4;var Ie=I.getInt32(De,!0);De+=4;for(var st=new Array,Ye=0;Ye<16;Ye++){var Ke=I.getFloat32(De,!0);De+=4,st.push(Ke)}var St=I.getInt32(De,!0);De+=4;var ct=new f;ct.id=pe,ct.ver=4,pe++,ct.clipPoints=[];for(var Ct=0;Ct<St;Ct++){var Pt=new i.Vector2;Pt.x=I.getFloat32(De,!0),De+=4,Pt.y=I.getFloat32(De,!0),De+=4,ct.clipPoints.push(Pt)}var bt=new w;bt.ver=4,bt.mat=new i.Matrix4,bt.mat.fromArray(st),bt.blkRecId=Le,bt.blkOwnerId=Ee,bt.layerId=Se,bt.color=Ie,bt.clipPlans=ct,this.crateBlock(Le),this.addBlockRef(bt)}this._isGetAllBlocks=!0,this._isCreate=!0}},A.prototype.createBlocks=function(I,j){this._isCreate||(new d.MxNetData(I).getVersion_MwBlobHead()<=3?this.createBlocks_30(I,j):this.createBlocks_40(I,j))},A.prototype.updataClipMaterial=function(I){this._mapBlock.forEach(function(j,pe,be){j.updataClipMaterial(I)})},A.prototype.createAllInstance=function(I){var j=this.getBlock(0);if(j==null||this._rootBlockRef==null)return!1;var pe=new i.Matrix4,be=new Map,De=new f;return this._iClipIdCount=1,De.id=this._iClipIdCount,this._iClipIdCount++,this.createAllInstanceCall(j,this._rootBlockRef,pe,be,16777215,I,void 0,De),!0},A.prototype.createThreejsObj=function(I,j,pe){this._mapNeedCreateThreejsObj.get(I.getId())==null&&this._mapNeedCreateThreejsObj.set(I.getId(),I),this._isCreateAllInstance||this._isGetAllBlocks&&pe.isInitComplete()&&(this._isCreateAllInstance=this.createAllInstance(pe)),this._isCreateAllInstance&&(this._mapNeedCreateThreejsObj.forEach(function(be,De,Re){be.createThreejsObj(j,pe)}),this._mapNeedCreateThreejsObj.clear())},A.prototype.createAllInstanceCall=function(I,j,pe,be,De,Re,Ee,Se){if(be[I.getId()]!=1){be[I.getId()]=!0;var Le=new F;if(Le.mat=new i.Matrix4,Le.mat.copy(pe),Le.mat.multiply(j.mat),j.ver<=3)if(j.clipPlans.clipPlanArray.length==0)Le.clipPlans=Se;else{Le.clipPlans=j.clipPlans,Le.clipPlans.ver=3;for(var Ie,st,Ye,Ke,St=Le.clipPlans.clipPlanArray.length,ct=function(){Ie=new i.Vector3(Le.clipPlans.clipPlanArray[Ct].x1,Le.clipPlans.clipPlanArray[Ct].y1,0),st=new i.Vector3(Le.clipPlans.clipPlanArray[Ct].x2,Le.clipPlans.clipPlanArray[Ct].y2,0),Ye=new i.Vector3(Le.clipPlans.clipPlanArray[Ct].x1,Le.clipPlans.clipPlanArray[Ct].y2,0),Ke=new i.Vector3(Le.clipPlans.clipPlanArray[Ct].x2,Le.clipPlans.clipPlanArray[Ct].y1,0),Ie.applyMatrix4(Le.mat),st.applyMatrix4(Le.mat),Ye.applyMatrix4(Le.mat),Ke.applyMatrix4(Le.mat);var Pe=Ie.x,$e=Ie.x,tt=Ie.y,qe=Ie.y,dt=[];dt.push(st),dt.push(Ye),dt.push(Ke),dt.forEach(function(ft){Pe>ft.x&&(Pe=ft.x),$e<ft.x&&($e=ft.x),tt>ft.y&&(tt=ft.y),qe<ft.y&&(qe=ft.y)}),Le.clipPlans.clipPlanArray[Ct].x1=Pe,Le.clipPlans.clipPlanArray[Ct].y1=tt,Le.clipPlans.clipPlanArray[Ct].x2=$e,Le.clipPlans.clipPlanArray[Ct].y2=qe},Ct=0;Ct<St;Ct++)ct()}else if(j.clipPlans.clipPoints.length==0)Le.clipPlans=Se;else{Le.clipPlans=new f,Le.clipPlans.ver=4,Le.clipPlans.id=this._iClipIdCount,this._iClipIdCount++,Le.clipPlans.instansClipePoints=Se.instansClipePoints.slice(0);var Pt=[],bt=j.clipPlans.clipPoints;for(St=bt.length,Ct=0;Ct<St;Ct++){var an=new i.Vector3(bt[Ct].x,bt[Ct].y,0);an.applyMatrix4(Le.mat),Pt.push(new i.Vector2(an.x,an.y))}Le.clipPlans.instansClipePoints.push(Pt)}Ee==null?Le.topLayerColor.push(1,1,1):Le.topLayerColor.push(Ee[0],Ee[1],Ee[2]);var Yt=j.color>>24&255;if(Yt==2)Le.color.push((255&De)/255,(De>>8&255)/255,(De>>16&255)/255);else if(Yt==1){var Ne=Re.getColor(j.layerId);Le.color.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255),De=Ne}else Le.color.push((255&j.color)/255,(j.color>>8&255)/255,(j.color>>16&255)/255),De=j.color;I.addInstance(Le);for(var mt=I.getBlkRef(),me=Ee==null,Ae=0;Ae<mt.length;Ae++)if(mt[Ae].blkRecId!=0){var Oe=this.getBlock(mt[Ae].blkRecId);if(Oe==null)return;me&&(Ee=[],Ne=Re.getColor(mt[Ae].layerId),Ee.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255)),this.createAllInstanceCall(Oe,mt[Ae],Le.mat,be,De,Re,Ee,Le.clipPlans)}be[I.getId()]=!1}},A.prototype.initRootBlockRef=function(I){I==null&&((I=new w).mat=new i.Matrix4,I.blkRecId=0,I.blkOwnerId=-1,I.layerId=-1,I.color=16777215),this._rootBlockRef=I},A);function A(){this._mapBlock=new Map,this._mapNeedCreateThreejsObj=new Map,this._isCreate=!1,this._isGetAllBlocks=!1,this._isCreateAllInstance=!1,this._rootBlockRef=void 0,this._iClipIdCount=1}r.Blocks=de;var oe=function(){this.blocks=new de,this.layers=new a.MxBrowseLayerData};r.ExternalReferenceDatabase=oe;var le=(ie.prototype.createTzDwgExternalReferences=function(I){this._mapId2ExternalDatabase.get(I)||this.getBlocks(I).initRootBlockRef()},ie.prototype.createExternalReferences=function(I){for(var j=I.getInt32(12,!0),pe=80,be=0;be<j;be++){for(var De=new Array,Re=0;Re<16;Re++){var Ee=I.getFloat32(pe,!0);pe+=4,De.push(Ee)}var Se=I.getInt32(pe,!0);pe+=4;var Le=I.getInt32(pe,!0);if(pe+=4,I.getInt32(pe,!0),pe+=4,Se!=0){var Ie=this.getBlocks(Se),st=new w;st.mat=new i.Matrix4,st.mat.fromArray(De),st.blkRecId=0,st.blkOwnerId=-1,st.layerId=-1,st.color=Le,Ie.initRootBlockRef(st)}else console.log("mx error iDatabaseIndex")}},ie.prototype.getBlocks=function(I){if(I!=0){var j=this._mapId2ExternalDatabase.get(I);return j==null&&(j=new oe,this._mapId2ExternalDatabase.set(I,j)),j.blocks}console.log("mx error iDatabaseIndex")},ie.prototype.getLayers=function(I){if(I!=0){var j=this._mapId2ExternalDatabase.get(I);return j==null&&(j=new oe,this._mapId2ExternalDatabase.set(I,j)),j.layers}console.log("mx error iDatabaseIndex")},ie);function ie(){this._mapId2ExternalDatabase=new Map}r.ExternalReferenceManager=le},{"../MxFun":34,"../MxManager":36,"../MxNetData":38,"../MxShader":40,"../MxStencilObject":41,"./MxBrowseLayerData":69,three:19}],69:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxBrowseLayerData=void 0;var i=(l.prototype.add=function(a,c,d){this._layerColor[a]=c,this._nametoId[d]=a},l.prototype.setZeroLayerId=function(a){this._zeroLayerId=a},l.prototype.getZeroLayerId=function(){return this._zeroLayerId},l.prototype.getLayerIdForName=function(a){return this._nametoId[a]==null?0:this._nametoId[a]},l.prototype.getColor=function(a){return this._layerColor[a]==null?16777215:this._layerColor[a]},l.prototype.initComplete=function(){this._isSetInstanceComplete=!0},l.prototype.isInitComplete=function(){return this._isSetInstanceComplete},l);function l(){this._isSetInstanceComplete=!1,this._layerColor=new Map,this._nametoId=new Map,this._zeroLayerId=0}r.MxBrowseLayerData=i},{}],70:[function(e,t,r){var i=this&&this.__awaiter||function(ae,ce,ue,de){return new(ue=ue||Promise)(function(A,oe){function le(j){try{I(de.next(j))}catch(pe){oe(pe)}}function ie(j){try{I(de.throw(j))}catch(pe){oe(pe)}}function I(j){var pe;j.done?A(j.value):((pe=j.value)instanceof ue?pe:new ue(function(be){be(pe)})).then(le,ie)}I((de=de.apply(ae,ce||[])).next())})},l=this&&this.__generator||function(ae,ce){var ue,de,A,oe,le={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return oe={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function ie(I){return function(j){return function(pe){if(ue)throw new TypeError("Generator is already executing.");for(;le;)try{if(ue=1,de&&(A=2&pe[0]?de.return:pe[0]?de.throw||((A=de.return)&&A.call(de),0):de.next)&&!(A=A.call(de,pe[1])).done)return A;switch(de=0,A&&(pe=[2&pe[0],A.value]),pe[0]){case 0:case 1:A=pe;break;case 4:return le.label++,{value:pe[1],done:!1};case 5:le.label++,de=pe[1],pe=[0];continue;case 7:pe=le.ops.pop(),le.trys.pop();continue;default:if(!(A=0<(A=le.trys).length&&A[A.length-1])&&(pe[0]===6||pe[0]===2)){le=0;continue}if(pe[0]===3&&(!A||pe[1]>A[0]&&pe[1]<A[3])){le.label=pe[1];break}if(pe[0]===6&&le.label<A[1]){le.label=A[1],A=pe;break}if(A&&le.label<A[2]){le.label=A[2],le.ops.push(pe);break}A[2]&&le.ops.pop(),le.trys.pop();continue}pe=ce.call(ae,le)}catch(be){pe=[6,be],de=0}finally{ue=A=0}if(5&pe[0])throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}([I,j])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbDatabase=void 0;var a=e("three"),c=e("../MxFun"),d=e("./MxDbEntity"),D=e("./MxDbEntityGrip"),v=e("./MxDbEntitySelect"),C=e("../MxManager"),f=e("../MxType"),w=e("./MxDbLayerTable"),F=e("./MxDbGroup"),T=e("../MxDrawData"),R=e("../MxTools"),ee=(re.prototype.getAllEntity=function(){return this.mapIdToEntity},re.prototype.getGroupDictionary=function(){return this.groupDictionary},re.prototype.upDirtyDisplay=function(){var ae=!1;return this.mapIdToEntity.forEach(function(ce){ce.getDirtyDisplay()&&(ce.upDisplay(),ce.setDirtyDisplay(!1),ae=!0)}),ae},re.prototype.onViewChange=function(){var ae=!1;return this.mapIdToEntity.forEach(function(ce){ce.onViewChange()&&(ae=!0)}),ae},re.prototype.toJsonObject=function(ae){var ce={ver:1},ue=new a.Vector3(0,0,0),de=new a.Vector3(this.mxObj.getViewWidth(),this.mxObj.getViewHeight(),0),A=f.MxType.MxCloneType.kMxFileClone;ae&&(A=f.MxType.MxCloneType.kSaveDwgClone),ce.correctLargeCoordinates=T.MxDrawData.m_isCorrectLargeCoordinates,T.MxDrawData.m_isCorrectLargeCoordinates&&(ce.matDoc2Cad=this.mxObj.getDoc2CADMatrix());var oe=this.mxObj.screenCoord2Doc(ue.x,ue.y,0),le=this.mxObj.screenCoord2Doc(de.x,de.y,0);ce.view={ptView1:oe,ptView2:le};var ie=[];return this.mapNameToLayer.forEach(function(I){var j={type:A};I.dwgOut(j),j.TypeName="MxDbLayerTableRecord",ie.push(j)}),ce.layers=ie,this.groupDictionary.dwgOut(ce),ce},re.prototype.saveJson=function(ae){var ce=this,ue=this.toJsonObject(ae),de=f.MxType.MxCloneType.kMxFileClone;ae&&(de=f.MxType.MxCloneType.kSaveDwgClone);var A=[];return this.mapIdToEntity.forEach(function(oe){var le=oe.getUserObject(),ie={type:de};le.dwgOut(ie),ie.TypeName=le.getTypeName(),ie.group=ce.groupDictionary.getEntityInGroupName(oe.objectId()),A.push(ie)}),ue.entitys=A,ue},re.prototype.reInit=function(){this.eraseAllEntity(),this.initLayerTable(),this.groupDictionary=new F.MxDbGroupDictionary},re.prototype.loadJson=function(ae){return i(this,void 0,void 0,function(){var ce,ue,de,A,oe,le,ie,I,j,pe,be=this;return l(this,function(De){switch(De.label){case 0:if(this.reInit(),(ce=ae).view&&(ue=ce.view,this.mxObj.zoomW(ue.ptView1,ue.ptView2,!1)),de=ce.layers)for(A=de.length,pe=0;pe<A;pe++)oe=de[pe],this.addLayer(oe.name).dwgIn(oe);this.groupDictionary.dwgIn(ce),le=ce.entitys,ie=le.length,I=function(Re){var Ee,Se,Le,Ie;return l(this,function(st){switch(st.label){case 0:return Ee=le[Re],[4,C.MxManager.getMxDbEntityClassHierarchy().createMxEntity(Ee.TypeName)];case 1:return(Se=st.sent())?(Se.dwgIn(Ee),(Le=new d.MxDbEntity).initUserObject(Se),j.addEntityImp(Le),(Ie=Ee.group)&&0<Ie.length&&Ie.forEach(function(Ye){be.groupDictionary.add(Ye).append(Le.objectId())}),[2]):[2,"continue"]}})},j=this,pe=0,De.label=1;case 1:return pe<ie?[5,I(pe)]:[3,4];case 2:De.sent(),De.label=3;case 3:return pe++,[3,1];case 4:return[2,new Promise(function(Re){Re(!0)})]}})})},re.prototype.getMxObject=function(){return this.mxObj},re.prototype.getGripManager=function(){return this.gripManager},re.prototype.getSelectManager=function(){return this.selectManager},re.prototype.clearMxCurrentSelect=function(){var ae=!1;return this.gripManager.removeAllGrips()&&(ae=!0),this.selectManager.removeAllEntity()&&(ae=!0),ae},re.prototype.eraseAllEntity=function(){this.mapIdToEntity.forEach(function(ae){ae.clearDisplayImp()}),this.mapIdToEntity=new Map,this.clearMxCurrentSelect()},re.prototype.intiDoc2Wold=function(ae){this.parentObject.matrix=ae,this.parentObject.matrixAutoUpdate=!1},re.prototype.initLayerTable=function(){this.mapNameToLayer=new Map,this.curLayer="0";var ae=new w.MxDbLayerTableRecord;ae.init(this.curLayer,this.parentObject),this.mapNameToLayer.set(this.curLayer,ae)},re.prototype.init=function(ae){this.mxObj=ae,this.scene=ae.getScene(),c.MxFun.removeThreejsObject(this.parentObject,this.scene),this.parentObject=new a.Object3D,this.parentObject.renderOrder=C.MxData.iMxEntityRenderOrder,this.scene.add(this.parentObject),this.initLayerTable()},re.prototype.getEntity=function(ae){return this.mapIdToEntity.get(ae)},re.prototype.isValidId=function(ae){return this.mapIdToEntity.has(ae)},re.prototype.setRenderOrder=function(ae){var ce=this.parentObject.renderOrder;return this.parentObject.renderOrder=ae,ce},re.prototype.eraseEntity=function(ae){this.gripManager.deleteGripData(ae),this.selectManager.deleteSelect(ae),this.mapIdToEntity.delete(ae)},re.prototype.showLayer=function(ae,ce){var ue=this.getLayer(ae);ue&&ue.setVisible(ce)},re.prototype.setCurrentLayer=function(ae){if(ae.length!=0)return this.curLayer=ae,this.addLayer(ae)},re.prototype.addLayer=function(ae){var ce=this.mapNameToLayer.get(ae);return ce||((ce=new w.MxDbLayerTableRecord).init(ae,this.parentObject),this.mapNameToLayer.set(ae,ce),ce)},re.prototype.getLayer=function(ae){return this.mapNameToLayer.get(ae)},re.prototype.addMxEntity=function(ae){if(ae.getImp())return ae.objectId();var ce=new d.MxDbEntity;return ce.initUserObject(ae),ae.initGuid(R.MxTools.generateUUID()),this.addEntityImp(ce)},re.prototype.addEntityImp=function(ae){return this.mapIdToEntity.set(this.idCount,ae),ae.setMxDatabase(this),ae.setObjectId(this.idCount),ae.getLayer().length==0&&ae.setLayer(this.curLayer),ae.upDisplay(),this.idCount++},re.prototype.getThreeJSParentObject=function(){return this.parentObject},re.prototype.getIntersectObjects=function(ae){var ce=new a.Raycaster;ce.linePrecision=this.mxObj.screenCoordLong2Doc(10);var ue=this.mxObj.getCanvas(),de=ue.clientWidth,A=ue.clientHeight,oe=new a.Vector2(ae.x/de*2-1,-ae.y/A*2+1);return ce.setFromCamera(oe,this.mxObj.getCamera()),ce.intersectObjects(this.parentObject.children,!0)},re);function re(){this.mapIdToEntity=new Map,this.mxObj=null,this.scene=null,this.idCount=1,this.parentObject=null,this.mapNameToLayer=new Map,this.curLayer="0",this.gripManager=new D.MxDbEntityGrip(this),this.selectManager=new v.MxDbEntitySelect(this),this.groupDictionary=new F.MxDbGroupDictionary}r.MxDbDatabase=ee},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxTools":45,"../MxType":46,"./MxDbEntity":71,"./MxDbEntityGrip":72,"./MxDbEntitySelect":73,"./MxDbGroup":74,"./MxDbLayerTable":75,three:19}],71:[function(e,t,r){var i=this&&this.__awaiter||function(ee,re,ae,ce){return new(ae=ae||Promise)(function(ue,de){function A(ie){try{le(ce.next(ie))}catch(I){de(I)}}function oe(ie){try{le(ce.throw(ie))}catch(I){de(I)}}function le(ie){var I;ie.done?ue(ie.value):((I=ie.value)instanceof ae?I:new ae(function(j){j(I)})).then(A,oe)}le((ce=ce.apply(ee,re||[])).next())})},l=this&&this.__generator||function(ee,re){var ae,ce,ue,de,A={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return de={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(de[Symbol.iterator]=function(){return this}),de;function oe(le){return function(ie){return function(I){if(ae)throw new TypeError("Generator is already executing.");for(;A;)try{if(ae=1,ce&&(ue=2&I[0]?ce.return:I[0]?ce.throw||((ue=ce.return)&&ue.call(ce),0):ce.next)&&!(ue=ue.call(ce,I[1])).done)return ue;switch(ce=0,ue&&(I=[2&I[0],ue.value]),I[0]){case 0:case 1:ue=I;break;case 4:return A.label++,{value:I[1],done:!1};case 5:A.label++,ce=I[1],I=[0];continue;case 7:I=A.ops.pop(),A.trys.pop();continue;default:if(!(ue=0<(ue=A.trys).length&&ue[ue.length-1])&&(I[0]===6||I[0]===2)){A=0;continue}if(I[0]===3&&(!ue||I[1]>ue[0]&&I[1]<ue[3])){A.label=I[1];break}if(I[0]===6&&A.label<ue[1]){A.label=ue[1],ue=I;break}if(ue&&A.label<ue[2]){A.label=ue[2],A.ops.push(I);break}ue[2]&&A.ops.pop(),A.trys.pop();continue}I=re.call(ee,A)}catch(j){I=[6,j],ce=0}finally{ae=ue=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([le,ie])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntity=r.MxDbEntityClassHierarchy=r.MxDbEntityUserObject=void 0;var a=e("three"),c=e("../Operate/McGiWorldDraw"),d=e("../MxManager"),D=e("../MxTools"),v=e("../MxType"),C=(f.prototype.getClosestPointTo=function(ee,re){return null},f.prototype.getTypeName=function(){return""},f.prototype.initGuid=function(ee){0<this.sGuid.length?console.log("mx: init guid error"):this.sGuid=ee},f.prototype.guid=function(){return this.sGuid},f.prototype.setLayer=function(ee){var re=this.getImp();re&&re.nodifySetLayer(),this.layer=ee},f.prototype.getLayer=function(){return this.layer},f.prototype.setDash=function(ee,re){this.dDashArray=ee,this.dDashRatio=re,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)},f.prototype.getDash=function(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}},f.prototype.setDashLineDisplay=function(ee){ee?(this.dDashArray=.03,this.dDashRatio=.1,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0)},f.prototype.isDashLineDisplay=function(){return 0<this.dDashArray&&0<this.dDashRatio},f.prototype.setLineWidthByPixels=function(ee){this.lineWidthByPixels=ee},f.prototype.getLineWidthByPixels=function(){return this.lineWidthByPixels},f.prototype.setLineWidth=function(ee){this.dLineWidth=ee},f.prototype.getLineWidth=function(){return this.dLineWidth},f.prototype.getMxObject=function(){var ee=this.getImp();return ee?ee.getMxObject():null},f.prototype.onViewChange=function(){return!1},f.prototype.getImp=function(){return this.MxDbEntityImp},f.prototype.upDisplay=function(){var ee=this.getImp();return!!ee&&ee.upDisplay()},f.prototype.erase=function(){var ee=this.getImp();return!!ee&&ee.erase()},f.prototype.setColor=function(ee){this.iColor=ee},f.prototype.getColor=function(){return this.iColor},f.prototype.setRenderOrder=function(ee){this.iRenderOrder=ee},f.prototype.getRenderOrder=function(){return this.iRenderOrder},f.prototype.onEndGripEidt=function(){},f.prototype.onStartGripEidt=function(){},f.prototype.dwgIn=function(ee){return this.iColor=ee.iColor,this.iRenderOrder=ee.iRenderOrder,this.opacity=ee.opacity,this.visible=ee.visible,this.dLineWidth=ee.lineWidth,this.lineWidthByPixels=ee.lineWidthByPixels,this.dDashArray=ee.dashArray,this.dDashRatio=ee.dashRatio,this.layer=ee.layer,ee.guid&&(this.sGuid=ee.guid),!0},f.prototype.dwgOut=function(ee){return ee.iColor=this.iColor,ee.iRenderOrder=this.iRenderOrder,ee.opacity=this.opacity,ee.visible=this.visible,ee.lineWidth=this.dLineWidth,ee.lineWidthByPixels=this.lineWidthByPixels,ee.dashArray=this.dDashArray,ee.dashRatio=this.dDashRatio,ee.layer=this.layer,ee.guid=this.sGuid,ee},f.prototype.clone=function(ee){var re=this.create(),ae={type:ee||v.MxType.MxCloneType.kClone};return this.dwgOut(ae),re.dwgIn(ae),re.sGuid="",re},f.prototype.init=function(){d.MxManager.getMxDbEntityClassHierarchy().init(this)},f.prototype.transformBy=function(ee){},f.prototype.objectId=function(){var ee=this.getImp();return ee?ee.objectId():0},f);function f(){this.iColor=16777215,this.iRenderOrder=d.MxData.iMxEntityRenderOrder,this.opacity=1,this.visible=!0,this.dLineWidth=0,this.lineWidthByPixels=!0,this.dDashArray=0,this.dDashRatio=0,this.layer="",this.sGuid=""}r.MxDbEntityUserObject=C;var w=(F.prototype.init=function(ee){var re=ee.getTypeName();this.mapType2Create.get(re)&&console.log("MxError:already has this class name "+re),this.mapType2Create.set(re,{type:0,createfun:ee})},F.prototype.initDynamic=function(ee){this.dynmaicCreate=ee},F.prototype.createMxEntity=function(ee){return i(this,void 0,void 0,function(){var re,ae;return l(this,function(ce){switch(ce.label){case 0:return(re=this.mapType2Create.get(ee))?[3,3]:this.dynmaicCreate?[4,this.dynmaicCreate(ee)]:[3,2];case 1:return(ae=ce.sent())?(this.mapType2Create.set(ee,{type:1,createfun:ae}),[2,new Promise(function(ue,de){ue(new ae)})]):[2,new Promise(function(ue,de){ue(null)})];case 2:return[2,new Promise(function(ue,de){ue(null)})];case 3:return re.type==0?[2,new Promise(function(ue,de){ue(re.createfun.create())})]:re.type==1?[2,new Promise(function(ue,de){ue(new re.createfun)})]:[2,new Promise(function(ue,de){ue(null)})]}})})},F);function F(){this.mapType2Create=new Map,this.dynmaicCreate=null}r.MxDbEntityClassHierarchy=w;var T=(R.prototype.setObjectId=function(ee){this.id=ee},R.prototype.nodifySetLayer=function(){this.layerObjectGroup&&this.clearDisplayImp()},R.prototype.setLayer=function(ee){this.userObject.setLayer(ee)},R.prototype.getLayer=function(){return this.userObject.getLayer()},R.prototype.setDirtyDisplay=function(ee){this.isDirtyDisplay=ee},R.prototype.getDirtyDisplay=function(){return this.isDirtyDisplay},R.prototype.setMxDatabase=function(ee){this.mxDatabase=ee},R.prototype.objectId=function(){return this.id},R.prototype.initUserObject=function(ee){(this.userObject=ee).MxDbEntityImp=this},R.prototype.upDisplay=function(){if(!this.mxDatabase)return console.log("mxassert(0) this.mxDatabase is null"),!1;this.updateDisplayImp(this.mxDatabase.getMxObject())},R.prototype.erase=function(){if(this.id==0)return!1;this.clearDisplayImp(),this.userObject=null,this.mxDatabase.eraseEntity(this.id),this.id=0,this.mxDatabase=null},R.prototype.clearDisplayImp=function(){this.layerObjectGroup&&(this.threeObjectGroup&&(this.threeObjectGroup.traverse(function(ee){ee.type==="Mesh"&&(ee.geometry.dispose(),ee.material.dispose())}),this.layerObjectGroup.remove(this.threeObjectGroup)),this.threeObjectGroup=null,this.layerObjectGroup=null)},R.prototype.updateDisplayImp=function(ee){if(this.clearDisplayImp(),this.userObject){if(this.userObject.visible){var re=this.mxDatabase.addLayer(this.userObject.getLayer());if(!re)return console.log("mxassert(0) this.layerRecord is null"),!1;this.threeObjectGroup=new a.Group;var ae=new c.McGiWorldDraw(ee,c.McGiWorldDrawType.kWorldDraw);ae.setupForEntity(this.userObject),this.worldDraw(ae);for(var ce=ae.getEntitys(),ue=ce.length,de=0;de<ue;de++){var A=ce[de];(A.MxDbEntity=this).threeObjectGroup.add(A)}this.layerObjectGroup=re.getGroup(),this.layerObjectGroup.add(this.threeObjectGroup)}}else D.MxTools.MxASSERT(!1,"this.userObject == null")},R.prototype.worldDraw=function(ee){this.userObject.worldDraw(ee)},R.prototype.getGripPoints=function(){return this.userObject.getGripPoints()},R.prototype.getClosestPointTo=function(ee,re){return this.userObject.getClosestPointTo(ee,re)},R.prototype.getUserObject=function(){return this.userObject},R.prototype.clone=function(ee){var re=new R;return re.initUserObject(this.userObject.clone(ee)),re},R.prototype.transformBy=function(ee){this.userObject.transformBy(ee)},R.prototype.setColor=function(ee){this.userObject.setColor(ee)},R.prototype.onEndGripEidt=function(){this.userObject.onEndGripEidt()},R.prototype.onStartGripEidt=function(){return this.userObject.onStartGripEidt()},R.prototype.getColor=function(){return this.userObject.getColor()},R.prototype.getMxObject=function(){return this.mxDatabase?this.mxDatabase.getMxObject():null},R.prototype.onViewChange=function(){return!!this.userObject&&this.userObject.onViewChange()},R);function R(){this.threeObjectGroup=null,this.userObject=null,this.mxDatabase=null,this.isDirtyDisplay=!1,this.layerObjectGroup=null,this.id=0}r.MxDbEntity=T},{"../MxManager":36,"../MxTools":45,"../MxType":46,"../Operate/McGiWorldDraw":50,three:19}],72:[function(e,t,r){var i,l=this&&this.__extends||(i=function(ue,de){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,oe){A.__proto__=oe}||function(A,oe){for(var le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&(A[le]=oe[le])})(ue,de)},function(ue,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function A(){this.constructor=ue}i(ue,de),ue.prototype=de===null?Object.create(de):(A.prototype=de.prototype,new A)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntityGrip=r.MxDbEntityGripJig=r.MxGetWordDrawxDataForThreeJsObject=r.MxGetMxDbEntitForThreeJsObject=r.MxDbEntityGripData=void 0;var a=e("three"),c=e("../MxFun"),d=e("../MxDrawData"),D=e("../Operate/MxJig"),v=e("../Operate/MxJigCmdManager"),C=e("../Operate/McGiWorldDraw"),f=e("../MxManager"),w=e("../MxType"),F=function(){this.threeObject=null};function T(ue){for(var de=null;ue&&!(de=ue.MxDbEntity)&&ue.parent;)ue=ue.parent;return de}r.MxDbEntityGripData=F,r.MxGetMxDbEntitForThreeJsObject=T,r.MxGetWordDrawxDataForThreeJsObject=function(ue){for(var de=null;ue&&!(de=ue.MxWordDrawXData)&&ue.parent;)ue=ue.parent;return de};var R,ee=(l(re,R=D.McEdJigCommand),re.prototype.sampler=function(){var ue=v.MxJigCmdManager.InType.kGetBegan|v.MxJigCmdManager.InType.kGetEnd,de=this.acquirePoint(ue);return de.status==v.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=de.pt),de.status},re.prototype.getTypeName=function(){return"MxGripEdit"},re.prototype.onStartCommand=function(){this.iscallOnStartCommand=!0,R.prototype.onStartCommand.call(this)},re.prototype.done=function(ue){if(ue==v.MxJigCmdManager.DragStatus.kNormal){var de=this.currPt.clone();de.sub(this.dragBasePt);for(var A=this.getMxObject(),oe=A.getMxDatabase(),le=A.getMxDatabase().getGripManager(),ie=this.grips.length,I=new Set,j=[],pe=0;pe<ie;pe++){var be=this.grips[pe],De=this.ents[pe];le.deleteGripData(De.objectId()),De.getUserObject().moveGripPointsAt(be.iIndex,de),le.addGripFromEntity(De),De.upDisplay(),I.add(De.objectId());var Re={id:De.objectId(),index:be.iIndex,curentPoint:this.currPt};j.push(Re)}A.updateDisplay(),0<j.length&&A.callEvent("objectGripEdit",j),oe.getSelectManager().upSelectDilsplay(I)}var Ee=this.ents.length;for(pe=0;pe<Ee;pe++)(De=this.ents[pe]).onEndGripEidt(),ue!=v.MxJigCmdManager.DragStatus.kNormal&&De.upDisplay();return v.MxJigCmdManager.DoneStatius.kExitCommand},re.prototype.upDisplay=function(){var ue=this.currPt.clone();if(ue.sub(this.dragBasePt),!(ue.length()<.001)){if(this.iscallOnStartCommand){for(var de=this.ents.length,A=0;A<de;A++){var oe=this.ents[A];this.aryParam.push(oe.onStartGripEidt())}this.iscallOnStartCommand=!1}var le=this.getMxObject(),ie=this.grips.length;for(A=0;A<ie;A++){var I=this.grips[A],j=(oe=this.ents[A],this.aryParam[A]),pe=oe.clone(w.MxType.MxCloneType.kDragClone);pe.getUserObject().moveGripPointsAt(I.iIndex,ue);var be=new C.McGiWorldDraw(le,C.McGiWorldDrawType.kDynDragDraw);be.setupForEntity(pe.getUserObject()),pe.worldDraw(be);var De=be.getEntitys(),Re=De.length,Ee=31;j&&j.renderOrder&&(Ee=j.renderOrder);for(var Se=0;Se<Re;Se++)this.drawEntity(De[Se],Ee)}}},re);function re(ue,de,A){var oe=R.call(this)||this;return oe.aryParam=[],oe.iscallOnStartCommand=!0,oe.dragBasePt=ue,oe.grips=de,oe.ents=A,oe.currPt=ue,oe.iscallOnStartCommand=!0,oe}r.MxDbEntityGripJig=ee;var ae=(ce.prototype.getAllSelect=function(){var ue=[];return this.mapGrips.forEach(function(de,A){ue.push(A)}),ue},ce.prototype.getParentObject=function(){return this.database.getMxObject().getTheTempDrawContainer()},ce.prototype.removeAllGrips=function(){if(this.mapGrips.size==0)return!1;this.database.getMxObject();var ue=this.getParentObject();return this.mapGrips.forEach(function(de,A,oe){for(var le=de.length,ie=0;ie<le;ie++){var I=de[ie];c.MxFun.removeThreejsObject(I.threeObject,ue)}}),this.mapGrips=new Map,!0},ce.prototype.deleteGripData=function(ue){var de=this.getParentObject(),A=this.mapGrips.get(ue);if(A)for(var oe=A.length,le=0;le<oe;le++){var ie=A[le];c.MxFun.removeThreejsObject(ie.threeObject,de)}this.mapGrips.delete(ue)},ce.prototype.createGripDisplayObject=function(ue){var de=this.database.getMxObject(),A=this.getParentObject();ue.geometry=new a.Geometry;var oe=de.screenCoordLong2Doc(d.MxDrawData.m_dGridWidth/2);ue.geometry.vertices.push(new a.Vector3(ue.point.x-oe,ue.point.y-oe,0)),ue.geometry.vertices.push(new a.Vector3(ue.point.x-oe,ue.point.y+oe,0)),ue.geometry.vertices.push(new a.Vector3(ue.point.x+oe,ue.point.y+oe,0)),ue.geometry.vertices.push(new a.Vector3(ue.point.x+oe,ue.point.y-oe,0)),ue.geometry.faces.push(new a.Face3(0,1,2)),ue.geometry.faces.push(new a.Face3(2,3,0)),ue.geometry.computeFaceNormals(),ue.geometry.computeVertexNormals();var le=new a.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:a.DoubleSide,opacity:.9}),ie=new a.Mesh(ue.geometry,le);ie.renderOrder=f.MxData.iGripRenderOrder,A.add(ie),ue.threeObject=ie},ce.prototype.addGripData=function(ue,de,A){var oe=this.mapGrips.get(ue);oe==null&&(oe=new Array,this.mapGrips.set(ue,oe));var le=new F;return le.iIndex=de,le.point=new a.Vector3(A.x,A.y,0),oe.push(le),le},ce.prototype.hitTest=function(ue){var de=this,A={grips:new Array,ents:new Array,pt:ue},oe=new a.Vector3(ue.x,ue.y,0),le=this.database.getMxObject(),ie=le.screenCoordLong2Doc(d.MxDrawData.m_dGridWidth/2);return this.mapGrips.forEach(function(I,j){for(var pe=I.length,be=0;be<pe;be++){var De=I[be];if(De.point.distanceTo(oe)<=ie){var Re=de.database.getEntity(j),Ee=!0;le.hasEvent("whetherEditTheGripPoint")&&(Ee=le.callEvent("whetherEditTheGripPoint",{entity:Re.getUserObject(),index:De.iIndex})),Ee&&(A.grips.push(De),A.ents.push(Re));break}}}),A},ce.prototype.onMouseLBDown=function(ue){if(!d.MxDrawData.m_isEnableGripEidt)return!1;var de=this.hitTest(ue);return de.grips.length!=0&&(c.MxFun.sendStringToExecute("Mx_FrontEndWebpageGripEdit",de),!0)},ce.prototype.gripEditImp=function(ue){var de=ue.grips,A=ue.ents,oe=ue.pt,le=new ee(oe,de,A);le.setDisableDynInput(!0),le.setDisableOsnap(!0),v.MxJigCmdManager.runCmd(le)},ce.prototype.doWindowsSelect=function(ue,de){},ce.prototype.addGripFromEntity=function(ue){if(d.MxDrawData.m_isEnableGripEidt){var de=ue.getGripPoints(),A=ue.objectId();this.deleteGripData(A);for(var oe=0;oe<de.length;oe++){var le=this.addGripData(A,oe,de[oe]);this.createGripDisplayObject(le)}}},ce.prototype.addSelect=function(ue){var de=this.database.getSelectManager(),A=!1;if(this.getAllSelect().forEach(function(I){I==ue&&(A=!0)}),!A){var oe=this.database.getMxObject(),le=oe.getMxEntity(ue);if(le){var ie=new Set;ie.add(ue),this.addGripFromEntity(le),de.upSelectDilsplay(ie),this.isCallingMxEntitySelectChange||(this.isCallingMxEntitySelectChange=!0,oe.callEvent("MxEntitySelectChange",this.getAllSelect()),this.isCallingMxEntitySelectChange=!1)}}},ce.prototype.doPointSelect=function(ue){for(var de=!1,A=this.database.getSelectManager(),oe=this.database.getMxObject(),le=A.isEmptySelect(),ie=!1,I=oe.screenCoordLong2Doc(.5*d.MxDrawData.m_dGridWidth),j=function(){d.MxDrawData.m_isMultipleSelect||(pe.removeAllGrips(),A.removeAllEntity());var be=pe.database.getIntersectObjects(ue);if(be.length==0)return oe.updateDisplay(),"break";var De=oe.screenCoord2Doc(ue.x,ue.y,ue.z),Re=pe,Ee=new Set;be.forEach(function(Ie){var st=T(Ie.object);if(st){var Ye=st.objectId();if(Re.database.isValidId(Ye)&&!Ee.has(Ye)){var Ke=st.getClosestPointTo(De,1),St=!1;(!Ke||Ke.distanceTo(De)<I)&&(St=!0),St&&(Ee.add(Ye),Re.addGripFromEntity(st))}}});var Se=new Set,Le=pe.database.getGroupDictionary();return Ee.forEach(function(Ie){Se.add(Ie),Le.getEntityInGroup(Ie).forEach(function(st){st.getAll().forEach(function(Ye){Re.database.isValidId(Ye)&&Se.add(Ye)})})}),ie=!0,A.upSelectDilsplay(Se),oe.updateDisplay(),de=!0,"break"},pe=this;j()!=="break";);return!ie&&le==A.isEmptySelect()||this.isCallingMxEntitySelectChange||(this.isCallingMxEntitySelectChange=!0,oe.callEvent("MxEntitySelectChange",this.getAllSelect()),this.isCallingMxEntitySelectChange=!1),de},ce);function ce(ue){this.database=null,this.mapGrips=new Map,this.isCallingMxEntitySelectChange=!1,this.database=ue}r.MxDbEntityGrip=ae},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxType":46,"../Operate/McGiWorldDraw":50,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],73:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntitySelect=void 0;var i=e("three"),l=e("../MxFun"),a=e("three.meshline"),c=e("../Operate/McGiWorldDraw"),d=e("../MxManager"),D=(v.prototype.setRenderOrder=function(C){this.iRenderOrder=C},v.prototype.getRenderOrder=function(){return this.iRenderOrder},v.prototype.setCanvasSize=function(C,f){this.canvasWidth==C&&this.canvasHeight==f||(this.canvasWidth=C,this.canvasHeight=f,this.material.resolution=new i.Vector2(this.canvasWidth,this.canvasHeight),this.material.needsUpdate=!0)},v.prototype.removeAllEntity=function(){var C=this.getParentObject();return this.mapIdToThreeObject.size!=0&&(this.mapIdToThreeObject.forEach(function(f){for(var w=f.length,F=0;F<w;F++)l.MxFun.removeThreejsObject(f[F],C)}),this.mapIdToThreeObject.clear(),!0)},v.prototype.isEmptySelect=function(){return this.mapIdToThreeObject.size==0},v.prototype.getParentObject=function(){return this.mxDatabase.getMxObject().getTheTempDrawContainer()},v.prototype.getAllSelect=function(){var C=[];return this.mapIdToThreeObject.forEach(function(f,w){C.push(w)}),C},v.prototype.setPrvCommandSelect=function(C){this.aryPrvCommandSelect=C},v.prototype.getPrvCommandSelect=function(){return this.aryPrvCommandSelect},v.prototype.deleteSelect=function(C){var f=this.getParentObject(),w=this.mapIdToThreeObject.get(C);if(w){for(var F=w.length,T=0;T<F;T++)l.MxFun.removeThreejsObject(w[T],f);this.mapIdToThreeObject.delete(C)}},v.prototype.upSelectDilsplayFromId=function(C){var f=new Set;f.add(C),this.upSelectDilsplay(f)},v.prototype.upSelectDilsplay=function(C){var f=this,w=new c.McGiWorldDrawSelect(this.mxDatabase.getMxObject(),this);C.forEach(function(F){f.deleteSelect(F);var T=f.mxDatabase.getEntity(F);T&&(w.setCurEntityId(F),T.worldDraw(w))})},v.prototype.addCircleDisplay=function(C,f,w){var F=new i.CircleGeometry(w,64,3,2*Math.PI);if(F.vertices.shift(),F.vertices.length!=0){F.vertices.push(F.vertices[0]);var T=3*F.vertices.length;if(T!=0){for(var R=this.getParentObject(),ee=new Float32Array(T),re=0,ae=0;re+2<T;re+=3,ae++)ee[re]=F.vertices[ae].x+f.x,ee[re+1]=F.vertices[ae].y+f.y,ee[re+2]=f.z;var ce=new a.MeshLine;ce.setGeometry(ee);var ue=new i.Mesh(ce.geometry,this.material);ue.renderOrder=this.iRenderOrder,R.add(ue);var de=this.mapIdToThreeObject.get(C);de||(de=new Array,this.mapIdToThreeObject.set(C,de)),de.push(ue)}}},v.prototype.addLineDisplay=function(C,f,w){var F=this.getParentObject(),T=new Float32Array(6);T[0]=f.x,T[1]=f.y,T[2]=0,T[3]=w.x,T[4]=w.y,T[5]=0;var R=new a.MeshLine;R.setGeometry(T);var ee=new i.Mesh(R.geometry,this.material);ee.renderOrder=this.iRenderOrder,F.add(ee);var re=this.mapIdToThreeObject.get(C);re||(re=new Array,this.mapIdToThreeObject.set(C,re)),re.push(ee)},v);function v(C){this.mapIdToThreeObject=new Map,this.canvasWidth=800,this.canvasHeight=500,this.mxDatabase=null,this.material=new a.MeshLineMaterial({useMap:!1,color:new i.Color(2641557),opacity:.8,resolution:new i.Vector2(800,500),sizeAttenuation:!1,lineWidth:10,transparent:!0,depthTest:!1}),this.iRenderOrder=d.MxData.iSelectRenderOrder,this.aryPrvCommandSelect=[],this.mxDatabase=C}r.MxDbEntitySelect=D},{"../MxFun":34,"../MxManager":36,"../Operate/McGiWorldDraw":50,three:19,"three.meshline":18}],74:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbGroupDictionary=r.MxDbGroup=void 0;var i=(l.prototype.name=function(){return this.sName},l.prototype.append=function(d){this.has(d)||this.setId.add(d)},l.prototype.clear=function(){this.setId=new Set},l.prototype.getAll=function(){var d=[];return this.setId.forEach(function(D){d.push(D)}),d},l.prototype.has=function(d){return this.setId.has(d)},l.prototype.delete=function(d){return this.setId.delete(d)},l);function l(d){this.setId=new Set,this.sName="",this.sName=d}r.MxDbGroup=i;var a=(c.prototype.getAt=function(d){return this.mapNameToGroup.get(d)},c.prototype.delete=function(d){return!!this.mapNameToGroup.has(d)&&this.mapNameToGroup.delete(d)},c.prototype.add=function(d){var D=this.mapNameToGroup.get(d);return D||(D=new i(d),this.mapNameToGroup.set(d,D),D)},c.prototype.dwgOut=function(d){var D=[];return this.mapNameToGroup.forEach(function(v,C){D.push(C)}),d.groups=D,d},c.prototype.dwgIn=function(d){var D=this;return d.groups.forEach(function(v){var C=new i(v);D.mapNameToGroup.set(v,C)}),!0},c.prototype.getEntityInGroup=function(d){var D=[];return this.mapNameToGroup.forEach(function(v){v.has(d)&&D.push(v)}),D},c.prototype.getEntityInGroupName=function(d){var D=[];return this.mapNameToGroup.forEach(function(v,C){v.has(d)&&D.push(C)}),D},c);function c(){this.mapNameToGroup=new Map}r.MxDbGroupDictionary=a},{}],75:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbLayerTableRecord=void 0;var i=e("three"),l=e("../MxManager"),a=(c.prototype.getGroup=function(){return this.group},c.prototype.getName=function(){return this.name},c.prototype.setName=function(d){this.name=d},c.prototype.setVisible=function(d){this.visible=d,this.group.visible=d},c.prototype.getVisible=function(){return this.visible},c.prototype.init=function(d,D){return this.name=d,this.group.renderOrder=l.MxData.iMxEntityRenderOrder,D.add(this.group),!0},c.prototype.dwgIn=function(d){return this.visible=d.visible,this.name=d.name,this.group.visible=this.visible,!0},c.prototype.dwgOut=function(d){return d.visible=this.visible,d.name=this.name,d},c);function c(){this.group=new i.Group,this.name="",this.visible=!0}r.MxDbLayerTableRecord=a},{"../MxManager":36,three:19}],76:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbTextureManager=void 0;var i=e("three"),l=(a.prototype.loadImage=function(c,d){var D=this.mapImageUrlToMaterialTexture.get(c);if(D)d(D);else{var v=this;new i.TextureLoader().load(c,function(C){var f=new i.MeshLambertMaterial({map:C,transparent:!0,side:i.DoubleSide});f.map&&(f.map.needsUpdate=!0),v.mapImageUrlToMaterialTexture.set(c,f),d&&d(f)},void 0,function(C){console.log(C),d&&d(null)})}},a);function a(){this.mapImageUrlToMaterialTexture=new Map}r.MxDbTextureManager=l},{three:19}],77:[function(e,t,r){var i,l=this&&this.__extends||(i=function(ue,de){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,oe){A.__proto__=oe}||function(A,oe){for(var le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&(A[le]=oe[le])})(ue,de)},function(ue,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function A(){this.constructor=ue}i(ue,de),ue.prototype=de===null?Object.create(de):(A.prototype=de.prototype,new A)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject3dThreeJS=r.MxDrawObject2dThreeJS=r.MxDrawMapBoxThreeJS=r.MxDrawThreeJS=r.MxThreeJSType=void 0;var a,c,d=e("three"),D=e("../Operate/MxJigCmdManager");(c=a=r.MxThreeJSType||(r.MxThreeJSType={}))[c.k2d=0]="k2d",c[c.k3d=1]="k3d",c[c.kMapBox=2]="kMapBox";var v=(C.prototype.addControlsChangeEvent=function(){var ue=this.mxObject;this.mxObject.getOrbitControls().addEventListener("change",function(){D.MxJigCmdManager.OnThreeControlsChage(),ue.callEvent("viewchange"),ue.getMxDatabase().onViewChange(),ue.getMcObject().isValid()&&ue.getMcObject().getGripManager().onControlsChage();var de=ue.getMxCAD();de&&de.getGrip().onControlsChage(),ue.updateDisplay()})},C.prototype.updateDisplay=function(ue){ue===void 0&&(ue=!1),this.mxObject.updateDisplayImplement(ue)},C.prototype.addWindowResizeEvent=function(){},C);function C(ue){this.mxObject=ue}r.MxDrawThreeJS=v;var f,w=(l(F,f=v),F.prototype.onInitThreejs=function(){var ue=this,de=new d.Camera,A=new d.Scene,oe=this.mapBox.canvas,le=new d.DirectionalLight(16777215);le.position.set(0,-70,100).normalize(),A.add(le);var ie=new d.DirectionalLight(16777215);ie.position.set(0,70,100).normalize(),A.add(ie);var I=new d.WebGLRenderer({canvas:oe,context:this.mapBox.gl});I.autoClear=!1,this.mxObject2d.mapBoxInitThreeJSObject(A,de,I);var j=this;this.mapBox.render=function(pe,be){var De=new d.Matrix4().fromArray(be);De.multiply(ue.matCADLogicalCoordToMap);var Re=new d.Vector3(0,0,0);if(Re.applyMatrix4(De),1<Re.z){var Ee=1-Re.z-1e-5;De=new d.Matrix4().makeTranslation(0,0,Ee).multiply(De)}j.mxObject2d.mapBoxRender(pe,De)}},F.prototype.alignCoordSys=function(ue,de,A,oe,le){var ie=1;0<de.x-ue.x&&0<oe.x-A.x&&(ie=(oe.x-A.x)/(de.x-ue.x));var I=new d.Matrix4;I.makeTranslation(-ue.x,-ue.y,-ue.z);var j=new d.Matrix4().scale(new d.Vector3(ie,-ie,ie));return new d.Matrix4().makeTranslation(A.x,A.y+(oe.y-A.y),le).multiply(j).multiply(I)},F.prototype.updateCameraDisplayRange=function(ue,de,A){var oe=new d.Matrix4;oe.makeTranslation(-this.mapBox.cadOrigin.x,-this.mapBox.cadOrigin.y,-this.mapBox.cadOrigin.z);var le=new d.Matrix4;le.makeTranslation(this.mapBox.mapOrigin.x,this.mapBox.mapOrigin.y,this.mapBox.elevation);var ie=new d.Matrix4;ie.makeScale(this.mapBox.mapLenInCADUnits,-this.mapBox.mapLenInCADUnits,this.mapBox.mapLenInCADUnits);var I=le.multiply(ie).multiply(oe),j=this.mxObject2d.getWorldToDoc();this.matCADLogicalCoordToMap=I.clone().multiply(j),this.mapBox.matCadToMap=I,this.mapBox.matMapToCad=new d.Matrix4,this.mapBox.matMapToCad.getInverse(I)},F.prototype.onInitScene=function(){},F.prototype.addControlsChangeEvent=function(){},F.prototype.addWindowResizeEvent=function(){},F.prototype.updateDisplay=function(ue){},F.prototype.getType=function(){return a.kMapBox},F);function F(ue,de){var A=f.call(this,de)||this;return A.matCADLogicalCoordToMap=new d.Matrix4,A.mapBox=ue,A.mxObject2d=de,A}r.MxDrawMapBoxThreeJS=w;var T,R=(l(ee,T=v),ee.prototype.onInitThreejs=function(){this.proxyObj.onInitThreejs()},ee.prototype.onInitScene=function(){this.proxyObj.onInitScene()},ee.prototype.getType=function(){return a.k2d},ee.prototype.updateCameraDisplayRange=function(ue,de,A){this.proxyObj.updateCameraDisplayRangeImp(ue,de,A)},ee);function ee(ue){var de=T.call(this,ue)||this;return de.proxyObj=ue,de}r.MxDrawObject2dThreeJS=R;var re,ae=(l(ce,re=v),ce.prototype.onInitThreejs=function(){this.proxyObj.onInitThreejs()},ce.prototype.onInitScene=function(){this.proxyObj.onInitScene()},ce.prototype.getType=function(){return a.k3d},ce.prototype.updateCameraDisplayRange=function(ue,de,A){},ce);function ce(ue){var de=re.call(this,ue)||this;return de.proxyObj=ue,de}r.MxDrawObject3dThreeJS=ae},{"../Operate/MxJigCmdManager":58,three:19}],78:[function(e,t,r){var i,l=this&&this.__extends||(i=function(ce,ue){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,A){de.__proto__=A}||function(de,A){for(var oe in A)Object.prototype.hasOwnProperty.call(A,oe)&&(de[oe]=A[oe])})(ce,ue)},function(ce,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Class extends value "+String(ue)+" is not a constructor or null");function de(){this.constructor=ce}i(ce,ue),ce.prototype=ue===null?Object.create(ue):(de.prototype=ue.prototype,new de)});Object.defineProperty(r,"__esModule",{value:!0}),r.McDrawGripJig=r.McDrawGrip=r.McDrawSlect=r.McDrawGripData=void 0;var a=e("three"),c=e("../MxFun"),d=e("../Operate/MxJig"),D=e("../Operate/MxJigCmdManager"),v=e("../MxManager"),C=e("../MxDrawData"),f=function(){this.threeObject=null};r.McDrawGripData=f;var w=(F.prototype.add=function(ce){this.setId.has(ce)||(this.setId.add(ce),this.mcObj.HighlightEntity(ce,!0))},F.prototype.remove=function(ce){this.setId.has(ce)&&(this.setId.delete(ce),this.mcObj.HighlightEntity(ce,!1))},F.prototype.removeAll=function(){var ce=this;this.setId.forEach(function(ue){ce.mcObj.HighlightEntity(ue,!1)}),this.setId.clear()},F);function F(ce){this.mcObj=null,this.setId=new Set,this.mcObj=ce}r.McDrawSlect=w;var T=(R.prototype.getParentObject=function(){return this.mxObj.getTheTempDrawContainer()},R.prototype.removeAllEntity=function(){var ce=this.getParentObject();this.mapGrips.forEach(function(ue,de,A){for(var oe=ue.length,le=0;le<oe;le++){var ie=ue[le];c.MxFun.removeThreejsObject(ie.threeObject,ce)}}),this.mapGrips=new Map},R.prototype.deleteGripData=function(ce){var ue=this.getParentObject(),de=this.mapGrips.get(ce);if(de)for(var A=de.length,oe=0;oe<A;oe++){var le=de[oe];c.MxFun.removeThreejsObject(le.threeObject,ue)}this.mapGrips.delete(ce)},R.prototype.addGripData=function(ce,ue,de,A){var oe=this.mapGrips.get(ce);oe==null&&(oe=new Array,this.mapGrips.set(ce,oe));var le=new f;return le.iIndex=ue,le.point=this.mxObj.cadCoord2Doc(de,A,0),oe.push(le),le},R.prototype.createGripDisplayObject=function(ce){var ue=this.getParentObject();ce.geometry=new a.Geometry;var de=this.mxObj.screenCoordLong2Doc(C.MxDrawData.m_dGridWidth/2);ce.geometry.vertices.push(new a.Vector3(ce.point.x-de,ce.point.y-de,0)),ce.geometry.vertices.push(new a.Vector3(ce.point.x-de,ce.point.y+de,0)),ce.geometry.vertices.push(new a.Vector3(ce.point.x+de,ce.point.y+de,0)),ce.geometry.vertices.push(new a.Vector3(ce.point.x+de,ce.point.y-de,0)),ce.geometry.faces.push(new a.Face3(0,1,2)),ce.geometry.faces.push(new a.Face3(2,3,0)),ce.geometry.computeFaceNormals(),ce.geometry.computeVertexNormals();var A=new a.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:a.DoubleSide,opacity:.9}),oe=new a.Mesh(ce.geometry,A);oe.renderOrder=v.MxData.iGripRenderOrder,ue.add(oe),ce.threeObject=oe},R.prototype.clearAll=function(){return this.mcSelect.removeAll(),this.mapGrips.size!=0&&(this.removeAllEntity(),!0)},R.prototype.onControlsChage=function(){if(this.mapGrips.size!=0){var ce=this.mxObj.screenCoordLong2Doc(8),ue=!1;this.mapGrips.forEach(function(de,A,oe){for(var le=de.length,ie=0;ie<le;ie++){var I=de[ie];I.geometry.vertices.length==4&&(I.geometry.vertices[0].x=I.point.x-ce,I.geometry.vertices[0].y=I.point.y-ce,I.geometry.vertices[1].x=I.point.x-ce,I.geometry.vertices[1].y=I.point.y+ce,I.geometry.vertices[2].x=I.point.x+ce,I.geometry.vertices[2].y=I.point.y+ce,I.geometry.vertices[3].x=I.point.x+ce,I.geometry.vertices[3].y=I.point.y-ce,I.geometry.computeFaceNormals(),I.geometry.computeVertexNormals(),I.geometry.verticesNeedUpdate=!0,ue=!0)}}),ue&&this.mxObj.resetRenderer()}},R.prototype.hitTest=function(ce){var ue={grips:new Array,ids:new Array,pt:ce},de=new a.Vector3(ce.x,ce.y,0),A=this.mxObj.screenCoordLong2Doc(32);return this.mapGrips.forEach(function(oe,le){for(var ie=oe.length,I=0;I<ie;I++){var j=oe[I];if(j.point.distanceTo(de)<=A){ue.grips.push(j),ue.ids.push(le);break}}}),ue},R.prototype.onMouseLBDown=function(ce){var ue=this.hitTest(ce);return ue.grips.length!=0&&(c.MxFun.sendStringToExecute("McDraw_GripEdit",ue),!0)},R.prototype.gripEditImp=function(ce){var ue=ce.grips,de=ce.ids,A=ce.pt,oe=new re(A,ue,de,this.mcObj);oe.setDisableDynInput(!0),oe.setDisableOsnap(!0),D.MxJigCmdManager.runCmd(oe)},R.prototype.addGridDisplay=function(ce){if(ce&&ce.length!=0)for(var ue=JSON.parse(ce),de=ue.vecEntityData.length,A=0;A<de;A++){var oe=ue.vecEntityData[A],le=oe.lIdIndex;this.deleteGripData(le);for(var ie=oe.vecGrip.length,I=0;I<ie;I++){var j=oe.vecGrip[I],pe=this.addGripData(le,j.iIndex,j.ptx,j.pty);this.createGripDisplayObject(pe)}}},R.prototype.upEntityGridDisplay=function(ce){if(ce==0)return!1;var ue=this.mcObj.mcObjectImp.IntelliSelect_getGridData(ce);return this.addGridDisplay(ue),!0},R.prototype.doPointSelect=function(ce){var ue=this.mxObj.screenCoord2Doc(ce.x,ce.y,0),de=this.mxObj.docCoord2Cad(ue.x,ue.y,ue.z),A=this.mcObj.mcObjectImp.IntelliSelect_PointSelect(de.x,de.y);if(A!=0)return this.mcSelect.removeAll(),this.mcSelect.add(A),this.upEntityGridDisplay(A)},R);function R(ce,ue){this.mxObj=null,this.mcObj=null,this.mcSelect=null,this.mapGrips=new Map,this.mxObj=ce,this.mcObj=ue,this.mcSelect=new w(ue)}r.McDrawGrip=T;var ee,re=(l(ae,ee=d.McEdJigCommand),ae.prototype.onExitCommand=function(ce){this.mcObj.DestroyObject(this.tempEntity),this.tempEntity=null,this.mcObj.DestroyObject(this.tempEntityWordDraw),this.tempEntityWordDraw=null,ee.prototype.onExitCommand.call(this,ce)},ae.prototype.sampler=function(){var ce=D.MxJigCmdManager.InType.kGetBegan,ue=this.acquirePoint(ce);if(ue.status==D.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=ue.pt,this.tempEntity)){var de=this.mcObj.mxObject.docCoord2Cad(ue.pt.x,ue.pt.y,ue.pt.z),A=this.mcObj.mxObject.docCoord2Cad(this.pt.x,this.pt.y,this.pt.z);this.mcObj.DestroyObject(this.tempEntityWordDraw),this.tempEntityWordDraw=this.tempEntity.Clone(),this.tempEntityWordDraw&&this.tempEntityWordDraw.moveGripPointsAt(this.grips[0].iIndex,de.x-A.x,de.y-A.y,de.z-A.z)}return ue.status},ae.prototype.getTypeName=function(){return"McDrawGripEdit"},ae.prototype.done=function(ce){if(ce==D.MxJigCmdManager.DragStatus.kNormal)for(var ue=this.mcObj.mxObject.docCoord2Cad(this.pt.x,this.pt.y,this.pt.z),de=this.mcObj.mxObject.docCoord2Cad(this.currPt.x,this.currPt.y,this.currPt.z),A=de.x-ue.x,oe=de.y-ue.y,le=this.getMxObject().getMcObject().getGripManager(),ie=this.grips.length,I=0;I<ie;I++){var j=this.grips[I],pe=this.ids[I],be=this.mcObj.ObjectIdToMdObjectImp(pe);be&&be.moveGripPointsAt(j.iIndex,A,oe,0),this.mcObj.DestroyObject(be),le.upEntityGridDisplay(pe)}return D.MxJigCmdManager.DoneStatius.kExitCommand},ae.prototype.upDisplay=function(){this.mcObj.onReadyJigUpdateDispla(),this.mcObj.onJigDrawEntityDisplay(this.tempEntityWordDraw)},ae);function ae(ce,ue,de,A){var oe=ee.call(this)||this;return oe.pt=ce,oe.grips=ue,oe.ids=de,oe.currPt=ce,oe.mcObj=A,oe.ids.length&&(oe.tempEntity=A.ObjectIdToMdObjectImp(oe.ids[0])),oe}r.McDrawGripJig=re},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],79:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McDrawObject=void 0;var i=e("../MxManager"),l=e("three"),a=e("../MxFun"),c=e("./McDrawGrip"),d=window;d.McDrawObjectEvent_openFileComplete=function(C,f,w){var F=i.MxManager.getMxObject(f);F&&F.getMcObject().openFileComplete(C,w)},d.McDrawObjectEvent_saveFileComplete=function(C,f,w){var F=i.MxManager.getMxObject(w);F&&F.getMcObject().saveFileComplete(C,f)};var D=(v.prototype.isValid=function(){return this.mcObjectImp!==null},v.prototype.ObjectIdToMdObjectImp=function(C){return this.mcObjectImp?this.mcObject.ObjectIdToMdObjectImp(C):null},v.prototype.DestroyObject=function(C){if(!this.mcObjectImp)return null;this.mcObject.DestroyObject(C)},v.prototype.onJigCommandEnd=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigCommandEnd()},v.prototype.onJigDrawEntityDisplay=function(C){C&&this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigDrawEntityDisplay(C)},v.prototype.onJigDrawEntityDisplay_line=function(C,f,w,F,T,R){if(this.mcObjectImp){var ee=new this.mxcppImp.MdDbLine,re=new this.mxcppImp.MdGePoint3d;re.x=C,re.y=f,re.z=w,ee.setStartPoint(re);var ae=new this.mxcppImp.MdGePoint3d;ae.x=F,ae.y=T,ae.z=R,ee.setEndPoint(ae),this.mcObjectImp.EntityTempWordDraw_onJigDrawEntityDisplay(ee)}},v.prototype.DrawEntity=function(C){C&&this.mcObjectImp&&this.mcObjectImp.DrawEntity(C)},v.prototype.HighlightEntity=function(C,f){if(!this.mcDrawUtility)return!1;this.mcDrawUtility.highlightEntity(C,f)},v.prototype.DrawLine=function(C,f,w,F,T,R){this.mcObjectImp&&this.mcObjectImp.DrawLine(C,f,w,F,T,R)},v.prototype.onReadyJigUpdateDispla=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onReadyJigUpdateDispla()},v.prototype.onJigClearDisplay=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigClearDisplay()},v.prototype.CloneMdDbObject=function(C){return this.mcObject?this.mcObject.CloneMdDbObject(C):null},v.prototype.ObjectIdToObject=function(C){return this.mcObject?this.mcObject.ObjectIdToObject(C):null},v.prototype.init=function(C,f){f.initMxObject(C),this.mxObject=C,this.mcObject=f,this.mcObjectImp=f.getImp(),this.mxcppImp=f.getMxCppImp(),this.grip=new c.McDrawGrip(C,this);var w=this;this.mxObject.addEvent("commandWillStart",function(){w.mcObjectImp.fireEventCommandStart()}),this.mcDrawUtility=new this.mxcppImp.McDrawUtility},v.prototype.setSize=function(C,f){if(!this.mcObjectImp)return!1;this.mcObjectImp.fireEventWindowSize(C,f)},v.prototype.getGripManager=function(){return this.grip},v.prototype.saveFileComplete=function(C,f){this.mcObjectImp&&this.mxObject.callSaveFileComplete(C,f)},v.prototype.openFileComplete=function(C,f){if(this.mcObjectImp){this.mcObjectImp.updataAppData();var w=this.mcObjectImp.getViewDataJsonParam();w=w.replace(/\\/g,"\\\\");try{var F=JSON.parse(w),T=this.mxObject;if(F!=null){T.intiDoc2Wold(new l.Matrix4),T.initCAD2Doc(JSON.parse(F.DToSMat)),T.updateCameraDisplayRange(new l.Vector3(F.pt1x,F.pt1y,0),new l.Vector3(F.pt2x,F.pt2y,0),F.viewangle),T.initAllLayoutName(JSON.parse(F.layout)),T.updateDisplay(!0);var R=a.MxFun.getUiObj();R!=null&&(R.SetLayoutData(F.layout),R.UpDisplayLayout())}}catch{console.log("getViewDataJsonParam exception")}this.mxObject.callOpenFileComplete(C,f)}},v.prototype.updateDisplay=function(){if(!this.mcObjectImp)return!1;var C=this.mxObject.getCamera();this.mxObject.getScene().background!==null&&console.log("mxerror: background must be empty");var f=new l.Matrix4;f.multiplyMatrices(C.matrixWorldInverse,this.mxObject.getDoc2World());var w=C.projectionMatrix;return this.mcObjectImp.updateDisplay(f.elements,w.elements)},v);function v(){this.grip=null,this.mcObjectImp=null,this.mxcppImp=null,this.mcObject=null,this.mcDrawUtility=null}r.McDrawObject=D},{"../MxFun":34,"../MxManager":36,"./McDrawGrip":78,three:19}]},{},[60])}function mxcadassemblyinit(){var e,t=(e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(e=e||__filename),function(r){var i,l,a;r=r||{},i||(i=r!==void 0?r:{}),i.ready=new Promise(function(jt,En){l=jt,a=En});var c,d,D,v,C,f,w=Object.assign({},i),F=typeof window=="object",T=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ee="";R?(ee=T?xxxxx("path").dirname(ee)+"/":__dirname+"/",f=()=>{C||(v=xxxxx("fs"),C=xxxxx("path"))},c=function(jt,En){var Xn=Ne(jt);return Xn?En?Xn:Xn.toString():(f(),jt=C.normalize(jt),v.readFileSync(jt,En?void 0:"utf8"))},D=jt=>((jt=c(jt,!0)).buffer||(jt=new Uint8Array(jt)),jt),d=(jt,En,Xn)=>{var Mr=Ne(jt);Mr&&En(Mr),f(),jt=C.normalize(jt),v.readFile(jt,function(Wr,jr){Wr?Xn(Wr):En(jr.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(jt){throw jt}),process.on("unhandledRejection",function(jt){throw jt}),i.inspect=function(){return"[Emscripten Module object]"}):(F||T)&&(T?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),e&&(ee=e),ee=ee.indexOf("blob:")!==0?ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=jt=>{try{var En=new XMLHttpRequest;return En.open("GET",jt,!1),En.send(null),En.responseText}catch(Wr){if(jt=Ne(jt)){En=[];for(var Xn=0;Xn<jt.length;Xn++){var Mr=jt[Xn];255<Mr&&(Mr&=255),En.push(String.fromCharCode(Mr))}return En.join("")}throw Wr}},T&&(D=jt=>{try{var En=new XMLHttpRequest;return En.open("GET",jt,!1),En.responseType="arraybuffer",En.send(null),new Uint8Array(En.response)}catch(Xn){if(jt=Ne(jt))return jt;throw Xn}}),d=(jt,En,Xn)=>{var Mr=new XMLHttpRequest;Mr.open("GET",jt,!0),Mr.responseType="arraybuffer",Mr.onload=()=>{if(Mr.status==200||Mr.status==0&&Mr.response)En(Mr.response);else{var Wr=Ne(jt);Wr?En(Wr.buffer):Xn()}},Mr.onerror=Xn,Mr.send(null)}),i.print||console.log.bind(console);var re,ae=i.printErr||console.warn.bind(console);function ce(){this.exports=function(jt){for(var En,Xn=new Uint8Array(123),Mr=25;Mr>=0;--Mr)Xn[48+Mr]=52+Mr,Xn[65+Mr]=Mr,Xn[97+Mr]=26+Mr;function Wr(jr,yi,Kr){for(var Co,Ce,ai=0,zo=yi,mr=Kr.length,zi=yi+(3*mr>>2)-(Kr[mr-2]=="=")-(Kr[mr-1]=="=");ai<mr;ai+=4)Co=Xn[Kr.charCodeAt(ai+1)],Ce=Xn[Kr.charCodeAt(ai+2)],jr[zo++]=Xn[Kr.charCodeAt(ai)]<<2|Co>>4,zo<zi&&(jr[zo++]=Co<<4|Ce>>2),zo<zi&&(jr[zo++]=Ce<<6|Xn[Kr.charCodeAt(ai+3)])}return Xn[43]=62,Xn[47]=63,function(jr){var yi=jr.a.buffer,Kr=new Int8Array(yi),Co=new Int16Array(yi),Ce=new Int32Array(yi),ai=new Uint8Array(yi),zo=new Uint32Array(yi),mr=new Float64Array(yi),zi=Math.imul,Yo=jr.abort,oa=jr.b,Rs=jr.c,ps=jr.d,ms=jr.e,Xa=jr.f,Fo=5245008;function gs(Be){var lt,Ve=0,at=0,Rt=0,Xt=0,Cn=0,_n=0,Jn=0,er=0,Cr=0,la=0;Fo=lt=Fo-16|0;e:{t:{n:{o:{i:{l:{r:{c:{u:{s:{a:{if((Be|=0)>>>0<=244){if(3&(Ve=(Xt=Ce[404])>>>(at=(_n=Be>>>0<11?16:Be+11&-8)>>>3|0)|0)){Be=(Cn=Ce[1664+(Ve=(Rt=at+(1&(-1^Ve))|0)<<3)>>2])+8|0,(0|(at=Ce[Cn+8>>2]))!=(0|(Ve=Ve+1656|0))?(Ce[at+12>>2]=Ve,Ce[Ve+8>>2]=at):Ce[404]=So(Rt)&Xt,Ve=Rt<<3,Ce[Cn+4>>2]=3|Ve,Ce[4+(Ve=Ve+Cn|0)>>2]=1|Ce[Ve+4>>2];break e}if((la=Ce[406])>>>0>=_n>>>0)break a;if(Ve){at=Be=(Ve=(0-(Be=(0-(Be=2<<at)|Be)&Ve<<at)&Be)-1|0)>>>12&16,at|=Be=(Ve=Ve>>>Be|0)>>>5&8,at|=Be=(Ve=Ve>>>Be|0)>>>2&4,Cr=Ce[1664+(Be=(at=((at|=Be=(Ve=Ve>>>Be|0)>>>1&2)|(Be=(Ve=Ve>>>Be|0)>>>1&1))+(Ve>>>Be|0)|0)<<3)>>2],(0|(Ve=Ce[Cr+8>>2]))!=(0|(Be=Be+1656|0))?(Ce[Ve+12>>2]=Be,Ce[Be+8>>2]=Ve):(Xt=So(at)&Xt,Ce[404]=Xt),Be=Cr+8|0,Ce[Cr+4>>2]=3|_n,Cn=(Ve=at<<3)-_n|0,Ce[4+(Rt=_n+Cr|0)>>2]=1|Cn,Ce[Ve+Cr>>2]=Cn,la&&(at=1656+((Ve=la>>>3|0)<<3)|0,Cr=Ce[409],(Ve=1<<Ve)&Xt?Ve=Ce[at+8>>2]:(Ce[404]=Ve|Xt,Ve=at),Ce[at+8>>2]=Cr,Ce[Ve+12>>2]=Cr,Ce[Cr+12>>2]=at,Ce[Cr+8>>2]=Ve),Ce[409]=Rt,Ce[406]=Cn;break e}if(!(Jn=Ce[405]))break a;for(at=Be=(Ve=(0-Jn&Jn)-1|0)>>>12&16,at|=Be=(Ve=Ve>>>Be|0)>>>5&8,at|=Be=(Ve=Ve>>>Be|0)>>>2&4,Ve=Ce[1920+(((at|=Be=(Ve=Ve>>>Be|0)>>>1&2)|(Be=(Ve=Ve>>>Be|0)>>>1&1))+(Ve>>>Be|0)<<2)>>2],Rt=(-8&Ce[Ve+4>>2])-_n|0,at=Ve;(Be=Ce[at+16>>2])||(Be=Ce[at+20>>2]);)Rt=(Cn=(at=(-8&Ce[Be+4>>2])-_n|0)>>>0<Rt>>>0)?at:Rt,Ve=Cn?Be:Ve,at=Be;if(er=Ce[Ve+24>>2],(0|(Cn=Ce[Ve+12>>2]))!=(0|Ve)){Be=Ce[Ve+8>>2],Ce[Be+12>>2]=Cn,Ce[Cn+8>>2]=Be;break t}if(!(Be=Ce[(at=Ve+20|0)>>2])){if(!(Be=Ce[Ve+16>>2]))break s;at=Ve+16|0}for(;Cr=at,Cn=Be,(Be=Ce[(at=Be+20|0)>>2])||(at=Cn+16|0,Be=Ce[Cn+16>>2]););Ce[Cr>>2]=0;break t}if(_n=-1,!(Be>>>0>4294967231)&&(_n=-8&(Be=Be+11|0),er=Ce[405])){Rt=0-_n|0,Xt=0,_n>>>0<256||(Xt=31,_n>>>0>16777215||(Be=Be>>>8|0,Be<<=Cr=Be+1048320>>>16&8,Xt=28+((Be=((Be<<=at=Be+520192>>>16&4)<<(Ve=Be+245760>>>16&2)>>>15|0)-(Ve|at|Cr)|0)<<1|_n>>>Be+21&1)|0)),at=Ce[1920+(Xt<<2)>>2];d:{h:{if(at)for(Be=0,Ve=_n<<((0|Xt)==31?0:25-(Xt>>>1|0)|0);;){if(!((Cr=(Jn=-8&Ce[at+4>>2])-_n|0)>>>0>=Rt>>>0)&&(Rt=Cr,Cn=at,(0|_n)==(0|Jn))){Rt=0,Be=at;break h}if(Cr=Ce[at+20>>2],at=Ce[16+((Ve>>>29&4)+at|0)>>2],Be=Cr?(0|Cr)==(0|at)?Be:Cr:Be,Ve<<=1,!at)break}else Be=0;if(!(Be|Cn)){if(Cn=0,!(Be=(0-(Be=2<<Xt)|Be)&er))break a;at=Be=(Ve=(Be&0-Be)-1|0)>>>12&16,at|=Be=(Ve=Ve>>>Be|0)>>>5&8,at|=Be=(Ve=Ve>>>Be|0)>>>2&4,Be=Ce[1920+(((at|=Be=(Ve=Ve>>>Be|0)>>>1&2)|(Be=(Ve=Ve>>>Be|0)>>>1&1))+(Ve>>>Be|0)<<2)>>2]}if(!Be)break d}for(;Rt=(at=(Ve=(-8&Ce[Be+4>>2])-_n|0)>>>0<Rt>>>0)?Ve:Rt,Cn=at?Be:Cn,Be=(Ve=Ce[Be+16>>2])||Ce[Be+20>>2];);}if(!(!Cn|Ce[406]-_n>>>0<=Rt>>>0)){if(Xt=Ce[Cn+24>>2],(0|Cn)!=(0|(Ve=Ce[Cn+12>>2]))){Be=Ce[Cn+8>>2],Ce[Be+12>>2]=Ve,Ce[Ve+8>>2]=Be;break n}if(!(Be=Ce[(at=Cn+20|0)>>2])){if(!(Be=Ce[Cn+16>>2]))break u;at=Cn+16|0}for(;Cr=at,Ve=Be,(Be=Ce[(at=Be+20|0)>>2])||(at=Ve+16|0,Be=Ce[Ve+16>>2]););Ce[Cr>>2]=0;break n}}}if((at=Ce[406])>>>0>=_n>>>0){Rt=Ce[409],(Ve=at-_n|0)>>>0>=16?(Ce[406]=Ve,Be=Rt+_n|0,Ce[409]=Be,Ce[Be+4>>2]=1|Ve,Ce[at+Rt>>2]=Ve,Ce[Rt+4>>2]=3|_n):(Ce[409]=0,Ce[406]=0,Ce[Rt+4>>2]=3|at,Ce[4+(Be=at+Rt|0)>>2]=1|Ce[Be+4>>2]),Be=Rt+8|0;break e}if((er=Ce[407])>>>0>_n>>>0){Ve=er-_n|0,Ce[407]=Ve,Be=(at=Ce[410])+_n|0,Ce[410]=Be,Ce[Be+4>>2]=1|Ve,Ce[at+4>>2]=3|_n,Be=at+8|0;break e}if(Be=0,Jn=_n+47|0,Ce[522]?at=Ce[524]:(Ce[525]=-1,Ce[526]=-1,Ce[523]=4096,Ce[524]=4096,Ce[522]=lt+12&-16^1431655768,Ce[527]=0,Ce[515]=0,at=4096),(at=(Cr=Jn+at|0)&(Cn=0-at|0))>>>0<=_n>>>0||(Rt=Ce[514])&&(Xt=(Ve=Ce[512])+at|0)>>>0>Rt>>>0|Ve>>>0>=Xt>>>0)break e;if(4&ai[2060])break l;a:{d:{if(Rt=Ce[410])for(Be=2064;;){if((Ve=Ce[Be>>2])>>>0<=Rt>>>0&Rt>>>0<Ve+Ce[Be+4>>2]>>>0)break d;if(!(Be=Ce[Be+8>>2]))break}if((0|(Ve=sa(0)))==-1||(Xt=at,(Be=(Rt=Ce[523])-1|0)&Ve&&(Xt=(at-Ve|0)+(Be+Ve&0-Rt)|0),Xt>>>0<=_n>>>0|Xt>>>0>2147483646)||(Rt=Ce[514])&&Rt>>>0<(Cn=(Be=Ce[512])+Xt|0)>>>0|Be>>>0>=Cn>>>0)break r;if((0|Ve)!=(0|(Be=sa(Xt))))break a;break i}if((Xt=Cn&Cr-er)>>>0>2147483646)break r;if((0|(Ve=sa(Xt)))==(Ce[Be>>2]+Ce[Be+4>>2]|0))break c;Be=Ve}if(!((0|Be)==-1|_n+48>>>0<=Xt>>>0)){if((Ve=(Ve=Ce[524])+(Jn-Xt|0)&0-Ve)>>>0>2147483646){Ve=Be;break i}if((0|sa(Ve))!=-1){Xt=Ve+Xt|0,Ve=Be;break i}sa(0-Xt|0);break r}if(Ve=Be,(0|Be)!=-1)break i;break r}Cn=0;break t}Ve=0;break n}if((0|Ve)!=-1)break i}Ce[515]=4|Ce[515]}if(at>>>0>2147483646||(0|(Ve=sa(at)))==-1|(0|(Be=sa(0)))==-1|Be>>>0<=Ve>>>0||(Xt=Be-Ve|0)>>>0<=_n+40>>>0)break o}Be=Ce[512]+Xt|0,Ce[512]=Be,Be>>>0>zo[513]&&(Ce[513]=Be);i:{l:{r:{if(Jn=Ce[410]){for(Be=2064;;){if(((Rt=Ce[Be>>2])+(at=Ce[Be+4>>2])|0)==(0|Ve))break r;if(!(Be=Ce[Be+8>>2]))break}break l}for((Be=Ce[408])>>>0<=Ve>>>0&&Be||(Ce[408]=Ve),Be=0,Ce[517]=Xt,Ce[516]=Ve,Ce[412]=-1,Ce[413]=Ce[522],Ce[519]=0;at=1656+(Rt=Be<<3)|0,Ce[Rt+1664>>2]=at,Ce[Rt+1668>>2]=at,(0|(Be=Be+1|0))!=32;);at=(Rt=Xt-40|0)-(Be=Ve+8&7?-8-Ve&7:0)|0,Ce[407]=at,Be=Be+Ve|0,Ce[410]=Be,Ce[Be+4>>2]=1|at,Ce[4+(Ve+Rt|0)>>2]=40,Ce[411]=Ce[526];break i}if(!(8&ai[Be+12|0]|Rt>>>0>Jn>>>0|Ve>>>0<=Jn>>>0)){Ce[Be+4>>2]=at+Xt,at=(Be=Jn+8&7?-8-Jn&7:0)+Jn|0,Ce[410]=at,Be=(Ve=Ce[407]+Xt|0)-Be|0,Ce[407]=Be,Ce[at+4>>2]=1|Be,Ce[4+(Ve+Jn|0)>>2]=40,Ce[411]=Ce[526];break i}}zo[408]>Ve>>>0&&(Ce[408]=Ve),at=Ve+Xt|0,Be=2064;l:{r:{c:{u:{s:{a:{for(;;){if((0|at)!=Ce[Be>>2]){if(Be=Ce[Be+8>>2])continue;break a}break}if(!(8&ai[Be+12|0]))break s}for(Be=2064;;){if((at=Ce[Be>>2])>>>0<=Jn>>>0&&(Cn=at+Ce[Be+4>>2]|0)>>>0>Jn>>>0)break u;Be=Ce[Be+8>>2]}}if(Ce[Be>>2]=Ve,Ce[Be+4>>2]=Ce[Be+4>>2]+Xt,Ce[4+(Cr=(Ve+8&7?-8-Ve&7:0)+Ve|0)>>2]=3|_n,_n=(Xt=at+(at+8&7?-8-at&7:0)|0)-(er=_n+Cr|0)|0,(0|Xt)==(0|Jn)){Ce[410]=er,Be=Ce[407]+_n|0,Ce[407]=Be,Ce[er+4>>2]=1|Be;break r}if(Ce[409]==(0|Xt)){Ce[409]=er,Be=Ce[406]+_n|0,Ce[406]=Be,Ce[er+4>>2]=1|Be,Ce[Be+er>>2]=Be;break r}if((3&(Be=Ce[Xt+4>>2]))==1){Cn=-8&Be;s:if(Be>>>0<=255){if(at=Ce[Xt+8>>2],Be=Be>>>3|0,(0|(Ve=Ce[Xt+12>>2]))==(0|at)){Ce[404]=Ce[404]&So(Be);break s}Ce[at+12>>2]=Ve,Ce[Ve+8>>2]=at}else{if(Jn=Ce[Xt+24>>2],(0|Xt)==(0|(Ve=Ce[Xt+12>>2])))if((Rt=Ce[(Be=Xt+20|0)>>2])||(Rt=Ce[(Be=Xt+16|0)>>2])){for(;at=Be,(Rt=Ce[(Be=(Ve=Rt)+20|0)>>2])||(Be=Ve+16|0,Rt=Ce[Ve+16>>2]););Ce[at>>2]=0}else Ve=0;else Be=Ce[Xt+8>>2],Ce[Be+12>>2]=Ve,Ce[Ve+8>>2]=Be;if(Jn){at=Ce[Xt+28>>2];a:{if(Ce[(Be=1920+(at<<2)|0)>>2]==(0|Xt)){if(Ce[Be>>2]=Ve,Ve)break a;Ce[405]=Ce[405]&So(at);break s}if(Ce[Jn+(Ce[Jn+16>>2]==(0|Xt)?16:20)>>2]=Ve,!Ve)break s}Ce[Ve+24>>2]=Jn,(Be=Ce[Xt+16>>2])&&(Ce[Ve+16>>2]=Be,Ce[Be+24>>2]=Ve),(Be=Ce[Xt+20>>2])&&(Ce[Ve+20>>2]=Be,Ce[Be+24>>2]=Ve)}}_n=Cn+_n|0,Xt=Xt+Cn|0}if(Ce[Xt+4>>2]=-2&Ce[Xt+4>>2],Ce[er+4>>2]=1|_n,Ce[_n+er>>2]=_n,_n>>>0<=255){Ve=1656+((Be=_n>>>3|0)<<3)|0,(at=Ce[404])&(Be=1<<Be)?Be=Ce[Ve+8>>2]:(Ce[404]=Be|at,Be=Ve),Ce[Ve+8>>2]=er,Ce[Be+12>>2]=er,Ce[er+12>>2]=Ve,Ce[er+8>>2]=Be;break r}if(Be=31,_n>>>0<=16777215&&(Be=_n>>>8|0,Be<<=Rt=Be+1048320>>>16&8,Be=28+((Be=((Be<<=at=Be+520192>>>16&4)<<(Ve=Be+245760>>>16&2)>>>15|0)-(Ve|at|Rt)|0)<<1|_n>>>Be+21&1)|0),Ce[er+28>>2]=Be,Ce[er+16>>2]=0,Ce[er+20>>2]=0,Rt=1920+(Be<<2)|0,(at=Ce[405])&(Ve=1<<Be)){for(Be=_n<<((0|Be)==31?0:25-(Be>>>1|0)|0),Ve=Ce[Rt>>2];;){if(at=Ve,(-8&Ce[Ve+4>>2])==(0|_n))break c;if(Ve=Be>>>29|0,Be<<=1,!(Ve=Ce[16+(Rt=at+(4&Ve)|0)>>2]))break}Ce[Rt+16>>2]=er,Ce[er+24>>2]=at}else Ce[405]=Ve|at,Ce[Rt>>2]=er,Ce[er+24>>2]=Rt;Ce[er+12>>2]=er,Ce[er+8>>2]=er;break r}for(at=(Rt=Xt-40|0)-(Be=Ve+8&7?-8-Ve&7:0)|0,Ce[407]=at,Be=Be+Ve|0,Ce[410]=Be,Ce[Be+4>>2]=1|at,Ce[4+(Ve+Rt|0)>>2]=40,Ce[411]=Ce[526],Ce[(at=(Be=(Cn+(Cn-39&7?39-Cn&7:0)|0)-47|0)>>>0<Jn+16>>>0?Jn:Be)+4>>2]=27,Be=Ce[519],Ce[at+16>>2]=Ce[518],Ce[at+20>>2]=Be,Be=Ce[517],Ce[at+8>>2]=Ce[516],Ce[at+12>>2]=Be,Ce[518]=at+8,Ce[517]=Xt,Ce[516]=Ve,Ce[519]=0,Be=at+24|0;Ce[Be+4>>2]=7,Ve=Be+8|0,Be=Be+4|0,Ve>>>0<Cn>>>0;);if((0|at)==(0|Jn))break i;if(Ce[at+4>>2]=-2&Ce[at+4>>2],Cn=at-Jn|0,Ce[Jn+4>>2]=1|Cn,Ce[at>>2]=Cn,Cn>>>0<=255){Ve=1656+((Be=Cn>>>3|0)<<3)|0,(at=Ce[404])&(Be=1<<Be)?Be=Ce[Ve+8>>2]:(Ce[404]=Be|at,Be=Ve),Ce[Ve+8>>2]=Jn,Ce[Be+12>>2]=Jn,Ce[Jn+12>>2]=Ve,Ce[Jn+8>>2]=Be;break i}if(Be=31,Ce[Jn+16>>2]=0,Ce[Jn+20>>2]=0,Cn>>>0<=16777215&&(Be=Cn>>>8|0,Be<<=Rt=Be+1048320>>>16&8,Be=28+((Be=((Be<<=at=Be+520192>>>16&4)<<(Ve=Be+245760>>>16&2)>>>15|0)-(Ve|at|Rt)|0)<<1|Cn>>>Be+21&1)|0),Ce[Jn+28>>2]=Be,Rt=1920+(Be<<2)|0,(at=Ce[405])&(Ve=1<<Be)){for(Be=Cn<<((0|Be)==31?0:25-(Be>>>1|0)|0),Ve=Ce[Rt>>2];;){if(at=Ve,(0|Cn)==(-8&Ce[Ve+4>>2]))break l;if(Ve=Be>>>29|0,Be<<=1,!(Ve=Ce[16+(Rt=at+(4&Ve)|0)>>2]))break}Ce[Rt+16>>2]=Jn,Ce[Jn+24>>2]=at}else Ce[405]=Ve|at,Ce[Rt>>2]=Jn,Ce[Jn+24>>2]=Rt;Ce[Jn+12>>2]=Jn,Ce[Jn+8>>2]=Jn;break i}Be=Ce[at+8>>2],Ce[Be+12>>2]=er,Ce[at+8>>2]=er,Ce[er+24>>2]=0,Ce[er+12>>2]=at,Ce[er+8>>2]=Be}Be=Cr+8|0;break e}Be=Ce[at+8>>2],Ce[Be+12>>2]=Jn,Ce[at+8>>2]=Jn,Ce[Jn+24>>2]=0,Ce[Jn+12>>2]=at,Ce[Jn+8>>2]=Be}if(!((Be=Ce[407])>>>0<=_n>>>0)){Ve=Be-_n|0,Ce[407]=Ve,Be=(at=Ce[410])+_n|0,Ce[410]=Be,Ce[Be+4>>2]=1|Ve,Ce[at+4>>2]=3|_n,Be=at+8|0;break e}}Ce[403]=48,Be=0;break e}n:if(Xt){at=Ce[Cn+28>>2];o:{if(Ce[(Be=1920+(at<<2)|0)>>2]==(0|Cn)){if(Ce[Be>>2]=Ve,Ve)break o;er=So(at)&er,Ce[405]=er;break n}if(Ce[Xt+(Ce[Xt+16>>2]==(0|Cn)?16:20)>>2]=Ve,!Ve)break n}Ce[Ve+24>>2]=Xt,(Be=Ce[Cn+16>>2])&&(Ce[Ve+16>>2]=Be,Ce[Be+24>>2]=Ve),(Be=Ce[Cn+20>>2])&&(Ce[Ve+20>>2]=Be,Ce[Be+24>>2]=Ve)}n:if(Rt>>>0<=15)Be=Rt+_n|0,Ce[Cn+4>>2]=3|Be,Ce[4+(Be=Be+Cn|0)>>2]=1|Ce[Be+4>>2];else if(Ce[Cn+4>>2]=3|_n,Ce[4+(Xt=Cn+_n|0)>>2]=1|Rt,Ce[Xt+Rt>>2]=Rt,Rt>>>0<=255)Ve=1656+((Be=Rt>>>3|0)<<3)|0,(at=Ce[404])&(Be=1<<Be)?Be=Ce[Ve+8>>2]:(Ce[404]=Be|at,Be=Ve),Ce[Ve+8>>2]=Xt,Ce[Be+12>>2]=Xt,Ce[Xt+12>>2]=Ve,Ce[Xt+8>>2]=Be;else{Be=31,Rt>>>0<=16777215&&(Be=Rt>>>8|0,Be<<=Cr=Be+1048320>>>16&8,Be=28+((Be=((Be<<=at=Be+520192>>>16&4)<<(Ve=Be+245760>>>16&2)>>>15|0)-(Ve|at|Cr)|0)<<1|Rt>>>Be+21&1)|0),Ce[Xt+28>>2]=Be,Ce[Xt+16>>2]=0,Ce[Xt+20>>2]=0,Ve=1920+(Be<<2)|0;o:{if((at=1<<Be)&er){for(Be=Rt<<((0|Be)==31?0:25-(Be>>>1|0)|0),at=Ce[Ve>>2];;){if((-8&Ce[(Ve=at)+4>>2])==(0|Rt))break o;if(at=Be>>>29|0,Be<<=1,!(at=Ce[16+(Cr=(4&at)+Ve|0)>>2]))break}Ce[Cr+16>>2]=Xt}else Ce[405]=at|er,Ce[Ve>>2]=Xt;Ce[Xt+24>>2]=Ve,Ce[Xt+12>>2]=Xt,Ce[Xt+8>>2]=Xt;break n}Be=Ce[Ve+8>>2],Ce[Be+12>>2]=Xt,Ce[Ve+8>>2]=Xt,Ce[Xt+24>>2]=0,Ce[Xt+12>>2]=Ve,Ce[Xt+8>>2]=Be}Be=Cn+8|0;break e}t:if(er){at=Ce[Ve+28>>2];n:{if(Ce[(Be=1920+(at<<2)|0)>>2]==(0|Ve)){if(Ce[Be>>2]=Cn,Cn)break n;Ce[405]=So(at)&Jn;break t}if(Ce[er+(Ce[er+16>>2]==(0|Ve)?16:20)>>2]=Cn,!Cn)break t}Ce[Cn+24>>2]=er,(Be=Ce[Ve+16>>2])&&(Ce[Cn+16>>2]=Be,Ce[Be+24>>2]=Cn),(Be=Ce[Ve+20>>2])&&(Ce[Cn+20>>2]=Be,Ce[Be+24>>2]=Cn)}Rt>>>0<=15?(Be=Rt+_n|0,Ce[Ve+4>>2]=3|Be,Ce[4+(Be=Be+Ve|0)>>2]=1|Ce[Be+4>>2]):(Ce[Ve+4>>2]=3|_n,Ce[4+(Cn=Ve+_n|0)>>2]=1|Rt,Ce[Rt+Cn>>2]=Rt,la&&(at=1656+((Be=la>>>3|0)<<3)|0,Cr=Ce[409],(Be=1<<Be)&Xt?Be=Ce[at+8>>2]:(Ce[404]=Be|Xt,Be=at),Ce[at+8>>2]=Cr,Ce[Be+12>>2]=Cr,Ce[Cr+12>>2]=at,Ce[Cr+8>>2]=Be),Ce[409]=Cn,Ce[406]=Rt),Be=Ve+8|0}return Fo=lt+16|0,0|Be}function ho(Be){var lt=0,Ve=0,at=0,Rt=0,Xt=0,Cn=0,_n=0;e:if(Be){Xt=(at=Be-8|0)+(Be=-8&(lt=Ce[Be-4>>2]))|0;t:if(!(1&lt)){if(!(3&lt)||(at=at-(lt=Ce[at>>2])|0)>>>0<zo[408])break e;if(Be=Be+lt|0,Ce[409]==(0|at)){if((3&(lt=Ce[Xt+4>>2]))==3)return Ce[406]=Be,Ce[Xt+4>>2]=-2&lt,Ce[at+4>>2]=1|Be,void(Ce[Be+at>>2]=Be)}else{if(lt>>>0<=255){if(Rt=Ce[at+8>>2],lt=lt>>>3|0,(0|(Ve=Ce[at+12>>2]))==(0|Rt)){Ce[404]=Ce[404]&So(lt);break t}Ce[Rt+12>>2]=Ve,Ce[Ve+8>>2]=Rt;break t}if(_n=Ce[at+24>>2],(0|at)==(0|(lt=Ce[at+12>>2])))if((Ve=Ce[(Rt=at+20|0)>>2])||(Ve=Ce[(Rt=at+16|0)>>2])){for(;Cn=Rt,(Ve=Ce[(Rt=(lt=Ve)+20|0)>>2])||(Rt=lt+16|0,Ve=Ce[lt+16>>2]););Ce[Cn>>2]=0}else lt=0;else Ve=Ce[at+8>>2],Ce[Ve+12>>2]=lt,Ce[lt+8>>2]=Ve;if(!_n)break t;Rt=Ce[at+28>>2];n:{if(Ce[(Ve=1920+(Rt<<2)|0)>>2]==(0|at)){if(Ce[Ve>>2]=lt,lt)break n;Ce[405]=Ce[405]&So(Rt);break t}if(Ce[_n+(Ce[_n+16>>2]==(0|at)?16:20)>>2]=lt,!lt)break t}if(Ce[lt+24>>2]=_n,(Ve=Ce[at+16>>2])&&(Ce[lt+16>>2]=Ve,Ce[Ve+24>>2]=lt),!(Ve=Ce[at+20>>2]))break t;Ce[lt+20>>2]=Ve,Ce[Ve+24>>2]=lt}}if(!(at>>>0>=Xt>>>0)&&1&(lt=Ce[Xt+4>>2])){t:{if(!(2&lt)){if(Ce[410]==(0|Xt)){if(Ce[410]=at,Be=Ce[407]+Be|0,Ce[407]=Be,Ce[at+4>>2]=1|Be,Ce[409]!=(0|at))break e;return Ce[406]=0,void(Ce[409]=0)}if(Ce[409]==(0|Xt))return Ce[409]=at,Be=Ce[406]+Be|0,Ce[406]=Be,Ce[at+4>>2]=1|Be,void(Ce[Be+at>>2]=Be);Be=(-8&lt)+Be|0;n:if(lt>>>0<=255){if(Rt=Ce[Xt+8>>2],lt=lt>>>3|0,(0|(Ve=Ce[Xt+12>>2]))==(0|Rt)){Ce[404]=Ce[404]&So(lt);break n}Ce[Rt+12>>2]=Ve,Ce[Ve+8>>2]=Rt}else{if(_n=Ce[Xt+24>>2],(0|Xt)==(0|(lt=Ce[Xt+12>>2])))if((Ve=Ce[(Rt=Xt+20|0)>>2])||(Ve=Ce[(Rt=Xt+16|0)>>2])){for(;Cn=Rt,(Ve=Ce[(Rt=(lt=Ve)+20|0)>>2])||(Rt=lt+16|0,Ve=Ce[lt+16>>2]););Ce[Cn>>2]=0}else lt=0;else Ve=Ce[Xt+8>>2],Ce[Ve+12>>2]=lt,Ce[lt+8>>2]=Ve;if(_n){Rt=Ce[Xt+28>>2];o:{if(Ce[(Ve=1920+(Rt<<2)|0)>>2]==(0|Xt)){if(Ce[Ve>>2]=lt,lt)break o;Ce[405]=Ce[405]&So(Rt);break n}if(Ce[_n+(Ce[_n+16>>2]==(0|Xt)?16:20)>>2]=lt,!lt)break n}Ce[lt+24>>2]=_n,(Ve=Ce[Xt+16>>2])&&(Ce[lt+16>>2]=Ve,Ce[Ve+24>>2]=lt),(Ve=Ce[Xt+20>>2])&&(Ce[lt+20>>2]=Ve,Ce[Ve+24>>2]=lt)}}if(Ce[at+4>>2]=1|Be,Ce[Be+at>>2]=Be,Ce[409]!=(0|at))break t;return void(Ce[406]=Be)}Ce[Xt+4>>2]=-2&lt,Ce[at+4>>2]=1|Be,Ce[Be+at>>2]=Be}if(Be>>>0<=255)return lt=1656+((Be=Be>>>3|0)<<3)|0,(Ve=Ce[404])&(Be=1<<Be)?Be=Ce[lt+8>>2]:(Ce[404]=Be|Ve,Be=lt),Ce[lt+8>>2]=at,Ce[Be+12>>2]=at,Ce[at+12>>2]=lt,void(Ce[at+8>>2]=Be);Rt=31,Ce[at+16>>2]=0,Ce[at+20>>2]=0,Be>>>0<=16777215&&(lt=Be>>>8|0,lt<<=Cn=lt+1048320>>>16&8,Rt=28+((lt=((lt<<=Rt=lt+520192>>>16&4)<<(Ve=lt+245760>>>16&2)>>>15|0)-(Ve|Rt|Cn)|0)<<1|Be>>>lt+21&1)|0),Ce[at+28>>2]=Rt,Cn=1920+(Rt<<2)|0;t:{n:{if((Ve=Ce[405])&(lt=1<<Rt)){for(Rt=Be<<((0|Rt)==31?0:25-(Rt>>>1|0)|0),lt=Ce[Cn>>2];;){if(Ve=lt,(-8&Ce[lt+4>>2])==(0|Be))break n;if(lt=Rt>>>29|0,Rt<<=1,!(lt=Ce[16+(Cn=Ve+(4&lt)|0)>>2]))break}Ce[Cn+16>>2]=at,Ce[at+24>>2]=Ve}else Ce[405]=lt|Ve,Ce[Cn>>2]=at,Ce[at+24>>2]=Cn;Ce[at+12>>2]=at,Ce[at+8>>2]=at;break t}Be=Ce[Ve+8>>2],Ce[Be+12>>2]=at,Ce[Ve+8>>2]=at,Ce[at+24>>2]=0,Ce[at+12>>2]=Ve,Ce[at+8>>2]=Be}Be=Ce[412]-1|0,Ce[412]=Be||-1}}}function Ya(Be,lt,Ve){var at,Rt=0,Xt=0;if(Ve>>>0>=512)return ps(0|Be,0|lt,0|Ve),Be;at=Be+Ve|0;e:if(3&(Be^lt))if(at>>>0<4)Ve=Be;else if((Rt=at-4|0)>>>0<Be>>>0)Ve=Be;else for(Ve=Be;Kr[0|Ve]=ai[0|lt],Kr[Ve+1|0]=ai[lt+1|0],Kr[Ve+2|0]=ai[lt+2|0],Kr[Ve+3|0]=ai[lt+3|0],lt=lt+4|0,Rt>>>0>=(Ve=Ve+4|0)>>>0;);else{t:if(3&Be)if(Ve)for(Ve=Be;;){if(Kr[0|Ve]=ai[0|lt],lt=lt+1|0,!(3&(Ve=Ve+1|0)))break t;if(!(Ve>>>0<at>>>0))break}else Ve=Be;else Ve=Be;if(!((Rt=-4&at)>>>0<64||(Xt=Rt+-64|0)>>>0<Ve>>>0))for(;Ce[Ve>>2]=Ce[lt>>2],Ce[Ve+4>>2]=Ce[lt+4>>2],Ce[Ve+8>>2]=Ce[lt+8>>2],Ce[Ve+12>>2]=Ce[lt+12>>2],Ce[Ve+16>>2]=Ce[lt+16>>2],Ce[Ve+20>>2]=Ce[lt+20>>2],Ce[Ve+24>>2]=Ce[lt+24>>2],Ce[Ve+28>>2]=Ce[lt+28>>2],Ce[Ve+32>>2]=Ce[lt+32>>2],Ce[Ve+36>>2]=Ce[lt+36>>2],Ce[Ve+40>>2]=Ce[lt+40>>2],Ce[Ve+44>>2]=Ce[lt+44>>2],Ce[Ve+48>>2]=Ce[lt+48>>2],Ce[Ve+52>>2]=Ce[lt+52>>2],Ce[Ve+56>>2]=Ce[lt+56>>2],Ce[Ve+60>>2]=Ce[lt+60>>2],lt=lt- -64|0,Xt>>>0>=(Ve=Ve- -64|0)>>>0;);if(Ve>>>0>=Rt>>>0)break e;for(;Ce[Ve>>2]=Ce[lt>>2],lt=lt+4|0,Rt>>>0>(Ve=Ve+4|0)>>>0;);}if(Ve>>>0<at>>>0)for(;Kr[0|Ve]=ai[0|lt],lt=lt+1|0,(0|at)!=(0|(Ve=Ve+1|0)););return Be}function jo(Be,lt){var Ve=0;if(lt&&(Kr[0|Be]=0,Kr[(Ve=Be+lt|0)-1|0]=0,!(lt>>>0<3||(Kr[Be+2|0]=0,Kr[Be+1|0]=0,Kr[Ve-3|0]=0,Kr[Ve-2|0]=0,lt>>>0<7||(Kr[Be+3|0]=0,Kr[Ve-4|0]=0,lt>>>0<9||(Ce[(Be=(Ve=0-Be&3)+Be|0)>>2]=0,Ce[(lt=(Ve=lt-Ve&-4)+Be|0)-4>>2]=0,Ve>>>0<9||(Ce[Be+8>>2]=0,Ce[Be+4>>2]=0,Ce[lt-8>>2]=0,Ce[lt-12>>2]=0,Ve>>>0<25||(Ce[Be+24>>2]=0,Ce[Be+20>>2]=0,Ce[Be+16>>2]=0,Ce[Be+12>>2]=0,Ce[lt-16>>2]=0,Ce[lt-20>>2]=0,Ce[lt-24>>2]=0,Ce[lt-28>>2]=0,(lt=(lt=Ve)-(Ve=4&Be|24)|0)>>>0<32))))))))for(Be=Be+Ve|0;Ce[Be+24>>2]=0,Ce[Be+28>>2]=0,Ce[Be+16>>2]=0,Ce[Be+20>>2]=0,Ce[Be+8>>2]=0,Ce[Be+12>>2]=0,Ce[Be>>2]=0,Ce[Be+4>>2]=0,Be=Be+32|0,(lt=lt-32|0)>>>0>31;);}function xa(Be){var lt,Ve=0,at=0,Rt=0;lt=0|Xa(8),Ce[lt>>2]=1348,Ce[lt>>2]=1392;e:{t:{if(3&(Ve=Be))for(;;){if(!ai[0|Ve])break t;if(!(3&(Ve=Ve+1|0)))break}for(;at=Ve,Ve=Ve+4|0,!((-1^(Rt=Ce[at>>2]))&Rt-16843009&-2139062144););if(Ve=at-Be|0,!(255&Rt))break e;for(;Rt=ai[at+1|0],at=Ve=at+1|0,Rt;);}Ve=Ve-Be|0}at=Eo(Ve+13|0),Ce[at+8>>2]=0,Ce[at+4>>2]=Ve,Ce[at>>2]=Ve,Ce[lt+4>>2]=Ya(at+12|0,Be,Ve+1|0),Ce[lt>>2]=1440,ms(0|lt,1472,1),Yo()}function Za(Be,lt,Ve,at){Kr[Be+53|0]=1;e:if(Ce[Be+4>>2]==(0|Ve)){Kr[Be+52|0]=1,Ve=Ce[Be+16>>2];t:{if(!Ve){if(Ce[Be+36>>2]=1,Ce[Be+24>>2]=at,Ce[Be+16>>2]=lt,(0|at)!=1)break e;if(Ce[Be+48>>2]==1)break t;break e}if((0|lt)==(0|Ve)){if((0|(Ve=Ce[Be+24>>2]))==2&&(Ce[Be+24>>2]=at,Ve=at),Ce[Be+48>>2]!=1)break e;if((0|Ve)==1)break t;break e}Ce[Be+36>>2]=Ce[Be+36>>2]+1}Kr[Be+54|0]=1}}function fo(Be,lt,Ve){var at=0;if(!Ve)return Ce[Be+4>>2]==Ce[lt+4>>2];if((0|Be)==(0|lt))return 1;at=Ce[Be+4>>2],Be=ai[0|at],Ve=Ce[lt+4>>2],lt=ai[0|Ve];e:if(!(!Be|(0|lt)!=(0|Be)))for(;;){if(lt=ai[Ve+1|0],!(Be=ai[at+1|0]))break e;if(Ve=Ve+1|0,at=at+1|0,(0|Be)!=(0|lt))break}return(0|Be)==(0|lt)}function aa(Be,lt,Ve){var at;if(!(at=Ce[Be+16>>2]))return Ce[Be+36>>2]=1,Ce[Be+24>>2]=Ve,void(Ce[Be+16>>2]=lt);e:{if((0|lt)==(0|at)){if(Ce[Be+24>>2]!=2)break e;return void(Ce[Be+24>>2]=Ve)}Kr[Be+54|0]=1,Ce[Be+24>>2]=2,Ce[Be+36>>2]=Ce[Be+36>>2]+1}}function sa(Be){var lt,Ve;return(Be=(lt=Ce[377])+(Ve=Be+3&-4)|0)>>>0<=lt>>>0&&Ve||Be>>>0>(yi.byteLength/65536|0)<<16>>>0&&!(0|oa(0|Be))?(Ce[403]=48,-1):(Ce[377]=Be,lt)}function Eo(Be){var lt=0;Be=Be||1;e:{for(;;){if(lt=gs(Be))break e;if(!(lt=Ce[528]))break;Ho[0|lt]()}Rs(),Yo()}return lt}function Ls(Be){var lt,Ve;return Ce[(Be|=0)>>2]=1392,lt=Ce[Be+4>>2]-12|0,Ve=Ce[lt+8>>2]-1|0,Ce[lt+8>>2]=Ve,(0|Ve)<0&&ho(lt),0|Be}function So(Be){var lt;return(-1>>>(lt=31&Be)&-2)<<lt|(-1<<(Be=0-Be&31)&-2)>>>Be}function Da(Be){(Be|=0)&&ho(Be)}function tl(Be){Ls(Be|=0),ho(Be)}function Is(Be){return 0|(Be|=0)}function ks(Be){ho(Be|=0)}function po(Be){}Wr(En=ai,1024,"dmVjdG9yAHN0ZDo6ZXhjZXB0aW9uAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAOgEAABaBAAA3AUAAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAAOgEAACIBAAAfAQAAAAAAACsBAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAAAAAAMAUAAAIAAAAKAAAABAAAAAUAAAAGAAAACwAAAAwAAAANAAAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAAOgEAAAIBQAArAQAAAAAAABgBQAADgAAAA8AAAAQAAAAU3Q5ZXhjZXB0aW9uAAAAAMAEAABQBQAAAAAAAIwFAAABAAAAEQAAABIAAABTdDExbG9naWNfZXJyb3IA6AQAAHwFAABgBQAAAAAAAMAFAAABAAAAEwAAABIAAABTdDEybGVuZ3RoX2Vycm9yAAAAAOgEAACsBQAAjAUAAFN0OXR5cGVfaW5mbwAAAADABAAAzAU="),Wr(En,1508,"UAhQ");var ba,Ho=((ba=[null,Ls,Is,ks,po,po,function(Be,lt,Ve){Ve|=0;var at,Rt=0,Xt=0,Cn=0,_n=0;if(Fo=at=Fo+-64|0,Rt=1,!fo(Be|=0,lt|=0,0)&&(Rt=0,lt)){Fo=Rt=Fo+-64|0,Xt=Ce[lt>>2],Cn=Ce[Xt-4>>2],_n=Ce[Xt-8>>2],Ce[Rt+20>>2]=0,Ce[Rt+16>>2]=1148,Ce[Rt+12>>2]=lt,Ce[Rt+8>>2]=1196,Xt=0,jo(Rt+24|0,39),lt=lt+_n|0;e:if(fo(Cn,1196,0))Ce[Rt+56>>2]=1,Ho[Ce[Ce[Cn>>2]+20>>2]](Cn,Rt+8|0,lt,lt,1,0),Xt=Ce[Rt+32>>2]==1?lt:0;else{Ho[Ce[Ce[Cn>>2]+24>>2]](Cn,Rt+8|0,lt,1,0);t:switch(Ce[Rt+44>>2]){case 0:Xt=Ce[Rt+48>>2]==1&&Ce[Rt+36>>2]==1&&Ce[Rt+40>>2]==1?Ce[Rt+28>>2]:0;break e;case 1:break t;default:break e}Ce[Rt+32>>2]!=1&&Ce[Rt+48>>2]|Ce[Rt+36>>2]!=1|Ce[Rt+40>>2]!=1||(Xt=Ce[Rt+24>>2])}Fo=Rt- -64|0,Rt=0,Xt&&(jo(4|(lt=at+8|0),52),Ce[at+56>>2]=1,Ce[at+20>>2]=-1,Ce[at+16>>2]=Be,Ce[at+8>>2]=Xt,Ho[Ce[Ce[Xt>>2]+28>>2]](Xt,lt,Ce[Ve>>2],1),(0|(Be=Ce[at+32>>2]))==1&&(Ce[Ve>>2]=Ce[at+24>>2]),Rt=(0|Be)==1)}return Fo=at- -64|0,0|Rt},function(Be,lt,Ve,at,Rt,Xt){Ve|=0,at|=0,Rt|=0,Xt|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],Xt)&&Za(lt,Ve,at,Rt)},function(Be,lt,Ve,at,Rt){if(Ve|=0,at|=0,Rt|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],Rt))Ce[lt+28>>2]==1|Ce[lt+4>>2]!=(0|Ve)||(Ce[lt+28>>2]=at);else e:if(fo(Be,Ce[lt>>2],Rt)){if(!(Ce[lt+16>>2]!=(0|Ve)&Ce[lt+20>>2]!=(0|Ve))){if((0|at)!=1)break e;return void(Ce[lt+32>>2]=1)}Ce[lt+20>>2]=Ve,Ce[lt+32>>2]=at,Ce[lt+40>>2]=Ce[lt+40>>2]+1,Ce[lt+36>>2]!=1|Ce[lt+24>>2]!=2||(Kr[lt+54|0]=1),Ce[lt+44>>2]=4}},function(Be,lt,Ve,at){Ve|=0,at|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],0)&&aa(lt,Ve,at)},ks,function(Be,lt,Ve,at,Rt,Xt){Ve|=0,at|=0,Rt|=0,Xt|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],Xt)?Za(lt,Ve,at,Rt):(Be=Ce[Be+8>>2],Ho[Ce[Ce[Be>>2]+20>>2]](Be,lt,Ve,at,Rt,Xt))},function(Be,lt,Ve,at,Rt){if(Ve|=0,at|=0,Rt|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],Rt))Ce[lt+28>>2]==1|Ce[lt+4>>2]!=(0|Ve)||(Ce[lt+28>>2]=at);else e:{if(fo(Be,Ce[lt>>2],Rt)){if(!(Ce[lt+16>>2]!=(0|Ve)&Ce[lt+20>>2]!=(0|Ve))){if((0|at)!=1)break e;return void(Ce[lt+32>>2]=1)}Ce[lt+32>>2]=at;t:if(Ce[lt+44>>2]!=4){if(Co[lt+52>>1]=0,Be=Ce[Be+8>>2],Ho[Ce[Ce[Be>>2]+20>>2]](Be,lt,Ve,Ve,1,Rt),ai[lt+53|0]){if(Ce[lt+44>>2]=3,!ai[lt+52|0])break t;break e}Ce[lt+44>>2]=4}if(Ce[lt+20>>2]=Ve,Ce[lt+40>>2]=Ce[lt+40>>2]+1,Ce[lt+36>>2]!=1|Ce[lt+24>>2]!=2)break e;return void(Kr[lt+54|0]=1)}Be=Ce[Be+8>>2],Ho[Ce[Ce[Be>>2]+24>>2]](Be,lt,Ve,at,Rt)}},function(Be,lt,Ve,at){Ve|=0,at|=0,fo(Be|=0,Ce[8+(lt|=0)>>2],0)?aa(lt,Ve,at):(Be=Ce[Be+8>>2],Ho[Ce[Ce[Be>>2]+28>>2]](Be,lt,Ve,at))},Is,ks,function(Be){return 1031},tl,function(Be){return Ce[4+(Be|=0)>>2]},tl]).grow=function(Be){var lt=this.length;return this.length=this.length+Be,lt},ba.set=function(Be,lt){this[Be]=lt},ba.get=function(Be){return this[Be]},ba);return{g:function(){},h:Da,i:function(){var Be;return Be=Eo(24),Ce[Be>>2]=0,Ce[Be+4>>2]=0,Ce[Be+16>>2]=0,Ce[Be+20>>2]=0,Ce[Be+8>>2]=0,Ce[Be+12>>2]=0,0|Be},j:function(Be,lt,Ve){var at;return Be=+Be,lt=+lt,Ve=+Ve,at=Eo(24),mr[at+16>>3]=Ve,mr[at+8>>3]=lt,mr[at>>3]=Be,0|at},k:function(Be,lt){lt|=0,mr[(Be|=0)>>3]=mr[Be>>3]+mr[lt>>3],mr[Be+8>>3]=mr[Be+8>>3]+mr[lt+8>>3],mr[Be+16>>3]=mr[Be+16>>3]+mr[lt+16>>3]},l:function(Be,lt){lt|=0,mr[(Be|=0)>>3]=mr[Be>>3]-mr[lt>>3],mr[Be+8>>3]=mr[Be+8>>3]-mr[lt+8>>3],mr[Be+16>>3]=mr[Be+16>>3]-mr[lt+16>>3]},m:function(Be){return+mr[(Be|=0)>>3]},n:function(Be,lt){lt=+lt,mr[(Be|=0)>>3]=lt},o:function(Be){return+mr[8+(Be|=0)>>3]},p:function(Be,lt){lt=+lt,mr[8+(Be|=0)>>3]=lt},q:function(Be){return+mr[16+(Be|=0)>>3]},r:function(Be,lt){lt=+lt,mr[16+(Be|=0)>>3]=lt},s:Da,t:function(){var Be;return Be=Eo(12),Ce[Be+8>>2]=0,Ce[Be>>2]=0,Ce[Be+4>>2]=0,0|Be},u:function(Be,lt){lt|=0;var Ve=0,at=0,Rt=0,Xt=0,Cn=0,_n=0;e:if((0|(Ve=Ce[4+(Be|=0)>>2]))==Ce[Be+8>>2]){t:{if((Rt=1+(Ve=(0|(_n=Ve-(at=Ce[Be>>2])|0))/24|0)|0)>>>0<178956971){if(Xt=Ve<<1,Rt=Ve>>>0<89478485?Rt>>>0<Xt>>>0?Xt:Rt:178956970){if(Rt>>>0>=178956971)break t;Xt=Eo(zi(Rt,24))}else Xt=0;Ve=Xt+zi(Ve,24)|0,Cn=Ce[lt+4>>2],Ce[Ve>>2]=Ce[lt>>2],Ce[Ve+4>>2]=Cn,Cn=Ce[lt+20>>2],Ce[Ve+16>>2]=Ce[lt+16>>2],Ce[Ve+20>>2]=Cn,Cn=Ce[lt+12>>2],Ce[Ve+8>>2]=Ce[lt+8>>2],Ce[Ve+12>>2]=Cn,lt=Ve+zi((0|_n)/-24|0,24)|0,(0|_n)>0&&Ya(lt,at,_n),Ce[Be+8>>2]=Xt+zi(Rt,24),Ce[Be+4>>2]=Ve+24,Ce[Be>>2]=lt,at&&ho(at);break e}xa(1024),Yo()}xa(1046),Yo()}else at=Ce[lt+4>>2],Ce[Ve>>2]=Ce[lt>>2],Ce[Ve+4>>2]=at,at=Ce[lt+20>>2],Ce[Ve+16>>2]=Ce[lt+16>>2],Ce[Ve+20>>2]=at,at=Ce[lt+12>>2],Ce[Ve+8>>2]=Ce[lt+8>>2],Ce[Ve+12>>2]=at,Ce[Be+4>>2]=Ve+24},v:function(Be){var lt=0;(Be|=0)&&((lt=Ce[Be>>2])&&(Ce[Be+4>>2]=lt,ho(lt)),ho(Be))},w:function(){return 0|Eo(1)},x:function(Be,lt){Be|=0;var Ve=0,at=0,Rt=0,Xt=0,Cn=0,_n=0,Jn=0,er=0,Cr=0,la=0,vs=0,Ra=0;if(Be=Ce[(lt|=0)>>2],(at=(0|(Rt=Ce[lt+4>>2]-Be|0))/24|0)>>>0>=2){if(!(Rt-24>>>0<24)){if(Ve=mr[Be+8>>3],lt=1,vs=1&(at=at-1|0),Cn=mr[Be>>3],Rt-48>>>0<24)_n=Ve;else for(Ra=-2&at,at=0,Jn=Cn,er=Ve;Rt=Be+zi(lt,24)|0,Xt=.5*((Cn=mr[Rt+24>>3])-(Cr=mr[Rt>>3]))*((la=mr[Rt+8>>3]-Ve)+((_n=mr[Rt+32>>3])-Ve))+(.5*(Cr-Jn)*(er-Ve+la)+Xt),lt=lt+2|0,Jn=Cn,er=_n,(0|Ra)!=(0|(at=at+2|0)););vs&&(Be=Be+zi(lt,24)|0,Xt=.5*(mr[Be>>3]-Cn)*(_n-Ve+(mr[Be+8>>3]-Ve))+Xt)}Ve=Xt<0?-Xt:Xt}else Ve=0;return+Ve},y:function(Be,lt,Ve){Be|=0,lt|=0;var at,Rt=0,Xt=0,Cn=0,_n=0,Jn=0,er=0,Cr=0;if((at=((Be=Ce[4+(Ve|=0)>>2])-(Ve=Ce[Ve>>2])|0)/24|0)>>>0>=3)for(Be=at-1|0,Rt=mr[lt+8>>3],Cr=mr[lt>>3],lt=0;_n=Ve+zi(Be,24)|0,Cn=mr[_n+8>>3],Be=lt,lt=Ve+zi(lt,24)|0,!(Rt<Cn&(Xt=mr[lt+8>>3])<=Rt)&(!(Rt>=Cn)|!(Rt<Xt))||Cr-(Jn=mr[lt>>3])<(Rt-Xt)*(mr[_n>>3]-Jn)/(Cn-Xt)&&(er^=1),(0|at)!=(0|(lt=Be+1|0)););return 1&er},z:Da,A:Ho,B:gs}}(jt)}(mt)}Object.assign(i,w),w=null,i.wasmBinary&&(re=i.wasmBinary),i.noExitRuntime;var ue=Error,de={};re=[],typeof de!="object"&&Ye("no native wasm support detected");var A,oe,le,ie,I,j=!1,pe=i.INITIAL_MEMORY||16777216;(A=i.wasmMemory?i.wasmMemory:new function(){this.buffer=new ArrayBuffer(pe/65536*65536)})&&(oe=A.buffer),pe=oe.byteLength;var be=oe;oe=be,i.HEAP8=le=new Int8Array(be),i.HEAP16=new Int16Array(be),i.HEAP32=I=new Int32Array(be),i.HEAPU8=ie=new Uint8Array(be),i.HEAPU16=new Uint16Array(be),i.HEAPU32=new Uint32Array(be),i.HEAPF32=new Float32Array(be),i.HEAPF64=new Float64Array(be);var De,Re=[],Ee=[],Se=[];function Le(){var jt=i.preRun.shift();Re.unshift(jt)}var Ie=0,st=null;function Ye(jt){throw i.onAbort&&i.onAbort(jt),ae(jt="Aborted("+jt+")"),j=!0,jt=new ue(jt+". Build with -s ASSERTIONS=1 for more info."),a(jt),jt}i.preloadedImages={},i.preloadedAudios={};var Ke,St="data:application/octet-stream;base64,";if(!(Ke="mxcadassembly_min.wasm").startsWith(St)){var ct=Ke;Ke=i.locateFile?i.locateFile(ct,ee):ee+ct}function Ct(){var jt=Ke;try{if(jt==Ke&&re)return new Uint8Array(re);var En=Ne(jt);if(En)return En;if(D)return D(jt);throw"both async and sync fetching of the wasm failed"}catch(Xn){Ye(Xn)}}function Pt(jt){for(;0<jt.length;){var En=jt.shift();if(typeof En=="function")En(i);else{var Xn=En.U;typeof Xn=="number"?En.G===void 0?an(Xn)():an(Xn)(En.G):Xn(En.G===void 0?null:En.G)}}}var bt=[];function an(jt){var En=bt[jt];return En||(jt>=bt.length&&(bt.length=jt+1),bt[jt]=En=De.get(jt)),En}var Yt=typeof atob=="function"?atob:function(jt){var En="",Xn=0;jt=jt.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var Mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(jt.charAt(Xn++)),Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(jt.charAt(Xn++)),jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(jt.charAt(Xn++)),yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(jt.charAt(Xn++));Mr=Mr<<2|Wr>>4,Wr=(15&Wr)<<4|jr>>2;var Kr=(3&jr)<<6|yi;En+=String.fromCharCode(Mr),jr!==64&&(En+=String.fromCharCode(Wr)),yi!==64&&(En+=String.fromCharCode(Kr))}while(Xn<jt.length);return En};function Ne(jt){if(jt.startsWith(St)){if(jt=jt.slice(St.length),typeof R=="boolean"&&R){var En=Buffer.from(jt,"base64");En=new Uint8Array(En.buffer,En.byteOffset,En.byteLength)}else try{var Xn=Yt(jt),Mr=new Uint8Array(Xn.length);for(jt=0;jt<Xn.length;++jt)Mr[jt]=Xn.charCodeAt(jt);En=Mr}catch{throw Error("Converting base64 string to bytes failed.")}return En}}var mt={f:function(jt){return Qt(jt+16)+16},e:function(jt,En,Xn){throw new function(Mr){this.C=Mr-16,this.P=function(Wr){I[this.C+4>>2]=Wr},this.M=function(Wr){I[this.C+8>>2]=Wr},this.N=function(){I[this.C>>2]=0},this.L=function(){le[this.C+12>>0]=0},this.O=function(){le[this.C+13>>0]=0},this.K=function(Wr,jr){this.P(Wr),this.M(jr),this.N(),this.L(),this.O()}}(jt).K(En,Xn),jt},c:function(){Ye("")},d:function(jt,En,Xn){ie.copyWithin(jt,En,En+Xn)},b:function(){Ye("OOM")},a:A};(function(){function jt(Wr){i.asm=Wr.exports,De=i.asm.A,Ee.unshift(i.asm.g),Ie--,i.monitorRunDependencies&&i.monitorRunDependencies(Ie),Ie==0&&st&&(Wr=st,st=null,Wr())}function En(Wr){jt(Wr.instance)}function Xn(Wr){return function(){if(!re&&(F||T)){if(typeof fetch=="function"&&!Ke.startsWith("file://"))return fetch(Ke,{credentials:"same-origin"}).then(function(jr){if(!jr.ok)throw"failed to load wasm binary file at '"+Ke+"'";return jr.arrayBuffer()}).catch(function(){return Ct()});if(d)return new Promise(function(jr,yi){d(Ke,function(Kr){jr(new Uint8Array(Kr))},yi)})}return Promise.resolve().then(function(){return Ct()})}().then(function(){return{then:function(jr){jr({instance:new ce})}}}).then(function(jr){return jr}).then(Wr,function(jr){ae("failed to asynchronously prepare wasm: "+jr),Ye(jr)})}var Mr={a:mt};if(Ie++,i.monitorRunDependencies&&i.monitorRunDependencies(Ie),i.instantiateWasm)try{return i.instantiateWasm(Mr,jt)}catch(Wr){return ae("Module.instantiateWasm callback failed with error: "+Wr),!1}(re||typeof de.instantiateStreaming!="function"||Ke.startsWith(St)||Ke.startsWith("file://")||typeof fetch!="function"?Xn(En):fetch(Ke,{credentials:"same-origin"}).then(function(Wr){return de.instantiateStreaming(Wr,Mr).then(En,function(jr){return ae("wasm streaming compile failed: "+jr),ae("falling back to ArrayBuffer instantiation"),Xn(En)})})).catch(a)})(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.g).apply(null,arguments)};var me,Ae=i._emscripten_bind_VoidPtr___destroy___0=function(){return(Ae=i._emscripten_bind_VoidPtr___destroy___0=i.asm.h).apply(null,arguments)},Oe=i._emscripten_bind_McGePoint3d_McGePoint3d_0=function(){return(Oe=i._emscripten_bind_McGePoint3d_McGePoint3d_0=i.asm.i).apply(null,arguments)},Pe=i._emscripten_bind_McGePoint3d_McGePoint3d_3=function(){return(Pe=i._emscripten_bind_McGePoint3d_McGePoint3d_3=i.asm.j).apply(null,arguments)},$e=i._emscripten_bind_McGePoint3d_op_add_1=function(){return($e=i._emscripten_bind_McGePoint3d_op_add_1=i.asm.k).apply(null,arguments)},tt=i._emscripten_bind_McGePoint3d_op_sub_1=function(){return(tt=i._emscripten_bind_McGePoint3d_op_sub_1=i.asm.l).apply(null,arguments)},qe=i._emscripten_bind_McGePoint3d_get_x_0=function(){return(qe=i._emscripten_bind_McGePoint3d_get_x_0=i.asm.m).apply(null,arguments)},dt=i._emscripten_bind_McGePoint3d_set_x_1=function(){return(dt=i._emscripten_bind_McGePoint3d_set_x_1=i.asm.n).apply(null,arguments)},ft=i._emscripten_bind_McGePoint3d_get_y_0=function(){return(ft=i._emscripten_bind_McGePoint3d_get_y_0=i.asm.o).apply(null,arguments)},Ft=i._emscripten_bind_McGePoint3d_set_y_1=function(){return(Ft=i._emscripten_bind_McGePoint3d_set_y_1=i.asm.p).apply(null,arguments)},it=i._emscripten_bind_McGePoint3d_get_z_0=function(){return(it=i._emscripten_bind_McGePoint3d_get_z_0=i.asm.q).apply(null,arguments)},zt=i._emscripten_bind_McGePoint3d_set_z_1=function(){return(zt=i._emscripten_bind_McGePoint3d_set_z_1=i.asm.r).apply(null,arguments)},pt=i._emscripten_bind_McGePoint3d___destroy___0=function(){return(pt=i._emscripten_bind_McGePoint3d___destroy___0=i.asm.s).apply(null,arguments)},ut=i._emscripten_bind_McGePoint3dArray_McGePoint3dArray_0=function(){return(ut=i._emscripten_bind_McGePoint3dArray_McGePoint3dArray_0=i.asm.t).apply(null,arguments)},Gt=i._emscripten_bind_McGePoint3dArray_append_1=function(){return(Gt=i._emscripten_bind_McGePoint3dArray_append_1=i.asm.u).apply(null,arguments)},hn=i._emscripten_bind_McGePoint3dArray___destroy___0=function(){return(hn=i._emscripten_bind_McGePoint3dArray___destroy___0=i.asm.v).apply(null,arguments)},vn=i._emscripten_bind_McGeTool_McGeTool_0=function(){return(vn=i._emscripten_bind_McGeTool_McGeTool_0=i.asm.w).apply(null,arguments)},Ot=i._emscripten_bind_McGeTool_calcArea_1=function(){return(Ot=i._emscripten_bind_McGeTool_calcArea_1=i.asm.x).apply(null,arguments)},rt=i._emscripten_bind_McGeTool_pointInPolyline_2=function(){return(rt=i._emscripten_bind_McGeTool_pointInPolyline_2=i.asm.y).apply(null,arguments)},xt=i._emscripten_bind_McGeTool___destroy___0=function(){return(xt=i._emscripten_bind_McGeTool___destroy___0=i.asm.z).apply(null,arguments)},Qt=i._malloc=function(){return(Qt=i._malloc=i.asm.B).apply(null,arguments)};function gn(){function jt(){if(!me&&(me=!0,i.calledRun=!0,!j)){if(Pt(Ee),l(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var En=i.postRun.shift();Se.unshift(En)}Pt(Se)}}if(!(0<Ie)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Le();Pt(Re),0<Ie||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),jt()},1)):jt())}}if(st=function jt(){me||gn(),me||(st=jt)},i.run=gn,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();function Nn(){}function Ar(jt){return(jt||Nn).F}function jn(jt,En){var Xn=Ar(En),Mr=Xn[jt];return Mr||((Mr=Object.create((En||Nn).prototype)).C=jt,Xn[jt]=Mr)}function Hn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ir(jt,En,Xn){jt&&typeof jt=="object"&&(jt=jt.C),En&&typeof En=="object"&&(En=En.C),Xn&&typeof Xn=="object"&&(Xn=Xn.C),this.C=jt===void 0?Oe():En===void 0?_emscripten_bind_McGePoint3d_McGePoint3d_1(jt):Xn===void 0?_emscripten_bind_McGePoint3d_McGePoint3d_2(jt,En):Pe(jt,En,Xn),Ar(ir)[this.C]=this}function vi(){this.C=ut(),Ar(vi)[this.C]=this}function di(){this.C=vn(),Ar(di)[this.C]=this}return gn(),Nn.prototype=Object.create(Nn.prototype),Nn.prototype.constructor=Nn,Nn.prototype.D=Nn,Nn.F={},i.WrapperObject=Nn,i.getCache=Ar,i.wrapPointer=jn,i.castObject=function(jt,En){return jn(jt.C,En)},i.NULL=jn(0),i.destroy=function(jt){if(!jt.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";jt.__destroy__(),delete Ar(jt.D)[jt.C]},i.compare=function(jt,En){return jt.C===En.C},i.getPointer=function(jt){return jt.C},i.getClass=function(jt){return jt.D},Hn.prototype=Object.create(Nn.prototype),Hn.prototype.constructor=Hn,Hn.prototype.D=Hn,Hn.F={},i.VoidPtr=Hn,Hn.prototype.__destroy__=function(){Ae(this.C)},ir.prototype=Object.create(Nn.prototype),ir.prototype.constructor=ir,ir.prototype.D=ir,ir.F={},i.McGePoint3d=ir,ir.prototype.op_add=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),$e(En,jt)},ir.prototype.op_sub=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),tt(En,jt)},ir.prototype.get_x=ir.prototype.H=function(){return qe(this.C)},ir.prototype.set_x=ir.prototype.R=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),dt(En,jt)},Object.defineProperty(ir.prototype,"x",{get:ir.prototype.H,set:ir.prototype.R}),ir.prototype.get_y=ir.prototype.I=function(){return ft(this.C)},ir.prototype.set_y=ir.prototype.S=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),Ft(En,jt)},Object.defineProperty(ir.prototype,"y",{get:ir.prototype.I,set:ir.prototype.S}),ir.prototype.get_z=ir.prototype.J=function(){return it(this.C)},ir.prototype.set_z=ir.prototype.T=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),zt(En,jt)},Object.defineProperty(ir.prototype,"z",{get:ir.prototype.J,set:ir.prototype.T}),ir.prototype.__destroy__=function(){pt(this.C)},vi.prototype=Object.create(Nn.prototype),vi.prototype.constructor=vi,vi.prototype.D=vi,vi.F={},i.McGePoint3dArray=vi,vi.prototype.append=vi.prototype.append=function(jt){var En=this.C;jt&&typeof jt=="object"&&(jt=jt.C),Gt(En,jt)},vi.prototype.__destroy__=function(){hn(this.C)},di.prototype=Object.create(Nn.prototype),di.prototype.constructor=di,di.prototype.D=di,di.F={},i.McGeTool=di,di.prototype.calcArea=function(jt){var En=this.C;return jt&&typeof jt=="object"&&(jt=jt.C),Ot(En,jt)},di.prototype.pointInPolyline=function(jt,En){var Xn=this.C;return jt&&typeof jt=="object"&&(jt=jt.C),En&&typeof En=="object"&&(En=En.C),!!rt(Xn,jt,En)},di.prototype.__destroy__=function(){xt(this.C)},r.ready});return typeof exports=="object"&&typeof module=="object"?module.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof exports=="object"&&(exports.mxcadassembly=t),t()}function registerMxDbEntity(){store$1.events.emit("MxDbEntityRegister")}const registerList=[];function addRegisterMxDbEntity(e){const t=()=>{!e.isRegister&&e.register&&e.register(),store$1.events.off("stateChange",t)};registerList.push(t)}const callRegisterMxDbEntityLists=()=>{registerList.forEach(e=>{e&&e()})};store$1.events.on("MxDbEntityRegister",callRegisterMxDbEntityLists);var __awaiter$j=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function rxInitMxEntity(){var e;(e=store$1.state.MxFun)===null||e===void 0||e.initDynamicCreate(dynamicCreateMxObject)}function loadCoreCode(){return __awaiter$j(this,void 0,void 0,function*(){return new Promise((e,t)=>__awaiter$j(this,void 0,void 0,function*(){try{if(store$1.state.MxFun)return console.error("mx loadCoreCode ady call"),void e();window.$=window.jQuery=yield dynamicImport("jquery"),window.MxDocumentReady=void 0,window.MxUiMain=r=>{const i=r("./MxFun").MxFun;window.THREE=i.getTHREE(),store$1.commit("setMxFun",i),store$1.events.emit("MxUiMain",r),window.MxUiMain=void 0},window.MxMain=r=>(store$1.events.emit("MxMain",r),window.MxMain=void 0,rxInitMxEntity(),registerMxDbEntity(),e(),0),mxcadassemblyinit().then(function(r){store$1.commit("setMxassembly",r)}),mxfun()}catch(r){t({code:"error",msg:r})}}))})}function createCanvas(e="mx-canvas"){const t=document.getElementById(e)||document.createElement("canvas");return t.id=e,t}function createCanvasParent(e=createCanvas()){let t;return e||(e=createCanvas()),e.parentNode?t=e.parentNode:(t=document.createElement("div")).appendChild(e),t}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",l=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",D="__lodash_hash_undefined__",v=500,C="__lodash_placeholder__",f=1,w=2,F=4,T=1,R=2,ee=1,re=2,ae=4,ce=8,ue=16,de=32,A=64,oe=128,le=256,ie=512,I=30,j="...",pe=800,be=16,De=1,Re=2,Ee=3,Se=1/0,Le=9007199254740991,Ie=17976931348623157e292,st=0/0,Ye=4294967295,Ke=Ye-1,St=Ye>>>1,ct=[["ary",oe],["bind",ee],["bindKey",re],["curry",ce],["curryRight",ue],["flip",ie],["partial",de],["partialRight",A],["rearg",le]],Ct="[object Arguments]",Pt="[object Array]",bt="[object AsyncFunction]",an="[object Boolean]",Yt="[object Date]",Ne="[object DOMException]",mt="[object Error]",me="[object Function]",Ae="[object GeneratorFunction]",Oe="[object Map]",Pe="[object Number]",$e="[object Null]",tt="[object Object]",qe="[object Promise]",dt="[object Proxy]",ft="[object RegExp]",Ft="[object Set]",it="[object String]",zt="[object Symbol]",pt="[object Undefined]",ut="[object WeakMap]",Gt="[object WeakSet]",hn="[object ArrayBuffer]",vn="[object DataView]",Ot="[object Float32Array]",rt="[object Float64Array]",xt="[object Int8Array]",Qt="[object Int16Array]",gn="[object Int32Array]",Nn="[object Uint8Array]",Ar="[object Uint8ClampedArray]",jn="[object Uint16Array]",Hn="[object Uint32Array]",ir=/\b__p \+= '';/g,vi=/\b(__p \+=) '' \+/g,di=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,En=/[&<>"']/g,Xn=RegExp(jt.source),Mr=RegExp(En.source),Wr=/<%-([\s\S]+?)%>/g,jr=/<%([\s\S]+?)%>/g,yi=/<%=([\s\S]+?)%>/g,Kr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Co=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/[\\^$.*+?()[\]{}|]/g,zo=RegExp(ai.source),mr=/^\s+/,zi=/\s/,Yo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oa=/\{\n\/\* \[wrapped with (.+)\] \*/,Rs=/,? & /,ps=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ms=/[()=,{}\[\]\/\s]/,Xa=/\\(\\)?/g,Fo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gs=/\w*$/,ho=/^[-+]0x[0-9a-f]+$/i,Ya=/^0b[01]+$/i,jo=/^\[object .+?Constructor\]$/,xa=/^0o[0-7]+$/i,Za=/^(?:0|[1-9]\d*)$/,fo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,aa=/($^)/,sa=/['\n\r\u2028\u2029\\]/g,Eo="\\ud800-\\udfff",Ls="\\u0300-\\u036f",So="\\ufe20-\\ufe2f",Da="\\u20d0-\\u20ff",tl=Ls+So+Da,Is="\\u2700-\\u27bf",ks="a-z\\xdf-\\xf6\\xf8-\\xff",po="\\xac\\xb1\\xd7\\xf7",ba="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ho="\\u2000-\\u206f",Be=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ve="\\ufe0e\\ufe0f",at=po+ba+Ho+Be,Rt="['\u2019]",Xt="["+Eo+"]",Cn="["+at+"]",_n="["+tl+"]",Jn="\\d+",er="["+Is+"]",Cr="["+ks+"]",la="[^"+Eo+at+Jn+Is+ks+lt+"]",vs="\\ud83c[\\udffb-\\udfff]",Ra="(?:"+_n+"|"+vs+")",Ka="[^"+Eo+"]",nl="(?:\\ud83c[\\udde6-\\uddff]){2}",Kl="[\\ud800-\\udbff][\\udc00-\\udfff]",Vs="["+lt+"]",Pc="\\u200d",wa="(?:"+Cr+"|"+la+")",gu="(?:"+Vs+"|"+la+")",rl="(?:"+Rt+"(?:d|ll|m|re|s|t|ve))?",vu="(?:"+Rt+"(?:D|LL|M|RE|S|T|VE))?",il=Ra+"?",Ns="["+Ve+"]?",Qa="(?:"+Pc+"(?:"+[Ka,nl,Kl].join("|")+")"+Ns+il+")*",ao="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ql="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ol=Ns+il+Qa,Gr="(?:"+[er,nl,Kl].join("|")+")"+ol,An="(?:"+[Ka+_n+"?",_n,nl,Kl,Xt].join("|")+")",xo=RegExp(Rt,"g"),zs=RegExp(_n,"g"),yu=RegExp(vs+"(?="+vs+")|"+An+ol,"g"),wi=RegExp([Vs+"?"+Cr+"+"+rl+"(?="+[Cn,Vs,"$"].join("|")+")",gu+"+"+vu+"(?="+[Cn,Vs+wa,"$"].join("|")+")",Vs+"?"+wa+"+"+rl,Vs+"+"+vu,Ql,ao,Jn,Gr].join("|"),"g"),Ci=RegExp("["+Pc+Eo+tl+Ve+"]"),Do=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ec=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],To=-1,Bi={};Bi[Ot]=Bi[rt]=Bi[xt]=Bi[Qt]=Bi[gn]=Bi[Nn]=Bi[Ar]=Bi[jn]=Bi[Hn]=!0,Bi[Ct]=Bi[Pt]=Bi[hn]=Bi[an]=Bi[vn]=Bi[Yt]=Bi[mt]=Bi[me]=Bi[Oe]=Bi[Pe]=Bi[tt]=Bi[ft]=Bi[Ft]=Bi[it]=Bi[ut]=!1;var Ai={};Ai[Ct]=Ai[Pt]=Ai[hn]=Ai[vn]=Ai[an]=Ai[Yt]=Ai[Ot]=Ai[rt]=Ai[xt]=Ai[Qt]=Ai[gn]=Ai[Oe]=Ai[Pe]=Ai[tt]=Ai[ft]=Ai[Ft]=Ai[it]=Ai[zt]=Ai[Nn]=Ai[Ar]=Ai[jn]=Ai[Hn]=!0,Ai[mt]=Ai[me]=Ai[ut]=!1;var gt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Fl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},La={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vd=parseFloat,es=parseInt,nc=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ca=typeof self=="object"&&self&&self.Object===Object&&self,ur=nc||ca||Function("return this")(),te=t&&!t.nodeType&&t,fe=te&&!0&&e&&!e.nodeType&&e,xe=fe&&fe.exports===te,Me=xe&&nc.process,ze=function(){try{var Tt=fe&&fe.require&&fe.require("util").types;return Tt||Me&&Me.binding&&Me.binding("util")}catch{}}(),He=ze&&ze.isArrayBuffer,Qe=ze&&ze.isDate,Mt=ze&&ze.isMap,wt=ze&&ze.isRegExp,Ut=ze&&ze.isSet,cn=ze&&ze.isTypedArray;function Dn(Tt,$t,sn){switch(sn.length){case 0:return Tt.call($t);case 1:return Tt.call($t,sn[0]);case 2:return Tt.call($t,sn[0],sn[1]);case 3:return Tt.call($t,sn[0],sn[1],sn[2])}return Tt.apply($t,sn)}function Zt(Tt,$t,sn,qn){for(var Sr=-1,ti=Tt==null?0:Tt.length;++Sr<ti;){var Ii=Tt[Sr];$t(qn,Ii,sn(Ii),Tt)}return qn}function dn(Tt,$t){for(var sn=-1,qn=Tt==null?0:Tt.length;++sn<qn&&$t(Tt[sn],sn,Tt)!==!1;);return Tt}function lr(Tt,$t){for(var sn=Tt==null?0:Tt.length;sn--&&$t(Tt[sn],sn,Tt)!==!1;);return Tt}function Ir(Tt,$t){for(var sn=-1,qn=Tt==null?0:Tt.length;++sn<qn;)if(!$t(Tt[sn],sn,Tt))return!1;return!0}function tr(Tt,$t){for(var sn=-1,qn=Tt==null?0:Tt.length,Sr=0,ti=[];++sn<qn;){var Ii=Tt[sn];$t(Ii,sn,Tt)&&(ti[Sr++]=Ii)}return ti}function Fn(Tt,$t){var sn=Tt==null?0:Tt.length;return!!sn&&Uo(Tt,$t,0)>-1}function Ei(Tt,$t,sn){for(var qn=-1,Sr=Tt==null?0:Tt.length;++qn<Sr;)if(sn($t,Tt[qn]))return!0;return!1}function kr(Tt,$t){for(var sn=-1,qn=Tt==null?0:Tt.length,Sr=Array(qn);++sn<qn;)Sr[sn]=$t(Tt[sn],sn,Tt);return Sr}function Zr(Tt,$t){for(var sn=-1,qn=$t.length,Sr=Tt.length;++sn<qn;)Tt[Sr+sn]=$t[sn];return Tt}function Fr(Tt,$t,sn,qn){var Sr=-1,ti=Tt==null?0:Tt.length;for(qn&&ti&&(sn=Tt[++Sr]);++Sr<ti;)sn=$t(sn,Tt[Sr],Sr,Tt);return sn}function so(Tt,$t,sn,qn){var Sr=Tt==null?0:Tt.length;for(qn&&Sr&&(sn=Tt[--Sr]);Sr--;)sn=$t(sn,Tt[Sr],Sr,Tt);return sn}function Jr(Tt,$t){for(var sn=-1,qn=Tt==null?0:Tt.length;++sn<qn;)if($t(Tt[sn],sn,Tt))return!0;return!1}var Mi=Ba("length");function Aa(Tt){return Tt.split("")}function Ia(Tt){return Tt.match(ps)||[]}function no(Tt,$t,sn){var qn;return sn(Tt,function(Sr,ti,Ii){if($t(Sr,ti,Ii))return qn=ti,!1}),qn}function Zo(Tt,$t,sn,qn){for(var Sr=Tt.length,ti=sn+(qn?1:-1);qn?ti--:++ti<Sr;)if($t(Tt[ti],ti,Tt))return ti;return-1}function Uo(Tt,$t,sn){return $t===$t?Eu(Tt,$t,sn):Zo(Tt,Go,sn)}function bo(Tt,$t,sn,qn){for(var Sr=sn-1,ti=Tt.length;++Sr<ti;)if(qn(Tt[Sr],$t))return Sr;return-1}function Go(Tt){return Tt!==Tt}function ji(Tt,$t){var sn=Tt==null?0:Tt.length;return sn?si(Tt,$t)/sn:st}function Ba(Tt){return function($t){return $t==null?r:$t[Tt]}}function Oc(Tt){return function($t){return Tt==null?r:Tt[$t]}}function Po(Tt,$t,sn,qn,Sr){return Sr(Tt,function(ti,Ii,hi){sn=qn?(qn=!1,ti):$t(sn,ti,Ii,hi)}),sn}function ka(Tt,$t){var sn=Tt.length;for(Tt.sort($t);sn--;)Tt[sn]=Tt[sn].value;return Tt}function si(Tt,$t){for(var sn,qn=-1,Sr=Tt.length;++qn<Sr;){var ti=$t(Tt[qn]);ti!==r&&(sn=sn===r?ti:sn+ti)}return sn}function Ma(Tt,$t){for(var sn=-1,qn=Array(Tt);++sn<Tt;)qn[sn]=$t(sn);return qn}function ys(Tt,$t){return kr($t,function(sn){return[sn,Tt[sn]]})}function Sl(Tt){return Tt&&Tt.slice(0,ea(Tt)+1).replace(mr,"")}function Oo(Tt){return function($t){return Tt($t)}}function js(Tt,$t){return kr($t,function(sn){return Tt[sn]})}function Va(Tt,$t){return Tt.has($t)}function rc(Tt,$t){for(var sn=-1,qn=Tt.length;++sn<qn&&Uo($t,Tt[sn],0)>-1;);return sn}function yd(Tt,$t){for(var sn=Tt.length;sn--&&Uo($t,Tt[sn],0)>-1;);return sn}function Oh(Tt,$t){for(var sn=Tt.length,qn=0;sn--;)Tt[sn]===$t&&++qn;return qn}var Na=Oc(gt),Ko=Oc(Fl);function Cs(Tt){return"\\"+tc[Tt]}function Cu(Tt,$t){return Tt==null?r:Tt[$t]}function Qo(Tt){return Ci.test(Tt)}function ts(Tt){return Do.test(Tt)}function Tl(Tt){for(var $t,sn=[];!($t=Tt.next()).done;)sn.push($t.value);return sn}function Pl(Tt){var $t=-1,sn=Array(Tt.size);return Tt.forEach(function(qn,Sr){sn[++$t]=[Sr,qn]}),sn}function Fa(Tt,$t){return function(sn){return Tt($t(sn))}}function mo(Tt,$t){for(var sn=-1,qn=Tt.length,Sr=0,ti=[];++sn<qn;){var Ii=Tt[sn];(Ii===$t||Ii===C)&&(Tt[sn]=C,ti[Sr++]=sn)}return ti}function al(Tt){var $t=-1,sn=Array(Tt.size);return Tt.forEach(function(qn){sn[++$t]=qn}),sn}function lo(Tt){var $t=-1,sn=Array(Tt.size);return Tt.forEach(function(qn){sn[++$t]=[qn,qn]}),sn}function Eu(Tt,$t,sn){for(var qn=sn-1,Sr=Tt.length;++qn<Sr;)if(Tt[qn]===$t)return qn;return-1}function za(Tt,$t,sn){for(var qn=sn+1;qn--;)if(Tt[qn]===$t)return qn;return qn}function ii(Tt){return Qo(Tt)?ic(Tt):Mi(Tt)}function Un(Tt){return Qo(Tt)?sl(Tt):Aa(Tt)}function ea(Tt){for(var $t=Tt.length;$t--&&zi.test(Tt.charAt($t)););return $t}var ta=Oc(La);function ic(Tt){for(var $t=yu.lastIndex=0;yu.test(Tt);)++$t;return $t}function sl(Tt){return Tt.match(yu)||[]}function Rh(Tt){return Tt.match(wi)||[]}var Or=function Tt($t){$t=$t==null?ur:Ro.defaults(ur.Object(),$t,Ro.pick(ur,ec));var sn=$t.Array,qn=$t.Date,Sr=$t.Error,ti=$t.Function,Ii=$t.Math,hi=$t.Object,ns=$t.RegExp,Wn=$t.String,$o=$t.TypeError,nt=sn.prototype,Bt=ti.prototype,kt=hi.prototype,mn=$t["__core-js_shared__"],Ht=Bt.toString,nn=kt.hasOwnProperty,bn=0,kn=function(){var E=/[^.]+$/.exec(mn&&mn.keys&&mn.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),Bn=kt.toString,xn=Ht.call(hi),fr=ur._,dr=ns("^"+Ht.call(nn).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hr=xe?$t.Buffer:r,qr=$t.Symbol,or=$t.Uint8Array,Si=Hr?Hr.allocUnsafe:r,Ki=Fa(hi.getPrototypeOf,hi),Lo=hi.create,Fi=kt.propertyIsEnumerable,ja=nt.splice,Es=qr?qr.isConcatSpreadable:r,ro=qr?qr.iterator:r,rs=qr?qr.toStringTag:r,ll=function(){try{var E=fa(hi,"defineProperty");return E({},"",{}),E}catch{}}(),Rc=$t.clearTimeout!==ur.clearTimeout&&$t.clearTimeout,xu=qn&&qn.now!==ur.Date.now&&qn.now,Cd=$t.setTimeout!==ur.setTimeout&&$t.setTimeout,Oi=Ii.ceil,Du=Ii.floor,Lc=hi.getOwnPropertySymbols,Jp=Hr?Hr.isBuffer:r,xs=$t.isFinite,Lh=nt.join,Ed=Fa(hi.keys,hi),nr=Ii.max,Io=Ii.min,bu=qn.now,Ic=$t.parseInt,Wo=Ii.random,$f=nt.reverse,Ih=fa($t,"DataView"),wu=fa($t,"Map"),ua=fa($t,"Promise"),da=fa($t,"Set"),Gi=fa($t,"WeakMap"),cl=fa(hi,"create"),ul=Gi&&new Gi,Hs={},kc=qs(Ih),xd=qs(wu),Vc=qs(ua),Yn=qs(da),Wf=qs(Gi),oc=qr?qr.prototype:r,Us=oc?oc.valueOf:r,Qr=oc?oc.toString:r;function et(E){if(Ti(E)&&!Vr(E)&&!(E instanceof ei)){if(E instanceof ko)return E;if(nn.call(E,"__wrapped__"))return rd(E)}return new ko(E)}var Nc=function(){function E(){}return function(O){if(!Ji(O))return{};if(Lo)return Lo(O);E.prototype=O;var he=new E;return E.prototype=r,he}}();function Dd(){}function ko(E,O){this.__wrapped__=E,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=r}et.templateSettings={escape:Wr,evaluate:jr,interpolate:yi,variable:"",imports:{_:et}},et.prototype=Dd.prototype,et.prototype.constructor=et,ko.prototype=Nc(Dd.prototype),ko.prototype.constructor=ko;function ei(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function bd(){var E=new ei(this.__wrapped__);return E.__actions__=ra(this.__actions__),E.__dir__=this.__dir__,E.__filtered__=this.__filtered__,E.__iteratees__=ra(this.__iteratees__),E.__takeCount__=this.__takeCount__,E.__views__=ra(this.__views__),E}function Jf(){if(this.__filtered__){var E=new ei(this);E.__dir__=-1,E.__filtered__=!0}else E=this.clone(),E.__dir__*=-1;return E}function qp(){var E=this.__wrapped__.value(),O=this.__dir__,he=Vr(E),Fe=O<0,Ue=he?E.length:0,ot=Cm(0,Ue,this.__views__),je=ot.start,Ze=ot.end,Et=Ze-je,Nt=Fe?Ze:je-1,ln=this.__iteratees__,tn=ln.length,fn=0,Sn=Io(Et,this.__takeCount__);if(!he||!Fe&&Ue==Et&&Sn==Et)return Ru(E,this.__actions__);var Kn=[];e:for(;Et--&&fn<Sn;){Nt+=O;for(var br=-1,Zn=E[Nt];++br<tn;){var hr=ln[br],wr=hr.iteratee,zr=hr.type,ui=wr(Zn);if(zr==Re)Zn=ui;else if(!ui){if(zr==De)continue e;break e}}Kn[fn++]=Zn}return Kn}ei.prototype=Nc(Dd.prototype),ei.prototype.constructor=ei;function ac(E){var O=-1,he=E==null?0:E.length;for(this.clear();++O<he;){var Fe=E[O];this.set(Fe[0],Fe[1])}}function qf(){this.__data__=cl?cl(null):{},this.size=0}function Xf(E){var O=this.has(E)&&delete this.__data__[E];return this.size-=O?1:0,O}function Yf(E){var O=this.__data__;if(cl){var he=O[E];return he===D?r:he}return nn.call(O,E)?O[E]:r}function Zf(E){var O=this.__data__;return cl?O[E]!==r:nn.call(O,E)}function Kf(E,O){var he=this.__data__;return this.size+=this.has(E)?0:1,he[E]=cl&&O===r?D:O,this}ac.prototype.clear=qf,ac.prototype.delete=Xf,ac.prototype.get=Yf,ac.prototype.has=Zf,ac.prototype.set=Kf;function Gs(E){var O=-1,he=E==null?0:E.length;for(this.clear();++O<he;){var Fe=E[O];this.set(Fe[0],Fe[1])}}function zc(){this.__data__=[],this.size=0}function is(E){var O=this.__data__,he=wd(O,E);if(he<0)return!1;var Fe=O.length-1;return he==Fe?O.pop():ja.call(O,he,1),--this.size,!0}function Ha(E){var O=this.__data__,he=wd(O,E);return he<0?r:O[he][1]}function Qf(E){return wd(this.__data__,E)>-1}function Xp(E,O){var he=this.__data__,Fe=wd(he,E);return Fe<0?(++this.size,he.push([E,O])):he[Fe][1]=O,this}Gs.prototype.clear=zc,Gs.prototype.delete=is,Gs.prototype.get=Ha,Gs.prototype.has=Qf,Gs.prototype.set=Xp;function dl(E){var O=-1,he=E==null?0:E.length;for(this.clear();++O<he;){var Fe=E[O];this.set(Fe[0],Fe[1])}}function Yp(){this.size=0,this.__data__={hash:new ac,map:new(wu||Gs),string:new ac}}function Zp(E){var O=Hl(this,E).delete(E);return this.size-=O?1:0,O}function Kp(E){return Hl(this,E).get(E)}function Qp(E){return Hl(this,E).has(E)}function em(E,O){var he=Hl(this,E),Fe=he.size;return he.set(E,O),this.size+=he.size==Fe?0:1,this}dl.prototype.clear=Yp,dl.prototype.delete=Zp,dl.prototype.get=Kp,dl.prototype.has=Qp,dl.prototype.set=em;function sc(E){var O=-1,he=E==null?0:E.length;for(this.__data__=new dl;++O<he;)this.add(E[O])}function tm(E){return this.__data__.set(E,D),this}function nm(E){return this.__data__.has(E)}sc.prototype.add=sc.prototype.push=tm,sc.prototype.has=nm;function Ds(E){var O=this.__data__=new Gs(E);this.size=O.size}function rm(){this.__data__=new Gs,this.size=0}function im(E){var O=this.__data__,he=O.delete(E);return this.size=O.size,he}function om(E){return this.__data__.get(E)}function am(E){return this.__data__.has(E)}function sm(E,O){var he=this.__data__;if(he instanceof Gs){var Fe=he.__data__;if(!wu||Fe.length<l-1)return Fe.push([E,O]),this.size=++he.size,this;he=this.__data__=new dl(Fe)}return he.set(E,O),this.size=he.size,this}Ds.prototype.clear=rm,Ds.prototype.delete=im,Ds.prototype.get=om,Ds.prototype.has=am,Ds.prototype.set=sm;function ep(E,O){var he=Vr(E),Fe=!he&&Zs(E),Ue=!he&&!Fe&&Ss(E),ot=!he&&!Fe&&!Ue&&Zl(E),je=he||Fe||Ue||ot,Ze=je?Ma(E.length,Wn):[],Et=Ze.length;for(var Nt in E)(O||nn.call(E,Nt))&&!(je&&(Nt=="length"||Ue&&(Nt=="offset"||Nt=="parent")||ot&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||as(Nt,Et)))&&Ze.push(Nt);return Ze}function tp(E){var O=E.length;return O?E[Bd(0,O-1)]:r}function lm(E,O){return $d(ra(E),lc(O,0,E.length))}function cm(E){return $d(ra(E))}function kh(E,O,he){(he!==r&&!Fs(E[O],he)||he===r&&!(O in E))&&hl(E,O,he)}function Au(E,O,he){var Fe=E[O];(!(nn.call(E,O)&&Fs(Fe,he))||he===r&&!(O in E))&&hl(E,O,he)}function wd(E,O){for(var he=E.length;he--;)if(Fs(E[he][0],O))return he;return-1}function um(E,O,he,Fe){return Ol(E,function(Ue,ot,je){O(Fe,Ue,he(Ue),je)}),Fe}function np(E,O){return E&&Ga(O,we(O),E)}function dm(E,O){return E&&Ga(O,_e(O),E)}function hl(E,O,he){O=="__proto__"&&ll?ll(E,O,{configurable:!0,enumerable:!0,value:he,writable:!0}):E[O]=he}function Vh(E,O){for(var he=-1,Fe=O.length,Ue=sn(Fe),ot=E==null;++he<Fe;)Ue[he]=ot?r:B(E,O[he]);return Ue}function lc(E,O,he){return E===E&&(he!==r&&(E=E<=he?E:he),O!==r&&(E=E>=O?E:O)),E}function os(E,O,he,Fe,Ue,ot){var je,Ze=O&f,Et=O&w,Nt=O&F;if(he&&(je=Ue?he(E,Fe,Ue,ot):he(E)),je!==r)return je;if(!Ji(E))return E;var ln=Vr(E);if(ln){if(je=Wu(E),!Ze)return ra(E,je)}else{var tn=Qi(E),fn=tn==me||tn==Ae;if(Ss(E))return Iu(E,Ze);if(tn==tt||tn==Ct||fn&&!Ue){if(je=Et||fn?{}:Ju(E),!Ze)return Et?Zh(E,dm(je,E)):Yh(E,np(je,E))}else{if(!Ai[tn])return Ue?E:{};je=eu(E,tn,Ze)}}ot||(ot=new Ds);var Sn=ot.get(E);if(Sn)return Sn;ot.set(E,je),fd(E)?E.forEach(function(Zn){je.add(os(Zn,O,he,Zn,E,ot))}):hd(E)&&E.forEach(function(Zn,hr){je.set(hr,os(Zn,O,he,hr,E,ot))});var Kn=Nt?Et?Cl:wo:Et?_e:we,br=ln?r:Kn(E);return dn(br||E,function(Zn,hr){br&&(hr=Zn,Zn=E[hr]),Au(je,hr,os(Zn,O,he,hr,E,ot))}),je}function rp(E){var O=we(E);return function(he){return Nh(he,E,O)}}function Nh(E,O,he){var Fe=he.length;if(E==null)return!Fe;for(E=hi(E);Fe--;){var Ue=he[Fe],ot=O[Ue],je=E[Ue];if(je===r&&!(Ue in E)||!ot(je))return!1}return!0}function Ad(E,O,he){if(typeof E!="function")throw new $o(c);return xl(function(){E.apply(r,he)},O)}function jc(E,O,he,Fe){var Ue=-1,ot=Fn,je=!0,Ze=E.length,Et=[],Nt=O.length;if(!Ze)return Et;he&&(O=kr(O,Oo(he))),Fe?(ot=Ei,je=!1):O.length>=l&&(ot=Va,je=!1,O=new sc(O));e:for(;++Ue<Ze;){var ln=E[Ue],tn=he==null?ln:he(ln);if(ln=Fe||ln!==0?ln:0,je&&tn===tn){for(var fn=Nt;fn--;)if(O[fn]===tn)continue e;Et.push(ln)}else ot(O,tn,Fe)||Et.push(ln)}return Et}var Ol=Xc(bs),fl=Xc(Hh,!0);function ip(E,O){var he=!0;return Ol(E,function(Fe,Ue,ot){return he=!!O(Fe,Ue,ot),he}),he}function _d(E,O,he){for(var Fe=-1,Ue=E.length;++Fe<Ue;){var ot=E[Fe],je=O(ot);if(je!=null&&(Ze===r?je===je&&!_o(je):he(je,Ze)))var Ze=je,Et=ot}return Et}function op(E,O,he,Fe){var Ue=E.length;for(he=Nr(he),he<0&&(he=-he>Ue?0:Ue+he),Fe=Fe===r||Fe>Ue?Ue:Nr(Fe),Fe<0&&(Fe+=Ue),Fe=he>Fe?0:jf(Fe);he<Fe;)E[he++]=O;return E}function zh(E,O){var he=[];return Ol(E,function(Fe,Ue,ot){O(Fe,Ue,ot)&&he.push(Fe)}),he}function co(E,O,he,Fe,Ue){var ot=-1,je=E.length;for(he||(he=qu),Ue||(Ue=[]);++ot<je;){var Ze=E[ot];O>0&&he(Ze)?O>1?co(Ze,O-1,he,Fe,Ue):Zr(Ue,Ze):Fe||(Ue[Ue.length]=Ze)}return Ue}var cc=Vu(),jh=Vu(!0);function bs(E,O){return E&&cc(E,O,we)}function Hh(E,O){return E&&jh(E,O,we)}function Hc(E,O){return tr(O,function(he){return Ts(E[he])})}function uc(E,O){O=ws(O,E);for(var he=0,Fe=O.length;E!=null&&he<Fe;)E=E[io(O[he++])];return he&&he==Fe?E:r}function ap(E,O,he){var Fe=O(E);return Vr(E)?Fe:Zr(Fe,he(E))}function na(E){return E==null?E===r?pt:$e:rs&&rs in hi(E)?Ep(E):ed(E)}function Uh(E,O){return E>O}function sp(E,O){return E!=null&&nn.call(E,O)}function hm(E,O){return E!=null&&O in hi(E)}function fm(E,O,he){return E>=Io(O,he)&&E<nr(O,he)}function Gh(E,O,he){for(var Fe=he?Ei:Fn,Ue=E[0].length,ot=E.length,je=ot,Ze=sn(ot),Et=1/0,Nt=[];je--;){var ln=E[je];je&&O&&(ln=kr(ln,Oo(O))),Et=Io(ln.length,Et),Ze[je]=!he&&(O||Ue>=120&&ln.length>=120)?new sc(je&&ln):r}ln=E[0];var tn=-1,fn=Ze[0];e:for(;++tn<Ue&&Nt.length<Et;){var Sn=ln[tn],Kn=O?O(Sn):Sn;if(Sn=he||Sn!==0?Sn:0,!(fn?Va(fn,Kn):Fe(Nt,Kn,he))){for(je=ot;--je;){var br=Ze[je];if(!(br?Va(br,Kn):Fe(E[je],Kn,he)))continue e}fn&&fn.push(Kn),Nt.push(Sn)}}return Nt}function lp(E,O,he,Fe){return bs(E,function(Ue,ot,je){O(Fe,he(Ue),ot,je)}),Fe}function _u(E,O,he){O=ws(O,E),E=El(E,O);var Fe=E==null?E:E[io(ma(O))];return Fe==null?r:Dn(Fe,E,he)}function cp(E){return Ti(E)&&na(E)==Ct}function pm(E){return Ti(E)&&na(E)==hn}function up(E){return Ti(E)&&na(E)==Yt}function $s(E,O,he,Fe,Ue){return E===O?!0:E==null||O==null||!Ti(E)&&!Ti(O)?E!==E&&O!==O:Uc(E,O,he,Fe,$s,Ue)}function Uc(E,O,he,Fe,Ue,ot){var je=Vr(E),Ze=Vr(O),Et=je?Pt:Qi(E),Nt=Ze?Pt:Qi(O);Et=Et==Ct?tt:Et,Nt=Nt==Ct?tt:Nt;var ln=Et==tt,tn=Nt==tt,fn=Et==Nt;if(fn&&Ss(E)){if(!Ss(O))return!1;je=!0,ln=!1}if(fn&&!ln)return ot||(ot=new Ds),je||Zl(E)?Cp(E,O,he,Fe,Ue,ot):Qh(E,O,Et,he,Fe,Ue,ot);if(!(he&T)){var Sn=ln&&nn.call(E,"__wrapped__"),Kn=tn&&nn.call(O,"__wrapped__");if(Sn||Kn){var br=Sn?E.value():E,Zn=Kn?O.value():O;return ot||(ot=new Ds),Ue(br,Zn,he,Fe,ot)}}return fn?(ot||(ot=new Ds),ym(E,O,he,Fe,Ue,ot)):!1}function mm(E){return Ti(E)&&Qi(E)==Oe}function $h(E,O,he,Fe){var Ue=he.length,ot=Ue,je=!Fe;if(E==null)return!ot;for(E=hi(E);Ue--;){var Ze=he[Ue];if(je&&Ze[2]?Ze[1]!==E[Ze[0]]:!(Ze[0]in E))return!1}for(;++Ue<ot;){Ze=he[Ue];var Et=Ze[0],Nt=E[Et],ln=Ze[1];if(je&&Ze[2]){if(Nt===r&&!(Et in E))return!1}else{var tn=new Ds;if(Fe)var fn=Fe(Nt,ln,Et,E,O,tn);if(!(fn===r?$s(ln,Nt,T|R,Fe,tn):fn))return!1}}return!0}function Wh(E){if(!Ji(E)||Yu(E))return!1;var O=Ts(E)?dr:jo;return O.test(qs(E))}function gm(E){return Ti(E)&&na(E)==ft}function dp(E){return Ti(E)&&Qi(E)==Ft}function Jh(E){return Ti(E)&&dd(E.length)&&!!Bi[na(E)]}function Bu(E){return typeof E=="function"?E:E==null?vo:typeof E=="object"?Vr(E)?Ws(E[0],E[1]):Su(E):In(E)}function Rl(E){if(!ss(E))return Ed(E);var O=[];for(var he in hi(E))nn.call(E,he)&&he!="constructor"&&O.push(he);return O}function hp(E){if(!Ji(E))return pa(E);var O=ss(E),he=[];for(var Fe in E)Fe=="constructor"&&(O||!nn.call(E,Fe))||he.push(Fe);return he}function Mu(E,O){return E<O}function Fu(E,O){var he=-1,Fe=ga(E)?sn(E.length):[];return Ol(E,function(Ue,ot,je){Fe[++he]=O(Ue,ot,je)}),Fe}function Su(E){var O=Gu(E);return O.length==1&&O[0][2]?Ku(O[0][0],O[0][1]):function(he){return he===E||$h(he,E,O)}}function Ws(E,O){return bc(E)&&Zu(O)?Ku(io(E),O):function(he){var Fe=B(he,E);return Fe===r&&Fe===O?ne(he,E):$s(O,Fe,T|R)}}function pl(E,O,he,Fe,Ue){E!==O&&cc(O,function(ot,je){if(Ue||(Ue=new Ds),Ji(ot))dc(E,O,je,he,pl,Fe,Ue);else{var Ze=Fe?Fe(Gl(E,je),ot,je+"",E,O,Ue):r;Ze===r&&(Ze=ot),kh(E,je,Ze)}},_e)}function dc(E,O,he,Fe,Ue,ot,je){var Ze=Gl(E,he),Et=Gl(O,he),Nt=je.get(Et);if(Nt){kh(E,he,Nt);return}var ln=ot?ot(Ze,Et,he+"",E,O,je):r,tn=ln===r;if(tn){var fn=Vr(Et),Sn=!fn&&Ss(Et),Kn=!fn&&!Sn&&Zl(Et);ln=Et,fn||Sn||Kn?Vr(Ze)?ln=Ze:Wi(Ze)?ln=ra(Ze):Sn?(tn=!1,ln=Iu(Et,!0)):Kn?(tn=!1,ln=kd(Et,!0)):ln=[]:fu(Et)||Zs(Et)?(ln=Ze,Zs(Ze)?ln=Hf(Ze):(!Ji(Ze)||Ts(Ze))&&(ln=Ju(Et))):tn=!1}tn&&(je.set(Et,ln),Ue(ln,Et,Fe,ot,je),je.delete(Et)),kh(E,he,ln)}function Gc(E,O){var he=E.length;if(!!he)return O+=O<0?he:0,as(O,he)?E[O]:r}function hc(E,O,he){O.length?O=kr(O,function(ot){return Vr(ot)?function(je){return uc(je,ot.length===1?ot[0]:ot)}:ot}):O=[vo];var Fe=-1;O=kr(O,Oo(Tr()));var Ue=Fu(E,function(ot,je,Ze){var Et=kr(O,function(Nt){return Nt(ot)});return{criteria:Et,index:++Fe,value:ot}});return ka(Ue,function(ot,je){return Vd(ot,je,he)})}function Tu(E,O){return fc(E,O,function(he,Fe){return ne(E,Fe)})}function fc(E,O,he){for(var Fe=-1,Ue=O.length,ot={};++Fe<Ue;){var je=O[Fe],Ze=uc(E,je);he(Ze,je)&&Jc(ot,ws(je,E),Ze)}return ot}function $c(E){return function(O){return uc(O,E)}}function Ll(E,O,he,Fe){var Ue=Fe?bo:Uo,ot=-1,je=O.length,Ze=E;for(E===O&&(O=ra(O)),he&&(Ze=kr(E,Oo(he)));++ot<je;)for(var Et=0,Nt=O[ot],ln=he?he(Nt):Nt;(Et=Ue(Ze,ln,Et,Fe))>-1;)Ze!==E&&ja.call(Ze,Et,1),ja.call(E,Et,1);return E}function Wc(E,O){for(var he=E?O.length:0,Fe=he-1;he--;){var Ue=O[he];if(he==Fe||Ue!==ot){var ot=Ue;as(Ue)?ja.call(E,Ue,1):Pd(E,Ue)}}return E}function Bd(E,O){return E+Du(Wo()*(O-E+1))}function Md(E,O,he,Fe){for(var Ue=-1,ot=nr(Oi((O-E)/(he||1)),0),je=sn(ot);ot--;)je[Fe?ot:++Ue]=E,E+=he;return je}function pc(E,O){var he="";if(!E||O<1||O>Le)return he;do O%2&&(he+=E),O=Du(O/2),O&&(E+=E);while(O);return he}function Xr(E,O){return wc(Ul(E,O,vo),E+"")}function fp(E){return tp(Tn(E))}function qh(E,O){var he=Tn(E);return $d(he,lc(O,0,he.length))}function Jc(E,O,he,Fe){if(!Ji(E))return E;O=ws(O,E);for(var Ue=-1,ot=O.length,je=ot-1,Ze=E;Ze!=null&&++Ue<ot;){var Et=io(O[Ue]),Nt=he;if(Et==="__proto__"||Et==="constructor"||Et==="prototype")return E;if(Ue!=je){var ln=Ze[Et];Nt=Fe?Fe(ln,Et,Ze):r,Nt===r&&(Nt=Ji(ln)?ln:as(O[Ue+1])?[]:{})}Au(Ze,Et,Nt),Ze=Ze[Et]}return E}var qc=ul?function(E,O){return ul.set(E,O),E}:vo,Fd=ll?function(E,O){return ll(E,"toString",{configurable:!0,enumerable:!1,value:hs(O),writable:!0})}:vo;function Sd(E){return $d(Tn(E))}function Ua(E,O,he){var Fe=-1,Ue=E.length;O<0&&(O=-O>Ue?0:Ue+O),he=he>Ue?Ue:he,he<0&&(he+=Ue),Ue=O>he?0:he-O>>>0,O>>>=0;for(var ot=sn(Ue);++Fe<Ue;)ot[Fe]=E[Fe+O];return ot}function Pu(E,O){var he;return Ol(E,function(Fe,Ue,ot){return he=O(Fe,Ue,ot),!he}),!!he}function Il(E,O,he){var Fe=0,Ue=E==null?Fe:E.length;if(typeof O=="number"&&O===O&&Ue<=St){for(;Fe<Ue;){var ot=Fe+Ue>>>1,je=E[ot];je!==null&&!_o(je)&&(he?je<=O:je<O)?Fe=ot+1:Ue=ot}return Ue}return Td(E,O,vo,he)}function Td(E,O,he,Fe){var Ue=0,ot=E==null?0:E.length;if(ot===0)return 0;O=he(O);for(var je=O!==O,Ze=O===null,Et=_o(O),Nt=O===r;Ue<ot;){var ln=Du((Ue+ot)/2),tn=he(E[ln]),fn=tn!==r,Sn=tn===null,Kn=tn===tn,br=_o(tn);if(je)var Zn=Fe||Kn;else Nt?Zn=Kn&&(Fe||fn):Ze?Zn=Kn&&fn&&(Fe||!Sn):Et?Zn=Kn&&fn&&!Sn&&(Fe||!br):Sn||br?Zn=!1:Zn=Fe?tn<=O:tn<O;Zn?Ue=ln+1:ot=ln}return Io(ot,Ke)}function pp(E,O){for(var he=-1,Fe=E.length,Ue=0,ot=[];++he<Fe;){var je=E[he],Ze=O?O(je):je;if(!he||!Fs(Ze,Et)){var Et=Ze;ot[Ue++]=je===0?0:je}}return ot}function Ou(E){return typeof E=="number"?E:_o(E)?st:+E}function ha(E){if(typeof E=="string")return E;if(Vr(E))return kr(E,ha)+"";if(_o(E))return Qr?Qr.call(E):"";var O=E+"";return O=="0"&&1/E==-Se?"-0":O}function ml(E,O,he){var Fe=-1,Ue=Fn,ot=E.length,je=!0,Ze=[],Et=Ze;if(he)je=!1,Ue=Ei;else if(ot>=l){var Nt=O?null:Uu(E);if(Nt)return al(Nt);je=!1,Ue=Va,Et=new sc}else Et=O?[]:Ze;e:for(;++Fe<ot;){var ln=E[Fe],tn=O?O(ln):ln;if(ln=he||ln!==0?ln:0,je&&tn===tn){for(var fn=Et.length;fn--;)if(Et[fn]===tn)continue e;O&&Et.push(tn),Ze.push(ln)}else Ue(Et,tn,he)||(Et!==Ze&&Et.push(tn),Ze.push(ln))}return Ze}function Pd(E,O){return O=ws(O,E),E=El(E,O),E==null||delete E[io(ma(O))]}function mc(E,O,he,Fe){return Jc(E,O,he(uc(E,O)),Fe)}function kl(E,O,he,Fe){for(var Ue=E.length,ot=Fe?Ue:-1;(Fe?ot--:++ot<Ue)&&O(E[ot],ot,E););return he?Ua(E,Fe?0:ot,Fe?ot+1:Ue):Ua(E,Fe?ot+1:0,Fe?Ue:ot)}function Ru(E,O){var he=E;return he instanceof ei&&(he=he.value()),Fr(O,function(Fe,Ue){return Ue.func.apply(Ue.thisArg,Zr([Fe],Ue.args))},he)}function $i(E,O,he){var Fe=E.length;if(Fe<2)return Fe?ml(E[0]):[];for(var Ue=-1,ot=sn(Fe);++Ue<Fe;)for(var je=E[Ue],Ze=-1;++Ze<Fe;)Ze!=Ue&&(ot[Ue]=jc(ot[Ue]||je,E[Ze],O,he));return ml(co(ot,1),O,he)}function Xh(E,O,he){for(var Fe=-1,Ue=E.length,ot=O.length,je={};++Fe<Ue;){var Ze=Fe<ot?O[Fe]:r;he(je,E[Fe],Ze)}return je}function Od(E){return Wi(E)?E:[]}function Rd(E){return typeof E=="function"?E:vo}function ws(E,O){return Vr(E)?E:bc(E,O)?[E]:eo(xi(E))}var Ld=Xr;function go(E,O,he){var Fe=E.length;return he=he===r?Fe:he,!O&&he>=Fe?E:Ua(E,O,he)}var Lu=Rc||function(E){return ur.clearTimeout(E)};function Iu(E,O){if(O)return E.slice();var he=E.length,Fe=Si?Si(he):new E.constructor(he);return E.copy(Fe),Fe}function Hi(E){var O=new E.constructor(E.byteLength);return new or(O).set(new or(E)),O}function Id(E,O){var he=O?Hi(E.buffer):E.buffer;return new E.constructor(he,E.byteOffset,E.byteLength)}function gl(E){var O=new E.constructor(E.source,gs.exec(E));return O.lastIndex=E.lastIndex,O}function mp(E){return Us?hi(Us.call(E)):{}}function kd(E,O){var he=O?Hi(E.buffer):E.buffer;return new E.constructor(he,E.byteOffset,E.length)}function ku(E,O){if(E!==O){var he=E!==r,Fe=E===null,Ue=E===E,ot=_o(E),je=O!==r,Ze=O===null,Et=O===O,Nt=_o(O);if(!Ze&&!Nt&&!ot&&E>O||ot&&je&&Et&&!Ze&&!Nt||Fe&&je&&Et||!he&&Et||!Ue)return 1;if(!Fe&&!ot&&!Nt&&E<O||Nt&&he&&Ue&&!Fe&&!ot||Ze&&he&&Ue||!je&&Ue||!Et)return-1}return 0}function Vd(E,O,he){for(var Fe=-1,Ue=E.criteria,ot=O.criteria,je=Ue.length,Ze=he.length;++Fe<je;){var Et=ku(Ue[Fe],ot[Fe]);if(Et){if(Fe>=Ze)return Et;var Nt=he[Fe];return Et*(Nt=="desc"?-1:1)}}return E.index-O.index}function gc(E,O,he,Fe){for(var Ue=-1,ot=E.length,je=he.length,Ze=-1,Et=O.length,Nt=nr(ot-je,0),ln=sn(Et+Nt),tn=!Fe;++Ze<Et;)ln[Ze]=O[Ze];for(;++Ue<je;)(tn||Ue<ot)&&(ln[he[Ue]]=E[Ue]);for(;Nt--;)ln[Ze++]=E[Ue++];return ln}function Nd(E,O,he,Fe){for(var Ue=-1,ot=E.length,je=-1,Ze=he.length,Et=-1,Nt=O.length,ln=nr(ot-Ze,0),tn=sn(ln+Nt),fn=!Fe;++Ue<ln;)tn[Ue]=E[Ue];for(var Sn=Ue;++Et<Nt;)tn[Sn+Et]=O[Et];for(;++je<Ze;)(fn||Ue<ot)&&(tn[Sn+he[je]]=E[Ue++]);return tn}function ra(E,O){var he=-1,Fe=E.length;for(O||(O=sn(Fe));++he<Fe;)O[he]=E[he];return O}function Ga(E,O,he,Fe){var Ue=!he;he||(he={});for(var ot=-1,je=O.length;++ot<je;){var Ze=O[ot],Et=Fe?Fe(he[Ze],E[Ze],Ze,he,E):r;Et===r&&(Et=E[Ze]),Ue?hl(he,Ze,Et):Au(he,Ze,Et)}return he}function Yh(E,O){return Ga(E,jd(E),O)}function Zh(E,O){return Ga(E,Qc(E),O)}function Vl(E,O){return function(he,Fe){var Ue=Vr(he)?Zt:um,ot=O?O():{};return Ue(he,E,Tr(Fe,2),ot)}}function vl(E){return Xr(function(O,he){var Fe=-1,Ue=he.length,ot=Ue>1?he[Ue-1]:r,je=Ue>2?he[2]:r;for(ot=E.length>3&&typeof ot=="function"?(Ue--,ot):r,je&&Ao(he[0],he[1],je)&&(ot=Ue<3?r:ot,Ue=1),O=hi(O);++Fe<Ue;){var Ze=he[Fe];Ze&&E(O,Ze,Fe,ot)}return O})}function Xc(E,O){return function(he,Fe){if(he==null)return he;if(!ga(he))return E(he,Fe);for(var Ue=he.length,ot=O?Ue:-1,je=hi(he);(O?ot--:++ot<Ue)&&Fe(je[ot],ot,je)!==!1;);return he}}function Vu(E){return function(O,he,Fe){for(var Ue=-1,ot=hi(O),je=Fe(O),Ze=je.length;Ze--;){var Et=je[E?Ze:++Ue];if(he(ot[Et],Et,ot)===!1)break}return O}}function $a(E,O,he){var Fe=O&ee,Ue=Nl(E);function ot(){var je=this&&this!==ur&&this instanceof ot?Ue:E;return je.apply(Fe?he:this,arguments)}return ot}function Nu(E){return function(O){O=xi(O);var he=Qo(O)?Un(O):r,Fe=he?he[0]:O.charAt(0),Ue=he?go(he,1).join(""):O.slice(1);return Fe[E]()+Ue}}function Js(E){return function(O){return Fr(gi(sr(O).replace(xo,"")),E,"")}}function Nl(E){return function(){var O=arguments;switch(O.length){case 0:return new E;case 1:return new E(O[0]);case 2:return new E(O[0],O[1]);case 3:return new E(O[0],O[1],O[2]);case 4:return new E(O[0],O[1],O[2],O[3]);case 5:return new E(O[0],O[1],O[2],O[3],O[4]);case 6:return new E(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new E(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var he=Nc(E.prototype),Fe=E.apply(he,O);return Ji(Fe)?Fe:he}}function Yc(E,O,he){var Fe=Nl(E);function Ue(){for(var ot=arguments.length,je=sn(ot),Ze=ot,Et=Dc(Ue);Ze--;)je[Ze]=arguments[Ze];var Nt=ot<3&&je[0]!==Et&&je[ot-1]!==Et?[]:mo(je,Et);if(ot-=Nt.length,ot<he)return Kh(E,O,vc,Ue.placeholder,r,je,Nt,r,r,he-ot);var ln=this&&this!==ur&&this instanceof Ue?Fe:E;return Dn(ln,this,je)}return Ue}function zu(E){return function(O,he,Fe){var Ue=hi(O);if(!ga(O)){var ot=Tr(he,3);O=we(O),he=function(Ze){return ot(Ue[Ze],Ze,Ue)}}var je=E(O,he,Fe);return je>-1?Ue[ot?O[je]:je]:r}}function Zc(E){return Sa(function(O){var he=O.length,Fe=he,Ue=ko.prototype.thru;for(E&&O.reverse();Fe--;){var ot=O[Fe];if(typeof ot!="function")throw new $o(c);if(Ue&&!je&&jl(ot)=="wrapper")var je=new ko([],!0)}for(Fe=je?Fe:he;++Fe<he;){ot=O[Fe];var Ze=jl(ot),Et=Ze=="wrapper"?zd(ot):r;Et&&Ud(Et[0])&&Et[1]==(oe|ce|de|le)&&!Et[4].length&&Et[9]==1?je=je[jl(Et[0])].apply(je,Et[3]):je=ot.length==1&&Ud(ot)?je[Ze]():je.thru(ot)}return function(){var Nt=arguments,ln=Nt[0];if(je&&Nt.length==1&&Vr(ln))return je.plant(ln).value();for(var tn=0,fn=he?O[tn].apply(this,Nt):ln;++tn<he;)fn=O[tn].call(this,fn);return fn}})}function vc(E,O,he,Fe,Ue,ot,je,Ze,Et,Nt){var ln=O&oe,tn=O&ee,fn=O&re,Sn=O&(ce|ue),Kn=O&ie,br=fn?r:Nl(E);function Zn(){for(var hr=arguments.length,wr=sn(hr),zr=hr;zr--;)wr[zr]=arguments[zr];if(Sn)var ui=Dc(Zn),No=Oh(wr,ui);if(Fe&&(wr=gc(wr,Fe,Ue,Sn)),ot&&(wr=Nd(wr,ot,je,Sn)),hr-=No,Sn&&hr<Nt){var Zi=mo(wr,ui);return Kh(E,O,vc,Zn.placeholder,he,wr,Zi,Ze,Et,Nt-hr)}var qa=tn?he:this,Os=fn?qa[E]:E;return hr=wr.length,Ze?wr=td(wr,Ze):Kn&&hr>1&&wr.reverse(),ln&&Et<hr&&(wr.length=Et),this&&this!==ur&&this instanceof Zn&&(Os=br||Nl(Os)),Os.apply(qa,wr)}return Zn}function Kc(E,O){return function(he,Fe){return lp(he,E,O(Fe),{})}}function yc(E,O){return function(he,Fe){var Ue;if(he===r&&Fe===r)return O;if(he!==r&&(Ue=he),Fe!==r){if(Ue===r)return Fe;typeof he=="string"||typeof Fe=="string"?(he=ha(he),Fe=ha(Fe)):(he=Ou(he),Fe=Ou(Fe)),Ue=E(he,Fe)}return Ue}}function Cc(E){return Sa(function(O){return O=kr(O,Oo(Tr())),Xr(function(he){var Fe=this;return E(O,function(Ue){return Dn(Ue,Fe,he)})})})}function Ec(E,O){O=O===r?" ":ha(O);var he=O.length;if(he<2)return he?pc(O,E):O;var Fe=pc(O,Oi(E/ii(O)));return Qo(O)?go(Un(Fe),0,E).join(""):Fe.slice(0,E)}function ju(E,O,he,Fe){var Ue=O&ee,ot=Nl(E);function je(){for(var Ze=-1,Et=arguments.length,Nt=-1,ln=Fe.length,tn=sn(ln+Et),fn=this&&this!==ur&&this instanceof je?ot:E;++Nt<ln;)tn[Nt]=Fe[Nt];for(;Et--;)tn[Nt++]=arguments[++Ze];return Dn(fn,Ue?he:this,tn)}return je}function Hu(E){return function(O,he,Fe){return Fe&&typeof Fe!="number"&&Ao(O,he,Fe)&&(he=Fe=r),O=va(O),he===r?(he=O,O=0):he=va(he),Fe=Fe===r?O<he?1:-1:va(Fe),Md(O,he,Fe,E)}}function zl(E){return function(O,he){return typeof O=="string"&&typeof he=="string"||(O=Pa(O),he=Pa(he)),E(O,he)}}function Kh(E,O,he,Fe,Ue,ot,je,Ze,Et,Nt){var ln=O&ce,tn=ln?je:r,fn=ln?r:je,Sn=ln?ot:r,Kn=ln?r:ot;O|=ln?de:A,O&=~(ln?A:de),O&ae||(O&=~(ee|re));var br=[E,O,Ue,Sn,tn,Kn,fn,Ze,Et,Nt],Zn=he.apply(r,br);return Ud(E)&&nu(Zn,br),Zn.placeholder=Fe,ru(Zn,E,O)}function xc(E){var O=Ii[E];return function(he,Fe){if(he=Pa(he),Fe=Fe==null?0:Io(Nr(Fe),292),Fe&&xs(he)){var Ue=(xi(he)+"e").split("e"),ot=O(Ue[0]+"e"+(+Ue[1]+Fe));return Ue=(xi(ot)+"e").split("e"),+(Ue[0]+"e"+(+Ue[1]-Fe))}return O(he)}}var Uu=da&&1/al(new da([,-0]))[1]==Se?function(E){return new da(E)}:_t;function gp(E){return function(O){var he=Qi(O);return he==Oe?Pl(O):he==Ft?lo(O):ys(O,E(O))}}function yl(E,O,he,Fe,Ue,ot,je,Ze){var Et=O&re;if(!Et&&typeof E!="function")throw new $o(c);var Nt=Fe?Fe.length:0;if(Nt||(O&=~(de|A),Fe=Ue=r),je=je===r?je:nr(Nr(je),0),Ze=Ze===r?Ze:Nr(Ze),Nt-=Ue?Ue.length:0,O&A){var ln=Fe,tn=Ue;Fe=Ue=r}var fn=Et?r:zd(E),Sn=[E,O,he,Fe,Ue,ln,tn,ot,je,Ze];if(fn&&Qu(Sn,fn),E=Sn[0],O=Sn[1],he=Sn[2],Fe=Sn[3],Ue=Sn[4],Ze=Sn[9]=Sn[9]===r?Et?0:E.length:nr(Sn[9]-Nt,0),!Ze&&O&(ce|ue)&&(O&=~(ce|ue)),!O||O==ee)var Kn=$a(E,O,he);else O==ce||O==ue?Kn=Yc(E,O,Ze):(O==de||O==(ee|de))&&!Ue.length?Kn=ju(E,O,he,Fe):Kn=vc.apply(r,Sn);var br=fn?qc:nu;return ru(br(Kn,Sn),E,O)}function vp(E,O,he,Fe){return E===r||Fs(E,kt[he])&&!nn.call(Fe,he)?O:E}function yp(E,O,he,Fe,Ue,ot){return Ji(E)&&Ji(O)&&(ot.set(O,E),pl(E,O,r,yp,ot),ot.delete(O)),E}function vm(E){return fu(E)?r:E}function Cp(E,O,he,Fe,Ue,ot){var je=he&T,Ze=E.length,Et=O.length;if(Ze!=Et&&!(je&&Et>Ze))return!1;var Nt=ot.get(E),ln=ot.get(O);if(Nt&&ln)return Nt==O&&ln==E;var tn=-1,fn=!0,Sn=he&R?new sc:r;for(ot.set(E,O),ot.set(O,E);++tn<Ze;){var Kn=E[tn],br=O[tn];if(Fe)var Zn=je?Fe(br,Kn,tn,O,E,ot):Fe(Kn,br,tn,E,O,ot);if(Zn!==r){if(Zn)continue;fn=!1;break}if(Sn){if(!Jr(O,function(hr,wr){if(!Va(Sn,wr)&&(Kn===hr||Ue(Kn,hr,he,Fe,ot)))return Sn.push(wr)})){fn=!1;break}}else if(!(Kn===br||Ue(Kn,br,he,Fe,ot))){fn=!1;break}}return ot.delete(E),ot.delete(O),fn}function Qh(E,O,he,Fe,Ue,ot,je){switch(he){case vn:if(E.byteLength!=O.byteLength||E.byteOffset!=O.byteOffset)return!1;E=E.buffer,O=O.buffer;case hn:return!(E.byteLength!=O.byteLength||!ot(new or(E),new or(O)));case an:case Yt:case Pe:return Fs(+E,+O);case mt:return E.name==O.name&&E.message==O.message;case ft:case it:return E==O+"";case Oe:var Ze=Pl;case Ft:var Et=Fe&T;if(Ze||(Ze=al),E.size!=O.size&&!Et)return!1;var Nt=je.get(E);if(Nt)return Nt==O;Fe|=R,je.set(E,O);var ln=Cp(Ze(E),Ze(O),Fe,Ue,ot,je);return je.delete(E),ln;case zt:if(Us)return Us.call(E)==Us.call(O)}return!1}function ym(E,O,he,Fe,Ue,ot){var je=he&T,Ze=wo(E),Et=Ze.length,Nt=wo(O),ln=Nt.length;if(Et!=ln&&!je)return!1;for(var tn=Et;tn--;){var fn=Ze[tn];if(!(je?fn in O:nn.call(O,fn)))return!1}var Sn=ot.get(E),Kn=ot.get(O);if(Sn&&Kn)return Sn==O&&Kn==E;var br=!0;ot.set(E,O),ot.set(O,E);for(var Zn=je;++tn<Et;){fn=Ze[tn];var hr=E[fn],wr=O[fn];if(Fe)var zr=je?Fe(wr,hr,fn,O,E,ot):Fe(hr,wr,fn,E,O,ot);if(!(zr===r?hr===wr||Ue(hr,wr,he,Fe,ot):zr)){br=!1;break}Zn||(Zn=fn=="constructor")}if(br&&!Zn){var ui=E.constructor,No=O.constructor;ui!=No&&"constructor"in E&&"constructor"in O&&!(typeof ui=="function"&&ui instanceof ui&&typeof No=="function"&&No instanceof No)&&(br=!1)}return ot.delete(E),ot.delete(O),br}function Sa(E){return wc(Ul(E,r,_i),E+"")}function wo(E){return ap(E,we,jd)}function Cl(E){return ap(E,_e,Qc)}var zd=ul?function(E){return ul.get(E)}:_t;function jl(E){for(var O=E.name+"",he=Hs[O],Fe=nn.call(Hs,O)?he.length:0;Fe--;){var Ue=he[Fe],ot=Ue.func;if(ot==null||ot==E)return Ue.name}return O}function Dc(E){var O=nn.call(et,"placeholder")?et:E;return O.placeholder}function Tr(){var E=et.iteratee||Ml;return E=E===Ml?Bu:E,arguments.length?E(arguments[0],arguments[1]):E}function Hl(E,O){var he=E.__data__;return Xu(O)?he[typeof O=="string"?"string":"hash"]:he.map}function Gu(E){for(var O=we(E),he=O.length;he--;){var Fe=O[he],Ue=E[Fe];O[he]=[Fe,Ue,Zu(Ue)]}return O}function fa(E,O){var he=Cu(E,O);return Wh(he)?he:r}function Ep(E){var O=nn.call(E,rs),he=E[rs];try{E[rs]=r;var Fe=!0}catch{}var Ue=Bn.call(E);return Fe&&(O?E[rs]=he:delete E[rs]),Ue}var jd=Lc?function(E){return E==null?[]:(E=hi(E),tr(Lc(E),function(O){return Fi.call(E,O)}))}:Mn,Qc=Lc?function(E){for(var O=[];E;)Zr(O,jd(E)),E=Ki(E);return O}:Mn,Qi=na;(Ih&&Qi(new Ih(new ArrayBuffer(1)))!=vn||wu&&Qi(new wu)!=Oe||ua&&Qi(ua.resolve())!=qe||da&&Qi(new da)!=Ft||Gi&&Qi(new Gi)!=ut)&&(Qi=function(E){var O=na(E),he=O==tt?E.constructor:r,Fe=he?qs(he):"";if(Fe)switch(Fe){case kc:return vn;case xd:return Oe;case Vc:return qe;case Yn:return Ft;case Wf:return ut}return O});function Cm(E,O,he){for(var Fe=-1,Ue=he.length;++Fe<Ue;){var ot=he[Fe],je=ot.size;switch(ot.type){case"drop":E+=je;break;case"dropRight":O-=je;break;case"take":O=Io(O,E+je);break;case"takeRight":E=nr(E,O-je);break}}return{start:E,end:O}}function xp(E){var O=E.match(oa);return O?O[1].split(Rs):[]}function $u(E,O,he){O=ws(O,E);for(var Fe=-1,Ue=O.length,ot=!1;++Fe<Ue;){var je=io(O[Fe]);if(!(ot=E!=null&&he(E,je)))break;E=E[je]}return ot||++Fe!=Ue?ot:(Ue=E==null?0:E.length,!!Ue&&dd(Ue)&&as(je,Ue)&&(Vr(E)||Zs(E)))}function Wu(E){var O=E.length,he=new E.constructor(O);return O&&typeof E[0]=="string"&&nn.call(E,"index")&&(he.index=E.index,he.input=E.input),he}function Ju(E){return typeof E.constructor=="function"&&!ss(E)?Nc(Ki(E)):{}}function eu(E,O,he){var Fe=E.constructor;switch(O){case hn:return Hi(E);case an:case Yt:return new Fe(+E);case vn:return Id(E,he);case Ot:case rt:case xt:case Qt:case gn:case Nn:case Ar:case jn:case Hn:return kd(E,he);case Oe:return new Fe;case Pe:case it:return new Fe(E);case ft:return gl(E);case Ft:return new Fe;case zt:return mp(E)}}function Hd(E,O){var he=O.length;if(!he)return E;var Fe=he-1;return O[Fe]=(he>1?"& ":"")+O[Fe],O=O.join(he>2?", ":" "),E.replace(Yo,`{
/* [wrapped with `+O+`] */
`)}function qu(E){return Vr(E)||Zs(E)||!!(Es&&E&&E[Es])}function as(E,O){var he=typeof E;return O=O??Le,!!O&&(he=="number"||he!="symbol"&&Za.test(E))&&E>-1&&E%1==0&&E<O}function Ao(E,O,he){if(!Ji(he))return!1;var Fe=typeof O;return(Fe=="number"?ga(he)&&as(O,he.length):Fe=="string"&&O in he)?Fs(he[O],E):!1}function bc(E,O){if(Vr(E))return!1;var he=typeof E;return he=="number"||he=="symbol"||he=="boolean"||E==null||_o(E)?!0:Co.test(E)||!Kr.test(E)||O!=null&&E in hi(O)}function Xu(E){var O=typeof E;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?E!=="__proto__":E===null}function Ud(E){var O=jl(E),he=et[O];if(typeof he!="function"||!(O in ei.prototype))return!1;if(E===he)return!0;var Fe=zd(he);return!!Fe&&E===Fe[0]}function Yu(E){return!!kn&&kn in E}var tu=mn?Ts:Qn;function ss(E){var O=E&&E.constructor,he=typeof O=="function"&&O.prototype||kt;return E===he}function Zu(E){return E===E&&!Ji(E)}function Ku(E,O){return function(he){return he==null?!1:he[E]===O&&(O!==r||E in hi(he))}}function Gd(E){var O=cd(E,function(Fe){return he.size===v&&he.clear(),Fe}),he=O.cache;return O}function Qu(E,O){var he=E[1],Fe=O[1],Ue=he|Fe,ot=Ue<(ee|re|oe),je=Fe==oe&&he==ce||Fe==oe&&he==le&&E[7].length<=O[8]||Fe==(oe|le)&&O[7].length<=O[8]&&he==ce;if(!(ot||je))return E;Fe&ee&&(E[2]=O[2],Ue|=he&ee?0:ae);var Ze=O[3];if(Ze){var Et=E[3];E[3]=Et?gc(Et,Ze,O[4]):Ze,E[4]=Et?mo(E[3],C):O[4]}return Ze=O[5],Ze&&(Et=E[5],E[5]=Et?Nd(Et,Ze,O[6]):Ze,E[6]=Et?mo(E[5],C):O[6]),Ze=O[7],Ze&&(E[7]=Ze),Fe&oe&&(E[8]=E[8]==null?O[8]:Io(E[8],O[8])),E[9]==null&&(E[9]=O[9]),E[0]=O[0],E[1]=Ue,E}function pa(E){var O=[];if(E!=null)for(var he in hi(E))O.push(he);return O}function ed(E){return Bn.call(E)}function Ul(E,O,he){return O=nr(O===r?E.length-1:O,0),function(){for(var Fe=arguments,Ue=-1,ot=nr(Fe.length-O,0),je=sn(ot);++Ue<ot;)je[Ue]=Fe[O+Ue];Ue=-1;for(var Ze=sn(O+1);++Ue<O;)Ze[Ue]=Fe[Ue];return Ze[O]=he(je),Dn(E,this,Ze)}}function El(E,O){return O.length<2?E:uc(E,Ua(O,0,-1))}function td(E,O){for(var he=E.length,Fe=Io(O.length,he),Ue=ra(E);Fe--;){var ot=O[Fe];E[Fe]=as(ot,he)?Ue[ot]:r}return E}function Gl(E,O){if(!(O==="constructor"&&typeof E[O]=="function")&&O!="__proto__")return E[O]}var nu=iu(qc),xl=Cd||function(E,O){return ur.setTimeout(E,O)},wc=iu(Fd);function ru(E,O,he){var Fe=O+"";return wc(E,Hd(Fe,nd(xp(Fe),he)))}function iu(E){var O=0,he=0;return function(){var Fe=bu(),Ue=be-(Fe-he);if(he=Fe,Ue>0){if(++O>=pe)return arguments[0]}else O=0;return E.apply(r,arguments)}}function $d(E,O){var he=-1,Fe=E.length,Ue=Fe-1;for(O=O===r?Fe:O;++he<O;){var ot=Bd(he,Ue),je=E[ot];E[ot]=E[he],E[he]=je}return E.length=O,E}var eo=Gd(function(E){var O=[];return E.charCodeAt(0)===46&&O.push(""),E.replace(Ce,function(he,Fe,Ue,ot){O.push(Ue?ot.replace(Xa,"$1"):Fe||he)}),O});function io(E){if(typeof E=="string"||_o(E))return E;var O=E+"";return O=="0"&&1/E==-Se?"-0":O}function qs(E){if(E!=null){try{return Ht.call(E)}catch{}try{return E+""}catch{}}return""}function nd(E,O){return dn(ct,function(he){var Fe="_."+he[0];O&he[1]&&!Fn(E,Fe)&&E.push(Fe)}),E.sort()}function rd(E){if(E instanceof ei)return E.clone();var O=new ko(E.__wrapped__,E.__chain__);return O.__actions__=ra(E.__actions__),O.__index__=E.__index__,O.__values__=E.__values__,O}function Jo(E,O,he){(he?Ao(E,O,he):O===r)?O=1:O=nr(Nr(O),0);var Fe=E==null?0:E.length;if(!Fe||O<1)return[];for(var Ue=0,ot=0,je=sn(Oi(Fe/O));Ue<Fe;)je[ot++]=Ua(E,Ue,Ue+=O);return je}function Wd(E){for(var O=-1,he=E==null?0:E.length,Fe=0,Ue=[];++O<he;){var ot=E[O];ot&&(Ue[Fe++]=ot)}return Ue}function Jd(){var E=arguments.length;if(!E)return[];for(var O=sn(E-1),he=arguments[0],Fe=E;Fe--;)O[Fe-1]=arguments[Fe];return Zr(Vr(he)?ra(he):[he],co(O,1))}var ou=Xr(function(E,O){return Wi(E)?jc(E,co(O,1,Wi,!0)):[]}),qd=Xr(function(E,O){var he=ma(O);return Wi(he)&&(he=r),Wi(E)?jc(E,co(O,1,Wi,!0),Tr(he,2)):[]}),id=Xr(function(E,O){var he=ma(O);return Wi(he)&&(he=r),Wi(E)?jc(E,co(O,1,Wi,!0),r,he):[]});function Xd(E,O,he){var Fe=E==null?0:E.length;return Fe?(O=he||O===r?1:Nr(O),Ua(E,O<0?0:O,Fe)):[]}function au(E,O,he){var Fe=E==null?0:E.length;return Fe?(O=he||O===r?1:Nr(O),O=Fe-O,Ua(E,0,O<0?0:O)):[]}function ls(E,O){return E&&E.length?kl(E,Tr(O,3),!0,!0):[]}function Em(E,O){return E&&E.length?kl(E,Tr(O,3),!0):[]}function Ac(E,O,he,Fe){var Ue=E==null?0:E.length;return Ue?(he&&typeof he!="number"&&Ao(E,O,he)&&(he=0,Fe=Ue),op(E,O,he,Fe)):[]}function Yd(E,O,he){var Fe=E==null?0:E.length;if(!Fe)return-1;var Ue=he==null?0:Nr(he);return Ue<0&&(Ue=nr(Fe+Ue,0)),Zo(E,Tr(O,3),Ue)}function ef(E,O,he){var Fe=E==null?0:E.length;if(!Fe)return-1;var Ue=Fe-1;return he!==r&&(Ue=Nr(he),Ue=he<0?nr(Fe+Ue,0):Io(Ue,Fe-1)),Zo(E,Tr(O,3),Ue,!0)}function _i(E){var O=E==null?0:E.length;return O?co(E,1):[]}function As(E){var O=E==null?0:E.length;return O?co(E,Se):[]}function us(E,O){var he=E==null?0:E.length;return he?(O=O===r?1:Nr(O),co(E,O)):[]}function tf(E){for(var O=-1,he=E==null?0:E.length,Fe={};++O<he;){var Ue=E[O];Fe[Ue[0]]=Ue[1]}return Fe}function Zd(E){return E&&E.length?E[0]:r}function Kd(E,O,he){var Fe=E==null?0:E.length;if(!Fe)return-1;var Ue=he==null?0:Nr(he);return Ue<0&&(Ue=nr(Fe+Ue,0)),Uo(E,O,Ue)}function su(E){var O=E==null?0:E.length;return O?Ua(E,0,-1):[]}var Qd=Xr(function(E){var O=kr(E,Od);return O.length&&O[0]===E[0]?Gh(O):[]}),eh=Xr(function(E){var O=ma(E),he=kr(E,Od);return O===ma(he)?O=r:he.pop(),he.length&&he[0]===E[0]?Gh(he,Tr(O,2)):[]}),Er=Xr(function(E){var O=ma(E),he=kr(E,Od);return O=typeof O=="function"?O:r,O&&he.pop(),he.length&&he[0]===E[0]?Gh(he,r,O):[]});function _s(E,O){return E==null?"":Lh.call(E,O)}function ma(E){var O=E==null?0:E.length;return O?E[O-1]:r}function nf(E,O,he){var Fe=E==null?0:E.length;if(!Fe)return-1;var Ue=Fe;return he!==r&&(Ue=Nr(he),Ue=Ue<0?nr(Fe+Ue,0):Io(Ue,Fe-1)),O===O?za(E,O,Ue):Zo(E,Go,Ue,!0)}function th(E,O){return E&&E.length?Gc(E,Nr(O)):r}var rf=Xr(nh);function nh(E,O){return E&&E.length&&O&&O.length?Ll(E,O):E}function of(E,O,he){return E&&E.length&&O&&O.length?Ll(E,O,Tr(he,2)):E}function Ta(E,O,he){return E&&E.length&&O&&O.length?Ll(E,O,r,he):E}var Dp=Sa(function(E,O){var he=E==null?0:E.length,Fe=Vh(E,O);return Wc(E,kr(O,function(Ue){return as(Ue,he)?+Ue:Ue}).sort(ku)),Fe});function od(E,O){var he=[];if(!(E&&E.length))return he;var Fe=-1,Ue=[],ot=E.length;for(O=Tr(O,3);++Fe<ot;){var je=E[Fe];O(je,Fe,E)&&(he.push(je),Ue.push(Fe))}return Wc(E,Ue),he}function _c(E){return E==null?E:$f.call(E)}function Dl(E,O,he){var Fe=E==null?0:E.length;return Fe?(he&&typeof he!="number"&&Ao(E,O,he)?(O=0,he=Fe):(O=O==null?0:Nr(O),he=he===r?Fe:Nr(he)),Ua(E,O,he)):[]}function $l(E,O){return Il(E,O)}function ds(E,O,he){return Td(E,O,Tr(he,2))}function bl(E,O){var he=E==null?0:E.length;if(he){var Fe=Il(E,O);if(Fe<he&&Fs(E[Fe],O))return Fe}return-1}function wl(E,O){return Il(E,O,!0)}function Wl(E,O,he){return Td(E,O,Tr(he,2),!0)}function Al(E,O){var he=E==null?0:E.length;if(he){var Fe=Il(E,O,!0)-1;if(Fs(E[Fe],O))return Fe}return-1}function af(E){return E&&E.length?pp(E):[]}function _l(E,O){return E&&E.length?pp(E,Tr(O,2)):[]}function Bs(E){var O=E==null?0:E.length;return O?Ua(E,1,O):[]}function Jl(E,O,he){return E&&E.length?(O=he||O===r?1:Nr(O),Ua(E,0,O<0?0:O)):[]}function ki(E,O,he){var Fe=E==null?0:E.length;return Fe?(O=he||O===r?1:Nr(O),O=Fe-O,Ua(E,O<0?0:O,Fe)):[]}function rh(E,O){return E&&E.length?kl(E,Tr(O,3),!1,!0):[]}function Xs(E,O){return E&&E.length?kl(E,Tr(O,3)):[]}var ih=Xr(function(E){return ml(co(E,1,Wi,!0))}),oh=Xr(function(E){var O=ma(E);return Wi(O)&&(O=r),ml(co(E,1,Wi,!0),Tr(O,2))}),sf=Xr(function(E){var O=ma(E);return O=typeof O=="function"?O:r,ml(co(E,1,Wi,!0),r,O)});function ah(E){return E&&E.length?ml(E):[]}function lu(E,O){return E&&E.length?ml(E,Tr(O,2)):[]}function sh(E,O){return O=typeof O=="function"?O:r,E&&E.length?ml(E,r,O):[]}function cu(E){if(!(E&&E.length))return[];var O=0;return E=tr(E,function(he){if(Wi(he))return O=nr(he.length,O),!0}),Ma(O,function(he){return kr(E,Ba(he))})}function ad(E,O){if(!(E&&E.length))return[];var he=cu(E);return O==null?he:kr(he,function(Fe){return Dn(O,r,Fe)})}var lh=Xr(function(E,O){return Wi(E)?jc(E,O):[]}),ch=Xr(function(E){return $i(tr(E,Wi))}),lf=Xr(function(E){var O=ma(E);return Wi(O)&&(O=r),$i(tr(E,Wi),Tr(O,2))}),uh=Xr(function(E){var O=ma(E);return O=typeof O=="function"?O:r,$i(tr(E,Wi),r,O)}),dh=Xr(cu);function hh(E,O){return Xh(E||[],O||[],Au)}function cf(E,O){return Xh(E||[],O||[],Jc)}var fh=Xr(function(E){var O=E.length,he=O>1?E[O-1]:r;return he=typeof he=="function"?(E.pop(),he):r,ad(E,he)});function sd(E){var O=et(E);return O.__chain__=!0,O}function xm(E,O){return O(E),E}function ld(E,O){return O(E)}var bp=Sa(function(E){var O=E.length,he=O?E[0]:0,Fe=this.__wrapped__,Ue=function(ot){return Vh(ot,E)};return O>1||this.__actions__.length||!(Fe instanceof ei)||!as(he)?this.thru(Ue):(Fe=Fe.slice(he,+he+(O?1:0)),Fe.__actions__.push({func:ld,args:[Ue],thisArg:r}),new ko(Fe,this.__chain__).thru(function(ot){return O&&!ot.length&&ot.push(r),ot}))});function uf(){return sd(this)}function df(){return new ko(this.value(),this.__chain__)}function hf(){this.__values__===r&&(this.__values__=Sh(this.value()));var E=this.__index__>=this.__values__.length,O=E?r:this.__values__[this.__index__++];return{done:E,value:O}}function Dm(){return this}function ff(E){for(var O,he=this;he instanceof Dd;){var Fe=rd(he);Fe.__index__=0,Fe.__values__=r,O?Ue.__wrapped__=Fe:O=Fe;var Ue=Fe;he=he.__wrapped__}return Ue.__wrapped__=E,O}function pf(){var E=this.__wrapped__;if(E instanceof ei){var O=E;return this.__actions__.length&&(O=new ei(this)),O=O.reverse(),O.__actions__.push({func:ld,args:[_c],thisArg:r}),new ko(O,this.__chain__)}return this.thru(_c)}function ph(){return Ru(this.__wrapped__,this.__actions__)}var mh=Vl(function(E,O,he){nn.call(E,he)?++E[he]:hl(E,he,1)});function Ms(E,O,he){var Fe=Vr(E)?Ir:ip;return he&&Ao(E,O,he)&&(O=r),Fe(E,Tr(O,3))}function mf(E,O){var he=Vr(E)?tr:zh;return he(E,Tr(O,3))}var gf=zu(Yd),wp=zu(ef);function Ap(E,O){return co(Ys(E,O),1)}function _p(E,O){return co(Ys(E,O),Se)}function vf(E,O,he){return he=he===r?1:Nr(he),co(Ys(E,O),he)}function ql(E,O){var he=Vr(E)?dn:Ol;return he(E,Tr(O,3))}function yf(E,O){var he=Vr(E)?lr:fl;return he(E,Tr(O,3))}var bm=Vl(function(E,O,he){nn.call(E,he)?E[he].push(O):hl(E,he,[O])});function Bc(E,O,he,Fe){E=ga(E)?E:Tn(E),he=he&&!Fe?Nr(he):0;var Ue=E.length;return he<0&&(he=nr(Ue+he,0)),Qs(E)?he<=Ue&&E.indexOf(O,he)>-1:!!Ue&&Uo(E,O,he)>-1}var Cf=Xr(function(E,O,he){var Fe=-1,Ue=typeof O=="function",ot=ga(E)?sn(E.length):[];return Ol(E,function(je){ot[++Fe]=Ue?Dn(O,je,he):_u(je,O,he)}),ot}),uu=Vl(function(E,O,he){hl(E,he,O)});function Ys(E,O){var he=Vr(E)?kr:Fu;return he(E,Tr(O,3))}function Bp(E,O,he,Fe){return E==null?[]:(Vr(O)||(O=O==null?[]:[O]),he=Fe?r:he,Vr(he)||(he=he==null?[]:[he]),hc(E,O,he))}var wm=Vl(function(E,O,he){E[he?0:1].push(O)},function(){return[[],[]]});function Mc(E,O,he){var Fe=Vr(E)?Fr:Po,Ue=arguments.length<3;return Fe(E,Tr(O,4),he,Ue,Ol)}function Ef(E,O,he){var Fe=Vr(E)?so:Po,Ue=arguments.length<3;return Fe(E,Tr(O,4),he,Ue,fl)}function xf(E,O){var he=Vr(E)?tr:zh;return he(E,ud(Tr(O,3)))}function Df(E){var O=Vr(E)?tp:fp;return O(E)}function bf(E,O,he){(he?Ao(E,O,he):O===r)?O=1:O=Nr(O);var Fe=Vr(E)?lm:qh;return Fe(E,O)}function Am(E){var O=Vr(E)?cm:Sd;return O(E)}function wf(E){if(E==null)return 0;if(ga(E))return Qs(E)?ii(E):E.length;var O=Qi(E);return O==Oe||O==Ft?E.size:Rl(E).length}function _m(E,O,he){var Fe=Vr(E)?Jr:Pu;return he&&Ao(E,O,he)&&(O=r),Fe(E,Tr(O,3))}var Bm=Xr(function(E,O){if(E==null)return[];var he=O.length;return he>1&&Ao(E,O[0],O[1])?O=[]:he>2&&Ao(O[0],O[1],O[2])&&(O=[O[0]]),hc(E,co(O,1),[])}),gh=xu||function(){return ur.Date.now()};function Mm(E,O){if(typeof O!="function")throw new $o(c);return E=Nr(E),function(){if(--E<1)return O.apply(this,arguments)}}function Mp(E,O,he){return O=he?r:O,O=E&&O==null?E.length:O,yl(E,oe,r,r,r,r,O)}function Fp(E,O){var he;if(typeof O!="function")throw new $o(c);return E=Nr(E),function(){return--E>0&&(he=O.apply(this,arguments)),E<=1&&(O=r),he}}var Af=Xr(function(E,O,he){var Fe=ee;if(he.length){var Ue=mo(he,Dc(Af));Fe|=de}return yl(E,Fe,O,he,Ue)}),_f=Xr(function(E,O,he){var Fe=ee|re;if(he.length){var Ue=mo(he,Dc(_f));Fe|=de}return yl(O,Fe,E,he,Ue)});function qo(E,O,he){O=he?r:O;var Fe=yl(E,ce,r,r,r,r,r,O);return Fe.placeholder=qo.placeholder,Fe}function Bf(E,O,he){O=he?r:O;var Fe=yl(E,ue,r,r,r,r,r,O);return Fe.placeholder=Bf.placeholder,Fe}function Mf(E,O,he){var Fe,Ue,ot,je,Ze,Et,Nt=0,ln=!1,tn=!1,fn=!0;if(typeof E!="function")throw new $o(c);O=Pa(O)||0,Ji(he)&&(ln=!!he.leading,tn="maxWait"in he,ot=tn?nr(Pa(he.maxWait)||0,O):ot,fn="trailing"in he?!!he.trailing:fn);function Sn(Zi){var qa=Fe,Os=Ue;return Fe=Ue=r,Nt=Zi,je=E.apply(Os,qa),je}function Kn(Zi){return Nt=Zi,Ze=xl(hr,O),ln?Sn(Zi):je}function br(Zi){var qa=Zi-Et,Os=Zi-Nt,Tm=O-qa;return tn?Io(Tm,ot-Os):Tm}function Zn(Zi){var qa=Zi-Et,Os=Zi-Nt;return Et===r||qa>=O||qa<0||tn&&Os>=ot}function hr(){var Zi=gh();if(Zn(Zi))return wr(Zi);Ze=xl(hr,br(Zi))}function wr(Zi){return Ze=r,fn&&Fe?Sn(Zi):(Fe=Ue=r,je)}function zr(){Ze!==r&&Lu(Ze),Nt=0,Fe=Et=Ue=Ze=r}function ui(){return Ze===r?je:wr(gh())}function No(){var Zi=gh(),qa=Zn(Zi);if(Fe=arguments,Ue=this,Et=Zi,qa){if(Ze===r)return Kn(Et);if(tn)return Lu(Ze),Ze=xl(hr,O),Sn(Et)}return Ze===r&&(Ze=xl(hr,O)),je}return No.cancel=zr,No.flush=ui,No}var Ff=Xr(function(E,O){return Ad(E,1,O)}),vh=Xr(function(E,O,he){return Ad(E,Pa(O)||0,he)});function Sf(E){return yl(E,ie)}function cd(E,O){if(typeof E!="function"||O!=null&&typeof O!="function")throw new $o(c);var he=function(){var Fe=arguments,Ue=O?O.apply(this,Fe):Fe[0],ot=he.cache;if(ot.has(Ue))return ot.get(Ue);var je=E.apply(this,Fe);return he.cache=ot.set(Ue,je)||ot,je};return he.cache=new(cd.Cache||dl),he}cd.Cache=dl;function ud(E){if(typeof E!="function")throw new $o(c);return function(){var O=arguments;switch(O.length){case 0:return!E.call(this);case 1:return!E.call(this,O[0]);case 2:return!E.call(this,O[0],O[1]);case 3:return!E.call(this,O[0],O[1],O[2])}return!E.apply(this,O)}}function Tf(E){return Fp(2,E)}var Sp=Ld(function(E,O){O=O.length==1&&Vr(O[0])?kr(O[0],Oo(Tr())):kr(co(O,1),Oo(Tr()));var he=O.length;return Xr(function(Fe){for(var Ue=-1,ot=Io(Fe.length,he);++Ue<ot;)Fe[Ue]=O[Ue].call(this,Fe[Ue]);return Dn(E,this,Fe)})}),yh=Xr(function(E,O){var he=mo(O,Dc(yh));return yl(E,de,r,O,he)}),Pf=Xr(function(E,O){var he=mo(O,Dc(Pf));return yl(E,A,r,O,he)}),Of=Sa(function(E,O){return yl(E,le,r,r,r,O)});function Tp(E,O){if(typeof E!="function")throw new $o(c);return O=O===r?O:Nr(O),Xr(E,O)}function Ch(E,O){if(typeof E!="function")throw new $o(c);return O=O==null?0:nr(Nr(O),0),Xr(function(he){var Fe=he[O],Ue=go(he,0,O);return Fe&&Zr(Ue,Fe),Dn(E,this,Ue)})}function Rf(E,O,he){var Fe=!0,Ue=!0;if(typeof E!="function")throw new $o(c);return Ji(he)&&(Fe="leading"in he?!!he.leading:Fe,Ue="trailing"in he?!!he.trailing:Ue),Mf(E,O,{leading:Fe,maxWait:O,trailing:Ue})}function Lf(E){return Mp(E,1)}function Pp(E,O){return yh(Rd(O),E)}function Eh(){if(!arguments.length)return[];var E=arguments[0];return Vr(E)?E:[E]}function Xl(E){return os(E,F)}function xh(E,O){return O=typeof O=="function"?O:r,os(E,F,O)}function If(E){return os(E,f|F)}function Dh(E,O){return O=typeof O=="function"?O:r,os(E,f|F,O)}function bh(E,O){return O==null||Nh(E,O,we(O))}function Fs(E,O){return E===O||E!==E&&O!==O}var Op=zl(Uh),Rp=zl(function(E,O){return E>=O}),Zs=cp(function(){return arguments}())?cp:function(E){return Ti(E)&&nn.call(E,"callee")&&!Fi.call(E,"callee")},Vr=sn.isArray,kf=He?Oo(He):pm;function ga(E){return E!=null&&dd(E.length)&&!Ts(E)}function Wi(E){return Ti(E)&&ga(E)}function Lp(E){return E===!0||E===!1||Ti(E)&&na(E)==an}var Ss=Jp||Qn,wh=Qe?Oo(Qe):up;function oo(E){return Ti(E)&&E.nodeType===1&&!fu(E)}function Vf(E){if(E==null)return!0;if(ga(E)&&(Vr(E)||typeof E=="string"||typeof E.splice=="function"||Ss(E)||Zl(E)||Zs(E)))return!E.length;var O=Qi(E);if(O==Oe||O==Ft)return!E.size;if(ss(E))return!Rl(E).length;for(var he in E)if(nn.call(E,he))return!1;return!0}function uo(E,O){return $s(E,O)}function Ah(E,O,he){he=typeof he=="function"?he:r;var Fe=he?he(E,O):r;return Fe===r?$s(E,O,r,he):!!Fe}function Bl(E){if(!Ti(E))return!1;var O=na(E);return O==mt||O==Ne||typeof E.message=="string"&&typeof E.name=="string"&&!fu(E)}function Nf(E){return typeof E=="number"&&xs(E)}function Ts(E){if(!Ji(E))return!1;var O=na(E);return O==me||O==Ae||O==bt||O==dt}function _h(E){return typeof E=="number"&&E==Nr(E)}function dd(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=Le}function Ji(E){var O=typeof E;return E!=null&&(O=="object"||O=="function")}function Ti(E){return E!=null&&typeof E=="object"}var hd=Mt?Oo(Mt):mm;function du(E,O){return E===O||$h(E,O,Gu(O))}function Yl(E,O,he){return he=typeof he=="function"?he:r,$h(E,O,Gu(O),he)}function Ks(E){return Vo(E)&&E!=+E}function Ip(E){if(tu(E))throw new Sr(a);return Wh(E)}function kp(E){return E===null}function hu(E){return E==null}function Vo(E){return typeof E=="number"||Ti(E)&&na(E)==Pe}function fu(E){if(!Ti(E)||na(E)!=tt)return!1;var O=Ki(E);if(O===null)return!0;var he=nn.call(O,"constructor")&&O.constructor;return typeof he=="function"&&he instanceof he&&Ht.call(he)==xn}var Bh=wt?Oo(wt):gm;function zf(E){return _h(E)&&E>=-Le&&E<=Le}var fd=Ut?Oo(Ut):dp;function Qs(E){return typeof E=="string"||!Vr(E)&&Ti(E)&&na(E)==it}function _o(E){return typeof E=="symbol"||Ti(E)&&na(E)==zt}var Zl=cn?Oo(cn):Jh;function pd(E){return E===r}function Vp(E){return Ti(E)&&Qi(E)==ut}function Mh(E){return Ti(E)&&na(E)==Gt}var Fh=zl(Mu),Ri=zl(function(E,O){return E<=O});function Sh(E){if(!E)return[];if(ga(E))return Qs(E)?Un(E):ra(E);if(ro&&E[ro])return Tl(E[ro]());var O=Qi(E),he=O==Oe?Pl:O==Ft?al:Tn;return he(E)}function va(E){if(!E)return E===0?E:0;if(E=Pa(E),E===Se||E===-Se){var O=E<0?-1:1;return O*Ie}return E===E?E:0}function Nr(E){var O=va(E),he=O%1;return O===O?he?O-he:O:0}function jf(E){return E?lc(Nr(E),0,Ye):0}function Pa(E){if(typeof E=="number")return E;if(_o(E))return st;if(Ji(E)){var O=typeof E.valueOf=="function"?E.valueOf():E;E=Ji(O)?O+"":O}if(typeof E!="string")return E===0?E:+E;E=Sl(E);var he=Ya.test(E);return he||xa.test(E)?es(E.slice(2),he?2:8):ho.test(E)?st:+E}function Hf(E){return Ga(E,_e(E))}function Np(E){return E?lc(Nr(E),-Le,Le):E===0?E:0}function xi(E){return E==null?"":ha(E)}var zp=vl(function(E,O){if(ss(O)||ga(O)){Ga(O,we(O),E);return}for(var he in O)nn.call(O,he)&&Au(E,he,O[he])}),Th=vl(function(E,O){Ga(O,_e(O),E)}),md=vl(function(E,O,he,Fe){Ga(O,_e(O),E,Fe)}),jp=vl(function(E,O,he,Fe){Ga(O,we(O),E,Fe)}),Hp=Sa(Vh);function Up(E,O){var he=Nc(E);return O==null?he:np(he,O)}var Gp=Xr(function(E,O){E=hi(E);var he=-1,Fe=O.length,Ue=Fe>2?O[2]:r;for(Ue&&Ao(O[0],O[1],Ue)&&(Fe=1);++he<Fe;)for(var ot=O[he],je=_e(ot),Ze=-1,Et=je.length;++Ze<Et;){var Nt=je[Ze],ln=E[Nt];(ln===r||Fs(ln,kt[Nt])&&!nn.call(E,Nt))&&(E[Nt]=ot[Nt])}return E}),$p=Xr(function(E){return E.push(r,yp),Dn(Ge,r,E)});function Wp(E,O){return no(E,Tr(O,3),bs)}function Uf(E,O){return no(E,Tr(O,3),Hh)}function Fm(E,O){return E==null?E:cc(E,Tr(O,3),_e)}function Sm(E,O){return E==null?E:jh(E,Tr(O,3),_e)}function n(E,O){return E&&bs(E,Tr(O,3))}function o(E,O){return E&&Hh(E,Tr(O,3))}function u(E){return E==null?[]:Hc(E,we(E))}function m(E){return E==null?[]:Hc(E,_e(E))}function B(E,O,he){var Fe=E==null?r:uc(E,O);return Fe===r?he:Fe}function k(E,O){return E!=null&&$u(E,O,sp)}function ne(E,O){return E!=null&&$u(E,O,hm)}var se=Kc(function(E,O,he){O!=null&&typeof O.toString!="function"&&(O=Bn.call(O)),E[O]=he},hs(vo)),ge=Kc(function(E,O,he){O!=null&&typeof O.toString!="function"&&(O=Bn.call(O)),nn.call(E,O)?E[O].push(he):E[O]=[he]},Tr),ve=Xr(_u);function we(E){return ga(E)?ep(E):Rl(E)}function _e(E){return ga(E)?ep(E,!0):hp(E)}function Te(E,O){var he={};return O=Tr(O,3),bs(E,function(Fe,Ue,ot){hl(he,O(Fe,Ue,ot),Fe)}),he}function ye(E,O){var he={};return O=Tr(O,3),bs(E,function(Fe,Ue,ot){hl(he,Ue,O(Fe,Ue,ot))}),he}var ke=vl(function(E,O,he){pl(E,O,he)}),Ge=vl(function(E,O,he,Fe){pl(E,O,he,Fe)}),We=Sa(function(E,O){var he={};if(E==null)return he;var Fe=!1;O=kr(O,function(ot){return ot=ws(ot,E),Fe||(Fe=ot.length>1),ot}),Ga(E,Cl(E),he),Fe&&(he=os(he,f|w|F,vm));for(var Ue=O.length;Ue--;)Pd(he,O[Ue]);return he});function ht(E,O){return Dt(E,ud(Tr(O)))}var vt=Sa(function(E,O){return E==null?{}:Tu(E,O)});function Dt(E,O){if(E==null)return{};var he=kr(Cl(E),function(Fe){return[Fe]});return O=Tr(O),fc(E,he,function(Fe,Ue){return O(Fe,Ue[0])})}function Lt(E,O,he){O=ws(O,E);var Fe=-1,Ue=O.length;for(Ue||(Ue=1,E=r);++Fe<Ue;){var ot=E==null?r:E[io(O[Fe])];ot===r&&(Fe=Ue,ot=he),E=Ts(ot)?ot.call(E):ot}return E}function Xe(E,O,he){return E==null?E:Jc(E,O,he)}function Vt(E,O,he,Fe){return Fe=typeof Fe=="function"?Fe:r,E==null?E:Jc(E,O,he,Fe)}var At=gp(we),Wt=gp(_e);function rn(E,O,he){var Fe=Vr(E),Ue=Fe||Ss(E)||Zl(E);if(O=Tr(O,4),he==null){var ot=E&&E.constructor;Ue?he=Fe?new ot:[]:Ji(E)?he=Ts(ot)?Nc(Ki(E)):{}:he={}}return(Ue?dn:bs)(E,function(je,Ze,Et){return O(he,je,Ze,Et)}),he}function un(E,O){return E==null?!0:Pd(E,O)}function pn(E,O,he){return E==null?E:mc(E,O,Rd(he))}function wn(E,O,he,Fe){return Fe=typeof Fe=="function"?Fe:r,E==null?E:mc(E,O,Rd(he),Fe)}function Tn(E){return E==null?[]:js(E,we(E))}function Kt(E){return E==null?[]:js(E,_e(E))}function on(E,O,he){return he===r&&(he=O,O=r),he!==r&&(he=Pa(he),he=he===he?he:0),O!==r&&(O=Pa(O),O=O===O?O:0),lc(Pa(E),O,he)}function zn(E,O,he){return O=va(O),he===r?(he=O,O=0):he=va(he),E=Pa(E),fm(E,O,he)}function $n(E,O,he){if(he&&typeof he!="boolean"&&Ao(E,O,he)&&(O=he=r),he===r&&(typeof O=="boolean"?(he=O,O=r):typeof E=="boolean"&&(he=E,E=r)),E===r&&O===r?(E=0,O=1):(E=va(E),O===r?(O=E,E=0):O=va(O)),E>O){var Fe=E;E=O,O=Fe}if(he||E%1||O%1){var Ue=Wo();return Io(E+Ue*(O-E+vd("1e-"+((Ue+"").length-1))),O)}return Bd(E,O)}var xr=Js(function(E,O,he){return O=O.toLowerCase(),E+(he?cr(O):O)});function cr(E){return Vi(xi(E).toLowerCase())}function sr(E){return E=xi(E),E&&E.replace(fo,Na).replace(zs,"")}function mi(E,O,he){E=xi(E),O=ha(O);var Fe=E.length;he=he===r?Fe:lc(Nr(he),0,Fe);var Ue=he;return he-=O.length,he>=0&&E.slice(he,Ue)==O}function Lr(E){return E=xi(E),E&&Mr.test(E)?E.replace(En,Ko):E}function gr(E){return E=xi(E),E&&zo.test(E)?E.replace(ai,"\\$&"):E}var Ur=Js(function(E,O,he){return E+(he?"-":"")+O.toLowerCase()}),ni=Js(function(E,O,he){return E+(he?" ":"")+O.toLowerCase()}),Yr=Nu("toLowerCase");function qi(E,O,he){E=xi(E),O=Nr(O);var Fe=O?ii(E):0;if(!O||Fe>=O)return E;var Ue=(O-Fe)/2;return Ec(Du(Ue),he)+E+Ec(Oi(Ue),he)}function Xi(E,O,he){E=xi(E),O=Nr(O);var Fe=O?ii(E):0;return O&&Fe<O?E+Ec(O-Fe,he):E}function Gn(E,O,he){E=xi(E),O=Nr(O);var Fe=O?ii(E):0;return O&&Fe<O?Ec(O-Fe,he)+E:E}function li(E,O,he){return he||O==null?O=0:O&&(O=+O),Ic(xi(E).replace(mr,""),O||0)}function Di(E,O,he){return(he?Ao(E,O,he):O===r)?O=1:O=Nr(O),pc(xi(E),O)}function qt(){var E=arguments,O=xi(E[0]);return E.length<3?O:O.replace(E[1],E[2])}var vr=Js(function(E,O,he){return E+(he?"_":"")+O.toLowerCase()});function yr(E,O,he){return he&&typeof he!="number"&&Ao(E,O,he)&&(O=he=r),he=he===r?Ye:he>>>0,he?(E=xi(E),E&&(typeof O=="string"||O!=null&&!Bh(O))&&(O=ha(O),!O&&Qo(E))?go(Un(E),0,he):E.split(O,he)):[]}var fi=Js(function(E,O,he){return E+(he?" ":"")+Vi(O)});function _r(E,O,he){return E=xi(E),he=he==null?0:lc(Nr(he),0,E.length),O=ha(O),E.slice(he,he+O.length)==O}function Li(E,O,he){var Fe=et.templateSettings;he&&Ao(E,O,he)&&(O=r),E=xi(E),O=md({},O,Fe,vp);var Ue=md({},O.imports,Fe.imports,vp),ot=we(Ue),je=js(Ue,ot),Ze,Et,Nt=0,ln=O.interpolate||aa,tn="__p += '",fn=ns((O.escape||aa).source+"|"+ln.source+"|"+(ln===yi?Fo:aa).source+"|"+(O.evaluate||aa).source+"|$","g"),Sn="//# sourceURL="+(nn.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++To+"]")+`
`;E.replace(fn,function(Zn,hr,wr,zr,ui,No){return wr||(wr=zr),tn+=E.slice(Nt,No).replace(sa,Cs),hr&&(Ze=!0,tn+=`' +
__e(`+hr+`) +
'`),ui&&(Et=!0,tn+=`';
`+ui+`;
__p += '`),wr&&(tn+=`' +
((__t = (`+wr+`)) == null ? '' : __t) +
'`),Nt=No+Zn.length,Zn}),tn+=`';
`;var Kn=nn.call(O,"variable")&&O.variable;if(!Kn)tn=`with (obj) {
`+tn+`
}
`;else if(ms.test(Kn))throw new Sr(d);tn=(Et?tn.replace(ir,""):tn).replace(vi,"$1").replace(di,"$1;"),tn="function("+(Kn||"obj")+`) {
`+(Kn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ze?", __e = _.escape":"")+(Et?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tn+`return __p
}`;var br=to(function(){return ti(ot,Sn+"return "+tn).apply(r,je)});if(br.source=tn,Bl(br))throw br;return br}function ri(E){return xi(E).toLowerCase()}function Ui(E){return xi(E).toUpperCase()}function Wa(E,O,he){if(E=xi(E),E&&(he||O===r))return Sl(E);if(!E||!(O=ha(O)))return E;var Fe=Un(E),Ue=Un(O),ot=rc(Fe,Ue),je=yd(Fe,Ue)+1;return go(Fe,ot,je).join("")}function Pr(E,O,he){if(E=xi(E),E&&(he||O===r))return E.slice(0,ea(E)+1);if(!E||!(O=ha(O)))return E;var Fe=Un(E),Ue=yd(Fe,Un(O))+1;return go(Fe,0,Ue).join("")}function Rr(E,O,he){if(E=xi(E),E&&(he||O===r))return E.replace(mr,"");if(!E||!(O=ha(O)))return E;var Fe=Un(E),Ue=rc(Fe,Un(O));return go(Fe,Ue).join("")}function Br(E,O){var he=I,Fe=j;if(Ji(O)){var Ue="separator"in O?O.separator:Ue;he="length"in O?Nr(O.length):he,Fe="omission"in O?ha(O.omission):Fe}E=xi(E);var ot=E.length;if(Qo(E)){var je=Un(E);ot=je.length}if(he>=ot)return E;var Ze=he-ii(Fe);if(Ze<1)return Fe;var Et=je?go(je,0,Ze).join(""):E.slice(0,Ze);if(Ue===r)return Et+Fe;if(je&&(Ze+=Et.length-Ze),Bh(Ue)){if(E.slice(Ze).search(Ue)){var Nt,ln=Et;for(Ue.global||(Ue=ns(Ue.source,xi(gs.exec(Ue))+"g")),Ue.lastIndex=0;Nt=Ue.exec(ln);)var tn=Nt.index;Et=Et.slice(0,tn===r?Ze:tn)}}else if(E.indexOf(ha(Ue),Ze)!=Ze){var fn=Et.lastIndexOf(Ue);fn>-1&&(Et=Et.slice(0,fn))}return Et+Fe}function pi(E){return E=xi(E),E&&Xn.test(E)?E.replace(jt,ta):E}var bi=Js(function(E,O,he){return E+(he?" ":"")+O.toUpperCase()}),Vi=Nu("toUpperCase");function gi(E,O,he){return E=xi(E),O=he?r:O,O===r?ts(E)?Rh(E):Ia(E):E.match(O)||[]}var to=Xr(function(E,O){try{return Dn(E,r,O)}catch(he){return Bl(he)?he:new Sr(he)}}),ia=Sa(function(E,O){return dn(O,function(he){he=io(he),hl(E,he,Af(E[he],E))}),E});function ya(E){var O=E==null?0:E.length,he=Tr();return E=O?kr(E,function(Fe){if(typeof Fe[1]!="function")throw new $o(c);return[he(Fe[0]),Fe[1]]}):[],Xr(function(Fe){for(var Ue=-1;++Ue<O;){var ot=E[Ue];if(Dn(ot[0],this,Fe))return Dn(ot[1],this,Fe)}})}function Ps(E){return rp(os(E,f))}function hs(E){return function(){return E}}function pu(E,O){return E==null||E!==E?O:E}var Gf=Zc(),mu=Zc(!0);function vo(E){return E}function Ml(E){return Bu(typeof E=="function"?E:os(E,f))}function Fc(E){return Su(os(E,f))}function Sc(E,O){return Ws(E,os(O,f))}var gd=Xr(function(E,O){return function(he){return _u(he,E,O)}}),Oa=Xr(function(E,O){return function(he){return _u(E,he,O)}});function Ph(E,O,he){var Fe=we(O),Ue=Hc(O,Fe);he==null&&!(Ji(O)&&(Ue.length||!Fe.length))&&(he=O,O=E,E=this,Ue=Hc(O,we(O)));var ot=!(Ji(he)&&"chain"in he)||!!he.chain,je=Ts(E);return dn(Ue,function(Ze){var Et=O[Ze];E[Ze]=Et,je&&(E.prototype[Ze]=function(){var Nt=this.__chain__;if(ot||Nt){var ln=E(this.__wrapped__),tn=ln.__actions__=ra(this.__actions__);return tn.push({func:Et,args:arguments,thisArg:E}),ln.__chain__=Nt,ln}return Et.apply(E,Zr([this.value()],arguments))})}),E}function Je(){return ur._===this&&(ur._=fr),this}function _t(){}function yt(E){return E=Nr(E),Xr(function(O){return Gc(O,E)})}var It=Cc(kr),Jt=Cc(Ir),Pn=Cc(Jr);function In(E){return bc(E)?Ba(io(E)):$c(E)}function Rn(E){return function(O){return E==null?r:uc(E,O)}}var On=Hu(),yn=Hu(!0);function Mn(){return[]}function Qn(){return!1}function rr(){return{}}function Vn(){return""}function Ln(){return!0}function ar(E,O){if(E=Nr(E),E<1||E>Le)return[];var he=Ye,Fe=Io(E,Ye);O=Tr(O),E-=Ye;for(var Ue=Ma(Fe,O);++he<E;)O(he);return Ue}function pr(E){return Vr(E)?kr(E,io):_o(E)?[E]:ra(eo(xi(E)))}function Dr(E){var O=++bn;return xi(E)+O}var oi=yc(function(E,O){return E+O},0),$r=xc("ceil"),Yi=yc(function(E,O){return E/O},1),Ca=xc("floor");function Ea(E){return E&&E.length?_d(E,vo,Uh):r}function fs(E,O){return E&&E.length?_d(E,Tr(O,2),Uh):r}function Bo(E){return ji(E,vo)}function Pi(E,O){return ji(E,Tr(O,2))}function ci(E){return E&&E.length?_d(E,vo,Mu):r}function Tc(E,O){return E&&E.length?_d(E,Tr(O,2),Mu):r}var yo=yc(function(E,O){return E*O},1),Ja=xc("round"),Mo=yc(function(E,O){return E-O},0);function Ni(E){return E&&E.length?si(E,vo):0}function Xo(E,O){return E&&E.length?si(E,Tr(O,2)):0}return et.after=Mm,et.ary=Mp,et.assign=zp,et.assignIn=Th,et.assignInWith=md,et.assignWith=jp,et.at=Hp,et.before=Fp,et.bind=Af,et.bindAll=ia,et.bindKey=_f,et.castArray=Eh,et.chain=sd,et.chunk=Jo,et.compact=Wd,et.concat=Jd,et.cond=ya,et.conforms=Ps,et.constant=hs,et.countBy=mh,et.create=Up,et.curry=qo,et.curryRight=Bf,et.debounce=Mf,et.defaults=Gp,et.defaultsDeep=$p,et.defer=Ff,et.delay=vh,et.difference=ou,et.differenceBy=qd,et.differenceWith=id,et.drop=Xd,et.dropRight=au,et.dropRightWhile=ls,et.dropWhile=Em,et.fill=Ac,et.filter=mf,et.flatMap=Ap,et.flatMapDeep=_p,et.flatMapDepth=vf,et.flatten=_i,et.flattenDeep=As,et.flattenDepth=us,et.flip=Sf,et.flow=Gf,et.flowRight=mu,et.fromPairs=tf,et.functions=u,et.functionsIn=m,et.groupBy=bm,et.initial=su,et.intersection=Qd,et.intersectionBy=eh,et.intersectionWith=Er,et.invert=se,et.invertBy=ge,et.invokeMap=Cf,et.iteratee=Ml,et.keyBy=uu,et.keys=we,et.keysIn=_e,et.map=Ys,et.mapKeys=Te,et.mapValues=ye,et.matches=Fc,et.matchesProperty=Sc,et.memoize=cd,et.merge=ke,et.mergeWith=Ge,et.method=gd,et.methodOf=Oa,et.mixin=Ph,et.negate=ud,et.nthArg=yt,et.omit=We,et.omitBy=ht,et.once=Tf,et.orderBy=Bp,et.over=It,et.overArgs=Sp,et.overEvery=Jt,et.overSome=Pn,et.partial=yh,et.partialRight=Pf,et.partition=wm,et.pick=vt,et.pickBy=Dt,et.property=In,et.propertyOf=Rn,et.pull=rf,et.pullAll=nh,et.pullAllBy=of,et.pullAllWith=Ta,et.pullAt=Dp,et.range=On,et.rangeRight=yn,et.rearg=Of,et.reject=xf,et.remove=od,et.rest=Tp,et.reverse=_c,et.sampleSize=bf,et.set=Xe,et.setWith=Vt,et.shuffle=Am,et.slice=Dl,et.sortBy=Bm,et.sortedUniq=af,et.sortedUniqBy=_l,et.split=yr,et.spread=Ch,et.tail=Bs,et.take=Jl,et.takeRight=ki,et.takeRightWhile=rh,et.takeWhile=Xs,et.tap=xm,et.throttle=Rf,et.thru=ld,et.toArray=Sh,et.toPairs=At,et.toPairsIn=Wt,et.toPath=pr,et.toPlainObject=Hf,et.transform=rn,et.unary=Lf,et.union=ih,et.unionBy=oh,et.unionWith=sf,et.uniq=ah,et.uniqBy=lu,et.uniqWith=sh,et.unset=un,et.unzip=cu,et.unzipWith=ad,et.update=pn,et.updateWith=wn,et.values=Tn,et.valuesIn=Kt,et.without=lh,et.words=gi,et.wrap=Pp,et.xor=ch,et.xorBy=lf,et.xorWith=uh,et.zip=dh,et.zipObject=hh,et.zipObjectDeep=cf,et.zipWith=fh,et.entries=At,et.entriesIn=Wt,et.extend=Th,et.extendWith=md,Ph(et,et),et.add=oi,et.attempt=to,et.camelCase=xr,et.capitalize=cr,et.ceil=$r,et.clamp=on,et.clone=Xl,et.cloneDeep=If,et.cloneDeepWith=Dh,et.cloneWith=xh,et.conformsTo=bh,et.deburr=sr,et.defaultTo=pu,et.divide=Yi,et.endsWith=mi,et.eq=Fs,et.escape=Lr,et.escapeRegExp=gr,et.every=Ms,et.find=gf,et.findIndex=Yd,et.findKey=Wp,et.findLast=wp,et.findLastIndex=ef,et.findLastKey=Uf,et.floor=Ca,et.forEach=ql,et.forEachRight=yf,et.forIn=Fm,et.forInRight=Sm,et.forOwn=n,et.forOwnRight=o,et.get=B,et.gt=Op,et.gte=Rp,et.has=k,et.hasIn=ne,et.head=Zd,et.identity=vo,et.includes=Bc,et.indexOf=Kd,et.inRange=zn,et.invoke=ve,et.isArguments=Zs,et.isArray=Vr,et.isArrayBuffer=kf,et.isArrayLike=ga,et.isArrayLikeObject=Wi,et.isBoolean=Lp,et.isBuffer=Ss,et.isDate=wh,et.isElement=oo,et.isEmpty=Vf,et.isEqual=uo,et.isEqualWith=Ah,et.isError=Bl,et.isFinite=Nf,et.isFunction=Ts,et.isInteger=_h,et.isLength=dd,et.isMap=hd,et.isMatch=du,et.isMatchWith=Yl,et.isNaN=Ks,et.isNative=Ip,et.isNil=hu,et.isNull=kp,et.isNumber=Vo,et.isObject=Ji,et.isObjectLike=Ti,et.isPlainObject=fu,et.isRegExp=Bh,et.isSafeInteger=zf,et.isSet=fd,et.isString=Qs,et.isSymbol=_o,et.isTypedArray=Zl,et.isUndefined=pd,et.isWeakMap=Vp,et.isWeakSet=Mh,et.join=_s,et.kebabCase=Ur,et.last=ma,et.lastIndexOf=nf,et.lowerCase=ni,et.lowerFirst=Yr,et.lt=Fh,et.lte=Ri,et.max=Ea,et.maxBy=fs,et.mean=Bo,et.meanBy=Pi,et.min=ci,et.minBy=Tc,et.stubArray=Mn,et.stubFalse=Qn,et.stubObject=rr,et.stubString=Vn,et.stubTrue=Ln,et.multiply=yo,et.nth=th,et.noConflict=Je,et.noop=_t,et.now=gh,et.pad=qi,et.padEnd=Xi,et.padStart=Gn,et.parseInt=li,et.random=$n,et.reduce=Mc,et.reduceRight=Ef,et.repeat=Di,et.replace=qt,et.result=Lt,et.round=Ja,et.runInContext=Tt,et.sample=Df,et.size=wf,et.snakeCase=vr,et.some=_m,et.sortedIndex=$l,et.sortedIndexBy=ds,et.sortedIndexOf=bl,et.sortedLastIndex=wl,et.sortedLastIndexBy=Wl,et.sortedLastIndexOf=Al,et.startCase=fi,et.startsWith=_r,et.subtract=Mo,et.sum=Ni,et.sumBy=Xo,et.template=Li,et.times=ar,et.toFinite=va,et.toInteger=Nr,et.toLength=jf,et.toLower=ri,et.toNumber=Pa,et.toSafeInteger=Np,et.toString=xi,et.toUpper=Ui,et.trim=Wa,et.trimEnd=Pr,et.trimStart=Rr,et.truncate=Br,et.unescape=pi,et.uniqueId=Dr,et.upperCase=bi,et.upperFirst=Vi,et.each=ql,et.eachRight=yf,et.first=Zd,Ph(et,function(){var E={};return bs(et,function(O,he){nn.call(et.prototype,he)||(E[he]=O)}),E}(),{chain:!1}),et.VERSION=i,dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(E){et[E].placeholder=et}),dn(["drop","take"],function(E,O){ei.prototype[E]=function(he){he=he===r?1:nr(Nr(he),0);var Fe=this.__filtered__&&!O?new ei(this):this.clone();return Fe.__filtered__?Fe.__takeCount__=Io(he,Fe.__takeCount__):Fe.__views__.push({size:Io(he,Ye),type:E+(Fe.__dir__<0?"Right":"")}),Fe},ei.prototype[E+"Right"]=function(he){return this.reverse()[E](he).reverse()}}),dn(["filter","map","takeWhile"],function(E,O){var he=O+1,Fe=he==De||he==Ee;ei.prototype[E]=function(Ue){var ot=this.clone();return ot.__iteratees__.push({iteratee:Tr(Ue,3),type:he}),ot.__filtered__=ot.__filtered__||Fe,ot}}),dn(["head","last"],function(E,O){var he="take"+(O?"Right":"");ei.prototype[E]=function(){return this[he](1).value()[0]}}),dn(["initial","tail"],function(E,O){var he="drop"+(O?"":"Right");ei.prototype[E]=function(){return this.__filtered__?new ei(this):this[he](1)}}),ei.prototype.compact=function(){return this.filter(vo)},ei.prototype.find=function(E){return this.filter(E).head()},ei.prototype.findLast=function(E){return this.reverse().find(E)},ei.prototype.invokeMap=Xr(function(E,O){return typeof E=="function"?new ei(this):this.map(function(he){return _u(he,E,O)})}),ei.prototype.reject=function(E){return this.filter(ud(Tr(E)))},ei.prototype.slice=function(E,O){E=Nr(E);var he=this;return he.__filtered__&&(E>0||O<0)?new ei(he):(E<0?he=he.takeRight(-E):E&&(he=he.drop(E)),O!==r&&(O=Nr(O),he=O<0?he.dropRight(-O):he.take(O-E)),he)},ei.prototype.takeRightWhile=function(E){return this.reverse().takeWhile(E).reverse()},ei.prototype.toArray=function(){return this.take(Ye)},bs(ei.prototype,function(E,O){var he=/^(?:filter|find|map|reject)|While$/.test(O),Fe=/^(?:head|last)$/.test(O),Ue=et[Fe?"take"+(O=="last"?"Right":""):O],ot=Fe||/^find/.test(O);!Ue||(et.prototype[O]=function(){var je=this.__wrapped__,Ze=Fe?[1]:arguments,Et=je instanceof ei,Nt=Ze[0],ln=Et||Vr(je),tn=function(hr){var wr=Ue.apply(et,Zr([hr],Ze));return Fe&&fn?wr[0]:wr};ln&&he&&typeof Nt=="function"&&Nt.length!=1&&(Et=ln=!1);var fn=this.__chain__,Sn=!!this.__actions__.length,Kn=ot&&!fn,br=Et&&!Sn;if(!ot&&ln){je=br?je:new ei(this);var Zn=E.apply(je,Ze);return Zn.__actions__.push({func:ld,args:[tn],thisArg:r}),new ko(Zn,fn)}return Kn&&br?E.apply(this,Ze):(Zn=this.thru(tn),Kn?Fe?Zn.value()[0]:Zn.value():Zn)})}),dn(["pop","push","shift","sort","splice","unshift"],function(E){var O=nt[E],he=/^(?:push|sort|unshift)$/.test(E)?"tap":"thru",Fe=/^(?:pop|shift)$/.test(E);et.prototype[E]=function(){var Ue=arguments;if(Fe&&!this.__chain__){var ot=this.value();return O.apply(Vr(ot)?ot:[],Ue)}return this[he](function(je){return O.apply(Vr(je)?je:[],Ue)})}}),bs(ei.prototype,function(E,O){var he=et[O];if(he){var Fe=he.name+"";nn.call(Hs,Fe)||(Hs[Fe]=[]),Hs[Fe].push({name:O,func:he})}}),Hs[vc(r,re).name]=[{name:"wrapper",func:r}],ei.prototype.clone=bd,ei.prototype.reverse=Jf,ei.prototype.value=qp,et.prototype.at=bp,et.prototype.chain=uf,et.prototype.commit=df,et.prototype.next=hf,et.prototype.plant=ff,et.prototype.reverse=pf,et.prototype.toJSON=et.prototype.valueOf=et.prototype.value=ph,et.prototype.first=et.prototype.head,ro&&(et.prototype[ro]=Dm),et},Ro=Or();fe?((fe.exports=Ro)._=Ro,te._=Ro):ur._=Ro}).call(commonjsGlobal)})(lodash,lodash.exports);const _$1=lodash.exports;var __awaiter$i=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function useCanvasResizeListener(e,t,r=100){return __awaiter$i(this,void 0,void 0,function*(){if(!store$1.state.MxFun)return void console.error("\u8BF7\u5148\u8C03\u7528loadCoreCode\u65B9\u6CD5! ");if(!e)return void console.error("\u8BF7\u786E\u4FDDmxdrawObj\u53C2\u6570 \u662F\u901A\u8FC7\u8C03\u7528MxFun.createMxObject\u7684callback\u56DE\u8C03\u51FD\u6570\u62FF\u5230\u7684mxDraw\u5BF9\u8C61");let i=e;if(!i.isLoadCanvasResizeListene){i.isLoadCanvasResizeListene=!0;let l;e.addEvent("addResizeEvent",c=>{l=c}),yield dynamicImport("element-resize-event-polyfill");let a=createCanvasParent(t);a.addEventListener?a.addEventListener("resize",_$1.throttle(function(c){l&&l()},r),!1):console.log("mx: parentdiv[addEventListener] invalid")}})}function createReandomId(e=10){return new Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}class MxCADObject{constructor(t){this._mxCAD=t}newFile(){this._mxCAD.newFile()}undo(){this._mxCAD.undo()}openFile(t,r){this._mxCAD.openFile(t,r)}saveFile(t,r){this._mxCAD.saveFile(t,r)}getDisplayFromServer(){this._mxCAD.getDisplayFromServer()}getFileName(){return this._mxCAD.getFileName()}getAllLayerData(){return this._mxCAD.getAllLayerData()}}class MxDbDatabase{constructor(t){this._mxDatabase=t}addLayer(t){return this._mxDatabase.addLayer(t)}showLayer(t,r){this._mxDatabase.showLayer(t,r)}setCurrentLayer(t){return this._mxDatabase.setCurrentLayer(t)}getLayer(t){return this._mxDatabase.getLayer(t)}addEntity(t){return this._mxDatabase.addMxEntity(t)}getGroup(t){return this._mxDatabase.getGroupDictionary().getAt(t)}addGroup(t){return this._mxDatabase.getGroupDictionary().add(t)}getEntityInGroup(t){return this._mxDatabase.getGroupDictionary().getEntityInGroup(t)}deleteGroup(t){return this._mxDatabase.getGroupDictionary().delete(t)}}function setGeometrPostion(e,t){for(let r=0;r<e.vertices.length;r++)e.vertices[r].x+=t.x,e.vertices[r].y+=t.y,e.vertices[r].z+=t.z}function repairGeometryFaceVertexUvs(e){e.computeBoundingBox();const t=e.boundingBox.min,r=e.boundingBox.max,i=new THREE.Vector2(0-t.x,0-t.y),l=new THREE.Vector2(r.x-t.x,r.y-t.y);e.faceVertexUvs[0]=[];const a=e.faces;for(let c=0;c<a.length;c++){const d=a[c],D=e.vertices[d.a],v=e.vertices[d.b],C=e.vertices[d.c];e.faceVertexUvs[0].push([new THREE.Vector2((D.x+i.x)/l.x,(D.y+i.y)/l.y),new THREE.Vector2((v.x+i.x)/l.x,(v.y+i.y)/l.y),new THREE.Vector2((C.x+i.x)/l.x,(C.y+i.y)/l.y)])}return e.uvsNeedUpdate=!0,e}function getToGenerateRoundedCorners(e,t,r=!0){if(t.length>0){const i=new THREE.CurvePath;r||e.push(e[0]);for(let l=0;l<e.length-1;l++){const a=t[l]||0;if(l===0&&!r){const w=e[0].clone().sub(e[1]);w.normalize();const F=e[1].clone();F.add(w.clone().multiplyScalar(a));const T=new THREE.LineCurve3(e[0],F);i.curves.push(T);continue}const c=!r||e[l-1]?e[l-1].clone().sub(e[l]):e[e.length-1].clone().sub(e[0]);c.normalize();const d=!r||e[l+1]?e[l+1].clone().sub(e[l]):e[1].clone().sub(e[0]);d.normalize(),e[l].clone().add(c.clone().multiplyScalar(a));const D=e[l].clone().add(c.clone().multiplyScalar(a)),v=e[l].clone(),C=e[l].clone().add(d.clone().multiplyScalar(a)),f=new THREE.QuadraticBezierCurve3(D,v,C);if(l===e.length-2){const w=e[l].clone();w.add(d.clone().multiplyScalar(a));const F=e[l+1].clone();r?F.add(d.clone().multiplyScalar(-a)):F.add(d.clone());const T=new THREE.LineCurve3(w,F);i.curves.push(f,T)}else i.curves.push(f);l===0&&e.push(e[0])}return i.getPoints(50)}return e}function computeRectPoints(e,t){return[e,e.clone().set(t.x,e.y,t.z),t,t.clone().set(e.x,t.y,e.z)]}function calculateArcOrigin(e,t,r){const i=e.x,l=t.x,a=r.x,c=e.y,d=t.y,D=r.y,v=i-l,C=c-d,f=i-a,w=c-D,F=(i*i-l*l+(c*c-d*d))/2,T=(i*i-a*a+(c*c-D*D))/2,R=C*f-v*w,ee=-(w*F-C*T)/R,re=-(v*T-f*F)/R;return new THREE.Vector3(ee,re,0)}function calculateRadiusArc(e,t){const r=e.x,i=e.y,l=t.x,a=t.y;return Math.sqrt((r-l)*(r-l)+(i-a)*(i-a))}function calculateArcAngle(e,t,r){const i=e.x,l=t.x;let a,c,d;return a=(e.y-t.y)/r,(c=(i-l)/r)>=.99999&&(c=.99999),c<=-.99999&&(c=-.99999),d=(d=Math.acos(c))/Math.PI*180,a<-.05&&(d=360-d),{sin:a,cos:c,angle:d}}function judgementArcRenderDirection(e,t,r){let i;return i=e<r?r-e:r-e+360,(e<t?t-e:t-e+360)>i}function createThreePointArc(e,t,r,i=!1,l=!1,a=new THREE.Color("#ff0000")){const c=calculateArcOrigin(e,t,r),d=c.x,D=c.y,v=calculateRadiusArc(e,c),C=calculateArcAngle(e,c,v),f=calculateArcAngle(t,c,v),w=calculateArcAngle(r,c,v);let F,T,R=C.angle,ee=f.angle,re=w.angle,ae=judgementArcRenderDirection(R,ee,re);l&&(ae=!0),i?(T=new THREE.ArcCurve(d,D,v,THREE.MathUtils.degToRad(R),THREE.MathUtils.degToRad(ee),!ae),F=ae?ee>R?THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle):360-Math.abs(THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle)):R>ee?Math.abs(THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle)):360-THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle)):(T=new THREE.ArcCurve(d,D,v,THREE.MathUtils.degToRad(R),THREE.MathUtils.degToRad(re),ae),F=ae?re>R?360-THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle):Math.abs(THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle)):R>re?360+THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle):THREE.MathUtils.radToDeg(T.aEndAngle-T.aStartAngle));const ce=F*Math.PI*v/180,ue=new THREE.BufferGeometry().setFromPoints(T.getPoints(50)),de=new THREE.LineBasicMaterial({color:a});return{arc:new THREE.Line(ue,de),radius:v,angle:F,arcLength:ce}}function computeRegularPolygonVertices(e=new THREE.Vector3,t=new THREE.Vector3,r=3){const i=[];r=Math.max(3,r),i.push(t);const l=2*Math.PI/r;for(let a=1;a<r;a++){const c=Math.cos(l*a),d=Math.sin(l*a),D=e.clone(),v=t.clone(),C=v.x-D.x,f=v.y-D.y,w=new THREE.Vector3(C*c-f*d+D.x,C*d+f*c+D.y);i.push(w)}return i}function computeBounding(e){if(e.length==0){let t=new THREE.Vector3;return{centerPoint:t,minPoint:t,maxPoint:t}}{let t=new THREE.Vector3(e[0].x,e[0].y,e[0].z||0),r=new THREE.Vector3(e[0].x,e[0].y,e[0].z||0),i=e.length;for(let l=1;l<i;l++){let a=e[l];t.x>a.x&&(t.x=a.x),t.y>a.y&&(t.y=a.y),r.x<a.x&&(r.x=a.x),r.y<a.y&&(r.y=a.y)}return{centerPoint:new THREE.Vector3(t.x+.5*(r.x-t.x),t.y+.5*(r.y-t.y),0),minPoint:t,maxPoint:r}}}function MxThreeJSMixin(e){return e.createImage=function(t,r,i,l,a){if(!a)return new Promise((c,d)=>{e.createImage.call(this,t,r,i,l,D=>c(D))});new THREE.TextureLoader().load(l,function(c){let d=new THREE.PlaneGeometry(r,i),D=new THREE.MeshLambertMaterial({map:c,transparent:!0,side:THREE.DoubleSide});D.map&&(D.map.needsUpdate=!0),setGeometrPostion(d,t);let v=new THREE.Mesh(d,D);v.material.depthTest=!1,a&&a(v)},void 0,function(c){console.log(c),a&&a(null)})},e.loadSVG=function(t,r,i,l){return i?(store$1.state.MxFun.loadSVG(t,r,i,l),new Promise(a=>{a(null)})):new Promise(a=>{store$1.state.MxFun.loadSVG(t,r,c=>{a(c)},l)})},e.clacTextSize=(t,r)=>store$1.state.MxFun.getMxThreeJS().clacTextSize(t,r),e.clacTextSpriteSize=(t,r,i)=>store$1.state.MxFun.getMxThreeJS().clacTextSpriteSize(t,r,i),e.creatTextSprite=(t,r,i,l,a)=>t.length===0?null:store$1.state.MxFun.getMxThreeJS().creatTextSprite(t,r,i,l,a),e}class MxThreeJS$2{createLine(t,r,i){const l=new THREE.Geometry,a=new THREE.LineBasicMaterial({color:i});return l.vertices.push(t,r),new THREE.Line(l,a)}createCircle(t,r,i){const l=new THREE.CircleGeometry(r,64,3,2*Math.PI),a=new THREE.LineBasicMaterial({color:i});l.vertices.shift();const c=new THREE.LineLoop(l,a),{x:d,y:D,z:v}=t;return c.position.set(d,D,v),c}createPoint(t,r,i=3){const l=new THREE.Geometry;l.vertices.push(t);const a=new THREE.PointsMaterial({color:r,size:i});return new THREE.Points(l,a)}createTriangle(t,r,i=1){if(t.length<3)return null;const l=t.length,a=new THREE.Geometry;for(let d=0;d+2<l;d+=3){a.vertices.push(t[d]),a.vertices.push(t[d+1]),a.vertices.push(t[d+2]);const D=new THREE.Face3(d,d+1,d+2);a.faces.push(D)}a.computeFaceNormals(),a.computeVertexNormals();const c=new THREE.MeshBasicMaterial({color:r,transparent:!0,depthTest:!1,side:THREE.DoubleSide,opacity:i});return new THREE.Mesh(a,c)}createLines(t,r){const i=new THREE.Geometry;i.vertices=t;const l=new THREE.LineBasicMaterial({color:r});return new THREE.Line(i,l)}createDashedLines(t,r,i,l){const a=new THREE.Geometry;a.vertices=t;const c=new THREE.Line(a,new THREE.LineDashedMaterial({color:r,dashSize:i,gapSize:l}));return c.computeLineDistances(),c}}const MxThreeJS=MxThreeJSMixin(new MxThreeJS$2),MxThreeJS$1=MxThreeJS;var __awaiter$h=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};class MxDrawObject{constructor(t){this._mxdrawObj=t}getScene(){return this._mxdrawObj.getScene()}getCamera(){return this._mxdrawObj.getCamera()}getRenderer(){return this._mxdrawObj.renderer}setMouseRightRotate(t=!0){return this._mxdrawObj.setMouseRightRotate(t)}getFullDisplayRange(){return this._mxdrawObj.getFullDisplayRange()}getCanvas(){return this._mxdrawObj.getCanvas()}updateDisplay(){return this._mxdrawObj.updateDisplay()}createCanvasImageData(t,r){return this._mxdrawObj.createCanvasImageData(t,r)}setViewColor(t){return this._mxdrawObj.setViewColor(t)}setSize(t,r){return this._mxdrawObj.setSize(t,r)}getIntersectObjects(t){return this._mxdrawObj.getIntersectObjects(t)}addObject(t,r=!0){return this._mxdrawObj.addObject(t,r)}addViewObject(t){return this._mxdrawObj.addViewObject(t)}getViewWidth(){return this._mxdrawObj.getViewWidth()}getViewHeight(){return this._mxdrawObj.getViewHeight()}removeObject(t,r=!0){return this._mxdrawObj.removeObject(t,r)}zoomInitialStates(){return this._mxdrawObj.zoomInitialStates()}zoomScale(t){return this._mxdrawObj.zoomScale(t)}zoomW(t,r,i){return this._mxdrawObj.zoomW(t,r,i)}zoomCenter(t,r){return this._mxdrawObj.zoomCenter(t,r)}initZoomW(t,r){return this._mxdrawObj.initZoomW(t,r)}addEvent(t,r){return this._mxdrawObj.addEvent(t,r)}removeEventFuction(t,r){return this._mxdrawObj.removeEventFuction(t,r)}on(t,r){return this._mxdrawObj.addEvent(t,r)}setIniset(t){return this._mxdrawObj.setIniset(t)}screenCoord2World(t,r,i){return this._mxdrawObj.screenCoord2World(t,r,i)}worldCoord2Screen(t,r,i){return this._mxdrawObj.worldCoord2Screen(t,r,i)}screenCoord2Doc(t,r){return this._mxdrawObj.screenCoord2Doc(t,r,0)}worldCoordLong2Doc(t){return this._mxdrawObj.worldCoordLong2Doc(t)}docCoordLong2World(t){return this._mxdrawObj.docCoordLong2World(t)}docCoord2World(t,r,i){return this._mxdrawObj.docCoord2World(t,r,i)}docCoord2World2(t){return this._mxdrawObj.docCoord2World(t.x,t.y,t.z)}worldCoord2Doc(t,r,i){return this._mxdrawObj.worldCoord2Doc(t,r,i)}worldCoord2Doc2(t){return this._mxdrawObj.worldCoord2Doc(t.x,t.y,t.z)}docCoord2Screen(t,r){return this._mxdrawObj.docCoord2Screen(t,r,0)}screenCoordLong2Doc(t){return this._mxdrawObj.screenCoordLong2Doc(t)}docCoordLong2Screen(t){return this._mxdrawObj.docCoordLong2Screen(t)}screenCoordLong2World(t){return this._mxdrawObj.screenCoordLong2World(t)}worldCoordLong2Screen(t){return this._mxdrawObj.worldCoordLong2Screen(t)}initRendererParam(t){return this._mxdrawObj.initRendererParam(t)}addMxEntity(t){return this._mxdrawObj.addMxEntity(t)}getMxCurrentSelect(){let t=this._mxdrawObj.getMxAllSelect();return t.length==0&&(t=this._mxdrawObj.getPrvCommandSelect()),t}addMxCurrentSelect(t){return this._mxdrawObj.addMxCurrentSelect(t)}clearMxCurrentSelect(){return this._mxdrawObj.clearMxCurrentSelect()}getMxEntity(t){return this._mxdrawObj.getMxEntityUserObject(t)}findMxEntityAtPoint(t,r,i){return this._mxdrawObj.findMxEntityAtPoint(t,r,i)}getAllMxEntity(){return this._mxdrawObj.getAllMxEntity()}setMouseMiddlePan(t){return this._mxdrawObj.setMouseMiddlePan(t)}resetThreeJSControls(){return this._mxdrawObj.resetThreeJSControls()}enableZoom(t){return this._mxdrawObj.enableZoom(t)}enablePan(t){return this._mxdrawObj.enablePan(t)}eraseMxEntity(t){return this._mxdrawObj.eraseMxEntity(t)}removeViewObject(t){this._mxdrawObj.removeViewObject(t)}saveMxEntityToJson(t){return JSON.stringify(this._mxdrawObj.saveMxEntityToJson(t))}saveMxEntityToObject(t){return this._mxdrawObj.saveMxEntityToJson(t)}loadMxEntityFromJson(t,r=null){return __awaiter$h(this,void 0,void 0,function*(){if(r){let i=r.length;for(let l=0;l<i;l++)yield MxThreeJS$1.loadSVG(r[l])}return this.getAllMxEntity().forEach(i=>{for(let l in i)Reflect.deleteProperty(i,l)}),typeof t=="string"?this._mxdrawObj.loadMxEntityFromJson(JSON.parse(t)):this._mxdrawObj.loadMxEntityFromJson(t)})}eraseAllMxEntity(){return this._mxdrawObj.eraseAllMxEntity()}makeCurrent(){this._mxdrawObj.makeCurrent()}getViewCenterDocCoord(){return this._mxdrawObj.getViewCenterDocCoord()}updateCanvasSize(){this._mxdrawObj.updateCanvasSize()}newFile(t,r,i,l){return this._mxdrawObj.newFile(t,r,i,l)}stopAllLoading(){this._mxdrawObj.stopAllLoading()}getOrbitControls(){return this._mxdrawObj.getOrbitControls()}enableViewControls(t){return this._mxdrawObj.enableViewControls(t)}getMxDatabase(){return new MxDbDatabase(this._mxdrawObj.getMxDatabase())}setZoomSpeed(t){return this._mxdrawObj.setZoomSpeed(t)}getMxCAD(){let t=this._mxdrawObj.getMxCAD();return new MxCADObject(t)}resetRenderer(){return this._mxdrawObj.resetRenderer()}setRequestHeader(t){return this._mxdrawObj.setRequestHeader(t)}closeWebSocket(){return this._mxdrawObj.closeWebSocket()}cadCoord2Doc(t,r,i){return this._mxdrawObj.cadCoord2Doc(t,r,i)}docCoord2Cad(t,r,i){return this._mxdrawObj.docCoord2Cad(t,r,i)}setViewAngle(t){return this._mxdrawObj.setViewAngle(t)}getViewAngle(){return this._mxdrawObj.getViewAngle()}getSysVar(t){return this._mxdrawObj.sysVariable().getSysVar()}setSysVar(t,r){return this._mxdrawObj.sysVariable().setSysVar(t,r)}isMxCAD(){return this._mxdrawObj.isMxCAD()}getMxObjectImplement(){return this._mxdrawObj}getAllLayoutName(){return this._mxdrawObj.getAllLayoutName()}getDtabaseJsonString(){return this._mxdrawObj.getDtabaseJsonString()}gotoLayout(t){return this._mxdrawObj.gotoLayout(t)}initMxCpp(t){return this._mxdrawObj.initMxCpp(t)}isWebgl2(){return this._mxdrawObj.isWebgl2()}getId(){return this._mxdrawObj.getId()}addControlsEvent(t,r,i=!1){return this._mxdrawObj.addControlsEvent(t,r,i)}}class McEdGetPointWorldDrawObject{constructor(){var t;this._McEdGetPointWorldDraw=new((t=store$1.state.MxFun)===null||t===void 0?void 0:t.getMxJigCmdManager().McEdGetPointWorldDrawObjectClass()),this._get=()=>this._McEdGetPointWorldDraw}drawCircle(t,r){return this._McEdGetPointWorldDraw.drawCircle(t,r)}drawLine(t,r){return this._McEdGetPointWorldDraw.drawLine(t,r)}drawEntity(t,r){return this._McEdGetPointWorldDraw.drawEntity(t,r)}drawMcDbEntity(t){return this._McEdGetPointWorldDraw.drawMcDbEntity(t)}drawMcDbLine(t,r,i,l,a,c){return this._McEdGetPointWorldDraw.drawMcDbLine(t,r,i,l,a,c)}drawText(t,r,i,l){return this._McEdGetPointWorldDraw.drawText(t,r,i,l)}setDraw(t){return this._McEdGetPointWorldDraw.setDraw(t)}setColor(t){return this._McEdGetPointWorldDraw.setColor(t)}getColor(){return this._McEdGetPointWorldDraw.getColor()}drawCustomEntity(t,r){return this._McEdGetPointWorldDraw.drawCustomEntity(t,r)}}var MxCursorType;(function(e){e[e.kNormal=0]="kNormal",e[e.kRect=1]="kRect",e[e.kCross=2]="kCross"})(MxCursorType||(MxCursorType={}));class MrxDbgUiPrPoint{constructor(){var t;this._MrxDbgUiPrPoint=new((t=store$1.state.MxFun)===null||t===void 0?void 0:t.getMxJigCmdManager().getMrxDbgUiPrPointClass())}keyWords(){return this._MrxDbgUiPrPoint.keyWords()}setKeyWords(t){return this._MrxDbgUiPrPoint.setKeyWords(t)}message(){return this._MrxDbgUiPrPoint.message()}setMessage(t){return this._MrxDbgUiPrPoint.setMessage(t)}keyWordPicked(){return this._MrxDbgUiPrPoint.keyWordPicked()}isKeyWordPicked(t){return this._MrxDbgUiPrPoint.isKeyWordPicked(t)}setUserDraw(t){if(typeof t!="function")return this._MrxDbgUiPrPoint.setUserDraw(t._get?t._get():t);{const r=new McEdGetPointWorldDrawObject;r.setDraw(t),this._MrxDbgUiPrPoint.setUserDraw(r._get())}}value(){return this._MrxDbgUiPrPoint.value()}getCADValue(){return this._MrxDbgUiPrPoint.getCADValue()}valueDocCoord(){return this._MrxDbgUiPrPoint.valueDocCoord()}basePt(){return this._MrxDbgUiPrPoint.basePt()}setBasePt(t){return this._MrxDbgUiPrPoint.setBasePt(t)}setUseBasePt(t){return this._MrxDbgUiPrPoint.setUseBasePt(t)}go(t){let r=this;return t?(r._MrxDbgUiPrPoint.go(t),new Promise((i,l)=>{i(null)})):new Promise((i,l)=>{r._MrxDbgUiPrPoint.go(a=>{i(a!=0?null:r._MrxDbgUiPrPoint.value())})})}goWhile(t,r){return this._MrxDbgUiPrPoint.goWhile(t,r)}drawReserve(t){return this._MrxDbgUiPrPoint.drawReserve(t)}setInputToucheType(t){return this._MrxDbgUiPrPoint.setInputToucheType(t)}getInputToucheType(){return this._MrxDbgUiPrPoint.getInputToucheType()}setCursorType(t){this._MrxDbgUiPrPoint.setCursorType(t)}getCursorType(){return this._MrxDbgUiPrPoint.getCursorType()}}class MxVueComandLine{constructor(){this.msCmdText="",this.msCmdDisplay="",this.msCmdTip="",this.mUpDisplayFun=void 0,this.mxFunObject=void 0,this.mountUpDisplayFun=t=>{this.mUpDisplayFun=t},this.setCmdText=t=>{this.msCmdText=t},this.getCmdText=()=>this.msCmdText,this.getCmdDisplay=()=>this.msCmdDisplay,this.setCmdDisplay=t=>{this.msCmdDisplay=t},this.addCmdDisplay=t=>{this.msCmdDisplay.length>1024?(this.msCmdDisplay=this.msCmdDisplay.substring(this.msCmdDisplay.length-1024,this.msCmdDisplay.length),this.msCmdDisplay=this.msCmdDisplay+t):this.msCmdDisplay=this.msCmdDisplay+t},this.setCmdTip=t=>{this.msCmdTip=t},this.getCmdTip=()=>this.msCmdTip}upDisplay(){const{msCmdTip:t,msCmdDisplay:r,msCmdText:i}=this;this.mUpDisplayFun!=null&&this.mUpDisplayFun({msCmdTip:t,msCmdDisplay:r,msCmdText:i})}}const MxInputType={kNoInput:0,kXYCoordInput:1,kDistanceInput:2,kDynTip:3},MxInputPostionType={kRelative:0,kAbsolutely:1};class MxDynamicInput{constructor(){this.mType=MxInputType.kNoInput,this.mPos=[0,0],this.mTip="",this.mValue1="",this.mValue1Pos=[0,0],this.mValue2="",this.mValue2Pos=[0,0],this.misShow=!1,this.mOnKeydownEvent=void 0,this.mFocusValue="",this.setFocusValue=t=>{this.mFocusValue=t},this.getFocusValue=()=>this.mFocusValue,this.mountKeydownEvent=t=>{this.mOnKeydownEvent=t},this.onKeydown=t=>{this.mOnKeydownEvent!=null&&this.mOnKeydownEvent(t)},this.setType=t=>{this.mType=t},this.getType=()=>this.mType,this.isShow=()=>this.misShow,this.setPos=t=>{this.mPos=t},this.setTip=t=>{this.mTip=t},this.setValue1=t=>{this.mValue1=t},this.getValue1=()=>this.mValue1,this.setValue1Pos=t=>{this.mValue1Pos=t},this.setValue2=t=>{this.mValue2=t},this.getValue2=()=>this.mValue2,this.setValue2Pos=t=>{this.mValue2Pos=t},this.setShow=t=>{this.misShow=t},this.getData=()=>{if(!this.misShow)return;let t={list:[{value:"",readonly:!0},{value:"",readonly:!1},{value:"",readonly:!1}],pos:this.mPos,postype:MxInputPostionType.kRelative};return this.mType!=MxInputType.kNoInput?(this.mType==MxInputType.kXYCoordInput?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!0,t.list[1].value=this.mValue1,t.list[1].readonly=!1,t.list[2].show=!0,t.list[2].value=this.mValue2,t.list[2].readonly=!1):this.mType==MxInputType.kDistanceInput?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!0,t.list[1].value=this.mValue1,t.list[1].readonly=!1,t.list[1].pos=this.mValue1Pos,t.list[2].show=!0,t.list[2].value=this.mValue2,t.list[2].readonly=!0,t.list[2].pos=this.mValue2Pos,t.postype=MxInputPostionType.kAbsolutely):this.mType==MxInputType.kDynTip?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!1,t.list[2].show=!1):t=void 0,t):void 0}}}const CursorType={kNormal:"Normal",kRect:"Rect",kCross:"Cross"};class MxVueInterface{constructor(){this.mSetCoordFun=void 0,this.mUpdateCursorFun=void 0,this.mOnKeydownEvent=void 0,this.mCursorType=CursorType.kNormal,this.mComandLine=new MxVueComandLine,this.mdynamicInput=new MxDynamicInput,this.mMxEvents={},this.mountSetCoordFun=t=>{this.mSetCoordFun=t},this.mountUpdateCursorFun=t=>{this.mUpdateCursorFun=t},this.mountKeydownEvent=t=>{this.mOnKeydownEvent=t},this.onKeydown=t=>{this.mOnKeydownEvent!=null&&this.mOnKeydownEvent(t)},this.setTipCoord=t=>{this.mSetCoordFun!=null&&this.mSetCoordFun(t)},this.getCursorType=()=>this.mCursorType,this.setCursorType=t=>{if(typeof t=="number")switch(t){case 0:this.mCursorType=CursorType.kNormal;break;case 1:this.mCursorType=CursorType.kRect;break;case 2:this.mCursorType=CursorType.kCross}else this.mCursorType=t;this.mUpdateCursorFun!=null&&this.mUpdateCursorFun(this.mCursorType)},this.getTitle=()=>this.mTitle,this.getTopButtonBarData=()=>this.mTopButtonBarData,this.getMenuBarData=()=>this.mMenuBarData,this.getRighButtonBarData=()=>this.mRighButtonBarData,this.getLeftButtonBarData=()=>this.mLeftButtonBarData,this.getTitleButtonBarData=()=>this.mTitleButtonBarData,this.getLayerComboxData=()=>this.mLayerComboxData,this.getColorComboxData=()=>this.mColorComboxData,this.getLinetypeComboxData=()=>this.mLinetypeComboxData,this.getFooterData=()=>this.mFooterData,this.sendStringToExecute=t=>{this.mxFunObject.sendStringToExecute(t)},this.getCmdLine=()=>this.mComandLine,this.getDynamicInput=()=>this.mdynamicInput,this.init=t=>{this.mxFunObject=t},this.OnMxEvent=t=>{const r=t.name;if(r==null)return;const i=this.mMxEvents[r];i?.(t.param)},this.mountMxEvent=(t,r)=>{this.mMxEvents[t]=r}}}const mxUiData$1=new MxVueInterface,mxDefaultUiData=mxUiData$1;let mxUiData=mxDefaultUiData;class MxFunClass{constructor(){this.listenForUpdateCursor=t=>{mxUiData.mountUpdateCursorFun(t)}}createMxObject({canvasId:t=createReandomId(),cadFile:r="",callback:i,isNewFile:l=!1,useWebsocket:a=!1,isAutoResize:c=!0,mapBox:d,isMxCAD:D=!1,userIdentitySign:v="emptyUserIdentity",isCPPMxCAD:C=!1}){if(this.initUiDataObject(mxUiData),!a&&l&&(l=!1),d){const f=d.canvas;store$1.state.MxFun.createMxObject(f,r,w=>{let F=new MxDrawObject(w);w.setIniset({EnableOsnapFunction:!0}),i&&i(F,{canvas:f,canvasParent:void 0})},void 0,l,a,d)}else if(C){const f=createCanvas(t),w=createCanvasParent(f);w.parentNode&&w.parentNode.nodeType!=11||document.body.appendChild(w);let F=!0;store$1.state.MxFun.createMxObject(t,"",T=>{let R=new MxDrawObject(T);T.setMouseRightRotate(!1),T.setIniset({EnableOsnapFunction:!0}),T.addEvent("onResize",()=>(w.tabindex=3,{width:w.clientWidth,height:w.clientHeight})),c&&useCanvasResizeListener(R,f),i&&i(R,{canvas:f,canvasParent:w})},F,!1,!1,void 0,C)}else{const f=createCanvas(t),w=createCanvasParent(f);w.parentNode&&w.parentNode.nodeType!=11||document.body.appendChild(w);let F;D&&(F=!0,a=!0),store$1.state.MxFun.createMxObject(t,r,T=>{let R=new MxDrawObject(T);D&&(v.length==0&&(v="invalidUserIdentity"),T.initRunMode(2),T.initUserLoginData(v,"")),T.setMouseRightRotate(!1),T.setIniset({EnableOsnapFunction:!0}),T.addEvent("onResize",()=>(w.tabindex=3,{width:w.clientWidth,height:w.clientHeight})),c&&useCanvasResizeListener(R,f),i&&i(R,{canvas:f,canvasParent:w})},F,l,a,void 0)}}setMxServer(t="ws://localhost:5090"){store$1.state.MxFun.setMxServer(t)}enablStaticLoad(t){store$1.state.MxFun.enablStaticLoad(t)}setStaticServer(t){store$1.state.MxFun.setStaticServer(t)}addCommand(t,r){store$1.state.MxFun.addCommand(t,r)}sendStringToExecute(t,...r){return store$1.state.MxFun.sendStringToExecute(t,...r)}call(t,r,i){return store$1.state.MxFun.call(t,r,i)}getCurrentDraw(){return new MxDrawObject(store$1.state.MxFun.getCurrentDraw())}getCurrentDatabase(){let t=store$1.state.MxFun.getCurrentDraw();return new MxDbDatabase(t.getMxDatabase())}screenCoordLong2World(t){return store$1.state.MxFun.screenCoordLong2World(t)}screenCoordLong2Doc(t){return store$1.state.MxFun.screenCoordLong2Doc(t)}docCoordLong2Screen(t){return store$1.state.MxFun.docCoordLong2Screen(t)}worldCoordLong2Doc(t){return store$1.state.MxFun.worldCoordLong2Doc(t)}docCoordLong2World(t){return store$1.state.MxFun.docCoordLong2World(t)}screenCoord2World(t,r,i){return store$1.state.MxFun.screenCoord2World(t,r,i)}worldCoord2Screen(t,r,i){return store$1.state.MxFun.worldCoord2Screen(t,r,i)}docCoord2World(t,r,i){return store$1.state.MxFun.docCoord2World(t,r,i)}worldCoord2Doc(t,r,i){return store$1.state.MxFun.worldCoord2Doc(t,r,i)}screenCoord2Doc(t,r){return store$1.state.MxFun.screenCoord2Doc(t,r,0)}docCoord2Screen(t,r){return store$1.state.MxFun.docCoord2Screen(t,r,0)}updateDisplay(){return store$1.state.MxFun.updateDisplay()}addWindowsEvent(t){return store$1.state.MxFun.addWindowsEvent(t)}isRunningCommand(){return store$1.state.MxFun.isRunningCommand()}zoomW(t,r,i,l,a){return store$1.state.MxFun.zoomW(t,r,i,l,a)}showLayer(t,r,i){return store$1.state.MxFun.showLayer(t,r,i)}getCurrentMxCAD(){let t=store$1.state.MxFun.getCurrentMxCAD();return new MxCADObject(t)}getQueryString(t){return store$1.state.MxFun.getQueryString(t)}setIniset(t){return store$1.state.MxFun.setIniset(t)}upDisplayForLayerData(t){return store$1.state.MxFun.upDisplayForLayerData(t)}initUiDataObject(t){return mxUiData=t,store$1.state.MxFun.initUiDataObject(t)}getUIData(){return mxUiData}testMX(t){return 11}loadImageMaterial(t,r){return r?(store$1.state.MxFun.loadImageMaterial(t,r),new Promise((i,l)=>{i(null)})):new Promise((i,l)=>{store$1.state.MxFun.loadImageMaterial(t,a=>{i(a||null)})})}openFile(t,r=!1){return store$1.state.MxFun.openFile(t,r)}addToCurrentSpace(t){return this.getCurrentDraw().addMxEntity(t)}selectEnt(t,r=null){return new Promise((i,l)=>{const a=new MrxDbgUiPrPoint;a.setMessage(t),a.go(c=>{if(c!=0)return void i(0);const d=a.value();let D=this.getCurrentDraw().findMxEntityAtPoint(d),v=0;for(;D.length!=0;){let C=D.length;for(let f=0;f<C;f++){let w=D[f];if(!r||!r.type||r.type==w.getTypeName()){v=w.objectId();break}}break}i(v)})})}listenForCommandLineInput(t){mxUiData.getCmdLine().mountUpDisplayFun(t)}setCommandLineInputData(t,r){mxUiData.getCmdLine().setCmdText(t),mxUiData.onKeydown(r)}listenForCoordTip(t){mxUiData.mountSetCoordFun(t)}getMxFunTHREE(){return store$1.state.MxFun.getTHREE()}getMxFunThreeTool(){return store$1.state.MxFun.getMxThreeJS()}ceneratecursor(t=128,r=10,i=!0,l){return store$1.state.MxFun.ceneratecursor(t,r,i,l)}callCommand(t,r,i){return store$1.state.MxFun.callCommand(t,r,i)}cadCoord2Doc(t,r,i){return store$1.state.MxFun.cadCoord2Doc(t,r,i)}docCoord2Cad(t,r,i){return store$1.state.MxFun.docCoord2Cad(t,r,i)}getMxEntity(t){return store$1.state.MxFun.getMxEntity(t)}getCurrentMousePostion(){let t=store$1.state.MxFun.getCurrentMousePostion();return new THREE.Vector3(t.x,t.y,0)}stopRunCommand(){return store$1.state.MxFun.stopRunCommand()}initMxCpp(t){return store$1.state.MxFun.initMxCpp(t)}docCoordLong2Cad(t){return store$1.state.MxFun.docCoordLong2Cad(t)}cadCoordLong2Doc(t){return store$1.state.MxFun.cadCoordLong2Doc(t)}viewCoordLong2Cad(t){return store$1.state.MxFun.viewCoordLong2Cad(t)}cadCoordLong2View(t){return store$1.state.MxFun.cadCoordLong2View(t)}}const MxFun=new MxFunClass,MxFun$1=MxFun;var MxCloneType;(function(e){e[e.kClone=1]="kClone",e[e.kDragClone=2]="kDragClone",e[e.kMxFileClone=3]="kMxFileClone",e[e.kSaveDwgClone=4]="kSaveDwgClone"})(MxCloneType||(MxCloneType={}));var MxDefaultRenderOrder;(function(e){e[e.kCADMeshRenderOrder=10]="kCADMeshRenderOrder",e[e.kCADCurveRenderOrder=20]="kCADCurveRenderOrder",e[e.kMxEntityRenderOrder=30]="kMxEntityRenderOrder",e[e.kGripRenderOrder=110]="kGripRenderOrder",e[e.kDynJigRenderOrder=120]="kDynJigRenderOrder"})(MxDefaultRenderOrder||(MxDefaultRenderOrder={}));var InputToucheType;(function(e){e[e.kGetBegan=1]="kGetBegan",e[e.kGetEnd=2]="kGetEnd"})(InputToucheType||(InputToucheType={}));const MxType=Object.freeze(Object.defineProperty({__proto__:null,get MxCloneType(){return MxCloneType},get MxDefaultRenderOrder(){return MxDefaultRenderOrder},get InputToucheType(){return InputToucheType}},Symbol.toStringTag,{value:"Module"}));class MxassemblyClass{constructor(){this.mxassembly=null}initImp(){this.mxassembly||store$1.state.Mxassembly&&(this.mxassembly=store$1.state.Mxassembly)}NewMcGePoint3d(t,r,i){this.initImp();let l=new this.mxassembly.McGePoint3d;return t&&(l.x=t),r&&(l.y=r),i&&(l.z=i),l}NewMcGePoint3dArray(t){this.initImp();let r=new this.mxassembly.McGePoint3dArray;return t&&t.forEach(i=>{let l=this.NewMcGePoint3d();l.x=i.x,l.y=i.y,l.z=i.z,r.append(l)}),r}}const Mxassembly=new MxassemblyClass,Mxassembly$1=Mxassembly;class McGeToolClass{constructor(){this.mxgeTool=null}initImp(){this.mxgeTool||store$1.state.Mxassembly&&(this.mxgeTool=new store$1.state.Mxassembly.McGeTool)}calcArea(t){if(this.initImp(),t instanceof Array){let r=Mxassembly$1.NewMcGePoint3dArray(t);return this.mxgeTool.calcArea(r)}return this.mxgeTool.calcArea(t)}pointInPolyline(t,r){this.initImp();let i=r;r instanceof Array&&(i=Mxassembly$1.NewMcGePoint3dArray(r));let l=Mxassembly$1.NewMcGePoint3d(t.x,t.y,t.z);return this.mxgeTool.pointInPolyline(l,i)}}const McGeTool=new McGeToolClass,McGeTool$1=McGeTool;class MrxDbgUtilsClass{constructor(){this.imp=null}initImp(){if(!this.imp&&store$1.state.MxFun){let t=store$1.state.MxFun;this.imp=new t.getMrxDbgUtilsClass}}findEntAtPoint(t,r=null,i,l=!0,a){return this.initImp(),i||(i=MxFun$1.getCurrentDraw()),this.imp.findEntAtPoint(i.getMxObjectImplement(),t,r,l,a)}selectEnt(t,r){return this.initImp(),this.imp.selectEnt(t)}}const MrxDbgUtils=new MrxDbgUtilsClass,ND=MrxDbgUtils,MxPaintBrushProps={},MxPaintBrush={getProps:()=>MxPaintBrushProps,setProps:e=>Object.assign(MxPaintBrushProps,e),use:e=>Object.assign(e,MxPaintBrushProps)},P=MxPaintBrush;var MrxDbgUiPrBaseReturn;(function(e){e[e.kCancel=-2]="kCancel",e[e.kNone=-1]="kNone",e[e.kOk=0]="kOk",e[e.kKeyWord=1]="kKeyWord"})(MrxDbgUiPrBaseReturn||(MrxDbgUiPrBaseReturn={}));const MrxDbgUiPrBaseReturn$1=MrxDbgUiPrBaseReturn;var __awaiter$g=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})},DataType;(function(e){e[e.Default=0]="Default",e[e.Color=1]="Color",e[e.Vector2=2]="Vector2",e[e.Vector3=3]="Vector3",e[e.Vector4=4]="Vector4",e[e.Matrix3=5]="Matrix3",e[e.Matrix4=6]="Matrix4"})(DataType||(DataType={}));const MXDBDATATYPE="datatype";function getDwgKeyVal(e,t){let r,i="";return _$1.isObject(t)?(r=t.default,i=t.key):typeof t=="string"&&(i=t),[i,e[i]===void 0?r:e[i]]}class MxDbEntity{constructor(){this.color=16777215,this.renderOrder=30,this.opacity=1,this.visible=!0,this.userData={},this.sGuid="",this.dLineWidth=0,this.lineWidthByPixels=!0,this.dDashArray=0,this.dDashRatio=0,this.layer="",this._event={};const t=this.constructor;t.isPaintBrushDraw&&(P.use(this),t.isPaintBrushDraw=!1)}static register(){const t=this;t.isRegister||(t.cmd&&t.draw&&MxFun$1.addCommand(t.cmd,t.draw),new t().rxInit(),t.isRegister=!0)}static use(){return __awaiter$g(this,void 0,void 0,function*(){this.register(),this.isPaintBrushDraw=!0,this.cmd&&MxFun$1.sendStringToExecute(this.cmd)})}initGuid(t){this.sGuid.length>0?console.log("mx: init guid error"):this.sGuid=t}dwgInHelp(t,r,i){let l=this;const a=t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone,c=D=>{if(!D)return;const{value:v,[MXDBDATATYPE]:C}=D;switch(C){case DataType.Color:return new THREE.Color(...v);case DataType.Vector2:return new THREE.Vector2(...v);case DataType.Vector3:return new THREE.Vector3(...v);case DataType.Vector4:return new THREE.Vector4(...v);case DataType.Matrix3:return new THREE.Matrix3().fromArray(v);case DataType.Matrix4:return new THREE.Matrix4().fromArray(v)}return i&&i.getCacheVal?i.getCacheVal(D):void 0};function d(D){return D instanceof THREE.Color||D instanceof THREE.Vector2||D instanceof THREE.Vector3||D instanceof THREE.Vector4||D instanceof THREE.Matrix3||D instanceof THREE.Matrix4?D.clone():i&&i.getVal?i.getVal(D):void 0}return r.forEach(D=>{const[v,C]=getDwgKeyVal(t,D);l[v]=_$1.cloneDeepWith(C,a?c:d)}),!0}dwgOutHelp(t,r){const i=c=>c instanceof THREE.Color?{[MXDBDATATYPE]:DataType.Color,value:c.toArray()}:c instanceof THREE.Vector2?{[MXDBDATATYPE]:DataType.Vector2,value:c.toArray()}:c instanceof THREE.Vector3?{[MXDBDATATYPE]:DataType.Vector3,value:c.toArray()}:c instanceof THREE.Vector4?{[MXDBDATATYPE]:DataType.Vector4,value:c.toArray()}:c instanceof THREE.Matrix3?{[MXDBDATATYPE]:DataType.Matrix3,value:c.toArray()}:c instanceof THREE.Matrix4?{[MXDBDATATYPE]:DataType.Matrix4,value:c.toArray()}:void 0;let l=this;const a=t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone;return r.forEach(c=>{const[d,D]=getDwgKeyVal(l,c);t[d]=a?_$1.cloneDeepWith(D,i):D}),t}callEvent(t,r){return this._event[t]!=null?this._event[t](r):void 0}create(t){return new this.constructor(t)}transformBy(t){}getGeomExtents(){return null}getClosestPointTo(t,r=0){return null}getImp(){return this.MxDbEntityImp}setNeedUpdateDisplay(t){let r=this.getImp();return!!r&&(t?r.upDisplay():r.setDirtyDisplay(!0),!0)}getMxObject(){let t=this.getImp();return t?t.getMxObject():null}onViewChange(){return!1}objectId(){let t=this.getImp();return t?t.objectId():0}erase(){let t=this.getImp();return!!t&&t.erase()}setLayer(t){let r=this.getImp();r&&r.nodifySetLayer(),this.layer=t}getLayer(){return this.layer}setColor(t){return this.color=t,this}getColor(){return this.color||16777215}clone(t){let r=this.create(),i={type:t||MxType.MxCloneType.kClone};return this.dwgOut(i),r.dwgIn(i),r.sGuid="",r}onDwgIn(t){this.color=t.color,this.renderOrder=t.renderOrder,this.opacity=t.opacity,this.visible=t.visible,t.userData?this.userData=JSON.parse(JSON.stringify(t.userData)):this.userData={},this.dLineWidth=t.lineWidth,this.lineWidthByPixels=t.lineWidthByPixels,this.dDashArray=t.dashArray,this.dDashRatio=t.dashRatio,this.layer=t.layer,t.guid&&(this.sGuid=t.guid)}onDwgOut(t){t.color=this.color,t.renderOrder=this.renderOrder,t.opacity=this.opacity,t.visible=this.visible,t.lineWidth=this.dLineWidth,t.lineWidthByPixels=this.lineWidthByPixels,t.dashArray=this.dDashArray,t.dashRatio=this.dDashRatio,t.layer=this.layer,t.guid=this.sGuid,Object.keys(this.userData).length>0&&(t.userData=this.userData)}rxInit(){store$1.state.MxFun.initMxDbEntityType(this)}setRenderOrder(t){this.renderOrder=t}getRenderOrder(){return this.renderOrder}setLineWidthByPixels(t){return this.lineWidthByPixels=t,this}getLineWidthByPixels(){return this.lineWidthByPixels}setLineWidth(t){return this.dLineWidth=t,this}getLineWidth(){return this.dLineWidth}getGetLength(){return 0}setDashLen(t){let r=this.getGetLength();if(r<1e-6||t<1e-6)return this;let i=Math.floor(r/t);return i<1e-6&&(this.dDashRatio=0),this.dDashArray=1/i,this}setDashRatio(t){return this.dDashRatio=t,this}setDashArray(t){return this.dDashArray=t,this}setDash(t,r){return this.dDashArray=t,this.dDashRatio=r,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0),this}getDash(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}}setDashLineDisplay(t){return t?(this.dDashArray<1e-5&&(this.dDashArray=.03),this.dDashRatio<1e-5&&(this.dDashRatio=.1),this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0),this}isDashLineDisplay(){return this.dDashArray>0&&this.dDashRatio>0}guid(){return this.sGuid}onEndGripEidt(){this.callEvent("onEndGripEidt")}onStartGripEidt(){return this.callEvent("onStartGripEidt")}addEvent(t,r){this._event[t]=r}removeEvent(t){this._event[t]=void 0}toJsonString(t=MxType.MxCloneType.kMxFileClone){let r={type:t};return this.dwgOut(r),r.TypeName=this.getTypeName(),JSON.stringify(r)}fromJsonString(t){let r=JSON.parse(t);return(r.type==MxType.MxCloneType.kMxFileClone||r.type==MxType.MxCloneType.kClone)&&this.dwgIn(r)}}MxDbEntity.isRegister=!1;function drawMxDbImage(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u63D2\u5165\u70B9:`);let t=MxFun$1.getCurrentDraw();e.go(r=>{if(r!=0)return;let i=MxFun$1.screenCoordLong2Doc(300),l=MxFun$1.screenCoordLong2Doc(200);const a=e.value();let c=MxFun$1.screenCoord2Doc(10,10);a.z=c.z;let d=new MxDbImage$1;d.setRenderOrder(MxType.MxDefaultRenderOrder.kCADMeshRenderOrder-1),d.setPoint1(a);let D=new THREE.Vector3(a.x+i,a.y+l,a.z);d.setPoint2(D);let v=prompt("\u8BF7\u586B\u5199\u56FE\u7247\u7F51\u7EDC\u5730\u5740","https://cdn.pixabay.com/photo/2022/11/15/12/23/winter-7593872_960_720.jpg");v&&(d.setImagePath(v),t.addMxEntity(d),d.addEvent("onStartGripEidt",()=>(d.visible=!1,d.setNeedUpdateDisplay(),{renderOrder:MxType.MxDefaultRenderOrder.kCADMeshRenderOrder-1})),d.addEvent("onEndGripEidt",()=>{d.visible=!0,d.setNeedUpdateDisplay()}))})}class MxDbImage extends MxDbEntity{constructor(){super(...arguments),this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3,this.imagePath="",this.isLoadMaterialFromPath=!0,this.material=null,this.angle=0}getTypeName(){return"MxDbImage"}getAngle(){return this.angle}setAngle(t){this.angle=t}worldDraw(t){let r=new THREE.Vector3(this.pt1.x,this.pt2.y),i=new THREE.Vector3(this.pt2.x,this.pt1.y);if(Math.abs(this.angle)>1e-5){let l=new THREE.Vector3(.5*(this.pt1.x-this.pt2.x)+this.pt2.x,.5*(this.pt1.y-this.pt2.y)+this.pt2.y),a=new THREE.Matrix4;a.makeRotationZ(this.angle);let c=new THREE.Matrix4().makeTranslation(l.x,l.y,l.z).multiply(a).multiply(new THREE.Matrix4().makeTranslation(-l.x,-l.y,-l.z));t.setMatrix(c)}if(t.getType()==1){if(t.drawSelectLine(this.pt1,r),t.drawSelectLine(r,this.pt2),t.drawSelectLine(this.pt2,i),t.drawSelectLine(i,this.pt1),this.material){let l=Math.abs(this.pt1.x-this.pt2.x),a=Math.abs(this.pt1.y-this.pt2.y),c=new THREE.PlaneGeometry(l,a),d=Math.min(this.pt1.x,this.pt2.x),D=Math.min(this.pt1.y,this.pt2.y);for(let C=0;C<c.vertices.length;C++)c.vertices[C].x+=d+.5*l,c.vertices[C].y+=D+.5*a,c.vertices[C].z=0;let v=new THREE.Mesh(c,this.material);v.material.depthTest=!1,t.drawEntity(v)}else if(this.imagePath.length>0&&this.isLoadMaterialFromPath){let l=this,a=t.getMxObject();MxFun$1.loadImageMaterial(this.imagePath,c=>{this.isLoadMaterialFromPath=!1,c&&(l.setMaterial(c),l.setNeedUpdateDisplay(),a.updateDisplay())})}}else if(this.material){let l=Math.abs(this.pt1.x-this.pt2.x),a=Math.abs(this.pt1.y-this.pt2.y),c=new THREE.PlaneGeometry(l,a),d=Math.min(this.pt1.x,this.pt2.x),D=Math.min(this.pt1.y,this.pt2.y);for(let C=0;C<c.vertices.length;C++)c.vertices[C].x+=d+.5*l,c.vertices[C].y+=D+.5*a,c.vertices[C].z=0;let v=new THREE.Mesh(c,this.material);v.material.depthTest=!1,t.drawEntity(v)}else t.drawLine(this.pt1,r),t.drawLine(r,this.pt2),t.drawLine(this.pt2,i),t.drawLine(i,this.pt1);t.setMatrix(null)}setImagePath(t){this.imagePath=t,this.isLoadMaterialFromPath=!0,this.material=null}getImagePath(){return this.imagePath}setMaterial(t){this.material=t}loadMaterial(t){t&&(this.imagePath=t),this.isLoadMaterialFromPath=!1,this.material=null;let r=this;MxFun$1.loadImageMaterial(this.imagePath,i=>{this.isLoadMaterialFromPath=!1,r.setMaterial(i)})}setPoint1(t){this.pt1=t}getPoint1(){return this.pt1}setPoint2(t){this.pt2=t}getPoint2(){return this.pt2}getGripPoints(){let t=[];t.push(this.pt1),t.push(this.pt2);let r=new THREE.Vector3(this.pt1.x+.5*(this.pt2.x-this.pt1.x),this.pt1.y+.5*(this.pt2.y-this.pt1.y));return t.push(r),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?this.pt2.add(r):t==2&&(this.pt1.add(r),this.pt2.add(r)),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),this.imagePath=t.imagePath.substr(0),this.isLoadMaterialFromPath=!0,t.angle&&(this.angle=t.angle),t.material&&(this.material=t.material),!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t.imagePath=this.imagePath,t.angle=this.angle,t.type==MxType.MxCloneType.kDragClone&&(t.material=this.material),t}create(){return new MxDbImage}}MxDbImage.cmd="Mx_DrawImage",MxDbImage.draw=drawMxDbImage,addRegisterMxDbEntity(MxDbImage);const MxDbImage$1=MxDbImage,index$i=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbImage$1},Symbol.toStringTag,{value:"Module"}));var McGiWorldDrawType;(function(e){e[e.kWorldDraw=1]="kWorldDraw",e[e.kDynDragDraw=2]="kDynDragDraw",e[e.kSelectDraw=3]="kSelectDraw"})(McGiWorldDrawType||(McGiWorldDrawType={}));const McGiWorldDrawType$1=McGiWorldDrawType;class MxDbSVGText{constructor(){this.txtPos=new THREE.Vector3,this.txt="",this.txtHeight=1,this.color=void 0,this._txtObject=null,this._txtAspectRatio=-1,this.move=!1,this.drawConnectingLine=!1,this._connectingLine=null,this.fontStyle="",this.underline=!1,this._underLine=null}}const index$h=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbSVGText},Symbol.toStringTag,{value:"Module"}));var __awaiter$f=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbSVG(){return __awaiter$f(this,void 0,void 0,function*(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=yield e.go();if(!t)return;let r=new MxDbSVG$1,i=prompt("\u8BF7\u8F93\u5165svg\u56FE\u7247\u7F51\u7EDC\u6216\u672C\u5730\u5730\u5740","https://img.alicdn.com/imgextra/i2/O1CN01FF1t1g1Q3PDWpSm4b_!!6000000001920-55-tps-508-135.svg");if(!i)return;r.setSvgPath(i),r.setSvgPostion(t),r.svgReverse=!0,r.svgMargin.x=.2,r.setSvgAlignmentRatio(new THREE.Vector2(.5,-1)),r.setRenderOrder(100),r.setSvgSize(new THREE.Vector2(50,0));let l=new MxDbSVGText;l.txt="A1",l.txtPos=new THREE.Vector3(0,-30,0),l.txtHeight=30,r.addText(l),r.fixedSize=!0,r.color=65297,MxFun$1.addToCurrentSpace(r)})}var __awaiter$e=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};class MxDbSVG extends MxDbEntity{constructor(){super(...arguments),this.svgPos=new THREE.Vector3,this.svg=null,this.svgPath="",this.svgSize=new THREE.Vector2(50,50),this.svgAlignmentRatio=new THREE.Vector2(0,0),this.imagePath="",this.isLoadMaterialFromPath=!0,this.material=null,this.svgRotate=0,this.svgReverse=!1,this.svgMirror=!1,this.svgChildColor=[],this.svgMargin=new THREE.Vector2(0,0),this.isSvgDirtyLocation=!1,this.isLoadFromPath=!0,this.aryText=[],this.svgBoxSize=null,this.fixedSize=!1,this.useSvgColor=!1}setSvgChildColor(t){if(this.svgChildColor=t,!this.useSvgColor&&this.svg){let r=new THREE.Color(this.getColor()),i=0,l=this;this.svg.traverse(function(a){a.material&&(i<l.svgChildColor.length?a.material.color=new THREE.Color(l.svgChildColor[i]):a.material.color=r,i++)}),this.setNeedUpdateDisplay(!0)}}getSvgChildColor(){return this.svgChildColor}calcVewSize(t){let r=this.svgSize.x,i=this.svgSize.y;return i<=0&&(i=this.svgBoxSize?this.svgBoxSize.y/this.svgBoxSize.x*r:r),this.fixedSize&&(r=t.screenCoordLong2Doc(r),i=t.screenCoordLong2Doc(i)),[r,i]}calcSvgDrawRect(t){if(!t)return;this.calcSvgPosition(t);let[r,i]=this.calcVewSize(t),l=new THREE.Matrix4;l.makeScale(this.svgMirror?-1:1,this.svgReverse?-1:1,1);let a=new THREE.Matrix4;a.makeRotationZ(this.svgRotate);let c=new THREE.Matrix4,d=new THREE.Vector3(this.svgPos.x-r*this.svgAlignmentRatio.x,this.svgPos.y-i*this.svgAlignmentRatio.y,0);c.makeTranslation(d.x,d.y,d.z),a.multiply(l),a.premultiply(c);let D=new THREE.Vector3(0,0,0),v=new THREE.Vector3(r,0,0),C=new THREE.Vector3(r,i,0),f=new THREE.Vector3(0,i,0);return D.applyMatrix4(a),v.applyMatrix4(a),C.applyMatrix4(a),f.applyMatrix4(a),{pt1:D,pt2:C,pt3:v,pt4:f,cenpt:C.clone().add(D.clone().sub(C).multiplyScalar(.5)),sizew:r,sizeh:i}}calcImageDrawRect(t){if(!t)return;this.calcSvgPosition(t);let[r,i]=this.calcVewSize(t),l=new THREE.Matrix4;l.makeScale(this.svgMirror?-1:1,this.svgReverse?-1:1,1);let a=new THREE.Matrix4,c=new THREE.Matrix4,d=new THREE.Vector3(this.svgPos.x-r*this.svgAlignmentRatio.x,this.svgPos.y-i*this.svgAlignmentRatio.y,0);c.makeTranslation(d.x,d.y,d.z),a.multiply(l),a.premultiply(c);let D=new THREE.Vector3(0,0,0),v=new THREE.Vector3(r,0,0),C=new THREE.Vector3(r,i,0),f=new THREE.Vector3(0,i,0);return D.applyMatrix4(a),v.applyMatrix4(a),C.applyMatrix4(a),f.applyMatrix4(a),{pt1:D,pt2:C,pt3:v,pt4:f,cenpt:C.clone().add(D.clone().sub(C).multiplyScalar(.5)),sizew:r,sizeh:i}}worldDraw(t){let r,i=t.getMxObject();if(this.imagePath.length>0){if(r=this.calcImageDrawRect(i),Math.abs(this.svgRotate)>1e-5){let f=new THREE.Vector3(.5*(r.pt1.x-r.pt2.x)+r.pt2.x,.5*(r.pt1.y-r.pt2.y)+r.pt2.y),w=new THREE.Matrix4;w.makeRotationZ(this.svgRotate);let F=new THREE.Matrix4().makeTranslation(f.x,f.y,f.z).multiply(w).multiply(new THREE.Matrix4().makeTranslation(-f.x,-f.y,-f.z));t.setMatrix(F)}}else r=this.calcSvgDrawRect(i);let l=r.pt1,a=r.pt2,c=r.pt3,d=r.pt4,D=r.cenpt,v=r.sizew,C=this;if(t.getType()!=McGiWorldDrawType$1.kSelectDraw&&this.aryText.forEach((f,w)=>{if(f.txt.length>0){let R=new THREE.Vector3(f.txtPos.x,f.txtPos.y,0);this.fixedSize&&(f.txtPos.x>0?R.x=this.svgPos.x+i.screenCoordLong2Doc(f.txtPos.x):R.x=this.svgPos.x-i.screenCoordLong2Doc(f.txtPos.x),f.txtPos.y>0?R.y=this.svgPos.y+i.screenCoordLong2Doc(f.txtPos.y):R.y=this.svgPos.y-i.screenCoordLong2Doc(f.txtPos.y));let ee;f.color&&(ee=t.getColor(),t.setColor(f.color));let re=f.txtHeight;C.fixedSize&&(re=i.screenCoordLong2Doc(f.txtHeight)),t.setXData({type:"text",txt:f.txt,index:w});let ae=t.drawText(f.txt,re,0,R,void 0,ce=>f.fontStyle.length>0?`${f.fontStyle} ${ce}px Arial`:`normal ${ce}px Arial`);if(t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._txtObject=ae),f.underline&&f._txtObject){const ce=new THREE.Box3;ce.expandByObject(f._txtObject);let ue=new THREE.Vector3(ce.min.x,ce.min.y+.1*re,0),de=new THREE.Vector3(ce.max.x,ce.min.y+.1*re,0);var F=new THREE.Geometry;let A=new THREE.LineBasicMaterial({color:t.getColor(),transparent:!0,depthTest:!1});F.vertices.push(ue,de);var T=new THREE.Line(F,A);t.drawEntity(T),t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._underLine=T)}if(f._txtAspectRatio=-1,ee&&t.setColor(ee),f.drawConnectingLine){let ce=D.clone().sub(R);if(ce.length()>re+v){ce.normalize();let ue=D.clone().sub(ce.clone().multiplyScalar(v)),de=R.clone().add(ce.clone().multiplyScalar(re));F=new THREE.Geometry;let A=new THREE.LineBasicMaterial({color:t.getColor(),transparent:!0,depthTest:!1});F.vertices.push(ue,de),T=new THREE.Line(F,A),t.setXData({type:"line"}),t.drawEntity(T),t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._connectingLine=T)}}}}),t.getType()==1){if(this.svg)t.setXData({type:"svg"}),t.drawEntity(this.svg);else if(this.svgPath.length>0&&this.isLoadFromPath){let f=this,w=t.getMxObject();MxThreeJS$1.loadSVG(this.svgPath,void 0,F=>{if(F){let T=F;if(T.boxSize)f.svgBoxSize=T.boxSize.clone();else{let ce=new THREE.Box3().setFromObject(F);f.svgBoxSize||(f.svgBoxSize=new THREE.Vector3),f.svgBoxSize.x=ce.max.x-ce.min.x,f.svgBoxSize.y=ce.max.y-ce.min.y}let[R,ee]=f.calcVewSize(i);f.svgBoxSize&&(F.scale.x=R/f.svgBoxSize.x,F.scale.y=ee/f.svgBoxSize.y),F.scale.z=F.scale.x,f.svgReverse&&(F.scale.y*=-1),f.svgMirror&&(F.scale.x*=-1),F.rotateZ(f.svgRotate),f.isSvgDirtyLocation=!0;let re=new THREE.Color(t.getColor()),ae=0;F.traverse(function(ce){ce.material&&(ce.material=ce.material.clone(),ce.material.transparent=!0,ce.material.depthTest=!1,f.useSvgColor||(ae<f.svgChildColor.length?ce.material.color=new THREE.Color(f.svgChildColor[ae]):ce.material.color=re),ae++)}),f.svg=F,f.setNeedUpdateDisplay(),w.updateDisplay()}else console.log("mx LoadSVG:"+f.svgPath+" failed");f.isLoadFromPath=!1})}else if(this.material){let f=Math.abs(l.x-a.x),w=Math.abs(l.y-a.y),F=new THREE.PlaneGeometry(f,w),T=Math.min(l.x,a.x),R=Math.min(l.y,a.y);for(let re=0;re<F.vertices.length;re++)F.vertices[re].x+=T+.5*f,F.vertices[re].y+=R+.5*w,F.vertices[re].z=0;let ee=new THREE.Mesh(F,this.material);ee.material.depthTest=!1,t.drawEntity(ee)}else if(this.isLoadMaterialFromPath&&this.imagePath.length>0){let f=this,w=t.getMxObject();MxFun$1.loadImageMaterial(this.imagePath,F=>{this.isLoadMaterialFromPath=!1,F&&(f.material=F,f.setNeedUpdateDisplay(),w.updateDisplay())})}this.fixedSize||(t.drawSelectLine(l,a),t.drawSelectLine(c,d),t.drawSelectLine(l,c),t.drawSelectLine(c,a),t.drawSelectLine(a,d),t.drawSelectLine(d,l))}else t.drawLine(l,c),t.drawLine(c,a),t.drawLine(a,d),t.drawLine(d,l);this.imagePath.length>0&&t.setMatrix(null)}setSvgPath(t,r=!1){return __awaiter$e(this,void 0,void 0,function*(){this.svgPath=t,this.svg=null,this.isLoadFromPath=!0,this.svgBoxSize=null,r&&(yield MxThreeJS$1.loadSVG(t))})}getSvgPath(){return this.svgPath}setSvgPostion(t){this.svgPos=t.clone(),this.isSvgDirtyLocation=!0}setImagePath(t,r){this.imagePath=t,r?(this.material=r,this.isLoadMaterialFromPath=!1):(this.material=null,this.isLoadMaterialFromPath=!0)}getImagePath(){return this.imagePath}getSvgPostion(){return this.svgPos}setSvgSize(t){this.svgSize=t,this.isSvgDirtyLocation=!0}getSvgSize(){return this.svgSize}setSvgAlignmentRatio(t){this.svgAlignmentRatio=t,this.isSvgDirtyLocation=!0}getSvgAlignmentRatio(){return this.svgAlignmentRatio}getText(t){return t<this.aryText.length?this.aryText[t]:null}addText(t){this.aryText.push(t)}getGripPoints(){let t=[];t.push(this.svgPos);let r=0;for(;r<this.aryText.length;r++){let i=this.aryText[r];if(i.move){let l=new THREE.Vector3(i.txtPos.x,i.txtPos.y,0);if(this.fixedSize){let a=MxFun$1.getCurrentDraw();i.txtPos.x>0?l.x=this.svgPos.x+a.screenCoordLong2Doc(i.txtPos.x):l.x=this.svgPos.x-a.screenCoordLong2Doc(i.txtPos.x),i.txtPos.y>0?l.y=this.svgPos.y+a.screenCoordLong2Doc(i.txtPos.y):l.y=this.svgPos.y-a.screenCoordLong2Doc(i.txtPos.y)}t.push(l)}}return t}moveGripPointsAt(t,r){if(t==0)this.svgPos.add(r),this.fixedSize||this.aryText.forEach(i=>{i.txtPos.add(r)});else if(t-1>=0&&t-1<this.aryText.length){let i=this.aryText[t-1];if(i.move)if(this.fixedSize){let l=MxFun$1.getCurrentDraw();i.txtPos.x+=l.docCoordLong2Screen(r.x),i.txtPos.y+=l.docCoordLong2Screen(r.y)}else i.txtPos.add(r)}return this.isSvgDirtyLocation=!0,!0}calcSvgPosition(t){if(!this.svg||!this.isSvgDirtyLocation)return;this.isSvgDirtyLocation=!1;let[r,i]=this.calcVewSize(t);this.svg.position.x=this.svgPos.x-r*this.svgAlignmentRatio.x-this.svgMargin.x*r,this.svg.position.y=this.svgPos.y-i*this.svgAlignmentRatio.y-this.svgMargin.y*i}dwgIn(t){this.onDwgIn(t),this.fixedSize=t.fixedSize,this.fixedSize?this.svg=null:t.type==MxType.MxCloneType.kClone&&t.svg&&(this.svg=t.svg.clone()),this.svgPos.copy(t.svgPos),this.svgPath=t.svgPath.substr(0),this.svgSize.copy(t.svgSize),this.svgAlignmentRatio.copy(t.svgAlignmentRatio),this.isSvgDirtyLocation=!0,this.svg||(this.isLoadFromPath=!0),this.svgBoxSize=null;let r=t.txts;return this.aryText=[],r.forEach(i=>{let l=new MxDbSVGText;l.txt=i.txt,l.txtHeight=i.txtHeight,l.txtPos.copy(i.txtPos),l.move=i.move,l.drawConnectingLine=i.drawConnectingLine,this.aryText.push(l)}),this.svgRotate=t.svgRotate,this.useSvgColor=t.useSvgColor,this.svgReverse=t.svgReverse,this.svgMirror=t.svgMirror,this.svgMargin=t.svgMargin,t.svgChildColor?this.svgChildColor=t.svgChildColor:this.svgChildColor=[],this.imagePath=t.imagePath.substr(0),this.isLoadMaterialFromPath=!0,t.material&&(this.material=t.material),!0}dwgOut(t){this.onDwgOut(t);let r,i=this.getMxObject();return t.type==MxType.MxCloneType.kClone&&(t.svg=this.svg),t.svgPath=this.svgPath,t.svgPos=this.svgPos,t.svgSize=this.svgSize,t.svgAlignmentRatio=this.svgAlignmentRatio,t.txts=[],t.type==MxType.MxCloneType.kSaveDwgClone&&i&&(r=this.calcSvgDrawRect(i)),this.aryText.forEach(l=>{let a={txtPos:l.txtPos,txt:l.txt,txtHeight:l.txtHeight,color:l.color,_txtAspectRatio:l._txtAspectRatio,move:l.move,drawConnectingLine:l.drawConnectingLine};t.type==MxType.MxCloneType.kSaveDwgClone&&(l._connectingLine&&(a.connectingLine=l._connectingLine.geometry.vertice),l._underLine&&(a._underLine=l._underLine.geometry.vertice)),t.txts.push(a)}),t.fixedSize=this.fixedSize,t.svgRotate=this.svgRotate,t.useSvgColor=this.useSvgColor,t.svgReverse=this.svgReverse,t.svgMirror=this.svgMirror,t.svgMargin=this.svgMargin,t.svgChildColor=this.svgChildColor,t.type==MxType.MxCloneType.kSaveDwgClone&&(t.svgRect=r),t.imagePath=this.imagePath,t.type==MxType.MxCloneType.kDragClone&&(t.material=this.material),t}create(){return new MxDbSVG}transformBy(t){this.svgPos.applyMatrix4(t),this.isSvgDirtyLocation=!0,this.fixedSize||this.aryText.forEach(r=>{r.txtPos.applyMatrix4(t)})}getTypeName(){return"MxDbSVG"}setColor(t){if(super.setColor(t),this.svg){let r=new THREE.Color(this.color);this.svg.traverse(function(i){i.material&&(i.material.color=r)})}return this}setSvg(t){this.svg=t,this.isLoadFromPath=!1,this.svgBoxSize=null}calcSvgBoxSize(t){if(!this.svgBoxSize)if(t.boxSize)this.svgBoxSize=t.boxSize.clone();else{let r=new THREE.Box3().setFromObject(t);this.svgBoxSize||(this.svgBoxSize=new THREE.Vector3),this.svgBoxSize.x=r.max.x-r.min.x,this.svgBoxSize.y=r.max.y-r.min.y}}reComputeSVG(){if(!this.svg)return;let t=this.getMxObject();if(!t)return;this.calcSvgBoxSize(this.svg);let[r,i]=this.calcVewSize(t);this.svgBoxSize&&(this.svg.scale.x=r/this.svgBoxSize.x,this.svg.scale.y=i/this.svgBoxSize.y),this.svg.scale.z=this.svg.scale.x,this.svgReverse&&(this.svg.scale.y*=-1),this.svgMirror&&(this.svg.scale.x*=-1),this.isSvgDirtyLocation=!0,this.calcSvgPosition(t)}onViewChange(){if(!this.fixedSize)return!1;if(this.imagePath.length>0)return this.setNeedUpdateDisplay(!1),!0;let t=this.getMxObject();if(t==null)return!1;if(this.svg){this.calcSvgBoxSize(this.svg);let[c,d]=this.calcVewSize(t);this.svgBoxSize&&(this.svg.scale.x=c/this.svgBoxSize.x,this.svg.scale.y=d/this.svgBoxSize.y),this.svg.scale.z=this.svg.scale.x,this.svgReverse&&(this.svg.scale.y*=-1),this.svgMirror&&(this.svg.scale.x*=-1),this.isSvgDirtyLocation=!0,this.calcSvgPosition(t)}let r=this.calcSvgDrawRect(t),i=r.cenpt,l=r.sizew,a=this;return this.aryText.forEach(c=>{if(c._txtObject&&t){let D=t.screenCoordLong2Doc(c.txtHeight);if(D>1e-5){c._txtAspectRatio<=0&&(c._txtAspectRatio=c._txtObject.scale.x/c._txtObject.scale.y),c._txtObject.scale.set(c._txtAspectRatio*D*1.5,1.5*D,1),c.txtPos.x>0?c._txtObject.position.x=a.svgPos.x+t.screenCoordLong2Doc(c.txtPos.x):c._txtObject.position.x=a.svgPos.x-t.screenCoordLong2Doc(c.txtPos.x),c.txtPos.y>0?c._txtObject.position.y=a.svgPos.y+t.screenCoordLong2Doc(c.txtPos.y):c._txtObject.position.y=a.svgPos.y-t.screenCoordLong2Doc(c.txtPos.y);let v=c._txtObject.position;if(c._txtObject.updateMatrix(),c._underLine){const C=new THREE.Box3;let f=c._txtObject.parent;c._txtObject.parent=null,C.expandByObject(c._txtObject),c._txtObject.parent=f;let w=new THREE.Vector3(C.min.x,C.min.y+.1*D,0),F=new THREE.Vector3(C.max.x,C.min.y+.1*D,0);(d=new THREE.Geometry).vertices.push(w,F),c._underLine.geometry=d}if(c._connectingLine){let C=i.clone().sub(v);C.normalize();let f=i.clone().sub(C.clone().multiplyScalar(l)),w=v.clone().add(C.clone().multiplyScalar(D));var d;(d=new THREE.Geometry).vertices.push(f,w),c._connectingLine.geometry=d}}}}),!0}}MxDbSVG.cmd="Mx_ModelFixedSvg",MxDbSVG.draw=drawMxDbSVG,addRegisterMxDbEntity(MxDbSVG);const MxDbSVG$1=MxDbSVG,index$g=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbSVG$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbPolyline(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t,r=new zD;e.go(i=>{if(i!=0)return;let l=e.value();t||(t=l.clone());let a=l;const c=new McEdGetPointWorldDrawObject;c.setDraw((D,v)=>{v.setColor(16711680),v.drawLine(a,D),v.drawCustomEntity(r)}),e.setUserDraw(c),e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`);let d=0;r.addVertexAt(l),e.goWhile(D=>{if(D==0)a=e.value(),r.addVertexAt(a),++d>=2?(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.setKeyWords("[\u95ED\u5408(C)/\u653E\u5F03(U)]")):d>0?(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.setKeyWords("[\u653E\u5F03(U)]")):(e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.setKeyWords(""));else if(D==1){if(e.isKeyWordPicked("C"))return{exit:!0};e.isKeyWordPicked("U")&&console.log("Mx_Line undo....")}},()=>{MxFun$1.getCurrentDraw().addMxEntity(r)})})}class MxDbPolyline extends MxDbEntity{constructor(){super(...arguments),this.points=[]}getTypeName(){return"MxDbPolyline"}worldDraw(t){this.points.length<2||t.drawLines(this.points)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return!(t>=this.points.length)&&(this.points[t].add(r),!0)}create(){return new MxDbPolyline}dwgIn(t){this.onDwgIn(t);let r=t.points;return this.points=[],r.forEach(i=>{this.points.push(new THREE.Vector3(i.x,i.y,i.z))}),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,t}addVertexAt(t){this.points.push(t)}numVerts(){return this.points.length}getPointAt(t){return t<this.points.length?this.points[t]:null}setPointAt(t,r){return t<this.points.length&&(this.points[t]=r,!0)}}MxDbPolyline.cmd="Mx_Lines",MxDbPolyline.draw=drawMxDbPolyline,addRegisterMxDbEntity(MxDbPolyline);const zD=MxDbPolyline,index$f=Object.freeze(Object.defineProperty({__proto__:null,default:zD},Symbol.toStringTag,{value:"Module"}));function drawMxDb2LineAngularDimension(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new MxDb2LineAngularDimension$1,i=new McEdGetPointWorldDrawObject;return e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(l=>{l===0&&(e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u4E2A\u89D2\u5EA6\u70B9:`),r.point1=e.value(),i.setDraw((a,c)=>{r.point2=a,i.drawLine(r.point1,a)}),e.setUserDraw(i),e.go(a=>{e.setMessage(`
\u6307\u5B9A\u6700\u540E\u4E00\u4E2A\u70B9:`),a===0&&(r.point2=e.value(),i.setDraw((c,d)=>{r.point3=c,i.drawCustomEntity(r)}),e.go(c=>{c===0&&t.addMxEntity(r)}))}))}),r}const propertyDbKeys$6=["colors","point1","point2","point3"];class MxDb2LineAngularDimension extends MxDbEntity{constructor(t){if(super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.colors=[],t){const{points:r,colors:i}=t;r&&this.setPoints(r),i&&this.setColor(i)}}calculateLineAngle(t,r,i){const l=2*Math.PI/360;return{startAngle:180*Math.atan2(r.y-t.y,r.x-t.x)/Math.PI*l,endAngle:180*Math.atan2(i.y-t.y,i.x-t.x)/Math.PI*l}}setPoints(t){const[r,i,l]=t;return r&&(this.point1=r),i&&(this.point2=i),l&&(this.point3=l),this}setColor(t){return _$1.isArray(t)?this.colors=t:this.color=t,this}worldDraw(t){if(t.getType()==McGiWorldDrawType$1.kWorldDraw||t.getType()==McGiWorldDrawType$1.kDynDragDraw){const[r,i,l,a]=this.colors||[],c=this.getColor(),d=t.getMxObject();t.setColor(r||c),t.drawLine(this.point1,this.point2),t.setColor(i||c),t.drawLine(this.point2,this.point3);const{startAngle:D,endAngle:v}=this.calculateLineAngle(this.point2,this.point1,this.point3),C=this.point2.distanceTo(this.point1),f=this.point2.distanceTo(this.point3),w=Math.min(C,f)/4;let F=THREE.MathUtils.radToDeg(D-v);F<0&&(F+=360);let T=d.screenCoordLong2Doc(50);const R=new THREE.ArcCurve(this.point2.x,this.point2.y,w,D,v,!0),ee=new THREE.Geometry().setFromPoints(R.getPoints(50));t.setColor(l||c),t.drawGeometryLines(ee);const re=R.getPoint(.5);let ae=new THREE.Vector3(re.x,re.y,0);const ce=ae.sub(this.point2),ue=ce.length()+.5*T;ce.normalize().multiplyScalar(ue),ae=this.point2.clone().add(ce),t.setColor(a||c),t.drawText(F.toFixed(3)+"\xB0",.5*T,0,ae)}else t.drawLine(this.point1,this.point2),t.drawLine(this.point3,this.point2)}getGripPoints(){return[this.point1,this.point2,this.point3]}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2&&this.point3.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$6),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$6),t}create(){return new MxDb2LineAngularDimension}transformBy(t){this.point1.applyMatrix4(t),this.point2.applyMatrix4(t)}getTypeName(){return"MxDb2LineAngularDimension"}}MxDb2LineAngularDimension.cmd="Mx_AngleSurveying",MxDb2LineAngularDimension.draw=drawMxDb2LineAngularDimension,addRegisterMxDbEntity(MxDb2LineAngularDimension);const MxDb2LineAngularDimension$1=MxDb2LineAngularDimension,index$e=Object.freeze(Object.defineProperty({__proto__:null,default:MxDb2LineAngularDimension$1},Symbol.toStringTag,{value:"Module"}));class MxFilters{constructor(){this.uniformObj={},this.filtersStr="",this.filtersTypes="",this.VSHADER_SOURCE=`
  varying vec2 v_Uv;
  void main () {
      v_Uv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  }
  `,this.FSHADER_SOURCE=`
  varying vec2 v_Uv;
  uniform sampler2D e_Texture;
  uniform mat4 colorMatrix;
  ${this.filtersStr}
  void main () {
    vec4 color = texture2D( e_Texture, v_Uv );
    color = color * colorMatrix;
    ${this.filtersTypes}
    gl_FragColor = color;
  }`,this._matrix=new THREE.Matrix4}channel({r:t=1,g:r=1,b:i=1}){return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1).multiply(this._matrix),this}brightness(t){return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1).multiply(this._matrix),this}saturate(t){const r=.2126*(1-t),i=.7152*(1-t),l=.0722*(1-t);return this._matrix=new THREE.Matrix4().set(r+t,i,l,0,r,i+t,l,0,r,i,l+t,0,0,0,0,1).multiply(this._matrix),this}contrast(t){const r=.5*(1-t);return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,t,0,0,0,0,t,0,r,r,r,1).multiply(this._matrix),this}opacity(t){return this._matrix=new THREE.Matrix4().set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,t).multiply(this._matrix),this}invert(t){const r=1-2*t;return this._matrix=new THREE.Matrix4().set(r,0,0,0,0,r,0,0,0,0,r,0,t,t,t,1).multiply(this._matrix),this}grayscale(t=1){const r=.2126*t,i=.7152*t,l=.0722*t;return this._matrix=new THREE.Matrix4().set(r+1-t,i,l,0,r,i+1-t,l,0,r,i,l+1-t,0,0,0,0,1).multiply(this._matrix),this}sepia(t=1){return this._matrix=new THREE.Matrix4().set(1-.607*t,.769*t,.189*t,0,.349*t,1-.314*t,.168*t,0,.272*t,.534*t,1-.869*t,0,0,0,0,1).multiply(this._matrix),this}hueRotate(t){const r=t/180*Math.PI,i=Math.cos(r),l=Math.sin(r);return this._matrix=new THREE.Matrix4().set(.2126+.7874*i+-.2126*l,.7152+-.7152*i+-.7152*l,.0722+-.0722*i+.9278*l,0,.2126+-.2126*i+.143*l,.7152+i*(1-.7152)+.14*l,.0722+-.0722*i+-.283*l,0,.2126+-.2126*i+-.7874*l,.7152+-.7152*i+.7152*l,.0722+.9278*i+.0722*l,0,0,0,0,1).multiply(this._matrix),this}convolution(t,r=1/9,i=521){return this.uniformObj=Object.assign(Object.assign({},this.uniformObj),{cKernel:{value:t.toArray()},stStep:{value:r},scaleFactor:{value:i}}),this.filtersTypes.indexOf("convolutionTextureColor")<0&&(this.filtersStr+=`
        uniform float cKernel[9];
        uniform float stStep;
        uniform float scaleFactor;
        vec4 convolutionTextureColor(vec4 color) {
            vec2 offsets[9];
            offsets[0] = vec2(-1.0,-1.0);
            offsets[1] =  vec2(0.0,-1.0);
            offsets[2] = vec2(1.0,-1.0);
            offsets[3] =  vec2(-1.0,0.0);
            offsets[4] = vec2(0.0,0.0);
            offsets[5] = vec2(1.0,0.0);
            offsets[6] =  vec2(-1.0,1.0);
            offsets[7] = vec2(0.0,1.0);
            offsets[8] = vec2(1.0,1.0);

            vec4 sum = color;
            for(int i = 0; i < 9; i++) {
                sum = sum + cKernel[i] * scaleFactor * texture2D(e_Texture, v_Uv + offsets[i] / stStep);
            };
            return sum;
        }`,this.filtersTypes+=`color = convolutionTextureColor(color);
`),this}reset(){return this.uniformObj={},this.filtersStr="",this.filtersTypes="",this._matrix=new THREE.Matrix4,this}_getFilterShaderData(t){return{uniforms:Object.assign({e_Texture:{value:t},colorMatrix:{value:this._matrix}},this.uniformObj),vertexShader:this.VSHADER_SOURCE,fragmentShader:this.FSHADER_SOURCE}}_getFilterColor(t="#000000",r=1){t=new THREE.Color(t);let{r:i,g:l,b:a}=t;const c=this._matrix.toArray(),d=(c[12],c[13],c[14],c[15],c[0]*i+c[1]*i+c[2]*i+c[3]*r),D=c[4]*l+c[5]*l+c[6]*l+c[7]*r,v=c[8]*a+c[9]*a+c[10]*a+c[11]*r;return t.setRGB(d,D,v),t}toJSON(){return JSON.stringify({matrix:this._matrix.toArray(),uniformObj:this.uniformObj,filtersStr:this.filtersStr,filtersTypes:this.filtersTypes})}static fromJSON(t){const{matrix:r,uniformObj:i,filtersStr:l,filtersTypes:a}=JSON.parse(t),c=new MxFilters;return c._matrix=new THREE.Matrix4().fromArray(r),c.uniformObj=i,c.filtersStr=l,c.filtersTypes=a,c}}class MxDbShape extends MxDbEntity{constructor(){super(...arguments),this.isLoadMaterialFromPath=!0,this.strokeLineWidth=2,this.isStrokeDashLine=!1,this.isFill=!1,this.curveSegments=50,this.closed=!0,this.cornerRadius=[],this._propertyDbKeys=["isFill","stroke","strokeLineWidth","isStrokeDashLine","closed","cornerRadius","fillImageSrc","fillImageParam"]}setStroke(t){return this.stroke=t,this}setStrokeLineWidth(t){return this.strokeLineWidth=t,this}setIsStrokeDashLine(t){return this.isStrokeDashLine=t,this}setIsFill(t){return this.isFill=t,this}get fillImageSrc(){return this._fillImageSrc}set fillImageSrc(t){this._fillImageSrc=t,this.isLoadMaterialFromPath=!0,this.material=null}setFillImageSrc(t){return this.fillImageSrc=t,this}setCurveSegments(t){return this.curveSegments=t,this}setClosed(t){return this.closed=t,this}setCornerRadius(t,r=!0){t instanceof Array?this.cornerRadius=t.map(i=>r?MxFun$1.screenCoordLong2Doc(i):i):this.cornerRadius=r?MxFun$1.screenCoordLong2Doc(t):t}getTypeName(){return"MxDbShape"}getShapePoints(t){const{curveSegments:r}=this;return this.points=t.getPoints(r).map(i=>i instanceof THREE.Vector2?new THREE.Vector3(i.x,i.y,0):i),this.points}createPaths(t){return this._paths=new THREE.CurvePath,Array.isArray(t)?t.forEach(r=>this._paths.add(r)):this._paths.add(t),this._paths}_draw(t,r){let{isFill:i,closed:l}=this;const a=t.getColor();t.setColor(this.filter?this.filter._getFilterColor(this.color,this.opacity):this.color);const c=this.getCornerRadiusPoints(l||i?this.getClosedPoints(r):r);i?!this.fillImageSrc&&t.drawSolid(c):t.drawLines(c),this._fillImg(t,c),t.setColor(a)}getCornerRadiusPoints(t){const{cornerRadius:r}=this;if(!r)return t;const i=typeof r=="number"?t.map(()=>r):r;return i.length>0?getToGenerateRoundedCorners(t,i):t}_drawStoreLine(t,r,i){const{isFill:l,stroke:a,strokeLineWidth:c}=this,d=t.getLineWidth(),D=t.getColor(),v=t.isDashLineDisplay();a&&l&&(t.setDashLineDisplay(this.isStrokeDashLine),t.setColor(a),t.setLineWidth(c),i?i(t):t.drawLines(this.getCornerRadiusPoints(this.getClosedPoints(r))),t.setColor(D),t.setLineWidth(d),t.setDashLineDisplay(v))}getClosedPoints(t){return[...t,t[0]]}getTotalLength(){return this._paths?this._paths.getLength()+(this.closedLine?this.closedLine.getLength():0):0}getArea(){return this.points?McGeTool$1.calcArea(this.closed?this.getClosedPoints(this.points):this.points):0}worldDraw(t){const r=this.createPaths(new THREE.Curve),i=this.getShapePoints(r);this._draw(t,i),this._drawStoreLine(t,i)}_fillImg(t,r){const i={transparent:!0,depthTest:!1,opacity:this.opacity,visible:this.visible};if(!this.isFill||!this.fillImageSrc)return;if(!this.material){let D=this;return void MxFun$1.loadImageMaterial(this.fillImageSrc,v=>{D.isLoadMaterialFromPath=!1,v&&(D.material=v,D.setNeedUpdateDisplay(),MxFun$1.updateDisplay())})}const l=r.map(({x:D,y:v})=>new THREE.Vector2(D,v));let a=this.material,c=new THREE.ShapeGeometry(new THREE.Shape(l));if(c=repairGeometryFaceVertexUvs(c),this.filter){const D=a.map,v=this.filter._getFilterShaderData(D);a=new THREE.ShaderMaterial(Object.assign(Object.assign({},v),i))}if(a.depthTest=!1,a.transparent=!0,a.opacity=this.opacity,a.visible=this.visible,this.fillImageParam){const D=this.fillImageParam;for(let v in this.fillImageParam)this.material.map[v]=D[v]}let d=new THREE.Mesh(c,a);t.drawEntity(d)}getGripPoints(){return[]}moveGripPointsAt(t,r){return!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,this._propertyDbKeys),this.isLoadMaterialFromPath=!0,this.material=null,t.type===MxType.MxCloneType.kMxFileClone?t.filter&&(this.filter=MxFilters.fromJSON(t.filter)):t.filter&&(this.filter=t.filter),!0}dwgOut(t){var r;return this.onDwgOut(t),this.dwgOutHelp(t,this._propertyDbKeys),t.type===MxType.MxCloneType.kMxFileClone?this.filter&&(t.filter=(r=this.filter)===null||r===void 0?void 0:r.toJSON()):t.filter=this.filter,t}}class MxDbEllipseShape extends MxDbShape{constructor(){super(),this.center=new THREE.Vector3,this.xRadius=10,this.yRadius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!1,this.rotation=0,this.isClosedToCenter=!0,this._propertyDbKeys=[...this._propertyDbKeys,"center","xRadius","yRadius","startAngle","endAngle","clockwise","rotation","isClosedToCenter"]}getTypeName(){return"MxDbEllipseShape"}setCenter(t){return this.center=t,this}setXRadius(t){return this.xRadius=t,this}setYRadius(t){return this.yRadius=t,this}setStartAngle(t){return this.startAngle=t,this}setEndAngle(t){return this.endAngle=t,this}setClockwise(t){return this.clockwise=t,this}setRotation(t){return this.rotation=t,this}setIsClosedToCenter(t){return this.isClosedToCenter=t,this}worldDraw(t){this.drawEllipseShape(t)}drawEllipseShape(t){let{startAngle:r,endAngle:i,clockwise:l}=this;const a=this.createEllipseCurve(),c=this.createPaths(a);let d=this.getShapePoints(c);return this._draw(t,d),this._drawStoreLine(t,d),{centralAngle:l?i>r?THREE.MathUtils.radToDeg(a.aEndAngle-a.aStartAngle):360-Math.abs(THREE.MathUtils.radToDeg(a.aEndAngle-a.aStartAngle)):r>i?Math.abs(THREE.MathUtils.radToDeg(a.aEndAngle-a.aStartAngle)):360-THREE.MathUtils.radToDeg(a.aEndAngle-a.aStartAngle),curve:a,points:d}}createEllipseCurve(t=this.center.x,r=this.center.y,i=this.xRadius,l=this.yRadius,a=this.startAngle,c=this.endAngle,d=this.clockwise,D=this.rotation){return new THREE.EllipseCurve(t,r,i,l,a,c,d,D)}getCornerRadiusPoints(t){return t}getClosedPoints(t){try{let r=(this._paths||new THREE.CatmullRomCurve3(t,!1,"catmullrom",0)).getLength();this.closedLine=this.getClosedLine(t);const i=this.closedLine.getLength();let l=this.curveSegments/r,a=2.5*(r>this.curveSegments?i*l:1);if(a>20*this.curveSegments&&(a=20*this.curveSegments),a<=0)return t;const c=this.closedLine.getPoints(a);return[...t,...c]}catch{return[...t,t[0]]}}getClosedLine(t){const{isClosedToCenter:r,center:i}=this;let l=r?[t[t.length-1],i,t[0]]:[t[t.length-1],t[0]];return new THREE.CatmullRomCurve3(l,!1,"catmullrom",.01)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}class MxDbCircleShape extends MxDbEllipseShape{getTypeName(){return"MxDbCircleShape"}get radius(){return this.xRadius}set radius(t){this.xRadius=t,this.yRadius=t}setRadius(t){return this.radius=t,this}setXRadius(t){return this.setRadius(t),this}setYRadius(t){return this.setRadius(t),this}}function drawMx3PointArc(){const e=new MrxDbgUiPrPoint,t=new McEdGetPointWorldDrawObject,r=new HD;r.closed=!1,r.setColor("#ff0000").setLineWidth(10),e.setUserDraw(t),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(i=>{i===MrxDbgUiPrBaseReturn$1.kOk&&(r.point1=e.value(),t.setDraw(l=>{t.drawLine(r.point1,l)})),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u7ED3\u675F\u70B9:`),e.go(l=>{l===MrxDbgUiPrBaseReturn$1.kOk&&(r.point2=e.value(),t.setDraw(a=>{r.point3=a,t.drawCustomEntity(r)})),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E0A\u4EFB\u610F\u4E00\u70B9:`),e.go(a=>{if(a===MrxDbgUiPrBaseReturn$1.kOk){MxFun$1.getCurrentDraw().addMxEntity(r);const{radius:c,angle:d,arcLength:D}=createThreePointArc(r.point1,r.point2,r.point3,!0);console.log("\u534A\u5F84:",c),console.log("\u5706\u5F27\u5706\u5FC3\u89D2\u5EA6:",d),console.log("\u5706\u5F27\u5F27\u957F:",D)}})})})}class Mx3PointArc extends MxDbCircleShape{constructor(){super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.autoClockwise=!0,this._propertyDbKeys=[...this._propertyDbKeys,"point1","point2","point3","autoClockwise"]}getTypeName(){return"Mx3PointArc"}create(){return new Mx3PointArc}worldDraw(t){let{point1:r,point2:i,point3:l}=this;this.upDateCenter(r,i,l),this.upDateRadius(r);const[a,c,d]=this.compute3PointAngle();this.upDataClockwise(a,c,d),this.startAngle=THREE.MathUtils.degToRad(a),this.endAngle=THREE.MathUtils.degToRad(c),this.drawEllipseShape(t)}getGripPoints(){return[this.point1,this.point2,this.point3,this.center]}compute3PointAngle(){const{point1:t,point2:r,point3:i}=this,l=calculateArcAngle(t,this.center,this.radius),a=calculateArcAngle(r,this.center,this.radius),c=calculateArcAngle(i,this.center,this.radius);return[l.angle,a.angle,c.angle]}upDateCenter(t,r,i){return this.center=calculateArcOrigin(t,r,i),this.center}upDateRadius(t){return this.radius=calculateRadiusArc(t,this.center),this.radius}upDataClockwise(t,r,i){const{autoClockwise:l}=this;l&&(this.clockwise=judgementArcRenderDirection(r,t,i))}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2?this.point3.add(r):t===3&&(this.point1.add(r),this.point2.add(r),this.point3.add(r)),this.upDateCenter(this.point1,this.point2,this.point3),!0}}Mx3PointArc.cmd="Mx_3PointArc",Mx3PointArc.draw=drawMx3PointArc,addRegisterMxDbEntity(Mx3PointArc);const HD=Mx3PointArc,index$d=Object.freeze(Object.defineProperty({__proto__:null,default:HD},Symbol.toStringTag,{value:"Module"}));function drawMxDbCoord(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u5750\u6807\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbCoord$1;i.point1=r,i.point2=r.clone(),e.setBasePt(r),e.setUseBasePt(!0),e.setUserDraw((l,a)=>{i.point2=l,a.drawCustomEntity(i)}),e.setMessage(`
\u6307\u5B9A\u6807\u6CE8\u70B9:`),e.go(l=>{l==0?(i.point2=e.value(),MxFun$1.addToCurrentSpace(i)):console.log(l)})})}class MxDbCoord extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3}worldDraw(t){let r=t.getMxObject();t.drawLine(this.point1,this.point2);let i=this.point2.clone();var l=r.screenCoordLong2Doc(20),a=6*l;i.x=i.x+a,t.drawLine(this.point2,i);var c=new THREE.Vector3,d=new THREE.Vector3;let D=r.docCoord2Cad(this.point1.x,this.point1.y,this.point1.z),v=D.x.toFixed(3),C=D.y.toFixed(3);c.x=this.point2.x+.3*l+.5*a,c.y=this.point2.y+.1*l+.5*l,t.drawText(v,l,0,c),d.x=this.point2.x+.3*l+.5*a,d.y=this.point2.y-.1*l-.5*l,t.drawText(C,l,0,d)}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),!0}dwgOut(t){return this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t}create(){return new MxDbCoord}transformBy(t){this.point1.applyMatrix4(t),this.point2.applyMatrix4(t)}getTypeName(){return"MxDbCoord"}}MxDbCoord.cmd="Mx_Coord",MxDbCoord.draw=drawMxDbCoord,addRegisterMxDbEntity(MxDbCoord);const MxDbCoord$1=MxDbCoord,index$c=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbCoord$1},Symbol.toStringTag,{value:"Module"}));var __awaiter$d=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbLine(){return __awaiter$d(this,void 0,void 0,function*(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t=yield e.go();if(t==null)return;e.setBasePt(t.clone()),e.setUseBasePt(!0),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`);let r=yield e.go();if(r==null)return;let i=new H;i.pt1=t,i.pt2=r,MxFun$1.addToCurrentSpace(i)})}class MxDbLine extends MxDbEntity{constructor(){super(...arguments),this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3}getTypeName(){return"MxDbLine"}worldDraw(t){t.drawLine(this.pt1,this.pt2)}setPoint1(t){this.pt1=t}getPoint1(){return this.pt1}setPoint2(t){this.pt2=t}getPoint2(){return this.pt2}getGripPoints(){let t=[];t.push(this.pt1),t.push(this.pt2);let r=new THREE.Vector3(this.pt1.x+.5*(this.pt2.x-this.pt1.x),this.pt1.y+.5*(this.pt2.y-this.pt1.y),0);return t.push(r),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?this.pt2.add(r):t==2&&(this.pt1.add(r),this.pt2.add(r)),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t}create(){return new MxDbLine}getGeomExtents(){return new THREE.Box3(this.pt1,this.pt2)}getGetLength(){return this.pt1.distanceTo(this.pt2)}}MxDbLine.cmd="Mx_Line",MxDbLine.draw=drawMxDbLine,addRegisterMxDbEntity(MxDbLine);const H=MxDbLine;var __awaiter$c=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbRect(){return __awaiter$c(this,void 0,void 0,function*(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t=yield e.go();if(!t)return;let r=new MxDbRect$1;r.pt1=t;const i=new McEdGetPointWorldDrawObject;i.setDraw(l=>{r.pt2=l,i.drawCustomEntity(r)}),e.setBasePt(t),e.setUseBasePt(!0),e.setUserDraw(i),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),(yield e.go())&&(r.pt2=e.value(),MxFun$1.getCurrentDraw().addMxEntity(r))})}class MxDbRect extends MxDbEntity{constructor(){super(...arguments),this.cornerRadius=[],this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3,this.isSolidColorFill=!1,this.isLoadMaterialFromPath=!0,this.material=null}worldDraw(t){let r=computeRectPoints(this.pt1,this.pt2);if(this.cornerRadius.length>0&&(r=getToGenerateRoundedCorners(r,this.cornerRadius)),t.getType()!=McGiWorldDrawType$1.kWorldDraw)return r.push(r[0]),void t.drawLines(r);const i={transparent:!0,depthTest:!1,opacity:this.opacity,visible:this.visible};if(this.isSolidColorFill){let l;r=r.map(({x:d,y:D})=>new THREE.Vector2(d,D)),l=new THREE.ShapeGeometry(new THREE.Shape(r));let a=new THREE.MeshBasicMaterial(Object.assign({color:this.filter?this.filter._getFilterColor(this.color,this.opacity):new THREE.Color(this.color)},i)),c=new THREE.Mesh(l,a);t.drawEntity(c)}else if(this.fillImageSrc){if(this.material){r=r.map(({x:d,y:D})=>new THREE.Vector2(d,D));let l=this.material,a=new THREE.ShapeGeometry(new THREE.Shape(r));if(a=repairGeometryFaceVertexUvs(a),this.filter){const d=l.map;this.fillImageParam&&(this.fillImageParam.center&&(d.center=this.fillImageParam.center),this.fillImageParam.offset&&(d.offset=this.fillImageParam.offset),this.fillImageParam.repeat&&(d.repeat=this.fillImageParam.repeat),this.fillImageParam.rotation&&(d.rotation=this.fillImageParam.rotation));const D=this.filter._getFilterShaderData(d);l=new THREE.ShaderMaterial(Object.assign(Object.assign({},D),i))}l.depthTest=!1,l.transparent=!0,l.opacity=this.opacity,l.visible=this.visible;let c=new THREE.Mesh(a,l);t.drawEntity(c)}else if(this.fillImageSrc.length>0&&this.isLoadMaterialFromPath){let l=this;MxFun$1.loadImageMaterial(this.fillImageSrc,a=>{this.isLoadMaterialFromPath=!1,a&&(l.material=a,l.setNeedUpdateDisplay(),MxFun$1.updateDisplay())})}}else{let l=new THREE.BufferGeometry().setFromPoints(r),a=new THREE.LineBasicMaterial(Object.assign({color:this.getColor()},i)),c=new THREE.LineLoop(l,a);t.drawEntity(c)}}getGripPoints(){let t=[];t.push(this.pt1);const r=new THREE.Line3(this.pt1,this.pt2);let i=new THREE.Vector3;return r.getCenter(i),t.push(i),t.push(this.pt2),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?(this.pt1.add(r),this.pt2.add(r)):t==2&&this.pt2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),this.isSolidColorFill=t.isSolidColorFill,this.fillImageSrc=t.fillImageSrc,this.fillImageParam=t.fillImageParam,this.cornerRadius=t.cornerRadius,this.filter=t.filter,this.isLoadMaterialFromPath=!0,this.material=null,!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t.isSolidColorFill=this.isSolidColorFill,t.fillImageSrc=this.fillImageSrc,t.fillImageParam=this.fillImageParam,t.cornerRadius=this.cornerRadius,t.filter=this.filter,t}create(){return new MxDbRect}transformBy(t){this.pt1.applyMatrix4(t),this.pt2.applyMatrix4(t)}setRadius(t,r=!0){t instanceof Array?this.cornerRadius=t.map(i=>r?MxFun$1.screenCoordLong2Doc(i):i):this.cornerRadius=t>0?r?[MxFun$1.screenCoordLong2Doc(t),MxFun$1.screenCoordLong2Doc(t),MxFun$1.screenCoordLong2Doc(t),MxFun$1.screenCoordLong2Doc(t)]:[t,t,t,t]:[]}getTypeName(){return"MxDbRect"}getFilter(){return this.filter}setFilter(t){this.filter=t,this.isLoadMaterialFromPath=!0,this.material=null}setFillImagePath(t){this.fillImageSrc=t,this.isLoadMaterialFromPath=!0,this.material=null,this.fillImageSrc&&(this.isSolidColorFill=!1)}getFillImagePath(){return this.fillImageSrc}}MxDbRect.cmd="Mx_DrawRect",MxDbRect.draw=drawMxDbRect,addRegisterMxDbEntity(MxDbRect);const MxDbRect$1=MxDbRect,index$b=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbRect$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbAlignedDimension(){let e=new MxDbAlignedDimension$1;const t=new MrxDbgUiPrPoint;return t.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),t.go(r=>{if(r!=0)return;const i=t.value();e.setPoint1(i),e.setColor(65314);const l=new McEdGetPointWorldDrawObject;l.setDraw(a=>{e.setPoint2(a),l.drawCustomEntity(e)}),t.setBasePt(i),t.setUseBasePt(!0),t.setUserDraw(l),t.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),t.setInputToucheType(MxType.InputToucheType.kGetEnd),t.go(a=>{if(a!=0)return void console.log(a);const c=t.value();e.setPoint2(c),MxFun$1.getCurrentDraw().addMxEntity(e)})}),e}const propertyDbKeys$5=["point1","point2","fontColor"];class MxDbAlignedDimension extends MxDbEntity{constructor(t){if(super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,t){const{points:r,fontColor:i}=t;r&&this.setPoints(r),i&&(this.fontColor=i)}}setPoints(t){const[r,i]=t;r&&(this.point1=r),i&&(this.point2=i)}getTypeName(){return"MxDbAlignedDimension"}getDirection(t,r,i){const l=new THREE.Vector3(t.x,t.y,0),a=new THREE.Vector3(1,0,0),c=t.angleTo(a);let d=-1;(c<7*Math.PI/18||c>10*Math.PI/18)&&r.x>i.x&&(d=1);const D=new THREE.Matrix4;return D.makeRotationZ(Math.PI/2*d),l.applyMatrix4(D),l}getDimText(){return new THREE.Vector3(this.point1.x-this.point2.x,this.point1.y-this.point2.y,0).length().toFixed(3)}worldDraw(t){if(t.getType()==McGiWorldDrawType$1.kWorldDraw||t.getType()==McGiWorldDrawType$1.kDynDragDraw){const r=this.point1,i=this.point2;let l,a,c,d,D,v,C;const f=new THREE.Vector3(r.x-i.x,r.y-i.y,0),w=this.getDirection(f,r,i),F=new THREE.Matrix4;F.makeScale(.01,.01,.01);const T=new THREE.Vector3(w.x,w.y,0);T.applyMatrix4(F);const R=new THREE.Vector3(r.x+T.x,r.y+T.y,0),ee=new THREE.Vector3(i.x+T.x,i.y+T.y,0),re=this.getColor();v=MxThreeJS$1.createPoint(r,re),C=MxThreeJS$1.createPoint(i,re);{F.identity(),F.makeScale(.2,.2,0),new THREE.Vector3(w.x,w.y,0).applyMatrix4(F),F.identity(),F.makeScale(.02,.02,0);const ae=new THREE.Vector3(w.x,w.y,0);ae.applyMatrix4(F),t.drawLine(R,ee),l=MxThreeJS$1.createLine(new THREE.Vector3(R.x+2*ae.x,R.y+2*ae.y,0),new THREE.Vector3(r.x+ae.x,r.y+ae.y,0),re),a=MxThreeJS$1.createLine(new THREE.Vector3(ee.x+2*ae.x,ee.y+2*ae.y,0),new THREE.Vector3(i.x+ae.x,i.y+ae.y,0),re)}{const ae=new THREE.Vector3(1,0,0);let ce=f.angleTo(ae);const ue=new THREE.Vector3(w.x,w.y,0);ue.normalize();const de=r.distanceTo(i);f.y<0?ce=ce<Math.PI/2?2*Math.PI-ce:Math.PI-ce:ce>Math.PI/2&&(ce=Math.PI+ce);const A=t.getMxObject();A&&(ce-=A.getViewAngle());const oe=this.getDimText();(c=MxThreeJS$1.creatTextSprite(oe,new THREE.Vector3(ee.x+f.x/2+ue.x*de/30,ee.y+f.y/2+ue.y*de/30,0),.07*de,ce,this.fontColor||re))!=null&&t.drawEntity(c)}{F.identity(),F.makeScale(.08,.08,.08);const ae=new THREE.Matrix4;ae.makeRotationZ(17*Math.PI/18);let ce=new THREE.Vector3(f.x,f.y,0);ce.applyMatrix4(F),ce.applyMatrix4(ae),ae.identity(),ae.makeRotationZ(17*-Math.PI/18);let ue=new THREE.Vector3(f.x,f.y,0);ue.applyMatrix4(F),ue.applyMatrix4(ae);const de=new Array;de.push(new THREE.Vector3(R.x,R.y,0),new THREE.Vector3(R.x+ce.x,R.y+ce.y,0),new THREE.Vector3(R.x+ue.x,R.y+ue.y,0)),d=MxThreeJS$1.createTriangle(de,re),ae.identity(),ae.makeRotationZ(Math.PI/18),(ce=new THREE.Vector3(f.x,f.y,0)).applyMatrix4(F),ce.applyMatrix4(ae),ae.identity(),ae.makeRotationZ(-Math.PI/18),(ue=new THREE.Vector3(f.x,f.y,0)).applyMatrix4(F),ue.applyMatrix4(ae);const A=new Array;A.push(new THREE.Vector3(ee.x,ee.y,0),new THREE.Vector3(ee.x+ce.x,ee.y+ce.y,0),new THREE.Vector3(ee.x+ue.x,ee.y+ue.y,0)),D=MxThreeJS$1.createTriangle(A,re)}t.drawEntity(l),t.drawEntity(a),d&&t.drawEntity(d),D&&t.drawEntity(D),t.drawEntity(v),t.drawEntity(C)}else t.drawLine(this.point1,this.point2)}setPoint1(t){this.point1=t}setPoint2(t){this.point2=t}setColor(t){return _$1.isArray(t)?([this.color=this.color,this.fontColor=this.fontColor||this.color]=t,console.log("this.fontColor : ",this.fontColor)):this.color=t,this}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):(t=1)&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$5),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$5),t}create(){return new MxDbAlignedDimension}}MxDbAlignedDimension.cmd="Mx_DimensionMeasurement",MxDbAlignedDimension.draw=drawMxDbAlignedDimension,addRegisterMxDbEntity(MxDbAlignedDimension);const MxDbAlignedDimension$1=MxDbAlignedDimension,index$a=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbAlignedDimension$1},Symbol.toStringTag,{value:"Module"}));class MxDbHatch extends MxDbEntity{constructor(){super(...arguments),this.points=[]}worldDraw(t){t.getType()===McGiWorldDrawType$1.kWorldDraw?t.drawSolid(this.points):t.drawLines([...this.points,this.points[0]])}getTypeName(){return"MxDbHatch"}moveGripPointsAt(t,r){return t===0?this.points.forEach(i=>{i.add(r)}):this.points[t-1]&&this.points[t-1].add(r),!0}setPoints(t){this.points=t.map(r=>r.clone())}getGripPoints(){if(this.points.length>0){const{centerPoint:t}=computeBounding(this.points);return[t,...this.points]}return[]}dwgIn(t){this.onDwgIn(t);const r=t.points;return this.points=r.map(({x:i,y:l,z:a})=>new THREE.Vector3(i,l,a)),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,t}}addRegisterMxDbEntity(MxDbHatch);const MxDbHatch$1=MxDbHatch,index$9=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbHatch$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbArea(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbArea$1;i.addPoint(r);const l=new McEdGetPointWorldDrawObject;l.setDraw((a,c)=>{let d=i.clone();d.addPoint(a),l.drawCustomEntity(d)}),e.setUserDraw(l),e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.goWhile(a=>{if(a==0){const c=e.value();i.addPoint(c)}},a=>{i.isFill=!0,i.fillOpacity=.7,i.fillColor=6697540,MxFun$1.getCurrentDraw().addMxEntity(i)})})}class MxDbArea extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.isFill=!1,this.fillColor=6697540,this.fillOpacity=.7}getTypeName(){return"MxDbArea"}create(){return new MxDbArea}getDimText(){return McGeTool$1.calcArea(this.points).toFixed(2)}worldDraw(t){if(this.points.length<3)return void(this.points.length==2&&t.drawLine(this.points[0],this.points[1]));let r=this.points[0],i=r.clone(),l=r.clone(),a=this.points.length;for(let C=1;C<a;C++){let f=this.points[C];i.x>f.x&&(i.x=f.x),i.y>f.y&&(i.y=f.y),l.x<f.x&&(l.x=f.x),l.y<f.y&&(l.y=f.y),t.drawLine(r,f),r=f}t.drawLine(r,this.points[0]);let c=new THREE.Vector3(i.x+.5*(l.x-i.x),i.y+.5*(l.y-i.y));const d=t.getColor();let D=MxFun$1.screenCoordLong2Doc(20),v=MxThreeJS$1.creatTextSprite(this.getDimText(),c,D,0,d);if(v!=null&&t.drawEntity(v),t.getType()==McGiWorldDrawType$1.kWorldDraw&&this.isFill){t.setColor(this.fillColor),t.setOpacity(this.fillOpacity),t.setRenderOrder(t.getRenderOrder()-1);const C=new MxDbHatch$1;C.points=this.points,C.worldDraw(t)}}getGripPoints(){return this.points}moveGripPointsAt(t,r){return!(t>=this.points.length)&&(this.points[t].add(r),!0)}dwgIn(t){this.onDwgIn(t);let r=t.points;return this.points=[],r.forEach(i=>{this.points.push(new THREE.Vector3(i.x,i.y,i.z))}),this.dwgInHelp(t,["isFill","fillColor","fillOpacity"]),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,this.dwgOutHelp(t,["isFill","fillColor","fillOpacity"]),t}addPoint(t){this.points.push(t.clone())}getPoints(){return this.points}clearPoint(){this.points=[]}}MxDbArea.cmd="Mx_Area",MxDbArea.draw=drawMxDbArea,addRegisterMxDbEntity(MxDbArea);const MxDbArea$1=MxDbArea,index$8=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbArea$1},Symbol.toStringTag,{value:"Module"}));var __awaiter$b=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbLeadTag(){return __awaiter$b(this,void 0,void 0,function*(){let e=yield new MrxDbgUiPrPoint().go();if(!e)return;let t=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");if(!t)return;const r=new MxDbLeadTag$1;r.point=e,r.text=t,MxFun$1.addToCurrentSpace(r)})}class MxDbLeadTag extends MxDbEntity{constructor(){super(...arguments),this.point=new THREE.Vector3,this.leadLen=88,this.text="",this.textHeight=24}getTypeName(){return"MxDbLeadTag"}createDots(t,r){const{x:i,y:l,z:a}=t,c=new THREE.Shape;c.arc(i,l,r.screenCoordLong2Doc(6),0,2*Math.PI,!0);const d=new THREE.Path;d.arc(i,l,r.screenCoordLong2Doc(3),0,2*Math.PI,!0),c.holes.push(d);const D=new THREE.ShapeGeometry(c),v=new THREE.MeshPhongMaterial({color:"#ff0000",transparent:!0}),C=new THREE.Shape;C.arc(i,l,r.screenCoordLong2Doc(3),0,2*Math.PI,!0);const f=new THREE.ShapeGeometry(C),w=new THREE.MeshPhongMaterial({color:"#e2da8f",transparent:!0}),F=new THREE.Mesh(D,v),T=new THREE.Mesh(f,w);return F.add(T),F}worldDraw(t){let r=t.getMxObject();const i=this.createDots(this.point,r);if(t.drawEntity(i),i.geometry.computeBoundingBox(),t.drawSelectLine(i.geometry.boundingBox.max,i.geometry.boundingBox.min),t.getType()===2)return;let l=t.getMxObject().screenCoordLong2Doc(this.leadLen),a=new THREE.Vector3(this.point.x+2*l,this.point.y+l,0);const c=a.x-l,d=new THREE.Vector3(c,a.y,a.z);t.setLineWidth(4),t.setColor("#ffe605"),t.drawLines([this.point,d,a]);const D=t.getMxObject().screenCoordLong2Doc(this.textHeight),v=a.clone().setX(a.x);t.setColor(16744448);const C=MxThreeJS$1.creatTextSprite(this.text,v,D,0,t.getColor());if(C){const f=new THREE.Box3,w=new THREE.Vector3;f.expandByObject(C),f.getSize(w),C.position.setX(C.position.x+w.x/2);const F=t.getMxObject().screenCoordLong2Doc(5),T=f.min.clone().setX(f.min.x+w.x/2).setY(f.min.y-F),R=f.max.clone().setX(f.max.x+w.x/2).setY(f.min.y+F);R.setY(f.max.y+F);const ee=new THREE.Vector3(T.x,R.y),re=new THREE.Vector3(R.x,T.y);t.setColor("#ffffff"),t.setLineWidth(0),t.drawLine(T,ee),t.drawLine(R,re),t.drawLine(T,re),t.drawLine(ee,R);const ae=F/2,ce=[],ue=[];ce.push(new THREE.Vector3(ee.x+ae,ee.y-F,ee.z),new THREE.Vector3(ee.x+ae,ee.y-ae,ee.z),new THREE.Vector3(ee.x+F,ee.y-ae,ee.z)),ue.push(new THREE.Vector3(re.x-ae,re.y+F,re.z),new THREE.Vector3(re.x-ae,re.y+ae,re.z),new THREE.Vector3(re.x-F,re.y+ae,re.z)),t.drawLines(ce),t.drawLines(ue),t.setOpacity(.5),t.setColor("#663244"),t.setRenderOrder(-100),t.drawSolid([T,ee,R,re]),t.setRenderOrder(100),t.drawEntity(C)}}getGripPoints(){return[this.point]}onViewChange(){return this.setNeedUpdateDisplay(),!0}moveGripPointsAt(t,r){return t===0&&this.point.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,["point","text","textHeight","leadLen"]),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,["point","text","textHeight","leadLen"]),t}}MxDbLeadTag.cmd="Mx_LeadTag",MxDbLeadTag.draw=drawMxDbLeadTag,addRegisterMxDbEntity(MxDbLeadTag);const MxDbLeadTag$1=MxDbLeadTag,index$7=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbLeadTag$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbAnyLine(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbAnyLine$1;e.setUserDraw(r),e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u753B\u7EBF:`),e.go(l=>{l===MrxDbgUiPrBaseReturn$1.kOk&&(i.points.push(e.value()),r.setDraw(a=>{i.points.push(a.clone()),r.drawCustomEntity(i)})),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u753B\u7EBF:`),e.go(a=>{a===MrxDbgUiPrBaseReturn$1.kOk&&t.addMxEntity(i)})})}const propertyDbKeys$4=["points"];class MxDbAnyLine extends MxDbEntity{constructor(){super(...arguments),this.points=[]}getTypeName(){return"MxDbAnyLine"}create(){return new MxDbAnyLine}worldDraw(t){let r=t.getMxObject();const i=new THREE.Box3().setFromPoints(this.points);let l=new THREE.Vector3;if(i.getCenter(l),t.drawLines(this.points),t.getType()===McGiWorldDrawType$1.kSelectDraw){const a=new THREE.Vector3;i.getSize(a),a.addScalar(r.screenCoordLong2Doc(20));const c=a.x/2,d=a.y/2,D={x:l.x-c,y:l.y-d},v={x:l.x+c,y:l.y-d},C={x:l.x+c,y:l.y+d},f={x:l.x-c,y:l.y+d};t.drawLine(D.x,D.y,v.x,v.y),t.drawLine(v.x,v.y,C.x,C.y),t.drawLine(C.x,C.y,f.x,f.y),t.drawLine(f.x,f.y,D.x,D.y)}}setPoints(t){return this.points=t,this}getCenter(){const t=new THREE.Geometry;t.vertices=this.points;const r=new THREE.Vector3;return t.computeBoundingBox(),t.boundingBox.getCenter(r),r}getGripPoints(){return[this.getCenter()]}moveGripPointsAt(t,r){return t===0&&this.points.forEach(i=>{i.add(r)}),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$4),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$4),t}}MxDbAnyLine.cmd="Mx_AnyLine",MxDbAnyLine.draw=drawMxDbAnyLine,addRegisterMxDbEntity(MxDbAnyLine);const MxDbAnyLine$1=MxDbAnyLine,index$6=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbAnyLine$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbCloudLine(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setMessage(`
\u70B9\u51FB\u5F00\u542F\u7ED8\u5236\u4E91\u7EBF:`),e.go(()=>{const i=MxFun$1.screenCoordLong2Doc(16);let l=e.value();const a=new MxDbCloudLine$1;a.setRadius(i),a.addPoint(l),r.setDraw(c=>{l.distanceTo(c)>i&&(l=c.clone(),a.addPoint(c,!0)),r.drawCustomEntity(a)}),e.setUserDraw(r),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u4E91\u7EBF:`),e.go(()=>{t.addMxEntity(a)})})}const propertyDbKeys$3=["points","radius"];class MxDbCloudLine extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.radius=16,this.cachePoint=null}getTypeName(){return"MxDbCloudLine"}create(){return new MxDbCloudLine}setRadius(t){this.radius=t}getRadius(){return this.radius}getCachePoint(){return this.cachePoint}clacNewArcDiameterPoint(t){if(this.points.length==0)return t;let r=this.points[this.points.length-1];const i=2*this.radius,l=r.distanceTo(t);if(l<i)return null;const a=i*(t.x-r.x)/l+r.x,c=i*(t.y-r.y)/l+r.y;return new THREE.Vector3(a,c,r.z)}createCloudArcCurvePoints(t,r,i){const l=new THREE.Vector3((t.x+r.x)/2,(t.y+r.y)/2,0);i||(i=l.distanceTo(t));const{startAngle:a,endAngle:c}=function(d,D,v){const C=2*Math.PI/360;return{startAngle:180*Math.atan2(D.y-d.y,D.x-d.x)/Math.PI*C,endAngle:180*Math.atan2(v.y-d.y,v.x-d.x)/Math.PI*C}}(l,t,r);return new THREE.ArcCurve(l.x,l.y,i,a,c,!0).getPoints(10)}addPoint(t,r){let i=this.clacNewArcDiameterPoint(t);i&&(this.points.push(i),this.cachePoint=null,r&&(this.cachePoint=this.reCalculateDrawGeometryPoint()))}addLine(t,r){this.addPoint(t);const i=2*this.radius;let l=this.points[this.points.length-1],a=l.distanceTo(r);const c=Math.round(a/i);for(let d=0;d<c;d++){a=l.distanceTo(r);const D=i*(r.x-l.x)/a+l.x,v=i*(r.y-l.y)/a+l.y;let C=new THREE.Vector3(D,v,r.z);this.addPoint(C),l=C}return this.points[this.points.length-1]}reCalculateDrawGeometryPoint(){if(this.points.length<2)return null;let t=this.points[0],r=this.points.length,i=[];for(let l=1;l<r;l++){let a=this.points[l];this.createCloudArcCurvePoints(t,a).forEach(c=>{i.push(new THREE.Vector3(c.x,c.y,0))}),t=a}return i}worldDraw(t){if(this.cachePoint||(this.cachePoint=this.reCalculateDrawGeometryPoint()),this.cachePoint)if(t.getType()===McGiWorldDrawType$1.kSelectDraw){let r=new THREE.Geometry;this.cachePoint.forEach(f=>{r.vertices.push(new THREE.Vector3(f.x,f.y,0))}),r.computeBoundingBox();const i=new THREE.Vector3;r.boundingBox.getSize(i);let l=new THREE.Vector3;r.boundingBox.getCenter(l);const a=i.x/2,c=i.y/2,d={x:l.x-a,y:l.y-c},D={x:l.x+a,y:l.y-c},v={x:l.x+a,y:l.y+c},C={x:l.x-a,y:l.y+c};t.drawLine(d.x,d.y,D.x,D.y),t.drawLine(D.x,D.y,v.x,v.y),t.drawLine(v.x,v.y,C.x,C.y),t.drawLine(C.x,C.y,d.x,d.y)}else t.drawLines(this.cachePoint)}getCenter(){const t=new THREE.Geometry;t.vertices=this.points;let r=new THREE.Vector3;return t.computeBoundingBox(),t.boundingBox.getCenter(r),r}getGripPoints(){return[this.getCenter()]}moveGripPointsAt(t,r){return this.points.forEach(i=>{i.add(r)}),this.cachePoint=null,!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$3),this.cachePoint=null,!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$3),t.type===MxType.MxCloneType.kSaveDwgClone&&this.dwgOutHelp(t,["cachePoint"]),t}}MxDbCloudLine.isRegister=!1,MxDbCloudLine.cmd="Mx_CloudLine",MxDbCloudLine.draw=drawMxDbCloudLine,addRegisterMxDbEntity(MxDbCloudLine);const MxDbCloudLine$1=MxDbCloudLine,index$5=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbCloudLine$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbRegularPolygon(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbRegularPolygon$1;e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u7ED8\u5236\u591A\u8FB9\u5F62:`),e.go(()=>{let l=prompt("\u8BF7\u8F93\u5165\u591A\u8FB9\u5F62\u7684\u8FB9\u6570","8");l&&(i.sidesNumber=Number(l),i.centerPoint=e.value(),e.setUserDraw(r),r.setDraw(a=>{i.otherPoint=a,r.drawCustomEntity(i)}),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u591A\u8FB9\u5F62:`),e.go(()=>{t.addMxEntity(i)}))})}class MxDbRegularPolygon extends MxDbShape{constructor(){super(),this.centerPoint=new THREE.Vector3,this.otherPoint=new THREE.Vector3,this.sidesNumber=5,this._propertyDbKeys=[...this._propertyDbKeys,"centerPoint","otherPoint","sidesNumber"]}getTypeName(){return"MxDbRegularPolygon"}worldDraw(t){const r=computeRegularPolygonVertices(this.centerPoint,this.otherPoint,this.sidesNumber);this.closed=!1,r.push(r[0]),this._draw(t,r),this._drawStoreLine(t,r)}getGripPoints(){return[this.centerPoint,this.otherPoint]}moveGripPointsAt(t,r){return t===0?(this.centerPoint.add(r),this.otherPoint.add(r)):t===1&&this.otherPoint.add(r),!0}}MxDbRegularPolygon.cmd="Mx_RegularPolygon",MxDbRegularPolygon.draw=drawMxDbRegularPolygon,addRegisterMxDbEntity(MxDbRegularPolygon);const MxDbRegularPolygon$1=MxDbRegularPolygon,index$4=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbRegularPolygon$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbLeadComment(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbLeadComment$1;i.point1=r.clone(),i.textHeight=MxFun$1.screenCoordLong2Doc(50);let l=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");if(!l)return;i.text=l,i.textWidth=MxFun$1.screenCoordLong2Doc(10*l.length),i.fixedSize=!0,i.fixedSize&&(i.textHeight=50,i.textWidth=50*l.length);const a=new McEdGetPointWorldDrawObject;a.setDraw((c,d)=>{i.point2=c,d.drawCustomEntity(i)}),e.setBasePt(r),e.setUseBasePt(!0),e.setUserDraw(a),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),e.go(c=>{if(c!=0)return void console.log(c);const d=e.value();i.point2=d,MxFun$1.addToCurrentSpace(i)})})}class MxDbLeadComment extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.text="",this.textHeight=20,this.textWidth=0,this.fixedSize=!1}getTypeName(){return"MxDbLeadComment"}create(){return new MxDbLeadComment}worldDraw(t){if(t.drawLine(this.point1,this.point2),this.text.length>0){const r=new THREE.Vector3;let i=this.textHeight,l=this.textWidth,a=t.getMxObject();this.fixedSize&&(i=a.screenCoordLong2Doc(i),l=a.screenCoordLong2Doc(l));let c=MxThreeJS$1.clacTextSpriteSize(this.text,i,l);r.x=this.point2.x+.5*c.textwidth,r.y=this.point2.y+.5*c.allTextHeight,t.drawText(this.text,i,0,r,l);const d=new THREE.Vector3;d.x=this.point2.x+c.textwidth,d.y=this.point2.y,t.drawLine(d,this.point2)}}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),this.text=t.text.substr(0),this.textHeight=t.textHeight,t.textWidth&&(this.textWidth=t.textWidth),this.fixedSize=t.fixedSize,!0}dwgOut(t){return this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t.textHeight=this.textHeight,t.text=this.text,t.textWidth=this.textWidth,t.fixedSize=this.fixedSize,t}onViewChange(){return!!this.fixedSize&&(this.setNeedUpdateDisplay(!1),!0)}}MxDbLeadComment.cmd="Mx_Comment",MxDbLeadComment.draw=drawMxDbLeadComment,addRegisterMxDbEntity(MxDbLeadComment);const MxDbLeadComment$1=MxDbLeadComment,index$3=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbLeadComment$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbRectBoxLeadComment(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbRectBoxLeadComment$1;i.setLineWidth(3),i.setLineWidthByPixels(!0),e.setMessage(`
\u4E91\u7EBF\u6846\u8D77\u59CB\u70B9:`),e.go(l=>{i.radius=MxFun$1.screenCoordLong2Doc(8),l==MrxDbgUiPrBaseReturn$1.kOk&&(i.point1=e.value(),r.setDraw(a=>{i.point2=a,r.drawCustomEntity(i)}),e.setUserDraw(r),e.setMessage(`
\u4E91\u7EBF\u6846\u7ED3\u675F\u70B9:`),e.go(a=>{if(a!=MrxDbgUiPrBaseReturn$1.kOk)return;i.point2=e.value(),r.setDraw(d=>{i.point3=d,r.drawCustomEntity(i)});let c=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");c||(c="\u9ED8\u8BA4\u6279\u6CE8\u6587\u5B57"),i.text=c,i.textWidth=MxFun$1.screenCoordLong2Doc(10*c.length),i.textHeight=MxFun$1.screenCoordLong2Doc(5*c.length),i.fixedSize=!0,i.fixedSize&&(i.textHeight=20,i.textWidth=20*c.length),e.setMessage(`
\u5BA1\u56FE\u6807\u6CE8\u70B9:`),e.go(d=>{d==MrxDbgUiPrBaseReturn$1.kOk&&(i.point3=e.value(),t.addMxEntity(i))})}))})}class MxDbRectBoxLeadComment extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.text="",this.textHeight=20,this.radius=16,this.textWidth=0,this.fixedSize=!1}getTypeName(){return"MxDbRectBoxLeadComment"}create(){return new MxDbRectBoxLeadComment}getCloudLine(){let t=new MxDbCloudLine$1;t.setRadius(this.radius);let r=this.point1.clone(),i=this.point2.clone();if(r.x>i.x){let D=r.x;r.x=i.x,i.x=D}if(r.y>i.y){let D=r.y;r.y=i.y,i.y=D}let l=new THREE.Vector3(r.x,i.y,r.z);l=t.addLine(r,l),i=new THREE.Vector3(i.x,l.y,i.z),i=t.addLine(l,i);let a=new THREE.Vector3(i.x,r.y,r.z);a=t.addLine(i,a);let c=r=t.addLine(a,r),d=r.distanceTo(this.point3);return d>l.distanceTo(this.point3)&&(c=l,d=l.distanceTo(this.point3)),d>i.distanceTo(this.point3)&&(c=i,d=i.distanceTo(this.point3)),d>a.distanceTo(this.point3)&&(c=a,d=a.distanceTo(this.point3)),{cloudLine:t,pt1:r,pt2:l,pt3:i,pt4:a,leadPt:c}}worldDraw(t){let r=this.getCloudLine();if(r.cloudLine.worldDraw(t),this.text.length>0){let i=r.leadPt,l=new MxDbLeadComment$1;l.point1=i,l.point2=this.point3,l.text=this.text,l.textHeight=this.textHeight,l.textWidth=this.textWidth,l.fixedSize=this.fixedSize,l.worldDraw(t)}}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t.push(this.point3),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1?this.point2.add(r):t==2&&this.point3.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),this.point3.copy(t.point3),this.text=t.text.substr(0),this.textHeight=t.textHeight,this.radius=t.radius,t.textWidth&&(this.textWidth=t.textWidth),this.fixedSize=t.fixedSize,!0}dwgOut(t){if(this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t.point3=this.point3,t.textHeight=this.textHeight,t.text=this.text,t.radius=this.radius,t.textWidth=this.textWidth,t.fixedSize=this.fixedSize,t.type===MxType.MxCloneType.kSaveDwgClone){let r=this.getCloudLine(),i=r.cloudLine.reCalculateDrawGeometryPoint();t.cachePoint=i||[],t.leadPt=r.leadPt}return t}onViewChange(){return!!this.fixedSize&&(this.setNeedUpdateDisplay(!1),!0)}}MxDbRectBoxLeadComment.cmd="Mx_CheckDraw",MxDbRectBoxLeadComment.draw=drawMxDbRectBoxLeadComment,addRegisterMxDbEntity(MxDbRectBoxLeadComment);const MxDbRectBoxLeadComment$1=MxDbRectBoxLeadComment,index$2=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbRectBoxLeadComment$1},Symbol.toStringTag,{value:"Module"}));function drawMxDbEllipse(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbEllipse$1;e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u7ED8\u5236\u692D\u5706:`),e.go(()=>{i.point1=e.value(),r.setDraw(l=>{i.point2=l,r.drawCustomEntity(i)}),e.setUserDraw(r),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u692D\u5706:`),e.go(()=>{t.addMxEntity(i)})})}class MxDbEllipse extends MxDbEllipseShape{constructor(){super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.isClosedToCenter=!1,this.closed=!1,this._propertyDbKeys=[...this._propertyDbKeys,"point1","point2"]}getTypeName(){return"MxDbEllipse"}create(){return new MxDbEllipse}setPoint1(t){return this.point1=t,this}setPoint2(t){return this.point2=t,this}worldDraw(t){const{point1:r,point2:i}=this,l=r.clone().set(i.x,r.y,i.z),a=i.clone().set(r.x,i.y,r.z);this.xRadius=r.distanceTo(l)/2,this.yRadius=r.distanceTo(a)/2;const c=r.x>i.x,d=r.y>i.y,D=c?r.x-this.xRadius:r.x+this.xRadius,v=d?r.y-this.yRadius:r.y+this.yRadius;this.center=new THREE.Vector3(D,v,0),this.drawEllipseShape(t),t.getType()===McGiWorldDrawType$1.kSelectDraw&&t.drawLines([r,new THREE.Vector3(r.x,i.y),i,new THREE.Vector3(i.x,r.y),r])}getGripPoints(){let t=new THREE.Vector3(.5*(this.point2.x+this.point1.x),.5*(this.point2.y+this.point1.y),0);return[this.point1,this.point2,t]}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2&&(this.point1.add(r),this.point2.add(r)),!0}}MxDbEllipse.cmd="Mx_Ellipse",MxDbEllipse.draw=drawMxDbEllipse,addRegisterMxDbEntity(MxDbEllipse);const MxDbEllipse$1=MxDbEllipse,index$1=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbEllipse$1},Symbol.toStringTag,{value:"Module"}));var __awaiter$a=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbText(){return __awaiter$a(this,void 0,void 0,function*(){const e=new MrxDbgUiPrPoint;e.setMessage(`
 \u70B9\u53D6\u6587\u5B57\u63D2\u5165\u70B9:`);let t=yield e.go();if(t==null)return;let r=prompt("\u8BF7\u8F93\u5165\u6587\u5B57");if(!r)return;let i=new MxDbText$1;i.position=t,i.height=MxFun$1.screenCoordLong2Doc(50),i.text=r,MxFun$1.addToCurrentSpace(i)})}var __awaiter$9=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};let _SpriteText;function getSpriteTextColor(e){return e?e instanceof THREE.Color?e.getStyle():typeof e=="number"?new THREE.Color(e).getStyle():e:"#fff"}function toCSSFont(e,t,r,i,l){let a=document.createElement("span");return a.style.font="1px serif",a.style.fontFamily=e,a.style.fontSize=`${t}px`,a.style.fontStyle=r,a.style.fontVariant=i,a.style.fontWeight=l,a.style.font}function getSpriteTextClass(){if(!_SpriteText){class e extends THREE.Sprite{constructor(r){super(new THREE.SpriteMaterial);const{text:i,textHeight:l,color:a,backgroundColor:c,padding:d,borderWidth:D,borderRadius:v,borderColor:C,strokeWidth:f,strokeColor:w,fontFace:F,fontSize:T,fontWeight:R,textAlign:ee,textShadowBlur:re,textShadowColor:ae,textShadowOffsetX:ce,textShadowOffsetY:ue,angle:de,scale:A,underline:oe,fontStyle:le,fontVariant:ie}=r||{};this._text=`${i}`,this._textHeight=l||10,this._color=a,this._backgroundColor=c,this._padding=d||0,this._borderWidth=D||0,this._borderRadius=v||0,this._borderColor=C||"white",this._strokeWidth=f||0,this._strokeColor=w||"white",this._fontFace=F||"Arial",this._fontSize=T||90,this._fontWeight=R?.toString()||"normal",this._textAlign=ee||"start",this._fontStyle=le||"normal",this._fontVariant=ie||"normal",this._textShadowBlur=re||0,this._textShadowColor=ae,this._textShadowOffsetX=ce||0,this._textShadowOffsetY=ue||0,this._angle=de||0,this._textScale=A||1,this._underline=oe||!1,this._canvas=document.createElement("canvas"),this._genCanvas()}get text(){return this._text}set text(r){this._text=r,this._genCanvas()}get textHeight(){return this._textHeight}set textHeight(r){this._textHeight=r,this._genCanvas()}get color(){return this._color}set color(r){this._color=r,this._genCanvas()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){this._backgroundColor=r,this._genCanvas()}get padding(){return this._padding}set padding(r){this._padding=r,this._genCanvas()}get borderWidth(){return this._borderWidth}set borderWidth(r){this._borderWidth=r,this._genCanvas()}get borderRadius(){return this._borderRadius}set borderRadius(r){this._borderRadius=r,this._genCanvas()}get borderColor(){return this._borderColor}set borderColor(r){this._borderColor=r,this._genCanvas()}get fontFace(){return this._fontFace}set fontFace(r){this._fontFace=r,this._genCanvas()}get fontSize(){return this._fontSize}set fontSize(r){this._fontSize=r,this._genCanvas()}get fontWeight(){return this._fontWeight}set fontWeight(r){this._fontWeight=r,this._genCanvas()}get strokeWidth(){return this._strokeWidth}set strokeWidth(r){this._strokeWidth=r,this._genCanvas()}get strokeColor(){return this._strokeColor}set strokeColor(r){this._strokeColor=r,this._genCanvas()}get textAlign(){return this._textAlign}set textAlign(r){this._textAlign=r,this._genCanvas()}get textShadowBlur(){return this._textShadowBlur}set textShadowBlur(r){this._textShadowBlur=r,this._genCanvas()}get textShadowColor(){return this._textShadowColor}set textShadowColor(r){this._textShadowColor=r,this._genCanvas()}get textShadowOffsetX(){return this._textShadowOffsetX}set textShadowOffsetX(r){this._textShadowOffsetX=r,this._genCanvas()}get textShadowOffsetY(){return this._textShadowOffsetY}set textShadowOffsetY(r){this._textShadowOffsetY=r,this._genCanvas()}get angle(){return this._angle}set angle(r){this._angle=r,this._genCanvas()}get textScale(){return this._textScale}set textScale(r){this._textScale=r,this._genCanvas()}get underline(){return this._underline}set underline(r){this._underline=r,this._genCanvas()}get fontStyle(){return this._fontStyle}set fontStyle(r){this._fontStyle=r,this._genCanvas()}get fontVariant(){return this._fontVariant}set fontVariant(r){this._fontVariant=r,this._genCanvas()}_genCanvas(){const r=this._canvas,i=r.getContext("2d"),l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],a=l.map(ue=>ue*this.fontSize*.1),c=(Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius]).map(ue=>ue*this.fontSize*.1),d=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],D=d.map(ue=>ue*this.fontSize*.1),v=this.text.split(`
`),C=this.font;i.font=C;const f=Math.max(...v.map(ue=>i.measureText(ue).width)),w=4*this.strokeWidth+(this.underline?this.fontSize/15*4:this.fontSize/15),F=(this.fontSize+w)*v.length;if(r.width=f+2*a[0]+2*D[0],r.height=F+2*a[1]+2*D[1],this.borderWidth){if(i.strokeStyle=getSpriteTextColor(this.borderColor),a[0]){const ue=a[0]/2;i.lineWidth=a[0],i.beginPath(),i.moveTo(ue,c[0]),i.lineTo(ue,r.height-c[3]),i.moveTo(r.width-ue,c[1]),i.lineTo(r.width-ue,r.height-c[2]),i.stroke()}if(a[1]){const ue=a[1]/2;i.lineWidth=a[1],i.beginPath(),i.moveTo(Math.max(a[0],c[0]),ue),i.lineTo(r.width-Math.max(a[0],c[1]),ue),i.moveTo(Math.max(a[0],c[3]),r.height-ue),i.lineTo(r.width-Math.max(a[0],c[2]),r.height-ue),i.stroke()}if(this.borderRadius){const ue=Math.max(...a),de=ue/2;i.lineWidth=ue,i.beginPath(),[!!c[0]&&[c[0],de,de,c[0]],!!c[1]&&[r.width-c[1],r.width-de,de,c[1]],!!c[2]&&[r.width-c[2],r.width-de,r.height-de,r.height-c[2]],!!c[3]&&[c[3],de,r.height-de,r.height-c[3]]].filter(A=>A).forEach(A=>{const[oe,le,ie,I]=A;i.moveTo(oe,ie),i.quadraticCurveTo(le,ie,le,I)}),i.stroke()}}this.backgroundColor&&(i.fillStyle=getSpriteTextColor(this.backgroundColor),this.borderRadius?(i.beginPath(),i.moveTo(a[0],c[0]),[[a[0],c[0],r.width-c[1],a[1],a[1],a[1]],[r.width-a[0],r.width-a[0],r.width-a[0],a[1],c[1],r.height-c[2]],[r.width-a[0],r.width-c[2],c[3],r.height-a[1],r.height-a[1],r.height-a[1]],[a[0],a[0],a[0],r.height-a[1],r.height-c[3],c[0]]].forEach(([ue,de,A,oe,le,ie])=>{i.quadraticCurveTo(ue,oe,de,le),i.lineTo(A,ie)}),i.closePath(),i.fill()):i.fillRect(a[0],a[1],r.width-2*a[0],r.height-2*a[1])),i.translate(a[0],a[1]),i.translate(D[0],D[1]),i.font=C,i.fillStyle=getSpriteTextColor(this.color),i.textBaseline="bottom",i.shadowBlur=this.textShadowBlur,i.shadowColor=new THREE.Color(this.textShadowColor).getStyle(),i.shadowOffsetX=this.textShadowOffsetX,i.shadowOffsetY=this.textShadowOffsetY;const T=this.strokeWidth>0;T&&(i.lineWidth=this.strokeWidth*this.fontSize/10,i.strokeStyle=getSpriteTextColor(this.strokeColor));const R=this.textAlign==="center",ee=this.textAlign==="start"||this.textAlign==="left";v.forEach((ue,de)=>__awaiter$9(this,void 0,void 0,function*(){let A=R?2:1;const oe=i.measureText(ue).width,le=ee?0:(f-oe)/A,ie=(de+1)*(this.fontSize+w);T&&i.strokeText(ue,le,ie),i.fillText(ue,le,ie),this.underline&&i.fillRect(le,r.height-this.fontSize/25,oe,this.fontSize/25)})),this.material.map&&this.material.map.dispose();const re=this.material.map=new THREE.Texture(r);re.minFilter=THREE.LinearFilter,re.needsUpdate=!0;const ae=this.textHeight*v.length+2*l[1]+2*d[1],ce=ae*r.width/r.height;this.scale.set(ce,ae,this.scale.z),this.material.rotation=this.angle,this.scale.applyMatrix4(new THREE.Matrix4().makeScale(this.textScale,this.textScale,1))}clone(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}copy(r){return THREE.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this.textAlign=r.textAlign,this.textShadowBlur=r.textShadowBlur,this.textShadowColor=r.textShadowColor,this.textShadowOffsetX=r.textShadowOffsetX,this.textShadowOffsetY=r.textShadowOffsetY,this.angle=r.angle,this.textScale=r.textScale,this}get font(){return toCSSFont(this.fontFace,this.fontSize,this.fontStyle,this.fontVariant,this.fontWeight)}checkFontFace(){try{const{fontFace:r}=this;return document.fonts.check(r)}catch{}return!0}loadFontFace(){return __awaiter$9(this,void 0,void 0,function*(){try{const{fontFace:r}=this;yield document.fonts.load(r)}catch{}})}dispose(){var r;(r=this.material.map)===null||r===void 0||r.dispose(),this.material.dispose(),this.geometry.dispose(),this.dispatchEvent({type:"dispose"})}}_SpriteText=e}return _SpriteText}const propertyDbKeys$2=["text","position","height","backgroundColor","padding","borderWidth","borderRadius","borderColor","fontFace","fontSize","fontWeight","strokeWidth","strokeColor","angle","textAlign","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","scale","underline"];class MxDbText$1 extends MxDbEntity{constructor(){super(...arguments),this.position=new THREE.Vector3,this._text="",this._height=16,this._angle=0,this._scale=1,this._underline=!1}setPosition(t){return this.position=t,this}get text(){return this.spriteText?this.spriteText.text:this._text}set text(t){this.spriteText?this.spriteText.text=t:this._text=t}setText(t){return this.text=t,this}get height(){return this.spriteText?this.spriteText.textHeight:this._height}set height(t){this.spriteText?this.spriteText.textHeight=t:this._height=t}setHeight(t){return this.height=t,this}get backgroundColor(){return this.spriteText?this.spriteText.backgroundColor:this._backgroundColor}set backgroundColor(t){this.spriteText?this.spriteText.backgroundColor=t:this._backgroundColor=t}setBackgroundColor(t){return this.backgroundColor=t,this}get padding(){return this.spriteText?this.spriteText.padding:this._padding}set padding(t){this.spriteText?this.spriteText.padding=t:this._padding=t}setPadding(t){return this.padding=t,this}get borderWidth(){return this.spriteText?this.spriteText.borderWidth:this._borderWidth}set borderWidth(t){this.spriteText?this.spriteText.borderWidth=t:this._borderWidth=t}setBorderWidth(t){return this.borderWidth=t,this}get borderRadius(){return this.spriteText?this.spriteText.borderRadius:this._borderRadius}set borderRadius(t){this.spriteText?this.spriteText.borderRadius=t:this._borderRadius=t}setBorderRadius(t){return this.borderRadius=t,this}get borderColor(){return this.spriteText?this.spriteText.borderColor:this._borderColor}set borderColor(t){this.spriteText?this.spriteText.borderColor=t:this._borderColor=t}setBorderColor(t){return this.borderColor=t,this}get fontFace(){return this.spriteText?this.spriteText.fontFace:this._fontFace}set fontFace(t){this.spriteText?this.spriteText.fontFace=t:this._fontFace=t}setFontFace(t){return this.fontFace=t,this}get fontSize(){return this.spriteText?this.spriteText.fontSize:this._fontSize}set fontSize(t){this.spriteText?this.spriteText.fontSize=t:this._fontSize=t}setFontSize(t){return this.fontSize=t,this}get fontWeight(){return this.spriteText?this.spriteText.fontWeight:this._fontWeight}set fontWeight(t){this.spriteText?this.spriteText.fontWeight=t:this._fontWeight=t}setFontWeight(t){return this.fontWeight=t,this}get strokeWidth(){return this.spriteText?this.spriteText.strokeWidth:this._strokeWidth}set strokeWidth(t){this.spriteText?this.spriteText.strokeWidth=t:this._strokeWidth=t}setStrokeWidth(t){return this.strokeWidth=t,this}get strokeColor(){return this.spriteText?this.spriteText.strokeColor:this._strokeColor}set strokeColor(t){this.spriteText?this.spriteText.strokeColor=t:this._strokeColor=t}setStrokeColor(t){return this.strokeColor=t,this}get textAlign(){return this.spriteText?this.spriteText.textAlign:this._textAlign}set textAlign(t){this.spriteText?this.spriteText.textAlign=t:this._textAlign=t}setTextAlign(t){return this.textAlign=t,this}get textShadowBlur(){return this.spriteText?this.spriteText.textShadowBlur:this._textShadowBlur}set textShadowBlur(t){this.spriteText?this.spriteText.textShadowBlur=t:this._textShadowBlur=t}setTextShadowBlur(t){return this.textShadowBlur=t,this}get textShadowColor(){return this.spriteText?this.spriteText.textShadowColor:this._textShadowColor}set textShadowColor(t){this.spriteText?this.spriteText.textShadowColor=t:this._textShadowColor=t}setTextShadowColor(t){return this.textShadowColor=t,this}get textShadowOffsetX(){return this.spriteText?this.spriteText.textShadowOffsetX:this._textShadowOffsetX}set textShadowOffsetX(t){this.spriteText?this.spriteText.textShadowOffsetX=t:this._textShadowOffsetX=t}setTextShadowOffsetX(t){return this.textShadowOffsetX=t,this}get textShadowOffsetY(){return this.spriteText?this.spriteText.textShadowOffsetY:this._textShadowOffsetY}set textShadowOffsetY(t){this.spriteText?this.spriteText.textShadowOffsetY=t:this._textShadowOffsetY=t}setTextShadowOffsetY(t){return this.textShadowOffsetY=t,this}get angle(){return this.spriteText?this.spriteText.angle:this._angle}set angle(t){this.spriteText?this.spriteText.angle=t:this._angle=t}setAngle(t){return this.angle=t,this}get scale(){return this.spriteText?this.spriteText.textScale:this._scale}set scale(t){this.spriteText?this.spriteText.textScale=t:this._scale=t}setScale(t){return this.scale=t,this}get underline(){return this.spriteText?this.spriteText.underline:this._underline}set underline(t){this.spriteText?this.spriteText.underline=t:this._underline=t}setUnderline(t){this.underline=t}getTypeName(){return"MxDbText"}worldDraw(t){if(this.text.length>0){t.getType()!==McGiWorldDrawType$1.kWorldDraw||this.spriteText||this.createSpriteText(),this.color!==this.spriteText.color&&(this.spriteText.color=this.color),this.spriteText.material.setValues({opacity:this.opacity,visible:this.visible});const{x:r,y:i,z:l}=this.position;this.spriteText.position.set(r,i,l),t.drawEntity(this.spriteText)}}createSpriteText(){const t=getSpriteTextClass(),{text:r,height:i,color:l,backgroundColor:a,padding:c,borderWidth:d,borderRadius:D,borderColor:v,strokeWidth:C,strokeColor:f,fontFace:w,fontSize:F,fontWeight:T,textAlign:R,textShadowBlur:ee,textShadowColor:re,textShadowOffsetX:ae,textShadowOffsetY:ce,angle:ue,scale:de,underline:A}=this;this.spriteText=new t({text:r,textHeight:i,color:l,backgroundColor:a,padding:c,borderWidth:d,borderRadius:D,borderColor:v,strokeWidth:C,strokeColor:f,fontFace:w,fontSize:F,fontWeight:T,textAlign:R,textShadowBlur:ee,textShadowColor:re,textShadowOffsetX:ae,textShadowOffsetY:ce,angle:ue,scale:de,underline:A})}getGripPoints(){return[this.position]}moveGripPointsAt(t,r){return t===0&&this.position.add(r),!0}create(){return new MxDbText$1}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$2),t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone?this.createSpriteText():this.spriteText=t.spriteText,!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$2),t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone?t.spriteText=void 0:t.spriteText=this.spriteText,t}getGeomExtents(){return new THREE.Box3().expandByObject(this.spriteText)}erase(){return super.erase(),this.spriteText&&this.spriteText.dispose(),!0}}MxDbText$1.cmd="Mx_Text",MxDbText$1.draw=drawMxDbText;addRegisterMxDbEntity(MxDbText$1);const MxDbText=MxDbText$1,index=Object.freeze(Object.defineProperty({__proto__:null,default:MxDbText},Symbol.toStringTag,{value:"Module"}));function createCurvePath(e=!1){const t=new THREE.CurvePath;return t.autoClose=e,t}function createQuadraticBezierCurve3(e){let t=0,r=[];for(let i=0;i<e.length;i++){const l=e[t],a=e[++t]||l,c=e[++t]||a;if(!l||!a||!c)break;r.push(new THREE.QuadraticBezierCurve3(l,a,c))}return r}function createCubicBezierCurve3(e){let t=0,r=[];for(let i=0;i<e.length;i++){const l=e[t],a=e[++t]||l,c=e[++t]||a,d=e[++t]||c;if(!(l&&a&&c&&d))break;r.push(new THREE.CubicBezierCurve3(l,a,c,d))}return r}function getCurveColorGradientData(e,t){let r=0,i=[],l=[];const a=Number((1/t.length).toFixed(2));let c=new THREE.Color(t[r]),d=new THREE.Color(t[r+1]);for(let D=0,v=e.length;D<v;D++){const C=e[D],f=D/e.length;f/r>=a&&(r++,d.set(new THREE.Color(t[r]||t[--r]))),i.push(C.x,C.y,C.z||0),c.lerpHSL(d,f),l.push(c.r,c.g,c.b)}return[i,l]}function getColorGradientData(e,t){let r=[],i=[];for(let l=0,a=e.length;l<a;l++){const c=e[l];r.push(c.x,c.y,c.z||0);const d=new THREE.Color(t[l]);i.push(d.r,d.g,d.b)}return[r,i]}const propertyDbKeys$1=["points","colors","linecap","linejoin","closed","curveType","tension","bezierType"];class MxDbGradientLine extends MxDbEntity{constructor(){super(...arguments),this.linecap="round",this.linejoin="round",this.closed=!1,this.curveType="centripetal",this.tension=0,this.bezierType="quadratic"}create(){return new MxDbGradientLine}getTypeName(){return"MxDbGradientLine"}setPoints(t){return this.points=t,this}setColors(t){return this.colors=t,this}addColor(t){return this.colors.push(t),this}setLinecap(t){this.linecap=t}setClosed(t){this.closed=t}setCurveType(t){this.curveType=t}setTension(t){this.tension=t}setBezierType(t){this.bezierType=t}worldDraw(t){const r=t.getType();let i=this.getPoints();const{closed:l,curveType:a,tension:c,bezierType:d}=this,D=new THREE.BufferGeometry;let v=[],C=[];const f=d==="cubic",w=d==="quadratic";c!==0?this.curve=new THREE.CatmullRomCurve3(i,l,a,c):d?(this.curve=createCurvePath(l),f?this.curve.curves=createCubicBezierCurve3(i):w?this.curve.curves=createQuadraticBezierCurve3(i):this.curve=void 0):this.curve=void 0,this.curve&&(i=this.curve.getPoints(50));const{linecap:F,linejoin:T}=this;let R;if(this.colors&&this.colors.length>1){const re=l?[...this.colors,this.colors[0]]:this.colors;[v,C]=this.curve?getCurveColorGradientData(i,re):getColorGradientData(i,re),D.setAttribute("position",new THREE.Float32BufferAttribute(v,3)),D.setAttribute("color",new THREE.Float32BufferAttribute(C,3)),R=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,linecap:F,linejoin:T})}else D.setFromPoints(i),R=new THREE.LineBasicMaterial({color:this.color,linecap:F,linejoin:T});const ee=l?new THREE.LineLoop(D,R):new THREE.Line(D,R);if(t.drawEntity(ee),(r===McGiWorldDrawType$1.kSelectDraw||r===McGiWorldDrawType$1.kDynDragDraw)&&this.curve){let re=this.getPoints();const ae=t.getLineWidth();t.setLineWidth(1),t.drawLines(re),t.setLineWidth(ae)}}getGripPoints(){return this.getPoints()}getPoints(){return this.closed?[...this.points,this.points[0]]:this.points}moveGripPointsAt(t,r){return this.move(t,r),!0}move(t,r){return this.points[t].add(r),this}dwgIn(t){return this.dwgInHelp(t,propertyDbKeys$1),this.curve=t.curve,!0}dwgOut(t){return this.dwgOutHelp(t,propertyDbKeys$1),t.curve=this.curve,t}}addRegisterMxDbEntity(MxDbGradientLine);const MxDbGradientLine$1=MxDbGradientLine;var __awaiter$8=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbEllipseArc(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new MxDbEllipseArc$1;e.setUserDraw(r),e.go(()=>__awaiter$8(this,void 0,void 0,function*(){i.center=e.value(),r.setDraw((l,a)=>{i.startPoint=l,i.yRadius=i.center.distanceTo(l),a.drawCustomEntity(i)}),i.startPoint=(yield e.go())||new THREE.Vector3,r.setDraw((l,a)=>{i.endPoint=l,a.drawCustomEntity(i)}),i.endPoint=(yield e.go())||new THREE.Vector3,t.addMxEntity(i)}))}class MxDbEllipseArc extends MxDbEllipseShape{constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"startPoint","endPoint"]}getTypeName(){return"MxDbEllipseArc"}setStartPoint(t){return this.startPoint=t,this}setEndPoint(t){return this.endPoint=t,this}worldDraw(t){let{center:r,startPoint:i,endPoint:l}=this;i&&(this.xRadius=r.distanceTo(i),this.startAngle=THREE.MathUtils.degToRad(calculateArcAngle(i,r,this.xRadius).angle)),l&&(this.yRadius=r.distanceTo(l),this.endAngle=THREE.MathUtils.degToRad(calculateArcAngle(l,r,this.yRadius).angle)),this.drawEllipseShape(t)}getGripPoints(){return[this.center,this.startPoint,this.endPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.startPoint.add(r),this.endPoint.add(r)),t===1&&this.startPoint.add(r),t===2&&this.endPoint.add(r),!0}}MxDbEllipseArc.cmd="Mx_MxDbEllipseArc",MxDbEllipseArc.draw=drawMxDbEllipseArc,addRegisterMxDbEntity(MxDbEllipseArc);const MxDbEllipseArc$1=MxDbEllipseArc;var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbCircleArc(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new K;i.stroke="#ff0000",e.setUserDraw(r),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E2D\u70B9:`),e.go(()=>__awaiter$7(this,void 0,void 0,function*(){i.center=e.value(),r.setDraw(l=>{r.drawLine(i.center,l)}),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),i.startPoint=(yield e.go())||new THREE.Vector3,r.setDraw(l=>{i.endPoint=l,r.drawCustomEntity(i)}),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u7ED3\u675F\u70B9:`),i.endPoint=(yield e.go())||new THREE.Vector3,r.setDraw(()=>{}),t.addMxEntity(i)}))}class MxDbCircleArc extends MxDbCircleShape{constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"startPoint","endPoint"]}getTypeName(){return"MxDbCircleArc"}setStartPoint(t){return this.startPoint=t,this}setEndPoint(t){return this.endPoint=t,this}worldDraw(t){let{startPoint:r,endPoint:i}=this;if(r&&(this.startAngle=this.computePointAngle(r)),i&&(this.endAngle=this.computePointAngle(i)),r&&i){const{points:l}=this.drawEllipseShape(t);this.startPoint=l[0]}}computePointAngle(t){return this.radius=this.center.distanceTo(t),THREE.MathUtils.degToRad(calculateArcAngle(t,this.center,this.radius).angle)}getGripPoints(){return[this.center,this.startPoint,this.endPoint]}moveGripPointsAt(t,r){return t===0?(this.center.add(r),this.startPoint.add(r),this.endPoint.add(r)):t===1?this.startPoint.add(r):t===2&&this.endPoint.add(r),!0}}MxDbCircleArc.cmd="Mx_MxDbCircleArc",MxDbCircleArc.draw=drawMxDbCircleArc,addRegisterMxDbEntity(MxDbCircleArc);const K=MxDbCircleArc;class MxDbArcShape extends K{constructor(){super(),this.center=new THREE.Vector3,this.innerRadius=10,this.outerRadius=20,this._propertyDbKeys=[...this._propertyDbKeys,"center","innerRadius","outerRadius"]}getTypeName(){return"MxDbArcShape"}worldDraw(t){t.getType()===McGiWorldDrawType$1.kDynDragDraw?(t.drawCircle(this.center,this.innerRadius),t.drawCircle(this.center,this.outerRadius)):this.drawArcShape(t)}drawArcShape(t){const{center:r,startAngle:i,endAngle:l,clockwise:a}=this,{x:c,y:d}=r;this.isClosedToCenter=!1;const D=this.createEllipseCurve(c,d,this.innerRadius,this.innerRadius,i,l,a),v=this.createEllipseCurve(c,d,this.outerRadius,this.outerRadius,l,i,!a),C=this.createPaths([D,v]);let f=this.getShapePoints(C);this._draw(t,f),this._drawStoreLine(t,f)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}const MxDbArcShape$1=MxDbArcShape;var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbArcShape(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new MxDbArcShapeDraw$1;e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E2D\u70B9:`),e.setUserDraw(r),e.go(()=>__awaiter$6(this,void 0,void 0,function*(){e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),i.center=e.value(),r.setDraw(l=>{i.interRadiusPoint=l,r.drawCircle(i.center,l.distanceTo(i.center))}),i.interRadiusPoint=(yield e.go())||new THREE.Vector3,r.setDraw(l=>{i.outerRadiusPoint=l,r.drawCustomEntity(i)}),i.outerRadiusPoint=(yield e.go())||new THREE.Vector3,t.addMxEntity(i)}))}class MxDbArcShapeDraw extends MxDbArcShape$1{constructor(){super(),this.outerRadiusPoint=new THREE.Vector3,this.interRadiusPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"interRadiusPoint","outerRadiusPoint"]}getTypeName(){return"MxDbArcShapeDraw"}worldDraw(t){this.innerRadius=this.center.distanceTo(this.interRadiusPoint),this.outerRadius=this.center.distanceTo(this.outerRadiusPoint),this.startAngle=THREE.MathUtils.degToRad(calculateArcAngle(this.interRadiusPoint,this.center,this.innerRadius).angle),this.endAngle=THREE.MathUtils.degToRad(calculateArcAngle(this.outerRadiusPoint,this.center,this.outerRadius).angle),this.drawArcShape(t)}getGripPoints(){return[this.center,this.interRadiusPoint,this.outerRadiusPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.interRadiusPoint.add(r),this.outerRadiusPoint.add(r)),t===1&&this.interRadiusPoint.add(r),t===2&&this.outerRadiusPoint.add(r),!0}}MxDbArcShapeDraw.isRegister=!1,MxDbArcShapeDraw.cmd="Mx_MxDbArcShape",MxDbArcShapeDraw.draw=drawMxDbArcShape,addRegisterMxDbEntity(MxDbArcShapeDraw);const MxDbArcShapeDraw$1=MxDbArcShapeDraw;var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbRingShape(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setUserDraw(r);const i=new McEdGetPointWorldDrawObject,l=new MxDbRingShapeDraw;e.setUserDraw(i),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(a=>__awaiter$5(this,void 0,void 0,function*(){console.log(123),l.center=e.value(),i.setDraw(c=>{i.drawCircle(l.center,l.center.distanceTo(c))}),l.innerPoint=(yield e.go())||new THREE.Vector3,i.setDraw(c=>{l.outerPoint=c,i.drawCustomEntity(l)}),l.outerPoint=(yield e.go())||new THREE.Vector3,t.addMxEntity(l)}))}class MxDbRingShape extends MxDbArcShape$1{getTypeName(){return"MxDbRingShape"}worldDraw(t){const{center:r,startAngle:i,endAngle:l,clockwise:a}=this,{x:c,y:d}=r;this.isClosedToCenter=!1;const D=this.createEllipseCurve(c,d,this.innerRadius,this.innerRadius,i,l,a),v=this.createEllipseCurve(c,d,this.outerRadius,this.outerRadius,i,l,!a),C=this.createPaths([D,v]);let f=this.getShapePoints(C);const w=this.createPaths(D);let F=this.getShapePoints(w);const T=this.createPaths(v);let R=this.getShapePoints(T);this.isFill?(this._draw(t,f),this._drawStoreLine(t,F),this._drawStoreLine(t,R)):(this._draw(t,F),this._drawStoreLine(t,F),this._draw(t,R),this._drawStoreLine(t,R))}}MxDbRingShape.isRegister=!1,MxDbRingShape.cmd="Mx_MxDbRingShape",MxDbRingShape.draw=drawMxDbRingShape;class MxDbRingShapeDraw extends MxDbRingShape{constructor(){super(),this.innerPoint=new THREE.Vector3,this.outerPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"innerPoint","outerPoint"]}getGripPoints(){return[this.center,this.innerPoint,this.outerPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.innerPoint.add(r),this.outerPoint.add(r)),t===1&&this.innerPoint.add(r),t===2&&this.outerPoint.add(r),!0}worldDraw(t){this.innerPoint&&(this.innerRadius=this.center.distanceTo(this.innerPoint)),this.outerPoint&&(this.outerRadius=this.center.distanceTo(this.outerPoint)),super.worldDraw(t)}}addRegisterMxDbEntity(MxDbRingShape);const MxDbRingShape$1=MxDbRingShape;var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbStarShape(){const e=new MrxDbgUiPrPoint,t=MxFun$1.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setUserDraw(r);const i=new McEdGetPointWorldDrawObject,l=new MxDbStarShapeDraw;e.setUserDraw(i),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(a=>__awaiter$4(this,void 0,void 0,function*(){l.center=e.value(),i.setDraw(c=>{l.innerPoint=c,i.drawCircle(l.center,l.center.distanceTo(c))}),l.innerPoint=(yield e.go())||new THREE.Vector3,i.setDraw(c=>{l.outerPoint=c,i.drawCustomEntity(l)}),l.outerPoint=(yield e.go())||new THREE.Vector3,t.addMxEntity(l)}))}class MxDbStarShape extends MxDbShape{constructor(){super(),this.center=new THREE.Vector3,this.numPoints=10,this.innerRadius=10,this.outerRadius=10,this._propertyDbKeys=[...this._propertyDbKeys,"center","numPoints","innerRadius","outerRadius"]}getTypeName(){return"MxDbStarShape"}worldDraw(t){const{x:r,y:i}=this.center,l=new THREE.Path;l.moveTo(r,i-this.outerRadius);for(let d=1;d<2*this.numPoints;d++){const D=d%2==0?this.outerRadius:this.innerRadius,v=D*Math.sin(d*Math.PI/this.numPoints)+r,C=-1*D*Math.cos(d*Math.PI/this.numPoints)+i;l.lineTo(v,C)}l.closePath();const a=this.createPaths(l),c=this.getShapePoints(a);this._draw(t,c),this._drawStoreLine(t,c)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}MxDbStarShape.cmd="Mx_MxDbStarShape",MxDbStarShape.draw=drawMxDbStarShape;class MxDbStarShapeDraw extends MxDbStarShape{constructor(){super(),this.innerPoint=new THREE.Vector3,this.outerPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"innerPoint","outerPoint"]}getGripPoints(){return[this.center,this.innerPoint,this.outerPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.innerPoint.add(r),this.outerPoint.add(r)),t===1&&this.innerPoint.add(r),t===2&&this.outerPoint.add(r),!0}worldDraw(t){this.innerPoint&&(this.innerRadius=this.center.distanceTo(this.innerPoint)),this.outerPoint&&(this.outerRadius=this.center.distanceTo(this.outerPoint)),super.worldDraw(t)}}addRegisterMxDbEntity(MxDbStarShape);const MxDbStarShape$1=MxDbStarShape;class MxDbRegularPolygonShape extends MxDbShape{constructor(){super(),this.center=new THREE.Vector3,this.sidesNumber=6,this.radius=70,this._propertyDbKeys=[...this._propertyDbKeys,"center","sidesNumber","radius"]}getTypeName(){return"MxDbRegularPolygonShape"}worldDraw(t){this._drawPolygonShape(t)}_drawPolygonShape(t){const r=this._getPoints(),i=new THREE.Path;i.moveTo(r[0].x,r[0].y);for(let c=0;c<r.length;c++)i.lineTo(r[c].x,r[c].y);i.closePath();const l=this.createPaths(i),a=this.getShapePoints(l);this._draw(t,a),this._drawStoreLine(t,a)}_getPoints(){const{sidesNumber:t,radius:r}=this,{x:i,y:l}=this.center,a=[];for(let c=0;c<t;c++)a.push({x:r*Math.sin(2*c*Math.PI/t)+i,y:-1*r*Math.cos(2*c*Math.PI/t)+l});return a}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}addRegisterMxDbEntity(MxDbRegularPolygonShape);const MxDbRegularPolygonShape$1=MxDbRegularPolygonShape;var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function getScreenPixel(e,t){let r=MxFun$1.screenCoordLong2World(t?e:e-e/3);return r=MxFun$1.worldCoordLong2Doc(r)}function drawMxDbArrow(){const e=new McEdGetPointWorldDrawObject,t=new MxDbArrow$1,r=MxFun$1.getCurrentDraw(),i=new MrxDbgUiPrPoint;i.setUserDraw(e),t.setLineWidth(10),i.go(()=>{t.innerOffset=getScreenPixel(10),t.outerOffset=getScreenPixel(22),t.topOffset=getScreenPixel(36),t.startPoint=i.value(),e.setDraw(l=>{t.endPoint=l,e.drawCustomEntity(t)}),i.go(l=>__awaiter$3(this,void 0,void 0,function*(){t.endPoint=i.value(),r.addMxEntity(t)}))})}class MxDbArrow extends MxDbShape{constructor(){super(),this.isSharpCorner=!0,this.innerOffset=10,this.outerOffset=22,this.topOffset=36,this.startPoint=new THREE.Vector3,this.endPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"outerOffset","topOffset","innerOffset","isSharpCorner","startPoint","endPoint"]}worldDraw(t){const r=this.getArrowVertex(this.startPoint,this.endPoint);r&&(this._draw(t,r),this._drawStoreLine(t,r))}getArrowVertex(t,r,i=this.isSharpCorner){let{innerOffset:l,topOffset:a,outerOffset:c}=this;const d=[];d[3]=r;const D=Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y));if(D===0)return;const v=-(r.x-t.x)/D,C=(r.y-t.y)/D,f=t.x+l,w=t.y+D-a,F=t.x+c,T=t.y+D-a,R=t.x-l,ee=t.y+D-a,re=t.x-c,ae=t.y+D-a;return i?(d[0]=t,d[6]=d[0]):(d[0]=new THREE.Vector3(t.x-(R-t.x)*C,t.y-(R-t.x)*v),d[6]=new THREE.Vector3(t.x+(R-t.x)*C,t.y+(R-t.x)*v),d[7]=d[0]),d[1]=new THREE.Vector3(t.x+(f-t.x)*C-(w-t.y)*v,t.y+(f-t.x)*v+(w-t.y)*C),d[2]=new THREE.Vector3(t.x+(F-t.x)*C-(T-t.y)*v,t.y+(F-t.x)*v+(T-t.y)*C),d[4]=new THREE.Vector3(t.x+(re-t.x)*C-(ae-t.y)*v,t.y+(re-t.x)*v+(ae-t.y)*C),d[5]=new THREE.Vector3(t.x+(R-t.x)*C-(ee-t.y)*v,t.y+(R-t.x)*v+(ee-t.y)*C),d}getGripPoints(){const t=new THREE.Vector3;return new THREE.Line3(this.startPoint,this.endPoint).getCenter(t),[this.startPoint,t,this.endPoint]}moveGripPointsAt(t,r){return t===0&&this.startPoint.add(r),t===1&&(this.startPoint.add(r),this.endPoint.add(r)),t===2&&this.endPoint.add(r),!0}}MxDbArrow.cmd="Mx_MxDbArrow",MxDbArrow.draw=drawMxDbArrow,addRegisterMxDbEntity(MxDbArrow);const MxDbArrow$1=MxDbArrow;class MxDbLineShape extends MxDbShape{constructor(){super(),this.points=[],this._propertyDbKeys=[...this._propertyDbKeys,"points"]}setPoints(t){return this.points=t,this}addPoint(t){return this.points.push(t),this}removePoint(t){return this.points.splice(t,1),this}getTypeName(){return"MxDbLineShape"}worldDraw(t){this._draw(t,this.points),this._drawStoreLine(t,this.points)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return this.points[t].add(r),!0}getGeomExtents(){return new THREE.Box3().setFromPoints(this.points)}getGetLength(){let t=0;for(let r=0;r++;r<this.points.length)this.points[r+1]&&(t+=this.points[r].distanceTo(this.points[r+1]));return t}}addRegisterMxDbEntity(MxDbLineShape);const MxDbLineShape$1=MxDbLineShape,Mx=Object.freeze(Object.defineProperty({__proto__:null,loadCoreCode,useCanvasResizeListener,store:store$1,MxFun:MxFun$1,MxThreeJS:MxThreeJS$1,MxType,Mxassembly:Mxassembly$1,McGeTool:McGeTool$1,MrxDbgUtils:ND,MxPaintBrush:P,MrxDbgUiPrPoint,McEdGetPointWorldDrawObject,MrxDbgUiPrBaseReturn:MrxDbgUiPrBaseReturn$1,MxDbEntity,MxDbImage:MxDbImage$1,MxDbSVG:MxDbSVG$1,MxDbSVGText,MxDbPolyline:zD,MxDb2LineAngularDimension:MxDb2LineAngularDimension$1,Mx3PointArc:HD,MxDbCoord:MxDbCoord$1,MxDbLine:H,MxDbRect:MxDbRect$1,MxDbAlignedDimension:MxDbAlignedDimension$1,MxFilters,McGiWorldDrawType:McGiWorldDrawType$1,MxDbArea:MxDbArea$1,MxDbLeadTag:MxDbLeadTag$1,MxDbAnyLine:MxDbAnyLine$1,MxDbCloudLine:MxDbCloudLine$1,MxDbRegularPolygon:MxDbRegularPolygon$1,MxDbLeadComment:MxDbLeadComment$1,MxDbRectBoxLeadComment:MxDbRectBoxLeadComment$1,MxDbEllipse:MxDbEllipse$1,MxDbText,MxDrawObject,MxDbHatch:MxDbHatch$1,MxDbDatabase,MxCADObject,MxDbGradientLine:MxDbGradientLine$1,MxDbShape,MxDbEllipseShape,MxDbEllipseArc:MxDbEllipseArc$1,MxDbCircleShape,MxDbCircleArc:K,MxDbArcShapeDraw:MxDbArcShapeDraw$1,MxDbRingShape:MxDbRingShape$1,MxDbStarShape:MxDbStarShape$1,MxDbRegularPolygonShape:MxDbRegularPolygonShape$1,MxDbArrow:MxDbArrow$1,MxDbLineShape:MxDbLineShape$1},Symbol.toStringTag,{value:"Module"}));function nD(e){return btoa(unescape(encodeURIComponent(e)))}function oD(e){return decodeURIComponent(escape(atob(e)))}async function aD({blob:e,filename:t="",types:r=[{description:"mxweb File",accept:{"application/octet-stream":[".mxweb"]}}]}){try{if(window.showSaveFilePicker)if(window.navigator?.userActivation?.isActive)try{if(!window.showSaveFilePicker)return;const l=await(await window.showSaveFilePicker({suggestedName:t,types:r})).createWritable();await l.write(e),await l.close();return}catch(l){if(l?.name==="AbortError")return;console.error(l)}else console.warn("\u975E\u7528\u6237\u4EA4\u4E92 \u65E0\u6CD5\u8C03\u7528showSaveFilePicker \u5DF2\u9009\u62E9\u517C\u5BB9\u65B9\u6848");if(window.navigator?.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(e,t);return}const i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.download=t,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),typeof window.URL.revokeObjectURL=="function"?window.URL.revokeObjectURL(i.href):typeof window.webkitURL<"u"&&typeof window.webkitURL.revokeObjectURL=="function"?window.webkitURL.revokeObjectURL(i.href):window.URL.revokeObjectURL(i.href)}catch(i){console.error(i.name,i.message)}}function uD(e,t){const r=document.createElement("a");r.href=window.URL.createObjectURL(e),r.download=t,r.click()}const N={b64Encode:nD,b64Decode:oD,saveAsFileDialog:aD,downloadFile:uD};var Z;(function(e){e[e.kNormal=0]="kNormal",e[e.kRect=1]="kRect",e[e.kCross=2]="kCross"})(Z||(Z={}));class qD{z="D2BBB6A18140C6DF814181428143CDF2D5C9C8FDC9CFCFC2D8A2B2BBD3EB8144D8A4B3F38145D7A8C7D2D8A7CAC08146C7F0B1FBD2B5B4D4B6ABCBBFD8A9814781488149B6AA814AC1BDD1CF814BC9A5D8AD814CB8F6D1BEE3DCD6D0814D814EB7E1814FB4AE8150C1D98151D8BC8152CDE8B5A4CEAAD6F78153C0F6BED9D8AF815481558156C4CB8157BEC38158D8B1C3B4D2E58159D6AECEDAD5A7BAF5B7A6C0D6815AC6B9C5D2C7C7815BB9D4815CB3CBD2D2815D815ED8BFBEC5C6F2D2B2CFB0CFE7815F816081618162CAE981638164D8C081658166816781688169816AC2F2C2D2816BC8E9816C816D816E816F817081718172817381748175C7AC8176817781788179817A817B817CC1CB817DD3E8D5F9817ECAC2B6FED8A1D3DABFF78180D4C6BBA5D8C1CEE5BEAE81818182D8A88183D1C7D0A9818481858186D8BDD9EFCDF6BFBA8187BDBBBAA5D2E0B2FABAE0C4B68188CFEDBEA9CDA4C1C18189818A818BC7D7D9F1818CD9F4818D818E818F8190C8CBD8E9819181928193D2DACAB2C8CAD8ECD8EAD8C6BDF6C6CDB3F08194D8EBBDF1BDE98195C8D4B4D381968197C2D88198B2D6D7D0CACBCBFBD5CCB8B6CFC98199819A819BD9DAD8F0C7AA819CD8EE819DB4FAC1EED2D4819E819FD8ED81A0D2C7D8EFC3C781A181A281A3D1F681A4D6D9D8F281A5D8F5BCFEBCDB81A681A781A8C8CE81A9B7DD81AAB7C281ABC6F381AC81AD81AE81AF81B081B181B2D8F8D2C181B381B4CEE9BCBFB7FCB7A5D0DD81B581B681B781B881B9D6DAD3C5BBEFBBE1D8F181BA81BBC9A1CEB0B4AB81BCD8F381BDC9CBD8F6C2D7D8F781BE81BFCEB1D8F981C081C181C2B2AEB9C081C3D9A381C4B0E981C5C1E681C6C9EC81C7CBC581C8CBC6D9A481C981CA81CB81CC81CDB5E881CE81CFB5AB81D081D181D281D381D481D5CEBBB5CDD7A1D7F4D3D381D6CCE581D7BACE81D8D9A2D9DCD3E0D8FDB7F0D7F7D8FED8FAD9A1C4E381D981DAD3B6D8F4D9DD81DBD8FB81DCC5E581DD81DEC0D081DF81E0D1F0B0DB81E181E2BCD1D9A681E3D9A581E481E581E681E7D9ACD9AE81E8D9ABCAB981E981EA81EBD9A9D6B681EC81ED81EEB3DED9A881EFC0FD81F0CACC81F1D9AA81F2D9A781F381F4D9B081F581F6B6B181F781F881F9B9A981FAD2C081FB81FCCFC081FD81FEC2C28240BDC4D5ECB2E0C7C8BFEBD9AD8241D9AF8242CEEABAEE82438244824582468247C7D682488249824A824B824C824D824E824F8250B1E3825182528253B4D9B6EDD9B48254825582568257BFA182588259825AD9DEC7CEC0FED9B8825B825C825D825E825FCBD7B7FD8260D9B58261D9B7B1A3D3E1D9B98262D0C58263D9B682648265D9B18266D9B2C1A9D9B382678268BCF3D0DEB8A98269BEE3826AD9BD826B826C826D826ED9BA826FB0B3827082718272D9C28273827482758276827782788279827A827B827C827D827E8280D9C4B1B68281D9BF82828283B5B98284BEF3828582868287CCC8BAF2D2D08288D9C38289828ABDE8828BB3AB828C828D828ED9C5BEEB828FD9C6D9BBC4DF8290D9BED9C1D9C0829182928293829482958296829782988299829A829BD5AE829CD6B5829DC7E3829E829F82A082A1D9C882A282A382A4BCD9D9CA82A582A682A7D9BC82A8D9CBC6AB82A982AA82AB82AC82ADD9C982AE82AF82B082B1D7F682B2CDA382B382B482B582B682B782B882B982BABDA182BB82BC82BD82BE82BF82C0D9CC82C182C282C382C482C582C682C782C882C9C5BCCDB582CA82CB82CCD9CD82CD82CED9C7B3A5BFFE82CF82D082D182D2B8B582D382D4C0FC82D582D682D782D8B0F882D982DA82DB82DC82DD82DE82DF82E082E182E282E382E482E582E682E782E882E982EA82EB82EC82EDB4F682EED9CE82EFD9CFB4A2D9D082F082F1B4DF82F282F382F482F582F6B0C182F782F882F982FA82FB82FC82FDD9D1C9B582FE8340834183428343834483458346834783488349834A834B834C834D834E834F83508351CFF1835283538354835583568357D9D283588359835AC1C5835B835C835D835E835F836083618362836383648365D9D6C9AE8366836783688369D9D5D9D4D9D7836A836B836C836DCBDB836EBDA9836F8370837183728373C6A7837483758376837783788379837A837B837C837DD9D3D9D8837E83808381D9D9838283838384838583868387C8E583888389838A838B838C838D838E838F839083918392839383948395C0DC8396839783988399839A839B839C839D839E839F83A083A183A283A383A483A583A683A783A883A983AA83AB83AC83AD83AE83AF83B083B183B2B6F9D8A3D4CA83B3D4AAD0D6B3E4D5D783B4CFC8B9E283B5BFCB83B6C3E283B783B883B9B6D283BA83BBCDC3D9EED9F083BC83BD83BEB5B383BFB6B583C083C183C283C383C4BEA483C583C6C8EB83C783C8C8AB83C983CAB0CBB9ABC1F9D9E283CBC0BCB9B283CCB9D8D0CBB1F8C6E4BEDFB5E4D7C883CDD1F8BCE6CADE83CE83CFBCBDD9E6D8E783D083D1C4DA83D283D3B8D4C8BD83D483D5B2E1D4D983D683D783D883D9C3B083DA83DBC3E1DAA2C8DF83DCD0B483DDBEFCC5A983DE83DF83E0B9DA83E1DAA383E2D4A9DAA483E383E483E583E683E7D9FBB6AC83E883E9B7EBB1F9D9FCB3E5BEF683EABFF6D2B1C0E483EB83EC83EDB6B3D9FED9FD83EE83EFBEBB83F083F183F2C6E083F3D7BCDAA183F4C1B983F5B5F2C1E883F683F7BCF583F8B4D583F983FA83FB83FC83FD83FE844084418442C1DD8443C4FD84448445BCB8B7B284468447B7EF84488449844A844B844C844DD9EC844EC6BE844FBFADBBCB84508451B5CA8452DBC9D0D78453CDB9B0BCB3F6BBF7DBCABAAF8454D4E4B5B6B5F3D8D6C8D084558456B7D6C7D0D8D78457BFAF84588459DBBBD8D8845A845BD0CCBBAE845C845D845EEBBEC1D0C1F5D4F2B8D5B4B4845FB3F584608461C9BE846284638464C5D0846584668467C5D9C0FB8468B1F08469D8D9B9CE846AB5BD846B846CD8DA846D846ED6C6CBA2C8AFC9B2B4CCBFCC846FB9F48470D8DBD8DCB6E7BCC1CCEA847184728473847484758476CFF78477D8DDC7B084788479B9D0BDA3847A847BCCDE847CC6CA847D847E848084818482D8E08483D8DE84848485D8DF848684878488B0FE8489BEE7848ACAA3BCF4848B848C848D848EB8B1848F8490B8EE849184928493849484958496849784988499849AD8E2849BBDCB849CD8E4D8E3849D849E849F84A084A1C5FC84A284A384A484A584A684A784A8D8E584A984AAD8E684AB84AC84AD84AE84AF84B084B1C1A684B2C8B0B0ECB9A6BCD3CEF1DBBDC1D384B384B484B584B6B6AFD6FAC5ACBDD9DBBEDBBF84B784B884B9C0F8BEA2C0CD84BA84BB84BC84BD84BE84BF84C084C184C284C3DBC0CAC684C484C584C6B2AA84C784C884C9D3C284CAC3E384CBD1AB84CC84CD84CE84CFDBC284D0C0D584D184D284D3DBC384D4BFB184D584D684D784D884D984DAC4BC84DB84DC84DD84DEC7DA84DF84E084E184E284E384E484E584E684E784E884E9DBC484EA84EB84EC84ED84EE84EF84F084F1D9E8C9D784F284F384F4B9B4CEF0D4C884F584F684F784F8B0FCB4D284F9D0D984FA84FB84FC84FDD9E984FEDECBD9EB8540854185428543D8B0BBAFB1B18544B3D7D8CE85458546D4D185478548BDB3BFEF8549CFBB854A854BD8D0854C854D854EB7CB854F85508551D8D185528553855485558556855785588559855A855BC6A5C7F8D2BD855C855DD8D2C4E4855ECAAE855FC7A78560D8A68561C9FDCEE7BBDCB0EB856285638564BBAAD0AD8565B1B0D7E4D7BF8566B5A5C2F4C4CF85678568B2A98569B2B7856AB1E5DFB2D5BCBFA8C2ACD8D5C2B1856BD8D4CED4856CDAE0856DCEC0856E856FD8B4C3AED3A1CEA38570BCB4C8B4C2D18571BEEDD0B68572DAE18573857485758576C7E485778578B3A78579B6F2CCFCC0FA857A857BC0F7857CD1B9D1E1D8C7857D857E85808581858285838584B2DE85858586C0E58587BAF185888589D8C8858AD4AD858B858CCFE1D8C9858DD8CACFC3858EB3F8BEC7858F859085918592D8CB8593859485958596859785988599DBCC859A859B859C859DC8A5859E859F85A0CFD885A1C8FEB2CE85A285A385A485A585A6D3D6B2E6BCB0D3D1CBABB7B485A785A885A9B7A285AA85ABCAE585ACC8A1CADCB1E4D0F085ADC5D185AE85AF85B0DBC5B5FE85B185B2BFDAB9C5BEE4C1ED85B3DFB6DFB5D6BBBDD0D5D9B0C8B6A3BFC9CCA8DFB3CAB7D3D285B4D8CFD2B6BAC5CBBECCBE85B5DFB7B5F0DFB485B685B785B8D3F585B9B3D4B8F785BADFBA85BBBACFBCAAB5F585BCCDACC3FBBAF3C0F4CDC2CFF2DFB8CFC585BDC2C0DFB9C2F085BE85BF85C0BEFD85C1C1DFCDCCD2F7B7CDDFC185C2DFC485C385C4B7F1B0C9B6D6B7D485C5BAACCCFDBFD4CBB1C6F485C6D6A8DFC585C7CEE2B3B385C885C9CEFCB4B585CACEC7BAF085CBCEE185CCD1BD85CD85CEDFC085CF85D0B4F485D1B3CA85D2B8E6DFBB85D385D485D585D6C4C585D7DFBCDFBDDFBEC5BBDFBFDFC2D4B1DFC385D8C7BACED885D985DA85DB85DC85DDC4D885DEDFCA85DFDFCF85E0D6DC85E185E285E385E485E585E685E785E8DFC9DFDACEB685E9BAC7DFCEDFC8C5DE85EA85EBC9EBBAF4C3FC85EC85EDBED785EEDFC685EFDFCD85F0C5D885F185F285F385F4D5A6BACD85F5BECCD3BDB8C085F6D6E485F7DFC7B9BEBFA785F885F9C1FCDFCBDFCC85FADFD085FB85FC85FD85FE8640DFDBDFE58641DFD7DFD6D7C9DFE3DFE4E5EBD2A7DFD28642BFA98643D4DB8644BFC8DFD4864586468647CFCC86488649DFDD864AD1CA864BDFDEB0A7C6B7DFD3864CBAE5864DB6DFCDDBB9FED4D5864E864FDFDFCFECB0A5DFE7DFD1D1C6DFD5DFD8DFD9DFDC8650BBA98651DFE0DFE18652DFE2DFE6DFE8D3B486538654865586568657B8E7C5B6DFEAC9DAC1A8C4C486588659BFDECFF8865A865B865CD5DCDFEE865D865E865F866086618662B2B88663BADFDFEC8664DBC18665D1E48666866786688669CBF4B4BD866AB0A6866B866C866D866E866FDFF1CCC6DFF286708671DFED867286738674867586768677DFE986788679867A867BDFEB867CDFEFDFF0BBBD867D867EDFF386808681DFF48682BBA38683CADBCEA8E0A7B3AA8684E0A6868586868687E0A186888689868A868BDFFE868CCDD9DFFC868DDFFA868EBFD0D7C4868FC9CC86908691DFF8B0A186928693869486958696DFFD869786988699869ADFFBE0A2869B869C869D869E869FE0A886A086A186A286A3B7C886A486A5C6A1C9B6C0B2DFF586A686A7C5BE86A8D8C4DFF9C4F686A986AA86AB86AC86AD86AEE0A3E0A4E0A5D0A586AF86B0E0B4CCE486B1E0B186B2BFA6E0AFCEB9E0ABC9C686B386B4C0AEE0AEBAEDBAB0E0A986B586B686B7DFF686B8E0B386B986BAE0B886BB86BC86BDB4ADE0B986BE86BFCFB2BAC886C0E0B086C186C286C386C486C586C686C7D0FA86C886C986CA86CB86CC86CD86CE86CF86D0E0AC86D1D4FB86D2DFF786D3C5E786D4E0AD86D5D3F786D6E0B6E0B786D786D886D986DA86DBE0C4D0E186DC86DD86DEE0BC86DF86E0E0C9E0CA86E186E286E3E0BEE0AAC9A4E0C186E4E0B286E586E686E786E886E9CAC8E0C386EAE0B586EBCECB86ECCBC3E0CDE0C6E0C286EDE0CB86EEE0BAE0BFE0C086EF86F0E0C586F186F2E0C7E0C886F3E0CC86F4E0BB86F586F686F786F886F9CBD4E0D586FAE0D6E0D286FB86FC86FD86FE87408741E0D0BCCE87428743E0D18744B8C2D8C587458746874787488749874A874B874CD0EA874D874EC2EF874F8750E0CFE0BD875187528753E0D4E0D387548755E0D78756875787588759E0DCE0D8875A875B875CD6F6B3B0875DD7EC875ECBBB875F8760E0DA8761CEFB876287638764BAD987658766876787688769876A876B876C876D876E876F8770E0E1E0DDD2AD87718772877387748775E0E287768777E0DBE0D9E0DF87788779E0E0877A877B877C877D877EE0DE8780E0E4878187828783C6F7D8ACD4EBE0E6CAC98784878587868787E0E587888789878A878BB8C1878C878D878E878FE0E7E0E887908791879287938794879587968797E0E9E0E387988799879A879B879C879D879EBABFCCE7879F87A087A1E0EA87A287A387A487A587A687A787A887A987AA87AB87AC87AD87AE87AF87B0CFF987B187B287B387B487B587B687B787B887B987BA87BBE0EB87BC87BD87BE87BF87C087C187C2C8C287C387C487C587C6BDC087C787C887C987CA87CB87CC87CD87CE87CF87D087D187D287D3C4D287D487D587D687D787D887D987DA87DB87DCE0EC87DD87DEE0ED87DF87E0C7F4CBC487E1E0EEBBD8D8B6D2F2E0EFCDC587E2B6DA87E387E487E587E687E787E8E0F187E9D4B087EA87EBC0A7B4D187EC87EDCEA7E0F087EE87EF87F0E0F2B9CC87F187F2B9FACDBCE0F387F387F487F5C6D4E0F487F6D4B287F7C8A6E0F6E0F587F887F987FA87FB87FC87FD87FE8840884188428843884488458846884788488849E0F7884A884BCDC1884C884D884ECAA5884F885088518852D4DADBD7DBD98853DBD8B9E7DBDCDBDDB5D888548855DBDA8856885788588859885ADBDBB3A1DBDF885B885CBBF8885DD6B7885EDBE0885F886088618862BEF988638864B7BB8865DBD0CCAEBFB2BBB5D7F8BFD38866886788688869886ABFE9886B886CBCE1CCB3DBDEB0D3CEEBB7D8D7B9C6C2886D886EC0A4886FCCB98870DBE7DBE1C6BADBE38871DBE88872C5F7887388748875DBEA88768877DBE9BFC088788879887ADBE6DBE5887B887C887D887E8880B4B9C0ACC2A2DBE2DBE48881888288838884D0CDDBED88858886888788888889C0DDDBF2888A888B888C888D888E888F8890B6E28891889288938894DBF3DBD2B9B8D4ABDBEC8895BFD1DBF08896DBD18897B5E68898DBEBBFE58899889A889BDBEE889CDBF1889D889E889FDBF988A088A188A288A388A488A588A688A788A8B9A1B0A388A988AA88AB88AC88AD88AE88AFC2F188B088B1B3C7DBEF88B288B3DBF888B4C6D2DBF488B588B6DBF5DBF7DBF688B788B8DBFE88B9D3F2B2BA88BA88BB88BCDBFD88BD88BE88BF88C088C188C288C388C4DCA488C5DBFB88C688C788C888C9DBFA88CA88CB88CCDBFCC5E0BBF988CD88CEDCA388CF88D0DCA588D1CCC388D288D388D4B6D1DDC088D588D688D7DCA188D8DCA288D988DA88DBC7B588DC88DD88DEB6E988DF88E088E1DCA788E288E388E488E5DCA688E6DCA9B1A488E788E8B5CC88E988EA88EB88EC88EDBFB088EE88EF88F088F188F2D1DF88F388F488F588F6B6C288F788F888F988FA88FB88FC88FD88FE894089418942894389448945DCA88946894789488949894A894B894CCBFAEBF3894D894E894FCBDC89508951CBFE895289538954CCC189558956895789588959C8FB895A895B895C895D895E895FDCAA89608961896289638964CCEEDCAB89658966896789688969896A896B896C896D896E896F897089718972897389748975DBD38976DCAFDCAC8977BEB38978CAFB8979897A897BDCAD897C897D897E89808981898289838984C9CAC4B989858986898789888989C7BDDCAE898A898B898CD4F6D0E6898D898E898F89908991899289938994C4ABB6D589958996899789988999899A899B899C899D899E899F89A089A189A289A389A489A589A6DBD489A789A889A989AAB1DA89AB89AC89ADDBD589AE89AF89B089B189B289B389B489B589B689B789B8DBD689B989BA89BBBABE89BC89BD89BE89BF89C089C189C289C389C489C589C689C789C889C9C8C089CA89CB89CC89CD89CE89CFCABFC8C989D0D7B389D1C9F989D289D3BFC789D489D5BAF889D689D7D2BC89D889D989DA89DB89DC89DD89DE89DFE2BA89E0B4A689E189E2B1B889E389E489E589E689E7B8B489E8CFC489E989EA89EB89ECD9E7CFA6CDE289ED89EED9EDB6E089EFD2B989F089F1B9BB89F289F389F489F5E2B9E2B789F6B4F389F7CCECCCABB7F289F8D8B2D1EBBABB89F9CAA789FA89FBCDB789FC89FDD2C4BFE4BCD0B6E189FEDEC58A408A418A428A43DEC6DBBC8A44D1D98A458A46C6E6C4CEB7EE8A47B7DC8A488A49BFFCD7E08A4AC6F58A4B8A4CB1BCDEC8BDB1CCD7DECA8A4DDEC98A4E8A4F8A508A518A52B5EC8A53C9DD8A548A55B0C28A568A578A588A598A5A8A5B8A5C8A5D8A5E8A5F8A608A618A62C5AEC5AB8A63C4CC8A64BCE9CBFD8A658A668A67BAC38A688A698A6AE5F9C8E7E5FACDFD8A6BD7B1B8BEC2E88A6CC8D18A6D8A6EE5FB8A6F8A708A718A72B6CABCCB8A738A74D1FDE6A18A75C3EE8A768A778A788A79E6A48A7A8A7B8A7C8A7DE5FEE6A5CDD78A7E8A80B7C1E5FCE5FDE6A38A818A82C4DDE6A88A838A84E6A78A858A868A878A888A898A8AC3C38A8BC6DE8A8C8A8DE6AA8A8E8A8F8A908A918A928A938A94C4B78A958A968A97E6A2CABC8A988A998A9A8A9BBDE3B9C3E6A6D0D5CEAF8A9C8A9DE6A9E6B08A9ED2A68A9FBDAAE6AD8AA08AA18AA28AA38AA4E6AF8AA5C0D18AA68AA7D2CC8AA88AA98AAABCA78AAB8AAC8AAD8AAE8AAF8AB08AB18AB28AB38AB48AB58AB6E6B18AB7D2F68AB88AB98ABAD7CB8ABBCDFE8ABCCDDEC2A6E6ABE6ACBDBFE6AEE6B38ABD8ABEE6B28ABF8AC08AC18AC2E6B68AC3E6B88AC48AC58AC68AC7C4EF8AC88AC98ACAC4C88ACB8ACCBEEAC9EF8ACD8ACEE6B78ACFB6F08AD08AD18AD2C3E48AD38AD48AD58AD68AD78AD88AD9D3E9E6B48ADAE6B58ADBC8A28ADC8ADD8ADE8ADF8AE0E6BD8AE18AE28AE3E6B98AE48AE58AE68AE78AE8C6C58AE98AEACDF1E6BB8AEB8AEC8AED8AEE8AEF8AF08AF18AF28AF38AF4E6BC8AF58AF68AF78AF8BBE98AF98AFA8AFB8AFC8AFD8AFE8B40E6BE8B418B428B438B44E6BA8B458B46C0B78B478B488B498B4A8B4B8B4C8B4D8B4E8B4FD3A4E6BFC9F4E6C38B508B51E6C48B528B538B548B55D0F68B568B578B588B598B5A8B5B8B5C8B5D8B5E8B5F8B608B618B628B638B648B658B668B67C3BD8B688B698B6A8B6B8B6C8B6D8B6EC3C4E6C28B6F8B708B718B728B738B748B758B768B778B788B798B7A8B7B8B7CE6C18B7D8B7E8B808B818B828B838B84E6C7CFB18B85EBF48B868B87E6CA8B888B898B8A8B8B8B8CE6C58B8D8B8EBCDEC9A98B8F8B908B918B928B938B94BCB58B958B96CFD38B978B988B998B9A8B9BE6C88B9CE6C98B9DE6CE8B9EE6D08B9F8BA08BA1E6D18BA28BA38BA4E6CBB5D58BA5E6CC8BA68BA7E6CF8BA88BA9C4DB8BAAE6C68BAB8BAC8BAD8BAE8BAFE6CD8BB08BB18BB28BB38BB48BB58BB68BB78BB88BB98BBA8BBB8BBC8BBD8BBE8BBF8BC08BC18BC28BC38BC48BC58BC6E6D28BC78BC88BC98BCA8BCB8BCC8BCD8BCE8BCF8BD08BD18BD2E6D4E6D38BD38BD48BD58BD68BD78BD88BD98BDA8BDB8BDC8BDD8BDE8BDF8BE08BE18BE28BE38BE48BE58BE68BE78BE88BE98BEA8BEB8BECE6D58BEDD9F88BEE8BEFE6D68BF08BF18BF28BF38BF48BF58BF68BF7E6D78BF88BF98BFA8BFB8BFC8BFD8BFE8C408C418C428C438C448C458C468C47D7D3E6DD8C48E6DEBFD7D4D08C49D7D6B4E6CBEFE6DAD8C3D7CED0A28C4AC3CF8C4B8C4CE6DFBCBEB9C2E6DBD1A78C4D8C4EBAA2C2CF8C4FD8AB8C508C518C52CAEBE5EE8C53E6DC8C54B7F58C558C568C578C58C8E68C598C5AC4F58C5B8C5CE5B2C4FE8C5DCBFCE5B3D5AC8C5ED3EECAD8B0B28C5FCBCECDEA8C608C61BAEA8C628C638C64E5B58C65E5B48C66D7DAB9D9D6E6B6A8CDF0D2CBB1A6CAB58C67B3E8C9F3BFCDD0FBCAD2E5B6BBC28C688C698C6ACFDCB9AC8C6B8C6C8C6D8C6ED4D78C6F8C70BAA6D1E7CFFCBCD28C71E5B7C8DD8C728C738C74BFEDB1F6CBDE8C758C76BCC58C77BCC4D2FAC3DCBFDC8C788C798C7A8C7BB8BB8C7C8C7D8C7EC3C28C80BAAED4A28C818C828C838C848C858C868C878C888C89C7DEC4AFB2EC8C8AB9D18C8B8C8CE5BBC1C88C8D8C8ED5AF8C8F8C908C918C928C93E5BC8C94E5BE8C958C968C978C988C998C9A8C9BB4E7B6D4CBC2D1B0B5BC8C9C8C9DCAD98C9EB7E28C9F8CA0C9E48CA1BDAB8CA28CA3CEBED7F08CA48CA58CA68CA7D0A18CA8C9D98CA98CAAB6FBE6D8BCE28CABB3BE8CACC9D08CADE6D9B3A28CAE8CAF8CB08CB1DECC8CB2D3C8DECD8CB3D2A28CB48CB58CB68CB7DECE8CB88CB98CBA8CBBBECD8CBC8CBDDECF8CBE8CBF8CC0CAACD2FCB3DFE5EAC4E1BEA1CEB2C4F2BED6C6A8B2E38CC18CC2BED38CC38CC4C7FCCCEBBDECCEDD8CC58CC6CABAC6C1E5ECD0BC8CC78CC88CC9D5B98CCA8CCB8CCCE5ED8CCD8CCE8CCF8CD0CAF48CD1CDC0C2C58CD2E5EF8CD3C2C4E5F08CD48CD58CD68CD78CD88CD98CDAE5F8CDCD8CDBC9BD8CDC8CDD8CDE8CDF8CE08CE18CE2D2D9E1A88CE38CE48CE58CE6D3EC8CE7CBEAC6F18CE88CE98CEA8CEB8CECE1AC8CED8CEE8CEFE1A7E1A98CF08CF1E1AAE1AF8CF28CF3B2ED8CF4E1ABB8DAE1ADE1AEE1B0B5BAE1B18CF58CF68CF78CF88CF9E1B3E1B88CFA8CFB8CFC8CFD8CFED1D28D40E1B6E1B5C1EB8D418D428D43E1B78D44D4C08D45E1B28D46E1BAB0B68D478D488D498D4AE1B48D4BBFF98D4CE1B98D4D8D4EE1BB8D4F8D508D518D528D538D54E1BE8D558D568D578D588D598D5AE1BC8D5B8D5C8D5D8D5E8D5F8D60D6C58D618D628D638D648D658D668D67CFBF8D688D69E1BDE1BFC2CD8D6AB6EB8D6BD3F88D6C8D6DC7CD8D6E8D6FB7E58D708D718D728D738D748D758D768D778D788D79BEFE8D7A8D7B8D7C8D7D8D7E8D80E1C0E1C18D818D82E1C7B3E78D838D848D858D868D878D88C6E98D898D8A8D8B8D8C8D8DB4DE8D8ED1C28D8F8D908D918D92E1C88D938D94E1C68D958D968D978D988D99E1C58D9AE1C3E1C28D9BB1C08D9C8D9D8D9ED5B8E1C48D9F8DA08DA18DA28DA3E1CB8DA48DA58DA68DA78DA88DA98DAA8DABE1CCE1CA8DAC8DAD8DAE8DAF8DB08DB18DB28DB3EFFA8DB48DB5E1D3E1D2C7B68DB68DB78DB88DB98DBA8DBB8DBC8DBD8DBE8DBF8DC0E1C98DC18DC2E1CE8DC3E1D08DC48DC58DC68DC78DC88DC98DCA8DCB8DCC8DCD8DCEE1D48DCFE1D1E1CD8DD08DD1E1CF8DD28DD38DD48DD5E1D58DD68DD78DD88DD98DDA8DDB8DDC8DDD8DDE8DDF8DE08DE18DE2E1D68DE38DE48DE58DE68DE78DE88DE98DEA8DEB8DEC8DED8DEE8DEF8DF08DF18DF28DF38DF48DF58DF68DF78DF8E1D78DF98DFA8DFBE1D88DFC8DFD8DFE8E408E418E428E438E448E458E468E478E488E498E4A8E4B8E4C8E4D8E4E8E4F8E508E518E528E538E548E55E1DA8E568E578E588E598E5A8E5B8E5C8E5D8E5E8E5F8E608E618E62E1DB8E638E648E658E668E678E688E69CEA18E6A8E6B8E6C8E6D8E6E8E6F8E708E718E728E738E748E758E76E7DD8E77B4A8D6DD8E788E79D1B2B3B28E7A8E7BB9A4D7F3C7C9BEDEB9AE8E7CCED78E7D8E7EB2EEDBCF8E80BCBAD2D1CBC8B0CD8E818E82CFEF8E838E848E858E868E87D9E3BDED8E888E89B1D2CAD0B2BC8E8ACBA7B7AB8E8BCAA68E8C8E8D8E8ECFA38E8F8E90E0F8D5CAE0FB8E918E92E0FAC5C1CCFB8E93C1B1E0F9D6E3B2AFD6C4B5DB8E948E958E968E978E988E998E9A8E9BB4F8D6A18E9C8E9D8E9E8E9F8EA0CFAFB0EF8EA18EA2E0FC8EA38EA48EA58EA68EA7E1A1B3A38EA88EA9E0FDE0FEC3B18EAA8EAB8EAC8EADC3DD8EAEE1A2B7F98EAF8EB08EB18EB28EB38EB4BBCF8EB58EB68EB78EB88EB98EBA8EBBE1A3C4BB8EBC8EBD8EBE8EBF8EC0E1A48EC18EC2E1A58EC38EC4E1A6B4B18EC58EC68EC78EC88EC98ECA8ECB8ECC8ECD8ECE8ECF8ED08ED18ED28ED3B8C9C6BDC4EA8ED4B2A28ED5D0D28ED6E7DBBBC3D3D7D3C48ED7B9E3E2CF8ED88ED98EDAD7AF8EDBC7ECB1D38EDC8EDDB4B2E2D18EDE8EDF8EE0D0F2C2AEE2D08EE1BFE2D3A6B5D7E2D2B5EA8EE2C3EDB8FD8EE3B8AE8EE4C5D3B7CFE2D48EE58EE68EE78EE8E2D3B6C8D7F98EE98EEA8EEB8EEC8EEDCDA58EEE8EEF8EF08EF18EF2E2D88EF3E2D6CAFCBFB5D3B9E2D58EF48EF58EF68EF7E2D78EF88EF98EFA8EFB8EFC8EFD8EFE8F408F418F42C1AEC0C88F438F448F458F468F478F48E2DBE2DAC0AA8F498F4AC1CE8F4B8F4C8F4D8F4EE2DC8F4F8F508F518F528F538F548F558F568F578F588F598F5AE2DD8F5BE2DE8F5C8F5D8F5E8F5F8F608F618F628F638F64DBC88F65D1D3CDA28F668F67BDA88F688F698F6ADEC3D8A5BFAADBCDD2ECC6FAC5AA8F6B8F6C8F6DDEC48F6EB1D7DFAE8F6F8F708F71CABD8F72DFB18F73B9AD8F74D2FD8F75B8A5BAEB8F768F77B3DA8F788F798F7AB5DCD5C58F7B8F7C8F7D8F7EC3D6CFD2BBA18F80E5F3E5F28F818F82E5F48F83CDE48F84C8F58F858F868F878F888F898F8A8F8BB5AFC7BF8F8CE5F68F8D8F8E8F8FECB08F908F918F928F938F948F958F968F978F988F998F9A8F9B8F9C8F9D8F9EE5E68F9FB9E9B5B18FA0C2BCE5E8E5E7E5E98FA18FA28FA38FA4D2CD8FA58FA68FA7E1EAD0CE8FA8CDAE8FA9D1E58FAA8FABB2CAB1EB8FACB1F2C5ED8FAD8FAED5C3D3B08FAFE1DC8FB08FB18FB2E1DD8FB3D2DB8FB4B3B9B1CB8FB58FB68FB7CDF9D5F7E1DE8FB8BEB6B4FD8FB9E1DFBADCE1E0BBB2C2C9E1E18FBA8FBB8FBCD0EC8FBDCDBD8FBE8FBFE1E28FC0B5C3C5C7E1E38FC18FC2E1E48FC38FC48FC58FC6D3F98FC78FC88FC98FCA8FCB8FCCE1E58FCDD1AD8FCE8FCFE1E6CEA28FD08FD18FD28FD38FD48FD5E1E78FD6B5C28FD78FD88FD98FDAE1E8BBD58FDB8FDC8FDD8FDE8FDFD0C4E2E0B1D8D2E48FE08FE1E2E18FE28FE3BCC9C8CC8FE4E2E3ECFEECFDDFAF8FE58FE68FE7E2E2D6BECDFCC3A68FE88FE98FEAE3C38FEB8FECD6D2E2E78FED8FEEE2E88FEF8FF0D3C78FF18FF2E2ECBFEC8FF3E2EDE2E58FF48FF5B3C08FF68FF78FF8C4EE8FF98FFAE2EE8FFB8FFCD0C38FFDBAF6E2E9B7DEBBB3CCACCBCBE2E4E2E6E2EAE2EB8FFE90409041E2F790429043E2F4D4F5E2F390449045C5AD9046D5FAC5C2B2C090479048E2EF9049E2F2C1AFCBBC904A904BB5A1E2F9904C904D904EBCB1E2F1D0D4D4B9E2F5B9D6E2F6904F90509051C7D390529053905490559056E2F0905790589059905A905BD7DCEDA1905C905DE2F8905EEDA5E2FECAD1905F906090619062906390649065C1B59066BBD090679068BFD69069BAE3906A906BCBA1906C906D906EEDA6EDA3906F9070EDA29071907290739074BBD6EDA7D0F490759076EDA4BADEB6F7E3A1B6B2CCF1B9A79077CFA2C7A190789079BFD2907A907BB6F1907CE2FAE2FBE2FDE2FCC4D5E3A2907DD3C1907E90809081E3A7C7C49082908390849085CFA490869087E3A9BAB790889089908A908BE3A8908CBBDA908DE3A3908E908F9090E3A4E3AA9091E3A69092CEF2D3C690939094BBBC90959096D4C39097C4FA90989099EDA8D0FCE3A5909AC3F5909BE3ADB1AF909CE3B2909D909E909FBCC290A090A1E3ACB5BF90A290A390A490A590A690A790A890A9C7E9E3B090AA90AB90ACBEAACDEF90AD90AE90AF90B090B1BBF390B290B390B4CCE890B590B6E3AF90B7E3B190B8CFA7E3AE90B9CEA9BBDD90BA90BB90BC90BD90BEB5EBBEE5B2D2B3CD90BFB1B9E3ABB2D1B5ACB9DFB6E890C090C1CFEBE3B790C2BBCC90C390C4C8C7D0CA90C590C690C790C890C9E3B8B3EE90CA90CB90CC90CDEDA990CED3FAD3E490CF90D090D1EDAAE3B9D2E290D290D390D490D590D6E3B590D790D890D990DAD3DE90DB90DC90DD90DEB8D0E3B390DF90E0E3B6B7DF90E1E3B4C0A290E290E390E4E3BA90E590E690E790E890E990EA90EB90EC90ED90EE90EF90F090F190F290F390F490F590F690F7D4B890F890F990FA90FB90FC90FD90FE9140B4C89141E3BB9142BBC59143C9F791449145C9E5914691479148C4BD9149914A914B914C914D914E914FEDAB9150915191529153C2FD9154915591569157BBDBBFAE91589159915A915B915C915D915ECEBF915F916091619162E3BC9163BFB6916491659166916791689169916A916B916C916D916E916F9170917191729173917491759176B1EF91779178D4F79179917A917B917C917DE3BE917E9180918191829183918491859186EDAD918791889189918A918B918C918D918E918FE3BFBAA9EDAC91909191E3BD91929193919491959196919791989199919A919BE3C0919C919D919E919F91A091A1BAB691A291A391A4B6AE91A591A691A791A891A9D0B891AAB0C3EDAE91AB91AC91AD91AE91AFEDAFC0C191B0E3C191B191B291B391B491B591B691B791B891B991BA91BB91BC91BD91BE91BF91C091C1C5B391C291C391C491C591C691C791C891C991CA91CB91CC91CD91CE91CFE3C291D091D191D291D391D491D591D691D791D8DCB291D991DA91DB91DC91DD91DEEDB091DFB8EA91E0CEECEAA7D0E7CAF9C8D6CFB7B3C9CED2BDE491E191E2E3DEBBF2EAA8D5BD91E3C6DDEAA991E491E591E6EAAA91E7EAACEAAB91E8EAAEEAAD91E991EA91EB91ECBDD891EDEAAF91EEC2BE91EF91F091F191F2B4C1B4F791F391F4BBA791F591F691F791F891F9ECE6ECE5B7BFCBF9B1E291FAECE791FB91FC91FDC9C8ECE8ECE991FECAD6DED0B2C5D4FA92409241C6CBB0C7B4F2C8D3924292439244CDD092459246BFB8924792489249924A924B924C924DBFDB924E924FC7A4D6B49250C0A9DED1C9A8D1EFC5A4B0E7B3B6C8C592519252B0E292539254B7F692559256C5FA92579258B6F39259D5D2B3D0BCBC925A925B925CB3AD925D925E925F9260BEF1B0D1926192629263926492659266D2D6CAE3D7A59267CDB6B6B6BFB9D5DB9268B8A7C5D79269926A926BDED2BFD9C2D5C7C0926CBBA4B1A8926D926EC5EA926F9270C5FBCCA79271927292739274B1A7927592769277B5D692789279927AC4A8927BDED3D1BAB3E9927CC3F2927D927EB7F79280D6F4B5A3B2F0C4B4C4E9C0ADDED49281B0E8C5C4C1E09282B9D59283BEDCCDD8B0CE9284CDCFDED6BED0D7BEDED5D5D0B0DD92859286C4E292879288C2A3BCF09289D3B5C0B9C5A1B2A6D4F1928A928BC0A8CAC3DED7D5FC928CB9B0928DC8ADCBA9928EDED9BFBD928F929092919292C6B4D7A7CAB0C4C39293B3D6B9D29294929592969297D6B8EAFCB0B492989299929A929BBFE6929C929DCCF4929E929F92A092A1CDDA92A292A392A4D6BFC2CE92A5CECECCA2D0AEC4D3B5B2DED8D5F5BCB7BBD392A692A7B0A492A8C5B2B4EC92A992AA92ABD5F192AC92ADEAFD92AE92AF92B092B192B292B3DEDACDA692B492B5CDEC92B692B792B892B9CEE6DEDC92BACDB1C0A692BB92BCD7BD92BDDEDBB0C6BAB4C9D3C4F3BEE892BE92BF92C092C1B2B692C292C392C492C592C692C792C892C9C0CCCBF092CABCF1BBBBB5B792CB92CC92CDC5F592CEDEE692CF92D092D1DEE3BEDD92D292D3DEDF92D492D592D692D7B4B7BDDD92D892D9DEE0C4ED92DA92DB92DC92DDCFC692DEB5E092DF92E092E192E2B6DECADAB5F4DEE592E3D5C692E4DEE1CCCDC6FE92E5C5C592E692E792E8D2B492E9BEF292EA92EB92EC92ED92EE92EF92F0C2D392F1CCBDB3B892F2BDD392F3BFD8CDC6D1DAB4EB92F4DEE4DEDDDEE792F5EAFE92F692F7C2B0DEE292F892F9D6C0B5A792FAB2F492FBDEE892FCDEF292FD92FE934093419342DEED9343DEF193449345C8E0934693479348D7E1DEEFC3E8CCE19349B2E5934A934B934CD2BE934D934E934F9350935193529353DEEE9354DEEBCED59355B4A79356935793589359935ABFABBEBE935B935CBDD2935D935E935F9360DEE99361D4AE9362DEDE9363DEEA9364936593669367C0BF9368DEECB2F3B8E9C2A79369936ABDC1936B936C936D936E936FDEF5DEF893709371B2ABB4A493729373B4EAC9A6937493759376937793789379DEF6CBD1937AB8E3937BDEF7DEFA937C937D937E9380DEF9938193829383CCC29384B0E1B4EE93859386938793889389938AE5BA938B938C938D938E938FD0AF93909391B2EB9392EBA19393DEF493949395C9E3DEF3B0DAD2A1B1F79396CCAF939793989399939A939B939C939DDEF0939ECBA4939F93A093A1D5AA93A293A393A493A593A6DEFB93A793A893A993AA93AB93AC93AD93AEB4DD93AFC4A693B093B193B2DEFD93B393B493B593B693B793B893B993BA93BB93BCC3FEC4A1DFA193BD93BE93BF93C093C193C293C3C1CC93C4DEFCBEEF93C5C6B293C693C793C893C993CA93CB93CC93CD93CEB3C5C8F693CF93D0CBBADEFE93D193D2DFA493D393D493D593D6D7B293D793D893D993DA93DBB3B793DC93DD93DE93DFC1C393E093E1C7CBB2A5B4E993E2D7AB93E393E493E593E6C4EC93E7DFA2DFA393E8DFA593E9BAB393EA93EB93ECDFA693EDC0DE93EE93EFC9C393F093F193F293F393F493F593F6B2D9C7E693F7DFA793F8C7DC93F993FA93FB93FCDFA8EBA293FD93FE944094419442CBD3944394449445DFAA9446DFA99447B2C194489449944A944B944C944D944E944F9450945194529453945494559456945794589459945A945B945C945D945E945F9460C5CA94619462946394649465946694679468DFAB9469946A946B946C946D946E946F9470D4DC94719472947394749475C8C19476947794789479947A947B947C947D947E948094819482DFAC94839484948594869487BEF094889489DFADD6A7948A948B948C948DEAB7EBB6CAD5948ED8FCB8C4948FB9A594909491B7C5D5FE94929493949494959496B9CA94979498D0A7F4CD9499949AB5D0949B949CC3F4949DBEC8949E949F94A0EBB7B0BD94A194A2BDCC94A3C1B294A4B1D6B3A894A594A694A7B8D2C9A294A894A9B6D894AA94AB94AC94ADEBB8BEB494AE94AF94B0CAFD94B1C7C394B2D5FB94B394B4B7F394B594B694B794B894B994BA94BB94BC94BD94BE94BF94C094C194C294C3CEC494C494C594C6D5ABB1F394C794C894C9ECB3B0DF94CAECB594CB94CC94CDB6B794CEC1CF94CFF5FAD0B194D094D1D5E594D2CED394D394D4BDEFB3E294D5B8AB94D6D5B694D7EDBD94D8B6CF94D9CBB9D0C294DA94DB94DC94DD94DE94DF94E094E1B7BD94E294E3ECB6CAA994E494E594E6C5D494E7ECB9ECB8C2C3ECB794E894E994EA94EBD0FDECBA94ECECBBD7E594ED94EEECBC94EF94F094F1ECBDC6EC94F294F394F494F594F694F794F894F9CEDE94FABCC894FB94FCC8D5B5A9BEC9D6BCD4E794FD94FED1AED0F1EAB8EAB9EABABAB59540954195429543CAB1BFF595449545CDFA9546954795489549954AEAC0954BB0BAEABE954C954DC0A5954E954F9550EABB9551B2FD9552C3F7BBE8955395549555D2D7CEF4EABF955695579558EABC9559955A955BEAC3955CD0C7D3B3955D955E955F9560B4BA9561C3C1D7F29562956395649565D5D19566CAC79567EAC595689569EAC4EAC7EAC6956A956B956C956D956ED6E7956FCFD495709571EACB9572BBCE9573957495759576957795789579BDFAC9CE957A957BEACC957C957DC9B9CFFEEACAD4CEEACDEACF957E9580CDED9581958295839584EAC99585EACE95869587CEEE9588BBDE9589B3BF958A958B958C958D958EC6D5BEB0CEFA958F95909591C7E79592BEA7EAD095939594D6C7959595969597C1C095989599959AD4DD959BEAD1959C959DCFBE959E959F95A095A1EAD295A295A395A495A5CAEE95A695A795A895A9C5AFB0B595AA95AB95AC95AD95AEEAD495AF95B095B195B295B395B495B595B695B7EAD3F4DF95B895B995BA95BB95BCC4BA95BD95BE95BF95C095C1B1A995C295C395C495C5E5DF95C695C795C895C9EAD595CA95CB95CC95CD95CE95CF95D095D195D295D395D495D595D695D795D895D995DA95DB95DC95DD95DE95DF95E095E195E295E3CAEF95E4EAD6EAD7C6D895E595E695E795E895E995EA95EB95ECEAD895ED95EEEAD995EF95F095F195F295F395F4D4BB95F5C7FAD2B7B8FC95F695F7EAC295F8B2DC95F995FAC2FC95FBD4F8CCE6D7EE95FC95FD95FE9640964196429643D4C2D3D0EBC3C5F39644B7FE96459646EBD4964796489649CBB7EBDE964AC0CA964B964C964DCDFB964EB3AF964FC6DA965096519652965396549655EBFC9656C4BE9657CEB4C4A9B1BED4FD9658CAF59659D6EC965A965BC6D3B6E4965C965D965E965FBBFA96609661D0E096629663C9B19664D4D3C8A896659666B8CB9667E8BEC9BC96689669E8BB966AC0EED0D3B2C4B4E5966BE8BC966C966DD5C8966E966F967096719672B6C59673E8BDCAF8B8DCCCF5967496759676C0B496779678D1EEE8BFE8C29679967ABABC967BB1ADBDDC967CEABDE8C3967DE8C6967EE8CB9680968196829683E8CC9684CBC9B0E59685BCAB96869687B9B996889689E8C1968ACDF7968BE8CA968C968D968E968FCEF69690969196929693D5ED9694C1D6E8C49695C3B69696B9FBD6A6E8C8969796989699CAE0D4E6969AE8C0969BE8C5E8C7969CC7B9B7E3969DE8C9969EBFDDE8D2969F96A0E8D796A1E8D5BCDCBCCFE8DB96A296A396A496A596A696A796A896A9E8DE96AAE8DAB1FA96AB96AC96AD96AE96AF96B096B196B296B396B4B0D8C4B3B8CCC6E2C8BEC8E196B596B696B7E8CFE8D4E8D696B8B9F1E8D8D7F596B9C4FB96BAE8DC96BB96BCB2E996BD96BE96BFE8D196C096C1BCED96C296C3BFC2E8CDD6F996C4C1F8B2F196C596C696C796C896C996CA96CB96CCE8DF96CDCAC1E8D996CE96CF96D096D1D5A496D2B1EAD5BBE8CEE8D0B6B0E8D396D3E8DDC0B896D4CAF796D5CBA896D696D7C6DCC0F596D896D996DA96DB96DCE8E996DD96DE96DFD0A396E096E196E296E396E496E596E6E8F2D6EA96E796E896E996EA96EB96EC96EDE8E0E8E196EE96EF96F0D1F9BACBB8F996F196F2B8F1D4D4E8EF96F3E8EEE8ECB9F0CCD2E8E6CEA6BFF296F4B0B8E8F1E8F096F5D7C096F6E8E496F7CDA9C9A396F8BBB8BDDBE8EA96F996FA96FB96FC96FD96FE9740974197429743E8E2E8E3E8E5B5B5E8E7C7C5E8EBE8EDBDB0D7AE9744E8F897459746974797489749974A974B974CE8F5974DCDB0E8F6974E974F9750975197529753975497559756C1BA9757E8E89758C3B7B0F09759975A975B975C975D975E975F9760E8F4976197629763E8F7976497659766B9A3976797689769976A976B976C976D976E976F9770C9D2977197729773C3CECEE0C0E69774977597769777CBF39778CCDDD0B59779977ACAE1977BE8F3977C977D977E9780978197829783978497859786BCEC9787E8F997889789978A978B978C978DC3DE978EC6E5978FB9F79790979197929793B0F497949795D7D897969797BCAC9798C5EF9799979A979B979C979DCCC4979E979FE9A697A097A197A297A397A497A597A697A797A897A9C9AD97AAE9A2C0E297AB97AC97ADBFC397AE97AF97B0E8FEB9D797B1E8FB97B297B397B497B5E9A497B697B797B8D2CE97B997BA97BB97BC97BDE9A397BED6B2D7B597BFE9A797C0BDB797C197C297C397C497C597C697C797C897C997CA97CB97CCE8FCE8FD97CD97CE97CFE9A197D097D197D297D397D497D597D697D7CDD697D897D9D2AC97DA97DB97DCE9B297DD97DE97DF97E0E9A997E197E297E3B4AA97E4B4BB97E597E6E9AB97E797E897E997EA97EB97EC97ED97EE97EF97F097F197F297F397F497F597F697F7D0A897F897F9E9A597FA97FBB3FE97FC97FDE9ACC0E397FEE9AA98409841E9B998429843E9B89844984598469847E9AE98489849E8FA984A984BE9A8984C984D984E984F9850BFACE9B1E9BA98519852C2A5985398549855E9AF9856B8C59857E9AD9858D3DCE9B4E9B5E9B79859985A985BE9C7985C985D985E985F98609861C0C6E9C598629863E9B098649865E9BBB0F19866986798689869986A986B986C986D986E986FE9BCD5A598709871E9BE9872E9BF987398749875E9C198769877C1F198789879C8B6987A987B987CE9BD987D987E988098819882E9C29883988498859886988798889889988AE9C3988BE9B3988CE9B6988DBBB1988E988F9890E9C0989198929893989498959896BCF7989798989899E9C4E9C6989A989B989C989D989E989F98A098A198A298A398A498A5E9CA98A698A798A898A9E9CE98AA98AB98AC98AD98AE98AF98B098B198B298B3B2DB98B4E9C898B598B698B798B898B998BA98BB98BC98BD98BEB7AE98BF98C098C198C298C398C498C598C698C798C898C998CAE9CBE9CC98CB98CC98CD98CE98CF98D0D5C198D1C4A398D298D398D498D598D698D7E9D898D8BAE198D998DA98DB98DCE9C998DDD3A398DE98DF98E0E9D498E198E298E398E498E598E698E7E9D7E9D098E898E998EA98EB98ECE9CF98ED98EEC7C198EF98F098F198F298F398F498F598F6E9D298F798F898F998FA98FB98FC98FDE9D9B3C898FEE9D399409941994299439944CFF0994599469947E9CD99489949994A994B994C994D994E994F995099519952B3F79953995499559956995799589959E9D6995A995BE9DA995C995D995ECCB4995F99609961CFAD99629963996499659966996799689969996AE9D5996BE9DCE9DB996C996D996E996F9970E9DE99719972997399749975997699779978E9D19979997A997B997C997D997E99809981E9DD9982E9DFC3CA9983998499859986998799889989998A998B998C998D998E998F9990999199929993999499959996999799989999999A999B999C999D999E999F99A099A199A299A399A499A599A699A799A899A999AA99AB99AC99AD99AE99AF99B099B199B299B399B499B599B699B799B899B999BA99BB99BC99BD99BE99BF99C099C199C299C399C499C599C699C799C899C999CA99CB99CC99CD99CE99CF99D099D199D299D399D499D599D699D799D899D999DA99DB99DC99DD99DE99DF99E099E199E299E399E499E599E699E799E899E999EA99EB99EC99ED99EE99EF99F099F199F299F399F499F5C7B7B4CEBBB6D0C0ECA399F699F7C5B799F899F999FA99FB99FC99FD99FE9A409A419A42D3FB9A439A449A459A46ECA49A47ECA5C6DB9A489A499A4ABFEE9A4B9A4C9A4D9A4EECA69A4F9A50ECA7D0AA9A51C7B89A529A53B8E89A549A559A569A579A589A599A5A9A5B9A5C9A5D9A5E9A5FECA89A609A619A629A639A649A659A669A67D6B9D5FDB4CBB2BDCEE4C6E79A689A69CDE19A6A9A6B9A6C9A6D9A6E9A6F9A709A719A729A739A749A759A769A77B4F59A78CBC0BCDF9A799A7A9A7B9A7CE9E2E9E3D1EAE9E59A7DB4F9E9E49A7ED1B3CAE2B2D09A80E9E89A819A829A839A84E9E6E9E79A859A86D6B39A879A889A89E9E9E9EA9A8A9A8B9A8C9A8D9A8EE9EB9A8F9A909A919A929A939A949A959A96E9EC9A979A989A999A9A9A9B9A9C9A9D9A9EECAFC5B9B6CE9A9FD2F39AA09AA19AA29AA39AA49AA59AA6B5EE9AA7BBD9ECB19AA89AA9D2E39AAA9AAB9AAC9AAD9AAECEE39AAFC4B89AB0C3BF9AB19AB2B6BED8B9B1C8B1CFB1D1C5FE9AB3B1D09AB4C3AB9AB59AB69AB79AB89AB9D5B19ABA9ABB9ABC9ABD9ABE9ABF9AC09AC1EBA4BAC19AC29AC39AC4CCBA9AC59AC69AC7EBA59AC8EBA79AC99ACA9ACBEBA89ACC9ACD9ACEEBA69ACF9AD09AD19AD29AD39AD49AD5EBA9EBABEBAA9AD69AD79AD89AD99ADAEBAC9ADBCACFD8B5C3F19ADCC3A5C6F8EBADC4CA9ADDEBAEEBAFEBB0B7D59ADE9ADF9AE0B7FA9AE1EBB1C7E29AE2EBB39AE3BAA4D1F5B0B1EBB2EBB49AE49AE59AE6B5AAC2C8C7E89AE7EBB59AE8CBAEE3DF9AE99AEAD3C09AEB9AEC9AED9AEED9DB9AEF9AF0CDA1D6ADC7F39AF19AF29AF3D9E0BBE39AF4BABAE3E29AF59AF69AF79AF89AF9CFAB9AFA9AFB9AFCE3E0C9C79AFDBAB99AFE9B409B41D1B4E3E1C8EAB9AFBDADB3D8CEDB9B429B43CCC09B449B459B46E3E8E3E9CDF49B479B489B499B4A9B4BCCAD9B4CBCB39B4DE3EA9B4EE3EB9B4F9B50D0DA9B519B529B53C6FBB7DA9B549B55C7DFD2CACED69B56E3E4E3EC9B57C9F2B3C19B589B59E3E79B5A9B5BC6E3E3E59B5C9B5DEDB3E3E69B5E9B5F9B609B61C9B39B62C5E69B639B649B65B9B59B66C3BB9B67E3E3C5BDC1A4C2D9B2D79B68E3EDBBA6C4AD9B69E3F0BEDA9B6A9B6BE3FBE3F5BAD39B6C9B6D9B6E9B6FB7D0D3CD9B70D6CED5D3B9C1D5B4D1D89B719B729B739B74D0B9C7F69B759B769B77C8AAB2B49B78C3DA9B799B7A9B7BE3EE9B7C9B7DE3FCE3EFB7A8E3F7E3F49B7E9B809B81B7BA9B829B83C5A29B84E3F6C5DDB2A8C6FC9B85C4E09B869B87D7A29B88C0E1E3F99B899B8AE3FAE3FDCCA9E3F39B8BD3BE9B8CB1C3EDB4E3F1E3F29B8DE3F8D0BAC6C3D4F3E3FE9B8E9B8FBDE09B909B91E4A79B929B93E4A69B949B959B96D1F3E4A39B97E4A99B989B999B9AC8F79B9B9B9C9B9D9B9ECFB49B9FE4A8E4AEC2E59BA09BA1B6B49BA29BA39BA49BA59BA69BA7BDF29BA8E4A29BA99BAABAE9E4AA9BAB9BACE4AC9BAD9BAEB6FDD6DEE4B29BAFE4AD9BB09BB19BB2E4A19BB3BBEECDDDC7A2C5C99BB49BB5C1F79BB6E4A49BB7C7B3BDACBDBDE4A59BB8D7C7B2E29BB9E4ABBCC3E4AF9BBABBEBE4B0C5A8E4B19BBB9BBC9BBD9BBED5E3BFA39BBFE4BA9BC0E4B79BC1E4BB9BC29BC3E4BD9BC49BC5C6D69BC69BC7BAC6C0CB9BC89BC99BCAB8A1E4B49BCB9BCC9BCD9BCED4A19BCF9BD0BAA3BDFE9BD19BD29BD3E4BC9BD49BD59BD69BD79BD8CDBF9BD99BDAC4F99BDB9BDCCFFBC9E69BDD9BDED3BF9BDFCFD19BE09BE1E4B39BE2E4B8E4B9CCE99BE39BE49BE59BE69BE7CCCE9BE8C0D4E4B5C1B0E4B6CED09BE9BBC1B5D39BEAC8F3BDA7D5C7C9ACB8A2E4CA9BEB9BECE4CCD1C49BED9BEED2BA9BEF9BF0BAAD9BF19BF2BAD49BF39BF49BF59BF69BF79BF8E4C3B5ED9BF99BFA9BFBD7CDE4C0CFFDE4BF9BFC9BFD9BFEC1DCCCCA9C409C419C429C43CAE79C449C459C469C47C4D79C48CCD4E4C89C499C4A9C4BE4C7E4C19C4CE4C4B5AD9C4D9C4ED3D99C4FE4C69C509C519C529C53D2F9B4E39C54BBB49C559C56C9EE9C57B4BE9C589C599C5ABBEC9C5BD1CD9C5CCCEDEDB59C5D9C5E9C5F9C609C619C629C639C64C7E59C659C669C679C68D4A89C69E4CBD7D5E4C29C6ABDA5E4C59C6B9C6CD3E69C6DE4C9C9F89C6E9C6FE4BE9C709C71D3E59C729C73C7FEB6C99C74D4FCB2B3E4D79C759C769C77CEC29C78E4CD9C79CEBC9C7AB8DB9C7B9C7CE4D69C7DBFCA9C7E9C809C81D3CE9C82C3EC9C839C849C859C869C879C889C899C8AC5C8E4D89C8B9C8C9C8D9C8E9C8F9C909C919C92CDC4E4CF9C939C949C959C96E4D4E4D59C97BAFE9C98CFE69C999C9AD5BF9C9B9C9C9C9DE4D29C9E9C9F9CA09CA19CA29CA39CA49CA59CA69CA79CA8E4D09CA99CAAE4CE9CAB9CAC9CAD9CAE9CAF9CB09CB19CB29CB39CB49CB59CB69CB79CB89CB9CDE5CAAA9CBA9CBB9CBCC0A39CBDBDA6E4D39CBE9CBFB8C89CC09CC19CC29CC39CC4E4E7D4B49CC59CC69CC79CC89CC99CCA9CCBE4DB9CCC9CCD9CCEC1EF9CCF9CD0E4E99CD19CD2D2E79CD39CD4E4DF9CD5E4E09CD69CD7CFAA9CD89CD99CDA9CDBCBDD9CDCE4DAE4D19CDDE4E59CDEC8DCE4E39CDF9CE0C4E7E4E29CE1E4E19CE29CE39CE4B3FCE4E89CE59CE69CE79CE8B5E19CE99CEA9CEBD7CC9CEC9CED9CEEE4E69CEFBBAC9CF0D7D2CCCFEBF89CF1E4E49CF29CF3B9F69CF49CF59CF6D6CDE4D9E4DCC2FAE4DE9CF7C2CBC0C4C2D09CF8B1F5CCB29CF99CFA9CFB9CFC9CFD9CFE9D409D419D429D43B5CE9D449D459D469D47E4EF9D489D499D4A9D4B9D4C9D4D9D4E9D4FC6AF9D509D519D52C6E19D539D54E4F59D559D569D579D589D59C2A99D5A9D5B9D5CC0ECD1DDE4EE9D5D9D5E9D5F9D609D619D629D639D649D659D66C4AE9D679D689D69E4ED9D6A9D6B9D6C9D6DE4F6E4F4C2FE9D6EE4DD9D6FE4F09D70CAFE9D71D5C49D729D73E4F19D749D759D769D779D789D799D7AD1FA9D7B9D7C9D7D9D7E9D809D819D82E4EBE4EC9D839D849D85E4F29D86CEAB9D879D889D899D8A9D8B9D8C9D8D9D8E9D8F9D90C5CB9D919D929D93C7B19D94C2BA9D959D969D97E4EA9D989D999D9AC1CA9D9B9D9C9D9D9D9E9D9F9DA0CCB6B3B19DA19DA29DA3E4FB9DA4E4F39DA59DA69DA7E4FA9DA8E4FD9DA9E4FC9DAA9DAB9DAC9DAD9DAE9DAF9DB0B3CE9DB19DB29DB3B3BAE4F79DB49DB5E4F9E4F8C5EC9DB69DB79DB89DB99DBA9DBB9DBC9DBD9DBE9DBF9DC09DC19DC2C0BD9DC39DC49DC59DC6D4E89DC79DC89DC99DCA9DCBE5A29DCC9DCD9DCE9DCF9DD09DD19DD29DD39DD49DD59DD6B0C49DD79DD8E5A49DD99DDAE5A39DDB9DDC9DDD9DDE9DDF9DE0BCA49DE1E5A59DE29DE39DE49DE59DE69DE7E5A19DE89DE99DEA9DEB9DEC9DED9DEEE4FEB1F49DEF9DF09DF19DF29DF39DF49DF59DF69DF79DF89DF9E5A89DFAE5A9E5A69DFB9DFC9DFD9DFE9E409E419E429E439E449E459E469E47E5A7E5AA9E489E499E4A9E4B9E4C9E4D9E4E9E4F9E509E519E529E539E549E559E569E579E589E599E5A9E5B9E5C9E5D9E5E9E5F9E609E619E629E639E649E659E669E679E68C6D99E699E6A9E6B9E6C9E6D9E6E9E6F9E70E5ABE5AD9E719E729E739E749E759E769E77E5AC9E789E799E7A9E7B9E7C9E7D9E7E9E809E819E829E839E849E859E869E879E889E89E5AF9E8A9E8B9E8CE5AE9E8D9E8E9E8F9E909E919E929E939E949E959E969E979E989E999E9A9E9B9E9C9E9D9E9EB9E09E9F9EA0E5B09EA19EA29EA39EA49EA59EA69EA79EA89EA99EAA9EAB9EAC9EAD9EAEE5B19EAF9EB09EB19EB29EB39EB49EB59EB69EB79EB89EB99EBABBF0ECE1C3F09EBBB5C6BBD29EBC9EBD9EBE9EBFC1E9D4EE9EC0BEC49EC19EC29EC3D7C69EC4D4D6B2D3ECBE9EC59EC69EC79EC8EAC19EC99ECA9ECBC2AFB4B69ECC9ECD9ECED1D79ECF9ED09ED1B3B49ED2C8B2BFBBECC09ED39ED4D6CB9ED59ED6ECBFECC19ED79ED89ED99EDA9EDB9EDC9EDD9EDE9EDF9EE09EE19EE29EE3ECC5BEE6CCBFC5DABEBC9EE4ECC69EE5B1FE9EE69EE79EE8ECC4D5A8B5E39EE9ECC2C1B6B3E39EEA9EEBECC3CBB8C0C3CCFE9EEC9EED9EEE9EEFC1D29EF0ECC89EF19EF29EF39EF49EF59EF69EF79EF89EF99EFA9EFB9EFC9EFDBAE6C0D39EFED6F29F409F419F42D1CC9F439F449F459F46BFBE9F47B7B3C9D5ECC7BBE29F48CCCCBDFDC8C89F49CFA99F4A9F4B9F4C9F4D9F4E9F4F9F50CDE99F51C5EB9F529F539F54B7E99F559F569F579F589F599F5A9F5B9F5C9F5D9F5E9F5FD1C9BAB89F609F619F629F639F64ECC99F659F66ECCA9F67BBC0ECCB9F68ECE2B1BAB7D99F699F6A9F6B9F6C9F6D9F6E9F6F9F709F719F729F73BDB99F749F759F769F779F789F799F7A9F7BECCCD1E6ECCD9F7C9F7D9F7E9F80C8BB9F819F829F839F849F859F869F879F889F899F8A9F8B9F8C9F8D9F8EECD19F8F9F909F919F92ECD39F93BBCD9F94BCE59F959F969F979F989F999F9A9F9B9F9C9F9D9F9E9F9F9FA09FA1ECCF9FA2C9B79FA39FA49FA59FA69FA7C3BA9FA8ECE3D5D5ECD09FA99FAA9FAB9FAC9FADD6F39FAE9FAF9FB0ECD2ECCE9FB19FB29FB39FB4ECD49FB5ECD59FB69FB7C9BF9FB89FB99FBA9FBB9FBC9FBDCFA89FBE9FBF9FC09FC19FC2D0DC9FC39FC49FC59FC6D1AC9FC79FC89FC99FCAC8DB9FCB9FCC9FCDECD6CEF59FCE9FCF9FD09FD19FD2CAECECDA9FD39FD49FD59FD69FD79FD89FD9ECD99FDA9FDB9FDCB0BE9FDD9FDE9FDF9FE09FE19FE2ECD79FE3ECD89FE49FE59FE6ECE49FE79FE89FE99FEA9FEB9FEC9FED9FEE9FEFC8BC9FF09FF19FF29FF39FF49FF59FF69FF79FF89FF9C1C79FFA9FFB9FFC9FFD9FFEECDCD1E0A040A041A042A043A044A045A046A047A048A049ECDBA04AA04BA04CA04DD4EFA04EECDDA04FA050A051A052A053A054DBC6A055A056A057A058A059A05AA05BA05CA05DA05EECDEA05FA060A061A062A063A064A065A066A067A068A069A06AB1ACA06BA06CA06DA06EA06FA070A071A072A073A074A075A076A077A078A079A07AA07BA07CA07DA07EA080A081ECDFA082A083A084A085A086A087A088A089A08AA08BECE0A08CD7A6A08DC5C0A08EA08FA090EBBCB0AEA091A092A093BEF4B8B8D2AFB0D6B5F9A094D8B3A095CBACA096E3DDA097A098A099A09AA09BA09CA09DC6ACB0E6A09EA09FA0A0C5C6EBB9A0A1A0A2A0A3A0A4EBBAA0A5A0A6A0A7EBBBA0A8A0A9D1C0A0AAC5A3A0ABEAF2A0ACC4B2A0ADC4B5C0CEA0AEA0AFA0B0EAF3C4C1A0B1CEEFA0B2A0B3A0B4A0B5EAF0EAF4A0B6A0B7C9FCA0B8A0B9C7A3A0BAA0BBA0BCCCD8CEFEA0BDA0BEA0BFEAF5EAF6CFACC0E7A0C0A0C1EAF7A0C2A0C3A0C4A0C5A0C6B6BFEAF8A0C7EAF9A0C8EAFAA0C9A0CAEAFBA0CBA0CCA0CDA0CEA0CFA0D0A0D1A0D2A0D3A0D4A0D5A0D6EAF1A0D7A0D8A0D9A0DAA0DBA0DCA0DDA0DEA0DFA0E0A0E1A0E2C8AEE1EBA0E3B7B8E1ECA0E4A0E5A0E6E1EDA0E7D7B4E1EEE1EFD3CCA0E8A0E9A0EAA0EBA0ECA0EDA0EEE1F1BFF1E1F0B5D2A0EFA0F0A0F1B1B7A0F2A0F3A0F4A0F5E1F3E1F2A0F6BAFCA0F7E1F4A0F8A0F9A0FAA0FBB9B7A0FCBED1A0FDA0FEAA40AA41C4FCAA42BADDBDC6AA43AA44AA45AA46AA47AA48E1F5E1F7AA49AA4AB6C0CFC1CAA8E1F6D5F8D3FCE1F8E1FCE1F9AA4BAA4CE1FAC0EAAA4DE1FEE2A1C0C7AA4EAA4FAA50AA51E1FBAA52E1FDAA53AA54AA55AA56AA57AA58E2A5AA59AA5AAA5BC1D4AA5CAA5DAA5EAA5FE2A3AA60E2A8B2FEE2A2AA61AA62AA63C3CDB2C2E2A7E2A6AA64AA65E2A4E2A9AA66AA67E2ABAA68AA69AA6AD0C9D6EDC3A8E2ACAA6BCFD7AA6CAA6DE2AEAA6EAA6FBAEFAA70AA71E9E0E2ADE2AAAA72AA73AA74AA75BBABD4B3AA76AA77AA78AA79AA7AAA7BAA7CAA7DAA7EAA80AA81AA82AA83E2B0AA84AA85E2AFAA86E9E1AA87AA88AA89AA8AE2B1AA8BAA8CAA8DAA8EAA8FAA90AA91AA92E2B2AA93AA94AA95AA96AA97AA98AA99AA9AAA9BAA9CAA9DE2B3CCA1AA9EE2B4AA9FAAA0AB40AB41AB42AB43AB44AB45AB46AB47AB48AB49AB4AAB4BE2B5AB4CAB4DAB4EAB4FAB50D0FEAB51AB52C2CAAB53D3F1AB54CDF5AB55AB56E7E0AB57AB58E7E1AB59AB5AAB5BAB5CBEC1AB5DAB5EAB5FAB60C2EAAB61AB62AB63E7E4AB64AB65E7E3AB66AB67AB68AB69AB6AAB6BCDE6AB6CC3B5AB6DAB6EE7E2BBB7CFD6AB6FC1E1E7E9AB70AB71AB72E7E8AB73AB74E7F4B2A3AB75AB76AB77AB78E7EAAB79E7E6AB7AAB7BAB7CAB7DAB7EE7ECE7EBC9BAAB80AB81D5E4AB82E7E5B7A9E7E7AB83AB84AB85AB86AB87AB88AB89E7EEAB8AAB8BAB8CAB8DE7F3AB8ED6E9AB8FAB90AB91AB92E7EDAB93E7F2AB94E7F1AB95AB96AB97B0E0AB98AB99AB9AAB9BE7F5AB9CAB9DAB9EAB9FABA0AC40AC41AC42AC43AC44AC45AC46AC47AC48AC49AC4AC7F2AC4BC0C5C0EDAC4CAC4DC1F0E7F0AC4EAC4FAC50AC51E7F6CBF6AC52AC53AC54AC55AC56AC57AC58AC59AC5AE8A2E8A1AC5BAC5CAC5DAC5EAC5FAC60D7C1AC61AC62E7FAE7F9AC63E7FBAC64E7F7AC65E7FEAC66E7FDAC67E7FCAC68AC69C1D5C7D9C5FDC5C3AC6AAC6BAC6CAC6DAC6EC7EDAC6FAC70AC71AC72E8A3AC73AC74AC75AC76AC77AC78AC79AC7AAC7BAC7CAC7DAC7EAC80AC81AC82AC83AC84AC85AC86E8A6AC87E8A5AC88E8A7BAF7E7F8E8A4AC89C8F0C9AAAC8AAC8BAC8CAC8DAC8EAC8FAC90AC91AC92AC93AC94AC95AC96E8A9AC97AC98B9E5AC99AC9AAC9BAC9CAC9DD1FEE8A8AC9EAC9FACA0AD40AD41AD42E8AAAD43E8ADE8AEAD44C1A7AD45AD46AD47E8AFAD48AD49AD4AE8B0AD4BAD4CE8ACAD4DE8B4AD4EAD4FAD50AD51AD52AD53AD54AD55AD56AD57AD58E8ABAD59E8B1AD5AAD5BAD5CAD5DAD5EAD5FAD60AD61E8B5E8B2E8B3AD62AD63AD64AD65AD66AD67AD68AD69AD6AAD6BAD6CAD6DAD6EAD6FAD70AD71E8B7AD72AD73AD74AD75AD76AD77AD78AD79AD7AAD7BAD7CAD7DAD7EAD80AD81AD82AD83AD84AD85AD86AD87AD88AD89E8B6AD8AAD8BAD8CAD8DAD8EAD8FAD90AD91AD92B9CFAD93F0ACAD94F0ADAD95C6B0B0EAC8BFAD96CDDFAD97AD98AD99AD9AAD9BAD9CAD9DCECDEAB1AD9EAD9FADA0AE40EAB2AE41C6BFB4C9AE42AE43AE44AE45AE46AE47AE48EAB3AE49AE4AAE4BAE4CD5E7AE4DAE4EAE4FAE50AE51AE52AE53AE54DDF9AE55EAB4AE56EAB5AE57EAB6AE58AE59AE5AAE5BB8CADFB0C9F5AE5CCCF0AE5DAE5EC9FAAE5FAE60AE61AE62AE63C9FBAE64AE65D3C3CBA6AE66B8A6F0AEB1C2AE67E5B8CCEFD3C9BCD7C9EAAE68B5E7AE69C4D0B5E9AE6AEEAEBBADAE6BAE6CE7DEAE6DEEAFAE6EAE6FAE70AE71B3A9AE72AE73EEB2AE74AE75EEB1BDE7AE76EEB0CEB7AE77AE78AE79AE7AC5CFAE7BAE7CAE7DAE7EC1F4DBCEEEB3D0F3AE80AE81AE82AE83AE84AE85AE86AE87C2D4C6E8AE88AE89AE8AB7ACAE8BAE8CAE8DAE8EAE8FAE90AE91EEB4AE92B3EBAE93AE94AE95BBFBEEB5AE96AE97AE98AE99AE9AE7DCAE9BAE9CAE9DEEB6AE9EAE9FBDAEAEA0AF40AF41AF42F1E2AF43AF44AF45CAE8AF46D2C9F0DAAF47F0DBAF48F0DCC1C6AF49B8EDBECEAF4AAF4BF0DEAF4CC5B1F0DDD1F1AF4DF0E0B0CCBDEAAF4EAF4FAF50AF51AF52D2DFF0DFAF53B4AFB7E8F0E6F0E5C6A3F0E1F0E2B4C3AF54AF55F0E3D5EEAF56AF57CCDBBED2BCB2AF58AF59AF5AF0E8F0E7F0E4B2A1AF5BD6A2D3B8BEB7C8ACAF5CAF5DF0EAAF5EAF5FAF60AF61D1F7AF62D6CCBADBF0E9AF63B6BBAF64AF65CDB4AF66AF67C6A6AF68AF69AF6AC1A1F0EBF0EEAF6BF0EDF0F0F0ECAF6CBBBEF0EFAF6DAF6EAF6FAF70CCB5F0F2AF71AF72B3D5AF73AF74AF75AF76B1D4AF77AF78F0F3AF79AF7AF0F4F0F6B4E1AF7BF0F1AF7CF0F7AF7DAF7EAF80AF81F0FAAF82F0F8AF83AF84AF85F0F5AF86AF87AF88AF89F0FDAF8AF0F9F0FCF0FEAF8BF1A1AF8CAF8DAF8ECEC1F1A4AF8FF1A3AF90C1F6F0FBCADDAF91AF92B4F1B1F1CCB1AF93F1A6AF94AF95F1A7AF96AF97F1ACD5CEF1A9AF98AF99C8B3AF9AAF9BAF9CF1A2AF9DF1ABF1A8F1A5AF9EAF9FF1AAAFA0B040B041B042B043B044B045B046B0A9F1ADB047B048B049B04AB04BB04CF1AFB04DF1B1B04EB04FB050B051B052F1B0B053F1AEB054B055B056B057D1A2B058B059B05AB05BB05CB05DB05EF1B2B05FB060B061F1B3B062B063B064B065B066B067B068B069B9EFB06AB06BB5C7B06CB0D7B0D9B06DB06EB06FD4EDB070B5C4B071BDD4BBCAF0A7B072B073B8DEB074B075F0A8B076B077B0A8B078F0A9B079B07ACDEEB07BB07CF0AAB07DB07EB080B081B082B083B084B085B086B087F0ABB088B089B08AB08BB08CB08DB08EB08FB090C6A4B091B092D6E5F1E4B093F1E5B094B095B096B097B098B099B09AB09BB09CB09DC3F3B09EB09FD3DBB0A0B140D6D1C5E8B141D3AFB142D2E6B143B144EEC1B0BBD5B5D1CEBCE0BAD0B145BFF8B146B8C7B5C1C5CCB147B148CAA2B149B14AB14BC3CBB14CB14DB14EB14FB150EEC2B151B152B153B154B155B156B157B158C4BFB6A2B159EDECC3A4B15AD6B1B15BB15CB15DCFE0EDEFB15EB15FC5CEB160B6DCB161B162CAA1B163B164EDEDB165B166EDF0EDF1C3BCB167BFB4B168EDEEB169B16AB16BB16CB16DB16EB16FB170B171B172B173EDF4EDF2B174B175B176B177D5E6C3DFB178EDF3B179B17AB17BEDF6B17CD5A3D1A3B17DB17EB180EDF5B181C3D0B182B183B184B185B186EDF7BFF4BEECEDF8B187CCF7B188D1DBB189B18AB18BD7C5D5F6B18CEDFCB18DB18EB18FEDFBB190B191B192B193B194B195B196B197EDF9EDFAB198B199B19AB19BB19CB19DB19EB19FEDFDBEA6B1A0B240B241B242B243CBAFEEA1B6BDB244EEA2C4C0B245EDFEB246B247BDDEB2C7B248B249B24AB24BB24CB24DB24EB24FB250B251B252B253B6C3B254B255B256EEA5D8BAEEA3EEA6B257B258B259C3E9B3F2B25AB25BB25CB25DB25EB25FEEA7EEA4CFB9B260B261EEA8C2F7B262B263B264B265B266B267B268B269B26AB26BB26CB26DEEA9EEAAB26EDEABB26FB270C6B3B271C7C6B272D6F5B5C9B273CBB2B274B275B276EEABB277B278CDABB279EEACB27AB27BB27CB27DB27ED5B0B280EEADB281F6C4B282B283B284B285B286B287B288B289B28AB28BB28CB28DB28EDBC7B28FB290B291B292B293B294B295B296B297B4A3B298B299B29AC3ACF1E6B29BB29CB29DB29EB29FCAB8D2D3B2A0D6AAB340EFF2B341BED8B342BDC3EFF3B6CCB0ABB343B344B345B346CAAFB347B348EDB6B349EDB7B34AB34BB34CB34DCEF9B7AFBFF3EDB8C2EBC9B0B34EB34FB350B351B352B353EDB9B354B355C6F6BFB3B356B357B358EDBCC5F8B359D1D0B35AD7A9EDBAEDBBB35BD1E2B35CEDBFEDC0B35DEDC4B35EB35FB360EDC8B361EDC6EDCED5E8B362EDC9B363B364EDC7EDBEB365B366C5E9B367B368B369C6C6B36AB36BC9E9D4D2EDC1EDC2EDC3EDC5B36CC0F9B36DB4A1B36EB36FB370B371B9E8B372EDD0B373B374B375B376EDD1B377EDCAB378EDCFB379CEF8B37AB37BCBB6EDCCEDCDB37CB37DB37EB380B381CFF5B382B383B384B385B386B387B388B389B38AB38BB38CB38DEDD2C1F2D3B2EDCBC8B7B38EB38FB390B391B392B393B394B395BCEFB396B397B398B399C5F0B39AB39BB39CB39DB39EB39FB3A0B440B441B442EDD6B443B5EFB444B445C2B5B0ADCBE9B446B447B1AEB448EDD4B449B44AB44BCDEBB5E2B44CEDD5EDD3EDD7B44DB44EB5FAB44FEDD8B450EDD9B451EDDCB452B1CCB453B454B455B456B457B458B459B45AC5F6BCEEEDDACCBCB2EAB45BB45CB45DB45EEDDBB45FB460B461B462C4EBB463B464B4C5B465B466B467B0F5B468B469B46AEDDFC0DAB4E8B46BB46CB46DB46EC5CDB46FB470B471EDDDBFC4B472B473B474EDDEB475B476B477B478B479B47AB47BB47CB47DB47EB480B481B482B483C4A5B484B485B486EDE0B487B488B489B48AB48BEDE1B48CEDE3B48DB48EC1D7B48FB490BBC7B491B492B493B494B495B496BDB8B497B498B499EDE2B49AB49BB49CB49DB49EB49FB4A0B540B541B542B543B544B545EDE4B546B547B548B549B54AB54BB54CB54DB54EB54FEDE6B550B551B552B553B554EDE5B555B556B557B558B559B55AB55BB55CB55DB55EB55FB560B561B562B563EDE7B564B565B566B567B568CABEECEAC0F1B569C9E7B56AECEBC6EEB56BB56CB56DB56EECECB56FC6EDECEDB570B571B572B573B574B575B576B577B578ECF0B579B57AD7E6ECF3B57BB57CECF1ECEEECEFD7A3C9F1CBEEECF4B57DECF2B57EB580CFE9B581ECF6C6B1B582B583B584B585BCC0B586ECF5B587B588B589B58AB58BB58CB58DB5BBBBF6B58EECF7B58FB590B591B592B593D9F7BDFBB594B595C2BBECF8B596B597B598B599ECF9B59AB59BB59CB59DB8A3B59EB59FB5A0B640B641B642B643B644B645B646ECFAB647B648B649B64AB64BB64CB64DB64EB64FB650B651B652ECFBB653B654B655B656B657B658B659B65AB65BB65CB65DECFCB65EB65FB660B661B662D3EDD8AEC0EBB663C7DDBACCB664D0E3CBBDB665CDBAB666B667B8D1B668B669B1FCB66AC7EFB66BD6D6B66CB66DB66EBFC6C3EBB66FB670EFF5B671B672C3D8B673B674B675B676B677B678D7E2B679B67AB67BEFF7B3D3B67CC7D8D1EDB67DD6C8B67EEFF8B680EFF6B681BBFDB3C6B682B683B684B685B686B687B688BDD5B689B68AD2C6B68BBBE0B68CB68DCFA1B68EEFFCEFFBB68FB690EFF9B691B692B693B694B3CCB695C9D4CBB0B696B697B698B699B69AEFFEB69BB69CB0DEB69DB69ED6C9B69FB6A0B740EFFDB741B3EDB742B743F6D5B744B745B746B747B748B749B74AB74BB74CB74DB74EB74FB750B751B752CEC8B753B754B755F0A2B756F0A1B757B5BEBCDABBFCB758B8E5B759B75AB75BB75CB75DB75EC4C2B75FB760B761B762B763B764B765B766B767B768F0A3B769B76AB76BB76CB76DCBEBB76EB76FB770B771B772B773B774B775B776B777B778B779B77AB77BB77CB77DB77EB780B781B782B783B784B785B786F0A6B787B788B789D1A8B78ABEBFC7EEF1B6F1B7BFD5B78BB78CB78DB78EB4A9F1B8CDBBB78FC7D4D5ADB790F1B9B791F1BAB792B793B794B795C7CFB796B797B798D2A4D6CFB799B79AF1BBBDD1B4B0BEBDB79BB79CB79DB4DCCED1B79EBFDFF1BDB79FB7A0B840B841BFFAF1BCB842F1BFB843B844B845F1BEF1C0B846B847B848B849B84AF1C1B84BB84CB84DB84EB84FB850B851B852B853B854B855C1FEB856B857B858B859B85AB85BB85CB85DB85EB85FB860C1A2B861B862B863B864B865B866B867B868B869B86ACAFAB86BB86CD5BEB86DB86EB86FB870BEBABEB9D5C2B871B872BFA2B873CDAFF1B5B874B875B876B877B878B879BDDFB87AB6CBB87BB87CB87DB87EB880B881B882B883B884D6F1F3C3B885B886F3C4B887B8CDB888B889B88AF3C6F3C7B88BB0CAB88CF3C5B88DF3C9CBF1B88EB88FB890F3CBB891D0A6B892B893B1CAF3C8B894B895B896F3CFB897B5D1B898B899F3D7B89AF3D2B89BB89CB89DF3D4F3D3B7FBB89EB1BFB89FF3CEF3CAB5DAB8A0F3D0B940B941F3D1B942F3D5B943B944B945B946F3CDB947BCE3B948C1FDB949F3D6B94AB94BB94CB94DB94EB94FF3DAB950F3CCB951B5C8B952BDEEF3DCB953B954B7A4BFF0D6FECDB2B955B4F0B956B2DFB957F3D8B958F3D9C9B8B959F3DDB95AB95BF3DEB95CF3E1B95DB95EB95FB960B961B962B963B964B965B966B967F3DFB968B969F3E3F3E2B96AB96BF3DBB96CBFEAB96DB3EFB96EF3E0B96FB970C7A9B971BCF2B972B973B974B975F3EBB976B977B978B979B97AB97BB97CB9BFB97DB97EF3E4B980B981B982B2ADBBFEB983CBE3B984B985B986B987F3EDF3E9B988B989B98AB9DCF3EEB98BB98CB98DF3E5F3E6F3EAC2E1F3ECF3EFF3E8BCFDB98EB98FB990CFE4B991B992F3F0B993B994B995F3E7B996B997B998B999B99AB99BB99CB99DF3F2B99EB99FB9A0BA40D7ADC6AABA41BA42BA43BA44F3F3BA45BA46BA47BA48F3F1BA49C2A8BA4ABA4BBA4CBA4DBA4EB8DDF3F5BA4FBA50F3F4BA51BA52BA53B4DBBA54BA55BA56F3F6F3F7BA57BA58BA59F3F8BA5ABA5BBA5CC0BABA5DBA5EC0E9BA5FBA60BA61BA62BA63C5F1BA64BA65BA66BA67F3FBBA68F3FABA69BA6ABA6BBA6CBA6DBA6EBA6FBA70B4D8BA71BA72BA73F3FEF3F9BA74BA75F3FCBA76BA77BA78BA79BA7ABA7BF3FDBA7CBA7DBA7EBA80BA81BA82BA83BA84F4A1BA85BA86BA87BA88BA89BA8AF4A3BBC9BA8BBA8CF4A2BA8DBA8EBA8FBA90BA91BA92BA93BA94BA95BA96BA97BA98BA99F4A4BA9ABA9BBA9CBA9DBA9EBA9FB2BEF4A6F4A5BAA0BB40BB41BB42BB43BB44BB45BB46BB47BB48BB49BCAEBB4ABB4BBB4CBB4DBB4EBB4FBB50BB51BB52BB53BB54BB55BB56BB57BB58BB59BB5ABB5BBB5CBB5DBB5EBB5FBB60BB61BB62BB63BB64BB65BB66BB67BB68BB69BB6ABB6BBB6CBB6DBB6EC3D7D9E1BB6FBB70BB71BB72BB73BB74C0E0F4CCD7D1BB75BB76BB77BB78BB79BB7ABB7BBB7CBB7DBB7EBB80B7DBBB81BB82BB83BB84BB85BB86BB87F4CEC1A3BB88BB89C6C9BB8AB4D6D5B3BB8BBB8CBB8DF4D0F4CFF4D1CBDABB8EBB8FF4D2BB90D4C1D6E0BB91BB92BB93BB94B7E0BB95BB96BB97C1B8BB98BB99C1BBF4D3BEACBB9ABB9BBB9CBB9DBB9EB4E2BB9FBBA0F4D4F4D5BEABBC40BC41F4D6BC42BC43BC44F4DBBC45F4D7F4DABC46BAFDBC47F4D8F4D9BC48BC49BC4ABC4BBC4CBC4DBC4EB8E2CCC7F4DCBC4FB2DABC50BC51C3D3BC52BC53D4E3BFB7BC54BC55BC56BC57BC58BC59BC5AF4DDBC5BBC5CBC5DBC5EBC5FBC60C5B4BC61BC62BC63BC64BC65BC66BC67BC68F4E9BC69BC6ACFB5BC6BBC6CBC6DBC6EBC6FBC70BC71BC72BC73BC74BC75BC76BC77BC78CEC9BC79BC7ABC7BBC7CBC7DBC7EBC80BC81BC82BC83BC84BC85BC86BC87BC88BC89BC8ABC8BBC8CBC8DBC8ECBD8BC8FCBF7BC90BC91BC92BC93BDF4BC94BC95BC96D7CFBC97BC98BC99C0DBBC9ABC9BBC9CBC9DBC9EBC9FBCA0BD40BD41BD42BD43BD44BD45BD46BD47BD48BD49BD4ABD4BBD4CBD4DBD4EBD4FBD50BD51BD52BD53BD54BD55BD56BD57BD58BD59BD5ABD5BBD5CBD5DBD5EBD5FBD60BD61BD62BD63BD64BD65BD66BD67BD68BD69BD6ABD6BBD6CBD6DBD6EBD6FBD70BD71BD72BD73BD74BD75BD76D0F5BD77BD78BD79BD7ABD7BBD7CBD7DBD7EF4EABD80BD81BD82BD83BD84BD85BD86BD87BD88BD89BD8ABD8BBD8CBD8DBD8EBD8FBD90BD91BD92BD93BD94BD95BD96BD97BD98BD99BD9ABD9BBD9CBD9DBD9EBD9FBDA0BE40BE41BE42BE43BE44BE45BE46BE47BE48BE49BE4ABE4BBE4CF4EBBE4DBE4EBE4FBE50BE51BE52BE53F4ECBE54BE55BE56BE57BE58BE59BE5ABE5BBE5CBE5DBE5EBE5FBE60BE61BE62BE63BE64BE65BE66BE67BE68BE69BE6ABE6BBE6CBE6DBE6EBE6FBE70BE71BE72BE73BE74BE75BE76BE77BE78BE79BE7ABE7BBE7CBE7DBE7EBE80BE81BE82BE83BE84BE85BE86BE87BE88BE89BE8ABE8BBE8CBE8DBE8EBE8FBE90BE91BE92BE93BE94BE95BE96BE97BE98BE99BE9ABE9BBE9CBE9DBE9EBE9FBEA0BF40BF41BF42BF43BF44BF45BF46BF47BF48BF49BF4ABF4BBF4CBF4DBF4EBF4FBF50BF51BF52BF53BF54BF55BF56BF57BF58BF59BF5ABF5BBF5CBF5DBF5EBF5FBF60BF61BF62BF63BF64BF65BF66BF67BF68BF69BF6ABF6BBF6CBF6DBF6EBF6FBF70BF71BF72BF73BF74BF75BF76BF77BF78BF79BF7ABF7BBF7CBF7DBF7EBF80F7E3BF81BF82BF83BF84BF85B7B1BF86BF87BF88BF89BF8AF4EDBF8BBF8CBF8DBF8EBF8FBF90BF91BF92BF93BF94BF95BF96BF97BF98BF99BF9ABF9BBF9CBF9DBF9EBF9FBFA0C040C041C042C043C044C045C046C047C048C049C04AC04BC04CC04DC04EC04FC050C051C052C053C054C055C056C057C058C059C05AC05BC05CC05DC05EC05FC060C061C062C063D7EBC064C065C066C067C068C069C06AC06BC06CC06DC06EC06FC070C071C072C073C074C075C076C077C078C079C07AC07BF4EEC07CC07DC07EE6F9BEC0E6FABAECE6FBCFCBE6FCD4BCBCB6E6FDE6FEBCCDC8D2CEB3E7A1C080B4BFE7A2C9B4B8D9C4C9C081D7DDC2DAB7D7D6BDCEC6B7C4C082C083C5A6E7A3CFDFE7A4E7A5E7A6C1B7D7E9C9F0CFB8D6AFD6D5E7A7B0EDE7A8E7A9C9DCD2EFBEADE7AAB0F3C8DEBDE1E7ABC8C6C084E7ACBBE6B8F8D1A4E7ADC2E7BEF8BDCACDB3E7AEE7AFBEEED0E5C085CBE7CCD0BCCCE7B0BCA8D0F7E7B1C086D0F8E7B2E7B3B4C2E7B4E7B5C9FECEACC3E0E7B7B1C1B3F1C087E7B8E7B9D7DBD5C0E7BAC2CCD7BAE7BBE7BCE7BDBCEAC3E5C0C2E7BEE7BFBCA9C088E7C0E7C1E7B6B6D0E7C2C089E7C3E7C4BBBAB5DEC2C6B1E0E7C5D4B5E7C6B8BFE7C8E7C7B7ECC08AE7C9B2F8E7CAE7CBE7CCE7CDE7CEE7CFE7D0D3A7CBF5E7D1E7D2E7D3E7D4C9C9E7D5E7D6E7D7E7D8E7D9BDC9E7DAF3BEC08BB8D7C08CC8B1C08DC08EC08FC090C091C092C093F3BFC094F3C0F3C1C095C096C097C098C099C09AC09BC09CC09DC09EB9DECDF8C09FC0A0D8E8BAB1C140C2DEEEB7C141B7A3C142C143C144C145EEB9C146EEB8B0D5C147C148C149C14AC14BEEBBD5D6D7EFC14CC14DC14ED6C3C14FC150EEBDCAF0C151EEBCC152C153C154C155EEBEC156C157C158C159EEC0C15AC15BEEBFC15CC15DC15EC15FC160C161C162C163D1F2C164C7BCC165C3C0C166C167C168C169C16AB8E1C16BC16CC16DC16EC16FC1E7C170C171F4C6D0DFF4C7C172CFDBC173C174C8BAC175C176F4C8C177C178C179C17AC17BC17CC17DF4C9F4CAC17EF4CBC180C181C182C183C184D9FAB8FEC185C186E5F1D3F0C187F4E0C188CECCC189C18AC18BB3E1C18CC18DC18EC18FF1B4C190D2EEC191F4E1C192C193C194C195C196CFE8F4E2C197C198C7CCC199C19AC19BC19CC19DC19EB5D4B4E4F4E4C19FC1A0C240F4E3F4E5C241C242F4E6C243C244C245C246F4E7C247BAB2B0BFC248F4E8C249C24AC24BC24CC24DC24EC24FB7ADD2EDC250C251C252D2ABC0CFC253BFBCEBA3D5DFEAC8C254C255C256C257F1F3B6F8CBA3C258C259C4CDC25AF1E7C25BF1E8B8FBF1E9BAC4D4C5B0D2C25CC25DF1EAC25EC25FC260F1EBC261F1ECC262C263F1EDF1EEF1EFF1F1F1F0C5D5C264C265C266C267C268C269F1F2C26AB6FAC26BF1F4D2AEDEC7CBCAC26CC26DB3DCC26EB5A2C26FB9A2C270C271C4F4F1F5C272C273F1F6C274C275C276C1C4C1FBD6B0F1F7C277C278C279C27AF1F8C27BC1AAC27CC27DC27EC6B8C280BEDBC281C282C283C284C285C286C287C288C289C28AC28BC28CC28DC28EF1F9B4CFC28FC290C291C292C293C294F1FAC295C296C297C298C299C29AC29BC29CC29DC29EC29FC2A0C340EDB2EDB1C341C342CBE0D2DEC343CBC1D5D8C344C8E2C345C0DFBCA1C346C347C348C349C34AC34BEBC1C34CC34DD0A4C34ED6E2C34FB6C7B8D8EBC0B8CEC350EBBFB3A6B9C9D6ABC351B7F4B7CAC352C353C354BCE7B7BEEBC6C355EBC7B0B9BFCFC356EBC5D3FDC357EBC8C358C359EBC9C35AC35BB7CEC35CEBC2EBC4C9F6D6D7D5CDD0B2EBCFCEB8EBD0C35DB5A8C35EC35FC360C361C362B1B3EBD2CCA5C363C364C365C366C367C368C369C5D6EBD3C36AEBD1C5DFEBCECAA4EBD5B0FBC36BC36CBAFAC36DC36ED8B7F1E3C36FEBCAEBCBEBCCEBCDEBD6E6C0EBD9C370BFE8D2C8EBD7EBDCB8ECEBD8C371BDBAC372D0D8C373B0B7C374EBDDC4DCC375C376C377C378D6ACC379C37AC37BB4E0C37CC37DC2F6BCB9C37EC380EBDAEBDBD4E0C6EAC4D4EBDFC5A7D9F5C381B2B1C382EBE4C383BDC5C384C385C386EBE2C387C388C389C38AC38BC38CC38DC38EC38FC390C391C392C393EBE3C394C395B8ACC396CDD1EBE5C397C398C399EBE1C39AC1B3C39BC39CC39DC39EC39FC6A2C3A0C440C441C442C443C444C445CCF3C446EBE6C447C0B0D2B8EBE7C448C449C44AB8AFB8ADC44BEBE8C7BBCDF3C44CC44DC44EEBEAEBEBC44FC450C451C452C453EBEDC454C455C456C457D0C8C458EBF2C459EBEEC45AC45BC45CEBF1C8F9C45DD1FCEBECC45EC45FEBE9C460C461C462C463B8B9CFD9C4E5EBEFEBF0CCDACDC8B0F2C464EBF6C465C466C467C468C469EBF5C46AB2B2C46BC46CC46DC46EB8E0C46FEBF7C470C471C472C473C474C475B1ECC476C477CCC5C4A4CFA5C478C479C47AC47BC47CEBF9C47DC47EECA2C480C5F2C481EBFAC482C483C484C485C486C487C488C489C9C5C48AC48BC48CC48DC48EC48FE2DFEBFEC490C491C492C493CDCEECA1B1DBD3B7C494C495D2DCC496C497C498EBFDC499EBFBC49AC49BC49CC49DC49EC49FC4A0C540C541C542C543C544C545C546C547C548C549C54AC54BC54CC54DC54EB3BCC54FC550C551EAB0C552C553D7D4C554F4ABB3F4C555C556C557C558C559D6C1D6C2C55AC55BC55CC55DC55EC55FD5E9BECAC560F4A7C561D2A8F4A8F4A9C562F4AABECBD3DFC563C564C565C566C567C9E0C9E1C568C569F3C2C56ACAE6C56BCCF2C56CC56DC56EC56FC570C571E2B6CBB4C572CEE8D6DBC573F4ADF4AEF4AFC574C575C576C577F4B2C578BABDF4B3B0E3F4B0C579F4B1BDA2B2D5C57AF4B6F4B7B6E6B2B0CFCFF4B4B4ACC57BF4B5C57CC57DF4B8C57EC580C581C582C583F4B9C584C585CDA7C586F4BAC587F4BBC588C589C58AF4BCC58BC58CC58DC58EC58FC590C591C592CBD2C593F4BDC594C595C596C597F4BEC598C599C59AC59BC59CC59DC59EC59FF4BFC5A0C640C641C642C643F4DEC1BCBCE8C644C9ABD1DEE5F5C645C646C647C648DCB3D2D5C649C64ADCB4B0ACDCB5C64BC64CBDDAC64DDCB9C64EC64FC650D8C2C651DCB7D3F3C652C9D6DCBADCB6C653DCBBC3A2C654C655C656C657DCBCDCC5DCBDC658C659CEDFD6A5C65ADCCFC65BDCCDC65CC65DDCD2BDE6C2ABC65EDCB8DCCBDCCEDCBEB7D2B0C5DCC7D0BEDCC1BBA8C65FB7BCDCCCC660C661DCC6DCBFC7DBC662C663C664D1BFDCC0C665C666DCCAC667C668DCD0C669C66ACEADDCC2C66BDCC3DCC8DCC9B2D4DCD1CBD5C66CD4B7DCDBDCDFCCA6DCE6C66DC3E7DCDCC66EC66FBFC1DCD9C670B0FAB9B6DCE5DCD3C671DCC4DCD6C8F4BFE0C672C673C674C675C9BBC676C677C678B1BDC679D3A2C67AC67BDCDAC67CC67DDCD5C67EC6BBC680DCDEC681C682C683C684C685D7C2C3AFB7B6C7D1C3A9DCE2DCD8DCEBDCD4C686C687DCDDC688BEA5DCD7C689DCE0C68AC68BDCE3DCE4C68CDCF8C68DC68EDCE1DDA2DCE7C68FC690C691C692C693C694C695C696C697C698BCEBB4C4C699C69AC3A3B2E7DCFAC69BDCF2C69CDCEFC69DDCFCDCEED2F0B2E8C69EC8D7C8E3DCFBC69FDCEDC6A0C740C741DCF7C742C743DCF5C744C745BEA3DCF4C746B2DDC747C748C749C74AC74BDCF3BCF6DCE8BBC4C74CC0F3C74DC74EC74FC750C751BCD4DCE9DCEAC752DCF1DCF6DCF9B5B4C753C8D9BBE7DCFEDCFDD3ABDDA1DDA3DDA5D2F1DDA4DDA6DDA7D2A9C754C755C756C757C758C759C75ABAC9DDA9C75BC75CDDB6DDB1DDB4C75DC75EC75FC760C761C762C763DDB0C6CEC764C765C0F2C766C767C768C769C9AFC76AC76BC76CDCECDDAEC76DC76EC76FC770DDB7C771C772DCF0DDAFC773DDB8C774DDACC775C776C777C778C779C77AC77BDDB9DDB3DDADC4AAC77CC77DC77EC780DDA8C0B3C1ABDDAADDABC781DDB2BBF1DDB5D3A8DDBAC782DDBBC3A7C783C784DDD2DDBCC785C786C787DDD1C788B9BDC789C78ABED5C78BBEFAC78CC78DBACAC78EC78FC790C791DDCAC792DDC5C793DDBFC794C795C796B2CBDDC3C797DDCBB2A4DDD5C798C799C79ADDBEC79BC79CC79DC6D0DDD0C79EC79FC7A0C840C841DDD4C1E2B7C6C842C843C844C845C846DDCEDDCFC847C848C849DDC4C84AC84BC84CDDBDC84DDDCDCCD1C84EDDC9C84FC850C851C852DDC2C3C8C6BCCEAEDDCCC853DDC8C854C855C856C857C858C859DDC1C85AC85BC85CDDC6C2DCC85DC85EC85FC860C861C862D3A9D3AADDD3CFF4C8F8C863C864C865C866C867C868C869C86ADDE6C86BC86CC86DC86EC86FC870DDC7C871C872C873DDE0C2E4C874C875C876C877C878C879C87AC87BDDE1C87CC87DC87EC880C881C882C883C884C885C886DDD7C887C888C889C88AC88BD6F8C88CDDD9DDD8B8F0DDD6C88DC88EC88FC890C6CFC891B6ADC892C893C894C895C896DDE2C897BAF9D4E1DDE7C898C899C89AB4D0C89BDDDAC89CBFFBDDE3C89DDDDFC89EDDDDC89FC8A0C940C941C942C943C944B5D9C945C946C947C948DDDBDDDCDDDEC949BDAFDDE4C94ADDE5C94BC94CC94DC94EC94FC950C951C952DDF5C953C3C9C954C955CBE2C956C957C958C959DDF2C95AC95BC95CC95DC95EC95FC960C961C962C963C964C965C966D8E1C967C968C6D1C969DDF4C96AC96BC96CD5F4DDF3DDF0C96DC96EDDECC96FDDEFC970DDE8C971C972D0EEC973C974C975C976C8D8DDEEC977C978DDE9C979C97ADDEACBF2C97BDDEDC97CC97DB1CDC97EC980C981C982C983C984C0B6C985BCBBDDF1C986C987DDF7C988DDF6DDEBC989C98AC98BC98CC98DC5EEC98EC98FC990DDFBC991C992C993C994C995C996C997C998C999C99AC99BDEA4C99CC99DDEA3C99EC99FC9A0CA40CA41CA42CA43CA44CA45CA46CA47CA48DDF8CA49CA4ACA4BCA4CC3EFCA4DC2FBCA4ECA4FCA50D5E1CA51CA52CEB5CA53CA54CA55CA56DDFDCA57B2CCCA58CA59CA5ACA5BCA5CCA5DCA5ECA5FCA60C4E8CADFCA61CA62CA63CA64CA65CA66CA67CA68CA69CA6AC7BEDDFADDFCDDFEDEA2B0AAB1CECA6BCA6CCA6DCA6ECA6FDEACCA70CA71CA72CA73DEA6BDB6C8EFCA74CA75CA76CA77CA78CA79CA7ACA7BCA7CCA7DCA7EDEA1CA80CA81DEA5CA82CA83CA84CA85DEA9CA86CA87CA88CA89CA8ADEA8CA8BCA8CCA8DDEA7CA8ECA8FCA90CA91CA92CA93CA94CA95CA96DEADCA97D4CCCA98CA99CA9ACA9BDEB3DEAADEAECA9CCA9DC0D9CA9ECA9FCAA0CB40CB41B1A1DEB6CB42DEB1CB43CB44CB45CB46CB47CB48CB49DEB2CB4ACB4BCB4CCB4DCB4ECB4FCB50CB51CB52CB53CB54D1A6DEB5CB55CB56CB57CB58CB59CB5ACB5BDEAFCB5CCB5DCB5EDEB0CB5FD0BDCB60CB61CB62DEB4CAEDDEB9CB63CB64CB65CB66CB67CB68DEB8CB69DEB7CB6ACB6BCB6CCB6DCB6ECB6FCB70DEBBCB71CB72CB73CB74CB75CB76CB77BDE5CB78CB79CB7ACB7BCB7CB2D8C3EACB7DCB7EDEBACB80C5BACB81CB82CB83CB84CB85CB86DEBCCB87CB88CB89CB8ACB8BCB8CCB8DCCD9CB8ECB8FCB90CB91B7AACB92CB93CB94CB95CB96CB97CB98CB99CB9ACB9BCB9CCB9DCB9ECB9FCBA0CC40CC41D4E5CC42CC43CC44DEBDCC45CC46CC47CC48CC49DEBFCC4ACC4BCC4CCC4DCC4ECC4FCC50CC51CC52CC53CC54C4A2CC55CC56CC57CC58DEC1CC59CC5ACC5BCC5CCC5DCC5ECC5FCC60CC61CC62CC63CC64CC65CC66CC67CC68DEBECC69DEC0CC6ACC6BCC6CCC6DCC6ECC6FCC70CC71CC72CC73CC74CC75CC76CC77D5BACC78CC79CC7ADEC2CC7BCC7CCC7DCC7ECC80CC81CC82CC83CC84CC85CC86CC87CC88CC89CC8ACC8BF2AEBBA2C2B2C5B0C2C7CC8CCC8DF2AFCC8ECC8FCC90CC91CC92D0E9CC93CC94CC95D3DDCC96CC97CC98EBBDCC99CC9ACC9BCC9CCC9DCC9ECC9FCCA0B3E6F2B0CD40F2B1CD41CD42CAADCD43CD44CD45CD46CD47CD48CD49BAE7F2B3F2B5F2B4CBE4CFBAF2B2CAB4D2CFC2ECCD4ACD4BCD4CCD4DCD4ECD4FCD50CEC3F2B8B0F6F2B7CD51CD52CD53CD54CD55F2BECD56B2CFCD57CD58CD59CD5ACD5BCD5CD1C1F2BACD5DCD5ECD5FCD60CD61F2BCD4E9CD62CD63F2BBF2B6F2BFF2BDCD64F2B9CD65CD66F2C7F2C4F2C6CD67CD68F2CAF2C2F2C0CD69CD6ACD6BF2C5CD6CCD6DCD6ECD6FCD70D6FBCD71CD72CD73F2C1CD74C7F9C9DFCD75F2C8B9C6B5B0CD76CD77F2C3F2C9F2D0F2D6CD78CD79BBD7CD7ACD7BCD7CF2D5CDDCCD7DD6EBCD7ECD80F2D2F2D4CD81CD82CD83CD84B8F2CD85CD86CD87CD88F2CBCD89CD8ACD8BF2CEC2F9CD8CD5DDF2CCF2CDF2CFF2D3CD8DCD8ECD8FF2D9D3BCCD90CD91CD92CD93B6EACD94CAF1CD95B7E4F2D7CD96CD97CD98F2D8F2DAF2DDF2DBCD99CD9AF2DCCD9BCD9CCD9DCD9ED1D1F2D1CD9FCDC9CDA0CECFD6A9CE40F2E3CE41C3DBCE42F2E0CE43CE44C0AFF2ECF2DECE45F2E1CE46CE47CE48F2E8CE49CE4ACE4BCE4CF2E2CE4DCE4EF2E7CE4FCE50F2E6CE51CE52F2E9CE53CE54CE55F2DFCE56CE57F2E4F2EACE58CE59CE5ACE5BCE5CCE5DCE5ED3ACF2E5B2F5CE5FCE60F2F2CE61D0ABCE62CE63CE64CE65F2F5CE66CE67CE68BBC8CE69F2F9CE6ACE6BCE6CCE6DCE6ECE6FF2F0CE70CE71F2F6F2F8F2FACE72CE73CE74CE75CE76CE77CE78CE79F2F3CE7AF2F1CE7BCE7CCE7DBAFBCE7EB5FBCE80CE81CE82CE83F2EFF2F7F2EDF2EECE84CE85CE86F2EBF3A6CE87F3A3CE88CE89F3A2CE8ACE8BF2F4CE8CC8DACE8DCE8ECE8FCE90CE91F2FBCE92CE93CE94F3A5CE95CE96CE97CE98CE99CE9ACE9BC3F8CE9CCE9DCE9ECE9FCEA0CF40CF41CF42F2FDCF43CF44F3A7F3A9F3A4CF45F2FCCF46CF47CF48F3ABCF49F3AACF4ACF4BCF4CCF4DC2DDCF4ECF4FF3AECF50CF51F3B0CF52CF53CF54CF55CF56F3A1CF57CF58CF59F3B1F3ACCF5ACF5BCF5CCF5DCF5EF3AFF2FEF3ADCF5FCF60CF61CF62CF63CF64CF65F3B2CF66CF67CF68CF69F3B4CF6ACF6BCF6CCF6DF3A8CF6ECF6FCF70CF71F3B3CF72CF73CF74F3B5CF75CF76CF77CF78CF79CF7ACF7BCF7CCF7DCF7ED0B7CF80CF81CF82CF83F3B8CF84CF85CF86CF87D9F9CF88CF89CF8ACF8BCF8CCF8DF3B9CF8ECF8FCF90CF91CF92CF93CF94CF95F3B7CF96C8E4F3B6CF97CF98CF99CF9AF3BACF9BCF9CCF9DCF9ECF9FF3BBB4C0CFA0D040D041D042D043D044D045D046D047D048D049D04AD04BD04CD04DEEC3D04ED04FD050D051D052D053F3BCD054D055F3BDD056D057D058D1AAD059D05AD05BF4ACD0C6D05CD05DD05ED05FD060D061D0D0D1DCD062D063D064D065D066D067CFCED068D069BDD6D06AD1C3D06BD06CD06DD06ED06FD070D071BAE2E1E9D2C2F1C2B2B9D072D073B1EDF1C3D074C9C0B3C4D075D9F2D076CBA5D077F1C4D078D079D07AD07BD6D4D07CD07DD07ED080D081F1C5F4C0F1C6D082D4ACF1C7D083B0C0F4C1D084D085F4C2D086D087B4FCD088C5DBD089D08AD08BD08CCCBBD08DD08ED08FD0E4D090D091D092D093D094CDE0D095D096D097D098D099F1C8D09AD9F3D09BD09CD09DD09ED09FD0A0B1BBD140CFAED141D142D143B8A4D144D145D146D147D148F1CAD149D14AD14BD14CF1CBD14DD14ED14FD150B2C3C1D1D151D152D7B0F1C9D153D154F1CCD155D156D157D158F1CED159D15AD15BD9F6D15CD2E1D4A3D15DD15EF4C3C8B9D15FD160D161D162D163F4C4D164D165F1CDF1CFBFE3F1D0D166D167F1D4D168D169D16AD16BD16CD16DD16EF1D6F1D1D16FC9D1C5E1D170D171D172C2E3B9FCD173D174F1D3D175F1D5D176D177D178B9D3D179D17AD17BD17CD17DD17ED180F1DBD181D182D183D184D185BAD6D186B0FDF1D9D187D188D189D18AD18BF1D8F1D2F1DAD18CD18DD18ED18FD190F1D7D191D192D193C8ECD194D195D196D197CDCAF1DDD198D199D19AD19BE5BDD19CD19DD19EF1DCD19FF1DED1A0D240D241D242D243D244D245D246D247D248F1DFD249D24ACFE5D24BD24CD24DD24ED24FD250D251D252D253D254D255D256D257D258D259D25AD25BD25CD25DD25ED25FD260D261D262D263F4C5BDF3D264D265D266D267D268D269F1E0D26AD26BD26CD26DD26ED26FD270D271D272D273D274D275D276D277D278D279D27AD27BD27CD27DF1E1D27ED280D281CEF7D282D2AAD283F1FBD284D285B8B2D286D287D288D289D28AD28BD28CD28DD28ED28FD290D291D292D293D294D295D296D297D298D299D29AD29BD29CD29DD29ED29FD2A0D340D341D342D343D344D345D346D347D348D349D34AD34BD34CD34DD34ED34FD350D351D352D353D354D355D356D357D358D359D35AD35BD35CD35DD35EBCFBB9DBD35FB9E6C3D9CAD3EAE8C0C0BEF5EAE9EAEAEAEBD360EAECEAEDEAEEEAEFBDC7D361D362D363F5FBD364D365D366F5FDD367F5FED368F5FCD369D36AD36BD36CBDE2D36DF6A1B4A5D36ED36FD370D371F6A2D372D373D374F6A3D375D376D377ECB2D378D379D37AD37BD37CD37DD37ED380D381D382D383D384D1D4D385D386D387D388D389D38AD9EAD38BD38CD38DD38ED38FD390D391D392D393D394D395D396D397D398D399D39AD39BD39CD39DD39ED39FD3A0D440D441D442D443D444D445D446D447D448D449D44AD44BD44CD44DD44ED44FD450D451D452D453D454D455D456D457D458D459D45AD45BD45CD45DD45ED45FF6A4D460D461D462D463D464D465D466D467D468EEBAD469D46AD46BD46CD46DD46ED46FD470D471D472D473D474D475D476D477D478D479D47AD47BD47CD47DD47ED480D481D482D483D484D485D486D487D488D489D48AD48BD48CD48DD48ED48FD490D491D492D493D494D495D496D497D498D499D5B2D49AD49BD49CD49DD49ED49FD4A0D540D541D542D543D544D545D546D547D3FECCDCD548D549D54AD54BD54CD54DD54ED54FCAC4D550D551D552D553D554D555D556D557D558D559D55AD55BD55CD55DD55ED55FD560D561D562D563D564D565D566D567D568D569D56AD56BD56CD56DD56ED56FD570D571D572D573D574D575D576D577D578D579D57AD57BD57CD57DD57ED580D581D582D583D584D585D586D587D588D589D58AD58BD58CD58DD58ED58FD590D591D592D593D594D595D596D597D598D599D59AD59BD59CD59DD59ED59FD5A0D640D641D642D643D644D645D646D647D648D649D64AD64BD64CD64DD64ED64FD650D651D652D653D654D655D656D657D658D659D65AD65BD65CD65DD65ED65FD660D661D662E5C0D663D664D665D666D667D668D669D66AD66BD66CD66DD66ED66FD670D671D672D673D674D675D676D677D678D679D67AD67BD67CD67DD67ED680D681F6A5D682D683D684D685D686D687D688D689D68AD68BD68CD68DD68ED68FD690D691D692D693D694D695D696D697D698D699D69AD69BD69CD69DD69ED69FD6A0D740D741D742D743D744D745D746D747D748D749D74AD74BD74CD74DD74ED74FD750D751D752D753D754D755D756D757D758D759D75AD75BD75CD75DD75ED75FBEAFD760D761D762D763D764C6A9D765D766D767D768D769D76AD76BD76CD76DD76ED76FD770D771D772D773D774D775D776D777D778D779D77AD77BD77CD77DD77ED780D781D782D783D784D785D786D787D788D789D78AD78BD78CD78DD78ED78FD790D791D792D793D794D795D796D797D798DAA5BCC6B6A9B8BCC8CFBCA5DAA6DAA7CCD6C8C3DAA8C6FDD799D1B5D2E9D1B6BCC7D79ABDB2BBE4DAA9DAAAD1C8DAABD0EDB6EFC2DBD79BCBCFB7EDC9E8B7C3BEF7D6A4DAACDAADC6C0D7E7CAB6D79CD5A9CBDFD5EFDAAED6DFB4CADAB0DAAFD79DD2EBDAB1DAB2DAB3CAD4DAB4CAABDAB5DAB6B3CFD6EFDAB7BBB0B5AEDAB8DAB9B9EED1AFD2E8DABAB8C3CFEAB2EFDABBDABCD79EBDEBCEDCD3EFDABDCEF3DABED3D5BBE5DABFCBB5CBD0DAC0C7EBD6EEDAC1C5B5B6C1DAC2B7CCBFCEDAC3DAC4CBADDAC5B5F7DAC6C1C2D7BBDAC7CCB8D79FD2EAC4B1DAC8B5FDBBD1DAC9D0B3DACADACBCEBDDACCDACDDACEB2F7DAD1DACFD1E8DAD0C3D5DAD2D7A0DAD3DAD4DAD5D0BBD2A5B0F9DAD6C7ABDAD7BDF7C3A1DAD8DAD9C3FDCCB7DADADADBC0BEC6D7DADCDADDC7B4DADEDADFB9C8D840D841D842D843D844D845D846D847D848BBEDD849D84AD84BD84CB6B9F4F8D84DF4F9D84ED84FCDE3D850D851D852D853D854D855D856D857F5B9D858D859D85AD85BEBE0D85CD85DD85ED85FD860D861CFF3BBBFD862D863D864D865D866D867D868BAC0D4A5D869D86AD86BD86CD86DD86ED86FE1D9D870D871D872D873F5F4B1AAB2F2D874D875D876D877D878D879D87AF5F5D87BD87CF5F7D87DD87ED880BAD1F5F6D881C3B2D882D883D884D885D886D887D888F5F9D889D88AD88BF5F8D88CD88DD88ED88FD890D891D892D893D894D895D896D897D898D899D89AD89BD89CD89DD89ED89FD8A0D940D941D942D943D944D945D946D947D948D949D94AD94BD94CD94DD94ED94FD950D951D952D953D954D955D956D957D958D959D95AD95BD95CD95DD95ED95FD960D961D962D963D964D965D966D967D968D969D96AD96BD96CD96DD96ED96FD970D971D972D973D974D975D976D977D978D979D97AD97BD97CD97DD97ED980D981D982D983D984D985D986D987D988D989D98AD98BD98CD98DD98ED98FD990D991D992D993D994D995D996D997D998D999D99AD99BD99CD99DD99ED99FD9A0DA40DA41DA42DA43DA44DA45DA46DA47DA48DA49DA4ADA4BDA4CDA4DDA4EB1B4D5EAB8BADA4FB9B1B2C6D4F0CFCDB0DCD5CBBBF5D6CAB7B7CCB0C6B6B1E1B9BAD6FCB9E1B7A1BCFAEADAEADBCCF9B9F3EADCB4FBC3B3B7D1BAD8EADDD4F4EADEBCD6BBDFEADFC1DEC2B8D4DFD7CAEAE0EAE1EAE4EAE2EAE3C9DEB8B3B6C4EAE5CAEAC9CDB4CDDA50DA51E2D9C5E2EAE6C0B5DA52D7B8EAE7D7ACC8FCD8D3D8CDD4DEDA53D4F9C9C4D3AEB8D3B3E0DA54C9E2F4F6DA55DA56DA57BAD5DA58F4F7DA59DA5AD7DFDA5BDA5CF4F1B8B0D5D4B8CFC6F0DA5DDA5EDA5FDA60DA61DA62DA63DA64DA65B3C3DA66DA67F4F2B3ACDA68DA69DA6ADA6BD4BDC7F7DA6CDA6DDA6EDA6FDA70F4F4DA71DA72F4F3DA73DA74DA75DA76DA77DA78DA79DA7ADA7BDA7CCCCBDA7DDA7EDA80C8A4DA81DA82DA83DA84DA85DA86DA87DA88DA89DA8ADA8BDA8CDA8DF4F5DA8ED7E3C5BFF5C0DA8FDA90F5BBDA91F5C3DA92F5C2DA93D6BAF5C1DA94DA95DA96D4BEF5C4DA97F5CCDA98DA99DA9ADA9BB0CFB5F8DA9CF5C9F5CADA9DC5DCDA9EDA9FDAA0DB40F5C5F5C6DB41DB42F5C7F5CBDB43BEE0F5C8B8FADB44DB45DB46F5D0F5D3DB47DB48DB49BFE7DB4AB9F2F5BCF5CDDB4BDB4CC2B7DB4DDB4EDB4FCCF8DB50BCF9DB51F5CEF5CFF5D1B6E5F5D2DB52F5D5DB53DB54DB55DB56DB57DB58DB59F5BDDB5ADB5BDB5CF5D4D3BBDB5DB3ECDB5EDB5FCCA4DB60DB61DB62DB63F5D6DB64DB65DB66DB67DB68DB69DB6ADB6BF5D7BEE1F5D8DB6CDB6DCCDFF5DBDB6EDB6FDB70DB71DB72B2C8D7D9DB73F5D9DB74F5DAF5DCDB75F5E2DB76DB77DB78F5E0DB79DB7ADB7BF5DFF5DDDB7CDB7DF5E1DB7EDB80F5DEF5E4F5E5DB81CCE3DB82DB83E5BFB5B8F5E3F5E8CCA3DB84DB85DB86DB87DB88F5E6F5E7DB89DB8ADB8BDB8CDB8DDB8EF5BEDB8FDB90DB91DB92DB93DB94DB95DB96DB97DB98DB99DB9AB1C4DB9BDB9CF5BFDB9DDB9EB5C5B2E4DB9FF5ECF5E9DBA0B6D7DC40F5EDDC41F5EADC42DC43DC44DC45DC46F5EBDC47DC48B4DADC49D4EADC4ADC4BDC4CF5EEDC4DB3F9DC4EDC4FDC50DC51DC52DC53DC54F5EFF5F1DC55DC56DC57F5F0DC58DC59DC5ADC5BDC5CDC5DDC5EF5F2DC5FF5F3DC60DC61DC62DC63DC64DC65DC66DC67DC68DC69DC6ADC6BC9EDB9AADC6CDC6DC7FBDC6EDC6FB6E3DC70DC71DC72DC73DC74DC75DC76CCC9DC77DC78DC79DC7ADC7BDC7CDC7DDC7EDC80DC81DC82DC83DC84DC85DC86DC87DC88DC89DC8AEAA6DC8BDC8CDC8DDC8EDC8FDC90DC91DC92DC93DC94DC95DC96DC97DC98DC99DC9ADC9BDC9CDC9DDC9EDC9FDCA0DD40DD41DD42DD43DD44DD45DD46DD47DD48DD49DD4ADD4BDD4CDD4DDD4EDD4FDD50DD51DD52DD53DD54DD55DD56DD57DD58DD59DD5ADD5BDD5CDD5DDD5EDD5FDD60DD61DD62DD63DD64DD65DD66DD67DD68DD69DD6ADD6BDD6CDD6DDD6EDD6FDD70DD71DD72DD73DD74DD75DD76DD77DD78DD79DD7ADD7BDD7CDD7DDD7EDD80DD81DD82DD83DD84DD85DD86DD87DD88DD89DD8ADD8BDD8CDD8DDD8EDD8FDD90DD91DD92DD93DD94DD95DD96DD97DD98DD99DD9ADD9BDD9CDD9DDD9EDD9FDDA0DE40DE41DE42DE43DE44DE45DE46DE47DE48DE49DE4ADE4BDE4CDE4DDE4EDE4FDE50DE51DE52DE53DE54DE55DE56DE57DE58DE59DE5ADE5BDE5CDE5DDE5EDE5FDE60B3B5D4FEB9ECD0F9DE61E9EDD7AAE9EEC2D6C8EDBAE4E9EFE9F0E9F1D6E1E9F2E9F3E9F5E9F4E9F6E9F7C7E1E9F8D4D8E9F9BDCEDE62E9FAE9FBBDCFE9FCB8A8C1BEE9FDB1B2BBD4B9F5E9FEDE63EAA1EAA2EAA3B7F8BCADDE64CAE4E0CED4AFCFBDD5B7EAA4D5DEEAA5D0C1B9BCDE65B4C7B1D9DE66DE67DE68C0B1DE69DE6ADE6BDE6CB1E6B1E7DE6DB1E8DE6EDE6FDE70DE71B3BDC8E8DE72DE73DE74DE75E5C1DE76DE77B1DFDE78DE79DE7AC1C9B4EFDE7BDE7CC7A8D3D8DE7DC6F9D1B8DE7EB9FDC2F5DE80DE81DE82DE83DE84D3ADDE85D4CBBDFCDE86E5C2B7B5E5C3DE87DE88BBB9D5E2DE89BDF8D4B6CEA5C1ACB3D9DE8ADE8BCCF6DE8CE5C6E5C4E5C8DE8DE5CAE5C7B5CFC6C8DE8EB5FCE5C5DE8FCAF6DE90DE91E5C9DE92DE93DE94C3D4B1C5BCA3DE95DE96DE97D7B7DE98DE99CDCBCBCDCACACCD3E5CCE5CBC4E6DE9ADE9BD1A1D1B7E5CDDE9CE5D0DE9DCDB8D6F0E5CFB5DDDE9ECDBEDE9FE5D1B6BADEA0DF40CDA8B9E4DF41CAC5B3D1CBD9D4ECE5D2B7EADF42DF43DF44E5CEDF45DF46DF47DF48DF49DF4AE5D5B4FEE5D6DF4BDF4CDF4DDF4EDF4FE5D3E5D4DF50D2DDDF51DF52C2DFB1C6DF53D3E2DF54DF55B6DDCBECDF56E5D7DF57DF58D3F6DF59DF5ADF5BDF5CDF5DB1E9DF5EB6F4E5DAE5D8E5D9B5C0DF5FDF60DF61D2C5E5DCDF62DF63E5DEDF64DF65DF66DF67DF68DF69E5DDC7B2DF6AD2A3DF6BDF6CE5DBDF6DDF6EDF6FDF70D4E2D5DADF71DF72DF73DF74DF75E5E0D7F1DF76DF77DF78DF79DF7ADF7BDF7CE5E1DF7DB1DCD1FBDF7EE5E2E5E4DF80DF81DF82DF83E5E3DF84DF85E5E5DF86DF87DF88DF89DF8AD2D8DF8BB5CBDF8CE7DFDF8DDAF5DF8EDAF8DF8FDAF6DF90DAF7DF91DF92DF93DAFAD0CFC4C7DF94DF95B0EEDF96DF97DF98D0B0DF99DAF9DF9AD3CABAAADBA2C7F1DF9BDAFCDAFBC9DBDAFDDF9CDBA1D7DEDAFEC1DADF9DDF9EDBA5DF9FDFA0D3F4E040E041DBA7DBA4E042DBA8E043E044BDBCE045E046E047C0C9DBA3DBA6D6A3E048DBA9E049E04AE04BDBADE04CE04DE04EDBAEDBACBAC2E04FE050E051BFA4DBABE052E053E054DBAAD4C7B2BFE055E056DBAFE057B9F9E058DBB0E059E05AE05BE05CB3BBE05DE05EE05FB5A6E060E061E062E063B6BCDBB1E064E065E066B6F5E067DBB2E068E069E06AE06BE06CE06DE06EE06FE070E071E072E073E074E075E076E077E078E079E07AE07BB1C9E07CE07DE07EE080DBB4E081E082E083DBB3DBB5E084E085E086E087E088E089E08AE08BE08CE08DE08EDBB7E08FDBB6E090E091E092E093E094E095E096DBB8E097E098E099E09AE09BE09CE09DE09EE09FDBB9E0A0E140DBBAE141E142D3CFF4FAC7F5D7C3C5E4F4FCF4FDF4FBE143BEC6E144E145E146E147D0EFE148E149B7D3E14AE14BD4CDCCAAE14CE14DF5A2F5A1BAA8F4FECBD6E14EE14FE150F5A4C0D2E151B3EAE152CDAAF5A5F5A3BDB4F5A8E153F5A9BDCDC3B8BFE1CBE1F5AAE154E155E156F5A6F5A7C4F0E157E158E159E15AE15BF5ACE15CB4BCE15DD7EDE15EB4D7F5ABF5AEE15FE160F5ADF5AFD0D1E161E162E163E164E165E166E167C3D1C8A9E168E169E16AE16BE16CE16DF5B0F5B1E16EE16FE170E171E172E173F5B2E174E175F5B3F5B4F5B5E176E177E178E179F5B7F5B6E17AE17BE17CE17DF5B8E17EE180E181E182E183E184E185E186E187E188E189E18AB2C9E18BD3D4CACDE18CC0EFD6D8D2B0C1BFE18DBDF0E18EE18FE190E191E192E193E194E195E196E197B8AAE198E199E19AE19BE19CE19DE19EE19FE1A0E240E241E242E243E244E245E246E247E248E249E24AE24BE24CE24DE24EE24FE250E251E252E253E254E255E256E257E258E259E25AE25BE25CE25DE25EE25FE260E261E262E263E264E265E266E267E268E269E26AE26BE26CE26DE26EE26FE270E271E272E273E274E275E276E277E278E279E27AE27BE27CE27DE27EE280E281E282E283E284E285E286E287E288E289E28AE28BE28CE28DE28EE28FE290E291E292E293E294E295E296E297E298E299E29AE29BE29CE29DE29EE29FE2A0E340E341E342E343E344E345E346E347E348E349E34AE34BE34CE34DE34EE34FE350E351E352E353E354E355E356E357E358E359E35AE35BE35CE35DE35EE35FE360E361E362E363E364E365E366E367E368E369E36AE36BE36CE36DBCF8E36EE36FE370E371E372E373E374E375E376E377E378E379E37AE37BE37CE37DE37EE380E381E382E383E384E385E386E387F6C6E388E389E38AE38BE38CE38DE38EE38FE390E391E392E393E394E395E396E397E398E399E39AE39BE39CE39DE39EE39FE3A0E440E441E442E443E444E445F6C7E446E447E448E449E44AE44BE44CE44DE44EE44FE450E451E452E453E454E455E456E457E458E459E45AE45BE45CE45DE45EF6C8E45FE460E461E462E463E464E465E466E467E468E469E46AE46BE46CE46DE46EE46FE470E471E472E473E474E475E476E477E478E479E47AE47BE47CE47DE47EE480E481E482E483E484E485E486E487E488E489E48AE48BE48CE48DE48EE48FE490E491E492E493E494E495E496E497E498E499E49AE49BE49CE49DE49EE49FE4A0E540E541E542E543E544E545E546E547E548E549E54AE54BE54CE54DE54EE54FE550E551E552E553E554E555E556E557E558E559E55AE55BE55CE55DE55EE55FE560E561E562E563E564E565E566E567E568E569E56AE56BE56CE56DE56EE56FE570E571E572E573F6C9E574E575E576E577E578E579E57AE57BE57CE57DE57EE580E581E582E583E584E585E586E587E588E589E58AE58BE58CE58DE58EE58FE590E591E592E593E594E595E596E597E598E599E59AE59BE59CE59DE59EE59FF6CAE5A0E640E641E642E643E644E645E646E647E648E649E64AE64BE64CE64DE64EE64FE650E651E652E653E654E655E656E657E658E659E65AE65BE65CE65DE65EE65FE660E661E662F6CCE663E664E665E666E667E668E669E66AE66BE66CE66DE66EE66FE670E671E672E673E674E675E676E677E678E679E67AE67BE67CE67DE67EE680E681E682E683E684E685E686E687E688E689E68AE68BE68CE68DE68EE68FE690E691E692E693E694E695E696E697E698E699E69AE69BE69CE69DF6CBE69EE69FE6A0E740E741E742E743E744E745E746E747F7E9E748E749E74AE74BE74CE74DE74EE74FE750E751E752E753E754E755E756E757E758E759E75AE75BE75CE75DE75EE75FE760E761E762E763E764E765E766E767E768E769E76AE76BE76CE76DE76EE76FE770E771E772E773E774E775E776E777E778E779E77AE77BE77CE77DE77EE780E781E782E783E784E785E786E787E788E789E78AE78BE78CE78DE78EE78FE790E791E792E793E794E795E796E797E798E799E79AE79BE79CE79DE79EE79FE7A0E840E841E842E843E844E845E846E847E848E849E84AE84BE84CE84DE84EF6CDE84FE850E851E852E853E854E855E856E857E858E859E85AE85BE85CE85DE85EE85FE860E861E862E863E864E865E866E867E868E869E86AE86BE86CE86DE86EE86FE870E871E872E873E874E875E876E877E878E879E87AF6CEE87BE87CE87DE87EE880E881E882E883E884E885E886E887E888E889E88AE88BE88CE88DE88EE88FE890E891E892E893E894EEC4EEC5EEC6D5EBB6A4EEC8EEC7EEC9EECAC7A5EECBEECCE895B7B0B5F6EECDEECFE896EECEE897B8C6EED0EED1EED2B6DBB3AED6D3C4C6B1B5B8D6EED3EED4D4BFC7D5BEFBCED9B9B3EED6EED5EED8EED7C5A5EED9EEDAC7AEEEDBC7AFEEDCB2A7EEDDEEDEEEDFEEE0EEE1D7EAEEE2EEE3BCD8EEE4D3CBCCFAB2ACC1E5EEE5C7A6C3ADE898EEE6EEE7EEE8EEE9EEEAEEEBEEECE899EEEDEEEEEEEFE89AE89BEEF0EEF1EEF2EEF4EEF3E89CEEF5CDADC2C1EEF6EEF7EEF8D5A1EEF9CFB3EEFAEEFBE89DEEFCEEFDEFA1EEFEEFA2B8F5C3FAEFA3EFA4BDC2D2BFB2F9EFA5EFA6EFA7D2F8EFA8D6FDEFA9C6CCE89EEFAAEFABC1B4EFACCFFACBF8EFAEEFADB3FAB9F8EFAFEFB0D0E2EFB1EFB2B7E6D0BFEFB3EFB4EFB5C8F1CCE0EFB6EFB7EFB8EFB9EFBAD5E0EFBBB4EDC3AAEFBCE89FEFBDEFBEEFBFE8A0CEFDEFC0C2E0B4B8D7B6BDF5E940CFC7EFC3EFC1EFC2EFC4B6A7BCFCBEE2C3CCEFC5EFC6E941EFC7EFCFEFC8EFC9EFCAC7C2EFF1B6CDEFCBE942EFCCEFCDB6C6C3BEEFCEE943EFD0EFD1EFD2D5F2E944EFD3C4F7E945EFD4C4F8EFD5EFD6B8E4B0F7EFD7EFD8EFD9E946EFDAEFDBEFDCEFDDE947EFDEBEB5EFE1EFDFEFE0E948EFE2EFE3C1CDEFE4EFE5EFE6EFE7EFE8EFE9EFEAEFEBEFECC0D8E949EFEDC1ADEFEEEFEFEFF0E94AE94BCFE2E94CE94DE94EE94FE950E951E952E953B3A4E954E955E956E957E958E959E95AE95BE95CE95DE95EE95FE960E961E962E963E964E965E966E967E968E969E96AE96BE96CE96DE96EE96FE970E971E972E973E974E975E976E977E978E979E97AE97BE97CE97DE97EE980E981E982E983E984E985E986E987E988E989E98AE98BE98CE98DE98EE98FE990E991E992E993E994E995E996E997E998E999E99AE99BE99CE99DE99EE99FE9A0EA40EA41EA42EA43EA44EA45EA46EA47EA48EA49EA4AEA4BEA4CEA4DEA4EEA4FEA50EA51EA52EA53EA54EA55EA56EA57EA58EA59EA5AEA5BC3C5E3C5C9C1E3C6EA5CB1D5CECAB4B3C8F2E3C7CFD0E3C8BCE4E3C9E3CAC3C6D5A2C4D6B9EBCEC5E3CBC3F6E3CCEA5DB7A7B8F3BAD2E3CDE3CED4C4E3CFEA5EE3D0D1CBE3D1E3D2E3D3E3D4D1D6E3D5B2FBC0BBE3D6EA5FC0ABE3D7E3D8E3D9EA60E3DAE3DBEA61B8B7DAE2EA62B6D3EA63DAE4DAE3EA64EA65EA66EA67EA68EA69EA6ADAE6EA6BEA6CEA6DC8EEEA6EEA6FDAE5B7C0D1F4D2F5D5F3BDD7EA70EA71EA72EA73D7E8DAE8DAE7EA74B0A2CDD3EA75DAE9EA76B8BDBCCAC2BDC2A4B3C2DAEAEA77C2AAC4B0BDB5EA78EA79CFDEEA7AEA7BEA7CDAEBC9C2EA7DEA7EEA80EA81EA82B1DDEA83EA84EA85DAECEA86B6B8D4BAEA87B3FDEA88EA89DAEDD4C9CFD5C5E3EA8ADAEEEA8BEA8CEA8DEA8EEA8FDAEFEA90DAF0C1EACCD5CFDDEA91EA92EA93EA94EA95EA96EA97EA98EA99EA9AEA9BEA9CEA9DD3E7C2A1EA9EDAF1EA9FEAA0CBE5EB40DAF2EB41CBE6D2FEEB42EB43EB44B8F4EB45EB46DAF3B0AFCFB6EB47EB48D5CFEB49EB4AEB4BEB4CEB4DEB4EEB4FEB50EB51EB52CBEDEB53EB54EB55EB56EB57EB58EB59EB5ADAF4EB5BEB5CE3C4EB5DEB5EC1A5EB5FEB60F6BFEB61EB62F6C0F6C1C4D1EB63C8B8D1E3EB64EB65D0DBD1C5BCAFB9CDEB66EFF4EB67EB68B4C6D3BAF6C2B3FBEB69EB6AF6C3EB6BEB6CB5F1EB6DEB6EEB6FEB70EB71EB72EB73EB74EB75EB76F6C5EB77EB78EB79EB7AEB7BEB7CEB7DD3EAF6A7D1A9EB7EEB80EB81EB82F6A9EB83EB84EB85F6A8EB86EB87C1E3C0D7EB88B1A2EB89EB8AEB8BEB8CCEEDEB8DD0E8F6ABEB8EEB8FCFF6EB90F6AAD5F0F6ACC3B9EB91EB92EB93BBF4F6AEF6ADEB94EB95EB96C4DEEB97EB98C1D8EB99EB9AEB9BEB9CEB9DCBAAEB9ECFBCEB9FEBA0EC40EC41EC42EC43EC44EC45EC46EC47EC48F6AFEC49EC4AF6B0EC4BEC4CF6B1EC4DC2B6EC4EEC4FEC50EC51EC52B0D4C5F9EC53EC54EC55EC56F6B2EC57EC58EC59EC5AEC5BEC5CEC5DEC5EEC5FEC60EC61EC62EC63EC64EC65EC66EC67EC68EC69C7E0F6A6EC6AEC6BBEB8EC6CEC6DBEB2EC6EB5E5EC6FEC70B7C7EC71BFBFC3D2C3E6EC72EC73D8CCEC74EC75EC76B8EFEC77EC78EC79EC7AEC7BEC7CEC7DEC7EEC80BDF9D1A5EC81B0D0EC82EC83EC84EC85EC86F7B0EC87EC88EC89EC8AEC8BEC8CEC8DEC8EF7B1EC8FEC90EC91EC92EC93D0ACEC94B0B0EC95EC96EC97F7B2F7B3EC98F7B4EC99EC9AEC9BC7CAEC9CEC9DEC9EEC9FECA0ED40ED41BECFED42ED43F7B7ED44ED45ED46ED47ED48ED49ED4AF7B6ED4BB1DEED4CF7B5ED4DED4EF7B8ED4FF7B9ED50ED51ED52ED53ED54ED55ED56ED57ED58ED59ED5AED5BED5CED5DED5EED5FED60ED61ED62ED63ED64ED65ED66ED67ED68ED69ED6AED6BED6CED6DED6EED6FED70ED71ED72ED73ED74ED75ED76ED77ED78ED79ED7AED7BED7CED7DED7EED80ED81CEA4C8CDED82BAABE8B8E8B9E8BABEC2ED83ED84ED85ED86ED87D2F4ED88D4CFC9D8ED89ED8AED8BED8CED8DED8EED8FED90ED91ED92ED93ED94ED95ED96ED97ED98ED99ED9AED9BED9CED9DED9EED9FEDA0EE40EE41EE42EE43EE44EE45EE46EE47EE48EE49EE4AEE4BEE4CEE4DEE4EEE4FEE50EE51EE52EE53EE54EE55EE56EE57EE58EE59EE5AEE5BEE5CEE5DEE5EEE5FEE60EE61EE62EE63EE64EE65EE66EE67EE68EE69EE6AEE6BEE6CEE6DEE6EEE6FEE70EE71EE72EE73EE74EE75EE76EE77EE78EE79EE7AEE7BEE7CEE7DEE7EEE80EE81EE82EE83EE84EE85EE86EE87EE88EE89EE8AEE8BEE8CEE8DEE8EEE8FEE90EE91EE92EE93EE94EE95EE96EE97EE98EE99EE9AEE9BEE9CEE9DEE9EEE9FEEA0EF40EF41EF42EF43EF44EF45D2B3B6A5C7EAF1FCCFEECBB3D0EBE7EFCDE7B9CBB6D9F1FDB0E4CBCCF1FED4A4C2ADC1ECC6C4BEB1F2A1BCD5EF46F2A2F2A3EF47F2A4D2C3C6B5EF48CDC7F2A5EF49D3B1BFC5CCE2EF4AF2A6F2A7D1D5B6EEF2A8F2A9B5DFF2AAF2ABEF4BB2FCF2ACF2ADC8A7EF4CEF4DEF4EEF4FEF50EF51EF52EF53EF54EF55EF56EF57EF58EF59EF5AEF5BEF5CEF5DEF5EEF5FEF60EF61EF62EF63EF64EF65EF66EF67EF68EF69EF6AEF6BEF6CEF6DEF6EEF6FEF70EF71B7E7EF72EF73ECA9ECAAECABEF74ECACEF75EF76C6AEECADECAEEF77EF78EF79B7C9CAB3EF7AEF7BEF7CEF7DEF7EEF80EF81E2B8F7CFEF82EF83EF84EF85EF86EF87EF88EF89EF8AEF8BEF8CEF8DEF8EEF8FEF90EF91EF92EF93EF94EF95EF96EF97EF98EF99EF9AEF9BEF9CEF9DEF9EEF9FEFA0F040F041F042F043F044F7D0F045F046B2CDF047F048F049F04AF04BF04CF04DF04EF04FF050F051F052F053F054F055F056F057F058F059F05AF05BF05CF05DF05EF05FF060F061F062F063F7D1F064F065F066F067F068F069F06AF06BF06CF06DF06EF06FF070F071F072F073F074F075F076F077F078F079F07AF07BF07CF07DF07EF080F081F082F083F084F085F086F087F088F089F7D3F7D2F08AF08BF08CF08DF08EF08FF090F091F092F093F094F095F096E2BBF097BCA2F098E2BCE2BDE2BEE2BFE2C0E2C1B7B9D2FBBDA4CACEB1A5CBC7F099E2C2B6FCC8C4E2C3F09AF09BBDC8F09CB1FDE2C4F09DB6F6E2C5C4D9F09EF09FE2C6CFDAB9DDE2C7C0A1F0A0E2C8B2F6F140E2C9F141C1F3E2CAE2CBC2F8E2CCE2CDE2CECAD7D8B8D9E5CFE3F142F143F144F145F146F147F148F149F14AF14BF14CF0A5F14DF14EDCB0F14FF150F151F152F153F154F155F156F157F158F159F15AF15BF15CF15DF15EF15FF160F161F162F163F164F165F166F167F168F169F16AF16BF16CF16DF16EF16FF170F171F172F173F174F175F176F177F178F179F17AF17BF17CF17DF17EF180F181F182F183F184F185F186F187F188F189F18AF18BF18CF18DF18EF18FF190F191F192F193F194F195F196F197F198F199F19AF19BF19CF19DF19EF19FF1A0F240F241F242F243F244F245F246F247F248F249F24AF24BF24CF24DF24EF24FF250F251F252F253F254F255F256F257F258F259F25AF25BF25CF25DF25EF25FF260F261F262F263F264F265F266F267F268F269F26AF26BF26CF26DF26EF26FF270F271F272F273F274F275F276F277F278F279F27AF27BF27CF27DF27EF280F281F282F283F284F285F286F287F288F289F28AF28BF28CF28DF28EF28FF290F291F292F293F294F295F296F297F298F299F29AF29BF29CF29DF29EF29FF2A0F340F341F342F343F344F345F346F347F348F349F34AF34BF34CF34DF34EF34FF350F351C2EDD4A6CDD4D1B1B3DBC7FDF352B2B5C2BFE6E0CABBE6E1E6E2BED4E6E3D7A4CDD5E6E5BCDDE6E4E6E6E6E7C2EEF353BDBEE6E8C2E6BAA7E6E9F354E6EAB3D2D1E9F355F356BFA5E6EBC6EFE6ECE6EDF357F358E6EEC6ADE6EFF359C9A7E6F0E6F1E6F2E5B9E6F3E6F4C2E2E6F5E6F6D6E8E6F7F35AE6F8B9C7F35BF35CF35DF35EF35FF360F361F7BBF7BAF362F363F364F365F7BEF7BCBAA1F366F7BFF367F7C0F368F369F36AF7C2F7C1F7C4F36BF36CF7C3F36DF36EF36FF370F371F7C5F7C6F372F373F374F375F7C7F376CBE8F377F378F379F37AB8DFF37BF37CF37DF37EF380F381F7D4F382F7D5F383F384F385F386F7D6F387F388F389F38AF7D8F38BF7DAF38CF7D7F38DF38EF38FF390F391F392F393F394F395F7DBF396F7D9F397F398F399F39AF39BF39CF39DD7D7F39EF39FF3A0F440F7DCF441F442F443F444F445F446F7DDF447F448F449F7DEF44AF44BF44CF44DF44EF44FF450F451F452F453F454F7DFF455F456F457F7E0F458F459F45AF45BF45CF45DF45EF45FF460F461F462DBCBF463F464D8AAF465F466F467F468F469F46AF46BF46CE5F7B9EDF46DF46EF46FF470BFFDBBEAF7C9C6C7F7C8F471F7CAF7CCF7CBF472F473F474F7CDF475CEBAF476F7CEF477F478C4A7F479F47AF47BF47CF47DF47EF480F481F482F483F484F485F486F487F488F489F48AF48BF48CF48DF48EF48FF490F491F492F493F494F495F496F497F498F499F49AF49BF49CF49DF49EF49FF4A0F540F541F542F543F544F545F546F547F548F549F54AF54BF54CF54DF54EF54FF550F551F552F553F554F555F556F557F558F559F55AF55BF55CF55DF55EF55FF560F561F562F563F564F565F566F567F568F569F56AF56BF56CF56DF56EF56FF570F571F572F573F574F575F576F577F578F579F57AF57BF57CF57DF57EF580F581F582F583F584F585F586F587F588F589F58AF58BF58CF58DF58EF58FF590F591F592F593F594F595F596F597F598F599F59AF59BF59CF59DF59EF59FF5A0F640F641F642F643F644F645F646F647F648F649F64AF64BF64CF64DF64EF64FF650F651F652F653F654F655F656F657F658F659F65AF65BF65CF65DF65EF65FF660F661F662F663F664F665F666F667F668F669F66AF66BF66CF66DF66EF66FF670F671F672F673F674F675F676F677F678F679F67AF67BF67CF67DF67EF680F681F682F683F684F685F686F687F688F689F68AF68BF68CF68DF68EF68FF690F691F692F693F694F695F696F697F698F699F69AF69BF69CF69DF69EF69FF6A0F740F741F742F743F744F745F746F747F748F749F74AF74BF74CF74DF74EF74FF750F751F752F753F754F755F756F757F758F759F75AF75BF75CF75DF75EF75FF760F761F762F763F764F765F766F767F768F769F76AF76BF76CF76DF76EF76FF770F771F772F773F774F775F776F777F778F779F77AF77BF77CF77DF77EF780D3E3F781F782F6CFF783C2B3F6D0F784F785F6D1F6D2F6D3F6D4F786F787F6D6F788B1ABF6D7F789F6D8F6D9F6DAF78AF6DBF6DCF78BF78CF78DF78EF6DDF6DECFCAF78FF6DFF6E0F6E1F6E2F6E3F6E4C0F0F6E5F6E6F6E7F6E8F6E9F790F6EAF791F6EBF6ECF792F6EDF6EEF6EFF6F0F6F1F6F2F6F3F6F4BEA8F793F6F5F6F6F6F7F6F8F794F795F796F797F798C8FAF6F9F6FAF6FBF6FCF799F79AF6FDF6FEF7A1F7A2F7A3F7A4F7A5F79BF79CF7A6F7A7F7A8B1EEF7A9F7AAF7ABF79DF79EF7ACF7ADC1DBF7AEF79FF7A0F7AFF840F841F842F843F844F845F846F847F848F849F84AF84BF84CF84DF84EF84FF850F851F852F853F854F855F856F857F858F859F85AF85BF85CF85DF85EF85FF860F861F862F863F864F865F866F867F868F869F86AF86BF86CF86DF86EF86FF870F871F872F873F874F875F876F877F878F879F87AF87BF87CF87DF87EF880F881F882F883F884F885F886F887F888F889F88AF88BF88CF88DF88EF88FF890F891F892F893F894F895F896F897F898F899F89AF89BF89CF89DF89EF89FF8A0F940F941F942F943F944F945F946F947F948F949F94AF94BF94CF94DF94EF94FF950F951F952F953F954F955F956F957F958F959F95AF95BF95CF95DF95EF95FF960F961F962F963F964F965F966F967F968F969F96AF96BF96CF96DF96EF96FF970F971F972F973F974F975F976F977F978F979F97AF97BF97CF97DF97EF980F981F982F983F984F985F986F987F988F989F98AF98BF98CF98DF98EF98FF990F991F992F993F994F995F996F997F998F999F99AF99BF99CF99DF99EF99FF9A0FA40FA41FA42FA43FA44FA45FA46FA47FA48FA49FA4AFA4BFA4CFA4DFA4EFA4FFA50FA51FA52FA53FA54FA55FA56FA57FA58FA59FA5AFA5BFA5CFA5DFA5EFA5FFA60FA61FA62FA63FA64FA65FA66FA67FA68FA69FA6AFA6BFA6CFA6DFA6EFA6FFA70FA71FA72FA73FA74FA75FA76FA77FA78FA79FA7AFA7BFA7CFA7DFA7EFA80FA81FA82FA83FA84FA85FA86FA87FA88FA89FA8AFA8BFA8CFA8DFA8EFA8FFA90FA91FA92FA93FA94FA95FA96FA97FA98FA99FA9AFA9BFA9CFA9DFA9EFA9FFAA0FB40FB41FB42FB43FB44FB45FB46FB47FB48FB49FB4AFB4BFB4CFB4DFB4EFB4FFB50FB51FB52FB53FB54FB55FB56FB57FB58FB59FB5AFB5BC4F1F0AFBCA6F0B0C3F9FB5CC5B8D1BBFB5DF0B1F0B2F0B3F0B4F0B5D1BCFB5ED1ECFB5FF0B7F0B6D4A7FB60CDD2F0B8F0BAF0B9F0BBF0BCFB61FB62B8EBF0BDBAE8FB63F0BEF0BFBEE9F0C0B6ECF0C1F0C2F0C3F0C4C8B5F0C5F0C6FB64F0C7C5F4FB65F0C8FB66FB67FB68F0C9FB69F0CAF7BDFB6AF0CBF0CCF0CDFB6BF0CEFB6CFB6DFB6EFB6FF0CFBAD7FB70F0D0F0D1F0D2F0D3F0D4F0D5F0D6F0D8FB71FB72D3A5F0D7FB73F0D9FB74FB75FB76FB77FB78FB79FB7AFB7BFB7CFB7DF5BAC2B9FB7EFB80F7E4FB81FB82FB83FB84F7E5F7E6FB85FB86F7E7FB87FB88FB89FB8AFB8BFB8CF7E8C2B4FB8DFB8EFB8FFB90FB91FB92FB93FB94FB95F7EAFB96F7EBFB97FB98FB99FB9AFB9BFB9CC2F3FB9DFB9EFB9FFBA0FC40FC41FC42FC43FC44FC45FC46FC47FC48F4F0FC49FC4AFC4BF4EFFC4CFC4DC2E9FC4EF7E1F7E2FC4FFC50FC51FC52FC53BBC6FC54FC55FC56FC57D9E4FC58FC59FC5ACAF2C0E8F0A4FC5BBADAFC5CFC5DC7ADFC5EFC5FFC60C4ACFC61FC62F7ECF7EDF7EEFC63F7F0F7EFFC64F7F1FC65FC66F7F4FC67F7F3FC68F7F2F7F5FC69FC6AFC6BFC6CF7F6FC6DFC6EFC6FFC70FC71FC72FC73FC74FC75EDE9FC76EDEAEDEBFC77F6BCFC78FC79FC7AFC7BFC7CFC7DFC7EFC80FC81FC82FC83FC84F6BDFC85F6BEB6A6FC86D8BEFC87FC88B9C4FC89FC8AFC8BD8BBFC8CDCB1FC8DFC8EFC8FFC90FC91FC92CAF3FC93F7F7FC94FC95FC96FC97FC98FC99FC9AFC9BFC9CF7F8FC9DFC9EF7F9FC9FFCA0FD40FD41FD42FD43FD44F7FBFD45F7FAFD46B1C7FD47F7FCF7FDFD48FD49FD4AFD4BFD4CF7FEFD4DFD4EFD4FFD50FD51FD52FD53FD54FD55FD56FD57C6EBECB4FD58FD59FD5AFD5BFD5CFD5DFD5EFD5FFD60FD61FD62FD63FD64FD65FD66FD67FD68FD69FD6AFD6BFD6CFD6DFD6EFD6FFD70FD71FD72FD73FD74FD75FD76FD77FD78FD79FD7AFD7BFD7CFD7DFD7EFD80FD81FD82FD83FD84FD85B3DDF6B3FD86FD87F6B4C1E4F6B5F6B6F6B7F6B8F6B9F6BAC8A3F6BBFD88FD89FD8AFD8BFD8CFD8DFD8EFD8FFD90FD91FD92FD93C1FAB9A8EDE8FD94FD95FD96B9EAD9DFFD97FD98FD99FD9AFD9";encodeToGb2312(t){for(var r="",i=0;i<t.length;i++){var l=t.charAt(i),a=t.charCodeAt(i);if(l==" ")r+="+";else if(a>=19968&&a<=40869){let c=a-19968;r+="%"+this.z.substr(c*4,2)+"%"+this.z.substr(c*4+2,2)}else r+="%"+t.charCodeAt(i).toString(16)}return r}decodeFromGb2312(t){for(var r="",i=0;i<t.length;i++){var l=t.charAt(i);if(l=="+")r+=" ";else if(l!="%")r+=l;else{i++;var a=t.charAt(i);if(isNaN(parseInt(a)))try{var c=t.substr(i,2)+t.substr(i+3,2);i=i+4;for(var d=-1;(d=this.z.indexOf(c,d+1))!=-1;)if(d%4==0){r+=String.fromCharCode(d/4+19968);break}}catch{}else{i++;try{r+=decodeURIComponent(l+a+t.charAt(i))}catch{console.log("decodeURIComponent error"),console.log(l+a+t.charAt(i))}}}}return r}}let g=new qD;const $D=new FinalizationRegistry(e=>{s.App.DestroyObject(e)}),XD={};class S{imp=0;constructor(t){this.imp=t,this.imp&&$D.register(this,t,XD)}getImp(){return this.imp}initTempObject(t){this.imp=t}get ObjectName(){return this.imp.getObjectName()}get Dxf0(){return this.imp.getDxf0()}getJson(){let t=this.imp.getJson();return g.decodeFromGb2312(t)}setJson(t){let r=g.encodeToGb2312(t);return this.imp.setJson(r)}}var y=(e=>(e[e.kMxCAD=0]="kMxCAD",e[e.kMxDraw=1]="kMxDraw",e[e.kInvalid=2]="kInvalid",e))(y||{});class x{id;type;constructor(t,r){this.id=t,t?this.type=r:this.type=2}isValid(){return this.type!=2&&this.id!=0}erase(){this.type==1?MxFun$1.getCurrentDraw().eraseMxEntity(this.id):this.type==0&&FD.eraseEntity(this.id)}getMcDbObject(){return this.type==0?s.App.ObjectIdToObject(this.id):null}getObjectName(){if(this.type==0)return s.App.getImp().ObjectIdToObjectName(this.id);if(this.type==1){let t=MxFun$1.getCurrentDraw().getMxEntity(this.id);if(t)return t.getTypeName()}return""}getMxDbEntity(){return this.type==1?MxFun$1.getCurrentDraw().getMxEntity(this.id):null}}class L extends S{constructor(t){super(t)}GetObjectID(){return this.imp.GetObjectID()}Erase(){return this.imp.Erase()}Clone(){let t=this.imp.Clone();return s.App.CreateCloneObject(t)}GetHandle(){return this.imp.GetHandle()}GetDatabase(){return new eD(this.imp.GetDatabase())}GetOwnerID(){return this.imp.GetOwnerID()}}class W extends L{constructor(t){super(t)}explode(){let t=this.imp.explode();return new V(t)}get trueColor(){return this.imp.TrueColor()}set trueColor(t){this.imp.SetTrueColor(t)}get colorIndex(){return this.imp.ColorIndex()}set colorIndex(t){this.imp.SetColorIndex(t)}get layer(){return this.imp.layer()}set layer(t){this.imp.SetLayer(t)}get linetypeScale(){return this.imp.ColorIndex()}set linetypeScale(t){this.imp.SetLinetypeScale(t)}get visible(){return this.imp.visible()}set visible(t){this.imp.SetVisible(t)}get lineweight(){return this.imp.Lineweight()}set lineweight(t){this.imp.SetLineweight(t)}get textStyle(){return this.imp.TextStyle()}set textStyle(t){this.imp.SetTextStyle(t)}highlight(t){this.imp.Highlight(t)}Move(t,r){return this.imp.Move(t,r)}Rotate(t,r){return this.imp.Rotate(t,r)}Mirror(t,r){return this.imp.Mirror(t,r)}ScaleEntity(t,r){return this.imp.ScaleEntity(t,r)}TransformBy(t){return this.imp.TransformBy(t)}GetBoundingBox(){let t=this.imp.GetBoundingBox();if(t){let r={minPt:t.AtPoint(0).val,maxPt:t.AtPoint(1).val,ret:0};return s.App.DestroyObject(t),r}else return{minPt:s.NewMcGePoint3d(),maxPt:s.NewMcGePoint3d(),ret:1}}}class $$1 extends W{constructor(t){super(t)}getStartParam(){return{val:this.imp.getStartParam(),ret:s.getCallResult()}}getEndParam(){return{val:this.imp.getEndParam(),ret:s.getCallResult()}}getDistAtParam(t){return{val:this.imp.getDistAtParam(t),ret:s.getCallResult()}}getParamAtDist(t){return{val:this.imp.getParamAtDist(t),ret:s.getCallResult()}}getDistAtPoint(t){return{val:this.imp.getDistAtPoint(t),ret:s.getCallResult()}}getPointAtDist(t){return{val:this.imp.getPointAtDist(t),ret:s.getCallResult()}}getStartPoint(){return{val:this.imp.getStartPoint(),ret:s.getCallResult()}}getEndPoint(){return{val:this.imp.getStartPoint(),ret:s.getCallResult()}}getPointAtParam(t){return{val:this.imp.getPointAtParam(t),ret:s.getCallResult()}}getParamAtPoint(t){return{val:this.imp.getParamAtPoint(t),ret:s.getCallResult()}}getFirstDeriv(t){return{val:this.imp.getFirstDeriv(t),ret:s.getCallResult()}}getFirstDerivEx(t){return{val:this.imp.getFirstDerivEx(t),ret:s.getCallResult()}}getClosestPointTo(t,r){return{val:this.imp.getClosestPointTo(t,r),ret:s.getCallResult()}}offsetCurves(t,r){let i=this.imp.offsetCurves(t,r);return new V(i)}splitCurves(t){let r=this.imp.splitCurves(t);return new V(r)}getArea(){return{val:this.imp.getArea(),ret:s.getCallResult()}}getSamplePoints(t){let r=this.imp.getSamplePoints(t);return new V(r)}getLength(){return{val:this.imp.getLength(),ret:s.getCallResult()}}}class _ extends $$1{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbLine)}get startPoint(){return this.imp.startPoint()}set startPoint(t){this.imp.setStartPoint(t)}get endPoint(){return this.imp.endPoint()}set endPoint(t){this.imp.setEndPoint(t)}}class q extends W{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbText)}get position(){return this.imp.position()}set position(t){this.imp.setPosition(t)}get alignmentPoint(){return this.imp.position()}set alignmentPoint(t){this.imp.setAlignmentPoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get height(){return this.imp.height()}set height(t){this.imp.setHeight(t)}get widthFactor(){return this.imp.widthFactor()}set widthFactor(t){this.imp.setWidthFactor(t)}get textString(){return g.decodeFromGb2312(this.imp.textString())}set textString(t){this.imp.setTextString(g.encodeToGb2312(t))}get horizontalMode(){return this.imp.horizontalMode()}set horizontalMode(t){this.imp.setHorizontalMode(t)}get verticalMode(){return this.imp.verticalMode()}set verticalMode(t){this.imp.setVerticalMode(t)}}class CD extends W{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbMText)}get location(){return this.imp.location()}set location(t){this.imp.setLocation(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get width(){return this.imp.width()}set width(t){this.imp.setWidth(t)}get textHeight(){return this.imp.textHeight()}set textHeight(t){this.imp.setTextHeight(t)}get attachment(){return this.imp.attachment()}set attachment(t){this.imp.setAttachment(t)}get contents(){return g.decodeFromGb2312(this.imp.contents())}set contents(t){this.imp.setContents(g.encodeToGb2312(t))}}class BD extends $$1{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbCircle)}setCenter(t,r,i){this.imp.setCenter(t,r,i)}get center(){return this.imp.center()}set center(t){this.imp.setCenter(t)}get radius(){return this.imp.radius()}set radius(t){this.imp.setRadius(t)}}class lD extends $$1{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbPolyline)}get isClosed(){return this.imp.isClosed()}set isClosed(t){this.imp.setClosed(t)}get constantWidth(){return this.imp.getConstantWidth()}set constantWidth(t){this.imp.setConstantWidth(t)}addVertexAt(t,r,i,l,a){return this.imp.addVertexAt(t,r,i,l,a)}removeVertexAt(t){return this.imp.removeVertexAt(t)}numVerts(){return this.imp.numVerts()}getPointAt(t){return{val:this.imp.getPointAt(t),ret:s.getCallResult()}}getBulgeAt(t){return this.imp.getBulgeAt(t)}getWidthsAt(t){return{val1:this.imp.getStartWidthsAt(t),val2:this.imp.getEndWidthsAt(t),ret:s.getCallResult()}}setPointAt(t,r){return this.imp.setPointAt(t,r)}setBulgeAt(t,r){return this.imp.setBulgeAt(t,r)}}class cD extends W{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockReference)}get blockTableRecordId(){return new x(this.imp.blockTableRecord(),y.kMxCAD)}set blockTableRecordId(t){this.imp.setBlockTableRecordId(t.id)}get position(){return this.imp.position()}set position(t){this.imp.setPosition(t)}get scaleFactors(){return this.imp.scaleFactors()}set scaleFactors(t){this.imp.setScaleFactors(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get blockTransform(){return this.imp.blockTransform()}set blockTransform(t){this.imp.setBlockTransform(t)}}class ED extends W{constructor(t){super(t)}get textPosition(){return this.imp.textPosition()}set textPosition(t){this.imp.setTextPosition(t)}isUsingDefaultTextPosition(){return this.imp.isUsingDefaultTextPosition()}useSetTextPosition(){return this.imp.useSetTextPosition()}useDefaultTextPosition(){return this.imp.useDefaultTextPosition()}get elevation(){return this.imp.elevation()}set elevation(t){this.imp.setElevation(t)}get dimensionText(){return this.imp.dimensionText()}set dimensionText(t){this.imp.setDimensionText(t)}get textRotation(){return this.imp.textRotation()}set textRotation(t){this.imp.setTextRotation(t)}get dimensionStyle(){return new x(this.imp.dimensionStyle(),y.kMxCAD)}set dimensionStyle(t){this.imp.setDimensionStyle(t.id)}get textAttachment(){return this.imp.textAttachment()}set textAttachment(t){this.imp.setTextAttachment(t)}get horizontalRotation(){return this.imp.horizontalRotation()}set horizontalRotation(t){this.imp.setHorizontalRotation(t)}recomputeDimBlock(){this.imp.recomputeDimBlock(!0)}getDimVarInt(t){return this.imp.GetDimVarInt(t)}setDimVarInt(t,r){this.imp.SetDimVarInt(t,r)}getDimVarDouble(t){return this.imp.GetDimVarDouble(t)}setDimVarDouble(t,r){this.imp.SetDimVarDouble(t,r)}getDimVarString(t){return this.imp.GetDimVarString(t)}setDimVarString(t,r){this.imp.SetDimVarString(t,r)}getDimVarObjectId(t){return new x(this.imp.GetDimVarObjectId(t),y.kMxCAD)}setDimVarObjectId(t,r){this.imp.SetDimVarObjectId(t,r.id)}}class dD extends ED{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbAlignedDimension)}get xLine1Point(){return this.imp.xLine1Point()}set xLine1Point(t){this.imp.setXLine1Point(t)}get xLine2Point(){return this.imp.xLine2Point()}set xLine2Point(t){this.imp.setXLine2Point(t)}get dimLinePoint(){return this.imp.dimLinePoint()}set dimLinePoint(t){this.imp.setDimLinePoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}}class mD extends ED{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbRotatedDimension)}get xLine1Point(){return this.imp.xLine1Point()}set xLine1Point(t){this.imp.setXLine1Point(t)}get xLine2Point(){return this.imp.xLine2Point()}set xLine2Point(t){this.imp.setXLine2Point(t)}get dimLinePoint(){return this.imp.dimLinePoint()}set dimLinePoint(t){this.imp.setDimLinePoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}}function U(e=null){let t;return e==null?t=new s.mxcadassemblyimp.McDrawResbuf:t=e.getImp(),t}class V extends S{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.McDrawResbuf)}Clear(){this.imp.Clear()}GetCount(){return this.imp.GetCount()}AtDouble(t){return{val:this.imp.AtDouble(t),ret:s.getCallResult()}}Atlong(t){return{val:this.imp.Atlong(t),ret:s.getCallResult()}}AtObject(t){if(this.imp.AtObjectName(t)=="McDbMText"){let r=this.imp.AtObjectMdDbMText(t);if(r)return{val:new CD(r),ret:s.getCallResult()}}return{val:void 0,ret:-1}}AddObject(t){this.imp.AddObject(t.getImp())}AtObjectId(t){return{val:new x(this.imp.AtObjectId(t),y.kMxCAD),ret:s.getCallResult()}}AtString(t){return{val:g.decodeFromGb2312(this.imp.AtString(t)),ret:s.getCallResult()}}AtPoint(t){return{val:this.imp.AtPoint(t),ret:s.getCallResult()}}ItemDataType(){return this.imp.ItemDataType()}AddDouble(t,r=-10){return this.imp.AddDouble(t,r)}Addlong(t,r=-10){return this.imp.Addlong(t,r)}AddObjectId(t,r=-10){return this.imp.AddObjectId(t,r)}AddString(t,r=-10){return this.imp.AddString(t,r)}AddPoint(t,r=-10){return this.imp.AddPoint(t,r)}RemoveAll(){this.imp.RemoveAll()}Remove(t){this.imp.Remove(t)}}class pD{imp;constructor(){}eraseEntity(t){return this.init(),this.imp.eraseEntity(t)}highlightEntity(t,r=!0){return this.init(),this.imp.highlightEntity(t,r)}findEntAtPoint(t,r,i,l=-1,a=null){this.init();let c=this.imp.findEntAtPoint(t,r,i,l,U(a));return new x(c,y.kMxCAD)}selectEnt(t,r=null){return this.init(),new Promise(async i=>{const l=new MrxDbgUiPrPoint;t&&l.setMessage(t),l.setCursorType(Z.kRect);let a=await l.go();if(!a){i([]);return}ND.findEntAtPoint(a).then(c=>{let d=[];c.forEach(v=>{d.push(new x(v,y.kMxDraw))});let D=this.findEntAtPoint(a.x,a.y,a.z,-1,r);D.isValid()&&d.push(D),i(d)})})}init(){this.imp||(this.imp=new s.mxcadassemblyimp.McDrawUtility)}}let FD=new pD;class hD extends S{constructor(){super(),this.initTempObject(new s.mxcadassemblyimp.McDrawSelSet)}allSelect(t=null){return this.imp.allSelect(U(t))}pointSelect(t,r,i=null,l=-1){return this.imp.pointSelect(t,r,U(i),l)}crossingSelect(t,r,i,l,a=null){return this.imp.crossingSelect(t,r,i,l,U(a))}count(){return this.imp.count()}item(t){return new x(this.imp.item(t),y.kMxCAD)}}const AD="1.0.53",JD="SharedArrayBuffer"in window,X=document.currentScript&&/unpkg\.com\/mxcad/.test(document.currentScript.src),YD=(e,t=self.location.href)=>X?`https://unpkg.com/mxcad@${AD}/dist/wasm/2d-st/${e}`:t+e,QD=(e,t=self.location.href)=>X?`https://unpkg.com/mxcad@${AD}/dist/wasm/2d/${e}`:t+e,gD=e=>new Promise((t,r)=>{const i=document.createElement("script");i.src=e,i.type="text/javascript",i.crossOrigin="anonymous",document.body.appendChild(i),i.onload=()=>{t()},i.onerror=l=>{r(l)}}),DC=async(e,t,r)=>{const{locateFile:i}=r,l=i(e+".js");return await gD(l),await globalThis[t](r)};class G{imp;mxObject;static currentFileName;constructor(t){this.imp=t}initMxObject(t){this.mxObject=t}getImp(){return this.imp}getMxCppImp(){return s.mxcadassemblyimp}updateDisplay(t,r){this.imp.updateDisplay(t,r)}test(){this.imp.test()}openWebFile(t,r,i=!0){let l=Math.round(Math.random()*1e7);if(r){let a=this,c=(d,D)=>{a.mxObject.removeEventFuction("openFileComplete",c),l==D&&r(d)};a.mxObject.addEvent("openFileComplete",c)}return G.currentFileName=t.split("/").pop(),this.imp.openWebFile(t,i,l)}getCurrentFileName(){return G.currentFileName}saveFileToUrl(t){return this.imp.saveFileToUrl(t)}saveFile(t,r,i=!0,l=!0){t||(t=this.getCurrentFileName());const a=window;return a.mx_saveFile_call=c=>{if(console.log(t),r&&r(c),!!c){if(i){let d;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?d=new Blob([c.buffer],{type:"application/octet-stream"}):d=new Blob([c.buffer],{type:"application/octet-binary"}),l?N.saveAsFileDialog({blob:d,filename:t,types:[{description:"mxweb File",accept:{"application/octet-stream":[".mxweb"]}}]}):N.downloadFile(d,t)}a.mx_saveFile_call=null}},this.imp.saveFile(t)}GetDatabase(){return new eD(this.imp.GetDatabase())}GetSysVarString(t){return this.imp.GetSysVarString(t)}SetSysVarString(t,r){return this.imp.SetSysVarString(t,r)}GetSysVarDouble(t){return this.imp.GetSysVarDouble(t)}SetSysVarDouble(t,r){return this.imp.SetSysVarDouble(t,r)}GetSysVarLong(t){return this.imp.GetSysVarLong(t)}SetSysVarLong(t,r){return this.imp.SetSysVarLong(t,r)}get DrawColor(){return this.imp.GetDrawColor()}set DrawColor(t){this.imp.SetDrawColor(t)}get DrawLineWeight(){return this.imp.GetDrawLineWeight()}set DrawLineWeight(t){this.imp.SetDrawLineWeight(t)}get DrawLineTypeScale(){return this.imp.GetDrawLineTypeScale()}set DrawLineTypeScale(t){this.imp.SetDrawLineTypeScale(t)}get DrawLinetype(){return this.imp.GetDrawLinetype()}set DrawLinetype(t){this.imp.SetDrawLinetype(t)}get DrawTextStyle(){return this.imp.GetDrawTextStyle()}set DrawTextStyle(t){this.imp.SetDrawTextStyle(t)}get DrawLayer(){return this.imp.GetDrawLayer()}set DrawLayer(t){this.imp.SetDrawLayer(t)}AddLayer(t){this.imp.AddLayer(t)}AddTextStyle(t,r,i,l){this.imp.AddTextStyle(t,r,i,l)}AddLinetype(t,r){this.imp.AddLinetype(t,r)}AddLinetypeEx(t,r,i){this.imp.AddLinetypeEx(t,r,i)}DrawLine(t,r,i,l,a,c){return this.imp.DrawLine(t,r,i,l,a,c)}AddDimStyle(t,r,i,l,a){return this.imp.AddDimStyle(t,r,i,l,a)}get DrawDimStyle(){return this.imp.GetDrawDimStyle()}set DrawDimStyle(t){this.imp.SetDrawDimStyle(t)}get DrawPatternDefinition(){return this.imp.GetPatternDefinition()}set DrawPatternDefinition(t){this.imp.SetPatternDefinition(t)}get DrawLineWidth(){return this.imp.GetDrawLineWidth()}set DrawLineWidth(t){this.imp.SetDrawLineWidth(t)}DrawArc(t,r,i,l,a){return this.imp.DrawArc(t,r,i,l,a)}DrawArc2(t,r,i,l,a,c){return this.imp.DrawArc2(t,r,i,l,a,c)}DrawCircle(t,r,i){return this.imp.DrawCircle(t,r,i)}DrawEllipse(t,r,i,l,a){return this.imp.DrawEllipse(t,r,i,l,a)}DrawEllipseArc(t,r,i,l,a,c,d){return this.imp.DrawEllipseArc(t,r,i,l,a,c,d)}DrawPoint(t,r){return this.imp.DrawPoint(t,r)}DrawSolid(t,r,i,l,a,c,d,D){return this.imp.DrawSolid(t,r,i,l,a,c,d,D)}DrawMText(t,r,i,l,a,c,d){return this.imp.DrawMText(t,r,i,l,a,c,d)}DrawText(t,r,i,l,a,c,d){return this.imp.DrawTextDrawText(t,r,i,l,a,c,d)}DrawBlockReference(t,r,i,l,a){return this.imp.DrawBlockReference(t,r,i,l,a)}DrawDimAligned(t,r,i,l,a,c){return this.imp.DrawDimAligned(t,r,i,l,a,c)}DrawDimAngular(t,r,i,l,a,c,d,D){return this.imp.DrawDimAngular(t,r,i,l,a,c,d,D)}DrawDimDiametric(t,r,i,l,a){return this.imp.DrawDimDiametric(t,r,i,l,a)}DrawDimRotated(t,r,i,l,a,c,d){return this.imp.DrawDimRotated(t,r,i,l,a,c,d)}DrawDimOrdinate(t,r,i,l,a){return this.imp.DrawDimOrdinate(t,r,i,l,a)}DrawDimRadial(t,r,i,l,a){return this.imp.DrawDimRadial(t,r,i,l,a)}PathMoveTo(t,r){this.imp.PathMoveTo(t,r)}PathMoveToEx(t,r,i,l,a){this.imp.PathMoveToEx(t,r,i,l,a)}PathLineTo(t,r){this.imp.PathLineTo(t,r)}PathLineToEx(t,r,i,l,a){this.imp.PathLineToEx(t,r,i,l,a)}DrawPathToPolyline(){return this.imp.DrawPathToPolyline()}DrawPathToSpline(){return this.imp.DrawPathToSpline()}PathMakeClosed(){this.imp.PathMakeClosed()}DrawPathToHatch(t){return this.imp.DrawPathToHatch(t)}DrawEntity(t){return this.imp.DrawEntity(t.getImp())}ObjectIdToObject(t){return s.App.ObjectIdToObject(t)}CloneMcDbObject(t){let r=this.imp.CloneMcDbObject(t);return s.App.CreateCloneObject(r)}ObjectIdToMdObjectImp(t){return s.App.getImp().ObjectIdToMdObject(t)}DestroyObject(t){!t||s.App.getImp().DestroyObject(t)}}class wD{imp;init(t){this.imp=t}getImp(){return this.imp}getLastCallResult(){return this.imp.getLastCallResult()}CreateMxCAD(t,r,i,l,a){let c=this.imp.CreateMxDraw(t,r,i,l,a);return new G(c)}DestroyObject(t){this.imp.DestroyObject(t)}GetCurrentMxCAD(){return new G(this.imp.GetCurrentMxDraw())}mcedRGB2Index(t,r,i,l=!0){return this.imp.mcedRGB2Index(t,r,i,l)}ObjectIdToObject(t){if(!t)return null;let r=this.imp.ObjectIdToObjectName(t);if(r=="McDbLine"){let i=this.imp.ObjectIdToMdDbLine(t);return new _(i)}else if(r=="McDbText"){let i=this.imp.ObjectIdToMdDbText(t);return new q(i)}else if(r=="McDbPolyline"){let i=this.imp.ObjectIdToMdDbPolyline(t);return new lD(i)}else if(r=="McDbCircle"){let i=this.imp.ObjectIdToMdDbCircle(t);return new BD(i)}else if(r=="McDbBlockReference"){let i=this.imp.ObjectIdToMdDbBlockReference(t);return new cD(i)}else if(r=="McDbAlignedDimension"){let i=this.imp.ObjectIdToMdDbAlignedDimension(t);return new dD(i)}else if(r=="McDbRotatedDimension"){let i=this.imp.ObjectIdToMdDbRotatedDimension(t);return new mD(i)}else if(r=="McDbMText"){let i=this.imp.ObjectIdToMdDbMText(t);return new CD(i)}return console.log("Mx ObjectIdToObject error type:"+r),null}CreateCloneObject(t){let r=t.getObjectName();if(r=="McDbLine"){let i=new _;return i.getImp().ConnectionTempObject(t),s.App.DestroyObject(t),i}else if(r=="McDbText"){let i=new q;return i.getImp().ConnectionTempObject(t),s.App.DestroyObject(t),i}return console.log("Mx: Clone error type"),new L(t)}}class yD{mxcadassemblyimp;App=new wD;NewMcCmColor(){return new this.mxcadassemblyimp.MdCmColor}getCallResult(){return this.App.getLastCallResult()}NewMcGePoint3d(t,r){if(r&&t&&t.x&&t.y){let l=t.z||0;t=MxFun$1.getCurrentDraw().docCoord2Cad(t.x,t.y,l)}let i=new this.mxcadassemblyimp.MdGePoint3d;return t&&t.x&&t.y&&(i.x=t.x,i.y=t.y,t.z&&(i.y=t.z)),i}NewMcGePoint3d2(t,r,i){let l=new this.mxcadassemblyimp.MdGePoint3d;return l.x=t,l.y=r,i&&(l.y=i),l}}let s;async function bD(e,t=JD||!X?YD:QD,r){return new Promise(async(i,l)=>{try{if(s||(s=new yD),s.mxcadassemblyimp)return e&&e(s),i(s);const a=await DC("mxdrawassembly_min","mxdrawassembly",{locateFile:t,wasmBinary:r});s.mxcadassemblyimp=a;let c=new a.McApp;c.Init(),s.App.init(c),s.App.GetCurrentMxCAD(),e&&e(s),i(s)}catch(a){l(a)}})}var DD;(e=>{(t=>{t[t.kTextLeft=0]="kTextLeft",t[t.kTextCenter=1]="kTextCenter",t[t.kTextRight=2]="kTextRight",t[t.kTextAlign=3]="kTextAlign",t[t.kTextMid=4]="kTextMid",t[t.kTextFit=5]="kTextFit"})(e.TextHorzMode||(e.TextHorzMode={})),(t=>{t[t.kTextBase=0]="kTextBase",t[t.kTextBottom=1]="kTextBottom",t[t.kTextVertMid=2]="kTextVertMid",t[t.kTextTop=3]="kTextTop"})(e.TextVertMode||(e.TextVertMode={})),(t=>{t[t.kTopLeft=1]="kTopLeft",t[t.kTopCenter=2]="kTopCenter",t[t.kTopRight=3]="kTopRight",t[t.kMiddleLeft=4]="kMiddleLeft",t[t.kMiddleCenter=5]="kMiddleCenter",t[t.kMiddleRight=6]="kMiddleRight",t[t.kBottomLeft=7]="kBottomLeft",t[t.kBottomCenter=8]="kBottomCenter",t[t.kBottomRight=9]="kBottomRight",t[t.kBaseLeft=10]="kBaseLeft",t[t.kBaseCenter=11]="kBaseCenter",t[t.kBaseRight=12]="kBaseRight",t[t.kBaseAlign=13]="kBaseAlign",t[t.kBottomAlign=14]="kBottomAlign",t[t.kMiddleAlign=15]="kMiddleAlign",t[t.kTopAlign=16]="kTopAlign",t[t.kBaseFit=17]="kBaseFit",t[t.kBottomFit=18]="kBottomFit",t[t.kMiddleFit=19]="kMiddleFit",t[t.kTopFit=20]="kTopFit",t[t.kBaseMid=21]="kBaseMid",t[t.kBottomMid=22]="kBottomMid",t[t.kMiddleMid=23]="kMiddleMid",t[t.kTopMid=24]="kTopMid"})(e.AttachmentPoint||(e.AttachmentPoint={})),(t=>{t[t.kLnWt000=0]="kLnWt000",t[t.kLnWt005=5]="kLnWt005",t[t.kLnWt009=9]="kLnWt009",t[t.kLnWt013=13]="kLnWt013",t[t.kLnWt015=15]="kLnWt015",t[t.kLnWt018=18]="kLnWt018",t[t.kLnWt020=20]="kLnWt020",t[t.kLnWt025=25]="kLnWt025",t[t.kLnWt030=30]="kLnWt030",t[t.kLnWt035=35]="kLnWt035",t[t.kLnWt040=40]="kLnWt040",t[t.kLnWt050=50]="kLnWt050",t[t.kLnWt053=53]="kLnWt053",t[t.kLnWt060=60]="kLnWt060",t[t.kLnWt070=70]="kLnWt070",t[t.kLnWt080=80]="kLnWt080",t[t.kLnWt090=90]="kLnWt090",t[t.kLnWt100=100]="kLnWt100",t[t.kLnWt106=106]="kLnWt106",t[t.kLnWt120=120]="kLnWt120",t[t.kLnWt140=140]="kLnWt140",t[t.kLnWt158=158]="kLnWt158",t[t.kLnWt200=200]="kLnWt200",t[t.kLnWt211=211]="kLnWt211",t[t.kLnWtByLayer=-1]="kLnWtByLayer",t[t.kLnWtByBlock=-2]="kLnWtByBlock",t[t.kLnWtByLwDefault=-3]="kLnWtByLwDefault"})(e.LineWeight||(e.LineWeight={}))})(DD||(DD={}));class xD extends L{constructor(t){super(t)}}class fD extends L{constructor(t){super(t)}}class MD extends L{constructor(t){super(t)}}class eD extends S{constructor(t){super(t)}GetLayerTable(){return new xD(this.imp.GetLayerTable())}GetLinetypeTable(){return new fD(this.imp.GetLinetypeTable())}GetTextStyleTable(){return new MD(this.imp.GetTextStyleTable())}GetBlockTable(){return new PD(this.imp.GetBlockTable())}CurrentSpace(){return new J(this.imp.CurrentSpace())}GetCurrentlyLineTypeScale(){return this.imp.GetCurrentlyLineTypeScale()}SetCurrentlyLineTypeScale(t){return this.imp.SetCurrentlyLineTypeScale(t)}GetCurrentlyLineTypeName(){let t=this.imp.GetCurrentlyLineTypeName();return g.decodeFromGb2312(t)}SetCurrentlyLineTypeName(t){let r=g.encodeToGb2312(t);this.imp.SetCurrentlyLineTypeName(r)}GetCurrentlyLayerName(){let t=this.imp.GetCurrentlyLayerName();return g.decodeFromGb2312(t)}SetCurrentlyLayerName(t){let r=g.encodeToGb2312(t);this.imp.SetCurrentlyLayerName(r)}GetCurrentlyTrueColor(){return this.imp.GetCurrentlyTrueColor()}SetCurrentlyTrueColor(t){return this.imp.SetCurrentlyTrueColor(t)}GetCurrentlyColorIndex(){return this.imp.GetCurrentlyColorIndex()}SetCurrentlyColorIndex(t){return this.imp.SetCurrentlyColorIndex(t)}GetCurrentlyTextStyleName(){let t=this.imp.GetCurrentlyTextStyleName();return g.decodeFromGb2312(t)}SetCurrentlyTextStyle(t){let r=g.encodeToGb2312(t);this.imp.SetCurrentlyTextStyle(r)}}class TD extends S{constructor(t){super(t)}start(t=!0,r=!0){this.imp.start(t,r)}done(){return this.imp.done()}getEntityId(){return new x(this.imp.getEntityId(),y.kMxCAD)}step(t=!0,r=!0){return this.imp.step(t,r)}}class J extends L{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockTableRecord)}appendAcDbEntity(t){return new x(this.imp.appendAcDbEntity(t.getImp()),y.kMxCAD)}newIterator(t=!0,r=!0){let i=this.imp.newIterator(t,r);return new TD(i)}get origin(){return this.imp.origin()}set origin(t){this.imp.setOrigin(t)}}class kD extends S{constructor(t){super(t)}start(t=!0,r=!0){this.imp.start(t,r)}done(){return this.imp.done()}getRecord(){let t=this.imp.getRecord();return new J(t)}step(t=!0,r=!0){this.imp.start(t,r)}}class PD extends L{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockTable)}getAt(t){let r=this.getAt(t);return r&&new J(r)}has(t){return this.imp.has(t)}newIterator(t=!0,r=!0){let i=this.imp.newIterator(t,r);return new kD(i)}add(t){return this.imp.add(t.getImp())}}class eC extends MxDbCircleShape{getGripPoints(){const{x:t,y:r,z:i}=this.center;let l=new THREE.Vector3(t,r+this.radius,i),a=new THREE.Vector3(t,r-this.radius,i),c=new THREE.Vector3(t-this.radius,r,i),d=new THREE.Vector3(t+this.radius,r,i);return[this.center,l,a,c,d]}moveGripPointsAt(t,r){const[i,l,a,c,d]=this.getGripPoints();return t===0&&(this.center=i.add(r)),t===1&&(this.radius=l.add(r).distanceTo(this.center)),t===2&&(this.radius=a.add(r).distanceTo(this.center)),t===3&&(this.radius=c.add(r).distanceTo(this.center)),t===4&&(this.radius=d.add(r).distanceTo(this.center)),!0}}const iD=e=>{const[t,r,i]=e,{x:l,y:a,z:c}=t,{x:d,y:D,z:v}=r,{x:C,y:f,z:w}=i,F=a*v-D*c-a*w+f*c+D*w-f*v,T=-(l*v-d*c-l*w+C*c+d*w-C*v),R=l*D-d*a-l*f+C*a+d*f-C*D,ee=-(l*D*w-l*f*v-d*a*w+d*f*c+C*a*v-C*D*c),re=2*(d-l),ae=2*(D-a),ce=2*(v-c),ue=l*l+a*a+c*c-d*d-D*D-v*v,de=2*(C-l),A=2*(f-a),oe=2*(w-c),le=l*l+a*a+c*c-C*C-f*f-w*w,ie=-(T*ce*le-T*oe*ue-ae*R*le+ae*oe*ee+A*R*ue-A*ce*ee)/(F*ae*oe-F*A*ce-re*T*oe+re*A*R+de*T*ce-de*ae*R),I=(F*ce*le-F*oe*ue-re*R*le+re*oe*ee+de*R*ue-de*ce*ee)/(F*ae*oe-F*A*ce-re*T*oe+re*A*R+de*T*ce-de*ae*R),j=-(F*ae*le-F*A*ue-re*T*le+re*A*ee+de*T*ue-de*ae*ee)/(F*ae*oe-F*A*ce-re*T*oe+re*A*R+de*T*ce-de*ae*R);return new THREE.Vector3(ie,I,j)};function RD(){const e=new MrxDbgUiPrPoint;let t=new eC;P.use(t),t.closed=!1;let r=0,i="default",l=!0;const a=()=>{e.setUserDraw((F,T)=>{t.radius=l?t.center.distanceTo(F):t.center.distanceTo(F)/2,T.drawCustomEntity(t),T.drawLine(t.center,F)})},c=F=>{if(i==="default"){if(F===MrxDbgUiPrBaseReturn$1.kOk){if(r===0)e.setMessage(`
\u6307\u5B9A\u5706\u7684\u534A\u5F84:`),e.setKeyWords("[\u76F4\u5F84(D)]"),t.center=e.value(),a();else if(r===1)return MxFun$1.getCurrentDraw().addMxEntity(t),!0;r++}F===MrxDbgUiPrBaseReturn$1.kKeyWord&&e.isKeyWordPicked("D")&&(l=!1,a(),e.setMessage(`
\u6307\u5B9A\u5706\u7684\u76F4\u5F84:`),e.setKeyWords(""))}};let d=[];const D=F=>{if(i==="3P"&&(e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E00\u4E2A\u70B9:`),F===MrxDbgUiPrBaseReturn$1.kOk)){if(r===0&&(d.push(e.value()),e.setUserDraw((T,R)=>{R.drawLine(d[0],T)}),e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E8C\u4E2A\u70B9:`)),r===1&&(d.push(e.value()),e.setUserDraw((T,R)=>{const[ee,re]=d,ae=T;t.center=iD([ee,re,ae]),t.radius=t.center.distanceTo(ee),R.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E09\u4E2A\u70B9:`)),r===2)return d.push(e.value()),t.center=iD(d),t.radius=t.center.distanceTo(d[0]),MxFun$1.getCurrentDraw().addMxEntity(t),!0;r++}};let v;const C=(F,T)=>{new THREE.Line3(F,T).getCenter(t.center),t.radius=T.distanceTo(F)/2},f=F=>{if(i==="2P"&&(e.setMessage(`
\u6307\u5B9A\u5706\u76F4\u5F84\u7684\u7B2C\u4E00\u4E2A\u7AEF\u70B9:`),F===MrxDbgUiPrBaseReturn$1.kOk)){if(r===0&&(v=e.value(),e.setUserDraw((T,R)=>{C(v,T),R.drawCustomEntity(t),R.drawLine(v,T)}),e.setMessage(`
\u6307\u5B9A\u5706\u76F4\u5F84\u7684\u7B2C\u4E8C\u4E2A\u7AEF\u70B9:`)),r===1)return C(v,e.value()),MxFun$1.getCurrentDraw().addMxEntity(t),!0;r++}},w=F=>{if(i==="T"){if(e.setMessage(`
\u6307\u5B9A\u5BF9\u8C61\u4E0E\u5706\u7684\u7B2C\u4E00\u4E2A\u5207\u70B9:`),F===MrxDbgUiPrBaseReturn$1.kOk){if(r===0){const T=e.value();console.log(T),MxFun$1.getCurrentDraw()}r++}return!0}};e.setMessage(`
\u6307\u5B9A\u5706\u7684\u5706\u5FC3\u6216[\u4E09\u70B9(3P)/\u4E24\u70B9(2P)/\u5207\u70B9\u3001\u5207\u70B9\u3001\u534A\u5F84(T)]:`),e.setKeyWords("3P 2P T"),e.goWhile(F=>{if(F===MrxDbgUiPrBaseReturn$1.kKeyWord&&(e.isKeyWordPicked("3P")?i="3P":e.isKeyWordPicked("2P")?i="2P":e.isKeyWordPicked("T")&&(i="T")),c(F))return{exit:!0};if(D(F))return{exit:!0};if(f(F))return{exit:!0};if(w(F))return{exit:!0}},F=>{F===MrxDbgUiPrBaseReturn$1.kCancel&&MxFun$1.getCurrentDraw().addMxEntity(t)})}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Circle",RD)});const rD=()=>store$1.state.MxFun.stopRunCommand();function Y(e,t,r,i){const l=e-r,a=t-i;let c=0;return l==0?c=Math.PI/2:c=Math.atan(Math.abs(a/l)),l<0&&a>=0?c=Math.PI-c:l<0&&a<0?c=Math.PI+c:l>=0&&a<0&&(c=Math.PI*2-c),c}async function vD(){const e=new MrxDbgUiPrPoint;let t=new H,r=[];e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let i=await e.go();e.setUserDraw((a,c)=>{r.forEach(d=>{c.drawCustomEntity(d)}),c.drawLine(i,a)});const l=()=>{e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),r.length>1?e.setKeyWords("[\u9000\u51FA(E)/\u95ED\u5408(C)/\u653E\u5F03(U)]"):e.setKeyWords("[\u9000\u51FA(E)/\u653E\u5F03(U)]")};l(),e.goWhile(a=>{if(a===MrxDbgUiPrBaseReturn$1.kOk&&(t=new H,P.use(t),t.pt1=i,t.pt2=e.value(),i=t.pt2.clone(),r.push(t),l()),a===MrxDbgUiPrBaseReturn$1.kKeyWord){if(e.isKeyWordPicked("E"))rD();else if(e.isKeyWordPicked("C")){const c=new H;return c.pt1=i.clone(),c.pt2=r[0].pt1.clone(),P.use(c),r.push(c),i=c.pt2.clone(),rD(),{exit:!0}}}},a=>(a===MrxDbgUiPrBaseReturn$1.kCancel&&r.forEach(c=>{MxFun$1.getCurrentDraw().addMxEntity(c)}),{exit:!0}))}async function tC(){{const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=await e.go();if(!t)return;let r=new _,i=new q;i.textString="\u6D4B\u8BD5Test",i.height=MxFun$1.viewCoordLong2Cad(100),r.startPoint=s.NewMcGePoint3d(t),e.setUserDraw((a,c)=>{r.endPoint=s.NewMcGePoint3d(a),i.position=s.NewMcGePoint3d(a),i.alignmentPoint=i.position,c.drawMcDbEntity(r),c.drawMcDbEntity(i)}),e.setMessage(`
\u6307\u5B9A\u4E8C\u70B9:`),await e.go();let l=s.App.GetCurrentMxCAD();l.DrawEntity(i),l.DrawEntity(r)}}async function iC(){let e=new hD;e.allSelect();let t=e.count(),r=0;for(;r<t;r++){let i=e.item(r),l=i.getObjectName();if(l=="McDbAlignedDimension"||l=="McDbRotatedDimension"){let a=i.getMcDbObject().explode();if(a.GetCount()==0)return;let c=a.GetCount();for(let d=0;d<c;d++){let D=a.AtObject(d).val;D?.ObjectName=="McDbMText"&&console.log(D.contents)}}}}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Line",vD),MxFun$1.addCommand("Mx_TestDraw",tC),MxFun$1.addCommand("Mx_Test_GetDim",iC)});async function LD(){const e=new MrxDbgUiPrPoint,t=new zD;P.use(t),e.setMessage(`
\u6307\u5B9A\u8D77\u70B9:`);let r;e.setUserDraw((i,l)=>{l.drawCustomEntity(t),r&&l.drawLine(r,i)}),e.goWhile(i=>{if(i===MrxDbgUiPrBaseReturn$1.kOk){const l=e.value();t.points.push(e.value()),r=l,e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),e.setKeyWords("[\u5706\u5F27(A)/\u5BBD\u5EA6(W)]")}else i===MrxDbgUiPrBaseReturn$1.kKeyWord&&(e.isKeyWordPicked("A"),e.isKeyWordPicked("W"))},i=>{i===MrxDbgUiPrBaseReturn$1.kCancel&&MxFun$1.getCurrentDraw().addMxEntity(t)})}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Pline",LD)});async function SD(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=await e.go(),r=new BD;r.setCenter(t.x,t.y,t.z);let i=5;e.setUserDraw((l,a)=>{r.radius=t.distanceTo(l);let c=r.getEndParam().val,d=r.getDistAtParam(c).val/i,D=0,v=new THREE.Vector3,C=new THREE.Vector3;for(let f=0;f<i;f++){let w=r.getPointAtDist(D).val;D+=d,f>0?a.drawMcDbLine(w.x,w.y,w.z,v.x,v.y,v.z):C=new THREE.Vector3(w.x,w.y,w.z),f==i-1&&a.drawMcDbLine(w.x,w.y,w.z,C.x,C.y,C.z),v=new THREE.Vector3(w.x,w.y,w.z)}}),e.setMessage(`
\u6307\u5B9A\u4E8C\u70B9:`),await e.go(),e.drawReserve()}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Polygon",SD)});function sC(e,t,r){const i=e.x,l=t.x,a=r.x,c=e.y,d=t.y,D=r.y,v=i-l,C=c-d,f=i-a,w=c-D,F=(i*i-l*l+(c*c-d*d))/2,T=(i*i-a*a+(c*c-D*D))/2,R=C*f-v*w,ee=-(w*F-C*T)/R,re=-(v*T-f*F)/R;return new THREE.Vector3(ee,re,0)}function nC(e,t){const r=e.x,i=e.y,l=t.x,a=t.y;return Math.sqrt((r-l)*(r-l)+(i-a)*(i-a))}function oC(e,t,r){let i;e<r?i=r-e:i=r-e+360;let l;return e<t?l=t-e:l=t-e+360,l>i}function Q(e,t,r){const i=e.x,l=t.x,a=e.y,c=t.y;let d,D,v;return d=(a-c)/r,D=(i-l)/r,D>=.99999&&(D=.99999),D<=-.99999&&(D=-.99999),v=Math.acos(D),v=v/Math.PI*180,d<-.05&&(v=360-v),{sin:d,cos:D,angle:v}}const z=Mx.MrxDbgUiPrBaseReturn,b=(e,t,r)=>{const i=()=>{e.go(l=>{if(l===z.kKeyWord&&r()&&i(),l===z.kOk&&t()&&i(),l===z.kNone&&i(),l===z.kCancel)return{exit:!0}})};return i};class tD extends MxDbCircleShape{constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"bulge"]}getTypeName(){return"MxDbCircle"}create(){return new tD}getArcBulge(t,r,i){const l=t.distanceTo(r);let a=2*new THREE.Line3(t,r).getCenter(new THREE.Vector3).distanceTo(i)/l;return a>.9999&&a<1.0001?a=1:a<-.9999&&a>-1.0001?a=-1:Math.abs(a)<1e-10&&(a=0),a}getArcMidPoint(t,r,i,l,a){const c=t,d=i*Math.PI/180;let D=l*Math.PI/180;const v=new THREE.Vector3,C=new THREE.Vector3;v.x=c.x+r*Math.cos(d),v.y=c.y+r*Math.sin(d),C.x=c.x+r*Math.cos(D),C.y=c.y+r*Math.sin(D);const f=r;(a?i<l:i>l)&&(D+=Math.PI*2);const w=new THREE.Vector3;return w.x=c.x+f*Math.cos((d+D)/2),w.y=c.y+f*Math.sin((d+D)/2),[v,w,C,this.center]}getGripPoints(){return this.getArcMidPoint(this.center,this.radius,THREE.MathUtils.radToDeg(this.startAngle),THREE.MathUtils.radToDeg(this.endAngle),this.clockwise)}moveGripPointsAt(t,r){if(t===3)return this.center.add(r),!0;const i=this.getGripPoints();return this.upDatePoints(i,t,r),!0}upDatePoints(t,r,i){t[r].add(i);const[l,a,c]=t;this.center=sC(l,c,a),this.radius=nC(a,this.center);const d=Q(l,this.center,this.radius),D=Q(c,this.center,this.radius),v=Q(a,this.center,this.radius);this.clockwise=oC(D.angle,d.angle,v.angle),this.startAngle=THREE.MathUtils.degToRad(d.angle),this.endAngle=THREE.MathUtils.degToRad(D.angle)}}async function OD(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u8D77\u70B9:`),e.setKeyWords("[\u5706\u5FC3(C)]");let t=new tD;t.closed=!1,P.use(t);let r,i,l;const a=b(e,()=>{r=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7B2C\u4E8C\u4E2A\u70B9:`),e.setKeyWords("[\u5706\u5FC3(C)/\u7AEF\u70B9(E)]"),e.setUserDraw((ee,re)=>{re.drawLine(r,ee)}),T()},()=>{if(e.isKeyWordPicked("C")){const ee=new K;t.center=e.value(),ee.center=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3:`),e.setKeyWords(""),d()}else return!0});let c;const d=b(e,()=>{c=e.value(),l=new K,l.closed=!1,P.use(l),l.center=c,t.center=c,e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u8D77\u70B9:`),e.setUserDraw((ee,re)=>{re.drawCustomEntity(l),re.drawLine(c,ee)}),C()},()=>{});let D,v;const C=b(e,()=>{D=e.value(),l.endPoint=D,e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7AEF\u70B9(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u89D2\u5EA6(A)/\u5F26\u957F(L)/\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("A L R"),v=new H,v.setDashLineDisplay(!0),v.setDashArray(.05),v.setLineWidth(2),v.setColor("#ffd30d"),v.pt1=l.center,e.setUserDraw((ee,re)=>{l.startPoint=ee,v.pt2=ee,re.drawCustomEntity(l),re.drawCustomEntity(v)}),w()},()=>{});let f;const w=b(e,()=>{f=e.value(),l.startPoint=f,l.endPoint=D,MxFun$1.getCurrentDraw().addMxEntity(l)},()=>{if(e.isKeyWordPicked("A"))return e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5939\u89D2(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("R"),e.setUserDraw((ee,re)=>{l.startPoint=ee,re.drawCustomEntity(l),re.drawCustomEntity(v)}),!0;if(e.isKeyWordPicked("L"))return e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5939\u89D2(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("R"),e.setUserDraw((ee,re)=>{l.startPoint=ee,re.drawCustomEntity(l),re.drawCustomEntity(v)}),!0;if(e.isKeyWordPicked("R"))e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u534A\u5F84${l.radius?"<"+l.radius+">":""}:`),e.setKeyWords(""),e.setUserDraw((ee,re)=>{re.drawLine(ee,l.center),l.startPoint=ee,re.drawCustomEntity(l)}),C();else return!0});let F;const T=b(e,()=>{F=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7AEF\u70B9:`),i=new HD,i.autoClockwise=!0,i.closed=!1,P.use(i),i.point1=r,i.point3=F,t.center,e.setUserDraw((ee,re)=>{i.point2=ee,re.drawCustomEntity(t)}),R()},()=>{if(e.isKeyWordPicked("C"))l=new K,l.closed=!1,P.use(l),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3`),e.setKeyWords(""),e.setUserDraw((ee,re)=>{l.startPoint=r,re.drawLine(ee,l.startPoint)}),d();else if(e.isKeyWordPicked("E"))l=new K,l.closed=!1,P.use(l),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3`),e.setKeyWords(""),e.setUserDraw((ee,re)=>{l.startPoint=r,re.drawLine(ee,l.startPoint)}),d();else return!0}),R=b(e,()=>{i.point1=r,i.point2=e.value(),i.point3=F,MxFun$1.getCurrentDraw().addMxEntity(i)},()=>{if(e.isKeyWordPicked("C"))console.log("C");else if(e.isKeyWordPicked("E"))console.log("E");else return!0});a()}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Arc",OD)});function jD(){const e=new MrxDbgUiPrPoint,t=new MxDbEllipseShape;t.closed=!1,P.use(t),e.setMessage(`
\u6307\u5B9A\u692D\u5706\u7684\u8F74\u7AEF\u70B9`),e.setKeyWords("[\u4E2D\u5FC3\u70B9(C)]");let r,i=new THREE.Vector3;b(e,()=>{r=e.value(),e.setUserDraw((D,v)=>{const C=new THREE.Line3(r,D);C.getCenter(i),t.center=i,t.xRadius=C.distance()/2,t.yRadius=t.xRadius,t.rotation=Y(D.x,D.y,i.x,i.y),v.drawLine(D,r)}),e.setMessage(`
\u6307\u5B9A\u692D\u5706\u5F27\u8F74\u7684\u53E6\u4E00\u4E2A\u7AEF\u70B9:`),e.setKeyWords(""),l()},()=>{})();const l=b(e,()=>{e.setUserDraw((D,v)=>{t.yRadius=i.distanceTo(D),v.drawLine(i,D),v.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u53E6\u4E00\u6761\u534A\u8F74\u957F\u5EA6`),e.setKeyWords(""),a()},()=>{}),a=b(e,()=>{e.setMessage(`
\u6307\u5B9A\u8D77\u59CB\u89D2\u5EA6`),e.setKeyWords(""),e.setUserDraw((D,v)=>{t.startAngle=Y(D.x,D.y,i.x,i.y)-t.rotation,v.drawLine(i,D),v.drawCustomEntity(t)}),c()},()=>{}),c=b(e,()=>{e.setUserDraw((D,v)=>{t.endAngle=Y(D.x,D.y,i.x,i.y)-t.rotation,v.drawLine(i,D),v.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u7EC8\u6B62\u89D2\u5EA6`),e.setKeyWords(""),d()},()=>{}),d=b(e,()=>{MxFun$1.getCurrentDraw().addMxEntity(t)},()=>{})}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_EllipseArc",jD)});async function GD(){(await FD.selectEnt(`
\u9009\u62E9\u5220\u9664\u5BF9\u8C61`)).forEach(e=>{e.erase()})}store$1.events.on("MxDbEntityRegister",()=>{MxFun$1.addCommand("Mx_Erase",GD)});const isElectron=()=>!0,MxElectronAPI=window.MxElectronAPI,configMap=new Map,getConfig=async e=>{if(configMap.has(e))return configMap.get(e);try{const t=await(await fetch(e)).json();return configMap.set(e,t),t}catch(t){console.error("error Config:"+e,t)}};let serverConfig;const fetchServerConfig=async()=>{serverConfig||(serverConfig=await getConfig(new URL(""+new URL("../mxServerConfig.json",import.meta.url).href,self.location).href))},getUploadFileConfig=()=>serverConfig?.uploadFileConfig,getWasmConfig=()=>serverConfig?.wasmConfig;let database,mxcadObj$1;const initDataBase=e=>{!e||(mxcadObj$1=e,database=mxcadObj$1.GetDatabase())},getDatabase=()=>(database||initDataBase(mxcadObj$1),database);var colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function e(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function e(t){for(var r=[],i=0,l=t.length;i<l;i++){var a=t[i];isArrayish(a)?r=concat.call(r,slice.call(a)):r.push(a)}return r};swizzle$1.wrap=function(e){return function(){return e(swizzle$1(arguments))}};var colorNames=colorName,swizzle=simpleSwizzle.exports,hasOwnProperty$1=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty$1.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(e){var t=e.substring(0,3).toLowerCase(),r,i;switch(t){case"hsl":r=cs.get.hsl(e),i="hsl";break;case"hwb":r=cs.get.hwb(e),i="hwb";break;default:r=cs.get.rgb(e),i="rgb";break}return r?{model:i,value:r}:null};cs.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,l=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,c=[0,0,0,1],d,D,v;if(d=e.match(r)){for(v=d[2],d=d[1],D=0;D<3;D++){var C=D*2;c[D]=parseInt(d.slice(C,C+2),16)}v&&(c[3]=parseInt(v,16)/255)}else if(d=e.match(t)){for(d=d[1],v=d[3],D=0;D<3;D++)c[D]=parseInt(d[D]+d[D],16);v&&(c[3]=parseInt(v+v,16)/255)}else if(d=e.match(i)){for(D=0;D<3;D++)c[D]=parseInt(d[D+1],0);d[4]&&(d[5]?c[3]=parseFloat(d[4])*.01:c[3]=parseFloat(d[4]))}else if(d=e.match(l)){for(D=0;D<3;D++)c[D]=Math.round(parseFloat(d[D+1])*2.55);d[4]&&(d[5]?c[3]=parseFloat(d[4])*.01:c[3]=parseFloat(d[4]))}else return(d=e.match(a))?d[1]==="transparent"?[0,0,0,0]:hasOwnProperty$1.call(colorNames,d[1])?(c=colorNames[d[1]],c[3]=1,c):null:null;for(D=0;D<3;D++)c[D]=clamp$1(c[D],0,255);return c[3]=clamp$1(c[3],0,1),c};cs.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),l=(parseFloat(r[1])%360+360)%360,a=clamp$1(parseFloat(r[2]),0,100),c=clamp$1(parseFloat(r[3]),0,100),d=clamp$1(isNaN(i)?1:i,0,1);return[l,a,c,d]}return null};cs.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),l=(parseFloat(r[1])%360+360)%360,a=clamp$1(parseFloat(r[2]),0,100),c=clamp$1(parseFloat(r[3]),0,100),d=clamp$1(isNaN(i)?1:i,0,1);return[l,a,c,d]}return null};cs.to.hex=function(){var e=swizzle(arguments);return"#"+hexDouble(e[0])+hexDouble(e[1])+hexDouble(e[2])+(e[3]<1?hexDouble(Math.round(e[3]*255)):"")};cs.to.rgb=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};cs.to.rgb.percent=function(){var e=swizzle(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+i+"%)":"rgba("+t+"%, "+r+"%, "+i+"%, "+e[3]+")"};cs.to.hsl=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};cs.to.hwb=function(){var e=swizzle(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};cs.to.keyword=function(e){return reverseNames[e.slice(0,3)]};function clamp$1(e,t,r){return Math.min(Math.max(t,e),r)}function hexDouble(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}const cssKeywords=colorName,reverseKeywords={};for(const e of Object.keys(cssKeywords))reverseKeywords[cssKeywords[e]]=e;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const e of Object.keys(convert$2)){if(!("channels"in convert$2[e]))throw new Error("missing channels property: "+e);if(!("labels"in convert$2[e]))throw new Error("missing channel labels property: "+e);if(convert$2[e].labels.length!==convert$2[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=convert$2[e];delete convert$2[e].channels,delete convert$2[e].labels,Object.defineProperty(convert$2[e],"channels",{value:t}),Object.defineProperty(convert$2[e],"labels",{value:r})}convert$2.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,l=Math.min(t,r,i),a=Math.max(t,r,i),c=a-l;let d,D;a===l?d=0:t===a?d=(r-i)/c:r===a?d=2+(i-t)/c:i===a&&(d=4+(t-r)/c),d=Math.min(d*60,360),d<0&&(d+=360);const v=(l+a)/2;return a===l?D=0:v<=.5?D=c/(a+l):D=c/(2-a-l),[d,D*100,v*100]};convert$2.rgb.hsv=function(e){let t,r,i,l,a;const c=e[0]/255,d=e[1]/255,D=e[2]/255,v=Math.max(c,d,D),C=v-Math.min(c,d,D),f=function(w){return(v-w)/6/C+1/2};return C===0?(l=0,a=0):(a=C/v,t=f(c),r=f(d),i=f(D),c===v?l=i-r:d===v?l=1/3+t-i:D===v&&(l=2/3+r-t),l<0?l+=1:l>1&&(l-=1)),[l*360,a*100,v*100]};convert$2.rgb.hwb=function(e){const t=e[0],r=e[1];let i=e[2];const l=convert$2.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[l,a*100,i*100]};convert$2.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,l=Math.min(1-t,1-r,1-i),a=(1-t-l)/(1-l)||0,c=(1-r-l)/(1-l)||0,d=(1-i-l)/(1-l)||0;return[a*100,c*100,d*100,l*100]};function comparativeDistance(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}convert$2.rgb.keyword=function(e){const t=reverseKeywords[e];if(t)return t;let r=1/0,i;for(const l of Object.keys(cssKeywords)){const a=cssKeywords[l],c=comparativeDistance(e,a);c<r&&(r=c,i=l)}return i};convert$2.keyword.rgb=function(e){return cssKeywords[e]};convert$2.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const l=t*.4124+r*.3576+i*.1805,a=t*.2126+r*.7152+i*.0722,c=t*.0193+r*.1192+i*.9505;return[l*100,a*100,c*100]};convert$2.rgb.lab=function(e){const t=convert$2.rgb.xyz(e);let r=t[0],i=t[1],l=t[2];r/=95.047,i/=100,l/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const a=116*i-16,c=500*(r-i),d=200*(i-l);return[a,c,d]};convert$2.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,i=e[2]/100;let l,a,c;if(r===0)return c=i*255,[c,c,c];i<.5?l=i*(1+r):l=i+r-i*r;const d=2*i-l,D=[0,0,0];for(let v=0;v<3;v++)a=t+1/3*-(v-1),a<0&&a++,a>1&&a--,6*a<1?c=d+(l-d)*6*a:2*a<1?c=l:3*a<2?c=d+(l-d)*(2/3-a)*6:c=d,D[v]=c*255;return D};convert$2.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,i=e[2]/100,l=r;const a=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,l*=a<=1?a:2-a;const c=(i+r)/2,d=i===0?2*l/(a+l):2*r/(i+r);return[t,d*100,c*100]};convert$2.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let i=e[2]/100;const l=Math.floor(t)%6,a=t-Math.floor(t),c=255*i*(1-r),d=255*i*(1-r*a),D=255*i*(1-r*(1-a));switch(i*=255,l){case 0:return[i,D,c];case 1:return[d,i,c];case 2:return[c,i,D];case 3:return[c,d,i];case 4:return[D,c,i];case 5:return[i,c,d]}};convert$2.hsv.hsl=function(e){const t=e[0],r=e[1]/100,i=e[2]/100,l=Math.max(i,.01);let a,c;c=(2-r)*i;const d=(2-r)*l;return a=r*l,a/=d<=1?d:2-d,a=a||0,c/=2,[t,a*100,c*100]};convert$2.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,i=e[2]/100;const l=r+i;let a;l>1&&(r/=l,i/=l);const c=Math.floor(6*t),d=1-i;a=6*t-c,(c&1)!==0&&(a=1-a);const D=r+a*(d-r);let v,C,f;switch(c){default:case 6:case 0:v=d,C=D,f=r;break;case 1:v=D,C=d,f=r;break;case 2:v=r,C=d,f=D;break;case 3:v=r,C=D,f=d;break;case 4:v=D,C=r,f=d;break;case 5:v=d,C=r,f=D;break}return[v*255,C*255,f*255]};convert$2.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,i=e[2]/100,l=e[3]/100,a=1-Math.min(1,t*(1-l)+l),c=1-Math.min(1,r*(1-l)+l),d=1-Math.min(1,i*(1-l)+l);return[a*255,c*255,d*255]};convert$2.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,i=e[2]/100;let l,a,c;return l=t*3.2406+r*-1.5372+i*-.4986,a=t*-.9689+r*1.8758+i*.0415,c=t*.0557+r*-.204+i*1.057,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,l=Math.min(Math.max(0,l),1),a=Math.min(Math.max(0,a),1),c=Math.min(Math.max(0,c),1),[l*255,a*255,c*255]};convert$2.xyz.lab=function(e){let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const l=116*r-16,a=500*(t-r),c=200*(r-i);return[l,a,c]};convert$2.lab.xyz=function(e){const t=e[0],r=e[1],i=e[2];let l,a,c;a=(t+16)/116,l=r/500+a,c=a-i/200;const d=a**3,D=l**3,v=c**3;return a=d>.008856?d:(a-16/116)/7.787,l=D>.008856?D:(l-16/116)/7.787,c=v>.008856?v:(c-16/116)/7.787,l*=95.047,a*=100,c*=108.883,[l,a,c]};convert$2.lab.lch=function(e){const t=e[0],r=e[1],i=e[2];let l;l=Math.atan2(i,r)*360/2/Math.PI,l<0&&(l+=360);const c=Math.sqrt(r*r+i*i);return[t,c,l]};convert$2.lch.lab=function(e){const t=e[0],r=e[1],l=e[2]/360*2*Math.PI,a=r*Math.cos(l),c=r*Math.sin(l);return[t,a,c]};convert$2.rgb.ansi16=function(e,t=null){const[r,i,l]=e;let a=t===null?convert$2.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let c=30+(Math.round(l/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return a===2&&(c+=60),c};convert$2.hsv.ansi16=function(e){return convert$2.rgb.ansi16(convert$2.hsv.rgb(e),e[2])};convert$2.rgb.ansi256=function(e){const t=e[0],r=e[1],i=e[2];return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};convert$2.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,i=(t&1)*r*255,l=(t>>1&1)*r*255,a=(t>>2&1)*r*255;return[i,l,a]};convert$2.ansi256.rgb=function(e){if(e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let t;const r=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,l=t%6/5*255;return[r,i,l]};convert$2.rgb.hex=function(e){const r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};convert$2.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(d=>d+d).join(""));const i=parseInt(r,16),l=i>>16&255,a=i>>8&255,c=i&255;return[l,a,c]};convert$2.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,l=Math.max(Math.max(t,r),i),a=Math.min(Math.min(t,r),i),c=l-a;let d,D;return c<1?d=a/(1-c):d=0,c<=0?D=0:l===t?D=(r-i)/c%6:l===r?D=2+(i-t)/c:D=4+(t-r)/c,D/=6,D%=1,[D*360,c*100,d*100]};convert$2.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,i=r<.5?2*t*r:2*t*(1-r);let l=0;return i<1&&(l=(r-.5*i)/(1-i)),[e[0],i*100,l*100]};convert$2.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,i=t*r;let l=0;return i<1&&(l=(r-i)/(1-i)),[e[0],i*100,l*100]};convert$2.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,i=e[2]/100;if(r===0)return[i*255,i*255,i*255];const l=[0,0,0],a=t%1*6,c=a%1,d=1-c;let D=0;switch(Math.floor(a)){case 0:l[0]=1,l[1]=c,l[2]=0;break;case 1:l[0]=d,l[1]=1,l[2]=0;break;case 2:l[0]=0,l[1]=1,l[2]=c;break;case 3:l[0]=0,l[1]=d,l[2]=1;break;case 4:l[0]=c,l[1]=0,l[2]=1;break;default:l[0]=1,l[1]=0,l[2]=d}return D=(1-r)*i,[(r*l[0]+D)*255,(r*l[1]+D)*255,(r*l[2]+D)*255]};convert$2.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,i=t+r*(1-t);let l=0;return i>0&&(l=t/i),[e[0],l*100,i*100]};convert$2.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let l=0;return i>0&&i<.5?l=t/(2*i):i>=.5&&i<1&&(l=t/(2*(1-i))),[e[0],l*100,i*100]};convert$2.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]};convert$2.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,l=i-t;let a=0;return l<1&&(a=(i-l)/(1-l)),[e[0],l*100,a*100]};convert$2.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};convert$2.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};convert$2.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};convert$2.gray.hsl=function(e){return[0,0,e[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(e){return[0,100,e[0]]};convert$2.gray.cmyk=function(e){return[0,0,0,e[0]]};convert$2.gray.lab=function(e){return[e[0],0,0]};convert$2.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};convert$2.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const e={},t=Object.keys(conversions$1);for(let r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function deriveBFS(e){const t=buildGraph(),r=[e];for(t[e].distance=0;r.length;){const i=r.pop(),l=Object.keys(conversions$1[i]);for(let a=l.length,c=0;c<a;c++){const d=l[c],D=t[d];D.distance===-1&&(D.distance=t[i].distance+1,D.parent=i,r.unshift(d))}}return t}function link(e,t){return function(r){return t(e(r))}}function wrapConversion(e,t){const r=[t[e].parent,e];let i=conversions$1[t[e].parent][e],l=t[e].parent;for(;t[l].parent;)r.unshift(t[l].parent),i=link(conversions$1[t[l].parent][l],i),l=t[l].parent;return i.conversion=r,i}var route$1=function(e){const t=deriveBFS(e),r={},i=Object.keys(t);for(let l=i.length,a=0;a<l;a++){const c=i[a];t[c].parent!==null&&(r[c]=wrapConversion(c,t))}return r};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(e){const t=function(...r){const i=r[0];return i==null?i:(i.length>1&&(r=i),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function wrapRounded(e){const t=function(...r){const i=r[0];if(i==null)return i;i.length>1&&(r=i);const l=e(r);if(typeof l=="object")for(let a=l.length,c=0;c<a;c++)l[c]=Math.round(l[c]);return l};return"conversion"in e&&(t.conversion=e.conversion),t}models.forEach(e=>{convert$1[e]={},Object.defineProperty(convert$1[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert$1[e],"labels",{value:conversions[e].labels});const t=route(e);Object.keys(t).forEach(i=>{const l=t[i];convert$1[e][i]=wrapRounded(l),convert$1[e][i].raw=wrapRaw(l)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const e of Object.keys(convert))hashedModelKeys[[...convert[e].labels].sort().join("")]=e;const limiters={};function Color(e,t){if(!(this instanceof Color))return new Color(e,t);if(t&&t in skippedModels&&(t=null),t&&!(t in convert))throw new Error("Unknown model: "+t);let r,i;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Color)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const l=colorString.get(e);if(l===null)throw new Error("Unable to parse color from string: "+e);this.model=l.model,i=convert[this.model].channels,this.color=l.value.slice(0,i),this.valpha=typeof l.value[i]=="number"?l.value[i]:1}else if(e.length>0){this.model=t||"rgb",i=convert[this.model].channels;const l=Array.prototype.slice.call(e,0,i);this.color=zeroArray(l,i),this.valpha=typeof e[i]=="number"?e[i]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const l=Object.keys(e);"alpha"in e&&(l.splice(l.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=l.sort().join("");if(!(a in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=hashedModelKeys[a];const{labels:c}=convert[this.model],d=[];for(r=0;r<c.length;r++)d.push(e[c[r]]);this.color=zeroArray(d)}if(limiters[this.model])for(i=convert[this.model].channels,r=0;r<i;r++){const l=limiters[this.model][r];l&&(this.color[r]=l(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in colorString.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const r=t.valpha===1?t.color:[...t.color,this.valpha];return colorString.to[t.model](r)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return colorString.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=convert[this.model],{labels:r}=convert[this.model];for(let i=0;i<t;i++)e[r[i]]=this.color[i];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Color([...this.color.map(roundToPlace(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new Color([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(e){return e!==void 0?new Color(e):convert[this.model].keyword(this.color)},hex(e){return e!==void 0?new Color(e):colorString.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new Color(e);const t=this.rgb().round().color;let r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),colorString.to.hex(t)+r},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[r,i]of e.entries()){const l=i/255;t[r]=l<=.04045?l/12.92:((l+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Color.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),i=this.rgb(),l=t===void 0?.5:t,a=2*l-1,c=r.alpha()-i.alpha(),d=((a*c===-1?a:(a+c)/(1+a*c))+1)/2,D=1-d;return Color.rgb(d*r.red()+D*i.red(),d*r.green()+D*i.green(),d*r.blue()+D*i.blue(),r.alpha()*l+i.alpha()*(1-l))}};for(const e of Object.keys(convert)){if(skippedModels.includes(e))continue;const{channels:t}=convert[e];Color.prototype[e]=function(...r){return this.model===e?new Color(this):r.length>0?new Color(r,e):new Color([...assertArray(convert[this.model][e].raw(this.color)),this.valpha],e)},Color[e]=function(...r){let i=r[0];return typeof i=="number"&&(i=zeroArray(r,t)),new Color(i,e)}}function roundTo(e,t){return Number(e.toFixed(t))}function roundToPlace(e){return function(t){return roundTo(t,e)}}function getset(e,t,r){e=Array.isArray(e)?e:[e];for(const i of e)(limiters[i]||(limiters[i]=[]))[t]=r;return e=e[0],function(i){let l;return i!==void 0?(r&&(i=r(i)),l=this[e](),l.color[t]=i,l):(l=this[e]().color[t],r&&(l=r(l)),l)}}function maxfn(e){return function(t){return Math.max(0,Math.min(e,t))}}function assertArray(e){return Array.isArray(e)?e:[e]}function zeroArray(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}var color=Color;const Color$1=color;new Color$1;var ColorMethod=(e=>(e[e.kByLayer=1]="kByLayer",e[e.kByBlock=2]="kByBlock",e[e.kByColor=3]="kByColor",e[e.kByACI=4]="kByACI",e[e.kByPen=5]="kByPen",e[e.kForeground=6]="kForeground",e[e.kLayerOff=7]="kLayerOff",e[e.kLayerFrozen=8]="kLayerFrozen",e[e.kNone=9]="kNone",e))(ColorMethod||{}),ColorNameType=(e=>(e[e.\u968F\u5757=0]="\u968F\u5757",e[e.\u7EA2\u8272=1]="\u7EA2\u8272",e[e.\u9EC4\u8272=2]="\u9EC4\u8272",e[e.\u7EFF\u8272=3]="\u7EFF\u8272",e[e.\u9752\u8272=4]="\u9752\u8272",e[e.\u84DD\u8272=5]="\u84DD\u8272",e[e.\u6D0B\u7EA2\u8272=6]="\u6D0B\u7EA2\u8272",e[e.\u767D\u8272=7]="\u767D\u8272",e[e.\u968F\u5C42=256]="\u968F\u5C42",e))(ColorNameType||{});const getColorName=e=>{if(e===-1)return;const t=ColorNameType[e];return t||e.toString()},createMxColor=e=>{const t=s.NewMcCmColor();if(e){const{red:r,green:i,blue:l,method:a}=e;t.setRGB(r,i,l),t.method=a;let c=indexOfMxColor(r,i,l,!1);c!=-1&&(t.colorIndex=c,t.method=4)}return t},toRGB=e=>Math.abs(e),reverseRGB=e=>e===0?255:e,toRGBCss=(e,t=!1)=>{let{red:r,green:i,blue:l,method:a,colorIndex:c}=e;return`rgb(${toRGB(r)}, ${toRGB(i)}, ${toRGB(l)})`},indexOfMxColor=(...e)=>{const[t,r,i,l=!1]=e;return s.App.mcedRGB2Index(t,r,i,l)},countColorInfo=(e,t)=>{const r=Color$1(e),i=r.red(),l=r.green(),a=r.blue(),c=indexOfMxColor(i,l,a);return c!==-1&&(t=4),c===7&&(e=`rgb(${reverseRGB(i)}, ${reverseRGB(l)}, ${reverseRGB(a)})`),{name:t===4?getColorName(c)||e:`rgb(${i},${l},${a})`,index:c,color:e,method:t}},getLayerTable=()=>getDatabase()?.GetLayerTable(),getLayerJson=()=>getLayerTable()?.getJson(),setLayerJson=e=>getLayerTable().setJson(e);let commands=[];const registerCommand=()=>{for(;commands.length!==0;){const e=commands.pop();if(e){const{cmd:t,fun:r}=e;MxFun$1.addCommand(t,r)}}},addCommand=(e,t)=>{store$1.state.MxFun!==null?MxFun$1.addCommand(e,t):commands.push({cmd:e,fun:t})},callCommand=MxFun$1.sendStringToExecute.bind(MxFun$1);var PointDotStyleStatus=(e=>(e.PDMODE="PDMODE",e.PDSIZE="PDSIZE",e))(PointDotStyleStatus||{});const pointDotStyleStatus=reactive({}),pointDotModeValues=[0,1,2,3,4,32,33,34,35,36,64,65,66,67,68,96,97,98,99,100],preservePointDotStyleStatus=()=>{const{PDMODE:e,PDSIZE:t}=unref(pointDotStyleStatus);typeof e<"u"&&setSysVarLog("PDMODE",Number(e)),typeof t<"u"&&setSysVarLog("PDSIZE",Number(t))},initPointDotStyleStatus=()=>{Object.keys(PointDotStyleStatus).forEach(e=>pointDotStyleStatus[e]=getSysVarLong(e))};var Status=(e=>(e[e.Off=0]="Off",e[e.On=1]="On",e))(Status||{}),SysVarLongSketchSettings=(e=>(e.GRIDMODE="\u6805\u683C",e.ORTHOMODE="\u6B63\u4EA4",e.AUTOSNAP="\u6781\u8F74",e.OSMODE="\u5BF9\u8C61\u6355\u6349",e.DYNTRACE="\u5BF9\u8C61\u8FFD\u8E2A",e.DYNINPUT="DIY",e.LWDISPLAY="\u7EBF\u5BBD",e))(SysVarLongSketchSettings||{}),SysVarLongSketchSettingsOsMode=(e=>(e[e.End=1]="End",e[e.Mid=2]="Mid",e[e.Cen=4]="Cen",e[e.Node=8]="Node",e[e.Quad=16]="Quad",e[e.Int=32]="Int",e[e.Ins=64]="Ins",e[e.Perp=128]="Perp",e[e.Tan=256]="Tan",e[e.Near=512]="Near",e[e.App=2048]="App",e[e.Ext=4096]="Ext",e[e.Par=8192]="Par",e[e.Off=16384]="Off",e))(SysVarLongSketchSettingsOsMode||{});const sysVarLongSketchSettingsKeys=Object.keys(SysVarLongSketchSettings),getSysVarLongSketchSettings=e=>{const t=getMxCadObj().GetSysVarLong(e);return SysVarLongSketchSettings[e]==="\u5BF9\u8C61\u6355\u6349"?(t&16384)===Status.Off?Status.On:Status.Off:t},setSysVarLongSketchSettings=(e,t)=>{if(SysVarLongSketchSettings[e]==="\u5BF9\u8C61\u6355\u6349"){const r=getSysVarLongSketchSettingsOsMode();if(typeof r>"u")return;t===Status.On?r|16384:r&-16385}return getMxCadObj().SetSysVarLong(e,t)},sysVarLongSketchSettings=reactive({}),getSysVarLongSketchSettingsOsMode=e=>{try{const t=getMxCadObj().GetSysVarLong("OSMODE");return typeof e>"u"?t:(t&e)===Status.Off?Status.Off:Status.On}catch{return}},setSysVarLongSketchSettingsOsMode=e=>getMxCadObj().SetSysVarLong("OSMODE",e),countSysVarLongSketchSettingsOsMode=(e,t,r=getSysVarLongSketchSettingsOsMode())=>{if(!(typeof r>"u"))return r=t?r|e:r&~e};function osModeRef(e){return customRef((t,r)=>{let i;return{get(){t();const l=getSysVarLongSketchSettingsOsMode(e);return typeof l===void 0||typeof i>"u"&&(i=l!==Status.Off),i},set(l){i=l,r()}}})}const initSysVarLongSketchSettings=()=>{sysVarLongSketchSettingsKeys.forEach(e=>{sysVarLongSketchSettings[e]=getSysVarLongSketchSettings(e)})};({...SysVarLongSketchSettings,...PointDotStyleStatus});const setSysVarLog=(e,t)=>{getMxCadObj().SetSysVarLong(e,t)},getSysVarLong=e=>getMxCadObj().GetSysVarLong(e),initSysVarLong=()=>{initSysVarLongSketchSettings(),initPointDotStyleStatus()},offset=60,messages=ref([]),addMessage=e=>{const t={id:new Date().getTime(),...e,top:offset*messages.value.length};messages.value.push(t);const r=()=>{removeMessage(t)};return setTimeout(r,t.duration||2e3),r},removeMessage=e=>{messages.value.indexOf(e)>=0&&(messages.value.splice(messages.value.indexOf(e),1),messages.value.map(r=>{r.top-=offset}))},success=(e,t)=>addMessage({message:e,type:"success",duration:t}),warning=(e,t)=>addMessage({message:e,type:"warning",duration:t}),info=(e,t)=>addMessage({message:e,type:"info",duration:t}),error=(e,t)=>addMessage({message:e,type:"error",duration:t}),message=info;message.success=success;message.warning=warning;message.info=info;message.error=error;const useMessage=()=>message,useMessageData=()=>({addMessage,removeMessage,messages});MxElectronAPI?.onShowMessage((e,t="success")=>{useMessage()[t](e)});function downloadFile(e,t){fetch(e).then(r=>r.blob()).then(r=>{const i=document.createElement("a");i.href=window.URL.createObjectURL(r),i.download=t,i.click()})}let mxcadObj;const getMxCadObj=()=>mxcadObj,createMxCAD=async e=>{loadMxCADassemblyImp().then(async()=>{MxFun$1.setIniset({EnableIntelliSelect:!0,multipleSelect:!1,autoResetRenderer:!1,correctLargeCoordinates:!0});const t="myCanvas";MxFun$1.createMxObject({canvasId:t,isCPPMxCAD:!0,...e,callback(r,i){r.initRendererParam({webgl2:!0}),r.setMouseMiddlePan(!0),r.on("initObject",()=>{r.isWebgl2()?console.log("MxTip: use webgl2"):console.log("MxTip: use webgl1");const l=MxFun$1.getMxFunTHREE();let a=new l.Vector2;r.getRenderer().getSize(a),console.log(s),mxcadObj=s.App.CreateMxCAD(a.width,a.height,e.canvasId||t,r.isWebgl2(),r.getId()),r.initMxCpp(mxcadObj),initDataBase(mxcadObj),initSysVarLong(),r.on("saveFileComplete",(c,d)=>{const D=useMessage();if(c==0){let v=JSON.parse(d);if(v&&v.file){const{baseUrl:C="",mxfilepath:f=""}=getUploadFileConfig()||{};let w=C+f+v.file;downloadFile(w,v.file),D.success("\u4FDD\u5B58\u6210\u529F")}}})}),e.callback&&e.callback(r,i)}}),registerCommand()})};function getFileWasm(e){const{url:t,type:r}=getWasmConfig()||{};if(typeof t<"u"&&t!==""){if(/^(https?|http):\/\//.test(t))return t+(t[length-1]==="/"?"":"/")+e;console.warn(`mxServerConfig.json wasmConfig \u914D\u7F6E\u9879url:${t}  \u683C\u5F0F\u4E0D\u5339\u914D, \u8BF7\u8F93\u5165\u5305\u542Bmxcad\u76F8\u5173wasm\u76EE\u5F55\u7684\u7F51\u7EDC\u8DEF\u5F84\u5730\u5740\u4F8B\u5982: https://unpkg.com/mxcad/dist/wasm/2d-st/`)}const i=new URL(Object.assign({"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.js":__vite_glob_0_0,"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.wasm":__vite_glob_0_1,"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.worker.js":__vite_glob_0_2})[`/node_modules/mxcad/dist/wasm/2d/${e}`],self.location).href;if(typeof r<"u"&&r!==""){if(r==="2d")return i;if(r==="2d-st")return new URL(Object.assign({"/node_modules/mxcad/dist/wasm/2d-st/mxdrawassembly_min.js":__vite_glob_1_0,"/node_modules/mxcad/dist/wasm/2d-st/mxdrawassembly_minst.wasm":__vite_glob_1_1})[`/node_modules/mxcad/dist/wasm/2d-st/${e}`],self.location).href;console.warn(`mxServerConfig.json wasmConfig \u914D\u7F6E\u9879type:${r} \u8F93\u5165\u4E0D\u6B63\u786E, \u76EE\u524D\u652F\u6301\u7684\u8F93\u5165: 2d\u548C2d-st`)}return i}async function loadMxCADassemblyImp(){return store$1.state.MxFun||await loadCoreCode(),s&&s.mxcadassemblyimp?Promise.resolve(!0):new Promise(async e=>{bD(()=>{e(!0)},getFileWasm,await MxElectronAPI.getWasmBinary())})}var isVue2=!1;function set(e,t,r){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,r),r):(e[t]=r,r)}function del(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var e;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(t,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=r;const i={};if(t.settings)for(const c in t.settings){const d=t.settings[c];i[c]=d.defaultValue}const l=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},i);try{const c=localStorage.getItem(l),d=JSON.parse(c);Object.assign(a,d)}catch{}this.fallbacks={getSettings(){return a},setSettings(c){try{localStorage.setItem(l,JSON.stringify(c))}catch{}a=c},now(){return now()}},r&&r.on(HOOK_PLUGIN_SETTINGS_SET,(c,d)=>{c===this.plugin.id&&this.fallbacks.setSettings(d)}),this.proxiedOn=new Proxy({},{get:(c,d)=>this.target?this.target.on[d]:(...D)=>{this.onQueue.push({method:d,args:D})}}),this.proxiedTarget=new Proxy({},{get:(c,d)=>this.target?this.target[d]:d==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(d)?(...D)=>(this.targetQueue.push({method:d,args:D,resolve:()=>{}}),this.fallbacks[d](...D)):(...D)=>new Promise(v=>{this.targetQueue.push({method:d,args:D,resolve:v})})})}async setRealTarget(t){this.target=t;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function setupDevtoolsPlugin(e,t){const r=e,i=getTarget(),l=getDevtoolsGlobalHook(),a=isProxyAvailable&&r.enableEarlyProxy;if(l&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))l.emit(HOOK_SETUP,e,t);else{const c=a?new ApiProxy(r,l):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:t,proxy:c}),c&&t(c.proxiedTarget)}}/*!
  * pinia v2.0.32
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol("pinia");function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));const IS_CLIENT=typeof window<"u",USE_DEVTOOLS=IS_CLIENT,_global$2=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function bom(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function download(e,t,r){const i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){saveAs(i.response,t,r)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function click(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}const _navigator=typeof navigator=="object"?navigator:{userAgent:""},isMacOSWebView=(()=>/Macintosh/.test(_navigator.userAgent)&&/AppleWebKit/.test(_navigator.userAgent)&&!/Safari/.test(_navigator.userAgent))(),saveAs=IS_CLIENT?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!isMacOSWebView?downloadSaveAs:"msSaveOrOpenBlob"in _navigator?msSaveAs:fileSaverSaveAs:()=>{};function downloadSaveAs(e,t="download",r){const i=document.createElement("a");i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?corsEnabled(i.href)?download(e,t,r):(i.target="_blank",click(i)):click(i)):(i.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(i.href)},4e4),setTimeout(function(){click(i)},0))}function msSaveAs(e,t="download",r){if(typeof e=="string")if(corsEnabled(e))download(e,t,r);else{const i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){click(i)})}else navigator.msSaveOrOpenBlob(bom(e,r),t)}function fileSaverSaveAs(e,t,r,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return download(e,t,r);const l=e.type==="application/octet-stream",a=/constructor/i.test(String(_global$2.HTMLElement))||"safari"in _global$2,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&a||isMacOSWebView)&&typeof FileReader<"u"){const d=new FileReader;d.onloadend=function(){let D=d.result;if(typeof D!="string")throw i=null,new Error("Wrong reader.result type");D=c?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=D:location.assign(D),i=null},d.readAsDataURL(e)}else{const d=URL.createObjectURL(e);i?i.location.assign(d):location.href=d,i=null,setTimeout(function(){URL.revokeObjectURL(d)},4e4)}}function toastMessage(e,t){const r="\u{1F34D} "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(r,t):t==="error"?console.error(r):t==="warn"?console.warn(r):console.log(r)}function isPinia(e){return"_a"in e&&"install"in e}function checkClipboardAccess(){if(!("clipboard"in navigator))return toastMessage("Your browser doesn't support the Clipboard API","error"),!0}function checkNotFocusedError(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(toastMessage('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function actionGlobalCopyState(e){if(!checkClipboardAccess())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),toastMessage("Global state copied to clipboard.")}catch(t){if(checkNotFocusedError(t))return;toastMessage("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function actionGlobalPasteState(e){if(!checkClipboardAccess())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),toastMessage("Global state pasted from clipboard.")}catch(t){if(checkNotFocusedError(t))return;toastMessage("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function actionGlobalSaveState(e){try{saveAs(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){toastMessage("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let fileInput;function getFileOpener(){fileInput||(fileInput=document.createElement("input"),fileInput.type="file",fileInput.accept=".json");function e(){return new Promise((t,r)=>{fileInput.onchange=async()=>{const i=fileInput.files;if(!i)return t(null);const l=i.item(0);return t(l?{text:await l.text(),file:l}:null)},fileInput.oncancel=()=>t(null),fileInput.onerror=r,fileInput.click()})}return e}async function actionGlobalOpenStateFile(e){try{const r=await(await getFileOpener())();if(!r)return;const{text:i,file:l}=r;e.state.value=JSON.parse(i),toastMessage(`Global state imported from "${l.name}".`)}catch(t){toastMessage("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function formatDisplay(e){return{_custom:{display:e}}}const PINIA_ROOT_LABEL="\u{1F34D} Pinia (root)",PINIA_ROOT_ID="_root";function formatStoreForInspectorTree(e){return isPinia(e)?{id:PINIA_ROOT_ID,label:PINIA_ROOT_LABEL}:{id:e.$id,label:e.$id}}function formatStoreForInspectorState(e){if(isPinia(e)){const r=Array.from(e._s.keys()),i=e._s;return{state:r.map(a=>({editable:!0,key:a,value:e.state.value[a]})),getters:r.filter(a=>i.get(a)._getters).map(a=>{const c=i.get(a);return{editable:!1,key:a,value:c._getters.reduce((d,D)=>(d[D]=c[D],d),{})}})}}const t={state:Object.keys(e.$state).map(r=>({editable:!0,key:r,value:e.$state[r]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(r=>({editable:!1,key:r,value:e[r]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(r=>({editable:!0,key:r,value:e[r]}))),t}function formatEventData(e){return e?Array.isArray(e)?e.reduce((t,r)=>(t.keys.push(r.key),t.operations.push(r.type),t.oldValue[r.key]=r.oldValue,t.newValue[r.key]=r.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:formatDisplay(e.type),key:formatDisplay(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function formatMutationType(e){switch(e){case MutationType.direct:return"mutation";case MutationType.patchFunction:return"$patch";case MutationType.patchObject:return"$patch";default:return"unknown"}}let isTimelineActive=!0;const componentStateTypes=[],MUTATIONS_LAYER_ID="pinia:mutations",INSPECTOR_ID="pinia",{assign:assign$1}=Object,getStoreType=e=>"\u{1F34D} "+e;function registerPiniaDevtools(e,t){setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes,app:e},r=>{typeof r.now!="function"&&toastMessage("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Pinia \u{1F34D}",color:15064968}),r.addInspector({id:INSPECTOR_ID,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{actionGlobalCopyState(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await actionGlobalPasteState(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{actionGlobalSaveState(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await actionGlobalOpenStateFile(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:i=>{const l=t._s.get(i);l?l._isOptionsAPI?(l.$reset(),toastMessage(`Store "${i}" reset.`)):toastMessage(`Cannot reset "${i}" store because it's a setup store.`,"warn"):toastMessage(`Cannot reset "${i}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent((i,l)=>{const a=i.componentInstance&&i.componentInstance.proxy;if(a&&a._pStores){const c=i.componentInstance.proxy._pStores;Object.values(c).forEach(d=>{i.instanceData.state.push({type:getStoreType(d.$id),key:"state",editable:!0,value:d._isOptionsAPI?{_custom:{value:toRaw(d.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>d.$reset()}]}}:Object.keys(d.$state).reduce((D,v)=>(D[v]=d.$state[v],D),{})}),d._getters&&d._getters.length&&i.instanceData.state.push({type:getStoreType(d.$id),key:"getters",editable:!1,value:d._getters.reduce((D,v)=>{try{D[v]=d[v]}catch(C){D[v]=C}return D},{})})})}}),r.on.getInspectorTree(i=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){let l=[t];l=l.concat(Array.from(t._s.values())),i.rootNodes=(i.filter?l.filter(a=>"$id"in a?a.$id.toLowerCase().includes(i.filter.toLowerCase()):PINIA_ROOT_LABEL.toLowerCase().includes(i.filter.toLowerCase())):l).map(formatStoreForInspectorTree)}}),r.on.getInspectorState(i=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){const l=i.nodeId===PINIA_ROOT_ID?t:t._s.get(i.nodeId);if(!l)return;l&&(i.state=formatStoreForInspectorState(l))}}),r.on.editInspectorState((i,l)=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){const a=i.nodeId===PINIA_ROOT_ID?t:t._s.get(i.nodeId);if(!a)return toastMessage(`store "${i.nodeId}" not found`,"error");const{path:c}=i;isPinia(a)?c.unshift("state"):(c.length!==1||!a._customProperties.has(c[0])||c[0]in a.$state)&&c.unshift("$state"),isTimelineActive=!1,i.set(a,c,i.state.value),isTimelineActive=!0}}),r.on.editComponentState(i=>{if(i.type.startsWith("\u{1F34D}")){const l=i.type.replace(/^\s*/,""),a=t._s.get(l);if(!a)return toastMessage(`store "${l}" not found`,"error");const{path:c}=i;if(c[0]!=="state")return toastMessage(`Invalid path for store "${l}":
${c}
Only state can be modified.`);c[0]="$state",isTimelineActive=!1,i.set(a,c,i.state.value),isTimelineActive=!0}})})}function addStoreToDevtools(e,t){componentStateTypes.includes(getStoreType(t.$id))||componentStateTypes.push(getStoreType(t.$id)),setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},r=>{const i=typeof r.now=="function"?r.now.bind(r):Date.now;t.$onAction(({after:c,onError:d,name:D,args:v})=>{const C=runningActionId++;r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F6EB} "+D,subtitle:"start",data:{store:formatDisplay(t.$id),action:formatDisplay(D),args:v},groupId:C}}),c(f=>{activeAction=void 0,r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F6EC} "+D,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(D),args:v,result:f},groupId:C}})}),d(f=>{activeAction=void 0,r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),logType:"error",title:"\u{1F4A5} "+D,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(D),args:v,error:f},groupId:C}})})},!0),t._customProperties.forEach(c=>{watch(()=>unref(t[c]),(d,D)=>{r.notifyComponentUpdate(),r.sendInspectorState(INSPECTOR_ID),isTimelineActive&&r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"Change",subtitle:c,data:{newValue:d,oldValue:D},groupId:activeAction}})},{deep:!0})}),t.$subscribe(({events:c,type:d},D)=>{if(r.notifyComponentUpdate(),r.sendInspectorState(INSPECTOR_ID),!isTimelineActive)return;const v={time:i(),title:formatMutationType(d),data:assign$1({store:formatDisplay(t.$id)},formatEventData(c)),groupId:activeAction};activeAction=void 0,d===MutationType.patchFunction?v.subtitle="\u2935\uFE0F":d===MutationType.patchObject?v.subtitle="\u{1F9E9}":c&&!Array.isArray(c)&&(v.subtitle=c.type),c&&(v.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:c}}),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:v})},{detached:!0,flush:"sync"});const l=t._hotUpdate;t._hotUpdate=markRaw(c=>{l(c),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F525} "+t.$id,subtitle:"HMR update",data:{store:formatDisplay(t.$id),info:formatDisplay("HMR update")}}}),r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)});const{$dispose:a}=t;t.$dispose=()=>{a(),r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.getSettings().logStoreChanges&&toastMessage(`Disposed "${t.$id}" store \u{1F5D1}`)},r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.getSettings().logStoreChanges&&toastMessage(`"${t.$id}" store installed \u{1F195}`)})}let runningActionId=0,activeAction;function patchActionForGrouping(e,t){const r=t.reduce((i,l)=>(i[l]=toRaw(e)[l],i),{});for(const i in r)e[i]=function(){const l=runningActionId,a=new Proxy(e,{get(...c){return activeAction=l,Reflect.get(...c)},set(...c){return activeAction=l,Reflect.set(...c)}});return r[i].apply(a,arguments)}}function devtoolsPlugin({app:e,store:t,options:r}){if(!t.$id.startsWith("__hot:")){if(r.state&&(t._isOptionsAPI=!0),typeof r.state=="function"){patchActionForGrouping(t,Object.keys(r.actions));const i=t._hotUpdate;toRaw(t)._hotUpdate=function(l){i.apply(this,arguments),patchActionForGrouping(t,Object.keys(l._hmrPayload.actions))}}addStoreToDevtools(e,t)}}function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let r=[],i=[];const l=markRaw({install(a){setActivePinia(l),l._a=a,a.provide(piniaSymbol,l),a.config.globalProperties.$pinia=l,USE_DEVTOOLS&&registerPiniaDevtools(a,l),i.forEach(c=>r.push(c)),i=[]},use(a){return!this._a&&!isVue2?i.push(a):r.push(a),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return USE_DEVTOOLS&&typeof Proxy<"u"&&l.use(devtoolsPlugin),l}function patchObject(e,t){for(const r in t){const i=t[r];if(!(r in e))continue;const l=e[r];isPlainObject$1(l)&&isPlainObject$1(i)&&!isRef(i)&&!isReactive(i)?e[r]=patchObject(l,i):e[r]=i}return e}const noop$2=()=>{};function addSubscription(e,t,r,i=noop$2){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),i())};return!r&&getCurrentScope()&&onScopeDispose(l),l}function triggerSubscriptions(e,...t){e.slice().forEach(r=>{r(...t)})}function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],l=e[r];isPlainObject$1(l)&&isPlainObject$1(i)&&e.hasOwnProperty(r)&&!isRef(i)&&!isReactive(i)?e[r]=mergeReactiveObjects(l,i):e[r]=i}return e}const skipHydrateSymbol=Symbol("pinia:skipHydration");function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,r,i){const{state:l,actions:a,getters:c}=t,d=r.state.value[e];let D;function v(){!d&&!i&&(r.state.value[e]=l?l():{});const C=toRefs(i?ref(l?l():{}).value:r.state.value[e]);return assign(C,a,Object.keys(c||{}).reduce((f,w)=>(w in C&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${w}" in store "${e}".`),f[w]=markRaw(computed(()=>{setActivePinia(r);const F=r._s.get(e);return c[w].call(F,F)})),f),{}))}return D=createSetupStore(e,v,t,r,i,!0),D.$reset=function(){const f=l?l():{};this.$patch(w=>{assign(w,f)})},D}function createSetupStore(e,t,r={},i,l,a){let c;const d=assign({actions:{}},r);if(!i._e.active)throw new Error("Pinia destroyed");const D={deep:!0};D.onTrigger=ie=>{v?F=ie:v==!1&&!oe._hotUpdating&&(Array.isArray(F)?F.push(ie):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let v,C,f=markRaw([]),w=markRaw([]),F;const T=i.state.value[e];!a&&!T&&!l&&(i.state.value[e]={});const R=ref({});let ee;function re(ie){let I;v=C=!1,F=[],typeof ie=="function"?(ie(i.state.value[e]),I={type:MutationType.patchFunction,storeId:e,events:F}):(mergeReactiveObjects(i.state.value[e],ie),I={type:MutationType.patchObject,payload:ie,storeId:e,events:F});const j=ee=Symbol();nextTick().then(()=>{ee===j&&(v=!0)}),C=!0,triggerSubscriptions(f,I,i.state.value[e])}const ae=()=>{throw new Error(`\u{1F34D}: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function ce(){c.stop(),f=[],w=[],i._s.delete(e)}function ue(ie,I){return function(){setActivePinia(i);const j=Array.from(arguments),pe=[],be=[];function De(Se){pe.push(Se)}function Re(Se){be.push(Se)}triggerSubscriptions(w,{args:j,name:ie,store:oe,after:De,onError:Re});let Ee;try{Ee=I.apply(this&&this.$id===e?this:oe,j)}catch(Se){throw triggerSubscriptions(be,Se),Se}return Ee instanceof Promise?Ee.then(Se=>(triggerSubscriptions(pe,Se),Se)).catch(Se=>(triggerSubscriptions(be,Se),Promise.reject(Se))):(triggerSubscriptions(pe,Ee),Ee)}}const de=markRaw({actions:{},getters:{},state:[],hotState:R}),A={_p:i,$id:e,$onAction:addSubscription.bind(null,w),$patch:re,$reset:ae,$subscribe(ie,I={}){const j=addSubscription(f,ie,I.detached,()=>pe()),pe=c.run(()=>watch(()=>i.state.value[e],be=>{(I.flush==="sync"?C:v)&&ie({storeId:e,type:MutationType.direct,events:F},be)},assign({},D,I)));return j},$dispose:ce},oe=reactive(assign({_hmrPayload:de,_customProperties:markRaw(new Set)},A));i._s.set(e,oe);const le=i._e.run(()=>(c=effectScope(),c.run(()=>t())));for(const ie in le){const I=le[ie];if(isRef(I)&&!isComputed(I)||isReactive(I))l?set(R.value,ie,toRef(le,ie)):a||(T&&shouldHydrate(I)&&(isRef(I)?I.value=T[ie]:mergeReactiveObjects(I,T[ie])),i.state.value[e][ie]=I),de.state.push(ie);else if(typeof I=="function"){const j=l?I:ue(ie,I);le[ie]=j,de.actions[ie]=I,d.actions[ie]=I}else isComputed(I)&&(de.getters[ie]=a?r.getters[ie]:I,IS_CLIENT&&(le._getters||(le._getters=markRaw([]))).push(ie))}if(assign(oe,le),assign(toRaw(oe),le),Object.defineProperty(oe,"$state",{get:()=>l?R.value:i.state.value[e],set:ie=>{if(l)throw new Error("cannot set hotState");re(I=>{assign(I,ie)})}}),oe._hotUpdate=markRaw(ie=>{oe._hotUpdating=!0,ie._hmrPayload.state.forEach(I=>{if(I in oe.$state){const j=ie.$state[I],pe=oe.$state[I];typeof j=="object"&&isPlainObject$1(j)&&isPlainObject$1(pe)?patchObject(j,pe):ie.$state[I]=pe}set(oe,I,toRef(ie.$state,I))}),Object.keys(oe.$state).forEach(I=>{I in ie.$state||del(oe,I)}),v=!1,C=!1,i.state.value[e]=toRef(ie._hmrPayload,"hotState"),C=!0,nextTick().then(()=>{v=!0});for(const I in ie._hmrPayload.actions){const j=ie[I];set(oe,I,ue(I,j))}for(const I in ie._hmrPayload.getters){const j=ie._hmrPayload.getters[I],pe=a?computed(()=>(setActivePinia(i),j.call(oe,oe))):j;set(oe,I,pe)}Object.keys(oe._hmrPayload.getters).forEach(I=>{I in ie._hmrPayload.getters||del(oe,I)}),Object.keys(oe._hmrPayload.actions).forEach(I=>{I in ie._hmrPayload.actions||del(oe,I)}),oe._hmrPayload=ie._hmrPayload,oe._getters=ie._getters,oe._hotUpdating=!1}),USE_DEVTOOLS){const ie={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(I=>{Object.defineProperty(oe,I,assign({value:oe[I]},ie))})}return i._p.forEach(ie=>{if(USE_DEVTOOLS){const I=c.run(()=>ie({store:oe,app:i._a,pinia:i,options:d}));Object.keys(I||{}).forEach(j=>oe._customProperties.add(j)),assign(oe,I)}else assign(oe,c.run(()=>ie({store:oe,app:i._a,pinia:i,options:d})))}),oe.$state&&typeof oe.$state=="object"&&typeof oe.$state.constructor=="function"&&!oe.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${oe.$id}".`),T&&a&&r.hydrate&&r.hydrate(oe.$state,T),v=!0,C=!0,oe}function defineStore(e,t,r){let i,l;const a=typeof t=="function";typeof e=="string"?(i=e,l=a?r:t):(l=e,i=e.id);function c(d,D){const v=getCurrentInstance$1();if(d=d||v&&inject$1(piniaSymbol,null),d&&setActivePinia(d),!activePinia)throw new Error(`[\u{1F34D}]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);d=activePinia,d._s.has(i)||(a?createSetupStore(i,t,l,d):createOptionsStore(i,l,d),c._pinia=d);const C=d._s.get(i);if(D){const f="__hot:"+i,w=a?createSetupStore(f,t,l,d,!0):createOptionsStore(f,assign({},l),d,!0);D._hotUpdate(w),delete d.state.value[f],d._s.delete(f)}if(IS_CLIENT&&v&&v.proxy&&!D){const f=v.proxy,w="_pStores"in f?f._pStores:f._pStores={};w[i]=C}return C}return c.$id=i,c}function storeToRefs(e){{e=toRaw(e);const t={};for(const r in e){const i=e[r];(isRef(i)||isReactive(i))&&(t[r]=toRef(e,r))}return t}}const useFocus$1=defineStore("focus",()=>{const e=ref(!0),t=c=>{e.value=c},r=ref(),i=c=>{r.value=c},l=()=>{window.onkeydown=()=>{const c=document.activeElement,d=c?.tagName,D=d==="INPUT",v=c?.getAttribute("readonly")===null,C=d==="TEXTAREA"&&v,f=Boolean(c?.getAttribute("contenteditable"));e.value&&!(D&&v)&&!f&&!(C&&v)&&r.value?.focus()}};return l(),{isCommandFocus:e,setCommandFocus:t,setInputEl:i,initInputAutoFocus:l,destroyInputAutoFocus:()=>{window.onkeydown=null,r.value=void 0}}}),setProp=(e,t,r)=>(e[t]=r,e[t]),defaultColor={color:"#fff",name:"#fff",index:-1,method:ColorMethod.kByColor,n:0},useColor$1=defineStore("color",()=>{const e=(D={})=>({...defaultColor,...D});let t=[];const r=computed(()=>t),i=ref([]),l=ref();return watch(l,D=>{D&&getDatabase().SetCurrentlyColorIndex(D.index)}),{colorIndexList:r,colorSelectList:i,currentSelectColor:l,initColorIndexList:()=>{const D=createMxColor();D.method=ColorMethod.kByACI;const v=[];for(let f=1;f<257;f++){D.setColorIndex(f);const w=toRGBCss(D);v.push(e({color:w,index:f,name:getColorName(f)||w}))}t=v,i.value=[...t.slice(0,7),t[t.length-1]];const C=getDatabase().GetCurrentlyColorIndex();l.value=i.value.find(({index:f})=>C===f)},createColor:e,parseJSONColor:D=>{const v=createMxColor(D),{colorIndex:C,method:f}=v,w=toRGBCss(v);return e({method:f,color:w,name:getColorName(C)||w})},stringifyJSONColor:D=>{const{method:v}=D,C=Color$1(D.color),f=C.red(),w=C.green(),F=C.blue();return{red:f,green:w,blue:F,method:v}}}}),defaultLineType={name:"ByLayer",explain:"",appearance:"",id:-1},useLineType=defineStore("lineType",()=>{const e=(c={})=>({...defaultLineType,...c}),t=ref([]),r=ref();watch(r,c=>{c&&getDatabase().SetCurrentlyLineTypeName(c.name)});const i=c=>{const{name:d,comments:D,id:v}=c;return e({name:d,explain:D,appearance:D,id:v})};return{initLineTypeList:()=>{const d=getDatabase().GetLinetypeTable().getJson(),D=JSON.parse(d);t.value=D.map(C=>i(C));const v=getDatabase().GetCurrentlyLineTypeName();r.value=t.value.find(({name:C})=>v===C)},createLineType:e,parseJSONLineType:i,stringifyJSONLineType:c=>{},lineTypeList:t,currentLineType:r}}),useLayer=defineStore("layer",()=>{const{createColor:e,stringifyJSONColor:t,parseJSONColor:r}=useColor$1(),{createLineType:i}=useLineType(),l={id:0,name:"0",visible:!0,freeze:!1,lock:!1,print:!0,status:!1,isSelect:!1,color:e(),lineType:i()};let a=0;const c=le=>({...l,name:`\u65B0\u5EFA\u56FE\u5C42${a++}`,id:0,...le}),d=ref([]),D=ref(0),v=ref(),C=computed(()=>d.value[0].id),f=le=>new Promise((ie,I)=>{setLayerJson(le)?ie():I()}),w=(le,ie,I=D)=>{const j=unref(I||D),pe=unref(ie);return(Array.isArray(j)?j.map(De=>d.value[unref(De)]):[d.value[unref(j)]]).map((De,Re)=>setProp(De,le,unref(Array.isArray(pe)?pe[Re]||pe[0]:pe)))},F=(le=D)=>{const ie=unref(le),I=j=>typeof j=="object"?d.value.indexOf(j):j;return Array.isArray(ie)?ie.map(j=>I(j)):I(ie)},T=le=>{D.value=unref(le),w("isSelect",!1,d.value.map((ie,I)=>I)),w("isSelect",!0)},R=le=>{if(d.value[le])return T(le);R(le-1)},ee=le=>{d.value.push(le||c()),T(d.value.length-1)},re=(le=D,ie="index")=>{const I=unref(le),j=be=>{d.value=d.value.filter((Re,Ee)=>{if(Re.id===C.value||Re.status)return!0;const Se=ie==="this"?Re:ie==="id"?Re.id:Ee;return!be.includes(Se)});const De=F(be[be.length-1]);typeof De=="number"&&R(De)},pe=be=>{if(ie==="id")j([be]);else{let De=F(be);if(typeof De!="number"||De<0)return;const Re=d.value[De];if(Re.id===C.value||Re.status)return;d.value.splice(De,1)}};if(I)if(Array.isArray(I))j(I);else{pe(I);const be=F(I);if(typeof be!="number")return;R(be)}},ae=(le,ie=D)=>{let I=unref(ie);const j=pe=>{let be=unref(pe);if(!(le==="freeze"&&d.value[be].id===C.value))return d.value[be][le]=!d.value[be][le],d.value[be][le]};return Array.isArray(I)?I.map(pe=>j(pe)):j(I)},ce=le=>{const ie=le?F(le):D.value;Array.isArray(ie)&&(ie.length>1||ie.length===0)||(w("status",!1,d.value.map((I,j)=>j)),v.value=unref(d.value[Array.isArray(ie)?ie[0]:ie]),v.value.status=!0,getDatabase().SetCurrentlyLayerName(v.value.name))},ue=()=>{const le=getDatabase().GetCurrentlyLayerName();ce(d.value.find(({name:ie})=>le===ie))},de=le=>{try{const ie=JSON.parse(le);if(!Array.isArray(ie))return;d.value=ie.map(({name:I,color:j,off:pe,linetypename:be,locked:De,plottable:Re,id:Ee})=>c({name:I,id:Ee,color:r(j),lock:De===Status.On,lineType:i({name:be}),print:Re===Status.On,visible:pe===Status.Off}))}catch(ie){console.error(ie)}};return{list:d,index:D,currentLayer:v,rootId:C,setIndex:T,getIndex:F,add:ee,create:c,remove:re,toggle:ae,setValue:w,putCurrent:ce,parseJSON:de,stringifyJSON:()=>JSON.stringify(d.value.map(le=>{const{name:ie,color:I,visible:j,id:pe,lineType:be,print:De,lock:Re}=le;return{name:ie,id:pe,off:j?Status.Off:Status.On,color:t(I),linetypename:be.name,plottable:De?Status.On:Status.Off,locked:Re?Status.On:Status.Off}})),initLayerList:()=>{de(getLayerJson()),ue()},initCurrentLayer:ue,setLayerList:f}}),VBtn$1="",VBtnToggle$1="",VBtnGroup$1="";function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,r){var i=_classExtractFieldDescriptor(e,t,"set");return _classApplyDescriptorSet(e,i,r),r}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classPrivateFieldGet(e,t){var r=_classExtractFieldDescriptor(e,t,"get");return _classApplyDescriptorGet(e,r)}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function getNestedValue(e,t,r){const i=t.length-1;if(i<0)return e===void 0?r:e;for(let l=0;l<i;l++){if(e==null)return r;e=e[t[l]]}return e==null||e[t[i]]===void 0?r:e[t[i]]}function deepEqual(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(i=>deepEqual(e[i],t[i]))}function getObjectValueByPath(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),getNestedValue(e,t.split("."),r))}function getPropertyFromItem(e,t,r){if(t==null)return e===void 0?r:e;if(e!==Object(e)){if(typeof t!="function")return r;const l=t(e,r);return typeof l>"u"?r:l}if(typeof t=="string")return getObjectValueByPath(e,t,r);if(Array.isArray(t))return getNestedValue(e,t,r);if(typeof t!="function")return r;const i=t(e,r);return typeof i>"u"?r:i}function createRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,i)=>t+i)}function convertToUnit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function isObject$1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function isComponentInstance(e){return e?.$el}const keyCodes=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys(e){return Object.keys(e)}function pick(e,t){const r=Object.create(null),i=Object.create(null);for(const l in e)t.some(a=>a instanceof RegExp?a.test(l):a===l)?r[l]=e[l]:i[l]=e[l];return[r,i]}function omit(e,t){const r={...e};return t.forEach(i=>delete r[i]),r}function filterInputAttrs(e){return pick(e,["class","style","id",/^data-/])}function wrapInArray(e){return e==null?[]:Array.isArray(e)?e:[e]}function clamp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function getDecimals(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function padEnd(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function chunk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let i=0;for(;i<e.length;)r.push(e.substr(i,t)),i+=t;return r}function mergeDeep(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i={};for(const l in e)i[l]=e[l];for(const l in t){const a=e[l],c=t[l];if(isObject$1(a)&&isObject$1(c)){i[l]=mergeDeep(a,c,r);continue}if(Array.isArray(a)&&Array.isArray(c)&&r){i[l]=r(a,c);continue}i[l]=c}return i}function toKebabCase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(toKebabCase.cache.has(e))return toKebabCase.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return toKebabCase.cache.set(e,t),t}toKebabCase.cache=new Map;function findChildrenWithProvide(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>findChildrenWithProvide(e,r)).flat(1);if(Array.isArray(t.children))return t.children.map(r=>findChildrenWithProvide(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return findChildrenWithProvide(e,t.component.subTree).flat(1)}return[]}var _arr=new WeakMap,_pointer=new WeakMap;class CircularBuffer{constructor(t){_classPrivateFieldInitSpec(this,_arr,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,_pointer,{writable:!0,value:0}),this.size=t}push(t){_classPrivateFieldGet(this,_arr)[_classPrivateFieldGet(this,_pointer)]=t,_classPrivateFieldSet(this,_pointer,(_classPrivateFieldGet(this,_pointer)+1)%this.size)}values(){return _classPrivateFieldGet(this,_arr).slice(_classPrivateFieldGet(this,_pointer)).concat(_classPrivateFieldGet(this,_arr).slice(0,_classPrivateFieldGet(this,_pointer)))}}function getEventCoordinates(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function destructComputed(e){const t=reactive({}),r=computed(e);return watchEffect(()=>{for(const i in r.value)t[i]=r.value[i]},{flush:"sync"}),toRefs(t)}function includes$1(e,t){return e.includes(t)}const onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),EventProp=[Function,Array];function hasEvent(e,t){return t="on"+capitalize(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function callEvent(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(Array.isArray(e))for(const l of e)l(...r);else typeof e=="function"&&e(...r)}const block=["top","bottom"],inline=["start","end","left","right"];function parseAnchor(e,t){let[r,i]=e.split(" ");return i||(i=includes$1(block,r)?"start":includes$1(inline,r)?"top":"center"),{side:toPhysical(r,t),align:toPhysical(i,t)}}function toPhysical(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function flipSide(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function flipAlign(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function flipCorner(e){return{side:e.align,align:e.side}}function getAxis(e){return includes$1(block,e.side)?"y":"x"}class Box{constructor(t){let{x:r,y:i,width:l,height:a}=t;this.x=r,this.y=i,this.width=l,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function nullifyTransforms(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),i=r.transform;if(i){let l,a,c,d,D;if(i.startsWith("matrix3d("))l=i.slice(9,-1).split(/, /),a=+l[0],c=+l[5],d=+l[12],D=+l[13];else if(i.startsWith("matrix("))l=i.slice(7,-1).split(/, /),a=+l[0],c=+l[3],d=+l[4],D=+l[5];else return new Box(t);const v=r.transformOrigin,C=t.x-d-(1-a)*parseFloat(v),f=t.y-D-(1-c)*parseFloat(v.slice(v.indexOf(" ")+1)),w=a?t.width/a:e.offsetWidth+1,F=c?t.height/c:e.offsetHeight+1;return new Box({x:C,y:f,width:w,height:F})}else return new Box(t)}function animate(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(l=>{i.onfinish=()=>{l(i)}})),i}function createMessage(e,t,r){if(r&&(t={__isVue:!0,$parent:r,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(t?generateComponentTrace(t):"")}function consoleWarn(e,t,r){const i=createMessage(e,t,r);i!=null&&console.warn(i)}function consoleError(e,t,r){const i=createMessage(e,t,r);i!=null&&console.error(i)}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function formatComponentName(e,t){if(e.$root===e)return"<Root>";const r=typeof e=="function"&&e.cid!=null?e.options:e.__isVue?e.$options||e.constructor.options:e||{};let i=r.name||r._componentTag;const l=r.__file;return!i&&l&&(i=l.match(/([^/\\]+)\.vue$/)?.[1]),(i?`<${classify(i)}>`:"<Anonymous>")+(l&&t!==!1?` at ${l}`:"")}function generateComponentTrace(e){if(e.__isVue&&e.$parent){const t=[];let r=0;for(;e;){if(t.length>0){const i=t[t.length-1];if(i.constructor===e.constructor){r++,e=e.$parent;continue}else r>0&&(t[t.length-1]=[i,r],r=0)}t.push(e),e=e.$parent}return`

found in

`+t.map((i,l)=>`${l===0?"---> ":" ".repeat(5+l*2)}${Array.isArray(i)?`${formatComponentName(i[0])}... (${i[1]} recursive calls)`:formatComponentName(i)}`).join(`
`)}else return`

(found in ${formatComponentName(e)})`}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function fromXYZ$1(e){const t=Array(3),r=srgbForwardTransform,i=srgbForwardMatrix;for(let l=0;l<3;++l)t[l]=Math.round(clamp(r(i[l][0]*e[0]+i[l][1]*e[1]+i[l][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function toXYZ$1(e){let{r:t,g:r,b:i}=e;const l=[0,0,0],a=srgbReverseTransform,c=srgbReverseMatrix;t=a(t/255),r=a(r/255),i=a(i/255);for(let d=0;d<3;++d)l[d]=c[d][0]*t+c[d][1]*r+c[d][2]*i;return l}const delta=.20689655172413793,cielabForwardTransform=e=>e>delta**3?Math.cbrt(e):e/(3*delta**2)+4/29,cielabReverseTransform=e=>e>delta?e**3:3*delta**2*(e-4/29);function fromXYZ(e){const t=cielabForwardTransform,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function toXYZ(e){const t=cielabReverseTransform,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}function isCssColor(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function parseColor(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&consoleWarn(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(i=>i+i).join(""):[6,8].includes(t.length)||consoleWarn(`'${e}' is not a valid hex(a) color`);const r=parseInt(t,16);return(isNaN(r)||r<0||r>4294967295)&&consoleWarn(`'${e}' is not a valid hex(a) color`),HexToRGB(t)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${e==null?e:e.constructor.name} instead`)}function HSVtoRGB(e){const{h:t,s:r,v:i,a:l}=e,a=d=>{const D=(d+t/60)%6;return i-i*r*Math.max(Math.min(D,4-D,1),0)},c=[a(5),a(3),a(1)].map(d=>Math.round(d*255));return{r:c[0],g:c[1],b:c[2],a:l}}function RGBtoHSV(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,r=e.g/255,i=e.b/255,l=Math.max(t,r,i),a=Math.min(t,r,i);let c=0;l!==a&&(l===t?c=60*(0+(r-i)/(l-a)):l===r?c=60*(2+(i-t)/(l-a)):l===i&&(c=60*(4+(t-r)/(l-a)))),c<0&&(c=c+360);const d=l===0?0:(l-a)/l,D=[c,d,l];return{h:D[0],s:D[1],v:D[2],a:e.a}}function HSVtoHSL(e){const{h:t,s:r,v:i,a:l}=e,a=i-i*r/2,c=a===1||a===0?0:(i-a)/Math.min(a,1-a);return{h:t,s:c,l:a,a:l}}function HSLtoHSV(e){const{h:t,s:r,l:i,a:l}=e,a=i+r*Math.min(i,1-i),c=a===0?0:2-2*i/a;return{h:t,s:c,v:a,a:l}}function RGBtoCSS(e){let{r:t,g:r,b:i,a:l}=e;return l===void 0?`rgb(${t}, ${r}, ${i})`:`rgba(${t}, ${r}, ${i}, ${l})`}function HSVtoCSS(e){return RGBtoCSS(HSVtoRGB(e))}function toHex(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function RGBtoHex(e){let{r:t,g:r,b:i,a:l}=e;return`#${[toHex(t),toHex(r),toHex(i),l!==void 0?toHex(Math.round(l*255)):""].join("")}`}function HexToRGB(e){e=parseHex(e);let[t,r,i,l]=chunk(e,2).map(a=>parseInt(a,16));return l=l===void 0?l:l/255,{r:t,g:r,b:i,a:l}}function HexToHSV(e){const t=HexToRGB(e);return RGBtoHSV(t)}function HSVtoHex(e){return RGBtoHex(HSVtoRGB(e))}function parseHex(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=padEnd(padEnd(e,6),8,"F")),e}function lighten(e,t){const r=fromXYZ(toXYZ$1(e));return r[0]=r[0]+t*10,fromXYZ$1(toXYZ(r))}function darken(e,t){const r=fromXYZ(toXYZ$1(e));return r[0]=r[0]-t*10,fromXYZ$1(toXYZ(r))}function getLuma(e){const t=parseColor(e);return toXYZ$1(t)[1]}function getContrast(e,t){const r=getLuma(e),i=getLuma(t),l=Math.max(r,i),a=Math.min(r,i);return(l+.05)/(a+.05)}function getCurrentInstance(e,t){const r=getCurrentInstance$1();if(!r)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return r}function getCurrentInstanceName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=getCurrentInstance(e).type;return toKebabCase(t?.aliasName||t?.name)}let _uid=0,_map=new WeakMap;function getUid(){const e=getCurrentInstance("getUid");if(_map.has(e))return _map.get(e);{const t=_uid++;return _map.set(e,t),t}}getUid.reset=()=>{_uid=0,_map=new WeakMap};function injectSelf(e){const{provides:t}=getCurrentInstance("injectSelf");if(t&&e in t)return t[e]}function propsFactory$1(e,t){return r=>Object.keys(e).reduce((i,l)=>{const c=typeof e[l]=="object"&&e[l]!=null&&!Array.isArray(e[l])?e[l]:{type:e[l]};return r&&l in r?i[l]={...c,default:r[l]}:i[l]=c,t&&!i[l].source&&(i[l].source=t),i},{})}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(e){return ref(e)}function useDefaults(){const e=inject$1(DefaultsSymbol);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function provideDefaults(e,t){const r=useDefaults(),i=ref(e),l=computed(()=>{if(unref(t?.disabled))return r.value;const c=unref(t?.scoped),d=unref(t?.reset),D=unref(t?.root);let v=mergeDeep(i.value,{prev:r.value});if(c)return v;if(d||D){const C=Number(d||1/0);for(let f=0;f<=C&&!(!v||!("prev"in v));f++)v=v.prev;return v}return mergeDeep(v.prev,v)});return provide(DefaultsSymbol,l),l}function useToggleScope(e,t){let r;function i(){r=effectScope(),r.run(()=>t.length?t(()=>{r?.stop(),i()}):t())}watch(e,l=>{l&&!r?i():l||(r?.stop(),r=void 0)},{immediate:!0}),onScopeDispose(()=>{r?.stop()})}function propIsDefined(e,t){return typeof e.props?.[t]<"u"||typeof e.props?.[toKebabCase(t)]<"u"}function defineComponent(e){if(e._setup=e._setup??e.setup,!e.name)return consoleWarn("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=propsFactory$1(e.props??{},toKebabCase(e.name))();const t=Object.keys(e.props);e.filterProps=function(i){return pick(i,t)},e.props._as=String,e.setup=function(i,l){const a=useDefaults();if(!a.value)return e._setup(i,l);const c=getCurrentInstance$1(),d=computed(()=>a.value[i._as??e.name]),D=new Proxy(i,{get(f,w){const F=Reflect.get(f,w);return typeof w=="string"&&!propIsDefined(c.vnode,w)?d.value?.[w]??a.value.global?.[w]??F:F}}),v=shallowRef();watchEffect(()=>{if(d.value){const f=Object.entries(d.value).filter(w=>{let[F]=w;return F.startsWith(F[0].toUpperCase())});f.length&&(v.value=Object.fromEntries(f))}});const C=e._setup(D,l);return useToggleScope(v,()=>{provideDefaults(mergeDeep(injectSelf(DefaultsSymbol)?.value??{},v.value))}),C}}return e}function genericComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?defineComponent:defineComponent$1)(t)}function createSimpleFunctional(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:r??capitalize(camelize(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t}},setup(i,l){let{slots:a}=l;return()=>h(i.tag,{class:e},a.default?.())}})}function attachedRoot(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)";function getScrollParent(e){for(;e;){if(hasScrollbar(e))return e;e=e.parentElement}return document.scrollingElement}function getScrollParents(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(hasScrollbar(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_FOCUS_VISIBLE=IN_BROWSER&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function isFixedPosition(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function useRender(e){const t=getCurrentInstance("useRender");t.render=e}const makeBorderProps=propsFactory$1({border:[Boolean,Number,String]},"border");function useBorder(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const i=isRef(e)?e.value:e.border,l=[];if(i===!0||i==="")l.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))l.push(`border-${a}`);return l})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory$1({density:{type:String,default:"default",validator:e=>allowedDensities$1.includes(e)}},"density");function useDensity(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:computed(()=>`${t}--density-${e.density}`)}}const makeElevationProps=propsFactory$1({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function useElevation(e){return{elevationClasses:computed(()=>{const r=isRef(e)?e.value:e.elevation,i=[];return r==null||i.push(`elevation-${r}`),i})}}const makeRoundedProps=propsFactory$1({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function useRounded(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const i=isRef(e)?e.value:e.rounded,l=[];if(i===!0||i==="")l.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))l.push(`rounded-${a}`);return l})}}const makeTagProps=propsFactory$1({tag:{type:String,default:"div"}},"tag"),mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(e,t){const r=(e.r/255)**mainTRC,i=(e.g/255)**mainTRC,l=(e.b/255)**mainTRC,a=(t.r/255)**mainTRC,c=(t.g/255)**mainTRC,d=(t.b/255)**mainTRC;let D=r*Rco+i*Gco+l*Bco,v=a*Rco+c*Gco+d*Bco;if(D<=blkThrs&&(D+=(blkThrs-D)**blkClmp),v<=blkThrs&&(v+=(blkThrs-v)**blkClmp),Math.abs(v-D)<deltaYmin)return 0;let C;if(v>D){const f=(v**normBG-D**normTXT)*scaleBoW;C=f<loClip?0:f<loConThresh?f-f*loConFactor*loConOffset:f-loConOffset}else{const f=(v**revBG-D**revTXT)*scaleWoB;C=f>-loClip?0:f>-loConThresh?f-f*loConFactor*loConOffset:f+loConOffset}return C*100}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory$1({theme:String},"theme"),defaultThemeOptions={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function parseThemeOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultThemeOptions;if(!e)return{...defaultThemeOptions,isDisabled:!0};const t={};for(const[r,i]of Object.entries(e.themes??{})){const l=i.dark||r==="dark"?defaultThemeOptions.themes?.dark:defaultThemeOptions.themes?.light;t[r]=mergeDeep(l,i)}return mergeDeep(defaultThemeOptions,{...e,themes:t})}function createTheme(e){const t=reactive(parseThemeOptions(e)),r=ref(t.defaultTheme),i=ref(t.themes),l=computed(()=>{const C={};for(const[f,w]of Object.entries(i.value)){const F=C[f]={...w,colors:{...w.colors}};if(t.variations)for(const T of t.variations.colors){const R=F.colors[T];if(!!R)for(const ee of["lighten","darken"]){const re=ee==="lighten"?lighten:darken;for(const ae of createRange(t.variations[ee],1))F.colors[`${T}-${ee}-${ae}`]=RGBtoHex(re(parseColor(R),ae))}}for(const T of Object.keys(F.colors)){if(/^on-[a-z]/.test(T)||F.colors[`on-${T}`])continue;const R=`on-${T}`,ee=parseColor(F.colors[T]),re=Math.abs(APCAcontrast(parseColor(0),ee)),ae=Math.abs(APCAcontrast(parseColor(16777215),ee));F.colors[R]=ae>Math.min(re,50)?"#fff":"#000"}}return C}),a=computed(()=>l.value[r.value]),c=computed(()=>{const C=[];a.value.dark&&createCssClass(C,":root",["color-scheme: dark"]),createCssClass(C,":root",genCssVariables(a.value));for(const[T,R]of Object.entries(l.value))createCssClass(C,`.v-theme--${T}`,[`color-scheme: ${R.dark?"dark":"normal"}`,...genCssVariables(R)]);const f=[],w=[],F=new Set(Object.values(l.value).flatMap(T=>Object.keys(T.colors)));for(const T of F)/^on-[a-z]/.test(T)?createCssClass(w,`.${T}`,[`color: rgb(var(--v-theme-${T})) !important`]):(createCssClass(f,`.bg-${T}`,[`--v-theme-overlay-multiplier: var(--v-theme-${T}-overlay-multiplier)`,`background: rgb(var(--v-theme-${T})) !important`,`color: rgb(var(--v-theme-on-${T})) !important`]),createCssClass(w,`.text-${T}`,[`color: rgb(var(--v-theme-${T})) !important`]),createCssClass(w,`.border-${T}`,[`--v-border-color: var(--v-theme-${T})`]));return C.push(...f,...w),C.map((T,R)=>R===0?T:`    ${T}`).join("")});function d(){return{style:[{children:c.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function D(C){const f=C._context.provides.usehead;if(f)if(f.push){const w=f.push(d);watch(c,()=>{w.patch(d)})}else IN_BROWSER?(f.addHeadObjs(computed(d)),watchEffect(()=>f.updateDOM())):f.addHeadObjs(d());else{let F=function(){if(!t.isDisabled){if(typeof document<"u"&&!w){const T=document.createElement("style");T.type="text/css",T.id="vuetify-theme-stylesheet",t.cspNonce&&T.setAttribute("nonce",t.cspNonce),w=T,document.head.appendChild(w)}w&&(w.innerHTML=c.value)}},w=IN_BROWSER?document.getElementById("vuetify-theme-stylesheet"):null;watch(c,F,{immediate:!0})}}const v=computed(()=>t.isDisabled?void 0:`v-theme--${r.value}`);return{install:D,isDisabled:t.isDisabled,name:r,themes:i,current:a,computedThemes:l,themeClasses:v,styles:c,global:{name:r,current:a}}}function provideTheme(e){getCurrentInstance("provideTheme");const t=inject$1(ThemeSymbol,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=computed(()=>e.theme??t?.name.value),i=computed(()=>t.isDisabled?void 0:`v-theme--${r.value}`),l={...t,name:r,themeClasses:i};return provide(ThemeSymbol,l),l}function useTheme$1(){getCurrentInstance("useTheme");const e=inject$1(ThemeSymbol,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function createCssClass(e,t,r){e.push(`${t} {
`,...r.map(i=>`  ${i};
`),`}
`)}function genCssVariables(e){const t=e.dark?2:1,r=e.dark?1:2,i=[];for(const[l,a]of Object.entries(e.colors)){const c=parseColor(a);i.push(`--v-theme-${l}: ${c.r},${c.g},${c.b}`),l.startsWith("on-")||i.push(`--v-theme-${l}-overlay-multiplier: ${getLuma(a)>.18?t:r}`)}for(const[l,a]of Object.entries(e.variables)){const c=typeof a=="string"&&a.startsWith("#")?parseColor(a):void 0,d=c?`${c.r}, ${c.g}, ${c.b}`:void 0;i.push(`--v-${l}: ${d??a}`)}return i}function useColor(e){return destructComputed(()=>{const t=[],r={};return e.value.background&&(isCssColor(e.value.background)?r.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(isCssColor(e.value.text)?(r.color=e.value.text,r.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:r}})}function useTextColor(e,t){const r=computed(()=>({text:isRef(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:l}=useColor(r);return{textColorClasses:i,textColorStyles:l}}function useBackgroundColor(e,t){const r=computed(()=>({background:isRef(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:l}=useColor(r);return{backgroundColorClasses:i,backgroundColorStyles:l}}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(e,t){return createVNode(Fragment,null,[e&&createVNode("span",{key:"overlay",class:`${t}__overlay`},null),createVNode("span",{key:"underlay",class:`${t}__underlay`},null)])}const makeVariantProps=propsFactory$1({color:String,variant:{type:String,default:"elevated",validator:e=>allowedVariants$2.includes(e)}},"variant");function useVariant(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=computed(()=>{const{variant:a}=unref(e);return`${t}--variant-${a}`}),{colorClasses:i,colorStyles:l}=useColor(computed(()=>{const{variant:a,color:c}=unref(e);return{[["elevated","flat"].includes(a)?"background":"text"]:c}}));return{colorClasses:i,colorStyles:l,variantClasses:r}}const makeVBtnGroupProps=propsFactory$1({divided:Boolean,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},"v-btn-group"),VBtnGroup=genericComponent()({name:"VBtnGroup",props:makeVBtnGroupProps(),setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{densityClasses:l}=useDensity(e),{borderClasses:a}=useBorder(e),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e);provideDefaults({VBtn:{height:"auto",color:toRef(e,"color"),density:toRef(e,"density"),flat:!0,variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,a.value,l.value,c.value,d.value]},r))}});function useProxiedModel(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const a=getCurrentInstance("useProxiedModel"),c=ref(e[t]!==void 0?e[t]:r),d=toKebabCase(t),v=computed(d!==t?()=>(e[t],!!((a.vnode.props?.hasOwnProperty(t)||a.vnode.props?.hasOwnProperty(d))&&(a.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||a.vnode.props?.hasOwnProperty(`onUpdate:${d}`)))):()=>(e[t],!!(a.vnode.props?.hasOwnProperty(t)&&a.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));useToggleScope(()=>!v.value,()=>{watch(()=>e[t],f=>{c.value=f})});const C=computed({get(){return i(v.value?e[t]:c.value)},set(f){const w=l(f),F=toRaw(v.value?e[t]:c.value);F===w||i(F)===f||(c.value=w,a?.emit(`update:${t}`,w))}});return Object.defineProperty(C,"externalValue",{get:()=>v.value?e[t]:c.value}),C}const makeGroupProps=propsFactory$1({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory$1({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=getCurrentInstance("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const l=getUid();provide(Symbol.for(`${t.description}:id`),l);const a=inject$1(t,null);if(!a){if(!r)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const c=toRef(e,"value"),d=computed(()=>a.disabled.value||e.disabled);a.register({id:l,value:c,disabled:d},i),onBeforeUnmount(()=>{a.unregister(l)});const D=computed(()=>a.isSelected(l)),v=computed(()=>D.value&&[a.selectedClass.value,e.selectedClass]);return watch(D,C=>{i.emit("group:selected",{value:C})}),{id:l,isSelected:D,toggle:()=>a.select(l,!D.value),select:C=>a.select(l,C),selectedClass:v,value:c,disabled:d,group:a}}function useGroup(e,t){let r=!1;const i=reactive([]),l=useProxiedModel(e,"modelValue",[],w=>w==null?[]:getIds(i,wrapInArray(w)),w=>{const F=getValues(i,w);return e.multiple?F:F[0]}),a=getCurrentInstance("useGroup");function c(w,F){const T=w,R=Symbol.for(`${t.description}:id`),re=findChildrenWithProvide(R,a?.vnode).indexOf(F);re>-1?i.splice(re,0,T):i.push(T)}function d(w){if(r)return;D();const F=i.findIndex(T=>T.id===w);i.splice(F,1)}function D(){const w=i.find(F=>!F.disabled);w&&e.mandatory==="force"&&!l.value.length&&(l.value=[w.id])}onMounted(()=>{D()}),onBeforeUnmount(()=>{r=!0});function v(w,F){const T=i.find(R=>R.id===w);if(!(F&&T?.disabled))if(e.multiple){const R=l.value.slice(),ee=R.findIndex(ae=>ae===w),re=~ee;if(F=F??!re,re&&e.mandatory&&R.length<=1||!re&&e.max!=null&&R.length+1>e.max)return;ee<0&&F?R.push(w):ee>=0&&!F&&R.splice(ee,1),l.value=R}else{const R=l.value.includes(w);if(e.mandatory&&R)return;l.value=F??!R?[w]:[]}}function C(w){if(e.multiple&&consoleWarn('This method is not supported when using "multiple" prop'),l.value.length){const F=l.value[0],T=i.findIndex(re=>re.id===F);let R=(T+w)%i.length,ee=i[R];for(;ee.disabled&&R!==T;)R=(R+w)%i.length,ee=i[R];if(ee.disabled)return;l.value=[i[R].id]}else{const F=i.find(T=>!T.disabled);F&&(l.value=[F.id])}}const f={register:c,unregister:d,selected:l,select:v,disabled:toRef(e,"disabled"),prev:()=>C(i.length-1),next:()=>C(1),isSelected:w=>l.value.includes(w),selectedClass:computed(()=>e.selectedClass),items:computed(()=>i),getItemIndex:w=>getItemIndex(i,w)};return provide(t,f),f}function getItemIndex(e,t){const r=getIds(e,[t]);return r.length?e.findIndex(i=>i.id===r[0]):-1}function getIds(e,t){const r=[];for(let i=0;i<e.length;i++){const l=e[i];l.value!=null?t.find(a=>deepEqual(a,l.value))!=null&&r.push(l.id):t.includes(i)&&r.push(l.id)}return r}function getValues(e,t){const r=[];for(let i=0;i<e.length;i++){const l=e[i];t.includes(l.id)&&r.push(l.value!=null?l.value:i)}return r}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle"),VBtnToggle=genericComponent()({name:"VBtnToggle",props:{...makeVBtnGroupProps(),...makeGroupProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:i,next:l,prev:a,select:c,selected:d}=useGroup(e,VBtnToggleSymbol);return useRender(()=>{const[D]=VBtnGroup.filterProps(e);return createVNode(VBtnGroup,mergeProps({class:"v-btn-toggle"},D),{default:()=>[r.default?.({isSelected:i,next:l,prev:a,select:c,selected:d})]})}),{next:l,prev:a,select:c}}}),VDefaultsProvider=genericComponent(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,t){let{slots:r}=t;const{defaults:i,disabled:l,reset:a,root:c,scoped:d}=toRefs(e);return provideDefaults(i,{reset:a,root:c,scoped:d,disabled:l}),()=>r.default?.()}}),VIcon$1="",aliases$1={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},mdi={component:e=>h(VClassIcon,{...e,class:"mdi"})},IconValue$1=[String,Function,Object],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps$1=propsFactory$1({icon:{type:IconValue$1},tag:{type:String,required:!0}},"icon"),VComponentIcon=genericComponent()({name:"VComponentIcon",props:makeIconProps$1(),setup(e,t){let{slots:r}=t;return()=>createVNode(e.tag,null,{default:()=>[e.icon?createVNode(e.icon,null,null):r.default?.()]})}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps$1(),setup(e,t){let{attrs:r}=t;return()=>createVNode(e.tag,mergeProps(r,{style:null}),{default:()=>[createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[createVNode("path",{d:e.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps$1(),setup(e){return()=>createVNode(e.tag,null,{default:()=>[e.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps$1(),setup(e){return()=>createVNode(e.tag,{class:e.icon},null)}}),defaultSets={svg:{component:VSvgIcon},class:{component:VClassIcon}};function createIcons(e){return mergeDeep({defaultSet:"mdi",sets:{...defaultSets,mdi},aliases:aliases$1},e)}const useIcon=e=>{const t=inject$1(IconSymbol);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{const i=isRef(e)?e.value:e.icon;if(!i)return{component:VComponentIcon};let l=i;if(typeof l=="string"&&(l=l.trim(),l.startsWith("$")&&(l=t.aliases?.[l.slice(1)])),!l)throw new Error(`Could not find aliased icon "${i}"`);if(typeof l!="string")return{component:VComponentIcon,icon:l};const a=Object.keys(t.sets).find(D=>typeof l=="string"&&l.startsWith(`${D}:`)),c=a?l.slice(a.length+1):l;return{component:t.sets[a??t.defaultSet].component,icon:c}})}},predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory$1({size:{type:[String,Number],default:"default"}},"size");function useSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{let r,i;return includes$1(predefinedSizes,e.size)?r=`${t}--size-${e.size}`:e.size&&(i={width:convertToUnit(e.size),height:convertToUnit(e.size)}),{sizeClasses:r,sizeStyles:i}})}const makeVIconProps=propsFactory$1({color:String,start:Boolean,end:Boolean,icon:IconValue$1,...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"v-icon"),VIcon=genericComponent()({name:"VIcon",props:makeVIconProps(),setup(e,t){let{attrs:r,slots:i}=t,l;i.default&&(l=computed(()=>{const C=i.default?.();if(!!C)return C.filter(f=>f.type===Text&&f.children&&typeof f.children=="string")[0]?.children}));const{themeClasses:a}=provideTheme(e),{iconData:c}=useIcon(l||e),{sizeClasses:d}=useSize(e),{textColorClasses:D,textColorStyles:v}=useTextColor(toRef(e,"color"));return useRender(()=>createVNode(c.value.component,{tag:e.tag,icon:c.value.icon,class:["v-icon","notranslate",a.value,d.value,D.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[d.value?void 0:{fontSize:convertToUnit(e.size),height:convertToUnit(e.size),width:convertToUnit(e.size)},v.value],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[i.default?.()]})),{}}}),VProgressCircular$1="";function useIntersectionObserver(e){const t=ref(),r=ref(!1);if(SUPPORTS_INTERSECTION){const i=new IntersectionObserver(l=>{e?.(l,i),r.value=!!l.find(a=>a.isIntersecting)});onBeforeUnmount(()=>{i.disconnect()}),watch(t,(l,a)=>{a&&(i.unobserve(a),r.value=!1),l&&i.observe(l)},{flush:"post"})}return{intersectionRef:t,isIntersecting:r}}function useResizeObserver(e){const t=ref(),r=ref();if(IN_BROWSER){const i=new ResizeObserver(l=>{e?.(l,i),l.length&&(r.value=l[0].contentRect)});onBeforeUnmount(()=>{i.disconnect()}),watch(t,(l,a)=>{a&&(i.unobserve(a),r.value=void 0),l&&i.observe(l)},{flush:"post"})}return{resizeRef:t,contentRect:readonly(r)}}const VProgressCircular=genericComponent()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},setup(e,t){let{slots:r}=t;const i=20,l=2*Math.PI*i,a=ref(),{themeClasses:c}=provideTheme(e),{sizeClasses:d,sizeStyles:D}=useSize(e),{textColorClasses:v,textColorStyles:C}=useTextColor(toRef(e,"color")),{textColorClasses:f,textColorStyles:w}=useTextColor(toRef(e,"bgColor")),{intersectionRef:F,isIntersecting:T}=useIntersectionObserver(),{resizeRef:R,contentRect:ee}=useResizeObserver(),re=computed(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),ae=computed(()=>Number(e.width)),ce=computed(()=>D.value?Number(e.size):ee.value?ee.value.width:Math.max(ae.value,32)),ue=computed(()=>i/(1-ae.value/ce.value)*2),de=computed(()=>ae.value/ce.value*ue.value),A=computed(()=>convertToUnit((100-re.value)/100*l));return watchEffect(()=>{F.value=a.value,R.value=a.value}),useRender(()=>createVNode(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":T.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},c.value,d.value,v.value],style:[D.value,C.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:re.value},{default:()=>[createVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ue.value} ${ue.value}`},[createVNode("circle",{class:["v-progress-circular__underlay",f.value],style:w.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":de.value,"stroke-dasharray":l,"stroke-dashoffset":0},null),createVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":de.value,"stroke-dasharray":l,"stroke-dashoffset":A.value},null)]),r.default&&createVNode("div",{class:"v-progress-circular__content"},[r.default({value:re.value})])]})),{}}}),VRipple="",stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(e,t){e.style.transform=t,e.style.webkitTransform=t}function isTouchEvent(e){return e.constructor.name==="TouchEvent"}function isKeyboardEvent(e){return e.constructor.name==="KeyboardEvent"}const calculate=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,l=0;if(!isKeyboardEvent(e)){const f=t.getBoundingClientRect(),w=isTouchEvent(e)?e.touches[e.touches.length-1]:e;i=w.clientX-f.left,l=w.clientY-f.top}let a=0,c=.3;t._ripple?.circle?(c=.15,a=t.clientWidth/2,a=r.center?a:a+Math.sqrt((i-a)**2+(l-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const d=`${(t.clientWidth-a*2)/2}px`,D=`${(t.clientHeight-a*2)/2}px`,v=r.center?d:`${i-a}px`,C=r.center?D:`${l-a}px`;return{radius:a,scale:c,x:v,y:C,centerX:d,centerY:D}},ripples={show(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const i=document.createElement("span"),l=document.createElement("span");i.appendChild(l),i.className="v-ripple__container",r.class&&(i.className+=` ${r.class}`);const{radius:a,scale:c,x:d,y:D,centerX:v,centerY:C}=calculate(e,t,r),f=`${a*2}px`;l.className="v-ripple__animation",l.style.width=f,l.style.height=f,t.appendChild(i);const w=window.getComputedStyle(t);w&&w.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),l.classList.add("v-ripple__animation--enter"),l.classList.add("v-ripple__animation--visible"),transform(l,`translate(${d}, ${D}) scale3d(${c},${c},${c})`),l.dataset.activated=String(performance.now()),setTimeout(()=>{l.classList.remove("v-ripple__animation--enter"),l.classList.add("v-ripple__animation--in"),transform(l,`translate(${v}, ${C}) scale3d(1,1,1)`)},0)},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const i=performance.now()-Number(r.dataset.activated),l=Math.max(250-i,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),r.parentNode?.parentNode===e&&e.removeChild(r.parentNode)},300)},l)}};function isRippleEnabled(e){return typeof e>"u"||!!e}function rippleShow(e){const t={},r=e.currentTarget;if(!(!r?._ripple||r._ripple.touched||e[stopSymbol])){if(e[stopSymbol]=!0,isTouchEvent(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||isKeyboardEvent(e),r._ripple.class&&(t.class=r._ripple.class),isTouchEvent(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{ripples.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{r?._ripple?.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(e,r,t)}}function rippleStop(e){e[stopSymbol]=!0}function rippleHide(e){const t=e.currentTarget;if(!!t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{rippleHide(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ripples.hide(t)}}function rippleCancelShow(e){const t=e.currentTarget;!t?._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e){!keyboardRipple&&(e.keyCode===keyCodes.enter||e.keyCode===keyCodes.space)&&(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,t,r){const{value:i,modifiers:l}=t,a=isRippleEnabled(i);if(a||ripples.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=l.center,e._ripple.circle=l.circle,isObject$1(i)&&i.class&&(e._ripple.class=i.class),a&&!r){if(l.stop){e.addEventListener("touchstart",rippleStop,{passive:!0}),e.addEventListener("mousedown",rippleStop);return}e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",keyboardRippleShow),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})}else!a&&r&&removeListeners(e)}function removeListeners(e){e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),e.removeEventListener("keydown",keyboardRippleShow),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function mounted$5(e,t){updateRipple(e,t,!1)}function unmounted$4(e){delete e._ripple,removeListeners(e)}function updated(e,t){if(t.value===t.oldValue)return;const r=isRippleEnabled(t.oldValue);updateRipple(e,t,r)}const Ripple={mounted:mounted$5,unmounted:unmounted$4,updated},makeDimensionProps=propsFactory$1({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(e){return{dimensionStyles:computed(()=>({height:convertToUnit(e.height),maxHeight:convertToUnit(e.maxHeight),maxWidth:convertToUnit(e.maxWidth),minHeight:convertToUnit(e.minHeight),minWidth:convertToUnit(e.minWidth),width:convertToUnit(e.width)}))}}const VProgressLinear$1="",en={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},LANG_PREFIX="$vuetify.",replace=(e,t)=>e.replace(/\{(\d+)\}/g,(r,i)=>String(t[+i])),createTranslateFunction=(e,t,r)=>function(i){for(var l=arguments.length,a=new Array(l>1?l-1:0),c=1;c<l;c++)a[c-1]=arguments[c];if(!i.startsWith(LANG_PREFIX))return replace(i,a);const d=i.replace(LANG_PREFIX,""),D=e.value&&r.value[e.value],v=t.value&&r.value[t.value];let C=getObjectValueByPath(D,d,null);return C||(consoleWarn(`Translation key "${i}" not found in "${e.value}", trying fallback locale`),C=getObjectValueByPath(v,d,null)),C||(consoleError(`Translation key "${i}" not found in fallback`),C=i),typeof C!="string"&&(consoleError(`Translation key "${i}" has a non-string value`),C=i),replace(C,a)};function createNumberFunction(e,t){return(r,i)=>new Intl.NumberFormat([e.value,t.value],i).format(r)}function useProvided(e,t,r){const i=useProxiedModel(e,t,e[t]??r.value);return i.value=e[t]??r.value,watch(r,l=>{e[t]==null&&(i.value=r.value)}),i}function createProvideFunction(e){return t=>{const r=useProvided(t,"locale",e.current),i=useProvided(t,"fallback",e.fallback),l=useProvided(t,"messages",e.messages);return{name:"vuetify",current:r,fallback:i,messages:l,t:createTranslateFunction(r,i,l),n:createNumberFunction(r,i),provide:createProvideFunction({current:r,fallback:i,messages:l})}}}function createVuetifyAdapter(e){const t=ref(e?.locale??"en"),r=ref(e?.fallback??"en"),i=ref({en,...e?.messages});return{name:"vuetify",current:t,fallback:r,messages:i,t:createTranslateFunction(t,r,i),n:createNumberFunction(t,r),provide:createProvideFunction({current:t,fallback:r,messages:i})}}const defaultRtl={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(e){return e.name!=null}function createLocale(e){const t=e?.adapter&&isLocaleInstance(e?.adapter)?e?.adapter:createVuetifyAdapter(e),r=createRtl(t,e);return{...t,...r}}function useLocale(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function createRtl(e,t){const r=ref(t?.rtl??defaultRtl),i=computed(()=>r.value[e.current.value]??!1);return{isRtl:i,rtl:r,rtlClasses:computed(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function useRtl(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory$1({location:String},"location");function useLocation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=useRtl();return{locationStyles:computed(()=>{if(!e.location)return{};const{side:a,align:c}=parseAnchor(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function d(v){return r?r(v):0}const D={};return a!=="center"&&(t?D[oppositeMap[a]]=`calc(100% - ${d(a)}px)`:D[a]=0),c!=="center"?t?D[oppositeMap[c]]=`calc(100% - ${d(c)}px)`:D[c]=0:(a==="center"?D.top=D.left="50%":D[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",D.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),D})}}const VProgressLinear=genericComponent()({name:"VProgressLinear",props:{absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeLocationProps({location:"top"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{isRtl:l}=useRtl(),{themeClasses:a}=provideTheme(e),{locationStyles:c}=useLocation(e),{textColorClasses:d,textColorStyles:D}=useTextColor(e,"color"),{backgroundColorClasses:v,backgroundColorStyles:C}=useBackgroundColor(computed(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:w}=useBackgroundColor(e,"color"),{roundedClasses:F}=useRounded(e),{intersectionRef:T,isIntersecting:R}=useIntersectionObserver(),ee=computed(()=>parseInt(e.max,10)),re=computed(()=>parseInt(e.height,10)),ae=computed(()=>parseFloat(e.bufferValue)/ee.value*100),ce=computed(()=>parseFloat(i.value)/ee.value*100),ue=computed(()=>l.value!==e.reverse),de=computed(()=>e.indeterminate?"fade-transition":"slide-x-transition"),A=computed(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function oe(le){if(!T.value)return;const{left:ie,right:I,width:j}=T.value.getBoundingClientRect(),pe=ue.value?j-le.clientX+(I-j):le.clientX-ie;i.value=Math.round(pe/j*ee.value)}return useRender(()=>createVNode(e.tag,{ref:T,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&R.value,"v-progress-linear--reverse":ue.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},F.value,a.value],style:{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?convertToUnit(re.value):0,"--v-progress-linear-height":convertToUnit(re.value),...c.value},role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:ce.value,onClick:e.clickable&&oe},{default:()=>[e.stream&&createVNode("div",{key:"stream",class:["v-progress-linear__stream",d.value],style:{...D.value,[ue.value?"left":"right"]:convertToUnit(-re.value),borderTop:`${convertToUnit(re.value/2)} dotted`,opacity:A.value,top:`calc(50% - ${convertToUnit(re.value/4)})`,width:convertToUnit(100-ae.value,"%"),"--v-progress-linear-stream-to":convertToUnit(re.value*(ue.value?1:-1))}},null),createVNode("div",{class:["v-progress-linear__background",v.value],style:[C.value,{opacity:A.value,width:convertToUnit(e.stream?ae.value:100,"%")}]},null),createVNode(Transition,{name:de.value},{default:()=>[e.indeterminate?createVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(le=>createVNode("div",{key:le,class:["v-progress-linear__indeterminate",le,f.value],style:w.value},null))]):createVNode("div",{class:["v-progress-linear__determinate",f.value],style:[w.value,{width:convertToUnit(ce.value,"%")}]},null)]}),r.default&&createVNode("div",{class:"v-progress-linear__content"},[r.default({value:ce.value,buffer:ae.value})])]})),{}}}),makeLoaderProps=propsFactory$1({loading:[Boolean,String]},"loader");function useLoader(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:computed(()=>({[`${t}--loading`]:e.loading}))}}function LoaderSlot(e,t){let{slots:r}=t;return createVNode("div",{class:`${e.name}__loader`},[r.default?.({color:e.color,isActive:e.active})||createVNode(VProgressLinear,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory$1({position:{type:String,validator:e=>positionValues.includes(e)}},"position");function usePosition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:computed(()=>e.position?`${t}--${e.position}`:void 0)}}function useRouter(){return getCurrentInstance("useRouter")?.proxy?.$router}function useLink(e,t){const r=resolveDynamicComponent("RouterLink"),i=computed(()=>!!(e.href||e.to)),l=computed(()=>i?.value||hasEvent(t,"click")||hasEvent(e,"click"));if(typeof r=="string")return{isLink:i,isClickable:l,href:toRef(e,"href")};const a=e.to?r.useLink(e):void 0;return{isLink:i,isClickable:l,route:a?.route,navigate:a?.navigate,isActive:a&&computed(()=>e.exact?a.isExactActive?.value:a.isActive?.value),href:computed(()=>e.to?a?.route.value.href:e.href)}}const makeRouterProps=propsFactory$1({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(e,t){let r=!1,i,l;IN_BROWSER&&(nextTick(()=>{window.addEventListener("popstate",a),i=e?.beforeEach((c,d,D)=>{inTransition?r?t(D):D():setTimeout(()=>r?t(D):D()),inTransition=!0}),l=e?.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{window.removeEventListener("popstate",a),i?.(),l?.()}));function a(c){c.state?.replaced||(r=!0,setTimeout(()=>r=!1))}}function useSelectLink(e,t){watch(()=>e.isActive?.value,r=>{e.isLink.value&&r&&t&&nextTick(()=>{t(!0)})},{immediate:!0})}const makeVBtnProps=propsFactory$1({active:{type:Boolean,default:void 0},symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue$1,appendIcon:IconValue$1,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...makeBorderProps(),...makeRoundedProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VBtn"),VBtn=genericComponent()({name:"VBtn",directives:{Ripple},props:makeVBtnProps(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:l}=provideTheme(e),{borderClasses:a}=useBorder(e),{colorClasses:c,colorStyles:d,variantClasses:D}=useVariant(e),{densityClasses:v}=useDensity(e),{dimensionStyles:C}=useDimension(e),{elevationClasses:f}=useElevation(e),{loaderClasses:w}=useLoader(e),{locationStyles:F}=useLocation(e),{positionClasses:T}=usePosition(e),{roundedClasses:R}=useRounded(e),{sizeClasses:ee,sizeStyles:re}=useSize(e),ae=useGroupItem(e,e.symbol,!1),ce=useLink(e,r),ue=computed(()=>e.active!==void 0?e.active:ce.isLink.value?ce.isActive?.value:ae?.isSelected.value),de=computed(()=>ae?.disabled.value||e.disabled),A=computed(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),oe=computed(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});return useSelectLink(ce,ae?.select),useRender(()=>{const le=ce.isLink.value?"a":e.tag,ie=!!(e.prependIcon||i.prepend),I=!!(e.appendIcon||i.append),j=!!(e.icon&&e.icon!==!0),pe=ae?.isSelected.value&&(!ce.isLink.value||ce.isActive?.value)||!ae||ce.isActive?.value;return withDirectives(createVNode(le,{type:le==="a"?void 0:"button",class:["v-btn",ae?.selectedClass.value,{"v-btn--active":ue.value,"v-btn--block":e.block,"v-btn--disabled":de.value,"v-btn--elevated":A.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},l.value,a.value,pe?c.value:void 0,v.value,f.value,w.value,T.value,R.value,ee.value,D.value],style:[pe?d.value:void 0,C.value,F.value,re.value],disabled:de.value||void 0,href:ce.href.value,onClick:be=>{de.value||(ce.navigate?.(be),ae?.toggle())},value:oe.value},{default:()=>[genOverlays(!0,"v-btn"),!e.icon&&ie&&createVNode("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon},null)]),createVNode("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&j?createVNode(VIcon,{key:"content-icon",icon:e.icon},null):createVNode(VDefaultsProvider,{key:"content-defaults",disabled:!j,defaults:{VIcon:{icon:e.icon}}},i.default)]),!e.icon&&I&&createVNode("span",{key:"append",class:"v-btn__append"},[i.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):createVNode(VIcon,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&createVNode("span",{key:"loader",class:"v-btn__loader"},[i.loader?.()??createVNode(VProgressCircular,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[resolveDirective("ripple"),!de.value&&e.ripple,null]])}),{}}}),VList$1="",VDivider$1="",VDivider=genericComponent()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...makeThemeProps()},setup(e,t){let{attrs:r}=t;const{themeClasses:i}=provideTheme(e),{textColorClasses:l,textColorStyles:a}=useTextColor(toRef(e,"color")),c=computed(()=>{const d={};return e.length&&(d[e.vertical?"maxHeight":"maxWidth"]=convertToUnit(e.length)),e.thickness&&(d[e.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(e.thickness)),d});return useRender(()=>createVNode("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,l.value],style:[c.value,a.value],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}});function createCssTransition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center center",r=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:r},origin:{type:String,default:t}},setup(i,l){let{slots:a}=l;return()=>{const c=i.group?TransitionGroup:Transition;return h(c,{name:e,mode:i.mode,onBeforeEnter(d){d.style.transformOrigin=i.origin},onLeave(d){if(i.leaveAbsolute){const{offsetTop:D,offsetLeft:v,offsetWidth:C,offsetHeight:f}=d;d._transitionInitialStyles={position:d.style.position,top:d.style.top,left:d.style.left,width:d.style.width,height:d.style.height},d.style.position="absolute",d.style.top=`${D}px`,d.style.left=`${v}px`,d.style.width=`${C}px`,d.style.height=`${f}px`}i.hideOnLeave&&d.style.setProperty("display","none","important")},onAfterLeave(d){if(i.leaveAbsolute&&d?._transitionInitialStyles){const{position:D,top:v,left:C,width:f,height:w}=d._transitionInitialStyles;delete d._transitionInitialStyles,d.style.position=D||"",d.style.top=v||"",d.style.left=C||"",d.style.width=f||"",d.style.height=w||""}}},a.default)}}})}function createJavascriptTransition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return genericComponent()({name:e,props:{mode:{type:String,default:r}},setup(i,l){let{slots:a}=l;return()=>h(Transition,{name:e,...t},a.default)}})}function ExpandTransitionGenerator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=camelize(`offset-${r}`);return{onBeforeEnter(c){c._parent=c.parentNode,c._initialStyle={transition:c.style.transition,overflow:c.style.overflow,[r]:c.style[r]}},onEnter(c){const d=c._initialStyle;c.style.setProperty("transition","none","important"),c.style.overflow="hidden";const D=`${c[i]}px`;c.style[r]="0",c.offsetHeight,c.style.transition=d.transition,e&&c._parent&&c._parent.classList.add(e),requestAnimationFrame(()=>{c.style[r]=D})},onAfterEnter:a,onEnterCancelled:a,onLeave(c){c._initialStyle={transition:"",overflow:c.style.overflow,[r]:c.style[r]},c.style.overflow="hidden",c.style[r]=`${c[i]}px`,c.offsetHeight,requestAnimationFrame(()=>c.style[r]="0")},onAfterLeave:l,onLeaveCancelled:l};function l(c){e&&c._parent&&c._parent.classList.remove(e),a(c)}function a(c){const d=c._initialStyle[r];c.style.overflow=c._initialStyle.overflow,d!=null&&(c.style[r]=d),delete c._initialStyle}}const VDialogTransition=genericComponent()({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:r}=t;const i={onBeforeEnter(l){l.style.pointerEvents="none",l.style.visibility="hidden"},async onEnter(l,a){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),l.style.visibility="";const{x:c,y:d,sx:D,sy:v,speed:C}=getDimensions(e.target,l),f=animate(l,[{transform:`translate(${c}px, ${d}px) scale(${D}, ${v})`,opacity:0},{}],{duration:225*C,easing:deceleratedEasing});getChildren(l)?.forEach(w=>{animate(w,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*C,easing:standardEasing})}),f.finished.then(()=>a())},onAfterEnter(l){l.style.removeProperty("pointer-events")},onBeforeLeave(l){l.style.pointerEvents="none"},async onLeave(l,a){await new Promise(w=>requestAnimationFrame(w));const{x:c,y:d,sx:D,sy:v,speed:C}=getDimensions(e.target,l);animate(l,[{},{transform:`translate(${c}px, ${d}px) scale(${D}, ${v})`,opacity:0}],{duration:125*C,easing:acceleratedEasing}).finished.then(()=>a()),getChildren(l)?.forEach(w=>{animate(w,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*C,easing:standardEasing})})},onAfterLeave(l){l.style.removeProperty("pointer-events")}};return()=>e.target?createVNode(Transition,mergeProps({name:"dialog-transition"},i,{css:!1}),r):createVNode(Transition,{name:"dialog-transition"},r)}});function getChildren(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function getDimensions(e,t){const r=e.getBoundingClientRect(),i=nullifyTransforms(t),[l,a]=getComputedStyle(t).transformOrigin.split(" ").map(re=>parseFloat(re)),[c,d]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let D=r.left+r.width/2;c==="left"||d==="left"?D-=r.width/2:(c==="right"||d==="right")&&(D+=r.width/2);let v=r.top+r.height/2;c==="top"||d==="top"?v-=r.height/2:(c==="bottom"||d==="bottom")&&(v+=r.height/2);const C=r.width/i.width,f=r.height/i.height,w=Math.max(1,C,f),F=C/w||0,T=f/w||0,R=i.width*i.height/(window.innerWidth*window.innerHeight),ee=R>.12?Math.min(1.5,(R-.12)*10+1):1;return{x:D-(l+i.left),y:v-(a+i.top),sx:F,sy:T,speed:ee}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0)),ListKey=Symbol.for("vuetify:list");function createList(){const e=inject$1(ListKey,{hasPrepend:ref(!1),updateHasPrepend:()=>null}),t={hasPrepend:ref(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return provide(ListKey,t),e}function useList(){return inject$1(ListKey,null)}const singleOpenStrategy={open:e=>{let{id:t,value:r,opened:i,parents:l}=e;if(r){const a=new Set;a.add(t);let c=l.get(t);for(;c!=null;)a.add(c),c=l.get(c);return a}else return i.delete(t),i},select:()=>null},multipleOpenStrategy={open:e=>{let{id:t,value:r,opened:i,parents:l}=e;if(r){let a=l.get(t);for(i.add(t);a!=null&&a!==t;)i.add(a),a=l.get(a);return i}else i.delete(t);return i},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:e=>{let{id:t,value:r,opened:i,parents:l}=e;if(!r)return i;const a=[];let c=l.get(t);for(;c!=null;)a.push(c),c=l.get(c);return new Set(a)}},independentSelectStrategy=e=>{const t={select:r=>{let{id:i,value:l,selected:a}=r;if(i=toRaw(i),e&&!l){const c=Array.from(a.entries()).reduce((d,D)=>{let[v,C]=D;return C==="on"?[...d,v]:d},[]);if(c.length===1&&c[0]===i)return a}return a.set(i,l?"on":"off"),a},in:(r,i,l)=>{let a=new Map;for(const c of r||[])a=t.select({id:c,value:!0,selected:new Map(a),children:i,parents:l});return a},out:r=>{const i=[];for(const[l,a]of r.entries())a==="on"&&i.push(l);return i}};return t},independentSingleSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:i=>{let{selected:l,id:a,...c}=i;a=toRaw(a);const d=l.has(a)?new Map([[a,l.get(a)]]):new Map;return t.select({...c,id:a,selected:d})},in:(i,l,a)=>{let c=new Map;return i?.length&&(c=t.in(i.slice(0,1),l,a)),c},out:(i,l,a)=>t.out(i,l,a)}},leafSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:i=>{let{id:l,selected:a,children:c,...d}=i;return l=toRaw(l),c.has(l)?a:t.select({id:l,selected:a,children:c,...d})},in:t.in,out:t.out}},leafSingleSelectStrategy=e=>{const t=independentSingleSelectStrategy(e);return{select:i=>{let{id:l,selected:a,children:c,...d}=i;return l=toRaw(l),c.has(l)?a:t.select({id:l,selected:a,children:c,...d})},in:t.in,out:t.out}},classicSelectStrategy=e=>{const t={select:r=>{let{id:i,value:l,selected:a,children:c,parents:d}=r;i=toRaw(i);const D=new Map(a),v=[i];for(;v.length;){const f=v.shift();a.set(f,l?"on":"off"),c.has(f)&&v.push(...c.get(f))}let C=d.get(i);for(;C;){const f=c.get(C),w=f.every(T=>a.get(T)==="on"),F=f.every(T=>!a.has(T)||a.get(T)==="off");a.set(C,w?"on":F?"off":"indeterminate"),C=d.get(C)}return e&&!l&&Array.from(a.entries()).reduce((w,F)=>{let[T,R]=F;return R==="on"?[...w,T]:w},[]).length===0?D:a},in:(r,i,l)=>{let a=new Map;for(const c of r||[])a=t.select({id:c,value:!0,selected:new Map(a),children:i,parents:l});return a},out:(r,i)=>{const l=[];for(const[a,c]of r.entries())c==="on"&&!i.has(a)&&l.push(a);return l}};return t},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:ref(),root:{register:()=>null,unregister:()=>null,parents:ref(new Map),children:ref(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ref(new Set),selected:ref(new Map),selectedValues:ref([])}},makeNestedProps=propsFactory$1({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),useNested=e=>{let t=!1;const r=ref(new Map),i=ref(new Map),l=useProxiedModel(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),a=computed(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(e.mandatory);case"leaf":return leafSelectStrategy(e.mandatory);case"independent":return independentSelectStrategy(e.mandatory);case"single-independent":return independentSingleSelectStrategy(e.mandatory);case"classic":default:return classicSelectStrategy(e.mandatory)}}),c=computed(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),d=useProxiedModel(e,"selected",e.selected,f=>a.value.in(f,r.value,i.value),f=>a.value.out(f,r.value,i.value));onBeforeUnmount(()=>{t=!0});function D(f){const w=[];let F=f;for(;F!=null;)w.unshift(F),F=i.value.get(F);return w}const v=getCurrentInstance("nested"),C={id:ref(),root:{opened:l,selected:d,selectedValues:computed(()=>{const f=[];for(const[w,F]of d.value.entries())F==="on"&&f.push(w);return f}),register:(f,w,F)=>{w&&f!==w&&i.value.set(f,w),F&&r.value.set(f,[]),w!=null&&r.value.set(w,[...r.value.get(w)||[],f])},unregister:f=>{if(t)return;r.value.delete(f);const w=i.value.get(f);if(w){const F=r.value.get(w)??[];r.value.set(w,F.filter(T=>T!==f))}i.value.delete(f),l.value.delete(f)},open:(f,w,F)=>{v.emit("click:open",{id:f,value:w,path:D(f),event:F});const T=c.value.open({id:f,value:w,opened:new Set(l.value),children:r.value,parents:i.value,event:F});T&&(l.value=T)},openOnSelect:(f,w,F)=>{const T=c.value.select({id:f,value:w,selected:new Map(d.value),opened:new Set(l.value),children:r.value,parents:i.value,event:F});T&&(l.value=T)},select:(f,w,F)=>{v.emit("click:select",{id:f,value:w,path:D(f),event:F});const T=a.value.select({id:f,value:w,selected:new Map(d.value),children:r.value,parents:i.value,event:F});T&&(d.value=T),C.root.openOnSelect(f,w,F)},children:r,parents:i}};return provide(VNestedSymbol,C),C.root},useNestedItem=(e,t)=>{const r=inject$1(VNestedSymbol,emptyNested),i=Symbol(getUid()),l=computed(()=>e.value??i),a={...r,id:l,open:(c,d)=>r.root.open(l.value,c,d),openOnSelect:(c,d)=>r.root.openOnSelect(l.value,c,d),isOpen:computed(()=>r.root.opened.value.has(l.value)),parent:computed(()=>r.root.parents.value.get(l.value)),select:(c,d)=>r.root.select(l.value,c,d),isSelected:computed(()=>r.root.selected.value.get(toRaw(l.value))==="on"),isIndeterminate:computed(()=>r.root.selected.value.get(l.value)==="indeterminate"),isLeaf:computed(()=>!r.root.children.value.get(l.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(l.value,r.id.value,t),onBeforeUnmount(()=>{!r.isGroupActivator&&r.root.unregister(l.value)}),t&&provide(VNestedSymbol,a),a},useNestedGroupActivator=()=>{const e=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...e,isGroupActivator:!0})},VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return useNestedGroupActivator(),()=>r.default?.()}}),makeVListGroupProps=propsFactory$1({activeColor:String,color:String,collapseIcon:{type:IconValue$1,default:"$collapse"},expandIcon:{type:IconValue$1,default:"$expand"},prependIcon:IconValue$1,appendIcon:IconValue$1,fluid:Boolean,subgroup:Boolean,value:null,...makeTagProps()},"v-list-group"),VListGroup=genericComponent()({name:"VListGroup",props:{title:String,...makeVListGroupProps()},setup(e,t){let{slots:r}=t;const{isOpen:i,open:l,id:a}=useNestedItem(toRef(e,"value"),!0),c=computed(()=>`v-list-group--id-${String(a.value)}`),d=useList();function D(f){l(!i.value,f)}const v=computed(()=>({onClick:D,class:"v-list-group__header",id:c.value})),C=computed(()=>i.value?e.collapseIcon:e.expandIcon);return useRender(()=>createVNode(e.tag,{class:["v-list-group",{"v-list-group--prepend":d?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value}]},{default:()=>[r.activator&&createVNode(VDefaultsProvider,{defaults:{VListItem:{active:i.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&C.value,appendIcon:e.appendIcon||!e.subgroup&&C.value,title:e.title,value:e.value}}},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[r.activator({props:v.value,isOpen:i.value})]})]}),createVNode(VExpandTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":c.value},[r.default?.()]),[[vShow,i.value]])]})]})),{}}}),VListItem$1="",VAvatar$1="",VImg$1="",VResponsive$1="";function useAspectStyles(e){return{aspectStyles:computed(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const VResponsive=genericComponent()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...makeDimensionProps()},setup(e,t){let{slots:r}=t;const{aspectStyles:i}=useAspectStyles(e),{dimensionStyles:l}=useDimension(e);return useRender(()=>createVNode("div",{class:"v-responsive",style:l.value},[createVNode("div",{class:"v-responsive__sizer",style:i.value},null),r.additional?.(),r.default&&createVNode("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])),{}}});function mounted$4(e,t){if(!SUPPORTS_INTERSECTION)return;const r=t.modifiers||{},i=t.value,{handler:l,options:a}=typeof i=="object"?i:{handler:i,options:{}},c=new IntersectionObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1?arguments[1]:void 0;const v=e._observe?.[t.instance.$.uid];if(!v)return;const C=d.some(f=>f.isIntersecting);l&&(!r.quiet||v.init)&&(!r.once||C||v.init)&&l(C,d,D),C&&r.once?unmounted$3(e,t):v.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:c},c.observe(e)}function unmounted$3(e,t){const r=e._observe?.[t.instance.$.uid];!r||(r.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Intersect={mounted:mounted$4,unmounted:unmounted$3},Intersect$1=Intersect,makeTransitionProps=propsFactory$1({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),MaybeTransition=(e,t)=>{let{slots:r}=t;const{transition:i,...l}=e,{component:a=Transition,...c}=typeof i=="object"?i:{};return h(a,mergeProps(typeof i=="string"?{name:i}:c,l),r)},VImg=genericComponent()({name:"VImg",directives:{intersect:Intersect$1},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...makeTransitionProps()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:r,slots:i}=t;const l=ref(""),a=ref(),c=ref(e.eager?"loading":"idle"),d=ref(),D=ref(),v=computed(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),C=computed(()=>v.value.aspect||d.value/D.value||0);watch(()=>e.src,()=>{f(c.value!=="idle")}),watch(C,(le,ie)=>{!le&&ie&&a.value&&ee(a.value)}),onBeforeMount(()=>f());function f(le){if(!(e.eager&&le)&&!(SUPPORTS_INTERSECTION&&!le&&!e.eager)){if(c.value="loading",v.value.lazySrc){const ie=new Image;ie.src=v.value.lazySrc,ee(ie,null)}!v.value.src||nextTick(()=>{if(r("loadstart",a.value?.currentSrc||v.value.src),a.value?.complete){if(a.value.naturalWidth||F(),c.value==="error")return;C.value||ee(a.value,null),w()}else C.value||ee(a.value),T()})}}function w(){T(),c.value="loaded",r("load",a.value?.currentSrc||v.value.src)}function F(){c.value="error",r("error",a.value?.currentSrc||v.value.src)}function T(){const le=a.value;le&&(l.value=le.currentSrc||le.src)}let R=-1;function ee(le){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const I=()=>{clearTimeout(R);const{naturalHeight:j,naturalWidth:pe}=le;j||pe?(d.value=pe,D.value=j):!le.complete&&c.value==="loading"&&ie!=null?R=window.setTimeout(I,ie):(le.currentSrc.endsWith(".svg")||le.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,D.value=1)};I()}const re=computed(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),ae=()=>{if(!v.value.src||c.value==="idle")return null;const le=createVNode("img",{class:["v-img__img",re.value],src:v.value.src,srcset:v.value.srcset,alt:e.alt,sizes:e.sizes,ref:a,onLoad:w,onError:F},null),ie=i.sources?.();return createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[withDirectives(ie?createVNode("picture",{class:"v-img__picture"},[ie,le]):le,[[vShow,c.value==="loaded"]])]})},ce=()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[v.value.lazySrc&&c.value!=="loaded"&&createVNode("img",{class:["v-img__img","v-img__img--preload",re.value],src:v.value.lazySrc,alt:e.alt},null)]}),ue=()=>i.placeholder?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&createVNode("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,de=()=>i.error?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&createVNode("div",{class:"v-img__error"},[i.error()])]}):null,A=()=>e.gradient?createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,oe=ref(!1);{const le=watch(C,ie=>{ie&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{oe.value=!0})}),le())})}return useRender(()=>withDirectives(createVNode(VResponsive,{class:["v-img",{"v-img--booting":!oe.value}],style:{width:convertToUnit(e.width==="auto"?d.value:e.width)},aspectRatio:C.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>createVNode(Fragment,null,[createVNode(ae,null,null),createVNode(ce,null,null),createVNode(A,null,null),createVNode(ue,null,null),createVNode(de,null,null)]),default:i.default}),[[resolveDirective("intersect"),{handler:f,options:e.options},null,{once:!0}]])),{currentSrc:l,image:a,state:c,naturalWidth:d,naturalHeight:D}}}),makeVAvatarProps=propsFactory$1({start:Boolean,end:Boolean,icon:IconValue$1,image:String,...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"v-avatar"),VAvatar=genericComponent()({name:"VAvatar",props:makeVAvatarProps(),setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{colorClasses:l,colorStyles:a,variantClasses:c}=useVariant(e),{densityClasses:d}=useDensity(e),{roundedClasses:D}=useRounded(e),{sizeClasses:v,sizeStyles:C}=useSize(e);return useRender(()=>createVNode(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,l.value,d.value,D.value,v.value,c.value],style:[a.value,C.value]},{default:()=>[e.image?createVNode(VImg,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?createVNode(VIcon,{key:"icon",icon:e.icon},null):r.default?.(),genOverlays(!1,"v-avatar")]})),{}}}),VListItemSubtitle=createSimpleFunctional("v-list-item-subtitle"),VListItemTitle=createSimpleFunctional("v-list-item-title"),VListItem=genericComponent()({name:"VListItem",directives:{Ripple},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue$1,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:i,emit:l}=t;const a=useLink(e,r),c=computed(()=>e.value??a.href.value),{select:d,isSelected:D,isIndeterminate:v,isGroupActivator:C,root:f,parent:w,openOnSelect:F}=useNestedItem(c,!1),T=useList(),R=computed(()=>e.active!==!1&&(e.active||a.isActive?.value||D.value)),ee=computed(()=>e.link!==!1&&a.isLink.value),re=computed(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||e.value!=null&&!!T)),ae=computed(()=>e.rounded||e.nav),ce=computed(()=>({color:R.value?e.activeColor??e.color:e.color,variant:e.variant}));watch(()=>a.isActive?.value,Se=>{Se&&w.value!=null&&f.open(w.value,!0),Se&&F(Se)},{immediate:!0});const{themeClasses:ue}=provideTheme(e),{borderClasses:de}=useBorder(e),{colorClasses:A,colorStyles:oe,variantClasses:le}=useVariant(ce),{densityClasses:ie}=useDensity(e),{dimensionStyles:I}=useDimension(e),{elevationClasses:j}=useElevation(e),{roundedClasses:pe}=useRounded(ae),be=computed(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),De=computed(()=>({isActive:R.value,select:d,isSelected:D.value,isIndeterminate:v.value}));function Re(Se){l("click",Se),!(C||!re.value)&&(a.navigate?.(Se),e.value!=null&&d(!D.value,Se))}function Ee(Se){(Se.key==="Enter"||Se.key===" ")&&(Se.preventDefault(),Re(Se))}return useRender(()=>{const Se=ee.value?"a":e.tag,Le=!T||D.value||R.value,Ie=i.title||e.title,st=i.subtitle||e.subtitle,Ye=!!(e.appendAvatar||e.appendIcon),Ke=!!(Ye||i.append),St=!!(e.prependAvatar||e.prependIcon),ct=!!(St||i.prepend);return T?.updateHasPrepend(ct),withDirectives(createVNode(Se,{class:["v-list-item",{"v-list-item--active":R.value,"v-list-item--disabled":e.disabled,"v-list-item--link":re.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!ct&&T?.hasPrepend.value,[`${e.activeClass}`]:e.activeClass&&R.value},ue.value,de.value,Le?A.value:void 0,ie.value,j.value,be.value,pe.value,le.value],style:[Le?oe.value:void 0,I.value],href:a.href.value,tabindex:re.value?0:void 0,onClick:Re,onKeydown:re.value&&!ee.value&&Ee},{default:()=>[genOverlays(re.value||R.value,"v-list-item"),ct&&createVNode("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!St,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[i.prepend?.(De.value)]}):createVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),createVNode("div",{class:"v-list-item__content","data-no-activator":""},[Ie&&createVNode(VListItemTitle,{key:"title"},{default:()=>[i.title?.({title:e.title})??e.title]}),st&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>[i.subtitle?.({subtitle:e.subtitle})??e.subtitle]}),i.default?.(De.value)]),Ke&&createVNode("div",{key:"append",class:"v-list-item__append"},[i.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!Ye,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[i.append?.(De.value)]}):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}),[[resolveDirective("ripple"),re.value&&e.ripple]])}),{}}}),VListSubheader=genericComponent()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...makeTagProps()},setup(e,t){let{slots:r}=t;const{textColorClasses:i,textColorStyles:l}=useTextColor(toRef(e,"color"));return useRender(()=>{const a=!!(r.default||e.title);return createVNode(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value],style:{textColorStyles:l}},{default:()=>[a&&createVNode("div",{class:"v-list-subheader__text"},[r.default?.()??e.title])]})}),{}}}),VListChildren=genericComponent()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:r}=t;return createList(),()=>r.default?.()??e.items?.map(i=>{let{children:l,props:a,type:c,raw:d}=i;if(c==="divider")return r.divider?.({props:a})??createVNode(VDivider,a,null);if(c==="subheader")return r.subheader?.({props:a})??createVNode(VListSubheader,a,{default:r.subheader});const D={subtitle:r.subtitle?f=>r.subtitle?.({...f,item:d}):void 0,prepend:r.prepend?f=>r.prepend?.({...f,item:d}):void 0,append:r.append?f=>r.append?.({...f,item:d}):void 0,default:r.default?f=>r.default?.({...f,item:d}):void 0,title:r.title?f=>r.title?.({...f,item:d}):void 0},[v,C]=VListGroup.filterProps(a);return l?createVNode(VListGroup,mergeProps({value:a?.value},v),{activator:f=>{let{props:w}=f;return r.header?r.header({props:{...a,...w}}):createVNode(VListItem,mergeProps(a,w),D)},default:()=>createVNode(VListChildren,{items:l},r)}):r.item?r.item(a):createVNode(VListItem,a,D)})}}),makeItemsProps=propsFactory$1({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function transformItem$1(e,t){const r=getPropertyFromItem(t,e.itemTitle,t),i=e.returnObject?t:getPropertyFromItem(t,e.itemValue,r),l=getPropertyFromItem(t,e.itemChildren),a=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?pick(t,["children"])[1]:t:void 0:getPropertyFromItem(t,e.itemProps),c={title:r,value:i,...a};return{title:String(c.title??""),value:c.value,props:c,children:Array.isArray(l)?transformItems$1(e,l):void 0,raw:t}}function transformItems$1(e,t){const r=[];for(const i of t)r.push(transformItem$1(e,i));return r}function useItems(e){const t=computed(()=>transformItems$1(e,e.items));function r(l){return l.map(a=>transformItem$1(e,a))}function i(l){return l.map(a=>{let{props:c}=a;return c.value})}return{items:t,transformIn:r,transformOut:i}}function isPrimitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function transformItem(e,t){const r=getPropertyFromItem(t,e.itemType,"item"),i=isPrimitive(t)?t:getPropertyFromItem(t,e.itemTitle),l=getPropertyFromItem(t,e.itemValue,void 0),a=getPropertyFromItem(t,e.itemChildren),c=e.itemProps===!0?pick(t,["children"])[1]:getPropertyFromItem(t,e.itemProps),d={title:i,value:l,...c};return{type:r,title:d.title,value:d.value,props:d,children:r==="item"&&a?transformItems(e,a):void 0,raw:t}}function transformItems(e,t){const r=[];for(const i of t)r.push(transformItem(e,i));return r}function useListItems(e){return{items:computed(()=>transformItems(e,e.items))}}const VList=genericComponent()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),itemType:{type:String,default:"type"},...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:i}=useListItems(e),{themeClasses:l}=provideTheme(e),{backgroundColorClasses:a,backgroundColorStyles:c}=useBackgroundColor(toRef(e,"bgColor")),{borderClasses:d}=useBorder(e),{densityClasses:D}=useDensity(e),{dimensionStyles:v}=useDimension(e),{elevationClasses:C}=useElevation(e),{roundedClasses:f}=useRounded(e),{open:w,select:F}=useNested(e),T=computed(()=>e.lines?`v-list--${e.lines}-line`:void 0),R=toRef(e,"activeColor"),ee=toRef(e,"color");createList(),provideDefaults({VListGroup:{activeColor:R,color:ee},VListItem:{activeClass:toRef(e,"activeClass"),activeColor:R,color:ee,density:toRef(e,"density"),disabled:toRef(e,"disabled"),lines:toRef(e,"lines"),nav:toRef(e,"nav"),variant:toRef(e,"variant")}});const re=ref(!1),ae=ref();function ce(le){re.value=!0}function ue(le){re.value=!1}function de(le){!re.value&&!(le.relatedTarget&&ae.value?.contains(le.relatedTarget))&&oe()}function A(le){if(!!ae.value){if(le.key==="ArrowDown")oe("next");else if(le.key==="ArrowUp")oe("prev");else if(le.key==="Home")oe("first");else if(le.key==="End")oe("last");else return;le.preventDefault()}}function oe(le){if(!ae.value)return;const ie=[...ae.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(j=>!j.hasAttribute("disabled")),I=ie.indexOf(document.activeElement);if(!le)ae.value.contains(document.activeElement)||ie[0]?.focus();else if(le==="first")ie[0]?.focus();else if(le==="last")ie.at(-1)?.focus();else{let j,pe=I;const be=le==="next"?1:-1;do pe+=be,j=ie[pe];while((!j||j.offsetParent==null)&&pe<ie.length&&pe>=0);j?j.focus():oe(le==="next"?"first":"last")}}return useRender(()=>createVNode(e.tag,{ref:ae,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},l.value,a.value,d.value,D.value,C.value,T.value,f.value],style:[c.value,v.value],role:"listbox","aria-activedescendant":void 0,onFocusin:ce,onFocusout:ue,onFocus:de,onKeydown:A},{default:()=>[createVNode(VListChildren,{items:i.value},r)]})),{open:w,select:F,focus:oe}}}),VSelect$1="",VTextField$1="",VField$1="";function useInputIcon(e){const{t}=useLocale();function r(i){let{name:l}=i;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],c=e[`onClick:${l}`],d=c&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return createVNode(VIcon,{icon:e[`${l}Icon`],"aria-label":d,onClick:c},null)}return{InputIcon:r}}const VLabel$1="",VLabel=genericComponent()({name:"VLabel",props:{text:String,clickable:Boolean,...makeThemeProps()},setup(e,t){let{slots:r}=t;return useRender(()=>createVNode("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,r.default?.()])),{}}}),VFieldLabel=genericComponent()({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(VLabel,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},r)),{}}}),makeFocusProps=propsFactory$1({focused:Boolean},"focus");function useFocus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=useProxiedModel(e,"focused"),i=computed(()=>({[`${t}--focused`]:r.value}));function l(){r.value=!0}function a(){r.value=!1}return{focusClasses:i,isFocused:r,focus:l,blur:a}}const allowedVariants$1=["underlined","outlined","filled","solo","plain"],makeVFieldProps=propsFactory$1({appendInnerIcon:IconValue$1,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue$1,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:IconValue$1,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>allowedVariants$1.includes(e)},"onClick:clear":EventProp,"onClick:appendInner":EventProp,"onClick:prependInner":EventProp,...makeThemeProps(),...makeLoaderProps()},"v-field"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:l}=t;const{themeClasses:a}=provideTheme(e),{loaderClasses:c}=useLoader(e),{focusClasses:d,isFocused:D,focus:v,blur:C}=useFocus(e),{InputIcon:f}=useInputIcon(e),w=computed(()=>e.dirty||e.active),F=computed(()=>!e.singleLine&&!!(e.label||l.label)),T=getUid(),R=computed(()=>e.id||`input-${T}`),ee=computed(()=>`${R.value}-messages`),re=ref(),ae=ref(),ce=ref(),{backgroundColorClasses:ue,backgroundColorStyles:de}=useBackgroundColor(toRef(e,"bgColor")),{textColorClasses:A,textColorStyles:oe}=useTextColor(computed(()=>w.value&&D.value&&!e.error&&!e.disabled?e.color:void 0));watch(w,I=>{if(F.value){const j=re.value.$el,pe=ae.value.$el;requestAnimationFrame(()=>{const be=nullifyTransforms(j),De=pe.getBoundingClientRect(),Re=De.x-be.x,Ee=De.y-be.y-(be.height/2-De.height/2),Se=De.width/.75,Le=Math.abs(Se-be.width)>1?{maxWidth:convertToUnit(Se)}:void 0,Ie=getComputedStyle(j),st=getComputedStyle(pe),Ye=parseFloat(Ie.transitionDuration)*1e3||150,Ke=parseFloat(st.getPropertyValue("--v-field-label-scale")),St=st.getPropertyValue("color");j.style.visibility="visible",pe.style.visibility="hidden",animate(j,{transform:`translate(${Re}px, ${Ee}px) scale(${Ke})`,color:St,...Le},{duration:Ye,easing:standardEasing,direction:I?"normal":"reverse"}).finished.then(()=>{j.style.removeProperty("visibility"),pe.style.removeProperty("visibility")})})}},{flush:"post"});const le=computed(()=>({isActive:w,isFocused:D,controlRef:ce,blur:C,focus:v}));function ie(I){I.target!==document.activeElement&&I.preventDefault()}return useRender(()=>{const I=e.variant==="outlined",j=l["prepend-inner"]||e.prependInnerIcon,pe=!!(e.clearable||l.clear),be=!!(l["append-inner"]||e.appendInnerIcon||pe),De=l.label?l.label({label:e.label,props:{for:R.value}}):e.label;return createVNode("div",mergeProps({class:["v-field",{"v-field--active":w.value,"v-field--appended":be,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":j,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!De,[`v-field--variant-${e.variant}`]:!0},a.value,ue.value,d.value,c.value],style:[de.value,oe.value],onClick:ie},r),[createVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:l.loader}),j&&createVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&createVNode(f,{key:"prepend-icon",name:"prependInner"},null),l["prepend-inner"]?.(le.value)]),createVNode("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(e.variant)&&F.value&&createVNode(VFieldLabel,{key:"floating-label",ref:ae,class:[A.value],floating:!0,for:R.value},{default:()=>[De]}),createVNode(VFieldLabel,{ref:re,for:R.value},{default:()=>[De]}),l.default?.({...le.value,props:{id:R.value,class:"v-field__input","aria-describedby":ee.value},focus:v,blur:C})]),pe&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createVNode("div",{class:"v-field__clearable",onMousedown:Re=>{Re.preventDefault(),Re.stopPropagation()}},[l.clear?l.clear():createVNode(f,{name:"clear"},null)]),[[vShow,e.dirty]])]}),be&&createVNode("div",{key:"append",class:"v-field__append-inner"},[l["append-inner"]?.(le.value),e.appendInnerIcon&&createVNode(f,{key:"append-icon",name:"appendInner"},null)]),createVNode("div",{class:["v-field__outline",A.value]},[I&&createVNode(Fragment,null,[createVNode("div",{class:"v-field__outline__start"},null),F.value&&createVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:ae,floating:!0,for:R.value},{default:()=>[De]})]),createVNode("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&F.value&&createVNode(VFieldLabel,{ref:ae,floating:!0,for:R.value},{default:()=>[De]})])])}),{controlRef:ce}}});function filterFieldProps(e){const t=Object.keys(VField.props).filter(r=>!isOn(r));return pick(e,t)}const VInput$1="",VMessages$1="",VMessages=genericComponent()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeTransitionProps({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},setup(e,t){let{slots:r}=t;const i=computed(()=>wrapInArray(e.messages)),{textColorClasses:l,textColorStyles:a}=useTextColor(computed(()=>e.color));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition,tag:"div",class:["v-messages",l.value],style:a.value,role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((c,d)=>createVNode("div",{class:"v-messages__message",key:`${d}-${i.value}`},[r.message?r.message({message:c}):c]))]})),{}}}),FormKey=Symbol.for("vuetify:form");function useForm(){return inject$1(FormKey,null)}const makeValidationProps=propsFactory$1({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:getUid();const i=useProxiedModel(e,"modelValue"),l=computed(()=>e.validationValue===void 0?i.value:e.validationValue),a=useForm(),c=ref([]),d=ref(!0),D=computed(()=>!!(wrapInArray(i.value===""?null:i.value).length||wrapInArray(l.value===""?null:l.value).length)),v=computed(()=>!!(e.disabled||a?.isDisabled.value)),C=computed(()=>!!(e.readonly||a?.isReadonly.value)),f=computed(()=>e.errorMessages.length?wrapInArray(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):c.value),w=computed(()=>e.error||f.value.length?!1:e.rules.length&&d.value?null:!0),F=ref(!1),T=computed(()=>({[`${t}--error`]:w.value===!1,[`${t}--dirty`]:D.value,[`${t}--disabled`]:v.value,[`${t}--readonly`]:C.value})),R=computed(()=>e.name??unref(r));onBeforeMount(()=>{a?.register({id:R.value,validate:ce,reset:re,resetValidation:ae})}),onBeforeUnmount(()=>{a?.unregister(R.value)});const ee=computed(()=>e.validateOn||a?.validateOn.value||"input");onMounted(()=>a?.update(R.value,w.value,f.value)),useToggleScope(()=>ee.value==="input",()=>{watch(l,()=>{if(l.value!=null)ce();else if(e.focused){const ue=watch(()=>e.focused,de=>{de||ce(),ue()})}})}),useToggleScope(()=>ee.value==="blur",()=>{watch(()=>e.focused,ue=>{ue||ce()})}),watch(w,()=>{a?.update(R.value,w.value,f.value)});function re(){ae(),i.value=null}function ae(){d.value=!0,c.value=[]}async function ce(){const ue=[];F.value=!0;for(const de of e.rules){if(ue.length>=(e.maxErrors??1))break;const oe=await(typeof de=="function"?de:()=>de)(l.value);if(oe!==!0){if(typeof oe!="string"){console.warn(`${oe} is not a valid value. Rule functions must return boolean true or a string.`);continue}ue.push(oe)}}return c.value=ue,F.value=!1,d.value=!1,c.value}return{errorMessages:f,isDirty:D,isDisabled:v,isReadonly:C,isPristine:d,isValid:w,isValidating:F,reset:re,resetValidation:ae,validate:ce,validationClasses:T}}const makeVInputProps=propsFactory$1({id:String,appendIcon:IconValue$1,prependIcon:IconValue$1,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":EventProp,"onClick:append":EventProp,...makeDensityProps(),...makeValidationProps()},"v-input"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i,emit:l}=t;const{densityClasses:a}=useDensity(e),{InputIcon:c}=useInputIcon(e),d=getUid(),D=computed(()=>e.id||`input-${d}`),v=computed(()=>`${D.value}-messages`),{errorMessages:C,isDirty:f,isDisabled:w,isReadonly:F,isPristine:T,isValid:R,isValidating:ee,reset:re,resetValidation:ae,validate:ce,validationClasses:ue}=useValidation(e,"v-input",D),de=computed(()=>({id:D,messagesId:v,isDirty:f,isDisabled:w,isReadonly:F,isPristine:T,isValid:R,isValidating:ee,reset:re,resetValidation:ae,validate:ce}));return useRender(()=>{const A=!!(i.prepend||e.prependIcon),oe=!!(i.append||e.appendIcon),le=!!(e.messages?.length||C.value.length),ie=!e.hideDetails||e.hideDetails==="auto"&&(le||!!i.details);return createVNode("div",{class:["v-input",`v-input--${e.direction}`,a.value,ue.value]},[A&&createVNode("div",{key:"prepend",class:"v-input__prepend"},[i.prepend?.(de.value),e.prependIcon&&createVNode(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&createVNode("div",{class:"v-input__control"},[i.default?.(de.value)]),oe&&createVNode("div",{key:"append",class:"v-input__append"},[e.appendIcon&&createVNode(c,{key:"append-icon",name:"append"},null),i.append?.(de.value)]),ie&&createVNode("div",{class:"v-input__details"},[createVNode(VMessages,{id:v.value,active:le,messages:C.value.length>0?C.value:e.messages},{message:i.message}),i.details?.(de.value)])])}),{reset:re,resetValidation:ae,validate:ce}}});function filterInputProps(e){const t=Object.keys(VInput.props).filter(r=>!isOn(r));return pick(e,t)}const VCounter$1="",VCounter=genericComponent()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeTransitionProps({transition:{component:VSlideYTransition}})},setup(e,t){let{slots:r}=t;const i=computed(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[withDirectives(createVNode("div",{class:"v-counter"},[r.default?r.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[vShow,e.active]])]})),{}}}),Refs=Symbol("Forwarded refs");function getDescriptor(e,t){let r=e;for(;r;){const i=Reflect.getOwnPropertyDescriptor(r,t);if(i)return i;r=Object.getPrototypeOf(r)}}function forwardRefs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e[Refs]=r,new Proxy(e,{get(l,a){if(Reflect.has(l,a))return Reflect.get(l,a);for(const c of r)if(c.value&&Reflect.has(c.value,a)){const d=Reflect.get(c.value,a);return typeof d=="function"?d.bind(c.value):d}},getOwnPropertyDescriptor(l,a){const c=Reflect.getOwnPropertyDescriptor(l,a);if(c)return c;if(!(typeof a=="symbol"||a.startsWith("__"))){for(const d of r){if(!d.value)continue;const D=getDescriptor(d.value,a)??("_"in d.value?getDescriptor(d.value._?.setupState,a):void 0);if(D)return D}for(const d of r){const D=d.value&&d.value[Refs];if(!D)continue;const v=D.slice();for(;v.length;){const C=v.shift(),f=getDescriptor(C.value,a);if(f)return f;const w=C.value&&C.value[Refs];w&&v.push(...w)}}}}})}const activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory$1({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...makeVInputProps(),...makeVFieldProps()},"v-text-field"),VTextField=genericComponent()({name:"VTextField",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:l}=t;const a=useProxiedModel(e,"modelValue"),{isFocused:c,focus:d,blur:D}=useFocus(e),v=computed(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value??"").toString().length),C=computed(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(A,oe){!e.autofocus||!A||oe[0].target?.focus?.()}const w=ref(),F=ref(),T=ref(),R=computed(()=>activeTypes.includes(e.type)||e.persistentPlaceholder||c.value),ee=computed(()=>e.messages.length?e.messages:c.value||e.persistentHint?e.hint:"");function re(){T.value!==document.activeElement&&T.value?.focus(),c.value||d()}function ae(A){i("mousedown:control",A),A.target!==T.value&&(re(),A.preventDefault())}function ce(A){re(),i("click:control",A)}function ue(A){A.stopPropagation(),re(),nextTick(()=>{a.value=null,callEvent(e["onClick:clear"],A)})}function de(A){const oe=A.target;if(a.value=oe.value,["text","search","password","tel","url"].includes(e.type)){const le=[oe.selectionStart,oe.selectionEnd];nextTick(()=>{oe.selectionStart=le[0],oe.selectionEnd=le[1]})}}return useRender(()=>{const A=!!(l.counter||e.counter||e.counterValue),oe=!!(A||l.details),[le,ie]=filterInputAttrs(r),[{modelValue:I,...j}]=filterInputProps(e),[pe]=filterFieldProps(e);return createVNode(VInput,mergeProps({ref:w,modelValue:a.value,"onUpdate:modelValue":be=>a.value=be,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},le,j,{focused:c.value,messages:ee.value}),{...l,default:be=>{let{id:De,isDisabled:Re,isDirty:Ee,isReadonly:Se,isValid:Le}=be;return createVNode(VField,mergeProps({ref:F,onMousedown:ae,onClick:ce,"onClick:clear":ue,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},pe,{id:De.value,active:R.value||Ee.value,dirty:Ee.value||e.dirty,disabled:Re.value,focused:c.value,error:Le.value===!1}),{...l,default:Ie=>{let{props:{class:st,...Ye}}=Ie;const Ke=computed(()=>(e.persistentPlaceholder||c.value)&&!Ee.value?e.placeholder:""),St=withDirectives(createVNode("input",mergeProps({ref:T,value:a.value,onInput:de,autofocus:e.autofocus,readonly:Se.value,disabled:Re.value,name:e.name,placeholder:Ke.value,size:1,type:e.type,onFocus:re,onBlur:D},Ye,ie),null),[[resolveDirective("intersect"),{handler:f},null,{once:!0}]]);return createVNode(Fragment,null,[e.prefix&&createVNode("span",{class:"v-text-field__prefix"},[e.prefix]),l.default?createVNode("div",{class:st,"data-no-activator":""},[l.default(),St]):cloneVNode(St,{class:st}),e.suffix&&createVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:oe?be=>createVNode(Fragment,null,[l.details?.(be),A&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||c.value,value:v.value,max:C.value},l.counter)])]):void 0})}),forwardRefs({},w,F,T)}}),VSelectionControl$1="",VSelectionControlGroup$1="",VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory$1({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue$1,trueIcon:IconValue$1,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual},...makeThemeProps(),...makeDensityProps()},"v-selection-control-group"),VSelectionControlGroup=genericComponent()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...makeSelectionControlGroupProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),l=getUid(),a=computed(()=>e.id||`v-selection-control-group-${l}`),c=computed(()=>e.name||a.value),d=new Set;return provide(VSelectionControlGroupSymbol,{modelValue:i,forceUpdate:()=>{d.forEach(D=>D())},onForceUpdate:D=>{d.add(D),onScopeDispose(()=>{d.delete(D)})}}),provideDefaults({[e.defaultsTarget]:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),density:toRef(e,"density"),error:toRef(e,"error"),inline:toRef(e,"inline"),modelValue:i,multiple:computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:c,falseIcon:toRef(e,"falseIcon"),trueIcon:toRef(e,"trueIcon"),readonly:toRef(e,"readonly"),ripple:toRef(e,"ripple"),type:toRef(e,"type"),valueComparator:toRef(e,"valueComparator")}}),useRender(()=>createVNode("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:e.type==="radio"?"radiogroup":void 0},[r.default?.()])),{}}}),makeSelectionControlProps=propsFactory$1({label:String,trueValue:null,falseValue:null,value:null,...makeSelectionControlGroupProps()},"v-selection-control");function useSelectionControl(e){const t=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:r}=useDensity(e),i=useProxiedModel(e,"modelValue"),l=computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=computed(()=>e.falseValue!==void 0?e.falseValue:!1),c=computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),d=computed({get(){const f=t?t.modelValue.value:i.value;return c.value?f.some(w=>e.valueComparator(w,l.value)):e.valueComparator(f,l.value)},set(f){if(e.readonly)return;const w=f?l.value:a.value;let F=w;c.value&&(F=f?[...wrapInArray(i.value),w]:wrapInArray(i.value).filter(T=>!e.valueComparator(T,l.value))),t?t.modelValue.value=F:i.value=F}}),{textColorClasses:D,textColorStyles:v}=useTextColor(computed(()=>d.value&&!e.error&&!e.disabled?e.color:void 0)),C=computed(()=>d.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:r,trueValue:l,falseValue:a,model:d,textColorClasses:D,textColorStyles:v,icon:C}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{Ripple},inheritAttrs:!1,props:makeSelectionControlProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const{group:l,densityClasses:a,icon:c,model:d,textColorClasses:D,textColorStyles:v,trueValue:C}=useSelectionControl(e),f=getUid(),w=computed(()=>e.id||`input-${f}`),F=ref(!1),T=ref(!1),R=ref();l?.onForceUpdate(()=>{R.value&&(R.value.checked=d.value)});function ee(ce){F.value=!0,(!SUPPORTS_FOCUS_VISIBLE||SUPPORTS_FOCUS_VISIBLE&&ce.target.matches(":focus-visible"))&&(T.value=!0)}function re(){F.value=!1,T.value=!1}function ae(ce){e.readonly&&l&&nextTick(()=>l.forceUpdate()),d.value=ce.target.checked}return useRender(()=>{const ce=i.label?i.label({label:e.label,props:{for:w.value}}):e.label,[ue,de]=filterInputAttrs(r);return createVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":d.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":F.value,"v-selection-control--focus-visible":T.value,"v-selection-control--inline":e.inline},a.value]},ue),[createVNode("div",{class:["v-selection-control__wrapper",D.value],style:v.value},[i.default?.(),withDirectives(createVNode("div",{class:["v-selection-control__input"]},[c.value&&createVNode(VIcon,{key:"icon",icon:c.value},null),createVNode("input",mergeProps({ref:R,checked:d.value,disabled:e.disabled,id:w.value,onBlur:re,onFocus:ee,onInput:ae,"aria-disabled":e.readonly,type:e.type,value:C.value,name:e.name,"aria-checked":e.type==="checkbox"?d.value:void 0},de),null),i.input?.({model:d,textColorClasses:D,textColorStyles:v,props:{onFocus:ee,onBlur:re,id:w.value}})]),[[resolveDirective("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),ce&&createVNode(VLabel,{for:w.value,clickable:!0},{default:()=>[ce]})])}),{isFocused:F,input:R}}}),makeVCheckboxBtnProps=propsFactory$1({indeterminate:Boolean,indeterminateIcon:{type:IconValue$1,default:"$checkboxIndeterminate"},...makeSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),VCheckboxBtn=genericComponent()({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"indeterminate"),l=useProxiedModel(e,"modelValue");function a(D){i.value&&(i.value=!1)}const c=computed(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),d=computed(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return useRender(()=>createVNode(VSelectionControl,mergeProps(e,{modelValue:l.value,"onUpdate:modelValue":[D=>l.value=D,a],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:c.value,trueIcon:d.value,"aria-checked":e.indeterminate?"mixed":void 0}),r)),{}}}),VChip$1="",VChipGroup="",VChipGroupSymbol=Symbol.for("vuetify:v-chip-group");genericComponent()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual},...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{isSelected:l,select:a,next:c,prev:d,selected:D}=useGroup(e,VChipGroupSymbol);return provideDefaults({VChip:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),filter:toRef(e,"filter"),variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value]},{default:()=>[r.default?.({isSelected:l,select:a,next:c,prev:d,selected:D.value})]})),{}}});const VChip=genericComponent()({name:"VChip",directives:{Ripple},props:{activeClass:String,appendAvatar:String,appendIcon:IconValue$1,closable:Boolean,closeIcon:{type:IconValue$1,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:i,slots:l}=t;const{t:a}=useLocale(),{borderClasses:c}=useBorder(e),{colorClasses:d,colorStyles:D,variantClasses:v}=useVariant(e),{densityClasses:C}=useDensity(e),{elevationClasses:f}=useElevation(e),{roundedClasses:w}=useRounded(e),{sizeClasses:F}=useSize(e),{themeClasses:T}=provideTheme(e),R=useProxiedModel(e,"modelValue"),ee=useGroupItem(e,VChipGroupSymbol,!1),re=useLink(e,r),ae=computed(()=>e.link!==!1&&re.isLink.value),ce=computed(()=>!e.disabled&&e.link!==!1&&(!!ee||e.link||re.isClickable.value)),ue=computed(()=>({"aria-label":a(e.closeLabel),onClick(oe){R.value=!1,i("click:close",oe)}}));function de(oe){i("click",oe),ce.value&&(re.navigate?.(oe),ee?.toggle())}function A(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),de(oe))}return()=>{const oe=re.isLink.value?"a":e.tag,le=!!(e.appendIcon||e.appendAvatar),ie=!!(le||l.append),I=!!(l.close||e.closable),j=!!(l.filter||e.filter)&&ee,pe=!!(e.prependIcon||e.prependAvatar),be=!!(pe||l.prepend),De=!ee||ee.isSelected.value;return R.value&&withDirectives(createVNode(oe,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":ce.value,"v-chip--filter":j,"v-chip--pill":e.pill},T.value,c.value,De?d.value:void 0,C.value,f.value,w.value,F.value,v.value,ee?.selectedClass.value],style:[De?D.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:re.href.value,tabindex:ce.value?0:void 0,onClick:de,onKeydown:ce.value&&!ae.value&&A},{default:()=>[genOverlays(ce.value,"v-chip"),j&&createVNode(VExpandXTransition,{key:"filter"},{default:()=>[withDirectives(createVNode("div",{class:"v-chip__filter"},[l.filter?withDirectives(createVNode(VDefaultsProvider,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[resolveDirective("slot"),l.filter,"default"]]):createVNode(VIcon,{key:"filter-icon",icon:e.filterIcon},null)]),[[vShow,ee.isSelected.value]])]}),be&&createVNode("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!pe,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):createVNode(Fragment,null,[e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),l.default?.({isSelected:ee?.isSelected.value,selectedClass:ee?.selectedClass.value,select:ee?.select,toggle:ee?.toggle,value:ee?.value.value,disabled:e.disabled})??e.text,ie&&createVNode("div",{key:"append",class:"v-chip__append"},[l.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!le,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),I&&createVNode("div",mergeProps({key:"close",class:"v-chip__close"},ue.value),[l.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):createVNode(VIcon,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[resolveDirective("ripple"),ce.value&&e.ripple,null]])}}}),VMenu$1="",VOverlay$1="",makeDelayProps=propsFactory$1({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(e,t){const r={},i=l=>()=>{if(!IN_BROWSER)return Promise.resolve(!0);const a=l==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(c=>{const d=parseInt(e[l]??0,10);r[l]=window.setTimeout(()=>{t?.(a),c(a)},d)})};return{runCloseDelay:i("closeDelay"),runOpenDelay:i("openDelay")}}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeActivatorProps=propsFactory$1({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"v-overlay-activator");function useActivator(e,t){let{isActive:r,isTop:i}=t;const l=ref();let a=!1,c=!1,d=!0;const D=computed(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),v=computed(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!D.value),{runOpenDelay:C,runCloseDelay:f}=useDelay(e,ce=>{ce===(e.openOnHover&&a||D.value&&c)&&!(e.openOnHover&&r.value&&!i.value)&&(r.value!==ce&&(d=!0),r.value=ce)}),w={click:ce=>{ce.stopPropagation(),l.value=ce.currentTarget||ce.target,r.value=!r.value},mouseenter:ce=>{a=!0,l.value=ce.currentTarget||ce.target,C()},mouseleave:ce=>{a=!1,f()},focus:ce=>{SUPPORTS_FOCUS_VISIBLE&&!ce.target.matches(":focus-visible")||(c=!0,ce.stopPropagation(),l.value=ce.currentTarget||ce.target,C())},blur:ce=>{c=!1,ce.stopPropagation(),f()}},F=computed(()=>{const ce={};return v.value&&(ce.click=w.click),e.openOnHover&&(ce.mouseenter=w.mouseenter,ce.mouseleave=w.mouseleave),D.value&&(ce.focus=w.focus,ce.blur=w.blur),ce}),T=computed(()=>{const ce={};if(e.openOnHover&&(ce.mouseenter=()=>{a=!0,C()},ce.mouseleave=()=>{a=!1,f()}),e.closeOnContentClick){const ue=inject$1(VMenuSymbol,null);ce.click=()=>{r.value=!1,ue?.closeParents()}}return ce}),R=computed(()=>{const ce={};return e.openOnHover&&(ce.mouseenter=()=>{d&&(a=!0,d=!1,C())},ce.mouseleave=()=>{a=!1,f()}),ce});watch(i,ce=>{ce&&(e.openOnHover&&!a&&(!D.value||!c)||D.value&&!c&&(!e.openOnHover||!a))&&(r.value=!1)});const ee=ref();watchEffect(()=>{!ee.value||nextTick(()=>{const ce=ee.value;l.value=isComponentInstance(ce)?ce.$el:ce})});const re=getCurrentInstance("useActivator");let ae;return watch(()=>!!e.activator,ce=>{ce&&IN_BROWSER?(ae=effectScope(),ae.run(()=>{_useActivator(e,re,{activatorEl:l,activatorEvents:F})})):ae&&ae.stop()},{flush:"post",immediate:!0}),onScopeDispose(()=>{ae?.stop()}),{activatorEl:l,activatorRef:ee,activatorEvents:F,contentEvents:T,scrimEvents:R}}function _useActivator(e,t,r){let{activatorEl:i,activatorEvents:l}=r;watch(()=>e.activator,(D,v)=>{if(v&&D!==v){const C=d(v);C&&c(C)}D&&nextTick(()=>a())},{immediate:!0}),watch(()=>e.activatorProps,()=>{a()}),onScopeDispose(()=>{c()});function a(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!D||(Object.entries(l.value).forEach(C=>{let[f,w]=C;D.addEventListener(f,w)}),Object.keys(v).forEach(C=>{v[C]==null?D.removeAttribute(C):D.setAttribute(C,v[C])}))}function c(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!D||(Object.entries(l.value).forEach(C=>{let[f,w]=C;D.removeEventListener(f,w)}),Object.keys(v).forEach(C=>{D.removeAttribute(C)}))}function d(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,v;if(D)if(D==="parent"){let C=t?.proxy?.$el?.parentNode;for(;C.hasAttribute("data-no-activator");)C=C.parentNode;v=C}else typeof D=="string"?v=document.querySelector(D):"$el"in D?v=D.$el:v=D;return i.value=v?.nodeType===Node.ELEMENT_NODE?v:null,i.value}}const makeLazyProps=propsFactory$1({eager:Boolean},"lazy");function useLazy(e,t){const r=ref(!1),i=computed(()=>r.value||e.eager||t.value);watch(t,()=>r.value=!0);function l(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:i,onAfterLeave:l}}function elementToViewport(e,t){return{x:e.x+t.x,y:e.y+t.y}}function getOffset(e,t){return{x:e.x-t.x,y:e.y-t.y}}function anchorToPoint(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:i}=e,l=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,a=r==="top"?0:r==="bottom"?t.height:r;return elementToViewport({x:l,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:r,align:i}=e,l=r==="left"?0:r==="right"?t.width:r,a=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return elementToViewport({x:l,y:a},t)}return elementToViewport({x:t.width/2,y:t.height/2},t)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory$1({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function useLocationStrategies(e,t){const r=ref({}),i=ref();IN_BROWSER&&(useToggleScope(()=>!!(t.isActive.value&&e.locationStrategy),a=>{watch(()=>e.locationStrategy,a),onScopeDispose(()=>{i.value=void 0}),typeof e.locationStrategy=="function"?i.value=e.locationStrategy(t,e,r)?.updateLocation:i.value=locationStrategies[e.locationStrategy](t,e,r)?.updateLocation}),window.addEventListener("resize",l,{passive:!0}),onScopeDispose(()=>{window.removeEventListener("resize",l),i.value=void 0}));function l(a){i.value?.(a)}return{contentStyles:r,updateLocation:i}}function staticLocationStrategy(){}function getIntrinsicSize(e){const t=nullifyTransforms(e);return t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function connectedLocationStrategy(e,t,r){isFixedPosition(e.activatorEl.value)&&Object.assign(r.value,{position:"fixed"});const{preferredAnchor:l,preferredOrigin:a}=destructComputed(()=>{const T=parseAnchor(t.location,e.isRtl.value),R=t.origin==="overlap"?T:t.origin==="auto"?flipSide(T):parseAnchor(t.origin,e.isRtl.value);return T.side===R.side&&T.align===flipAlign(R).align?{preferredAnchor:flipCorner(T),preferredOrigin:flipCorner(R)}:{preferredAnchor:T,preferredOrigin:R}}),[c,d,D,v]=["minWidth","minHeight","maxWidth","maxHeight"].map(T=>computed(()=>{const R=parseFloat(t[T]);return isNaN(R)?1/0:R})),C=computed(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const T=t.offset.split(" ").map(parseFloat);return T.length<2&&T.push(0),T}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const w=new ResizeObserver(()=>{f&&F()});watch([e.activatorEl,e.contentEl],(T,R)=>{let[ee,re]=T,[ae,ce]=R;ae&&w.unobserve(ae),ee&&w.observe(ee),ce&&w.unobserve(ce),re&&w.observe(re)},{immediate:!0}),onScopeDispose(()=>{w.disconnect()});function F(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const T=e.activatorEl.value.getBoundingClientRect(),R=getIntrinsicSize(e.contentEl.value),ee=getScrollParents(e.contentEl.value),re=12;ee.length||(ee.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(R.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),R.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const ae=ee.reduce((j,pe)=>{const be=pe.getBoundingClientRect(),De=new Box({x:pe===document.documentElement?0:be.x,y:pe===document.documentElement?0:be.y,width:pe.clientWidth,height:pe.clientHeight});return j?new Box({x:Math.max(j.left,De.left),y:Math.max(j.top,De.top),width:Math.min(j.right,De.right)-Math.max(j.left,De.left),height:Math.min(j.bottom,De.bottom)-Math.max(j.top,De.top)}):De},void 0);ae.x+=re,ae.y+=re,ae.width-=re*2,ae.height-=re*2;let ce={anchor:l.value,origin:a.value};function ue(j){const pe=new Box(R),be=anchorToPoint(j.anchor,T),De=anchorToPoint(j.origin,pe);let{x:Re,y:Ee}=getOffset(be,De);switch(j.anchor.side){case"top":Ee-=C.value[0];break;case"bottom":Ee+=C.value[0];break;case"left":Re-=C.value[0];break;case"right":Re+=C.value[0];break}switch(j.anchor.align){case"top":Ee-=C.value[1];break;case"bottom":Ee+=C.value[1];break;case"left":Re-=C.value[1];break;case"right":Re+=C.value[1];break}return pe.x+=Re,pe.y+=Ee,pe.width=Math.min(pe.width,D.value),pe.height=Math.min(pe.height,v.value),{overflows:getOverflow(pe,ae),x:Re,y:Ee}}let de=0,A=0;const oe={x:0,y:0},le={x:!1,y:!1};let ie=-1;for(;;){if(ie++>10){consoleError("Infinite loop detected in connectedLocationStrategy");break}const{x:j,y:pe,overflows:be}=ue(ce);de+=j,A+=pe,R.x+=j,R.y+=pe;{const De=getAxis(ce.anchor),Re=be.x.before||be.x.after,Ee=be.y.before||be.y.after;let Se=!1;if(["x","y"].forEach(Le=>{if(Le==="x"&&Re&&!le.x||Le==="y"&&Ee&&!le.y){const Ie={anchor:{...ce.anchor},origin:{...ce.origin}},st=Le==="x"?De==="y"?flipAlign:flipSide:De==="y"?flipSide:flipAlign;Ie.anchor=st(Ie.anchor),Ie.origin=st(Ie.origin);const{overflows:Ye}=ue(Ie);(Ye[Le].before<=be[Le].before&&Ye[Le].after<=be[Le].after||Ye[Le].before+Ye[Le].after<(be[Le].before+be[Le].after)/2)&&(ce=Ie,Se=le[Le]=!0)}}),Se)continue}be.x.before&&(de+=be.x.before,R.x+=be.x.before),be.x.after&&(de-=be.x.after,R.x-=be.x.after),be.y.before&&(A+=be.y.before,R.y+=be.y.before),be.y.after&&(A-=be.y.after,R.y-=be.y.after);{const De=getOverflow(R,ae);oe.x=ae.width-De.x.before-De.x.after,oe.y=ae.height-De.y.before-De.y.after,de+=De.x.before,R.x+=De.x.before,A+=De.y.before,R.y+=De.y.before}break}const I=getAxis(ce.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${ce.anchor.side} ${ce.anchor.align}`,transformOrigin:`${ce.origin.side} ${ce.origin.align}`,top:convertToUnit(pixelRound(A)),left:convertToUnit(pixelRound(de)),minWidth:convertToUnit(I==="y"?Math.min(c.value,T.width):c.value),maxWidth:convertToUnit(pixelCeil(clamp(oe.x,c.value===1/0?0:c.value,D.value))),maxHeight:convertToUnit(pixelCeil(clamp(oe.y,d.value===1/0?0:d.value,v.value)))}),{available:oe,contentBox:R}}return watch(()=>[l.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>F()),nextTick(()=>{const T=F();if(!T)return;const{available:R,contentBox:ee}=T;ee.height>R.y&&requestAnimationFrame(()=>{F(),requestAnimationFrame(()=>{F()})})}),{updateLocation:F}}function pixelRound(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pixelCeil(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(e){!clean||frames.length?(frames.push(e),run()):(clean=!1,e(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const e=frames.shift();e&&e(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory$1({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in scrollStrategies}},"v-overlay-scroll-strategies");function useScrollStrategies(e,t){if(!IN_BROWSER)return;let r;watchEffect(async()=>{r?.stop(),t.isActive.value&&e.scrollStrategy&&(r=effectScope(),await nextTick(),r.active&&r.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,r):scrollStrategies[e.scrollStrategy]?.(t,e,r)}))}),onScopeDispose(()=>{r?.stop()})}function closeScrollStrategy(e){function t(r){e.isActive.value=!1}bindScroll(e.activatorEl.value??e.contentEl.value,t)}function blockScrollStrategy(e,t){const r=e.root.value?.offsetParent,i=[...new Set([...getScrollParents(e.activatorEl.value,t.contained?r:void 0),...getScrollParents(e.contentEl.value,t.contained?r:void 0)])].filter(c=>!c.classList.contains("v-overlay-scroll-blocked")),l=window.innerWidth-document.documentElement.offsetWidth,a=(c=>hasScrollbar(c)&&c)(r||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((c,d)=>{c.style.setProperty("--v-body-scroll-x",convertToUnit(-c.scrollLeft)),c.style.setProperty("--v-body-scroll-y",convertToUnit(-c.scrollTop)),c.style.setProperty("--v-scrollbar-offset",convertToUnit(l)),c.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{i.forEach((c,d)=>{const D=parseFloat(c.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(c.style.getPropertyValue("--v-body-scroll-y"));c.style.removeProperty("--v-body-scroll-x"),c.style.removeProperty("--v-body-scroll-y"),c.style.removeProperty("--v-scrollbar-offset"),c.classList.remove("v-overlay-scroll-blocked"),c.scrollLeft=-D,c.scrollTop=-v}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(e,t,r){let i=!1,l=-1,a=-1;function c(d){requestNewFrame(()=>{const D=performance.now();e.updateLocation.value?.(d),i=(performance.now()-D)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?d=>d():requestIdleCallback)(()=>{r.run(()=>{bindScroll(e.activatorEl.value??e.contentEl.value,d=>{i?(cancelAnimationFrame(l),l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{c(d)})})):c(d)})})}),onScopeDispose(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(l)})}function bindScroll(e,t){const r=[document,...getScrollParents(e)];r.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),onScopeDispose(()=>{r.forEach(i=>{i.removeEventListener("scroll",t)})})}const breakpoints=["sm","md","lg","xl","xxl"],DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,e)};function getClientWidth(e){return IN_BROWSER&&!e?window.innerWidth:0}function getClientHeight(e){return IN_BROWSER&&!e?window.innerHeight:0}function getPlatform$1(e){const t=IN_BROWSER&&!e?window.navigator.userAgent:"ssr";function r(T){return Boolean(t.match(T))}const i=r(/android/i),l=r(/iphone|ipad|ipod/i),a=r(/cordova/i),c=r(/electron/i),d=r(/chrome/i),D=r(/edge/i),v=r(/firefox/i),C=r(/opera/i),f=r(/win/i),w=r(/mac/i),F=r(/linux/i);return{android:i,ios:l,cordova:a,electron:c,chrome:d,edge:D,firefox:v,opera:C,win:f,mac:w,linux:F,touch:SUPPORTS_TOUCH,ssr:t==="ssr"}}function createDisplay(e,t){const{thresholds:r,mobileBreakpoint:i}=parseDisplayOptions(e),l=ref(getClientHeight(t)),a=shallowRef(getPlatform$1(t)),c=reactive({}),d=ref(getClientWidth(t));function D(){l.value=getClientHeight(),d.value=getClientWidth()}function v(){D(),a.value=getPlatform$1()}return watchEffect(()=>{const C=d.value<r.sm,f=d.value<r.md&&!C,w=d.value<r.lg&&!(f||C),F=d.value<r.xl&&!(w||f||C),T=d.value<r.xxl&&!(F||w||f||C),R=d.value>=r.xxl,ee=C?"xs":f?"sm":w?"md":F?"lg":T?"xl":"xxl",re=typeof i=="number"?i:r[i],ae=d.value<re;c.xs=C,c.sm=f,c.md=w,c.lg=F,c.xl=T,c.xxl=R,c.smAndUp=!C,c.mdAndUp=!(C||f),c.lgAndUp=!(C||f||w),c.xlAndUp=!(C||f||w||F),c.smAndDown=!(w||F||T||R),c.mdAndDown=!(F||T||R),c.lgAndDown=!(T||R),c.xlAndDown=!R,c.name=ee,c.height=l.value,c.width=d.value,c.mobile=ae,c.mobileBreakpoint=i,c.platform=a.value,c.thresholds=r}),IN_BROWSER&&window.addEventListener("resize",D,{passive:!0}),{...toRefs(c),update:v,ssr:!!t}}function useDisplay(){const e=inject$1(DisplaySymbol);if(!e)throw new Error("Could not find Vuetify display injection");return e}function useHydration(){if(!IN_BROWSER)return ref(!1);const{ssr:e}=useDisplay();if(e){const t=ref(!1);return onMounted(()=>{t.value=!0}),t}else return ref(!0)}function useScopeId(){const t=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(e,t,r){const i=getCurrentInstance("useStack"),l=!r,a=inject$1(StackSymbol,void 0),c=reactive({activeChildren:new Set});provide(StackSymbol,c);const d=ref(+t.value);useToggleScope(e,()=>{const C=globalStack.at(-1)?.[1];d.value=C?C+10:+t.value,l&&globalStack.push([i.uid,d.value]),a?.activeChildren.add(i.uid),onScopeDispose(()=>{if(l){const f=toRaw(globalStack).findIndex(w=>w[0]===i.uid);globalStack.splice(f,1)}a?.activeChildren.delete(i.uid)})});const D=ref(!0);l&&watchEffect(()=>{const C=globalStack.at(-1)?.[0]===i.uid;setTimeout(()=>D.value=C)});const v=computed(()=>!c.activeChildren.size);return{globalTop:readonly(D),localTop:v,stackStyles:computed(()=>({zIndex:d.value}))}}function useTeleport(e){return{teleportTarget:computed(()=>{const r=e.value;if(r===!0||!IN_BROWSER)return;const i=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(i==null){warn(`Unable to locate target ${r}`);return}let l=i.querySelector(":scope > .v-overlay-container");return l||(l=document.createElement("div"),l.className="v-overlay-container",i.appendChild(l)),l})}}function defaultConditional(){return!0}function checkEvent(e,t,r){if(!e||checkIsActive(e,r)===!1)return!1;const i=attachedRoot(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const l=(typeof r.value=="object"&&r.value.include||(()=>[]))();return l.push(t),!l.some(a=>a?.contains(e.target))}function checkIsActive(e,t){return(typeof t.value=="object"&&t.value.closeConditional||defaultConditional)(e)}function directive(e,t,r){const i=typeof r.value=="function"?r.value:r.value.handler;t._clickOutside.lastMousedownWasOutside&&checkEvent(e,t,r)&&setTimeout(()=>{checkIsActive(e,r)&&i&&i(e)},0)}function handleShadow(e,t){const r=attachedRoot(e);t(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&t(r)}const ClickOutside={mounted(e,t){const r=l=>directive(l,e,t),i=l=>{e._clickOutside.lastMousedownWasOutside=checkEvent(l,e,t)};handleShadow(e,l=>{l.addEventListener("click",r,!0),l.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:i}},unmounted(e,t){!e._clickOutside||(handleShadow(e,r=>{if(!r||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:i,onMousedown:l}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",i,!0),r.removeEventListener("mousedown",l,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Scrim(e){const{modelValue:t,color:r,...i}=e;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&createVNode("div",mergeProps({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const makeVOverlayProps=propsFactory$1({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps()},"v-overlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{ClickOutside},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...makeVOverlayProps()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:i,emit:l}=t;const a=useProxiedModel(e,"modelValue"),c=computed({get:()=>a.value,set:Ie=>{Ie&&e.disabled||(a.value=Ie)}}),{teleportTarget:d}=useTeleport(computed(()=>e.attach||e.contained)),{themeClasses:D}=provideTheme(e),{rtlClasses:v,isRtl:C}=useRtl(),{hasContent:f,onAfterLeave:w}=useLazy(e,c),F=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:T,localTop:R,stackStyles:ee}=useStack(c,toRef(e,"zIndex"),e._disableGlobalStack),{activatorEl:re,activatorRef:ae,activatorEvents:ce,contentEvents:ue,scrimEvents:de}=useActivator(e,{isActive:c,isTop:R}),{dimensionStyles:A}=useDimension(e),oe=useHydration(),{scopeId:le}=useScopeId();watch(()=>e.disabled,Ie=>{Ie&&(c.value=!1)});const ie=ref(),I=ref(),{contentStyles:j,updateLocation:pe}=useLocationStrategies(e,{isRtl:C,contentEl:I,activatorEl:re,isActive:c});useScrollStrategies(e,{root:ie,contentEl:I,activatorEl:re,isActive:c,updateLocation:pe});function be(Ie){l("click:outside",Ie),e.persistent?Le():c.value=!1}function De(){return c.value&&T.value}IN_BROWSER&&watch(c,Ie=>{Ie?window.addEventListener("keydown",Re):window.removeEventListener("keydown",Re)},{immediate:!0});function Re(Ie){Ie.key==="Escape"&&T.value&&(e.persistent?Le():c.value=!1)}const Ee=useRouter();useToggleScope(()=>e.closeOnBack,()=>{useBackButton(Ee,Ie=>{T.value&&c.value?(Ie(!1),e.persistent?Le():c.value=!1):Ie()})});const Se=ref();watch(()=>c.value&&(e.absolute||e.contained)&&d.value==null,Ie=>{if(Ie){const st=getScrollParent(ie.value);st&&st!==document.scrollingElement&&(Se.value=st.scrollTop)}});function Le(){e.noClickAnimation||I.value&&animate(I.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}return useRender(()=>createVNode(Fragment,null,[r.activator?.({isActive:c.value,props:mergeProps({ref:ae},toHandlers(ce.value),e.activatorProps)}),oe.value&&createVNode(Teleport,{disabled:!d.value,to:d.value},{default:()=>[f.value&&createVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},D.value,v.value],style:[ee.value,{top:convertToUnit(Se.value)}],ref:ie},le,i),[createVNode(Scrim,mergeProps({color:F,modelValue:c.value&&!!e.scrim},toHandlers(de.value)),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:e.transition,target:re.value,onAfterLeave:()=>{w(),l("afterLeave")}},{default:()=>[withDirectives(createVNode("div",mergeProps({ref:I,class:["v-overlay__content",e.contentClass],style:[A.value,j.value]},toHandlers(ue.value),e.contentProps),[r.default?.({isActive:c})]),[[vShow,c.value],[resolveDirective("click-outside"),{handler:be,closeConditional:De,include:()=>[re.value]}]])]})])]})])),{activatorEl:re,animateClick:Le,contentEl:I,globalTop:T,localTop:R,updateLocation:pe}}}),VMenu=genericComponent()({name:"VMenu",props:{id:String,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{scopeId:l}=useScopeId(),a=getUid(),c=computed(()=>e.id||`v-menu-${a}`),d=ref(),D=inject$1(VMenuSymbol,null),v=ref(0);provide(VMenuSymbol,{register(){++v.value},unregister(){--v.value},closeParents(){setTimeout(()=>{v.value||(i.value=!1,D?.closeParents())},40)}}),watch(i,w=>{w?D?.register():D?.unregister()});function C(){D?.closeParents()}const f=computed(()=>mergeProps({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":c.value},e.activatorProps));return useRender(()=>{const[w]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:d,class:["v-menu"]},w,{modelValue:i.value,"onUpdate:modelValue":F=>i.value=F,absolute:!0,activatorProps:f.value,"onClick:outside":C},l),{activator:r.activator,default:function(){for(var F=arguments.length,T=new Array(F),R=0;R<F;R++)T[R]=arguments[R];return createVNode(VDefaultsProvider,{root:!0},{default:()=>[r.default?.(...T)]})}})}),forwardRefs({id:c,\u03A8openChildren:v},d)}}),makeSelectProps=propsFactory$1({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:IconValue$1,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:deepEqual},...makeItemsProps({itemChildren:!1})},"v-select"),VSelect=genericComponent()({name:"VSelect",props:{...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:{component:VDialogTransition}})},emits:{"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:i}=useLocale(),l=ref(),a=ref(),c=useProxiedModel(e,"menu"),d=computed({get:()=>c.value,set:oe=>{c.value&&!oe&&a.value?.\u03A8openChildren||(c.value=oe)}}),{items:D,transformIn:v,transformOut:C}=useItems(e),f=useProxiedModel(e,"modelValue",[],oe=>v(wrapInArray(oe)),oe=>{const le=C(oe);return e.multiple?le:le[0]??null}),w=useForm(),F=computed(()=>f.value.map(oe=>D.value.find(le=>e.valueComparator(le.value,oe.value))||oe)),T=computed(()=>F.value.map(oe=>oe.props.value)),R=computed(()=>e.hideSelected?D.value.filter(oe=>!F.value.some(le=>le===oe)):D.value),ee=ref();function re(oe){e.openOnClear&&(d.value=!0)}function ae(){e.hideNoData&&!D.value.length||e.readonly||w?.isReadonly.value||(d.value=!d.value)}function ce(oe){e.readonly||w?.isReadonly.value||(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(oe.key)&&oe.preventDefault(),["Enter","ArrowDown"," "].includes(oe.key)&&(d.value=!0),["Escape","Tab"].includes(oe.key)&&(d.value=!1),oe.key==="ArrowDown"?ee.value?.focus("next"):oe.key==="ArrowUp"?ee.value?.focus("prev"):oe.key==="Home"?ee.value?.focus("first"):oe.key==="End"&&ee.value?.focus("last"))}function ue(oe){if(e.multiple){const le=T.value.findIndex(ie=>e.valueComparator(ie,oe.value));if(le===-1)f.value=[...f.value,oe];else{const ie=[...f.value];ie.splice(le,1),f.value=ie}}else f.value=[oe],d.value=!1}function de(oe){ee.value?.$el.contains(oe.relatedTarget)||(d.value=!1)}function A(oe){oe.relatedTarget==null&&l.value?.focus()}return useRender(()=>{const oe=!!(e.chips||r.chip),le=!!(!e.hideNoData||R.value.length||r.prepend||r.append||r["no-data"]),[ie]=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:l},ie,{modelValue:f.value.map(I=>I.props.value).join(", "),"onUpdate:modelValue":I=>{I==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,class:["v-select",{"v-select--active-menu":d.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":re,"onMousedown:control":ae,onBlur:de,onKeydown:ce}),{...r,default:()=>createVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:a,modelValue:d.value,"onUpdate:modelValue":I=>d.value=I,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[le&&createVNode(VList,{ref:ee,selected:T.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onFocusout:A},{default:()=>[!R.value.length&&!e.hideNoData&&(r["no-data"]?.()??createVNode(VListItem,{title:i(e.noDataText)},null)),r["prepend-item"]?.(),R.value.map((I,j)=>r.item?r.item?.({item:I,index:j,props:mergeProps(I.props,{onClick:()=>ue(I)})}):createVNode(VListItem,mergeProps({key:j},I.props,{onClick:()=>ue(I)}),{prepend:pe=>{let{isSelected:be}=pe;return e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{modelValue:be,ripple:!1},null):void 0}})),r["append-item"]?.()]})]}),F.value.map((I,j)=>{function pe(De){De.stopPropagation(),De.preventDefault(),ue(I)}const be={"onClick:close":pe,modelValue:!0,"onUpdate:modelValue":void 0};return createVNode("div",{key:I.value,class:"v-select__selection"},[oe?r.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:I.title}}},{default:()=>[r.chip?.({item:I,index:j,props:be})]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:I.title},be),null):r.selection?.({item:I,index:j})??createVNode("span",{class:"v-select__selection-text"},[I.title,e.multiple&&j<F.value.length-1&&createVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})])})}),forwardRefs({menu:d,select:ue},l)}}),VTooltip$1="",VTooltip=genericComponent()({name:"VTooltip",props:{id:String,text:String,...omit(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{scopeId:l}=useScopeId(),a=getUid(),c=computed(()=>e.id||`v-tooltip-${a}`),d=ref(),D=computed(()=>e.location.split(" ").length>1?e.location:e.location+" center"),v=computed(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),C=computed(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),f=computed(()=>mergeProps({"aria-describedby":c.value},e.activatorProps));return useRender(()=>{const[w]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:d,class:["v-tooltip"],id:c.value},w,{modelValue:i.value,"onUpdate:modelValue":F=>i.value=F,transition:C.value,absolute:!0,location:D.value,origin:v.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:f.value,_disableGlobalStack:!0},l),{activator:r.activator,default:function(){for(var F=arguments.length,T=new Array(F),R=0;R<F;R++)T[R]=arguments[R];return r.default?.(...T)??e.text}})}),forwardRefs({},d)}}),_withScopeId$2=e=>(pushScopeId("data-v-332f2cc3"),e=e(),popScopeId(),e),_hoisted_1$c={class:"top-btn-list d-flex w-100 align-center py-1 ma-0 px-0 bg-prominent"},_hoisted_2$9={class:"d-flex align-center"},_hoisted_3$7=_withScopeId$2(()=>createBaseVNode("span",null,"\u56FE\u5C42",-1)),_hoisted_4$5={class:"select-box"},_hoisted_5$3={class:"text"},_sfc_main$h=defineComponent$1({__name:"TopBtnList",setup(e){const t=()=>{callCommand("MxLayerManager")},r=useLayer(),{putCurrent:i}=r,{list:l,currentLayer:a}=storeToRefs(r),{createColor:c}=useColor$1(),{colorSelectList:d,currentSelectColor:D}=storeToRefs(useColor$1()),{lineTypeList:v,currentLineType:C}=storeToRefs(useLineType()),f=()=>{callCommand("Mx_Color",{call:(w,F)=>{const T=c({...countColorInfo(w,F)});d.value.unshift(T),D.value=T},color:D.value})};return(w,F)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$9,[createVNode(VTooltip,{link:"",right:"","open-delay":700},{activator:withCtx(({props:T})=>[createVNode(VBtn,mergeProps({class:"box pa-1 rounded-0 ml-1",size:"large",icon:"",density:"compact","max-width":"45",variant:"text"},T,{onClick:t}),{default:withCtx(()=>[createVNode(VIcon,{icon:"tuceng",class:"",size:"x-large"})]),_:2},1040)]),default:withCtx(()=>[_hoisted_3$7]),_:1}),createCommentVNode(" \u56FE\u5C42\u9009\u62E9 "),createVNode(VSelect,{items:unref(l),"bg-color":"background","item-title":"name","item-value":"id",modelValue:unref(a),"onUpdate:modelValue":[F[0]||(F[0]=T=>isRef(a)?a.value=T:null),unref(i)],class:"mx-2 rounded","return-object":""},{selection:withCtx(({item:T,index:R})=>[createBaseVNode("div",_hoisted_4$5,[createVNode(VIcon,{class:"ml-1 text-blue-darken-3",size:"20",icon:T.value.visible?"yanjing1":"yanjing"},null,8,["icon"]),createVNode(VIcon,{class:"ml-1 text-orange iconjiesuo1",size:"20",icon:T.value.freeze?"ziyuan":"taiyang"},null,8,["icon"]),createVNode(VIcon,{class:"text-orange",size:"20",icon:T.value.lock?"suo":"jiesuo1"},null,8,["icon"]),createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${T.value.color.color}`)},null,4),(openBlock(),createElementBlock("span",{key:R,class:"text"},toDisplayString(T.title),1))])]),item:withCtx(({item:T,index:R,props:ee})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(ee)),{prepend:withCtx(()=>[createVNode(VIcon,{class:"ml-1 text-blue-darken-2",size:"20",icon:T.value.visible?"yanjing1":"yanjing"},null,8,["icon"]),createVNode(VIcon,{class:"ml-1 text-orange iconjiesuo1",size:"20",icon:T.value.freeze?"ziyuan":"taiyang"},null,8,["icon"]),createVNode(VIcon,{class:"text-orange",size:"20",icon:T.value.lock?"suo":"jiesuo1"},null,8,["icon"]),createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${T.value.color.color}`)},null,4)]),_:2},1040)]),_:1},8,["items","modelValue","onUpdate:modelValue"]),createCommentVNode(" \u989C\u8272\u9009\u62E9 "),createVNode(VSelect,{items:unref(d),"bg-color":"background","menu-props":{maxHeight:"600"},modelValue:unref(D),"onUpdate:modelValue":F[1]||(F[1]=T=>isRef(D)?D.value=T:null),"return-object":"","item-title":"name",class:"mr-2 rounded"},{selection:withCtx(({item:T,props:R})=>[createBaseVNode("div",mergeProps(R,{class:"select-box"}),[createBaseVNode("span",{class:"colorBox",style:normalizeStyle(`background:${T.value.color}`)},null,4),createBaseVNode("span",_hoisted_5$3,toDisplayString(T.value.name),1)],16)]),item:withCtx(({item:T,index:R,props:ee})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(ee)),{prepend:withCtx(()=>[createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${T.value.color}`)},null,4)]),_:2},1040)]),"prepend-item":withCtx(()=>[createVNode(VListItem,{onClick:withModifiers(f,["stop"]),title:"\u9009\u62E9\u66F4\u591A\u989C\u8272"},{prepend:withCtx(()=>[createVNode(VIcon,{icon:"yanse",style:{"margin-right":"10px"},class:"ml-1",size:"14"}),createCommentVNode(' <span class="ml-1 colorBox white_color_box"></span> ')]),_:1},8,["onClick"])]),_:1},8,["items","modelValue"]),createCommentVNode(" \u7EBF\u578B\u9009\u62E9 "),createVNode(VSelect,{"bg-color":"background",items:unref(v),modelValue:unref(C),"onUpdate:modelValue":F[2]||(F[2]=T=>isRef(C)?C.value=T:null),"return-object":"","item-title":"name",class:"rounded"},null,8,["items","modelValue"])])]))}}),TopBtnList_vue_vue_type_style_index_0_scoped_332f2cc3_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[i,l]of t)r[i]=l;return r},TopBtnList=_export_sfc(_sfc_main$h,[["__scopeId","data-v-332f2cc3"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/TopBtnList.vue"]]),_sfc_main$g=defineComponent$1({__name:"index",props:{list:{type:Array,required:!1,default:()=>[]},location:{type:null,required:!1,default:"left"}},emits:["change"],setup(e,{emit:t}){return(r,i)=>(openBlock(),createBlock(VList,{class:"list d-flex"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.list,(l,a)=>(openBlock(),createBlock(VTooltip,{theme:"light",key:a,link:"","open-delay":700,location:e.location,text:l.prompt},{activator:withCtx(({isActive:c,props:d})=>[createVNode(VBtn,mergeProps(d,{size:"small",icon:l.icon,variant:"text",class:[e.location+"-item","rounded-0"],onClick:D=>t("change",l)}),{default:withCtx(()=>[createVNode(VIcon,{size:"x-large"})]),_:2},1040,["icon","class","onClick"])]),_:2},1032,["location","text"]))),128))]),_:1}))}}),index_vue_vue_type_style_index_0_scoped_8d99e05f_lang="",MxBtnList=_export_sfc(_sfc_main$g,[["__scopeId","data-v-8d99e05f"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxBtnList/index.vue"]]),version$2="1.0.0",getVersion=()=>window.MxElectronAPI&&window.MxElectronAPI.version||version$2,getLargeVersion=()=>{let e=getVersion();const t=e.lastIndexOf(".");return e=e.substring(0,t),e};let uiConfig;const fetchUiConfig=async()=>{uiConfig=await getConfig(new URL(""+new URL("../mxUiConfig.json",import.meta.url).href,self.location).href),uiConfig.title&&(document.title=uiConfig.title);const e=/<version>/g;uiConfig.headerTitle&&(uiConfig.headerTitle=uiConfig.headerTitle.replace(e,getLargeVersion()))},useTitleButtonBarData=()=>({mTitleButtonBarData:markRaw(uiConfig.mTitleButtonBarData||[])}),VCard$1="",VCardActions=defineComponent({name:"VCardActions",setup(e,t){let{slots:r}=t;return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>createVNode("div",{class:"v-card-actions"},[r.default?.()])),{}}}),VCardSubtitle=createSimpleFunctional("v-card-subtitle"),VCardTitle=createSimpleFunctional("v-card-title"),VCardItem=genericComponent()({name:"VCardItem",props:{appendAvatar:String,appendIcon:IconValue$1,prependAvatar:String,prependIcon:IconValue$1,subtitle:String,title:String,...makeDensityProps()},setup(e,t){let{slots:r}=t;return useRender(()=>{const i=!!(e.prependAvatar||e.prependIcon),l=!!(i||r.prepend),a=!!(e.appendAvatar||e.appendIcon),c=!!(a||r.append),d=!!(e.title||r.title),D=!!(e.subtitle||r.subtitle);return createVNode("div",{class:"v-card-item"},[l&&createVNode("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},r.prepend):i&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),createVNode("div",{class:"v-card-item__content"},[d&&createVNode(VCardTitle,{key:"title"},{default:()=>[r.title?.()??e.title]}),D&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>[r.subtitle?.()??e.subtitle]}),r.default?.()]),c&&createVNode("div",{key:"append",class:"v-card-item__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},r.append):a&&createVNode(VAvatar,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),VCardText=createSimpleFunctional("v-card-text"),VCard=genericComponent()({name:"VCard",directives:{Ripple},props:{appendAvatar:String,appendIcon:IconValue$1,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...makeThemeProps(),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeVariantProps({variant:"elevated"})},setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:l}=provideTheme(e),{borderClasses:a}=useBorder(e),{colorClasses:c,colorStyles:d,variantClasses:D}=useVariant(e),{densityClasses:v}=useDensity(e),{dimensionStyles:C}=useDimension(e),{elevationClasses:f}=useElevation(e),{loaderClasses:w}=useLoader(e),{locationStyles:F}=useLocation(e),{positionClasses:T}=usePosition(e),{roundedClasses:R}=useRounded(e),ee=useLink(e,r),re=computed(()=>e.link!==!1&&ee.isLink.value),ae=computed(()=>!e.disabled&&e.link!==!1&&(e.link||ee.isClickable.value));return useRender(()=>{const ce=re.value?"a":e.tag,ue=!!(i.title||e.title),de=!!(i.subtitle||e.subtitle),A=ue||de,oe=!!(i.append||e.appendAvatar||e.appendIcon),le=!!(i.prepend||e.prependAvatar||e.prependIcon),ie=!!(i.image||e.image),I=A||le||oe,j=!!(i.text||e.text);return withDirectives(createVNode(ce,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":ae.value},l.value,a.value,c.value,v.value,f.value,w.value,T.value,R.value,D.value],style:[d.value,C.value,F.value],href:ee.href.value,onClick:ae.value&&ee.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[ie&&createVNode("div",{key:"image",class:"v-card__image"},[i.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(LoaderSlot,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),I&&createVNode(VCardItem,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),j&&createVNode(VCardText,{key:"text"},{default:()=>[i.text?.()??e.text]}),i.default?.(),i.actions&&createVNode(VCardActions,null,{default:i.actions}),genOverlays(ae.value,"v-card")]}),[[resolveDirective("ripple"),ae.value&&e.ripple]])}),{}}}),_hoisted_1$b={class:"d-flex"},_sfc_main$f=defineComponent$1({__name:"TitleButtonBar",emits:["change"],setup(e,{emit:t}){const{mTitleButtonBarData:r}=useTitleButtonBarData();return(i,l)=>(openBlock(),createBlock(VCard,{class:"d-flex justify-space-between align-center pl-2 mb-0 w-100 mx-title-bar",height:"40",elevation:"0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[createVNode(MxBtnList,{class:"bg-background w-auto",location:"bottom",onChange:l[0]||(l[0]=a=>t("change",a)),list:unref(r)},null,8,["list"])])]),_:1}))}}),TitleButtonBar=_export_sfc(_sfc_main$f,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/TitleButtonBar.vue"]]),_withScopeId$1=e=>(pushScopeId("data-v-e930099d"),e=e(),popScopeId(),e),_hoisted_1$a={class:"ellipsis-prefix"},_hoisted_2$8=_withScopeId$1(()=>createBaseVNode("span",{class:"ellipsis-middle"},"...",-1)),_hoisted_3$6={class:"ellipsis-suffix"},_sfc_main$e=defineComponent$1({__name:"ListItem",props:{item:{type:null,required:!0}},setup(e){const t={prefix:5,suffix:21,max:34};return(r,i)=>(openBlock(),createBlock(VListItem,{class:"mx-menu-list-item","max-width":"360"},{prepend:withCtx(()=>[createVNode(VIcon,{icon:e.item.icon,size:"x-small"},null,8,["icon"])]),append:withCtx(()=>[createVNode(VIcon,{icon:e.item.endIcon,size:"x-small"},null,8,["icon"])]),default:withCtx(()=>[e.item.tab&&e.item.tab.length>t.max?(openBlock(),createBlock(VListItemTitle,{key:0,class:"ellipsis-container"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$a,toDisplayString(e.item.tab.slice(0,t.prefix)),1),_hoisted_2$8,createBaseVNode("span",_hoisted_3$6,toDisplayString(e.item.tab.slice(e.item.tab.length-t.suffix,e.item.tab.length)),1)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:1},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item.tab),1)]),_:1}))]),_:1}))}}),ListItem_vue_vue_type_style_index_0_scoped_e930099d_lang="",ListItem_vue_vue_type_style_index_1_lang="",ListItem=_export_sfc(_sfc_main$e,[["__scopeId","data-v-e930099d"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxMenu/ListItem.vue"]]),__default__={name:"MxMenu"},_sfc_main$d=defineComponent$1({...__default__,props:{list:{type:Array,required:!1,default:()=>[]},title:{type:String,required:!1},isChildren:{type:Boolean,required:!1,default:!1}},emits:["change","click"],setup(e,{emit:t}){const r=l=>{t("change",l)},i=()=>{t("click")};return(l,a)=>{const c=resolveComponent("MxMenu");return openBlock(),createBlock(VMenu,{class:"mx-menu","offset-y":""},{activator:withCtx(({props:d})=>[e.title?renderSlot(l.$slots,"activator",normalizeProps(mergeProps({key:0},d)),()=>[e.isChildren?(openBlock(),createBlock(ListItem,{key:1,item:d,onClick:D=>r(d)},null,8,["item","onClick"])):(openBlock(),createBlock(VChip,mergeProps({key:0,class:"px-4 mx-1",color:"accent",size:"x-small",variant:"elevated",label:""},d,{onClick:i}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:2},1040))],!0):createCommentVNode("v-if",!0)]),default:withCtx(()=>[createVNode(VList,{"min-width":"10",nav:"",class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.list,(d,D)=>(openBlock(),createElementBlock(Fragment,{key:D},[d.list?(openBlock(),createBlock(c,{key:D,list:d.list,title:d.tab,isChildren:!0,"open-on-hover":"",location:"right center","activator-props":d},null,8,["list","title","activator-props"])):(openBlock(),createBlock(ListItem,{key:1,item:d,onClick:v=>r(d)},null,8,["item","onClick"]))],64))),128))]),_:1})]),_:3})}}}),index_vue_vue_type_style_index_0_scoped_42bd5041_lang="",MxMenu=_export_sfc(_sfc_main$d,[["__scopeId","data-v-42bd5041"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxMenu/index.vue"]]);addCommand("Mx_open_file_options",async e=>{if(e.list){let r=(await MxElectronAPI.getFileOpenRecords()).filter(i=>!e.list.some(({tab:l})=>l===i));e.list.push(...r.map(i=>({tab:i,cmd:"Mx_openRecordsFile"})))}});addCommand("Mx_openRecordsFile",e=>{MxElectronAPI.openFile(e.tab)});const useMenusData=()=>({menuListData:(uiConfig.mMenuBarData||[])?.map(t=>t.isResponsive?(t=reactive(t),t):markRaw(t))}),VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory$1({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),makeLayoutItemProps=propsFactory$1({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function useLayout(){const e=inject$1(VuetifyLayoutKey);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function useLayoutItem(e){const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");const r=e.id??`layout-item-${getUid()}`,i=getCurrentInstance("useLayoutItem");provide(VuetifyLayoutItemKey,{id:r});const l=ref(!1);onDeactivated(()=>l.value=!0),onActivated(()=>l.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:c}=t.register(i,{...e,active:computed(()=>l.value?!1:e.active.value),id:r});return onBeforeUnmount(()=>t.unregister(r)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:c}}const generateLayers=(e,t,r,i)=>{let l={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...l}}];for(const c of e){const d=t.get(c),D=r.get(c),v=i.get(c);if(!d||!D||!v)continue;const C={...l,[d.value]:parseInt(l[d.value],10)+(v.value?parseInt(D.value,10):0)};a.push({id:c,layer:C}),l=C}return a};function createLayout(e){const t=inject$1(VuetifyLayoutKey,null),r=computed(()=>t?t.rootZIndex.value-100:ROOT_ZINDEX),i=ref([]),l=reactive(new Map),a=reactive(new Map),c=reactive(new Map),d=reactive(new Map),D=reactive(new Map),{resizeRef:v,contentRect:C}=useResizeObserver(),f=computed(()=>{const A=new Map,oe=e.overlaps??[];for(const le of oe.filter(ie=>ie.includes(":"))){const[ie,I]=le.split(":");if(!i.value.includes(ie)||!i.value.includes(I))continue;const j=l.get(ie),pe=l.get(I),be=a.get(ie),De=a.get(I);!j||!pe||!be||!De||(A.set(I,{position:j.value,amount:parseInt(be.value,10)}),A.set(ie,{position:pe.value,amount:-parseInt(De.value,10)}))}return A}),w=computed(()=>{const A=[...new Set([...c.values()].map(le=>le.value))].sort((le,ie)=>le-ie),oe=[];for(const le of A){const ie=i.value.filter(I=>c.get(I)?.value===le);oe.push(...ie)}return generateLayers(oe,l,a,d)}),F=computed(()=>!Array.from(D.values()).some(A=>A.value)),T=computed(()=>w.value[w.value.length-1].layer),R=computed(()=>({"--v-layout-left":convertToUnit(T.value.left),"--v-layout-right":convertToUnit(T.value.right),"--v-layout-top":convertToUnit(T.value.top),"--v-layout-bottom":convertToUnit(T.value.bottom),...F.value?void 0:{transition:"none"}})),ee=computed(()=>w.value.slice(1).map((A,oe)=>{let{id:le}=A;const{layer:ie}=w.value[oe],I=a.get(le),j=l.get(le);return{id:le,...ie,size:Number(I.value),position:j.value}})),re=A=>ee.value.find(oe=>oe.id===A),ae=getCurrentInstance("createLayout"),ce=ref(!1);onMounted(()=>{ce.value=!0}),provide(VuetifyLayoutKey,{register:(A,oe)=>{let{id:le,order:ie,position:I,layoutSize:j,elementSize:pe,active:be,disableTransitions:De,absolute:Re}=oe;c.set(le,ie),l.set(le,I),a.set(le,j),d.set(le,be),De&&D.set(le,De);const Se=findChildrenWithProvide(VuetifyLayoutItemKey,ae?.vnode).indexOf(A);Se>-1?i.value.splice(Se,0,le):i.value.push(le);const Le=computed(()=>ee.value.findIndex(Ke=>Ke.id===le)),Ie=computed(()=>r.value+w.value.length*2-Le.value*2),st=computed(()=>{const Ke=I.value==="left"||I.value==="right",St=I.value==="right",ct=I.value==="bottom",Ct={[I.value]:0,zIndex:Ie.value,transform:`translate${Ke?"X":"Y"}(${(be.value?0:-110)*(St||ct?-1:1)}%)`,position:Re.value||r.value!==ROOT_ZINDEX?"absolute":"fixed",...F.value?void 0:{transition:"none"}};if(!ce.value)return Ct;const Pt=ee.value[Le.value];if(!Pt)throw new Error(`[Vuetify] Could not find layout item "${le}"`);const bt=f.value.get(le);return bt&&(Pt[bt.position]+=bt.amount),{...Ct,height:Ke?`calc(100% - ${Pt.top}px - ${Pt.bottom}px)`:pe.value?`${pe.value}px`:void 0,left:St?void 0:`${Pt.left}px`,right:St?`${Pt.right}px`:void 0,top:I.value!=="bottom"?`${Pt.top}px`:void 0,bottom:I.value!=="top"?`${Pt.bottom}px`:void 0,width:Ke?pe.value?`${pe.value}px`:void 0:`calc(100% - ${Pt.left}px - ${Pt.right}px)`}}),Ye=computed(()=>({zIndex:Ie.value-1}));return{layoutItemStyles:st,layoutItemScrimStyles:Ye,zIndex:Ie}},unregister:A=>{c.delete(A),l.delete(A),a.delete(A),d.delete(A),D.delete(A),i.value=i.value.filter(oe=>oe!==A)},mainRect:T,mainStyles:R,getLayoutItem:re,items:ee,layoutRect:C,rootZIndex:r});const ue=computed(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),de=computed(()=>({zIndex:r.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:ue,layoutStyles:de,getLayoutItem:re,items:ee,layoutRect:C,layoutRef:v}}function createVuetify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...r}=e,i=mergeDeep(t,r),{aliases:l={},components:a={},directives:c={}}=i,d=createDefaults(i.defaults),D=createDisplay(i.display,i.ssr),v=createTheme(i.theme),C=createIcons(i.icons),f=createLocale(i.locale);return{install:F=>{for(const T in c)F.directive(T,c[T]);for(const T in a)F.component(T,a[T]);for(const T in l)F.component(T,defineComponent({...l[T],name:T,aliasName:l[T].name}));if(v.install(F),F.provide(DefaultsSymbol,d),F.provide(DisplaySymbol,D),F.provide(ThemeSymbol,v),F.provide(IconSymbol,C),F.provide(LocaleSymbol,f),IN_BROWSER&&i.ssr)if(F.$nuxt)F.$nuxt.hook("app:suspense:resolve",()=>{D.update()});else{const{mount:T}=F;F.mount=function(){const R=T(...arguments);return nextTick(()=>D.update()),F.mount=T,R}}getUid.reset(),F.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol)})}}})},defaults:d,display:D,theme:v,icons:C,locale:f}}const version$1="3.1.12";createVuetify.version=version$1;function inject(e){const t=this.$,r=t.parent?.provides??t.vnode.appContext?.provides;if(r&&e in r)return r[e]}var _a;const isClient=typeof window<"u",isBoolean$1=e=>typeof e=="boolean",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",noop$1=()=>{};isClient&&((_a=window?.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(e){return typeof e=="function"?e():unref(e)}function createFilterWrapper(e,t){function r(...i){return new Promise((l,a)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(l).catch(a)})}return r}const bypassFilter=e=>e();function pausableFilter(e=bypassFilter){const t=ref(!0);function r(){t.value=!1}function i(){t.value=!0}const l=(...a)=>{t.value&&e(...a)};return{isActive:readonly(t),pause:r,resume:i,eventFilter:l}}function identity(e){return e}function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(e,t)=>{var r={};for(var i in e)__hasOwnProp$6.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&__getOwnPropSymbols$6)for(var i of __getOwnPropSymbols$6(e))t.indexOf(i)<0&&__propIsEnum$6.call(e,i)&&(r[i]=e[i]);return r};function watchWithFilter(e,t,r={}){const i=r,{eventFilter:l=bypassFilter}=i,a=__objRest$5(i,["eventFilter"]);return watch(e,createFilterWrapper(l,t),a)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(e,t,r)=>t in e?__defProp$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$2=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$2.call(t,r)&&__defNormalProp$2(e,r,t[r]);if(__getOwnPropSymbols$2)for(var r of __getOwnPropSymbols$2(t))__propIsEnum$2.call(t,r)&&__defNormalProp$2(e,r,t[r]);return e},__spreadProps$2=(e,t)=>__defProps$2(e,__getOwnPropDescs$2(t)),__objRest$1=(e,t)=>{var r={};for(var i in e)__hasOwnProp$2.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&__getOwnPropSymbols$2)for(var i of __getOwnPropSymbols$2(e))t.indexOf(i)<0&&__propIsEnum$2.call(e,i)&&(r[i]=e[i]);return r};function watchPausable(e,t,r={}){const i=r,{eventFilter:l}=i,a=__objRest$1(i,["eventFilter"]),{eventFilter:c,pause:d,resume:D,isActive:v}=pausableFilter(l);return{stop:watchWithFilter(e,t,__spreadProps$2(__spreadValues$2({},a),{eventFilter:c})),pause:d,resume:D,isActive:v}}function unrefElement(e){var t;const r=resolveUnref(e);return(t=r?.$el)!=null?t:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;isClient&&window.navigator;isClient&&window.location;function useEventListener(...e){let t,r,i,l;if(isString$1(e[0])||Array.isArray(e[0])?([r,i,l]=e,t=defaultWindow):[t,r,i,l]=e,!t)return noop$1;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const a=[],c=()=>{a.forEach(C=>C()),a.length=0},d=(C,f,w)=>(C.addEventListener(f,w,l),()=>C.removeEventListener(f,w,l)),D=watch(()=>unrefElement(t),C=>{c(),C&&a.push(...r.flatMap(f=>i.map(w=>d(C,f,w))))},{immediate:!0,flush:"post"}),v=()=>{D(),c()};return tryOnScopeDispose(v),v}const _global$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$1[globalKey]=_global$1[globalKey]||{};const handlers=_global$1[globalKey];function getSSRHandler(e,t){return handlers[e]||t}function guessSerializerType(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var __defProp$j=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(e,t,r)=>t in e?__defProp$j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$j=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$l.call(t,r)&&__defNormalProp$j(e,r,t[r]);if(__getOwnPropSymbols$l)for(var r of __getOwnPropSymbols$l(t))__propIsEnum$l.call(t,r)&&__defNormalProp$j(e,r,t[r]);return e};const StorageSerializers={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function useStorage(e,t,r,i={}){var l;const{flush:a="pre",deep:c=!0,listenToStorageChanges:d=!0,writeDefaults:D=!0,mergeDefaults:v=!1,shallow:C,window:f=defaultWindow,eventFilter:w,onError:F=oe=>{console.error(oe)}}=i,T=(C?shallowRef:ref)(t);if(!r)try{r=getSSRHandler("getDefaultStorage",()=>{var oe;return(oe=defaultWindow)==null?void 0:oe.localStorage})()}catch(oe){F(oe)}if(!r)return T;const R=resolveUnref(t),ee=guessSerializerType(R),re=(l=i.serializer)!=null?l:StorageSerializers[ee],{pause:ae,resume:ce}=watchPausable(T,()=>ue(T.value),{flush:a,deep:c,eventFilter:w});return f&&d&&useEventListener(f,"storage",A),A(),T;function ue(oe){try{if(oe==null)r.removeItem(e);else{const le=re.write(oe),ie=r.getItem(e);ie!==le&&(r.setItem(e,le),f&&f?.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:ie,newValue:le,storageArea:r})))}}catch(le){F(le)}}function de(oe){const le=oe?oe.newValue:r.getItem(e);if(le==null)return D&&R!==null&&r.setItem(e,re.write(R)),R;if(!oe&&v){const ie=re.read(le);return isFunction$1(v)?v(ie,R):ee==="object"&&!Array.isArray(ie)?__spreadValues$j(__spreadValues$j({},R),ie):ie}else return typeof le!="string"?le:re.read(le)}function A(oe){if(!(oe&&oe.storageArea!==r)){if(oe&&oe.key==null){T.value=R;return}if(!(oe&&oe.key!==e)){ae();try{T.value=de(oe)}catch(le){F(le)}finally{oe?nextTick(ce):ce()}}}}}const defaultEvents=["mousedown","mouseup","keydown","keyup"];function useKeyModifier(e,t={}){const{events:r=defaultEvents,document:i=defaultDocument,initial:l=null}=t,a=ref(l);return i&&r.forEach(c=>{useEventListener(i,c,d=>{typeof d.getModifierState=="function"&&(a.value=d.getModifierState(e))})}),a}function useLocalStorage(e,t,r={}){const{window:i=defaultWindow}=r;return useStorage(e,t,i?.localStorage,r)}var SwipeDirection;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);let theme,isDark;const toggleTheme=()=>{const e=theme.global.current.value.dark?"light":"dark";theme.global.name.value=e,isDark.value=theme.global.name.value==="dark"},setIsDark=e=>theme.global.name.value=e?"dark":"light",useTheme=()=>(theme=useTheme$1(),isDark=useLocalStorage("mx-user-dark",Boolean(localStorage.getItem("mx-user-dark"))||!0),setIsDark(isDark.value),{toggleTheme,setIsDark,isDark}),logoSrc=""+new URL("logo.7457c414.png",import.meta.url).href,getLogoImgSrc=()=>logoSrc,useRightClickMenuOptions=(e={})=>{const{menuItemCss:t={},params:r={},menuWrapperCss:i={},...l}=e;return{params:{...r},menuWidth:120,menuWrapperCss:{background:"#fff",boxShadow:"0 0 2px #ccc",...i},menuItemCss:{labelColor:"#000",tipsColor:"#ccc",arrowColor:"#aaa",disabledColor:"#aaa",hoverBackground:"#2C7BB6",hoverLabelColor:"#fff",hoverTipsColor:"#fff",labelFontSize:"12px",...t},menuList:[],...l}},tabs=ref(await MxElectronAPI.viewTab.data());MxElectronAPI.viewTab.onUpdate(e=>{tabs.value=e});const useTabs=()=>({tabs,add:i=>MxElectronAPI.viewTab.add(i),close:i=>MxElectronAPI.viewTab.close(i),active:i=>MxElectronAPI.viewTab.active(i)}),useTabRightClickMenu=()=>{const{tabs:e,close:t}=useTabs();return{rightMenuOptions:useRightClickMenuOptions({menuList:[{label:"\u5173\u95ED\u5168\u90E8",fn:function(i,l,a,c){for(let d=0;d<e.value.length;d++)t()}}]})}},_hoisted_1$9={key:0,class:"d-flex bg-background"},_hoisted_2$7={class:"tabs"},_hoisted_3$5=["onClick"],_hoisted_4$4={class:"tab-title"},_sfc_main$c=defineComponent$1({__name:"Tabs",setup(e){const{tabs:t,add:r,close:i,active:l}=useTabs(),{rightMenuOptions:a}=useTabRightClickMenu();return(c,d)=>{const D=resolveDirective("scroll-bottom"),v=resolveDirective("right-click-menu");return unref(isElectron)()?(openBlock(),createElementBlock("div",_hoisted_1$9,[withDirectives((openBlock(),createElementBlock("ul",_hoisted_2$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(C,f)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["tab",C.active?"tab-active":""]),key:f,onClick:w=>unref(l)(f)},[createBaseVNode("span",_hoisted_4$4,toDisplayString(C.title),1),f!==0?(openBlock(),createBlock(VBtn,{key:0,icon:"",size:"16px",onClick:withModifiers(w=>unref(i)(f),["stop"]),class:"tab-close-btn"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi:mdi-close",size:"x-small"})]),_:2},1032,["onClick"])):createCommentVNode("v-if",!0)],10,_hoisted_3$5))),128))])),[[D],[v,unref(a)]]),createVNode(VTooltip,{text:"\u6DFB\u52A0\u6807\u7B7E",theme:"light",location:"top"},{activator:withCtx(({props:C})=>[createVNode(VBtn,mergeProps(C,{size:"20px",class:"tab-add",theme:"drak",onClick:d[0]||(d[0]=withModifiers(f=>unref(r)(),["stop"]))}),{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi:mdi-plus"})]),_:2},1040)]),_:1})])):createCommentVNode("v-if",!0)}}}),Tabs_vue_vue_type_style_index_0_scoped_41bebcfe_lang="",Tabs=_export_sfc(_sfc_main$c,[["__scopeId","data-v-41bebcfe"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/ElectronView/Tabs.vue"]]),VAppBar$1="",VToolbar$1="",makeVToolbarTitleProps=propsFactory$1({text:String,...makeTagProps()},"v-toolbar-title"),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{const i=!!(r.default||r.text||e.text);return createVNode(e.tag,{class:"v-toolbar-title"},{default:()=>[i&&createVNode("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():e.text,r.default?.()])]})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory$1({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>allowedDensities.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"v-toolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(e,t){let{slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:l}=useBackgroundColor(toRef(e,"color")),{borderClasses:a}=useBorder(e),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e),{themeClasses:D}=provideTheme(e),v=ref(!!(e.extended||r.extension?.())),C=computed(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=computed(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{const w=!!(e.title||r.title),F=!!(r.image||e.image),T=r.extension?.();return v.value=!!(e.extended||T),createVNode(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,a.value,c.value,d.value,D.value],style:[l.value]},{default:()=>[F&&createVNode("div",{key:"image",class:"v-toolbar__image"},[r.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(C.value)}}},{default:()=>[createVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(C.value)}},[r.prepend&&createVNode("div",{class:"v-toolbar__prepend"},[r.prepend?.()]),w&&createVNode(VToolbarTitle,{key:"title",text:e.title},{text:r.title}),r.default?.(),r.append&&createVNode("div",{class:"v-toolbar__append"},[r.append?.()])])]}),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(f.value)}}},{default:()=>[createVNode(VExpandTransition,null,{default:()=>[v.value&&createVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(f.value)}},[T])]})]})]})}),{contentHeight:C,extensionHeight:f}}});function useSsrBoot(){const e=ref(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:computed(()=>e.value?void 0:{transition:"none !important"}),isBooted:readonly(e)}}const VAppBar=genericComponent()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...makeVToolbarProps(),...makeLayoutItemProps(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=ref(),l=useProxiedModel(e,"modelValue"),a=computed(()=>{const D=i.value?.contentHeight??0,v=i.value?.extensionHeight??0;return D+v}),{ssrBootStyles:c}=useSsrBoot(),{layoutItemStyles:d}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(e,"location"),layoutSize:a,elementSize:a,active:l,absolute:toRef(e,"absolute")});return useRender(()=>{const[D]=VToolbar.filterProps(e);return createVNode(VToolbar,mergeProps({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"}],style:{...d.value,height:void 0,...c.value}},D),r)}),{}}}),_hoisted_1$8={class:"d-flex w-100 flex-column py-1 ma-0 px-0"},_hoisted_2$6={class:"d-flex align-center pa-1 bg-background mx-herder-top-box"},_hoisted_3$4={class:"mx-title mt-1"},_hoisted_4$3={class:"w-100"},_hoisted_5$2={class:"mb-6 d-flex"},_sfc_main$b=defineComponent$1({__name:"index",setup(e){const{menuListData:t}=useMenusData(),{toggleTheme:r,isDark:i}=useTheme(),l=(f,w)=>{f&&f.cmd&&callCommand(f.cmd,f,w)},a=ref(uiConfig.headerTitle||"\u68A6\u60F3CAD\u684C\u9762\u7AEF "+getLargeVersion()),c=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainCose()},d=ref(!1),D=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainMax(),d.value=!d.value},v=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainMin()},C=f=>{f.cmd&&callCommand(f.cmd,f)};return(f,w)=>(openBlock(),createBlock(VAppBar,{height:unref(isElectron)()?140:120,flat:"","clipped-left":"","clipped-right":"",class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("h1",_hoisted_3$4,toDisplayString(a.value),1),createVNode(VImg,{width:"60",height:"60",src:unref(getLogoImgSrc)()},null,8,["src"]),createCommentVNode(" \u6309\u94AE\u680F "),createBaseVNode("div",_hoisted_4$3,[createVNode(TitleButtonBar,{class:"bg-background",onChange:l}),createVNode(VCard,{style:{background:"transparent"},height:"30",class:"pl-2 mb-0 w-100",elevation:"0"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(F,T)=>(openBlock(),createBlock(MxMenu,{key:T,onClick:R=>C(F),list:F.list,title:F.tab,onChange:R=>l(R,F.list)},null,8,["onClick","list","title","onChange"]))),128))]),_:1})]),createBaseVNode("div",_hoisted_5$2,[createVNode(VBtn,{path:"theme",class:"text-medium-emphasis",icon:unref(i)?"mdi:mdi-weather-night":"mdi:mdi-weather-sunny",onClick:unref(r)},null,8,["icon","onClick"]),unref(isElectron)()?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VBtn,{icon:"mdi:mdi-window-minimize",onClick:v}),createVNode(VBtn,{icon:d.value?"mdi:mdi-window-restore":"mdi:mdi-window-maximize",onClick:D},null,8,["icon"]),createVNode(VBtn,{icon:"mdi:mdi-window-close",class:"window-close",onClick:c})],64)):createCommentVNode("v-if",!0)])]),(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(Tabs)]),_:1})),createVNode(TopBtnList)])]),_:1},8,["height"]))}}),index_vue_vue_type_style_index_0_lang$2="",index_vue_vue_type_style_index_1_scoped_c1e42c5b_lang="",Header=_export_sfc(_sfc_main$b,[["__scopeId","data-v-c1e42c5b"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/index.vue"]]),commandText=ref(""),consoleText=ref(""),cmdTip=ref("\u547D\u4EE4:"),coordinates=ref("0, 0, 0"),useCommandLine=e=>{const{setInputEl:t,setCommandFocus:r}=useFocus$1(),i=l=>{MxFun$1.setCommandLineInputData(commandText.value,l.keyCode)};return onMounted(()=>{const l=e.value.$el.getElementsByTagName("input")[0];t(l),MxFun$1.listenForCommandLineInput(({msCmdTip:a,msCmdDisplay:c,msCmdText:d})=>{commandText.value=d,consoleText.value=c,cmdTip.value=a}),MxFun$1.listenForCoordTip(a=>{coordinates.value=a})}),{handleKeydownCmd:i,commandText,consoleText,cmdTip,coordinates,setCommandFocus:r}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$2(e,t,r,i){function l(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(C){try{v(i.next(C))}catch(f){c(f)}}function D(C){try{v(i.throw(C))}catch(f){c(f)}}function v(C){C.done?a(C.value):l(C.value).then(d,D)}v((i=i.apply(e,t||[])).next())})}function createClassDom(e,t,r){let i=document.createElement(e);return i.setAttribute("class",t),r&&(i.innerText=r),i}const clone=function(e){let t=Array.isArray(e)?[]:{};if(e&&typeof e=="object")for(let r in e)e.hasOwnProperty(r)&&(e[r]&&typeof e[r]=="object"?t[r]=clone(e[r]):t[r]=e[r]);return t};var script=defineComponent$1({name:"MouseMenu",props:{appendToBody:{type:Boolean,default:!0},menuWidth:{type:Number,default:200},menuList:{type:Array,required:!0},menuHiddenFn:{type:Function},hasIcon:{type:Boolean,default:!1},iconType:{type:String,default:"font-icon"},menuWrapperCss:Object,menuItemCss:Object,el:{type:Object,required:!0},params:{type:[String,Number,Array,Object]},useLongPressInMobile:Boolean,longPressDuration:Number,injectCloseListener:{type:Boolean,default:!0},customClass:String,disabled:{type:Function}},setup(e){const t=ref(0),r=ref(0),i=ref(!1),l=ref(0),a=ref(0),c=ref(!1),d=ref(null),D=ref([]),v=computed(()=>e.menuList.some(ce=>ce.children&&ce.children.length>0)),C=ref(10),f=ref();watch(c,ce=>__awaiter$2(this,void 0,void 0,function*(){var ue,de;if(ce){yield nextTick();let A=f.value;e.menuWrapperCss&&Object.keys(e.menuWrapperCss).map(le=>{A.style.setProperty(`--menu-${le}`,e.menuWrapperCss&&e.menuWrapperCss[le])}),e.menuItemCss&&Object.keys(e.menuItemCss).map(le=>{A.style.setProperty(`--menu-item-${le}`,e.menuItemCss&&e.menuItemCss[le])});let oe=(de=(ue=e.menuItemCss)===null||ue===void 0?void 0:ue.arrowSize)===null||de===void 0?void 0:de.match(/\d+/);oe?C.value=~~oe[0]||10:C.value=10,A.style.setProperty("--menu-item-arrowRealSize",C.value/2+"px")}}));const w=(ce,ue)=>{ce.disabled||(ce.fn&&typeof ce.fn=="function"&&ce.fn(e.params,d.value,e.el,ue),c.value=!1)},F=(ce,ue)=>{ce.disabled||(ce.fn&&typeof ce.fn=="function"&&!ce.disabled&&(ce.fn(e.params,d.value,e.el,ue),i.value=!1),c.value=!1)},T=(ce,ue)=>{if(ue.children&&!ue.disabled){i.value=!0;const de=ce.currentTarget;if(!de)return;const{offsetWidth:A}=de,oe=de.querySelector(".__menu__sub__wrapper");if(!oe)return;const{offsetWidth:le,offsetHeight:ie}=oe,{innerWidth:I,innerHeight:j}=window,{top:pe,left:be}=de.getBoundingClientRect();be+A+le>I-5?t.value=be-le+5:t.value=be+A,pe+ie>j-5?r.value=j-ie:r.value=pe+5}},R=(ce,ue,de,A)=>ce.map(oe=>(oe.children&&(oe.children=R(oe.children,ue,de,A)),oe.label&&typeof oe.label=="function"&&(oe.label=oe.label(A,ue,de)),oe.tips&&typeof oe.tips=="function"&&(oe.tips=oe.tips(A,ue,de)),oe.icon&&typeof oe.icon=="function"&&(oe.icon=oe.icon(A,ue,de)),oe.hidden&&typeof oe.hidden=="function"&&(oe.hidden=oe.hidden(A,ue,de)),oe.disabled&&typeof oe.disabled=="function"&&(oe.disabled=oe.disabled(A,ue,de)),oe)),ee=(ce=0,ue=0)=>__awaiter$2(this,void 0,void 0,function*(){if(d.value=document.elementFromPoint(ce-1,ue-1),e.menuHiddenFn?c.value=!e.menuHiddenFn(e.params,d.value,e.el):c.value=!0,!c.value)return;D.value=clone(e.menuList),D.value=R(D.value,d.value,e.el,e.params),yield nextTick();const{innerWidth:de,innerHeight:A}=window,le=f.value.offsetHeight,ie=e.menuWidth||200;a.value=ce+ie+1>de?de-ie-5:ce+1,l.value=ue+le+1>A?A-le-5:ue+1}),re=()=>{c.value=!1},ae=ce=>{f.value&&!f.value.contains(ce.currentTarget)&&(c.value=!1,document.oncontextmenu=null)};return watch(()=>e.injectCloseListener,ce=>{ce?document.addEventListener("mousedown",ae):document.removeEventListener("mousedown",ae)},{immediate:!0}),onUnmounted(()=>{document.removeEventListener("mousedown",ae)}),{subLeft:t,subTop:r,hoverFlag:i,menuTop:l,menuLeft:a,showMenu:c,clickDomEl:d,calcMenuList:D,arrowSize:C,hasSubMenu:v,MenuWrapper:f,handleMenuItemClick:w,handleSubMenuItemClick:F,handleMenuMouseEnter:T,show:ee,close:re}}});pushScopeId("data-v-3d21bc0a");const _hoisted_1$7=["onMousedown","onMouseenter"],_hoisted_2$5={key:0,class:"__menu__item-icon"},_hoisted_3$3=["innerHTML"],_hoisted_4$2={class:"__menu__item-label"},_hoisted_5$1={class:"__menu__item-tips"},_hoisted_6$1={class:"__menu__item-arrow-after"},_hoisted_7$1=["onMousedown"],_hoisted_8$1={class:"__menu__sub__item-label"},_hoisted_9$1={class:"__menu__sub__item-tips"};popScopeId();function render(e,t,r,i,l,a){return openBlock(),createBlock(Teleport,{to:"body",disabled:!e.appendToBody},[e.showMenu?(openBlock(),createElementBlock("div",{key:0,ref:"MenuWrapper",class:normalizeClass(["__menu__wrapper",e.customClass]),style:normalizeStyle({width:`${e.menuWidth}px`,top:`${e.menuTop}px`,left:`${e.menuLeft}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.calcMenuList,(c,d)=>(openBlock(),createElementBlock(Fragment,null,[!c.hidden&&!c.line?(openBlock(),createElementBlock("div",{key:d,class:normalizeClass(["__menu__item",c.disabled&&"disabled",c.customClass]),onMousedown:withModifiers(D=>e.handleMenuItemClick(c,D),["stop"]),onMouseenter:D=>e.handleMenuMouseEnter(D,c)},[e.hasIcon?(openBlock(),createElementBlock("div",_hoisted_2$5,[e.iconType==="font-icon"?withDirectives((openBlock(),createElementBlock("i",{key:0,class:normalizeClass(c.icon)},null,2)),[[vShow,c.icon]]):e.iconType==="svg-icon"?withDirectives((openBlock(),createElementBlock("div",{key:1,class:"__menu__item-icon-svg",innerHTML:c.icon},null,8,_hoisted_3$3)),[[vShow,c.icon]]):e.iconType==="vnode-icon"?(openBlock(),createBlock(resolveDynamicComponent(c.icon),{key:2})):createCommentVNode("v-if",!0)])):createCommentVNode("v-if",!0),createBaseVNode("span",_hoisted_4$2,toDisplayString(c.label),1),createBaseVNode("span",_hoisted_5$1,toDisplayString(c.tips||""),1),e.hasSubMenu?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["__menu__item-arrow",{show:e.hasSubMenu&&c.children}]),style:normalizeStyle({width:e.arrowSize+"px",height:e.arrowSize+"px"})},[withDirectives(createBaseVNode("span",_hoisted_6$1,null,512),[[vShow,e.hasSubMenu&&c.children]])],6)):createCommentVNode("v-if",!0),c.children&&c.children.length>0?withDirectives((openBlock(),createElementBlock("div",{key:2,class:"__menu__sub__wrapper",style:normalizeStyle({top:`${e.subTop}px`,left:`${e.subLeft}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.children,(D,v)=>(openBlock(),createElementBlock(Fragment,null,[!D.hidden&&!D.line?(openBlock(),createElementBlock("div",{key:v,class:normalizeClass(["__menu__sub__item",D.disabled&&"disabled",D.customClass]),onMousedown:withModifiers(C=>e.handleSubMenuItemClick(D,C),["stop"])},[createBaseVNode("span",_hoisted_8$1,toDisplayString(D.label),1),createBaseVNode("span",_hoisted_9$1,toDisplayString(D.tips||""),1)],42,_hoisted_7$1)):createCommentVNode("v-if",!0),D.line?(openBlock(),createElementBlock("div",{key:v,class:"__menu__line"})):createCommentVNode("v-if",!0)],64))),256))],4)),[[vShow,e.hoverFlag]]):createCommentVNode("v-if",!0)],42,_hoisted_1$7)):createCommentVNode("v-if",!0),!c.hidden&&c.line?(openBlock(),createElementBlock("div",{key:d,class:"__menu__line"})):createCommentVNode("v-if",!0)],64))),256))],6)):createCommentVNode("v-if",!0)],8,["disabled"])}function styleInject(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",r==="top"&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var css_248z=`.__menu__mask[data-v-3d21bc0a] {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 999;
}
.__menu__wrapper[data-v-3d21bc0a] {
  --menu-background: #c8f2f0;
  --menu-boxShadow: 0 1px 5px #888;
  --menu-padding: 5px 0;
  --menu-borderRadius: 0;
  --menu-item-height: 30px;
  --menu-item-padding: 0 10px;
  --menu-item-iconSize: 20px;
  --menu-item-iconFontSize: 14px;
  --menu-item-iconColor: #484852;
  --menu-item-labelColor: #484852;
  --menu-item-labelFontSize: 14px;
  --menu-item-tipsColor: #889;
  --menu-item-tipsFontSize: 12px;
  --menu-item-arrowColor: #484852;
  --menu-item-disabledColor: #bcc;
  --menu-item-hoverBackground: rgba(255, 255, 255, 0.8);
  --menu-item-hoverIconColor: inherit;
  --menu-item-hoverLabelColor: inherit;
  --menu-item-hoverTipsColor: inherit;
  --menu-item-hoverArrowColor: inherit;
  --menu-lineColor: #ccc;
  --menu-lineMargin: 5px 0;
}
.__menu__wrapper[data-v-3d21bc0a] {
  position: fixed;
  width: 200px;
  background: var(--menu-background);
  box-shadow: var(--menu-boxShadow);
  padding: var(--menu-padding);
  border-radius: var(--menu-borderRadius);
  z-index: 99999;
}
.__menu__line[data-v-3d21bc0a],
.__menu__sub__line[data-v-3d21bc0a] {
  border-top: 1px solid var(--menu-lineColor);
  margin: var(--menu-lineMargin);
}
.__menu__item[data-v-3d21bc0a],
.__menu__sub__item[data-v-3d21bc0a] {
  display: flex;
  height: var(--menu-item-height);
  align-items: center;
  cursor: pointer;
  padding: var(--menu-item-padding);
}
.__menu__item .__menu__item-icon[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon[data-v-3d21bc0a] {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--menu-item-iconColor);
  width: var(--menu-item-iconSize);
  height: var(--menu-item-iconSize);
}
.__menu__item .__menu__item-icon i[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon i[data-v-3d21bc0a] {
  font-size: var(--menu-item-iconFontSize);
}
.__menu__item .__menu__item-icon .__menu__item-icon-svg[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon .__menu__item-icon-svg[data-v-3d21bc0a] {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}
.__menu__item .__menu__item-label[data-v-3d21bc0a],
.__menu__item .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-label[data-v-3d21bc0a],
.__menu__sub__item .__menu__sub__item-label[data-v-3d21bc0a] {
  width: 100%;
  max-height: 100%;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  font-size: var(--menu-item-labelFontSize);
  color: var(--menu-item-labelColor);
  margin-right: 5px;
  overflow: hidden;
}
.__menu__item .__menu__item-tips[data-v-3d21bc0a],
.__menu__item .__menu__sub__item-tips[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-tips[data-v-3d21bc0a],
.__menu__sub__item .__menu__sub__item-tips[data-v-3d21bc0a] {
  font-size: var(--menu-item-tipsFontSize);
  color: var(--menu-item-tipsColor);
}
.__menu__item .__menu__item-arrow[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-arrow[data-v-3d21bc0a] {
  width: 10px;
  height: 10px;
  margin-left: 5px;
  position: relative;
}
.__menu__item.disabled[data-v-3d21bc0a],
.__menu__sub__item.disabled[data-v-3d21bc0a] {
  cursor: not-allowed;
}
.__menu__item.disabled .__menu__item-icon[data-v-3d21bc0a],
.__menu__item.disabled .__menu__item-label[data-v-3d21bc0a],
.__menu__item.disabled .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__item.disabled .__menu__item-tips[data-v-3d21bc0a],
.__menu__item.disabled .__menu__sub__item-tips[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-icon[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-label[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-tips[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__sub__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-disabledColor);
}
.__menu__item.disabled .__menu__item-arrow .__menu__item-arrow-after[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-arrow .__menu__item-arrow-after[data-v-3d21bc0a] {
  border-left: var(--menu-item-arrowRealSize) solid var(--menu-item-disabledColor);
}
.__menu__item[data-v-3d21bc0a]:not(.disabled):hover {
  background: var(--menu-item-hoverBackground);
}
.__menu__item:not(.disabled):hover .__menu__item-icon[data-v-3d21bc0a] {
  color: var(--menu-item-hoverIconColor);
}
.__menu__item:not(.disabled):hover .__menu__item-label[data-v-3d21bc0a] {
  color: var(--menu-item-hoverLabelColor);
}
.__menu__item:not(.disabled):hover .__menu__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-hoverTipsColor);
}
.__menu__item:not(.disabled):hover .__menu__item-arrow[data-v-3d21bc0a] {
  color: var(--menu-item-hoverArrowColor);
}
.__menu__sub__item[data-v-3d21bc0a]:not(.disabled):hover {
  background: var(--menu-item-hoverBackground);
}
.__menu__sub__item:not(.disabled):hover .__menu__sub__item-label[data-v-3d21bc0a] {
  color: var(--menu-item-hoverLabelColor);
}
.__menu__sub__item:not(.disabled):hover .__menu__sub__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-hoverTipsColor);
}
.__menu__item-icon[data-v-3d21bc0a] {
  width: 20px;
  height: 20px;
  text-align: center;
  line-height: 20px;
  margin-right: 4px;
}
.__menu__item-arrow.show .__menu__item-arrow-after[data-v-3d21bc0a] {
  position: absolute;
  width: 0;
  height: 0;
  left: 8px;
  border-left: var(--menu-item-arrowRealSize) solid var(--menu-item-arrowColor);
  border-top: var(--menu-item-arrowRealSize) solid transparent;
  border-bottom: var(--menu-item-arrowRealSize) solid transparent;
}
.__menu__sub__wrapper[data-v-3d21bc0a] {
  position: fixed;
  visibility: hidden;
  width: 200px;
  background: var(--menu-background);
  box-shadow: var(--menu-boxShadow);
  padding: var(--menu-padding);
  border-radius: var(--menu-borderRadius);
}
.__menu__item:hover .__menu__sub__wrapper[data-v-3d21bc0a] {
  visibility: visible;
}`;styleInject(css_248z);script.render=render;script.__scopeId="data-v-3d21bc0a";script.__file="packages/mouse-menu/mouse-menu.vue";script.install=e=>{e.component(script.name,script)};function CustomMouseMenu(e){var t;const r="__mouse__menu__container";let i;document.querySelector(`.${r}`)?i=document.querySelector(`.${r}`):i=createClassDom("div",r);const l=h(script,e);return render$1(l,i),document.body.appendChild(i),(t=l.component)===null||t===void 0?void 0:t.proxy}let MouseMenuCtx,longPressTimer,longPressTouchStart,longPressTouchEnd;function addLongPressListener(e,t,r=500){longPressTouchStart=i=>{MouseMenuCtx&&MouseMenuCtx.close(),i.preventDefault(),longPressTimer&&clearTimeout(longPressTimer),longPressTimer=window.setTimeout(()=>{t(i)},r)},longPressTouchEnd=()=>{clearTimeout(longPressTimer)},e.addEventListener("touchstart",longPressTouchStart),e.addEventListener("touchmove",longPressTouchEnd),e.addEventListener("touchend",longPressTouchEnd),e.addEventListener("touchcancel",longPressTouchEnd)}function removeLongPressListener(e){e.removeEventListener("touchstart",longPressTouchStart),e.removeEventListener("touchmove",longPressTouchEnd),e.removeEventListener("touchend",longPressTouchEnd),e.removeEventListener("touchcancel",longPressTouchEnd)}let contextMenuEvent,longPressEvent;const mounted$3=(e,t)=>{const{value:r}=t;if(r.menuList.length>0)contextMenuEvent=i=>{if(typeof r.disabled=="function"&&r.disabled(r.params))return;i.preventDefault(),MouseMenuCtx=CustomMouseMenu(Object.assign({el:e},r));const{x:l,y:a}=i;MouseMenuCtx.show(l,a)},e.removeEventListener("contextmenu",contextMenuEvent),e.addEventListener("contextmenu",contextMenuEvent),r.useLongPressInMobile&&"ontouchstart"in window&&(longPressEvent=i=>{if(typeof r.disabled=="function"&&r.disabled(r.params))return;i.preventDefault(),MouseMenuCtx=CustomMouseMenu(Object.assign({el:e},r));const{touches:l}=i,{clientX:a,clientY:c}=l[0];MouseMenuCtx.show(a,c),document.onmousedown=null,e.onmousedown=null,setTimeout(()=>{document.onmousedown=()=>MouseMenuCtx.close(),e.onmousedown=()=>MouseMenuCtx.close()},500)},removeLongPressListener(e),addLongPressListener(e,longPressEvent,r.longPressDuration||500));else throw new Error("At least set one menu list!")},unmounted$2=e=>{e.removeEventListener("contextmenu",contextMenuEvent),"touchstart"in window&&removeLongPressListener(e)},MouseMenuDirective={mounted:mounted$3,unmounted:unmounted$2};function getComputedStyleList(e,t,r=!1){const i={},l=window.getComputedStyle(e);return t.map(a=>{let c=l[a];if(r){const d=c.match(/\d+/);d&&(c=~~d[0])}i[a]=c}),i}class ToDrag{constructor({el:t,options:r}){this.left=0,this.top=0,this.right=0,this.bottom=0,this.width=0,this.height=0,this.maxX=0,this.maxY=0,this.startX=0,this.startY=0,this.getScrollbarWidth=()=>{const i=document.createElement("div");i.style.cssText="width:100px;height:100px;overflow-y:scroll",document.body.appendChild(i);const l=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),l},this.setBetween=(i,l,a)=>i<l?l:i>a?a:i,this.borderInfo=[0,0,0,0],this.el=t instanceof HTMLElement?t:document.querySelector(t),this.scrollbarWidth=this.getScrollbarWidth(),this.isTouch="ontouchstart"in document.documentElement,this.isDrag=!1,this.options=Object.assign({moveCursor:!0,adsorb:0,adsorbOffset:0,transitionDuration:400,transitionTimingFunction:"ease-in-out",forbidBodyScroll:!0,isAbsolute:!1,positionMode:1,needComputeBorder:!0},r),this.parent=this.options.parentSelector&&document.querySelector(this.options.parentSelector)||this.el.parentNode,this.options.transitionDuration&&(this.options.transitionDuration=this.options.transitionDuration/1e3),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.moveEvent=this.moveEvent.bind(this),this.endEvent=this.endEvent.bind(this),this.init()}init(){this.isTouch?this.el.addEventListener("touchstart",this.handleTouchStart):this.el.addEventListener("mousedown",this.handleMousedown),this.options.moveCursor&&(this.el.style.cursor="move"),this.setPosition(),this.setLimit(),this.handleAdsorb(),this.handlePositionMode(),setTimeout(()=>{this.emitEvent("todraginit")})}handleMousedown(t){if(typeof this.options.disabled=="function"&&this.options.disabled())return;const{x:r,y:i}=t;this.setStartInfo(r,i),document.addEventListener("mousemove",this.moveEvent),document.addEventListener("mouseup",this.endEvent)}handleTouchStart(t){if(typeof this.options.disabled=="function"&&this.options.disabled())return;const r=this.isTouch?t.changedTouches[0].clientX:t.x,i=this.isTouch?t.changedTouches[0].clientY:t.y;this.setStartInfo(r,i),document.addEventListener("touchmove",this.moveEvent,{passive:!1}),document.addEventListener("touchend",this.endEvent)}setPosition(){const{left:t,top:r,width:i,height:l}=this.el.getBoundingClientRect();this.left=t,this.top=r,this.width=i,this.height=l,this.options.isAbsolute?(this.maxX=this.parent.offsetWidth-this.width,this.maxY=this.parent.offsetHeight-this.height):(this.maxX=document.body.scrollWidth>window.innerWidth?window.innerWidth-this.width-this.scrollbarWidth:window.innerWidth-this.width,this.maxY=document.body.scrollHeight>window.innerHeight?window.innerHeight-this.height-this.scrollbarWidth:window.innerHeight-this.height)}setStartInfo(t,r){this.setPosition(),this.setLimit(),this.startX=t-this.left,this.startY=r-this.top,this.isDrag=!0,this.el.style.transition="",document.body.style.userSelect="none",this.options.forbidBodyScroll&&(document.body.style.overflow="hidden"),this.emitEvent("todragstart")}moveEvent(t){if(!this.isDrag)return;t.preventDefault();let r,i;const l=this.isTouch?t.changedTouches[0].clientX:t.x,a=this.isTouch?t.changedTouches[0].clientY:t.y;if(!this.options.isAbsolute)r=l-this.startX,i=a-this.startY;else{const c=this.parent.getClientRects()[0];r=l-c.x-this.startX-this.borderInfo[1],i=a-c.y-this.startY-this.borderInfo[2]}this.left=this.setBetween(r,0,this.maxX-this.borderInfo[1]-this.borderInfo[3]),this.top=this.setBetween(i,0,this.maxY-this.borderInfo[2]-this.borderInfo[0]),this.el.style.left=this.left+"px",this.el.style.top=this.top+"px",this.emitEvent("todragmove")}endEvent(){this.isDrag=!1,document.removeEventListener("mousemove",this.moveEvent),document.removeEventListener("mouseup",this.endEvent),document.removeEventListener("touchmove",this.moveEvent),document.removeEventListener("touchend",this.endEvent),document.body.style.userSelect="auto",this.options.forbidBodyScroll&&(document.body.style.overflow="visible"),this.handleAdsorb(),this.handlePositionMode(),this.emitEvent("todragend")}handleAdsorb(){if(this.options.isAbsolute)return;const t=[this.left+this.width/2,this.top+this.height/2],r=[window.innerWidth,window.innerHeight];if(this.el.style.transition=`left ${this.options.transitionDuration}s ${this.options.transitionTimingFunction}, 
                                top ${this.options.transitionDuration}s ${this.options.transitionTimingFunction}`,this.options.adsorb===1)t[0]<=window.innerWidth/2?this.left=this.options.adsorbOffset:this.left=this.maxX-this.options.adsorbOffset;else if(this.options.adsorb===2){const i=r[1]/r[0],l=r[1]/-r[0],a=t[1]/t[0],c=t[1]/(t[0]-r[0]);i>=a&&l<c?this.top=this.options.adsorbOffset:i>=a&&l>=c?this.left=this.maxX-this.options.adsorbOffset:i<a&&l>=c?this.top=this.maxY-this.options.adsorbOffset:this.left=this.options.adsorbOffset,this.options.adsorbOffset&&(this.top===0&&(this.top=this.options.adsorbOffset),this.top===this.maxY&&(this.top=this.maxY-this.options.adsorbOffset),this.left===0&&(this.left=this.options.adsorbOffset),this.left===this.maxX&&(this.left=this.maxX-this.options.adsorbOffset))}this.el.style.left=this.left+"px",this.el.style.top=this.top+"px"}handlePositionMode(){if(this.options.adsorb)return;const t=this.options.isAbsolute?this.el.offsetLeft:this.left,r=this.options.isAbsolute?this.el.offsetTop:this.top;this.right=this.maxX-t-this.borderInfo[1]-this.borderInfo[3],this.bottom=this.maxY-r-this.borderInfo[2]-this.borderInfo[0],this.options.positionMode===2?(this.el.style.left="auto",this.el.style.right=this.right+"px"):this.options.positionMode===3?(this.el.style.top="auto",this.el.style.bottom=this.bottom+"px"):this.options.positionMode===4&&(this.el.style.left="auto",this.el.style.top="auto",this.el.style.right=this.right+"px",this.el.style.bottom=this.bottom+"px")}emitEvent(t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!1,!1);const{left:i,top:l,right:a,bottom:c,width:d,height:D,maxX:v,maxY:C}=this;r.left=i,r.top=l,r.width=d,r.height=D,r.maxX=v,r.maxY=C,r.right=a,r.bottom=c,this.el.dispatchEvent(r)}destroy(){this.isTouch?this.el.removeEventListener("touchstart",this.handleTouchStart):this.el.removeEventListener("mousedown",this.handleMousedown)}setLimit(){if(!this.options.isAbsolute||!this.options.needComputeBorder)return;const t=["top","right","bottom","left"],r=getComputedStyleList(this.parent,[...t.map(i=>`border-${i}-width`)],!0);this.borderInfo=t.map(i=>r[`border-${i}-width`])}}class ToControl extends ToDrag{constructor({el:t,options:r}){super({el:t,options:Object.assign({adsorb:0,adsorbOffset:0,isAbsolute:!1,positionMode:1},r)}),this.arrowCtx=null,this.arrowStartX=0,this.arrowStartY=0,this.elWidth=0,this.elHeight=0,this.resizeFlag=!1,this.arrowMouseDownEvent=i=>{if(typeof this.controlOptions.disabled=="function"&&this.controlOptions.disabled())return;const l=this.isTouch?i.changedTouches[0].clientX:i.x,a=this.isTouch?i.changedTouches[0].clientY:i.y,{width:c,height:d,left:D,top:v}=this.el.getBoundingClientRect(),{width:C,height:f}=this.parent.getBoundingClientRect();this.arrowStartX=l,this.arrowStartY=a,this.elWidth=c,this.elHeight=d,this.resizeFlag=!0;let w,F;this.controlOptions.isAbsolute?(w=C-this.el.offsetLeft-this.borderInfo[1]-this.borderInfo[3],F=f-this.el.offsetTop-this.borderInfo[0]-this.borderInfo[2]):(w=window.innerWidth-D,F=window.innerHeight-v),setTimeout(()=>{this.isDrag=!1}),this.el.style.left=`${this.controlOptions.isAbsolute?this.el.offsetLeft:D}px`,this.el.style.top=`${this.controlOptions.isAbsolute?this.el.offsetTop:v}px`,this.el.style.right="auto",this.el.style.bottom="auto",this.emitControlEvent("tocontrolstart"),this.isTouch?(document.ontouchmove=T=>{if(!this.resizeFlag||!T.changedTouches)return;const{clientX:R,clientY:ee}=T.changedTouches[0];this.el.style.width=`${Math.min(this.elWidth+R-this.arrowStartX,w)}px`,this.el.style.height=`${Math.min(this.elHeight+ee-this.arrowStartY,F)}px`,this.emitControlEvent("tocontrolmove")},document.ontouchend=()=>{this.setPosition(),this.resizeFlag=!1,document.ontouchmove=null,document.ontouchend=null,this.emitControlEvent("tocontrolend")}):(document.onmousemove=T=>{if(!this.resizeFlag)return;const{x:R,y:ee}=T;this.el.style.width=`${Math.min(this.elWidth+R-this.arrowStartX,w)}px`,this.el.style.height=`${Math.min(this.elHeight+ee-this.arrowStartY,F)}px`,this.emitControlEvent("tocontrolmove")},document.onmouseup=()=>{this.setPosition(),this.resizeFlag=!1,document.onmousemove=null,document.onmouseup=null,this.emitControlEvent("tocontrolend")})},this.controlOptions=r||{},this.initControl()}initControl(){var t;this.arrowCtx=this.createResizeArrow((t=this.controlOptions)===null||t===void 0?void 0:t.arrowOptions),this.el.appendChild(this.arrowCtx)}updateArrow(){var t;this.arrowCtx&&this.el.contains(this.arrowCtx)&&this.el.removeChild(this.arrowCtx),this.arrowCtx=this.createResizeArrow((t=this.controlOptions)===null||t===void 0?void 0:t.arrowOptions),this.el.appendChild(this.arrowCtx)}createResizeArrow(t){const r=typeof this.controlOptions.disabled=="function"&&this.controlOptions.disabled(),i=Object.assign({size:8,lineWidth:2,lineColor:"#9a9a9a",padding:2},t),l=document.createElement("div");l.style.cssText=`
      position: absolute;
      right: 0; 
      bottom: 0;
      padding: ${i.padding}px;
      cursor: se-resize;
      background: ${i.background||"none"};
      display: ${r?"none":"block"}
    `,l.className="to-control-arrow";const a=document.createElement("div");return a.style.cssText=`
      width: ${i.size}px;
      height: ${i.size}px;
      border-bottom: ${i.lineWidth}px solid ${i.lineColor};
      border-right: ${i.lineWidth}px solid ${i.lineColor};
    `,a.className="to-control-arrow-inner",l.appendChild(a),this.isTouch?l.addEventListener("touchstart",this.arrowMouseDownEvent):l.addEventListener("mousedown",this.arrowMouseDownEvent),l}destroyControl(){var t,r;this.destroy(),this.isTouch?(t=this.arrowCtx)===null||t===void 0||t.removeEventListener("touchstart",this.arrowMouseDownEvent):(r=this.arrowCtx)===null||r===void 0||r.removeEventListener("mousedown",this.arrowMouseDownEvent)}emitControlEvent(t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!1,!1);const{left:i,top:l,right:a,bottom:c,width:d,height:D,maxX:v,maxY:C}=this;r.left=i,r.top=l,r.width=d,r.height=D,r.maxX=v,r.maxY=C,r.right=a,r.bottom=c,this.el.dispatchEvent(r)}}const mounted$2=(e,t,r)=>{const{value:i}=t,a=Object.assign(Object.assign({},r||{}),i);e.$toControl=new ToControl({el:e,options:a})},beforeUpdate=e=>{e.$toControl&&e.$toControl.updateArrow()},unmounted$1=e=>{e.$toControl&&e.$toControl.destroy()},ToControlDirective={mounted:(e,t)=>mounted$2(e,t),unmounted:unmounted$1,beforeUpdate,inserted:(e,t)=>mounted$2(e,t),unbind:unmounted$1,update:beforeUpdate,install:(e,t)=>{e.directive("to-control",{mounted:(r,i)=>mounted$2(r,i,t),unmounted:unmounted$1,beforeUpdate,inserted:(r,i)=>mounted$2(r,i,t),unbind:unmounted$1,update:beforeUpdate})}};class CustomResize{constructor({el:t,options:r}){t instanceof HTMLElement?this.el=t:this.el=document.querySelector(t),this.options=Object.assign({immediate:!1,direction:["right"],scrollElSelector:null,lineColor:"#aab",lineWidth:2,lineHoverColor:"#88f",lineHoverWidth:4,tipLineColor:"#262626",tipLineWidth:1,tipLineStyle:"dashed",zIndex:999,needParentNodeOffset:!0},r),this.directionArr=this.options.direction||["right"],this.el.$resize=this}init(){const{position:t}=getComputedStyle(this.el),{position:r}=getComputedStyle(this.el.parentNode);t==="static"&&(this.el.style.position="relative"),r==="static"&&console.warn("[@howdyjs/resize] Element parentNode position can not be static!"),this.directionArr.map(i=>{if(this.options.immediate){const l=this.createLineEl(i);this.el.appendChild(l)}else{const l=this.createDashedLineEl(i),a=this.createLineEl(i,l);this.el.appendChild(l),this.el.appendChild(a)}})}createDashedLineEl(t){const{tipLineColor:r,tipLineWidth:i,tipLineStyle:l,zIndex:a}=this.options,c=document.createElement("div"),d=`position:absolute;z-index: ${a};visibility: hidden;`,D=t==="left"||t==="right";return c.style.cssText=D?`${d};top:0;bottom: 0;${t}:0;border-${t}:${i}px ${l} ${r}`:`${d};left:0;right: 0;${t}:0;border-${t}:${i}px ${l} ${r}`,c.setAttribute("class","resize__dashed-line"),c}createLineEl(t,r){const{immediate:i,lineColor:l,lineWidth:a,lineHoverColor:c,lineHoverWidth:d,zIndex:D}=this.options,v=document.createElement("div"),C=`position: absolute;background: ${l};z-index: ${D}`,f=t==="left"||t==="right",w=t==="right"||t==="bottom";v.style.cssText=f?`${C};width: ${a}px;top:0;bottom: 0;${t}: -${a/2}px;cursor: col-resize;`:`${C};height: ${a}px;left:0;right: 0;${t}: -${a/2}px;cursor: row-resize;`,v.mouseoverEvent=function(){v.style.background=c,v.style[f?"width":"height"]=`${d}px`,v.style[t]=`-${d/2}px`},v.mouseoutEvent=function(){v.style.background=l,v.style[f?"width":"height"]=`${a}px`,v.style[t]=`-${a/2}px`};const F=this.el;return v.mousedownEvent=function(T){const ee=(F||T.target.parentNode).parentNode;let re;const ae=f?ee.offsetWidth:ee.offsetHeight;document.body.style.userSelect="none";let ce=!0;const ue=()=>{const de=f?F.offsetWidth:F.offsetHeight,A=f?F.offsetLeft:F.offsetTop,oe=w?A+de+re:A+re,le=w?de+re:de-re,ie=document.createEvent("HTMLEvents");ie.initEvent("resize",!1,!1),ie.direction=t,ie.moveOffset=oe,ie.moveOffsetPercent=oe/ae*100,ie[f?"resizeWidth":"resizeHeight"]=le,ie[f?"resizeWidthPercent":"resizeHeightPercent"]=le/ae*100,F.dispatchEvent(ie)};document.onmousemove=function(de){de.preventDefault();const{x:A,y:oe}=F.getBoundingClientRect(),le=f?F.offsetWidth:F.offsetHeight,ie=f?F.offsetLeft:F.offsetTop;re=w?f?de.clientX-A-le:de.clientY-oe-le:f?de.clientX-A:de.clientY-oe,ce=w?-re<=le&&ie+le+re<=ae:re<=le&&ie+re>=0,ce&&(i?ue():r&&(r.style.visibility="visible",r.style[t]=`${w?-re:re}px`))},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,document.body.style.userSelect="auto",i||(r&&(r.style.visibility="hidden"),ce&&(ue(),r&&(r.style[t]="0px")))}},v.setAttribute("class","resize__line"),v.addEventListener("mousemove",v.mouseoverEvent),v.addEventListener("mouseout",v.mouseoutEvent),v.addEventListener("mousedown",v.mousedownEvent),v}destroy(){Array.prototype.slice.call(this.el.querySelectorAll(".resize__line")).forEach(r=>{r.mouseoverEvent&&r.removeEventListener("mousemove",r.mouseoverEvent),r.mouseoutEvent&&r.removeEventListener("mouseout",r.mouseoutEvent),r.mousedownEvent&&r.removeEventListener("mousedown",r.mousedownEvent),r.parentNode&&r.parentNode.removeChild(r)}),this.el.querySelectorAll(".resize__dashed-line").forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)})}}const mounted$1=(e,t,r)=>{const{arg:i,value:l}=t,a=r||{};let c,d;i&&(i==="all"?c=["top","left","bottom","right"]:c=[i]),c?d=Object.assign(Object.assign(Object.assign({},a),l),{direction:c}):d=Object.assign(Object.assign({},a),l),new CustomResize({el:e,options:d}).init()},unmounted=e=>{e.$resize&&e.$resize.destroy()},ResizeDirective={mounted:(e,t)=>mounted$1(e,t),unmounted,inserted:(e,t)=>mounted$1(e,t),unbind:unmounted,install:(e,t)=>{e.directive("resize",{mounted:(r,i)=>mounted$1(r,i,t),unmounted,inserted:(r,i)=>mounted$1(r,i,t),unbind:unmounted})}},useResize=(e={})=>({resizeOptions:reactive({immediate:!1,lineWidth:3,lineColor:"",lineHoverWidth:6,lineHoverColor:"#70A8E0",tipLineColor:"#70A8E0",tipLineWidth:3,...e}),vResize:ResizeDirective,CustomResize}),mouseMenu={install(e){e.directive("right-click-menu",MouseMenuDirective),e.directive("to-control",ToControlDirective)}},useConsoleResize=()=>{const{vResize:e,resizeOptions:t}=useResize({direction:["top"]}),r=ref(68),{mainRect:i}=useLayout();return{vResize:e,resizeOptions:t,height:r,handleResize:a=>{a.resizeHeight&&(r.value+=a.resizeHeight-i.value.bottom)}}},useSysVarLongSketchSettings=()=>{const e=ref([]),t=ref(sysVarLongSketchSettingsKeys.map((r,i)=>{const l=SysVarLongSketchSettings[r],a=SysVarLongSketchSettings.GRIDMODE===l||SysVarLongSketchSettings.AUTOSNAP===l||SysVarLongSketchSettings.OSMODE===l;return{name:l,isMenu:a,menuOptions:a?useRightClickMenuOptions({hasIcon:!0,menuList:[{label:"\u8BBE\u7F6E",fn:()=>{switch(l){case SysVarLongSketchSettings.GRIDMODE:callCommand("showDraftingSettingsDialog",{tab:2});return;case SysVarLongSketchSettings.AUTOSNAP:callCommand("showDraftingSettingsDialog",{tab:1});return;case SysVarLongSketchSettings.OSMODE:callCommand("showDraftingSettingsDialog",{tab:3});return}}},{label:"\u5F00",fn:()=>{e.value=[...e.value,i]},icon:()=>{const c=e.value.includes(i);return console.log(c),c?"iconfont  gou":""}},{label:"\u5173",fn:()=>{e.value=e.value.filter(c=>c!==i)},icon:()=>e.value.includes(i)?"":"iconfont gou"}]}):null}}));return watch(e,(r,i)=>{sysVarLongSketchSettingsKeys.forEach((l,a)=>{let c=i.includes(a),d=r.includes(a);c&&!d&&(setSysVarLongSketchSettings(l,Status.Off),console.log(l,"off")),!c&&d&&(setSysVarLongSketchSettings(l,Status.On),console.log(l,"on"))})}),watch(sysVarLongSketchSettings,r=>{const i=[];sysVarLongSketchSettingsKeys.forEach((l,a)=>{r[l]===Status.On&&i.push(a)}),e.value=i}),{items:t,actives:e}};var jquery$2={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return r(i)}})(typeof window<"u"?window:commonjsGlobal,function(t,r){var i=[],l=Object.getPrototypeOf,a=i.slice,c=i.flat?function(te){return i.flat.call(te)}:function(te){return i.concat.apply([],te)},d=i.push,D=i.indexOf,v={},C=v.toString,f=v.hasOwnProperty,w=f.toString,F=w.call(Object),T={},R=function(fe){return typeof fe=="function"&&typeof fe.nodeType!="number"&&typeof fe.item!="function"},ee=function(fe){return fe!=null&&fe===fe.window},re=t.document,ae={type:!0,src:!0,nonce:!0,noModule:!0};function ce(te,fe,xe){xe=xe||re;var Me,ze,He=xe.createElement("script");if(He.text=te,fe)for(Me in ae)ze=fe[Me]||fe.getAttribute&&fe.getAttribute(Me),ze&&He.setAttribute(Me,ze);xe.head.appendChild(He).parentNode.removeChild(He)}function ue(te){return te==null?te+"":typeof te=="object"||typeof te=="function"?v[C.call(te)]||"object":typeof te}var de="3.6.3",A=function(te,fe){return new A.fn.init(te,fe)};A.fn=A.prototype={jquery:de,constructor:A,length:0,toArray:function(){return a.call(this)},get:function(te){return te==null?a.call(this):te<0?this[te+this.length]:this[te]},pushStack:function(te){var fe=A.merge(this.constructor(),te);return fe.prevObject=this,fe},each:function(te){return A.each(this,te)},map:function(te){return this.pushStack(A.map(this,function(fe,xe){return te.call(fe,xe,fe)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(te,fe){return(fe+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(te,fe){return fe%2}))},eq:function(te){var fe=this.length,xe=+te+(te<0?fe:0);return this.pushStack(xe>=0&&xe<fe?[this[xe]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:i.sort,splice:i.splice},A.extend=A.fn.extend=function(){var te,fe,xe,Me,ze,He,Qe=arguments[0]||{},Mt=1,wt=arguments.length,Ut=!1;for(typeof Qe=="boolean"&&(Ut=Qe,Qe=arguments[Mt]||{},Mt++),typeof Qe!="object"&&!R(Qe)&&(Qe={}),Mt===wt&&(Qe=this,Mt--);Mt<wt;Mt++)if((te=arguments[Mt])!=null)for(fe in te)Me=te[fe],!(fe==="__proto__"||Qe===Me)&&(Ut&&Me&&(A.isPlainObject(Me)||(ze=Array.isArray(Me)))?(xe=Qe[fe],ze&&!Array.isArray(xe)?He=[]:!ze&&!A.isPlainObject(xe)?He={}:He=xe,ze=!1,Qe[fe]=A.extend(Ut,He,Me)):Me!==void 0&&(Qe[fe]=Me));return Qe},A.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(te){throw new Error(te)},noop:function(){},isPlainObject:function(te){var fe,xe;return!te||C.call(te)!=="[object Object]"?!1:(fe=l(te),fe?(xe=f.call(fe,"constructor")&&fe.constructor,typeof xe=="function"&&w.call(xe)===F):!0)},isEmptyObject:function(te){var fe;for(fe in te)return!1;return!0},globalEval:function(te,fe,xe){ce(te,{nonce:fe&&fe.nonce},xe)},each:function(te,fe){var xe,Me=0;if(oe(te))for(xe=te.length;Me<xe&&fe.call(te[Me],Me,te[Me])!==!1;Me++);else for(Me in te)if(fe.call(te[Me],Me,te[Me])===!1)break;return te},makeArray:function(te,fe){var xe=fe||[];return te!=null&&(oe(Object(te))?A.merge(xe,typeof te=="string"?[te]:te):d.call(xe,te)),xe},inArray:function(te,fe,xe){return fe==null?-1:D.call(fe,te,xe)},merge:function(te,fe){for(var xe=+fe.length,Me=0,ze=te.length;Me<xe;Me++)te[ze++]=fe[Me];return te.length=ze,te},grep:function(te,fe,xe){for(var Me,ze=[],He=0,Qe=te.length,Mt=!xe;He<Qe;He++)Me=!fe(te[He],He),Me!==Mt&&ze.push(te[He]);return ze},map:function(te,fe,xe){var Me,ze,He=0,Qe=[];if(oe(te))for(Me=te.length;He<Me;He++)ze=fe(te[He],He,xe),ze!=null&&Qe.push(ze);else for(He in te)ze=fe(te[He],He,xe),ze!=null&&Qe.push(ze);return c(Qe)},guid:1,support:T}),typeof Symbol=="function"&&(A.fn[Symbol.iterator]=i[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(te,fe){v["[object "+fe+"]"]=fe.toLowerCase()});function oe(te){var fe=!!te&&"length"in te&&te.length,xe=ue(te);return R(te)||ee(te)?!1:xe==="array"||fe===0||typeof fe=="number"&&fe>0&&fe-1 in te}var le=function(te){var fe,xe,Me,ze,He,Qe,Mt,wt,Ut,cn,Dn,Zt,dn,lr,Ir,tr,Fn,Ei,kr,Zr="sizzle"+1*new Date,Fr=te.document,so=0,Jr=0,Mi=Un(),Aa=Un(),Ia=Un(),no=Un(),Zo=function(nt,Bt){return nt===Bt&&(Dn=!0),0},Uo={}.hasOwnProperty,bo=[],Go=bo.pop,ji=bo.push,Ba=bo.push,Oc=bo.slice,Po=function(nt,Bt){for(var kt=0,mn=nt.length;kt<mn;kt++)if(nt[kt]===Bt)return kt;return-1},ka="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",si="[\\x20\\t\\r\\n\\f]",Ma="(?:\\\\[\\da-fA-F]{1,6}"+si+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ys="\\["+si+"*("+Ma+")(?:"+si+"*([*^$|!~]?=)"+si+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ma+"))|)"+si+"*\\]",Sl=":("+Ma+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ys+")*)|.*)\\)|)",Oo=new RegExp(si+"+","g"),js=new RegExp("^"+si+"+|((?:^|[^\\\\])(?:\\\\.)*)"+si+"+$","g"),Va=new RegExp("^"+si+"*,"+si+"*"),rc=new RegExp("^"+si+"*([>+~]|"+si+")"+si+"*"),yd=new RegExp(si+"|>"),Oh=new RegExp(Sl),Na=new RegExp("^"+Ma+"$"),Ko={ID:new RegExp("^#("+Ma+")"),CLASS:new RegExp("^\\.("+Ma+")"),TAG:new RegExp("^("+Ma+"|[*])"),ATTR:new RegExp("^"+ys),PSEUDO:new RegExp("^"+Sl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+si+"*(even|odd|(([+-]|)(\\d*)n|)"+si+"*(?:([+-]|)"+si+"*(\\d+)|))"+si+"*\\)|)","i"),bool:new RegExp("^(?:"+ka+")$","i"),needsContext:new RegExp("^"+si+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+si+"*((?:-\\d)?\\d*)"+si+"*\\)|)(?=[^-]|$)","i")},Cs=/HTML$/i,Cu=/^(?:input|select|textarea|button)$/i,Qo=/^h\d$/i,ts=/^[^{]+\{\s*\[native \w/,Tl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pl=/[+~]/,Fa=new RegExp("\\\\[\\da-fA-F]{1,6}"+si+"?|\\\\([^\\r\\n\\f])","g"),mo=function(nt,Bt){var kt="0x"+nt.slice(1)-65536;return Bt||(kt<0?String.fromCharCode(kt+65536):String.fromCharCode(kt>>10|55296,kt&1023|56320))},al=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,lo=function(nt,Bt){return Bt?nt==="\0"?"\uFFFD":nt.slice(0,-1)+"\\"+nt.charCodeAt(nt.length-1).toString(16)+" ":"\\"+nt},Eu=function(){Zt()},za=Sr(function(nt){return nt.disabled===!0&&nt.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ba.apply(bo=Oc.call(Fr.childNodes),Fr.childNodes),bo[Fr.childNodes.length].nodeType}catch{Ba={apply:bo.length?function(Bt,kt){ji.apply(Bt,Oc.call(kt))}:function(Bt,kt){for(var mn=Bt.length,Ht=0;Bt[mn++]=kt[Ht++];);Bt.length=mn-1}}}function ii(nt,Bt,kt,mn){var Ht,nn,bn,kn,Bn,xn,fr,dr=Bt&&Bt.ownerDocument,Hr=Bt?Bt.nodeType:9;if(kt=kt||[],typeof nt!="string"||!nt||Hr!==1&&Hr!==9&&Hr!==11)return kt;if(!mn&&(Zt(Bt),Bt=Bt||dn,Ir)){if(Hr!==11&&(Bn=Tl.exec(nt)))if(Ht=Bn[1]){if(Hr===9)if(bn=Bt.getElementById(Ht)){if(bn.id===Ht)return kt.push(bn),kt}else return kt;else if(dr&&(bn=dr.getElementById(Ht))&&kr(Bt,bn)&&bn.id===Ht)return kt.push(bn),kt}else{if(Bn[2])return Ba.apply(kt,Bt.getElementsByTagName(nt)),kt;if((Ht=Bn[3])&&xe.getElementsByClassName&&Bt.getElementsByClassName)return Ba.apply(kt,Bt.getElementsByClassName(Ht)),kt}if(xe.qsa&&!no[nt+" "]&&(!tr||!tr.test(nt))&&(Hr!==1||Bt.nodeName.toLowerCase()!=="object")){if(fr=nt,dr=Bt,Hr===1&&(yd.test(nt)||rc.test(nt))){for(dr=Pl.test(nt)&&$t(Bt.parentNode)||Bt,(dr!==Bt||!xe.scope)&&((kn=Bt.getAttribute("id"))?kn=kn.replace(al,lo):Bt.setAttribute("id",kn=Zr)),xn=Qe(nt),nn=xn.length;nn--;)xn[nn]=(kn?"#"+kn:":scope")+" "+qn(xn[nn]);fr=xn.join(",")}try{if(xe.cssSupportsSelector&&!CSS.supports("selector(:is("+fr+"))"))throw new Error;return Ba.apply(kt,dr.querySelectorAll(fr)),kt}catch{no(nt,!0)}finally{kn===Zr&&Bt.removeAttribute("id")}}}return wt(nt.replace(js,"$1"),Bt,kt,mn)}function Un(){var nt=[];function Bt(kt,mn){return nt.push(kt+" ")>Me.cacheLength&&delete Bt[nt.shift()],Bt[kt+" "]=mn}return Bt}function ea(nt){return nt[Zr]=!0,nt}function ta(nt){var Bt=dn.createElement("fieldset");try{return!!nt(Bt)}catch{return!1}finally{Bt.parentNode&&Bt.parentNode.removeChild(Bt),Bt=null}}function ic(nt,Bt){for(var kt=nt.split("|"),mn=kt.length;mn--;)Me.attrHandle[kt[mn]]=Bt}function sl(nt,Bt){var kt=Bt&&nt,mn=kt&&nt.nodeType===1&&Bt.nodeType===1&&nt.sourceIndex-Bt.sourceIndex;if(mn)return mn;if(kt){for(;kt=kt.nextSibling;)if(kt===Bt)return-1}return nt?1:-1}function Rh(nt){return function(Bt){var kt=Bt.nodeName.toLowerCase();return kt==="input"&&Bt.type===nt}}function Or(nt){return function(Bt){var kt=Bt.nodeName.toLowerCase();return(kt==="input"||kt==="button")&&Bt.type===nt}}function Ro(nt){return function(Bt){return"form"in Bt?Bt.parentNode&&Bt.disabled===!1?"label"in Bt?"label"in Bt.parentNode?Bt.parentNode.disabled===nt:Bt.disabled===nt:Bt.isDisabled===nt||Bt.isDisabled!==!nt&&za(Bt)===nt:Bt.disabled===nt:"label"in Bt?Bt.disabled===nt:!1}}function Tt(nt){return ea(function(Bt){return Bt=+Bt,ea(function(kt,mn){for(var Ht,nn=nt([],kt.length,Bt),bn=nn.length;bn--;)kt[Ht=nn[bn]]&&(kt[Ht]=!(mn[Ht]=kt[Ht]))})})}function $t(nt){return nt&&typeof nt.getElementsByTagName<"u"&&nt}xe=ii.support={},He=ii.isXML=function(nt){var Bt=nt&&nt.namespaceURI,kt=nt&&(nt.ownerDocument||nt).documentElement;return!Cs.test(Bt||kt&&kt.nodeName||"HTML")},Zt=ii.setDocument=function(nt){var Bt,kt,mn=nt?nt.ownerDocument||nt:Fr;return mn==dn||mn.nodeType!==9||!mn.documentElement||(dn=mn,lr=dn.documentElement,Ir=!He(dn),Fr!=dn&&(kt=dn.defaultView)&&kt.top!==kt&&(kt.addEventListener?kt.addEventListener("unload",Eu,!1):kt.attachEvent&&kt.attachEvent("onunload",Eu)),xe.scope=ta(function(Ht){return lr.appendChild(Ht).appendChild(dn.createElement("div")),typeof Ht.querySelectorAll<"u"&&!Ht.querySelectorAll(":scope fieldset div").length}),xe.cssSupportsSelector=ta(function(){return CSS.supports("selector(*)")&&dn.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),xe.attributes=ta(function(Ht){return Ht.className="i",!Ht.getAttribute("className")}),xe.getElementsByTagName=ta(function(Ht){return Ht.appendChild(dn.createComment("")),!Ht.getElementsByTagName("*").length}),xe.getElementsByClassName=ts.test(dn.getElementsByClassName),xe.getById=ta(function(Ht){return lr.appendChild(Ht).id=Zr,!dn.getElementsByName||!dn.getElementsByName(Zr).length}),xe.getById?(Me.filter.ID=function(Ht){var nn=Ht.replace(Fa,mo);return function(bn){return bn.getAttribute("id")===nn}},Me.find.ID=function(Ht,nn){if(typeof nn.getElementById<"u"&&Ir){var bn=nn.getElementById(Ht);return bn?[bn]:[]}}):(Me.filter.ID=function(Ht){var nn=Ht.replace(Fa,mo);return function(bn){var kn=typeof bn.getAttributeNode<"u"&&bn.getAttributeNode("id");return kn&&kn.value===nn}},Me.find.ID=function(Ht,nn){if(typeof nn.getElementById<"u"&&Ir){var bn,kn,Bn,xn=nn.getElementById(Ht);if(xn){if(bn=xn.getAttributeNode("id"),bn&&bn.value===Ht)return[xn];for(Bn=nn.getElementsByName(Ht),kn=0;xn=Bn[kn++];)if(bn=xn.getAttributeNode("id"),bn&&bn.value===Ht)return[xn]}return[]}}),Me.find.TAG=xe.getElementsByTagName?function(Ht,nn){if(typeof nn.getElementsByTagName<"u")return nn.getElementsByTagName(Ht);if(xe.qsa)return nn.querySelectorAll(Ht)}:function(Ht,nn){var bn,kn=[],Bn=0,xn=nn.getElementsByTagName(Ht);if(Ht==="*"){for(;bn=xn[Bn++];)bn.nodeType===1&&kn.push(bn);return kn}return xn},Me.find.CLASS=xe.getElementsByClassName&&function(Ht,nn){if(typeof nn.getElementsByClassName<"u"&&Ir)return nn.getElementsByClassName(Ht)},Fn=[],tr=[],(xe.qsa=ts.test(dn.querySelectorAll))&&(ta(function(Ht){var nn;lr.appendChild(Ht).innerHTML="<a id='"+Zr+"'></a><select id='"+Zr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ht.querySelectorAll("[msallowcapture^='']").length&&tr.push("[*^$]="+si+`*(?:''|"")`),Ht.querySelectorAll("[selected]").length||tr.push("\\["+si+"*(?:value|"+ka+")"),Ht.querySelectorAll("[id~="+Zr+"-]").length||tr.push("~="),nn=dn.createElement("input"),nn.setAttribute("name",""),Ht.appendChild(nn),Ht.querySelectorAll("[name='']").length||tr.push("\\["+si+"*name"+si+"*="+si+`*(?:''|"")`),Ht.querySelectorAll(":checked").length||tr.push(":checked"),Ht.querySelectorAll("a#"+Zr+"+*").length||tr.push(".#.+[+~]"),Ht.querySelectorAll("\\\f"),tr.push("[\\r\\n\\f]")}),ta(function(Ht){Ht.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var nn=dn.createElement("input");nn.setAttribute("type","hidden"),Ht.appendChild(nn).setAttribute("name","D"),Ht.querySelectorAll("[name=d]").length&&tr.push("name"+si+"*[*^$|!~]?="),Ht.querySelectorAll(":enabled").length!==2&&tr.push(":enabled",":disabled"),lr.appendChild(Ht).disabled=!0,Ht.querySelectorAll(":disabled").length!==2&&tr.push(":enabled",":disabled"),Ht.querySelectorAll("*,:x"),tr.push(",.*:")})),(xe.matchesSelector=ts.test(Ei=lr.matches||lr.webkitMatchesSelector||lr.mozMatchesSelector||lr.oMatchesSelector||lr.msMatchesSelector))&&ta(function(Ht){xe.disconnectedMatch=Ei.call(Ht,"*"),Ei.call(Ht,"[s!='']:x"),Fn.push("!=",Sl)}),xe.cssSupportsSelector||tr.push(":has"),tr=tr.length&&new RegExp(tr.join("|")),Fn=Fn.length&&new RegExp(Fn.join("|")),Bt=ts.test(lr.compareDocumentPosition),kr=Bt||ts.test(lr.contains)?function(Ht,nn){var bn=Ht.nodeType===9&&Ht.documentElement||Ht,kn=nn&&nn.parentNode;return Ht===kn||!!(kn&&kn.nodeType===1&&(bn.contains?bn.contains(kn):Ht.compareDocumentPosition&&Ht.compareDocumentPosition(kn)&16))}:function(Ht,nn){if(nn){for(;nn=nn.parentNode;)if(nn===Ht)return!0}return!1},Zo=Bt?function(Ht,nn){if(Ht===nn)return Dn=!0,0;var bn=!Ht.compareDocumentPosition-!nn.compareDocumentPosition;return bn||(bn=(Ht.ownerDocument||Ht)==(nn.ownerDocument||nn)?Ht.compareDocumentPosition(nn):1,bn&1||!xe.sortDetached&&nn.compareDocumentPosition(Ht)===bn?Ht==dn||Ht.ownerDocument==Fr&&kr(Fr,Ht)?-1:nn==dn||nn.ownerDocument==Fr&&kr(Fr,nn)?1:cn?Po(cn,Ht)-Po(cn,nn):0:bn&4?-1:1)}:function(Ht,nn){if(Ht===nn)return Dn=!0,0;var bn,kn=0,Bn=Ht.parentNode,xn=nn.parentNode,fr=[Ht],dr=[nn];if(!Bn||!xn)return Ht==dn?-1:nn==dn?1:Bn?-1:xn?1:cn?Po(cn,Ht)-Po(cn,nn):0;if(Bn===xn)return sl(Ht,nn);for(bn=Ht;bn=bn.parentNode;)fr.unshift(bn);for(bn=nn;bn=bn.parentNode;)dr.unshift(bn);for(;fr[kn]===dr[kn];)kn++;return kn?sl(fr[kn],dr[kn]):fr[kn]==Fr?-1:dr[kn]==Fr?1:0}),dn},ii.matches=function(nt,Bt){return ii(nt,null,null,Bt)},ii.matchesSelector=function(nt,Bt){if(Zt(nt),xe.matchesSelector&&Ir&&!no[Bt+" "]&&(!Fn||!Fn.test(Bt))&&(!tr||!tr.test(Bt)))try{var kt=Ei.call(nt,Bt);if(kt||xe.disconnectedMatch||nt.document&&nt.document.nodeType!==11)return kt}catch{no(Bt,!0)}return ii(Bt,dn,null,[nt]).length>0},ii.contains=function(nt,Bt){return(nt.ownerDocument||nt)!=dn&&Zt(nt),kr(nt,Bt)},ii.attr=function(nt,Bt){(nt.ownerDocument||nt)!=dn&&Zt(nt);var kt=Me.attrHandle[Bt.toLowerCase()],mn=kt&&Uo.call(Me.attrHandle,Bt.toLowerCase())?kt(nt,Bt,!Ir):void 0;return mn!==void 0?mn:xe.attributes||!Ir?nt.getAttribute(Bt):(mn=nt.getAttributeNode(Bt))&&mn.specified?mn.value:null},ii.escape=function(nt){return(nt+"").replace(al,lo)},ii.error=function(nt){throw new Error("Syntax error, unrecognized expression: "+nt)},ii.uniqueSort=function(nt){var Bt,kt=[],mn=0,Ht=0;if(Dn=!xe.detectDuplicates,cn=!xe.sortStable&&nt.slice(0),nt.sort(Zo),Dn){for(;Bt=nt[Ht++];)Bt===nt[Ht]&&(mn=kt.push(Ht));for(;mn--;)nt.splice(kt[mn],1)}return cn=null,nt},ze=ii.getText=function(nt){var Bt,kt="",mn=0,Ht=nt.nodeType;if(Ht){if(Ht===1||Ht===9||Ht===11){if(typeof nt.textContent=="string")return nt.textContent;for(nt=nt.firstChild;nt;nt=nt.nextSibling)kt+=ze(nt)}else if(Ht===3||Ht===4)return nt.nodeValue}else for(;Bt=nt[mn++];)kt+=ze(Bt);return kt},Me=ii.selectors={cacheLength:50,createPseudo:ea,match:Ko,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(nt){return nt[1]=nt[1].replace(Fa,mo),nt[3]=(nt[3]||nt[4]||nt[5]||"").replace(Fa,mo),nt[2]==="~="&&(nt[3]=" "+nt[3]+" "),nt.slice(0,4)},CHILD:function(nt){return nt[1]=nt[1].toLowerCase(),nt[1].slice(0,3)==="nth"?(nt[3]||ii.error(nt[0]),nt[4]=+(nt[4]?nt[5]+(nt[6]||1):2*(nt[3]==="even"||nt[3]==="odd")),nt[5]=+(nt[7]+nt[8]||nt[3]==="odd")):nt[3]&&ii.error(nt[0]),nt},PSEUDO:function(nt){var Bt,kt=!nt[6]&&nt[2];return Ko.CHILD.test(nt[0])?null:(nt[3]?nt[2]=nt[4]||nt[5]||"":kt&&Oh.test(kt)&&(Bt=Qe(kt,!0))&&(Bt=kt.indexOf(")",kt.length-Bt)-kt.length)&&(nt[0]=nt[0].slice(0,Bt),nt[2]=kt.slice(0,Bt)),nt.slice(0,3))}},filter:{TAG:function(nt){var Bt=nt.replace(Fa,mo).toLowerCase();return nt==="*"?function(){return!0}:function(kt){return kt.nodeName&&kt.nodeName.toLowerCase()===Bt}},CLASS:function(nt){var Bt=Mi[nt+" "];return Bt||(Bt=new RegExp("(^|"+si+")"+nt+"("+si+"|$)"))&&Mi(nt,function(kt){return Bt.test(typeof kt.className=="string"&&kt.className||typeof kt.getAttribute<"u"&&kt.getAttribute("class")||"")})},ATTR:function(nt,Bt,kt){return function(mn){var Ht=ii.attr(mn,nt);return Ht==null?Bt==="!=":Bt?(Ht+="",Bt==="="?Ht===kt:Bt==="!="?Ht!==kt:Bt==="^="?kt&&Ht.indexOf(kt)===0:Bt==="*="?kt&&Ht.indexOf(kt)>-1:Bt==="$="?kt&&Ht.slice(-kt.length)===kt:Bt==="~="?(" "+Ht.replace(Oo," ")+" ").indexOf(kt)>-1:Bt==="|="?Ht===kt||Ht.slice(0,kt.length+1)===kt+"-":!1):!0}},CHILD:function(nt,Bt,kt,mn,Ht){var nn=nt.slice(0,3)!=="nth",bn=nt.slice(-4)!=="last",kn=Bt==="of-type";return mn===1&&Ht===0?function(Bn){return!!Bn.parentNode}:function(Bn,xn,fr){var dr,Hr,qr,or,Si,Ki,Lo=nn!==bn?"nextSibling":"previousSibling",Fi=Bn.parentNode,ja=kn&&Bn.nodeName.toLowerCase(),Es=!fr&&!kn,ro=!1;if(Fi){if(nn){for(;Lo;){for(or=Bn;or=or[Lo];)if(kn?or.nodeName.toLowerCase()===ja:or.nodeType===1)return!1;Ki=Lo=nt==="only"&&!Ki&&"nextSibling"}return!0}if(Ki=[bn?Fi.firstChild:Fi.lastChild],bn&&Es){for(or=Fi,qr=or[Zr]||(or[Zr]={}),Hr=qr[or.uniqueID]||(qr[or.uniqueID]={}),dr=Hr[nt]||[],Si=dr[0]===so&&dr[1],ro=Si&&dr[2],or=Si&&Fi.childNodes[Si];or=++Si&&or&&or[Lo]||(ro=Si=0)||Ki.pop();)if(or.nodeType===1&&++ro&&or===Bn){Hr[nt]=[so,Si,ro];break}}else if(Es&&(or=Bn,qr=or[Zr]||(or[Zr]={}),Hr=qr[or.uniqueID]||(qr[or.uniqueID]={}),dr=Hr[nt]||[],Si=dr[0]===so&&dr[1],ro=Si),ro===!1)for(;(or=++Si&&or&&or[Lo]||(ro=Si=0)||Ki.pop())&&!((kn?or.nodeName.toLowerCase()===ja:or.nodeType===1)&&++ro&&(Es&&(qr=or[Zr]||(or[Zr]={}),Hr=qr[or.uniqueID]||(qr[or.uniqueID]={}),Hr[nt]=[so,ro]),or===Bn)););return ro-=Ht,ro===mn||ro%mn===0&&ro/mn>=0}}},PSEUDO:function(nt,Bt){var kt,mn=Me.pseudos[nt]||Me.setFilters[nt.toLowerCase()]||ii.error("unsupported pseudo: "+nt);return mn[Zr]?mn(Bt):mn.length>1?(kt=[nt,nt,"",Bt],Me.setFilters.hasOwnProperty(nt.toLowerCase())?ea(function(Ht,nn){for(var bn,kn=mn(Ht,Bt),Bn=kn.length;Bn--;)bn=Po(Ht,kn[Bn]),Ht[bn]=!(nn[bn]=kn[Bn])}):function(Ht){return mn(Ht,0,kt)}):mn}},pseudos:{not:ea(function(nt){var Bt=[],kt=[],mn=Mt(nt.replace(js,"$1"));return mn[Zr]?ea(function(Ht,nn,bn,kn){for(var Bn,xn=mn(Ht,null,kn,[]),fr=Ht.length;fr--;)(Bn=xn[fr])&&(Ht[fr]=!(nn[fr]=Bn))}):function(Ht,nn,bn){return Bt[0]=Ht,mn(Bt,null,bn,kt),Bt[0]=null,!kt.pop()}}),has:ea(function(nt){return function(Bt){return ii(nt,Bt).length>0}}),contains:ea(function(nt){return nt=nt.replace(Fa,mo),function(Bt){return(Bt.textContent||ze(Bt)).indexOf(nt)>-1}}),lang:ea(function(nt){return Na.test(nt||"")||ii.error("unsupported lang: "+nt),nt=nt.replace(Fa,mo).toLowerCase(),function(Bt){var kt;do if(kt=Ir?Bt.lang:Bt.getAttribute("xml:lang")||Bt.getAttribute("lang"))return kt=kt.toLowerCase(),kt===nt||kt.indexOf(nt+"-")===0;while((Bt=Bt.parentNode)&&Bt.nodeType===1);return!1}}),target:function(nt){var Bt=te.location&&te.location.hash;return Bt&&Bt.slice(1)===nt.id},root:function(nt){return nt===lr},focus:function(nt){return nt===dn.activeElement&&(!dn.hasFocus||dn.hasFocus())&&!!(nt.type||nt.href||~nt.tabIndex)},enabled:Ro(!1),disabled:Ro(!0),checked:function(nt){var Bt=nt.nodeName.toLowerCase();return Bt==="input"&&!!nt.checked||Bt==="option"&&!!nt.selected},selected:function(nt){return nt.parentNode&&nt.parentNode.selectedIndex,nt.selected===!0},empty:function(nt){for(nt=nt.firstChild;nt;nt=nt.nextSibling)if(nt.nodeType<6)return!1;return!0},parent:function(nt){return!Me.pseudos.empty(nt)},header:function(nt){return Qo.test(nt.nodeName)},input:function(nt){return Cu.test(nt.nodeName)},button:function(nt){var Bt=nt.nodeName.toLowerCase();return Bt==="input"&&nt.type==="button"||Bt==="button"},text:function(nt){var Bt;return nt.nodeName.toLowerCase()==="input"&&nt.type==="text"&&((Bt=nt.getAttribute("type"))==null||Bt.toLowerCase()==="text")},first:Tt(function(){return[0]}),last:Tt(function(nt,Bt){return[Bt-1]}),eq:Tt(function(nt,Bt,kt){return[kt<0?kt+Bt:kt]}),even:Tt(function(nt,Bt){for(var kt=0;kt<Bt;kt+=2)nt.push(kt);return nt}),odd:Tt(function(nt,Bt){for(var kt=1;kt<Bt;kt+=2)nt.push(kt);return nt}),lt:Tt(function(nt,Bt,kt){for(var mn=kt<0?kt+Bt:kt>Bt?Bt:kt;--mn>=0;)nt.push(mn);return nt}),gt:Tt(function(nt,Bt,kt){for(var mn=kt<0?kt+Bt:kt;++mn<Bt;)nt.push(mn);return nt})}},Me.pseudos.nth=Me.pseudos.eq;for(fe in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Me.pseudos[fe]=Rh(fe);for(fe in{submit:!0,reset:!0})Me.pseudos[fe]=Or(fe);function sn(){}sn.prototype=Me.filters=Me.pseudos,Me.setFilters=new sn,Qe=ii.tokenize=function(nt,Bt){var kt,mn,Ht,nn,bn,kn,Bn,xn=Aa[nt+" "];if(xn)return Bt?0:xn.slice(0);for(bn=nt,kn=[],Bn=Me.preFilter;bn;){(!kt||(mn=Va.exec(bn)))&&(mn&&(bn=bn.slice(mn[0].length)||bn),kn.push(Ht=[])),kt=!1,(mn=rc.exec(bn))&&(kt=mn.shift(),Ht.push({value:kt,type:mn[0].replace(js," ")}),bn=bn.slice(kt.length));for(nn in Me.filter)(mn=Ko[nn].exec(bn))&&(!Bn[nn]||(mn=Bn[nn](mn)))&&(kt=mn.shift(),Ht.push({value:kt,type:nn,matches:mn}),bn=bn.slice(kt.length));if(!kt)break}return Bt?bn.length:bn?ii.error(nt):Aa(nt,kn).slice(0)};function qn(nt){for(var Bt=0,kt=nt.length,mn="";Bt<kt;Bt++)mn+=nt[Bt].value;return mn}function Sr(nt,Bt,kt){var mn=Bt.dir,Ht=Bt.next,nn=Ht||mn,bn=kt&&nn==="parentNode",kn=Jr++;return Bt.first?function(Bn,xn,fr){for(;Bn=Bn[mn];)if(Bn.nodeType===1||bn)return nt(Bn,xn,fr);return!1}:function(Bn,xn,fr){var dr,Hr,qr,or=[so,kn];if(fr){for(;Bn=Bn[mn];)if((Bn.nodeType===1||bn)&&nt(Bn,xn,fr))return!0}else for(;Bn=Bn[mn];)if(Bn.nodeType===1||bn)if(qr=Bn[Zr]||(Bn[Zr]={}),Hr=qr[Bn.uniqueID]||(qr[Bn.uniqueID]={}),Ht&&Ht===Bn.nodeName.toLowerCase())Bn=Bn[mn]||Bn;else{if((dr=Hr[nn])&&dr[0]===so&&dr[1]===kn)return or[2]=dr[2];if(Hr[nn]=or,or[2]=nt(Bn,xn,fr))return!0}return!1}}function ti(nt){return nt.length>1?function(Bt,kt,mn){for(var Ht=nt.length;Ht--;)if(!nt[Ht](Bt,kt,mn))return!1;return!0}:nt[0]}function Ii(nt,Bt,kt){for(var mn=0,Ht=Bt.length;mn<Ht;mn++)ii(nt,Bt[mn],kt);return kt}function hi(nt,Bt,kt,mn,Ht){for(var nn,bn=[],kn=0,Bn=nt.length,xn=Bt!=null;kn<Bn;kn++)(nn=nt[kn])&&(!kt||kt(nn,mn,Ht))&&(bn.push(nn),xn&&Bt.push(kn));return bn}function ns(nt,Bt,kt,mn,Ht,nn){return mn&&!mn[Zr]&&(mn=ns(mn)),Ht&&!Ht[Zr]&&(Ht=ns(Ht,nn)),ea(function(bn,kn,Bn,xn){var fr,dr,Hr,qr=[],or=[],Si=kn.length,Ki=bn||Ii(Bt||"*",Bn.nodeType?[Bn]:Bn,[]),Lo=nt&&(bn||!Bt)?hi(Ki,qr,nt,Bn,xn):Ki,Fi=kt?Ht||(bn?nt:Si||mn)?[]:kn:Lo;if(kt&&kt(Lo,Fi,Bn,xn),mn)for(fr=hi(Fi,or),mn(fr,[],Bn,xn),dr=fr.length;dr--;)(Hr=fr[dr])&&(Fi[or[dr]]=!(Lo[or[dr]]=Hr));if(bn){if(Ht||nt){if(Ht){for(fr=[],dr=Fi.length;dr--;)(Hr=Fi[dr])&&fr.push(Lo[dr]=Hr);Ht(null,Fi=[],fr,xn)}for(dr=Fi.length;dr--;)(Hr=Fi[dr])&&(fr=Ht?Po(bn,Hr):qr[dr])>-1&&(bn[fr]=!(kn[fr]=Hr))}}else Fi=hi(Fi===kn?Fi.splice(Si,Fi.length):Fi),Ht?Ht(null,kn,Fi,xn):Ba.apply(kn,Fi)})}function Wn(nt){for(var Bt,kt,mn,Ht=nt.length,nn=Me.relative[nt[0].type],bn=nn||Me.relative[" "],kn=nn?1:0,Bn=Sr(function(dr){return dr===Bt},bn,!0),xn=Sr(function(dr){return Po(Bt,dr)>-1},bn,!0),fr=[function(dr,Hr,qr){var or=!nn&&(qr||Hr!==Ut)||((Bt=Hr).nodeType?Bn(dr,Hr,qr):xn(dr,Hr,qr));return Bt=null,or}];kn<Ht;kn++)if(kt=Me.relative[nt[kn].type])fr=[Sr(ti(fr),kt)];else{if(kt=Me.filter[nt[kn].type].apply(null,nt[kn].matches),kt[Zr]){for(mn=++kn;mn<Ht&&!Me.relative[nt[mn].type];mn++);return ns(kn>1&&ti(fr),kn>1&&qn(nt.slice(0,kn-1).concat({value:nt[kn-2].type===" "?"*":""})).replace(js,"$1"),kt,kn<mn&&Wn(nt.slice(kn,mn)),mn<Ht&&Wn(nt=nt.slice(mn)),mn<Ht&&qn(nt))}fr.push(kt)}return ti(fr)}function $o(nt,Bt){var kt=Bt.length>0,mn=nt.length>0,Ht=function(nn,bn,kn,Bn,xn){var fr,dr,Hr,qr=0,or="0",Si=nn&&[],Ki=[],Lo=Ut,Fi=nn||mn&&Me.find.TAG("*",xn),ja=so+=Lo==null?1:Math.random()||.1,Es=Fi.length;for(xn&&(Ut=bn==dn||bn||xn);or!==Es&&(fr=Fi[or])!=null;or++){if(mn&&fr){for(dr=0,!bn&&fr.ownerDocument!=dn&&(Zt(fr),kn=!Ir);Hr=nt[dr++];)if(Hr(fr,bn||dn,kn)){Bn.push(fr);break}xn&&(so=ja)}kt&&((fr=!Hr&&fr)&&qr--,nn&&Si.push(fr))}if(qr+=or,kt&&or!==qr){for(dr=0;Hr=Bt[dr++];)Hr(Si,Ki,bn,kn);if(nn){if(qr>0)for(;or--;)Si[or]||Ki[or]||(Ki[or]=Go.call(Bn));Ki=hi(Ki)}Ba.apply(Bn,Ki),xn&&!nn&&Ki.length>0&&qr+Bt.length>1&&ii.uniqueSort(Bn)}return xn&&(so=ja,Ut=Lo),Si};return kt?ea(Ht):Ht}return Mt=ii.compile=function(nt,Bt){var kt,mn=[],Ht=[],nn=Ia[nt+" "];if(!nn){for(Bt||(Bt=Qe(nt)),kt=Bt.length;kt--;)nn=Wn(Bt[kt]),nn[Zr]?mn.push(nn):Ht.push(nn);nn=Ia(nt,$o(Ht,mn)),nn.selector=nt}return nn},wt=ii.select=function(nt,Bt,kt,mn){var Ht,nn,bn,kn,Bn,xn=typeof nt=="function"&&nt,fr=!mn&&Qe(nt=xn.selector||nt);if(kt=kt||[],fr.length===1){if(nn=fr[0]=fr[0].slice(0),nn.length>2&&(bn=nn[0]).type==="ID"&&Bt.nodeType===9&&Ir&&Me.relative[nn[1].type]){if(Bt=(Me.find.ID(bn.matches[0].replace(Fa,mo),Bt)||[])[0],Bt)xn&&(Bt=Bt.parentNode);else return kt;nt=nt.slice(nn.shift().value.length)}for(Ht=Ko.needsContext.test(nt)?0:nn.length;Ht--&&(bn=nn[Ht],!Me.relative[kn=bn.type]);)if((Bn=Me.find[kn])&&(mn=Bn(bn.matches[0].replace(Fa,mo),Pl.test(nn[0].type)&&$t(Bt.parentNode)||Bt))){if(nn.splice(Ht,1),nt=mn.length&&qn(nn),!nt)return Ba.apply(kt,mn),kt;break}}return(xn||Mt(nt,fr))(mn,Bt,!Ir,kt,!Bt||Pl.test(nt)&&$t(Bt.parentNode)||Bt),kt},xe.sortStable=Zr.split("").sort(Zo).join("")===Zr,xe.detectDuplicates=!!Dn,Zt(),xe.sortDetached=ta(function(nt){return nt.compareDocumentPosition(dn.createElement("fieldset"))&1}),ta(function(nt){return nt.innerHTML="<a href='#'></a>",nt.firstChild.getAttribute("href")==="#"})||ic("type|href|height|width",function(nt,Bt,kt){if(!kt)return nt.getAttribute(Bt,Bt.toLowerCase()==="type"?1:2)}),(!xe.attributes||!ta(function(nt){return nt.innerHTML="<input/>",nt.firstChild.setAttribute("value",""),nt.firstChild.getAttribute("value")===""}))&&ic("value",function(nt,Bt,kt){if(!kt&&nt.nodeName.toLowerCase()==="input")return nt.defaultValue}),ta(function(nt){return nt.getAttribute("disabled")==null})||ic(ka,function(nt,Bt,kt){var mn;if(!kt)return nt[Bt]===!0?Bt.toLowerCase():(mn=nt.getAttributeNode(Bt))&&mn.specified?mn.value:null}),ii}(t);A.find=le,A.expr=le.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=le.uniqueSort,A.text=le.getText,A.isXMLDoc=le.isXML,A.contains=le.contains,A.escapeSelector=le.escape;var ie=function(te,fe,xe){for(var Me=[],ze=xe!==void 0;(te=te[fe])&&te.nodeType!==9;)if(te.nodeType===1){if(ze&&A(te).is(xe))break;Me.push(te)}return Me},I=function(te,fe){for(var xe=[];te;te=te.nextSibling)te.nodeType===1&&te!==fe&&xe.push(te);return xe},j=A.expr.match.needsContext;function pe(te,fe){return te.nodeName&&te.nodeName.toLowerCase()===fe.toLowerCase()}var be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function De(te,fe,xe){return R(fe)?A.grep(te,function(Me,ze){return!!fe.call(Me,ze,Me)!==xe}):fe.nodeType?A.grep(te,function(Me){return Me===fe!==xe}):typeof fe!="string"?A.grep(te,function(Me){return D.call(fe,Me)>-1!==xe}):A.filter(fe,te,xe)}A.filter=function(te,fe,xe){var Me=fe[0];return xe&&(te=":not("+te+")"),fe.length===1&&Me.nodeType===1?A.find.matchesSelector(Me,te)?[Me]:[]:A.find.matches(te,A.grep(fe,function(ze){return ze.nodeType===1}))},A.fn.extend({find:function(te){var fe,xe,Me=this.length,ze=this;if(typeof te!="string")return this.pushStack(A(te).filter(function(){for(fe=0;fe<Me;fe++)if(A.contains(ze[fe],this))return!0}));for(xe=this.pushStack([]),fe=0;fe<Me;fe++)A.find(te,ze[fe],xe);return Me>1?A.uniqueSort(xe):xe},filter:function(te){return this.pushStack(De(this,te||[],!1))},not:function(te){return this.pushStack(De(this,te||[],!0))},is:function(te){return!!De(this,typeof te=="string"&&j.test(te)?A(te):te||[],!1).length}});var Re,Ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Se=A.fn.init=function(te,fe,xe){var Me,ze;if(!te)return this;if(xe=xe||Re,typeof te=="string")if(te[0]==="<"&&te[te.length-1]===">"&&te.length>=3?Me=[null,te,null]:Me=Ee.exec(te),Me&&(Me[1]||!fe))if(Me[1]){if(fe=fe instanceof A?fe[0]:fe,A.merge(this,A.parseHTML(Me[1],fe&&fe.nodeType?fe.ownerDocument||fe:re,!0)),be.test(Me[1])&&A.isPlainObject(fe))for(Me in fe)R(this[Me])?this[Me](fe[Me]):this.attr(Me,fe[Me]);return this}else return ze=re.getElementById(Me[2]),ze&&(this[0]=ze,this.length=1),this;else return!fe||fe.jquery?(fe||xe).find(te):this.constructor(fe).find(te);else{if(te.nodeType)return this[0]=te,this.length=1,this;if(R(te))return xe.ready!==void 0?xe.ready(te):te(A)}return A.makeArray(te,this)};Se.prototype=A.fn,Re=A(re);var Le=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};A.fn.extend({has:function(te){var fe=A(te,this),xe=fe.length;return this.filter(function(){for(var Me=0;Me<xe;Me++)if(A.contains(this,fe[Me]))return!0})},closest:function(te,fe){var xe,Me=0,ze=this.length,He=[],Qe=typeof te!="string"&&A(te);if(!j.test(te)){for(;Me<ze;Me++)for(xe=this[Me];xe&&xe!==fe;xe=xe.parentNode)if(xe.nodeType<11&&(Qe?Qe.index(xe)>-1:xe.nodeType===1&&A.find.matchesSelector(xe,te))){He.push(xe);break}}return this.pushStack(He.length>1?A.uniqueSort(He):He)},index:function(te){return te?typeof te=="string"?D.call(A(te),this[0]):D.call(this,te.jquery?te[0]:te):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(te,fe){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(te,fe))))},addBack:function(te){return this.add(te==null?this.prevObject:this.prevObject.filter(te))}});function st(te,fe){for(;(te=te[fe])&&te.nodeType!==1;);return te}A.each({parent:function(te){var fe=te.parentNode;return fe&&fe.nodeType!==11?fe:null},parents:function(te){return ie(te,"parentNode")},parentsUntil:function(te,fe,xe){return ie(te,"parentNode",xe)},next:function(te){return st(te,"nextSibling")},prev:function(te){return st(te,"previousSibling")},nextAll:function(te){return ie(te,"nextSibling")},prevAll:function(te){return ie(te,"previousSibling")},nextUntil:function(te,fe,xe){return ie(te,"nextSibling",xe)},prevUntil:function(te,fe,xe){return ie(te,"previousSibling",xe)},siblings:function(te){return I((te.parentNode||{}).firstChild,te)},children:function(te){return I(te.firstChild)},contents:function(te){return te.contentDocument!=null&&l(te.contentDocument)?te.contentDocument:(pe(te,"template")&&(te=te.content||te),A.merge([],te.childNodes))}},function(te,fe){A.fn[te]=function(xe,Me){var ze=A.map(this,fe,xe);return te.slice(-5)!=="Until"&&(Me=xe),Me&&typeof Me=="string"&&(ze=A.filter(Me,ze)),this.length>1&&(Ie[te]||A.uniqueSort(ze),Le.test(te)&&ze.reverse()),this.pushStack(ze)}});var Ye=/[^\x20\t\r\n\f]+/g;function Ke(te){var fe={};return A.each(te.match(Ye)||[],function(xe,Me){fe[Me]=!0}),fe}A.Callbacks=function(te){te=typeof te=="string"?Ke(te):A.extend({},te);var fe,xe,Me,ze,He=[],Qe=[],Mt=-1,wt=function(){for(ze=ze||te.once,Me=fe=!0;Qe.length;Mt=-1)for(xe=Qe.shift();++Mt<He.length;)He[Mt].apply(xe[0],xe[1])===!1&&te.stopOnFalse&&(Mt=He.length,xe=!1);te.memory||(xe=!1),fe=!1,ze&&(xe?He=[]:He="")},Ut={add:function(){return He&&(xe&&!fe&&(Mt=He.length-1,Qe.push(xe)),function cn(Dn){A.each(Dn,function(Zt,dn){R(dn)?(!te.unique||!Ut.has(dn))&&He.push(dn):dn&&dn.length&&ue(dn)!=="string"&&cn(dn)})}(arguments),xe&&!fe&&wt()),this},remove:function(){return A.each(arguments,function(cn,Dn){for(var Zt;(Zt=A.inArray(Dn,He,Zt))>-1;)He.splice(Zt,1),Zt<=Mt&&Mt--}),this},has:function(cn){return cn?A.inArray(cn,He)>-1:He.length>0},empty:function(){return He&&(He=[]),this},disable:function(){return ze=Qe=[],He=xe="",this},disabled:function(){return!He},lock:function(){return ze=Qe=[],!xe&&!fe&&(He=xe=""),this},locked:function(){return!!ze},fireWith:function(cn,Dn){return ze||(Dn=Dn||[],Dn=[cn,Dn.slice?Dn.slice():Dn],Qe.push(Dn),fe||wt()),this},fire:function(){return Ut.fireWith(this,arguments),this},fired:function(){return!!Me}};return Ut};function St(te){return te}function ct(te){throw te}function Ct(te,fe,xe,Me){var ze;try{te&&R(ze=te.promise)?ze.call(te).done(fe).fail(xe):te&&R(ze=te.then)?ze.call(te,fe,xe):fe.apply(void 0,[te].slice(Me))}catch(He){xe.apply(void 0,[He])}}A.extend({Deferred:function(te){var fe=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],xe="pending",Me={state:function(){return xe},always:function(){return ze.done(arguments).fail(arguments),this},catch:function(He){return Me.then(null,He)},pipe:function(){var He=arguments;return A.Deferred(function(Qe){A.each(fe,function(Mt,wt){var Ut=R(He[wt[4]])&&He[wt[4]];ze[wt[1]](function(){var cn=Ut&&Ut.apply(this,arguments);cn&&R(cn.promise)?cn.promise().progress(Qe.notify).done(Qe.resolve).fail(Qe.reject):Qe[wt[0]+"With"](this,Ut?[cn]:arguments)})}),He=null}).promise()},then:function(He,Qe,Mt){var wt=0;function Ut(cn,Dn,Zt,dn){return function(){var lr=this,Ir=arguments,tr=function(){var Ei,kr;if(!(cn<wt)){if(Ei=Zt.apply(lr,Ir),Ei===Dn.promise())throw new TypeError("Thenable self-resolution");kr=Ei&&(typeof Ei=="object"||typeof Ei=="function")&&Ei.then,R(kr)?dn?kr.call(Ei,Ut(wt,Dn,St,dn),Ut(wt,Dn,ct,dn)):(wt++,kr.call(Ei,Ut(wt,Dn,St,dn),Ut(wt,Dn,ct,dn),Ut(wt,Dn,St,Dn.notifyWith))):(Zt!==St&&(lr=void 0,Ir=[Ei]),(dn||Dn.resolveWith)(lr,Ir))}},Fn=dn?tr:function(){try{tr()}catch(Ei){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(Ei,Fn.stackTrace),cn+1>=wt&&(Zt!==ct&&(lr=void 0,Ir=[Ei]),Dn.rejectWith(lr,Ir))}};cn?Fn():(A.Deferred.getStackHook&&(Fn.stackTrace=A.Deferred.getStackHook()),t.setTimeout(Fn))}}return A.Deferred(function(cn){fe[0][3].add(Ut(0,cn,R(Mt)?Mt:St,cn.notifyWith)),fe[1][3].add(Ut(0,cn,R(He)?He:St)),fe[2][3].add(Ut(0,cn,R(Qe)?Qe:ct))}).promise()},promise:function(He){return He!=null?A.extend(He,Me):Me}},ze={};return A.each(fe,function(He,Qe){var Mt=Qe[2],wt=Qe[5];Me[Qe[1]]=Mt.add,wt&&Mt.add(function(){xe=wt},fe[3-He][2].disable,fe[3-He][3].disable,fe[0][2].lock,fe[0][3].lock),Mt.add(Qe[3].fire),ze[Qe[0]]=function(){return ze[Qe[0]+"With"](this===ze?void 0:this,arguments),this},ze[Qe[0]+"With"]=Mt.fireWith}),Me.promise(ze),te&&te.call(ze,ze),ze},when:function(te){var fe=arguments.length,xe=fe,Me=Array(xe),ze=a.call(arguments),He=A.Deferred(),Qe=function(Mt){return function(wt){Me[Mt]=this,ze[Mt]=arguments.length>1?a.call(arguments):wt,--fe||He.resolveWith(Me,ze)}};if(fe<=1&&(Ct(te,He.done(Qe(xe)).resolve,He.reject,!fe),He.state()==="pending"||R(ze[xe]&&ze[xe].then)))return He.then();for(;xe--;)Ct(ze[xe],Qe(xe),He.reject);return He.promise()}});var Pt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(te,fe){t.console&&t.console.warn&&te&&Pt.test(te.name)&&t.console.warn("jQuery.Deferred exception: "+te.message,te.stack,fe)},A.readyException=function(te){t.setTimeout(function(){throw te})};var bt=A.Deferred();A.fn.ready=function(te){return bt.then(te).catch(function(fe){A.readyException(fe)}),this},A.extend({isReady:!1,readyWait:1,ready:function(te){(te===!0?--A.readyWait:A.isReady)||(A.isReady=!0,!(te!==!0&&--A.readyWait>0)&&bt.resolveWith(re,[A]))}}),A.ready.then=bt.then;function an(){re.removeEventListener("DOMContentLoaded",an),t.removeEventListener("load",an),A.ready()}re.readyState==="complete"||re.readyState!=="loading"&&!re.documentElement.doScroll?t.setTimeout(A.ready):(re.addEventListener("DOMContentLoaded",an),t.addEventListener("load",an));var Yt=function(te,fe,xe,Me,ze,He,Qe){var Mt=0,wt=te.length,Ut=xe==null;if(ue(xe)==="object"){ze=!0;for(Mt in xe)Yt(te,fe,Mt,xe[Mt],!0,He,Qe)}else if(Me!==void 0&&(ze=!0,R(Me)||(Qe=!0),Ut&&(Qe?(fe.call(te,Me),fe=null):(Ut=fe,fe=function(cn,Dn,Zt){return Ut.call(A(cn),Zt)})),fe))for(;Mt<wt;Mt++)fe(te[Mt],xe,Qe?Me:Me.call(te[Mt],Mt,fe(te[Mt],xe)));return ze?te:Ut?fe.call(te):wt?fe(te[0],xe):He},Ne=/^-ms-/,mt=/-([a-z])/g;function me(te,fe){return fe.toUpperCase()}function Ae(te){return te.replace(Ne,"ms-").replace(mt,me)}var Oe=function(te){return te.nodeType===1||te.nodeType===9||!+te.nodeType};function Pe(){this.expando=A.expando+Pe.uid++}Pe.uid=1,Pe.prototype={cache:function(te){var fe=te[this.expando];return fe||(fe={},Oe(te)&&(te.nodeType?te[this.expando]=fe:Object.defineProperty(te,this.expando,{value:fe,configurable:!0}))),fe},set:function(te,fe,xe){var Me,ze=this.cache(te);if(typeof fe=="string")ze[Ae(fe)]=xe;else for(Me in fe)ze[Ae(Me)]=fe[Me];return ze},get:function(te,fe){return fe===void 0?this.cache(te):te[this.expando]&&te[this.expando][Ae(fe)]},access:function(te,fe,xe){return fe===void 0||fe&&typeof fe=="string"&&xe===void 0?this.get(te,fe):(this.set(te,fe,xe),xe!==void 0?xe:fe)},remove:function(te,fe){var xe,Me=te[this.expando];if(Me!==void 0){if(fe!==void 0)for(Array.isArray(fe)?fe=fe.map(Ae):(fe=Ae(fe),fe=fe in Me?[fe]:fe.match(Ye)||[]),xe=fe.length;xe--;)delete Me[fe[xe]];(fe===void 0||A.isEmptyObject(Me))&&(te.nodeType?te[this.expando]=void 0:delete te[this.expando])}},hasData:function(te){var fe=te[this.expando];return fe!==void 0&&!A.isEmptyObject(fe)}};var $e=new Pe,tt=new Pe,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,dt=/[A-Z]/g;function ft(te){return te==="true"?!0:te==="false"?!1:te==="null"?null:te===+te+""?+te:qe.test(te)?JSON.parse(te):te}function Ft(te,fe,xe){var Me;if(xe===void 0&&te.nodeType===1)if(Me="data-"+fe.replace(dt,"-$&").toLowerCase(),xe=te.getAttribute(Me),typeof xe=="string"){try{xe=ft(xe)}catch{}tt.set(te,fe,xe)}else xe=void 0;return xe}A.extend({hasData:function(te){return tt.hasData(te)||$e.hasData(te)},data:function(te,fe,xe){return tt.access(te,fe,xe)},removeData:function(te,fe){tt.remove(te,fe)},_data:function(te,fe,xe){return $e.access(te,fe,xe)},_removeData:function(te,fe){$e.remove(te,fe)}}),A.fn.extend({data:function(te,fe){var xe,Me,ze,He=this[0],Qe=He&&He.attributes;if(te===void 0){if(this.length&&(ze=tt.get(He),He.nodeType===1&&!$e.get(He,"hasDataAttrs"))){for(xe=Qe.length;xe--;)Qe[xe]&&(Me=Qe[xe].name,Me.indexOf("data-")===0&&(Me=Ae(Me.slice(5)),Ft(He,Me,ze[Me])));$e.set(He,"hasDataAttrs",!0)}return ze}return typeof te=="object"?this.each(function(){tt.set(this,te)}):Yt(this,function(Mt){var wt;if(He&&Mt===void 0)return wt=tt.get(He,te),wt!==void 0||(wt=Ft(He,te),wt!==void 0)?wt:void 0;this.each(function(){tt.set(this,te,Mt)})},null,fe,arguments.length>1,null,!0)},removeData:function(te){return this.each(function(){tt.remove(this,te)})}}),A.extend({queue:function(te,fe,xe){var Me;if(te)return fe=(fe||"fx")+"queue",Me=$e.get(te,fe),xe&&(!Me||Array.isArray(xe)?Me=$e.access(te,fe,A.makeArray(xe)):Me.push(xe)),Me||[]},dequeue:function(te,fe){fe=fe||"fx";var xe=A.queue(te,fe),Me=xe.length,ze=xe.shift(),He=A._queueHooks(te,fe),Qe=function(){A.dequeue(te,fe)};ze==="inprogress"&&(ze=xe.shift(),Me--),ze&&(fe==="fx"&&xe.unshift("inprogress"),delete He.stop,ze.call(te,Qe,He)),!Me&&He&&He.empty.fire()},_queueHooks:function(te,fe){var xe=fe+"queueHooks";return $e.get(te,xe)||$e.access(te,xe,{empty:A.Callbacks("once memory").add(function(){$e.remove(te,[fe+"queue",xe])})})}}),A.fn.extend({queue:function(te,fe){var xe=2;return typeof te!="string"&&(fe=te,te="fx",xe--),arguments.length<xe?A.queue(this[0],te):fe===void 0?this:this.each(function(){var Me=A.queue(this,te,fe);A._queueHooks(this,te),te==="fx"&&Me[0]!=="inprogress"&&A.dequeue(this,te)})},dequeue:function(te){return this.each(function(){A.dequeue(this,te)})},clearQueue:function(te){return this.queue(te||"fx",[])},promise:function(te,fe){var xe,Me=1,ze=A.Deferred(),He=this,Qe=this.length,Mt=function(){--Me||ze.resolveWith(He,[He])};for(typeof te!="string"&&(fe=te,te=void 0),te=te||"fx";Qe--;)xe=$e.get(He[Qe],te+"queueHooks"),xe&&xe.empty&&(Me++,xe.empty.add(Mt));return Mt(),ze.promise(fe)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],ut=re.documentElement,Gt=function(te){return A.contains(te.ownerDocument,te)},hn={composed:!0};ut.getRootNode&&(Gt=function(te){return A.contains(te.ownerDocument,te)||te.getRootNode(hn)===te.ownerDocument});var vn=function(te,fe){return te=fe||te,te.style.display==="none"||te.style.display===""&&Gt(te)&&A.css(te,"display")==="none"};function Ot(te,fe,xe,Me){var ze,He,Qe=20,Mt=Me?function(){return Me.cur()}:function(){return A.css(te,fe,"")},wt=Mt(),Ut=xe&&xe[3]||(A.cssNumber[fe]?"":"px"),cn=te.nodeType&&(A.cssNumber[fe]||Ut!=="px"&&+wt)&&zt.exec(A.css(te,fe));if(cn&&cn[3]!==Ut){for(wt=wt/2,Ut=Ut||cn[3],cn=+wt||1;Qe--;)A.style(te,fe,cn+Ut),(1-He)*(1-(He=Mt()/wt||.5))<=0&&(Qe=0),cn=cn/He;cn=cn*2,A.style(te,fe,cn+Ut),xe=xe||[]}return xe&&(cn=+cn||+wt||0,ze=xe[1]?cn+(xe[1]+1)*xe[2]:+xe[2],Me&&(Me.unit=Ut,Me.start=cn,Me.end=ze)),ze}var rt={};function xt(te){var fe,xe=te.ownerDocument,Me=te.nodeName,ze=rt[Me];return ze||(fe=xe.body.appendChild(xe.createElement(Me)),ze=A.css(fe,"display"),fe.parentNode.removeChild(fe),ze==="none"&&(ze="block"),rt[Me]=ze,ze)}function Qt(te,fe){for(var xe,Me,ze=[],He=0,Qe=te.length;He<Qe;He++)Me=te[He],Me.style&&(xe=Me.style.display,fe?(xe==="none"&&(ze[He]=$e.get(Me,"display")||null,ze[He]||(Me.style.display="")),Me.style.display===""&&vn(Me)&&(ze[He]=xt(Me))):xe!=="none"&&(ze[He]="none",$e.set(Me,"display",xe)));for(He=0;He<Qe;He++)ze[He]!=null&&(te[He].style.display=ze[He]);return te}A.fn.extend({show:function(){return Qt(this,!0)},hide:function(){return Qt(this)},toggle:function(te){return typeof te=="boolean"?te?this.show():this.hide():this.each(function(){vn(this)?A(this).show():A(this).hide()})}});var gn=/^(?:checkbox|radio)$/i,Nn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ar=/^$|^module$|\/(?:java|ecma)script/i;(function(){var te=re.createDocumentFragment(),fe=te.appendChild(re.createElement("div")),xe=re.createElement("input");xe.setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),fe.appendChild(xe),T.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",T.option=!!fe.lastChild})();var jn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jn.tbody=jn.tfoot=jn.colgroup=jn.caption=jn.thead,jn.th=jn.td,T.option||(jn.optgroup=jn.option=[1,"<select multiple='multiple'>","</select>"]);function Hn(te,fe){var xe;return typeof te.getElementsByTagName<"u"?xe=te.getElementsByTagName(fe||"*"):typeof te.querySelectorAll<"u"?xe=te.querySelectorAll(fe||"*"):xe=[],fe===void 0||fe&&pe(te,fe)?A.merge([te],xe):xe}function ir(te,fe){for(var xe=0,Me=te.length;xe<Me;xe++)$e.set(te[xe],"globalEval",!fe||$e.get(fe[xe],"globalEval"))}var vi=/<|&#?\w+;/;function di(te,fe,xe,Me,ze){for(var He,Qe,Mt,wt,Ut,cn,Dn=fe.createDocumentFragment(),Zt=[],dn=0,lr=te.length;dn<lr;dn++)if(He=te[dn],He||He===0)if(ue(He)==="object")A.merge(Zt,He.nodeType?[He]:He);else if(!vi.test(He))Zt.push(fe.createTextNode(He));else{for(Qe=Qe||Dn.appendChild(fe.createElement("div")),Mt=(Nn.exec(He)||["",""])[1].toLowerCase(),wt=jn[Mt]||jn._default,Qe.innerHTML=wt[1]+A.htmlPrefilter(He)+wt[2],cn=wt[0];cn--;)Qe=Qe.lastChild;A.merge(Zt,Qe.childNodes),Qe=Dn.firstChild,Qe.textContent=""}for(Dn.textContent="",dn=0;He=Zt[dn++];){if(Me&&A.inArray(He,Me)>-1){ze&&ze.push(He);continue}if(Ut=Gt(He),Qe=Hn(Dn.appendChild(He),"script"),Ut&&ir(Qe),xe)for(cn=0;He=Qe[cn++];)Ar.test(He.type||"")&&xe.push(He)}return Dn}var jt=/^([^.]*)(?:\.(.+)|)/;function En(){return!0}function Xn(){return!1}function Mr(te,fe){return te===Wr()==(fe==="focus")}function Wr(){try{return re.activeElement}catch{}}function jr(te,fe,xe,Me,ze,He){var Qe,Mt;if(typeof fe=="object"){typeof xe!="string"&&(Me=Me||xe,xe=void 0);for(Mt in fe)jr(te,Mt,xe,Me,fe[Mt],He);return te}if(Me==null&&ze==null?(ze=xe,Me=xe=void 0):ze==null&&(typeof xe=="string"?(ze=Me,Me=void 0):(ze=Me,Me=xe,xe=void 0)),ze===!1)ze=Xn;else if(!ze)return te;return He===1&&(Qe=ze,ze=function(wt){return A().off(wt),Qe.apply(this,arguments)},ze.guid=Qe.guid||(Qe.guid=A.guid++)),te.each(function(){A.event.add(this,fe,ze,Me,xe)})}A.event={global:{},add:function(te,fe,xe,Me,ze){var He,Qe,Mt,wt,Ut,cn,Dn,Zt,dn,lr,Ir,tr=$e.get(te);if(!!Oe(te))for(xe.handler&&(He=xe,xe=He.handler,ze=He.selector),ze&&A.find.matchesSelector(ut,ze),xe.guid||(xe.guid=A.guid++),(wt=tr.events)||(wt=tr.events=Object.create(null)),(Qe=tr.handle)||(Qe=tr.handle=function(Fn){return typeof A<"u"&&A.event.triggered!==Fn.type?A.event.dispatch.apply(te,arguments):void 0}),fe=(fe||"").match(Ye)||[""],Ut=fe.length;Ut--;)Mt=jt.exec(fe[Ut])||[],dn=Ir=Mt[1],lr=(Mt[2]||"").split(".").sort(),dn&&(Dn=A.event.special[dn]||{},dn=(ze?Dn.delegateType:Dn.bindType)||dn,Dn=A.event.special[dn]||{},cn=A.extend({type:dn,origType:Ir,data:Me,handler:xe,guid:xe.guid,selector:ze,needsContext:ze&&A.expr.match.needsContext.test(ze),namespace:lr.join(".")},He),(Zt=wt[dn])||(Zt=wt[dn]=[],Zt.delegateCount=0,(!Dn.setup||Dn.setup.call(te,Me,lr,Qe)===!1)&&te.addEventListener&&te.addEventListener(dn,Qe)),Dn.add&&(Dn.add.call(te,cn),cn.handler.guid||(cn.handler.guid=xe.guid)),ze?Zt.splice(Zt.delegateCount++,0,cn):Zt.push(cn),A.event.global[dn]=!0)},remove:function(te,fe,xe,Me,ze){var He,Qe,Mt,wt,Ut,cn,Dn,Zt,dn,lr,Ir,tr=$e.hasData(te)&&$e.get(te);if(!(!tr||!(wt=tr.events))){for(fe=(fe||"").match(Ye)||[""],Ut=fe.length;Ut--;){if(Mt=jt.exec(fe[Ut])||[],dn=Ir=Mt[1],lr=(Mt[2]||"").split(".").sort(),!dn){for(dn in wt)A.event.remove(te,dn+fe[Ut],xe,Me,!0);continue}for(Dn=A.event.special[dn]||{},dn=(Me?Dn.delegateType:Dn.bindType)||dn,Zt=wt[dn]||[],Mt=Mt[2]&&new RegExp("(^|\\.)"+lr.join("\\.(?:.*\\.|)")+"(\\.|$)"),Qe=He=Zt.length;He--;)cn=Zt[He],(ze||Ir===cn.origType)&&(!xe||xe.guid===cn.guid)&&(!Mt||Mt.test(cn.namespace))&&(!Me||Me===cn.selector||Me==="**"&&cn.selector)&&(Zt.splice(He,1),cn.selector&&Zt.delegateCount--,Dn.remove&&Dn.remove.call(te,cn));Qe&&!Zt.length&&((!Dn.teardown||Dn.teardown.call(te,lr,tr.handle)===!1)&&A.removeEvent(te,dn,tr.handle),delete wt[dn])}A.isEmptyObject(wt)&&$e.remove(te,"handle events")}},dispatch:function(te){var fe,xe,Me,ze,He,Qe,Mt=new Array(arguments.length),wt=A.event.fix(te),Ut=($e.get(this,"events")||Object.create(null))[wt.type]||[],cn=A.event.special[wt.type]||{};for(Mt[0]=wt,fe=1;fe<arguments.length;fe++)Mt[fe]=arguments[fe];if(wt.delegateTarget=this,!(cn.preDispatch&&cn.preDispatch.call(this,wt)===!1)){for(Qe=A.event.handlers.call(this,wt,Ut),fe=0;(ze=Qe[fe++])&&!wt.isPropagationStopped();)for(wt.currentTarget=ze.elem,xe=0;(He=ze.handlers[xe++])&&!wt.isImmediatePropagationStopped();)(!wt.rnamespace||He.namespace===!1||wt.rnamespace.test(He.namespace))&&(wt.handleObj=He,wt.data=He.data,Me=((A.event.special[He.origType]||{}).handle||He.handler).apply(ze.elem,Mt),Me!==void 0&&(wt.result=Me)===!1&&(wt.preventDefault(),wt.stopPropagation()));return cn.postDispatch&&cn.postDispatch.call(this,wt),wt.result}},handlers:function(te,fe){var xe,Me,ze,He,Qe,Mt=[],wt=fe.delegateCount,Ut=te.target;if(wt&&Ut.nodeType&&!(te.type==="click"&&te.button>=1)){for(;Ut!==this;Ut=Ut.parentNode||this)if(Ut.nodeType===1&&!(te.type==="click"&&Ut.disabled===!0)){for(He=[],Qe={},xe=0;xe<wt;xe++)Me=fe[xe],ze=Me.selector+" ",Qe[ze]===void 0&&(Qe[ze]=Me.needsContext?A(ze,this).index(Ut)>-1:A.find(ze,this,null,[Ut]).length),Qe[ze]&&He.push(Me);He.length&&Mt.push({elem:Ut,handlers:He})}}return Ut=this,wt<fe.length&&Mt.push({elem:Ut,handlers:fe.slice(wt)}),Mt},addProp:function(te,fe){Object.defineProperty(A.Event.prototype,te,{enumerable:!0,configurable:!0,get:R(fe)?function(){if(this.originalEvent)return fe(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[te]},set:function(xe){Object.defineProperty(this,te,{enumerable:!0,configurable:!0,writable:!0,value:xe})}})},fix:function(te){return te[A.expando]?te:new A.Event(te)},special:{load:{noBubble:!0},click:{setup:function(te){var fe=this||te;return gn.test(fe.type)&&fe.click&&pe(fe,"input")&&yi(fe,"click",En),!1},trigger:function(te){var fe=this||te;return gn.test(fe.type)&&fe.click&&pe(fe,"input")&&yi(fe,"click"),!0},_default:function(te){var fe=te.target;return gn.test(fe.type)&&fe.click&&pe(fe,"input")&&$e.get(fe,"click")||pe(fe,"a")}},beforeunload:{postDispatch:function(te){te.result!==void 0&&te.originalEvent&&(te.originalEvent.returnValue=te.result)}}}};function yi(te,fe,xe){if(!xe){$e.get(te,fe)===void 0&&A.event.add(te,fe,En);return}$e.set(te,fe,!1),A.event.add(te,fe,{namespace:!1,handler:function(Me){var ze,He,Qe=$e.get(this,fe);if(Me.isTrigger&1&&this[fe]){if(Qe.length)(A.event.special[fe]||{}).delegateType&&Me.stopPropagation();else if(Qe=a.call(arguments),$e.set(this,fe,Qe),ze=xe(this,fe),this[fe](),He=$e.get(this,fe),Qe!==He||ze?$e.set(this,fe,!1):He={},Qe!==He)return Me.stopImmediatePropagation(),Me.preventDefault(),He&&He.value}else Qe.length&&($e.set(this,fe,{value:A.event.trigger(A.extend(Qe[0],A.Event.prototype),Qe.slice(1),this)}),Me.stopImmediatePropagation())}})}A.removeEvent=function(te,fe,xe){te.removeEventListener&&te.removeEventListener(fe,xe)},A.Event=function(te,fe){if(!(this instanceof A.Event))return new A.Event(te,fe);te&&te.type?(this.originalEvent=te,this.type=te.type,this.isDefaultPrevented=te.defaultPrevented||te.defaultPrevented===void 0&&te.returnValue===!1?En:Xn,this.target=te.target&&te.target.nodeType===3?te.target.parentNode:te.target,this.currentTarget=te.currentTarget,this.relatedTarget=te.relatedTarget):this.type=te,fe&&A.extend(this,fe),this.timeStamp=te&&te.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Xn,isPropagationStopped:Xn,isImmediatePropagationStopped:Xn,isSimulated:!1,preventDefault:function(){var te=this.originalEvent;this.isDefaultPrevented=En,te&&!this.isSimulated&&te.preventDefault()},stopPropagation:function(){var te=this.originalEvent;this.isPropagationStopped=En,te&&!this.isSimulated&&te.stopPropagation()},stopImmediatePropagation:function(){var te=this.originalEvent;this.isImmediatePropagationStopped=En,te&&!this.isSimulated&&te.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(te,fe){A.event.special[te]={setup:function(){return yi(this,te,Mr),!1},trigger:function(){return yi(this,te),!0},_default:function(xe){return $e.get(xe.target,te)},delegateType:fe}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(te,fe){A.event.special[te]={delegateType:fe,bindType:fe,handle:function(xe){var Me,ze=this,He=xe.relatedTarget,Qe=xe.handleObj;return(!He||He!==ze&&!A.contains(ze,He))&&(xe.type=Qe.origType,Me=Qe.handler.apply(this,arguments),xe.type=fe),Me}}}),A.fn.extend({on:function(te,fe,xe,Me){return jr(this,te,fe,xe,Me)},one:function(te,fe,xe,Me){return jr(this,te,fe,xe,Me,1)},off:function(te,fe,xe){var Me,ze;if(te&&te.preventDefault&&te.handleObj)return Me=te.handleObj,A(te.delegateTarget).off(Me.namespace?Me.origType+"."+Me.namespace:Me.origType,Me.selector,Me.handler),this;if(typeof te=="object"){for(ze in te)this.off(ze,fe,te[ze]);return this}return(fe===!1||typeof fe=="function")&&(xe=fe,fe=void 0),xe===!1&&(xe=Xn),this.each(function(){A.event.remove(this,te,xe,fe)})}});var Kr=/<script|<style|<link/i,Co=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ai(te,fe){return pe(te,"table")&&pe(fe.nodeType!==11?fe:fe.firstChild,"tr")&&A(te).children("tbody")[0]||te}function zo(te){return te.type=(te.getAttribute("type")!==null)+"/"+te.type,te}function mr(te){return(te.type||"").slice(0,5)==="true/"?te.type=te.type.slice(5):te.removeAttribute("type"),te}function zi(te,fe){var xe,Me,ze,He,Qe,Mt,wt;if(fe.nodeType===1){if($e.hasData(te)&&(He=$e.get(te),wt=He.events,wt)){$e.remove(fe,"handle events");for(ze in wt)for(xe=0,Me=wt[ze].length;xe<Me;xe++)A.event.add(fe,ze,wt[ze][xe])}tt.hasData(te)&&(Qe=tt.access(te),Mt=A.extend({},Qe),tt.set(fe,Mt))}}function Yo(te,fe){var xe=fe.nodeName.toLowerCase();xe==="input"&&gn.test(te.type)?fe.checked=te.checked:(xe==="input"||xe==="textarea")&&(fe.defaultValue=te.defaultValue)}function oa(te,fe,xe,Me){fe=c(fe);var ze,He,Qe,Mt,wt,Ut,cn=0,Dn=te.length,Zt=Dn-1,dn=fe[0],lr=R(dn);if(lr||Dn>1&&typeof dn=="string"&&!T.checkClone&&Co.test(dn))return te.each(function(Ir){var tr=te.eq(Ir);lr&&(fe[0]=dn.call(this,Ir,tr.html())),oa(tr,fe,xe,Me)});if(Dn&&(ze=di(fe,te[0].ownerDocument,!1,te,Me),He=ze.firstChild,ze.childNodes.length===1&&(ze=He),He||Me)){for(Qe=A.map(Hn(ze,"script"),zo),Mt=Qe.length;cn<Dn;cn++)wt=ze,cn!==Zt&&(wt=A.clone(wt,!0,!0),Mt&&A.merge(Qe,Hn(wt,"script"))),xe.call(te[cn],wt,cn);if(Mt)for(Ut=Qe[Qe.length-1].ownerDocument,A.map(Qe,mr),cn=0;cn<Mt;cn++)wt=Qe[cn],Ar.test(wt.type||"")&&!$e.access(wt,"globalEval")&&A.contains(Ut,wt)&&(wt.src&&(wt.type||"").toLowerCase()!=="module"?A._evalUrl&&!wt.noModule&&A._evalUrl(wt.src,{nonce:wt.nonce||wt.getAttribute("nonce")},Ut):ce(wt.textContent.replace(Ce,""),wt,Ut))}return te}function Rs(te,fe,xe){for(var Me,ze=fe?A.filter(fe,te):te,He=0;(Me=ze[He])!=null;He++)!xe&&Me.nodeType===1&&A.cleanData(Hn(Me)),Me.parentNode&&(xe&&Gt(Me)&&ir(Hn(Me,"script")),Me.parentNode.removeChild(Me));return te}A.extend({htmlPrefilter:function(te){return te},clone:function(te,fe,xe){var Me,ze,He,Qe,Mt=te.cloneNode(!0),wt=Gt(te);if(!T.noCloneChecked&&(te.nodeType===1||te.nodeType===11)&&!A.isXMLDoc(te))for(Qe=Hn(Mt),He=Hn(te),Me=0,ze=He.length;Me<ze;Me++)Yo(He[Me],Qe[Me]);if(fe)if(xe)for(He=He||Hn(te),Qe=Qe||Hn(Mt),Me=0,ze=He.length;Me<ze;Me++)zi(He[Me],Qe[Me]);else zi(te,Mt);return Qe=Hn(Mt,"script"),Qe.length>0&&ir(Qe,!wt&&Hn(te,"script")),Mt},cleanData:function(te){for(var fe,xe,Me,ze=A.event.special,He=0;(xe=te[He])!==void 0;He++)if(Oe(xe)){if(fe=xe[$e.expando]){if(fe.events)for(Me in fe.events)ze[Me]?A.event.remove(xe,Me):A.removeEvent(xe,Me,fe.handle);xe[$e.expando]=void 0}xe[tt.expando]&&(xe[tt.expando]=void 0)}}}),A.fn.extend({detach:function(te){return Rs(this,te,!0)},remove:function(te){return Rs(this,te)},text:function(te){return Yt(this,function(fe){return fe===void 0?A.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=fe)})},null,te,arguments.length)},append:function(){return oa(this,arguments,function(te){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var fe=ai(this,te);fe.appendChild(te)}})},prepend:function(){return oa(this,arguments,function(te){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var fe=ai(this,te);fe.insertBefore(te,fe.firstChild)}})},before:function(){return oa(this,arguments,function(te){this.parentNode&&this.parentNode.insertBefore(te,this)})},after:function(){return oa(this,arguments,function(te){this.parentNode&&this.parentNode.insertBefore(te,this.nextSibling)})},empty:function(){for(var te,fe=0;(te=this[fe])!=null;fe++)te.nodeType===1&&(A.cleanData(Hn(te,!1)),te.textContent="");return this},clone:function(te,fe){return te=te??!1,fe=fe??te,this.map(function(){return A.clone(this,te,fe)})},html:function(te){return Yt(this,function(fe){var xe=this[0]||{},Me=0,ze=this.length;if(fe===void 0&&xe.nodeType===1)return xe.innerHTML;if(typeof fe=="string"&&!Kr.test(fe)&&!jn[(Nn.exec(fe)||["",""])[1].toLowerCase()]){fe=A.htmlPrefilter(fe);try{for(;Me<ze;Me++)xe=this[Me]||{},xe.nodeType===1&&(A.cleanData(Hn(xe,!1)),xe.innerHTML=fe);xe=0}catch{}}xe&&this.empty().append(fe)},null,te,arguments.length)},replaceWith:function(){var te=[];return oa(this,arguments,function(fe){var xe=this.parentNode;A.inArray(this,te)<0&&(A.cleanData(Hn(this)),xe&&xe.replaceChild(fe,this))},te)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(te,fe){A.fn[te]=function(xe){for(var Me,ze=[],He=A(xe),Qe=He.length-1,Mt=0;Mt<=Qe;Mt++)Me=Mt===Qe?this:this.clone(!0),A(He[Mt])[fe](Me),d.apply(ze,Me.get());return this.pushStack(ze)}});var ps=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),ms=/^--/,Xa=function(te){var fe=te.ownerDocument.defaultView;return(!fe||!fe.opener)&&(fe=t),fe.getComputedStyle(te)},Fo=function(te,fe,xe){var Me,ze,He={};for(ze in fe)He[ze]=te.style[ze],te.style[ze]=fe[ze];Me=xe.call(te);for(ze in fe)te.style[ze]=He[ze];return Me},gs=new RegExp(pt.join("|"),"i"),ho="[\\x20\\t\\r\\n\\f]",Ya=new RegExp("^"+ho+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ho+"+$","g");(function(){function te(){if(!!Ut){wt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ut.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ut.appendChild(wt).appendChild(Ut);var cn=t.getComputedStyle(Ut);xe=cn.top!=="1%",Mt=fe(cn.marginLeft)===12,Ut.style.right="60%",He=fe(cn.right)===36,Me=fe(cn.width)===36,Ut.style.position="absolute",ze=fe(Ut.offsetWidth/3)===12,ut.removeChild(wt),Ut=null}}function fe(cn){return Math.round(parseFloat(cn))}var xe,Me,ze,He,Qe,Mt,wt=re.createElement("div"),Ut=re.createElement("div");!Ut.style||(Ut.style.backgroundClip="content-box",Ut.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=Ut.style.backgroundClip==="content-box",A.extend(T,{boxSizingReliable:function(){return te(),Me},pixelBoxStyles:function(){return te(),He},pixelPosition:function(){return te(),xe},reliableMarginLeft:function(){return te(),Mt},scrollboxSize:function(){return te(),ze},reliableTrDimensions:function(){var cn,Dn,Zt,dn;return Qe==null&&(cn=re.createElement("table"),Dn=re.createElement("tr"),Zt=re.createElement("div"),cn.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Dn.style.cssText="border:1px solid",Dn.style.height="1px",Zt.style.height="9px",Zt.style.display="block",ut.appendChild(cn).appendChild(Dn).appendChild(Zt),dn=t.getComputedStyle(Dn),Qe=parseInt(dn.height,10)+parseInt(dn.borderTopWidth,10)+parseInt(dn.borderBottomWidth,10)===Dn.offsetHeight,ut.removeChild(cn)),Qe}}))})();function jo(te,fe,xe){var Me,ze,He,Qe,Mt=ms.test(fe),wt=te.style;return xe=xe||Xa(te),xe&&(Qe=xe.getPropertyValue(fe)||xe[fe],Mt&&Qe&&(Qe=Qe.replace(Ya,"$1")||void 0),Qe===""&&!Gt(te)&&(Qe=A.style(te,fe)),!T.pixelBoxStyles()&&ps.test(Qe)&&gs.test(fe)&&(Me=wt.width,ze=wt.minWidth,He=wt.maxWidth,wt.minWidth=wt.maxWidth=wt.width=Qe,Qe=xe.width,wt.width=Me,wt.minWidth=ze,wt.maxWidth=He)),Qe!==void 0?Qe+"":Qe}function xa(te,fe){return{get:function(){if(te()){delete this.get;return}return(this.get=fe).apply(this,arguments)}}}var Za=["Webkit","Moz","ms"],fo=re.createElement("div").style,aa={};function sa(te){for(var fe=te[0].toUpperCase()+te.slice(1),xe=Za.length;xe--;)if(te=Za[xe]+fe,te in fo)return te}function Eo(te){var fe=A.cssProps[te]||aa[te];return fe||(te in fo?te:aa[te]=sa(te)||te)}var Ls=/^(none|table(?!-c[ea]).+)/,So={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"};function tl(te,fe,xe){var Me=zt.exec(fe);return Me?Math.max(0,Me[2]-(xe||0))+(Me[3]||"px"):fe}function Is(te,fe,xe,Me,ze,He){var Qe=fe==="width"?1:0,Mt=0,wt=0;if(xe===(Me?"border":"content"))return 0;for(;Qe<4;Qe+=2)xe==="margin"&&(wt+=A.css(te,xe+pt[Qe],!0,ze)),Me?(xe==="content"&&(wt-=A.css(te,"padding"+pt[Qe],!0,ze)),xe!=="margin"&&(wt-=A.css(te,"border"+pt[Qe]+"Width",!0,ze))):(wt+=A.css(te,"padding"+pt[Qe],!0,ze),xe!=="padding"?wt+=A.css(te,"border"+pt[Qe]+"Width",!0,ze):Mt+=A.css(te,"border"+pt[Qe]+"Width",!0,ze));return!Me&&He>=0&&(wt+=Math.max(0,Math.ceil(te["offset"+fe[0].toUpperCase()+fe.slice(1)]-He-wt-Mt-.5))||0),wt}function ks(te,fe,xe){var Me=Xa(te),ze=!T.boxSizingReliable()||xe,He=ze&&A.css(te,"boxSizing",!1,Me)==="border-box",Qe=He,Mt=jo(te,fe,Me),wt="offset"+fe[0].toUpperCase()+fe.slice(1);if(ps.test(Mt)){if(!xe)return Mt;Mt="auto"}return(!T.boxSizingReliable()&&He||!T.reliableTrDimensions()&&pe(te,"tr")||Mt==="auto"||!parseFloat(Mt)&&A.css(te,"display",!1,Me)==="inline")&&te.getClientRects().length&&(He=A.css(te,"boxSizing",!1,Me)==="border-box",Qe=wt in te,Qe&&(Mt=te[wt])),Mt=parseFloat(Mt)||0,Mt+Is(te,fe,xe||(He?"border":"content"),Qe,Me,Mt)+"px"}A.extend({cssHooks:{opacity:{get:function(te,fe){if(fe){var xe=jo(te,"opacity");return xe===""?"1":xe}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(te,fe,xe,Me){if(!(!te||te.nodeType===3||te.nodeType===8||!te.style)){var ze,He,Qe,Mt=Ae(fe),wt=ms.test(fe),Ut=te.style;if(wt||(fe=Eo(Mt)),Qe=A.cssHooks[fe]||A.cssHooks[Mt],xe!==void 0){if(He=typeof xe,He==="string"&&(ze=zt.exec(xe))&&ze[1]&&(xe=Ot(te,fe,ze),He="number"),xe==null||xe!==xe)return;He==="number"&&!wt&&(xe+=ze&&ze[3]||(A.cssNumber[Mt]?"":"px")),!T.clearCloneStyle&&xe===""&&fe.indexOf("background")===0&&(Ut[fe]="inherit"),(!Qe||!("set"in Qe)||(xe=Qe.set(te,xe,Me))!==void 0)&&(wt?Ut.setProperty(fe,xe):Ut[fe]=xe)}else return Qe&&"get"in Qe&&(ze=Qe.get(te,!1,Me))!==void 0?ze:Ut[fe]}},css:function(te,fe,xe,Me){var ze,He,Qe,Mt=Ae(fe),wt=ms.test(fe);return wt||(fe=Eo(Mt)),Qe=A.cssHooks[fe]||A.cssHooks[Mt],Qe&&"get"in Qe&&(ze=Qe.get(te,!0,xe)),ze===void 0&&(ze=jo(te,fe,Me)),ze==="normal"&&fe in Da&&(ze=Da[fe]),xe===""||xe?(He=parseFloat(ze),xe===!0||isFinite(He)?He||0:ze):ze}}),A.each(["height","width"],function(te,fe){A.cssHooks[fe]={get:function(xe,Me,ze){if(Me)return Ls.test(A.css(xe,"display"))&&(!xe.getClientRects().length||!xe.getBoundingClientRect().width)?Fo(xe,So,function(){return ks(xe,fe,ze)}):ks(xe,fe,ze)},set:function(xe,Me,ze){var He,Qe=Xa(xe),Mt=!T.scrollboxSize()&&Qe.position==="absolute",wt=Mt||ze,Ut=wt&&A.css(xe,"boxSizing",!1,Qe)==="border-box",cn=ze?Is(xe,fe,ze,Ut,Qe):0;return Ut&&Mt&&(cn-=Math.ceil(xe["offset"+fe[0].toUpperCase()+fe.slice(1)]-parseFloat(Qe[fe])-Is(xe,fe,"border",!1,Qe)-.5)),cn&&(He=zt.exec(Me))&&(He[3]||"px")!=="px"&&(xe.style[fe]=Me,Me=A.css(xe,fe)),tl(xe,Me,cn)}}}),A.cssHooks.marginLeft=xa(T.reliableMarginLeft,function(te,fe){if(fe)return(parseFloat(jo(te,"marginLeft"))||te.getBoundingClientRect().left-Fo(te,{marginLeft:0},function(){return te.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(te,fe){A.cssHooks[te+fe]={expand:function(xe){for(var Me=0,ze={},He=typeof xe=="string"?xe.split(" "):[xe];Me<4;Me++)ze[te+pt[Me]+fe]=He[Me]||He[Me-2]||He[0];return ze}},te!=="margin"&&(A.cssHooks[te+fe].set=tl)}),A.fn.extend({css:function(te,fe){return Yt(this,function(xe,Me,ze){var He,Qe,Mt={},wt=0;if(Array.isArray(Me)){for(He=Xa(xe),Qe=Me.length;wt<Qe;wt++)Mt[Me[wt]]=A.css(xe,Me[wt],!1,He);return Mt}return ze!==void 0?A.style(xe,Me,ze):A.css(xe,Me)},te,fe,arguments.length>1)}});function po(te,fe,xe,Me,ze){return new po.prototype.init(te,fe,xe,Me,ze)}A.Tween=po,po.prototype={constructor:po,init:function(te,fe,xe,Me,ze,He){this.elem=te,this.prop=xe,this.easing=ze||A.easing._default,this.options=fe,this.start=this.now=this.cur(),this.end=Me,this.unit=He||(A.cssNumber[xe]?"":"px")},cur:function(){var te=po.propHooks[this.prop];return te&&te.get?te.get(this):po.propHooks._default.get(this)},run:function(te){var fe,xe=po.propHooks[this.prop];return this.options.duration?this.pos=fe=A.easing[this.easing](te,this.options.duration*te,0,1,this.options.duration):this.pos=fe=te,this.now=(this.end-this.start)*fe+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),xe&&xe.set?xe.set(this):po.propHooks._default.set(this),this}},po.prototype.init.prototype=po.prototype,po.propHooks={_default:{get:function(te){var fe;return te.elem.nodeType!==1||te.elem[te.prop]!=null&&te.elem.style[te.prop]==null?te.elem[te.prop]:(fe=A.css(te.elem,te.prop,""),!fe||fe==="auto"?0:fe)},set:function(te){A.fx.step[te.prop]?A.fx.step[te.prop](te):te.elem.nodeType===1&&(A.cssHooks[te.prop]||te.elem.style[Eo(te.prop)]!=null)?A.style(te.elem,te.prop,te.now+te.unit):te.elem[te.prop]=te.now}}},po.propHooks.scrollTop=po.propHooks.scrollLeft={set:function(te){te.elem.nodeType&&te.elem.parentNode&&(te.elem[te.prop]=te.now)}},A.easing={linear:function(te){return te},swing:function(te){return .5-Math.cos(te*Math.PI)/2},_default:"swing"},A.fx=po.prototype.init,A.fx.step={};var ba,Ho,Be=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function Ve(){Ho&&(re.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Ve):t.setTimeout(Ve,A.fx.interval),A.fx.tick())}function at(){return t.setTimeout(function(){ba=void 0}),ba=Date.now()}function Rt(te,fe){var xe,Me=0,ze={height:te};for(fe=fe?1:0;Me<4;Me+=2-fe)xe=pt[Me],ze["margin"+xe]=ze["padding"+xe]=te;return fe&&(ze.opacity=ze.width=te),ze}function Xt(te,fe,xe){for(var Me,ze=(Jn.tweeners[fe]||[]).concat(Jn.tweeners["*"]),He=0,Qe=ze.length;He<Qe;He++)if(Me=ze[He].call(xe,fe,te))return Me}function Cn(te,fe,xe){var Me,ze,He,Qe,Mt,wt,Ut,cn,Dn="width"in fe||"height"in fe,Zt=this,dn={},lr=te.style,Ir=te.nodeType&&vn(te),tr=$e.get(te,"fxshow");xe.queue||(Qe=A._queueHooks(te,"fx"),Qe.unqueued==null&&(Qe.unqueued=0,Mt=Qe.empty.fire,Qe.empty.fire=function(){Qe.unqueued||Mt()}),Qe.unqueued++,Zt.always(function(){Zt.always(function(){Qe.unqueued--,A.queue(te,"fx").length||Qe.empty.fire()})}));for(Me in fe)if(ze=fe[Me],Be.test(ze)){if(delete fe[Me],He=He||ze==="toggle",ze===(Ir?"hide":"show"))if(ze==="show"&&tr&&tr[Me]!==void 0)Ir=!0;else continue;dn[Me]=tr&&tr[Me]||A.style(te,Me)}if(wt=!A.isEmptyObject(fe),!(!wt&&A.isEmptyObject(dn))){Dn&&te.nodeType===1&&(xe.overflow=[lr.overflow,lr.overflowX,lr.overflowY],Ut=tr&&tr.display,Ut==null&&(Ut=$e.get(te,"display")),cn=A.css(te,"display"),cn==="none"&&(Ut?cn=Ut:(Qt([te],!0),Ut=te.style.display||Ut,cn=A.css(te,"display"),Qt([te]))),(cn==="inline"||cn==="inline-block"&&Ut!=null)&&A.css(te,"float")==="none"&&(wt||(Zt.done(function(){lr.display=Ut}),Ut==null&&(cn=lr.display,Ut=cn==="none"?"":cn)),lr.display="inline-block")),xe.overflow&&(lr.overflow="hidden",Zt.always(function(){lr.overflow=xe.overflow[0],lr.overflowX=xe.overflow[1],lr.overflowY=xe.overflow[2]})),wt=!1;for(Me in dn)wt||(tr?"hidden"in tr&&(Ir=tr.hidden):tr=$e.access(te,"fxshow",{display:Ut}),He&&(tr.hidden=!Ir),Ir&&Qt([te],!0),Zt.done(function(){Ir||Qt([te]),$e.remove(te,"fxshow");for(Me in dn)A.style(te,Me,dn[Me])})),wt=Xt(Ir?tr[Me]:0,Me,Zt),Me in tr||(tr[Me]=wt.start,Ir&&(wt.end=wt.start,wt.start=0))}}function _n(te,fe){var xe,Me,ze,He,Qe;for(xe in te)if(Me=Ae(xe),ze=fe[Me],He=te[xe],Array.isArray(He)&&(ze=He[1],He=te[xe]=He[0]),xe!==Me&&(te[Me]=He,delete te[xe]),Qe=A.cssHooks[Me],Qe&&"expand"in Qe){He=Qe.expand(He),delete te[Me];for(xe in He)xe in te||(te[xe]=He[xe],fe[xe]=ze)}else fe[Me]=ze}function Jn(te,fe,xe){var Me,ze,He=0,Qe=Jn.prefilters.length,Mt=A.Deferred().always(function(){delete wt.elem}),wt=function(){if(ze)return!1;for(var Dn=ba||at(),Zt=Math.max(0,Ut.startTime+Ut.duration-Dn),dn=Zt/Ut.duration||0,lr=1-dn,Ir=0,tr=Ut.tweens.length;Ir<tr;Ir++)Ut.tweens[Ir].run(lr);return Mt.notifyWith(te,[Ut,lr,Zt]),lr<1&&tr?Zt:(tr||Mt.notifyWith(te,[Ut,1,0]),Mt.resolveWith(te,[Ut]),!1)},Ut=Mt.promise({elem:te,props:A.extend({},fe),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},xe),originalProperties:fe,originalOptions:xe,startTime:ba||at(),duration:xe.duration,tweens:[],createTween:function(Dn,Zt){var dn=A.Tween(te,Ut.opts,Dn,Zt,Ut.opts.specialEasing[Dn]||Ut.opts.easing);return Ut.tweens.push(dn),dn},stop:function(Dn){var Zt=0,dn=Dn?Ut.tweens.length:0;if(ze)return this;for(ze=!0;Zt<dn;Zt++)Ut.tweens[Zt].run(1);return Dn?(Mt.notifyWith(te,[Ut,1,0]),Mt.resolveWith(te,[Ut,Dn])):Mt.rejectWith(te,[Ut,Dn]),this}}),cn=Ut.props;for(_n(cn,Ut.opts.specialEasing);He<Qe;He++)if(Me=Jn.prefilters[He].call(Ut,te,cn,Ut.opts),Me)return R(Me.stop)&&(A._queueHooks(Ut.elem,Ut.opts.queue).stop=Me.stop.bind(Me)),Me;return A.map(cn,Xt,Ut),R(Ut.opts.start)&&Ut.opts.start.call(te,Ut),Ut.progress(Ut.opts.progress).done(Ut.opts.done,Ut.opts.complete).fail(Ut.opts.fail).always(Ut.opts.always),A.fx.timer(A.extend(wt,{elem:te,anim:Ut,queue:Ut.opts.queue})),Ut}A.Animation=A.extend(Jn,{tweeners:{"*":[function(te,fe){var xe=this.createTween(te,fe);return Ot(xe.elem,te,zt.exec(fe),xe),xe}]},tweener:function(te,fe){R(te)?(fe=te,te=["*"]):te=te.match(Ye);for(var xe,Me=0,ze=te.length;Me<ze;Me++)xe=te[Me],Jn.tweeners[xe]=Jn.tweeners[xe]||[],Jn.tweeners[xe].unshift(fe)},prefilters:[Cn],prefilter:function(te,fe){fe?Jn.prefilters.unshift(te):Jn.prefilters.push(te)}}),A.speed=function(te,fe,xe){var Me=te&&typeof te=="object"?A.extend({},te):{complete:xe||!xe&&fe||R(te)&&te,duration:te,easing:xe&&fe||fe&&!R(fe)&&fe};return A.fx.off?Me.duration=0:typeof Me.duration!="number"&&(Me.duration in A.fx.speeds?Me.duration=A.fx.speeds[Me.duration]:Me.duration=A.fx.speeds._default),(Me.queue==null||Me.queue===!0)&&(Me.queue="fx"),Me.old=Me.complete,Me.complete=function(){R(Me.old)&&Me.old.call(this),Me.queue&&A.dequeue(this,Me.queue)},Me},A.fn.extend({fadeTo:function(te,fe,xe,Me){return this.filter(vn).css("opacity",0).show().end().animate({opacity:fe},te,xe,Me)},animate:function(te,fe,xe,Me){var ze=A.isEmptyObject(te),He=A.speed(fe,xe,Me),Qe=function(){var Mt=Jn(this,A.extend({},te),He);(ze||$e.get(this,"finish"))&&Mt.stop(!0)};return Qe.finish=Qe,ze||He.queue===!1?this.each(Qe):this.queue(He.queue,Qe)},stop:function(te,fe,xe){var Me=function(ze){var He=ze.stop;delete ze.stop,He(xe)};return typeof te!="string"&&(xe=fe,fe=te,te=void 0),fe&&this.queue(te||"fx",[]),this.each(function(){var ze=!0,He=te!=null&&te+"queueHooks",Qe=A.timers,Mt=$e.get(this);if(He)Mt[He]&&Mt[He].stop&&Me(Mt[He]);else for(He in Mt)Mt[He]&&Mt[He].stop&&lt.test(He)&&Me(Mt[He]);for(He=Qe.length;He--;)Qe[He].elem===this&&(te==null||Qe[He].queue===te)&&(Qe[He].anim.stop(xe),ze=!1,Qe.splice(He,1));(ze||!xe)&&A.dequeue(this,te)})},finish:function(te){return te!==!1&&(te=te||"fx"),this.each(function(){var fe,xe=$e.get(this),Me=xe[te+"queue"],ze=xe[te+"queueHooks"],He=A.timers,Qe=Me?Me.length:0;for(xe.finish=!0,A.queue(this,te,[]),ze&&ze.stop&&ze.stop.call(this,!0),fe=He.length;fe--;)He[fe].elem===this&&He[fe].queue===te&&(He[fe].anim.stop(!0),He.splice(fe,1));for(fe=0;fe<Qe;fe++)Me[fe]&&Me[fe].finish&&Me[fe].finish.call(this);delete xe.finish})}}),A.each(["toggle","show","hide"],function(te,fe){var xe=A.fn[fe];A.fn[fe]=function(Me,ze,He){return Me==null||typeof Me=="boolean"?xe.apply(this,arguments):this.animate(Rt(fe,!0),Me,ze,He)}}),A.each({slideDown:Rt("show"),slideUp:Rt("hide"),slideToggle:Rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(te,fe){A.fn[te]=function(xe,Me,ze){return this.animate(fe,xe,Me,ze)}}),A.timers=[],A.fx.tick=function(){var te,fe=0,xe=A.timers;for(ba=Date.now();fe<xe.length;fe++)te=xe[fe],!te()&&xe[fe]===te&&xe.splice(fe--,1);xe.length||A.fx.stop(),ba=void 0},A.fx.timer=function(te){A.timers.push(te),A.fx.start()},A.fx.interval=13,A.fx.start=function(){Ho||(Ho=!0,Ve())},A.fx.stop=function(){Ho=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(te,fe){return te=A.fx&&A.fx.speeds[te]||te,fe=fe||"fx",this.queue(fe,function(xe,Me){var ze=t.setTimeout(xe,te);Me.stop=function(){t.clearTimeout(ze)}})},function(){var te=re.createElement("input"),fe=re.createElement("select"),xe=fe.appendChild(re.createElement("option"));te.type="checkbox",T.checkOn=te.value!=="",T.optSelected=xe.selected,te=re.createElement("input"),te.value="t",te.type="radio",T.radioValue=te.value==="t"}();var er,Cr=A.expr.attrHandle;A.fn.extend({attr:function(te,fe){return Yt(this,A.attr,te,fe,arguments.length>1)},removeAttr:function(te){return this.each(function(){A.removeAttr(this,te)})}}),A.extend({attr:function(te,fe,xe){var Me,ze,He=te.nodeType;if(!(He===3||He===8||He===2)){if(typeof te.getAttribute>"u")return A.prop(te,fe,xe);if((He!==1||!A.isXMLDoc(te))&&(ze=A.attrHooks[fe.toLowerCase()]||(A.expr.match.bool.test(fe)?er:void 0)),xe!==void 0){if(xe===null){A.removeAttr(te,fe);return}return ze&&"set"in ze&&(Me=ze.set(te,xe,fe))!==void 0?Me:(te.setAttribute(fe,xe+""),xe)}return ze&&"get"in ze&&(Me=ze.get(te,fe))!==null?Me:(Me=A.find.attr(te,fe),Me??void 0)}},attrHooks:{type:{set:function(te,fe){if(!T.radioValue&&fe==="radio"&&pe(te,"input")){var xe=te.value;return te.setAttribute("type",fe),xe&&(te.value=xe),fe}}}},removeAttr:function(te,fe){var xe,Me=0,ze=fe&&fe.match(Ye);if(ze&&te.nodeType===1)for(;xe=ze[Me++];)te.removeAttribute(xe)}}),er={set:function(te,fe,xe){return fe===!1?A.removeAttr(te,xe):te.setAttribute(xe,xe),xe}},A.each(A.expr.match.bool.source.match(/\w+/g),function(te,fe){var xe=Cr[fe]||A.find.attr;Cr[fe]=function(Me,ze,He){var Qe,Mt,wt=ze.toLowerCase();return He||(Mt=Cr[wt],Cr[wt]=Qe,Qe=xe(Me,ze,He)!=null?wt:null,Cr[wt]=Mt),Qe}});var la=/^(?:input|select|textarea|button)$/i,vs=/^(?:a|area)$/i;A.fn.extend({prop:function(te,fe){return Yt(this,A.prop,te,fe,arguments.length>1)},removeProp:function(te){return this.each(function(){delete this[A.propFix[te]||te]})}}),A.extend({prop:function(te,fe,xe){var Me,ze,He=te.nodeType;if(!(He===3||He===8||He===2))return(He!==1||!A.isXMLDoc(te))&&(fe=A.propFix[fe]||fe,ze=A.propHooks[fe]),xe!==void 0?ze&&"set"in ze&&(Me=ze.set(te,xe,fe))!==void 0?Me:te[fe]=xe:ze&&"get"in ze&&(Me=ze.get(te,fe))!==null?Me:te[fe]},propHooks:{tabIndex:{get:function(te){var fe=A.find.attr(te,"tabindex");return fe?parseInt(fe,10):la.test(te.nodeName)||vs.test(te.nodeName)&&te.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(A.propHooks.selected={get:function(te){var fe=te.parentNode;return fe&&fe.parentNode&&fe.parentNode.selectedIndex,null},set:function(te){var fe=te.parentNode;fe&&(fe.selectedIndex,fe.parentNode&&fe.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this});function Ra(te){var fe=te.match(Ye)||[];return fe.join(" ")}function Ka(te){return te.getAttribute&&te.getAttribute("class")||""}function nl(te){return Array.isArray(te)?te:typeof te=="string"?te.match(Ye)||[]:[]}A.fn.extend({addClass:function(te){var fe,xe,Me,ze,He,Qe;return R(te)?this.each(function(Mt){A(this).addClass(te.call(this,Mt,Ka(this)))}):(fe=nl(te),fe.length?this.each(function(){if(Me=Ka(this),xe=this.nodeType===1&&" "+Ra(Me)+" ",xe){for(He=0;He<fe.length;He++)ze=fe[He],xe.indexOf(" "+ze+" ")<0&&(xe+=ze+" ");Qe=Ra(xe),Me!==Qe&&this.setAttribute("class",Qe)}}):this)},removeClass:function(te){var fe,xe,Me,ze,He,Qe;return R(te)?this.each(function(Mt){A(this).removeClass(te.call(this,Mt,Ka(this)))}):arguments.length?(fe=nl(te),fe.length?this.each(function(){if(Me=Ka(this),xe=this.nodeType===1&&" "+Ra(Me)+" ",xe){for(He=0;He<fe.length;He++)for(ze=fe[He];xe.indexOf(" "+ze+" ")>-1;)xe=xe.replace(" "+ze+" "," ");Qe=Ra(xe),Me!==Qe&&this.setAttribute("class",Qe)}}):this):this.attr("class","")},toggleClass:function(te,fe){var xe,Me,ze,He,Qe=typeof te,Mt=Qe==="string"||Array.isArray(te);return R(te)?this.each(function(wt){A(this).toggleClass(te.call(this,wt,Ka(this),fe),fe)}):typeof fe=="boolean"&&Mt?fe?this.addClass(te):this.removeClass(te):(xe=nl(te),this.each(function(){if(Mt)for(He=A(this),ze=0;ze<xe.length;ze++)Me=xe[ze],He.hasClass(Me)?He.removeClass(Me):He.addClass(Me);else(te===void 0||Qe==="boolean")&&(Me=Ka(this),Me&&$e.set(this,"__className__",Me),this.setAttribute&&this.setAttribute("class",Me||te===!1?"":$e.get(this,"__className__")||""))}))},hasClass:function(te){var fe,xe,Me=0;for(fe=" "+te+" ";xe=this[Me++];)if(xe.nodeType===1&&(" "+Ra(Ka(xe))+" ").indexOf(fe)>-1)return!0;return!1}});var Kl=/\r/g;A.fn.extend({val:function(te){var fe,xe,Me,ze=this[0];return arguments.length?(Me=R(te),this.each(function(He){var Qe;this.nodeType===1&&(Me?Qe=te.call(this,He,A(this).val()):Qe=te,Qe==null?Qe="":typeof Qe=="number"?Qe+="":Array.isArray(Qe)&&(Qe=A.map(Qe,function(Mt){return Mt==null?"":Mt+""})),fe=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()],(!fe||!("set"in fe)||fe.set(this,Qe,"value")===void 0)&&(this.value=Qe))})):ze?(fe=A.valHooks[ze.type]||A.valHooks[ze.nodeName.toLowerCase()],fe&&"get"in fe&&(xe=fe.get(ze,"value"))!==void 0?xe:(xe=ze.value,typeof xe=="string"?xe.replace(Kl,""):xe??"")):void 0}}),A.extend({valHooks:{option:{get:function(te){var fe=A.find.attr(te,"value");return fe??Ra(A.text(te))}},select:{get:function(te){var fe,xe,Me,ze=te.options,He=te.selectedIndex,Qe=te.type==="select-one",Mt=Qe?null:[],wt=Qe?He+1:ze.length;for(He<0?Me=wt:Me=Qe?He:0;Me<wt;Me++)if(xe=ze[Me],(xe.selected||Me===He)&&!xe.disabled&&(!xe.parentNode.disabled||!pe(xe.parentNode,"optgroup"))){if(fe=A(xe).val(),Qe)return fe;Mt.push(fe)}return Mt},set:function(te,fe){for(var xe,Me,ze=te.options,He=A.makeArray(fe),Qe=ze.length;Qe--;)Me=ze[Qe],(Me.selected=A.inArray(A.valHooks.option.get(Me),He)>-1)&&(xe=!0);return xe||(te.selectedIndex=-1),He}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(te,fe){if(Array.isArray(fe))return te.checked=A.inArray(A(te).val(),fe)>-1}},T.checkOn||(A.valHooks[this].get=function(te){return te.getAttribute("value")===null?"on":te.value})}),T.focusin="onfocusin"in t;var Vs=/^(?:focusinfocus|focusoutblur)$/,Pc=function(te){te.stopPropagation()};A.extend(A.event,{trigger:function(te,fe,xe,Me){var ze,He,Qe,Mt,wt,Ut,cn,Dn,Zt=[xe||re],dn=f.call(te,"type")?te.type:te,lr=f.call(te,"namespace")?te.namespace.split("."):[];if(He=Dn=Qe=xe=xe||re,!(xe.nodeType===3||xe.nodeType===8)&&!Vs.test(dn+A.event.triggered)&&(dn.indexOf(".")>-1&&(lr=dn.split("."),dn=lr.shift(),lr.sort()),wt=dn.indexOf(":")<0&&"on"+dn,te=te[A.expando]?te:new A.Event(dn,typeof te=="object"&&te),te.isTrigger=Me?2:3,te.namespace=lr.join("."),te.rnamespace=te.namespace?new RegExp("(^|\\.)"+lr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,te.result=void 0,te.target||(te.target=xe),fe=fe==null?[te]:A.makeArray(fe,[te]),cn=A.event.special[dn]||{},!(!Me&&cn.trigger&&cn.trigger.apply(xe,fe)===!1))){if(!Me&&!cn.noBubble&&!ee(xe)){for(Mt=cn.delegateType||dn,Vs.test(Mt+dn)||(He=He.parentNode);He;He=He.parentNode)Zt.push(He),Qe=He;Qe===(xe.ownerDocument||re)&&Zt.push(Qe.defaultView||Qe.parentWindow||t)}for(ze=0;(He=Zt[ze++])&&!te.isPropagationStopped();)Dn=He,te.type=ze>1?Mt:cn.bindType||dn,Ut=($e.get(He,"events")||Object.create(null))[te.type]&&$e.get(He,"handle"),Ut&&Ut.apply(He,fe),Ut=wt&&He[wt],Ut&&Ut.apply&&Oe(He)&&(te.result=Ut.apply(He,fe),te.result===!1&&te.preventDefault());return te.type=dn,!Me&&!te.isDefaultPrevented()&&(!cn._default||cn._default.apply(Zt.pop(),fe)===!1)&&Oe(xe)&&wt&&R(xe[dn])&&!ee(xe)&&(Qe=xe[wt],Qe&&(xe[wt]=null),A.event.triggered=dn,te.isPropagationStopped()&&Dn.addEventListener(dn,Pc),xe[dn](),te.isPropagationStopped()&&Dn.removeEventListener(dn,Pc),A.event.triggered=void 0,Qe&&(xe[wt]=Qe)),te.result}},simulate:function(te,fe,xe){var Me=A.extend(new A.Event,xe,{type:te,isSimulated:!0});A.event.trigger(Me,null,fe)}}),A.fn.extend({trigger:function(te,fe){return this.each(function(){A.event.trigger(te,fe,this)})},triggerHandler:function(te,fe){var xe=this[0];if(xe)return A.event.trigger(te,fe,xe,!0)}}),T.focusin||A.each({focus:"focusin",blur:"focusout"},function(te,fe){var xe=function(Me){A.event.simulate(fe,Me.target,A.event.fix(Me))};A.event.special[fe]={setup:function(){var Me=this.ownerDocument||this.document||this,ze=$e.access(Me,fe);ze||Me.addEventListener(te,xe,!0),$e.access(Me,fe,(ze||0)+1)},teardown:function(){var Me=this.ownerDocument||this.document||this,ze=$e.access(Me,fe)-1;ze?$e.access(Me,fe,ze):(Me.removeEventListener(te,xe,!0),$e.remove(Me,fe))}}});var wa=t.location,gu={guid:Date.now()},rl=/\?/;A.parseXML=function(te){var fe,xe;if(!te||typeof te!="string")return null;try{fe=new t.DOMParser().parseFromString(te,"text/xml")}catch{}return xe=fe&&fe.getElementsByTagName("parsererror")[0],(!fe||xe)&&A.error("Invalid XML: "+(xe?A.map(xe.childNodes,function(Me){return Me.textContent}).join(`
`):te)),fe};var vu=/\[\]$/,il=/\r?\n/g,Ns=/^(?:submit|button|image|reset|file)$/i,Qa=/^(?:input|select|textarea|keygen)/i;function ao(te,fe,xe,Me){var ze;if(Array.isArray(fe))A.each(fe,function(He,Qe){xe||vu.test(te)?Me(te,Qe):ao(te+"["+(typeof Qe=="object"&&Qe!=null?He:"")+"]",Qe,xe,Me)});else if(!xe&&ue(fe)==="object")for(ze in fe)ao(te+"["+ze+"]",fe[ze],xe,Me);else Me(te,fe)}A.param=function(te,fe){var xe,Me=[],ze=function(He,Qe){var Mt=R(Qe)?Qe():Qe;Me[Me.length]=encodeURIComponent(He)+"="+encodeURIComponent(Mt??"")};if(te==null)return"";if(Array.isArray(te)||te.jquery&&!A.isPlainObject(te))A.each(te,function(){ze(this.name,this.value)});else for(xe in te)ao(xe,te[xe],fe,ze);return Me.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var te=A.prop(this,"elements");return te?A.makeArray(te):this}).filter(function(){var te=this.type;return this.name&&!A(this).is(":disabled")&&Qa.test(this.nodeName)&&!Ns.test(te)&&(this.checked||!gn.test(te))}).map(function(te,fe){var xe=A(this).val();return xe==null?null:Array.isArray(xe)?A.map(xe,function(Me){return{name:fe.name,value:Me.replace(il,`\r
`)}}):{name:fe.name,value:xe.replace(il,`\r
`)}}).get()}});var Ql=/%20/g,ol=/#.*$/,Gr=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)$/mg,xo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zs=/^(?:GET|HEAD)$/,yu=/^\/\//,wi={},Ci={},Do="*/".concat("*"),ec=re.createElement("a");ec.href=wa.href;function To(te){return function(fe,xe){typeof fe!="string"&&(xe=fe,fe="*");var Me,ze=0,He=fe.toLowerCase().match(Ye)||[];if(R(xe))for(;Me=He[ze++];)Me[0]==="+"?(Me=Me.slice(1)||"*",(te[Me]=te[Me]||[]).unshift(xe)):(te[Me]=te[Me]||[]).push(xe)}}function Bi(te,fe,xe,Me){var ze={},He=te===Ci;function Qe(Mt){var wt;return ze[Mt]=!0,A.each(te[Mt]||[],function(Ut,cn){var Dn=cn(fe,xe,Me);if(typeof Dn=="string"&&!He&&!ze[Dn])return fe.dataTypes.unshift(Dn),Qe(Dn),!1;if(He)return!(wt=Dn)}),wt}return Qe(fe.dataTypes[0])||!ze["*"]&&Qe("*")}function Ai(te,fe){var xe,Me,ze=A.ajaxSettings.flatOptions||{};for(xe in fe)fe[xe]!==void 0&&((ze[xe]?te:Me||(Me={}))[xe]=fe[xe]);return Me&&A.extend(!0,te,Me),te}function gt(te,fe,xe){for(var Me,ze,He,Qe,Mt=te.contents,wt=te.dataTypes;wt[0]==="*";)wt.shift(),Me===void 0&&(Me=te.mimeType||fe.getResponseHeader("Content-Type"));if(Me){for(ze in Mt)if(Mt[ze]&&Mt[ze].test(Me)){wt.unshift(ze);break}}if(wt[0]in xe)He=wt[0];else{for(ze in xe){if(!wt[0]||te.converters[ze+" "+wt[0]]){He=ze;break}Qe||(Qe=ze)}He=He||Qe}if(He)return He!==wt[0]&&wt.unshift(He),xe[He]}function Fl(te,fe,xe,Me){var ze,He,Qe,Mt,wt,Ut={},cn=te.dataTypes.slice();if(cn[1])for(Qe in te.converters)Ut[Qe.toLowerCase()]=te.converters[Qe];for(He=cn.shift();He;)if(te.responseFields[He]&&(xe[te.responseFields[He]]=fe),!wt&&Me&&te.dataFilter&&(fe=te.dataFilter(fe,te.dataType)),wt=He,He=cn.shift(),He){if(He==="*")He=wt;else if(wt!=="*"&&wt!==He){if(Qe=Ut[wt+" "+He]||Ut["* "+He],!Qe){for(ze in Ut)if(Mt=ze.split(" "),Mt[1]===He&&(Qe=Ut[wt+" "+Mt[0]]||Ut["* "+Mt[0]],Qe)){Qe===!0?Qe=Ut[ze]:Ut[ze]!==!0&&(He=Mt[0],cn.unshift(Mt[1]));break}}if(Qe!==!0)if(Qe&&te.throws)fe=Qe(fe);else try{fe=Qe(fe)}catch(Dn){return{state:"parsererror",error:Qe?Dn:"No conversion from "+wt+" to "+He}}}}return{state:"success",data:fe}}A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wa.href,type:"GET",isLocal:xo.test(wa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Do,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(te,fe){return fe?Ai(Ai(te,A.ajaxSettings),fe):Ai(A.ajaxSettings,te)},ajaxPrefilter:To(wi),ajaxTransport:To(Ci),ajax:function(te,fe){typeof te=="object"&&(fe=te,te=void 0),fe=fe||{};var xe,Me,ze,He,Qe,Mt,wt,Ut,cn,Dn,Zt=A.ajaxSetup({},fe),dn=Zt.context||Zt,lr=Zt.context&&(dn.nodeType||dn.jquery)?A(dn):A.event,Ir=A.Deferred(),tr=A.Callbacks("once memory"),Fn=Zt.statusCode||{},Ei={},kr={},Zr="canceled",Fr={readyState:0,getResponseHeader:function(Jr){var Mi;if(wt){if(!He)for(He={};Mi=An.exec(ze);)He[Mi[1].toLowerCase()+" "]=(He[Mi[1].toLowerCase()+" "]||[]).concat(Mi[2]);Mi=He[Jr.toLowerCase()+" "]}return Mi==null?null:Mi.join(", ")},getAllResponseHeaders:function(){return wt?ze:null},setRequestHeader:function(Jr,Mi){return wt==null&&(Jr=kr[Jr.toLowerCase()]=kr[Jr.toLowerCase()]||Jr,Ei[Jr]=Mi),this},overrideMimeType:function(Jr){return wt==null&&(Zt.mimeType=Jr),this},statusCode:function(Jr){var Mi;if(Jr)if(wt)Fr.always(Jr[Fr.status]);else for(Mi in Jr)Fn[Mi]=[Fn[Mi],Jr[Mi]];return this},abort:function(Jr){var Mi=Jr||Zr;return xe&&xe.abort(Mi),so(0,Mi),this}};if(Ir.promise(Fr),Zt.url=((te||Zt.url||wa.href)+"").replace(yu,wa.protocol+"//"),Zt.type=fe.method||fe.type||Zt.method||Zt.type,Zt.dataTypes=(Zt.dataType||"*").toLowerCase().match(Ye)||[""],Zt.crossDomain==null){Mt=re.createElement("a");try{Mt.href=Zt.url,Mt.href=Mt.href,Zt.crossDomain=ec.protocol+"//"+ec.host!=Mt.protocol+"//"+Mt.host}catch{Zt.crossDomain=!0}}if(Zt.data&&Zt.processData&&typeof Zt.data!="string"&&(Zt.data=A.param(Zt.data,Zt.traditional)),Bi(wi,Zt,fe,Fr),wt)return Fr;Ut=A.event&&Zt.global,Ut&&A.active++===0&&A.event.trigger("ajaxStart"),Zt.type=Zt.type.toUpperCase(),Zt.hasContent=!zs.test(Zt.type),Me=Zt.url.replace(ol,""),Zt.hasContent?Zt.data&&Zt.processData&&(Zt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Zt.data=Zt.data.replace(Ql,"+")):(Dn=Zt.url.slice(Me.length),Zt.data&&(Zt.processData||typeof Zt.data=="string")&&(Me+=(rl.test(Me)?"&":"?")+Zt.data,delete Zt.data),Zt.cache===!1&&(Me=Me.replace(Gr,"$1"),Dn=(rl.test(Me)?"&":"?")+"_="+gu.guid+++Dn),Zt.url=Me+Dn),Zt.ifModified&&(A.lastModified[Me]&&Fr.setRequestHeader("If-Modified-Since",A.lastModified[Me]),A.etag[Me]&&Fr.setRequestHeader("If-None-Match",A.etag[Me])),(Zt.data&&Zt.hasContent&&Zt.contentType!==!1||fe.contentType)&&Fr.setRequestHeader("Content-Type",Zt.contentType),Fr.setRequestHeader("Accept",Zt.dataTypes[0]&&Zt.accepts[Zt.dataTypes[0]]?Zt.accepts[Zt.dataTypes[0]]+(Zt.dataTypes[0]!=="*"?", "+Do+"; q=0.01":""):Zt.accepts["*"]);for(cn in Zt.headers)Fr.setRequestHeader(cn,Zt.headers[cn]);if(Zt.beforeSend&&(Zt.beforeSend.call(dn,Fr,Zt)===!1||wt))return Fr.abort();if(Zr="abort",tr.add(Zt.complete),Fr.done(Zt.success),Fr.fail(Zt.error),xe=Bi(Ci,Zt,fe,Fr),!xe)so(-1,"No Transport");else{if(Fr.readyState=1,Ut&&lr.trigger("ajaxSend",[Fr,Zt]),wt)return Fr;Zt.async&&Zt.timeout>0&&(Qe=t.setTimeout(function(){Fr.abort("timeout")},Zt.timeout));try{wt=!1,xe.send(Ei,so)}catch(Jr){if(wt)throw Jr;so(-1,Jr)}}function so(Jr,Mi,Aa,Ia){var no,Zo,Uo,bo,Go,ji=Mi;wt||(wt=!0,Qe&&t.clearTimeout(Qe),xe=void 0,ze=Ia||"",Fr.readyState=Jr>0?4:0,no=Jr>=200&&Jr<300||Jr===304,Aa&&(bo=gt(Zt,Fr,Aa)),!no&&A.inArray("script",Zt.dataTypes)>-1&&A.inArray("json",Zt.dataTypes)<0&&(Zt.converters["text script"]=function(){}),bo=Fl(Zt,bo,Fr,no),no?(Zt.ifModified&&(Go=Fr.getResponseHeader("Last-Modified"),Go&&(A.lastModified[Me]=Go),Go=Fr.getResponseHeader("etag"),Go&&(A.etag[Me]=Go)),Jr===204||Zt.type==="HEAD"?ji="nocontent":Jr===304?ji="notmodified":(ji=bo.state,Zo=bo.data,Uo=bo.error,no=!Uo)):(Uo=ji,(Jr||!ji)&&(ji="error",Jr<0&&(Jr=0))),Fr.status=Jr,Fr.statusText=(Mi||ji)+"",no?Ir.resolveWith(dn,[Zo,ji,Fr]):Ir.rejectWith(dn,[Fr,ji,Uo]),Fr.statusCode(Fn),Fn=void 0,Ut&&lr.trigger(no?"ajaxSuccess":"ajaxError",[Fr,Zt,no?Zo:Uo]),tr.fireWith(dn,[Fr,ji]),Ut&&(lr.trigger("ajaxComplete",[Fr,Zt]),--A.active||A.event.trigger("ajaxStop")))}return Fr},getJSON:function(te,fe,xe){return A.get(te,fe,xe,"json")},getScript:function(te,fe){return A.get(te,void 0,fe,"script")}}),A.each(["get","post"],function(te,fe){A[fe]=function(xe,Me,ze,He){return R(Me)&&(He=He||ze,ze=Me,Me=void 0),A.ajax(A.extend({url:xe,type:fe,dataType:He,data:Me,success:ze},A.isPlainObject(xe)&&xe))}}),A.ajaxPrefilter(function(te){var fe;for(fe in te.headers)fe.toLowerCase()==="content-type"&&(te.contentType=te.headers[fe]||"")}),A._evalUrl=function(te,fe,xe){return A.ajax({url:te,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Me){A.globalEval(Me,fe,xe)}})},A.fn.extend({wrapAll:function(te){var fe;return this[0]&&(R(te)&&(te=te.call(this[0])),fe=A(te,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&fe.insertBefore(this[0]),fe.map(function(){for(var xe=this;xe.firstElementChild;)xe=xe.firstElementChild;return xe}).append(this)),this},wrapInner:function(te){return R(te)?this.each(function(fe){A(this).wrapInner(te.call(this,fe))}):this.each(function(){var fe=A(this),xe=fe.contents();xe.length?xe.wrapAll(te):fe.append(te)})},wrap:function(te){var fe=R(te);return this.each(function(xe){A(this).wrapAll(fe?te.call(this,xe):te)})},unwrap:function(te){return this.parent(te).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(te){return!A.expr.pseudos.visible(te)},A.expr.pseudos.visible=function(te){return!!(te.offsetWidth||te.offsetHeight||te.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var La={0:200,1223:204},tc=A.ajaxSettings.xhr();T.cors=!!tc&&"withCredentials"in tc,T.ajax=tc=!!tc,A.ajaxTransport(function(te){var fe,xe;if(T.cors||tc&&!te.crossDomain)return{send:function(Me,ze){var He,Qe=te.xhr();if(Qe.open(te.type,te.url,te.async,te.username,te.password),te.xhrFields)for(He in te.xhrFields)Qe[He]=te.xhrFields[He];te.mimeType&&Qe.overrideMimeType&&Qe.overrideMimeType(te.mimeType),!te.crossDomain&&!Me["X-Requested-With"]&&(Me["X-Requested-With"]="XMLHttpRequest");for(He in Me)Qe.setRequestHeader(He,Me[He]);fe=function(Mt){return function(){fe&&(fe=xe=Qe.onload=Qe.onerror=Qe.onabort=Qe.ontimeout=Qe.onreadystatechange=null,Mt==="abort"?Qe.abort():Mt==="error"?typeof Qe.status!="number"?ze(0,"error"):ze(Qe.status,Qe.statusText):ze(La[Qe.status]||Qe.status,Qe.statusText,(Qe.responseType||"text")!=="text"||typeof Qe.responseText!="string"?{binary:Qe.response}:{text:Qe.responseText},Qe.getAllResponseHeaders()))}},Qe.onload=fe(),xe=Qe.onerror=Qe.ontimeout=fe("error"),Qe.onabort!==void 0?Qe.onabort=xe:Qe.onreadystatechange=function(){Qe.readyState===4&&t.setTimeout(function(){fe&&xe()})},fe=fe("abort");try{Qe.send(te.hasContent&&te.data||null)}catch(Mt){if(fe)throw Mt}},abort:function(){fe&&fe()}}}),A.ajaxPrefilter(function(te){te.crossDomain&&(te.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(te){return A.globalEval(te),te}}}),A.ajaxPrefilter("script",function(te){te.cache===void 0&&(te.cache=!1),te.crossDomain&&(te.type="GET")}),A.ajaxTransport("script",function(te){if(te.crossDomain||te.scriptAttrs){var fe,xe;return{send:function(Me,ze){fe=A("<script>").attr(te.scriptAttrs||{}).prop({charset:te.scriptCharset,src:te.url}).on("load error",xe=function(He){fe.remove(),xe=null,He&&ze(He.type==="error"?404:200,He.type)}),re.head.appendChild(fe[0])},abort:function(){xe&&xe()}}}});var vd=[],es=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var te=vd.pop()||A.expando+"_"+gu.guid++;return this[te]=!0,te}}),A.ajaxPrefilter("json jsonp",function(te,fe,xe){var Me,ze,He,Qe=te.jsonp!==!1&&(es.test(te.url)?"url":typeof te.data=="string"&&(te.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&es.test(te.data)&&"data");if(Qe||te.dataTypes[0]==="jsonp")return Me=te.jsonpCallback=R(te.jsonpCallback)?te.jsonpCallback():te.jsonpCallback,Qe?te[Qe]=te[Qe].replace(es,"$1"+Me):te.jsonp!==!1&&(te.url+=(rl.test(te.url)?"&":"?")+te.jsonp+"="+Me),te.converters["script json"]=function(){return He||A.error(Me+" was not called"),He[0]},te.dataTypes[0]="json",ze=t[Me],t[Me]=function(){He=arguments},xe.always(function(){ze===void 0?A(t).removeProp(Me):t[Me]=ze,te[Me]&&(te.jsonpCallback=fe.jsonpCallback,vd.push(Me)),He&&R(ze)&&ze(He[0]),He=ze=void 0}),"script"}),T.createHTMLDocument=function(){var te=re.implementation.createHTMLDocument("").body;return te.innerHTML="<form></form><form></form>",te.childNodes.length===2}(),A.parseHTML=function(te,fe,xe){if(typeof te!="string")return[];typeof fe=="boolean"&&(xe=fe,fe=!1);var Me,ze,He;return fe||(T.createHTMLDocument?(fe=re.implementation.createHTMLDocument(""),Me=fe.createElement("base"),Me.href=re.location.href,fe.head.appendChild(Me)):fe=re),ze=be.exec(te),He=!xe&&[],ze?[fe.createElement(ze[1])]:(ze=di([te],fe,He),He&&He.length&&A(He).remove(),A.merge([],ze.childNodes))},A.fn.load=function(te,fe,xe){var Me,ze,He,Qe=this,Mt=te.indexOf(" ");return Mt>-1&&(Me=Ra(te.slice(Mt)),te=te.slice(0,Mt)),R(fe)?(xe=fe,fe=void 0):fe&&typeof fe=="object"&&(ze="POST"),Qe.length>0&&A.ajax({url:te,type:ze||"GET",dataType:"html",data:fe}).done(function(wt){He=arguments,Qe.html(Me?A("<div>").append(A.parseHTML(wt)).find(Me):wt)}).always(xe&&function(wt,Ut){Qe.each(function(){xe.apply(this,He||[wt.responseText,Ut,wt])})}),this},A.expr.pseudos.animated=function(te){return A.grep(A.timers,function(fe){return te===fe.elem}).length},A.offset={setOffset:function(te,fe,xe){var Me,ze,He,Qe,Mt,wt,Ut,cn=A.css(te,"position"),Dn=A(te),Zt={};cn==="static"&&(te.style.position="relative"),Mt=Dn.offset(),He=A.css(te,"top"),wt=A.css(te,"left"),Ut=(cn==="absolute"||cn==="fixed")&&(He+wt).indexOf("auto")>-1,Ut?(Me=Dn.position(),Qe=Me.top,ze=Me.left):(Qe=parseFloat(He)||0,ze=parseFloat(wt)||0),R(fe)&&(fe=fe.call(te,xe,A.extend({},Mt))),fe.top!=null&&(Zt.top=fe.top-Mt.top+Qe),fe.left!=null&&(Zt.left=fe.left-Mt.left+ze),"using"in fe?fe.using.call(te,Zt):Dn.css(Zt)}},A.fn.extend({offset:function(te){if(arguments.length)return te===void 0?this:this.each(function(ze){A.offset.setOffset(this,te,ze)});var fe,xe,Me=this[0];if(!!Me)return Me.getClientRects().length?(fe=Me.getBoundingClientRect(),xe=Me.ownerDocument.defaultView,{top:fe.top+xe.pageYOffset,left:fe.left+xe.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var te,fe,xe,Me=this[0],ze={top:0,left:0};if(A.css(Me,"position")==="fixed")fe=Me.getBoundingClientRect();else{for(fe=this.offset(),xe=Me.ownerDocument,te=Me.offsetParent||xe.documentElement;te&&(te===xe.body||te===xe.documentElement)&&A.css(te,"position")==="static";)te=te.parentNode;te&&te!==Me&&te.nodeType===1&&(ze=A(te).offset(),ze.top+=A.css(te,"borderTopWidth",!0),ze.left+=A.css(te,"borderLeftWidth",!0))}return{top:fe.top-ze.top-A.css(Me,"marginTop",!0),left:fe.left-ze.left-A.css(Me,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var te=this.offsetParent;te&&A.css(te,"position")==="static";)te=te.offsetParent;return te||ut})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(te,fe){var xe=fe==="pageYOffset";A.fn[te]=function(Me){return Yt(this,function(ze,He,Qe){var Mt;if(ee(ze)?Mt=ze:ze.nodeType===9&&(Mt=ze.defaultView),Qe===void 0)return Mt?Mt[fe]:ze[He];Mt?Mt.scrollTo(xe?Mt.pageXOffset:Qe,xe?Qe:Mt.pageYOffset):ze[He]=Qe},te,Me,arguments.length)}}),A.each(["top","left"],function(te,fe){A.cssHooks[fe]=xa(T.pixelPosition,function(xe,Me){if(Me)return Me=jo(xe,fe),ps.test(Me)?A(xe).position()[fe]+"px":Me})}),A.each({Height:"height",Width:"width"},function(te,fe){A.each({padding:"inner"+te,content:fe,"":"outer"+te},function(xe,Me){A.fn[Me]=function(ze,He){var Qe=arguments.length&&(xe||typeof ze!="boolean"),Mt=xe||(ze===!0||He===!0?"margin":"border");return Yt(this,function(wt,Ut,cn){var Dn;return ee(wt)?Me.indexOf("outer")===0?wt["inner"+te]:wt.document.documentElement["client"+te]:wt.nodeType===9?(Dn=wt.documentElement,Math.max(wt.body["scroll"+te],Dn["scroll"+te],wt.body["offset"+te],Dn["offset"+te],Dn["client"+te])):cn===void 0?A.css(wt,Ut,Mt):A.style(wt,Ut,cn,Mt)},fe,Qe?ze:void 0,Qe)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(te,fe){A.fn[fe]=function(xe){return this.on(fe,xe)}}),A.fn.extend({bind:function(te,fe,xe){return this.on(te,null,fe,xe)},unbind:function(te,fe){return this.off(te,null,fe)},delegate:function(te,fe,xe,Me){return this.on(fe,te,xe,Me)},undelegate:function(te,fe,xe){return arguments.length===1?this.off(te,"**"):this.off(fe,te||"**",xe)},hover:function(te,fe){return this.mouseenter(te).mouseleave(fe||te)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(te,fe){A.fn[fe]=function(xe,Me){return arguments.length>0?this.on(fe,null,xe,Me):this.trigger(fe)}});var nc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(te,fe){var xe,Me,ze;if(typeof fe=="string"&&(xe=te[fe],fe=te,te=xe),!!R(te))return Me=a.call(arguments,2),ze=function(){return te.apply(fe||this,Me.concat(a.call(arguments)))},ze.guid=te.guid=te.guid||A.guid++,ze},A.holdReady=function(te){te?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=pe,A.isFunction=R,A.isWindow=ee,A.camelCase=Ae,A.type=ue,A.now=Date.now,A.isNumeric=function(te){var fe=A.type(te);return(fe==="number"||fe==="string")&&!isNaN(te-parseFloat(te))},A.trim=function(te){return te==null?"":(te+"").replace(nc,"$1")};var ca=t.jQuery,ur=t.$;return A.noConflict=function(te){return t.$===A&&(t.$=ur),te&&t.jQuery===A&&(t.jQuery=ca),A},typeof r>"u"&&(t.jQuery=t.$=A),A})})(jquery$2);const jquery=jquery$2.exports,jquery$1=_mergeNamespaces({__proto__:null,default:jquery},[jquery$2.exports]);/*! WebUploader 0.1.6 */var jQuery$1=jquery$2.exports,webuploader_fis=function(e,t){var r={},i=function(v,C){var f,w,F;if(typeof v=="string")return c(v);for(f=[],w=v.length,F=0;F<w;F++)f.push(c(v[F]));return C.apply(null,f)},l=function(v,C,f){arguments.length===2&&(f=C,C=null),i(C||[],function(){a(v,f,arguments)})},a=function(v,C,f){var w={exports:C},F;typeof C=="function"&&(f.length||(f=[i,w.exports,w]),F=C.apply(null,f),F!==void 0&&(w.exports=F)),r[v]=w.exports},c=function(v){var C=r[v]||e[v];if(!C)throw new Error("`"+v+"` is undefined");return C},d=function(v){var C,f,w,F,T,R;R=function(ee){return ee&&ee.charAt(0).toUpperCase()+ee.substr(1)};for(C in r)if(f=v,!!r.hasOwnProperty(C)){for(w=C.split("/"),T=R(w.pop());F=R(w.shift());)f[F]=f[F]||{},f=f[F];f[T]=r[C]}return v},D=function(v){return e.__dollar=v,d(t(e,l,i))};return D(jQuery$1)}(window,function(e,t,r){t("dollar-third",[],function(){var l=e.require,a=e.__dollar||e.jQuery||e.Zepto||l("jquery")||l("zepto");if(!a)throw new Error("jQuery or Zepto not found!");return a}),t("dollar",["dollar-third"],function(l){return l}),t("promise-third",["dollar"],function(l){return{Deferred:l.Deferred,when:l.when,isPromise:function(a){return a&&typeof a.then=="function"}}}),t("promise",["promise-third"],function(l){return l}),t("base",["dollar","promise"],function(l,a){var c=function(){},d=Function.call;function D(f){return function(){return d.apply(f,arguments)}}function v(f,w){return function(){return f.apply(w,arguments)}}function C(f){var w;return Object.create?Object.create(f):(w=function(){},w.prototype=f,new w)}return{version:"0.1.6",$:l,Deferred:a.Deferred,isPromise:a.isPromise,when:a.when,browser:function(f){var w={},F=f.match(/WebKit\/([\d.]+)/),T=f.match(/Chrome\/([\d.]+)/)||f.match(/CriOS\/([\d.]+)/),R=f.match(/MSIE\s([\d\.]+)/)||f.match(/(?:trident)(?:.*rv:([\w.]+))?/i),ee=f.match(/Firefox\/([\d.]+)/),re=f.match(/Safari\/([\d.]+)/),ae=f.match(/OPR\/([\d.]+)/);return F&&(w.webkit=parseFloat(F[1])),T&&(w.chrome=parseFloat(T[1])),R&&(w.ie=parseFloat(R[1])),ee&&(w.firefox=parseFloat(ee[1])),re&&(w.safari=parseFloat(re[1])),ae&&(w.opera=parseFloat(ae[1])),w}(navigator.userAgent),os:function(f){var w={},F=f.match(/(?:Android);?[\s\/]+([\d.]+)?/),T=f.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return F&&(w.android=parseFloat(F[1])),T&&(w.ios=parseFloat(T[1].replace(/_/g,"."))),w}(navigator.userAgent),inherits:function(f,w,F){var T;return typeof w=="function"?(T=w,w=null):w&&w.hasOwnProperty("constructor")?T=w.constructor:T=function(){return f.apply(this,arguments)},l.extend(!0,T,f,F||{}),T.__super__=f.prototype,T.prototype=C(f.prototype),w&&l.extend(!0,T.prototype,w),T},noop:c,bindFn:v,log:function(){return e.console?v(console.log,console):c}(),nextTick:function(){return function(f){setTimeout(f,1)}}(),slice:D([].slice),guid:function(){var f=0;return function(w){for(var F=(+new Date).toString(32),T=0;T<5;T++)F+=Math.floor(Math.random()*65535).toString(32);return(w||"wu_")+F+(f++).toString(32)}}(),formatSize:function(f,w,F){var T;for(F=F||["B","K","M","G","TB"];(T=F.shift())&&f>1024;)f=f/1024;return(T==="B"?f:f.toFixed(w||2))+T}}}),t("mediator",["base"],function(l){var a=l.$,c=[].slice,d=/\s+/,D;function v(w,F,T,R){return a.grep(w,function(ee){return ee&&(!F||ee.e===F)&&(!T||ee.cb===T||ee.cb._cb===T)&&(!R||ee.ctx===R)})}function C(w,F,T){a.each((w||"").split(d),function(R,ee){T(ee,F)})}function f(w,F){for(var T=!1,R=-1,ee=w.length,re;++R<ee;)if(re=w[R],re.cb.apply(re.ctx2,F)===!1){T=!0;break}return!T}return D={on:function(w,F,T){var R=this,ee;return F?(ee=this._events||(this._events=[]),C(w,F,function(re,ae){var ce={e:re};ce.cb=ae,ce.ctx=T,ce.ctx2=T||R,ce.id=ee.length,ee.push(ce)}),this):this},once:function(w,F,T){var R=this;return F&&C(w,F,function(ee,re){var ae=function(){return R.off(ee,ae),re.apply(T||R,arguments)};ae._cb=re,R.on(ee,ae,T)}),R},off:function(w,F,T){var R=this._events;return R?!w&&!F&&!T?(this._events=[],this):(C(w,F,function(ee,re){a.each(v(R,ee,re,T),function(){delete R[this.id]})}),this):this},trigger:function(w){var F,T,R;return!this._events||!w?this:(F=c.call(arguments,1),T=v(this._events,w),R=v(this._events,"all"),f(T,F)&&f(R,arguments))}},a.extend({installTo:function(w){return a.extend(w,D)}},D)}),t("uploader",["base","mediator"],function(l,a){var c=l.$;function d(D){this.options=c.extend(!0,{},d.options,D),this._init(this.options)}return d.options={},a.installTo(d.prototype),c.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(D,v){d.prototype[D]=function(){return this.request(v,arguments)}}),c.extend(d.prototype,{state:"pending",_init:function(D){var v=this;v.request("init",D,function(){v.state="ready",v.trigger("ready")})},option:function(D,v){var C=this.options;if(arguments.length>1)c.isPlainObject(v)&&c.isPlainObject(C[D])?c.extend(C[D],v):C[D]=v;else return D?C[D]:C},getStats:function(){var D=this.request("get-stats");return D?{successNum:D.numOfSuccess,progressNum:D.numOfProgress,cancelNum:D.numOfCancel,invalidNum:D.numOfInvalid,uploadFailNum:D.numOfUploadFailed,queueNum:D.numOfQueue,interruptNum:D.numofInterrupt}:{}},trigger:function(D){var v=[].slice.call(arguments,1),C=this.options,f="on"+D.substring(0,1).toUpperCase()+D.substring(1);return!(a.trigger.apply(this,arguments)===!1||c.isFunction(C[f])&&C[f].apply(this,v)===!1||c.isFunction(this[f])&&this[f].apply(this,v)===!1||a.trigger.apply(a,[this,D].concat(v))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:l.noop}),l.create=d.create=function(D){return new d(D)},l.Uploader=d,d}),t("runtime/runtime",["base","mediator"],function(l,a){var c=l.$,d={},D=function(C){for(var f in C)if(C.hasOwnProperty(f))return f;return null};function v(C){this.options=c.extend({container:document.body},C),this.uid=l.guid("rt_")}return c.extend(v.prototype,{getContainer:function(){var C=this.options,f,w;return this._container?this._container:(f=c(C.container||document.body),w=c(document.createElement("div")),w.attr("id","rt_"+this.uid),w.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),f.append(w),f.addClass("webuploader-container"),this._container=w,this._parent=f,w)},init:l.noop,exec:l.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),v.orders="html5,flash",v.addRuntime=function(C,f){d[C]=f},v.hasRuntime=function(C){return!!(C?d[C]:D(d))},v.create=function(C,f){var w,F;if(f=f||v.orders,c.each(f.split(/\s*,\s*/g),function(){if(d[this])return w=this,!1}),w=w||D(d),!w)throw new Error("Runtime Error");return F=new d[w](C),F},a.installTo(v.prototype),v}),t("runtime/client",["base","mediator","runtime/runtime"],function(l,a,c){var d;d=function(){var v={};return{add:function(C){v[C.uid]=C},get:function(C,f){var w;if(C)return v[C];for(w in v)if(!(f&&v[w].__standalone))return v[w];return null},remove:function(C){delete v[C.uid]}}}();function D(v,C){var f=l.Deferred(),w;this.uid=l.guid("client_"),this.runtimeReady=function(F){return f.done(F)},this.connectRuntime=function(F,T){if(w)throw new Error("already connected!");return f.done(T),typeof F=="string"&&d.get(F)&&(w=d.get(F)),w=w||d.get(null,C),w?(l.$.extend(w.options,F),w.__promise.then(f.resolve),w.__client++):(w=c.create(F,F.runtimeOrder),w.__promise=f.promise(),w.once("ready",f.resolve),w.init(),d.add(w),w.__client=1),C&&(w.__standalone=C),w},this.getRuntime=function(){return w},this.disconnectRuntime=function(){!w||(w.__client--,w.__client<=0&&(d.remove(w),delete w.__promise,w.destroy()),w=null)},this.exec=function(){if(!!w){var F=l.slice(arguments);return v&&F.unshift(v),w.exec.apply(this,F)}},this.getRuid=function(){return w&&w.uid},this.destroy=function(F){return function(){F&&F.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}return a.installTo(D.prototype),D}),t("lib/dnd",["base","mediator","runtime/client"],function(l,a,c){var d=l.$;function D(v){v=this.options=d.extend({},D.options,v),v.container=d(v.container),v.container.length&&c.call(this,"DragAndDrop")}return D.options={accept:null,disableGlobalDnd:!1},l.inherits(c,{constructor:D,init:function(){var v=this;v.connectRuntime(v.options,function(){v.exec("init"),v.trigger("ready")})}}),a.installTo(D.prototype),D}),t("widgets/widget",["base","uploader"],function(l,a){var c=l.$,d=a.prototype._init,D=a.prototype.destroy,v={},C=[];function f(F){if(!F)return!1;var T=F.length,R=c.type(F);return F.nodeType===1&&T?!0:R==="array"||R!=="function"&&R!=="string"&&(T===0||typeof T=="number"&&T>0&&T-1 in F)}function w(F){this.owner=F,this.options=F.options}return c.extend(w.prototype,{init:l.noop,invoke:function(F,T){var R=this.responseMap;return!R||!(F in R)||!(R[F]in this)||!c.isFunction(this[R[F]])?v:this[R[F]].apply(this,T)},request:function(){return this.owner.request.apply(this.owner,arguments)}}),c.extend(a.prototype,{_init:function(){var F=this,T=F._widgets=[],R=F.options.disableWidgets||"";return c.each(C,function(ee,re){(!R||!~R.indexOf(re._name))&&T.push(new re(F))}),d.apply(F,arguments)},request:function(F,T,R){var ee=0,re=this._widgets,ae=re&&re.length,ce=[],ue=[],de,A,oe,le;for(T=f(T)?T:[T];ee<ae;ee++)de=re[ee],A=de.invoke(F,T),A!==v&&(l.isPromise(A)?ue.push(A):ce.push(A));return R||ue.length?(oe=l.when.apply(l,ue),le=oe.pipe?"pipe":"then",oe[le](function(){var ie=l.Deferred(),I=arguments;return I.length===1&&(I=I[0]),setTimeout(function(){ie.resolve(I)},1),ie.promise()})[R?le:"done"](R||l.noop)):ce[0]},destroy:function(){D.apply(this,arguments),this._widgets=null}}),a.register=w.register=function(F,T){var R={init:"init",destroy:"destroy",name:"anonymous"},ee;return arguments.length===1?(T=F,c.each(T,function(re){if(re[0]==="_"||re==="name"){re==="name"&&(R.name=T.name);return}R[re.replace(/[A-Z]/g,"-$&").toLowerCase()]=re})):R=c.extend(R,F),T.responseMap=R,ee=l.inherits(w,T),ee._name=R.name,C.push(ee),ee},a.unRegister=w.unRegister=function(F){if(!(!F||F==="anonymous"))for(var T=C.length;T--;)C[T]._name===F&&C.splice(T,1)},w}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(l,a,c){var d=l.$;return a.options.dnd="",a.register({name:"dnd",init:function(D){if(!(!D.dnd||this.request("predict-runtime-type")!=="html5")){var v=this,C=l.Deferred(),f=d.extend({},{disableGlobalDnd:D.disableGlobalDnd,container:D.dnd,accept:D.accept}),w;return this.dnd=w=new c(f),w.once("ready",C.resolve),w.on("drop",function(F){v.request("add-file",[F])}),w.on("accept",function(F){return v.owner.trigger("dndAccept",F)}),w.init(),C.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(l,a,c){var d=l.$;function D(v){v=this.options=d.extend({},v),v.container=d(v.container||document.body),c.call(this,"FilePaste")}return l.inherits(c,{constructor:D,init:function(){var v=this;v.connectRuntime(v.options,function(){v.exec("init"),v.trigger("ready")})}}),a.installTo(D.prototype),D}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(l,a,c){var d=l.$;return a.register({name:"paste",init:function(D){if(!(!D.paste||this.request("predict-runtime-type")!=="html5")){var v=this,C=l.Deferred(),f=d.extend({},{container:D.paste,accept:D.accept}),w;return this.paste=w=new c(f),w.once("ready",C.resolve),w.on("paste",function(F){v.owner.request("add-file",[F])}),w.init(),C.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(l,a){function c(d,D){var v=this;v.source=D,v.ruid=d,this.size=D.size||0,!D.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+(this.ext==="jpg"?"jpeg":this.ext):this.type=D.type||"application/octet-stream",a.call(v,"Blob"),this.uid=D.uid||this.uid,d&&v.connectRuntime(d)}return l.inherits(a,{constructor:c,slice:function(d,D){return this.exec("slice",d,D)},getSource:function(){return this.source}}),c}),t("lib/file",["base","lib/blob"],function(l,a){var c=1,d=/\.([^.]+)$/;function D(v,C){var f;this.name=C.name||"untitled"+c++,f=d.exec(C.name)?RegExp.$1.toLowerCase():"",!f&&C.type&&(f=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(C.type)?RegExp.$1.toLowerCase():"",this.name+="."+f),this.ext=f,this.lastModifiedDate=C.lastModifiedDate||new Date().toLocaleString(),a.apply(this,arguments)}return l.inherits(a,D)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(l,a,c){var d=l.$;function D(v){if(v=this.options=d.extend({},D.options,v),v.container=d(v.id),!v.container.length)throw new Error("\u6309\u94AE\u6307\u5B9A\u9519\u8BEF");v.innerHTML=v.innerHTML||v.label||v.container.html()||"",v.button=d(v.button||document.createElement("div")),v.button.html(v.innerHTML),v.container.html(v.button),a.call(this,"FilePicker",!0)}return D.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},l.inherits(a,{constructor:D,init:function(){var v=this,C=v.options,f=C.button,w=C.style;w&&f.addClass("webuploader-pick"),v.on("all",function(F){var T;switch(F){case"mouseenter":w&&f.addClass("webuploader-pick-hover");break;case"mouseleave":w&&f.removeClass("webuploader-pick-hover");break;case"change":T=v.exec("getFiles"),v.trigger("select",d.map(T,function(R){return R=new c(v.getRuid(),R),R._refer=C.container,R}),C.container);break}}),v.connectRuntime(C,function(){v.refresh(),v.exec("init",C),v.trigger("ready")}),this._resizeHandler=l.bindFn(this.refresh,this),d(e).on("resize",this._resizeHandler)},refresh:function(){var v=this.getRuntime().getContainer(),C=this.options.button,f=C.outerWidth?C.outerWidth():C.width(),w=C.outerHeight?C.outerHeight():C.height(),F=C.offset();f&&w&&v.css({bottom:"auto",right:"auto",width:f+"px",height:w+"px"}).offset(F)},enable:function(){var v=this.options.button;v.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var v=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),v.addClass("webuploader-pick-disable")},destroy:function(){var v=this.options.button;d(e).off("resize",this._resizeHandler),v.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),D}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(l,a,c){var d=l.$;return d.extend(a.options,{pick:null,accept:null}),a.register({name:"picker",init:function(D){return this.pickers=[],D.pick&&this.addBtn(D.pick)},refresh:function(){d.each(this.pickers,function(){this.refresh()})},addBtn:function(D){var v=this,C=v.options,f=C.accept,w=[];if(!!D)return d.isPlainObject(D)||(D={id:D}),d(D.id).each(function(){var F,T,R;R=l.Deferred(),F=d.extend({},D,{accept:d.isPlainObject(f)?[f]:f,swf:C.swf,runtimeOrder:C.runtimeOrder,id:this}),T=new c(F),T.once("ready",R.resolve),T.on("select",function(ee){v.owner.request("add-file",[ee])}),T.on("dialogopen",function(){v.owner.trigger("dialogOpen",T.button)}),T.init(),v.pickers.push(T),w.push(R.promise())}),l.when.apply(l,w)},disable:function(){d.each(this.pickers,function(){this.disable()})},enable:function(){d.each(this.pickers,function(){this.enable()})},destroy:function(){d.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(l,a,c){var d=l.$;function D(v){this.options=d.extend({},D.options,v),a.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}return D.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},l.inherits(a,{constructor:D,info:function(v){return v?(this._info=v,this):this._info},meta:function(v){return v?(this._meta=v,this):this._meta},loadFromBlob:function(v){var C=this,f=v.getRuid();this.connectRuntime(f,function(){C.exec("init",C.options),C.exec("loadFromBlob",v)})},resize:function(){var v=l.slice(arguments);return this.exec.apply(this,["resize"].concat(v))},crop:function(){var v=l.slice(arguments);return this.exec.apply(this,["crop"].concat(v))},getAsDataUrl:function(v){return this.exec("getAsDataUrl",v)},getAsBlob:function(v){var C=this.exec("getAsBlob",v);return new c(this.getRuid(),C)}}),D}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(l,a,c){var d=l.$,D;return D=function(v){var C=0,f=[],w=function(){for(var F;f.length&&C<v;)F=f.shift(),C+=F[0],F[1]()};return function(F,T,R){f.push([T,R]),F.once("destroy",function(){C-=T,setTimeout(w,1)}),setTimeout(w,1)}}(5*1024*1024),d.extend(a.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),a.register({name:"image",makeThumb:function(v,C,f,w){var F,T;if(v=this.request("get-file",v),!v.type.match(/^image/)){C(!0);return}F=d.extend({},this.options.thumb),d.isPlainObject(f)&&(F=d.extend(F,f),f=null),f=f||F.width,w=w||F.height,T=new c(F),T.once("load",function(){v._info=v._info||T.info(),v._meta=v._meta||T.meta(),f<=1&&f>0&&(f=v._info.width*f),w<=1&&w>0&&(w=v._info.height*w),T.resize(f,w)}),T.once("complete",function(){C(!1,T.getAsDataUrl(F.type)),T.destroy()}),T.once("error",function(R){C(R||!0),T.destroy()}),D(T,v.source.size,function(){v._info&&T.info(v._info),v._meta&&T.meta(v._meta),T.loadFromBlob(v.source)})},beforeSendFile:function(v){var C=this.options.compress||this.options.resize,f=C&&C.compressSize||0,w=C&&C.noCompressIfLarger||!1,F,T;if(v=this.request("get-file",v),!(!C||!~"image/jpeg,image/jpg".indexOf(v.type)||v.size<f||v._compressed))return C=d.extend({},C),T=l.Deferred(),F=new c(C),T.always(function(){F.destroy(),F=null}),F.once("error",T.reject),F.once("load",function(){var R=C.width,ee=C.height;v._info=v._info||F.info(),v._meta=v._meta||F.meta(),R<=1&&R>0&&(R=v._info.width*R),ee<=1&&ee>0&&(ee=v._info.height*ee),F.resize(R,ee)}),F.once("complete",function(){var R,ee;try{R=F.getAsBlob(C.type),ee=v.size,(!w||R.size<ee)&&(v.source=R,v.size=R.size,v.trigger("resize",R.size,ee)),v._compressed=!0,T.resolve()}catch{T.resolve()}}),v._info&&F.info(v._info),v._meta&&F.meta(v._meta),F.loadFromBlob(v.source),T.promise()}})}),t("file",["base","mediator"],function(l,a){var c=l.$,d="WU_FILE_",D=0,v=/\.([^.]+)$/,C={};function f(){return d+D++}function w(F){this.name=F.name||"Untitled",this.size=F.size||0,this.type=F.type||"application/octet-stream",this.lastModifiedDate=F.lastModifiedDate||new Date*1,this.id=f(),this.ext=v.exec(this.name)?RegExp.$1:"",this.statusText="",C[this.id]=w.Status.INITED,this.source=F,this.loaded=0,this.on("error",function(T){this.setStatus(w.Status.ERROR,T)})}return c.extend(w.prototype,{setStatus:function(F,T){var R=C[this.id];typeof T<"u"&&(this.statusText=T),F!==R&&(C[this.id]=F,this.trigger("statuschange",F,R))},getStatus:function(){return C[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete C[this.id]}}),a.installTo(w.prototype),w.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},w}),t("queue",["base","mediator","file"],function(l,a,c){var d=l.$,D=c.Status;function v(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}return d.extend(v.prototype,{append:function(C){return this._queue.push(C),this._fileAdded(C),this},prepend:function(C){return this._queue.unshift(C),this._fileAdded(C),this},getFile:function(C){return typeof C!="string"?C:this._map[C]},fetch:function(C){var f=this._queue.length,w,F;for(C=C||D.QUEUED,w=0;w<f;w++)if(F=this._queue[w],C===F.getStatus())return F;return null},sort:function(C){typeof C=="function"&&this._queue.sort(C)},getFiles:function(){for(var C=[].slice.call(arguments,0),f=[],w=0,F=this._queue.length,T;w<F;w++)T=this._queue[w],!(C.length&&!~d.inArray(T.getStatus(),C))&&f.push(T);return f},removeFile:function(C){var f=this._map[C.id];f&&(delete this._map[C.id],C.destroy(),this.stats.numofDeleted++)},_fileAdded:function(C){var f=this,w=this._map[C.id];w||(this._map[C.id]=C,C.on("statuschange",function(F,T){f._onFileStatusChange(F,T)}))},_onFileStatusChange:function(C,f){var w=this.stats;switch(f){case D.PROGRESS:w.numOfProgress--;break;case D.QUEUED:w.numOfQueue--;break;case D.ERROR:w.numOfUploadFailed--;break;case D.INVALID:w.numOfInvalid--;break;case D.INTERRUPT:w.numofInterrupt--;break}switch(C){case D.QUEUED:w.numOfQueue++;break;case D.PROGRESS:w.numOfProgress++;break;case D.ERROR:w.numOfUploadFailed++;break;case D.COMPLETE:w.numOfSuccess++;break;case D.CANCELLED:w.numOfCancel++;break;case D.INVALID:w.numOfInvalid++;break;case D.INTERRUPT:w.numofInterrupt++;break}}}),a.installTo(v.prototype),v}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(l,a,c,d,D,v){var C=l.$,f=/\.\w+$/,w=d.Status;return a.register({name:"queue",init:function(F){var T=this,R,ee,re,ae,ce,ue,de;if(C.isPlainObject(F.accept)&&(F.accept=[F.accept]),F.accept){for(ce=[],re=0,ee=F.accept.length;re<ee;re++)ae=F.accept[re].extensions,ae&&ce.push(ae);ce.length&&(ue="\\."+ce.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),T.accept=new RegExp(ue,"i")}if(T.queue=new c,T.stats=T.queue.stats,this.request("predict-runtime-type")==="html5")return R=l.Deferred(),this.placeholder=de=new v("Placeholder"),de.connectRuntime({runtimeOrder:"html5"},function(){T._ruid=de.getRuid(),R.resolve()}),R.promise()},_wrapFile:function(F){if(!(F instanceof d)){if(!(F instanceof D)){if(!this._ruid)throw new Error("Can't add external files.");F=new D(this._ruid,F)}F=new d(F)}return F},acceptFile:function(F){var T=!F||!F.size||this.accept&&f.exec(F.name)&&!this.accept.test(F.name);return!T},_addFile:function(F){var T=this;if(F=T._wrapFile(F),!!T.owner.trigger("beforeFileQueued",F)){if(!T.acceptFile(F)){T.owner.trigger("error","Q_TYPE_DENIED",F);return}return T.queue.append(F),T.owner.trigger("fileQueued",F),F}},getFile:function(F){return this.queue.getFile(F)},addFile:function(F){var T=this;F.length||(F=[F]),F=C.map(F,function(R){return T._addFile(R)}),F.length&&(T.owner.trigger("filesQueued",F),T.options.auto&&setTimeout(function(){T.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(F,T){var R=this;F=F.id?F:R.queue.getFile(F),this.request("cancel-file",F),T&&this.queue.removeFile(F)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(F,T){var R=this,ee,re,ae;if(F){F=F.id?F:R.queue.getFile(F),F.setStatus(w.QUEUED),T||R.request("start-upload");return}for(ee=R.queue.getFiles(w.ERROR),re=0,ae=ee.length;re<ae;re++)F=ee[re],F.setStatus(w.QUEUED);R.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new c,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(l,a){return l.support=function(){return a.hasRuntime.apply(a,arguments)},l.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var c=this.options.runtimeOrder||a.orders,d=this.type,D,v;if(!d){for(c=c.split(/\s*,\s*/g),D=0,v=c.length;D<v;D++)if(a.hasRuntime(c[D])){this.type=d=c[D];break}}return d}})}),t("lib/transport",["base","runtime/client","mediator"],function(l,a,c){var d=l.$;function D(v){var C=this;v=C.options=d.extend(!0,{},D.options,v||{}),a.call(this,"Transport"),this._blob=null,this._formData=v.formData||{},this._headers=v.headers||{},this.on("progress",this._timeout),this.on("load error",function(){C.trigger("progress",1),clearTimeout(C._timer)})}return D.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:2*60*1e3,formData:{},headers:{},sendAsBinary:!1},d.extend(D.prototype,{appendBlob:function(v,C,f){var w=this,F=w.options;w.getRuid()&&w.disconnectRuntime(),w.connectRuntime(C.ruid,function(){w.exec("init")}),w._blob=C,F.fileVal=v||F.fileVal,F.filename=f||F.filename},append:function(v,C){typeof v=="object"?d.extend(this._formData,v):this._formData[v]=C},setRequestHeader:function(v,C){typeof v=="object"?d.extend(this._headers,v):this._headers[v]=C},send:function(v){this.exec("send",v),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var v=this,C=v.options.timeout;!C||(clearTimeout(v._timer),v._timer=setTimeout(function(){v.abort(),v.trigger("error","timeout")},C))}}),c.installTo(D.prototype),D}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(l,a,c,d){var D=l.$,v=l.isPromise,C=c.Status;D.extend(a.options,{prepareNextFile:!1,chunked:!1,chunkSize:5*1024*1024,chunkRetry:2,threads:3,formData:{}});function f(w,F){var T=[],R=w.source,ee=R.size,re=F?Math.ceil(ee/F):1,ae=0,ce=0,ue,de;for(de={file:w,has:function(){return!!T.length},shift:function(){return T.shift()},unshift:function(A){T.unshift(A)}};ce<re;)ue=Math.min(F,ee-ae),T.push({file:w,start:ae,end:F?ae+ue:ee,total:ee,chunks:re,chunk:ce++,cuted:de}),ae+=ue;return w.blocks=T.concat(),w.remaning=T.length,de}a.register({name:"upload",init:function(){var w=this.owner,F=this;this.runing=!1,this.progress=!1,w.on("startUpload",function(){F.progress=!0}).on("uploadFinished",function(){F.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=l.bindFn(this._tick,this),w.on("uploadComplete",function(T){T.blocks&&D.each(T.blocks,function(R,ee){ee.transport&&(ee.transport.abort(),ee.transport.destroy()),delete ee.transport}),delete T.blocks,delete T.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(w){var F=this;if(D.each(F.request("get-files",C.INVALID),function(){F.request("remove-file",this)}),w?(w=w.id?w:F.request("get-file",w),w.getStatus()===C.INTERRUPT?(w.setStatus(C.QUEUED),D.each(F.pool,function(R,ee){ee.file===w&&(ee.transport&&ee.transport.send(),w.setStatus(C.PROGRESS))})):w.getStatus()!==C.PROGRESS&&w.setStatus(C.QUEUED)):D.each(F.request("get-files",[C.INITED]),function(){this.setStatus(C.QUEUED)}),F.runing)return l.nextTick(F.__tick);F.runing=!0;var T=[];w||D.each(F.pool,function(R,ee){var re=ee.file;re.getStatus()===C.INTERRUPT&&(F._trigged=!1,T.push(re),ee.transport&&ee.transport.send())}),D.each(T,function(){this.setStatus(C.PROGRESS)}),w||D.each(F.request("get-files",C.INTERRUPT),function(){this.setStatus(C.PROGRESS)}),F._trigged=!1,l.nextTick(F.__tick),F.owner.trigger("startUpload")},stopUpload:function(w,F){var T=this,R;if(w===!0&&(F=w,w=null),T.runing!==!1){if(w)return w=w.id?w:T.request("get-file",w),w.getStatus()!==C.PROGRESS&&w.getStatus()!==C.QUEUED?void 0:(w.setStatus(C.INTERRUPT),D.each(T.pool,function(ee,re){if(re.file===w)return R=re,!1}),R.transport&&R.transport.abort(),F&&(T._putback(R),T._popBlock(R)),l.nextTick(T.__tick));T.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(C.INTERRUPT),F&&D.each(T.pool,function(ee,re){re.transport&&re.transport.abort(),re.file.setStatus(C.INTERRUPT)}),T.owner.trigger("stopUpload")}},cancelFile:function(w){w=w.id?w:this.request("get-file",w),w.blocks&&D.each(w.blocks,function(F,T){var R=T.transport;R&&(R.abort(),R.destroy(),delete T.transport)}),w.setStatus(C.CANCELLED),this.owner.trigger("fileDequeued",w)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(w,F){w=w.id?w:this.request("get-file",w),w.setStatus(F||C.COMPLETE),w.skipped=!0,w.blocks&&D.each(w.blocks,function(T,R){var ee=R.transport;ee&&(ee.abort(),ee.destroy(),delete R.transport)}),this.owner.trigger("uploadSkip",w)},_tick:function(){var w=this,F=w.options,T,R;if(w._promise)return w._promise.always(w.__tick);w.pool.length<F.threads&&(R=w._nextBlock())?(w._trigged=!1,T=function(ee){w._promise=null,ee&&ee.file&&w._startSend(ee),l.nextTick(w.__tick)},w._promise=v(R)?R.always(T):T(R)):!w.remaning&&!w._getStats().numOfQueue&&!w._getStats().numofInterrupt&&(w.runing=!1,w._trigged||l.nextTick(function(){w.owner.trigger("uploadFinished")}),w._trigged=!0)},_putback:function(w){var F;w.cuted.unshift(w),F=this.stack.indexOf(w.cuted),~F||this.stack.unshift(w.cuted)},_getStack:function(){for(var w=0,F;F=this.stack[w++];){if(F.has()&&F.file.getStatus()===C.PROGRESS)return F;(!F.has()||F.file.getStatus()!==C.PROGRESS&&F.file.getStatus()!==C.INTERRUPT)&&this.stack.splice(--w,1)}return null},_nextBlock:function(){var w=this,F=w.options,T,R,ee,re;if(T=this._getStack())return F.prepareNextFile&&!w.pending.length&&w._prepareNextFile(),T.shift();if(w.runing)return!w.pending.length&&w._getStats().numOfQueue&&w._prepareNextFile(),R=w.pending.shift(),ee=function(ae){return ae?(T=f(ae,F.chunked?F.chunkSize:0),w.stack.push(T),T.shift()):null},v(R)?(re=R.file,R=R[R.pipe?"pipe":"then"](ee),R.file=re,R):ee(R)},_prepareNextFile:function(){var w=this,F=w.request("fetch-file"),T=w.pending,R;F&&(R=w.request("before-send-file",F,function(){return F.getStatus()===C.PROGRESS||F.getStatus()===C.INTERRUPT?F:w._finishFile(F)}),w.owner.trigger("uploadStart",F),F.setStatus(C.PROGRESS),R.file=F,R.done(function(){var ee=D.inArray(R,T);~ee&&T.splice(ee,1,F)}),R.fail(function(ee){F.setStatus(C.ERROR,ee),w.owner.trigger("uploadError",F,ee),w.owner.trigger("uploadComplete",F)}),T.push(R))},_popBlock:function(w){var F=D.inArray(w,this.pool);this.pool.splice(F,1),w.file.remaning--,this.remaning--},_startSend:function(w){var F=this,T=w.file,R;if(T.getStatus()!==C.PROGRESS){T.getStatus()===C.INTERRUPT&&F._putback(w);return}F.pool.push(w),F.remaning++,w.blob=w.chunks===1?T.source:T.source.slice(w.start,w.end),R=F.request("before-send",w,function(){T.getStatus()===C.PROGRESS?F._doSend(w):(F._popBlock(w),l.nextTick(F.__tick))}),R.fail(function(){T.remaning===1?F._finishFile(T).always(function(){w.percentage=1,F._popBlock(w),F.owner.trigger("uploadComplete",T),l.nextTick(F.__tick)}):(w.percentage=1,F.updateFileProgress(T),F._popBlock(w),l.nextTick(F.__tick))})},_doSend:function(w){var F=this,T=F.owner,R=F.options,ee=w.file,re=new d(R),ae=D.extend({},R.formData),ce=D.extend({},R.headers),ue,de;w.transport=re,re.on("destroy",function(){delete w.transport,F._popBlock(w),l.nextTick(F.__tick)}),re.on("progress",function(A){w.percentage=A,F.updateFileProgress(ee)}),ue=function(A){var oe;return de=re.getResponseAsJson()||{},de._raw=re.getResponse(),oe=function(le){A=le},T.trigger("uploadAccept",w,de,oe)||(A=A||"server"),A},re.on("error",function(A,oe){w.retried=w.retried||0,w.chunks>1&&~"http,abort".indexOf(A)&&w.retried<R.chunkRetry?(w.retried++,re.send()):(!oe&&A==="server"&&(A=ue(A)),ee.setStatus(C.ERROR,A),T.trigger("uploadError",ee,A),T.trigger("uploadComplete",ee))}),re.on("load",function(){var A;if(A=ue()){re.trigger("error",A,!0);return}ee.remaning===1?F._finishFile(ee,de):re.destroy()}),ae=D.extend(ae,{id:ee.id,name:ee.name,type:ee.type,lastModifiedDate:ee.lastModifiedDate,size:ee.size}),w.chunks>1&&D.extend(ae,{chunks:w.chunks,chunk:w.chunk}),T.trigger("uploadBeforeSend",w,ae,ce),re.appendBlob(R.fileVal,w.blob,ee.name),re.append(ae),re.setRequestHeader(ce),re.send()},_finishFile:function(w,F,T){var R=this.owner;return R.request("after-send-file",arguments,function(){w.setStatus(C.COMPLETE),R.trigger("uploadSuccess",w,F,T)}).fail(function(ee){w.getStatus()===C.PROGRESS&&w.setStatus(C.ERROR,ee),R.trigger("uploadError",w,ee)}).always(function(){R.trigger("uploadComplete",w)})},updateFileProgress:function(w){var F=0,T=0;!w.blocks||(D.each(w.blocks,function(R,ee){T+=(ee.percentage||0)*(ee.end-ee.start)}),F=T/w.size,this.owner.trigger("uploadProgress",w,F||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(l,a,c){var d=l.$,D={},v;return v={addValidator:function(C,f){D[C]=f},removeValidator:function(C){delete D[C]}},a.register({name:"validator",init:function(){var C=this;l.nextTick(function(){d.each(D,function(){this.call(C.owner)})})}}),v.addValidator("fileNumLimit",function(){var C=this,f=C.options,w=0,F=parseInt(f.fileNumLimit,10),T=!0;!F||(C.on("beforeFileQueued",function(R){return w>=F&&T&&(T=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",F,R),setTimeout(function(){T=!0},1)),!(w>=F)}),C.on("fileQueued",function(){w++}),C.on("fileDequeued",function(){w--}),C.on("reset",function(){w=0}))}),v.addValidator("fileSizeLimit",function(){var C=this,f=C.options,w=0,F=parseInt(f.fileSizeLimit,10),T=!0;!F||(C.on("beforeFileQueued",function(R){var ee=w+R.size>F;return ee&&T&&(T=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",F,R),setTimeout(function(){T=!0},1)),!ee}),C.on("fileQueued",function(R){w+=R.size}),C.on("fileDequeued",function(R){w-=R.size}),C.on("reset",function(){w=0}))}),v.addValidator("fileSingleSizeLimit",function(){var C=this,f=C.options,w=f.fileSingleSizeLimit;!w||C.on("beforeFileQueued",function(F){if(F.size>w)return F.setStatus(c.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",w,F),!1})}),v.addValidator("duplicate",function(){var C=this,f=C.options,w={};if(f.duplicate)return;function F(T){for(var R=0,ee=0,re=T.length,ae;ee<re;ee++)ae=T.charCodeAt(ee),R=ae+(R<<6)+(R<<16)-R;return R}C.on("beforeFileQueued",function(T){var R=T.__hash||(T.__hash=F(T.name+T.size+T.lastModifiedDate));if(w[R])return this.trigger("error","F_DUPLICATE",T),!1}),C.on("fileQueued",function(T){var R=T.__hash;R&&(w[R]=!0)}),C.on("fileDequeued",function(T){var R=T.__hash;R&&delete w[R]}),C.on("reset",function(){w={}})}),v}),t("lib/md5",["runtime/client","mediator"],function(l,a){function c(){l.call(this,"Md5")}return a.installTo(c.prototype),c.prototype.loadFromBlob=function(d){var D=this;D.getRuid()&&D.disconnectRuntime(),D.connectRuntime(d.ruid,function(){D.exec("init"),D.exec("loadFromBlob",d)})},c.prototype.getResult=function(){return this.exec("getResult")},c}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(l,a,c,d){return a.register({name:"md5",md5File:function(D,v,C){var f=new c,w=l.Deferred(),F=D instanceof d?D:this.request("get-file",D).source;return f.on("progress load",function(T){T=T||{},w.notify(T.total?T.loaded/T.total:1)}),f.on("complete",function(){w.resolve(f.getResult())}),f.on("error",function(T){w.reject(T)}),arguments.length>1&&(v=v||0,C=C||0,v<0&&(v=F.size+v),C<0&&(C=F.size+C),C=Math.min(C,F.size),F=F.slice(v,C)),f.loadFromBlob(F),w.promise()}})}),t("runtime/compbase",[],function(){function l(a,c){this.owner=a,this.options=a.options,this.getRuntime=function(){return c},this.getRuid=function(){return c.uid},this.trigger=function(){return a.trigger.apply(a,arguments)}}return l}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(l,a,c){var d="html5",D={};function v(){var C={},f=this,w=this.destroy;a.apply(f,arguments),f.type=d,f.exec=function(F,T){var R=this,ee=R.uid,re=l.slice(arguments,2),ae;if(D[F]&&(ae=C[ee]=C[ee]||new D[F](R,f),ae[T]))return ae[T].apply(ae,re)},f.destroy=function(){return w&&w.apply(this,arguments)}}return l.inherits(a,{constructor:v,init:function(){var C=this;setTimeout(function(){C.trigger("ready")},1)}}),v.register=function(C,f){var w=D[C]=l.inherits(c,f);return w},e.Blob&&e.FileReader&&e.DataView&&a.addRuntime(d,v),v}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(l,a){return l.register("Blob",{slice:function(c,d){var D=this.owner.source,v=D.slice||D.webkitSlice||D.mozSlice;return D=v.call(D,c,d),new a(this.getRuid(),D)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(l,a,c){var d=l.$,D="webuploader-dnd-";return a.register("DragAndDrop",{init:function(){var v=this.elem=this.options.container;this.dragEnterHandler=l.bindFn(this._dragEnterHandler,this),this.dragOverHandler=l.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=l.bindFn(this._dragLeaveHandler,this),this.dropHandler=l.bindFn(this._dropHandler,this),this.dndOver=!1,v.on("dragenter",this.dragEnterHandler),v.on("dragover",this.dragOverHandler),v.on("dragleave",this.dragLeaveHandler),v.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).on("dragover",this.dragOverHandler),d(document).on("drop",this.dropHandler))},_dragEnterHandler:function(v){var C=this,f=C._denied||!1,w;return v=v.originalEvent||v,C.dndOver||(C.dndOver=!0,w=v.dataTransfer.items,w&&w.length&&(C._denied=f=!C.trigger("accept",w)),C.elem.addClass(D+"over"),C.elem[f?"addClass":"removeClass"](D+"denied")),v.dataTransfer.dropEffect=f?"none":"copy",!1},_dragOverHandler:function(v){var C=this.elem.parent().get(0);return C&&!d.contains(C,v.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,v)),!1},_dragLeaveHandler:function(){var v=this,C;return C=function(){v.dndOver=!1,v.elem.removeClass(D+"over "+D+"denied")},clearTimeout(v._leaveTimer),v._leaveTimer=setTimeout(C,100),!1},_dropHandler:function(v){var C=this,f=C.getRuid(),w=C.elem.parent().get(0),F,T;if(w&&!d.contains(w,v.currentTarget))return!1;v=v.originalEvent||v,F=v.dataTransfer;try{T=F.getData("text/html")}catch{}if(C.dndOver=!1,C.elem.removeClass(D+"over"),!T)return C._getTansferFiles(F,function(R){C.trigger("drop",d.map(R,function(ee){return new c(f,ee)}))}),!1},_getTansferFiles:function(v,C){var f=[],w=[],F,T,R,ee,re,ae,ce;for(F=v.items,T=v.files,ce=!!(F&&F[0].webkitGetAsEntry),re=0,ae=T.length;re<ae;re++)R=T[re],ee=F&&F[re],ce&&ee.webkitGetAsEntry().isDirectory?w.push(this._traverseDirectoryTree(ee.webkitGetAsEntry(),f)):f.push(R);l.when.apply(l,w).done(function(){!f.length||C(f)})},_traverseDirectoryTree:function(v,C){var f=l.Deferred(),w=this;return v.isFile?v.file(function(F){C.push(F),f.resolve()}):v.isDirectory&&v.createReader().readEntries(function(F){var T=F.length,R=[],ee=[],re;for(re=0;re<T;re++)R.push(w._traverseDirectoryTree(F[re],ee));l.when.apply(l,R).then(function(){C.push.apply(C,ee),f.resolve()},f.reject)}),f.promise()},destroy:function(){var v=this.elem;!v||(v.off("dragenter",this.dragEnterHandler),v.off("dragover",this.dragOverHandler),v.off("dragleave",this.dragLeaveHandler),v.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).off("dragover",this.dragOverHandler),d(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(l,a,c){return a.register("FilePaste",{init:function(){var d=this.options,D=this.elem=d.container,v=".*",C,f,w,F;if(d.accept){for(C=[],f=0,w=d.accept.length;f<w;f++)F=d.accept[f].mimeTypes,F&&C.push(F);C.length&&(v=C.join(","),v=v.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=v=new RegExp(v,"i"),this.hander=l.bindFn(this._pasteHander,this),D.on("paste",this.hander)},_pasteHander:function(d){var D=[],v=this.getRuid(),C,f,w,F,T;for(d=d.originalEvent||d,C=d.clipboardData.items,F=0,T=C.length;F<T;F++)f=C[F],!(f.kind!=="file"||!(w=f.getAsFile()))&&D.push(new c(v,w));D.length&&(d.preventDefault(),d.stopPropagation(),this.trigger("paste",D))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(l,a){var c=l.$;return a.register("FilePicker",{init:function(){var d=this.getRuntime().getContainer(),D=this,v=D.owner,C=D.options,f=this.label=c(document.createElement("label")),w=this.input=c(document.createElement("input")),F,T,R,ee;if(w.attr("type","file"),w.attr("capture","camera"),w.attr("name",C.name),w.addClass("webuploader-element-invisible"),f.on("click",function(ae){w.trigger("click"),ae.stopPropagation(),v.trigger("dialogopen")}),f.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),C.multiple&&w.attr("multiple","multiple"),C.accept&&C.accept.length>0){for(F=[],T=0,R=C.accept.length;T<R;T++)F.push(C.accept[T].mimeTypes);w.attr("accept",F.join(","))}d.append(w),d.append(f),ee=function(ae){v.trigger(ae.type)};function re(ae){var ce=re,ue;D.files=ae.target.files,ue=this.cloneNode(!0),ue.value=null,this.parentNode.replaceChild(ue,this),w.off(),w=c(ue).on("change",ce).on("mouseenter mouseleave",ee),v.trigger("change")}w.on("change",re),f.on("mouseenter mouseleave",ee)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(l){var a=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,c=l.noop,d=c;return a&&(c=function(){return a.createObjectURL.apply(a,arguments)},d=function(){return a.revokeObjectURL.apply(a,arguments)}),{createObjectURL:c,revokeObjectURL:d,dataURL2Blob:function(D){var v,C,f,w,F,T;for(T=D.split(","),~T[0].indexOf("base64")?v=atob(T[1]):v=decodeURIComponent(T[1]),f=new ArrayBuffer(v.length),C=new Uint8Array(f),w=0;w<v.length;w++)C[w]=v.charCodeAt(w);return F=T[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(f,F)},dataURL2ArrayBuffer:function(D){var v,C,f,w;for(w=D.split(","),~w[0].indexOf("base64")?v=atob(w[1]):v=decodeURIComponent(w[1]),C=new Uint8Array(v.length),f=0;f<v.length;f++)C[f]=v.charCodeAt(f);return C.buffer},arrayBufferToBlob:function(D,v){var C=e.BlobBuilder||e.WebKitBlobBuilder,f;return C?(f=new C,f.append(D),f.getBlob(v)):new Blob([D],v?{type:v}:{})},canvasToDataUrl:function(D,v,C){return D.toDataURL(v,C/100)},parseMeta:function(D,v){v(!1,{})},updateImageHead:function(D){return D}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(l){var a;return a={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(c,d){var D=this,v=new FileReader;v.onload=function(){d(!1,D._parse(this.result)),v=v.onload=v.onerror=null},v.onerror=function(C){d(C.message),v=v.onload=v.onerror=null},c=c.slice(0,D.maxMetaDataSize),v.readAsArrayBuffer(c.getSource())},_parse:function(c,d){if(!(c.byteLength<6)){var D=new DataView(c),v=2,C=D.byteLength-4,f=v,w={},F,T,R,ee;if(D.getUint16(0)===65496){for(;v<C&&(F=D.getUint16(v),F>=65504&&F<=65519||F===65534);){if(T=D.getUint16(v+2)+2,v+T>D.byteLength)break;if(R=a.parsers[F],!d&&R)for(ee=0;ee<R.length;ee+=1)R[ee].call(a,D,v,T,w);v+=T,f=v}f>6&&(c.slice?w.imageHead=c.slice(2,f):w.imageHead=new Uint8Array(c).subarray(2,f))}return w}},updateImageHead:function(c,d){var D=this._parse(c,!0),v,C,f;return f=2,D.imageHead&&(f=2+D.imageHead.byteLength),c.slice?C=c.slice(f):C=new Uint8Array(c).subarray(f),v=new Uint8Array(d.byteLength+2+C.byteLength),v[0]=255,v[1]=216,v.set(new Uint8Array(d),2),v.set(new Uint8Array(C),d.byteLength+2),v.buffer}},l.parseMeta=function(){return a.parse.apply(a,arguments)},l.updateImageHead=function(){return a.updateImageHead.apply(a,arguments)},a}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(l,a){var c={};return c.ExifMap=function(){return this},c.ExifMap.prototype.map={Orientation:274},c.ExifMap.prototype.get=function(d){return this[d]||this[this.map[d]]},c.exifTagTypes={1:{getValue:function(d,D){return d.getUint8(D)},size:1},2:{getValue:function(d,D){return String.fromCharCode(d.getUint8(D))},size:1,ascii:!0},3:{getValue:function(d,D,v){return d.getUint16(D,v)},size:2},4:{getValue:function(d,D,v){return d.getUint32(D,v)},size:4},5:{getValue:function(d,D,v){return d.getUint32(D,v)/d.getUint32(D+4,v)},size:8},9:{getValue:function(d,D,v){return d.getInt32(D,v)},size:4},10:{getValue:function(d,D,v){return d.getInt32(D,v)/d.getInt32(D+4,v)},size:8}},c.exifTagTypes[7]=c.exifTagTypes[1],c.getExifValue=function(d,D,v,C,f,w){var F=c.exifTagTypes[C],T,R,ee,re,ae,ce;if(!F){l.log("Invalid Exif data: Invalid tag type.");return}if(T=F.size*f,R=T>4?D+d.getUint32(v+8,w):v+8,R+T>d.byteLength){l.log("Invalid Exif data: Invalid data offset.");return}if(f===1)return F.getValue(d,R,w);for(ee=[],re=0;re<f;re+=1)ee[re]=F.getValue(d,R+re*F.size,w);if(F.ascii){for(ae="",re=0;re<ee.length&&(ce=ee[re],ce!=="\0");re+=1)ae+=ce;return ae}return ee},c.parseExifTag=function(d,D,v,C,f){var w=d.getUint16(v,C);f.exif[w]=c.getExifValue(d,D,v,d.getUint16(v+2,C),d.getUint32(v+4,C),C)},c.parseExifTags=function(d,D,v,C,f){var w,F,T;if(v+6>d.byteLength){l.log("Invalid Exif data: Invalid directory offset.");return}if(w=d.getUint16(v,C),F=v+2+12*w,F+4>d.byteLength){l.log("Invalid Exif data: Invalid directory size.");return}for(T=0;T<w;T+=1)this.parseExifTag(d,D,v+2+12*T,C,f);return d.getUint32(F,C)},c.parseExifData=function(d,D,v,C){var f=D+10,w,F;if(d.getUint32(D+4)===1165519206){if(f+8>d.byteLength){l.log("Invalid Exif data: Invalid segment size.");return}if(d.getUint16(D+8)!==0){l.log("Invalid Exif data: Missing byte alignment offset.");return}switch(d.getUint16(f)){case 18761:w=!0;break;case 19789:w=!1;break;default:l.log("Invalid Exif data: Invalid byte alignment marker.");return}if(d.getUint16(f+2,w)!==42){l.log("Invalid Exif data: Missing TIFF marker.");return}F=d.getUint32(f+4,w),C.exif=new c.ExifMap,F=c.parseExifTags(d,f,f+F,w,C)}},a.parsers[65505].push(c.parseExifData),c}),t("runtime/html5/jpegencoder",[],function(l,a,c){function d(D){var v=Math.floor,C=new Array(64),f=new Array(64),w=new Array(64),F=new Array(64),T,R,ee,re,ae=new Array(65535),ce=new Array(65535),ue=new Array(64),de=new Array(64),A=[],oe=0,le=7,ie=new Array(64),I=new Array(64),j=new Array(64),pe=new Array(256),be=new Array(2048),De,Re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Se=[0,1,2,3,4,5,6,7,8,9,10,11],Le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],st=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ye=[0,1,2,3,4,5,6,7,8,9,10,11],Ke=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],St=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ct(it){for(var zt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pt=0;pt<64;pt++){var ut=v((zt[pt]*it+50)/100);ut<1?ut=1:ut>255&&(ut=255),C[Re[pt]]=ut}for(var Gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],hn=0;hn<64;hn++){var vn=v((Gt[hn]*it+50)/100);vn<1?vn=1:vn>255&&(vn=255),f[Re[hn]]=vn}for(var Ot=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rt=0,xt=0;xt<8;xt++)for(var Qt=0;Qt<8;Qt++)w[rt]=1/(C[Re[rt]]*Ot[xt]*Ot[Qt]*8),F[rt]=1/(f[Re[rt]]*Ot[xt]*Ot[Qt]*8),rt++}function Ct(it,zt){for(var pt=0,ut=0,Gt=new Array,hn=1;hn<=16;hn++){for(var vn=1;vn<=it[hn];vn++)Gt[zt[ut]]=[],Gt[zt[ut]][0]=pt,Gt[zt[ut]][1]=hn,ut++,pt++;pt*=2}return Gt}function Pt(){T=Ct(Ee,Se),R=Ct(st,Ye),ee=Ct(Le,Ie),re=Ct(Ke,St)}function bt(){for(var it=1,zt=2,pt=1;pt<=15;pt++){for(var ut=it;ut<zt;ut++)ce[32767+ut]=pt,ae[32767+ut]=[],ae[32767+ut][1]=pt,ae[32767+ut][0]=ut;for(var Gt=-(zt-1);Gt<=-it;Gt++)ce[32767+Gt]=pt,ae[32767+Gt]=[],ae[32767+Gt][1]=pt,ae[32767+Gt][0]=zt-1+Gt;it<<=1,zt<<=1}}function an(){for(var it=0;it<256;it++)be[it]=19595*it,be[it+256>>0]=38470*it,be[it+512>>0]=7471*it+32768,be[it+768>>0]=-11059*it,be[it+1024>>0]=-21709*it,be[it+1280>>0]=32768*it+8421375,be[it+1536>>0]=-27439*it,be[it+1792>>0]=-5329*it}function Yt(it){for(var zt=it[0],pt=it[1]-1;pt>=0;)zt&1<<pt&&(oe|=1<<le),pt--,le--,le<0&&(oe==255?(Ne(255),Ne(0)):Ne(oe),le=7,oe=0)}function Ne(it){A.push(pe[it])}function mt(it){Ne(it>>8&255),Ne(it&255)}function me(it,zt){var pt,ut,Gt,hn,vn,Ot,rt,xt,Qt=0,gn,Nn=8,Ar=64;for(gn=0;gn<Nn;++gn){pt=it[Qt],ut=it[Qt+1],Gt=it[Qt+2],hn=it[Qt+3],vn=it[Qt+4],Ot=it[Qt+5],rt=it[Qt+6],xt=it[Qt+7];var jn=pt+xt,Hn=pt-xt,ir=ut+rt,vi=ut-rt,di=Gt+Ot,jt=Gt-Ot,En=hn+vn,Xn=hn-vn,Mr=jn+En,Wr=jn-En,jr=ir+di,yi=ir-di;it[Qt]=Mr+jr,it[Qt+4]=Mr-jr;var Kr=(yi+Wr)*.707106781;it[Qt+2]=Wr+Kr,it[Qt+6]=Wr-Kr,Mr=Xn+jt,jr=jt+vi,yi=vi+Hn;var Co=(Mr-yi)*.382683433,Ce=.5411961*Mr+Co,ai=1.306562965*yi+Co,zo=jr*.707106781,mr=Hn+zo,zi=Hn-zo;it[Qt+5]=zi+Ce,it[Qt+3]=zi-Ce,it[Qt+1]=mr+ai,it[Qt+7]=mr-ai,Qt+=8}for(Qt=0,gn=0;gn<Nn;++gn){pt=it[Qt],ut=it[Qt+8],Gt=it[Qt+16],hn=it[Qt+24],vn=it[Qt+32],Ot=it[Qt+40],rt=it[Qt+48],xt=it[Qt+56];var Yo=pt+xt,oa=pt-xt,Rs=ut+rt,ps=ut-rt,ms=Gt+Ot,Xa=Gt-Ot,Fo=hn+vn,gs=hn-vn,ho=Yo+Fo,Ya=Yo-Fo,jo=Rs+ms,xa=Rs-ms;it[Qt]=ho+jo,it[Qt+32]=ho-jo;var Za=(xa+Ya)*.707106781;it[Qt+16]=Ya+Za,it[Qt+48]=Ya-Za,ho=gs+Xa,jo=Xa+ps,xa=ps+oa;var fo=(ho-xa)*.382683433,aa=.5411961*ho+fo,sa=1.306562965*xa+fo,Eo=jo*.707106781,Ls=oa+Eo,So=oa-Eo;it[Qt+40]=So+aa,it[Qt+24]=So-aa,it[Qt+8]=Ls+sa,it[Qt+56]=Ls-sa,Qt++}var Da;for(gn=0;gn<Ar;++gn)Da=it[gn]*zt[gn],ue[gn]=Da>0?Da+.5|0:Da-.5|0;return ue}function Ae(){mt(65504),mt(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),mt(1),mt(1),Ne(0),Ne(0)}function Oe(it,zt){mt(65472),mt(17),Ne(8),mt(zt),mt(it),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1)}function Pe(){mt(65499),mt(132),Ne(0);for(var it=0;it<64;it++)Ne(C[it]);Ne(1);for(var zt=0;zt<64;zt++)Ne(f[zt])}function $e(){mt(65476),mt(418),Ne(0);for(var it=0;it<16;it++)Ne(Ee[it+1]);for(var zt=0;zt<=11;zt++)Ne(Se[zt]);Ne(16);for(var pt=0;pt<16;pt++)Ne(Le[pt+1]);for(var ut=0;ut<=161;ut++)Ne(Ie[ut]);Ne(1);for(var Gt=0;Gt<16;Gt++)Ne(st[Gt+1]);for(var hn=0;hn<=11;hn++)Ne(Ye[hn]);Ne(17);for(var vn=0;vn<16;vn++)Ne(Ke[vn+1]);for(var Ot=0;Ot<=161;Ot++)Ne(St[Ot])}function tt(){mt(65498),mt(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0)}function qe(it,zt,pt,ut,Gt){for(var hn=Gt[0],vn=Gt[240],Ot,rt=16,xt=63,Qt=64,gn=me(it,zt),Nn=0;Nn<Qt;++Nn)de[Re[Nn]]=gn[Nn];var Ar=de[0]-pt;pt=de[0],Ar==0?Yt(ut[0]):(Ot=32767+Ar,Yt(ut[ce[Ot]]),Yt(ae[Ot]));for(var jn=63;jn>0&&de[jn]==0;jn--);if(jn==0)return Yt(hn),pt;for(var Hn=1,ir;Hn<=jn;){for(var vi=Hn;de[Hn]==0&&Hn<=jn;++Hn);var di=Hn-vi;if(di>=rt){ir=di>>4;for(var jt=1;jt<=ir;++jt)Yt(vn);di=di&15}Ot=32767+de[Hn],Yt(Gt[(di<<4)+ce[Ot]]),Yt(ae[Ot]),Hn++}return jn!=xt&&Yt(hn),pt}function dt(){for(var it=String.fromCharCode,zt=0;zt<256;zt++)pe[zt]=it(zt)}this.encode=function(it,zt){zt&&ft(zt),A=new Array,oe=0,le=7,mt(65496),Ae(),Pe(),Oe(it.width,it.height),$e(),tt();var pt=0,ut=0,Gt=0;oe=0,le=7,this.encode.displayName="_encode_";for(var hn=it.data,vn=it.width,Ot=it.height,rt=vn*4,xt,Qt=0,gn,Nn,Ar,jn,Hn,ir,vi,di;Qt<Ot;){for(xt=0;xt<rt;){for(jn=rt*Qt+xt,Hn=jn,ir=-1,vi=0,di=0;di<64;di++)vi=di>>3,ir=(di&7)*4,Hn=jn+vi*rt+ir,Qt+vi>=Ot&&(Hn-=rt*(Qt+1+vi-Ot)),xt+ir>=rt&&(Hn-=xt+ir-rt+4),gn=hn[Hn++],Nn=hn[Hn++],Ar=hn[Hn++],ie[di]=(be[gn]+be[Nn+256>>0]+be[Ar+512>>0]>>16)-128,I[di]=(be[gn+768>>0]+be[Nn+1024>>0]+be[Ar+1280>>0]>>16)-128,j[di]=(be[gn+1280>>0]+be[Nn+1536>>0]+be[Ar+1792>>0]>>16)-128;pt=qe(ie,w,pt,T,ee),ut=qe(I,F,ut,R,re),Gt=qe(j,F,Gt,R,re),xt+=32}Qt+=8}if(le>=0){var jt=[];jt[1]=le+1,jt[0]=(1<<le+1)-1,Yt(jt)}mt(65497);var En="data:image/jpeg;base64,"+btoa(A.join(""));return A=[],En};function ft(it){if(it<=0&&(it=1),it>100&&(it=100),De!=it){var zt=0;it<50?zt=Math.floor(5e3/it):zt=Math.floor(200-it*2),ct(zt),De=it}}function Ft(){D||(D=50),dt(),Pt(),bt(),an(),ft(D)}Ft()}return d.encode=function(D,v){var C=new d(v);return C.encode(D)},d}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(l,a,c){var d=l.canvasToDataUrl,D;l.canvasToDataUrl=function(v,C,f){var w,F,T,R,ee;return c.os.android?(C==="image/jpeg"&&typeof D>"u"&&(R=d.apply(null,arguments),ee=R.split(","),~ee[0].indexOf("base64")?R=atob(ee[1]):R=decodeURIComponent(ee[1]),R=R.substring(0,2),D=R.charCodeAt(0)===255&&R.charCodeAt(1)===216),C==="image/jpeg"&&!D?(F=v.width,T=v.height,w=v.getContext("2d"),a.encode(w.getImageData(0,0,F,T),f)):d.apply(null,arguments)):d.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(l,a,c){var d="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return a.register("Image",{modified:!1,init:function(){var D=this,v=new Image;v.onload=function(){D._info={type:D.type,width:this.width,height:this.height},!D._metas&&D.type==="image/jpeg"?c.parseMeta(D._blob,function(C,f){D._metas=f,D.owner.trigger("load")}):D.owner.trigger("load")},v.onerror=function(){D.owner.trigger("error")},D._img=v},loadFromBlob:function(D){var v=this,C=v._img;v._blob=D,v.type=D.type,C.src=c.createObjectURL(D.getSource()),v.owner.once("load",function(){c.revokeObjectURL(C.src)})},resize:function(D,v){var C=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,C,D,v),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(D,v,C,f,w){var F=this._canvas||(this._canvas=document.createElement("canvas")),T=this.options,R=this._img,ee=R.naturalWidth,re=R.naturalHeight,ae=this.getOrientation();w=w||1,F.width=C,F.height=f,T.preserveHeaders||this._rotate2Orientaion(F,ae),this._renderImageToCanvas(F,R,-D,-v,ee*w,re*w),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(D){var v=this._blob,C=this.options,f;if(D=D||this.type,this.modified||this.type!==D){if(f=this._canvas,D==="image/jpeg"){if(v=c.canvasToDataUrl(f,D,C.quality),C.preserveHeaders&&this._metas&&this._metas.imageHead)return v=c.dataURL2ArrayBuffer(v),v=c.updateImageHead(v,this._metas.imageHead),v=c.arrayBufferToBlob(v,D),v}else v=c.canvasToDataUrl(f,D);v=c.dataURL2Blob(v)}return v},getAsDataUrl:function(D){var v=this.options;return D=D||this.type,D==="image/jpeg"?c.canvasToDataUrl(this._canvas,D,v.quality):this._canvas.toDataURL(D)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(D){return D?(this._info=D,this):this._info},meta:function(D){return D?(this._metas=D,this):this._metas},destroy:function(){var D=this._canvas;this._img.onload=null,D&&(D.getContext("2d").clearRect(0,0,D.width,D.height),D.width=D.height=0,this._canvas=null),this._img.src=d,this._img=this._blob=null},_resize:function(D,v,C,f){var w=this.options,F=D.width,T=D.height,R=this.getOrientation(),ee,re,ae,ce,ue;~[5,6,7,8].indexOf(R)&&(C^=f,f^=C,C^=f),ee=Math[w.crop?"max":"min"](C/F,f/T),w.allowMagnify||(ee=Math.min(1,ee)),re=F*ee,ae=T*ee,w.crop?(v.width=C,v.height=f):(v.width=re,v.height=ae),ce=(v.width-re)/2,ue=(v.height-ae)/2,w.preserveHeaders||this._rotate2Orientaion(v,R),this._renderImageToCanvas(v,D,ce,ue,re,ae)},_rotate2Orientaion:function(D,v){var C=D.width,f=D.height,w=D.getContext("2d");switch(v){case 5:case 6:case 7:case 8:D.width=f,D.height=C;break}switch(v){case 2:w.translate(C,0),w.scale(-1,1);break;case 3:w.translate(C,f),w.rotate(Math.PI);break;case 4:w.translate(0,f),w.scale(1,-1);break;case 5:w.rotate(.5*Math.PI),w.scale(1,-1);break;case 6:w.rotate(.5*Math.PI),w.translate(0,-f);break;case 7:w.rotate(.5*Math.PI),w.translate(C,-f),w.scale(-1,1);break;case 8:w.rotate(-.5*Math.PI),w.translate(-C,0);break}},_renderImageToCanvas:function(){if(!l.os.ios)return function(C){var f=l.slice(arguments,1),w=C.getContext("2d");w.drawImage.apply(w,f)};function D(C,f,w){var F=document.createElement("canvas"),T=F.getContext("2d"),R=0,ee=w,re=w,ae,ce,ue;for(F.width=1,F.height=w,T.drawImage(C,0,0),ae=T.getImageData(0,0,1,w).data;re>R;)ce=ae[(re-1)*4+3],ce===0?ee=re:R=re,re=ee+R>>1;return ue=re/w,ue===0?1:ue}if(l.os.ios>=7)return function(C,f,w,F,T,R){var ee=f.naturalWidth,re=f.naturalHeight,ae=D(f,ee,re);return C.getContext("2d").drawImage(f,0,0,ee*ae,re*ae,w,F,T,R)};function v(C){var f=C.naturalWidth,w=C.naturalHeight,F,T;return f*w>1024*1024?(F=document.createElement("canvas"),F.width=F.height=1,T=F.getContext("2d"),T.drawImage(C,-f+1,0),T.getImageData(0,0,1,1).data[3]===0):!1}return function(C,f,w,F,T,R){var ee=f.naturalWidth,re=f.naturalHeight,ae=C.getContext("2d"),ce=v(f),ue=this.type==="image/jpeg",de=1024,A=0,oe=0,le,ie,I,j,pe,be,De;for(ce&&(ee/=2,re/=2),ae.save(),le=document.createElement("canvas"),le.width=le.height=de,ie=le.getContext("2d"),I=ue?D(f,ee,re):1,j=Math.ceil(de*T/ee),pe=Math.ceil(de*R/re/I);A<re;){for(be=0,De=0;be<ee;)ie.clearRect(0,0,de,de),ie.drawImage(f,-be,-A),ae.drawImage(le,0,0,de,de,w+De,F+oe,j,pe),be+=de,De+=j;A+=de,oe+=pe}ae.restore(),le=ie=null}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(l,a){var c=l.noop,d=l.$;return a.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var D=this.owner,v=this.options,C=this._initAjax(),f=D._blob,w=v.server,F,T,R;v.sendAsBinary?(w+=(/\?/.test(w)?"&":"?")+d.param(D._formData),T=f.getSource()):(F=new FormData,d.each(D._formData,function(ee,re){F.append(ee,re)}),F.append(v.fileVal,f.getSource(),v.filename||D._formData.name||"")),v.withCredentials&&"withCredentials"in C?(C.open(v.method,w,!0),C.withCredentials=!0):C.open(v.method,w),this._setRequestHeader(C,v.headers),T?(C.overrideMimeType&&C.overrideMimeType("application/octet-stream"),l.os.android?(R=new FileReader,R.onload=function(){C.send(this.result),R=R.onload=null},R.readAsArrayBuffer(T)):C.send(T)):C.send(F)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var D=this._xhr;D&&(D.upload.onprogress=c,D.onreadystatechange=c,D.abort(),this._xhr=D=null)},destroy:function(){this.abort()},_initAjax:function(){var D=this,v=new XMLHttpRequest,C=this.options;return C.withCredentials&&!("withCredentials"in v)&&typeof XDomainRequest<"u"&&(v=new XDomainRequest),v.upload.onprogress=function(f){var w=0;return f.lengthComputable&&(w=f.loaded/f.total),D.trigger("progress",w)},v.onreadystatechange=function(){if(v.readyState===4)return v.upload.onprogress=c,v.onreadystatechange=c,D._xhr=null,D._status=v.status,v.status>=200&&v.status<300?(D._response=v.responseText,D.trigger("load")):v.status>=500&&v.status<600?(D._response=v.responseText,D.trigger("error","server")):D.trigger("error",D._status?"http":"abort")},D._xhr=v,v},_setRequestHeader:function(D,v){d.each(v,function(C,f){D.setRequestHeader(C,f)})},_parseJson:function(D){var v;try{v=JSON.parse(D)}catch{v={}}return v}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(l){var a=function(de,A){return de+A&4294967295},c=function(de,A,oe,le,ie,I){return A=a(a(A,de),a(le,I)),a(A<<ie|A>>>32-ie,oe)},d=function(de,A,oe,le,ie,I,j){return c(A&oe|~A&le,de,A,ie,I,j)},D=function(de,A,oe,le,ie,I,j){return c(A&le|oe&~le,de,A,ie,I,j)},v=function(de,A,oe,le,ie,I,j){return c(A^oe^le,de,A,ie,I,j)},C=function(de,A,oe,le,ie,I,j){return c(oe^(A|~le),de,A,ie,I,j)},f=function(de,A){var oe=de[0],le=de[1],ie=de[2],I=de[3];oe=d(oe,le,ie,I,A[0],7,-680876936),I=d(I,oe,le,ie,A[1],12,-389564586),ie=d(ie,I,oe,le,A[2],17,606105819),le=d(le,ie,I,oe,A[3],22,-1044525330),oe=d(oe,le,ie,I,A[4],7,-176418897),I=d(I,oe,le,ie,A[5],12,1200080426),ie=d(ie,I,oe,le,A[6],17,-1473231341),le=d(le,ie,I,oe,A[7],22,-45705983),oe=d(oe,le,ie,I,A[8],7,1770035416),I=d(I,oe,le,ie,A[9],12,-1958414417),ie=d(ie,I,oe,le,A[10],17,-42063),le=d(le,ie,I,oe,A[11],22,-1990404162),oe=d(oe,le,ie,I,A[12],7,1804603682),I=d(I,oe,le,ie,A[13],12,-40341101),ie=d(ie,I,oe,le,A[14],17,-1502002290),le=d(le,ie,I,oe,A[15],22,1236535329),oe=D(oe,le,ie,I,A[1],5,-165796510),I=D(I,oe,le,ie,A[6],9,-1069501632),ie=D(ie,I,oe,le,A[11],14,643717713),le=D(le,ie,I,oe,A[0],20,-373897302),oe=D(oe,le,ie,I,A[5],5,-701558691),I=D(I,oe,le,ie,A[10],9,38016083),ie=D(ie,I,oe,le,A[15],14,-660478335),le=D(le,ie,I,oe,A[4],20,-405537848),oe=D(oe,le,ie,I,A[9],5,568446438),I=D(I,oe,le,ie,A[14],9,-1019803690),ie=D(ie,I,oe,le,A[3],14,-187363961),le=D(le,ie,I,oe,A[8],20,1163531501),oe=D(oe,le,ie,I,A[13],5,-1444681467),I=D(I,oe,le,ie,A[2],9,-51403784),ie=D(ie,I,oe,le,A[7],14,1735328473),le=D(le,ie,I,oe,A[12],20,-1926607734),oe=v(oe,le,ie,I,A[5],4,-378558),I=v(I,oe,le,ie,A[8],11,-2022574463),ie=v(ie,I,oe,le,A[11],16,1839030562),le=v(le,ie,I,oe,A[14],23,-35309556),oe=v(oe,le,ie,I,A[1],4,-1530992060),I=v(I,oe,le,ie,A[4],11,1272893353),ie=v(ie,I,oe,le,A[7],16,-155497632),le=v(le,ie,I,oe,A[10],23,-1094730640),oe=v(oe,le,ie,I,A[13],4,681279174),I=v(I,oe,le,ie,A[0],11,-358537222),ie=v(ie,I,oe,le,A[3],16,-722521979),le=v(le,ie,I,oe,A[6],23,76029189),oe=v(oe,le,ie,I,A[9],4,-640364487),I=v(I,oe,le,ie,A[12],11,-421815835),ie=v(ie,I,oe,le,A[15],16,530742520),le=v(le,ie,I,oe,A[2],23,-995338651),oe=C(oe,le,ie,I,A[0],6,-198630844),I=C(I,oe,le,ie,A[7],10,1126891415),ie=C(ie,I,oe,le,A[14],15,-1416354905),le=C(le,ie,I,oe,A[5],21,-57434055),oe=C(oe,le,ie,I,A[12],6,1700485571),I=C(I,oe,le,ie,A[3],10,-1894986606),ie=C(ie,I,oe,le,A[10],15,-1051523),le=C(le,ie,I,oe,A[1],21,-2054922799),oe=C(oe,le,ie,I,A[8],6,1873313359),I=C(I,oe,le,ie,A[15],10,-30611744),ie=C(ie,I,oe,le,A[6],15,-1560198380),le=C(le,ie,I,oe,A[13],21,1309151649),oe=C(oe,le,ie,I,A[4],6,-145523070),I=C(I,oe,le,ie,A[11],10,-1120210379),ie=C(ie,I,oe,le,A[2],15,718787259),le=C(le,ie,I,oe,A[9],21,-343485551),de[0]=a(oe,de[0]),de[1]=a(le,de[1]),de[2]=a(ie,de[2]),de[3]=a(I,de[3])},w=function(de){var A=[],oe;for(oe=0;oe<64;oe+=4)A[oe>>2]=de.charCodeAt(oe)+(de.charCodeAt(oe+1)<<8)+(de.charCodeAt(oe+2)<<16)+(de.charCodeAt(oe+3)<<24);return A},F=function(de){var A=[],oe;for(oe=0;oe<64;oe+=4)A[oe>>2]=de[oe]+(de[oe+1]<<8)+(de[oe+2]<<16)+(de[oe+3]<<24);return A},T=function(de){var A=de.length,oe=[1732584193,-271733879,-1732584194,271733878],le,ie,I,j,pe,be;for(le=64;le<=A;le+=64)f(oe,w(de.substring(le-64,le)));for(de=de.substring(le-64),ie=de.length,I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=0;le<ie;le+=1)I[le>>2]|=de.charCodeAt(le)<<(le%4<<3);if(I[le>>2]|=128<<(le%4<<3),le>55)for(f(oe,I),le=0;le<16;le+=1)I[le]=0;return j=A*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),pe=parseInt(j[2],16),be=parseInt(j[1],16)||0,I[14]=pe,I[15]=be,f(oe,I),oe},R=function(de){var A=de.length,oe=[1732584193,-271733879,-1732584194,271733878],le,ie,I,j,pe,be;for(le=64;le<=A;le+=64)f(oe,F(de.subarray(le-64,le)));for(de=le-64<A?de.subarray(le-64):new Uint8Array(0),ie=de.length,I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=0;le<ie;le+=1)I[le>>2]|=de[le]<<(le%4<<3);if(I[le>>2]|=128<<(le%4<<3),le>55)for(f(oe,I),le=0;le<16;le+=1)I[le]=0;return j=A*8,j=j.toString(16).match(/(.*?)(.{0,8})$/),pe=parseInt(j[2],16),be=parseInt(j[1],16)||0,I[14]=pe,I[15]=be,f(oe,I),oe},ee=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],re=function(de){var A="",oe;for(oe=0;oe<4;oe+=1)A+=ee[de>>oe*8+4&15]+ee[de>>oe*8&15];return A},ae=function(de){var A;for(A=0;A<de.length;A+=1)de[A]=re(de[A]);return de.join("")},ce=function(de){return ae(T(de))},ue=function(){this.reset()};return ce("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(a=function(de,A){var oe=(de&65535)+(A&65535),le=(de>>16)+(A>>16)+(oe>>16);return le<<16|oe&65535}),ue.prototype.append=function(de){return/[\u0080-\uFFFF]/.test(de)&&(de=unescape(encodeURIComponent(de))),this.appendBinary(de),this},ue.prototype.appendBinary=function(de){this._buff+=de,this._length+=de.length;var A=this._buff.length,oe;for(oe=64;oe<=A;oe+=64)f(this._state,w(this._buff.substring(oe-64,oe)));return this._buff=this._buff.substr(oe-64),this},ue.prototype.end=function(de){var A=this._buff,oe=A.length,le,ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I;for(le=0;le<oe;le+=1)ie[le>>2]|=A.charCodeAt(le)<<(le%4<<3);return this._finish(ie,oe),I=de?this._state:ae(this._state),this.reset(),I},ue.prototype._finish=function(de,A){var oe=A,le,ie,I;if(de[oe>>2]|=128<<(oe%4<<3),oe>55)for(f(this._state,de),oe=0;oe<16;oe+=1)de[oe]=0;le=this._length*8,le=le.toString(16).match(/(.*?)(.{0,8})$/),ie=parseInt(le[2],16),I=parseInt(le[1],16)||0,de[14]=ie,de[15]=I,f(this._state,de)},ue.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},ue.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},ue.hash=function(de,A){/[\u0080-\uFFFF]/.test(de)&&(de=unescape(encodeURIComponent(de)));var oe=T(de);return A?oe:ae(oe)},ue.hashBinary=function(de,A){var oe=T(de);return A?oe:ae(oe)},ue.ArrayBuffer=function(){this.reset()},ue.ArrayBuffer.prototype.append=function(de){var A=this._concatArrayBuffer(this._buff,de),oe=A.length,le;for(this._length+=de.byteLength,le=64;le<=oe;le+=64)f(this._state,F(A.subarray(le-64,le)));return this._buff=le-64<oe?A.subarray(le-64):new Uint8Array(0),this},ue.ArrayBuffer.prototype.end=function(de){var A=this._buff,oe=A.length,le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ie,I;for(ie=0;ie<oe;ie+=1)le[ie>>2]|=A[ie]<<(ie%4<<3);return this._finish(le,oe),I=de?this._state:ae(this._state),this.reset(),I},ue.ArrayBuffer.prototype._finish=ue.prototype._finish,ue.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},ue.ArrayBuffer.prototype.destroy=ue.prototype.destroy,ue.ArrayBuffer.prototype._concatArrayBuffer=function(de,A){var oe=de.length,le=new Uint8Array(oe+A.byteLength);return le.set(de),le.set(new Uint8Array(A),oe),le},ue.ArrayBuffer.hash=function(de,A){var oe=R(new Uint8Array(de));return A?oe:ae(oe)},l.register("Md5",{init:function(){},loadFromBlob:function(de){var A=de.getSource(),oe=2*1024*1024,le=Math.ceil(A.size/oe),ie=0,I=this.owner,j=new ue.ArrayBuffer,pe=this,be=A.mozSlice||A.webkitSlice||A.slice,De,Re;Re=new FileReader,De=function(){var Ee,Se;Ee=ie*oe,Se=Math.min(Ee+oe,A.size),Re.onload=function(Le){j.append(Le.target.result),I.trigger("progress",{total:de.size,loaded:Se})},Re.onloadend=function(){Re.onloadend=Re.onload=null,++ie<le?setTimeout(De,1):setTimeout(function(){I.trigger("load"),pe.result=j.end(),De=de=A=j=null,I.trigger("complete")},50)},Re.readAsArrayBuffer(be.call(A,Ee,Se))},De()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(l,a,c){var d=l.$,D="flash",v={};function C(){var w;try{w=navigator.plugins["Shockwave Flash"],w=w.description}catch{try{w=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch{w="0.0"}}return w=w.match(/\d+/g),parseFloat(w[0]+"."+w[1],10)}function f(){var w={},F={},T=this.destroy,R=this,ee=l.guid("webuploader_");a.apply(R,arguments),R.type=D,R.exec=function(ae,ce){var ue=this,de=ue.uid,A=l.slice(arguments,2),oe;return F[de]=ue,v[ae]&&(w[de]||(w[de]=new v[ae](ue,R)),oe=w[de],oe[ce])?oe[ce].apply(oe,A):R.flashExec.apply(ue,arguments)};function re(ae,ce){var ue=ae.type||ae,de,A;de=ue.split("::"),A=de[0],ue=de[1],ue==="Ready"&&A===R.uid?R.trigger("ready"):F[A]&&F[A].trigger(ue.toLowerCase(),ae,ce)}e[ee]=function(){var ae=arguments;setTimeout(function(){re.apply(null,ae)},1)},this.jsreciver=ee,this.destroy=function(){return T&&T.apply(this,arguments)},this.flashExec=function(ae,ce){var ue=R.getFlash(),de=l.slice(arguments,2);return ue.exec(this.uid,ae,ce,de)}}return l.inherits(a,{constructor:f,init:function(){var w=this.getContainer(),F=this.options,T;w.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),T='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+F.swf+'" ',l.browser.ie&&(T+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),T+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+F.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',w.html(T)},getFlash:function(){return this._flash?this._flash:(this._flash=d("#"+this.uid).get(0),this._flash)}}),f.register=function(w,F){return F=v[w]=l.inherits(c,d.extend({flashExec:function(){var T=this.owner,R=this.getRuntime();return R.flashExec.apply(T,arguments)}},F)),F},C()>=11.4&&a.addRuntime(D,f),f}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(l,a){var c=l.$;return a.register("FilePicker",{init:function(d){var D=c.extend({},d),v,C;for(v=D.accept&&D.accept.length,C=0;C<v;C++)D.accept[C].title||(D.accept[C].title="Files");delete D.button,delete D.id,delete D.container,this.flashExec("FilePicker","init",D)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(l){return l.register("Image",{loadFromBlob:function(a){var c=this.owner;c.info()&&this.flashExec("Image","info",c.info()),c.meta()&&this.flashExec("Image","meta",c.meta()),this.flashExec("Image","loadFromBlob",a.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(l,a,c){var d=l.$;return a.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var D=this.owner,v=this.options,C=this._initAjax(),f=D._blob,w=v.server,F;C.connectRuntime(f.ruid),v.sendAsBinary?(w+=(/\?/.test(w)?"&":"?")+d.param(D._formData),F=f.uid):(d.each(D._formData,function(T,R){C.exec("append",T,R)}),C.exec("appendBlob",v.fileVal,f.uid,v.filename||D._formData.name||"")),this._setRequestHeader(C,v.headers),C.exec("send",{method:v.method,url:w,forceURLStream:v.forceURLStream,mimeType:"application/octet-stream"},F)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var D=this._xhr;D&&(D.exec("abort"),D.destroy(),this._xhr=D=null)},destroy:function(){this.abort()},_initAjax:function(){var D=this,v=new c("XMLHttpRequest");return v.on("uploadprogress progress",function(C){var f=C.loaded/C.total;return f=Math.min(1,Math.max(0,f)),D.trigger("progress",f)}),v.on("load",function(){var C=v.exec("getStatus"),f=!1,w="",F;return v.off(),D._xhr=null,C>=200&&C<300?f=!0:C>=500&&C<600?(f=!0,w="server"):w="http",f&&(D._response=v.exec("getResponse"),D._response=decodeURIComponent(D._response),F=function(T){try{return e.JSON&&e.JSON.parse?JSON.parse(T):new Function("return "+T).call()}catch{return{}}},D._responseJson=D._response?F(D._response):{}),v.destroy(),v=null,w?D.trigger("error",w):D.trigger("load")}),v.on("error",function(){v.off(),D._xhr=null,D.trigger("error","http")}),D._xhr=v,v},_setRequestHeader:function(D,v){d.each(v,function(C,f){D.exec("setRequestHeader",C,f)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(l,a){return l.register("Blob",{slice:function(c,d){var D=this.flashExec("Blob","slice",c,d);return new a(this.getRuid(),D)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(l){return l.register("Md5",{init:function(){},loadFromBlob:function(a){return this.flashExec("Md5","loadFromBlob",a.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(l){return l}),t("widgets/log",["base","uploader","widgets/widget"],function(l,a){var c=l.$,d=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",D=(location.hostname||location.host||"protected").toLowerCase(),v=D&&/baidu/i.exec(D),C;if(!v)return;C={dv:3,master:"webuploader",online:/test/.exec(D)?0:1,module:"",product:D,type:0};function f(w){var F=c.extend({},C,w),T=d.replace(/^(.*)\?/,"$1"+c.param(F)),R=new Image;R.src=T}return a.register({name:"log",init:function(){var w=this.owner,F=0,T=0;w.on("error",function(R){f({type:2,c_error_code:R})}).on("uploadError",function(R,ee){f({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+ee})}).on("uploadComplete",function(R){F++,T+=R.size}).on("uploadFinished",function(){f({c_count:F,c_size:T}),F=T=0}),f({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(l){return l});var i=r;return i("webuploader")});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,l;if(typeof e!="object"&&(e=[e]),isArray(e))for(i=0,l=e.length;i<l;i++)t.call(null,e[i],i,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let d;for(i=0;i<c;i++)d=a[i],t.call(null,e[d],d,e)}}function findKey(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,l;for(;i-- >0;)if(l=r[i],t===l.toLowerCase())return l;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},r=(i,l)=>{const a=e&&findKey(t,l)||l;isPlainObject(t[a])&&isPlainObject(i)?t[a]=merge(t[a],i):isPlainObject(i)?t[a]=merge({},i):isArray(i)?t[a]=i.slice():t[a]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&forEach(arguments[i],r);return t}const extend=(e,t,r,{allOwnKeys:i}={})=>(forEach(t,(l,a)=>{r&&isFunction(l)?e[a]=bind(l,r):e[a]=l},{allOwnKeys:i}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject=(e,t,r,i)=>{let l,a,c;const d={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)c=l[a],(!i||i(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=r!==!1&&getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=i.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},matchAll=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,l){return i.toUpperCase()+l}),hasOwnProperty=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};forEach(r,(l,a)=>{t(l,a,e)!==!1&&(i[a]=l)}),Object.defineProperties(e,i)},freezeMethods=e=>{reduceDescriptors(e,(t,r)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(!!isFunction(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(e,t)=>{const r={},i=l=>{l.forEach(a=>{r[a]=!0})};return isArray(e)?i(e):i(String(e).split(t)),r},noop=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),r=(i,l)=>{if(isObject(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[l]=i;const a=isArray(i)?[]:{};return forEach(i,(c,d)=>{const D=r(c,l+1);!isUndefined(D)&&(a[d]=D)}),t[l]=void 0,a}}return i};return r(e,0)},utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(e,t,r,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),l&&(this.response=l)}utils.inherits(AxiosError,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,t,r,i,l,a)=>{const c=Object.create(prototype$1);return utils.toFlatObject(e,c,function(D){return D!==Error.prototype},d=>d!=="isAxiosError"),AxiosError.call(c,e.message,t,r,i,l),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const httpAdapter=null;function isVisitable(e){return utils.isPlainObject(e)||utils.isArray(e)}function removeBrackets(e){return utils.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,r){return e?e.concat(t).map(function(l,a){return l=removeBrackets(l),!r&&a?"["+l+"]":l}).join(r?".":""):t}function isFlatArray(e){return utils.isArray(e)&&!e.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function e(t){return/^is[A-Z]/.test(t)});function toFormData(e,t,r){if(!utils.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,ee){return!utils.isUndefined(ee[R])});const i=r.metaTokens,l=r.visitor||C,a=r.dots,c=r.indexes,D=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(t);if(!utils.isFunction(l))throw new TypeError("visitor must be a function");function v(T){if(T===null)return"";if(utils.isDate(T))return T.toISOString();if(!D&&utils.isBlob(T))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(T)||utils.isTypedArray(T)?D&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function C(T,R,ee){let re=T;if(T&&!ee&&typeof T=="object"){if(utils.endsWith(R,"{}"))R=i?R:R.slice(0,-2),T=JSON.stringify(T);else if(utils.isArray(T)&&isFlatArray(T)||(utils.isFileList(T)||utils.endsWith(R,"[]"))&&(re=utils.toArray(T)))return R=removeBrackets(R),re.forEach(function(ce,ue){!(utils.isUndefined(ce)||ce===null)&&t.append(c===!0?renderKey([R],ue,a):c===null?R:R+"[]",v(ce))}),!1}return isVisitable(T)?!0:(t.append(renderKey(ee,R,a),v(T)),!1)}const f=[],w=Object.assign(predicates,{defaultVisitor:C,convertValue:v,isVisitable});function F(T,R){if(!utils.isUndefined(T)){if(f.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));f.push(T),utils.forEach(T,function(re,ae){(!(utils.isUndefined(re)||re===null)&&l.call(t,re,utils.isString(ae)?ae.trim():ae,R,w))===!0&&F(re,R?R.concat(ae):[ae])}),f.pop()}}if(!utils.isObject(e))throw new TypeError("data must be an object");return F(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function e(t,r){this._pairs.push([t,r])};prototype.toString=function e(t){const r=t?function(i){return t.call(this,i,encode$1)}:encode$1;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,r){if(!t)return e;const i=r&&r.encode||encode,l=r&&r.serialize;let a;if(l?a=l(t,r):a=utils.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(i),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils.forEach(this.handlers,function(i){i!==null&&t(i)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,i,l,a){return platform.isNode&&utils.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},r=Object.keys(e);let i;const l=r.length;let a;for(i=0;i<l;i++)a=r[i],t[a]=e[a];return t}function formDataToJSON(e){function t(r,i,l,a){let c=r[a++];const d=Number.isFinite(+c),D=a>=r.length;return c=!c&&utils.isArray(l)?l.length:c,D?(utils.hasOwnProp(l,c)?l[c]=[l[c],i]:l[c]=i,!d):((!l[c]||!utils.isObject(l[c]))&&(l[c]=[]),t(r,i,l[c],a)&&utils.isArray(l[c])&&(l[c]=arrayToObject(l[c])),!d)}if(utils.isFormData(e)&&utils.isFunction(e.entries)){const r={};return utils.forEachEntry(e,(i,l)=>{t(parsePropPath(i),l,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(e,t,r){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function e(t,r){const i=r.getContentType()||"",l=i.indexOf("application/json")>-1,a=utils.isObject(t);if(a&&utils.isHTMLForm(t)&&(t=new FormData(t)),utils.isFormData(t))return l&&l?JSON.stringify(formDataToJSON(t)):t;if(utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t))return t;if(utils.isArrayBufferView(t))return t.buffer;if(utils.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((d=utils.isFileList(t))||i.indexOf("multipart/form-data")>-1){const D=this.env&&this.env.FormData;return toFormData(d?{"files[]":t}:t,D&&new D,this.formSerializer)}}return a||l?(r.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function e(t){const r=this.transitional||defaults.transitional,i=r&&r.forcedJSONParsing,l=this.responseType==="json";if(t&&utils.isString(t)&&(i&&!this.responseType||l)){const c=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?AxiosError.from(d,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function e(t){defaults.headers[t]={}});utils.forEach(["post","put","patch"],function e(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let r,i,l;return e&&e.split(`
`).forEach(function(c){l=c.indexOf(":"),r=c.substring(0,l).trim().toLowerCase(),i=c.substring(l+1).trim(),!(!r||t[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}function isValidHeaderName(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function matchHeaderValue(e,t,r,i,l){if(utils.isFunction(i))return i.call(this,t,r);if(l&&(t=r),!!utils.isString(t)){if(utils.isString(i))return t.indexOf(i)!==-1;if(utils.isRegExp(i))return i.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function buildAccessors(e,t){const r=utils.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(l,a,c){return this[i].call(this,t,l,a,c)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,r,i){const l=this;function a(d,D,v){const C=normalizeHeader(D);if(!C)throw new Error("header name must be a non-empty string");const f=utils.findKey(l,C);(!f||l[f]===void 0||v===!0||v===void 0&&l[f]!==!1)&&(l[f||D]=normalizeValue(d))}const c=(d,D)=>utils.forEach(d,(v,C)=>a(v,C,D));return utils.isPlainObject(t)||t instanceof this.constructor?c(t,r):utils.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?c(parseHeaders(t),r):t!=null&&a(r,t,i),this}get(t,r){if(t=normalizeHeader(t),t){const i=utils.findKey(this,t);if(i){const l=this[i];if(!r)return l;if(r===!0)return parseTokens(l);if(utils.isFunction(r))return r.call(this,l,i);if(utils.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=normalizeHeader(t),t){const i=utils.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||matchHeaderValue(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let l=!1;function a(c){if(c=normalizeHeader(c),c){const d=utils.findKey(i,c);d&&(!r||matchHeaderValue(i,i[d],d,r))&&(delete i[d],l=!0)}}return utils.isArray(t)?t.forEach(a):a(t),l}clear(t){const r=Object.keys(this);let i=r.length,l=!1;for(;i--;){const a=r[i];(!t||matchHeaderValue(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const r=this,i={};return utils.forEach(this,(l,a)=>{const c=utils.findKey(i,a);if(c){r[c]=normalizeValue(l),delete r[a];return}const d=t?formatHeader(a):String(a).trim();d!==a&&delete r[a],r[d]=normalizeValue(l),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return utils.forEach(this,(i,l)=>{i!=null&&i!==!1&&(r[l]=t&&utils.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(l=>i.set(l)),i}static accessor(t){const i=(this[$internals]=this[$internals]={accessors:{}}).accessors,l=this.prototype;function a(c){const d=normalizeHeader(c);i[d]||(buildAccessors(l,c),i[d]=!0)}return utils.isArray(t)?t.forEach(a):a(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const r=this||defaults$1,i=t||r,l=AxiosHeaders$1.from(i.headers);let a=i.data;return utils.forEach(e,function(d){a=d.call(r,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,r){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,t,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function e(){return{write:function(r,i,l,a,c,d){const D=[];D.push(r+"="+encodeURIComponent(i)),utils.isNumber(l)&&D.push("expires="+new Date(l).toGMTString()),utils.isString(a)&&D.push("path="+a),utils.isString(c)&&D.push("domain="+c),d===!0&&D.push("secure"),document.cookie=D.join("; ")},read:function(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function e(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const isURLSameOrigin=platform.isStandardBrowserEnv?function e(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function l(a){let c=a;return t&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=l(window.location.href),function(c){const d=utils.isString(c)?l(c):c;return d.protocol===i.protocol&&d.host===i.host}}():function e(){return function(){return!0}}();function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const r=new Array(e),i=new Array(e);let l=0,a=0,c;return t=t!==void 0?t:1e3,function(D){const v=Date.now(),C=i[a];c||(c=v),r[l]=D,i[l]=v;let f=a,w=0;for(;f!==l;)w+=r[f++],f=f%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),v-c<t)return;const F=C&&v-C;return F?Math.round(w*1e3/F):void 0}}function progressEventReducer(e,t){let r=0;const i=speedometer(50,250);return l=>{const a=l.loaded,c=l.lengthComputable?l.total:void 0,d=a-r,D=i(d),v=a<=c;r=a;const C={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:D||void 0,estimated:D&&c&&v?(c-a)/D:void 0,event:l};C[t?"download":"upload"]=!0,e(C)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(r,i){let l=e.data;const a=AxiosHeaders$1.from(e.headers).normalize(),c=e.responseType;let d;function D(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}utils.isFormData(l)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);let v=new XMLHttpRequest;if(e.auth){const F=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(F+":"+T))}const C=buildFullPath(e.baseURL,e.url);v.open(e.method.toUpperCase(),buildURL(C,e.params,e.paramsSerializer),!0),v.timeout=e.timeout;function f(){if(!v)return;const F=AxiosHeaders$1.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:F,config:e,request:v};settle(function(re){r(re),D()},function(re){i(re),D()},R),v=null}if("onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(f)},v.onabort=function(){!v||(i(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,v)),v=null)},v.onerror=function(){i(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let T=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const R=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(T=e.timeoutErrorMessage),i(new AxiosError(T,R.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,v)),v=null},platform.isStandardBrowserEnv){const F=(e.withCredentials||isURLSameOrigin(C))&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);F&&a.set(e.xsrfHeaderName,F)}l===void 0&&a.setContentType(null),"setRequestHeader"in v&&utils.forEach(a.toJSON(),function(T,R){v.setRequestHeader(R,T)}),utils.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),c&&c!=="json"&&(v.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&v.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=F=>{!v||(i(!F||F.type?new CanceledError(null,e,v):F),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const w=parseProtocol(C);if(w&&platform.protocols.indexOf(w)===-1){i(new AxiosError("Unsupported protocol "+w+":",AxiosError.ERR_BAD_REQUEST,e));return}v.send(l||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const adapters={getAdapter:e=>{e=utils.isArray(e)?e:[e];const{length:t}=e;let r,i;for(let l=0;l<t&&(r=e[l],!(i=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));l++);if(!i)throw i===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(i){return throwIfCancellationRequested(e),i.data=transformData.call(e,e.transformResponse,i),i.headers=AxiosHeaders$1.from(i.headers),i},function(i){return isCancel(i)||(throwIfCancellationRequested(e),i&&i.response&&(i.response.data=transformData.call(e,e.transformResponse,i.response),i.response.headers=AxiosHeaders$1.from(i.response.headers))),Promise.reject(i)})}const headersToObject=e=>e instanceof AxiosHeaders$1?e.toJSON():e;function mergeConfig(e,t){t=t||{};const r={};function i(v,C,f){return utils.isPlainObject(v)&&utils.isPlainObject(C)?utils.merge.call({caseless:f},v,C):utils.isPlainObject(C)?utils.merge({},C):utils.isArray(C)?C.slice():C}function l(v,C,f){if(utils.isUndefined(C)){if(!utils.isUndefined(v))return i(void 0,v,f)}else return i(v,C,f)}function a(v,C){if(!utils.isUndefined(C))return i(void 0,C)}function c(v,C){if(utils.isUndefined(C)){if(!utils.isUndefined(v))return i(void 0,v)}else return i(void 0,C)}function d(v,C,f){if(f in t)return i(v,C);if(f in e)return i(void 0,v)}const D={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(v,C)=>l(headersToObject(v),headersToObject(C),!0)};return utils.forEach(Object.keys(e).concat(Object.keys(t)),function(C){const f=D[C]||l,w=f(e[C],t[C],C);utils.isUndefined(w)&&f!==d||(r[C]=w)}),r}const VERSION="1.3.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function e(t,r,i){function l(a,c){return"[Axios v"+VERSION+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,d)=>{if(t===!1)throw new AxiosError(l(c," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,c,d):!0}};function assertOptions(e,t,r){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let l=i.length;for(;l-- >0;){const a=i[l],c=t[a];if(c){const d=e[a],D=d===void 0||c(d,a,e);if(D!==!0)throw new AxiosError("option "+a+" must be "+D,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig(this.defaults,r);const{transitional:i,paramsSerializer:l,headers:a}=r;i!==void 0&&validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),l!==void 0&&validator.assertOptions(l,{encode:validators.function,serialize:validators.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c;c=a&&utils.merge(a.common,a[r.method]),c&&utils.forEach(["delete","get","head","post","put","patch","common"],T=>{delete a[T]}),r.headers=AxiosHeaders$1.concat(c,a);const d=[];let D=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(r)===!1||(D=D&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const v=[];this.interceptors.response.forEach(function(R){v.push(R.fulfilled,R.rejected)});let C,f=0,w;if(!D){const T=[dispatchRequest.bind(this),void 0];for(T.unshift.apply(T,d),T.push.apply(T,v),w=T.length,C=Promise.resolve(r);f<w;)C=C.then(T[f++],T[f++]);return C}w=d.length;let F=r;for(f=0;f<w;){const T=d[f++],R=d[f++];try{F=T(F)}catch(ee){R.call(this,ee);break}}try{C=dispatchRequest.call(this,F)}catch(T){return Promise.reject(T)}for(f=0,w=v.length;f<w;)C=C.then(v[f++],v[f++]);return C}getUri(t){t=mergeConfig(this.defaults,t);const r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function e(t){Axios.prototype[t]=function(r,i){return this.request(mergeConfig(i||{},{method:t,url:r,data:(i||{}).data}))}});utils.forEach(["post","put","patch"],function e(t){function r(i){return function(a,c,d){return this.request(mergeConfig(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Axios.prototype[t]=r(),Axios.prototype[t+"Form"]=r(!0)});const Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const i=this;this.promise.then(l=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](l);i._listeners=null}),this.promise.then=l=>{let a;const c=new Promise(d=>{i.subscribe(d),a=d}).then(l);return c.cancel=function(){i.unsubscribe(a)},c},t(function(a,c,d){i.reason||(i.reason=new CanceledError(a,c,d),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new CancelToken(function(l){t=l}),cancel:t}}}const CancelToken$1=CancelToken;function spread(e){return function(r){return e.apply(null,r)}}function isAxiosError(e){return utils.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),r=bind(Axios$1.prototype.request,t);return utils.extend(r,Axios$1.prototype,t,{allOwnKeys:!0}),utils.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return createInstance(mergeConfig(e,l))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function e(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils.isHTMLForm(e)?new FormData(e):e);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;axios$1.defaults.baseURL="";axios$1.defaults.headers.post["Content-Type"]="application/json";axios$1.defaults.withCredentials=!0;function createDwgFileUploader(e){const{create:t,baseUrl:r="",fileisExist:i,chunkisExist:l}=getUploadFileConfig()||{},{swf:a,server:c="",accept:d}=t||{},{pick:D,serverURL:v,onError:C,onFileQueued:f,onCreateHashProgress:w,onProgress:F,onCreateHash:T,onSecondTransmission:R,onUploadSuccess:ee,onUploadFinished:re}=e;let ae="";webuploader_fis.Uploader.register({"before-send":"beforeSend"},{beforeSend:ue=>{const de=webuploader_fis.Deferred();return axios$1.post(r+l,{chunk:ue.chunk,chunks:ue.chunks,fileName:ue.file.name,fileHash:ae,size:ue.blob.size}).then(A=>{A.data.ret=="chunkAlreadyExist"?de.reject():de.resolve()},()=>{C&&C()}),de.promise()}});const ce=webuploader_fis.create({preserveHeaders:!0,withCredentials:!0,auto:!1,swf:a,server:v||r+c,pick:D,resize:!1,duplicate:!0,threads:1,chunked:!0,fileNumLimit:1,timeout:2601e3,accept:d||{extensions:"dwg,DWG",mimeTypes:".dwg,.DwG"}});return ce.on("fileQueued",ue=>{f&&f(ue),ce.md5File(ue).progress(de=>{w&&w(de)}).then(de=>{ae=de,axios$1.post(r+i,{fileHash:de,filename:ue.name}).then(A=>{T&&T(A),A.data.ret=="fileAlreadyExist"?(R&&R(),ce.skipFile(ue),ce.reset(),ee&&ee(ue,ae)):ce.upload()},()=>{C&&C()})})}),ce.on("uploadBeforeSend",(ue,de,A)=>{de.hash=ae}),ce.on("uploadProgress",(ue,de)=>{F&&F(de*100)}),ce.on("uploadSuccess",ue=>{axios$1.post(r+i,{fileHash:ae,filename:ue.name}).then(de=>{de.data.ret=="fileAlreadyExist"?ee&&ee(ue,ae):C&&C()})}),ce.on("uploadFinished",function(ue){re&&re(),ce.reset()}),ce.on("uploadError",(ue,de)=>{C&&C()}),ce.on("error",ue=>{ce.reset(),console.log("err",ue),C&&C()}),ce}const createEl=()=>{const e=document.createElement("div");return e.id="picker",document.body.appendChild(e),e},el=createEl();let upload;const tipsShow=ref(!1),fileTips=ref(""),progress=ref(0),uploadFile=()=>{el.getElementsByTagName("label")[0].click(),el.click()},timeoutHideTip=()=>{setTimeout(()=>{tipsShow.value=!1},3e3)},setFileTips=e=>{fileTips.value=e},setTipsShow=e=>{tipsShow.value=e},useDwgUpload=()=>(onMounted(()=>{const e=useMessage();upload||(upload=createDwgFileUploader({pick:el,onError:()=>{tipsShow.value=!0,setFileTips("\u4E0A\u4F20\u4E2D\u65AD\uFF1A\u670D\u52A1\u5668\u7A0B\u5E8F\u5F02\u5E38\uFF01"),e.error("\u4E0A\u4F20\u4E2D\u65AD,\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),timeoutHideTip()},onFileQueued:()=>{setFileTips("\u6587\u4EF6\u9884\u5904\u7406\u4E2D..."),setTipsShow(!0)},onCreateHash:()=>{setFileTips("\u7B49\u5F85\u4E0A\u4F20...")},onSecondTransmission:()=>{setTipsShow(!1),setFileTips("\u6253\u5F00\u56FE\u7EB8\u6210\u529F"),e.success("\u6253\u5F00\u56FE\u7EB8\u6210\u529F"),timeoutHideTip()},onProgress:t=>{setTipsShow(!1),progress.value=t},onUploadSuccess:(t,r)=>{timeoutHideTip(),MxFun$1.sendStringToExecute("OpenDwgImp",r)}}))}),{uploadFile,upload,tipsShow,fileTips,progress}),VFooter$1="",VFooter=genericComponent()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...makeBorderProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"footer"}),...makeThemeProps()},setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{backgroundColorClasses:l,backgroundColorStyles:a}=useBackgroundColor(toRef(e,"color")),{borderClasses:c}=useBorder(e),{elevationClasses:d}=useElevation(e),{roundedClasses:D}=useRounded(e),v=ref(32),{resizeRef:C}=useResizeObserver(F=>{!F.length||(v.value=F[0].target.clientHeight)}),f=computed(()=>e.height==="auto"?v.value:parseInt(e.height,10)),{layoutItemStyles:w}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:computed(()=>"bottom"),layoutSize:f,elementSize:computed(()=>e.height==="auto"?void 0:f.value),active:computed(()=>e.app),absolute:toRef(e,"absolute")});return useRender(()=>createVNode(e.tag,{ref:C,class:["v-footer",i.value,l.value,c.value,d.value,D.value],style:[a.value,e.app?w.value:void 0]},r)),{}}}),_hoisted_1$6={class:"d-flex w-100 flex-column pa-0 ma-0"},_hoisted_2$4={key:0},_hoisted_3$2={key:1},_sfc_main$a=defineComponent$1({__name:"index",setup(e){const{items:t,actives:r}=useSysVarLongSketchSettings();ref();const i=ref(),{handleKeydownCmd:l,commandText:a,consoleText:c,cmdTip:d,coordinates:D,setCommandFocus:v}=useCommandLine(i),{resizeOptions:C,vResize:f,height:w,handleResize:F}=useConsoleResize(),T=()=>{v(!1)},R=()=>{v(!0)},ee=ue=>{ue.key==="c"&&ue.ctrlKey===!0||v(!0)},{tipsShow:re,progress:ae,fileTips:ce}=useDwgUpload();return(ue,de)=>{const A=resolveDirective("scroll-bottom"),oe=resolveDirective("right-click-menu");return withDirectives((openBlock(),createBlock(VFooter,{app:"",height:"auto",class:"pa-0 mx-footer",onResize:unref(F)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",{class:"console-box",style:normalizeStyle({height:unref(w)+"px"})},[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":de[0]||(de[0]=le=>isRef(c)?c.value=le:null),onMousedown:T,onBlur:R,onKeyup:ee,readonly:"",class:"console d-flex"},null,544),[[vModelText,unref(c)],[A]])],4),createVNode(VTextField,{onKeydown:unref(l),"bg-color":"surface",theme:"light",ref_key:"input",ref:i,prefix:unref(d),autofocus:"",modelValue:unref(a),"onUpdate:modelValue":de[1]||(de[1]=le=>isRef(a)?a.value=le:null),autocomplete:"off",light:""},{"prepend-inner":withCtx(()=>[createVNode(VIcon,{icon:"cloudshellyunminglinghang",style:{color:"#7ABDE9"}})]),_:1},8,["onKeydown","prefix","modelValue"]),createCommentVNode(" \u5E95\u90E8\u6309\u94AE "),unref(re)?createCommentVNode("v-if",!0):(openBlock(),createBlock(VCard,{key:0,class:"d-flex align-center bg-background"},{default:withCtx(()=>[createVNode(VChip,{size:"x-small",theme:"light",class:"ml-1 me-auto bg-accent"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(D)),1)]),_:1}),createVNode(VBtnToggle,{modelValue:unref(r),"onUpdate:modelValue":de[3]||(de[3]=le=>isRef(r)?r.value=le:null),density:"compact",variant:"text",class:"d-flex align-center px-2",style:{height:"26px"},multiple:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(le,ie)=>(openBlock(),createElementBlock(Fragment,{key:ie},[le.isMenu?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$4,[createVNode(VBtn,{value:ie,class:"mx-1 rounded",height:"20",size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(le.name),1)]),_:2},1032,["value"])])),[[oe,le.menuOptions]]):(openBlock(),createElementBlock("div",_hoisted_3$2,[createVNode(VBtn,{value:ie,class:"mx-1 rounded",height:"20",size:"x-small",onContextmenu:de[2]||(de[2]=withModifiers(()=>{},["prevent","stop"]))},{default:withCtx(()=>[createTextVNode(toDisplayString(le.name),1)]),_:2},1032,["value"])]))],64))),128))]),_:1},8,["modelValue"])]),_:1})),unref(re)?(openBlock(),createBlock(VProgressLinear,{key:1,modelValue:unref(ae),"onUpdate:modelValue":de[4]||(de[4]=le=>isRef(ae)?ae.value=le:null),color:"cyan",rounded:"",indeterminate:""},null,8,["modelValue"])):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:"w-100 text-center file-tip"},toDisplayString(unref(ce)),513),[[vShow,unref(re)]])])]),_:1},8,["onResize"])),[[unref(f),unref(C)]])}}}),index_vue_vue_type_style_index_0_lang$1="",index_vue_vue_type_style_index_1_scoped_4812e439_lang="",Footer=_export_sfc(_sfc_main$a,[["__scopeId","data-v-4812e439"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Footer/index.vue"]]);let uiData;const getUiData=()=>MxFun$1.getUIData(),useUIData=()=>(uiData||(uiData=getUiData()),uiData);let dynamicInputData;ref();let misShow=ref();ref();ref();ref();ref();ref();const initRef=(e,t,r)=>{unref(t)===void 0&&(t=toRef(e,r))},initRefs=(e,t)=>{for(let r in t)initRef(e,t[r],r)},onMountedDynInputUpDisplay=e=>{useUIData().mountMxEvent("dynInputUpDisplay",()=>{const r=dynamicInputData.getData();e&&e(r)})},onMountedDynInputSetFocus=e=>{useUIData().mountMxEvent("dynInputSetFocus",r=>{e&&e(r)})},onMountedDynInputReSet=e=>{useUIData().mountMxEvent("dynInputReSet",()=>{e&&e()})},useDynamicInputData=()=>{const e=useUIData();dynamicInputData||(dynamicInputData=e.getDynamicInput());const t={misShow};return initRefs(dynamicInputData,t),{...t,onMountedDynInputUpDisplay,onMountedDynInputSetFocus,onMountedDynInputReSet,dynamicInputData}},selectText=e=>{const t=document,r=window;if(t.selection){const i=t.body.createTextRange();i.moveToElementText(e),i.select()}else if(r.getSelection){const i=t.createRange();r.getSelection().removeAllRanges(),i.selectNodeContents(e),r.getSelection().addRange(i)}};function cursorGenerate(e=128,t=10,r=!0,i=document.createElement("canvas"),l="transparent"){i.width=i.height=e,i.style.background=l;const a=i.getContext("2d"),c=e%2===0?-.5:0,d=t%2===0?-.5:0;a.strokeStyle="#fff",r&&(a.beginPath(),a.moveTo(i.width/2+c,c),a.lineTo(i.width/2+c,i.height+c),a.stroke(),a.beginPath(),a.moveTo(c,i.height/2+c),a.lineTo(i.width+c,i.height/2+c),a.stroke()),a.beginPath(),a.strokeRect(e/2-t/2+d,e/2-t/2+d,t,t),a.stroke();const D=new Image;return D.src=i.toDataURL("image/png"),D.src}const targetFrameSize=ref(10),cursorSize=ref(128),cursorStyles={Rect:`url('${cursorGenerate(cursorSize.value,targetFrameSize.value,!1)}') ${cursorSize.value/2} ${cursorSize.value/2}, auto`,Cross:`url('${cursorGenerate(cursorSize.value,0,!0)}') ${cursorSize.value/2} ${cursorSize.value/2} , auto`,Normal:`url('${cursorGenerate(cursorSize.value,targetFrameSize.value,!0)}') ${cursorSize.value/2} ${cursorSize.value/2}, auto`},cursorType=ref("Normal"),cursor=computed(()=>cursorStyles[cursorType.value]),updateCursor=e=>{cursorType.value=e},mountAutoUpdateCursor=()=>{MxFun$1.getUIData().mountUpdateCursorFun(e=>{updateCursor(e)})},useCursorStyle=()=>({cursor,mountAutoUpdateCursor,updateCursor,type:cursorType,size:cursorSize,targetFrameSize,cursorStyles}),useDynamicInputBox=(e,t)=>{const{setCommandFocus:r}=useFocus$1(),{misShow:i,dynamicInputData:l,onMountedDynInputUpDisplay:a,onMountedDynInputSetFocus:c,onMountedDynInputReSet:d}=useDynamicInputData(),{mainRect:D}=useLayout(),{size:v}=useCursorStyle(),C=ref(0),f=ref(0),w=ref(0),F=ref([{isShow:!0,value:"",top:0,left:0,readonly:!0},{isShow:!0,value:"",top:80,left:0,readonly:!1},{isShow:!0,value:"",top:180,left:0,readonly:!1}]),T=ref(0),R=unref(t),ee=()=>e.value?.getElementsByClassName(R),re=oe=>{oe.focus(),selectText(oe)},ae=()=>{const oe=ee();T.value>=oe.length-1?(T.value=0,re(oe[0])):(T.value+=1,re(oe[T.value]))},ce=oe=>{i.value=oe,r(!oe)},ue=(oe=!0)=>{const le=ee();!le||(oe?setTimeout(()=>{re(le[T.value])},200):re(le[T.value]))},de=oe=>{if(l.onKeydown(oe.keyCode),oe.keyCode==32||oe.keyCode==13){const le=ee();if(!le)return;l.setValue1(le[0].innerText),l.setValue2(le[1].innerText),l.setFocusValue(le[T.value].innerText),oe.preventDefault(),re(le[T.value])}};onMounted(()=>{a(le=>{if(!le){i.value&&ce(!1);return}i.value||(T.value=0,ce(!0),ue(!0)),(()=>{const j=e.value?.clientWidth??0;let pe=le.pos[0]+26,be=le.pos[1]+26;const De=v.value/2,Re=MxFun$1.getCurrentDraw().getViewWidth()-26,Ee=MxFun$1.getCurrentDraw().getViewWidth()-D.value.top-De-D.value.bottom;Re-pe<j+De&&(pe=pe-j-De),Ee-be<D.value.bottom&&(be=be-26*3),C.value=pe,f.value=be})();const{list:I}=le;F.value.forEach((j,pe)=>{j.isShow=I[pe].show,j.value=I[pe].value,j.readonly=I[pe].readonly}),w.value=le.postype}),c(le=>{const{isFocus:ie}=le??{};ie&&ue(!1)}),d(()=>{ue(!0)})});const A=oe=>{oe.code==="Tab"&&(oe.preventDefault(),ae())};return watch(i,oe=>{r(!oe),oe?window.addEventListener("keydown",A):window.removeEventListener("keydown",A)}),onUnmounted(()=>{window.removeEventListener("keydown",A)}),{isShow:i,posType:w,x:C,y:f,coordinateInputBoxData:F,inputClass:t,focusNextInput:ae,onKeydown:de,makeFocus:ue}},_hoisted_1$5=["tabIndex","contenteditable"],_sfc_main$9=defineComponent$1({__name:"index",setup(e){const t=ref(),{posType:r,isShow:i,coordinateInputBoxData:l,x:a,y:c,focusNextInput:d,onKeydown:D}=useDynamicInputBox(t,"coordinate");return(v,C)=>{const f=resolveDirective("focus-select");return withDirectives((openBlock(),createElementBlock("div",{ref_key:"DynamicInputBox",ref:t,style:normalizeStyle({transform:unref(r)===0?`translate3d(${unref(a)}px,${unref(c)}px, 1px)`:""}),class:normalizeClass(unref(r)===0?"box":"")},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l),(w,F)=>(openBlock(),createElementBlock("div",{class:"input_box",key:F},[withDirectives((openBlock(),createElementBlock("span",{tabIndex:w.readonly?-1:F+1,onKeydown:[C[0]||(C[0]=withKeys(withModifiers((...T)=>unref(d)&&unref(d)(...T),["stop","prevent"]),["tab"])),C[1]||(C[1]=(...T)=>unref(D)&&unref(D)(...T))],style:normalizeStyle({position:unref(r)===0?void 0:"absolute",transform:`translate3d(${w.left}px,${w.top}px, 1px)`}),contenteditable:w.readonly?"false":"true",class:normalizeClass(w.readonly?"coordinate_text":"coordinate")},[createTextVNode(toDisplayString(w.value),1)],46,_hoisted_1$5)),[[f,!w.readonly],[vShow,w.isShow]])]))),128))],6)),[[vShow,unref(i)]])}}}),index_vue_vue_type_style_index_0_scoped_9cf7a523_lang="",DynamicInputBox=_export_sfc(_sfc_main$9,[["__scopeId","data-v-9cf7a523"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/DynamicInputBox/index.vue"]]),_sfc_main$8=defineComponent$1({setup(){const{messages:e,removeMessage:t,addMessage:r}=useMessageData();return{messages:e,removeMessage:t,iconCache:{error:{icon:"mdi:mdi-close-circle",color:"rgb(203,49,49)"},info:{icon:"mdi:mdi-check-circle",color:"rgb(47,144,207)"},success:{icon:"mdi:mdi-alert-circle",color:"rgb(139,216,118)"},warning:{icon:"mdi:mdi-information",color:"rgb(230,140,34)"}}}}}),index_vue_vue_type_style_index_0_scoped_c4b556e2_lang="",VAlert$1="",VAlertTitle=createSimpleFunctional("v-alert-title"),allowedTypes=["success","info","warning","error"],VAlert=genericComponent()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:IconValue$1,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>allowedTypes.includes(e)},...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:i}=t;const l=useProxiedModel(e,"modelValue"),a=computed(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),c=computed(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:d}=provideTheme(e),{colorClasses:D,colorStyles:v,variantClasses:C}=useVariant(c),{densityClasses:f}=useDensity(e),{dimensionStyles:w}=useDimension(e),{elevationClasses:F}=useElevation(e),{locationStyles:T}=useLocation(e),{positionClasses:R}=usePosition(e),{roundedClasses:ee}=useRounded(e),{textColorClasses:re,textColorStyles:ae}=useTextColor(toRef(e,"borderColor")),{t:ce}=useLocale(),ue=computed(()=>({"aria-label":ce(e.closeLabel),onClick(de){l.value=!1,r("click:close",de)}}));return()=>{const de=!!(i.prepend||a.value),A=!!(i.title||e.title),oe=!!(e.text||i.text),le=!!(i.close||e.closable);return l.value&&createVNode(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},d.value,D.value,f.value,F.value,R.value,ee.value,C.value],style:[v.value,w.value,T.value],role:"alert"},{default:()=>[genOverlays(!1,"v-alert"),e.border&&createVNode("div",{key:"border",class:["v-alert__border",re.value],style:ae.value},null),de&&createVNode("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!a.value,defaults:{VIcon:{density:e.density,icon:a.value,size:e.prominent?44:28}}},i.prepend):createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:a.value,size:e.prominent?44:28},null)]),createVNode("div",{class:"v-alert__content"},[A&&createVNode(VAlertTitle,{key:"title"},{default:()=>[i.title?.()??e.title]}),oe&&(i.text?.()??e.text),i.default?.()]),i.append&&createVNode("div",{key:"append",class:"v-alert__append"},[i.append()]),le&&createVNode("div",{key:"close",class:"v-alert__close"},[i.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[i.close?.({props:ue.value})]}):createVNode(VBtn,mergeProps({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},ue.value),null)])]})}}});function _sfc_render(e,t,r,i,l,a){return openBlock(!0),createElementBlock(Fragment,null,renderList(e.messages,(c,d)=>(openBlock(),createBlock(VAlert,{key:c.id,width:"auto",position:"absolute",class:"message-alert",location:"top center",style:normalizeStyle({zIndex:1e6,top:c.top+"px"}),"max-height":"55","min-width":"300",type:c.type,"onClick:close":D=>e.removeMessage(c)},{prepend:withCtx(()=>[createVNode(VIcon,{icon:e.iconCache[c.type].icon,class:"rounded-circle",color:e.iconCache[c.type].color},null,8,["icon","color"])]),default:withCtx(()=>[createTextVNode(toDisplayString(c.message)+" ",1)]),_:2},1032,["style","type","onClick:close"]))),128)}const Message=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__scopeId","data-v-c4b556e2"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Message/index.vue"]]);var __assign=function(){return __assign=Object.assign||function(t){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},__assign.apply(this,arguments)};function __awaiter$1(e,t,r,i){function l(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(C){try{v(i.next(C))}catch(f){c(f)}}function D(C){try{v(i.throw(C))}catch(f){c(f)}}function v(C){C.done?a(C.value):l(C.value).then(d,D)}v((i=i.apply(e,t||[])).next())})}function __generator(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,l,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(v){return function(C){return D([v,C])}}function D(v){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,v[0]&&(r=0)),r;)try{if(i=1,l&&(a=v[0]&2?l.return:v[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,v[1])).done)return a;switch(l=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){r.label=v[1];break}if(v[0]===6&&r.label<a[1]){r.label=a[1],a=v;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(v);break}a[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(C){v=[6,C],l=0}finally{i=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function __spreadArray(e,t,r){if(r||arguments.length===2)for(var i=0,l=t.length,a;i<l;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var version="3.4.0";function wait(e,t){return new Promise(function(r){return setTimeout(r,e,t)})}function requestIdleCallbackIfAvailable(e,t){t===void 0&&(t=1/0);var r=window.requestIdleCallback;return r?new Promise(function(i){return r.call(window,function(){return i()},{timeout:t})}):wait(Math.min(e,t))}function isPromise(e){return!!e&&typeof e.then=="function"}function awaitIfAsync(e,t){try{var r=e();isPromise(r)?r.then(function(i){return t(!0,i)},function(i){return t(!1,i)}):t(!0,r)}catch(i){t(!1,i)}}function forEachWithBreaks(e,t,r){return r===void 0&&(r=16),__awaiter$1(this,void 0,void 0,function(){var i,l,a;return __generator(this,function(c){switch(c.label){case 0:i=Date.now(),l=0,c.label=1;case 1:return l<e.length?(t(e[l],l),a=Date.now(),a>=i+r?(i=a,[4,wait(0)]):[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return++l,[3,1];case 4:return[2]}})})}function suppressUnhandledRejectionWarning(e){e.then(void 0,function(){})}function x64Add(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function x64Multiply(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function x64Rotl(e,t){return t%=64,t===32?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function x64LeftShift(e,t){return t%=64,t===0?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function x64Xor(e,t){return[e[0]^t[0],e[1]^t[1]]}function x64Fmix(e){return e=x64Xor(e,[0,e[0]>>>1]),e=x64Multiply(e,[4283543511,3981806797]),e=x64Xor(e,[0,e[0]>>>1]),e=x64Multiply(e,[3301882366,444984403]),e=x64Xor(e,[0,e[0]>>>1]),e}function x64hash128(e,t){e=e||"",t=t||0;var r=e.length%16,i=e.length-r,l=[0,t],a=[0,t],c=[0,0],d=[0,0],D=[2277735313,289559509],v=[1291169091,658871167],C;for(C=0;C<i;C=C+16)c=[e.charCodeAt(C+4)&255|(e.charCodeAt(C+5)&255)<<8|(e.charCodeAt(C+6)&255)<<16|(e.charCodeAt(C+7)&255)<<24,e.charCodeAt(C)&255|(e.charCodeAt(C+1)&255)<<8|(e.charCodeAt(C+2)&255)<<16|(e.charCodeAt(C+3)&255)<<24],d=[e.charCodeAt(C+12)&255|(e.charCodeAt(C+13)&255)<<8|(e.charCodeAt(C+14)&255)<<16|(e.charCodeAt(C+15)&255)<<24,e.charCodeAt(C+8)&255|(e.charCodeAt(C+9)&255)<<8|(e.charCodeAt(C+10)&255)<<16|(e.charCodeAt(C+11)&255)<<24],c=x64Multiply(c,D),c=x64Rotl(c,31),c=x64Multiply(c,v),l=x64Xor(l,c),l=x64Rotl(l,27),l=x64Add(l,a),l=x64Add(x64Multiply(l,[0,5]),[0,1390208809]),d=x64Multiply(d,v),d=x64Rotl(d,33),d=x64Multiply(d,D),a=x64Xor(a,d),a=x64Rotl(a,31),a=x64Add(a,l),a=x64Add(x64Multiply(a,[0,5]),[0,944331445]);switch(c=[0,0],d=[0,0],r){case 15:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+14)],48));case 14:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+13)],40));case 13:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+12)],32));case 12:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+11)],24));case 11:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+10)],16));case 10:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(C+9)],8));case 9:d=x64Xor(d,[0,e.charCodeAt(C+8)]),d=x64Multiply(d,v),d=x64Rotl(d,33),d=x64Multiply(d,D),a=x64Xor(a,d);case 8:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+7)],56));case 7:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+6)],48));case 6:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+5)],40));case 5:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+4)],32));case 4:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+3)],24));case 3:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+2)],16));case 2:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(C+1)],8));case 1:c=x64Xor(c,[0,e.charCodeAt(C)]),c=x64Multiply(c,D),c=x64Rotl(c,31),c=x64Multiply(c,v),l=x64Xor(l,c)}return l=x64Xor(l,[0,e.length]),a=x64Xor(a,[0,e.length]),l=x64Add(l,a),a=x64Add(a,l),l=x64Fmix(l),a=x64Fmix(a),l=x64Add(l,a),a=x64Add(a,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}function errorToObject(e){var t;return __assign({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function includes(e,t){for(var r=0,i=e.length;r<i;++r)if(e[r]===t)return!0;return!1}function excludes(e,t){return!includes(e,t)}function toInt(e){return parseInt(e)}function toFloat(e){return parseFloat(e)}function replaceNaN(e,t){return typeof e=="number"&&isNaN(e)?t:e}function countTruthy(e){return e.reduce(function(t,r){return t+(r?1:0)},0)}function round(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var r=1/t;return Math.round(e*r)/r}function parseSimpleCssSelector(e){for(var t,r,i="Unexpected syntax '".concat(e,"'"),l=/^\s*([a-z-]*)(.*)$/i.exec(e),a=l[1]||void 0,c={},d=/([.:#][\w-]+|\[.+?\])/gi,D=function(w,F){c[w]=c[w]||[],c[w].push(F)};;){var v=d.exec(l[2]);if(!v)break;var C=v[0];switch(C[0]){case".":D("class",C.slice(1));break;case"#":D("id",C.slice(1));break;case"[":{var f=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(C);if(f)D(f[1],(r=(t=f[4])!==null&&t!==void 0?t:f[5])!==null&&r!==void 0?r:"");else throw new Error(i);break}default:throw new Error(i)}}return[a,c]}function ensureErrorWithMessage(e){return e&&typeof e=="object"&&"message"in e?e:{message:e}}function isFinalResultLoaded(e){return typeof e!="function"}function loadSource(e,t){var r=new Promise(function(i){var l=Date.now();awaitIfAsync(e.bind(null,t),function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=Date.now()-l;if(!a[0])return i(function(){return{error:ensureErrorWithMessage(a[1]),duration:d}});var D=a[1];if(isFinalResultLoaded(D))return i(function(){return{value:D,duration:d}});i(function(){return new Promise(function(v){var C=Date.now();awaitIfAsync(D,function(){for(var f=[],w=0;w<arguments.length;w++)f[w]=arguments[w];var F=d+Date.now()-C;if(!f[0])return v({error:ensureErrorWithMessage(f[1]),duration:F});v({value:f[1],duration:F})})})})})});return suppressUnhandledRejectionWarning(r),function(){return r.then(function(l){return l()})}}function loadSources(e,t,r){var i=Object.keys(e).filter(function(a){return excludes(r,a)}),l=Array(i.length);return forEachWithBreaks(i,function(a,c){l[c]=loadSource(e[a],t)}),function(){return __awaiter$1(this,void 0,void 0,function(){var c,d,D,v,C,f,w;return __generator(this,function(F){switch(F.label){case 0:for(c={},d=0,D=i;d<D.length;d++)v=D[d],c[v]=void 0;C=Array(i.length),f=function(){var T;return __generator(this,function(R){switch(R.label){case 0:return T=!0,[4,forEachWithBreaks(i,function(ee,re){if(!C[re])if(l[re]){var ae=l[re]().then(function(ce){return c[ee]=ce});suppressUnhandledRejectionWarning(ae),C[re]=ae}else T=!1})];case 1:return R.sent(),T?[2,"break"]:[4,wait(1)];case 2:return R.sent(),[2]}})},F.label=1;case 1:return[5,f()];case 2:if(w=F.sent(),w==="break")return[3,4];F.label=3;case 3:return[3,1];case 4:return[4,Promise.all(C)];case 5:return F.sent(),[2,c]}})})}}function isTrident(){var e=window,t=navigator;return countTruthy(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function isEdgeHTML(){var e=window,t=navigator;return countTruthy(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!isTrident()}function isChromium(){var e=window,t=navigator;return countTruthy(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,t.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function isWebKit(){var e=window,t=navigator;return countTruthy(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function isDesktopSafari(){var e=window;return countTruthy(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function isGecko(){var e,t,r=window;return countTruthy(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in r,"mozInnerScreenX"in r,"CSSMozDocumentRule"in r,"CanvasCaptureMediaStream"in r])>=4}function isChromium86OrNewer(){var e=window;return countTruthy([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function isWebKit606OrNewer(){var e=window;return countTruthy(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function isIPad(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return countTruthy(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function getFullscreenElement(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function exitFullscreen(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function isAndroid(){var e=isChromium(),t=isGecko();if(!e&&!t)return!1;var r=window;return countTruthy(["onorientationchange"in r,"orientation"in r,e&&!("SharedWorker"in r),t&&/android/i.test(navigator.appVersion)])>=2}function getAudioFingerprint(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(doesCurrentBrowserSuspendAudioContext())return-1;var r=4500,i=5e3,l=new t(1,i,44100),a=l.createOscillator();a.type="triangle",a.frequency.value=1e4;var c=l.createDynamicsCompressor();c.threshold.value=-50,c.knee.value=40,c.ratio.value=12,c.attack.value=0,c.release.value=.25,a.connect(c),c.connect(l.destination),a.start(0);var d=startRenderingAudio(l),D=d[0],v=d[1],C=D.then(function(f){return getHash(f.getChannelData(0).subarray(r))},function(f){if(f.name==="timeout"||f.name==="suspended")return-3;throw f});return suppressUnhandledRejectionWarning(C),function(){return v(),C}}function doesCurrentBrowserSuspendAudioContext(){return isWebKit()&&!isDesktopSafari()&&!isWebKit606OrNewer()}function startRenderingAudio(e){var t=3,r=500,i=500,l=5e3,a=function(){},c=new Promise(function(d,D){var v=!1,C=0,f=0;e.oncomplete=function(T){return d(T.renderedBuffer)};var w=function(){setTimeout(function(){return D(makeInnerError("timeout"))},Math.min(i,f+l-Date.now()))},F=function(){try{switch(e.startRendering(),e.state){case"running":f=Date.now(),v&&w();break;case"suspended":document.hidden||C++,v&&C>=t?D(makeInnerError("suspended")):setTimeout(F,r);break}}catch(T){D(T)}};F(),a=function(){v||(v=!0,f>0&&w())}});return[c,a]}function getHash(e){for(var t=0,r=0;r<e.length;++r)t+=Math.abs(e[r]);return t}function makeInnerError(e){var t=new Error(e);return t.name=e,t}function withIframe(e,t,r){var i,l,a;return r===void 0&&(r=50),__awaiter$1(this,void 0,void 0,function(){var c,d;return __generator(this,function(D){switch(D.label){case 0:c=document,D.label=1;case 1:return c.body?[3,3]:[4,wait(r)];case 2:return D.sent(),[3,1];case 3:d=c.createElement("iframe"),D.label=4;case 4:return D.trys.push([4,,10,11]),[4,new Promise(function(v,C){var f=!1,w=function(){f=!0,v()},F=function(ee){f=!0,C(ee)};d.onload=w,d.onerror=F;var T=d.style;T.setProperty("display","block","important"),T.position="absolute",T.top="0",T.left="0",T.visibility="hidden",t&&"srcdoc"in d?d.srcdoc=t:d.src="about:blank",c.body.appendChild(d);var R=function(){var ee,re;f||(((re=(ee=d.contentWindow)===null||ee===void 0?void 0:ee.document)===null||re===void 0?void 0:re.readyState)==="complete"?w():setTimeout(R,10))};R()})];case 5:D.sent(),D.label=6;case 6:return!((l=(i=d.contentWindow)===null||i===void 0?void 0:i.document)===null||l===void 0)&&l.body?[3,8]:[4,wait(r)];case 7:return D.sent(),[3,6];case 8:return[4,e(d,d.contentWindow)];case 9:return[2,D.sent()];case 10:return(a=d.parentNode)===null||a===void 0||a.removeChild(d),[7];case 11:return[2]}})})}function selectorToElement(e){for(var t=parseSimpleCssSelector(e),r=t[0],i=t[1],l=document.createElement(r??"div"),a=0,c=Object.keys(i);a<c.length;a++){var d=c[a],D=i[d].join(" ");d==="style"?addStyleString(l.style,D):l.setAttribute(d,D)}return l}function addStyleString(e,t){for(var r=0,i=t.split(";");r<i.length;r++){var l=i[r],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(l);if(a){var c=a[1],d=a[2],D=a[4];e.setProperty(c,d,D||"")}}}var testString="mmMwWLliI0O&1",textSize="48px",baseFonts=["monospace","sans-serif","serif"],fontList=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function getFonts(){return withIframe(function(e,t){var r=t.document,i=r.body;i.style.fontSize=textSize;var l=r.createElement("div"),a={},c={},d=function(R){var ee=r.createElement("span"),re=ee.style;return re.position="absolute",re.top="0",re.left="0",re.fontFamily=R,ee.textContent=testString,l.appendChild(ee),ee},D=function(R,ee){return d("'".concat(R,"',").concat(ee))},v=function(){return baseFonts.map(d)},C=function(){for(var R={},ee=function(ue){R[ue]=baseFonts.map(function(de){return D(ue,de)})},re=0,ae=fontList;re<ae.length;re++){var ce=ae[re];ee(ce)}return R},f=function(R){return baseFonts.some(function(ee,re){return R[re].offsetWidth!==a[ee]||R[re].offsetHeight!==c[ee]})},w=v(),F=C();i.appendChild(l);for(var T=0;T<baseFonts.length;T++)a[baseFonts[T]]=w[T].offsetWidth,c[baseFonts[T]]=w[T].offsetHeight;return fontList.filter(function(R){return f(F[R])})})}function getPlugins(){var e=navigator.plugins;if(!!e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(!!i){for(var l=[],a=0;a<i.length;++a){var c=i[a];l.push({type:c.type,suffixes:c.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:l})}}return t}}function getCanvasFingerprint(){var e=!1,t,r,i=makeCanvasContext(),l=i[0],a=i[1];if(!isSupported(l,a))t=r="";else{e=doesSupportWinding(a),renderTextImage(l,a);var c=canvasToString(l),d=canvasToString(l);c!==d?t=r="unstable":(r=c,renderGeometryImage(l,a),t=canvasToString(l))}return{winding:e,geometry:t,text:r}}function makeCanvasContext(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function isSupported(e,t){return!!(t&&e.toDataURL)}function doesSupportWinding(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function renderTextImage(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var r="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(r,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(r,4,45)}function renderGeometryImage(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var r=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];r<i.length;r++){var l=i[r],a=l[0],c=l[1],d=l[2];t.fillStyle=a,t.beginPath(),t.arc(c,d,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function canvasToString(e){return e.toDataURL()}function getTouchSupport(){var e=navigator,t=0,r;e.maxTouchPoints!==void 0?t=toInt(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),r=!0}catch{r=!1}var i="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:r,touchStart:i}}function getOsCpu(){return navigator.oscpu}function getLanguages(){var e=navigator,t=[],r=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(r!==void 0&&t.push([r]),Array.isArray(e.languages))isChromium()&&isChromium86OrNewer()||t.push(e.languages);else if(typeof e.languages=="string"){var i=e.languages;i&&t.push(i.split(","))}return t}function getColorDepth(){return window.screen.colorDepth}function getDeviceMemory(){return replaceNaN(toFloat(navigator.deviceMemory),void 0)}function getScreenResolution(){var e=screen,t=function(i){return replaceNaN(toInt(i),null)},r=[t(e.width),t(e.height)];return r.sort().reverse(),r}var screenFrameCheckInterval=2500,roundingPrecision=10,screenFrameBackup,screenFrameSizeTimeoutId;function watchScreenFrame(){if(screenFrameSizeTimeoutId===void 0){var e=function(){var t=getCurrentScreenFrame();isFrameSizeNull(t)?screenFrameSizeTimeoutId=setTimeout(e,screenFrameCheckInterval):(screenFrameBackup=t,screenFrameSizeTimeoutId=void 0)};e()}}function getScreenFrame(){var e=this;return watchScreenFrame(),function(){return __awaiter$1(e,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return t=getCurrentScreenFrame(),isFrameSizeNull(t)?screenFrameBackup?[2,__spreadArray([],screenFrameBackup,!0)]:getFullscreenElement()?[4,exitFullscreen()]:[3,2]:[3,2];case 1:r.sent(),t=getCurrentScreenFrame(),r.label=2;case 2:return isFrameSizeNull(t)||(screenFrameBackup=t),[2,t]}})})}}function getRoundedScreenFrame(){var e=this,t=getScreenFrame();return function(){return __awaiter$1(e,void 0,void 0,function(){var r,i;return __generator(this,function(l){switch(l.label){case 0:return[4,t()];case 1:return r=l.sent(),i=function(a){return a===null?null:round(a,roundingPrecision)},[2,[i(r[0]),i(r[1]),i(r[2]),i(r[3])]]}})})}}function getCurrentScreenFrame(){var e=screen;return[replaceNaN(toFloat(e.availTop),null),replaceNaN(toFloat(e.width)-toFloat(e.availWidth)-replaceNaN(toFloat(e.availLeft),0),null),replaceNaN(toFloat(e.height)-toFloat(e.availHeight)-replaceNaN(toFloat(e.availTop),0),null),replaceNaN(toFloat(e.availLeft),null)]}function isFrameSizeNull(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function getHardwareConcurrency(){return replaceNaN(toInt(navigator.hardwareConcurrency),void 0)}function getTimezone(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var r=new t().resolvedOptions().timeZone;if(r)return r}var i=-getTimezoneOffset();return"UTC".concat(i>=0?"+":"").concat(Math.abs(i))}function getTimezoneOffset(){var e=new Date().getFullYear();return Math.max(toFloat(new Date(e,0,1).getTimezoneOffset()),toFloat(new Date(e,6,1).getTimezoneOffset()))}function getSessionStorage(){try{return!!window.sessionStorage}catch{return!0}}function getLocalStorage(){try{return!!window.localStorage}catch{return!0}}function getIndexedDB(){if(!(isTrident()||isEdgeHTML()))try{return!!window.indexedDB}catch{return!0}}function getOpenDatabase(){return!!window.openDatabase}function getCpuClass(){return navigator.cpuClass}function getPlatform(){var e=navigator.platform;return e==="MacIntel"&&isWebKit()&&!isDesktopSafari()?isIPad()?"iPad":"iPhone":e}function getVendor(){return navigator.vendor||""}function getVendorFlavors(){for(var e=[],t=0,r=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<r.length;t++){var i=r[t],l=window[i];l&&typeof l=="object"&&e.push(i)}return e.sort()}function areCookiesEnabled(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function getFilters(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",e("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",e("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",e("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),e("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2FkLWJhbm5lcg=="),e("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iL29kMDA1LmNvbSJd"),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[e("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[e("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),e("LmJveHN0YXJ0d2VyYnVuZw=="),e("LndlcmJ1bmcz"),e("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),e("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("LmFkX3JlZ3VsYXIz")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),e("I2FkX3NxdWFyZQ==")],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",e("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",e("I25ld0Fk")],easyList:[e("I0FEX0NPTlRST0xfMjg="),e("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",e("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),e("LnNxdWFyZV9hZHM=")],easyListChina:[e("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[e("I0FkX1dpbjJkYXk="),e("I3dlcmJ1bmdzYm94MzAw"),e("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),e("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),e("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function getDomBlockers(e){var t=e===void 0?{}:e,r=t.debug;return __awaiter$1(this,void 0,void 0,function(){var i,l,a,c,d,D;return __generator(this,function(v){switch(v.label){case 0:return isApplicable()?(i=getFilters(),l=Object.keys(i),a=(D=[]).concat.apply(D,l.map(function(C){return i[C]})),[4,getBlockedSelectors(a)]):[2,void 0];case 1:return c=v.sent(),r&&printDebug(i,c),d=l.filter(function(C){var f=i[C],w=countTruthy(f.map(function(F){return c[F]}));return w>f.length*.6}),d.sort(),[2,d]}})})}function isApplicable(){return isWebKit()||isAndroid()}function getBlockedSelectors(e){var t;return __awaiter$1(this,void 0,void 0,function(){var r,i,l,a,D,c,d,D;return __generator(this,function(v){switch(v.label){case 0:for(r=document,i=r.createElement("div"),l=new Array(e.length),a={},forceShow(i),D=0;D<e.length;++D)c=selectorToElement(e[D]),d=r.createElement("div"),forceShow(d),d.appendChild(c),i.appendChild(d),l[D]=c;v.label=1;case 1:return r.body?[3,3]:[4,wait(50)];case 2:return v.sent(),[3,1];case 3:r.body.appendChild(i);try{for(D=0;D<e.length;++D)l[D].offsetParent||(a[e[D]]=!0)}finally{(t=i.parentNode)===null||t===void 0||t.removeChild(i)}return[2,a]}})})}function forceShow(e){e.style.setProperty("display","block","important")}function printDebug(e,t){for(var r="DOM blockers debug:\n```",i=0,l=Object.keys(e);i<l.length;i++){var a=l[i];r+=`
`.concat(a,":");for(var c=0,d=e[a];c<d.length;c++){var D=d[c];r+=`
  `.concat(t[D]?"\u{1F6AB}":"\u27A1\uFE0F"," ").concat(D)}}console.log("".concat(r,"\n```"))}function getColorGamut(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var r=t[e];if(matchMedia("(color-gamut: ".concat(r,")")).matches)return r}}function areColorsInverted(){if(doesMatch$4("inverted"))return!0;if(doesMatch$4("none"))return!1}function doesMatch$4(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function areColorsForced(){if(doesMatch$3("active"))return!0;if(doesMatch$3("none"))return!1}function doesMatch$3(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var maxValueToCheck=100;function getMonochromeDepth(){if(!!matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=maxValueToCheck;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function getContrastPreference(){if(doesMatch$2("no-preference"))return 0;if(doesMatch$2("high")||doesMatch$2("more"))return 1;if(doesMatch$2("low")||doesMatch$2("less"))return-1;if(doesMatch$2("forced"))return 10}function doesMatch$2(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function isMotionReduced(){if(doesMatch$1("reduce"))return!0;if(doesMatch$1("no-preference"))return!1}function doesMatch$1(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function isHDR(){if(doesMatch("high"))return!0;if(doesMatch("standard"))return!1}function doesMatch(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var M=Math,fallbackFn=function(){return 0};function getMathFingerprint(){var e=M.acos||fallbackFn,t=M.acosh||fallbackFn,r=M.asin||fallbackFn,i=M.asinh||fallbackFn,l=M.atanh||fallbackFn,a=M.atan||fallbackFn,c=M.sin||fallbackFn,d=M.sinh||fallbackFn,D=M.cos||fallbackFn,v=M.cosh||fallbackFn,C=M.tan||fallbackFn,f=M.tanh||fallbackFn,w=M.exp||fallbackFn,F=M.expm1||fallbackFn,T=M.log1p||fallbackFn,R=function(le){return M.pow(M.PI,le)},ee=function(le){return M.log(le+M.sqrt(le*le-1))},re=function(le){return M.log(le+M.sqrt(le*le+1))},ae=function(le){return M.log((1+le)/(1-le))/2},ce=function(le){return M.exp(le)-1/M.exp(le)/2},ue=function(le){return(M.exp(le)+1/M.exp(le))/2},de=function(le){return M.exp(le)-1},A=function(le){return(M.exp(2*le)-1)/(M.exp(2*le)+1)},oe=function(le){return M.log(1+le)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:ee(1e154),asin:r(.12312423423423424),asinh:i(1),asinhPf:re(1),atanh:l(.5),atanhPf:ae(.5),atan:a(.5),sin:c(-1e300),sinh:d(1),sinhPf:ce(1),cos:D(10.000000000123),cosh:v(1),coshPf:ue(1),tan:C(-1e300),tanh:f(1),tanhPf:A(1),exp:w(1),expm1:F(1),expm1Pf:de(1),log1p:T(10),log1pPf:oe(10),powPI:R(-100)}}var defaultText="mmMwWLliI0fiflO&1",presets={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function getFontPreferences(){return withNaturalFonts(function(e,t){for(var r={},i={},l=0,a=Object.keys(presets);l<a.length;l++){var c=a[l],d=presets[c],D=d[0],v=D===void 0?{}:D,C=d[1],f=C===void 0?defaultText:C,w=e.createElement("span");w.textContent=f,w.style.whiteSpace="nowrap";for(var F=0,T=Object.keys(v);F<T.length;F++){var R=T[F],ee=v[R];ee!==void 0&&(w.style[R]=ee)}r[c]=w,t.appendChild(e.createElement("br")),t.appendChild(w)}for(var re=0,ae=Object.keys(presets);re<ae.length;re++){var c=ae[re];i[c]=r[c].getBoundingClientRect().width}return i})}function withNaturalFonts(e,t){return t===void 0&&(t=4e3),withIframe(function(r,i){var l=i.document,a=l.body,c=a.style;c.width="".concat(t,"px"),c.webkitTextSizeAdjust=c.textSizeAdjust="none",isChromium()?a.style.zoom="".concat(1/i.devicePixelRatio):isWebKit()&&(a.style.zoom="reset");var d=l.createElement("div");return d.textContent=__spreadArray([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),a.appendChild(d),e(l,a)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function getVideoCard(){var e,t=document.createElement("canvas"),r=(e=t.getContext("webgl"))!==null&&e!==void 0?e:t.getContext("experimental-webgl");if(r&&"getExtension"in r){var i=r.getExtension("WEBGL_debug_renderer_info");if(i)return{vendor:(r.getParameter(i.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(r.getParameter(i.UNMASKED_RENDERER_WEBGL)||"").toString()}}}function isPdfViewerEnabled(){return navigator.pdfViewerEnabled}function getArchitecture(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}var sources={fonts:getFonts,domBlockers:getDomBlockers,fontPreferences:getFontPreferences,audio:getAudioFingerprint,screenFrame:getRoundedScreenFrame,osCpu:getOsCpu,languages:getLanguages,colorDepth:getColorDepth,deviceMemory:getDeviceMemory,screenResolution:getScreenResolution,hardwareConcurrency:getHardwareConcurrency,timezone:getTimezone,sessionStorage:getSessionStorage,localStorage:getLocalStorage,indexedDB:getIndexedDB,openDatabase:getOpenDatabase,cpuClass:getCpuClass,platform:getPlatform,plugins:getPlugins,canvas:getCanvasFingerprint,touchSupport:getTouchSupport,vendor:getVendor,vendorFlavors:getVendorFlavors,cookiesEnabled:areCookiesEnabled,colorGamut:getColorGamut,invertedColors:areColorsInverted,forcedColors:areColorsForced,monochrome:getMonochromeDepth,contrast:getContrastPreference,reducedMotion:isMotionReduced,hdr:isHDR,math:getMathFingerprint,videoCard:getVideoCard,pdfViewerEnabled:isPdfViewerEnabled,architecture:getArchitecture};function loadBuiltinSources(e){return loadSources(sources,e,[])}var commentTemplate="$ if upgrade to Pro: https://fpjs.dev/pro";function getConfidence(e){var t=getOpenConfidenceScore(e),r=deriveProConfidenceScore(t);return{score:t,comment:commentTemplate.replace(/\$/g,"".concat(r))}}function getOpenConfidenceScore(e){if(isAndroid())return .4;if(isWebKit())return isDesktopSafari()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function deriveProConfidenceScore(e){return round(.99+.01*e,1e-4)}function componentsToCanonicalString(e){for(var t="",r=0,i=Object.keys(e).sort();r<i.length;r++){var l=i[r],a=e[l],c=a.error?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(l.replace(/([:|\\])/g,"\\$1"),":").concat(c)}return t}function componentsToDebugString(e){return JSON.stringify(e,function(t,r){return r instanceof Error?errorToObject(r):r},2)}function hashComponents(e){return x64hash128(componentsToCanonicalString(e))}function makeLazyGetResult(e){var t,r=getConfidence(e);return{get visitorId(){return t===void 0&&(t=hashComponents(this.components)),t},set visitorId(i){t=i},confidence:r,components:e,version}}function prepareForSources(e){return e===void 0&&(e=50),requestIdleCallbackIfAvailable(e,e*2)}function makeAgent(e,t){var r=Date.now();return{get:function(i){return __awaiter$1(this,void 0,void 0,function(){var l,a,c;return __generator(this,function(d){switch(d.label){case 0:return l=Date.now(),[4,e()];case 1:return a=d.sent(),c=makeLazyGetResult(a),(t||i?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(c.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(l-r,`
visitorId: `).concat(c.visitorId,`
components: `).concat(componentsToDebugString(a),"\n```")),[2,c]}})})}}}function monitor(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(version,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function load(e){var t=e===void 0?{}:e,r=t.delayFallback,i=t.debug,l=t.monitoring,a=l===void 0?!0:l;return __awaiter$1(this,void 0,void 0,function(){var c;return __generator(this,function(d){switch(d.label){case 0:return a&&monitor(),[4,prepareForSources(r)];case 1:return d.sent(),c=loadBuiltinSources({debug:i}),[2,makeAgent(c,i)]}})})}async function getFingerprintId(){return(await(await load()).get()).visitorId}function getParamsFromUrl(){let e={};const t=window.location.href,r=t.indexOf("?");if(r!==-1){const i=t.substring(r+1);e=decodeParams(parseParamString(i))}return e}function parseParamString(e){const t={},r=e.split("&");for(let i=0;i<r.length;i++){const l=r[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]||"")}return t}function decodeParams(e){const t={};for(const r in e)t[decodeURIComponent(r)]=decodeURIComponent(e[r]);return t}const isShow=ref(!1),abort=ref(),showLoading$1=e=>{e?.abort&&(abort.value=e.abort),isShow.value=!0,document.body.style.pointerEvents="none"},hideLoading$1=()=>{isShow.value=!1,document.body.style.pointerEvents=""},useLoadingData=()=>({isShow,abort,showLoading:showLoading$1,hideLoading:hideLoading$1});MxElectronAPI.onShowLoading(showLoading$1),MxElectronAPI.onHideLoading(hideLoading$1);const useLoading=()=>({showLoading:showLoading$1,hideLoading:hideLoading$1});ref([]);ref("");ref();ref([]);ref();const onOpenFileCompleteCalls=[];let isOpenFileComplete=!1;const onOpenFileComplete=e=>{if(isOpenFileComplete)return e();onOpenFileCompleteCalls.push(e)},{showLoading,hideLoading}=useLoading();window.onerror=()=>{hideLoading()};const useMxCad=e=>{const{mainRect:t}=useLayout(),{initLayerList:r}=useLayer(),{initColorIndexList:i}=useColor$1(),{initLineTypeList:l}=useLineType();return onMounted(async()=>{const a=await getFingerprintId();createMxCAD({canvasId:e,userIdentitySign:a,isCPPMxCAD:!0,callback:(c,{canvasParent:d,canvas:D})=>{c.on("loadComplete",()=>{const{file:v}=getParamsFromUrl();requestIdleCallback(()=>{mxcadObj.openWebFile(v||"test2.mxweb")&&showLoading({})})}),c.on("openFileComplete",()=>{hideLoading(),r(),i(),l(),onOpenFileCompleteCalls.forEach(v=>{v&&v()}),isOpenFileComplete=!0})}})}),{mainRect:t}},useSideBtnListUIData=e=>{const{mainRect:t}=useLayout(),r=ref(uiConfig.mLeftButtonBarData?.isShow),i=ref(uiConfig.mRightButtonBarData?.isShow),l=markRaw(uiConfig.mLeftButtonBarData?.buttonBarData||[]),a=markRaw(uiConfig.mRightButtonBarData?.buttonBarData||[]),c=C=>{const w=(document.body.clientHeight-t.value.top-t.value.bottom+16)/e;return Math.ceil(C/w)*e},d=ref(0),D=ref(0),v=C=>{d.value=r.value?c(l.length):0,D.value=i.value?c(a.length):0};return watch([()=>t.value.top,()=>t.value.bottom],()=>v()),window.addEventListener("resize",v),{isShowLeftBtnList:r,isShowRightBtnList:i,leftBtnListUIData:l,rightBtnListUIData:a,leftWidth:d,rightWidth:D}},_hoisted_1$4={class:"modelNav"},_hoisted_2$3=["onClick"],_sfc_main$7=defineComponent$1({__name:"ModelNav",setup(e){const t=l=>{i.value=l},r=ref([{name:"\u6A21\u578B"},{name:"\u5E03\u5C401"},{name:"\u5E03\u5C402"}]),i=ref(0);return(l,a)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(c,d)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["nav",d===i.value?"nav-active":""]),onClick:D=>t(d)},toDisplayString(c.name),11,_hoisted_2$3))),256))]))}}),ModelNav_vue_vue_type_style_index_0_scoped_9b060cc4_lang="",ModelNav=_export_sfc(_sfc_main$7,[["__scopeId","data-v-9b060cc4"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/ModelNav.vue"]]),VMain$1="",VMain=genericComponent()({name:"VMain",props:{scrollable:Boolean,...makeTagProps({tag:"main"})},setup(e,t){let{slots:r}=t;const{mainStyles:i}=useLayout(),{ssrBootStyles:l}=useSsrBoot();return useRender(()=>createVNode(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[i.value,l.value]},{default:()=>[e.scrollable?createVNode("div",{class:"v-main__scroller"},[r.default?.()]):r.default?.()]})),{}}}),_hoisted_1$3=createBaseVNode("canvas",{id:"myCanvas"},null,-1),_sfc_main$6=defineComponent$1({__name:"index",setup(e){const{cursor:t,mountAutoUpdateCursor:r}=useCursorStyle(),{mainRect:i}=useMxCad("myCanvas"),{isShowLeftBtnList:l,isShowRightBtnList:a,leftBtnListUIData:c,rightBtnListUIData:d,leftWidth:D,rightWidth:v}=useSideBtnListUIData(44),C=computed(()=>`calc(100% - ${D.value+v.value}px)`),f=computed(()=>`calc(100vh - ${i.value.bottom+i.value.top}px)`);onMounted(()=>{r()});const w=F=>{F?.cmd&&callCommand(F?.cmd)};return(F,T)=>(openBlock(),createBlock(VMain,null,{default:withCtx(()=>[createBaseVNode("div",{class:"d-flex",style:normalizeStyle({height:unref(f)})},[unref(l)?(openBlock(),createBlock(MxBtnList,{key:0,style:{"z-index":"2"},width:unref(D),"bg-color":"prominent",class:"flex-column flex-wrap-reverse",onChange:w,list:unref(c)},null,8,["width","list"])):createCommentVNode("v-if",!0),createCommentVNode('  v-right-click-menu="rightMenuOptions" '),createBaseVNode("div",{class:"mxbox",style:normalizeStyle({width:unref(C)})},[createBaseVNode("div",{class:"pa-0 overflow-hidden mxdiv",style:normalizeStyle({cursor:unref(t)})},[createVNode(DynamicInputBox),_hoisted_1$3,createVNode(Message)],4),createVNode(ModelNav)],4),unref(a)?(openBlock(),createBlock(MxBtnList,{key:1,style:{"z-index":"2"},width:unref(v),"bg-color":"prominent",class:"flex-column flex-wrap-reverse",onChange:w,list:unref(d),location:"right"},null,8,["width","list"])):createCommentVNode("v-if",!0)],4)]),_:1}))}}),index_vue_vue_type_style_index_0_lang="",Main=_export_sfc(_sfc_main$6,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/index.vue"]]),useDrawer=e=>{const r=ref(0),i=computed(()=>r.value>0),{vResize:l,resizeOptions:a}=useResize({direction:e});return{width:r,isShow:i,resizeOptions:a,handleResize:v=>{if(v.resizeWidth&&v.resizeWidth){const C=200-v.resizeWidth>0?200-v.resizeWidth:0;r.value=v.resizeWidth+C}},vResize:l,handleClose:()=>{r.value=0},handleOpen:()=>{r.value=200}}},VNavigationDrawer$1="";function useSticky(e){let{rootEl:t,isSticky:r,layoutItemStyles:i}=e;const l=ref(!1),a=ref(0),c=computed(()=>{const v=typeof l.value=="boolean"?"top":l.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[v]:convertToUnit(a.value)}:{top:i.value.top}]});onMounted(()=>{watch(r,v=>{v?window.addEventListener("scroll",D,{passive:!0}):window.removeEventListener("scroll",D)},{immediate:!0})}),onBeforeUnmount(()=>{document.removeEventListener("scroll",D)});let d=0;function D(){const v=d>window.scrollY?"up":"down",C=t.value.getBoundingClientRect(),f=parseFloat(i.value.top??0),w=window.scrollY-Math.max(0,a.value-f),F=C.height+Math.max(a.value,f)-window.scrollY-window.innerHeight;C.height<window.innerHeight-f?(l.value="top",a.value=f):v==="up"&&l.value==="bottom"||v==="down"&&l.value==="top"?(a.value=window.scrollY+C.top,l.value=!0):v==="down"&&F<=0?(a.value=0,l.value="bottom"):v==="up"&&w<=0&&(a.value=C.top+w,l.value="top"),d=window.scrollY}return{isStuck:l,stickyStyles:c}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function calculateImpulseVelocity(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const i=kineticEnergyToVelocity(t),l=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);t+=(l-i)*Math.abs(l),r===e.length-1&&(t*=.5)}return kineticEnergyToVelocity(t)*1e3}function useVelocity(){const e={};function t(l){Array.from(l.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new CircularBuffer(HISTORY))).push([l.timeStamp,a])})}function r(l){Array.from(l.changedTouches).forEach(a=>{delete e[a.identifier]})}function i(l){const a=e[l]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${l}`);const c=a[0],d=[],D=[];for(const v of a){if(c[0]-v[0]>HORIZON)break;d.push({t:v[0],d:v[1].clientX}),D.push({t:v[0],d:v[1].clientY})}return{x:calculateImpulseVelocity(d),y:calculateImpulseVelocity(D),get direction(){const{x:v,y:C}=this,[f,w]=[Math.abs(v),Math.abs(C)];return f>w&&v>=0?"right":f>w&&v<=0?"left":w>f&&C>=0?"down":w>f&&C<=0?"up":oops$1()}}}return{addMovement:t,endTouch:r,getVelocity:i}}function oops$1(){throw new Error}function useTouch(e){let{isActive:t,isTemporary:r,width:i,touchless:l,position:a}=e;onMounted(()=>{window.addEventListener("touchstart",re,{passive:!0}),window.addEventListener("touchmove",ae,{passive:!1}),window.addEventListener("touchend",ce,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",re),window.removeEventListener("touchmove",ae),window.removeEventListener("touchend",ce)});const c=computed(()=>["left","right"].includes(a.value)),{addMovement:d,endTouch:D,getVelocity:v}=useVelocity();let C=!1;const f=ref(!1),w=ref(0),F=ref(0);let T;function R(de,A){return(a.value==="left"?de:a.value==="right"?document.documentElement.clientWidth-de:a.value==="top"?de:a.value==="bottom"?document.documentElement.clientHeight-de:oops())-(A?i.value:0)}function ee(de){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const oe=a.value==="left"?(de-F.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-de-F.value)/i.value:a.value==="top"?(de-F.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-de-F.value)/i.value:oops();return A?Math.max(0,Math.min(1,oe)):oe}function re(de){if(l.value)return;const A=de.changedTouches[0].clientX,oe=de.changedTouches[0].clientY,le=25,ie=a.value==="left"?A<le:a.value==="right"?A>document.documentElement.clientWidth-le:a.value==="top"?oe<le:a.value==="bottom"?oe>document.documentElement.clientHeight-le:oops(),I=t.value&&(a.value==="left"?A<i.value:a.value==="right"?A>document.documentElement.clientWidth-i.value:a.value==="top"?oe<i.value:a.value==="bottom"?oe>document.documentElement.clientHeight-i.value:oops());(ie||I||t.value&&r.value)&&(C=!0,T=[A,oe],F.value=R(c.value?A:oe,t.value),w.value=ee(c.value?A:oe),D(de),d(de))}function ae(de){const A=de.changedTouches[0].clientX,oe=de.changedTouches[0].clientY;if(C){if(!de.cancelable){C=!1;return}const ie=Math.abs(A-T[0]),I=Math.abs(oe-T[1]);(c.value?ie>I&&ie>3:I>ie&&I>3)?(f.value=!0,C=!1):(c.value?I:ie)>3&&(C=!1)}if(!f.value)return;de.preventDefault(),d(de);const le=ee(c.value?A:oe,!1);w.value=Math.max(0,Math.min(1,le)),le>1?F.value=R(c.value?A:oe,!0):le<0&&(F.value=R(c.value?A:oe,!1))}function ce(de){if(C=!1,!f.value)return;d(de),f.value=!1;const A=v(de.changedTouches[0].identifier),oe=Math.abs(A.x),le=Math.abs(A.y);(c.value?oe>le&&oe>400:le>oe&&le>3)?t.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||oops()):t.value=w.value>.5}const ue=computed(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${w.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${w.value*i.value}px))`:a.value==="top"?`translateY(calc(-100% + ${w.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${w.value*i.value}px))`:oops(),transition:"none"}:void 0);return{isDragging:f,dragProgress:w,dragStyles:ue}}function oops(){throw new Error}const locations=["start","end","left","right","top","bottom"],VNavigationDrawer=genericComponent()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>locations.includes(e)},sticky:Boolean,...makeBorderProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:l}=t;const{isRtl:a}=useRtl(),{themeClasses:c}=provideTheme(e),{borderClasses:d}=useBorder(e),{backgroundColorClasses:D,backgroundColorStyles:v}=useBackgroundColor(toRef(e,"color")),{elevationClasses:C}=useElevation(e),{mobile:f}=useDisplay(),{roundedClasses:w}=useRounded(e),F=useRouter(),T=useProxiedModel(e,"modelValue",null,Se=>!!Se),{ssrBootStyles:R}=useSsrBoot(),ee=ref(),re=ref(!1),ae=computed(()=>e.rail&&e.expandOnHover&&re.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),ce=computed(()=>toPhysical(e.location,a.value)),ue=computed(()=>!e.permanent&&(f.value||e.temporary)),de=computed(()=>e.sticky&&!ue.value&&ce.value!=="bottom");e.expandOnHover&&e.rail!=null&&watch(re,Se=>i("update:rail",!Se)),e.disableResizeWatcher||watch(ue,Se=>!e.permanent&&nextTick(()=>T.value=!Se)),!e.disableRouteWatcher&&F&&watch(F.currentRoute,()=>ue.value&&(T.value=!1)),watch(()=>e.permanent,Se=>{Se&&(T.value=!0)}),onBeforeMount(()=>{e.modelValue!=null||ue.value||(T.value=e.permanent||!f.value)});const{isDragging:A,dragProgress:oe,dragStyles:le}=useTouch({isActive:T,isTemporary:ue,width:ae,touchless:toRef(e,"touchless"),position:ce}),ie=computed(()=>{const Se=ue.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):ae.value;return A.value?Se*oe.value:Se}),{layoutItemStyles:I,layoutRect:j,layoutItemScrimStyles:pe}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:ce,layoutSize:ie,elementSize:ae,active:computed(()=>T.value||A.value),disableTransitions:computed(()=>A.value),absolute:computed(()=>e.absolute||de.value&&typeof be.value!="string")}),{isStuck:be,stickyStyles:De}=useSticky({rootEl:ee,isSticky:de,layoutItemStyles:I}),Re=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),Ee=computed(()=>({...A.value?{opacity:oe.value*.2,transition:"none"}:void 0,...j.value?{left:convertToUnit(j.value.left),right:convertToUnit(j.value.right),top:convertToUnit(j.value.top),bottom:convertToUnit(j.value.bottom)}:void 0,...pe.value}));return provideDefaults({VList:{bgColor:"transparent"}}),useRender(()=>{const Se=l.image||e.image;return createVNode(Fragment,null,[createVNode(e.tag,mergeProps({ref:ee,onMouseenter:()=>re.value=!0,onMouseleave:()=>re.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${ce.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":re.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":ue.value,"v-navigation-drawer--active":T.value,"v-navigation-drawer--sticky":de.value},c.value,D.value,d.value,C.value,w.value],style:[v.value,I.value,le.value,R.value,De.value]},r),{default:()=>[Se&&createVNode("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?l.image?.({image:e.image}):createVNode("img",{src:e.image,alt:""},null)]),l.prepend&&createVNode("div",{class:"v-navigation-drawer__prepend"},[l.prepend?.()]),createVNode("div",{class:"v-navigation-drawer__content"},[l.default?.()]),l.append&&createVNode("div",{class:"v-navigation-drawer__append"},[l.append?.()])]}),createVNode(Transition,{name:"fade-transition"},{default:()=>[ue.value&&(A.value||T.value)&&!!e.scrim&&createVNode("div",{class:["v-navigation-drawer__scrim",Re.backgroundColorClasses.value],style:[Ee.value,Re.backgroundColorStyles.value],onClick:()=>T.value=!1},null)]})])}),{isStuck:be}}}),_hoisted_1$2={class:"w-100 d-flex px-1 align-center justify-space-between bg-background rounded-t title"},_hoisted_2$2={class:""},_sfc_main$5=defineComponent$1({__name:"Drawer",props:{location:{type:String,required:!1,default:"left"},title:{type:String,required:!1,default:"\u6807\u9898"}},setup(e,{expose:t}){const r=computed(()=>e.location==="left"?"right":"left"),{width:i,isShow:l,resizeOptions:a,handleResize:c,vResize:d,handleClose:D,handleOpen:v}=useDrawer([r.value]),{mainRect:C}=useLayout(),f=computed(()=>`width: ${i.value}px;  height: calc(100% - ${C.value.top}px); top: ${C.value.top}px; ${e.location}: 0;`);return t({handleOpen:v,handleClose:D}),(w,F)=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("div",{class:"resize-line",style:normalizeStyle(unref(f)),onResize:F[0]||(F[0]=(...T)=>unref(c)&&unref(c)(...T))},null,36),[[vShow,unref(l)],[unref(d),unref(a)]]),unref(l)?(openBlock(),createBlock(VNavigationDrawer,{key:0,permanent:"",width:unref(i),location:e.location,class:"pa-1 bg-prominent drawer"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("span",_hoisted_2$2,toDisplayString(e.title),1),createVNode(VBtn,{size:"x-small",icon:"",variant:"plain",onClick:unref(D)},{default:withCtx(()=>[createVNode(VIcon,{icon:"cha",size:"large"})]),_:1},8,["onClick"])]),renderSlot(w.$slots,"default",{},void 0,!0)]),_:3},8,["width","location"])):createCommentVNode("v-if",!0)],64))}}),Drawer_vue_vue_type_style_index_0_lang="",Drawer_vue_vue_type_style_index_1_scoped_b6696ec4_lang="",Drawer$1=_export_sfc(_sfc_main$5,[["__scopeId","data-v-b6696ec4"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/Drawer.vue"]]),_withScopeId=e=>(pushScopeId("data-v-68800be9"),e=e(),popScopeId(),e),_hoisted_1$1=_withScopeId(()=>createBaseVNode("div",{class:"w-100 ma-0 mt-1 bg-background text-left pl-2"}," \u6BD4\u8F83\u7ED3\u679C ",-1)),_hoisted_2$1=_withScopeId(()=>createBaseVNode("table",{class:"w-100"},[createBaseVNode("thead",{class:"w-100"},[createBaseVNode("tr",{class:"w-100"},[createBaseVNode("th",{class:"text-left pa-1 w-50 disabled"},"\u5750\u6807"),createBaseVNode("th",{class:"text-left pa-1 w-50 disabled"},"\u4FEE\u6539\u8BF4\u660E")])]),createBaseVNode("tbody",{class:"w-100"},[createBaseVNode("tr",null,[createBaseVNode("td",{class:"pa-1 w-50"},[createBaseVNode("label",{class:"w-100"},"(-1515,1212)")]),createBaseVNode("td",{class:"pa-1 w-50"}," \u5220\u9664 ")])])],-1)),_hoisted_3$1=_withScopeId(()=>createBaseVNode("div",{class:"w-100 ma-0 mt-2 bg-background text-left pl-2"}," \u88AB\u6BD4\u8F83\u56FE\u7EB8\u9884\u89C8 ",-1)),_hoisted_4$1=_withScopeId(()=>createBaseVNode("div",{style:{background:"#000",width:"100%",height:"300px"}},null,-1)),_sfc_main$4=defineComponent$1({__name:"LeftDrawer",setup(e){return(t,r)=>(openBlock(),createBlock(Drawer$1,{location:"left",title:"\u56FE\u7EB8\u6BD4\u8F83"},{default:withCtx(()=>[createVNode(VBtn,{class:"w-100 mt-1 bg-depth border",variant:"text",size:"small"},{default:withCtx(()=>[createTextVNode(" \u9009\u62E9\u6BD4\u8F83\u6587\u4EF6 ")]),_:1}),createVNode(VBtn,{class:"w-100 mt-1 bg-undertint border",variant:"text",size:"small"},{default:withCtx(()=>[createTextVNode(" \u5F00\u59CB\u6BD4\u8F83 ")]),_:1}),_hoisted_1$1,_hoisted_2$1,_hoisted_3$1,_hoisted_4$1]),_:1}))}}),LeftDrawer_vue_vue_type_style_index_0_scoped_68800be9_lang="",LeftDrawer=_export_sfc(_sfc_main$4,[["__scopeId","data-v-68800be9"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/LeftDrawer.vue"]]),VExpansionPanel$1="",VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),allowedVariants=["default","accordion","inset","popout"],VExpansionPanels=genericComponent()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>allowedVariants.includes(e)},readonly:Boolean,...makeGroupProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;useGroup(e,VExpansionPanelSymbol);const{themeClasses:i}=provideTheme(e),l=computed(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return provideDefaults({VExpansionPanel:{color:toRef(e,"color")},VExpansionPanelTitle:{readonly:toRef(e,"readonly")}}),useRender(()=>createVNode(e.tag,{class:["v-expansion-panels",i.value,l.value]},r)),{}}}),makeVExpansionPanelTitleProps=propsFactory$1({color:String,expandIcon:{type:IconValue$1,default:"$expand"},collapseIcon:{type:IconValue$1,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),VExpansionPanelTitle=genericComponent()({name:"VExpansionPanelTitle",directives:{Ripple},props:{...makeVExpansionPanelTitleProps()},setup(e,t){let{slots:r}=t;const i=inject$1(VExpansionPanelSymbol);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:l,backgroundColorStyles:a}=useBackgroundColor(e,"color"),c=computed(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return useRender(()=>withDirectives(createVNode("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value},l.value],style:a.value,type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[createVNode("span",{class:"v-expansion-panel-title__overlay"},null),r.default?.(c.value),!e.hideActions&&createVNode("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(c.value):createVNode(VIcon,{icon:i.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[resolveDirective("ripple"),e.ripple]])),{}}}),VExpansionPanelText=genericComponent()({name:"VExpansionPanelText",props:{...makeLazyProps()},setup(e,t){let{slots:r}=t;const i=inject$1(VExpansionPanelSymbol);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:l,onAfterLeave:a}=useLazy(e,i.isSelected);return useRender(()=>createVNode(VExpandTransition,{onAfterLeave:a},{default:()=>[withDirectives(createVNode("div",{class:"v-expansion-panel-text"},[r.default&&l.value&&createVNode("div",{class:"v-expansion-panel-text__wrapper"},[r.default?.()])]),[[vShow,i.isSelected.value]])]})),{}}}),VExpansionPanel=genericComponent()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeLazyProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const i=useGroupItem(e,VExpansionPanelSymbol),{backgroundColorClasses:l,backgroundColorStyles:a}=useBackgroundColor(e,"bgColor"),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e),D=computed(()=>i?.disabled.value||e.disabled),v=computed(()=>i.group.items.value.reduce((w,F,T)=>(i.group.selected.value.includes(F.id)&&w.push(T),w),[])),C=computed(()=>{const w=i.group.items.value.findIndex(F=>F.id===i.id);return!i.isSelected.value&&v.value.some(F=>F-w===1)}),f=computed(()=>{const w=i.group.items.value.findIndex(F=>F.id===i.id);return!i.isSelected.value&&v.value.some(F=>F-w===-1)});return provide(VExpansionPanelSymbol,i),useRender(()=>{const w=!!(r.text||e.text),F=!!(r.title||e.title);return createVNode(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":C.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":D.value},d.value,l.value],style:a.value,"aria-expanded":i.isSelected.value},{default:()=>[createVNode("div",{class:["v-expansion-panel__shadow",...c.value]},null),F&&createVNode(VExpansionPanelTitle,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[r.title?r.title():e.title]}),w&&createVNode(VExpansionPanelText,{key:"text",eager:e.eager},{default:()=>[r.text?r.text():e.text]}),r.default?.()]})}),{}}}),_hoisted_1={class:"ml-4"},_hoisted_2={class:"w-100"},_hoisted_3={class:"w-100"},_hoisted_4={key:0,class:"w-100"},_hoisted_5={class:"text-left pa-1 w-50 disabled"},_hoisted_6={class:"text-left pa-1 w-50 disabled"},_hoisted_7={class:"w-100"},_hoisted_8=["for"],_hoisted_9={class:"pa-1 w-50"},_hoisted_10=["type","onUpdate:modelValue","disabled","id"],_sfc_main$3=defineComponent$1({__name:"RightDrawer",setup(e){const t=[{name:"\u57FA\u7840",isShow:!0,tableHeader:["\u540D\u79F0","\u76F4\u7EBF"],table:[{key:"\u989C\u8272",type:"color",prop:{index:-1}},{key:"\u56FE\u5C42",type:"v-select",prop:{data:[0,1,2]}},{key:"\u7EBF\u578B",type:"lineTypeSelect",prop:{index:0}},{key:"\u7EBF\u578B\u6BD4\u4F8B",type:"input",prop:{type:"number",value:1.001,border:!1,step:"0.005",inputStyle:{width:"100%"}}},{key:"\u6CD5\u5411\u5750\u6807",type:"input",prop:{type:"text",value:"(0,0,1)",border:!1,disabled:!0,inputStyle:{width:"100%"}}},{key:"\u5176\u4ED6\u4FE1\u606F",type:"input",prop:{type:"text",value:"{id:1231231231231231123123}",border:!1,disabled:!0,inputStyle:{width:"100%",whiteSpace:"nowrap !important",overflow:"hidden !important",textOverflow:"ellipsis !important"}}},{key:"\u7EBF\u5BBD",type:"LineWidthSelect",prop:{index:0}}]},{name:"\u66F2\u7EBF\u53C2\u6570",isShow:!1,tableHeader:[],table:[{key:"\u957F\u5EA6",type:"input",prop:{type:"text",value:"204.555",border:!1,disabled:!0,inputStyle:{width:"100%"}}},{key:"\u9762\u79EF",type:"input",prop:{type:"text",value:"0.000",border:!1,disabled:!0,inputStyle:{width:"100%"}}}]},{name:"\u51E0\u4F55\u56FE\u5F62",isShow:!1,tableHeader:[],table:[{key:"\u5F00\u59CB\u70B9X",type:"input",prop:{type:"number",value:"19.000",border:!1,inputStyle:{width:"100%"},pattern:"^(-?\\d+)(\\.\\d+)?$",title:"\u5F00\u59CB\u70B9X\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u5F00\u59CB\u70B9Y",type:"input",prop:{type:"number",value:"190.000",border:!1,inputStyle:{width:"100%"},pattern:"^(-?\\d+)(\\.\\d+)?$",title:"\u5F00\u59CB\u70B9Y\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u5F00\u59CB\u70B9Z",type:"input",prop:{type:"number",value:"0.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u5F00\u59CB\u70B9Z\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9X",type:"input",prop:{type:"text",value:"128.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9X\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9Y",type:"input",prop:{type:"text",value:"28.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9Y\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9Z",type:"input",prop:{type:"text",value:"0.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9Z\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u589E\u91CFX",type:"input",prop:{type:"text",value:"149.000",border:!1,disabled:!0}},{key:"\u589E\u91CFY",type:"input",prop:{type:"text",value:"140.000",border:!1,disabled:!0}},{key:"\u589E\u91CFZ",type:"input",prop:{type:"text",value:"0.000",disabled:!0,border:!1}},{key:"\u89D2\u5EA6",type:"input",prop:{type:"text",value:"361.000",border:!1,disabled:!0}}]}],r=ref([1,2,3]),i=ref("\u5168\u90E8"),l=ref();return addCommand("Mx_Properties",()=>l.value?.handleOpen()),(a,c)=>(openBlock(),createBlock(Drawer$1,{location:"right",title:"\u7279\u6027",ref_key:"rightDrawer",ref:l},{default:withCtx(()=>[createVNode(VSelect,{items:["\u5168\u90E8"],modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),"bg-color":"transition",class:"mt-2 mb-2 border"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_1,[createVNode(VExpansionPanels,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=d=>r.value=d),variant:"accordion",multiple:"",class:"w-100"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(t,(d,D)=>createVNode(VExpansionPanel,{key:D+d.name,class:"item"},{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{"expand-icon":"mdi:mdi-menu-down","collapse-icon":"mdi:mdi-menu-up",class:"bg-background"},{default:withCtx(()=>[createTextVNode(toDisplayString(d.name),1)]),_:2},1024),createVNode(VExpansionPanelText,{eager:"",class:"ml-2"},{default:withCtx(()=>[createBaseVNode("table",_hoisted_2,[createBaseVNode("thead",_hoisted_3,[d.tableHeader.length!==0?(openBlock(),createElementBlock("tr",_hoisted_4,[createBaseVNode("th",_hoisted_5,toDisplayString(d.tableHeader[0]),1),createBaseVNode("th",_hoisted_6,toDisplayString(d.tableHeader[1]),1)])):createCommentVNode("v-if",!0)]),createBaseVNode("tbody",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.table,(v,C)=>(openBlock(),createElementBlock("tr",{key:v.key+C,class:"w-100"},[createBaseVNode("td",{class:normalizeClass(["pa-1 w-50",v.prop.disabled?"disabled":""])},[createBaseVNode("label",{class:"w-100",for:v.key},toDisplayString(v.key),9,_hoisted_8)],2),createBaseVNode("td",_hoisted_9,[withDirectives(createBaseVNode("input",{class:"w-100",type:v.prop.type,"onUpdate:modelValue":f=>v.prop.value=f,disabled:v.prop.disabled,id:v.key},null,8,_hoisted_10),[[vModelDynamic,v.prop.value]])])]))),128))])])]),_:2},1024)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),_:1},512))}}),RightDrawer_vue_vue_type_style_index_0_lang="",RightDrawer_vue_vue_type_style_index_1_scoped_b609ee10_lang="",RightDrawer=_export_sfc(_sfc_main$3,[["__scopeId","data-v-b609ee10"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/RightDrawer.vue"]]),_sfc_main$2=defineComponent$1({__name:"index",setup(e){return(t,r)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(LeftDrawer),createVNode(RightDrawer)],64))}}),Drawer=_export_sfc(_sfc_main$2,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/index.vue"]]),requireModules=Object.assign({"./AboutDialog/index.vue":()=>__vitePreload(()=>import("./index.540c81ae.js"),["./index.540c81ae.js","./index.d4c24131.js","./index.bf79da37.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./index.fdedb59d.css"],import.meta.url),"./ArrayDialog/index.vue":()=>__vitePreload(()=>import("./index.172fe345.js"),["./index.172fe345.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.ddb8f62a.js","./MxGetPointBtn.2f9b5d35.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./index.21b67efc.css"],import.meta.url),"./AttachPictureDialog/index.vue":()=>__vitePreload(()=>import("./index.3db7566d.js"),["./index.3db7566d.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.887520ec.js","./VAutocomplete.3db23aac.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css"],import.meta.url),"./CADToPDFDialog/index.vue":()=>__vitePreload(()=>import("./index.65e34c7d.js"),["./index.65e34c7d.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css"],import.meta.url),"./ColorSelectDialog/index.vue":()=>__vitePreload(()=>import("./index.24a7df62.js"),["./index.24a7df62.js","./index.d4c24131.js","./index.bf79da37.css","./index.4467fd68.js","./index.3408c9ae.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./math.58b544d2.js","./VSlider.eb2d2e88.js","./VSlider.70bd7a7a.css","./index.be091902.css"],import.meta.url),"./CreateBlocksDialog/index.vue":()=>__vitePreload(()=>import("./index.45ca9cae.js"),["./index.45ca9cae.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.ddb8f62a.js","./MxGetPointBtn.2f9b5d35.css","./VAutocomplete.887520ec.js","./VAutocomplete.3db23aac.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./index.8a2f256a.css"],import.meta.url),"./DWGCutDialog/index.vue":()=>__vitePreload(()=>import("./index.c7793343.js"),["./index.c7793343.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.887520ec.js","./VAutocomplete.3db23aac.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./index.e174ff80.css"],import.meta.url),"./DimensionStyleManagerDialog/index.vue":()=>__vitePreload(()=>import("./index.74951658.js"),["./index.74951658.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCol.8237ea26.js","./index.f47f1172.css"],import.meta.url),"./DraftingSettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.d635b96b.js"),["./index.d635b96b.js","./index.d4c24131.js","./index.bf79da37.css","./index.4467fd68.js","./index.3408c9ae.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCol.8237ea26.js"],import.meta.url),"./InsertDialog/index.vue":()=>__vitePreload(()=>import("./index.fe92316f.js"),["./index.fe92316f.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.887520ec.js","./VAutocomplete.3db23aac.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css"],import.meta.url),"./LayerManagementDialog/index.vue":()=>__vitePreload(()=>import("./index.c70036ee.js"),["./index.c70036ee.js","./index.d4c24131.js","./index.bf79da37.css","./math.58b544d2.js","./VTable.2205df53.js","./VTable.026c2777.css","./index.ba46a858.css"],import.meta.url),"./LineWeightSettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.bce02380.js"),["./index.bce02380.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VSlider.eb2d2e88.js","./VSlider.70bd7a7a.css","./index.ae6b9b03.css"],import.meta.url),"./LinearManagerDialog/index.vue":()=>__vitePreload(()=>import("./index.d49baf26.js"),["./index.d49baf26.js","./index.d4c24131.js","./index.bf79da37.css","./VTable.2205df53.js","./VTable.026c2777.css","./index.b308856f.css"],import.meta.url),"./ModifyDimensionStylesDialog/index.vue":()=>__vitePreload(()=>import("./index.b1e08ac6.js"),["./index.b1e08ac6.js","./index.d4c24131.js","./index.bf79da37.css","./index.4467fd68.js","./index.3408c9ae.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCol.8237ea26.js","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./index.0a20bb04.css"],import.meta.url),"./MultilineTextDialog/index.vue":()=>__vitePreload(()=>import("./index.08e4e541.js"),["./index.08e4e541.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VRow.2d6cc90c.js","./VRow.37f80755.css","./index.31016aaf.css"],import.meta.url),"./PatternFillingDialog/index.vue":()=>__vitePreload(()=>import("./index.bfed6ece.js"),["./index.bfed6ece.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.ddb8f62a.js","./MxGetPointBtn.2f9b5d35.css","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCol.8237ea26.js"],import.meta.url),"./PointStyleDialog/index.vue":()=>__vitePreload(()=>import("./index.58867883.js"),["./index.58867883.js","./index.d4c24131.js","./index.bf79da37.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./index.50a2ca63.css"],import.meta.url),"./PopupDialog/index.vue":()=>__vitePreload(()=>import("./index.182974ee.js"),["./index.182974ee.js","./index.d4c24131.js","./index.bf79da37.css","./popup.66036dc3.js"],import.meta.url),"./QuickSelectionDialog/index.vue":()=>__vitePreload(()=>import("./index.93ff718e.js"),["./index.93ff718e.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./index.6f3650f9.css"],import.meta.url),"./SetUpDialog/index.vue":()=>__vitePreload(()=>import("./index.cb6d9533.js"),["./index.cb6d9533.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./VSlider.eb2d2e88.js","./VSlider.70bd7a7a.css","./index.30dea8e8.css"],import.meta.url),"./ShortcutKeySettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.808f4d16.js"),["./index.808f4d16.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VCol.8237ea26.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VTable.2205df53.js","./VTable.026c2777.css","./index.65981c7c.css"],import.meta.url),"./SingleLineTextDialog/index.vue":()=>__vitePreload(()=>import("./index.29e9e08d.js"),["./index.29e9e08d.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css"],import.meta.url),"./TextFindDialog/index.vue":()=>__vitePreload(()=>import("./index.8f56c893.js"),["./index.8f56c893.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.887520ec.js","./VAutocomplete.3db23aac.css","./VRadioGroup.31d15950.js","./VRadioGroup.d9c771a1.css","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./index.d12aecf2.css"],import.meta.url),"./TextStyleDialog/index.vue":()=>__vitePreload(()=>import("./index.414e8c5c.js"),["./index.414e8c5c.js","./index.d4c24131.js","./index.bf79da37.css","./MxFieldset.9376fe76.js","./MxFieldset.9aaca3fc.css","./popup.66036dc3.js","./VRow.2d6cc90c.js","./VRow.37f80755.css","./VCol.8237ea26.js","./VCheckbox.ae11832a.js","./VCheckbox.1ea139e1.css","./index.374694c0.css"],import.meta.url)});let components=[];for(const e in requireModules){const t=requireModules[e];components.push(defineAsyncComponent(t))}const _sfc_main$1=defineComponent$1({__name:"index",setup(e){const{isShow:t,abort:r,hideLoading:i}=useLoadingData(),l=()=>{i(),r.value&&(r.value(),r.value=void 0)};return(a,c)=>(openBlock(),createBlock(VOverlay,{modelValue:unref(t),"onUpdate:modelValue":c[0]||(c[0]=d=>isRef(t)?t.value=d:null),absolute:"","z-index":99999,class:"align-center justify-center",persistent:""},{default:withCtx(()=>[createVNode(VProgressCircular,{indeterminate:"",size:"64",color:"primary"}),withDirectives(createVNode(VBtn,{onClick:l},{default:withCtx(()=>[createTextVNode("\u505C\u6B62")]),_:1},512),[[vShow,unref(r)]])]),_:1},8,["modelValue"]))}}),MxLoading=_export_sfc(_sfc_main$1,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/MxLoading/index.vue"]]),VLayout$1="",VLayout=genericComponent()({name:"VLayout",props:makeLayoutProps(),setup(e,t){let{slots:r}=t;const{layoutClasses:i,layoutStyles:l,getLayoutItem:a,items:c,layoutRef:d}=createLayout(e);return useRender(()=>createVNode("div",{ref:d,class:i.value,style:l.value},[r.default?.()])),{getLayoutItem:a,items:c}}}),_sfc_main=defineComponent$1({__name:"App",setup(e){return(t,r)=>(openBlock(),createBlock(VLayout,null,{default:withCtx(()=>[createVNode(Header),createVNode(Drawer),createVNode(Main),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(components),i=>(openBlock(),createBlock(resolveDynamicComponent(i)))),256)),createVNode(Footer),createVNode(MxLoading)]),_:1}))}}),App=_export_sfc(_sfc_main,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/App.vue"]]),materialdesignicons="",main="";function propsFactory(e,t){return r=>Object.keys(e).reduce((i,l)=>{const c=typeof e[l]=="object"&&e[l]!=null&&!Array.isArray(e[l])?e[l]:{type:e[l]};return r&&l in r?i[l]={...c,default:r[l]}:i[l]=c,t&&!i[l].source&&(i[l].source=t),i},{})}const IconValue=[String,Function,Object],makeIconProps=propsFactory({icon:{type:IconValue},tag:{type:String,required:!0},fill:{type:String}},"icon"),MxAliSymbolIcon=defineComponent$1({name:"MxAliSymbolIcon",inheritAttrs:!1,props:makeIconProps(),setup(e,{attrs:t}){const{style:r,...i}=t;return r.fill=e.fill,()=>h(e.tag,{style:r,...i},[h("svg",{role:"img","aria-hidden":!0,class:"ali-icon"},[h("use",{"xlink:href":"#"+e.icon})])])}}),getMxAliSymbolIconHTML=e=>`<svg role="img" aria-hidden=true class="ali-icon">
        <use xlink:href="#${e}"/>
        </svg>`,aliases={},aliSymbol={component:MxAliSymbolIcon},vuetify=createVuetify({defaults:{VSelect:{density:"compact",variant:"solo",hideDetails:!0,menuIcon:"mdi:mdi-menu-down",menuProps:{maxHeight:400}},VMenu:{maxHeight:800},VList:{dense:!0,light:!0,nav:!0},VListItem:{minHeight:"25px",density:"compact",link:!0,rounded:0},VTextField:{density:"compact",variant:"solo",hideDetails:!0,inline:!0,bgColor:"grey-lighten-2"},VAutocomplete:{density:"compact",variant:"solo",hideDetails:!0,menuIcon:"mdi:mdi-menu-down",bgColor:"grey-lighten-2"},VBtn:{size:"small",variant:"outlined"},VCheckbox:{density:"compact",hideDetails:!0,trueIcon:"mdi:mdi-checkbox-marked",falseIcon:"mdi:mdi-checkbox-blank-outline"},VRadio:{density:"compact",trueIcon:"mdi:mdi-radiobox-marked",falseIcon:"mdi:mdi-radiobox-blank"},VRadioGroup:{trueIcon:"mdi:mdi-radiobox-marked",falseIcon:"mdi:mdi-radiobox-blank",inline:!0,hideDetails:!0},VRow:{alignContent:"center",justify:"center",dense:!0},VCol:{cols:12,alignSelf:"center"},VTabs:{density:"compact",hideSlider:!0},VTable:{density:"density",fixedHeader:!0,hover:!0},VAlert:{closable:!0,closeIcon:"mdi:mdi-close",closeLabel:"\u5173\u95ED",density:"compact"}},icons:{defaultSet:"aliSymbol",aliases:{...aliases},sets:{aliSymbol}},theme:{defaultTheme:"dark",themes:{light:{colors:{surface:"#FFFFFF",background:"#E0E0E0",accent:"#545555",prominent:"#FFFFFF",modification:"#FFFFFF",transition:"#EFEFEF",undertint:"#3A4352",depth:"#D3D1D1","on-undertint-bg":"#000","undertint-bg":"#CDCDCD","depth-bg":"#EBE9E9",inverse:"#000000",inverse1:"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":1,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.2,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.1,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{colors:{surface:"#212832",background:"#212832",accent:"#545555",prominent:"#3A4352",modification:"#1E252F",transition:"#5D6675",undertint:"#AEABAB","on-undertint":"#fff",depth:"#5D6675","on-depth":"#fff","undertint-bg":"#2E3440","depth-bg":"#454F61",inverse:"#FFFFFF",inverse1:"#000000"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":1,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.2,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.1,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}),vuetify$1={install(e){e.use(vuetify)}};function registerPlugins(e){e.use(createPinia()),e.use(vuetify$1),e.use(mouseMenu)}window._iconfont_svg_string_3973422='<svg shape-rendering="geometricPrecision"><symbol id="charukuai1" viewBox="0 0 1024 1024"><path d="M485 697.6c0 2.1 0 4.3 0.1 6.4H383v-12.5h102.1c-0.1 2-0.1 4.1-0.1 6.1zM960 162.5V704h-50.1c0.1-2.1 0.1-4.3 0.1-6.4 0-117.2-95.3-212.5-212.5-212.5-2 0-4 0-6 0.1V216.5H383V64h448l129 98.5z" fill="currentColor" ></path><path d="M115.5 191.5v525h601v-525h-601z m25 25h551v475h-551v-475z" fill="#178FE6" ></path><path d="M64 668h100v100H64V668z" fill="#178FE6" ></path><path d="M865.4 529.7c-44.9-44.9-104.5-69.6-167.9-69.6-2 0-4 0-6 0.1-61.2 1.5-118.5 26-161.9 69.5-43.4 43.4-68 100.7-69.5 161.8 0 2-0.1 4.1-0.1 6.1 0 2.1 0 4.3 0.1 6.4 1.6 61 26.1 118.2 69.5 161.5 44.9 44.9 104.5 69.6 167.9 69.6s123.1-24.7 167.9-69.6c43.3-43.3 67.9-100.5 69.5-161.5 0-2.1 0.1-4.3 0.1-6.4 0-63.4-24.7-123.1-69.6-167.9zM697.5 910.1c-115 0-209-91.9-212.4-206.1-0.1-2.1-0.1-4.3-0.1-6.4 0-2 0-4.1 0.1-6.1 3.2-112.4 94-203.2 206.4-206.3 2-0.1 4-0.1 6-0.1 117.2 0 212.5 95.3 212.5 212.5 0 2.1 0 4.3-0.1 6.4-3.4 114.2-97.4 206.1-212.4 206.1z" fill="#178FE6" ></path><path d="M960 780v180H780" fill="currentColor" ></path></symbol><symbol id="shunshizhenxuanzhuan90du" viewBox="0 0 1024 1024"><path d="M897.4 410.5c13.8 0 25 11.2 25 25v476c0 13.8-11.2 25-25 25h-540c-13.8 0-25-11.2-25-25v-476c0-13.8 11.2-25 25-25h540m0-25h-540c-27.6 0-50 22.4-50 50v476c0 27.6 22.4 50 50 50h540c27.6 0 50-22.4 50-50v-476c0-27.6-22.4-50-50-50z" fill="currentColor" ></path><path d="M65.6 580.6h-0.8c-6.9-0.4-12.1-6.4-11.7-13.3 6.7-107.1 52.2-208.2 128.1-284.6 75.8-76.3 176.5-122.4 283.6-129.9 6.9-0.5 12.9 4.7 13.3 11.6 0.5 6.9-4.7 12.9-11.6 13.3C258 192.3 91.1 360.4 78 568.9c-0.4 6.6-5.9 11.7-12.4 11.7z" fill="#178FE6" ></path><path d="M614.4 182.7l-140.9 81.4c-13.3 7.7-30-1.9-30-17.3V84c0-15.4 16.7-25 30-17.3l140.9 81.4c13.3 7.7 13.3 26.9 0 34.6z" fill="#178FE6" ></path><path d="M473.5 772.6c17.2-28.9 31.2-55.1 42.2-78.5-19.5 3.1-35.7 0.6-48.6-7.6s-20.7-19.3-23.4-33.4c-2.7-14.1-2.5-26.8 0.6-38.1s8-20.7 14.6-28.1c6.6-7.4 14.6-12.7 24-15.8 9.4-3.1 17.8-4.7 25.2-4.7 7.4 0 15 1.6 22.9 4.7 7.8 3.1 14.8 7.8 21.1 14.1 6.2 6.3 10.5 12.7 12.9 19.3 2.3 6.6 3.5 15.2 3.5 25.8s-3.9 24-11.7 40.4c-7.8 16.4-27 50.4-57.4 102h-25.9zM467 641.4c1.2 10.2 5.5 18.6 12.9 25.2 7.4 6.6 15.4 9.6 24 8.8 8.6-0.8 15.4-3.1 20.5-7s10-10.5 14.6-19.9c3.1-11.7 3.9-21.7 2.3-29.9s-5.7-15-12.3-20.5c-6.6-5.5-13.9-8.2-21.7-8.2-4.7-0.8-10.7 0.4-18.2 3.5-7.4 3.1-13.3 9.4-17.6 18.8-4.1 9.2-5.6 19-4.5 29.2zM596.5 657.2c0.8-20.7 3.7-37.1 8.8-49.2 5.1-12.1 12.3-22.1 21.7-29.9 9.4-7.8 20.9-11.7 34.6-11.7 13.7 0 25.6 5.7 35.7 17 10.1 11.3 16.8 25.6 19.9 42.8 3.1 17.2 4.1 36.9 2.9 59.2s-5.1 40.4-11.7 54.5c-6.6 14.1-16.6 23.8-29.9 29.3-13.3 5.5-26.6 4.9-39.8-1.8-13.3-6.6-22.7-15.4-28.1-26.4-5.5-10.9-9.4-22.4-11.7-34.6-2.4-12.1-3.2-28.5-2.4-49.2z m24.6-7c-2.3 21.5-1.6 40.6 2.3 57.4 3.9 16.8 10.3 28.7 19.3 35.7 9 7 18.2 8.4 27.5 4.1 9.4-4.3 16.2-12.9 20.5-25.8 4.3-12.9 6.4-27 6.4-42.2s-0.6-29.1-1.8-41.6c-1.2-12.5-4.7-23.8-10.5-34-5.9-10.1-13.7-15.4-23.4-15.8-9.8-0.4-18.4 4.5-25.8 14.6-7.3 10.3-12.1 26.1-14.5 47.6zM806.9 625c-9.8-0.8-17.6-4.3-23.4-10.5-5.9-6.2-8.6-14.1-8.2-23.4 0.4-9.4 2.9-16.6 7.6-21.7 4.7-5.1 10.5-8.6 17.6-10.5 7-1.9 13.9-2.1 20.5-0.6 6.6 1.6 12.3 5.7 17 12.3 4.7 6.6 6.4 15.1 5.3 25.2-1.2 10.2-5.1 17.8-11.7 22.9-6.8 4.9-15 7-24.7 6.3z m-19.4-36.4c-0.8 5.5 0.2 10.5 2.9 15.2 2.7 4.7 7.8 7.6 15.2 8.8 7.4 1.2 13.5-0.4 18.2-4.7 4.7-4.3 7-10.1 7-17.6 0-7.4-2.3-13.1-7-17-4.7-3.9-9.8-5.5-15.2-4.7-5.5 0.8-10.2 2.9-14.1 6.4-3.9 3.7-6.2 8.2-7 13.6z" fill="currentColor" ></path></symbol><symbol id="gaojigongju" viewBox="0 0 1024 1024"><path d="M760 585c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7 0 3.8-0.1 7.5-0.4 11.3l-85-85-17.9-17.9-17.7 18-125.5 128-17 17.6 17.1 17.5 83.4 85.1c-4 0.3-8 0.4-12.1 0.4-46.7 0-90.7-18.2-123.7-51.3-33.1-33.1-51.3-77-51.3-123.7s18.2-90.7 51.3-123.7C669.3 603.2 713.3 585 760 585m0-25c-110.5 0-200 89.5-200 200s89.5 200 200 200c21.8 0 42.7-3.5 62.3-9.9L706.5 832 832 704l118.2 118.2c6.4-19.6 9.8-40.5 9.8-62.2 0-110.5-89.5-200-200-200zM264 89c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7c-33.1 33.1-77 51.3-123.7 51.3s-90.7-18.2-123.7-51.3c-33.1-33-51.3-77-51.3-123.7 0-3.8 0.1-7.5 0.4-11.3l85 85 17.9 17.9 17.7-18 125.4-128 17.1-17.5-17.1-17.5L252 89.5c3.9-0.4 8-0.5 12-0.5m0-25c-21.8 0-42.7 3.5-62.3 9.9L317.5 192 192 320 73.8 201.8C67.4 221.4 64 242.3 64 264c0 110.5 89.5 200 200 200s200-89.5 200-200S374.5 64 264 64z" fill="currentColor" ></path><path d="M308.535 454.187l17.678-17.678L584.87 695.166l-17.678 17.678zM437.858 324.899l17.677-17.678 258.657 258.657-17.677 17.678z" fill="currentColor" ></path></symbol><symbol id="nishizhenxuanzhuan90du" viewBox="0 0 1024 1024"><path d="M655.5 410.5c13.8 0 25 11.2 25 25v476c0 13.8-11.2 25-25 25h-540c-13.8 0-25-11.2-25-25v-476c0-13.8 11.2-25 25-25h540m0-25h-540c-27.6 0-50 22.4-50 50v476c0 27.6 22.4 50 50 50h540c27.6 0 50-22.4 50-50v-476c0-27.6-22.3-50-50-50z" fill="currentColor" ></path><path d="M947.4 580.6c-6.5 0-12-5.1-12.5-11.7-13.1-208.5-180-376.6-388.4-391-6.9-0.5-12.1-6.4-11.6-13.3s6.4-12.1 13.3-11.6c107 7.4 207.7 53.5 283.6 129.9 75.9 76.4 121.3 177.4 128.1 284.6 0.4 6.9-4.8 12.8-11.7 13.3-0.3-0.2-0.5-0.2-0.8-0.2z" fill="#178FE6" ></path><path d="M398.6 182.7l140.9 81.4c13.3 7.7 30-1.9 30-17.3V84c0-15.4-16.7-25-30-17.3l-140.9 81.4c-13.3 7.7-13.3 26.9 0 34.6z" fill="#178FE6" ></path><path d="M215.6 772.6c17.2-28.9 31.2-55.1 42.2-78.5-19.5 3.1-35.7 0.6-48.6-7.6s-20.7-19.3-23.4-33.4c-2.7-14.1-2.5-26.8 0.6-38.1s8-20.7 14.6-28.1c6.6-7.4 14.6-12.7 24-15.8 9.4-3.1 17.8-4.7 25.2-4.7 7.4 0 15 1.6 22.9 4.7 7.8 3.1 14.8 7.8 21.1 14.1 6.2 6.3 10.5 12.7 12.9 19.3 2.3 6.6 3.5 15.2 3.5 25.8s-3.9 24-11.7 40.4c-7.8 16.4-27 50.4-57.4 102h-25.9z m-6.5-131.2c1.2 10.2 5.5 18.6 12.9 25.2 7.4 6.6 15.4 9.6 24 8.8 8.6-0.8 15.4-3.1 20.5-7s10-10.5 14.6-19.9c3.1-11.7 3.9-21.7 2.3-29.9s-5.7-15-12.3-20.5c-6.6-5.5-13.9-8.2-21.7-8.2-4.7-0.8-10.7 0.4-18.2 3.5-7.4 3.1-13.3 9.4-17.6 18.8-4.1 9.2-5.7 19-4.5 29.2zM338.6 657.2c0.8-20.7 3.7-37.1 8.8-49.2 5.1-12.1 12.3-22.1 21.7-29.9 9.4-7.8 20.9-11.7 34.6-11.7 13.7 0 25.6 5.7 35.7 17 10.1 11.3 16.8 25.6 19.9 42.8 3.1 17.2 4.1 36.9 2.9 59.2s-5.1 40.4-11.7 54.5c-6.6 14.1-16.6 23.8-29.9 29.3-13.3 5.5-26.6 4.9-39.8-1.8-13.3-6.6-22.7-15.4-28.1-26.4-5.5-10.9-9.4-22.4-11.7-34.6-2.4-12.1-3.2-28.5-2.4-49.2z m24.6-7c-2.3 21.5-1.6 40.6 2.3 57.4 3.9 16.8 10.3 28.7 19.3 35.7 9 7 18.2 8.4 27.5 4.1 9.4-4.3 16.2-12.9 20.5-25.8 4.3-12.9 6.4-27 6.4-42.2s-0.6-29.1-1.8-41.6c-1.2-12.5-4.7-23.8-10.5-34-5.9-10.1-13.7-15.4-23.4-15.8-9.8-0.4-18.4 4.5-25.8 14.6-7.3 10.3-12.1 26.1-14.5 47.6zM549 625c-9.8-0.8-17.6-4.3-23.4-10.5-5.9-6.2-8.6-14.1-8.2-23.4 0.4-9.4 2.9-16.6 7.6-21.7 4.7-5.1 10.5-8.6 17.6-10.5 7-1.9 13.9-2.1 20.5-0.6 6.6 1.6 12.3 5.7 17 12.3 4.7 6.6 6.4 15.1 5.3 25.2-1.2 10.2-5.1 17.8-11.7 22.9-6.8 4.9-15 7-24.7 6.3z m-19.4-36.4c-0.8 5.5 0.2 10.5 2.9 15.2 2.7 4.7 7.8 7.6 15.2 8.8 7.4 1.2 13.5-0.4 18.2-4.7 4.7-4.3 7-10.1 7-17.6 0-7.4-2.3-13.1-7-17-4.7-3.9-9.8-5.5-15.2-4.7-5.5 0.8-10.2 2.9-14.1 6.4-3.9 3.7-6.2 8.2-7 13.6z" fill="currentColor" ></path></symbol><symbol id="pizhu" viewBox="0 0 1024 1024"><path d="M652.5 921.4h-25V579.1L512 489.2l-115.5 89.9v342.3h-25V566.9L512 457.6l140.5 109.3z" fill="#178FE6" ></path><path d="M512 89c57.1 0 112.5 11.2 164.6 33.2 50.4 21.3 95.6 51.8 134.5 90.7 38.9 38.9 69.4 84.1 90.7 134.5 22 52.1 33.2 107.5 33.2 164.6s-11.2 112.5-33.2 164.6c-21.3 50.4-51.8 95.6-90.7 134.5-38.9 38.9-84.1 69.4-134.5 90.7-52.1 22-107.5 33.2-164.6 33.2s-112.5-11.2-164.6-33.2c-50.4-21.3-95.6-51.8-134.5-90.7-38.9-38.9-69.4-84.1-90.7-134.5C100.2 624.5 89 569.1 89 512s11.2-112.5 33.2-164.6c21.3-50.4 51.8-95.6 90.7-134.5s84.1-69.4 134.5-90.7C399.5 100.2 454.9 89 512 89m0-25C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z" fill="currentColor" ></path><path d="M384 652.9h256v25H384zM512 480c-0.8 0-1.6-0.1-2.3-0.2-3.9-0.7-96.6-18.9-130-74.1-12.8-21.1-15.3-44.6-7.6-69.9 8-26.2 21.7-41.1 41.8-45.4 16.7-3.5 34.5 0.9 53.4 5.7 36.1 9 70.1 17.6 98.2-27.3 15.7-25.1 19.9-46.6 12.4-64-12.1-28.2-53.4-42.1-68.2-45.1-6.8-1.4-11.1-8-9.8-14.7s8-11.2 14.7-9.8c2.7 0.5 66.5 13.9 86.3 59.7 10.9 25.4 6.2 54.7-14.1 87.2-37.7 60.3-88.5 47.6-125.5 38.3-38.5-9.6-54.5-12.2-65.1 22.7-5.6 18.4-3.9 34.7 5.1 49.6 27.7 45.8 112.4 62.3 113.3 62.4 6.8 1.3 11.2 7.8 10 14.6-1.5 6.1-6.7 10.3-12.6 10.3z" fill="#178FE6" ></path></symbol><symbol id="dakaidwg" viewBox="0 0 1024 1024"><path d="M908.8 424l-167 496H115.2l167-496h626.6m41.1-40H260.4c-4.2 0-8 2.9-9.5 7.3L64.7 944.8c-2.5 7.4 2.4 15.2 9.5 15.2h689.4c4.2 0 8-2.9 9.5-7.3l186.3-553.5c2.4-7.4-2.5-15.2-9.5-15.2z" fill="currentColor" ></path><path d="M84.6 960.1c-11 0-20-9-20-20V85.4c0-11 9-20 20-20h405.7c5 0 9.7 1.8 13.4 5.2l129.5 116.9H896c11 0 20 9 20 20v122.1c0 11-9 20-20 20s-20-9-20-20V227.5H625.5c-5 0-9.7-1.8-13.4-5.2L482.6 105.4h-378v834.7c0 11.1-8.9 20-20 20z" fill="currentColor" ></path><path d="M745.8 596h-384c-11 0-20-9-20-20s9-20 20-20h384c11 0 20 9 20 20s-8.9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="xinjian" viewBox="0 0 1024 1024"><path d="M512 812c-11 0-20-14.9-20-33.3V245.3c0-18.4 9-33.3 20-33.3s20 14.9 20 33.3v533.3c0 18.5-9 33.4-20 33.4z" fill="currentColor" ></path><path d="M860 104c33.1 0 60 26.9 60 60v696c0 33.1-26.9 60-60 60H361.4c-16 0-31.1-6.2-42.4-17.6L121.6 705c-11.3-11.3-17.6-26.4-17.6-42.4V164c0-33.1 26.9-60 60-60h696m0-40H164c-55.2 0-100 44.8-100 100v498.6c0 26.5 10.5 52 29.3 70.7l197.4 197.4a99.91 99.91 0 0 0 70.7 29.3H860c55.2 0 100-44.8 100-100V164c0-55.2-44.8-100-100-100z" fill="currentColor" ></path><path d="M212 512c0-11 14.9-20 33.3-20h533.3c18.4 0 33.3 9 33.3 20s-14.9 20-33.3 20H245.3c-18.4 0-33.3-9-33.3-20z" fill="currentColor" ></path></symbol><symbol id="baocun" viewBox="0 0 1024 1024"><path d="M860 104c33.1 0 60 26.9 60 60v696c0 33.1-26.9 60-60 60H164c-33.1 0-60-26.9-60-60V164c0-33.1 26.9-60 60-60h696m0-40H164c-55.2 0-100 44.8-100 100v696c0 55.2 44.8 100 100 100h696c55.2 0 100-44.8 100-100V164c0-55.2-44.8-100-100-100z" fill="currentColor" ></path><path d="M722 104v260c0 33.1-26.9 60-60 60H362c-33.1 0-60-26.9-60-60V104h420m40-40H262v300c0 55.2 44.8 100 100 100h300c55.2 0 100-44.8 100-100V64zM737 660H287c-11 0-20-9-20-20s9-20 20-20h450c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path><path d="M640 256m-40 0a40 40 0 1 0 80 0 40 40 0 1 0-80 0Z" fill="currentColor" ></path></symbol><symbol id="dayin" viewBox="0 0 1024 1024"><path d="M844.5 780.5h-45.9v-40h45.9c41.7 0 75.5-31.7 75.5-70.7V352.2c0-39-33.9-70.7-75.5-70.7h-665c-41.7 0-75.5 31.7-75.5 70.7v317.5c0 39 33.9 70.7 75.5 70.7h45.9v40h-45.9C115.8 780.5 64 730.8 64 669.8V352.2c0-61.1 51.8-110.7 115.5-110.7h664.9c63.7 0 115.5 49.7 115.5 110.7v317.5c0.1 61.1-51.7 110.8-115.4 110.8z" fill="currentColor" ></path><path d="M712 104c33.1 0 60 26.9 60 60v73.1H252V164c0-33.1 26.9-60 60-60h400m0-40H312c-55.2 0-100 44.8-100 100v113.1h600V164c0-55.2-44.8-100-100-100zM712 551c33.1 0 60 26.9 60 60v250c0 33.1-26.9 60-60 60H312c-33.1 0-60-26.9-60-60V611c0-33.1 26.9-60 60-60h400m0-40H312c-55.2 0-100 44.8-100 100v250c0 55.2 44.8 100 100 100h400c55.2 0 100-44.8 100-100V611c0-55.2-44.8-100-100-100zM832 404H576c-11 0-20-9-20-20s9-20 20-20h256c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="dakaiwodetuzhi" viewBox="0 0 1024 1024"><path d="M908.8 424l-167 496H115.2l167-496h626.6m41.1-40H260.4c-4.2 0-8 2.9-9.5 7.3L64.7 944.8c-2.5 7.4 2.4 15.2 9.5 15.2h689.4c4.2 0 8-2.9 9.5-7.3l186.3-553.5c2.4-7.4-2.5-15.2-9.5-15.2z" fill="currentColor" ></path><path d="M84.6 960.1c-11 0-20-9-20-20V85.4c0-11 9-20 20-20h405.7c5 0 9.7 1.8 13.4 5.2l129.5 116.9H896c11 0 20 9 20 20v122.1c0 11-9 20-20 20s-20-9-20-20V227.5H625.5c-5 0-9.7-1.8-13.4-5.2L482.6 105.4h-378v834.7c0 11.1-8.9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="shezhi" viewBox="0 0 1024 1024"><path d="M531 975h-38c-28.8 0-55.9-11.2-76.3-31.6C396.2 923 385 895.9 385 867c0-48.3-40.5-78.1-78.1-78.1-13.6 0-26.7 3.6-38.8 10.6-51.6 29.8-117.7 12-147.5-39.5l-19-33C92 710.6 87 692 87 673.1c0-38.5 20.7-74.4 54-93.6 24.4-14.1 39-39.3 39-67.5s-14.6-53.4-39-67.5c-25-14.4-42.8-37.7-50.3-65.6-7.5-27.9-3.6-57 10.8-81.9l19-33c19.2-33.3 55.1-54 93.6-54 18.9 0 37.5 5 53.9 14.5 12.2 7 25.2 10.6 38.9 10.6 37.6 0 78.1-29.9 78.1-78.1 0-59.5 48.4-108 108-108h38c28.8 0 55.9 11.2 76.3 31.6C627.8 101 639 128.1 639 157c0 48.3 40.5 78.1 78.1 78.1 13.6 0 26.7-3.6 38.8-10.6 51.6-29.8 117.7-12 147.5 39.5l19 33c9.5 16.4 14.5 35 14.5 53.9 0 38.5-20.7 74.4-54 93.6-24.4 14.1-39 39.3-39 67.5s14.6 53.4 39 67.5c25 14.4 42.8 37.7 50.3 65.6 7.5 27.9 3.6 57-10.8 81.9l-19 33c-19.2 33.3-55.1 54-93.6 54-18.9 0-37.5-5-53.9-14.5-12.2-7-25.2-10.6-38.9-10.6-37.6 0-78.1 29.9-78.1 78.1 0.1 59.6-48.3 108-107.9 108zM306.9 758.9c27.6 0 55 11.1 75.1 30.4 21.3 20.4 33 48 33 77.7 0 20.8 8.1 40.4 22.8 55.1 14.7 14.7 34.3 22.8 55.1 22.8H531c43 0 78-35 78-78 0-29.8 11.7-57.4 33-77.7 20.1-19.3 47.5-30.4 75.1-30.4 18.7 0 37.3 5.1 53.9 14.6 11.9 6.8 25.3 10.5 38.9 10.5 27.8 0 53.7-14.9 67.6-39l19-33c10.4-18 13.2-39.1 7.8-59.2-5.4-20.1-18.3-36.9-36.3-47.3-33.8-19.4-54-54.4-54-93.4s20.2-74 54-93.5c24.1-13.9 39-39.8 39-67.6 0-13.6-3.6-27.1-10.5-38.9l-19-33c-21.5-37.2-69.3-50-106.5-28.5-16.6 9.6-35.2 14.6-53.8 14.6-27.6 0-55-11.1-75.1-30.4-21.3-20.4-33-48-33-77.7 0-20.8-8.1-40.4-22.8-55.1C571.4 87.1 551.8 79 531 79h-38c-43 0-78 35-78 78 0 29.8-11.7 57.4-33 77.7-20.1 19.3-47.5 30.4-75.1 30.4-18.7 0-37.3-5.1-53.9-14.6-11.9-6.8-25.3-10.5-38.9-10.5-27.8 0-53.7 14.9-67.6 39l-19 33c-10.4 18-13.2 39.1-7.8 59.2 5.4 20.1 18.3 36.9 36.3 47.3 33.8 19.5 54 54.5 54 93.5s-20.2 74-54 93.5c-24.1 13.9-39 39.8-39 67.6 0 13.6 3.6 27.1 10.5 38.9l19 33c21.5 37.2 69.3 50 106.5 28.5 16.6-9.5 35.2-14.6 53.9-14.6zM512 677c-91 0-165-74-165-165s74-165 165-165 165 74 165 165-74 165-165 165z m0-300c-74.4 0-135 60.6-135 135s60.6 135 135 135 135-60.6 135-135-60.6-135-135-135z" fill="currentColor" ></path></symbol><symbol id="quanping" viewBox="0 0 1024 1024"><path d="M910 89c13.8 0 25 11.2 25 25v796c0 13.8-11.2 25-25 25H114c-13.8 0-25-11.2-25-25V114c0-13.8 11.2-25 25-25h796m0-25H114c-27.6 0-50 22.4-50 50v796c0 27.6 22.4 50 50 50h796c27.6 0 50-22.4 50-50V114c0-27.6-22.4-50-50-50z" fill="currentColor" ></path><path d="M819.4 417.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M819.4 217.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM204.6 831.9c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M404.6 831.9h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM607.3 429.2c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L616.1 425.6c-2.4 2.4-5.6 3.6-8.8 3.6z" fill="#178FE6" ></path><path d="M204.6 831.9c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L213.4 828.2c-2.4 2.5-5.6 3.7-8.8 3.7z" fill="#178FE6" ></path></symbol><symbol id="suofangshangyibu" viewBox="0 0 1024 1024"><path d="M600.4 345c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.4 64.9-20.1 99.4-20.1m0-25C445.5 320 320 445.5 320 600.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S755.2 320 600.4 320zM882.8 453.9c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M882.8 154.7h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM920 960c-10.2 0-20.5-3.9-28.3-11.7L778.6 835.2c-15.6-15.6-15.6-40.9 0-56.6s40.9-15.6 56.6 0l113.1 113.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.8-18.1 11.7-28.3 11.7zM140.7 893.2c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M440.7 896.3h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M239.1 138V78.2c0.1-5.3-2.7-10.2-7.4-12.6-4.7-2.4-10.4-2-14.6 1.1L70.3 168.4c-3.9 2.6-6.3 7-6.3 11.7 0 4.7 2.4 9.1 6.3 11.7L217 294.3c4.3 3 9.9 3.3 14.6 0.8 4.6-2.5 7.5-7.3 7.5-12.5v-36.8c0-3.9 1.6-7.5 4.4-10.2 2.8-2.7 6.6-4.1 10.4-3.9 80.8 7.4 147.6 65.8 165.7 144.9 11.7-52.5 0-107.5-32.1-150.7-32.1-43.2-81.4-70.2-135.1-74.1-7.4-0.3-13.3-6.4-13.3-13.8z m0 0" fill="#2884C7" ></path></symbol><symbol id="shishisuofang" viewBox="0 0 1024 1024"><path d="M476.9 889.6c-55.7 0-109.7-10.9-160.6-32.4-49.1-20.8-93.2-50.5-131.1-88.4-37.9-37.9-67.6-82-88.4-131.1-21.5-50.9-32.4-104.9-32.4-160.6s10.9-109.7 32.4-160.6c20.8-49.1 50.5-93.2 88.4-131.1 37.9-37.9 82-67.6 131.1-88.4 50.9-21.5 104.9-32.4 160.6-32.4 9.6 0 19.2 0.3 28.6 1 6.9 0.5 12.1 6.5 11.6 13.3s-6.5 12.1-13.3 11.6c-8.8-0.6-17.9-0.9-26.9-0.9-213.7 0-387.5 173.8-387.5 387.5s173.8 387.5 387.5 387.5c136.6 0 260.6-69.8 331.5-186.8 3.6-5.9 11.3-7.8 17.2-4.2 5.9 3.6 7.8 11.3 4.2 17.2-36.1 59.5-87.1 109.4-147.5 144.1-62.2 35.8-133.2 54.7-205.4 54.7z" fill="currentColor" ></path><path d="M947.4 264.1h-350c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h350c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M772.3 439.1c-6.9 0-12.5-5.6-12.5-12.5v-350c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v350c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M920.1 960c-10.2 0-20.5-3.9-28.3-11.7l-140-139.9c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l139.9 139.9c15.6 15.6 15.6 40.9 0 56.6-7.8 7.8-18 11.7-28.2 11.7z" fill="currentColor" ></path><path d="M947.3 543.7h-350c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h350c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path></symbol><symbol id="fanweisuofang" viewBox="0 0 1024 1024"><path d="M947.4 289.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 89.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M600.4 345c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.4 64.9-20.1 99.4-20.1m0-25C445.5 320 320 445.5 320 600.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S755.2 320 600.4 320zM920 960c-10.2 0-20.5-3.9-28.3-11.7L783.6 840.1c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l108.1 108.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.9-18.1 11.8-28.3 11.8z" fill="currentColor" ></path><path d="M76.5 959.9c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5S89 740.5 89 747.4v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M276.5 959.9h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM276.6 89.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M76.6 289.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M288.8 301.2c-3.2 0-6.4-1.2-8.8-3.7L67.8 85.5c-4.9-4.9-4.9-12.8 0-17.7 4.9-4.9 12.8-4.9 17.7 0l212.1 212.1c4.9 4.9 4.9 12.8 0 17.7-2.4 2.4-5.6 3.6-8.8 3.6zM735.3 301.2c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L744.1 297.6c-2.4 2.4-5.6 3.6-8.8 3.6z" fill="#178FE6" ></path><path d="M76.5 959.9c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L85.4 956.3c-2.5 2.4-5.7 3.6-8.9 3.6z" fill="#178FE6" ></path></symbol><symbol id="zhonghua" viewBox="0 0 1024 1024"><path d="M857.7 139.8l94.5 94.5c11.9 11.9 9.9 33-4.3 47.3L889.5 340c-14.2 14.2-35.4 16.2-47.3 4.3l-94.5-94.5c-11.9-11.9-9.9-33 4.3-47.3l58.4-58.4c14.3-14.3 35.4-16.2 47.3-4.3z" fill="#D81E06" ></path><path d="M729.6 267.9l94.5 94.5c11.9 11.9 6 37-13.2 56.2L420.4 809.1c-11.6 11.6-26 18.8-38.4 19.3l-98.1 3.6c-15 0.5-24.4-8.9-23.8-23.8l3.6-98.1c0.5-12.4 7.7-26.8 19.3-38.4l390.6-390.6c19-19.2 44.2-25.1 56-13.2z" fill="#FF9800" ></path><path d="M896 908.5H256c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h640c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M181.4 908.8c-26 0-87.8-4.8-108.8-48.3-11-22.9-8.7-52.3 7.1-87.4 17.5-39 52.2-86.7 103.2-141.6 38.1-41 63.7-76 76.1-104 9.7-21.9 11.2-39.1 4.4-51-11.5-20.1-49.2-29.9-106.3-27.5-46.6 1.9-89.9 11.2-90.3 11.3-6.8 1.5-13.4-2.8-14.9-9.6-1.5-6.7 2.8-13.4 9.6-14.9 1.8-0.4 45.5-9.8 94.3-11.8 69-2.9 112.6 10.6 129.4 40.1 22.4 39.3-5 99.6-83.9 184.5-49.1 52.9-82.3 98.2-98.7 134.8-12.6 28.1-15.1 50.4-7.4 66.3 15.7 32.5 74.6 35.5 96 33.9 6.9-0.5 12.9 4.6 13.4 11.5s-4.6 12.9-11.5 13.4c-0.9 0-5.2 0.3-11.7 0.3z" fill="currentColor" ></path></symbol><symbol id="chuangkousuofang" viewBox="0 0 1024 1024"><path d="M947.4 389.1c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 89.1h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M492.4 237c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.3 64.9-20.1 99.4-20.1m0-25C337.5 212 212 337.5 212 492.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S647.2 212 492.4 212zM812 852c-10.2 0-20.5-3.9-28.3-11.7L675.6 732.1c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l108.1 108.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.9-18.1 11.8-28.3 11.8z" fill="currentColor" ></path><path d="M76.5 956.8c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5S89 637.4 89 644.3v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M376.5 959.9h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM947.4 959.9h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 959.9c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5zM376.6 89.1h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M76.6 389.1c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path></symbol><symbol id="youjianbianji" viewBox="0 0 1024 1024"><path d="M881.1 70l72.9 72.9c9.2 9.2 7.7 25.5-3.3 36.5l-45.1 45.1c-11 11-27.3 12.5-36.5 3.3l-72.9-72.9c-9.2-9.2-7.7-25.5 3.3-36.5l45.1-45.1c11-11 27.3-12.5 36.5-3.3zM782.3 168.8l72.9 72.9c9.2 9.2 4.6 28.5-10.2 43.3L543.7 586.4c-8.9 8.9-20.1 14.5-29.6 14.9l-75.7 2.8c-11.6 0.4-18.8-6.8-18.4-18.4l2.8-75.7c0.4-9.6 5.9-20.7 14.9-29.6L738.9 179c14.8-14.8 34.2-19.3 43.4-10.2z" fill="#178FE6" ></path><path d="M834.1 959.9h-700c-38.6 0-70-31.4-70-70v-700c0-38.6 31.4-70 70-70h398c11 0 20 9 20 20s-9 20-20 20h-398c-16.5 0-30 13.5-30 30v700c0 16.5 13.5 30 30 30h700c16.5 0 30-13.5 30-30v-398c0-11 9-20 20-20s20 9 20 20v398c0 38.6-31.4 70-70 70z" fill="currentColor" ></path></symbol><symbol id="youjianshanchu" viewBox="0 0 1040 1024"><path d="M765.886734 80.40238L943.59762 258.113266 452.238817 749.472068 274.527932 571.761183 765.886734 80.40238z m0 0" fill="#FF9800" ></path><path d="M159.920138 769.621808l94.458054 94.458054c23.000192 23.000192 61.923594 21.427529 86.987905-3.636783l88.757151-88.757151-177.809176-177.710885-88.757151 88.757151c-24.96602 24.96602-26.636974 63.889422-3.636783 86.889614z m0 0" fill="#D81E06" ></path><path d="M62.906508 858.870417h117.949702v39.316567H62.906508z" fill="#178FE6" ></path><path d="M452.140526 858.870417h491.457094v39.316567H452.140526z" fill="#178FE6" ></path></symbol><symbol id="youjianzhongmingming" viewBox="0 0 1024 1024"><path d="M881.1 427.7l72.9 72.9c9.2 9.2 7.7 25.5-3.3 36.5l-45.1 45.1c-11 11-27.3 12.5-36.5 3.3l-72.9-72.9c-9.2-9.2-7.7-25.5 3.3-36.5l45.1-45.1c11-11 27.3-12.4 36.5-3.3z" fill="#D81E06" ></path><path d="M782.3 526.5l72.9 72.9c9.2 9.2 4.6 28.5-10.2 43.3L543.7 944.1c-8.9 8.9-20.1 14.5-29.6 14.9l-75.7 2.8c-11.6 0.4-18.8-6.8-18.4-18.4l2.8-75.7c0.4-9.6 5.9-20.7 14.9-29.6L739 536.8c14.7-14.9 34.1-19.4 43.3-10.3z" fill="#FF9800" ></path><path d="M340.1 936.1h-206c-38.6 0-70-31.4-70-70v-732c0-38.6 31.4-70 70-70H517c13.9 0 27.3 4.1 38.8 11.8l157.1 104.8c19.5 13 31.2 34.8 31.2 58.2v229.2c0 11-9 20-20 20s-20-9-20-20V238.8c0-10.1-5-19.4-13.4-25L533.6 109.1c-4.9-3.3-10.7-5-16.6-5H134.1c-16.5 0-30 13.5-30 30v732c0 16.5 13.5 30 30 30h206c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="guanyu" viewBox="0 0 1024 1024"><path d="M512 89c57.1 0 112.5 11.2 164.6 33.2 50.4 21.3 95.6 51.8 134.5 90.7 38.9 38.9 69.4 84.1 90.7 134.5 22 52.1 33.2 107.5 33.2 164.6s-11.2 112.5-33.2 164.6c-21.3 50.4-51.8 95.6-90.7 134.5-38.9 38.9-84.1 69.4-134.5 90.7-52.1 22-107.5 33.2-164.6 33.2s-112.5-11.2-164.6-33.2c-50.4-21.3-95.6-51.8-134.5-90.7-38.9-38.9-69.4-84.1-90.7-134.5C100.2 624.5 89 569.1 89 512s11.2-112.5 33.2-164.6c21.3-50.4 51.8-95.6 90.7-134.5s84.1-69.4 134.5-90.7C399.5 100.2 454.9 89 512 89m0-25C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z" fill="currentColor" ></path><path d="M462 229.5h100v400H462z" fill="#178FE6" ></path><path d="M512 744.5m-50 0a50 50 0 1 0 100 0 50 50 0 1 0-100 0Z" fill="#178FE6" ></path></symbol><symbol id="dakaiquanbutuceng" viewBox="0 0 1024 1024"><path d="M530 676.5l31-18.6v74.3l-31.2 18.7c-10.1 6.1-26.6 6.1-36.7 0l-421.6-253c-10.1-6.1-10.1-15.9 0-22l43.6-26.2 378.1 226.8c10.2 6.1 26.6 6.1 36.8 0zM959.1 487.6v-1.5 1.5zM561 815.1v63.3l-31.2 18.7c-10.1 6.1-26.6 6.1-36.7 0L71.6 644.2c-10.1-6.1-10.1-15.9 0-22l34.3-20.6 387.2 232.3c10.1 6.1 26.6 6.1 36.7 0l31.2-18.8zM951.6 321.9L530 68.9c-10.1-6.1-26.6-6.1-36.7 0l-421.7 253c-10.1 6.1-10.1 15.9 0 22l421.7 253c10.1 6.1 26.4 6.1 36.6 0l421.8-253c10-6 10-15.9-0.1-22z" fill="#666666" ></path><path d="M860.6 908.3v4.4c0 1.3 0.1 2.8 0.2 4.4 0.1 1.6 0.2 3.2 0.2 4.8-0.3 5.1-1.7 10.6-4.2 16.6-2.5 6-7.4 10.3-14.6 13-2.9 1.1-6.7 2.6-11.4 4.6-4.7 2-11.7 3-21 3-8 0-14.6-0.9-19.8-2.8-5.2-1.9-9.3-3.1-12.2-3.6-3.7-0.8-6.7-2.5-9-5s-4-5.4-5.2-8.6c-1.2-3.2-1.9-6.5-2.2-9.8-0.3-3.3-0.4-6.3-0.4-9v-12.4l99.6 0.4z m86.9-261.7c6.9 16.3 10.9 31.6 12 46 1.1 14.4 0.3 27.7-2.4 39.8-2.7 12.1-6.5 23-11.6 32.6-5.1 9.6-10.3 18-15.8 25.2-5.5 7.2-10.6 13.1-15.4 17.8-4.8 4.7-8.1 7.8-10 9.4-2.7 2.4-5.1 4.2-7.4 5.4-2.3 1.2-4.3 2.2-6 3-1.7 0.8-3.4 1.7-5 2.8-1.6 1.1-3.2 2.8-4.8 5.2-3.5 5.1-6.1 10-8 14.8-1.9 4.8-3.5 9.5-4.8 14-1.3 3.7-2.8 6.8-4.4 9.2-1.6 2.4-3.3 4.5-5.2 6.4-2.1 2.1-4.3 3.9-6.4 5.2h-88c-2.1-1.3-4.1-3.1-6-5.2-1.9-1.9-3.7-4.3-5.6-7.2-1.9-2.9-3.5-6.7-4.8-11.2-2.7-7.7-5.9-13.9-9.8-18.6-3.9-4.7-8.9-9.3-15-13.8-4.3-3.2-9.1-7.5-14.6-12.8-5.5-5.3-10.9-11.6-16.2-18.8-5.3-7.2-10.4-15.3-15.2-24.2-4.8-8.9-8.7-18.7-11.6-29.4-2.9-10.7-4.7-22.1-5.2-34.2-0.5-12.1 0.7-24.9 3.6-38.2 4.5-21.3 12.4-39.3 23.6-53.8 11.2-14.5 23.7-26.2 37.6-35 13.9-8.8 28.2-15.1 43-19 14.8-3.9 28.2-5.8 40.2-5.8 12.5 0 25.6 1.7 39.2 5.2 13.6 3.5 26.7 8.9 39.4 16.2 12.7 7.3 24.3 16.7 34.8 28 10.5 11.3 19.1 25 25.8 41zM907 728.2c11.5-46.7-3.5-82.3-44.8-106.9-6.9-4.3-15-7.6-24.2-10-9.2-2.4-18.6-3.6-28.2-3.6-9.6 0-19.1 1.2-28.6 3.6-9.5 2.4-17.9 6.1-25.4 11.2-18.1 12.5-30.4 26.1-36.8 40.8-6.4 14.7-9.3 30.1-8.8 46.4 0.3 9.1 1.8 17.2 4.6 24.4 2.8 7.2 6.1 13.7 10 19.6 3.9 5.9 7.9 11 12 15.4s7.8 8.3 11 11.8c6.7 6.9 12.5 13 17.6 18.2 5.1 5.2 9.1 11.8 12 19.8 2.9 7.7 7.5 12.5 13.8 14.2 6.3 1.7 12.1 2.6 17.4 2.6 6.9 0 13.6-1.5 20-4.6 6.4-3.1 10.9-7.8 13.6-14.2 1.3-3.7 4.1-8.3 8.2-13.6 4.1-5.3 10.3-12.8 18.6-22.4 4.3-5.1 8.3-9.5 12.2-13.2 3.9-3.7 7.5-7.5 10.8-11.2 3.3-3.7 6.3-7.8 8.8-12.2 2.6-4.3 4.6-9.7 6.2-16.1z m0 0" fill="#FF9800" ></path></symbol><symbol id="xuanzeguanbituceng" viewBox="0 0 1024 1024"><path d="M959.1 487.6v-1.5 1.5zM951.6 321.9L530 68.9c-10.1-6.1-26.6-6.1-36.7 0l-421.7 253c-10.1 6.1-10.1 15.9 0 22l421.7 253c10.1 6.1 26.4 6.1 36.6 0l421.8-253c10-6 10-15.9-0.1-22z" fill="#666666" ></path><path d="M860.6 908.3v4.4c0 1.3 0.1 2.8 0.2 4.4 0.1 1.6 0.2 3.2 0.2 4.8-0.3 5.1-1.7 10.6-4.2 16.6-2.5 6-7.4 10.3-14.6 13-2.9 1.1-6.7 2.6-11.4 4.6-4.7 2-11.7 3-21 3-8 0-14.6-0.9-19.8-2.8-5.2-1.9-9.3-3.1-12.2-3.6-3.7-0.8-6.7-2.5-9-5s-4-5.4-5.2-8.6c-1.2-3.2-1.9-6.5-2.2-9.8-0.3-3.3-0.4-6.3-0.4-9v-12.4l99.6 0.4z m86.9-261.7c6.9 16.3 10.9 31.6 12 46 1.1 14.4 0.3 27.7-2.4 39.8-2.7 12.1-6.5 23-11.6 32.6-5.1 9.6-10.3 18-15.8 25.2-5.5 7.2-10.6 13.1-15.4 17.8-4.8 4.7-8.1 7.8-10 9.4-2.7 2.4-5.1 4.2-7.4 5.4-2.3 1.2-4.3 2.2-6 3-1.7 0.8-3.4 1.7-5 2.8-1.6 1.1-3.2 2.8-4.8 5.2-3.5 5.1-6.1 10-8 14.8-1.9 4.8-3.5 9.5-4.8 14-1.3 3.7-2.8 6.8-4.4 9.2-1.6 2.4-3.3 4.5-5.2 6.4-2.1 2.1-4.3 3.9-6.4 5.2h-88c-2.1-1.3-4.1-3.1-6-5.2-1.9-1.9-3.7-4.3-5.6-7.2-1.9-2.9-3.5-6.7-4.8-11.2-2.7-7.7-5.9-13.9-9.8-18.6-3.9-4.7-8.9-9.3-15-13.8-4.3-3.2-9.1-7.5-14.6-12.8-5.5-5.3-10.9-11.6-16.2-18.8-5.3-7.2-10.4-15.3-15.2-24.2-4.8-8.9-8.7-18.7-11.6-29.4-2.9-10.7-4.7-22.1-5.2-34.2-0.5-12.1 0.7-24.9 3.6-38.2 4.5-21.3 12.4-39.3 23.6-53.8 11.2-14.5 23.7-26.2 37.6-35 13.9-8.8 28.2-15.1 43-19 14.8-3.9 28.2-5.8 40.2-5.8 12.5 0 25.6 1.7 39.2 5.2 13.6 3.5 26.7 8.9 39.4 16.2 12.7 7.3 24.3 16.7 34.8 28 10.5 11.3 19.1 25 25.8 41zM907 728.2c11.5-46.7-3.5-82.3-44.8-106.9-6.9-4.3-15-7.6-24.2-10-9.2-2.4-18.6-3.6-28.2-3.6-9.6 0-19.1 1.2-28.6 3.6-9.5 2.4-17.9 6.1-25.4 11.2-18.1 12.5-30.4 26.1-36.8 40.8-6.4 14.7-9.3 30.1-8.8 46.4 0.3 9.1 1.8 17.2 4.6 24.4 2.8 7.2 6.1 13.7 10 19.6 3.9 5.9 7.9 11 12 15.4s7.8 8.3 11 11.8c6.7 6.9 12.5 13 17.6 18.2 5.1 5.2 9.1 11.8 12 19.8 2.9 7.7 7.5 12.5 13.8 14.2 6.3 1.7 12.1 2.6 17.4 2.6 6.9 0 13.6-1.5 20-4.6 6.4-3.1 10.9-7.8 13.6-14.2 1.3-3.7 4.1-8.3 8.2-13.6 4.1-5.3 10.3-12.8 18.6-22.4 4.3-5.1 8.3-9.5 12.2-13.2 3.9-3.7 7.5-7.5 10.8-11.2 3.3-3.7 6.3-7.8 8.8-12.2 2.6-4.3 4.6-9.7 6.2-16.1z m0 0" fill="#178FE6" ></path></symbol><symbol id="yanse" viewBox="0 0 1024 1024"><path d="M512 512L195.5 828.5l-0.3 0.3C114.1 747.7 64 635.7 64 512h448z" fill="#999999" ></path><path d="M512 959.5v0.5c-123.7 0-235.7-50.1-316.8-131.2l0.3-0.3L512 512v447.5z" fill="currentColor" ></path><path d="M828.5 828.5l0.3 0.3C747.7 909.9 635.7 960 512 960V512l316.5 316.5z" fill="#FF00FF" ></path><path d="M959.5 512h0.5c0 123.7-50.1 235.7-131.2 316.8l-0.3-0.3L512 512h447.5z" fill="#0000FF" ></path><path d="M960 512H512l316.5-316.5 0.3-0.3C909.9 276.3 960 388.3 960 512z" fill="#00FFFF" ></path><path d="M828.8 195.2l-0.3 0.3L512 512V64c123.7 0 235.7 50.1 316.8 131.2z" fill="#00FF00" ></path><path d="M512 64.4V512L195.5 195.5l-0.3-0.3C276.3 114.1 388.3 64 512 64v0.4z" fill="#FFFF00" ></path><path d="M512 512H64c0-123.7 50.1-235.7 131.2-316.8l0.3 0.3L512 512z" fill="#FF0000" ></path></symbol><symbol id="dianyangshi" viewBox="0 0 1024 1024"><path d="M64 704h192v192H64zM64 256h192v192H64zM416 256h192v192H416zM416 704h192v192H416zM768 256h192v192H768zM768 704h192v192H768z" fill="currentColor" ></path><path d="M564 564.5l-111-111 306.8-306.8 111 111L564 564.5z m0 0" fill="#FF9800" ></path><path d="M942.4 134.1l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.7-15.6 16.7-39.9 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M442.7 471l-39.2 143.1 143.1-39.2L442.7 471z m0 0" fill="#FF9800" ></path></symbol><symbol id="wenziyangshi" viewBox="0 0 1024 1024"><path d="M64 755.4h716.8v24H64zM534.2 465H269.8l-53 137.3c-7.8 21.7-7.8 39.1 0 52.4 7.8 13.3 25.4 19.8 52.9 19.8h17.6v21.7H69.8v-21.7h17.6c15.7 0 29.4-3 41.1-9 11.8-6 19.6-16.2 23.5-30.7L381.4 82l88.2-18L693 634.8c7.8 14.5 17.6 24.7 29.4 30.7 11.8 6 25.4 9 41.1 9H781v21.7H528.2v-21.7h23.5c23.5 0 38.2-4.2 44.1-12.6 5.8-8.4 4.9-21-3-37.9l-58.6-159zM410.8 143.4H405L281.5 443.3h246.9L410.8 143.4z m0 0" fill="currentColor" ></path><path d="M571.4 909.8l-111-111L767.2 492l111 111-306.8 306.8z m0 0" fill="#FF9800" ></path><path d="M949.8 479.4l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.6-15.7 16.6-40 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M450 816.2l-39.2 143.1 143.1-39.2L450 816.2z m0 0" fill="#FF9800" ></path></symbol><symbol id="biaozhuyangshi" viewBox="0 0 1024 1024"><path d="M564 564.5l-111-111 306.8-306.8 111 111L564 564.5z m0 0" fill="#FF9800" ></path><path d="M942.4 134.1l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.7-15.6 16.7-39.9 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M442.7 471l-39.2 143.1 143.1-39.2L442.7 471z m0 0" fill="#FF9800" ></path><path d="M78.9 958.7c-8.3 0-15-3.6-15-8.1V567.8c0-4.5 6.7-8.1 15-8.1s15 3.6 15 8.1v382.8c0 4.5-6.7 8.1-15 8.1z m0 0" fill="currentColor" ></path><path d="M839.4 774.1H182c-8.3 0-15-6.7-15-15s6.7-15 15-15h657.3c8.3 0 15 6.7 15 15 0.1 8.3-6.5 15-14.9 15z m0 0" fill="currentColor" ></path><path d="M196.3 662.3L135.2 759l61.1 96.7h0.6V662.3h-0.6z m628.8 0l61.1 96.7-61.1 96.7h-0.6V662.3h0.6z m0 0M944 959c-8.3 0-15-3.6-15-8.1V567.2c0-4.5 6.7-8.1 15-8.1s15 3.6 15 8.1V951c0 4.4-6.7 8-15 8z m0 0" fill="currentColor" ></path></symbol><symbol id="yuntu" viewBox="0 0 1024 1024"><path d="M250.4 975.2c-22.2 0-96-3.9-148.3-53.5-35.2-33.4-53-80.1-53-138.9 0-58.8 17.8-105.5 53-138.9 46.2-43.8 109.2-52 138.5-53.3 0.4-29.2 7.4-91.9 54.4-143.7 46.8-51.7 119.9-78 217.1-78s170.2 26.2 217.1 78c46.8 51.7 53.9 114.2 54.4 143.5 29.3 0.9 91.6 8.4 137.6 51.4 35.8 33.4 53.9 80.9 53.9 141 0 56.1-15.9 101.3-47.2 134.3-23.3 24.5-54.3 41.6-92.3 50.9-8 2-16.2-3-18.1-11-2-8 3-16.2 11-18.1 53.2-13 116.6-50.6 116.6-156 0-51.4-14.9-91.4-44.3-118.9-51.3-48-130.9-43.4-131.7-43.4-4.4 0.3-8.7-1.4-11.8-4.5-3.1-3.2-4.6-7.5-4.2-11.9 0.1-0.7 6.8-78.6-46.5-137.2-41-45.2-106.4-68-194.6-68-88.4 0-153.9 22.9-194.8 68.1-53.4 58.9-46.3 136.2-46.3 137 0.4 4.4-1.1 8.7-4.1 11.8s-7.3 4.9-11.6 4.6c-0.8 0-81.3-3.5-132.7 45.3-28.9 27.6-43.5 66.9-43.5 117s14.6 89.5 43.5 116.9c51.3 48.8 131.9 45.4 132.7 45.3H616c8.3 0 15 6.7 15 15s-6.7 15-15 15H256.4c-1 0.1-3 0.2-6 0.2z" fill="#178FE6" ></path><path d="M310.1 647.6h-1c-8.3-0.6-14.5-7.7-13.9-16 0.1-2 3.5-49.3 24.4-96.4 28.9-65.3 77.1-98.1 139.2-94.8 8.3 0.4 14.6 7.5 14.2 15.8s-7.5 14.6-15.8 14.2c-49.1-2.6-86.1 23.1-109.9 76.4-18.9 42.3-22.1 86.4-22.2 86.9-0.6 7.8-7.2 13.9-15 13.9z" fill="#178FE6" ></path></symbol><symbol id="dingyishuxing" viewBox="0 0 1024 1024"><path d="M450.2 89.4c7.1 0 14.1 3 19.2 8.1l457.4 457.4c5.1 5.1 8 11.8 8.1 18.8 0.1 6.7-2.4 13-7 17.6L591.4 927.9c-4.5 4.5-10.6 7-17.2 7-7.2 0-14-2.9-19.2-8.1L97.5 469.5c-6.4-6.4-9.3-15.3-7.7-23.9l52.6-284c1.8-9.8 9.4-17.4 19.2-19.2l284-52.6c1.5-0.3 3.1-0.4 4.6-0.4m0-25c-3.1 0-6.1 0.3-9.2 0.8l-284 52.6c-20 3.7-35.5 19.2-39.2 39.2L65.2 441c-3.1 16.6 2.4 33.9 14.6 46.1l457.4 457.4c10.3 10.3 23.7 15.4 36.9 15.4 12.7 0 25.3-4.8 34.9-14.3L945.6 609c19.5-19.5 19-51.7-1.1-71.8L487.1 79.8c-9.9-9.9-23.3-15.4-36.9-15.4z" fill="currentColor" ></path><path d="M333.8 265.3c19.7 0 38.4 7.8 52.6 22.1 28.5 28.5 29.5 73.9 2.2 101.2-12.8 12.8-30.1 19.9-48.6 19.9-19.7 0-38.4-7.8-52.6-22.1-28.5-28.5-29.5-73.9-2.2-101.2 12.8-12.8 30-19.9 48.6-19.9m0-30c-25.5 0-50.7 9.5-69.8 28.7-39.1 39.1-38.1 103.4 2.2 143.6 20.5 20.5 47.3 30.9 73.8 30.9 25.5 0 50.7-9.5 69.8-28.7 39.1-39.1 38.1-103.4-2.2-143.6-20.5-20.6-47.3-30.9-73.8-30.9zM454.9 741.4c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l271.5-271.5c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L465.5 737c-2.9 3-6.8 4.4-10.6 4.4zM361.5 648.1c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2L622.4 351c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L372.2 643.7c-3 2.9-6.8 4.4-10.7 4.4z" fill="#178FE6" ></path></symbol><symbol id="huiyuandenglu" viewBox="0 0 1024 1024"><path d="M512 537c38 0 75.7 5 112 15 35.2 9.6 69 23.9 100.6 42.3 62.4 36.4 114.8 88.4 151.6 150.6 18.9 31.9 33.5 66.1 43.4 101.7 8 28.8 12.9 58.4 14.6 88.4H89.7c1.8-30 6.7-59.7 14.6-88.4 9.9-35.6 24.5-69.8 43.4-101.7 36.8-62.2 89.2-114.2 151.6-150.6C331 575.8 364.8 561.6 400 552c36.3-10 74-15 112-15m0-25c-164.2 0-307.8 88.3-385.8 220.1C86.7 798.9 64 876.8 64 960h896c0-83.2-22.7-161.1-62.2-227.9C819.8 600.3 676.2 512 512 512z" fill="#178FE6" ></path><path d="M512 89c27 0 53.2 5.3 77.8 15.7 23.8 10.1 45.2 24.5 63.6 42.9s32.8 39.8 42.9 63.6C706.7 235.8 712 262 712 289s-5.3 53.2-15.7 77.8c-10.1 23.8-24.5 45.2-42.9 63.6s-39.8 32.8-63.6 42.9C565.2 483.7 539 489 512 489s-53.2-5.3-77.8-15.7c-23.8-10.1-45.2-24.5-63.6-42.9s-32.8-39.8-42.9-63.6C317.3 342.2 312 316 312 289s5.3-53.2 15.7-77.8c10.1-23.8 24.5-45.2 42.9-63.6s39.8-32.8 63.6-42.9C458.8 94.3 485 89 512 89m0-25c-124.3 0-225 100.7-225 225s100.7 225 225 225 225-100.7 225-225S636.3 64 512 64zM448 844.5c-3.2 0-6.4-1.2-8.8-3.7l-128-128c-4.9-4.9-4.9-12.8 0-17.7 4.9-4.9 12.8-4.9 17.7 0l120.3 120.3L696.5 630c5.5-4.1 13.4-3 17.5 2.5s3 13.4-2.5 17.5l-256 192c-2.2 1.7-4.9 2.5-7.5 2.5z" fill="#178FE6" ></path></symbol><symbol id="chuangjiankuai1" viewBox="0 0 1024 1024"><path d="M716.5 716.5h-601v-537h601v537z m-576-25h551v-487h-551v487z" fill="currentColor" ></path><path d="M64 668h100v100H64V668z" fill="#178FE6" ></path><path d="M697.5 960.1c-70.1 0-136-27.3-185.6-76.9S435 767.7 435 697.6s27.3-136 76.9-185.6 115.5-76.9 185.6-76.9 136 27.3 185.6 76.9S960 627.5 960 697.6s-27.3 136-76.9 185.6-115.5 76.9-185.6 76.9z m0-500c-131 0-237.5 106.5-237.5 237.5s106.5 237.5 237.5 237.5S935 828.6 935 697.6 828.5 460.1 697.5 460.1z" fill="currentColor" ></path><path d="M730 179h230M730 166.5h230v25H730z" fill="#178FE6" ></path><path d="M844.9 64v230M832.4 64h25v230h-25z" fill="#178FE6" ></path></symbol><symbol id="daojiao" viewBox="0 0 1024 1024"><path d="M944.7 94.3H896c-8.3 0-15-6.7-15-15s6.7-15 15-15h48.7c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-128.7 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M944.7 463.1c-8.3 0-15-6.7-15-15v-48.7c0-8.3 6.7-15 15-15s15 6.7 15 15v48.7c0 8.2-6.7 15-15 15z m0-128.8c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.7 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.7 15-15 15z"  ></path><path d="M576 94.3H79c-8.3 0-15-6.7-15-15s6.7-15 15-15h497c8.3 0 15 6.7 15 15s-6.7 15-15 15zM945 960c-8.3 0-15-6.7-15-15V448c0-8.3 6.7-15 15-15s15 6.7 15 15v497c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M944.9 463.1c-3.8 0-7.7-1.5-10.6-4.4L565.4 89.9c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l368.9 368.9c5.9 5.9 5.9 15.4 0 21.2-3 2.9-6.8 4.3-10.6 4.3z" fill="currentColor" ></path></symbol><symbol id="jian1" viewBox="0 0 1024 1024"><path d="M676.040 537.8c14.58 0 26.4-11.82 26.4-26.4s-11.82-26.4-26.4-26.4h-316.56c-13.794 0.96-24.622 12.385-24.622 26.34s10.826 25.38 24.538 26.335l316.643 0.125zM834.32 89.3h-633.12c-58.32 0-105.54 47.28-105.54 105.54v633.12c0 58.32 47.28 105.6 105.54 105.6h633.12c58.296-0.034 105.54-47.3 105.54-105.6 0 0 0 0 0 0v-633.24c0-58.2-47.22-105.42-105.54-105.42zM887.12 827.96c0 29.161-23.639 52.8-52.8 52.8 0 0 0 0 0 0h-633.12c-29.161 0-52.8-23.639-52.8-52.8 0 0 0 0 0 0v-633.24c0.034-29.135 23.661-52.74 52.8-52.74 0 0 0 0 0 0h633.12c0 0 0 0 0 0 29.139 0 52.766 23.605 52.8 52.737v633.243z" fill="currentColor" ></path></symbol><symbol id="yanjing" viewBox="0 0 1024 1024"><path d="M512 334.37167391c-14.48135344 0-28.38592497 1.0299681-41.73431364 2.98690763-16.89147917 2.43072477-32.62939453-8.7547303-35.1631167-25.00762971-2.55432121-16.2528994 9.06372103-31.41403214 25.9552002-33.84475692 16.37649513-2.38952669 33.37097168-3.64608788 50.94223014-3.64608716 127.01568571 0 219.69223023 65.91796858 279.03900114 128.74603215a551.15661653 551.15661653 0 0 1 83.18023707 115.27404776c1.85394287 3.52249146 3.66668693 7.06558195 5.41763312 10.64987199l0.30899072 0.6797793 0.12359572 0.24719213v0.06179859l0.02059977 0.02059904-28.22113046 12.11242652 28.26232926 12.11242724-0.06179857 0.08239689-0.06179784 0.16479525-0.24719216 0.53558382a452.15606722 452.15606722 0 0 1-16.37649584 30.15747021 557.91320777 557.91320777 0 0 1-49.12948608 69.68765292 31.72302214 31.72302214 0 0 1-43.15567008 4.44946289 29.02450545 29.02450545 0 0 1-5.21163909-41.48712151 497.14508041 497.14508041 0 0 0 51.53961182-75.70266771 491.70684822 491.70684822 0 0 0-72.09777865-98.97994956C692.2856447 387.47683692 614.9556272 334.37167391 512 334.37167391z m339.88952613 208.28018132l28.22113045 12.11242724a28.83911116 28.83911116 0 0 0 0-24.22485376l-28.22113045 12.11242652zM276.61105323 401.62860132c6.07681267 5.31463647 9.68170174 12.73040796 10.07309007 20.59936491 0.37078857 7.88955671-2.5131224 15.59371915-8.03375291 21.42333969a491.8510437 491.8510437 0 0 0-72.09777793 99.00054931 491.99523918 491.99523918 0 0 0 72.09777793 99.00054931C331.75555412 697.80627449 409.0443728 750.93203727 512 750.93203727a285.91918953 285.91918953 0 0 0 97.33200073-16.82968131c15.86151106-5.35583529 33.24737525 2.5131224 39.13879362 17.67425513 5.87081933 15.16113274-1.89514167 32.05261263-17.50945988 38.04702766A349.92141741 349.92141741 0 0 1 512 810.44360345c-127.01568571 0-219.69223023-65.91796858-279.03900114-128.74603289a551.05361915 551.05361915 0 0 1-83.18023707-115.27404778c-1.85394287-3.50189242-3.66668693-7.06558195-5.41763312-10.64987199l-0.30899072-0.67977856-0.12359572-0.24719287-0.02059977-0.04119808v-0.04119881l28.22113046-12.11242724L143.84814461 530.53942873l0.04119882-0.02059906 0.02059904-0.06179858 0.10299664-0.24719214 0.30899074-0.67977929 1.17416357-2.30712908c6.38580339-12.64801033 13.38958748-25.00762972 20.8877566-37.05825765a552.92816178 552.92816178 0 0 1 66.53595002-86.55853303 31.39343238 31.39343238 0 0 1 21.42333969-9.68170175c8.17794767-0.39138761 16.19110084 2.38952669 22.24731445 7.70416317zM172.11047387 542.65185523L143.88934343 530.53942873a28.83911116 28.83911116 0 0 0 0 24.22485374l28.22113044-12.11242724z" fill="currentColor" ></path><path d="M481.45114144 405.21289062c0-16.50009156 13.76037606-29.88967903 30.73425285-29.88967903 92.77954118 0 166.01028459 75.59967033 166.01028458 166.5046696 0 10.67047103-5.87081933 20.53756706-15.3671268 25.8934016a31.51702881 31.51702881 0 0 1-30.75485189 0 29.74548356 29.74548356 0 0 1-15.36712678-25.8934016c0-60.04714999-47.89352393-106.72531151-104.52117911-106.72531153-16.97387678 0-30.73425285-13.38958748-30.73425285-29.88967904z m-94.81887833 77.49481201c16.60308821 3.48129264 27.14996355 19.36340347 23.58627327 35.51330551a109.3826294 109.3826294 0 0 0-2.55432121 23.60687305c0 60.04714999 47.89352393 106.72531151 104.52117912 106.72531079 8.11614983 0 15.9851075-0.92697143 23.52447542-2.67791765 16.47949252-3.89328003 33.10317977 5.973816 37.07885742 22.02072209 4.01687646 16.04690535-6.13861052 32.1968081-22.6387028 36.06948836a165.88668816 165.88668816 0 0 1-37.96463004 4.32586646c-92.77954118 0-166.01028459-75.59967033-166.01028458-166.50466887 0-12.35961937 1.35955787-24.51324471 3.93447884-36.15188599 1.70974739-7.74536125 6.52999886-14.52255225 13.38958747-18.82782039 6.83898958-4.32586646 15.16113274-5.78842171 23.13308709-4.1198724v0.02059904zM213.78298966 221.81674186a31.37283333 31.37283333 0 0 1 43.46466081 0L810.58779891 759.81036401c11.65924103 11.74163795 11.4944458 30.38406405-0.37078858 41.89910888a31.37283333 31.37283333 0 0 1-43.09387223 0.37078858L213.78298966 264.08663933a29.31289641 29.31289641 0 0 1 0-42.26989747z" fill="currentColor" ></path></symbol><symbol id="cha" viewBox="0 0 1024 1024"><path d="M168.38 208.632l42.426-42.426 633.561 633.561-42.426 42.426z" fill="currentColor" ></path><path d="M168.38 799.775L801.94 166.214l42.426 42.426L210.806 842.2z" fill="currentColor" ></path></symbol><symbol id="budayinbiaoqian" viewBox="0 0 1024 1024"><path d="M150.314667 301.098667L403.84 554.666667 298.666667 554.666667v298.666666h227.925333c11.221333 31.829333 28.586667 60.757333 50.645333 85.333334H213.333333v-213.333334H85.333333V384a85.333333 85.333333 0 0 1 64.981334-82.901333z m7.850666-203.264l768 768-30.208 30.122666L896 938.666667l-27.818667-14.933334-2.346666 2.432-768-768 60.330666-60.330666zM640 790.826667l96.384 96.426666L640 938.666667v-147.84zM748.117333 597.333333L896 597.333333v147.84L748.117333 597.333333z m-298.709333-298.666666L853.333333 298.666667a85.333333 85.333333 0 0 1 85.333334 85.333333v193.237333A255.061333 255.061333 0 0 0 768 512c-31.36 0-61.44 5.632-89.173333 15.957333L449.365333 298.666667zM810.666667 384a42.666667 42.666667 0 1 0 0 85.333333 42.666667 42.666667 0 0 0 0-85.333333z m0-298.666667v170.666667H406.741333l-170.666666-170.666667H810.666667z" fill="currentColor" ></path></symbol><symbol id="ziyuan" viewBox="0 0 1024 1024"><path d="M770.30775499 535.50654286h65.59120971a25.18233922 25.18233922 0 1 0 0-49.77904322h-66.76248156l83.74591991-83.74591991a24.596704 24.596704 0 0 0-35.13814784-35.13814857l-117.12716072 117.12716071H555.37941492L625.65571135 360.9870733 789.63373635 317.65002387a25.18233922 25.18233922 0 0 0 17.56907427-31.0386978 24.596704 24.596704 0 0 0-30.45306184-17.56907428l-114.19898179 30.45306187 33.38124079-58.56358a25.18233922 25.18233922 0 0 0-43.92268536-25.18233993l-32.79560486 58.5635807L588.17501978 161.28526452a24.596704 24.596704 0 0 0-48.02213543 12.88398756l43.33704943 162.22111721-71.44756829 124.15479043-72.03320422-124.74042636 43.33705015-162.2211172a25.76797515 25.76797515 0 0 0-17.56907428-31.62433373 25.18233922 25.18233922 0 0 0-30.45306186 18.15471023l-31.03869779 117.12716072-32.79560486-58.56358073a24.596704 24.596704 0 0 0-33.96687671-8.78453678 24.01106807 24.01106807 0 0 0-9.37017271 33.96687672l33.38124079 58.56357999-114.19898179-32.79560485a25.18233922 25.18233922 0 0 0-12.88398757 48.02213615l162.22111721 43.33704942 72.03320421 124.74042634H327.56708728l-117.12716071-117.1271607a24.596704 24.596704 0 0 0-35.13814785 0 24.596704 24.596704 0 0 0 0 35.13814785l81.98901212 81.98901285H182.32940771a25.18233922 25.18233922 0 1 0 0 49.77904322h73.79011128L172.95923499 619.25246279a25.18233922 25.18233922 0 0 0 0 35.72378379 24.596704 24.596704 0 0 0 17.5690743 7.02762972 24.596704 24.596704 0 0 0 17.56907428-7.02762972l117.12716072-117.12716071h143.48077177l-70.27629642 120.05533963-162.80675314 43.33704943a24.596704 24.596704 0 1 0 12.88398756 48.02213615l114.19898179-30.45306185L325.22454428 786.15866672a25.18233922 25.18233922 0 0 0 21.66852436 37.48069157 25.76797515 25.76797515 0 0 0 21.66852507-12.29835236l37.48069157-64.41993784 30.45306186 117.12716071a25.18233922 25.18233922 0 0 0 24.01106734 18.74034542h6.44199379a24.596704 24.596704 0 0 0 17.56907429-30.45306185l-43.33704943-169.24874693 70.86193236-122.39788336 70.27629643 121.81224743L538.9816125 844.72224672a24.596704 24.596704 0 0 0 17.56907427 30.45306185h6.44199379a25.18233922 25.18233922 0 0 0 24.01106807-18.74034543l30.45306114-117.12716071 37.48069157 65.00557379a26.35361107 26.35361107 0 0 0 21.66852508 12.29835235 25.18233922 25.18233922 0 0 0 12.88398756-3.51381485 24.596704 24.596704 0 0 0 8.78453679-26.939247l-36.89505564-64.41993857 117.12716071 31.03869778a25.18233922 25.18233922 0 0 0 12.88398758-48.60777207L625.65571135 658.49006143l-70.27629642-122.98351857h144.0664077l117.12716071 117.12716072a25.18233922 25.18233922 0 0 0 35.13814785 0 25.18233922 25.18233922 0 0 0 0-35.7237845z" fill="currentColor" ></path></symbol><symbol id="cloudshellyunminglinghang" viewBox="0 0 1024 1024"><path d="M917.504 835.584H106.496V188.416h810.496l0.512 647.168zM186.88 755.2h650.752v-486.4H186.88v486.4z" fill="currentColor" ></path><path d="M343.04 648.704l-56.32-56.32 88.064-88.064L286.72 415.744l56.32-56.832 144.896 144.896L343.04 648.704z m163.84-63.488h230.4v79.872H506.88v-79.872z" fill="currentColor" ></path></symbol><symbol id="suo" viewBox="0 0 1024 1024"><path d="M699.63238224 436.42830294L324.36048895 436.42830294c-32.41326715 0-58.68649143 26.21904532-58.68649143 58.57029185l0 248.4525261c0 32.35195941 26.27322427 58.57029185 58.68649143 58.57029184l375.27260617 0c32.41398004 0 58.69433313-26.21833245 58.69433312-58.57029184L758.32742824 494.99859479C758.32671536 462.64734826 732.04636228 436.42830294 699.63238224 436.42830294zM536.71272806 617.54424119l0 65.21362864c0 13.64453976-11.05749509 24.71771823-24.71629246 24.71771822-13.65095568 0-24.71629247-11.07317848-24.71629246-24.71771822l0-65.21362863c-14.75877254-8.54886733-24.71700533-24.4838933-24.71700536-42.77356477 0-27.30333712 22.12996069-49.43401068 49.43329782-49.43401068s49.4411395 22.13067357 49.44113949 49.43401068C561.43757509 593.0603479 551.48718397 608.99537387 536.71272806 617.54424119zM511.9964356 201.58894983c-95.55954127 0-173.03186925 76.38019449-173.03186926 176.73314671l1e-8 76.75231829 346.07229306 16.47752832L685.03685941 378.32209654C685.03685941 277.96914432 607.56453145 201.58894983 511.9964356 201.58894983zM388.42851802 450.73796054L388.42851802 376.60334078c0-68.23410486 55.32525815-123.56791757 123.56720469-123.56791759 68.24978823 0 123.56791757 55.33381272 123.56791758 123.56791759l0 75.8690589L388.42851802 450.73796054z" fill="currentColor" ></path></symbol><symbol id="taiyang" viewBox="0 0 1024 1024"><path d="M507.47829852 315.02083306c-6.7282375 0-12.17328942-5.45863062-12.17328944-12.18686812V229.73312427c0-6.7282375 5.44505195-12.18007878 12.17328945-12.18007877 6.74181618 0 12.18686812 5.45184128 12.1868681 12.18007877v73.10084067c0 6.7282375-5.44505195 12.18686812-12.1868681 12.18686812zM507.47829852 802.35977088s0.01357868 0 1e-8 0c-6.70786947 0-12.17328942-5.45184128-12.17328946-12.18007877V717.07885143c0-6.7282375 5.45863062-12.18686812 12.18686812-12.18686811s12.17328942 5.45863062 12.17328944 12.1868681v73.10084069c0 6.7282375-5.44505195 12.18007878-12.18686811 12.18007877z" fill="currentColor" ></path><path d="M369.64108599 372.11240631c-4.76611778 4.75932844-12.47202046 4.75932844-17.22455956 0l-51.70083606-51.6940467c-4.74574975-4.7525391-4.74574975-12.46523112 0-17.22455956 4.76611778-4.76611778 12.47202046-4.76611778 17.23813825 0l51.68725737 51.68725736c4.76611778 4.75932844 4.76611778 12.47880982 0 17.2313489zM714.25448534 716.71222699c-4.76611778 4.76611778-12.47880982 4.76611778-17.23813825 0l-51.68725736-51.68725737c-4.76611778-4.75932844-4.76611778-12.47880982 1e-8-17.2313489 4.76611778-4.75932844 12.47202046-4.75932844 17.23813823 0l51.68725737 51.69404671c4.74574975 4.7525391 4.74574975 12.46523112-1e-8 17.22455956z" fill="currentColor" ></path><path d="M312.54951273 509.95640818c0 6.7282375-5.45863062 12.18007878-12.18686811 12.18007878H227.26180393c-6.7282375 0-12.17328942-5.45184128-12.18686811-12.18007878 0-6.7282375 5.45863062-12.18007878 12.18686811-12.18007877h73.10084069c6.7282375 0 12.18686812 5.44505195 12.18686811 12.18007877zM799.8816612 509.95640818c0 6.7282375-5.44505195 12.18007878-12.17328943 12.18007878H714.6075311c-6.7282375 0-12.18686812-5.45184128-12.18686812-12.18007878 0-6.7282375 5.45863062-12.18007878 12.18686812-12.18007877h73.10084067c6.7282375 0 12.17328942 5.44505195 12.17328943 12.18007877z" fill="currentColor" ></path><path d="M369.64108599 647.79362072c4.76611778 4.7525391 4.76611778 12.47202046 0 17.2313489l-51.68725737 51.68725737c-4.76611778 4.76611778-12.47202046 4.76611778-17.23813825 0-4.74574975-4.75932844-4.74574975-12.46523112 0-17.22455956l51.70083606-51.69404671c4.7525391-4.75932844 12.46523112-4.75932844 17.22455956 0zM714.25448534 303.1870107c0 0.00678934 0 0-1e-8 0 4.74574975 4.76611778 4.74574975 12.47880982 0 17.23134891l-51.70083603 51.6940467c-4.74574975 4.75932844-12.45844178 4.75932844-17.22455957 0-4.76611778-4.7525391-4.76611778-12.47202046 0-17.23134891l51.68725736-51.6940467c4.75932844-4.7525391 12.47202046-4.7525391 17.23813824 0z" fill="currentColor" ></path><path d="M507.47829852 668.33816831c-87.32451127 0-158.37497078-71.05045952-158.37497078-158.38176013S420.15378725 351.56785872 507.47829852 351.56785872c87.34487928 0 158.38854946 71.05045952 158.38854946 158.38176013S594.81638847 668.33816831 507.47829852 668.33816831z" fill="currentColor" ></path><path d="M507.47829852 339.38099062c-94.19532493 0-170.56183889 76.36651397-170.5618389 170.57541756S413.28297358 680.52503642 507.47829852 680.52503642c94.21569295 0 170.58220691-76.36651397 170.58220692-170.56862824S601.68720212 339.38099062 507.47829852 339.38099062z m103.38130407 273.9499323c-27.60546282 27.61904151-64.32222203 42.82716662-103.38809342 42.82716662-39.0522927 0-75.76226257-15.20812511-103.36772538-42.82716662C376.49832096 585.7254601 361.27661716 549.00191157 361.27661716 509.95640818s15.22170381-75.76905191 42.83395596-103.37451472c27.60546282-27.61904151 64.32222203-42.82716662 103.36772541-42.82716662 39.06587139 0 75.77584125 15.20812511 103.3880934 42.82716662 27.61225217 27.60546282 42.81358793 64.32901136 42.81358793 103.37451472s-15.20812511 75.76905191-42.82037727 103.37451474z" fill="currentColor" ></path></symbol><symbol id="youjiantou" viewBox="0 0 1024 1024"><path d="M273.322667 963.413333a62.805333 62.805333 0 0 1 0-86.613333L625.365333 512 273.322667 147.2a62.805333 62.805333 0 0 1 0-86.613333 57.6 57.6 0 0 1 83.541333 0l393.813333 408.149333c23.082667 23.893333 23.082667 62.634667 0 86.528l-393.813333 408.149333a57.6 57.6 0 0 1-83.541333 0z" fill="currentColor" ></path></symbol><symbol id="jinggao" viewBox="0 0 1155 1024"><path d="M513.239709 49.588378C533.075061 14.876513 580.184019 2.479419 614.895884 22.31477c12.397094 7.438257 19.835351 14.876513 27.273608 27.273608l490.924939 850.440678c19.835351 34.711864 7.438257 81.820823-27.273608 101.656174-12.397094 7.438257-24.794189 9.917676-37.191283 9.917676H86.779661c-42.150121 0-74.382567-32.232446-74.382567-74.382567 0-12.397094 2.479419-24.794189 9.917676-37.191283L513.239709 49.588378z" fill="#FFBA00" ></path><path d="M86.779661 1024c-47.108959 0-86.779661-39.670702-86.779661-86.779661 0-14.876513 4.958838-29.753027 12.397094-44.62954L503.322034 44.62954c24.794189-42.150121 76.861985-54.547215 119.012106-32.232446 12.397094 7.438257 24.794189 19.835351 32.232446 32.232446L1143.012107 892.590799c12.397094 19.835351 14.876513 44.62954 7.438256 66.94431-4.958838 22.31477-19.835351 42.150121-39.670702 52.067797-12.397094 7.438257-27.273608 12.397094-44.62954 12.397094H86.779661zM577.7046 24.794189c-22.31477 0-42.150121 9.917676-54.547215 32.232445L32.232446 904.987893c-4.958838 9.917676-7.438257 19.835351-7.438257 32.232446 0 34.711864 27.273608 61.985472 61.985472 61.985472h981.849879c9.917676 0 22.31477-2.479419 32.232445-7.438257 29.753027-17.355932 39.670702-54.547215 22.31477-84.300242L632.251816 54.547215c-4.958838-9.917676-12.397094-17.355932-22.31477-22.314769-9.917676-4.958838-22.31477-7.438257-32.232446-7.438257z m-64.464891 24.794189z"  ></path><path d="M505.801453 825.646489c0-34.711864 27.273608-57.026634 59.506053-57.026634 32.232446 0 59.506053 22.31477 59.506053 57.026634 0 37.191283-27.273608 59.506053-59.506053 59.506053-32.232446 0-59.506053-22.31477-59.506053-59.506053z m17.355932-414.062954l-2.479419-86.779661h89.25908l-2.479419 86.779661-19.835351 287.612591h-49.588378l-14.876513-287.612591z"  ></path></symbol><symbol id="a-zu20" viewBox="0 0 1024 1024"><path d="M95.936884 10.098619h565.522682v706.903353H95.936884V10.098619z" fill="#82BF82" ></path><path d="M661.459566 727.100592H95.936884c-6.059172 0-10.098619-4.039448-10.09862-10.09862V10.098619C85.838264 4.039448 89.877712 0 95.936884 0h565.522682c6.059172 0 10.098619 4.039448 10.098619 10.098619v706.903353c0 6.059172-4.039448 10.098619-10.098619 10.09862zM106.035503 706.903353h545.325444V20.197239H106.035503v686.706114z" fill="#016601" ></path><path d="M909.885602 941.191321l-201.972387-298.919132 153.499014-16.157791-375.668639-228.228796 74.729783 440.299802 68.670611-141.38067 201.972387 298.919132 78.769231-54.532545z" fill="currentColor" ></path><path d="M827.076923 1024l-193.893491-286.800789-80.788955 165.617357-92.907298-545.325444 464.53649 280.741618-179.755424 20.197238 193.893491 288.820513-111.084813 76.749507z m-199.952663-367.589744l210.051282 311.037476 44.433925-32.315582L671.558185 624.094675l127.242604-14.138068-286.800789-173.696252L570.571992 771.534517l56.552268-115.124261z" fill="#232323" ></path></symbol><symbol id="houtui" viewBox="0 0 1433 1024"><path d="M1433.6 1024c0-430.08-753.664-425.984-753.664-425.984V860.16L0 430.08 679.936 0v262.144S1433.6 290.816 1433.6 1024z" fill="currentColor" ></path></symbol><symbol id="xuanzhuan1" viewBox="0 0 1024 1024"><path d="M512 1024C505.277899 1024 70.582057 988.148796 70.582057 582.582057 70.582057 177.015317 440.297593 141.164114 442.538293 141.164114c8.962801 0 15.684902 6.722101 17.925602 13.444201 0 8.962801-6.722101 15.684902-13.444201 17.925602-15.684902 2.2407-345.067834 33.610503-345.067834 410.04814S496.315098 990.389497 514.2407 992.630197c13.444201 0 407.80744-15.684902 407.80744-432.455142 0-8.962801 6.722101-15.684902 15.684902-15.684902s15.684902 6.722101 15.684901 15.684902c0 448.140044-436.936543 463.824945-441.417943 463.824945z" fill="currentColor" ></path><path d="M720.38512 156.849015l-268.884026 156.849016V0l268.884026 156.849015z" fill="currentColor" ></path></symbol><symbol id="juxing" viewBox="0 0 1024 1024"><path d="M912 862.7H112c-5.5 0-10-4.5-10-10V171.3c0-5.5 4.5-10 10-10h800c5.5 0 10 4.5 10 10v681.3c0 5.6-4.5 10.1-10 10.1z m-790-20h780V181.3H122v661.4z" fill="currentColor" ></path><path d="M912 865.2H112c-6.9 0-12.5-5.6-12.5-12.5V171.3c0-6.9 5.6-12.5 12.5-12.5h800c6.9 0 12.5 5.6 12.5 12.5v681.3c0 7-5.6 12.6-12.5 12.6zM112 163.8c-4.1 0-7.5 3.4-7.5 7.5v681.3c0 4.1 3.4 7.5 7.5 7.5h800c4.1 0 7.5-3.4 7.5-7.5V171.3c0-4.1-3.4-7.5-7.5-7.5H112z m792.5 681.4h-785V178.8h785v666.4z m-780-5h775V183.8h-775v656.4z" fill="currentColor" ></path><path d="M860.2 128h100v100h-100V128z"  ></path><path d="M64 795.6h100v100H64v-100z"  ></path></symbol><symbol id="zhengduobianxing" viewBox="0 0 1024 1024"><path d="M788.7 936H235.3l-171-526.2L512 84.5l447.6 325.2L788.7 936z m-531.6-30h509.7l157.5-484.8L512 121.6 99.6 421.2 257.1 906z" fill="currentColor" ></path><path d="M192 859.6h100v100H192v-100zM462 462h100v100H462V462z"  ></path></symbol><symbol id="duobianxing" viewBox="0 0 1024 1024"><path d="M415.9 928c-3.3 0-6.4-1.6-8.3-4.5L65.7 410.7c-2.5-3.7-2.2-8.7 0.7-12.1L322.8 99.5c1.9-2.2 4.7-3.5 7.6-3.5h491.4c3.5 0 6.8 1.8 8.6 4.9 1.8 3 1.9 6.8 0.2 9.9L662.8 425.5 957.9 805c2.1 2.7 2.7 6.4 1.5 9.6-1.2 3.2-4 5.6-7.4 6.3L417.8 927.8c-0.6 0.1-1.3 0.2-1.9 0.2zM86.5 405.9l333.9 500.9 511.7-102.3L643 432.7c-2.4-3.1-2.8-7.4-0.9-10.8l163-305.9H335L86.5 405.9z" fill="currentColor" ></path><path d="M415.8 930.5c-4.2 0-8.1-2.1-10.4-5.6L63.6 412.1c-3.1-4.6-2.7-10.8 0.9-15.1L320.9 97.9c2.4-2.8 5.8-4.4 9.5-4.4h491.4c4.4 0 8.5 2.3 10.7 6.1 2.2 3.7 2.4 8.5 0.3 12.3L665.7 425.3l294.1 378.2c2.7 3.4 3.4 7.9 1.8 12-1.5 4.1-5 7-9.3 7.9l-534 106.8c-0.8 0.2-1.6 0.3-2.5 0.3 0.1 0 0.1 0 0 0z m-85.4-832c-2.2 0-4.3 1-5.7 2.6L68.3 400.3c-2.2 2.5-2.4 6.3-0.5 9l341.9 512.8c1.4 2.1 3.7 3.3 6.2 3.3 0.5 0 1 0 1.5-0.1l534.1-106.8c2.6-0.5 4.6-2.3 5.6-4.7 0.9-2.5 0.5-5.2-1.1-7.2L659.8 425.8l0.8-1.4 167.9-314.8c1.2-2.3 1.2-5.1-0.2-7.4-1.3-2.2-3.8-3.6-6.4-3.6H330.4z m88.9 811.1l-0.9-1.4-335-502.5 1.2-1.4 249.2-290.8h475.5L644.3 423c-1.4 2.6-1.1 5.8 0.7 8.1l291.7 375-517.4 103.5zM89.7 406.1l332 497.9 506.1-101.2L641 434.2c-3-3.9-3.5-9.2-1.2-13.6L801 118.5H336.1L89.7 406.1z" fill="currentColor" ></path><path d="M348.1 859.6h100v100h-100v-100z"  ></path><path d="M732.2 63.9h100v100h-100v-100z"  ></path></symbol><symbol id="zhixian" viewBox="0 0 1024 1024"><path d="M112.481 890.299l777.81-777.81 21.213 21.213-777.81 777.81z" fill="currentColor" ></path><path d="M860.2 63.9h100v100h-100zM64 859.6h100v100H64z"  ></path></symbol><symbol id="danhangwenzi" viewBox="0 0 1024 1024"><path d="M64 928.9h896v30H64z"  ></path><path d="M651.8 565.9H321.2L255 737.5c-9.8 27.1-9.8 48.9 0 65.5s31.8 24.8 66.1 24.8h22v27.1H71.3v-27.1h22c19.6 0 36.7-3.8 51.4-11.3 14.7-7.5 24.5-20.3 29.4-38.4L460.8 87.2 571 64.7l279.2 713.5c9.8 18.1 22 30.9 36.7 38.4 14.7 7.5 31.8 11.3 51.4 11.3h22V855h-316v-27.1h29.4c29.4 0 47.8-5.3 55.1-15.8s6.1-26.3-3.7-47.4l-73.3-198.8zM497.5 164h-7.3L335.9 538.8h308.6L497.5 164z" fill="currentColor" ></path></symbol><symbol id="dian" viewBox="0 0 1024 1024"><path d="M437 437h150v150H437V437z"  ></path></symbol><symbol id="duoxianduan" viewBox="0 0 1024 1024"><path d="M113.928 826.67L274.511 378.8l28.239 10.124-160.583 447.87zM326.439 392.367l24.582-17.2 272.776 389.871-24.582 17.2zM641.725 750.904l233.417-564.871 27.726 11.457-233.417 564.87z" fill="currentColor" ></path><path d="M860.2 128h100v100h-100V128zM64 795.6h100v100H64v-100zM256 320h100v100H256V320zM576.1 731.7h100v100h-100v-100z"  ></path></symbol><symbol id="charutupian" viewBox="0 0 1024 1024"><path d="M294.7 814.7l-24.7-17c1.1-1.6 27.4-39.7 65.4-75.2 22.8-21.3 45-37.2 66.2-47.4 28.1-13.5 54.6-17 78.7-10.4 12.4 3.4 24.8 7.1 36.9 10.8 74.4 22.4 144.7 43.5 208-10.4 13.4-11.4 26.3-22.9 38.8-34 64.2-57.2 119.7-106.6 182.1-88.4l-8.4 28.8c-46.5-13.5-93.8 28.6-153.8 82-12.6 11.2-25.7 22.9-39.3 34.5-75.8 64.5-157.3 40-236.1 16.3-11.9-3.6-24.1-7.3-36.2-10.6-39.6-10.9-85 21.4-116.1 50.4-35.6 33.3-61.2 70.2-61.5 70.6z"  ></path><path d="M957 892H67V222h890v670zM97 862h830V252H97v610z" fill="currentColor" ></path><path d="M798.1 342h-60c-13.8 0-25-11.2-25-25V157c0-13.8 11.2-25 25-25h60c13.8 0 25 11.2 25 25v160c0 13.8-11.2 25-25 25z m-55-30h50V162h-50v150z" fill="currentColor" ></path><path d="M282.4 526.5c-49.6 0-90-40.4-90-90s40.4-90 90-90 90 40.4 90 90-40.4 90-90 90z m0-150c-33.1 0-60 26.9-60 60s26.9 60 60 60 60-26.9 60-60-26.9-60-60-60z"  ></path></symbol><symbol id="duohangwenben" viewBox="0 0 1024 1024"><path d="M1024 977H0V47h1024v930zM30 947h964V77H30v870z" fill="currentColor" ></path><path d="M946 833.5H78.4c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 591H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 463H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 335H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 207H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M435.3 492.9H223.8l-42.3 124.9c-6.3 19.7-6.3 35.6 0 47.7 6.3 12.1 20.4 18.1 42.3 18.1h14.1v19.7H64v-19.7h14.1c12.5 0 23.5-2.7 32.9-8.2 9.4-5.5 15.7-14.8 18.8-28l183.3-503 70.5-16.4 178.6 519.4c6.3 13.2 14.1 22.5 23.5 28s20.4 8.2 32.9 8.2h14.1v19.7H430.6v-19.7h18.8c18.8 0 30.5-3.8 35.2-11.5s3.9-19.2-2.3-34.5l-47-144.7z m-98.7-292.6h-4.7l-98.7 272.9h197.4l-94-272.9z" fill="currentColor" ></path></symbol><symbol id="tuoyuanhu" viewBox="0 0 1024 1024"><path d="M895 512c0 54.5-38.7 106.3-109 146-73 41.2-170.3 64-274 64s-201.1-22.7-274-64c-70.3-39.7-109-91.6-109-146 0-54.5 38.7-106.3 109-146 73-41.2 170.3-64 274-64h0.5v-30h-0.5c-108.8 0-211.4 24.1-288.8 67.8-38.4 21.7-68.6 47.1-89.9 75.6C110.5 445.8 99 478.3 99 512s11.5 66.2 34.3 96.6c21.3 28.5 51.5 53.9 89.9 75.6C300.6 728 403.2 752 512 752s211.4-24.1 288.8-67.8c38.4-21.7 68.6-47.1 89.9-75.6 22.7-30.4 34.3-62.9 34.3-96.6h-30z" fill="currentColor" ></path><path d="M497.5 272h30v255.1h-30z" fill="currentColor" ></path><path d="M512 497h413v30H512z" fill="currentColor" ></path><path d="M462 233.9h100v100H462v-100zM462 462h100v100H462V462zM860 462h100v100H860V462z"  ></path></symbol><symbol id="yuan" viewBox="0 0 1024 1024"><path d="M512 932c-56.7 0-111.7-11.1-163.5-33-50-21.2-94.9-51.4-133.5-90-38.6-38.6-68.8-83.5-90-133.5-21.9-51.8-33-106.8-33-163.5s11.1-111.7 33-163.5c21.2-50 51.4-94.9 90-133.5 38.6-38.6 83.5-68.8 133.5-90 51.8-21.9 106.8-33 163.5-33s111.7 11.1 163.5 33c50 21.2 94.9 51.4 133.5 90 38.6 38.6 68.8 83.5 90 133.5 21.9 51.8 33 106.8 33 163.5s-11.1 111.7-33 163.5c-21.2 50-51.4 94.9-90 133.5-38.6 38.6-83.5 68.8-133.5 90-51.8 21.9-106.8 33-163.5 33z m0-810c-215 0-390 175-390 390s175 390 390 390 390-175 390-390-175-390-390-390z" fill="currentColor" ></path><path d="M462 64h100v100H462V64zM64 462h100v100H64V462zM860 462h100v100H860V462zM462 860h100v100H462V860z"  ></path></symbol><symbol id="yangtiaoxian" viewBox="0 0 1024 1024"><path d="M236.4 931.5c-1.7-0.7-43-17.5-87.1-46C88.1 846 52.8 804.8 44.5 763c-7.2-36.2 5.9-71.1 38.9-103.8 62.2-61.5 241.7-59.7 431.8-57.8 91.6 0.9 186.4 1.9 260.5-5.4 77.9-7.6 125.1-23.9 140.5-48.2 9-14.3 7.6-33-4.2-57.1-38.9-79.4-71.1-135.3-94.6-176.2-48.5-84.4-68.6-119.3-49.9-190.4l29 7.6c-15.6 59.2-1.1 84.3 46.9 167.8 23.7 41.2 56.1 97.6 95.5 177.9 16.6 33.8 17.4 62.8 2.6 86.3-21.1 33.5-72.9 53.3-163 62.1-75.7 7.4-171.3 6.5-263.7 5.6-88.7-0.9-180.4-1.8-255.2 4.6-81.1 6.9-131.9 21.5-155.2 44.5C78.6 706 68.6 731 73.8 757.1c16.4 81.9 172.3 146 173.8 146.6l-11.2 27.8z" fill="currentColor" ></path><path d="M732 64h100v100H732V64zM192 860h100v100H192V860z"  ></path></symbol><symbol id="tuoyuan" viewBox="0 0 1024 1024"><path d="M512 752c-108.9 0-211.4-24.1-288.8-67.8-38.4-21.7-68.6-47.1-89.9-75.6C110.5 578.2 99 545.7 99 512c0-33.7 11.5-66.2 34.3-96.6 21.3-28.5 51.6-53.9 89.9-75.6 77.4-43.7 180-67.8 288.8-67.8s211.4 24.1 288.8 67.8c38.4 21.7 68.6 47.1 89.9 75.6 22.7 30.4 34.3 62.9 34.3 96.6 0 33.7-11.5 66.2-34.3 96.6-21.3 28.5-51.6 53.9-89.9 75.6C723.4 727.9 620.9 752 512 752z m0-450c-103.8 0-201.1 22.7-274 64-70.3 39.7-109 91.6-109 146 0 54.5 38.7 106.3 109 146 73 41.2 170.3 64 274 64s201.1-22.7 274-64c70.3-39.7 109-91.6 109-146 0-54.5-38.7-106.3-109-146-72.9-41.3-170.2-64-274-64z" fill="currentColor" ></path><path d="M462 687.8h100v100H462v-100zM64 462h100v100H64V462zM860 462h100v100H860V462z"  ></path></symbol><symbol id="tianchong" viewBox="0 0 1024 1024"><path d="M64 129.4h896v40H64zM64 855.6h896v40H64z"  ></path><path d="M129.6 64h40v896h-40zM855.8 64h40v896h-40z"  ></path><path d="M256 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l512-512c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-512 512c-2.9 2.9-6.8 4.4-10.6 4.4zM384 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l384-384c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-384 384c-2.9 2.9-6.8 4.4-10.6 4.4zM512 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l256-256c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-256 256c-2.9 2.9-6.8 4.4-10.6 4.4zM640 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l128-128c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-128 128c-2.9 2.9-6.8 4.4-10.6 4.4zM256 655c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l384-384c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-384 384c-2.9 2.9-6.8 4.4-10.6 4.4zM256 527c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l256-256c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-256 256c-2.9 2.9-6.8 4.4-10.6 4.4zM256 399c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l128-128c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-128 128c-2.9 2.9-6.8 4.4-10.6 4.4z" fill="currentColor" ></path></symbol><symbol id="yuanhu" viewBox="0 0 1024 1024"><path d="M99 911.2c-0.3-3.5-6.6-87.4 14-201.5 12.1-67.1 31.1-130.6 56.4-188.9 31.7-73.1 73.5-137.9 124.3-192.9C434 176 641.3 99 910 99v30c-259.8 0-459.7 73.7-594.1 219.1C206.2 466.8 161.2 612.6 142.7 714c-20.1 110.6-13.9 194-13.8 194.8L99 911.2z" fill="currentColor" ></path><path d="M860 64h100v100H860V64zM64 860h100v100H64V860zM256 270h100v100H256V270z"  ></path></symbol><symbol id="fuzhi" viewBox="0 0 1024 1024"><path d="M959.5 965h-750c-8.3 0-15-6.7-15-15V200c0-8.3 6.7-15 15-15h750c8.3 0 15 6.7 15 15v750c0 8.3-6.7 15-15 15z m-735-30h720V215h-720v720z" fill="currentColor" ></path><path d="M142.5 829H64c-8.3 0-15-6.7-15-15V64c0-8.3 6.7-15 15-15h750c8.3 0 15 6.7 15 15v82c0 8.3-6.7 15-15 15s-15-6.7-15-15V79H79v720h63.5c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M781.5 590.9h-400c-8.3 0-15-6.7-15-15s6.7-15 15-15h400c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M581.5 790.9c-8.3 0-15-6.7-15-15v-400c0-8.3 6.7-15 15-15s15 6.7 15 15v400c0 8.2-6.7 15-15 15z"  ></path></symbol><symbol id="shanchu" viewBox="0 0 1024 1024"><path d="M562.4 327.623l21.214-21.213 255.97 255.97-21.213 21.213z"  ></path><path d="M506.7 898.2L485.5 877l438.7-438.7-216.8-216.7-544.5 544.5 111 110.9-21.2 21.2-121.6-121.5c-5.9-5.9-5.9-15.4 0-21.2l565.7-565.7c2.8-2.8 6.6-4.4 10.6-4.4s7.8 1.6 10.6 4.4l238 238c5.9 5.9 5.9 15.4 0 21.2L506.7 898.2z" fill="currentColor" ></path><path d="M252 867.6h256v30H252z" fill="currentColor" ></path><path d="M276.2 930.2H960v30H276.2z"  ></path></symbol><symbol id="lisanquxian" viewBox="0 0 1024 1024"><path d="M128 815h-0.9c-8.3-0.5-14.6-7.6-14.1-15.9 0.1-1 6.5-105.5 22.6-221.6 1.1-8.2 8.7-13.9 16.9-12.8 8.2 1.1 13.9 8.7 12.8 16.9-15.9 115-22.3 218.3-22.4 219.4-0.4 7.9-7 14-14.9 14zM805.8 446.7c-2.5 0-5-0.6-7.4-1.9-7.2-4.1-9.8-13.2-5.7-20.4 56.1-99.4 88.6-203.7 88.9-204.8 2.4-7.9 10.8-12.4 18.8-9.9 7.9 2.4 12.4 10.8 9.9 18.8-1.3 4.4-33.7 108.4-91.4 210.7-2.7 4.8-7.8 7.5-13.1 7.5z"  ></path><path d="M583.7 635.6c-27.7 0-52.1-9.7-74.7-29.4-33.2-28.8-59.8-77.4-90.6-133.6C389 419 355.7 358.2 308.2 297.2c-11-14.2-27.2-30.4-41.7-26.9-14.7 3.6-52.8 32.7-87.3 224.2-1.5 8.2-9.3 13.6-17.4 12.1-8.2-1.5-13.6-9.3-12.1-17.4 12.1-66.8 25.8-120.7 40.7-160.3 19.9-52.5 42.4-81.2 69-87.7 24.2-5.9 48.6 6.7 72.5 37.6 48.9 63 82.8 124.8 112.8 179.4C510.9 579 544 630.9 634.3 594.1c37.2-15.1 74.5-47.4 110.9-96.1 5-6.6 14.4-8 21-3s8 14.4 3 21c-39.8 53.1-81.4 88.7-123.6 105.9-22.4 9.1-42.9 13.7-61.9 13.7z" fill="currentColor" ></path></symbol><symbol id="jingxiang" viewBox="0 0 1024 1024"><path d="M448 975H64c-5 0-9.7-2.5-12.5-6.7-2.8-4.2-3.3-9.5-1.3-14.2l384-896c2.8-6.5 9.8-10.2 16.8-8.8 7 1.4 12 7.6 12 14.7v896c0 8.3-6.7 15-15 15zM86.7 945H433V137.1L86.7 945z"  ></path><path d="M960 975H576c-8.3 0-15-6.7-15-15V64c0-7.1 5-13.3 12-14.7 7-1.4 14 2.2 16.8 8.8l384 896c2 4.6 1.5 10-1.3 14.2-2.8 4.2-7.5 6.7-12.5 6.7z m-369-30h346.3L591 137.1V945z" fill="currentColor" ></path></symbol><symbol id="jianqie" viewBox="0 0 1024 1024"><path d="M960 527H743.3c-8.3 0-15-6.7-15-15s6.7-15 15-15H960c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M544.2 527h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0H64c-8.3 0-15-6.7-15-15s6.7-15 15-15h0.2c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M453.3 933c-2.1 0-4.3-0.5-6.3-1.4-7.5-3.5-10.8-12.4-7.3-19.9L818.4 99.6c3.5-7.5 12.4-10.8 19.9-7.3 7.5 3.5 10.8 12.4 7.3 19.9L466.9 924.4c-2.5 5.4-7.9 8.6-13.6 8.6z" fill="currentColor" ></path></symbol><symbol id="huitui" viewBox="0 0 1024 1024"><path d="M960.3 835.6c0-272.8-470.2-268-470.2-268v166.5L63.7 461.2l426.4-272.9v166.5s470.2 18 470.2 480.8z" fill="currentColor" ></path></symbol><symbol id="yuanjiao" viewBox="0 0 1024 1024"><path d="M640 94.3h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0H80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M79.3 654.3c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z"  ></path><path d="M64.1 946.2c-0.2-2.3-2.9-36.7-0.1-91V448c0-8.3 6.7-15 15-15s15 6.7 15 15v208.7c11.9-46.8 27.1-91.6 45.3-133.8 34.2-79.2 79.4-149.7 134.4-209.3C373.3 205.3 504.5 132 665.3 94.3H448c-8.3 0-15-6.7-15-15s6.7-15 15-15h497v30c-284.2 0-502.6 80.5-649.1 239.4C176.7 463 128.1 621.7 108.4 732c-8.6 47.9-12.6 91.1-14.4 125.8V945l-29.9 1.2z" fill="currentColor" ></path></symbol><symbol id="pianyi" viewBox="0 0 1024 1024"><path d="M787 802H687c-8.3 0-15-6.7-15-15s6.7-15 15-15h85v-25c0-8.3 6.7-15 15-15s15 6.7 15 15v40c0 8.3-6.7 15-15 15z m-180 0H507c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0H327c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0h-10c-8.3 0-15-6.7-15-15v-90c0-8.3 6.7-15 15-15s15 6.7 15 15v75.9c5.8 2.1 10 7.6 10 14.1 0 8.3-6.7 15-15 15z m540-120c-8.3 0-15-6.7-15-15V567c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15V517c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m550-130c-8.3 0-15-6.7-15-15V387c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15V337c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m550-130c-8.3 0-15-6.7-15-15v-55h-15c-8.3 0-15-6.7-15-15s6.7-15 15-15h30c8.3 0 15 6.7 15 15v70c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15v-20c0-8.3 6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15h-65v5c0 8.3-6.7 15-15 15z m440-20H577c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0H397c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M945 960H79c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h866c8.3 0 15 6.7 15 15v866c0 8.3-6.7 15-15 15zM94 930h836V94H94v836z" fill="currentColor" ></path></symbol><symbol id="suofang" viewBox="0 0 1024 1024"><path d="M945 960H572c-8.3 0-15-6.7-15-15s6.7-15 15-15h358V94H94v358c0 8.3-6.7 15-15 15s-15-6.7-15-15V79c0-8.3 6.7-15 15-15h866c8.3 0 15 6.7 15 15v866c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M479 960H79c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 930h370V560H94v370z"  ></path></symbol><symbol id="zhenlie" viewBox="0 0 1024 1024"><path d="M479 960H79c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 930h370V560H94v370z"  ></path><path d="M479 494H79c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 464h370V94H94v370zM945 494H545c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15z m-385-30h370V94H560v370zM945 960H545c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15z m-385-30h370V560H560v370z" fill="currentColor" ></path></symbol><symbol id="xuanzhuan" viewBox="0 0 1024 1024"><path d="M512 972.3c-56 0-110.4-11-161.5-32.6-49.4-20.9-93.8-50.8-131.9-88.9-38.1-38.1-68-82.5-88.9-131.9C108 667.7 97 613.3 97 557.3s11-110.4 32.6-161.5c20.9-49.4 50.8-93.8 88.9-131.9 38.1-38.1 82.5-68 131.9-88.9 51.2-21.6 105.5-32.6 161.5-32.6 8.7 0 17.5 0.3 26 0.8l-1.9 29.9c-7.9-0.5-16.1-0.8-24.2-0.8-212.3 0-385 172.7-385 385s172.7 385 385 385 385-172.7 385-385c0-60.6-13.7-118.6-40.7-172.4l26.8-13.5c29.1 58 43.9 120.5 43.9 185.9 0 56-11 110.4-32.6 161.5-20.9 49.4-50.8 93.8-88.9 131.9s-82.5 68-131.9 88.9c-51 21.7-105.4 32.7-161.4 32.7z" fill="currentColor" ></path><path d="M601.6 168.5L422.4 65v206.9z" fill="currentColor" ></path></symbol><symbol id="hebing" viewBox="0 0 1024 1024"><path d="M65 472h250v80H65zM453.8 512L315 403.8v216.4zM710 472h250v80H710zM571.2 512L710 620.2V403.8z" fill="currentColor" ></path></symbol><symbol id="daduan" viewBox="0 0 1024 1024"><path d="M945.5 893h-867c-8.3 0-15-6.7-15-15V178c0-8.3 6.7-15 15-15h278.6v30H93.5v670h837V193H656v-30h289.5c8.3 0 15 6.7 15 15v700c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M606 128h100v100H606V128zM320 128h100v100H320V128z"  ></path></symbol><symbol id="zhiyuduixiangzhishang" viewBox="0 0 1024 1024"><path d="M64 64h600v600H64z"  ></path><path d="M959.7 960.3h-480V704h30v226.3h420v-420H704v-30h255.7z" fill="currentColor" ></path></symbol><symbol id="qianzhi" viewBox="0 0 1024 1024"><path d="M322 322h380v380H322z"  ></path><path d="M297 473.9H65.9v-410h410V297h-30V93.9h-350v350H297zM958.5 960.1h-410V727h30v203.1h350v-350H727v-30h231.5z" fill="currentColor" ></path></symbol><symbol id="tuceng" viewBox="0 0 1024 1024"><path d="M851.4 471.6L526.1 666.8c-7.8 4.7-20.5 4.7-28.3 0L172.6 471.6c-7.8-4.7-7.8-12.3 0-17l33.6-20.2 291.7 175c7.8 4.7 20.5 4.7 28.3 0l291.7-175 33.6 20.2c7.7 4.8 7.7 12.4-0.1 17z" fill="currentColor" ></path><path d="M851.4 584.5L526.1 779.6c-7.8 4.7-20.5 4.7-28.3 0L172.6 584.5c-7.8-4.7-7.8-12.3 0-17l26.5-15.9 298.7 179.2c7.8 4.7 20.5 4.7 28.3 0l298.7-179.2 26.5 15.9c7.9 4.7 7.9 12.3 0.1 17z" fill="currentColor" ></path><path d="M497.9 548.1L172.6 352.9c-7.8-4.7-7.8-12.3 0-17l325.3-195.2c7.8-4.7 20.5-4.7 28.3 0l325.3 195.2c7.8 4.7 7.8 12.3 0 17L526.1 548.1c-7.8 4.7-20.4 4.7-28.2 0z"  ></path></symbol><symbol id="fenjie" viewBox="0 0 1024 1024"><path d="M871.5 298.1L512 90.5 147 301.3v421.5l350 202.1 15 8.7 15-8.7v-34.6l-15 8.7-15-8.7-320-184.9V318.6l335-193.4 327.7 189.2 7.3 4.2v25.7l30-15.3v-27.7l-5.5-3.2z" fill="currentColor" ></path><path d="M497 488.7h30v428.1h-30z" fill="currentColor" ></path><path d="M497.437 489.238L855.19 306.545l13.644 26.718L511.08 515.956z" fill="currentColor" ></path><path d="M148.208 329.397l13.641-26.718 357.754 182.653-13.64 26.718z" fill="currentColor" ></path><path d="M595.6 948.5c-2.7 0-5.4-0.7-7.7-2.1-4.5-2.7-7.3-7.6-7.3-12.9V553.6c0-5.5 3.1-10.6 8-13.2l292.8-155.7c4.6-2.5 10.3-2.3 14.8 0.4 4.5 2.7 7.3 7.6 7.3 12.9v379.8c0 5.5-3.1 10.6-8 13.2L602.7 946.7c-2.2 1.2-4.7 1.8-7.1 1.8z m15-385.9v345.9l262.8-139.7V422.9L610.6 562.6z m277.8 215.2z"  ></path></symbol><symbol id="zhiyuduixiangzhixia" viewBox="0 0 1024 1024"><path d="M962.5 512v450h-450V753.9H753V512z"  ></path><path d="M696.2 694.9h-630v-630h630v630z m-600-30h570v-570h-570v570z" fill="currentColor" ></path></symbol><symbol id="banjingbiaozhu" viewBox="0 0 1024 1024"><path d="M512 960c-60.5 0-119.1-11.8-174.4-35.2-53.3-22.6-101.3-54.9-142.4-96s-73.4-89-96-142.4C75.8 631.1 64 572.5 64 512s11.8-119.1 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89-73.4 142.4-96C392.9 75.8 451.5 64 512 64s119.1 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96s73.4 89 96 142.4C948.2 392.9 960 451.5 960 512s-11.8 119.1-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4s-89 73.4-142.4 96C631.1 948.2 572.5 960 512 960z m0-866C281.5 94 94 281.5 94 512s187.5 418 418 418 418-187.5 418-418S742.5 94 512 94z" fill="currentColor" ></path><path d="M512.5 522.7c-3.8 0-7.7-1.5-10.6-4.4L310.2 326.6c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l191.7 191.7c5.9 5.9 5.9 15.4 0 21.2-2.9 3-6.8 4.4-10.6 4.4z"  ></path><path d="M265 389.1l128.9-128.9-128.9 0.1z"  ></path></symbol><symbol id="yanshen" viewBox="0 0 1024 1024"><path d="M615.3 454.2c-8.3 0-15-6.7-15-15s6.7-15 15-15h169.4c8.3 0 15 6.7 15 15s-6.7 15-15 15H615.3z" fill="currentColor" ></path><path d="M777.3 384.5v109.4l54.7-54.7z" fill="currentColor" ></path><path d="M832 599.8h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M945.1 975c-8.3 0-15-6.7-15-15V64c0-8.3 6.7-15 15-15s15 6.7 15 15v896c0 8.3-6.7 15-15 15z" fill="currentColor" ></path></symbol><symbol id="houzhi" viewBox="0 0 1024 1024"><path d="M702 322v243.1H563.5V702H322V458.9h138.9V322z"  ></path><path d="M960.1 959.2h-350v-350h350v350z m-320-30h290v-290h-290v290zM414.3 414.8h-350v-350h350v350z m-320-30h290v-290h-290v290z" fill="currentColor" ></path></symbol><symbol id="qingxiebiaozhu" viewBox="0 0 1024 1024"><path d="M80 869.5c-1.3 0-2.6-0.2-3.9-0.5-8-2.1-12.8-10.4-10.6-18.4l183.5-685c2.1-8 10.4-12.8 18.4-10.6 8 2.1 12.8 10.4 10.6 18.4l-183.5 685c-1.8 6.7-7.9 11.1-14.5 11.1z" fill="currentColor" ></path><path d="M765.3 527H258.7c-8.3 0-15-6.7-15-15s6.7-15 15-15h506.5c8.3 0 15 6.7 15 15s-6.6 15-14.9 15z"  ></path><path d="M273 415.4L212 512l61 96.6h0.6V415.4zM751 415.4l61 96.6-61 96.6h-0.6V415.4z"  ></path><path d="M761.2 871.7c-1.3 0-2.6-0.2-3.9-0.5-8-2.1-12.8-10.4-10.6-18.4l183.5-685c2.1-8 10.4-12.7 18.4-10.6 8 2.1 12.8 10.4 10.6 18.4l-183.5 685c-1.9 6.7-7.9 11.1-14.5 11.1z" fill="currentColor" ></path><path d="M468.2 312.1v118.8c0 4.2 1.3 7.3 3.9 9.4 2.6 2.1 6.2 3.1 10.9 3.1h7.8v4.7h-57v-4.7h7c5.2 0 9-1 11.3-3.1 2.3-2.1 3.5-5.2 3.5-9.4v-94.5c0-2.1-0.7-3.8-2-5.1-1.3-1.3-3.3-2-5.9-2h-14.1v-4.7h7c6.2 0 11.3-1 15.2-3.1 3.9-2.1 6.9-5.2 9-9.4h3.4zM561.2 449.6c-11.5 0-21.1-6-28.9-18-7.8-12-11.7-28.9-11.7-50.8 0-20.3 3.8-36.7 11.3-49.2 7.5-12.5 17.3-18.8 29.3-18.8 11.5 0 21 6 28.5 18s11.3 28.6 11.3 50-3.8 38.2-11.3 50.4c-7.5 12.2-17 18.4-28.5 18.4z m0-130.5c-7.3 0-13.4 5.6-18.4 16.8-5 11.2-7.4 26.2-7.4 44.9 0 19.8 2.5 35.2 7.4 46.1 4.9 10.9 11.1 16.4 18.4 16.4 7.8 0 13.9-5.5 18.4-16.4 4.4-10.9 6.6-26.3 6.6-46.1 0-18.8-2.1-33.7-6.2-44.9-4.2-11.2-10.5-16.8-18.8-16.8z"  ></path></symbol><symbol id="yidong" viewBox="0 0 1024 1024"><path d="M174.4 497h675.2v30H174.4z" fill="currentColor" ></path><path d="M191.5 384.4v255.2L64 512zM832.5 384.4v255.2L960 512z" fill="currentColor" ></path><path d="M497 174.4h30v675.2h-30z" fill="currentColor" ></path><path d="M384.4 832.5h255.2L512 960zM384.4 191.5h255.2L512 64z" fill="currentColor" ></path></symbol><symbol id="duiqibiaozhu" viewBox="0 0 1142 1024"><path d="M469.12011 1024c-3.406684 0-6.903018-1.344744-9.502856-3.944582L10.024573 570.552387c-5.289326-5.289326-5.289326-13.806036 0-19.005713 5.289326-5.289326 13.806036-5.289326 19.005713 0l449.592681 449.592681c5.289326 5.289326 5.289326 13.806036 0 19.005713-2.599838 2.599838-6.096172 3.854932-9.502857 3.854932z" fill="currentColor" ></path><path d="M309.633494 733.983585c-3.406684 0-6.903018-1.344744-9.502856-3.944582-5.289326-5.289326-5.289326-13.806036 0-19.005713l416.153385-416.153385c5.289326-5.289326 13.806036-5.289326 19.005712 0 5.289326 5.289326 5.289326 13.806036 0 19.005713L319.136351 730.039003c-2.689488 2.599838-6.096172 3.944582-9.502857 3.944582z"  ></path><path d="M257.457435 650.25087L279.959481 750.12051l99.86964 22.591696 0.448248-0.448247-122.461336-122.371687zM655.591252 252.117052l99.869641 22.591696 22.502046 99.869641-0.358598 0.358598-122.461337-122.371687z"  ></path><path d="M1016.69979 476.42032c-3.406684 0-6.903018-1.344744-9.502856-3.944582L557.604253 22.972707c-5.289326-5.289326-5.289326-13.806036 0-19.005713 5.289326-5.289326 13.806036-5.289326 19.005713 0l449.592681 449.592681c5.289326 5.289326 5.289326 13.806036 0 19.005713-2.599838 2.510188-6.096172 3.854932-9.502857 3.854932z" fill="currentColor" ></path><path d="M363.243948 413.39666l75.305653 75.305653c2.689488 2.689488 5.468625 3.765283 8.427061 3.496334 2.958436-0.358598 5.916873-1.972291 8.875309-4.930727l4.930728-4.930727 2.958436 2.958436-36.128784 36.128784-2.958436-2.958437 4.482479-4.482479c3.317035-3.317035 5.020377-6.365121 5.199676-9.144258 0.179299-2.779137-1.075795-5.558274-3.675633-8.158112L370.684863 436.705553c-1.344744-1.344744-2.779137-1.972291-4.482479-1.972291-1.613693 0-3.317035 0.806846-4.930727 2.510188l-8.875309 8.875309-2.958437-2.958436 4.48248-4.482479c3.944582-3.944582 6.54442-7.799514 7.709864-11.654447 1.165445-3.765283 1.075795-7.709865-0.268949-11.654446l1.882642-1.972291zM509.372775 441.63628c-7.261617 7.261617-17.123071 9.592506-29.674013 6.903018-12.550942-2.599838-25.729432-10.93725-39.625118-24.743286-12.909541-12.909541-20.888354-25.639782-24.026089-38.370023-3.137736-12.730241-0.896496-22.860645 6.723719-30.48086 7.261617-7.261617 17.123071-9.502856 29.494714-6.723719 12.371643 2.779137 25.370833 10.93725 38.907921 24.474337 13.537088 13.537088 21.78485 26.625927 24.743286 39.08722 2.868787 12.730241 0.717197 22.591696-6.54442 29.853313z m-82.746569-82.65692c-4.661779 4.661779-4.930727 12.013045-0.986145 22.322748 3.944582 10.220053 11.923395 21.336602 23.75714 33.170347 12.550942 12.550942 23.84679 20.709055 33.887544 24.474337 10.040754 3.765283 17.39202 3.406684 22.053799-1.255094 4.930727-4.930727 5.378975-12.281993 1.255094-22.053798-4.123881-9.771805-12.461293-20.888354-25.012235-33.439296-11.923395-11.923395-22.681346-20.081508-32.453151-24.474338-9.682155-4.482479-17.212721-4.034231-22.502046 1.255094z"  ></path></symbol><symbol id="xianxingbiaozhu" viewBox="0 0 1024 1024"><path d="M80.7 881.6c-8.3 0-15-6.7-15-15V157.4c0-8.3 6.7-15 15-15s15 6.7 15 15v709.2c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M840.3 527H183.7c-8.3 0-15-6.7-15-15s6.7-15 15-15h656.5c8.3 0 15 6.7 15 15s-6.6 15-14.9 15z"  ></path><path d="M198 415.4L137 512l61 96.6h0.6V415.4zM826 415.4l61 96.6-61 96.6h-0.6V415.4z"  ></path><path d="M944.7 881.6c-8.3 0-15-6.7-15-15V157.4c0-8.3 6.7-15 15-15s15 6.7 15 15v709.2c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M468.2 312.1v118.8c0 4.2 1.3 7.3 3.9 9.4 2.6 2.1 6.2 3.1 10.9 3.1h7.8v4.7h-57v-4.7h7c5.2 0 9-1 11.3-3.1 2.3-2.1 3.5-5.2 3.5-9.4v-94.5c0-2.1-0.7-3.8-2-5.1-1.3-1.3-3.3-2-5.9-2h-14.1v-4.7h7c6.2 0 11.3-1 15.2-3.1 3.9-2.1 6.9-5.2 9-9.4h3.4zM561.2 449.6c-11.5 0-21.1-6-28.9-18-7.8-12-11.7-28.9-11.7-50.8 0-20.3 3.8-36.7 11.3-49.2 7.5-12.5 17.3-18.8 29.3-18.8 11.5 0 21 6 28.5 18s11.3 28.6 11.3 50-3.8 38.2-11.3 50.4c-7.5 12.2-17 18.4-28.5 18.4z m0-130.5c-7.3 0-13.4 5.6-18.4 16.8-5 11.2-7.4 26.2-7.4 44.9 0 19.8 2.5 35.2 7.4 46.1 4.9 10.9 11.1 16.4 18.4 16.4 7.8 0 13.9-5.5 18.4-16.4 4.4-10.9 6.6-26.3 6.6-46.1 0-18.8-2.1-33.7-6.2-44.9-4.2-11.2-10.5-16.8-18.8-16.8z"  ></path></symbol><symbol id="zhijingbiaozhu" viewBox="0 0 1024 1024"><path d="M512 960c-60.5 0-119.1-11.8-174.4-35.2-53.3-22.6-101.3-54.9-142.4-96s-73.4-89-96-142.4C75.8 631.1 64 572.5 64 512s11.8-119.1 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89-73.4 142.4-96C392.9 75.8 451.5 64 512 64s119.1 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96s73.4 89 96 142.4C948.2 392.9 960 451.5 960 512s-11.8 119.1-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4s-89 73.4-142.4 96C631.1 948.2 572.5 960 512 960z m0-866C281.5 94 94 281.5 94 512s187.5 418 418 418 418-187.5 418-418S742.5 94 512 94z" fill="currentColor" ></path><path d="M703.7 718.7c-3.8 0-7.7-1.5-10.6-4.4L309.7 330.9c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l383.4 383.4c5.9 5.9 5.9 15.4 0 21.2-2.9 2.9-6.7 4.4-10.6 4.4z"  ></path><path d="M630.6 759.5l128.9-128.9v128.9zM264.5 393.4l128.9-128.9H264.5z"  ></path></symbol><symbol id="jiaodubiaozhu" viewBox="0 0 1024 1024"><path d="M783 680.6l-30-0.3v-4c0-111.3-43.3-216.1-121.8-294.9l21.3-21.2c40.9 41.1 73.1 88.9 95.5 142.2 23.2 55.1 35 113.6 35 173.9v4.3z"  ></path><path d="M677.6 659.9l181.5 16.6-99 82.4zM591.6 448.6l118.2-138.7-128.5 10.3z"  ></path><path d="M945 895.5H79c-8.3 0-15-6.7-15-15s6.7-15 15-15h866c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M81.5 704.2c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2L683.2 66.2c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L92.1 699.8c-3 2.9-6.8 4.4-10.6 4.4z" fill="currentColor" ></path></symbol><symbol id="jiesuo1" viewBox="0 0 1055 1024"><path d="M374.55451349 243.47623678C300.33283245 243.47623678 239.95572897 303.85334027 239.95572897 378.0750213l0 94.63149207 54.73330668 0 0-94.63149207c0-44.03312982 35.83234801-79.86547784 79.86547784-79.86547782s79.86547784 35.82082981 79.86547784 79.86547782l0 94.63149207 54.74482491 0 0-94.63149207C509.16481623 303.85334027 448.77619507 243.47623678 374.55451349 243.47623678z" fill="currentColor" ></path><path d="M749.52143422 488.65887659L435.91064257 488.65887659c-23.83064222 0-43.15776545 19.31560501-43.15776544 43.14624723l0 205.56088552c0 23.84216044 19.31560501 43.15776545 43.15776544 43.15776543l313.61079111 0c23.81912455 0 43.13472954-19.31560501 43.13472958-43.15776543L792.65616325 531.79360615C792.65616325 507.9744816 773.35207644 488.65887659 749.52143422 488.65887659zM679.67657409 653.51532049l-42.7546368 1e-8c-7.3484533 17.15023043-24.36046793 29.16345389-44.20589917 29.16345389s-36.85744586-12.01322345-44.21741683-29.16345389l-42.7546368 0 0-37.85950733 42.7546368 0c7.35997098-17.13871223 24.37198613-29.15193622 44.21741683-29.15193621s36.85744586 12.01322345 44.20589917 29.15193621l42.7546368 0L679.67657409 653.51532049z" fill="currentColor" ></path></symbol><symbol id="yanjing1" viewBox="0 0 1764 1024"><path d="M810.3174103 734.08587615C804.96157574 734.08587615 799.48214404 733.05590804 794.20870709 730.78997779 709.71011026 694.90588371 655.03939531 612.17883284 655.03939531 520.09967073 655.03939531 393.94915788 757.33584297 291.32312044 883.07436847 291.32312044 1008.77169513 291.32312044 1111.02694399 393.94915788 1111.02694399 520.09967073 1111.02694399 610.77807617 1058.99294715 693.29913298 978.40823086 730.2955935 957.6852695 739.8125 933.21322359 730.74877897 923.73751519 710.06701644 914.2618075 689.42645271 923.32552779 664.95440682 944.00729108 655.43750032 995.42330646 631.83062727 1028.62948288 578.72546354 1028.62948288 520.09967073 1028.62948288 439.39135726 963.32949502 373.72058082 883.07436847 373.72058082 802.77804237 373.72058082 737.43685641 439.39135726 737.43685641 520.09967073 737.43685641 579.05505403 772.37337927 631.99542253 826.46731304 654.98431412 847.39626772 663.88323991 857.16036708 688.06689486 848.26144131 708.99584953 841.58724696 724.65136726 826.34371661 734.08587615 810.3174103 734.08587615" fill="currentColor" ></path><path d="M883.70058908 874.66006454C623.77779855 874.66006454 404.47695595 695.93997177 296.86587253 589.40005526 274.70095497 567.44113175 262.46493203 538.51962295 262.46493203 507.95016463 262.46493203 477.33950822 274.70095497 448.41799946 296.86587253 426.45907593 404.47695595 319.91915869 623.77779855 141.19906592 883.70058908 141.19906592 1143.62337962 141.19906592 1362.92422222 319.91915869 1470.49410682 426.45907593 1492.65902439 448.41799946 1504.89504732 477.33950822 1504.89504732 507.95016463 1504.89504732 538.51962295 1492.65902439 567.44113175 1470.49410682 589.40005526 1450.47152382 609.25784302 1432.75606987 626.43771386 1402.68099654 651.73373381 1385.25393357 666.35928345 1359.25753455 664.134552 1344.63198566 646.70748901 1330.00643602 629.28042602 1332.23116747 603.28402702 1349.65823046 588.65847811 1377.42617471 565.29879793 1393.20528888 549.97286996 1412.52749353 530.85665861 1418.95449502 524.47085595 1422.49758625 516.35470614 1422.49758625 507.95016463 1422.49758625 499.54562386 1418.95449502 491.38827522 1412.52749353 485.04367065 1333.13753985 406.43649292 1122.73562304 223.59652701 883.70058908 223.59652701 644.66555513 223.59652701 434.2224395 406.43649292 354.87368463 485.04367065 348.44668316 491.38827522 344.86239311 499.54562386 344.86239311 507.95016463 344.86239311 516.35470614 348.44668316 524.47085595 354.87368463 530.81546053 434.2224395 609.46383634 644.66555513 792.26260345 883.70058908 792.26260345 1006.67879929 792.26260345 1114.24868462 756.46090698 1232.44784217 676.2057797 1251.31686139 663.35177605 1276.94247109 668.29562393 1289.67287903 687.12344361 1302.48568463 705.95126327 1297.58303555 731.53567489 1278.75521588 744.34848046 1147.86684918 833.25534066 1022.29311822 874.66006454 883.70058908 874.66006454" fill="currentColor" ></path></symbol><symbol id="gou" viewBox="0 0 1397 1024"><path d="M1396.363636 121.018182c0 0-223.418182 74.472727-484.072727 372.363636-242.036364 269.963636-297.890909 381.672727-390.981818 530.618182C512 1014.690909 372.363636 744.727273 0 549.236364l195.490909-186.181818c0 0 176.872727 121.018182 297.890909 344.436364 0 0 307.2-474.763636 902.981818-707.490909L1396.363636 121.018182 1396.363636 121.018182zM1396.363636 121.018182" fill="currentColor" ></path></symbol><symbol id="jia" viewBox="0 0 1024 1024"><path d="M952.32 248.35584C952.32 150.77888 873.216 71.68 775.63904 71.68H248.36096C150.784 71.68 71.68 150.77888 71.68 248.35584v527.2832C71.68 873.22112 150.784 952.32 248.36096 952.32h527.27808C873.216 952.32 952.32 873.22112 952.32 775.64416V248.35584z m-46.08 527.2832C906.24 847.7696 847.7696 906.24 775.63904 906.24H248.36096C176.2304 906.24 117.76 847.7696 117.76 775.63904V248.36096C117.76 176.2304 176.2304 117.76 248.36096 117.76h527.27808C847.7696 117.76 906.24 176.2304 906.24 248.36096v527.27808z" fill="currentColor" ></path><path d="M766.49472 476.16H547.84V257.1264c0-21.20704-17.18784-38.4-38.4-38.4s-38.4 17.19296-38.4 38.4V476.16H254.49984c-21.20704 0-38.4 17.18784-38.4 38.4s17.19296 38.4 38.4 38.4H471.04v216.1664c0 21.21216 17.18784 38.4 38.4 38.4s38.4-17.18784 38.4-38.4V552.96h218.65472c21.21216 0 38.4-17.18784 38.4-38.4s-17.18784-38.4-38.4-38.4z" fill="currentColor" ></path></symbol></svg>',function(e){var r=(r=document.getElementsByTagName("script"))[r.length-1],t=r.getAttribute("data-injectcss"),r=r.getAttribute("data-disable-injectsvg");if(!r){var i,l,a,c,d,D=function(f,w){w.parentNode.insertBefore(f,w)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(f){console&&console.log(f)}}i=function(){var f,w=document.createElement("div");w.innerHTML=e._iconfont_svg_string_3973422,(w=w.getElementsByTagName("svg")[0])&&(w.setAttribute("aria-hidden","true"),w.style.position="absolute",w.style.width=0,w.style.height=0,w.style.overflow="hidden",w=w,(f=document.body).firstChild?D(w,f.firstChild):f.appendChild(w))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(l=function(){document.removeEventListener("DOMContentLoaded",l,!1),i()},document.addEventListener("DOMContentLoaded",l,!1)):document.attachEvent&&(a=i,c=e.document,d=!1,C(),c.onreadystatechange=function(){c.readyState=="complete"&&(c.onreadystatechange=null,v())})}function v(){d||(d=!0,a())}function C(){try{c.documentElement.doScroll("left")}catch{return void setTimeout(C,50)}v()}}(window);const iconfont="",ScrollBottom={updated(e,t){(typeof t.value>"u"?!0:unref(t.value))&&e.scrollTo(e.scrollWidth,e.scrollHeight)}},CURSORTYPE={top:"n-resize",bottom:"s-resize",left:"w-resize",right:"e-resize",right_top:"ne-resize",left_top:"nw-resize",left_bottom:"sw-resize",right_bottom:"se-resize",default:"default"},mounted=(e,t)=>{const r=t.modifiers,{onmouseup:i,onmousemove:l}=t.value,a=e,c=a.currentStyle||window.getComputedStyle(a,null),d=v=>{const{x:C,y:f,left:w,top:F,width:T,height:R}=v;let ee="default";return C>w+T-5&&e.scrollTop+f<=F+R-5&&F+5<=f?ee="right":w+5>C&&e.scrollTop+f<=F+R-5&&F+5<=f?ee="left":e.scrollTop+f>F+R-5&&C<=w+T-5&&w+5<=C?ee="bottom":F+5>f&&C<=w+T-5&&w+5<=C?ee="top":C>w+T-5&&e.scrollTop+f>F+R-5?ee="right_bottom":w+5>C&&e.scrollTop+f>F+R-5?ee="left_bottom":F+5>f&&C>w+T-5?ee="right_top":F+5>f&&w+5>C&&(ee="left_top"),r?r[ee]?ee:"default":ee},D=v=>{const{left:C,top:f,width:w,height:F,diffX:T,diffY:R,screenHeight:ee,screenWidth:re,arr:ae}=v,ce=()=>{w+T>re-C?a.style.width=re-C+"px":a.style.width=w+T+"px"},ue=()=>{w-T>w+C?(a.style.width=w+C+"px",a.style.left=-parseInt(c.marginLeft)+"px"):(a.style.width=w-T+"px",a.style.left=C+T-parseInt(c.marginLeft)+"px")},de=()=>{F-R>F+f?(a.style.height=F+f+"px",a.style.top=-parseInt(c.marginTop)+"px"):(a.style.height=F-R+"px",a.style.top=f+R-parseInt(c.marginTop)+"px")},A=()=>{F+R>ee-f?a.style.height=ee-f+"px":a.style.height=F-R+"px"};(ae[0]=="right"||ae[1]=="right")&&ce(),(ae[0]=="left"||ae[1]=="left")&&ue(),(ae[0]=="top"||ae[1]=="top")&&de(),(ae[0]=="bottom"||ae[1]=="bottom")&&A()};a.onmousemove=function(v){const C=v.clientX,f=v.clientY,w=a.offsetLeft,F=a.offsetTop,T=a.clientWidth,R=a.clientHeight;let ee=d({x:C,y:f,left:w,top:F,width:T,height:R});a.style.cursor=CURSORTYPE[ee]||"default"},a.onmousedown=v=>{const C=v.clientX,f=v.clientY,w=a.clientWidth,F=a.clientHeight,T=a.offsetLeft,R=a.offsetTop,ee=document.documentElement.clientWidth||document.body.clientWidth,re=document.documentElement.clientHeight||document.body.clientHeight;let ae=d({x:C,y:f,left:T,top:R,width:w,height:F});document.onmousemove=function(ce){ce.preventDefault();let ue=ce.clientX,de=ce.clientY,A=ue-C,oe=de-f,le;ae.indexOf("_")==-1?le=[ae,""]:le=ae.split("_"),D({left:T,top:R,width:w,height:F,diffX:A,diffY:oe,screenHeight:re,screenWidth:ee,arr:le}),l&&l()},document.onmouseup=function(){i&&i(),document.onmousemove=null,document.onmouseup=null}}},Draw={mounted},FocusSelect={mounted(e,t){const r=typeof t.value>"u"?!0:unref(t.value),i=(l,a=!0)=>{const c=l.parentNode;!c||(a?(c.style.background="#fff",c.style.color="#000"):(c.style.background="",c.style.color=""))};e.onfocus=()=>{!r||(i(e,!0),selectText(e))},e.onblur=()=>{i(e,!1)}},unmounted(e){e.onfocus=null,e.onblur=null}},Draggable={mounted:function(e,t){const r=e;let i=null;const l=r.parentNode;l.style.width="100%",l.style.height="100%",l.style.display="flex",l.style.justifyContent="center",l.style.alignItems="center";const{downEl:a}=t.value||{};typeof a=="string"&&(i=e.querySelector(t.value.downEl)),isRef(a)&&(i=unref(a)),i||(i=e);function c(d){function D(re,ae){return typeof window.getComputedStyle<"u"?window.getComputedStyle(re,null)[ae]:typeof re.currentStyle<"u"?re.currentStyle[ae]:""}const v=/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/,C=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/;r.className.indexOf("drag_box_translate3d")<0&&(r.className+=" drag_box_translate3d");const f={},w=D(r,"transform"),F=w.match(v)||w.match(C);f.clientX=d.clientX,f.clientY=d.clientY,f.targetX=F[1],f.targetY=F[2],f.distX=f.clientX-f.targetX,f.distY=f.clientY-f.targetY,r.style.position="absolute";const T=d.pageX-r.offsetLeft,R=d.pageY-r.offsetTop,ee=function(re){re.stopPropagation(),re.preventDefault();let ae=re.clientX-f.distX,ce=re.clientY-f.distY;Math.abs(ce)>=Math.abs(f.clientY-R)&&(ce>0?ce=f.clientY-R:ce=-(f.clientY-R)),Math.abs(ae)>=Math.abs(f.clientX-T)&&(ae>0?ae=f.clientX-T:ae=-(f.clientX-T));const ue=r.style;ue.transform=ue.mozTransform=ue.webkitTransform=`translate3d(${ae}px, ${ce}px, 1px)`};document.onmousemove=ee,document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}i.onmousedown=c}},BoxSelection={mounted(e,t){const r=t.value,i=document.createElement("div");e.style.position="relative";let l=0,a=0;e.onmousedown=c=>{e.onselectstart=()=>!1,i.style.cssText="width: 0; height: 0; border:2px solid#0696D7; opacity: 0.4; position: absolute; display: none;",e.appendChild(i);const d=e.getBoundingClientRect();l=c.clientX-d.left+e.scrollLeft,a=c.clientY-d.top+e.scrollTop,i.style.left=l+"px",i.style.top=a+"px",e.onmousemove=function(v){if(v.buttons==1||v.which==1){i.style.display="block";const C=v.clientX-d.left+e.scrollLeft,f=v.clientY-d.top+e.scrollTop,w=Math.abs(C-l),F=Math.abs(f-a);i.style.width=w+"px",i.style.height=F+"px",C<l&&(i.style.left=l-w+"px"),f<a&&(i.style.top=a-F+"px")}};let D=[];document.onmouseup=function(v){r&&r((C,f=()=>{})=>{let w=[];const F=i.offsetLeft,T=i.offsetWidth,R=i.offsetTop,ee=i.offsetHeight;for(var re=0;re<C.length;re++){var ae=C[re].offsetWidth+C[re].offsetLeft,ce=C[re].offsetHeight+C[re].offsetTop;ae>F&&ce>R&&C[re].offsetLeft<F+T&&C[re].offsetTop<R+ee&&(D.push(C[re]),f&&w.push(f(C[re],re)))}return{nodes:D,map:w}}),i.style.display="none",e.onselectstart=null},e.ondragstart=()=>!1}},unmounted(e){e.onmousedown=null,e.onmousemove=null,e.ondragstart=null,document.onmouseup=null}},Directives={install(e){e.directive("scroll-bottom",ScrollBottom),e.directive("draw",Draw),e.directive("focus-select",FocusSelect),e.directive("draggable",Draggable),e.directive("box-selection",BoxSelection)}},initConfig=async()=>{await fetchUiConfig(),await fetchServerConfig()},propertyDbKeys=["points","closed","tension","curveType"];class MxDbSplineCurve extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.closed=!1,this.tension=.5,this.curveType="centripetal"}worldDraw(t){const r=new THREE.CatmullRomCurve3(this.points,this.closed,"catmullrom",this.tension).getPoints(15*this.points.length),i=new THREE.Geometry().setFromPoints(r),l=new THREE.LineBasicMaterial({color:this.color}),a=new THREE.Line(i,l);t.drawEntity(a)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return this.points[t].add(r),!0}create(){return new MxDbSplineCurve}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys),t}getTypeName(){return"MxDbSplineCurve"}}MxDbSplineCurve.draw=drawMxDbSplineCurve,addRegisterMxDbEntity(MxDbSplineCurve);const MxDbSplineCurve$1=MxDbSplineCurve;var __awaiter=globalThis&&globalThis.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(l,a){function c(v){try{D(i.next(v))}catch(C){a(C)}}function d(v){try{D(i.throw(v))}catch(C){a(C)}}function D(v){var C;v.done?l(v.value):(C=v.value,C instanceof r?C:new r(function(f){f(C)})).then(c,d)}D((i=i.apply(e,t||[])).next())})};function drawMxDbSplineCurve(){return __awaiter(this,void 0,void 0,function*(){const e=new MrxDbgUiPrPoint,t=new MxDbSplineCurve$1;e.goWhile(r=>__awaiter(this,void 0,void 0,function*(){if(r===MrxDbgUiPrBaseReturn$1.kOk)t.points.push(e.value()),e.setUserDraw((i,l)=>{const a=t.clone();a.points.push(i),l.drawCustomEntity(a),t.points.length===0?e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u4E2A\u70B9:`):(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),e.setKeyWords("[\u95ED\u5408(C)/ \u653E\u5F03(U)]"))});else if(r===MrxDbgUiPrBaseReturn$1.kKeyWord){if(e.isKeyWordPicked("C"))return t.closed=!0,{exit:!0};e.isKeyWordPicked("U")&&t.points.pop()}}),()=>{MxFun$1.getCurrentDraw().addMxEntity(t)})})}const registcommad=()=>{addCommand("Mx_Rectang",()=>{drawMxDbRect()}),addCommand("Mx_Spline",()=>{drawMxDbSplineCurve()}),addCommand("_InsertImage",()=>{drawMxDbImage()}),addCommand("_DrawText",()=>{drawMxDbText()}),addCommand("Mx_Hatch",()=>{drawMxDbArea()})};registcommad();addCommand("OpenDwg",()=>{MxElectronAPI?.openFile()});addCommand("OpenDwgImp",e=>{const{baseUrl:t="",mxfilepath:r=""}=getUploadFileConfig()||{};let i=t+r+e+".dwg.mxweb";s.App.GetCurrentMxCAD().openWebFile(i)});addCommand("Mx_SaveAs",()=>{s.App.GetCurrentMxCAD().saveFile(void 0,void 0,!0)});addCommand("Mx_debug_tools",()=>{MxElectronAPI.debugTools()});const app=createApp(App);registerPlugins(app);initConfig().then(()=>{app.use(Directives).mount("#app")});export{capitalize as $,createElementBlock as A,genericComponent as B,makeVOverlayProps as C,VDialogTransition as D,useProxiedModel as E,Fragment as F,useScopeId as G,computed as H,IN_BROWSER as I,useRender as J,forwardRefs as K,nextTick as L,MxElectronAPI as M,mergeProps as N,VOverlay as O,VDefaultsProvider as P,getLogoImgSrc as Q,VCardTitle as R,withModifiers as S,VIcon as T,VCardText as U,VDivider as V,VCardActions as W,renderList as X,VCard as Y,breakpoints as Z,_export_sfc as _,createBaseVNode as a,makeRoundedProps as a$,makeTagProps as a0,h as a1,withDirectives as a2,vShow as a3,VImg as a4,VSelect as a5,makeSelectionControlProps as a6,VSelectionControl as a7,makeVInputProps as a8,omit as a9,storeToRefs as aA,onMounted as aB,Color$1 as aC,indexOfMxColor as aD,ColorNameType as aE,ColorMethod as aF,normalizeStyle as aG,defineComponent as aH,convertToUnit as aI,useResizeObserver as aJ,clamp as aK,getEventCoordinates as aL,parseHex as aM,HexToHSV as aN,RGBtoHSV as aO,HSLtoHSV as aP,HSVtoHex as aQ,HSVtoRGB as aR,HSVtoHSL as aS,HSVtoCSS as aT,deepEqual as aU,getContrast as aV,makeBorderProps as aW,makeDimensionProps as aX,makeElevationProps as aY,makeLocationProps as aZ,makePositionProps as a_,makeSelectionControlGroupProps as aa,IconValue$1 as ab,getUid as ac,filterInputAttrs as ad,filterInputProps as ae,VLabel as af,VSelectionControlGroup as ag,VInput as ah,makeVCheckboxBtnProps as ai,useFocus as aj,VCheckboxBtn as ak,propsFactory$1 as al,watchEffect as am,wrapInArray as an,getPropertyFromItem as ao,makeSelectProps as ap,makeVTextFieldProps as aq,makeTransitionProps as ar,useLocale as as,useItems as at,useForm as au,VMenu as av,VList as aw,VListItem as ax,VChip as ay,useColor$1 as az,createVNode as b,pointDotModeValues as b$,makeThemeProps as b0,provideTheme as b1,useBackgroundColor as b2,toRef as b3,useBorder as b4,useDimension as b5,useElevation as b6,useLocation as b7,usePosition as b8,useRounded as b9,VScaleTransition as bA,keyValues as bB,makeFocusProps as bC,VProgressLinear as bD,VListItemTitle as bE,reactive as bF,osModeRef as bG,SysVarLongSketchSettingsOsMode as bH,countSysVarLongSketchSettingsOsMode as bI,setSysVarLongSketchSettingsOsMode as bJ,useLayer as bK,useKeyModifier as bL,useRightClickMenuOptions as bM,useLineType as bN,getMxAliSymbolIconHTML as bO,callCommand as bP,countColorInfo as bQ,vModelText as bR,onBeforeUnmount as bS,Teleport as bT,shallowRef as bU,markRaw as bV,customRef as bW,getCurrentInstance$1 as bX,preservePointDotStyleStatus as bY,initPointDotStyleStatus as bZ,pointDotStyleStatus as b_,provideDefaults as ba,makeGroupProps as bb,useRtl as bc,useDisplay as bd,useGroup as be,VFadeTransition as bf,makeVBtnProps as bg,useTextColor as bh,animate as bi,standardEasing as bj,makeDensityProps as bk,useDensity as bl,keys as bm,provide as bn,resolveDirective as bo,makeGroupItemProps as bp,makeLazyProps as bq,inject$1 as br,useGroupItem as bs,useSsrBoot as bt,useLazy as bu,MaybeTransition as bv,resolveDynamicComponent as bw,getDecimals as bx,createRange as by,Ripple as bz,createBlock as c,defineStore as c0,onOpenFileComplete as c1,getDatabase as c2,getDefaultExportFromCjs as c3,commonjsGlobal as c4,defineComponent$1 as d,isElectron as e,VTextField as f,getVersion as g,createCommentVNode as h,isRef as i,popScopeId as j,createTextVNode as k,useFocus$1 as l,watch as m,addCommand as n,openBlock as o,pushScopeId as p,onUpdated as q,ref as r,onUnmounted as s,toDisplayString as t,unref as u,isBoolean$1 as v,withCtx as w,renderSlot as x,normalizeClass as y,VBtn as z};
