(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function makeMap(e,t){const r=Object.create(null),i=e.split(",");for(let a=0;a<i.length;a++)r[i[a]]=!0;return t?a=>!!r[a.toLowerCase()]:a=>!!r[a]}function normalizeStyle(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],a=isString$2(i)?parseStringStyle(i):normalizeStyle(i);if(a)for(const l in a)t[l]=a[l]}return t}else{if(isString$2(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const i=r.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$1(e))for(let r=0;r<e.length;r++){const i=normalizeClass(e[r]);i&&(t+=i+" ")}else if(isObject$2(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$2(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}const HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=looseEqual(e[i],t[i]);return r}function looseEqual(e,t){if(e===t)return!0;let r=isDate$1(e),i=isDate$1(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=isSymbol(e),i=isSymbol(t),r||i)return e===t;if(r=isArray$1(e),i=isArray$1(t),r||i)return r&&i?looseCompareArrays(e,t):!1;if(r=isObject$2(e),i=isObject$2(t),r||i){if(!r||!i)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const c in e){const d=e.hasOwnProperty(c),E=t.hasOwnProperty(c);if(d&&!E||!d&&E||!looseEqual(e[c],t[c]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(r=>looseEqual(r,t))}const toDisplayString=e=>isString$2(e)?e:e==null?"":isArray$1(e)||isObject$2(e)&&(e.toString===objectToString||!isFunction$2(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,a])=>(r[`${i} =>`]=a,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$2(t)&&!isArray$1(t)&&!isPlainObject$2(t)?String(t):t,EMPTY_OBJ=Object.freeze({}),EMPTY_ARR=Object.freeze([]),NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=e=>onRE$1.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$3.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$2(e)&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function warn$1(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}else warn$1("cannot run an inactive effect scope.")}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope?activeEffectScope.cleanups.push(e):warn$1("onScopeDispose() is called when there is no active effect scope to be associated with.")}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const a=t[i];wasTracked(a)&&!newTracked(a)?a.delete(e):t[r++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");class ReactiveEffect{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,i)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let i=targetMap.get(e);i||targetMap.set(e,i=new Map);let a=i.get(r);a||i.set(r,a=createDep()),trackEffects(a,{effect:activeEffect,target:e,type:t,key:r})}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e),activeEffect.onTrack&&activeEffect.onTrack(Object.assign({effect:activeEffect},t)))}function trigger(e,t,r,i,a,l){const c=targetMap.get(e);if(!c)return;let d=[];if(t==="clear")d=[...c.values()];else if(r==="length"&&isArray$1(e)){const C=Number(i);c.forEach((D,f)=>{(f==="length"||f>=C)&&d.push(D)})}else switch(r!==void 0&&d.push(c.get(r)),t){case"add":isArray$1(e)?isIntegerKey(r)&&d.push(c.get("length")):(d.push(c.get(ITERATE_KEY)),isMap(e)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(d.push(c.get(ITERATE_KEY)),isMap(e)&&d.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&d.push(c.get(ITERATE_KEY));break}const E={target:e,type:t,key:r,newValue:i,oldValue:a,oldTarget:l};if(d.length===1)d[0]&&triggerEffects(d[0],E);else{const C=[];for(const D of d)D&&C.push(...D);triggerEffects(createDep(C),E)}}function triggerEffects(e,t){const r=isArray$1(e)?e:[...e];for(const i of r)i.computed&&triggerEffect(i,t);for(const i of r)i.computed||triggerEffect(i,t)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(extend$1({effect:e},t)),e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,t){var r;return(r=targetMap.get(e))===null||r===void 0?void 0:r.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=toRaw(this);for(let l=0,c=this.length;l<c;l++)track(i,"get",l+"");const a=i[t](...r);return a===-1||a===!1?i[t](...r.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const i=toRaw(this)[t].apply(this,r);return resetTracking(),i}}),e}function hasOwnProperty$2(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(i,a,l){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&l===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(i))return i;const c=isArray$1(i);if(!e){if(c&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,l);if(a==="hasOwnProperty")return hasOwnProperty$2}const d=Reflect.get(i,a,l);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(e||track(i,"get",a),t)?d:isRef(d)?c&&isIntegerKey(a)?d:d.value:isObject$2(d)?e?readonly(d):reactive(d):d}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,i,a,l){let c=r[i];if(isReadonly(c)&&isRef(c)&&!isRef(a))return!1;if(!e&&(!isShallow$1(a)&&!isReadonly(a)&&(c=toRaw(c),a=toRaw(a)),!isArray$1(r)&&isRef(c)&&!isRef(a)))return c.value=a,!0;const d=isArray$1(r)&&isIntegerKey(i)?Number(i)<r.length:hasOwn(r,i),E=Reflect.set(r,i,a,l);return r===toRaw(l)&&(d?hasChanged(a,c)&&trigger(r,"set",i,a,c):trigger(r,"add",i,a)),E}}function deleteProperty(e,t){const r=hasOwn(e,t),i=e[t],a=Reflect.deleteProperty(e,t);return a&&r&&trigger(e,"delete",t,void 0,i),a}function has$1(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return warn$1(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return warn$1(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$1({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,r=!1,i=!1){e=e.__v_raw;const a=toRaw(e),l=toRaw(t);r||(t!==l&&track(a,"get",t),track(a,"get",l));const{has:c}=getProto(a),d=i?toShallow:r?toReadonly:toReactive;if(c.call(a,t))return d(e.get(t));if(c.call(a,l))return d(e.get(l));e!==a&&e.get(t)}function has(e,t=!1){const r=this.__v_raw,i=toRaw(r),a=toRaw(e);return t||(e!==a&&track(i,"has",e),track(i,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$2(e,t){t=toRaw(t);const r=toRaw(this),{has:i,get:a}=getProto(r);let l=i.call(r,e);l?checkIdentityKeys(r,i,e):(e=toRaw(e),l=i.call(r,e));const c=a.call(r,e);return r.set(e,t),l?hasChanged(t,c)&&trigger(r,"set",e,t,c):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:i}=getProto(t);let a=r.call(t,e);a?checkIdentityKeys(t,r,e):(e=toRaw(e),a=r.call(t,e));const l=i?i.call(t,e):void 0,c=t.delete(e);return a&&trigger(t,"delete",e,void 0,l),c}function clear(){const e=toRaw(this),t=e.size!==0,r=isMap(e)?new Map(e):new Set(e),i=e.clear();return t&&trigger(e,"clear",void 0,void 0,r),i}function createForEach(e,t){return function(i,a){const l=this,c=l.__v_raw,d=toRaw(c),E=t?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",ITERATE_KEY),c.forEach((C,D)=>i.call(a,E(C),E(D),l))}}function createIterableMethod(e,t,r){return function(...i){const a=this.__v_raw,l=toRaw(a),c=isMap(l),d=e==="entries"||e===Symbol.iterator&&c,E=e==="keys"&&c,C=a[e](...i),D=r?toShallow:t?toReadonly:toReactive;return!t&&track(l,"iterate",E?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:f,done:A}=C.next();return A?{value:f,done:A}:{value:d?[D(f[0]),D(f[1])]:D(f),done:A}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${capitalize(e)} operation ${r}failed: target is readonly.`,toRaw(this))}return e==="delete"?!1:this}}function createInstrumentations(){const e={get(l){return get(this,l)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(l){return get(this,l,!1,!0)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(l){return get(this,l,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(l){return get(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=createIterableMethod(l,!1,!1),r[l]=createIterableMethod(l,!0,!1),t[l]=createIterableMethod(l,!1,!0),i[l]=createIterableMethod(l,!0,!0)}),[e,r,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(i,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?i:Reflect.get(hasOwn(r,a)&&a in i?r:i,a,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)};function checkIdentityKeys(e,t,r){const i=toRaw(r);if(i!==r&&t.call(e,i)){const a=toRawType(e);console.warn(`Reactive ${a} contains both the raw and reactive versions of the same object${a==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,r,i,a){if(!isObject$2(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const c=getTargetType(e);if(c===0)return e;const d=new Proxy(e,c===2?i:r);return a.set(e,d),d}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow$1(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep()),{target:e,type:"get",key:"value"}))}function triggerRefValue(e,t){e=toRaw(e);const r=e.dep;r&&triggerEffects(r,{target:e,type:"set",key:"value",newValue:t})}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow$1(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this,t))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const a=e[t];return isRef(a)&&!isRef(r)?(a.value=r,!0):Reflect.set(e,t,r,i)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=t(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){isProxy(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=isArray$1(e)?new Array(e.length):{};for(const r in e)t[r]=toRef(e,r);return t}class ObjectRefImpl{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(e,t,r){const i=e[t];return isRef(i)?i:new ObjectRefImpl(e,t,r)}var _a$1;class ComputedRefImpl{constructor(t,r,i,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,r=!1){let i,a;const l=isFunction$2(e);l?(i=e,a=()=>{console.warn("Write operation failed: computed value is readonly")}):(i=e.get,a=e.set);const c=new ComputedRefImpl(i,a,l||!a,r);return t&&!r&&(c.effect.onTrack=t.onTrack,c.effect.onTrigger=t.onTrigger),c}const stack=[];function pushWarningContext(e){stack.push(e)}function popWarningContext(){stack.pop()}function warn(e,...t){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,i=r&&r.appContext.config.warnHandler,a=getComponentTrace();if(i)callWithErrorHandling(i,r,11,[e+t.join(""),r&&r.proxy,a.map(({vnode:l})=>`at <${formatComponentName$1(r,l.type)}>`).join(`
`),a]);else{const l=[`[Vue warn]: ${e}`,...t];a.length&&l.push(`
`,...formatTrace(a)),console.warn(...l)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,i)=>{t.push(...i===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,a=` at <${formatComponentName$1(e.component,e.type,i)}`,l=">"+r;return e.props?[a,...formatProps(e.props),l]:[a+l]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(i=>{t.push(...formatProp(i,e[i]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString$2(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function assertNumber(e,t){e!==void 0&&(typeof e!="number"?warn(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&warn(`${t} is NaN - the duration expression might be incorrect.`))}const ErrorTypeStrings={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function callWithErrorHandling(e,t,r,i){let a;try{a=i?e(...i):e()}catch(l){handleError(l,t,r)}return a}function callWithAsyncErrorHandling(e,t,r,i){if(isFunction$2(e)){const l=callWithErrorHandling(e,t,r,i);return l&&isPromise$1(l)&&l.catch(c=>{handleError(c,t,r)}),l}const a=[];for(let l=0;l<e.length;l++)a.push(callWithAsyncErrorHandling(e[l],t,r,i));return a}function handleError(e,t,r,i=!0){const a=t?t.vnode:null;if(t){let l=t.parent;const c=t.proxy,d=ErrorTypeStrings[r];for(;l;){const C=l.ec;if(C){for(let D=0;D<C.length;D++)if(C[D](e,c,d)===!1)return}l=l.parent}const E=t.appContext.config.errorHandler;if(E){callWithErrorHandling(E,null,10,[e,c,d]);return}}logError(e,r,a,i)}function logError(e,t,r,i=!0){{const a=ErrorTypeStrings[t];if(r&&pushWarningContext(r),warn(`Unhandled error${a?` during execution of ${a}`:""}`),r&&popWarningContext(),i)throw e;console.error(e)}}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;const RECURSION_LIMIT=100;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const i=t+r>>>1;getId(queue[i])<e?t=i+1:r=i}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(e=e||new Map;t<queue.length;t++){const r=queue[t];if(r&&r.pre){if(checkRecursiveUpdates(e,r))continue;queue.splice(t,1),t--,r()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,e=e||new Map,activePostFlushCbs.sort((r,i)=>getId(r)-getId(i)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)checkRecursiveUpdates(e,activePostFlushCbs[postFlushIndex])||activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,e=e||new Map,queue.sort(comparator);const t=r=>checkRecursiveUpdates(e,r);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];if(r&&r.active!==!1){if(t(r))continue;callWithErrorHandling(r,null,14)}}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(e),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function checkRecursiveUpdates(e,t){if(!e.has(t))e.set(t,1);else{const r=e.get(t);if(r>RECURSION_LIMIT){const i=t.ownerInstance,a=i&&getComponentName(i.type);return warn(`Maximum recursive updates exceeded${a?` in component <${a}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,r+1)}}let isHmrUpdating=!1;const hmrDirtyComponents=new Set;getGlobalThis().__VUE_HMR_RUNTIME__={createRecord:tryWrap(createRecord),rerender:tryWrap(rerender),reload:tryWrap(reload)};const map=new Map;function registerHMR(e){const t=e.type.__hmrId;let r=map.get(t);r||(createRecord(t,e.type),r=map.get(t)),r.instances.add(e)}function unregisterHMR(e){map.get(e.type.__hmrId).instances.delete(e)}function createRecord(e,t){return map.has(e)?!1:(map.set(e,{initialDef:normalizeClassComponent(t),instances:new Set}),!0)}function normalizeClassComponent(e){return isClassComponent(e)?e.__vccOpts:e}function rerender(e,t){const r=map.get(e);!r||(r.initialDef.render=t,[...r.instances].forEach(i=>{t&&(i.render=t,normalizeClassComponent(i.type).render=t),i.renderCache=[],isHmrUpdating=!0,i.update(),isHmrUpdating=!1}))}function reload(e,t){const r=map.get(e);if(!r)return;t=normalizeClassComponent(t),updateComponentDef(r.initialDef,t);const i=[...r.instances];for(const a of i){const l=normalizeClassComponent(a.type);hmrDirtyComponents.has(l)||(l!==r.initialDef&&updateComponentDef(l,t),hmrDirtyComponents.add(l)),a.appContext.optionsCache.delete(a.type),a.ceReload?(hmrDirtyComponents.add(l),a.ceReload(t.styles),hmrDirtyComponents.delete(l)):a.parent?queueJob(a.parent.update):a.appContext.reload?a.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}queuePostFlushCb(()=>{for(const a of i)hmrDirtyComponents.delete(normalizeClassComponent(a.type))})}function updateComponentDef(e,t){extend$1(e,t);for(const r in e)r!=="__file"&&!(r in t)&&delete e[r]}function tryWrap(e){return(t,r)=>{try{return e(t,r)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let devtools,buffer=[],devtoolsNotInstalled=!1;function emit$1(e,...t){devtools?devtools.emit(e,...t):devtoolsNotInstalled||buffer.push({event:e,args:t})}function setDevtoolsHook(e,t){var r,i;devtools=e,devtools?(devtools.enabled=!0,buffer.forEach(({event:a,args:l})=>devtools.emit(a,...l)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{setDevtoolsHook(l,t)}),setTimeout(()=>{devtools||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,devtoolsNotInstalled=!0,buffer=[])},3e3)):(devtoolsNotInstalled=!0,buffer=[])}function devtoolsInitApp(e,t){emit$1("app:init",e,t,{Fragment,Text,Comment,Static})}function devtoolsUnmountApp(e){emit$1("app:unmount",e)}const devtoolsComponentAdded=createDevtoolsComponentHook("component:added"),devtoolsComponentUpdated=createDevtoolsComponentHook("component:updated"),_devtoolsComponentRemoved=createDevtoolsComponentHook("component:removed"),devtoolsComponentRemoved=e=>{devtools&&typeof devtools.cleanupBuffer=="function"&&!devtools.cleanupBuffer(e)&&_devtoolsComponentRemoved(e)};function createDevtoolsComponentHook(e){return t=>{emit$1(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const devtoolsPerfStart=createDevtoolsPerformanceHook("perf:start"),devtoolsPerfEnd=createDevtoolsPerformanceHook("perf:end");function createDevtoolsPerformanceHook(e){return(t,r,i)=>{emit$1(e,t.appContext.app,t.uid,t,r,i)}}function devtoolsComponentEmit(e,t,r){emit$1("component:emit",e.appContext.app,e,t,r)}function emit(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||EMPTY_OBJ;{const{emitsOptions:D,propsOptions:[f]}=e;if(D)if(!(t in D))(!f||!(toHandlerKey(t)in f))&&warn(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${toHandlerKey(t)}" prop.`);else{const A=D[t];isFunction$2(A)&&(A(...r)||warn(`Invalid event arguments: event validation failed for event "${t}".`))}}let a=r;const l=t.startsWith("update:"),c=l&&t.slice(7);if(c&&c in i){const D=`${c==="modelValue"?"model":c}Modifiers`,{number:f,trim:A}=i[D]||EMPTY_OBJ;A&&(a=r.map(S=>isString$2(S)?S.trim():S)),f&&(a=r.map(looseToNumber))}devtoolsComponentEmit(e,t,a);{const D=t.toLowerCase();D!==t&&i[toHandlerKey(D)]&&warn(`Event "${D}" is emitted in component ${formatComponentName$1(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hyphenate(t)}" instead of "${t}".`)}let d,E=i[d=toHandlerKey(t)]||i[d=toHandlerKey(camelize(t))];!E&&l&&(E=i[d=toHandlerKey(hyphenate(t))]),E&&callWithAsyncErrorHandling(E,e,6,a);const C=i[d+"Once"];if(C){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,callWithAsyncErrorHandling(C,e,6,a)}}function normalizeEmitsOptions(e,t,r=!1){const i=t.emitsCache,a=i.get(e);if(a!==void 0)return a;const l=e.emits;let c={},d=!1;if(!isFunction$2(e)){const E=C=>{const D=normalizeEmitsOptions(C,t,!0);D&&(d=!0,extend$1(c,D))};!r&&t.mixins.length&&t.mixins.forEach(E),e.extends&&E(e.extends),e.mixins&&e.mixins.forEach(E)}return!l&&!d?(isObject$2(e)&&i.set(e,null),null):(isArray$1(l)?l.forEach(E=>c[E]=null):extend$1(c,l),isObject$2(e)&&i.set(e,c),c)}function isEmitListener(e,t){return!e||!isOn$1(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const i=(...a)=>{i._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(t);let c;try{c=e(...a)}finally{setCurrentRenderingInstance(l),i._d&&setBlockTracking(1)}return devtoolsComponentUpdated(t),c};return i._n=!0,i._c=!0,i._d=!0,i}let accessedAttrs=!1;function markAttrsAccessed(){accessedAttrs=!0}function renderComponentRoot(e){const{type:t,vnode:r,proxy:i,withProxy:a,props:l,propsOptions:[c],slots:d,attrs:E,emit:C,render:D,renderCache:f,data:A,setupState:S,ctx:L,inheritAttrs:N}=e;let G,ie;const le=setCurrentRenderingInstance(e);accessedAttrs=!1;try{if(r.shapeFlag&4){const pe=a||i;G=normalizeVNode(D.call(pe,pe,f,l,S,A,L)),ie=E}else{const pe=t;E===l&&markAttrsAccessed(),G=normalizeVNode(pe.length>1?pe(l,{get attrs(){return markAttrsAccessed(),E},slots:d,emit:C}):pe(l,null)),ie=t.props?E:getFunctionalFallthrough(E)}}catch(pe){blockStack.length=0,handleError(pe,e,1),G=createVNode(Comment)}let ae=G,he;if(G.patchFlag>0&&G.patchFlag&2048&&([ae,he]=getChildRoot(G)),ie&&N!==!1){const pe=Object.keys(ie),{shapeFlag:B}=ae;if(pe.length){if(B&7)c&&pe.some(isModelListener)&&(ie=filterModelListeners(ie,c)),ae=cloneVNode(ae,ie);else if(!accessedAttrs&&ae.type!==Comment){const se=Object.keys(E),oe=[],O=[];for(let T=0,ce=se.length;T<ce;T++){const fe=se[T];isOn$1(fe)?isModelListener(fe)||oe.push(fe[2].toLowerCase()+fe.slice(3)):O.push(fe)}O.length&&warn(`Extraneous non-props attributes (${O.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),oe.length&&warn(`Extraneous non-emits event listeners (${oe.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return r.dirs&&(isElementRoot(ae)||warn("Runtime directive used on component with non-element root node. The directives will not function as intended."),ae=cloneVNode(ae),ae.dirs=ae.dirs?ae.dirs.concat(r.dirs):r.dirs),r.transition&&(isElementRoot(ae)||warn("Component inside <Transition> renders non-element root node that cannot be animated."),ae.transition=r.transition),he?he(ae):G=ae,setCurrentRenderingInstance(le),G}const getChildRoot=e=>{const t=e.children,r=e.dynamicChildren,i=filterSingleRoot(t);if(!i)return[e,void 0];const a=t.indexOf(i),l=r?r.indexOf(i):-1,c=d=>{t[a]=d,r&&(l>-1?r[l]=d:d.patchFlag>0&&(e.dynamicChildren=[...r,d]))};return[normalizeVNode(i),c]};function filterSingleRoot(e){let t;for(let r=0;r<e.length;r++){const i=e[r];if(isVNode(i)){if(i.type!==Comment||i.children==="v-if"){if(t)return;t=i}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn$1(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const i in e)(!isModelListener(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r},isElementRoot=e=>e.shapeFlag&7||e.type===Comment;function shouldUpdateComponent(e,t,r){const{props:i,children:a,component:l}=e,{props:c,children:d,patchFlag:E}=t,C=l.emitsOptions;if((a||d)&&isHmrUpdating||t.dirs||t.transition)return!0;if(r&&E>=0){if(E&1024)return!0;if(E&16)return i?hasPropsChanged(i,c,C):!!c;if(E&8){const D=t.dynamicProps;for(let f=0;f<D.length;f++){const A=D[f];if(c[A]!==i[A]&&!isEmitListener(C,A))return!0}}}else return(a||d)&&(!d||!d.$stable)?!0:i===c?!1:i?c?hasPropsChanged(i,c,C):!0:!!c;return!1}function hasPropsChanged(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let a=0;a<i.length;a++){const l=i[a];if(t[l]!==e[l]&&!isEmitListener(r,l))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,r,i,a,l,c,d,E,C){e==null?mountSuspense(t,r,i,a,l,c,d,E,C):patchSuspense(e,t,r,i,a,c,d,E,C)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const r=e.props&&e.props[t];isFunction$2(r)&&r()}function mountSuspense(e,t,r,i,a,l,c,d,E){const{p:C,o:{createElement:D}}=E,f=D("div"),A=e.suspense=createSuspenseBoundary(e,a,i,t,f,r,l,c,d,E);C(null,A.pendingBranch=e.ssContent,f,null,i,A,l,c),A.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),C(null,e.ssFallback,t,r,i,null,l,c),setActiveBranch(A,e.ssFallback)):A.resolve()}function patchSuspense(e,t,r,i,a,l,c,d,{p:E,um:C,o:{createElement:D}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const A=t.ssContent,S=t.ssFallback,{activeBranch:L,pendingBranch:N,isInFallback:G,isHydrating:ie}=f;if(N)f.pendingBranch=A,isSameVNodeType(A,N)?(E(N,A,f.hiddenContainer,null,a,f,l,c,d),f.deps<=0?f.resolve():G&&(E(L,S,r,i,a,null,l,c,d),setActiveBranch(f,S))):(f.pendingId++,ie?(f.isHydrating=!1,f.activeBranch=N):C(N,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=D("div"),G?(E(null,A,f.hiddenContainer,null,a,f,l,c,d),f.deps<=0?f.resolve():(E(L,S,r,i,a,null,l,c,d),setActiveBranch(f,S))):L&&isSameVNodeType(A,L)?(E(L,A,r,i,a,f,l,c,d),f.resolve(!0)):(E(null,A,f.hiddenContainer,null,a,f,l,c,d),f.deps<=0&&f.resolve()));else if(L&&isSameVNodeType(A,L))E(L,A,r,i,a,f,l,c,d),setActiveBranch(f,A);else if(triggerEvent(t,"onPending"),f.pendingBranch=A,f.pendingId++,E(null,A,f.hiddenContainer,null,a,f,l,c,d),f.deps<=0)f.resolve();else{const{timeout:le,pendingId:ae}=f;le>0?setTimeout(()=>{f.pendingId===ae&&f.fallback(S)},le):le===0&&f.fallback(S)}}let hasWarned=!1;function createSuspenseBoundary(e,t,r,i,a,l,c,d,E,C,D=!1){hasWarned||(hasWarned=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:A,um:S,n:L,o:{parentNode:N,remove:G}}=C,ie=e.props?toNumber(e.props.timeout):void 0;assertNumber(ie,"Suspense timeout");const le={vnode:e,parent:t,parentComponent:r,isSVG:c,container:i,hiddenContainer:a,anchor:l,deps:0,pendingId:0,timeout:typeof ie=="number"?ie:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:D,isUnmounted:!1,effects:[],resolve(ae=!1){{if(!ae&&!le.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(le.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:he,activeBranch:pe,pendingBranch:B,pendingId:se,effects:oe,parentComponent:O,container:T}=le;if(le.isHydrating)le.isHydrating=!1;else if(!ae){const Ee=pe&&B.transition&&B.transition.mode==="out-in";Ee&&(pe.transition.afterLeave=()=>{se===le.pendingId&&A(B,T,Ae,0)});let{anchor:Ae}=le;pe&&(Ae=L(pe),S(pe,O,le,!0)),Ee||A(B,T,Ae,0)}setActiveBranch(le,B),le.pendingBranch=null,le.isInFallback=!1;let ce=le.parent,fe=!1;for(;ce;){if(ce.pendingBranch){ce.effects.push(...oe),fe=!0;break}ce=ce.parent}fe||queuePostFlushCb(oe),le.effects=[],triggerEvent(he,"onResolve")},fallback(ae){if(!le.pendingBranch)return;const{vnode:he,activeBranch:pe,parentComponent:B,container:se,isSVG:oe}=le;triggerEvent(he,"onFallback");const O=L(pe),T=()=>{!le.isInFallback||(f(null,ae,se,O,B,null,oe,d,E),setActiveBranch(le,ae))},ce=ae.transition&&ae.transition.mode==="out-in";ce&&(pe.transition.afterLeave=T),le.isInFallback=!0,S(pe,B,null,!0),ce||T()},move(ae,he,pe){le.activeBranch&&A(le.activeBranch,ae,he,pe),le.container=ae},next(){return le.activeBranch&&L(le.activeBranch)},registerDep(ae,he){const pe=!!le.pendingBranch;pe&&le.deps++;const B=ae.vnode.el;ae.asyncDep.catch(se=>{handleError(se,ae,0)}).then(se=>{if(ae.isUnmounted||le.isUnmounted||le.pendingId!==ae.suspenseId)return;ae.asyncResolved=!0;const{vnode:oe}=ae;pushWarningContext(oe),handleSetupResult(ae,se,!1),B&&(oe.el=B);const O=!B&&ae.subTree.el;he(ae,oe,N(B||ae.subTree.el),B?null:L(ae.subTree),le,c,E),O&&G(O),updateHOCHostEl(ae,oe.el),popWarningContext(),pe&&--le.deps===0&&le.resolve()})},unmount(ae,he){le.isUnmounted=!0,le.activeBranch&&S(le.activeBranch,r,ae,he),le.pendingBranch&&S(le.pendingBranch,r,ae,he)}};return le}function hydrateSuspense(e,t,r,i,a,l,c,d,E){const C=t.suspense=createSuspenseBoundary(t,i,r,e.parentNode,document.createElement("div"),null,a,l,c,d,!0),D=E(e,C.pendingBranch=t.ssContent,r,C,l,c);return C.deps===0&&C.resolve(),D}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=normalizeSuspenseSlot(i?r.default:r),e.ssFallback=i?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction$2(e)){const r=isBlockTreeEnabled&&e._c;r&&(e._d=!1,openBlock()),e=e(),r&&(e._d=!0,t=currentBlock,closeBlock())}if(isArray$1(e)){const r=filterSingleRoot(e);r||warn("<Suspense> slots expect a single root node."),e=r}return e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e,a=r.el=t.el;i&&i.subTree===r&&(i.vnode.el=a,updateHOCHostEl(i,a))}function provide(e,t){if(!currentInstance)warn("provide() can only be used inside setup().");else{let r=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===r&&(r=currentInstance.provides=Object.create(i)),r[e]=t}}function inject$1(e,t,r=!1){const i=currentInstance||currentRenderingInstance;if(i){const a=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&isFunction$2(t)?t.call(i.proxy):t;warn(`injection "${String(e)}" not found.`)}else warn("inject() can only be used inside setup() or functional components.")}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return isFunction$2(t)||warn("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:i,flush:a,onTrack:l,onTrigger:c}=EMPTY_OBJ){t||(r!==void 0&&warn('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&warn('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const d=he=>{warn("Invalid watch source: ",he,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},E=getCurrentScope()===currentInstance?.scope?currentInstance:null;let C,D=!1,f=!1;if(isRef(e)?(C=()=>e.value,D=isShallow$1(e)):isReactive(e)?(C=()=>e,i=!0):isArray$1(e)?(f=!0,D=e.some(he=>isReactive(he)||isShallow$1(he)),C=()=>e.map(he=>{if(isRef(he))return he.value;if(isReactive(he))return traverse(he);if(isFunction$2(he))return callWithErrorHandling(he,E,2);d(he)})):isFunction$2(e)?t?C=()=>callWithErrorHandling(e,E,2):C=()=>{if(!(E&&E.isUnmounted))return A&&A(),callWithAsyncErrorHandling(e,E,3,[S])}:(C=NOOP,d(e)),t&&i){const he=C;C=()=>traverse(he())}let A,S=he=>{A=le.onStop=()=>{callWithErrorHandling(he,E,4)}},L;if(isInSSRComponentSetup)if(S=NOOP,t?r&&callWithAsyncErrorHandling(t,E,3,[C(),f?[]:void 0,S]):C(),a==="sync"){const he=useSSRContext();L=he.__watcherHandles||(he.__watcherHandles=[])}else return NOOP;let N=f?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const G=()=>{if(!!le.active)if(t){const he=le.run();(i||D||(f?he.some((pe,B)=>hasChanged(pe,N[B])):hasChanged(he,N)))&&(A&&A(),callWithAsyncErrorHandling(t,E,3,[he,N===INITIAL_WATCHER_VALUE?void 0:f&&N[0]===INITIAL_WATCHER_VALUE?[]:N,S]),N=he)}else le.run()};G.allowRecurse=!!t;let ie;a==="sync"?ie=G:a==="post"?ie=()=>queuePostRenderEffect(G,E&&E.suspense):(G.pre=!0,E&&(G.id=E.uid),ie=()=>queueJob(G));const le=new ReactiveEffect(C,ie);le.onTrack=l,le.onTrigger=c,t?r?G():N=le.run():a==="post"?queuePostRenderEffect(le.run.bind(le),E&&E.suspense):le.run();const ae=()=>{le.stop(),E&&E.scope&&remove(E.scope.effects,le)};return L&&L.push(ae),ae}function instanceWatch(e,t,r){const i=this.proxy,a=isString$2(e)?e.includes(".")?createPathGetter(i,e):()=>i[e]:e.bind(i,i);let l;isFunction$2(t)?l=t:(l=t.handler,r=t);const c=currentInstance;setCurrentInstance(this);const d=doWatch(a,l.bind(i),r);return c?setCurrentInstance(c):unsetCurrentInstance(),d}function createPathGetter(e,t){const r=t.split(".");return()=>{let i=e;for(let a=0;a<r.length&&i;a++)i=i[r[a]];return i}}function traverse(e,t){if(!isObject$2(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject$2(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance$1(),i=useTransitionState();let a;return()=>{const l=t.default&&getTransitionRawChildren(t.default(),!0);if(!l||!l.length)return;let c=l[0];if(l.length>1){let N=!1;for(const G of l)if(G.type!==Comment){if(N){warn("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}c=G,N=!0}}const d=toRaw(e),{mode:E}=d;if(E&&E!=="in-out"&&E!=="out-in"&&E!=="default"&&warn(`invalid <transition> mode: ${E}`),i.isLeaving)return emptyPlaceholder(c);const C=getKeepAliveChild(c);if(!C)return emptyPlaceholder(c);const D=resolveTransitionHooks(C,d,i,r);setTransitionHooks(C,D);const f=r.subTree,A=f&&getKeepAliveChild(f);let S=!1;const{getTransitionKey:L}=C.type;if(L){const N=L();a===void 0?a=N:N!==a&&(a=N,S=!0)}if(A&&A.type!==Comment&&(!isSameVNodeType(C,A)||S)){const N=resolveTransitionHooks(A,d,i,r);if(setTransitionHooks(A,N),E==="out-in")return i.isLeaving=!0,N.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(c);E==="in-out"&&C.type!==Comment&&(N.delayLeave=(G,ie,le)=>{const ae=getLeavingNodesForType(i,A);ae[String(A.key)]=A,G._leaveCb=()=>{ie(),G._leaveCb=void 0,delete D.delayedLeave},D.delayedLeave=le})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function resolveTransitionHooks(e,t,r,i){const{appear:a,mode:l,persisted:c=!1,onBeforeEnter:d,onEnter:E,onAfterEnter:C,onEnterCancelled:D,onBeforeLeave:f,onLeave:A,onAfterLeave:S,onLeaveCancelled:L,onBeforeAppear:N,onAppear:G,onAfterAppear:ie,onAppearCancelled:le}=t,ae=String(e.key),he=getLeavingNodesForType(r,e),pe=(oe,O)=>{oe&&callWithAsyncErrorHandling(oe,i,9,O)},B=(oe,O)=>{const T=O[1];pe(oe,O),isArray$1(oe)?oe.every(ce=>ce.length<=1)&&T():oe.length<=1&&T()},se={mode:l,persisted:c,beforeEnter(oe){let O=d;if(!r.isMounted)if(a)O=N||d;else return;oe._leaveCb&&oe._leaveCb(!0);const T=he[ae];T&&isSameVNodeType(e,T)&&T.el._leaveCb&&T.el._leaveCb(),pe(O,[oe])},enter(oe){let O=E,T=C,ce=D;if(!r.isMounted)if(a)O=G||E,T=ie||C,ce=le||D;else return;let fe=!1;const Ee=oe._enterCb=Ae=>{fe||(fe=!0,Ae?pe(ce,[oe]):pe(T,[oe]),se.delayedLeave&&se.delayedLeave(),oe._enterCb=void 0)};O?B(O,[oe,Ee]):Ee()},leave(oe,O){const T=String(e.key);if(oe._enterCb&&oe._enterCb(!0),r.isUnmounting)return O();pe(f,[oe]);let ce=!1;const fe=oe._leaveCb=Ee=>{ce||(ce=!0,O(),Ee?pe(L,[oe]):pe(S,[oe]),oe._leaveCb=void 0,he[T]===e&&delete he[T])};he[T]=e,A?B(A,[oe,fe]):fe()},clone(oe){return resolveTransitionHooks(oe,t,r,i)}};return se}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let i=[],a=0;for(let l=0;l<e.length;l++){let c=e[l];const d=r==null?c.key:String(r)+String(c.key!=null?c.key:l);c.type===Fragment?(c.patchFlag&128&&a++,i=i.concat(getTransitionRawChildren(c.children,t,d))):(t||c.type!==Comment)&&i.push(d!=null?cloneVNode(c,{key:d}):c)}if(a>1)for(let l=0;l<i.length;l++)i[l].patchFlag=-2;return i}function defineComponent$1(e){return isFunction$2(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader;function defineAsyncComponent(e){isFunction$2(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:a=200,timeout:l,suspensible:c=!0,onError:d}=e;let E=null,C,D=0;const f=()=>(D++,E=null,A()),A=()=>{let S;return E||(S=E=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),d)return new Promise((N,G)=>{d(L,()=>N(f()),()=>G(L),D+1)});throw L}).then(L=>{if(S!==E&&E)return E;if(L||warn("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),L&&!isObject$2(L)&&!isFunction$2(L))throw new Error(`Invalid async component load result: ${L}`);return C=L,L}))};return defineComponent$1({name:"AsyncComponentWrapper",__asyncLoader:A,get __asyncResolved(){return C},setup(){const S=currentInstance;if(C)return()=>createInnerComp(C,S);const L=le=>{E=null,handleError(le,S,13,!i)};if(c&&S.suspense||isInSSRComponentSetup)return A().then(le=>()=>createInnerComp(le,S)).catch(le=>(L(le),()=>i?createVNode(i,{error:le}):null));const N=ref(!1),G=ref(),ie=ref(!!a);return a&&setTimeout(()=>{ie.value=!1},a),l!=null&&setTimeout(()=>{if(!N.value&&!G.value){const le=new Error(`Async component timed out after ${l}ms.`);L(le),G.value=le}},l),A().then(()=>{N.value=!0,S.parent&&isKeepAlive(S.parent.vnode)&&queueJob(S.parent.update)}).catch(le=>{L(le),G.value=le}),()=>{if(N.value&&C)return createInnerComp(C,S);if(G.value&&i)return createVNode(i,{error:G.value});if(r&&!ie.value)return createVNode(r)}}})}function createInnerComp(e,t){const{ref:r,props:i,children:a,ce:l}=t.vnode,c=createVNode(e,i,a);return c.ref=r,c.ce=l,delete t.vnode.ce,c}const isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const i=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(t,i,r),r){let a=r.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(i,t,r,a),a=a.parent}}function injectToKeepAliveRoot(e,t,r,i){const a=injectHook(t,e,i,!0);onUnmounted(()=>{remove(i[t],a)},r)}function injectHook(e,t,r=currentInstance,i=!1){if(r){const a=r[e]||(r[e]=[]),l=t.__weh||(t.__weh=(...c)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const d=callWithAsyncErrorHandling(t,r,e,c);return unsetCurrentInstance(),resetTracking(),d});return i?a.unshift(l):a.push(l),l}else{const a=toHandlerKey(ErrorTypeStrings[e].replace(/ hook$/,""));warn(`${a} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...i)=>t(...i),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function validateDirectiveName(e){isBuiltInDirective(e)&&warn("Do not use built-in directive ids as custom directive id: "+e)}function withDirectives(e,t){const r=currentRenderingInstance;if(r===null)return warn("withDirectives can only be used inside render functions."),e;const i=getExposeProxy(r)||r.proxy,a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[c,d,E,C=EMPTY_OBJ]=t[l];c&&(isFunction$2(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(d),a.push({dir:c,instance:i,value:d,oldValue:void 0,arg:E,modifiers:C}))}return e}function invokeDirectiveHook(e,t,r,i){const a=e.dirs,l=t&&t.dirs;for(let c=0;c<a.length;c++){const d=a[c];l&&(d.oldValue=l[c].value);let E=d.dir[i];E&&(pauseTracking(),callWithAsyncErrorHandling(E,r,8,[e.el,d,e,t]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$2(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,i=!1){const a=currentRenderingInstance||currentInstance;if(a){const l=a.type;if(e===COMPONENTS){const d=getComponentName(l,!1);if(d&&(d===t||d===camelize(t)||d===capitalize(camelize(t))))return l}const c=resolve(a[e]||l[e],t)||resolve(a.appContext[e],t);if(!c&&i)return l;if(r&&!c){const d=e===COMPONENTS?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";warn(`Failed to resolve ${e.slice(0,-1)}: ${t}${d}`)}return c}else warn(`resolve${capitalize(e.slice(0,-1))} can only be used in render() or setup().`)}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,r,i){let a;const l=r&&r[i];if(isArray$1(e)||isString$2(e)){a=new Array(e.length);for(let c=0,d=e.length;c<d;c++)a[c]=t(e[c],c,void 0,l&&l[c])}else if(typeof e=="number"){Number.isInteger(e)||warn(`The v-for range expect an integer value but got ${e}.`),a=new Array(e);for(let c=0;c<e;c++)a[c]=t(c+1,c,void 0,l&&l[c])}else if(isObject$2(e))if(e[Symbol.iterator])a=Array.from(e,(c,d)=>t(c,d,void 0,l&&l[d]));else{const c=Object.keys(e);a=new Array(c.length);for(let d=0,E=c.length;d<E;d++){const C=c[d];a[d]=t(e[C],C,d,l&&l[d])}}else a=[];return r&&(r[i]=a),a}function renderSlot(e,t,r={},i,a){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(r.name=t),createVNode("slot",r,i&&i());let l=e[t];l&&l.length>1&&(warn("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),openBlock();const c=l&&ensureValidVNode(l(r)),d=createBlock(Fragment,{key:r.key||c&&c.key||`_${t}`},c||(i?i():[]),c&&e._===1?64:-2);return!a&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),l&&l._c&&(l._d=!0),d}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e,t){const r={};if(!isObject$2(e))return warn("v-on with no argument expects an object value."),r;for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:toHandlerKey(i)]=e[i];return r}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>shallowReadonly(e.props),$attrs:e=>shallowReadonly(e.attrs),$slots:e=>shallowReadonly(e.slots),$refs:e=>shallowReadonly(e.refs),$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),isReservedPrefix=e=>e==="_"||e==="$",hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:i,data:a,props:l,accessCache:c,type:d,appContext:E}=e;if(t==="__isVue")return!0;let C;if(t[0]!=="$"){const S=c[t];if(S!==void 0)switch(S){case 1:return i[t];case 2:return a[t];case 4:return r[t];case 3:return l[t]}else{if(hasSetupBinding(i,t))return c[t]=1,i[t];if(a!==EMPTY_OBJ&&hasOwn(a,t))return c[t]=2,a[t];if((C=e.propsOptions[0])&&hasOwn(C,t))return c[t]=3,l[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return c[t]=4,r[t];shouldCacheAccess&&(c[t]=0)}}const D=publicPropertiesMap[t];let f,A;if(D)return t==="$attrs"&&(track(e,"get",t),markAttrsAccessed()),D(e);if((f=d.__cssModules)&&(f=f[t]))return f;if(r!==EMPTY_OBJ&&hasOwn(r,t))return c[t]=4,r[t];if(A=E.config.globalProperties,hasOwn(A,t))return A[t];currentRenderingInstance&&(!isString$2(t)||t.indexOf("__v")!==0)&&(a!==EMPTY_OBJ&&isReservedPrefix(t[0])&&hasOwn(a,t)?warn(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===currentRenderingInstance&&warn(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,r){const{data:i,setupState:a,ctx:l}=e;return hasSetupBinding(a,t)?(a[t]=r,!0):a.__isScriptSetup&&hasOwn(a,t)?(warn(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):i!==EMPTY_OBJ&&hasOwn(i,t)?(i[t]=r,!0):hasOwn(e.props,t)?(warn(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(warn(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(l,t,{enumerable:!0,configurable:!0,value:r}):l[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:a,propsOptions:l}},c){let d;return!!r[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(t,c)||(d=l[0])&&hasOwn(d,c)||hasOwn(i,c)||hasOwn(publicPropertiesMap,c)||hasOwn(a.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};PublicInstanceProxyHandlers.ownKeys=e=>(warn("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function createDevRenderContext(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(publicPropertiesMap).forEach(r=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:()=>publicPropertiesMap[r](e),set:NOOP})}),t}function exposePropsOnRenderContext(e){const{ctx:t,propsOptions:[r]}=e;r&&Object.keys(r).forEach(i=>{Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>e.props[i],set:NOOP})})}function exposeSetupStateOnRenderContext(e){const{ctx:t,setupState:r}=e;Object.keys(toRaw(r)).forEach(i=>{if(!r.__isScriptSetup){if(isReservedPrefix(i[0])){warn(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r[i],set:NOOP})}})}function createDuplicateChecker(){const e=Object.create(null);return(t,r)=>{e[r]?warn(`${t} property "${r}" is already defined in ${e[r]}.`):e[r]=t}}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,i=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:c,watch:d,provide:E,inject:C,created:D,beforeMount:f,mounted:A,beforeUpdate:S,updated:L,activated:N,deactivated:G,beforeDestroy:ie,beforeUnmount:le,destroyed:ae,unmounted:he,render:pe,renderTracked:B,renderTriggered:se,errorCaptured:oe,serverPrefetch:O,expose:T,inheritAttrs:ce,components:fe,directives:Ee,filters:Ae}=t,_e=createDuplicateChecker();{const[De]=e.propsOptions;if(De)for(const Le in De)_e("Props",Le)}if(C&&resolveInjections(C,i,_e,e.appContext.config.unwrapInjectedRef),c)for(const De in c){const Le=c[De];isFunction$2(Le)?(Object.defineProperty(i,De,{value:Le.bind(r),configurable:!0,enumerable:!0,writable:!0}),_e("Methods",De)):warn(`Method "${De}" has type "${typeof Le}" in the component definition. Did you reference the function correctly?`)}if(a){isFunction$2(a)||warn("The data option must be a function. Plain object usage is no longer supported.");const De=a.call(r,r);if(isPromise$1(De)&&warn("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!isObject$2(De))warn("data() should return an object.");else{e.data=reactive(De);for(const Le in De)_e("Data",Le),isReservedPrefix(Le[0])||Object.defineProperty(i,Le,{configurable:!0,enumerable:!0,get:()=>De[Le],set:NOOP})}}if(shouldCacheAccess=!0,l)for(const De in l){const Le=l[De],Ge=isFunction$2(Le)?Le.bind(r,r):isFunction$2(Le.get)?Le.get.bind(r,r):NOOP;Ge===NOOP&&warn(`Computed property "${De}" has no getter.`);const rt=!isFunction$2(Le)&&isFunction$2(Le.set)?Le.set.bind(r):()=>{warn(`Write operation failed: computed property "${De}" is readonly.`)},We=computed({get:Ge,set:rt});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>We.value,set:xt=>We.value=xt}),_e("Computed",De)}if(d)for(const De in d)createWatcher(d[De],i,r,De);if(E){const De=isFunction$2(E)?E.call(r):E;Reflect.ownKeys(De).forEach(Le=>{provide(Le,De[Le])})}D&&callHook$1(D,e,"c");function xe(De,Le){isArray$1(Le)?Le.forEach(Ge=>De(Ge.bind(r))):Le&&De(Le.bind(r))}if(xe(onBeforeMount,f),xe(onMounted,A),xe(onBeforeUpdate,S),xe(onUpdated,L),xe(onActivated,N),xe(onDeactivated,G),xe(onErrorCaptured,oe),xe(onRenderTracked,B),xe(onRenderTriggered,se),xe(onBeforeUnmount,le),xe(onUnmounted,he),xe(onServerPrefetch,O),isArray$1(T))if(T.length){const De=e.exposed||(e.exposed={});T.forEach(Le=>{Object.defineProperty(De,Le,{get:()=>r[Le],set:Ge=>r[Le]=Ge})})}else e.exposed||(e.exposed={});pe&&e.render===NOOP&&(e.render=pe),ce!=null&&(e.inheritAttrs=ce),fe&&(e.components=fe),Ee&&(e.directives=Ee)}function resolveInjections(e,t,r=NOOP,i=!1){isArray$1(e)&&(e=normalizeInject(e));for(const a in e){const l=e[a];let c;isObject$2(l)?"default"in l?c=inject$1(l.from||a,l.default,!0):c=inject$1(l.from||a):c=inject$1(l),isRef(c)?i?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>c.value,set:d=>c.value=d}):(warn(`injected property "${a}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[a]=c):t[a]=c,r("Inject",a)}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray$1(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,i){const a=i.includes(".")?createPathGetter(r,i):()=>r[i];if(isString$2(e)){const l=t[e];isFunction$2(l)?watch(a,l):warn(`Invalid watch handler specified by key "${e}"`,l)}else if(isFunction$2(e))watch(a,e.bind(r));else if(isObject$2(e))if(isArray$1(e))e.forEach(l=>createWatcher(l,t,r,i));else{const l=isFunction$2(e.handler)?e.handler.bind(r):t[e.handler];isFunction$2(l)?watch(a,l,e):warn(`Invalid watch handler specified by key "${e.handler}"`,l)}else warn(`Invalid watch option: "${i}"`,e)}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,d=l.get(t);let E;return d?E=d:!a.length&&!r&&!i?E=t:(E={},a.length&&a.forEach(C=>mergeOptions(E,C,c,!0)),mergeOptions(E,t,c)),isObject$2(t)&&l.set(t,E),E}function mergeOptions(e,t,r,i=!1){const{mixins:a,extends:l}=t;l&&mergeOptions(e,l,r,!0),a&&a.forEach(c=>mergeOptions(e,c,r,!0));for(const c in t)if(i&&c==="expose")warn('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const d=internalOptionMergeStrats[c]||r&&r[c];e[c]=d?d(e[c],t[c]):t[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(extend$1(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend$1(Object.create(null),e);for(const i in t)r[i]=mergeAsArray(e[i],t[i]);return r}function initProps(e,t,r,i=!1){const a={},l={};def(l,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,a,l);for(const c in e.propsOptions[0])c in a||(a[c]=void 0);validateProps(t||{},a,e),r?e.props=i?a:shallowReactive(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function isInHmrContext(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function updateProps(e,t,r,i){const{props:a,attrs:l,vnode:{patchFlag:c}}=e,d=toRaw(a),[E]=e.propsOptions;let C=!1;if(!isInHmrContext(e)&&(i||c>0)&&!(c&16)){if(c&8){const D=e.vnode.dynamicProps;for(let f=0;f<D.length;f++){let A=D[f];if(isEmitListener(e.emitsOptions,A))continue;const S=t[A];if(E)if(hasOwn(l,A))S!==l[A]&&(l[A]=S,C=!0);else{const L=camelize(A);a[L]=resolvePropValue(E,d,L,S,e,!1)}else S!==l[A]&&(l[A]=S,C=!0)}}}else{setFullProps(e,t,a,l)&&(C=!0);let D;for(const f in d)(!t||!hasOwn(t,f)&&((D=hyphenate(f))===f||!hasOwn(t,D)))&&(E?r&&(r[f]!==void 0||r[D]!==void 0)&&(a[f]=resolvePropValue(E,d,f,void 0,e,!0)):delete a[f]);if(l!==d)for(const f in l)(!t||!hasOwn(t,f)&&!0)&&(delete l[f],C=!0)}C&&trigger(e,"set","$attrs"),validateProps(t||{},a,e)}function setFullProps(e,t,r,i){const[a,l]=e.propsOptions;let c=!1,d;if(t)for(let E in t){if(isReservedProp(E))continue;const C=t[E];let D;a&&hasOwn(a,D=camelize(E))?!l||!l.includes(D)?r[D]=C:(d||(d={}))[D]=C:isEmitListener(e.emitsOptions,E)||(!(E in i)||C!==i[E])&&(i[E]=C,c=!0)}if(l){const E=toRaw(r),C=d||EMPTY_OBJ;for(let D=0;D<l.length;D++){const f=l[D];r[f]=resolvePropValue(a,E,f,C[f],e,!hasOwn(C,f))}}return c}function resolvePropValue(e,t,r,i,a,l){const c=e[r];if(c!=null){const d=hasOwn(c,"default");if(d&&i===void 0){const E=c.default;if(c.type!==Function&&isFunction$2(E)){const{propsDefaults:C}=a;r in C?i=C[r]:(setCurrentInstance(a),i=C[r]=E.call(null,t),unsetCurrentInstance())}else i=E}c[0]&&(l&&!d?i=!1:c[1]&&(i===""||i===hyphenate(r))&&(i=!0))}return i}function normalizePropsOptions(e,t,r=!1){const i=t.propsCache,a=i.get(e);if(a)return a;const l=e.props,c={},d=[];let E=!1;if(!isFunction$2(e)){const D=f=>{E=!0;const[A,S]=normalizePropsOptions(f,t,!0);extend$1(c,A),S&&d.push(...S)};!r&&t.mixins.length&&t.mixins.forEach(D),e.extends&&D(e.extends),e.mixins&&e.mixins.forEach(D)}if(!l&&!E)return isObject$2(e)&&i.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(l))for(let D=0;D<l.length;D++){isString$2(l[D])||warn("props must be strings when using array syntax.",l[D]);const f=camelize(l[D]);validatePropName(f)&&(c[f]=EMPTY_OBJ)}else if(l){isObject$2(l)||warn("invalid props options",l);for(const D in l){const f=camelize(D);if(validatePropName(f)){const A=l[D],S=c[f]=isArray$1(A)||isFunction$2(A)?{type:A}:Object.assign({},A);if(S){const L=getTypeIndex(Boolean,S.type),N=getTypeIndex(String,S.type);S[0]=L>-1,S[1]=N<0||L<N,(L>-1||hasOwn(S,"default"))&&d.push(f)}}}}const C=[c,d];return isObject$2(e)&&i.set(e,C),C}function validatePropName(e){return e[0]!=="$"?!0:(warn(`Invalid prop name: "${e}" is a reserved property.`),!1)}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(r=>isSameType(r,e)):isFunction$2(t)&&isSameType(t,e)?0:-1}function validateProps(e,t,r){const i=toRaw(t),a=r.propsOptions[0];for(const l in a){let c=a[l];c!=null&&validateProp(l,i[l],c,!hasOwn(e,l)&&!hasOwn(e,hyphenate(l)))}}function validateProp(e,t,r,i){const{type:a,required:l,validator:c}=r;if(l&&i){warn('Missing required prop: "'+e+'"');return}if(!(t==null&&!r.required)){if(a!=null&&a!==!0){let d=!1;const E=isArray$1(a)?a:[a],C=[];for(let D=0;D<E.length&&!d;D++){const{valid:f,expectedType:A}=assertType(t,E[D]);C.push(A||""),d=f}if(!d){warn(getInvalidTypeMessage(e,t,C));return}}c&&!c(t)&&warn('Invalid prop: custom validator check failed for prop "'+e+'".')}}const isSimpleType=makeMap("String,Number,Boolean,Function,Symbol,BigInt");function assertType(e,t){let r;const i=getType(t);if(isSimpleType(i)){const a=typeof e;r=a===i.toLowerCase(),!r&&a==="object"&&(r=e instanceof t)}else i==="Object"?r=isObject$2(e):i==="Array"?r=isArray$1(e):i==="null"?r=e===null:r=e instanceof t;return{valid:r,expectedType:i}}function getInvalidTypeMessage(e,t,r){let i=`Invalid prop: type check failed for prop "${e}". Expected ${r.map(capitalize).join(" | ")}`;const a=r[0],l=toRawType(t),c=styleValue(t,a),d=styleValue(t,l);return r.length===1&&isExplicable(a)&&!isBoolean$2(a,l)&&(i+=` with value ${c}`),i+=`, got ${l} `,isExplicable(l)&&(i+=`with value ${d}.`),i}function styleValue(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function isExplicable(e){return["string","number","boolean"].some(r=>e.toLowerCase()===r)}function isBoolean$2(...e){return e.some(t=>t.toLowerCase()==="boolean")}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{if(t._n)return t;const i=withCtx((...a)=>(currentInstance&&warn(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),normalizeSlotValue(t(...a))),r);return i._c=!1,i},normalizeObjectSlots=(e,t,r)=>{const i=e._ctx;for(const a in e){if(isInternalKey(a))continue;const l=e[a];if(isFunction$2(l))t[a]=normalizeSlot(a,l,i);else if(l!=null){warn(`Non-function value encountered for slot "${a}". Prefer function slots for better performance.`);const c=normalizeSlotValue(l);t[a]=()=>c}}},normalizeVNodeSlots=(e,t)=>{isKeepAlive(e.vnode)||warn("Non-function value encountered for default slot. Prefer function slots for better performance.");const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:i,slots:a}=e;let l=!0,c=EMPTY_OBJ;if(i.shapeFlag&32){const d=t._;d?isHmrUpdating?extend$1(a,t):r&&d===1?l=!1:(extend$1(a,t),!r&&d===1&&delete a._):(l=!t.$stable,normalizeObjectSlots(t,a)),c=t}else t&&(normalizeVNodeSlots(e,t),c={default:1});if(l)for(const d in a)!isInternalKey(d)&&!(d in c)&&delete a[d]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(i,a=null){isFunction$2(i)||(i=Object.assign({},i)),a!=null&&!isObject$2(a)&&(warn("root props passed to app.mount() must be an object."),a=null);const l=createAppContext(),c=new Set;let d=!1;const E=l.app={_uid:uid$1++,_component:i,_props:a,_container:null,_context:l,_instance:null,version:version$3,get config(){return l.config},set config(C){warn("app.config cannot be replaced. Modify individual options instead.")},use(C,...D){return c.has(C)?warn("Plugin has already been applied to target app."):C&&isFunction$2(C.install)?(c.add(C),C.install(E,...D)):isFunction$2(C)?(c.add(C),C(E,...D)):warn('A plugin must either be a function or an object with an "install" function.'),E},mixin(C){return l.mixins.includes(C)?warn("Mixin has already been applied to target app"+(C.name?`: ${C.name}`:"")):l.mixins.push(C),E},component(C,D){return validateComponentName(C,l.config),D?(l.components[C]&&warn(`Component "${C}" has already been registered in target app.`),l.components[C]=D,E):l.components[C]},directive(C,D){return validateDirectiveName(C),D?(l.directives[C]&&warn(`Directive "${C}" has already been registered in target app.`),l.directives[C]=D,E):l.directives[C]},mount(C,D,f){if(d)warn("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{C.__vue_app__&&warn("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const A=createVNode(i,a);return A.appContext=l,l.reload=()=>{e(cloneVNode(A),C,f)},D&&t?t(A,C):e(A,C,f),d=!0,E._container=C,C.__vue_app__=E,E._instance=A.component,devtoolsInitApp(E,version$3),getExposeProxy(A.component)||A.component.proxy}},unmount(){d?(e(null,E._container),E._instance=null,devtoolsUnmountApp(E),delete E._container.__vue_app__):warn("Cannot unmount an app that is not mounted.")},provide(C,D){return C in l.provides&&warn(`App already provides property with key "${String(C)}". It will be overwritten with the new value.`),l.provides[C]=D,E}};return E}}function setRef(e,t,r,i,a=!1){if(isArray$1(e)){e.forEach((A,S)=>setRef(A,t&&(isArray$1(t)?t[S]:t),r,i,a));return}if(isAsyncWrapper(i)&&!a)return;const l=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,c=a?null:l,{i:d,r:E}=e;if(!d){warn("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const C=t&&t.r,D=d.refs===EMPTY_OBJ?d.refs={}:d.refs,f=d.setupState;if(C!=null&&C!==E&&(isString$2(C)?(D[C]=null,hasOwn(f,C)&&(f[C]=null)):isRef(C)&&(C.value=null)),isFunction$2(E))callWithErrorHandling(E,d,12,[c,D]);else{const A=isString$2(E),S=isRef(E);if(A||S){const L=()=>{if(e.f){const N=A?hasOwn(f,E)?f[E]:D[E]:E.value;a?isArray$1(N)&&remove(N,l):isArray$1(N)?N.includes(l)||N.push(l):A?(D[E]=[l],hasOwn(f,E)&&(f[E]=D[E])):(E.value=[l],e.k&&(D[e.k]=E.value))}else A?(D[E]=c,hasOwn(f,E)&&(f[E]=c)):S?(E.value=c,e.k&&(D[e.k]=c)):warn("Invalid template ref type:",E,`(${typeof E})`)};c?(L.id=-1,queuePostRenderEffect(L,r)):L()}else warn("Invalid template ref type:",E,`(${typeof E})`)}}let supported$1,perf$1;function startMeasure(e,t){e.appContext.config.performance&&isSupported$1()&&perf$1.mark(`vue-${t}-${e.uid}`),devtoolsPerfStart(e,t,isSupported$1()?perf$1.now():Date.now())}function endMeasure(e,t){if(e.appContext.config.performance&&isSupported$1()){const r=`vue-${t}-${e.uid}`,i=r+":end";perf$1.mark(i),perf$1.measure(`<${formatComponentName$1(e,e.type)}> ${t}`,r,i),perf$1.clearMarks(r),perf$1.clearMarks(i)}devtoolsPerfEnd(e,t,isSupported$1()?perf$1.now():Date.now())}function isSupported$1(){return supported$1!==void 0||(typeof window<"u"&&window.performance?(supported$1=!0,perf$1=window.performance):supported$1=!1),supported$1}function initFeatureFlags(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){initFeatureFlags();const r=getGlobalThis();r.__VUE__=!0,setDevtoolsHook(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:i,remove:a,patchProp:l,createElement:c,createText:d,createComment:E,setText:C,setElementText:D,parentNode:f,nextSibling:A,setScopeId:S=NOOP,insertStaticContent:L}=e,N=(Ne,qe,lt,vt=null,bt=null,nt=null,Nt=!1,kt=null,Qt=isHmrUpdating?!1:!!qe.dynamicChildren)=>{if(Ne===qe)return;Ne&&!isSameVNodeType(Ne,qe)&&(vt=It(Ne),Me(Ne,bt,nt,!0),Ne=null),qe.patchFlag===-2&&(Qt=!1,qe.dynamicChildren=null);const{type:gt,ref:Dt,shapeFlag:zt}=qe;switch(gt){case Text:G(Ne,qe,lt,vt);break;case Comment:ie(Ne,qe,lt,vt);break;case Static:Ne==null?le(qe,lt,vt,Nt):ae(Ne,qe,lt,Nt);break;case Fragment:Ee(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt);break;default:zt&1?B(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt):zt&6?Ae(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt):zt&64||zt&128?gt.process(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt,tt):warn("Invalid VNode type:",gt,`(${typeof gt})`)}Dt!=null&&bt&&setRef(Dt,Ne&&Ne.ref,nt,qe||Ne,!qe)},G=(Ne,qe,lt,vt)=>{if(Ne==null)i(qe.el=d(qe.children),lt,vt);else{const bt=qe.el=Ne.el;qe.children!==Ne.children&&C(bt,qe.children)}},ie=(Ne,qe,lt,vt)=>{Ne==null?i(qe.el=E(qe.children||""),lt,vt):qe.el=Ne.el},le=(Ne,qe,lt,vt)=>{[Ne.el,Ne.anchor]=L(Ne.children,qe,lt,vt,Ne.el,Ne.anchor)},ae=(Ne,qe,lt,vt)=>{if(qe.children!==Ne.children){const bt=A(Ne.anchor);pe(Ne),[qe.el,qe.anchor]=L(qe.children,lt,bt,vt)}else qe.el=Ne.el,qe.anchor=Ne.anchor},he=({el:Ne,anchor:qe},lt,vt)=>{let bt;for(;Ne&&Ne!==qe;)bt=A(Ne),i(Ne,lt,vt),Ne=bt;i(qe,lt,vt)},pe=({el:Ne,anchor:qe})=>{let lt;for(;Ne&&Ne!==qe;)lt=A(Ne),a(Ne),Ne=lt;a(qe)},B=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt)=>{Nt=Nt||qe.type==="svg",Ne==null?se(qe,lt,vt,bt,nt,Nt,kt,Qt):T(Ne,qe,bt,nt,Nt,kt,Qt)},se=(Ne,qe,lt,vt,bt,nt,Nt,kt)=>{let Qt,gt;const{type:Dt,props:zt,shapeFlag:et,transition:sn,dirs:bn}=Ne;if(Qt=Ne.el=c(Ne.type,nt,zt&&zt.is,zt),et&8?D(Qt,Ne.children):et&16&&O(Ne.children,Qt,null,vt,bt,nt&&Dt!=="foreignObject",Nt,kt),bn&&invokeDirectiveHook(Ne,null,vt,"created"),oe(Qt,Ne,Ne.scopeId,Nt,vt),zt){for(const St in zt)St!=="value"&&!isReservedProp(St)&&l(Qt,St,null,zt[St],nt,Ne.children,vt,bt,st);"value"in zt&&l(Qt,"value",null,zt.value),(gt=zt.onVnodeBeforeMount)&&invokeVNodeHook(gt,vt,Ne)}Object.defineProperty(Qt,"__vnode",{value:Ne,enumerable:!1}),Object.defineProperty(Qt,"__vueParentComponent",{value:vt,enumerable:!1}),bn&&invokeDirectiveHook(Ne,null,vt,"beforeMount");const Fn=(!bt||bt&&!bt.pendingBranch)&&sn&&!sn.persisted;Fn&&sn.beforeEnter(Qt),i(Qt,qe,lt),((gt=zt&&zt.onVnodeMounted)||Fn||bn)&&queuePostRenderEffect(()=>{gt&&invokeVNodeHook(gt,vt,Ne),Fn&&sn.enter(Qt),bn&&invokeDirectiveHook(Ne,null,vt,"mounted")},bt)},oe=(Ne,qe,lt,vt,bt)=>{if(lt&&S(Ne,lt),vt)for(let nt=0;nt<vt.length;nt++)S(Ne,vt[nt]);if(bt){let nt=bt.subTree;if(nt.patchFlag>0&&nt.patchFlag&2048&&(nt=filterSingleRoot(nt.children)||nt),qe===nt){const Nt=bt.vnode;oe(Ne,Nt,Nt.scopeId,Nt.slotScopeIds,bt.parent)}}},O=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt=0)=>{for(let gt=Qt;gt<Ne.length;gt++){const Dt=Ne[gt]=kt?cloneIfMounted(Ne[gt]):normalizeVNode(Ne[gt]);N(null,Dt,qe,lt,vt,bt,nt,Nt,kt)}},T=(Ne,qe,lt,vt,bt,nt,Nt)=>{const kt=qe.el=Ne.el;let{patchFlag:Qt,dynamicChildren:gt,dirs:Dt}=qe;Qt|=Ne.patchFlag&16;const zt=Ne.props||EMPTY_OBJ,et=qe.props||EMPTY_OBJ;let sn;lt&&toggleRecurse(lt,!1),(sn=et.onVnodeBeforeUpdate)&&invokeVNodeHook(sn,lt,qe,Ne),Dt&&invokeDirectiveHook(qe,Ne,lt,"beforeUpdate"),lt&&toggleRecurse(lt,!0),isHmrUpdating&&(Qt=0,Nt=!1,gt=null);const bn=bt&&qe.type!=="foreignObject";if(gt?(ce(Ne.dynamicChildren,gt,kt,lt,vt,bn,nt),lt&&lt.type.__hmrId&&traverseStaticChildren(Ne,qe)):Nt||Ge(Ne,qe,kt,null,lt,vt,bn,nt,!1),Qt>0){if(Qt&16)fe(kt,qe,zt,et,lt,vt,bt);else if(Qt&2&&zt.class!==et.class&&l(kt,"class",null,et.class,bt),Qt&4&&l(kt,"style",zt.style,et.style,bt),Qt&8){const Fn=qe.dynamicProps;for(let St=0;St<Fn.length;St++){const dt=Fn[St],At=zt[dt],Xt=et[dt];(Xt!==At||dt==="value")&&l(kt,dt,At,Xt,bt,Ne.children,lt,vt,st)}}Qt&1&&Ne.children!==qe.children&&D(kt,qe.children)}else!Nt&&gt==null&&fe(kt,qe,zt,et,lt,vt,bt);((sn=et.onVnodeUpdated)||Dt)&&queuePostRenderEffect(()=>{sn&&invokeVNodeHook(sn,lt,qe,Ne),Dt&&invokeDirectiveHook(qe,Ne,lt,"updated")},vt)},ce=(Ne,qe,lt,vt,bt,nt,Nt)=>{for(let kt=0;kt<qe.length;kt++){const Qt=Ne[kt],gt=qe[kt],Dt=Qt.el&&(Qt.type===Fragment||!isSameVNodeType(Qt,gt)||Qt.shapeFlag&70)?f(Qt.el):lt;N(Qt,gt,Dt,null,vt,bt,nt,Nt,!0)}},fe=(Ne,qe,lt,vt,bt,nt,Nt)=>{if(lt!==vt){if(lt!==EMPTY_OBJ)for(const kt in lt)!isReservedProp(kt)&&!(kt in vt)&&l(Ne,kt,lt[kt],null,Nt,qe.children,bt,nt,st);for(const kt in vt){if(isReservedProp(kt))continue;const Qt=vt[kt],gt=lt[kt];Qt!==gt&&kt!=="value"&&l(Ne,kt,gt,Qt,Nt,qe.children,bt,nt,st)}"value"in vt&&l(Ne,"value",lt.value,vt.value)}},Ee=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt)=>{const gt=qe.el=Ne?Ne.el:d(""),Dt=qe.anchor=Ne?Ne.anchor:d("");let{patchFlag:zt,dynamicChildren:et,slotScopeIds:sn}=qe;(isHmrUpdating||zt&2048)&&(zt=0,Qt=!1,et=null),sn&&(kt=kt?kt.concat(sn):sn),Ne==null?(i(gt,lt,vt),i(Dt,lt,vt),O(qe.children,lt,Dt,bt,nt,Nt,kt,Qt)):zt>0&&zt&64&&et&&Ne.dynamicChildren?(ce(Ne.dynamicChildren,et,lt,bt,nt,Nt,kt),bt&&bt.type.__hmrId?traverseStaticChildren(Ne,qe):(qe.key!=null||bt&&qe===bt.subTree)&&traverseStaticChildren(Ne,qe,!0)):Ge(Ne,qe,lt,Dt,bt,nt,Nt,kt,Qt)},Ae=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt)=>{qe.slotScopeIds=kt,Ne==null?qe.shapeFlag&512?bt.ctx.activate(qe,lt,vt,Nt,Qt):_e(qe,lt,vt,bt,nt,Nt,Qt):xe(Ne,qe,Qt)},_e=(Ne,qe,lt,vt,bt,nt,Nt)=>{const kt=Ne.component=createComponentInstance(Ne,vt,bt);if(kt.type.__hmrId&&registerHMR(kt),pushWarningContext(Ne),startMeasure(kt,"mount"),isKeepAlive(Ne)&&(kt.ctx.renderer=tt),startMeasure(kt,"init"),setupComponent(kt),endMeasure(kt,"init"),kt.asyncDep){if(bt&&bt.registerDep(kt,De),!Ne.el){const Qt=kt.subTree=createVNode(Comment);ie(null,Qt,qe,lt)}return}De(kt,Ne,qe,lt,bt,nt,Nt),popWarningContext(),endMeasure(kt,"mount")},xe=(Ne,qe,lt)=>{const vt=qe.component=Ne.component;if(shouldUpdateComponent(Ne,qe,lt))if(vt.asyncDep&&!vt.asyncResolved){pushWarningContext(qe),Le(vt,qe,lt),popWarningContext();return}else vt.next=qe,invalidateJob(vt.update),vt.update();else qe.el=Ne.el,vt.vnode=qe},De=(Ne,qe,lt,vt,bt,nt,Nt)=>{const kt=()=>{if(Ne.isMounted){let{next:Dt,bu:zt,u:et,parent:sn,vnode:bn}=Ne,Fn=Dt,St;pushWarningContext(Dt||Ne.vnode),toggleRecurse(Ne,!1),Dt?(Dt.el=bn.el,Le(Ne,Dt,Nt)):Dt=bn,zt&&invokeArrayFns(zt),(St=Dt.props&&Dt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(St,sn,Dt,bn),toggleRecurse(Ne,!0),startMeasure(Ne,"render");const dt=renderComponentRoot(Ne);endMeasure(Ne,"render");const At=Ne.subTree;Ne.subTree=dt,startMeasure(Ne,"patch"),N(At,dt,f(At.el),It(At),Ne,bt,nt),endMeasure(Ne,"patch"),Dt.el=dt.el,Fn===null&&updateHOCHostEl(Ne,dt.el),et&&queuePostRenderEffect(et,bt),(St=Dt.props&&Dt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(St,sn,Dt,bn),bt),devtoolsComponentUpdated(Ne),popWarningContext()}else{let Dt;const{el:zt,props:et}=qe,{bm:sn,m:bn,parent:Fn}=Ne,St=isAsyncWrapper(qe);if(toggleRecurse(Ne,!1),sn&&invokeArrayFns(sn),!St&&(Dt=et&&et.onVnodeBeforeMount)&&invokeVNodeHook(Dt,Fn,qe),toggleRecurse(Ne,!0),zt&&Ze){const dt=()=>{startMeasure(Ne,"render"),Ne.subTree=renderComponentRoot(Ne),endMeasure(Ne,"render"),startMeasure(Ne,"hydrate"),Ze(zt,Ne.subTree,Ne,bt,null),endMeasure(Ne,"hydrate")};St?qe.type.__asyncLoader().then(()=>!Ne.isUnmounted&&dt()):dt()}else{startMeasure(Ne,"render");const dt=Ne.subTree=renderComponentRoot(Ne);endMeasure(Ne,"render"),startMeasure(Ne,"patch"),N(null,dt,lt,vt,Ne,bt,nt),endMeasure(Ne,"patch"),qe.el=dt.el}if(bn&&queuePostRenderEffect(bn,bt),!St&&(Dt=et&&et.onVnodeMounted)){const dt=qe;queuePostRenderEffect(()=>invokeVNodeHook(Dt,Fn,dt),bt)}(qe.shapeFlag&256||Fn&&isAsyncWrapper(Fn.vnode)&&Fn.vnode.shapeFlag&256)&&Ne.a&&queuePostRenderEffect(Ne.a,bt),Ne.isMounted=!0,devtoolsComponentAdded(Ne),qe=lt=vt=null}},Qt=Ne.effect=new ReactiveEffect(kt,()=>queueJob(gt),Ne.scope),gt=Ne.update=()=>Qt.run();gt.id=Ne.uid,toggleRecurse(Ne,!0),Qt.onTrack=Ne.rtc?Dt=>invokeArrayFns(Ne.rtc,Dt):void 0,Qt.onTrigger=Ne.rtg?Dt=>invokeArrayFns(Ne.rtg,Dt):void 0,gt.ownerInstance=Ne,gt()},Le=(Ne,qe,lt)=>{qe.component=Ne;const vt=Ne.vnode.props;Ne.vnode=qe,Ne.next=null,updateProps(Ne,qe.props,vt,lt),updateSlots(Ne,qe.children,lt),pauseTracking(),flushPreFlushCbs(),resetTracking()},Ge=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt=!1)=>{const gt=Ne&&Ne.children,Dt=Ne?Ne.shapeFlag:0,zt=qe.children,{patchFlag:et,shapeFlag:sn}=qe;if(et>0){if(et&128){We(gt,zt,lt,vt,bt,nt,Nt,kt,Qt);return}else if(et&256){rt(gt,zt,lt,vt,bt,nt,Nt,kt,Qt);return}}sn&8?(Dt&16&&st(gt,bt,nt),zt!==gt&&D(lt,zt)):Dt&16?sn&16?We(gt,zt,lt,vt,bt,nt,Nt,kt,Qt):st(gt,bt,nt,!0):(Dt&8&&D(lt,""),sn&16&&O(zt,lt,vt,bt,nt,Nt,kt,Qt))},rt=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt)=>{Ne=Ne||EMPTY_ARR,qe=qe||EMPTY_ARR;const gt=Ne.length,Dt=qe.length,zt=Math.min(gt,Dt);let et;for(et=0;et<zt;et++){const sn=qe[et]=Qt?cloneIfMounted(qe[et]):normalizeVNode(qe[et]);N(Ne[et],sn,lt,null,bt,nt,Nt,kt,Qt)}gt>Dt?st(Ne,bt,nt,!0,!1,zt):O(qe,lt,vt,bt,nt,Nt,kt,Qt,zt)},We=(Ne,qe,lt,vt,bt,nt,Nt,kt,Qt)=>{let gt=0;const Dt=qe.length;let zt=Ne.length-1,et=Dt-1;for(;gt<=zt&&gt<=et;){const sn=Ne[gt],bn=qe[gt]=Qt?cloneIfMounted(qe[gt]):normalizeVNode(qe[gt]);if(isSameVNodeType(sn,bn))N(sn,bn,lt,null,bt,nt,Nt,kt,Qt);else break;gt++}for(;gt<=zt&&gt<=et;){const sn=Ne[zt],bn=qe[et]=Qt?cloneIfMounted(qe[et]):normalizeVNode(qe[et]);if(isSameVNodeType(sn,bn))N(sn,bn,lt,null,bt,nt,Nt,kt,Qt);else break;zt--,et--}if(gt>zt){if(gt<=et){const sn=et+1,bn=sn<Dt?qe[sn].el:vt;for(;gt<=et;)N(null,qe[gt]=Qt?cloneIfMounted(qe[gt]):normalizeVNode(qe[gt]),lt,bn,bt,nt,Nt,kt,Qt),gt++}}else if(gt>et)for(;gt<=zt;)Me(Ne[gt],bt,nt,!0),gt++;else{const sn=gt,bn=gt,Fn=new Map;for(gt=bn;gt<=et;gt++){const Un=qe[gt]=Qt?cloneIfMounted(qe[gt]):normalizeVNode(qe[gt]);Un.key!=null&&(Fn.has(Un.key)&&warn("Duplicate keys found during update:",JSON.stringify(Un.key),"Make sure keys are unique."),Fn.set(Un.key,gt))}let St,dt=0;const At=et-bn+1;let Xt=!1,cn=0;const zn=new Array(At);for(gt=0;gt<At;gt++)zn[gt]=0;for(gt=sn;gt<=zt;gt++){const Un=Ne[gt];if(dt>=At){Me(Un,bt,nt,!0);continue}let Mn;if(Un.key!=null)Mn=Fn.get(Un.key);else for(St=bn;St<=et;St++)if(zn[St-bn]===0&&isSameVNodeType(Un,qe[St])){Mn=St;break}Mn===void 0?Me(Un,bt,nt,!0):(zn[Mn-bn]=gt+1,Mn>=cn?cn=Mn:Xt=!0,N(Un,qe[Mn],lt,null,bt,nt,Nt,kt,Qt),dt++)}const Vr=Xt?getSequence(zn):EMPTY_ARR;for(St=Vr.length-1,gt=At-1;gt>=0;gt--){const Un=bn+gt,Mn=qe[Un],jr=Un+1<Dt?qe[Un+1].el:vt;zn[gt]===0?N(null,Mn,lt,jr,bt,nt,Nt,kt,Qt):Xt&&(St<0||gt!==Vr[St]?xt(Mn,lt,jr,2):St--)}}},xt=(Ne,qe,lt,vt,bt=null)=>{const{el:nt,type:Nt,transition:kt,children:Qt,shapeFlag:gt}=Ne;if(gt&6){xt(Ne.component.subTree,qe,lt,vt);return}if(gt&128){Ne.suspense.move(qe,lt,vt);return}if(gt&64){Nt.move(Ne,qe,lt,tt);return}if(Nt===Fragment){i(nt,qe,lt);for(let zt=0;zt<Qt.length;zt++)xt(Qt[zt],qe,lt,vt);i(Ne.anchor,qe,lt);return}if(Nt===Static){he(Ne,qe,lt);return}if(vt!==2&&gt&1&&kt)if(vt===0)kt.beforeEnter(nt),i(nt,qe,lt),queuePostRenderEffect(()=>kt.enter(nt),bt);else{const{leave:zt,delayLeave:et,afterLeave:sn}=kt,bn=()=>i(nt,qe,lt),Fn=()=>{zt(nt,()=>{bn(),sn&&sn()})};et?et(nt,bn,Fn):Fn()}else i(nt,qe,lt)},Me=(Ne,qe,lt,vt=!1,bt=!1)=>{const{type:nt,props:Nt,ref:kt,children:Qt,dynamicChildren:gt,shapeFlag:Dt,patchFlag:zt,dirs:et}=Ne;if(kt!=null&&setRef(kt,null,lt,Ne,!0),Dt&256){qe.ctx.deactivate(Ne);return}const sn=Dt&1&&et,bn=!isAsyncWrapper(Ne);let Fn;if(bn&&(Fn=Nt&&Nt.onVnodeBeforeUnmount)&&invokeVNodeHook(Fn,qe,Ne),Dt&6)Re(Ne.component,lt,vt);else{if(Dt&128){Ne.suspense.unmount(lt,vt);return}sn&&invokeDirectiveHook(Ne,null,qe,"beforeUnmount"),Dt&64?Ne.type.remove(Ne,qe,lt,bt,tt,vt):gt&&(nt!==Fragment||zt>0&&zt&64)?st(gt,qe,lt,!1,!0):(nt===Fragment&&zt&384||!bt&&Dt&16)&&st(Qt,qe,lt),vt&&Ue(Ne)}(bn&&(Fn=Nt&&Nt.onVnodeUnmounted)||sn)&&queuePostRenderEffect(()=>{Fn&&invokeVNodeHook(Fn,qe,Ne),sn&&invokeDirectiveHook(Ne,null,qe,"unmounted")},lt)},Ue=Ne=>{const{type:qe,el:lt,anchor:vt,transition:bt}=Ne;if(qe===Fragment){Ne.patchFlag>0&&Ne.patchFlag&2048&&bt&&!bt.persisted?Ne.children.forEach(Nt=>{Nt.type===Comment?a(Nt.el):Ue(Nt)}):Pe(lt,vt);return}if(qe===Static){pe(Ne);return}const nt=()=>{a(lt),bt&&!bt.persisted&&bt.afterLeave&&bt.afterLeave()};if(Ne.shapeFlag&1&&bt&&!bt.persisted){const{leave:Nt,delayLeave:kt}=bt,Qt=()=>Nt(lt,nt);kt?kt(Ne.el,nt,Qt):Qt()}else nt()},Pe=(Ne,qe)=>{let lt;for(;Ne!==qe;)lt=A(Ne),a(Ne),Ne=lt;a(qe)},Re=(Ne,qe,lt)=>{Ne.type.__hmrId&&unregisterHMR(Ne);const{bum:vt,scope:bt,update:nt,subTree:Nt,um:kt}=Ne;vt&&invokeArrayFns(vt),bt.stop(),nt&&(nt.active=!1,Me(Nt,Ne,qe,lt)),kt&&queuePostRenderEffect(kt,qe),queuePostRenderEffect(()=>{Ne.isUnmounted=!0},qe),qe&&qe.pendingBranch&&!qe.isUnmounted&&Ne.asyncDep&&!Ne.asyncResolved&&Ne.suspenseId===qe.pendingId&&(qe.deps--,qe.deps===0&&qe.resolve()),devtoolsComponentRemoved(Ne)},st=(Ne,qe,lt,vt=!1,bt=!1,nt=0)=>{for(let Nt=nt;Nt<Ne.length;Nt++)Me(Ne[Nt],qe,lt,vt,bt)},It=Ne=>Ne.shapeFlag&6?It(Ne.component.subTree):Ne.shapeFlag&128?Ne.suspense.next():A(Ne.anchor||Ne.el),Ct=(Ne,qe,lt)=>{Ne==null?qe._vnode&&Me(qe._vnode,null,null,!0):N(qe._vnode||null,Ne,qe,null,null,null,lt),flushPreFlushCbs(),flushPostFlushCbs(),qe._vnode=Ne},tt={p:N,um:Me,m:xt,r:Ue,mt:_e,mc:O,pc:Ge,pbc:ce,n:It,o:e};let Ve,Ze;return t&&([Ve,Ze]=t(tt)),{render:Ct,hydrate:Ve,createApp:createAppAPI(Ct,Ve)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const i=e.children,a=t.children;if(isArray$1(i)&&isArray$1(a))for(let l=0;l<i.length;l++){const c=i[l];let d=a[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=a[l]=cloneIfMounted(a[l]),d.el=c.el),r||traverseStaticChildren(c,d)),d.type===Text&&(d.el=c.el),d.type===Comment&&!d.el&&(d.el=c.el)}}function getSequence(e){const t=e.slice(),r=[0];let i,a,l,c,d;const E=e.length;for(i=0;i<E;i++){const C=e[i];if(C!==0){if(a=r[r.length-1],e[a]<C){t[i]=a,r.push(i);continue}for(l=0,c=r.length-1;l<c;)d=l+c>>1,e[r[d]]<C?l=d+1:c=d;C<e[r[l]]&&(l>0&&(t[i]=r[l-1]),r[l]=i)}}for(l=r.length,c=r[l-1];l-- >0;)r[l]=c,c=t[c];return r}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const r=e&&e.to;if(isString$2(r))if(t){const i=t(r);return i||warn(`Failed to locate Teleport target with selector "${r}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),i}else return warn("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!r&&!isTeleportDisabled(e)&&warn(`Invalid Teleport target: ${r}`),r},TeleportImpl={__isTeleport:!0,process(e,t,r,i,a,l,c,d,E,C){const{mc:D,pc:f,pbc:A,o:{insert:S,querySelector:L,createText:N,createComment:G}}=C,ie=isTeleportDisabled(t.props);let{shapeFlag:le,children:ae,dynamicChildren:he}=t;if(isHmrUpdating&&(E=!1,he=null),e==null){const pe=t.el=G("teleport start"),B=t.anchor=G("teleport end");S(pe,r,i),S(B,r,i);const se=t.target=resolveTarget(t.props,L),oe=t.targetAnchor=N("");se?(S(oe,se),c=c||isTargetSVG(se)):ie||warn("Invalid Teleport target on mount:",se,`(${typeof se})`);const O=(T,ce)=>{le&16&&D(ae,T,ce,a,l,c,d,E)};ie?O(r,B):se&&O(se,oe)}else{t.el=e.el;const pe=t.anchor=e.anchor,B=t.target=e.target,se=t.targetAnchor=e.targetAnchor,oe=isTeleportDisabled(e.props),O=oe?r:B,T=oe?pe:se;if(c=c||isTargetSVG(B),he?(A(e.dynamicChildren,he,O,a,l,c,d),traverseStaticChildren(e,t,!0)):E||f(e,t,O,T,a,l,c,d,!1),ie)oe||moveTeleport(t,r,pe,C,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ce=t.target=resolveTarget(t.props,L);ce?moveTeleport(t,ce,null,C,0):warn("Invalid Teleport target on update:",B,`(${typeof B})`)}else oe&&moveTeleport(t,B,se,C,1)}updateCssVars(t)},remove(e,t,r,i,{um:a,o:{remove:l}},c){const{shapeFlag:d,children:E,anchor:C,targetAnchor:D,target:f,props:A}=e;if(f&&l(D),(c||!isTeleportDisabled(A))&&(l(C),d&16))for(let S=0;S<E.length;S++){const L=E[S];a(L,t,r,!0,!!L.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,r,{o:{insert:i},m:a},l=2){l===0&&i(e.targetAnchor,t,r);const{el:c,anchor:d,shapeFlag:E,children:C,props:D}=e,f=l===2;if(f&&i(c,t,r),(!f||isTeleportDisabled(D))&&E&16)for(let A=0;A<C.length;A++)a(C[A],t,r,2);f&&i(d,t,r)}function hydrateTeleport(e,t,r,i,a,l,{o:{nextSibling:c,parentNode:d,querySelector:E}},C){const D=t.target=resolveTarget(t.props,E);if(D){const f=D._lpa||D.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=C(c(e),t,d(e),r,i,a,l),t.targetAnchor=f;else{t.anchor=c(e);let A=f;for(;A;)if(A=c(A),A&&A.nodeType===8&&A.data==="teleport anchor"){t.targetAnchor=A,D._lpa=t.targetAnchor&&c(t.targetAnchor);break}C(f,t,D,r,i,a,l)}updateCssVars(t)}return t.anchor&&c(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Fragment=Symbol("Fragment"),Text=Symbol("Text"),Comment=Symbol("Comment"),Static=Symbol("Static"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,i,a,l){return setupBlock(createBaseVNode(e,t,r,i,a,l,!0))}function createBlock(e,t,r,i,a){return setupBlock(createVNode(e,t,r,i,a,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return t.shapeFlag&6&&hmrDirtyComponents.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const createVNodeWithArgsTransform=(...e)=>_createVNode(...e),InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString$2(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,i=0,a=null,l=e===Fragment?0:1,c=!1,d=!1){const E={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return d?(normalizeChildren(E,r),l&128&&e.normalize(E)):r&&(E.shapeFlag|=isString$2(r)?8:16),E.key!==E.key&&warn("VNode created with invalid key (NaN). VNode type:",E.type),isBlockTreeEnabled>0&&!c&&currentBlock&&(E.patchFlag>0||l&6)&&E.patchFlag!==32&&currentBlock.push(E),E}const createVNode=createVNodeWithArgsTransform;function _createVNode(e,t=null,r=null,i=0,a=null,l=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e||warn(`Invalid vnode type when creating vnode: ${e}.`),e=Comment),isVNode(e)){const d=cloneVNode(e,t,!0);return r&&normalizeChildren(d,r),isBlockTreeEnabled>0&&!l&&currentBlock&&(d.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=d:currentBlock.push(d)),d.patchFlag|=-2,d}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:d,style:E}=t;d&&!isString$2(d)&&(t.class=normalizeClass(d)),isObject$2(E)&&(isProxy(E)&&!isArray$1(E)&&(E=extend$1({},E)),t.style=normalizeStyle(E))}const c=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return c&4&&isProxy(e)&&(e=toRaw(e),warn("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),createBaseVNode(e,t,r,i,a,c,l,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$1({},e):e:null}function cloneVNode(e,t,r=!1){const{props:i,ref:a,patchFlag:l,children:c}=e,d=t?mergeProps(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?r&&a?isArray$1(a)?a.concat(normalizeRef(t)):[a,normalizeRef(t)]:normalizeRef(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l===-1&&isArray$1(c)?c.map(deepCloneVNode):c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function deepCloneVNode(e){const t=cloneVNode(e);return isArray$1(e.children)&&(t.children=e.children.map(deepCloneVNode)),t}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(isArray$1(t))r=16;else if(typeof t=="object")if(i&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),i&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const a in i)if(a==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(a==="style")t.style=normalizeStyle([t.style,i.style]);else if(isOn$1(a)){const l=t[a],c=i[a];c&&l!==c&&!(isArray$1(l)&&l.includes(c))&&(t[a]=l?[].concat(l,c):c)}else a!==""&&(t[a]=i[a])}return t}function invokeVNodeHook(e,t,r,i=null){callWithAsyncErrorHandling(e,t,7,[r,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,r){const i=e.type,a=(t?t.appContext:e.appContext)||emptyAppContext,l={uid:uid++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,a),emitsOptions:normalizeEmitsOptions(i,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=createDevRenderContext(l),l.root=t?t.root:l,l.emit=emit.bind(null,l),e.ce&&e.ce(l),l}let currentInstance=null;const getCurrentInstance$1=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null},isBuiltInTag=makeMap("slot,component");function validateComponentName(e,t){const r=t.isNativeTag||NO;(isBuiltInTag(e)||r(e))&&warn("Do not use built-in or reserved HTML elements as component id: "+e)}function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:i}=e.vnode,a=isStatefulComponent(e);initProps(e,r,a,t),initSlots(e,i);const l=a?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(e,t){var r;const i=e.type;{if(i.name&&validateComponentName(i.name,e.appContext.config),i.components){const l=Object.keys(i.components);for(let c=0;c<l.length;c++)validateComponentName(l[c],e.appContext.config)}if(i.directives){const l=Object.keys(i.directives);for(let c=0;c<l.length;c++)validateDirectiveName(l[c])}i.compilerOptions&&isRuntimeOnly()&&warn('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers)),exposePropsOnRenderContext(e);const{setup:a}=i;if(a){const l=e.setupContext=a.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const c=callWithErrorHandling(a,e,0,[shallowReadonly(e.props),l]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(c)){if(c.then(unsetCurrentInstance,unsetCurrentInstance),t)return c.then(d=>{handleSetupResult(e,d,t)}).catch(d=>{handleError(d,e,0)});if(e.asyncDep=c,!e.suspense){const d=(r=i.name)!==null&&r!==void 0?r:"Anonymous";warn(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else handleSetupResult(e,c,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)?(isVNode(t)&&warn("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=proxyRefs(t),exposeSetupStateOnRenderContext(e)):t!==void 0&&warn(`setup() should return an object. Received: ${t===null?"null":typeof t}`),finishComponentSetup(e,r)}let compile;const isRuntimeOnly=()=>!compile;function finishComponentSetup(e,t,r){const i=e.type;if(!e.render){if(!t&&compile&&!i.render){const a=i.template||resolveMergedOptions(e).template;if(a){startMeasure(e,"compile");const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:d,compilerOptions:E}=i,C=extend$1(extend$1({isCustomElement:l,delimiters:d},c),E);i.render=compile(a,C),endMeasure(e,"compile")}}e.render=i.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance(),!i.render&&e.render===NOOP&&!t&&(i.template?warn('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):warn("Component is missing template or render function."))}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return markAttrsAccessed(),track(e,"get","$attrs"),t[r]},set(){return warn("setupContext.attrs is readonly."),!1},deleteProperty(){return warn("setupContext.attrs is readonly."),!1}})}function createSetupContext(e){const t=i=>{if(e.exposed&&warn("expose() should be called only once per setup()."),i!=null){let a=typeof i;a==="object"&&(isArray$1(i)?a="array":isRef(i)&&(a="ref")),a!=="object"&&warn(`expose() should be passed a plain object, received ${a}.`)}e.exposed=i||{}};let r;return Object.freeze({get attrs(){return r||(r=createAttrsProxy(e))},get slots(){return shallowReadonly(e.slots)},get emit(){return(i,...a)=>e.emit(i,...a)},expose:t})}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}}))}const classifyRE$1=/(?:^|[-_])(\w)/g,classify$1=e=>e.replace(classifyRE$1,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName$1(e,t,r=!1){let i=getComponentName(t);if(!i&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(i=a[1])}if(!i&&e&&e.parent){const a=l=>{for(const c in l)if(l[c]===t)return c};i=a(e.components||e.parent.type.components)||a(e.appContext.components)}return i?classify$1(i):r?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,r){const i=arguments.length;return i===2?isObject$2(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const ssrContextKey=Symbol("ssrContext"),useSSRContext=()=>{{const e=inject$1(ssrContextKey);return e||warn("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function isShallow(e){return!!(e&&e.__v_isShallow)}function initCustomFormatter(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},r={style:"color:#b62e24"},i={style:"color:#9d288c"},a={header(f){return isObject$2(f)?f.__isVue?["div",e,"VueInstance"]:isRef(f)?["div",{},["span",e,D(f)],"<",d(f.value),">"]:isReactive(f)?["div",{},["span",e,isShallow(f)?"ShallowReactive":"Reactive"],"<",d(f),`>${isReadonly(f)?" (readonly)":""}`]:isReadonly(f)?["div",{},["span",e,isShallow(f)?"ShallowReadonly":"Readonly"],"<",d(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...l(f.$)]}};function l(f){const A=[];f.type.props&&f.props&&A.push(c("props",toRaw(f.props))),f.setupState!==EMPTY_OBJ&&A.push(c("setup",f.setupState)),f.data!==EMPTY_OBJ&&A.push(c("data",toRaw(f.data)));const S=E(f,"computed");S&&A.push(c("computed",S));const L=E(f,"inject");return L&&A.push(c("injected",L)),A.push(["div",{},["span",{style:i.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),A}function c(f,A){return A=extend$1({},A),Object.keys(A).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(A).map(S=>["div",{},["span",i,S+": "],d(A[S],!1)])]]:["span",{}]}function d(f,A=!0){return typeof f=="number"?["span",t,f]:typeof f=="string"?["span",r,JSON.stringify(f)]:typeof f=="boolean"?["span",i,f]:isObject$2(f)?["object",{object:A?toRaw(f):f}]:["span",r,String(f)]}function E(f,A){const S=f.type;if(isFunction$2(S))return;const L={};for(const N in f.ctx)C(S,N,A)&&(L[N]=f.ctx[N]);return L}function C(f,A,S){const L=f[S];if(isArray$1(L)&&L.includes(A)||isObject$2(L)&&A in L||f.extends&&C(f.extends,A,S)||f.mixins&&f.mixins.some(N=>C(N,A,S)))return!0}function D(f){return isShallow(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(a):window.devtoolsFormatters=[a]}const version$3="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const a=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,a,l){const c=r?r.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===l||!(a=a.nextSibling)););else{templateContainer.innerHTML=i?`<svg>${e}</svg>`:e;const d=templateContainer.content;if(i){const E=d.firstChild;for(;E.firstChild;)d.appendChild(E.firstChild);d.removeChild(E)}t.insertBefore(d,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const i=e.style,a=isString$2(r);if(r&&!a){if(t&&!isString$2(t))for(const l in t)r[l]==null&&setStyle(i,l,"");for(const l in r)setStyle(i,l,r[l])}else{const l=i.display;a?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=l)}}const semicolonRE=/[^\\];\s*$/,importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$1(r))r.forEach(i=>setStyle(e,t,i));else if(r==null&&(r=""),semicolonRE.test(r)&&warn(`Unexpected semicolon at the end of '${t}' style value: '${r}'`),t.startsWith("--"))e.setProperty(t,r);else{const i=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(i),r.replace(importantRE,""),"important"):e[i]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let i=camelize(t);if(i!=="filter"&&i in e)return prefixCache[t]=i;i=capitalize(i);for(let a=0;a<prefixes.length;a++){const l=prefixes[a]+i;if(l in e)return prefixCache[t]=l}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,i,a){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const l=isSpecialBooleanAttr(t);r==null||l&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,l?"":r)}}function patchDOMProp(e,t,r,i,a,l,c){if(t==="innerHTML"||t==="textContent"){i&&c(i,a,l),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const E=r??"";(e.value!==E||e.tagName==="OPTION")&&(e.value=E),r==null&&e.removeAttribute(t);return}let d=!1;if(r===""||r==null){const E=typeof e[t];E==="boolean"?r=includeBooleanAttr(r):r==null&&E==="string"?(r="",d=!0):E==="number"&&(r=0,d=!0)}try{e[t]=r}catch(E){d||warn(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${r} is invalid.`,E)}d&&e.removeAttribute(t)}function addEventListener(e,t,r,i){e.addEventListener(t,r,i)}function removeEventListener(e,t,r,i){e.removeEventListener(t,r,i)}function patchEvent(e,t,r,i,a=null){const l=e._vei||(e._vei={}),c=l[t];if(i&&c)c.value=i;else{const[d,E]=parseName(t);if(i){const C=l[t]=createInvoker(i,a);addEventListener(e,d,C,E)}else c&&(removeEventListener(e,d,c,E),l[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let i;for(;i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,r.value),t,5,[i])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>a=>!a._stopped&&i&&i(a))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,i,a=!1,l,c,d,E)=>{t==="class"?patchClass(e,i,a):t==="style"?patchStyle(e,r,i):isOn$1(t)?isModelListener(t)||patchEvent(e,t,r,i,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,i,a))?patchDOMProp(e,t,i,l,c,d,E):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),patchAttr(e,t,i,a))};function shouldSetAsProp(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$2(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$2(r)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach(r=>r(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const fe in e)fe in DOMTransitionPropsValidators||(t[fe]=e[fe]);if(e.css===!1)return t;const{name:r="v",type:i,duration:a,enterFromClass:l=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:d=`${r}-enter-to`,appearFromClass:E=l,appearActiveClass:C=c,appearToClass:D=d,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:A=`${r}-leave-active`,leaveToClass:S=`${r}-leave-to`}=e,L=normalizeDuration(a),N=L&&L[0],G=L&&L[1],{onBeforeEnter:ie,onEnter:le,onEnterCancelled:ae,onLeave:he,onLeaveCancelled:pe,onBeforeAppear:B=ie,onAppear:se=le,onAppearCancelled:oe=ae}=t,O=(fe,Ee,Ae)=>{removeTransitionClass(fe,Ee?D:d),removeTransitionClass(fe,Ee?C:c),Ae&&Ae()},T=(fe,Ee)=>{fe._isLeaving=!1,removeTransitionClass(fe,f),removeTransitionClass(fe,S),removeTransitionClass(fe,A),Ee&&Ee()},ce=fe=>(Ee,Ae)=>{const _e=fe?se:le,xe=()=>O(Ee,fe,Ae);callHook(_e,[Ee,xe]),nextFrame(()=>{removeTransitionClass(Ee,fe?E:l),addTransitionClass(Ee,fe?D:d),hasExplicitCallback(_e)||whenTransitionEnds(Ee,i,N,xe)})};return extend$1(t,{onBeforeEnter(fe){callHook(ie,[fe]),addTransitionClass(fe,l),addTransitionClass(fe,c)},onBeforeAppear(fe){callHook(B,[fe]),addTransitionClass(fe,E),addTransitionClass(fe,C)},onEnter:ce(!1),onAppear:ce(!0),onLeave(fe,Ee){fe._isLeaving=!0;const Ae=()=>T(fe,Ee);addTransitionClass(fe,f),forceReflow(),addTransitionClass(fe,A),nextFrame(()=>{!fe._isLeaving||(removeTransitionClass(fe,f),addTransitionClass(fe,S),hasExplicitCallback(he)||whenTransitionEnds(fe,i,G,Ae))}),callHook(he,[fe,Ae])},onEnterCancelled(fe){O(fe,!1),callHook(ae,[fe])},onAppearCancelled(fe){O(fe,!0),callHook(oe,[fe])},onLeaveCancelled(fe){T(fe),callHook(pe,[fe])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){const t=toNumber(e);return assertNumber(t,"<transition> explicit duration"),t}function addTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,r,i){const a=e._endId=++endId,l=()=>{a===e._endId&&i()};if(r)return setTimeout(l,r);const{type:c,timeout:d,propCount:E}=getTransitionInfo(e,t);if(!c)return i();const C=c+"end";let D=0;const f=()=>{e.removeEventListener(C,A),l()},A=S=>{S.target===e&&++D>=E&&f()};setTimeout(()=>{D<E&&f()},d+1),e.addEventListener(C,A)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),i=L=>(r[L]||"").split(", "),a=i(`${TRANSITION}Delay`),l=i(`${TRANSITION}Duration`),c=getTimeout(a,l),d=i(`${ANIMATION}Delay`),E=i(`${ANIMATION}Duration`),C=getTimeout(d,E);let D=null,f=0,A=0;t===TRANSITION?c>0&&(D=TRANSITION,f=c,A=l.length):t===ANIMATION?C>0&&(D=ANIMATION,f=C,A=E.length):(f=Math.max(c,C),D=f>0?c>C?TRANSITION:ANIMATION:null,A=D?D===TRANSITION?l.length:E.length:0);const S=D===TRANSITION&&/\b(transform|all)(,|$)/.test(i(`${TRANSITION}Property`).toString());return{type:D,timeout:f,propCount:A,hasTransform:S}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>toMs(r)+toMs(e[i])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=getCurrentInstance$1(),i=useTransitionState();let a,l;return onUpdated(()=>{if(!a.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(a[0].el,r.vnode.el,c))return;a.forEach(callPendingCbs),a.forEach(recordPosition);const d=a.filter(applyTranslation);forceReflow(),d.forEach(E=>{const C=E.el,D=C.style;addTransitionClass(C,c),D.transform=D.webkitTransform=D.transitionDuration="";const f=C._moveCb=A=>{A&&A.target!==C||(!A||/transform$/.test(A.propertyName))&&(C.removeEventListener("transitionend",f),C._moveCb=null,removeTransitionClass(C,c))};C.addEventListener("transitionend",f)})}),()=>{const c=toRaw(e),d=resolveTransitionProps(c);let E=c.tag||Fragment;a=l,l=t.default?getTransitionRawChildren(t.default()):[];for(let C=0;C<l.length;C++){const D=l[C];D.key!=null?setTransitionHooks(D,resolveTransitionHooks(D,d,i,r)):warn("<TransitionGroup> children must be keyed.")}if(a)for(let C=0;C<a.length;C++){const D=a[C];setTransitionHooks(D,resolveTransitionHooks(D,d,i,r)),positionMap.set(D,D.el.getBoundingClientRect())}return createVNode(E,null,l)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),r=newPositionMap.get(e),i=t.left-r.left,a=t.top-r.top;if(i||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${i}px,${a}px)`,l.transitionDuration="0s",e}}function hasCSSTransform(e,t,r){const i=e.cloneNode();e._vtc&&e._vtc.forEach(c=>{c.split(/\s+/).forEach(d=>d&&i.classList.remove(d))}),r.split(/\s+/).forEach(c=>c&&i.classList.add(c)),i.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(i);const{hasTransform:l}=getTransitionInfo(i);return a.removeChild(i),l}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:r,number:i}},a){e._assign=getModelAssigner(a);const l=i||a.props&&a.props.type==="number";addEventListener(e,t?"change":"input",c=>{if(c.target.composing)return;let d=e.value;r&&(d=d.trim()),l&&(d=looseToNumber(d)),e._assign(d)}),r&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:i,number:a}},l){if(e._assign=getModelAssigner(l),e.composing||document.activeElement===e&&e.type!=="range"&&(r||i&&e.value.trim()===t||(a||e.type==="number")&&looseToNumber(e.value)===t))return;const c=t??"";e.value!==c&&(e.value=c)}},vModelCheckbox={deep:!0,created(e,t,r){e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{const i=e._modelValue,a=getValue(e),l=e.checked,c=e._assign;if(isArray$1(i)){const d=looseIndexOf(i,a),E=d!==-1;if(l&&!E)c(i.concat(a));else if(!l&&E){const C=[...i];C.splice(d,1),c(C)}}else if(isSet(i)){const d=new Set(i);l?d.add(a):d.delete(a),c(d)}else c(getCheckboxValue(e,l))})},mounted:setChecked,beforeUpdate(e,t,r){e._assign=getModelAssigner(r),setChecked(e,t,r)}};function setChecked(e,{value:t,oldValue:r},i){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,i.props.value)>-1:isSet(t)?e.checked=t.has(i.props.value):t!==r&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},r){e.checked=looseEqual(t,r.props.value),e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e._assign=getModelAssigner(i),t!==r&&(e.checked=looseEqual(t,i.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const a=isSet(t);addEventListener(e,"change",()=>{const l=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>r?looseToNumber(getValue(c)):getValue(c));e._assign(e.multiple?a?new Set(l):l:l[0])}),e._assign=getModelAssigner(i)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,r){e._assign=getModelAssigner(r)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const r=e.multiple;if(r&&!isArray$1(t)&&!isSet(t)){warn(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let i=0,a=e.options.length;i<a;i++){const l=e.options[i],c=getValue(l);if(r)isArray$1(t)?l.selected=looseIndexOf(t,c)>-1:l.selected=t.has(c);else if(looseEqual(getValue(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const vModelDynamic={created(e,t,r){callModelHook(e,t,r,null,"created")},mounted(e,t,r){callModelHook(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){callModelHook(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){callModelHook(e,t,r,i,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,r,i,a){const c=resolveDynamicModel(e.tagName,r.props&&r.props.type)[a];c&&c(e,t,r,i)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>(r,...i)=>{for(let a=0;a<t.length;a++){const l=modifierGuards[t[a]];if(l&&l(r,t))return}return e(r,...i)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>r=>{if(!("key"in r))return;const i=hyphenate(r.key);if(t.some(a=>a===i||keyNames[a]===i))return e(r)},vShow={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),setDisplay(e,!0),i.enter(e)):i.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...e)=>{ensureRenderer().render(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e);injectNativeTagCheck(t),injectCompilerOptionsCheck(t);const{mount:r}=t;return t.mount=i=>{const a=normalizeContainer(i);if(!a)return;const l=t._component;!isFunction$2(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const c=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),c},t};function injectNativeTagCheck(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>isHTMLTag(t)||isSVGTag(t),writable:!1})}function injectCompilerOptionsCheck(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){warn("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const r=e.config.compilerOptions,i='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return warn(i),r},set(){warn(i)}})}}function normalizeContainer(e){if(isString$2(e)){const t=document.querySelector(e);return t||warn(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&warn('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function initDev(){initCustomFormatter()}initDev();const __vite_glob_0_0=""+new URL("mxdrawassembly_min.8cebdfac.js",import.meta.url).href,__vite_glob_0_1=""+new URL("mxdrawassembly_min.43befc37.wasm",import.meta.url).href,__vite_glob_0_2=""+new URL("mxdrawassembly_min.worker.ded005df.js",import.meta.url).href,__vite_glob_1_0=""+new URL("mxdrawassembly_min.c9e64b94.js",import.meta.url).href,__vite_glob_1_1=""+new URL("mxdrawassembly_minst.c20cdb27.wasm",import.meta.url).href;class PubSub{constructor(){this.events={}}on(t,r){let i=this;i.events.hasOwnProperty(t)||(i.events[t]=[]),i.events[t].push(r)}emit(t,...r){this.events.hasOwnProperty(t)&&this.events[t].map(i=>i(...r))}off(t,r){if(this.events[t])if(r===void 0)this.events[t]=[];else{const i=this.events[t].indexOf(r);this.events[t].splice(i,1)}}}class Store{constructor(t){let r=this;r.actions={},r.mutations={},r.state=t.state,r.status="resting",r.events=new PubSub,t.hasOwnProperty("actions")&&(r.actions=t.actions),t.hasOwnProperty("mutations")&&(r.mutations=t.mutations)}dispatch(t,r){let i=this;return typeof i.actions[t]=="function"&&(console.groupCollapsed(`ACTION: ${t}`),i.status="action",i.actions[t](i,r),console.groupEnd(),!0)}commit(t,r){let i=this;if(typeof i.mutations[t]!="function")return console.log(`Mutation "${t}" doesn't exist`),!1;i.status="mutation";let a=i.mutations[t](i.state,r);return i.state=Object.assign(i.state,a),!0}}const options={state:{MxFun:null,Mxassembly:null,isCreateDrawObj:!1},actions:{},mutations:{}};for(let e in options.state){const t=e.charAt(0).toUpperCase()+e.slice(1);options.mutations["set"+t]=(r,i)=>{r[e]=i}}const store=new Store(options);function mxfun(){(function e(t,r,i){function a(d,E){if(!r[d]){if(!t[d]){var C=typeof require=="function"&&require;if(!E&&C)return C(d,!0);if(l)return l(d,!0);var D=new Error("Cannot find module '"+d+"'");throw D.code="MODULE_NOT_FOUND",D}var f=r[d]={exports:{}};t[d][0].call(f.exports,function(A){return a(t[d][1][A]||A)},f,f.exports,e,t,r,i)}return r[d].exports}for(var l=typeof require=="function"&&require,c=0;c<i.length;c++)a(i[c]);return a})({1:[function(e,t,r){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":2,"./lib/inflate":3,"./lib/utils/common":4,"./lib/zlib/constants":7}],2:[function(e,t,r){var i=e("./zlib/deflate"),a=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/messages"),d=e("./zlib/zstream"),E=Object.prototype.toString,C=0,D=-1,f=0,A=8;function S(N){if(!(this instanceof S))return new S(N);this.options=a.assign({level:D,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},N||{});var G=this.options;G.raw&&0<G.windowBits?G.windowBits=-G.windowBits:G.gzip&&0<G.windowBits&&G.windowBits<16&&(G.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var ie=i.deflateInit2(this.strm,G.level,G.method,G.windowBits,G.memLevel,G.strategy);if(ie!==C)throw new Error(c[ie]);if(G.header&&i.deflateSetHeader(this.strm,G.header),G.dictionary){var le;if(le=typeof G.dictionary=="string"?l.string2buf(G.dictionary):E.call(G.dictionary)==="[object ArrayBuffer]"?new Uint8Array(G.dictionary):G.dictionary,(ie=i.deflateSetDictionary(this.strm,le))!==C)throw new Error(c[ie]);this._dict_set=!0}}function L(N,G){var ie=new S(G);if(ie.push(N,!0),ie.err)throw ie.msg||c[ie.err];return ie.result}S.prototype.push=function(N,G){var ie,le,ae=this.strm,he=this.options.chunkSize;if(this.ended)return!1;le=G===~~G?G:G===!0?4:0,typeof N=="string"?ae.input=l.string2buf(N):E.call(N)==="[object ArrayBuffer]"?ae.input=new Uint8Array(N):ae.input=N,ae.next_in=0,ae.avail_in=ae.input.length;do{if(ae.avail_out===0&&(ae.output=new a.Buf8(he),ae.next_out=0,ae.avail_out=he),(ie=i.deflate(ae,le))!==1&&ie!==C)return this.onEnd(ie),!(this.ended=!0);ae.avail_out!==0&&(ae.avail_in!==0||le!==4&&le!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(ae.output,ae.next_out))):this.onData(a.shrinkBuf(ae.output,ae.next_out)))}while((0<ae.avail_in||ae.avail_out===0)&&ie!==1);return le===4?(ie=i.deflateEnd(this.strm),this.onEnd(ie),this.ended=!0,ie===C):le!==2||(this.onEnd(C),!(ae.avail_out=0))},S.prototype.onData=function(N){this.chunks.push(N)},S.prototype.onEnd=function(N){N===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},r.Deflate=S,r.deflate=L,r.deflateRaw=function(N,G){return(G=G||{}).raw=!0,L(N,G)},r.gzip=function(N,G){return(G=G||{}).gzip=!0,L(N,G)}},{"./utils/common":4,"./utils/strings":5,"./zlib/deflate":9,"./zlib/messages":14,"./zlib/zstream":16}],3:[function(e,t,r){var i=e("./zlib/inflate"),a=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),d=e("./zlib/messages"),E=e("./zlib/zstream"),C=e("./zlib/gzheader"),D=Object.prototype.toString;function f(S){if(!(this instanceof f))return new f(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var L=this.options;L.raw&&0<=L.windowBits&&L.windowBits<16&&(L.windowBits=-L.windowBits,L.windowBits===0&&(L.windowBits=-15)),!(0<=L.windowBits&&L.windowBits<16)||S&&S.windowBits||(L.windowBits+=32),15<L.windowBits&&L.windowBits<48&&(15&L.windowBits)==0&&(L.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var N=i.inflateInit2(this.strm,L.windowBits);if(N!==c.Z_OK)throw new Error(d[N]);if(this.header=new C,i.inflateGetHeader(this.strm,this.header),L.dictionary&&(typeof L.dictionary=="string"?L.dictionary=l.string2buf(L.dictionary):D.call(L.dictionary)==="[object ArrayBuffer]"&&(L.dictionary=new Uint8Array(L.dictionary)),L.raw&&(N=i.inflateSetDictionary(this.strm,L.dictionary))!==c.Z_OK))throw new Error(d[N])}function A(S,L){var N=new f(L);if(N.push(S,!0),N.err)throw N.msg||d[N.err];return N.result}f.prototype.push=function(S,L){var N,G,ie,le,ae,he=this.strm,pe=this.options.chunkSize,B=this.options.dictionary,se=!1;if(this.ended)return!1;G=L===~~L?L:L===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof S=="string"?he.input=l.binstring2buf(S):D.call(S)==="[object ArrayBuffer]"?he.input=new Uint8Array(S):he.input=S,he.next_in=0,he.avail_in=he.input.length;do{if(he.avail_out===0&&(he.output=new a.Buf8(pe),he.next_out=0,he.avail_out=pe),(N=i.inflate(he,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&B&&(N=i.inflateSetDictionary(this.strm,B)),N===c.Z_BUF_ERROR&&se===!0&&(N=c.Z_OK,se=!1),N!==c.Z_STREAM_END&&N!==c.Z_OK)return this.onEnd(N),!(this.ended=!0);he.next_out&&(he.avail_out!==0&&N!==c.Z_STREAM_END&&(he.avail_in!==0||G!==c.Z_FINISH&&G!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(ie=l.utf8border(he.output,he.next_out),le=he.next_out-ie,ae=l.buf2string(he.output,ie),he.next_out=le,he.avail_out=pe-le,le&&a.arraySet(he.output,he.output,ie,le,0),this.onData(ae)):this.onData(a.shrinkBuf(he.output,he.next_out)))),he.avail_in===0&&he.avail_out===0&&(se=!0)}while((0<he.avail_in||he.avail_out===0)&&N!==c.Z_STREAM_END);return N===c.Z_STREAM_END&&(G=c.Z_FINISH),G===c.Z_FINISH?(N=i.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===c.Z_OK):G!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(he.avail_out=0))},f.prototype.onData=function(S){this.chunks.push(S)},f.prototype.onEnd=function(S){S===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},r.Inflate=f,r.inflate=A,r.inflateRaw=function(S,L){return(L=L||{}).raw=!0,A(S,L)},r.ungzip=A},{"./utils/common":4,"./utils/strings":5,"./zlib/constants":7,"./zlib/gzheader":10,"./zlib/inflate":12,"./zlib/messages":14,"./zlib/zstream":16}],4:[function(e,t,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var d,E,C=Array.prototype.slice.call(arguments,1);C.length;){var D=C.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var f in D)d=D,E=f,Object.prototype.hasOwnProperty.call(d,E)&&(c[f]=D[f])}}return c},r.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,E,C,D){if(d.subarray&&c.subarray)c.set(d.subarray(E,E+C),D);else for(var f=0;f<C;f++)c[D+f]=d[E+f]},flattenChunks:function(c){var d,E,C,D,f,A;for(d=C=0,E=c.length;d<E;d++)C+=c[d].length;for(A=new Uint8Array(C),d=D=0,E=c.length;d<E;d++)f=c[d],A.set(f,D),D+=f.length;return A}},l={arraySet:function(c,d,E,C,D){for(var f=0;f<C;f++)c[D+f]=d[E+f]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(i)},{}],5:[function(e,t,r){var i=e("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function E(C,D){if(D<65534&&(C.subarray&&l||!C.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(C,D));for(var f="",A=0;A<D;A++)f+=String.fromCharCode(C[A]);return f}c[254]=c[254]=1,r.string2buf=function(C){var D,f,A,S,L,N=C.length,G=0;for(S=0;S<N;S++)(64512&(f=C.charCodeAt(S)))==55296&&S+1<N&&(64512&(A=C.charCodeAt(S+1)))==56320&&(f=65536+(f-55296<<10)+(A-56320),S++),G+=f<128?1:f<2048?2:f<65536?3:4;for(D=new i.Buf8(G),S=L=0;L<G;S++)(64512&(f=C.charCodeAt(S)))==55296&&S+1<N&&(64512&(A=C.charCodeAt(S+1)))==56320&&(f=65536+(f-55296<<10)+(A-56320),S++),f<128?D[L++]=f:(f<2048?D[L++]=192|f>>>6:(f<65536?D[L++]=224|f>>>12:(D[L++]=240|f>>>18,D[L++]=128|f>>>12&63),D[L++]=128|f>>>6&63),D[L++]=128|63&f);return D},r.buf2binstring=function(C){return E(C,C.length)},r.binstring2buf=function(C){for(var D=new i.Buf8(C.length),f=0,A=D.length;f<A;f++)D[f]=C.charCodeAt(f);return D},r.buf2string=function(C,D){var f,A,S,L,N=D||C.length,G=new Array(2*N);for(f=A=0;f<N;)if((S=C[f++])<128)G[A++]=S;else if(4<(L=c[S]))G[A++]=65533,f+=L-1;else{for(S&=L===2?31:L===3?15:7;1<L&&f<N;)S=S<<6|63&C[f++],L--;1<L?G[A++]=65533:S<65536?G[A++]=S:(S-=65536,G[A++]=55296|S>>10&1023,G[A++]=56320|1023&S)}return E(G,A)},r.utf8border=function(C,D){var f;for((D=D||C.length)>C.length&&(D=C.length),f=D-1;0<=f&&(192&C[f])==128;)f--;return!(f<0)&&f!==0&&f+c[C[f]]>D?f:D}},{"./common":4}],6:[function(e,t,r){t.exports=function(i,a,l,c){for(var d=65535&i|0,E=i>>>16&65535|0,C=0;l!==0;){for(l-=C=2e3<l?2e3:l;E=E+(d=d+a[c++]|0)|0,--C;);d%=65521,E%=65521}return d|E<<16|0}},{}],7:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],8:[function(e,t,r){var i=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();t.exports=function(a,l,c,d){var E=i,C=d+c;a^=-1;for(var D=d;D<C;D++)a=a>>>8^E[255&(a^l[D])];return-1^a}},{}],9:[function(e,t,r){var i,a=e("../utils/common"),l=e("./trees"),c=e("./adler32"),d=e("./crc32"),E=e("./messages"),C=0,D=0,f=-2,A=2,S=8,L=286,N=30,G=19,ie=2*L+1,le=15,ae=3,he=258,pe=he+ae+1,B=42,se=113;function oe(Me,Ue){return Me.msg=E[Ue],Ue}function O(Me){return(Me<<1)-(4<Me?9:0)}function T(Me){for(var Ue=Me.length;0<=--Ue;)Me[Ue]=0}function ce(Me){var Ue=Me.state,Pe=Ue.pending;Pe>Me.avail_out&&(Pe=Me.avail_out),Pe!==0&&(a.arraySet(Me.output,Ue.pending_buf,Ue.pending_out,Pe,Me.next_out),Me.next_out+=Pe,Ue.pending_out+=Pe,Me.total_out+=Pe,Me.avail_out-=Pe,Ue.pending-=Pe,Ue.pending===0&&(Ue.pending_out=0))}function fe(Me,Ue){l._tr_flush_block(Me,0<=Me.block_start?Me.block_start:-1,Me.strstart-Me.block_start,Ue),Me.block_start=Me.strstart,ce(Me.strm)}function Ee(Me,Ue){Me.pending_buf[Me.pending++]=Ue}function Ae(Me,Ue){Me.pending_buf[Me.pending++]=Ue>>>8&255,Me.pending_buf[Me.pending++]=255&Ue}function _e(Me,Ue){var Pe,Re,st=Me.max_chain_length,It=Me.strstart,Ct=Me.prev_length,tt=Me.nice_match,Ve=Me.strstart>Me.w_size-pe?Me.strstart-(Me.w_size-pe):0,Ze=Me.window,Ne=Me.w_mask,qe=Me.prev,lt=Me.strstart+he,vt=Ze[It+Ct-1],bt=Ze[It+Ct];Me.prev_length>=Me.good_match&&(st>>=2),tt>Me.lookahead&&(tt=Me.lookahead);do if(Ze[(Pe=Ue)+Ct]===bt&&Ze[Pe+Ct-1]===vt&&Ze[Pe]===Ze[It]&&Ze[++Pe]===Ze[It+1]){It+=2,Pe++;do;while(Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&Ze[++It]===Ze[++Pe]&&It<lt);if(Re=he-(lt-It),It=lt-he,Ct<Re){if(Me.match_start=Ue,tt<=(Ct=Re))break;vt=Ze[It+Ct-1],bt=Ze[It+Ct]}}while((Ue=qe[Ue&Ne])>Ve&&--st!=0);return Ct<=Me.lookahead?Ct:Me.lookahead}function xe(Me){var Ue,Pe,Re,st,It,Ct,tt,Ve,Ze,Ne,qe=Me.w_size;do{if(st=Me.window_size-Me.lookahead-Me.strstart,Me.strstart>=qe+(qe-pe)){for(a.arraySet(Me.window,Me.window,qe,qe,0),Me.match_start-=qe,Me.strstart-=qe,Me.block_start-=qe,Ue=Pe=Me.hash_size;Re=Me.head[--Ue],Me.head[Ue]=qe<=Re?Re-qe:0,--Pe;);for(Ue=Pe=qe;Re=Me.prev[--Ue],Me.prev[Ue]=qe<=Re?Re-qe:0,--Pe;);st+=qe}if(Me.strm.avail_in===0)break;if(Ct=Me.strm,tt=Me.window,Ve=Me.strstart+Me.lookahead,Ne=void 0,(Ze=st)<(Ne=Ct.avail_in)&&(Ne=Ze),Pe=Ne===0?0:(Ct.avail_in-=Ne,a.arraySet(tt,Ct.input,Ct.next_in,Ne,Ve),Ct.state.wrap===1?Ct.adler=c(Ct.adler,tt,Ne,Ve):Ct.state.wrap===2&&(Ct.adler=d(Ct.adler,tt,Ne,Ve)),Ct.next_in+=Ne,Ct.total_in+=Ne,Ne),Me.lookahead+=Pe,Me.lookahead+Me.insert>=ae)for(It=Me.strstart-Me.insert,Me.ins_h=Me.window[It],Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[It+1])&Me.hash_mask;Me.insert&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[It+ae-1])&Me.hash_mask,Me.prev[It&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=It,It++,Me.insert--,!(Me.lookahead+Me.insert<ae)););}while(Me.lookahead<pe&&Me.strm.avail_in!==0)}function De(Me,Ue){for(var Pe,Re;;){if(Me.lookahead<pe){if(xe(Me),Me.lookahead<pe&&Ue===C)return 1;if(Me.lookahead===0)break}if(Pe=0,Me.lookahead>=ae&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+ae-1])&Me.hash_mask,Pe=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart),Pe!==0&&Me.strstart-Pe<=Me.w_size-pe&&(Me.match_length=_e(Me,Pe)),Me.match_length>=ae)if(Re=l._tr_tally(Me,Me.strstart-Me.match_start,Me.match_length-ae),Me.lookahead-=Me.match_length,Me.match_length<=Me.max_lazy_match&&Me.lookahead>=ae){for(Me.match_length--;Me.strstart++,Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+ae-1])&Me.hash_mask,Pe=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart,--Me.match_length!=0;);Me.strstart++}else Me.strstart+=Me.match_length,Me.match_length=0,Me.ins_h=Me.window[Me.strstart],Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+1])&Me.hash_mask;else Re=l._tr_tally(Me,0,Me.window[Me.strstart]),Me.lookahead--,Me.strstart++;if(Re&&(fe(Me,!1),Me.strm.avail_out===0))return 1}return Me.insert=Me.strstart<ae-1?Me.strstart:ae-1,Ue===4?(fe(Me,!0),Me.strm.avail_out===0?3:4):Me.last_lit&&(fe(Me,!1),Me.strm.avail_out===0)?1:2}function Le(Me,Ue){for(var Pe,Re,st;;){if(Me.lookahead<pe){if(xe(Me),Me.lookahead<pe&&Ue===C)return 1;if(Me.lookahead===0)break}if(Pe=0,Me.lookahead>=ae&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+ae-1])&Me.hash_mask,Pe=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart),Me.prev_length=Me.match_length,Me.prev_match=Me.match_start,Me.match_length=ae-1,Pe!==0&&Me.prev_length<Me.max_lazy_match&&Me.strstart-Pe<=Me.w_size-pe&&(Me.match_length=_e(Me,Pe),Me.match_length<=5&&(Me.strategy===1||Me.match_length===ae&&4096<Me.strstart-Me.match_start)&&(Me.match_length=ae-1)),Me.prev_length>=ae&&Me.match_length<=Me.prev_length){for(st=Me.strstart+Me.lookahead-ae,Re=l._tr_tally(Me,Me.strstart-1-Me.prev_match,Me.prev_length-ae),Me.lookahead-=Me.prev_length-1,Me.prev_length-=2;++Me.strstart<=st&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+ae-1])&Me.hash_mask,Pe=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart),--Me.prev_length!=0;);if(Me.match_available=0,Me.match_length=ae-1,Me.strstart++,Re&&(fe(Me,!1),Me.strm.avail_out===0))return 1}else if(Me.match_available){if((Re=l._tr_tally(Me,0,Me.window[Me.strstart-1]))&&fe(Me,!1),Me.strstart++,Me.lookahead--,Me.strm.avail_out===0)return 1}else Me.match_available=1,Me.strstart++,Me.lookahead--}return Me.match_available&&(Re=l._tr_tally(Me,0,Me.window[Me.strstart-1]),Me.match_available=0),Me.insert=Me.strstart<ae-1?Me.strstart:ae-1,Ue===4?(fe(Me,!0),Me.strm.avail_out===0?3:4):Me.last_lit&&(fe(Me,!1),Me.strm.avail_out===0)?1:2}function Ge(Me,Ue,Pe,Re,st){this.good_length=Me,this.max_lazy=Ue,this.nice_length=Pe,this.max_chain=Re,this.func=st}function rt(Me){var Ue;return Me&&Me.state?(Me.total_in=Me.total_out=0,Me.data_type=A,(Ue=Me.state).pending=0,Ue.pending_out=0,Ue.wrap<0&&(Ue.wrap=-Ue.wrap),Ue.status=Ue.wrap?B:se,Me.adler=Ue.wrap===2?0:1,Ue.last_flush=C,l._tr_init(Ue),D):oe(Me,f)}function We(Me){var Ue,Pe=rt(Me);return Pe===D&&((Ue=Me.state).window_size=2*Ue.w_size,T(Ue.head),Ue.max_lazy_match=i[Ue.level].max_lazy,Ue.good_match=i[Ue.level].good_length,Ue.nice_match=i[Ue.level].nice_length,Ue.max_chain_length=i[Ue.level].max_chain,Ue.strstart=0,Ue.block_start=0,Ue.lookahead=0,Ue.insert=0,Ue.match_length=Ue.prev_length=ae-1,Ue.match_available=0,Ue.ins_h=0),Pe}function xt(Me,Ue,Pe,Re,st,It){if(!Me)return f;var Ct=1;if(Ue===-1&&(Ue=6),Re<0?(Ct=0,Re=-Re):15<Re&&(Ct=2,Re-=16),st<1||9<st||Pe!==S||Re<8||15<Re||Ue<0||9<Ue||It<0||4<It)return oe(Me,f);Re===8&&(Re=9);var tt=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*ie),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*G+1)),T(this.dyn_ltree),T(this.dyn_dtree),T(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(le+1),this.heap=new a.Buf16(2*L+1),T(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*L+1),T(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return(Me.state=tt).strm=Me,tt.wrap=Ct,tt.gzhead=null,tt.w_bits=Re,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=st+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+ae-1)/ae),tt.window=new a.Buf8(2*tt.w_size),tt.head=new a.Buf16(tt.hash_size),tt.prev=new a.Buf16(tt.w_size),tt.lit_bufsize=1<<st+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new a.Buf8(tt.pending_buf_size),tt.d_buf=+tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=Ue,tt.strategy=It,tt.method=Pe,We(Me)}i=[new Ge(0,0,0,0,function(Me,Ue){var Pe=65535;for(Pe>Me.pending_buf_size-5&&(Pe=Me.pending_buf_size-5);;){if(Me.lookahead<=1){if(xe(Me),Me.lookahead===0&&Ue===C)return 1;if(Me.lookahead===0)break}Me.strstart+=Me.lookahead,Me.lookahead=0;var Re=Me.block_start+Pe;if((Me.strstart===0||Me.strstart>=Re)&&(Me.lookahead=Me.strstart-Re,Me.strstart=Re,fe(Me,!1),Me.strm.avail_out===0)||Me.strstart-Me.block_start>=Me.w_size-pe&&(fe(Me,!1),Me.strm.avail_out===0))return 1}return Me.insert=0,Ue===4?(fe(Me,!0),Me.strm.avail_out===0?3:4):(Me.strstart>Me.block_start&&(fe(Me,!1),Me.strm.avail_out),1)}),new Ge(4,4,8,4,De),new Ge(4,5,16,8,De),new Ge(4,6,32,32,De),new Ge(4,4,16,16,Le),new Ge(8,16,32,32,Le),new Ge(8,16,128,128,Le),new Ge(8,32,128,256,Le),new Ge(32,128,258,1024,Le),new Ge(32,258,258,4096,Le)],r.deflateInit=function(Me,Ue){return xt(Me,Ue,S,15,8,0)},r.deflateInit2=xt,r.deflateReset=We,r.deflateResetKeep=rt,r.deflateSetHeader=function(Me,Ue){return Me&&Me.state&&Me.state.wrap===2?(Me.state.gzhead=Ue,D):f},r.deflate=function(Me,Ue){var Pe,Re,st,It;if(!Me||!Me.state||5<Ue||Ue<0)return Me?oe(Me,f):f;if(Re=Me.state,!Me.output||!Me.input&&Me.avail_in!==0||Re.status===666&&Ue!==4)return oe(Me,Me.avail_out===0?-5:f);if(Re.strm=Me,Pe=Re.last_flush,Re.last_flush=Ue,Re.status===B)if(Re.wrap===2)Me.adler=0,Ee(Re,31),Ee(Re,139),Ee(Re,8),Re.gzhead?(Ee(Re,(Re.gzhead.text?1:0)+(Re.gzhead.hcrc?2:0)+(Re.gzhead.extra?4:0)+(Re.gzhead.name?8:0)+(Re.gzhead.comment?16:0)),Ee(Re,255&Re.gzhead.time),Ee(Re,Re.gzhead.time>>8&255),Ee(Re,Re.gzhead.time>>16&255),Ee(Re,Re.gzhead.time>>24&255),Ee(Re,Re.level===9?2:2<=Re.strategy||Re.level<2?4:0),Ee(Re,255&Re.gzhead.os),Re.gzhead.extra&&Re.gzhead.extra.length&&(Ee(Re,255&Re.gzhead.extra.length),Ee(Re,Re.gzhead.extra.length>>8&255)),Re.gzhead.hcrc&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending,0)),Re.gzindex=0,Re.status=69):(Ee(Re,0),Ee(Re,0),Ee(Re,0),Ee(Re,0),Ee(Re,0),Ee(Re,Re.level===9?2:2<=Re.strategy||Re.level<2?4:0),Ee(Re,3),Re.status=se);else{var Ct=S+(Re.w_bits-8<<4)<<8;Ct|=(2<=Re.strategy||Re.level<2?0:Re.level<6?1:Re.level===6?2:3)<<6,Re.strstart!==0&&(Ct|=32),Ct+=31-Ct%31,Re.status=se,Ae(Re,Ct),Re.strstart!==0&&(Ae(Re,Me.adler>>>16),Ae(Re,65535&Me.adler)),Me.adler=1}if(Re.status===69)if(Re.gzhead.extra){for(st=Re.pending;Re.gzindex<(65535&Re.gzhead.extra.length)&&(Re.pending!==Re.pending_buf_size||(Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),ce(Me),st=Re.pending,Re.pending!==Re.pending_buf_size));)Ee(Re,255&Re.gzhead.extra[Re.gzindex]),Re.gzindex++;Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),Re.gzindex===Re.gzhead.extra.length&&(Re.gzindex=0,Re.status=73)}else Re.status=73;if(Re.status===73)if(Re.gzhead.name){st=Re.pending;do{if(Re.pending===Re.pending_buf_size&&(Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),ce(Me),st=Re.pending,Re.pending===Re.pending_buf_size)){It=1;break}It=Re.gzindex<Re.gzhead.name.length?255&Re.gzhead.name.charCodeAt(Re.gzindex++):0,Ee(Re,It)}while(It!==0);Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),It===0&&(Re.gzindex=0,Re.status=91)}else Re.status=91;if(Re.status===91)if(Re.gzhead.comment){st=Re.pending;do{if(Re.pending===Re.pending_buf_size&&(Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),ce(Me),st=Re.pending,Re.pending===Re.pending_buf_size)){It=1;break}It=Re.gzindex<Re.gzhead.comment.length?255&Re.gzhead.comment.charCodeAt(Re.gzindex++):0,Ee(Re,It)}while(It!==0);Re.gzhead.hcrc&&Re.pending>st&&(Me.adler=d(Me.adler,Re.pending_buf,Re.pending-st,st)),It===0&&(Re.status=103)}else Re.status=103;if(Re.status===103&&(Re.gzhead.hcrc?(Re.pending+2>Re.pending_buf_size&&ce(Me),Re.pending+2<=Re.pending_buf_size&&(Ee(Re,255&Me.adler),Ee(Re,Me.adler>>8&255),Me.adler=0,Re.status=se)):Re.status=se),Re.pending!==0){if(ce(Me),Me.avail_out===0)return Re.last_flush=-1,D}else if(Me.avail_in===0&&O(Ue)<=O(Pe)&&Ue!==4)return oe(Me,-5);if(Re.status===666&&Me.avail_in!==0)return oe(Me,-5);if(Me.avail_in!==0||Re.lookahead!==0||Ue!==C&&Re.status!==666){var tt=Re.strategy===2?function(Ve,Ze){for(var Ne;;){if(Ve.lookahead===0&&(xe(Ve),Ve.lookahead===0)){if(Ze===C)return 1;break}if(Ve.match_length=0,Ne=l._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++,Ne&&(fe(Ve,!1),Ve.strm.avail_out===0))return 1}return Ve.insert=0,Ze===4?(fe(Ve,!0),Ve.strm.avail_out===0?3:4):Ve.last_lit&&(fe(Ve,!1),Ve.strm.avail_out===0)?1:2}(Re,Ue):Re.strategy===3?function(Ve,Ze){for(var Ne,qe,lt,vt,bt=Ve.window;;){if(Ve.lookahead<=he){if(xe(Ve),Ve.lookahead<=he&&Ze===C)return 1;if(Ve.lookahead===0)break}if(Ve.match_length=0,Ve.lookahead>=ae&&0<Ve.strstart&&(qe=bt[lt=Ve.strstart-1])===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]){vt=Ve.strstart+he;do;while(qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&qe===bt[++lt]&&lt<vt);Ve.match_length=he-(vt-lt),Ve.match_length>Ve.lookahead&&(Ve.match_length=Ve.lookahead)}if(Ve.match_length>=ae?(Ne=l._tr_tally(Ve,1,Ve.match_length-ae),Ve.lookahead-=Ve.match_length,Ve.strstart+=Ve.match_length,Ve.match_length=0):(Ne=l._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++),Ne&&(fe(Ve,!1),Ve.strm.avail_out===0))return 1}return Ve.insert=0,Ze===4?(fe(Ve,!0),Ve.strm.avail_out===0?3:4):Ve.last_lit&&(fe(Ve,!1),Ve.strm.avail_out===0)?1:2}(Re,Ue):i[Re.level].func(Re,Ue);if(tt!==3&&tt!==4||(Re.status=666),tt===1||tt===3)return Me.avail_out===0&&(Re.last_flush=-1),D;if(tt===2&&(Ue===1?l._tr_align(Re):Ue!==5&&(l._tr_stored_block(Re,0,0,!1),Ue===3&&(T(Re.head),Re.lookahead===0&&(Re.strstart=0,Re.block_start=0,Re.insert=0))),ce(Me),Me.avail_out===0))return Re.last_flush=-1,D}return Ue!==4?D:Re.wrap<=0?1:(Re.wrap===2?(Ee(Re,255&Me.adler),Ee(Re,Me.adler>>8&255),Ee(Re,Me.adler>>16&255),Ee(Re,Me.adler>>24&255),Ee(Re,255&Me.total_in),Ee(Re,Me.total_in>>8&255),Ee(Re,Me.total_in>>16&255),Ee(Re,Me.total_in>>24&255)):(Ae(Re,Me.adler>>>16),Ae(Re,65535&Me.adler)),ce(Me),0<Re.wrap&&(Re.wrap=-Re.wrap),Re.pending!==0?D:1)},r.deflateEnd=function(Me){var Ue;return Me&&Me.state?(Ue=Me.state.status)!==B&&Ue!==69&&Ue!==73&&Ue!==91&&Ue!==103&&Ue!==se&&Ue!==666?oe(Me,f):(Me.state=null,Ue===se?oe(Me,-3):D):f},r.deflateSetDictionary=function(Me,Ue){var Pe,Re,st,It,Ct,tt,Ve,Ze,Ne=Ue.length;if(!Me||!Me.state||(It=(Pe=Me.state).wrap)===2||It===1&&Pe.status!==B||Pe.lookahead)return f;for(It===1&&(Me.adler=c(Me.adler,Ue,Ne,0)),Pe.wrap=0,Ne>=Pe.w_size&&(It===0&&(T(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0),Ze=new a.Buf8(Pe.w_size),a.arraySet(Ze,Ue,Ne-Pe.w_size,Pe.w_size,0),Ue=Ze,Ne=Pe.w_size),Ct=Me.avail_in,tt=Me.next_in,Ve=Me.input,Me.avail_in=Ne,Me.next_in=0,Me.input=Ue,xe(Pe);Pe.lookahead>=ae;){for(Re=Pe.strstart,st=Pe.lookahead-(ae-1);Pe.ins_h=(Pe.ins_h<<Pe.hash_shift^Pe.window[Re+ae-1])&Pe.hash_mask,Pe.prev[Re&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=Re,Re++,--st;);Pe.strstart=Re,Pe.lookahead=ae-1,xe(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=ae-1,Pe.match_available=0,Me.next_in=tt,Me.input=Ve,Me.avail_in=Ct,Pe.wrap=It,D},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./messages":14,"./trees":15}],10:[function(e,t,r){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],11:[function(e,t,r){t.exports=function(i,a){var l,c,d,E,C,D,f,A,S,L,N,G,ie,le,ae,he,pe,B,se,oe,O,T,ce,fe,Ee;l=i.state,c=i.next_in,fe=i.input,d=c+(i.avail_in-5),E=i.next_out,Ee=i.output,C=E-(a-i.avail_out),D=E+(i.avail_out-257),f=l.dmax,A=l.wsize,S=l.whave,L=l.wnext,N=l.window,G=l.hold,ie=l.bits,le=l.lencode,ae=l.distcode,he=(1<<l.lenbits)-1,pe=(1<<l.distbits)-1;e:do{ie<15&&(G+=fe[c++]<<ie,ie+=8,G+=fe[c++]<<ie,ie+=8),B=le[G&he];t:for(;;){if(G>>>=se=B>>>24,ie-=se,(se=B>>>16&255)==0)Ee[E++]=65535&B;else{if(!(16&se)){if((64&se)==0){B=le[(65535&B)+(G&(1<<se)-1)];continue t}if(32&se){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}oe=65535&B,(se&=15)&&(ie<se&&(G+=fe[c++]<<ie,ie+=8),oe+=G&(1<<se)-1,G>>>=se,ie-=se),ie<15&&(G+=fe[c++]<<ie,ie+=8,G+=fe[c++]<<ie,ie+=8),B=ae[G&pe];n:for(;;){if(G>>>=se=B>>>24,ie-=se,!(16&(se=B>>>16&255))){if((64&se)==0){B=ae[(65535&B)+(G&(1<<se)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(O=65535&B,ie<(se&=15)&&(G+=fe[c++]<<ie,(ie+=8)<se&&(G+=fe[c++]<<ie,ie+=8)),f<(O+=G&(1<<se)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(G>>>=se,ie-=se,(se=E-C)<O){if(S<(se=O-se)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(ce=N,(T=0)===L){if(T+=A-se,se<oe){for(oe-=se;Ee[E++]=N[T++],--se;);T=E-O,ce=Ee}}else if(L<se){if(T+=A+L-se,(se-=L)<oe){for(oe-=se;Ee[E++]=N[T++],--se;);if(T=0,L<oe){for(oe-=se=L;Ee[E++]=N[T++],--se;);T=E-O,ce=Ee}}}else if(T+=L-se,se<oe){for(oe-=se;Ee[E++]=N[T++],--se;);T=E-O,ce=Ee}for(;2<oe;)Ee[E++]=ce[T++],Ee[E++]=ce[T++],Ee[E++]=ce[T++],oe-=3;oe&&(Ee[E++]=ce[T++],1<oe&&(Ee[E++]=ce[T++]))}else{for(T=E-O;Ee[E++]=Ee[T++],Ee[E++]=Ee[T++],Ee[E++]=Ee[T++],2<(oe-=3););oe&&(Ee[E++]=Ee[T++],1<oe&&(Ee[E++]=Ee[T++]))}break}}break}}while(c<d&&E<D);c-=oe=ie>>3,G&=(1<<(ie-=oe<<3))-1,i.next_in=c,i.next_out=E,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=E<D?D-E+257:257-(E-D),l.hold=G,l.bits=ie}},{}],12:[function(e,t,r){var i=e("../utils/common"),a=e("./adler32"),l=e("./crc32"),c=e("./inffast"),d=e("./inftrees"),E=0,C=-2,D=1,f=852,A=592;function S(oe){return(oe>>>24&255)+(oe>>>8&65280)+((65280&oe)<<8)+((255&oe)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(oe){var O;return oe&&oe.state?(O=oe.state,oe.total_in=oe.total_out=O.total=0,oe.msg="",O.wrap&&(oe.adler=1&O.wrap),O.mode=D,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new i.Buf32(f),O.distcode=O.distdyn=new i.Buf32(A),O.sane=1,O.back=-1,E):C}function G(oe){var O;return oe&&oe.state?((O=oe.state).wsize=0,O.whave=0,O.wnext=0,N(oe)):C}function ie(oe,O){var T,ce;return oe&&oe.state?(ce=oe.state,O<0?(T=0,O=-O):(T=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?C:(ce.window!==null&&ce.wbits!==O&&(ce.window=null),ce.wrap=T,ce.wbits=O,G(oe))):C}function le(oe,O){var T,ce;return oe?(ce=new L,(oe.state=ce).window=null,(T=ie(oe,O))!==E&&(oe.state=null),T):C}var ae,he,pe=!0;function B(oe){if(pe){var O;for(ae=new i.Buf32(512),he=new i.Buf32(32),O=0;O<144;)oe.lens[O++]=8;for(;O<256;)oe.lens[O++]=9;for(;O<280;)oe.lens[O++]=7;for(;O<288;)oe.lens[O++]=8;for(d(1,oe.lens,0,288,ae,0,oe.work,{bits:9}),O=0;O<32;)oe.lens[O++]=5;d(2,oe.lens,0,32,he,0,oe.work,{bits:5}),pe=!1}oe.lencode=ae,oe.lenbits=9,oe.distcode=he,oe.distbits=5}function se(oe,O,T,ce){var fe,Ee=oe.state;return Ee.window===null&&(Ee.wsize=1<<Ee.wbits,Ee.wnext=0,Ee.whave=0,Ee.window=new i.Buf8(Ee.wsize)),ce>=Ee.wsize?(i.arraySet(Ee.window,O,T-Ee.wsize,Ee.wsize,0),Ee.wnext=0,Ee.whave=Ee.wsize):(ce<(fe=Ee.wsize-Ee.wnext)&&(fe=ce),i.arraySet(Ee.window,O,T-ce,fe,Ee.wnext),(ce-=fe)?(i.arraySet(Ee.window,O,T-ce,ce,0),Ee.wnext=ce,Ee.whave=Ee.wsize):(Ee.wnext+=fe,Ee.wnext===Ee.wsize&&(Ee.wnext=0),Ee.whave<Ee.wsize&&(Ee.whave+=fe))),0}r.inflateReset=G,r.inflateReset2=ie,r.inflateResetKeep=N,r.inflateInit=function(oe){return le(oe,15)},r.inflateInit2=le,r.inflate=function(oe,O){var T,ce,fe,Ee,Ae,_e,xe,De,Le,Ge,rt,We,xt,Me,Ue,Pe,Re,st,It,Ct,tt,Ve,Ze,Ne,qe=0,lt=new i.Buf8(4),vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!oe||!oe.state||!oe.output||!oe.input&&oe.avail_in!==0)return C;(T=oe.state).mode===12&&(T.mode=13),Ae=oe.next_out,fe=oe.output,xe=oe.avail_out,Ee=oe.next_in,ce=oe.input,_e=oe.avail_in,De=T.hold,Le=T.bits,Ge=_e,rt=xe,Ve=E;e:for(;;)switch(T.mode){case D:if(T.wrap===0){T.mode=13;break}for(;Le<16;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(2&T.wrap&&De===35615){lt[T.check=0]=255&De,lt[1]=De>>>8&255,T.check=l(T.check,lt,2,0),Le=De=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&De)<<8)+(De>>8))%31){oe.msg="incorrect header check",T.mode=30;break}if((15&De)!=8){oe.msg="unknown compression method",T.mode=30;break}if(Le-=4,tt=8+(15&(De>>>=4)),T.wbits===0)T.wbits=tt;else if(tt>T.wbits){oe.msg="invalid window size",T.mode=30;break}T.dmax=1<<tt,oe.adler=T.check=1,T.mode=512&De?10:12,Le=De=0;break;case 2:for(;Le<16;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(T.flags=De,(255&T.flags)!=8){oe.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){oe.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=De>>8&1),512&T.flags&&(lt[0]=255&De,lt[1]=De>>>8&255,T.check=l(T.check,lt,2,0)),Le=De=0,T.mode=3;case 3:for(;Le<32;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.head&&(T.head.time=De),512&T.flags&&(lt[0]=255&De,lt[1]=De>>>8&255,lt[2]=De>>>16&255,lt[3]=De>>>24&255,T.check=l(T.check,lt,4,0)),Le=De=0,T.mode=4;case 4:for(;Le<16;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.head&&(T.head.xflags=255&De,T.head.os=De>>8),512&T.flags&&(lt[0]=255&De,lt[1]=De>>>8&255,T.check=l(T.check,lt,2,0)),Le=De=0,T.mode=5;case 5:if(1024&T.flags){for(;Le<16;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.length=De,T.head&&(T.head.extra_len=De),512&T.flags&&(lt[0]=255&De,lt[1]=De>>>8&255,T.check=l(T.check,lt,2,0)),Le=De=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(_e<(We=T.length)&&(We=_e),We&&(T.head&&(tt=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),i.arraySet(T.head.extra,ce,Ee,We,tt)),512&T.flags&&(T.check=l(T.check,ce,We,Ee)),_e-=We,Ee+=We,T.length-=We),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(_e===0)break e;for(We=0;tt=ce[Ee+We++],T.head&&tt&&T.length<65536&&(T.head.name+=String.fromCharCode(tt)),tt&&We<_e;);if(512&T.flags&&(T.check=l(T.check,ce,We,Ee)),_e-=We,Ee+=We,tt)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(_e===0)break e;for(We=0;tt=ce[Ee+We++],T.head&&tt&&T.length<65536&&(T.head.comment+=String.fromCharCode(tt)),tt&&We<_e;);if(512&T.flags&&(T.check=l(T.check,ce,We,Ee)),_e-=We,Ee+=We,tt)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;Le<16;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(De!==(65535&T.check)){oe.msg="header crc mismatch",T.mode=30;break}Le=De=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),oe.adler=T.check=0,T.mode=12;break;case 10:for(;Le<32;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}oe.adler=T.check=S(De),Le=De=0,T.mode=11;case 11:if(T.havedict===0)return oe.next_out=Ae,oe.avail_out=xe,oe.next_in=Ee,oe.avail_in=_e,T.hold=De,T.bits=Le,2;oe.adler=T.check=1,T.mode=12;case 12:if(O===5||O===6)break e;case 13:if(T.last){De>>>=7&Le,Le-=7&Le,T.mode=27;break}for(;Le<3;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}switch(T.last=1&De,--Le,3&(De>>>=1)){case 0:T.mode=14;break;case 1:if(B(T),T.mode=20,O!==6)break;De>>>=2,Le-=2;break e;case 2:T.mode=17;break;case 3:oe.msg="invalid block type",T.mode=30}De>>>=2,Le-=2;break;case 14:for(De>>>=7&Le,Le-=7&Le;Le<32;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if((65535&De)!=(De>>>16^65535)){oe.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&De,Le=De=0,T.mode=15,O===6)break e;case 15:T.mode=16;case 16:if(We=T.length){if(_e<We&&(We=_e),xe<We&&(We=xe),We===0)break e;i.arraySet(fe,ce,Ee,We,Ae),_e-=We,Ee+=We,xe-=We,Ae+=We,T.length-=We;break}T.mode=12;break;case 17:for(;Le<14;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(T.nlen=257+(31&De),De>>>=5,Le-=5,T.ndist=1+(31&De),De>>>=5,Le-=5,T.ncode=4+(15&De),De>>>=4,Le-=4,286<T.nlen||30<T.ndist){oe.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;Le<3;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.lens[vt[T.have++]]=7&De,De>>>=3,Le-=3}for(;T.have<19;)T.lens[vt[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Ze={bits:T.lenbits},Ve=d(0,T.lens,0,19,T.lencode,0,T.work,Ze),T.lenbits=Ze.bits,Ve){oe.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Pe=(qe=T.lencode[De&(1<<T.lenbits)-1])>>>16&255,Re=65535&qe,!((Ue=qe>>>24)<=Le);){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(Re<16)De>>>=Ue,Le-=Ue,T.lens[T.have++]=Re;else{if(Re===16){for(Ne=Ue+2;Le<Ne;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(De>>>=Ue,Le-=Ue,T.have===0){oe.msg="invalid bit length repeat",T.mode=30;break}tt=T.lens[T.have-1],We=3+(3&De),De>>>=2,Le-=2}else if(Re===17){for(Ne=Ue+3;Le<Ne;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}Le-=Ue,tt=0,We=3+(7&(De>>>=Ue)),De>>>=3,Le-=3}else{for(Ne=Ue+7;Le<Ne;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}Le-=Ue,tt=0,We=11+(127&(De>>>=Ue)),De>>>=7,Le-=7}if(T.have+We>T.nlen+T.ndist){oe.msg="invalid bit length repeat",T.mode=30;break}for(;We--;)T.lens[T.have++]=tt}}if(T.mode===30)break;if(T.lens[256]===0){oe.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Ze={bits:T.lenbits},Ve=d(1,T.lens,0,T.nlen,T.lencode,0,T.work,Ze),T.lenbits=Ze.bits,Ve){oe.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Ze={bits:T.distbits},Ve=d(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Ze),T.distbits=Ze.bits,Ve){oe.msg="invalid distances set",T.mode=30;break}if(T.mode=20,O===6)break e;case 20:T.mode=21;case 21:if(6<=_e&&258<=xe){oe.next_out=Ae,oe.avail_out=xe,oe.next_in=Ee,oe.avail_in=_e,T.hold=De,T.bits=Le,c(oe,rt),Ae=oe.next_out,fe=oe.output,xe=oe.avail_out,Ee=oe.next_in,ce=oe.input,_e=oe.avail_in,De=T.hold,Le=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Pe=(qe=T.lencode[De&(1<<T.lenbits)-1])>>>16&255,Re=65535&qe,!((Ue=qe>>>24)<=Le);){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(Pe&&(240&Pe)==0){for(st=Ue,It=Pe,Ct=Re;Pe=(qe=T.lencode[Ct+((De&(1<<st+It)-1)>>st)])>>>16&255,Re=65535&qe,!(st+(Ue=qe>>>24)<=Le);){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}De>>>=st,Le-=st,T.back+=st}if(De>>>=Ue,Le-=Ue,T.back+=Ue,T.length=Re,Pe===0){T.mode=26;break}if(32&Pe){T.back=-1,T.mode=12;break}if(64&Pe){oe.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Pe,T.mode=22;case 22:if(T.extra){for(Ne=T.extra;Le<Ne;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.length+=De&(1<<T.extra)-1,De>>>=T.extra,Le-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Pe=(qe=T.distcode[De&(1<<T.distbits)-1])>>>16&255,Re=65535&qe,!((Ue=qe>>>24)<=Le);){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if((240&Pe)==0){for(st=Ue,It=Pe,Ct=Re;Pe=(qe=T.distcode[Ct+((De&(1<<st+It)-1)>>st)])>>>16&255,Re=65535&qe,!(st+(Ue=qe>>>24)<=Le);){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}De>>>=st,Le-=st,T.back+=st}if(De>>>=Ue,Le-=Ue,T.back+=Ue,64&Pe){oe.msg="invalid distance code",T.mode=30;break}T.offset=Re,T.extra=15&Pe,T.mode=24;case 24:if(T.extra){for(Ne=T.extra;Le<Ne;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}T.offset+=De&(1<<T.extra)-1,De>>>=T.extra,Le-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){oe.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(xe===0)break e;if(We=rt-xe,T.offset>We){if((We=T.offset-We)>T.whave&&T.sane){oe.msg="invalid distance too far back",T.mode=30;break}xt=We>T.wnext?(We-=T.wnext,T.wsize-We):T.wnext-We,We>T.length&&(We=T.length),Me=T.window}else Me=fe,xt=Ae-T.offset,We=T.length;for(xe<We&&(We=xe),xe-=We,T.length-=We;fe[Ae++]=Me[xt++],--We;);T.length===0&&(T.mode=21);break;case 26:if(xe===0)break e;fe[Ae++]=T.length,xe--,T.mode=21;break;case 27:if(T.wrap){for(;Le<32;){if(_e===0)break e;_e--,De|=ce[Ee++]<<Le,Le+=8}if(rt-=xe,oe.total_out+=rt,T.total+=rt,rt&&(oe.adler=T.check=(T.flags?l:a)(T.check,fe,rt,Ae-rt)),rt=xe,(T.flags?De:S(De))!==T.check){oe.msg="incorrect data check",T.mode=30;break}Le=De=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;Le<32;){if(_e===0)break e;_e--,De+=ce[Ee++]<<Le,Le+=8}if(De!==(4294967295&T.total)){oe.msg="incorrect length check",T.mode=30;break}Le=De=0}T.mode=29;case 29:Ve=1;break e;case 30:Ve=-3;break e;case 31:return-4;default:return C}return oe.next_out=Ae,oe.avail_out=xe,oe.next_in=Ee,oe.avail_in=_e,T.hold=De,T.bits=Le,(T.wsize||rt!==oe.avail_out&&T.mode<30&&(T.mode<27||O!==4))&&se(oe,oe.output,oe.next_out,rt-oe.avail_out)?(T.mode=31,-4):(Ge-=oe.avail_in,rt-=oe.avail_out,oe.total_in+=Ge,oe.total_out+=rt,T.total+=rt,T.wrap&&rt&&(oe.adler=T.check=(T.flags?l:a)(T.check,fe,rt,oe.next_out-rt)),oe.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(Ge==0&&rt===0||O===4)&&Ve===E&&(Ve=-5),Ve)},r.inflateEnd=function(oe){if(!oe||!oe.state)return C;var O=oe.state;return O.window&&(O.window=null),oe.state=null,E},r.inflateGetHeader=function(oe,O){var T;return oe&&oe.state&&(2&(T=oe.state).wrap)!=0?((T.head=O).done=!1,E):C},r.inflateSetDictionary=function(oe,O){var T,ce=O.length;return!oe||!oe.state||(T=oe.state).wrap!==0&&T.mode!==11?C:T.mode===11&&a(1,O,ce,0)!==T.check?-3:se(oe,O,ce,ce)?(T.mode=31,-4):(T.havedict=1,E)},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./inffast":11,"./inftrees":13}],13:[function(e,t,r){var i=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(E,C,D,f,A,S,L,N){var G,ie,le,ae,he,pe,B,se,oe,O=N.bits,T=0,ce=0,fe=0,Ee=0,Ae=0,_e=0,xe=0,De=0,Le=0,Ge=0,rt=null,We=0,xt=new i.Buf16(16),Me=new i.Buf16(16),Ue=null,Pe=0;for(T=0;T<=15;T++)xt[T]=0;for(ce=0;ce<f;ce++)xt[C[D+ce]]++;for(Ae=O,Ee=15;1<=Ee&&xt[Ee]===0;Ee--);if(Ee<Ae&&(Ae=Ee),Ee===0)return A[S++]=20971520,A[S++]=20971520,N.bits=1,0;for(fe=1;fe<Ee&&xt[fe]===0;fe++);for(Ae<fe&&(Ae=fe),T=De=1;T<=15;T++)if(De<<=1,(De-=xt[T])<0)return-1;if(0<De&&(E===0||Ee!==1))return-1;for(Me[1]=0,T=1;T<15;T++)Me[T+1]=Me[T]+xt[T];for(ce=0;ce<f;ce++)C[D+ce]!==0&&(L[Me[C[D+ce]]++]=ce);if(pe=E===0?(rt=Ue=L,19):E===1?(rt=a,We-=257,Ue=l,Pe-=257,256):(rt=c,Ue=d,-1),T=fe,he=S,xe=ce=Ge=0,le=-1,ae=(Le=1<<(_e=Ae))-1,E===1&&852<Le||E===2&&592<Le)return 1;for(;;){for(B=T-xe,oe=L[ce]<pe?(se=0,L[ce]):L[ce]>pe?(se=Ue[Pe+L[ce]],rt[We+L[ce]]):(se=96,0),G=1<<T-xe,fe=ie=1<<_e;A[he+(Ge>>xe)+(ie-=G)]=B<<24|se<<16|oe|0,ie!==0;);for(G=1<<T-1;Ge&G;)G>>=1;if(G!==0?(Ge&=G-1,Ge+=G):Ge=0,ce++,--xt[T]==0){if(T===Ee)break;T=C[D+L[ce]]}if(Ae<T&&(Ge&ae)!==le){for(xe===0&&(xe=Ae),he+=fe,De=1<<(_e=T-xe);_e+xe<Ee&&!((De-=xt[_e+xe])<=0);)_e++,De<<=1;if(Le+=1<<_e,E===1&&852<Le||E===2&&592<Le)return 1;A[le=Ge&ae]=Ae<<24|_e<<16|he-S|0}}return Ge!==0&&(A[he+Ge]=T-xe<<24|64<<16|0),N.bits=Ae,0}},{"../utils/common":4}],14:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,r){var i=e("../utils/common");function a(Pe){for(var Re=Pe.length;0<=--Re;)Pe[Re]=0}var l=256,c=286,d=30,E=15,C=16,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);a(L);var N=new Array(60);a(N);var G=new Array(512);a(G);var ie=new Array(256);a(ie);var le=new Array(29);a(le);var ae,he,pe,B=new Array(d);function se(Pe,Re,st,It,Ct){this.static_tree=Pe,this.extra_bits=Re,this.extra_base=st,this.elems=It,this.max_length=Ct,this.has_stree=Pe&&Pe.length}function oe(Pe,Re){this.dyn_tree=Pe,this.max_code=0,this.stat_desc=Re}function O(Pe){return Pe<256?G[Pe]:G[256+(Pe>>>7)]}function T(Pe,Re){Pe.pending_buf[Pe.pending++]=255&Re,Pe.pending_buf[Pe.pending++]=Re>>>8&255}function ce(Pe,Re,st){Pe.bi_valid>C-st?(Pe.bi_buf|=Re<<Pe.bi_valid&65535,T(Pe,Pe.bi_buf),Pe.bi_buf=Re>>C-Pe.bi_valid,Pe.bi_valid+=st-C):(Pe.bi_buf|=Re<<Pe.bi_valid&65535,Pe.bi_valid+=st)}function fe(Pe,Re,st){ce(Pe,st[2*Re],st[2*Re+1])}function Ee(Pe,Re){for(var st=0;st|=1&Pe,Pe>>>=1,st<<=1,0<--Re;);return st>>>1}function Ae(Pe,Re,st){var It,Ct,tt=new Array(E+1),Ve=0;for(It=1;It<=E;It++)tt[It]=Ve=Ve+st[It-1]<<1;for(Ct=0;Ct<=Re;Ct++){var Ze=Pe[2*Ct+1];Ze!==0&&(Pe[2*Ct]=Ee(tt[Ze]++,Ze))}}function _e(Pe){var Re;for(Re=0;Re<c;Re++)Pe.dyn_ltree[2*Re]=0;for(Re=0;Re<d;Re++)Pe.dyn_dtree[2*Re]=0;for(Re=0;Re<19;Re++)Pe.bl_tree[2*Re]=0;Pe.dyn_ltree[512]=1,Pe.opt_len=Pe.static_len=0,Pe.last_lit=Pe.matches=0}function xe(Pe){8<Pe.bi_valid?T(Pe,Pe.bi_buf):0<Pe.bi_valid&&(Pe.pending_buf[Pe.pending++]=Pe.bi_buf),Pe.bi_buf=0,Pe.bi_valid=0}function De(Pe,Re,st,It){var Ct=2*Re,tt=2*st;return Pe[Ct]<Pe[tt]||Pe[Ct]===Pe[tt]&&It[Re]<=It[st]}function Le(Pe,Re,st){for(var It=Pe.heap[st],Ct=st<<1;Ct<=Pe.heap_len&&(Ct<Pe.heap_len&&De(Re,Pe.heap[Ct+1],Pe.heap[Ct],Pe.depth)&&Ct++,!De(Re,It,Pe.heap[Ct],Pe.depth));)Pe.heap[st]=Pe.heap[Ct],st=Ct,Ct<<=1;Pe.heap[st]=It}function Ge(Pe,Re,st){var It,Ct,tt,Ve,Ze=0;if(Pe.last_lit!==0)for(;It=Pe.pending_buf[Pe.d_buf+2*Ze]<<8|Pe.pending_buf[Pe.d_buf+2*Ze+1],Ct=Pe.pending_buf[Pe.l_buf+Ze],Ze++,It===0?fe(Pe,Ct,Re):(fe(Pe,(tt=ie[Ct])+l+1,Re),(Ve=D[tt])!==0&&ce(Pe,Ct-=le[tt],Ve),fe(Pe,tt=O(--It),st),(Ve=f[tt])!==0&&ce(Pe,It-=B[tt],Ve)),Ze<Pe.last_lit;);fe(Pe,256,Re)}function rt(Pe,Re){var st,It,Ct,tt=Re.dyn_tree,Ve=Re.stat_desc.static_tree,Ze=Re.stat_desc.has_stree,Ne=Re.stat_desc.elems,qe=-1;for(Pe.heap_len=0,Pe.heap_max=573,st=0;st<Ne;st++)tt[2*st]!==0?(Pe.heap[++Pe.heap_len]=qe=st,Pe.depth[st]=0):tt[2*st+1]=0;for(;Pe.heap_len<2;)tt[2*(Ct=Pe.heap[++Pe.heap_len]=qe<2?++qe:0)]=1,Pe.depth[Ct]=0,Pe.opt_len--,Ze&&(Pe.static_len-=Ve[2*Ct+1]);for(Re.max_code=qe,st=Pe.heap_len>>1;1<=st;st--)Le(Pe,tt,st);for(Ct=Ne;st=Pe.heap[1],Pe.heap[1]=Pe.heap[Pe.heap_len--],Le(Pe,tt,1),It=Pe.heap[1],Pe.heap[--Pe.heap_max]=st,Pe.heap[--Pe.heap_max]=It,tt[2*Ct]=tt[2*st]+tt[2*It],Pe.depth[Ct]=(Pe.depth[st]>=Pe.depth[It]?Pe.depth[st]:Pe.depth[It])+1,tt[2*st+1]=tt[2*It+1]=Ct,Pe.heap[1]=Ct++,Le(Pe,tt,1),2<=Pe.heap_len;);Pe.heap[--Pe.heap_max]=Pe.heap[1],function(lt,vt){var bt,nt,Nt,kt,Qt,gt,Dt=vt.dyn_tree,zt=vt.max_code,et=vt.stat_desc.static_tree,sn=vt.stat_desc.has_stree,bn=vt.stat_desc.extra_bits,Fn=vt.stat_desc.extra_base,St=vt.stat_desc.max_length,dt=0;for(kt=0;kt<=E;kt++)lt.bl_count[kt]=0;for(Dt[2*lt.heap[lt.heap_max]+1]=0,bt=lt.heap_max+1;bt<573;bt++)St<(kt=Dt[2*Dt[2*(nt=lt.heap[bt])+1]+1]+1)&&(kt=St,dt++),Dt[2*nt+1]=kt,zt<nt||(lt.bl_count[kt]++,Qt=0,Fn<=nt&&(Qt=bn[nt-Fn]),gt=Dt[2*nt],lt.opt_len+=gt*(kt+Qt),sn&&(lt.static_len+=gt*(et[2*nt+1]+Qt)));if(dt!==0){do{for(kt=St-1;lt.bl_count[kt]===0;)kt--;lt.bl_count[kt]--,lt.bl_count[kt+1]+=2,lt.bl_count[St]--,dt-=2}while(0<dt);for(kt=St;kt!==0;kt--)for(nt=lt.bl_count[kt];nt!==0;)zt<(Nt=lt.heap[--bt])||(Dt[2*Nt+1]!==kt&&(lt.opt_len+=(kt-Dt[2*Nt+1])*Dt[2*Nt],Dt[2*Nt+1]=kt),nt--)}}(Pe,Re),Ae(tt,qe,Pe.bl_count)}function We(Pe,Re,st){var It,Ct,tt=-1,Ve=Re[1],Ze=0,Ne=7,qe=4;for(Ve===0&&(Ne=138,qe=3),Re[2*(st+1)+1]=65535,It=0;It<=st;It++)Ct=Ve,Ve=Re[2*(It+1)+1],++Ze<Ne&&Ct===Ve||(Ze<qe?Pe.bl_tree[2*Ct]+=Ze:Ct!==0?(Ct!==tt&&Pe.bl_tree[2*Ct]++,Pe.bl_tree[32]++):Ze<=10?Pe.bl_tree[34]++:Pe.bl_tree[36]++,tt=Ct,qe=(Ze=0)===Ve?(Ne=138,3):Ct===Ve?(Ne=6,3):(Ne=7,4))}function xt(Pe,Re,st){var It,Ct,tt=-1,Ve=Re[1],Ze=0,Ne=7,qe=4;for(Ve===0&&(Ne=138,qe=3),It=0;It<=st;It++)if(Ct=Ve,Ve=Re[2*(It+1)+1],!(++Ze<Ne&&Ct===Ve)){if(Ze<qe)for(;fe(Pe,Ct,Pe.bl_tree),--Ze!=0;);else Ct!==0?(Ct!==tt&&(fe(Pe,Ct,Pe.bl_tree),Ze--),fe(Pe,16,Pe.bl_tree),ce(Pe,Ze-3,2)):Ze<=10?(fe(Pe,17,Pe.bl_tree),ce(Pe,Ze-3,3)):(fe(Pe,18,Pe.bl_tree),ce(Pe,Ze-11,7));tt=Ct,qe=(Ze=0)===Ve?(Ne=138,3):Ct===Ve?(Ne=6,3):(Ne=7,4)}}a(B);var Me=!1;function Ue(Pe,Re,st,It){var Ct,tt,Ve;ce(Pe,0+(It?1:0),3),tt=Re,Ve=st,xe(Ct=Pe),T(Ct,Ve),T(Ct,~Ve),i.arraySet(Ct.pending_buf,Ct.window,tt,Ve,Ct.pending),Ct.pending+=Ve}r._tr_init=function(Pe){Me||(function(){var Re,st,It,Ct,tt,Ve=new Array(E+1);for(Ct=It=0;Ct<28;Ct++)for(le[Ct]=It,Re=0;Re<1<<D[Ct];Re++)ie[It++]=Ct;for(ie[It-1]=Ct,Ct=tt=0;Ct<16;Ct++)for(B[Ct]=tt,Re=0;Re<1<<f[Ct];Re++)G[tt++]=Ct;for(tt>>=7;Ct<d;Ct++)for(B[Ct]=tt<<7,Re=0;Re<1<<f[Ct]-7;Re++)G[256+tt++]=Ct;for(st=0;st<=E;st++)Ve[st]=0;for(Re=0;Re<=143;)L[2*Re+1]=8,Re++,Ve[8]++;for(;Re<=255;)L[2*Re+1]=9,Re++,Ve[9]++;for(;Re<=279;)L[2*Re+1]=7,Re++,Ve[7]++;for(;Re<=287;)L[2*Re+1]=8,Re++,Ve[8]++;for(Ae(L,287,Ve),Re=0;Re<d;Re++)N[2*Re+1]=5,N[2*Re]=Ee(Re,5);ae=new se(L,D,257,c,E),he=new se(N,f,0,d,E),pe=new se(new Array(0),A,0,19,7)}(),Me=!0),Pe.l_desc=new oe(Pe.dyn_ltree,ae),Pe.d_desc=new oe(Pe.dyn_dtree,he),Pe.bl_desc=new oe(Pe.bl_tree,pe),Pe.bi_buf=0,Pe.bi_valid=0,_e(Pe)},r._tr_stored_block=Ue,r._tr_flush_block=function(Pe,Re,st,It){var Ct,tt,Ve=0;0<Pe.level?(Pe.strm.data_type===2&&(Pe.strm.data_type=function(Ze){var Ne,qe=4093624447;for(Ne=0;Ne<=31;Ne++,qe>>>=1)if(1&qe&&Ze.dyn_ltree[2*Ne]!==0)return 0;if(Ze.dyn_ltree[18]!==0||Ze.dyn_ltree[20]!==0||Ze.dyn_ltree[26]!==0)return 1;for(Ne=32;Ne<l;Ne++)if(Ze.dyn_ltree[2*Ne]!==0)return 1;return 0}(Pe)),rt(Pe,Pe.l_desc),rt(Pe,Pe.d_desc),Ve=function(Ze){var Ne;for(We(Ze,Ze.dyn_ltree,Ze.l_desc.max_code),We(Ze,Ze.dyn_dtree,Ze.d_desc.max_code),rt(Ze,Ze.bl_desc),Ne=18;3<=Ne&&Ze.bl_tree[2*S[Ne]+1]===0;Ne--);return Ze.opt_len+=3*(Ne+1)+5+5+4,Ne}(Pe),Ct=Pe.opt_len+3+7>>>3,(tt=Pe.static_len+3+7>>>3)<=Ct&&(Ct=tt)):Ct=tt=st+5,st+4<=Ct&&Re!==-1?Ue(Pe,Re,st,It):Pe.strategy===4||tt===Ct?(ce(Pe,2+(It?1:0),3),Ge(Pe,L,N)):(ce(Pe,4+(It?1:0),3),function(Ze,Ne,qe,lt){var vt;for(ce(Ze,Ne-257,5),ce(Ze,qe-1,5),ce(Ze,lt-4,4),vt=0;vt<lt;vt++)ce(Ze,Ze.bl_tree[2*S[vt]+1],3);xt(Ze,Ze.dyn_ltree,Ne-1),xt(Ze,Ze.dyn_dtree,qe-1)}(Pe,Pe.l_desc.max_code+1,Pe.d_desc.max_code+1,Ve+1),Ge(Pe,Pe.dyn_ltree,Pe.dyn_dtree)),_e(Pe),It&&xe(Pe)},r._tr_tally=function(Pe,Re,st){return Pe.pending_buf[Pe.d_buf+2*Pe.last_lit]=Re>>>8&255,Pe.pending_buf[Pe.d_buf+2*Pe.last_lit+1]=255&Re,Pe.pending_buf[Pe.l_buf+Pe.last_lit]=255&st,Pe.last_lit++,Re===0?Pe.dyn_ltree[2*st]++:(Pe.matches++,Re--,Pe.dyn_ltree[2*(ie[st]+l+1)]++,Pe.dyn_dtree[2*O(Re)]++),Pe.last_lit===Pe.lit_bufsize-1},r._tr_align=function(Pe){var Re;ce(Pe,2,3),fe(Pe,256,L),(Re=Pe).bi_valid===16?(T(Re,Re.bi_buf),Re.bi_buf=0,Re.bi_valid=0):8<=Re.bi_valid&&(Re.pending_buf[Re.pending++]=255&Re.bi_buf,Re.bi_buf>>=8,Re.bi_valid-=8)}},{"../utils/common":4}],16:[function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],17:[function(e,t,r){var i=e("three");i.OrbitControls=function(a,l){var c,d,E,C,D;l===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),l===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=a,this.domElement=l,this.enabled=!0,this.target=new i.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN},this.touches={ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return le.phi},this.getAzimuthalAngle=function(){return le.theta},this.saveState=function(){f.target0.copy(f.target),f.position0.copy(f.object.position),f.zoom0=f.object.zoom},this.resetStatusValue=function(){G=N.NONE},this.reset=function(){f.target.copy(f.target0),f.object.position.copy(f.position0),f.object.zoom=f.zoom0,f.object.updateProjectionMatrix(),f.dispatchEvent(A),f.update(),G=N.NONE},this.update=(c=new i.Vector3,d=new i.Quaternion().setFromUnitVectors(a.up,new i.Vector3(0,1,0)),E=d.clone().inverse(),C=new i.Vector3,D=new i.Quaternion,function(){var Dt=f.object.position;return c.copy(Dt).sub(f.target),c.applyQuaternion(d),le.setFromVector3(c),f.autoRotate&&G===N.NONE&&De(2*Math.PI/60/60*f.autoRotateSpeed),f.enableDamping?(le.theta+=ae.theta*f.dampingFactor,le.phi+=ae.phi*f.dampingFactor):(le.theta+=ae.theta,le.phi+=ae.phi),le.theta=Math.max(f.minAzimuthAngle,Math.min(f.maxAzimuthAngle,le.theta)),le.phi=Math.max(f.minPolarAngle,Math.min(f.maxPolarAngle,le.phi)),le.makeSafe(),le.radius*=he,le.radius=Math.max(f.minDistance,Math.min(f.maxDistance,le.radius)),f.enableDamping===!0?f.target.addScaledVector(pe,f.dampingFactor):f.target.add(pe),c.setFromSpherical(le),c.applyQuaternion(E),Dt.copy(f.target).add(c),f.object.lookAt(f.target),f.enableDamping===!0?(ae.theta*=1-f.dampingFactor,ae.phi*=1-f.dampingFactor,pe.multiplyScalar(1-f.dampingFactor)):(ae.set(0,0,0),pe.set(0,0,0)),he=1,!(!(B||C.distanceToSquared(f.object.position)>ie||8*(1-D.dot(f.object.quaternion))>ie)||(f.dispatchEvent(A),C.copy(f.object.position),D.copy(f.object.quaternion),B=!1))}),this.dispose=function(){f.domElement.removeEventListener("contextmenu",gt,!1),f.domElement.removeEventListener("mousedown",qe,!1),f.domElement.removeEventListener("wheel",bt,!1),f.domElement.removeEventListener("touchstart",Nt,!1),f.domElement.removeEventListener("touchend",Qt,!1),f.domElement.removeEventListener("touchmove",kt,!1),document.removeEventListener("mousemove",lt,!1),document.removeEventListener("mouseup",vt,!1),f.domElement.removeEventListener("keydown",nt,!1)};var f=this,A={type:"change"},S={type:"start"},L={type:"end"},N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},G=N.NONE,ie=1e-6,le=new i.Spherical,ae=new i.Spherical,he=1,pe=new i.Vector3,B=!1,se=new i.Vector2,oe=new i.Vector2,O=new i.Vector2,T=new i.Vector2,ce=new i.Vector2,fe=new i.Vector2,Ee=new i.Vector2,Ae=new i.Vector2,_e=new i.Vector2;function xe(){return Math.pow(.95,f.zoomSpeed)}function De(Dt){ae.theta-=Dt}function Le(Dt){ae.phi-=Dt}var Ge,rt,We,xt=(Ge=new i.Vector3,function(Dt,zt){Ge.setFromMatrixColumn(zt,0),Ge.multiplyScalar(-Dt),pe.add(Ge)}),Me=(rt=new i.Vector3,function(Dt,zt){f.screenSpacePanning===!0?rt.setFromMatrixColumn(zt,1):(rt.setFromMatrixColumn(zt,0),rt.crossVectors(f.object.up,rt)),rt.multiplyScalar(Dt),pe.add(rt)}),Ue=(We=new i.Vector3,function(Dt,zt){var et=f.domElement;if(f.object.isPerspectiveCamera){var sn=f.object.position;We.copy(sn).sub(f.target);var bn=We.length();bn*=Math.tan(f.object.fov/2*Math.PI/180),xt(2*Dt*bn/et.clientHeight,f.object.matrix),Me(2*zt*bn/et.clientHeight,f.object.matrix)}else f.object.isOrthographicCamera?(xt(Dt*(f.object.right-f.object.left)/f.object.zoom/et.clientWidth,f.object.matrix),Me(zt*(f.object.top-f.object.bottom)/f.object.zoom/et.clientHeight,f.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),f.enablePan=!1)});function Pe(Dt){f.object.isPerspectiveCamera?he/=Dt:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom*Dt)),f.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function Re(Dt){se.set(Dt.clientX,Dt.clientY)}function st(Dt){T.set(Dt.clientX,Dt.clientY)}function It(Dt){if(Dt.touches.length==1)se.set(Dt.touches[0].pageX,Dt.touches[0].pageY);else{var zt=.5*(Dt.touches[0].pageX+Dt.touches[1].pageX),et=.5*(Dt.touches[0].pageY+Dt.touches[1].pageY);se.set(zt,et)}}function Ct(Dt){if(Dt.touches.length==1)T.set(Dt.touches[0].pageX,Dt.touches[0].pageY);else{var zt=.5*(Dt.touches[0].pageX+Dt.touches[1].pageX),et=.5*(Dt.touches[0].pageY+Dt.touches[1].pageY);T.set(zt,et)}}function tt(Dt){var zt=Dt.touches[0].pageX-Dt.touches[1].pageX,et=Dt.touches[0].pageY-Dt.touches[1].pageY,sn=Math.sqrt(zt*zt+et*et);Ee.set(0,sn)}function Ve(Dt){if(Dt.touches.length==1)oe.set(Dt.touches[0].pageX,Dt.touches[0].pageY);else{var zt=.5*(Dt.touches[0].pageX+Dt.touches[1].pageX),et=.5*(Dt.touches[0].pageY+Dt.touches[1].pageY);oe.set(zt,et)}O.subVectors(oe,se).multiplyScalar(f.rotateSpeed);var sn=f.domElement;De(2*Math.PI*O.x/sn.clientHeight),Le(2*Math.PI*O.y/sn.clientHeight),se.copy(oe)}function Ze(Dt){if(Dt.touches.length==1)ce.set(Dt.touches[0].pageX,Dt.touches[0].pageY);else{var zt=.5*(Dt.touches[0].pageX+Dt.touches[1].pageX),et=.5*(Dt.touches[0].pageY+Dt.touches[1].pageY);ce.set(zt,et)}fe.subVectors(ce,T).multiplyScalar(f.panSpeed),Ue(fe.x,fe.y),T.copy(ce)}function Ne(Dt){var zt=Dt.touches[0].pageX-Dt.touches[1].pageX,et=Dt.touches[0].pageY-Dt.touches[1].pageY,sn=Math.sqrt(zt*zt+et*et);Ae.set(0,sn),_e.set(0,Math.pow(Ae.y/Ee.y,f.zoomSpeed)),Pe(_e.y),Ee.copy(Ae)}function qe(Dt){if(f.enabled!==!1){switch(Dt.preventDefault(),f.domElement.focus?f.domElement.focus():window.focus(),Dt.button){case 0:switch(f.mouseButtons.LEFT){case i.MOUSE.ROTATE:if(Dt.ctrlKey||Dt.metaKey||Dt.shiftKey){if(f.enablePan===!1)return;st(Dt),G=N.PAN}else{if(f.enableRotate===!1)return;Re(Dt),G=N.ROTATE}break;case i.MOUSE.PAN:if(Dt.ctrlKey||Dt.metaKey||Dt.shiftKey){if(f.enableRotate===!1)return;Re(Dt),G=N.ROTATE}else{if(f.enablePan===!1)return;st(Dt),G=N.PAN}break;default:G=N.NONE}break;case 1:switch(f.mouseButtons.MIDDLE){case i.MOUSE.DOLLY:if(f.enableZoom===!1)return;zt=Dt,Ee.set(zt.clientX,zt.clientY),G=N.DOLLY;break;case i.MOUSE.PAN:if(f.enablePan===!1)return;st(Dt),G=N.PAN;break;default:G=N.NONE}break;case 2:switch(f.mouseButtons.RIGHT){case i.MOUSE.ROTATE:if(f.enableRotate===!1)return;Re(Dt),G=N.ROTATE;break;case i.MOUSE.PAN:if(f.enablePan===!1)return;st(Dt),G=N.PAN;break;default:G=N.NONE}}var zt;G!==N.NONE&&(document.addEventListener("mousemove",lt,!1),document.addEventListener("mouseup",vt,!1),f.dispatchEvent(S))}}function lt(Dt){var zt;if(f.enabled!==!1)switch(Dt.preventDefault(),G){case N.ROTATE:if(f.enableRotate===!1)return;(function(et){oe.set(et.clientX,et.clientY),O.subVectors(oe,se).multiplyScalar(f.rotateSpeed);var sn=f.domElement;De(2*Math.PI*O.x/sn.clientHeight),Le(2*Math.PI*O.y/sn.clientHeight),se.copy(oe),f.update()})(Dt);break;case N.DOLLY:if(f.enableZoom===!1)return;(function(et){var sn;Ae.set(et.clientX,et.clientY),_e.subVectors(Ae,Ee),0<_e.y?Pe(xe()):_e.y<0&&(sn=xe(),f.object.isPerspectiveCamera?he*=sn:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom/sn)),f.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)),Ee.copy(Ae),f.update()})(Dt);break;case N.PAN:if(f.enablePan===!1)return;zt=Dt,ce.set(zt.clientX,zt.clientY),fe.subVectors(ce,T).multiplyScalar(f.panSpeed),Ue(fe.x,fe.y),T.copy(ce),f.update()}}function vt(Dt){f.enabled!==!1&&(document.removeEventListener("mousemove",lt,!1),document.removeEventListener("mouseup",vt,!1),f.dispatchEvent(L),G=N.NONE)}function bt(Dt){f.enabled===!1||f.enableZoom===!1||G!==N.NONE&&G!==N.ROTATE||(Dt.preventDefault(),Dt.stopPropagation(),f.dispatchEvent(S),function(zt){zt.deltaY<0?function(et,sn){if(f.object.isPerspectiveCamera)Mn*=et;else if(f.object.isOrthographicCamera){var bn=f.domElement.clientWidth,Fn=f.domElement.clientHeight,St=(f.object.near+f.object.far)/(f.object.near-f.object.far),dt=sn.offsetX,At=sn.offsetY,Xt=new i.Vector3(dt/bn*2-1,-At/Fn*2+1,St);Xt.applyMatrix4(f.object.projectionMatrixInverse);var cn=new i.Vector3(-1,-1,St),zn=new i.Vector3(1,1,St);cn.applyMatrix4(f.object.projectionMatrixInverse),zn.applyMatrix4(f.object.projectionMatrixInverse);var Vr=Math.max(f.minZoom,Math.min(f.maxZoom,1/et)),Un=new i.Matrix4;Un.makeTranslation(-Xt.x,-Xt.y,0);var Mn=new i.Matrix4().scale(new i.Vector3(1/Vr,1/Vr,1/Vr)),jr=new i.Matrix4;jr.makeTranslation(Xt.x,Xt.y,0);var Bi=new i.Matrix4().multiply(jr).multiply(Mn).multiply(Un);cn.applyMatrix4(Bi),zn.applyMatrix4(Bi),f.object.left=cn.x,f.object.right=zn.x,f.object.top=zn.y,f.object.bottom=cn.y,f.object.zoom=1,f.object.updateProjectionMatrix(),B=!0}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1}(xe(),zt):0<zt.deltaY&&function(et,sn){if(f.object.isPerspectiveCamera)Mn/=et;else if(f.object.isOrthographicCamera){var bn=f.domElement.clientWidth,Fn=f.domElement.clientHeight,St=(f.object.near+f.object.far)/(f.object.near-f.object.far),dt=sn.offsetX,At=sn.offsetY,Xt=new i.Vector3(dt/bn*2-1,-At/Fn*2+1,St);Xt.applyMatrix4(f.object.projectionMatrixInverse);var cn=new i.Vector3(-1,-1,St),zn=new i.Vector3(1,1,St);cn.applyMatrix4(f.object.projectionMatrixInverse),zn.applyMatrix4(f.object.projectionMatrixInverse);var Vr=Math.max(f.minZoom,Math.min(f.maxZoom,et)),Un=new i.Matrix4;Un.makeTranslation(-Xt.x,-Xt.y,0);var Mn=new i.Matrix4().scale(new i.Vector3(1/Vr,1/Vr,1/Vr)),jr=new i.Matrix4;jr.makeTranslation(Xt.x,Xt.y,0);var Bi=new i.Matrix4().multiply(jr).multiply(Mn).multiply(Un);cn.applyMatrix4(Bi),zn.applyMatrix4(Bi),f.object.left=cn.x,f.object.right=zn.x,f.object.top=zn.y,f.object.bottom=cn.y,f.object.zoom=1,f.object.updateProjectionMatrix(),B=!0}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1}(xe(),zt),f.update()}(Dt),f.dispatchEvent(L))}function nt(Dt){f.enabled!==!1&&f.enableKeys!==!1&&f.enablePan!==!1&&function(zt){var et=!1;switch(zt.keyCode){case f.keys.UP:Ue(0,f.keyPanSpeed),et=!0;break;case f.keys.BOTTOM:Ue(0,-f.keyPanSpeed),et=!0;break;case f.keys.LEFT:Ue(f.keyPanSpeed,0),et=!0;break;case f.keys.RIGHT:Ue(-f.keyPanSpeed,0),et=!0}et&&(zt.preventDefault(),f.update())}(Dt)}function Nt(Dt){if(f.enabled!==!1){switch(Dt.preventDefault(),Dt.touches.length){case 1:switch(f.touches.ONE){case i.TOUCH.ROTATE:if(f.enableRotate===!1)return;It(Dt),G=N.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(f.enablePan===!1)return;Ct(Dt),G=N.TOUCH_PAN;break;default:G=N.NONE}break;case 2:switch(f.touches.TWO){case i.TOUCH.DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;et=Dt,f.enableZoom&&tt(et),f.enablePan&&Ct(et),G=N.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;zt=Dt,f.enableZoom&&tt(zt),f.enableRotate&&It(zt),G=N.TOUCH_DOLLY_ROTATE;break;default:G=N.NONE}break;default:G=N.NONE}var zt,et;G!==N.NONE&&f.dispatchEvent(S)}}function kt(Dt){var zt,et;if(f.enabled!==!1)switch(Dt.preventDefault(),Dt.stopPropagation(),G){case N.TOUCH_ROTATE:if(f.enableRotate===!1)return;Ve(Dt),f.update();break;case N.TOUCH_PAN:if(f.enablePan===!1)return;Ze(Dt),f.update();break;case N.TOUCH_DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;et=Dt,f.enableZoom&&Ne(et),f.enablePan&&Ze(et),f.update();break;case N.TOUCH_DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;zt=Dt,f.enableZoom&&Ne(zt),f.enableRotate&&Ve(zt),f.update();break;default:G=N.NONE}}function Qt(Dt){f.enabled!==!1&&(f.dispatchEvent(L),G=N.NONE)}function gt(Dt){f.enabled!==!1&&Dt.preventDefault()}f.domElement.addEventListener("contextmenu",gt,!1),f.domElement.addEventListener("mousedown",qe,!1),f.domElement.addEventListener("wheel",bt,!1),f.domElement.addEventListener("touchstart",Nt,!1),f.domElement.addEventListener("touchend",Qt,!1),f.domElement.addEventListener("touchmove",kt,!1),f.domElement.addEventListener("keydown",nt,!1),f.domElement.tabIndex===-1&&(f.domElement.tabIndex=0),this.update()},i.OrbitControls.prototype=Object.create(i.EventDispatcher.prototype),i.OrbitControls.prototype.constructor=i.OrbitControls,i.MapControls=function(a,l){i.OrbitControls.call(this,a,l),this.mouseButtons.LEFT=i.MOUSE.PAN,this.mouseButtons.RIGHT=i.MOUSE.ROTATE,this.touches.ONE=i.TOUCH.PAN,this.touches.TWO=i.TOUCH.DOLLY_ROTATE},i.MapControls.prototype=Object.create(i.EventDispatcher.prototype),i.MapControls.prototype.constructor=i.MapControls,r!==void 0&&(t!==void 0&&t.exports&&(r=t.exports={OrbitControls:i.OrbitControls,MapControls:i.MapControls}),r.OrbitControls=i.OrbitControls,r.MapControls=i.MapControls)},{three:19}],18:[function(e,t,r){(function(){var i,a,l,c=e!==void 0,d=this.THREE||c&&e("three");if(!d)throw new Error("MeshLine requires three.js");function E(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new d.BufferGeometry,this.widthCallback=null,this.matrixWorld=new d.Matrix4}function C(f,A,S,L,N){var G;if(f=f.subarray||f.slice?f:f.buffer,S=S.subarray||S.slice?S:S.buffer,f=A?f.subarray?f.subarray(A,N&&A+N):f.slice(A,N&&A+N):f,S.set)S.set(f,L);else for(G=0;G<f.length;G++)S[G+L]=f[G];return S}function D(f){d.ShaderMaterial.call(this,{uniforms:Object.assign({},d.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new d.Color(16777215)},opacity:{value:1},resolution:{value:new d.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new d.Vector2(1,1)}}),vertexShader:d.ShaderChunk.meshline_vert,fragmentShader:d.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(A){this.uniforms.lineWidth.value=A}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(A){this.uniforms.map.value=A}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(A){this.uniforms.useMap.value=A}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(A){this.uniforms.alphaMap.value=A}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(A){this.uniforms.useAlphaMap.value=A}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(A){this.uniforms.color.value=A}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(A){this.uniforms.opacity.value=A}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(A){this.uniforms.resolution.value.copy(A)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(A){this.uniforms.sizeAttenuation.value=A}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(A){this.uniforms.near.value=A}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(A){this.uniforms.far.value=A}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(A){this.uniforms.dashArray.value=A,this.useDash=A!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(A){this.uniforms.dashOffset.value=A}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(A){this.uniforms.dashRatio.value=A}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(A){this.uniforms.useDash.value=A}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(A){this.uniforms.visibility.value=A}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(A){this.uniforms.alphaTest.value=A}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(A){this.uniforms.repeat.value.copy(A)}}}),this.setValues(f)}E.prototype.setMatrixWorld=function(f){this.matrixWorld=f},E.prototype.setGeometry=function(f,A){if(this.widthCallback=A,this.positions=[],this.counters=[],f instanceof d.Geometry)for(var S=0;S<f.vertices.length;S++){var L=f.vertices[S];A=S/f.vertices.length,this.positions.push(L.x,L.y,L.z),this.positions.push(L.x,L.y,L.z),this.counters.push(A),this.counters.push(A)}if(d.BufferGeometry,f instanceof Float32Array||f instanceof Array)for(S=0;S<f.length;S+=3)A=S/f.length,this.positions.push(f[S],f[S+1],f[S+2]),this.positions.push(f[S],f[S+1],f[S+2]),this.counters.push(A),this.counters.push(A);this.process()},E.prototype.raycast=(i=new d.Matrix4,a=new d.Ray,l=new d.Sphere,function(f,A){var S=f.linePrecision,L=S*S,N=this.geometry;if(N.boundingSphere===null&&N.computeBoundingSphere(),l.copy(N.boundingSphere),l.applyMatrix4(this.matrixWorld),f.ray.intersectSphere(l)!==!1){i.getInverse(this.matrixWorld),a.copy(f.ray).applyMatrix4(i);var G=new d.Vector3,ie=new d.Vector3,le=new d.Vector3,ae=new d.Vector3,he=this instanceof d.LineSegments?2:1;if(N instanceof d.BufferGeometry){var pe=N.index,B=N.attributes;if(pe!==null)for(var se=pe.array,oe=B.position.array,O=0,T=se.length-1;O<T;O+=he){var ce=se[O],fe=se[O+1];G.fromArray(oe,3*ce),ie.fromArray(oe,3*fe),L<a.distanceSqToSegment(G,ie,ae,le)||(ae.applyMatrix4(this.matrixWorld),(_e=f.ray.origin.distanceTo(ae))<f.near||_e>f.far||A.push({distance:_e,point:le.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this}))}else for(O=0,T=(oe=B.position.array).length/3-1;O<T;O+=he)G.fromArray(oe,3*O),ie.fromArray(oe,3*O+3),L<a.distanceSqToSegment(G,ie,ae,le)||(ae.applyMatrix4(this.matrixWorld),(_e=f.ray.origin.distanceTo(ae))<f.near||_e>f.far||A.push({distance:_e,point:le.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this}))}else if(N instanceof d.Geometry){var Ee=N.vertices,Ae=Ee.length;for(O=0;O<Ae-1;O+=he){var _e;L<a.distanceSqToSegment(Ee[O],Ee[O+1],ae,le)||(ae.applyMatrix4(this.matrixWorld),(_e=f.ray.origin.distanceTo(ae))<f.near||_e>f.far||A.push({distance:_e,point:le.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this}))}}}}),E.prototype.compareV3=function(f,A){var S=6*f,L=6*A;return this.positions[S]===this.positions[L]&&this.positions[1+S]===this.positions[1+L]&&this.positions[2+S]===this.positions[2+L]},E.prototype.copyV3=function(f){var A=6*f;return[this.positions[A],this.positions[1+A],this.positions[2+A]]},E.prototype.process=function(){var f,A,S=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var L=0;L<S;L++)this.side.push(1),this.side.push(-1);for(L=0;L<S;L++)f=this.widthCallback?this.widthCallback(L/(S-1)):1,this.width.push(f),this.width.push(f);for(L=0;L<S;L++)this.uvs.push(L/(S-1),0),this.uvs.push(L/(S-1),1);for(A=this.compareV3(0,S-1)?this.copyV3(S-2):this.copyV3(0),this.previous.push(A[0],A[1],A[2]),this.previous.push(A[0],A[1],A[2]),L=0;L<S-1;L++)A=this.copyV3(L),this.previous.push(A[0],A[1],A[2]),this.previous.push(A[0],A[1],A[2]);for(L=1;L<S;L++)A=this.copyV3(L),this.next.push(A[0],A[1],A[2]),this.next.push(A[0],A[1],A[2]);for(A=this.compareV3(S-1,0)?this.copyV3(1):this.copyV3(S-1),this.next.push(A[0],A[1],A[2]),this.next.push(A[0],A[1],A[2]),L=0;L<S-1;L++){var N=2*L;this.indices_array.push(N,1+N,2+N),this.indices_array.push(2+N,1+N,3+N)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new d.BufferAttribute(new Float32Array(this.positions),3),previous:new d.BufferAttribute(new Float32Array(this.previous),3),next:new d.BufferAttribute(new Float32Array(this.next),3),side:new d.BufferAttribute(new Float32Array(this.side),1),width:new d.BufferAttribute(new Float32Array(this.width),1),uv:new d.BufferAttribute(new Float32Array(this.uvs),2),index:new d.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new d.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},E.prototype.advance=function(f){var A=this.attributes.position.array,S=this.attributes.previous.array,L=this.attributes.next.array,N=A.length;C(A,0,S,0,N),C(A,6,A,0,N-6),A[N-6]=f.x,A[N-5]=f.y,A[N-4]=f.z,A[N-3]=f.x,A[N-2]=f.y,A[N-1]=f.z,C(A,6,L,0,N-6),L[N-6]=f.x,L[N-5]=f.y,L[N-4]=f.z,L[N-3]=f.x,L[N-2]=f.y,L[N-1]=f.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},d.ShaderChunk.meshline_vert=["",d.ShaderChunk.logdepthbuf_pars_vertex,d.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",d.ShaderChunk.logdepthbuf_vertex,d.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",d.ShaderChunk.fog_vertex,"}"].join(`
`),d.ShaderChunk.meshline_frag=["",d.ShaderChunk.fog_pars_fragment,d.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",d.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",d.ShaderChunk.fog_fragment,"}"].join(`
`),((D.prototype=Object.create(d.ShaderMaterial.prototype)).constructor=D).prototype.isMeshLineMaterial=!0,D.prototype.copy=function(f){return d.ShaderMaterial.prototype.copy.call(this,f),this.lineWidth=f.lineWidth,this.map=f.map,this.useMap=f.useMap,this.alphaMap=f.alphaMap,this.useAlphaMap=f.useAlphaMap,this.color.copy(f.color),this.opacity=f.opacity,this.resolution.copy(f.resolution),this.sizeAttenuation=f.sizeAttenuation,this.near=f.near,this.far=f.far,this.dashArray.copy(f.dashArray),this.dashOffset.copy(f.dashOffset),this.dashRatio.copy(f.dashRatio),this.useDash=f.useDash,this.visibility=f.visibility,this.alphaTest=f.alphaTest,this.repeat.copy(f.repeat),this},r!==void 0?(t!==void 0&&t.exports&&(r=t.exports={MeshLine:E,MeshLineMaterial:D}),r.MeshLine=E,r.MeshLineMaterial=D):(this.MeshLine=E,this.MeshLineMaterial=D)}).call(this)},{three:19}],19:[function(e,t,r){var i,a;i=this,a=function(l){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Number.isInteger===void 0&&(Number.isInteger=function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}),Math.sign===void 0&&(Math.sign=function(n){return n<0?-1:0<n?1:+n}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var m=arguments[u];if(m!=null)for(var P in m)Object.prototype.hasOwnProperty.call(m,P)&&(o[P]=m[P])}return o});var c=0,d=1,E=2,C=1,D=2,f=3,A=0,S=1,L=2,N=0,G=0,ie=1,le=2,ae=3,he=4,pe=5,B=100,se=101,oe=102,O=103,T=104,ce=200,fe=201,Ee=202,Ae=203,_e=204,xe=205,De=206,Le=207,Ge=208,rt=209,We=210,xt=0,Me=1,Ue=2,Pe=3,Re=4,st=5,It=6,Ct=7,tt=0,Ve=1,Ze=2,Ne=0,qe=1,lt=2,vt=3,bt=4,nt=5,Nt=301,kt=302,Qt=303,gt=304,Dt=305,zt=306,et=307,sn=1e3,bn=1001,Fn=1002,St=1003,dt=1004,At=1005,Xt=1006,cn=1007,zn=1008,Vr=1009,Un=1010,Mn=1011,jr=1012,Bi=1013,Ut=1014,Dn=1015,ar=1016,Yr=1017,ui=1018,Oi=1019,Ti=1020,Ri=1021,lo=1022,Ki=1023,Qa=1024,No=1025,fo=Ki,ni=1026,Po=1027,we=1028,vi=1029,Vo=1030,xr=1031,Bo=1032,pa=1033,ps=33776,fs=33777,Aa=33778,sa=33779,Qo=35840,mo=35841,Ra=35842,jo=35843,es=36196,As=37808,ea=37809,ms=37810,Wo=37811,La=37812,Ia=37813,Ba=37814,Li=37815,Hr=37816,ka=37817,gs=37818,Ps=37819,_s=37820,Oo=37821,Ci=2300,Fe=2301,at=2400,ze=2401,it=2402,Ot=3e3,tn=3001,xn=3007,Ln=3002,yr=3003,hr=3004,Rr=3005,Qi=3006,Ga=3200,ho=3201,Wa=0,Ma=1,Na=7680,Os=519,Ii=35044,ta=35048;function Fa(){}Object.assign(Fa.prototype,{addEventListener:function(n,o){this._listeners===void 0&&(this._listeners={});var u=this._listeners;u[n]===void 0&&(u[n]=[]),u[n].indexOf(o)===-1&&u[n].push(o)},hasEventListener:function(n,o){if(this._listeners===void 0)return!1;var u=this._listeners;return u[n]!==void 0&&u[n].indexOf(o)!==-1},removeEventListener:function(n,o){if(this._listeners!==void 0){var u=this._listeners[n];if(u!==void 0){var m=u.indexOf(o);m!==-1&&u.splice(m,1)}}},dispatchEvent:function(n){if(this._listeners!==void 0){var o=this._listeners[n.type];if(o!==void 0){n.target=this;for(var u=o.slice(0),m=0,P=u.length;m<P;m++)u[m].call(this,n)}}}});for(var $o=[],ts=0;ts<256;ts++)$o[ts]=(ts<16?"0":"")+ts.toString(16);var Ws,ai={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,u=4294967295*Math.random()|0,m=4294967295*Math.random()|0;return($o[255&n]+$o[n>>8&255]+$o[n>>16&255]+$o[n>>24&255]+"-"+$o[255&o]+$o[o>>8&255]+"-"+$o[o>>16&15|64]+$o[o>>24&255]+"-"+$o[63&u|128]+$o[u>>8&255]+"-"+$o[u>>16&255]+$o[u>>24&255]+$o[255&m]+$o[m>>8&255]+$o[m>>16&255]+$o[m>>24&255]).toUpperCase()},clamp:function(n,o,u){return Math.max(o,Math.min(u,n))},euclideanModulo:function(n,o){return(n%o+o)%o},mapLinear:function(n,o,u,m,P){return m+(n-o)*(P-m)/(u-o)},lerp:function(n,o,u){return(1-u)*n+u*o},smoothstep:function(n,o,u){return n<=o?0:u<=n?1:(n=(n-o)/(u-o))*n*(3-2*n)},smootherstep:function(n,o,u){return n<=o?0:u<=n?1:(n=(n-o)/(u-o))*n*n*(n*(6*n-15)+10)},randInt:function(n,o){return n+Math.floor(Math.random()*(o-n+1))},randFloat:function(n,o){return n+Math.random()*(o-n)},randFloatSpread:function(n){return n*(.5-Math.random())},degToRad:function(n){return n*ai.DEG2RAD},radToDeg:function(n){return n*ai.RAD2DEG},isPowerOfTwo:function(n){return(n&n-1)==0&&n!==0},ceilPowerOfTwo:function(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:function(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},setQuaternionFromProperEuler:function(n,o,u,m,P){var z=Math.cos,re=Math.sin,ue=z(u/2),ve=re(u/2),ye=z((o+m)/2),Be=re((o+m)/2),Se=z((o-m)/2),Oe=re((o-m)/2),be=z((m-o)/2),He=re((m-o)/2);P==="XYX"?n.set(ue*Be,ve*Se,ve*Oe,ue*ye):P==="YZY"?n.set(ve*Oe,ue*Be,ve*Se,ue*ye):P==="ZXZ"?n.set(ve*Se,ve*Oe,ue*Be,ue*ye):P==="XZX"?n.set(ue*Be,ve*He,ve*be,ue*ye):P==="YXY"?n.set(ve*be,ue*Be,ve*He,ue*ye):P==="ZYZ"?n.set(ve*He,ve*be,ue*Be,ue*ye):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function Bn(n,o){this.x=n||0,this.y=o||0}function go(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Bn.prototype,{width:{get:function(){return this.x},set:function(n){this.x=n}},height:{get:function(){return this.y},set:function(n){this.y=n}}}),Object.assign(Bn.prototype,{isVector2:!0,set:function(n,o){return this.x=n,this.y=o,this},setScalar:function(n){return this.x=n,this.y=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(n){return this.x=n.x,this.y=n.y,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this)},addScalar:function(n){return this.x+=n,this.y+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this)},subScalar:function(n){return this.x-=n,this.y-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},divideScalar:function(n){return this.multiplyScalar(1/n)},applyMatrix3:function(n){var o=this.x,u=this.y,m=n.elements;return this.x=m[0]*o+m[3]*u+m[6],this.y=m[1]*o+m[4]*u+m[7],this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(n){return this.x*n.x+this.y*n.y},cross:function(n){return this.x*n.y-this.y*n.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x,u=this.y-n.y;return o*o+u*u},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this},rotateAround:function(n,o){var u=Math.cos(o),m=Math.sin(o),P=this.x-n.x,z=this.y-n.y;return this.x=P*u-z*m+n.x,this.y=P*m+z*u+n.y,this}}),Object.assign(go.prototype,{isMatrix3:!0,set:function(n,o,u,m,P,z,re,ue,ve){var ye=this.elements;return ye[0]=n,ye[1]=m,ye[2]=re,ye[3]=o,ye[4]=P,ye[5]=ue,ye[6]=u,ye[7]=z,ye[8]=ve,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(n){var o=this.elements,u=n.elements;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],this},setFromMatrix4:function(n){var o=n.elements;return this.set(o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]),this},multiply:function(n){return this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var u=n.elements,m=o.elements,P=this.elements,z=u[0],re=u[3],ue=u[6],ve=u[1],ye=u[4],Be=u[7],Se=u[2],Oe=u[5],be=u[8],He=m[0],Je=m[3],Ye=m[6],pt=m[1],yt=m[4],Bt=m[7],Vt=m[2],_t=m[5],Wt=m[8];return P[0]=z*He+re*pt+ue*Vt,P[3]=z*Je+re*yt+ue*_t,P[6]=z*Ye+re*Bt+ue*Wt,P[1]=ve*He+ye*pt+Be*Vt,P[4]=ve*Je+ye*yt+Be*_t,P[7]=ve*Ye+ye*Bt+Be*Wt,P[2]=Se*He+Oe*pt+be*Vt,P[5]=Se*Je+Oe*yt+be*_t,P[8]=Se*Ye+Oe*Bt+be*Wt,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[3]*=n,o[6]*=n,o[1]*=n,o[4]*=n,o[7]*=n,o[2]*=n,o[5]*=n,o[8]*=n,this},determinant:function(){var n=this.elements,o=n[0],u=n[1],m=n[2],P=n[3],z=n[4],re=n[5],ue=n[6],ve=n[7],ye=n[8];return o*z*ye-o*re*ve-u*P*ye+u*re*ue+m*P*ve-m*z*ue},getInverse:function(n,o){n&&n.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var u=n.elements,m=this.elements,P=u[0],z=u[1],re=u[2],ue=u[3],ve=u[4],ye=u[5],Be=u[6],Se=u[7],Oe=u[8],be=Oe*ve-ye*Se,He=ye*Be-Oe*ue,Je=Se*ue-ve*Be,Ye=P*be+z*He+re*Je;if(Ye==0){var pt="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(o===!0)throw new Error(pt);return console.warn(pt),this.identity()}var yt=1/Ye;return m[0]=be*yt,m[1]=(re*Se-Oe*z)*yt,m[2]=(ye*z-re*ve)*yt,m[3]=He*yt,m[4]=(Oe*P-re*Be)*yt,m[5]=(re*ue-ye*P)*yt,m[6]=Je*yt,m[7]=(z*Be-Se*P)*yt,m[8]=(ve*P-z*ue)*yt,this},transpose:function(){var n,o=this.elements;return n=o[1],o[1]=o[3],o[3]=n,n=o[2],o[2]=o[6],o[6]=n,n=o[5],o[5]=o[7],o[7]=n,this},getNormalMatrix:function(n){return this.setFromMatrix4(n).getInverse(this).transpose()},transposeIntoArray:function(n){var o=this.elements;return n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8],this},setUvTransform:function(n,o,u,m,P,z,re){var ue=Math.cos(P),ve=Math.sin(P);this.set(u*ue,u*ve,-u*(ue*z+ve*re)+z+n,-m*ve,m*ue,-m*(-ve*z+ue*re)+re+o,0,0,1)},scale:function(n,o){var u=this.elements;return u[0]*=n,u[3]*=n,u[6]*=n,u[1]*=o,u[4]*=o,u[7]*=o,this},rotate:function(n){var o=Math.cos(n),u=Math.sin(n),m=this.elements,P=m[0],z=m[3],re=m[6],ue=m[1],ve=m[4],ye=m[7];return m[0]=o*P+u*ue,m[3]=o*z+u*ve,m[6]=o*re+u*ye,m[1]=-u*P+o*ue,m[4]=-u*z+o*ve,m[7]=-u*re+o*ye,this},translate:function(n,o){var u=this.elements;return u[0]+=n*u[2],u[3]+=n*u[5],u[6]+=n*u[8],u[1]+=o*u[2],u[4]+=o*u[5],u[7]+=o*u[8],this},equals:function(n){for(var o=this.elements,u=n.elements,m=0;m<9;m++)if(o[m]!==u[m])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var u=0;u<9;u++)this.elements[u]=n[u+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var u=this.elements;return n[o]=u[0],n[o+1]=u[1],n[o+2]=u[2],n[o+3]=u[3],n[o+4]=u[4],n[o+5]=u[5],n[o+6]=u[6],n[o+7]=u[7],n[o+8]=u[8],n}});var Bs={getDataURL:function(n){var o;if(typeof HTMLCanvasElement>"u")return n.src;if(n instanceof HTMLCanvasElement)o=n;else{Ws===void 0&&(Ws=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ws.width=n.width,Ws.height=n.height;var u=Ws.getContext("2d");n instanceof ImageData?u.putImageData(n,0,0):u.drawImage(n,0,0,n.width,n.height),o=Ws}return 2048<o.width||2048<o.height?o.toDataURL("image/jpeg",.6):o.toDataURL("image/png")}},cc=0;function ji(n,o,u,m,P,z,re,ue,ve,ye){Object.defineProperty(this,"id",{value:cc++}),this.uuid=ai.generateUUID(),this.name="",this.image=n!==void 0?n:ji.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=o!==void 0?o:ji.DEFAULT_MAPPING,this.wrapS=u!==void 0?u:bn,this.wrapT=m!==void 0?m:bn,this.magFilter=P!==void 0?P:Xt,this.minFilter=z!==void 0?z:zn,this.anisotropy=ve!==void 0?ve:1,this.format=re!==void 0?re:Ki,this.internalFormat=null,this.type=ue!==void 0?ue:Vr,this.offset=new Bn(0,0),this.repeat=new Bn(1,1),this.center=new Bn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new go,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ye!==void 0?ye:Ot,this.version=0,this.onUpdate=null}function Pi(n,o,u,m){this.x=n||0,this.y=o||0,this.z=u||0,this.w=m!==void 0?m:1}function Ro(n,o,u){this.width=n,this.height=o,this.scissor=new Pi(0,0,n,o),this.scissorTest=!1,this.viewport=new Pi(0,0,n,o),u=u||{},this.texture=new ji(void 0,u.mapping,u.wrapS,u.wrapT,u.magFilter,u.minFilter,u.format,u.type,u.anisotropy,u.encoding),this.texture.image={},this.texture.image.width=n,this.texture.image.height=o,this.texture.generateMipmaps=u.generateMipmaps!==void 0&&u.generateMipmaps,this.texture.minFilter=u.minFilter!==void 0?u.minFilter:Xt,this.depthBuffer=u.depthBuffer===void 0||u.depthBuffer,this.stencilBuffer=u.stencilBuffer===void 0||u.stencilBuffer,this.depthTexture=u.depthTexture!==void 0?u.depthTexture:null}function $s(n,o,u){Ro.call(this,n,o,u),this.samples=4}function Mo(n,o,u,m){this._x=n||0,this._y=o||0,this._z=u||0,this._w=m!==void 0?m:1}ji.DEFAULT_IMAGE=void 0,ji.DEFAULT_MAPPING=300,ji.prototype=Object.assign(Object.create(Fa.prototype),{constructor:ji,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.name=n.name,this.image=n.image,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.encoding=n.encoding,this},toJSON:function(n){var o=n===void 0||typeof n=="string";if(!o&&n.textures[this.uuid]!==void 0)return n.textures[this.uuid];var u={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var m=this.image;if(m.uuid===void 0&&(m.uuid=ai.generateUUID()),!o&&n.images[m.uuid]===void 0){var P;if(Array.isArray(m)){P=[];for(var z=0,re=m.length;z<re;z++)P.push(Bs.getDataURL(m[z]))}else P=Bs.getDataURL(m);n.images[m.uuid]={uuid:m.uuid,url:P}}u.image=m.uuid}return o||(n.textures[this.uuid]=u),u},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(n){if(this.mapping!==300)return n;if(n.applyMatrix3(this.matrix),n.x<0||1<n.x)switch(this.wrapS){case sn:n.x=n.x-Math.floor(n.x);break;case bn:n.x=n.x<0?0:1;break;case Fn:Math.abs(Math.floor(n.x)%2)===1?n.x=Math.ceil(n.x)-n.x:n.x=n.x-Math.floor(n.x)}if(n.y<0||1<n.y)switch(this.wrapT){case sn:n.y=n.y-Math.floor(n.y);break;case bn:n.y=n.y<0?0:1;break;case Fn:Math.abs(Math.floor(n.y)%2)===1?n.y=Math.ceil(n.y)-n.y:n.y=n.y-Math.floor(n.y)}return this.flipY&&(n.y=1-n.y),n}}),Object.defineProperty(ji.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.defineProperties(Pi.prototype,{width:{get:function(){return this.z},set:function(n){this.z=n}},height:{get:function(){return this.w},set:function(n){this.w=n}}}),Object.assign(Pi.prototype,{isVector4:!0,set:function(n,o,u,m){return this.x=n,this.y=o,this.z=u,this.w=m,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this.w=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setW:function(n){return this.w=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=n.w!==void 0?n.w:1,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this.w=n.w+o.w,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this.w+=n.w*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this.w=n.w-o.w,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this},applyMatrix4:function(n){var o=this.x,u=this.y,m=this.z,P=this.w,z=n.elements;return this.x=z[0]*o+z[4]*u+z[8]*m+z[12]*P,this.y=z[1]*o+z[5]*u+z[9]*m+z[13]*P,this.z=z[2]*o+z[6]*u+z[10]*m+z[14]*P,this.w=z[3]*o+z[7]*u+z[11]*m+z[15]*P,this},divideScalar:function(n){return this.multiplyScalar(1/n)},setAxisAngleFromQuaternion:function(n){this.w=2*Math.acos(n.w);var o=Math.sqrt(1-n.w*n.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/o,this.y=n.y/o,this.z=n.z/o),this},setAxisAngleFromRotationMatrix:function(n){var o,u,m,P,z=n.elements,re=z[0],ue=z[4],ve=z[8],ye=z[1],Be=z[5],Se=z[9],Oe=z[2],be=z[6],He=z[10];if(Math.abs(ue-ye)<.01&&Math.abs(ve-Oe)<.01&&Math.abs(Se-be)<.01){if(Math.abs(ue+ye)<.1&&Math.abs(ve+Oe)<.1&&Math.abs(Se+be)<.1&&Math.abs(re+Be+He-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;var Je=(re+1)/2,Ye=(Be+1)/2,pt=(He+1)/2,yt=(ue+ye)/4,Bt=(ve+Oe)/4,Vt=(Se+be)/4;return Ye<Je&&pt<Je?P=Je<.01?(u=0,m=.707106781):(m=yt/(u=Math.sqrt(Je)),Bt/u):pt<Ye?P=Ye<.01?(m=0,u=.707106781):(u=yt/(m=Math.sqrt(Ye)),Vt/m):pt<.01?(m=u=.707106781,P=0):(u=Bt/(P=Math.sqrt(pt)),m=Vt/P),this.set(u,m,P,o),this}var _t=Math.sqrt((be-Se)*(be-Se)+(ve-Oe)*(ve-Oe)+(ye-ue)*(ye-ue));return Math.abs(_t)<.001&&(_t=1),this.x=(be-Se)/_t,this.y=(ve-Oe)/_t,this.z=(ye-ue)/_t,this.w=Math.acos((re+Be+He-1)/2),this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this.w=Math.max(n.w,Math.min(o.w,this.w)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this.w=Math.max(n,Math.min(o,this.w)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this.w+=(n.w-this.w)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this.w=n[o+3],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n[o+3]=this.w,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this.w=n.getW(o),this}}),Ro.prototype=Object.assign(Object.create(Fa.prototype),{constructor:Ro,isWebGLRenderTarget:!0,setSize:function(n,o){this.width===n&&this.height===o||(this.width=n,this.height=o,this.texture.image.width=n,this.texture.image.height=o,this.dispose()),this.viewport.set(0,0,n,o),this.scissor.set(0,0,n,o)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.width=n.width,this.height=n.height,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$s.prototype=Object.assign(Object.create(Ro.prototype),{constructor:$s,isWebGLMultisampleRenderTarget:!0,copy:function(n){return Ro.prototype.copy.call(this,n),this.samples=n.samples,this}}),Object.assign(Mo,{slerp:function(n,o,u,m){return u.copy(n).slerp(o,m)},slerpFlat:function(n,o,u,m,P,z,re){var ue=u[m+0],ve=u[m+1],ye=u[m+2],Be=u[m+3],Se=P[z+0],Oe=P[z+1],be=P[z+2],He=P[z+3];if(Be!==He||ue!==Se||ve!==Oe||ye!==be){var Je=1-re,Ye=ue*Se+ve*Oe+ye*be+Be*He,pt=0<=Ye?1:-1,yt=1-Ye*Ye;if(yt>Number.EPSILON){var Bt=Math.sqrt(yt),Vt=Math.atan2(Bt,Ye*pt);Je=Math.sin(Je*Vt)/Bt,re=Math.sin(re*Vt)/Bt}var _t=re*pt;if(ue=ue*Je+Se*_t,ve=ve*Je+Oe*_t,ye=ye*Je+be*_t,Be=Be*Je+He*_t,Je===1-re){var Wt=1/Math.sqrt(ue*ue+ve*ve+ye*ye+Be*Be);ue*=Wt,ve*=Wt,ye*=Wt,Be*=Wt}}n[o]=ue,n[o+1]=ve,n[o+2]=ye,n[o+3]=Be}}),Object.defineProperties(Mo.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(n){this._w=n,this._onChangeCallback()}}}),Object.assign(Mo.prototype,{isQuaternion:!0,set:function(n,o,u,m){return this._x=n,this._y=o,this._z=u,this._w=m,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this},setFromEuler:function(n,o){if(!n||!n.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var u=n._x,m=n._y,P=n._z,z=n.order,re=Math.cos,ue=Math.sin,ve=re(u/2),ye=re(m/2),Be=re(P/2),Se=ue(u/2),Oe=ue(m/2),be=ue(P/2);return z==="XYZ"?(this._x=Se*ye*Be+ve*Oe*be,this._y=ve*Oe*Be-Se*ye*be,this._z=ve*ye*be+Se*Oe*Be,this._w=ve*ye*Be-Se*Oe*be):z==="YXZ"?(this._x=Se*ye*Be+ve*Oe*be,this._y=ve*Oe*Be-Se*ye*be,this._z=ve*ye*be-Se*Oe*Be,this._w=ve*ye*Be+Se*Oe*be):z==="ZXY"?(this._x=Se*ye*Be-ve*Oe*be,this._y=ve*Oe*Be+Se*ye*be,this._z=ve*ye*be+Se*Oe*Be,this._w=ve*ye*Be-Se*Oe*be):z==="ZYX"?(this._x=Se*ye*Be-ve*Oe*be,this._y=ve*Oe*Be+Se*ye*be,this._z=ve*ye*be-Se*Oe*Be,this._w=ve*ye*Be+Se*Oe*be):z==="YZX"?(this._x=Se*ye*Be+ve*Oe*be,this._y=ve*Oe*Be+Se*ye*be,this._z=ve*ye*be-Se*Oe*Be,this._w=ve*ye*Be-Se*Oe*be):z==="XZY"&&(this._x=Se*ye*Be-ve*Oe*be,this._y=ve*Oe*Be-Se*ye*be,this._z=ve*ye*be+Se*Oe*Be,this._w=ve*ye*Be+Se*Oe*be),o!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(n,o){var u=o/2,m=Math.sin(u);return this._x=n.x*m,this._y=n.y*m,this._z=n.z*m,this._w=Math.cos(u),this._onChangeCallback(),this},setFromRotationMatrix:function(n){var o,u=n.elements,m=u[0],P=u[4],z=u[8],re=u[1],ue=u[5],ve=u[9],ye=u[2],Be=u[6],Se=u[10],Oe=m+ue+Se;return 0<Oe?(o=.5/Math.sqrt(Oe+1),this._w=.25/o,this._x=(Be-ve)*o,this._y=(z-ye)*o,this._z=(re-P)*o):ue<m&&Se<m?(o=2*Math.sqrt(1+m-ue-Se),this._w=(Be-ve)/o,this._x=.25*o,this._y=(P+re)/o,this._z=(z+ye)/o):Se<ue?(o=2*Math.sqrt(1+ue-m-Se),this._w=(z-ye)/o,this._x=(P+re)/o,this._y=.25*o,this._z=(ve+Be)/o):(o=2*Math.sqrt(1+Se-m-ue),this._w=(re-P)/o,this._x=(z+ye)/o,this._y=(ve+Be)/o,this._z=.25*o),this._onChangeCallback(),this},setFromUnitVectors:function(n,o){var u=n.dot(o)+1;return u<1e-6?(u=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0):(this._x=0,this._y=-n.z,this._z=n.y)):(this._x=n.y*o.z-n.z*o.y,this._y=n.z*o.x-n.x*o.z,this._z=n.x*o.y-n.y*o.x),this._w=u,this.normalize()},angleTo:function(n){return 2*Math.acos(Math.abs(ai.clamp(this.dot(n),-1,1)))},rotateTowards:function(n,o){var u=this.angleTo(n);if(u===0)return this;var m=Math.min(1,o/u);return this.slerp(n,m),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var n=this.length();return n===0?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,o)):this.multiplyQuaternions(this,n)},premultiply:function(n){return this.multiplyQuaternions(n,this)},multiplyQuaternions:function(n,o){var u=n._x,m=n._y,P=n._z,z=n._w,re=o._x,ue=o._y,ve=o._z,ye=o._w;return this._x=u*ye+z*re+m*ve-P*ue,this._y=m*ye+z*ue+P*re-u*ve,this._z=P*ye+z*ve+u*ue-m*re,this._w=z*ye-u*re-m*ue-P*ve,this._onChangeCallback(),this},slerp:function(n,o){if(o===0)return this;if(o===1)return this.copy(n);var u=this._x,m=this._y,P=this._z,z=this._w,re=z*n._w+u*n._x+m*n._y+P*n._z;if(re<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,re=-re):this.copy(n),1<=re)return this._w=z,this._x=u,this._y=m,this._z=P,this;var ue=1-re*re;if(ue<=Number.EPSILON){var ve=1-o;return this._w=ve*z+o*this._w,this._x=ve*u+o*this._x,this._y=ve*m+o*this._y,this._z=ve*P+o*this._z,this.normalize(),this._onChangeCallback(),this}var ye=Math.sqrt(ue),Be=Math.atan2(ye,re),Se=Math.sin((1-o)*Be)/ye,Oe=Math.sin(o*Be)/ye;return this._w=z*Se+this._w*Oe,this._x=u*Se+this._x*Oe,this._y=m*Se+this._y*Oe,this._z=P*Se+this._z*Oe,this._onChangeCallback(),this},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w},fromArray:function(n,o){return o===void 0&&(o=0),this._x=n[o],this._y=n[o+1],this._z=n[o+2],this._w=n[o+3],this._onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._w,n},_onChange:function(n){return this._onChangeCallback=n,this},_onChangeCallback:function(){}});var Rs=new mt,qs=new Mo;function mt(n,o,u){this.x=n||0,this.y=o||0,this.z=u||0}Object.assign(mt.prototype,{isVector3:!0,set:function(n,o,u){return this.x=n,this.y=o,this.z=u,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setComponent:function(n,o){switch(n){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this},add:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,o)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this},addVectors:function(n,o){return this.x=n.x+o.x,this.y=n.y+o.y,this.z=n.z+o.z,this},addScaledVector:function(n,o){return this.x+=n.x*o,this.y+=n.y*o,this.z+=n.z*o,this},sub:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,o)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this},subVectors:function(n,o){return this.x=n.x-o.x,this.y=n.y-o.y,this.z=n.z-o.z,this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,o)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this},multiplyVectors:function(n,o){return this.x=n.x*o.x,this.y=n.y*o.y,this.z=n.z*o.z,this},applyEuler:function(n){return n&&n.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(qs.setFromEuler(n))},applyAxisAngle:function(n,o){return this.applyQuaternion(qs.setFromAxisAngle(n,o))},applyMatrix3:function(n){var o=this.x,u=this.y,m=this.z,P=n.elements;return this.x=P[0]*o+P[3]*u+P[6]*m,this.y=P[1]*o+P[4]*u+P[7]*m,this.z=P[2]*o+P[5]*u+P[8]*m,this},applyNormalMatrix:function(n){return this.applyMatrix3(n).normalize()},applyMatrix4:function(n){var o=this.x,u=this.y,m=this.z,P=n.elements,z=1/(P[3]*o+P[7]*u+P[11]*m+P[15]);return this.x=(P[0]*o+P[4]*u+P[8]*m+P[12])*z,this.y=(P[1]*o+P[5]*u+P[9]*m+P[13])*z,this.z=(P[2]*o+P[6]*u+P[10]*m+P[14])*z,this},applyQuaternion:function(n){var o=this.x,u=this.y,m=this.z,P=n.x,z=n.y,re=n.z,ue=n.w,ve=ue*o+z*m-re*u,ye=ue*u+re*o-P*m,Be=ue*m+P*u-z*o,Se=-P*o-z*u-re*m;return this.x=ve*ue+Se*-P+ye*-re-Be*-z,this.y=ye*ue+Se*-z+Be*-P-ve*-re,this.z=Be*ue+Se*-re+ve*-z-ye*-P,this},project:function(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)},unproject:function(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)},transformDirection:function(n){var o=this.x,u=this.y,m=this.z,P=n.elements;return this.x=P[0]*o+P[4]*u+P[8]*m,this.y=P[1]*o+P[5]*u+P[9]*m,this.z=P[2]*o+P[6]*u+P[10]*m,this.normalize()},divide:function(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this},clamp:function(n,o){return this.x=Math.max(n.x,Math.min(o.x,this.x)),this.y=Math.max(n.y,Math.min(o.y,this.y)),this.z=Math.max(n.z,Math.min(o.z,this.z)),this},clampScalar:function(n,o){return this.x=Math.max(n,Math.min(o,this.x)),this.y=Math.max(n,Math.min(o,this.y)),this.z=Math.max(n,Math.min(o,this.z)),this},clampLength:function(n,o){var u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(n,Math.min(o,u)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,o){return this.x+=(n.x-this.x)*o,this.y+=(n.y-this.y)*o,this.z+=(n.z-this.z)*o,this},lerpVectors:function(n,o,u){return this.subVectors(o,n).multiplyScalar(u).add(n)},cross:function(n,o){return o!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,o)):this.crossVectors(this,n)},crossVectors:function(n,o){var u=n.x,m=n.y,P=n.z,z=o.x,re=o.y,ue=o.z;return this.x=m*ue-P*re,this.y=P*z-u*ue,this.z=u*re-m*z,this},projectOnVector:function(n){var o=n.lengthSq();if(o===0)return this.set(0,0,0);var u=n.dot(this)/o;return this.copy(n).multiplyScalar(u)},projectOnPlane:function(n){return Rs.copy(this).projectOnVector(n),this.sub(Rs)},reflect:function(n){return this.sub(Rs.copy(n).multiplyScalar(2*this.dot(n)))},angleTo:function(n){var o=Math.sqrt(this.lengthSq()*n.lengthSq());if(o===0)return Math.PI/2;var u=this.dot(n)/o;return Math.acos(ai.clamp(u,-1,1))},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var o=this.x-n.x,u=this.y-n.y,m=this.z-n.z;return o*o+u*u+m*m},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)},setFromSpherical:function(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)},setFromSphericalCoords:function(n,o,u){var m=Math.sin(o)*n;return this.x=m*Math.sin(u),this.y=Math.cos(o)*n,this.z=m*Math.cos(u),this},setFromCylindrical:function(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)},setFromCylindricalCoords:function(n,o,u){return this.x=n*Math.sin(o),this.y=u,this.z=n*Math.cos(o),this},setFromMatrixPosition:function(n){var o=n.elements;return this.x=o[12],this.y=o[13],this.z=o[14],this},setFromMatrixScale:function(n){var o=this.setFromMatrixColumn(n,0).length(),u=this.setFromMatrixColumn(n,1).length(),m=this.setFromMatrixColumn(n,2).length();return this.x=o,this.y=u,this.z=m,this},setFromMatrixColumn:function(n,o){return this.fromArray(n.elements,4*o)},setFromMatrix3Column:function(n,o){return this.fromArray(n.elements,3*o)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z},fromArray:function(n,o){return o===void 0&&(o=0),this.x=n[o],this.y=n[o+1],this.z=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.x,n[o+1]=this.y,n[o+2]=this.z,n},fromBufferAttribute:function(n,o,u){return u!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(o),this.y=n.getY(o),this.z=n.getZ(o),this}});var vs=new mt,qo=new ri,uc=new mt(0,0,0),ns=new mt(1,1,1),rs=new mt,Ls=new mt,la=new mt;function ri(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ri.prototype,{isMatrix4:!0,set:function(n,o,u,m,P,z,re,ue,ve,ye,Be,Se,Oe,be,He,Je){var Ye=this.elements;return Ye[0]=n,Ye[4]=o,Ye[8]=u,Ye[12]=m,Ye[1]=P,Ye[5]=z,Ye[9]=re,Ye[13]=ue,Ye[2]=ve,Ye[6]=ye,Ye[10]=Be,Ye[14]=Se,Ye[3]=Oe,Ye[7]=be,Ye[11]=He,Ye[15]=Je,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ri().fromArray(this.elements)},copy:function(n){var o=this.elements,u=n.elements;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],o[9]=u[9],o[10]=u[10],o[11]=u[11],o[12]=u[12],o[13]=u[13],o[14]=u[14],o[15]=u[15],this},copyPosition:function(n){var o=this.elements,u=n.elements;return o[12]=u[12],o[13]=u[13],o[14]=u[14],this},extractBasis:function(n,o,u){return n.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),u.setFromMatrixColumn(this,2),this},makeBasis:function(n,o,u){return this.set(n.x,o.x,u.x,0,n.y,o.y,u.y,0,n.z,o.z,u.z,0,0,0,0,1),this},extractRotation:function(n){var o=this.elements,u=n.elements,m=1/vs.setFromMatrixColumn(n,0).length(),P=1/vs.setFromMatrixColumn(n,1).length(),z=1/vs.setFromMatrixColumn(n,2).length();return o[0]=u[0]*m,o[1]=u[1]*m,o[2]=u[2]*m,o[3]=0,o[4]=u[4]*P,o[5]=u[5]*P,o[6]=u[6]*P,o[7]=0,o[8]=u[8]*z,o[9]=u[9]*z,o[10]=u[10]*z,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromEuler:function(n){n&&n.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var o=this.elements,u=n.x,m=n.y,P=n.z,z=Math.cos(u),re=Math.sin(u),ue=Math.cos(m),ve=Math.sin(m),ye=Math.cos(P),Be=Math.sin(P);if(n.order==="XYZ"){var Se=z*ye,Oe=z*Be,be=re*ye,He=re*Be;o[0]=ue*ye,o[4]=-ue*Be,o[8]=ve,o[1]=Oe+be*ve,o[5]=Se-He*ve,o[9]=-re*ue,o[2]=He-Se*ve,o[6]=be+Oe*ve,o[10]=z*ue}else if(n.order==="YXZ"){var Je=ue*ye,Ye=ue*Be,pt=ve*ye,yt=ve*Be;o[0]=Je+yt*re,o[4]=pt*re-Ye,o[8]=z*ve,o[1]=z*Be,o[5]=z*ye,o[9]=-re,o[2]=Ye*re-pt,o[6]=yt+Je*re,o[10]=z*ue}else if(n.order==="ZXY")Je=ue*ye,Ye=ue*Be,pt=ve*ye,yt=ve*Be,o[0]=Je-yt*re,o[4]=-z*Be,o[8]=pt+Ye*re,o[1]=Ye+pt*re,o[5]=z*ye,o[9]=yt-Je*re,o[2]=-z*ve,o[6]=re,o[10]=z*ue;else if(n.order==="ZYX")Se=z*ye,Oe=z*Be,be=re*ye,He=re*Be,o[0]=ue*ye,o[4]=be*ve-Oe,o[8]=Se*ve+He,o[1]=ue*Be,o[5]=He*ve+Se,o[9]=Oe*ve-be,o[2]=-ve,o[6]=re*ue,o[10]=z*ue;else if(n.order==="YZX"){var Bt=z*ue,Vt=z*ve,_t=re*ue,Wt=re*ve;o[0]=ue*ye,o[4]=Wt-Bt*Be,o[8]=_t*Be+Vt,o[1]=Be,o[5]=z*ye,o[9]=-re*ye,o[2]=-ve*ye,o[6]=Vt*Be+_t,o[10]=Bt-Wt*Be}else n.order==="XZY"&&(Bt=z*ue,Vt=z*ve,_t=re*ue,Wt=re*ve,o[0]=ue*ye,o[4]=-Be,o[8]=ve*ye,o[1]=Bt*Be+Wt,o[5]=z*ye,o[9]=Vt*Be-_t,o[2]=_t*Be-Vt,o[6]=re*ye,o[10]=Wt*Be+Bt);return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromQuaternion:function(n){return this.compose(uc,n,ns)},lookAt:function(n,o,u){var m=this.elements;return la.subVectors(n,o),la.lengthSq()===0&&(la.z=1),la.normalize(),rs.crossVectors(u,la),rs.lengthSq()===0&&(Math.abs(u.z)===1?la.x+=1e-4:la.z+=1e-4,la.normalize(),rs.crossVectors(u,la)),rs.normalize(),Ls.crossVectors(la,rs),m[0]=rs.x,m[4]=Ls.x,m[8]=la.x,m[1]=rs.y,m[5]=Ls.y,m[9]=la.y,m[2]=rs.z,m[6]=Ls.z,m[10]=la.z,this},multiply:function(n,o){return o!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,o)):this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,o){var u=n.elements,m=o.elements,P=this.elements,z=u[0],re=u[4],ue=u[8],ve=u[12],ye=u[1],Be=u[5],Se=u[9],Oe=u[13],be=u[2],He=u[6],Je=u[10],Ye=u[14],pt=u[3],yt=u[7],Bt=u[11],Vt=u[15],_t=m[0],Wt=m[4],Tt=m[8],rn=m[12],hn=m[1],mn=m[5],gn=m[9],_n=m[13],Vn=m[2],pn=m[6],ln=m[10],Kn=m[14],lr=m[3],kr=m[7],Or=m[11],Sr=m[15];return P[0]=z*_t+re*hn+ue*Vn+ve*lr,P[4]=z*Wt+re*mn+ue*pn+ve*kr,P[8]=z*Tt+re*gn+ue*ln+ve*Or,P[12]=z*rn+re*_n+ue*Kn+ve*Sr,P[1]=ye*_t+Be*hn+Se*Vn+Oe*lr,P[5]=ye*Wt+Be*mn+Se*pn+Oe*kr,P[9]=ye*Tt+Be*gn+Se*ln+Oe*Or,P[13]=ye*rn+Be*_n+Se*Kn+Oe*Sr,P[2]=be*_t+He*hn+Je*Vn+Ye*lr,P[6]=be*Wt+He*mn+Je*pn+Ye*kr,P[10]=be*Tt+He*gn+Je*ln+Ye*Or,P[14]=be*rn+He*_n+Je*Kn+Ye*Sr,P[3]=pt*_t+yt*hn+Bt*Vn+Vt*lr,P[7]=pt*Wt+yt*mn+Bt*pn+Vt*kr,P[11]=pt*Tt+yt*gn+Bt*ln+Vt*Or,P[15]=pt*rn+yt*_n+Bt*Kn+Vt*Sr,this},multiplyScalar:function(n){var o=this.elements;return o[0]*=n,o[4]*=n,o[8]*=n,o[12]*=n,o[1]*=n,o[5]*=n,o[9]*=n,o[13]*=n,o[2]*=n,o[6]*=n,o[10]*=n,o[14]*=n,o[3]*=n,o[7]*=n,o[11]*=n,o[15]*=n,this},determinant:function(){var n=this.elements,o=n[0],u=n[4],m=n[8],P=n[12],z=n[1],re=n[5],ue=n[9],ve=n[13],ye=n[2],Be=n[6],Se=n[10],Oe=n[14];return n[3]*(P*ue*Be-m*ve*Be-P*re*Se+u*ve*Se+m*re*Oe-u*ue*Oe)+n[7]*(o*ue*Oe-o*ve*Se+P*z*Se-m*z*Oe+m*ve*ye-P*ue*ye)+n[11]*(o*ve*Be-o*re*Oe-P*z*Be+u*z*Oe+P*re*ye-u*ve*ye)+n[15]*(-m*re*ye-o*ue*Be+o*re*Se+m*z*Be-u*z*Se+u*ue*ye)},transpose:function(){var n,o=this.elements;return n=o[1],o[1]=o[4],o[4]=n,n=o[2],o[2]=o[8],o[8]=n,n=o[6],o[6]=o[9],o[9]=n,n=o[3],o[3]=o[12],o[12]=n,n=o[7],o[7]=o[13],o[13]=n,n=o[11],o[11]=o[14],o[14]=n,this},setPosition:function(n,o,u){var m=this.elements;return n.isVector3?(m[12]=n.x,m[13]=n.y,m[14]=n.z):(m[12]=n,m[13]=o,m[14]=u),this},getInverse:function(n,o){var u=this.elements,m=n.elements,P=m[0],z=m[1],re=m[2],ue=m[3],ve=m[4],ye=m[5],Be=m[6],Se=m[7],Oe=m[8],be=m[9],He=m[10],Je=m[11],Ye=m[12],pt=m[13],yt=m[14],Bt=m[15],Vt=be*yt*Se-pt*He*Se+pt*Be*Je-ye*yt*Je-be*Be*Bt+ye*He*Bt,_t=Ye*He*Se-Oe*yt*Se-Ye*Be*Je+ve*yt*Je+Oe*Be*Bt-ve*He*Bt,Wt=Oe*pt*Se-Ye*be*Se+Ye*ye*Je-ve*pt*Je-Oe*ye*Bt+ve*be*Bt,Tt=Ye*be*Be-Oe*pt*Be-Ye*ye*He+ve*pt*He+Oe*ye*yt-ve*be*yt,rn=P*Vt+z*_t+re*Wt+ue*Tt;if(rn==0){var hn="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(o===!0)throw new Error(hn);return console.warn(hn),this.identity()}var mn=1/rn;return u[0]=Vt*mn,u[1]=(pt*He*ue-be*yt*ue-pt*re*Je+z*yt*Je+be*re*Bt-z*He*Bt)*mn,u[2]=(ye*yt*ue-pt*Be*ue+pt*re*Se-z*yt*Se-ye*re*Bt+z*Be*Bt)*mn,u[3]=(be*Be*ue-ye*He*ue-be*re*Se+z*He*Se+ye*re*Je-z*Be*Je)*mn,u[4]=_t*mn,u[5]=(Oe*yt*ue-Ye*He*ue+Ye*re*Je-P*yt*Je-Oe*re*Bt+P*He*Bt)*mn,u[6]=(Ye*Be*ue-ve*yt*ue-Ye*re*Se+P*yt*Se+ve*re*Bt-P*Be*Bt)*mn,u[7]=(ve*He*ue-Oe*Be*ue+Oe*re*Se-P*He*Se-ve*re*Je+P*Be*Je)*mn,u[8]=Wt*mn,u[9]=(Ye*be*ue-Oe*pt*ue-Ye*z*Je+P*pt*Je+Oe*z*Bt-P*be*Bt)*mn,u[10]=(ve*pt*ue-Ye*ye*ue+Ye*z*Se-P*pt*Se-ve*z*Bt+P*ye*Bt)*mn,u[11]=(Oe*ye*ue-ve*be*ue-Oe*z*Se+P*be*Se+ve*z*Je-P*ye*Je)*mn,u[12]=Tt*mn,u[13]=(Oe*pt*re-Ye*be*re+Ye*z*He-P*pt*He-Oe*z*yt+P*be*yt)*mn,u[14]=(Ye*ye*re-ve*pt*re-Ye*z*Be+P*pt*Be+ve*z*yt-P*ye*yt)*mn,u[15]=(ve*be*re-Oe*ye*re+Oe*z*Be-P*be*Be-ve*z*He+P*ye*He)*mn,this},scale:function(n){var o=this.elements,u=n.x,m=n.y,P=n.z;return o[0]*=u,o[4]*=m,o[8]*=P,o[1]*=u,o[5]*=m,o[9]*=P,o[2]*=u,o[6]*=m,o[10]*=P,o[3]*=u,o[7]*=m,o[11]*=P,this},getMaxScaleOnAxis:function(){var n=this.elements,o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],u=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],m=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(o,u,m))},makeTranslation:function(n,o,u){return this.set(1,0,0,n,0,1,0,o,0,0,1,u,0,0,0,1),this},makeRotationX:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(1,0,0,0,0,o,-u,0,0,u,o,0,0,0,0,1),this},makeRotationY:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(o,0,u,0,0,1,0,0,-u,0,o,0,0,0,0,1),this},makeRotationZ:function(n){var o=Math.cos(n),u=Math.sin(n);return this.set(o,-u,0,0,u,o,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(n,o){var u=Math.cos(o),m=Math.sin(o),P=1-u,z=n.x,re=n.y,ue=n.z,ve=P*z,ye=P*re;return this.set(ve*z+u,ve*re-m*ue,ve*ue+m*re,0,ve*re+m*ue,ye*re+u,ye*ue-m*z,0,ve*ue-m*re,ye*ue+m*z,P*ue*ue+u,0,0,0,0,1),this},makeScale:function(n,o,u){return this.set(n,0,0,0,0,o,0,0,0,0,u,0,0,0,0,1),this},makeShear:function(n,o,u){return this.set(1,o,u,0,n,1,u,0,n,o,1,0,0,0,0,1),this},compose:function(n,o,u){var m=this.elements,P=o._x,z=o._y,re=o._z,ue=o._w,ve=P+P,ye=z+z,Be=re+re,Se=P*ve,Oe=P*ye,be=P*Be,He=z*ye,Je=z*Be,Ye=re*Be,pt=ue*ve,yt=ue*ye,Bt=ue*Be,Vt=u.x,_t=u.y,Wt=u.z;return m[0]=(1-(He+Ye))*Vt,m[1]=(Oe+Bt)*Vt,m[2]=(be-yt)*Vt,m[3]=0,m[4]=(Oe-Bt)*_t,m[5]=(1-(Se+Ye))*_t,m[6]=(Je+pt)*_t,m[7]=0,m[8]=(be+yt)*Wt,m[9]=(Je-pt)*Wt,m[10]=(1-(Se+He))*Wt,m[11]=0,m[12]=n.x,m[13]=n.y,m[14]=n.z,m[15]=1,this},decompose:function(n,o,u){var m=this.elements,P=vs.set(m[0],m[1],m[2]).length(),z=vs.set(m[4],m[5],m[6]).length(),re=vs.set(m[8],m[9],m[10]).length();this.determinant()<0&&(P=-P),n.x=m[12],n.y=m[13],n.z=m[14],qo.copy(this);var ue=1/P,ve=1/z,ye=1/re;return qo.elements[0]*=ue,qo.elements[1]*=ue,qo.elements[2]*=ue,qo.elements[4]*=ve,qo.elements[5]*=ve,qo.elements[6]*=ve,qo.elements[8]*=ye,qo.elements[9]*=ye,qo.elements[10]*=ye,o.setFromRotationMatrix(qo),u.x=P,u.y=z,u.z=re,this},makePerspective:function(n,o,u,m,P,z){z===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var re=this.elements,ue=2*P/(o-n),ve=2*P/(u-m),ye=(o+n)/(o-n),Be=(u+m)/(u-m),Se=-(z+P)/(z-P),Oe=-2*z*P/(z-P);return re[0]=ue,re[4]=0,re[8]=ye,re[12]=0,re[1]=0,re[5]=ve,re[9]=Be,re[13]=0,re[2]=0,re[6]=0,re[10]=Se,re[14]=Oe,re[3]=0,re[7]=0,re[11]=-1,re[15]=0,this},makeOrthographic:function(n,o,u,m,P,z){var re=this.elements,ue=1/(o-n),ve=1/(u-m),ye=1/(z-P),Be=(o+n)*ue,Se=(u+m)*ve,Oe=(z+P)*ye;return re[0]=2*ue,re[4]=0,re[8]=0,re[12]=-Be,re[1]=0,re[5]=2*ve,re[9]=0,re[13]=-Se,re[2]=0,re[6]=0,re[10]=-2*ye,re[14]=-Oe,re[3]=0,re[7]=0,re[11]=0,re[15]=1,this},equals:function(n){for(var o=this.elements,u=n.elements,m=0;m<16;m++)if(o[m]!==u[m])return!1;return!0},fromArray:function(n,o){o===void 0&&(o=0);for(var u=0;u<16;u++)this.elements[u]=n[u+o];return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);var u=this.elements;return n[o]=u[0],n[o+1]=u[1],n[o+2]=u[2],n[o+3]=u[3],n[o+4]=u[4],n[o+5]=u[5],n[o+6]=u[6],n[o+7]=u[7],n[o+8]=u[8],n[o+9]=u[9],n[o+10]=u[10],n[o+11]=u[11],n[o+12]=u[12],n[o+13]=u[13],n[o+14]=u[14],n[o+15]=u[15],n}});var gl=new ri,ne=new Mo;function g(n,o,u,m){this._x=n||0,this._y=o||0,this._z=u||0,this._order=m||g.DefaultOrder}function k(){this.mask=1}g.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],g.DefaultOrder="XYZ",Object.defineProperties(g.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(n){this._order=n,this._onChangeCallback()}}}),Object.assign(g.prototype,{isEuler:!0,set:function(n,o,u,m){return this._x=n,this._y=o,this._z=u,this._order=m||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this},setFromRotationMatrix:function(n,o,u){var m=ai.clamp,P=n.elements,z=P[0],re=P[4],ue=P[8],ve=P[1],ye=P[5],Be=P[9],Se=P[2],Oe=P[6],be=P[10];return(o=o||this._order)==="XYZ"?(this._y=Math.asin(m(ue,-1,1)),Math.abs(ue)<.9999999?(this._x=Math.atan2(-Be,be),this._z=Math.atan2(-re,z)):(this._x=Math.atan2(Oe,ye),this._z=0)):o==="YXZ"?(this._x=Math.asin(-m(Be,-1,1)),Math.abs(Be)<.9999999?(this._y=Math.atan2(ue,be),this._z=Math.atan2(ve,ye)):(this._y=Math.atan2(-Se,z),this._z=0)):o==="ZXY"?(this._x=Math.asin(m(Oe,-1,1)),Math.abs(Oe)<.9999999?(this._y=Math.atan2(-Se,be),this._z=Math.atan2(-re,ye)):(this._y=0,this._z=Math.atan2(ve,z))):o==="ZYX"?(this._y=Math.asin(-m(Se,-1,1)),Math.abs(Se)<.9999999?(this._x=Math.atan2(Oe,be),this._z=Math.atan2(ve,z)):(this._x=0,this._z=Math.atan2(-re,ye))):o==="YZX"?(this._z=Math.asin(m(ve,-1,1)),Math.abs(ve)<.9999999?(this._x=Math.atan2(-Be,ye),this._y=Math.atan2(-Se,z)):(this._x=0,this._y=Math.atan2(ue,be))):o==="XZY"?(this._z=Math.asin(-m(re,-1,1)),Math.abs(re)<.9999999?(this._x=Math.atan2(Oe,ye),this._y=Math.atan2(ue,z)):(this._x=Math.atan2(-Be,be),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+o),this._order=o,u!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(n,o,u){return gl.makeRotationFromQuaternion(n),this.setFromRotationMatrix(gl,o,u)},setFromVector3:function(n,o){return this.set(n.x,n.y,n.z,o||this._order)},reorder:function(n){return ne.setFromEuler(this),this.setFromQuaternion(ne,n)},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order},fromArray:function(n){return this._x=n[0],this._y=n[1],this._z=n[2],n[3]!==void 0&&(this._order=n[3]),this._onChangeCallback(),this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this._x,n[o+1]=this._y,n[o+2]=this._z,n[o+3]=this._order,n},toVector3:function(n){return n?n.set(this._x,this._y,this._z):new mt(this._x,this._y,this._z)},_onChange:function(n){return this._onChangeCallback=n,this},_onChangeCallback:function(){}}),Object.assign(k.prototype,{set:function(n){this.mask=1<<n|0},enable:function(n){this.mask|=1<<n|0},enableAll:function(){this.mask=-1},toggle:function(n){this.mask^=1<<n|0},disable:function(n){this.mask&=~(1<<n|0)},disableAll:function(){this.mask=0},test:function(n){return(this.mask&n.mask)!=0}});var te=0,de=new mt,me=new Mo,Ce=new ri,Ie=new mt,Te=new mt,je=new mt,Xe=new Mo,ht=new mt(1,0,0),ot=new mt(0,1,0),ct=new mt(0,0,1),Yt={type:"added"},On={type:"removed"};function qt(){Object.defineProperty(this,"id",{value:te++}),this.uuid=ai.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qt.DefaultUp.clone();var n=new mt,o=new g,u=new Mo,m=new mt(1,1,1);o._onChange(function(){u.setFromEuler(o,!1)}),u._onChange(function(){o.setFromQuaternion(u,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:u},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new ri},normalMatrix:{value:new go}}),this.matrix=new ri,this.matrixWorld=new ri,this.matrixAutoUpdate=qt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new k,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function er(){qt.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}qt.DefaultUp=new mt(0,1,0),qt.DefaultMatrixAutoUpdate=!0,qt.prototype=Object.assign(Object.create(Fa.prototype),{constructor:qt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(n){return this.quaternion.premultiply(n),this},setRotationFromAxisAngle:function(n,o){this.quaternion.setFromAxisAngle(n,o)},setRotationFromEuler:function(n){this.quaternion.setFromEuler(n,!0)},setRotationFromMatrix:function(n){this.quaternion.setFromRotationMatrix(n)},setRotationFromQuaternion:function(n){this.quaternion.copy(n)},rotateOnAxis:function(n,o){return me.setFromAxisAngle(n,o),this.quaternion.multiply(me),this},rotateOnWorldAxis:function(n,o){return me.setFromAxisAngle(n,o),this.quaternion.premultiply(me),this},rotateX:function(n){return this.rotateOnAxis(ht,n)},rotateY:function(n){return this.rotateOnAxis(ot,n)},rotateZ:function(n){return this.rotateOnAxis(ct,n)},translateOnAxis:function(n,o){return de.copy(n).applyQuaternion(this.quaternion),this.position.add(de.multiplyScalar(o)),this},translateX:function(n){return this.translateOnAxis(ht,n)},translateY:function(n){return this.translateOnAxis(ot,n)},translateZ:function(n){return this.translateOnAxis(ct,n)},localToWorld:function(n){return n.applyMatrix4(this.matrixWorld)},worldToLocal:function(n){return n.applyMatrix4(Ce.getInverse(this.matrixWorld))},lookAt:function(n,o,u){n.isVector3?Ie.copy(n):Ie.set(n,o,u);var m=this.parent;this.updateWorldMatrix(!0,!1),Te.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ce.lookAt(Te,Ie,this.up):Ce.lookAt(Ie,Te,this.up),this.quaternion.setFromRotationMatrix(Ce),m&&(Ce.extractRotation(m.matrixWorld),me.setFromRotationMatrix(Ce),this.quaternion.premultiply(me.inverse()))},add:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return n===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",n):n&&n.isObject3D?(n.parent!==null&&n.parent.remove(n),(n.parent=this).children.push(n),n.dispatchEvent(Yt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this},remove:function(n){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}var u=this.children.indexOf(n);return u!==-1&&(n.parent=null,this.children.splice(u,1),n.dispatchEvent(On)),this},attach:function(n){return this.updateWorldMatrix(!0,!1),Ce.getInverse(this.matrixWorld),n.parent!==null&&(n.parent.updateWorldMatrix(!0,!1),Ce.multiply(n.parent.matrixWorld)),n.applyMatrix4(Ce),n.updateWorldMatrix(!1,!1),this.add(n),this},getObjectById:function(n){return this.getObjectByProperty("id",n)},getObjectByName:function(n){return this.getObjectByProperty("name",n)},getObjectByProperty:function(n,o){if(this[n]===o)return this;for(var u=0,m=this.children.length;u<m;u++){var P=this.children[u].getObjectByProperty(n,o);if(P!==void 0)return P}},getWorldPosition:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),n=new mt),this.updateMatrixWorld(!0),n.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new Mo),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Te,n,je),n},getWorldScale:function(n){return n===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new mt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Te,Xe,n),n},getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),n=new mt),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(o[8],o[9],o[10]).normalize()},raycast:function(){},traverse:function(n){n(this);for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].traverse(n)},traverseVisible:function(n){if(this.visible!==!1){n(this);for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].traverseVisible(n)}},traverseAncestors:function(n){var o=this.parent;o!==null&&(n(o),o.traverseAncestors(n))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n=!(this.matrixWorldNeedsUpdate=!1));for(var o=this.children,u=0,m=o.length;u<m;u++)o[u].updateMatrixWorld(n)},updateWorldMatrix:function(n,o){var u=this.parent;if(n===!0&&u!==null&&u.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0)for(var m=this.children,P=0,z=m.length;P<z;P++)m[P].updateWorldMatrix(!1,!0)},toJSON:function(n){var o=n===void 0||typeof n=="string",u={};o&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},u.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var m={};function P(Ye,pt){return Ye[pt.uuid]===void 0&&(Ye[pt.uuid]=pt.toJSON(n)),pt.uuid}if(m.uuid=this.uuid,m.type=this.type,this.name!==""&&(m.name=this.name),this.castShadow===!0&&(m.castShadow=!0),this.receiveShadow===!0&&(m.receiveShadow=!0),this.visible===!1&&(m.visible=!1),this.frustumCulled===!1&&(m.frustumCulled=!1),this.renderOrder!==0&&(m.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){m.geometry=P(n.geometries,this.geometry);var z=this.geometry.parameters;if(z!==void 0&&z.shapes!==void 0){var re=z.shapes;if(Array.isArray(re))for(var ue=0,ve=re.length;ue<ve;ue++){var ye=re[ue];P(n.shapes,ye)}else P(n.shapes,re)}}if(this.material!==void 0)if(Array.isArray(this.material)){var Be=[];for(ue=0,ve=this.material.length;ue<ve;ue++)Be.push(P(n.materials,this.material[ue]));m.material=Be}else m.material=P(n.materials,this.material);if(0<this.children.length)for(m.children=[],ue=0;ue<this.children.length;ue++)m.children.push(this.children[ue].toJSON(n).object);if(o){var Se=Je(n.geometries),Oe=Je(n.materials),be=Je(n.textures),He=Je(n.images);re=Je(n.shapes),0<Se.length&&(u.geometries=Se),0<Oe.length&&(u.materials=Oe),0<be.length&&(u.textures=be),0<He.length&&(u.images=He),0<re.length&&(u.shapes=re)}return u.object=m,u;function Je(Ye){var pt=[];for(var yt in Ye){var Bt=Ye[yt];delete Bt.metadata,pt.push(Bt)}return pt}},clone:function(n){return new this.constructor().copy(this,n)},copy:function(n,o){if(o===void 0&&(o=!0),this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.userData=JSON.parse(JSON.stringify(n.userData)),o===!0)for(var u=0;u<n.children.length;u++){var m=n.children[u];this.add(m.clone())}return this}}),er.prototype=Object.assign(Object.create(qt.prototype),{constructor:er,isScene:!0,copy:function(n,o){return qt.prototype.copy.call(this,n,o),n.background!==null&&(this.background=n.background.clone()),n.environment!==null&&(this.environment=n.environment.clone()),n.fog!==null&&(this.fog=n.fog.clone()),n.overrideMaterial!==null&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this},toJSON:function(n){var o=qt.prototype.toJSON.call(this,n);return this.background!==null&&(o.object.background=this.background.toJSON(n)),this.environment!==null&&(o.object.environment=this.environment.toJSON(n)),this.fog!==null&&(o.object.fog=this.fog.toJSON()),o},dispose:function(){this.dispatchEvent({type:"dispose"})}});var qr=[new mt,new mt,new mt,new mt,new mt,new mt,new mt,new mt],ii=new mt,si=new oo,Dr=new mt,br=new mt,Zr=new mt,pr=new mt,Cr=new mt,fa=new mt,Lo=new mt,vo=new mt,ma=new mt,Gi=new mt;function oo(n,o){this.min=n!==void 0?n:new mt(1/0,1/0,1/0),this.max=o!==void 0?o:new mt(-1/0,-1/0,-1/0)}function yo(n,o,u,m,P){var z,re;for(z=0,re=n.length-3;z<=re;z+=3){Gi.fromArray(n,z);var ue=P.x*Math.abs(Gi.x)+P.y*Math.abs(Gi.y)+P.z*Math.abs(Gi.z),ve=o.dot(Gi),ye=u.dot(Gi),Be=m.dot(Gi);if(Math.max(-Math.max(ve,ye,Be),Math.min(ve,ye,Be))>ue)return!1}return!0}Object.assign(oo.prototype,{isBox3:!0,set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromArray:function(n){for(var o=1/0,u=1/0,m=1/0,P=-1/0,z=-1/0,re=-1/0,ue=0,ve=n.length;ue<ve;ue+=3){var ye=n[ue],Be=n[ue+1],Se=n[ue+2];ye<o&&(o=ye),Be<u&&(u=Be),Se<m&&(m=Se),P<ye&&(P=ye),z<Be&&(z=Be),re<Se&&(re=Se)}return this.min.set(o,u,m),this.max.set(P,z,re),this},setFromBufferAttribute:function(n){for(var o=1/0,u=1/0,m=1/0,P=-1/0,z=-1/0,re=-1/0,ue=0,ve=n.count;ue<ve;ue++){var ye=n.getX(ue),Be=n.getY(ue),Se=n.getZ(ue);ye<o&&(o=ye),Be<u&&(u=Be),Se<m&&(m=Se),P<ye&&(P=ye),z<Be&&(z=Be),re<Se&&(re=Se)}return this.min.set(o,u,m),this.max.set(P,z,re),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,u=n.length;o<u;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(n,o){var u=ii.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(u),this.max.copy(n).add(u),this},setFromObject:function(n){return this.makeEmpty(),this.expandByObject(n)},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),n=new mt),this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),n=new mt),this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},expandByObject:function(n){n.updateWorldMatrix(!1,!1);var o=n.geometry;o!==void 0&&(o.boundingBox===null&&o.computeBoundingBox(),si.copy(o.boundingBox),si.applyMatrix4(n.matrixWorld),this.expandByPoint(si.min),this.expandByPoint(si.max));for(var u=n.children,m=0,P=u.length;m<P;m++)this.expandByObject(u[m]);return this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),o=new mt),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)},intersectsSphere:function(n){return this.clampPoint(n.center,ii),ii.distanceToSquared(n.center)<=n.radius*n.radius},intersectsPlane:function(n){var o,u;return u=0<n.normal.x?(o=n.normal.x*this.min.x,n.normal.x*this.max.x):(o=n.normal.x*this.max.x,n.normal.x*this.min.x),0<n.normal.y?(o+=n.normal.y*this.min.y,u+=n.normal.y*this.max.y):(o+=n.normal.y*this.max.y,u+=n.normal.y*this.min.y),0<n.normal.z?(o+=n.normal.z*this.min.z,u+=n.normal.z*this.max.z):(o+=n.normal.z*this.max.z,u+=n.normal.z*this.min.z),o<=-n.constant&&u>=-n.constant},intersectsTriangle:function(n){if(this.isEmpty())return!1;this.getCenter(Lo),vo.subVectors(this.max,Lo),Dr.subVectors(n.a,Lo),br.subVectors(n.b,Lo),Zr.subVectors(n.c,Lo),pr.subVectors(br,Dr),Cr.subVectors(Zr,br),fa.subVectors(Dr,Zr);var o=[0,-pr.z,pr.y,0,-Cr.z,Cr.y,0,-fa.z,fa.y,pr.z,0,-pr.x,Cr.z,0,-Cr.x,fa.z,0,-fa.x,-pr.y,pr.x,0,-Cr.y,Cr.x,0,-fa.y,fa.x,0];return!!yo(o,Dr,br,Zr,vo)&&!!yo(o=[1,0,0,0,1,0,0,0,1],Dr,br,Zr,vo)&&(ma.crossVectors(pr,Cr),yo(o=[ma.x,ma.y,ma.z],Dr,br,Zr,vo))},clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),o=new mt),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(n){return ii.copy(n).clamp(this.min,this.max).sub(n).length()},getBoundingSphere:function(n){return n===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(n.center),n.radius=.5*this.getSize(ii).length(),n},intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},applyMatrix4:function(n){return this.isEmpty()||(qr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),qr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),qr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),qr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),qr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),qr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),qr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),qr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(qr)),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}});var eo=new oo;function ki(n,o){this.center=n!==void 0?n:new mt,this.radius=o!==void 0?o:0}Object.assign(ki.prototype,{set:function(n,o){return this.center.copy(n),this.radius=o,this},setFromPoints:function(n,o){var u=this.center;o!==void 0?u.copy(o):eo.setFromPoints(n).getCenter(u);for(var m=0,P=0,z=n.length;P<z;P++)m=Math.max(m,u.distanceToSquared(n[P]));return this.radius=Math.sqrt(m),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.center.copy(n.center),this.radius=n.radius,this},empty:function(){return this.radius<=0},containsPoint:function(n){return n.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(n){return n.distanceTo(this.center)-this.radius},intersectsSphere:function(n){var o=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=o*o},intersectsBox:function(n){return n.intersectsSphere(this)},intersectsPlane:function(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius},clampPoint:function(n,o){var u=this.center.distanceToSquared(n);return o===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),o=new mt),o.copy(n),u>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o},getBoundingBox:function(n){return n===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),n=new oo),n.set(this.center,this.center),n.expandByScalar(this.radius),n},applyMatrix4:function(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this},translate:function(n){return this.center.add(n),this},equals:function(n){return n.center.equals(this.center)&&n.radius===this.radius}});var wi=new mt,Co=new mt,hi=new mt,zi=new mt,Mr=new mt,qi=new mt,Ji=new mt;function gi(n,o){this.origin=n!==void 0?n:new mt,this.direction=o!==void 0?o:new mt(0,0,-1)}Object.assign(gi.prototype,{set:function(n,o){return this.origin.copy(n),this.direction.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this},at:function(n,o){return o===void 0&&(console.warn("THREE.Ray: .at() target is now required"),o=new mt),o.copy(this.direction).multiplyScalar(n).add(this.origin)},lookAt:function(n){return this.direction.copy(n).sub(this.origin).normalize(),this},recast:function(n){return this.origin.copy(this.at(n,wi)),this},closestPointToPoint:function(n,o){o===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),o=new mt),o.subVectors(n,this.origin);var u=o.dot(this.direction);return u<0?o.copy(this.origin):o.copy(this.direction).multiplyScalar(u).add(this.origin)},distanceToPoint:function(n){return Math.sqrt(this.distanceSqToPoint(n))},distanceSqToPoint:function(n){var o=wi.subVectors(n,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(n):(wi.copy(this.direction).multiplyScalar(o).add(this.origin),wi.distanceToSquared(n))},distanceSqToSegment:function(n,o,u,m){Co.copy(n).add(o).multiplyScalar(.5),hi.copy(o).sub(n).normalize(),zi.copy(this.origin).sub(Co);var P,z,re,ue,ve=.5*n.distanceTo(o),ye=-this.direction.dot(hi),Be=zi.dot(this.direction),Se=-zi.dot(hi),Oe=zi.lengthSq(),be=Math.abs(1-ye*ye);if(0<be)if(z=ye*Be-Se,ue=ve*be,0<=(P=ye*Se-Be))if(-ue<=z)if(z<=ue){var He=1/be;re=(P*=He)*(P+ye*(z*=He)+2*Be)+z*(ye*P+z+2*Se)+Oe}else z=ve,re=-(P=Math.max(0,-(ye*z+Be)))*P+z*(z+2*Se)+Oe;else z=-ve,re=-(P=Math.max(0,-(ye*z+Be)))*P+z*(z+2*Se)+Oe;else re=z<=-ue?-(P=Math.max(0,-(-ye*ve+Be)))*P+(z=0<P?-ve:Math.min(Math.max(-ve,-Se),ve))*(z+2*Se)+Oe:z<=ue?(P=0,(z=Math.min(Math.max(-ve,-Se),ve))*(z+2*Se)+Oe):-(P=Math.max(0,-(ye*ve+Be)))*P+(z=0<P?ve:Math.min(Math.max(-ve,-Se),ve))*(z+2*Se)+Oe;else z=0<ye?-ve:ve,re=-(P=Math.max(0,-(ye*z+Be)))*P+z*(z+2*Se)+Oe;return u&&u.copy(this.direction).multiplyScalar(P).add(this.origin),m&&m.copy(hi).multiplyScalar(z).add(Co),re},intersectSphere:function(n,o){wi.subVectors(n.center,this.origin);var u=wi.dot(this.direction),m=wi.dot(wi)-u*u,P=n.radius*n.radius;if(P<m)return null;var z=Math.sqrt(P-m),re=u-z,ue=u+z;return re<0&&ue<0?null:re<0?this.at(ue,o):this.at(re,o)},intersectsSphere:function(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius},distanceToPlane:function(n){var o=n.normal.dot(this.direction);if(o===0)return n.distanceToPoint(this.origin)===0?0:null;var u=-(this.origin.dot(n.normal)+n.constant)/o;return 0<=u?u:null},intersectPlane:function(n,o){var u=this.distanceToPlane(n);return u===null?null:this.at(u,o)},intersectsPlane:function(n){var o=n.distanceToPoint(this.origin);return o===0||n.normal.dot(this.direction)*o<0},intersectBox:function(n,o){var u,m,P,z,re,ue,ve=1/this.direction.x,ye=1/this.direction.y,Be=1/this.direction.z,Se=this.origin;return m=0<=ve?(u=(n.min.x-Se.x)*ve,(n.max.x-Se.x)*ve):(u=(n.max.x-Se.x)*ve,(n.min.x-Se.x)*ve),(z=0<=ye?(P=(n.min.y-Se.y)*ye,(n.max.y-Se.y)*ye):(P=(n.max.y-Se.y)*ye,(n.min.y-Se.y)*ye))<u||m<P?null:((u<P||u!=u)&&(u=P),(z<m||m!=m)&&(m=z),(ue=0<=Be?(re=(n.min.z-Se.z)*Be,(n.max.z-Se.z)*Be):(re=(n.max.z-Se.z)*Be,(n.min.z-Se.z)*Be))<u||m<re?null:((u<re||u!=u)&&(u=re),(ue<m||m!=m)&&(m=ue),m<0?null:this.at(0<=u?u:m,o)))},intersectsBox:function(n){return this.intersectBox(n,wi)!==null},intersectTriangle:function(n,o,u,m,P){Mr.subVectors(o,n),qi.subVectors(u,n),Ji.crossVectors(Mr,qi);var z,re=this.direction.dot(Ji);if(0<re){if(m)return null;z=1}else{if(!(re<0))return null;z=-1,re=-re}zi.subVectors(this.origin,n);var ue=z*this.direction.dot(qi.crossVectors(zi,qi));if(ue<0)return null;var ve=z*this.direction.dot(Mr.cross(zi));if(ve<0||re<ue+ve)return null;var ye=-z*zi.dot(Ji);return ye<0?null:this.at(ye/re,P)},applyMatrix4:function(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this},equals:function(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}});var ca=new mt,Is=new mt,vl=new go;function Jo(n,o){this.normal=n!==void 0?n:new mt(1,0,0),this.constant=o!==void 0?o:0}Object.assign(Jo.prototype,{isPlane:!0,set:function(n,o){return this.normal.copy(n),this.constant=o,this},setComponents:function(n,o,u,m){return this.normal.set(n,o,u),this.constant=m,this},setFromNormalAndCoplanarPoint:function(n,o){return this.normal.copy(n),this.constant=-o.dot(this.normal),this},setFromCoplanarPoints:function(n,o,u){var m=ca.subVectors(u,o).cross(Is.subVectors(n,o)).normalize();return this.setFromNormalAndCoplanarPoint(m,n),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.normal.copy(n.normal),this.constant=n.constant,this},normalize:function(){var n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(n){return this.normal.dot(n)+this.constant},distanceToSphere:function(n){return this.distanceToPoint(n.center)-n.radius},projectPoint:function(n,o){return o===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),o=new mt),o.copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)},intersectLine:function(n,o){o===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),o=new mt);var u=n.delta(ca),m=this.normal.dot(u);if(m===0)return this.distanceToPoint(n.start)===0?o.copy(n.start):void 0;var P=-(n.start.dot(this.normal)+this.constant)/m;return P<0||1<P?void 0:o.copy(u).multiplyScalar(P).add(n.start)},intersectsLine:function(n){var o=this.distanceToPoint(n.start),u=this.distanceToPoint(n.end);return o<0&&0<u||u<0&&0<o},intersectsBox:function(n){return n.intersectsPlane(this)},intersectsSphere:function(n){return n.intersectsPlane(this)},coplanarPoint:function(n){return n===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),n=new mt),n.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(n,o){var u=o||vl.getNormalMatrix(n),m=this.coplanarPoint(ca).applyMatrix4(n),P=this.normal.applyMatrix3(u).normalize();return this.constant=-m.dot(P),this},translate:function(n){return this.constant-=n.dot(this.normal),this},equals:function(n){return n.normal.equals(this.normal)&&n.constant===this.constant}});var na=new mt,Eo=new mt,Js=new mt,Va=new mt,is=new mt,Sa=new mt,yl=new mt,to=new mt,Wi=new mt,Ta=new mt;function Fo(n,o,u){this.a=n!==void 0?n:new mt,this.b=o!==void 0?o:new mt,this.c=u!==void 0?u:new mt}Object.assign(Fo,{getNormal:function(n,o,u,m){m===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),m=new mt),m.subVectors(u,o),na.subVectors(n,o),m.cross(na);var P=m.lengthSq();return 0<P?m.multiplyScalar(1/Math.sqrt(P)):m.set(0,0,0)},getBarycoord:function(n,o,u,m,P){na.subVectors(m,o),Eo.subVectors(u,o),Js.subVectors(n,o);var z=na.dot(na),re=na.dot(Eo),ue=na.dot(Js),ve=Eo.dot(Eo),ye=Eo.dot(Js),Be=z*ve-re*re;if(P===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),P=new mt),Be==0)return P.set(-2,-1,-1);var Se=1/Be,Oe=(ve*ue-re*ye)*Se,be=(z*ye-re*ue)*Se;return P.set(1-Oe-be,be,Oe)},containsPoint:function(n,o,u,m){return Fo.getBarycoord(n,o,u,m,Va),0<=Va.x&&0<=Va.y&&Va.x+Va.y<=1},getUV:function(n,o,u,m,P,z,re,ue){return this.getBarycoord(n,o,u,m,Va),ue.set(0,0),ue.addScaledVector(P,Va.x),ue.addScaledVector(z,Va.y),ue.addScaledVector(re,Va.z),ue},isFrontFacing:function(n,o,u,m){return na.subVectors(u,o),Eo.subVectors(n,o),na.cross(Eo).dot(m)<0}}),Object.assign(Fo.prototype,{set:function(n,o,u){return this.a.copy(n),this.b.copy(o),this.c.copy(u),this},setFromPointsAndIndices:function(n,o,u,m){return this.a.copy(n[o]),this.b.copy(n[u]),this.c.copy(n[m]),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this},getArea:function(){return na.subVectors(this.c,this.b),Eo.subVectors(this.a,this.b),.5*na.cross(Eo).length()},getMidpoint:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),n=new mt),n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(n){return Fo.getNormal(this.a,this.b,this.c,n)},getPlane:function(n){return n===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),n=new Jo),n.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(n,o){return Fo.getBarycoord(n,this.a,this.b,this.c,o)},getUV:function(n,o,u,m,P){return Fo.getUV(n,this.a,this.b,this.c,o,u,m,P)},containsPoint:function(n){return Fo.containsPoint(n,this.a,this.b,this.c)},isFrontFacing:function(n){return Fo.isFrontFacing(this.a,this.b,this.c,n)},intersectsBox:function(n){return n.intersectsTriangle(this)},closestPointToPoint:function(n,o){o===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new mt);var u,m,P=this.a,z=this.b,re=this.c;is.subVectors(z,P),Sa.subVectors(re,P),to.subVectors(n,P);var ue=is.dot(to),ve=Sa.dot(to);if(ue<=0&&ve<=0)return o.copy(P);Wi.subVectors(n,z);var ye=is.dot(Wi),Be=Sa.dot(Wi);if(0<=ye&&Be<=ye)return o.copy(z);var Se=ue*Be-ye*ve;if(Se<=0&&0<=ue&&ye<=0)return u=ue/(ue-ye),o.copy(P).addScaledVector(is,u);Ta.subVectors(n,re);var Oe=is.dot(Ta),be=Sa.dot(Ta);if(0<=be&&Oe<=be)return o.copy(re);var He=Oe*ve-ue*be;if(He<=0&&0<=ve&&be<=0)return m=ve/(ve-be),o.copy(P).addScaledVector(Sa,m);var Je=ye*be-Oe*Be;if(Je<=0&&0<=Be-ye&&0<=Oe-be)return yl.subVectors(re,z),m=(Be-ye)/(Be-ye+(Oe-be)),o.copy(z).addScaledVector(yl,m);var Ye=1/(Je+He+Se);return u=He*Ye,m=Se*Ye,o.copy(P).addScaledVector(is,u).addScaledVector(Sa,m)},equals:function(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}});var al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Et={h:0,s:0,l:0},$t={h:0,s:0,l:0};function Ft(n,o,u){return o===void 0&&u===void 0?this.set(n):this.setRGB(n,o,u)}function un(n,o,u){return u<0&&(u+=1),1<u&&--u,u<1/6?n+6*(o-n)*u:u<.5?o:u<2/3?n+6*(o-n)*(2/3-u):n}function vn(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Gn(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}function Yn(n,o,u,m,P,z){this.a=n,this.b=o,this.c=u,this.normal=m&&m.isVector3?m:new mt,this.vertexNormals=Array.isArray(m)?m:[],this.color=P&&P.isColor?P:new Ft,this.vertexColors=Array.isArray(P)?P:[],this.materialIndex=z!==void 0?z:0}Object.assign(Ft.prototype,{isColor:!0,r:1,g:1,b:1,set:function(n){return n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n),this},setScalar:function(n){return this.r=n,this.g=n,this.b=n,this},setHex:function(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(255&n)/255,this},setRGB:function(n,o,u){return this.r=n,this.g=o,this.b=u,this},setHSL:function(n,o,u){if(n=ai.euclideanModulo(n,1),o=ai.clamp(o,0,1),u=ai.clamp(u,0,1),o===0)this.r=this.g=this.b=u;else{var m=u<=.5?u*(1+o):u+o-u*o,P=2*u-m;this.r=un(P,m,n+1/3),this.g=un(P,m,n),this.b=un(P,m,n-1/3)}return this},setStyle:function(n){function o(Se){Se!==void 0&&parseFloat(Se)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}var u;if(u=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){var m,P=u[1],z=u[2];switch(P){case"rgb":case"rgba":if(m=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(z))return this.r=Math.min(255,parseInt(m[1],10))/255,this.g=Math.min(255,parseInt(m[2],10))/255,this.b=Math.min(255,parseInt(m[3],10))/255,o(m[5]),this;if(m=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(z))return this.r=Math.min(100,parseInt(m[1],10))/100,this.g=Math.min(100,parseInt(m[2],10))/100,this.b=Math.min(100,parseInt(m[3],10))/100,o(m[5]),this;break;case"hsl":case"hsla":if(m=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(z)){var re=parseFloat(m[1])/360,ue=parseInt(m[2],10)/100,ve=parseInt(m[3],10)/100;return o(m[5]),this.setHSL(re,ue,ve)}}}else if(u=/^\#([A-Fa-f0-9]+)$/.exec(n)){var ye=u[1],Be=ye.length;if(Be===3)return this.r=parseInt(ye.charAt(0)+ye.charAt(0),16)/255,this.g=parseInt(ye.charAt(1)+ye.charAt(1),16)/255,this.b=parseInt(ye.charAt(2)+ye.charAt(2),16)/255,this;if(Be===6)return this.r=parseInt(ye.charAt(0)+ye.charAt(1),16)/255,this.g=parseInt(ye.charAt(2)+ye.charAt(3),16)/255,this.b=parseInt(ye.charAt(4)+ye.charAt(5),16)/255,this}return n&&0<n.length?this.setColorName(n):this},setColorName:function(n){var o=al[n];return o!==void 0?this.setHex(o):console.warn("THREE.Color: Unknown color "+n),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(n){return this.r=n.r,this.g=n.g,this.b=n.b,this},copyGammaToLinear:function(n,o){return o===void 0&&(o=2),this.r=Math.pow(n.r,o),this.g=Math.pow(n.g,o),this.b=Math.pow(n.b,o),this},copyLinearToGamma:function(n,o){o===void 0&&(o=2);var u=0<o?1/o:1;return this.r=Math.pow(n.r,u),this.g=Math.pow(n.g,u),this.b=Math.pow(n.b,u),this},convertGammaToLinear:function(n){return this.copyGammaToLinear(this,n),this},convertLinearToGamma:function(n){return this.copyLinearToGamma(this,n),this},copySRGBToLinear:function(n){return this.r=vn(n.r),this.g=vn(n.g),this.b=vn(n.b),this},copyLinearToSRGB:function(n){return this.r=Gn(n.r),this.g=Gn(n.g),this.b=Gn(n.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(n){n===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),n={h:0,s:0,l:0});var o,u,m=this.r,P=this.g,z=this.b,re=Math.max(m,P,z),ue=Math.min(m,P,z),ve=(ue+re)/2;if(ue===re)u=o=0;else{var ye=re-ue;switch(u=ve<=.5?ye/(re+ue):ye/(2-re-ue),re){case m:o=(P-z)/ye+(P<z?6:0);break;case P:o=(z-m)/ye+2;break;case z:o=(m-P)/ye+4}o/=6}return n.h=o,n.s=u,n.l=ve,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(n,o,u){return this.getHSL(Et),Et.h+=n,Et.s+=o,Et.l+=u,this.setHSL(Et.h,Et.s,Et.l),this},add:function(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this},addColors:function(n,o){return this.r=n.r+o.r,this.g=n.g+o.g,this.b=n.b+o.b,this},addScalar:function(n){return this.r+=n,this.g+=n,this.b+=n,this},sub:function(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this},multiply:function(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this},multiplyScalar:function(n){return this.r*=n,this.g*=n,this.b*=n,this},lerp:function(n,o){return this.r+=(n.r-this.r)*o,this.g+=(n.g-this.g)*o,this.b+=(n.b-this.b)*o,this},lerpHSL:function(n,o){this.getHSL(Et),n.getHSL($t);var u=ai.lerp(Et.h,$t.h,o),m=ai.lerp(Et.s,$t.s,o),P=ai.lerp(Et.l,$t.l,o);return this.setHSL(u,m,P),this},equals:function(n){return n.r===this.r&&n.g===this.g&&n.b===this.b},fromArray:function(n,o){return o===void 0&&(o=0),this.r=n[o],this.g=n[o+1],this.b=n[o+2],this},toArray:function(n,o){return n===void 0&&(n=[]),o===void 0&&(o=0),n[o]=this.r,n[o+1]=this.g,n[o+2]=this.b,n},toJSON:function(){return this.getHex()}}),Ft.NAMES=al,Object.assign(Yn.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(n){this.a=n.a,this.b=n.b,this.c=n.c,this.normal.copy(n.normal),this.color.copy(n.color),this.materialIndex=n.materialIndex;for(var o=0,u=n.vertexNormals.length;o<u;o++)this.vertexNormals[o]=n.vertexNormals[o].clone();for(o=0,u=n.vertexColors.length;o<u;o++)this.vertexColors[o]=n.vertexColors[o].clone();return this}});var mr=0;function En(){Object.defineProperty(this,"id",{value:mr++}),this.uuid=ai.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ie,this.side=A,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=N,this.opacity=1,this.transparent=!1,this.blendSrc=_e,this.blendDst=xe,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Pe,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Os,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Na,this.stencilZFail=Na,this.stencilZPass=Na,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function pi(n){En.call(this),this.type="MeshBasicMaterial",this.color=new Ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(n)}En.prototype=Object.assign(Object.create(Fa.prototype),{constructor:En,isMaterial:!0,onBeforeCompile:function(){},setValues:function(n){if(n!==void 0)for(var o in n){var u=n[o];if(u!==void 0)if(o!=="shading"){var m=this[o];m!==void 0?m&&m.isColor?m.set(u):m&&m.isVector3&&u&&u.isVector3?m.copy(u):this[o]=u:console.warn("THREE."+this.type+": '"+o+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=u===1;else console.warn("THREE.Material: '"+o+"' parameter is undefined.")}},toJSON:function(n){var o=n===void 0||typeof n=="string";o&&(n={textures:{},images:{}});var u={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function m(re){var ue=[];for(var ve in re){var ye=re[ve];delete ye.metadata,ue.push(ye)}return ue}if(u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.color&&this.color.isColor&&(u.color=this.color.getHex()),this.roughness!==void 0&&(u.roughness=this.roughness),this.metalness!==void 0&&(u.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(u.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(u.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(u.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(u.specular=this.specular.getHex()),this.shininess!==void 0&&(u.shininess=this.shininess),this.clearcoat!==void 0&&(u.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(u.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(u.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,u.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(u.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(u.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(u.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(u.lightMap=this.lightMap.toJSON(n).uuid),this.aoMap&&this.aoMap.isTexture&&(u.aoMap=this.aoMap.toJSON(n).uuid,u.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(u.bumpMap=this.bumpMap.toJSON(n).uuid,u.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(u.normalMap=this.normalMap.toJSON(n).uuid,u.normalMapType=this.normalMapType,u.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(u.displacementMap=this.displacementMap.toJSON(n).uuid,u.displacementScale=this.displacementScale,u.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(u.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(u.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(u.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(u.specularMap=this.specularMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(u.envMap=this.envMap.toJSON(n).uuid,u.reflectivity=this.reflectivity,u.refractionRatio=this.refractionRatio,this.combine!==void 0&&(u.combine=this.combine),this.envMapIntensity!==void 0&&(u.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(u.gradientMap=this.gradientMap.toJSON(n).uuid),this.size!==void 0&&(u.size=this.size),this.sizeAttenuation!==void 0&&(u.sizeAttenuation=this.sizeAttenuation),this.blending!==ie&&(u.blending=this.blending),this.flatShading===!0&&(u.flatShading=this.flatShading),this.side!==A&&(u.side=this.side),this.vertexColors!==N&&(u.vertexColors=this.vertexColors),this.opacity<1&&(u.opacity=this.opacity),this.transparent===!0&&(u.transparent=this.transparent),u.depthFunc=this.depthFunc,u.depthTest=this.depthTest,u.depthWrite=this.depthWrite,u.stencilWrite=this.stencilWrite,u.stencilWriteMask=this.stencilWriteMask,u.stencilFunc=this.stencilFunc,u.stencilRef=this.stencilRef,u.stencilFuncMask=this.stencilFuncMask,u.stencilFail=this.stencilFail,u.stencilZFail=this.stencilZFail,u.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(u.rotation=this.rotation),this.polygonOffset===!0&&(u.polygonOffset=!0),this.polygonOffsetFactor!==0&&(u.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(u.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(u.linewidth=this.linewidth),this.dashSize!==void 0&&(u.dashSize=this.dashSize),this.gapSize!==void 0&&(u.gapSize=this.gapSize),this.scale!==void 0&&(u.scale=this.scale),this.dithering===!0&&(u.dithering=!0),0<this.alphaTest&&(u.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(u.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(u.wireframe=this.wireframe),1<this.wireframeLinewidth&&(u.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(u.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(u.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(u.morphTargets=!0),this.morphNormals===!0&&(u.morphNormals=!0),this.skinning===!0&&(u.skinning=!0),this.visible===!1&&(u.visible=!1),this.toneMapped===!1&&(u.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(u.userData=this.userData),o){var P=m(n.textures),z=m(n.images);0<P.length&&(u.textures=P),0<z.length&&(u.images=z)}return u},clone:function(){return new this.constructor().copy(this)},copy:function(n){this.name=n.name,this.fog=n.fog,this.blending=n.blending,this.side=n.side,this.flatShading=n.flatShading,this.vertexTangents=n.vertexTangents,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;var o=n.clippingPlanes,u=null;if(o!==null){var m=o.length;u=new Array(m);for(var P=0;P!==m;++P)u[P]=o[P].clone()}return this.clippingPlanes=u,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.premultipliedAlpha=n.premultipliedAlpha,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(En.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),((pi.prototype=Object.create(En.prototype)).constructor=pi).prototype.isMeshBasicMaterial=!0,pi.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this};var sr=new mt;function kn(n,o,u){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=n,this.itemSize=o,this.count=n!==void 0?n.length/o:0,this.normalized=u===!0,this.usage=Ii,this.updateRange={offset:0,count:-1},this.version=0}function yi(n,o,u){kn.call(this,new Int8Array(n),o,u)}function Lr(n,o,u){kn.call(this,new Uint8Array(n),o,u)}function $i(n,o,u){kn.call(this,new Uint8ClampedArray(n),o,u)}function no(n,o,u){kn.call(this,new Int16Array(n),o,u)}function ro(n,o,u){kn.call(this,new Uint16Array(n),o,u)}function Ke(n,o,u){kn.call(this,new Int32Array(n),o,u)}function io(n,o,u){kn.call(this,new Uint32Array(n),o,u)}function Wn(n,o,u){kn.call(this,new Float32Array(n),o,u)}function fi(n,o,u){kn.call(this,new Float64Array(n),o,u)}function li(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Qe(n){if(n.length===0)return-1/0;for(var o=n[0],u=1,m=n.length;u<m;++u)n[u]>o&&(o=n[u]);return o}Object.defineProperty(kn.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(kn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(n){return this.usage=n,this},copy:function(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this},copyAt:function(n,o,u){n*=this.itemSize,u*=o.itemSize;for(var m=0,P=this.itemSize;m<P;m++)this.array[n+m]=o.array[u+m];return this},copyArray:function(n){return this.array.set(n),this},copyColorsArray:function(n){for(var o=this.array,u=0,m=0,P=n.length;m<P;m++){var z=n[m];z===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),z=new Ft),o[u++]=z.r,o[u++]=z.g,o[u++]=z.b}return this},copyVector2sArray:function(n){for(var o=this.array,u=0,m=0,P=n.length;m<P;m++){var z=n[m];z===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),z=new Bn),o[u++]=z.x,o[u++]=z.y}return this},copyVector3sArray:function(n){for(var o=this.array,u=0,m=0,P=n.length;m<P;m++){var z=n[m];z===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),z=new mt),o[u++]=z.x,o[u++]=z.y,o[u++]=z.z}return this},copyVector4sArray:function(n){for(var o=this.array,u=0,m=0,P=n.length;m<P;m++){var z=n[m];z===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),z=new Pi),o[u++]=z.x,o[u++]=z.y,o[u++]=z.z,o[u++]=z.w}return this},applyMatrix3:function(n){for(var o=0,u=this.count;o<u;o++)sr.x=this.getX(o),sr.y=this.getY(o),sr.z=this.getZ(o),sr.applyMatrix3(n),this.setXYZ(o,sr.x,sr.y,sr.z);return this},applyMatrix4:function(n){for(var o=0,u=this.count;o<u;o++)sr.x=this.getX(o),sr.y=this.getY(o),sr.z=this.getZ(o),sr.applyMatrix4(n),this.setXYZ(o,sr.x,sr.y,sr.z);return this},applyNormalMatrix:function(n){for(var o=0,u=this.count;o<u;o++)sr.x=this.getX(o),sr.y=this.getY(o),sr.z=this.getZ(o),sr.applyNormalMatrix(n),this.setXYZ(o,sr.x,sr.y,sr.z);return this},transformDirection:function(n){for(var o=0,u=this.count;o<u;o++)sr.x=this.getX(o),sr.y=this.getY(o),sr.z=this.getZ(o),sr.transformDirection(n),this.setXYZ(o,sr.x,sr.y,sr.z);return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},getX:function(n){return this.array[n*this.itemSize]},setX:function(n,o){return this.array[n*this.itemSize]=o,this},getY:function(n){return this.array[n*this.itemSize+1]},setY:function(n,o){return this.array[n*this.itemSize+1]=o,this},getZ:function(n){return this.itemSize<3?0:this.array[n*this.itemSize+2]},setZ:function(n,o){return this.array[n*this.itemSize+2]=o,this},getW:function(n){return this.array[n*this.itemSize+3]},setW:function(n,o){return this.array[n*this.itemSize+3]=o,this},setXY:function(n,o,u){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this},setXYZ:function(n,o,u,m){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this.array[n+2]=m,this},setXYZW:function(n,o,u,m,P){return n*=this.itemSize,this.array[n+0]=o,this.array[n+1]=u,this.array[n+2]=m,this.array[n+3]=P,this},onUpload:function(n){return this.onUploadCallback=n,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(yi.prototype=Object.create(kn.prototype)).constructor=yi,(Lr.prototype=Object.create(kn.prototype)).constructor=Lr,($i.prototype=Object.create(kn.prototype)).constructor=$i,(no.prototype=Object.create(kn.prototype)).constructor=no,(ro.prototype=Object.create(kn.prototype)).constructor=ro,(Ke.prototype=Object.create(kn.prototype)).constructor=Ke,(io.prototype=Object.create(kn.prototype)).constructor=io,(Wn.prototype=Object.create(kn.prototype)).constructor=Wn,(fi.prototype=Object.create(kn.prototype)).constructor=fi,Object.assign(li.prototype,{computeGroups:function(n){for(var o,u=[],m=void 0,P=n.faces,z=0;z<P.length;z++){var re=P[z];re.materialIndex!==m&&(m=re.materialIndex,o!==void 0&&(o.count=3*z-o.start,u.push(o)),o={start:3*z,materialIndex:m})}o!==void 0&&(o.count=3*z-o.start,u.push(o)),this.groups=u},fromGeometry:function(n){var o,u=n.faces,m=n.vertices,P=n.faceVertexUvs,z=P[0]&&0<P[0].length,re=P[1]&&0<P[1].length,ue=n.morphTargets,ve=ue.length;if(0<ve){o=[];for(var ye=0;ye<ve;ye++)o[ye]={name:ue[ye].name,data:[]};this.morphTargets.position=o}var Be,Se=n.morphNormals,Oe=Se.length;if(0<Oe){for(Be=[],ye=0;ye<Oe;ye++)Be[ye]={name:Se[ye].name,data:[]};this.morphTargets.normal=Be}var be=n.skinIndices,He=n.skinWeights,Je=be.length===m.length,Ye=He.length===m.length;for(0<m.length&&u.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),ye=0;ye<u.length;ye++){var pt=u[ye];this.vertices.push(m[pt.a],m[pt.b],m[pt.c]);var yt=pt.vertexNormals;if(yt.length===3)this.normals.push(yt[0],yt[1],yt[2]);else{var Bt=pt.normal;this.normals.push(Bt,Bt,Bt)}var Vt,_t=pt.vertexColors;if(_t.length===3)this.colors.push(_t[0],_t[1],_t[2]);else{var Wt=pt.color;this.colors.push(Wt,Wt,Wt)}z===!0&&((Vt=P[0][ye])!==void 0?this.uvs.push(Vt[0],Vt[1],Vt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",ye),this.uvs.push(new Bn,new Bn,new Bn))),re===!0&&((Vt=P[1][ye])!==void 0?this.uvs2.push(Vt[0],Vt[1],Vt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",ye),this.uvs2.push(new Bn,new Bn,new Bn)));for(var Tt=0;Tt<ve;Tt++){var rn=ue[Tt].vertices;o[Tt].data.push(rn[pt.a],rn[pt.b],rn[pt.c])}for(Tt=0;Tt<Oe;Tt++){var hn=Se[Tt].vertexNormals[ye];Be[Tt].data.push(hn.a,hn.b,hn.c)}Je&&this.skinIndices.push(be[pt.a],be[pt.b],be[pt.c]),Ye&&this.skinWeights.push(He[pt.a],He[pt.b],He[pt.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this}});var Mt=2147483647,jt=new ri,yn=new qt,Jt=new mt,Cn=new oo,Sn=new oo,In=new mt;function dn(){Object.defineProperty(this,"id",{value:Mt+=2}),this.uuid=ai.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}dn.prototype=Object.assign(Object.create(Fa.prototype),{constructor:dn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(n){Array.isArray(n)?this.index=new(65535<Qe(n)?io:ro)(n,1):this.index=n},getAttribute:function(n){return this.attributes[n]},setAttribute:function(n,o){return this.attributes[n]=o,this},deleteAttribute:function(n){return delete this.attributes[n],this},addGroup:function(n,o,u){this.groups.push({start:n,count:o,materialIndex:u!==void 0?u:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(n,o){this.drawRange.start=n,this.drawRange.count=o},applyMatrix4:function(n){var o=this.attributes.position;o!==void 0&&(o.applyMatrix4(n),o.needsUpdate=!0);var u=this.attributes.normal;if(u!==void 0){var m=new go().getNormalMatrix(n);u.applyNormalMatrix(m),u.needsUpdate=!0}var P=this.attributes.tangent;return P!==void 0&&(P.transformDirection(n),P.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(n){return jt.makeRotationX(n),this.applyMatrix4(jt),this},rotateY:function(n){return jt.makeRotationY(n),this.applyMatrix4(jt),this},rotateZ:function(n){return jt.makeRotationZ(n),this.applyMatrix4(jt),this},translate:function(n,o,u){return jt.makeTranslation(n,o,u),this.applyMatrix4(jt),this},scale:function(n,o,u){return jt.makeScale(n,o,u),this.applyMatrix4(jt),this},lookAt:function(n){return yn.lookAt(n),yn.updateMatrix(),this.applyMatrix4(yn.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jt).negate(),this.translate(Jt.x,Jt.y,Jt.z),this},setFromObject:function(n){var o=n.geometry;if(n.isPoints||n.isLine){var u=new Wn(3*o.vertices.length,3),m=new Wn(3*o.colors.length,3);if(this.setAttribute("position",u.copyVector3sArray(o.vertices)),this.setAttribute("color",m.copyColorsArray(o.colors)),o.lineDistances&&o.lineDistances.length===o.vertices.length){var P=new Wn(o.lineDistances.length,1);this.setAttribute("lineDistance",P.copyArray(o.lineDistances))}o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone())}else n.isMesh&&o&&o.isGeometry&&this.fromGeometry(o);return this},setFromPoints:function(n){for(var o=[],u=0,m=n.length;u<m;u++){var P=n[u];o.push(P.x,P.y,P.z||0)}return this.setAttribute("position",new Wn(o,3)),this},updateFromObject:function(n){var o,u=n.geometry;if(n.isMesh){var m=u.__directGeometry;if(u.elementsNeedUpdate===!0&&(m=void 0,u.elementsNeedUpdate=!1),m===void 0)return this.fromGeometry(u);m.verticesNeedUpdate=u.verticesNeedUpdate,m.normalsNeedUpdate=u.normalsNeedUpdate,m.colorsNeedUpdate=u.colorsNeedUpdate,m.uvsNeedUpdate=u.uvsNeedUpdate,m.groupsNeedUpdate=u.groupsNeedUpdate,u.verticesNeedUpdate=!1,u.normalsNeedUpdate=!1,u.colorsNeedUpdate=!1,u.uvsNeedUpdate=!1,u.groupsNeedUpdate=!1,u=m}return u.verticesNeedUpdate===!0&&((o=this.attributes.position)!==void 0&&(o.copyVector3sArray(u.vertices),o.needsUpdate=!0),u.verticesNeedUpdate=!1),u.normalsNeedUpdate===!0&&((o=this.attributes.normal)!==void 0&&(o.copyVector3sArray(u.normals),o.needsUpdate=!0),u.normalsNeedUpdate=!1),u.colorsNeedUpdate===!0&&((o=this.attributes.color)!==void 0&&(o.copyColorsArray(u.colors),o.needsUpdate=!0),u.colorsNeedUpdate=!1),u.uvsNeedUpdate&&((o=this.attributes.uv)!==void 0&&(o.copyVector2sArray(u.uvs),o.needsUpdate=!0),u.uvsNeedUpdate=!1),u.lineDistancesNeedUpdate&&((o=this.attributes.lineDistance)!==void 0&&(o.copyArray(u.lineDistances),o.needsUpdate=!0),u.lineDistancesNeedUpdate=!1),u.groupsNeedUpdate&&(u.computeGroups(n.geometry),this.groups=u.groups,u.groupsNeedUpdate=!1),this},fromGeometry:function(n){return n.__directGeometry=new li().fromGeometry(n),this.fromDirectGeometry(n.__directGeometry)},fromDirectGeometry:function(n){var o=new Float32Array(3*n.vertices.length);if(this.setAttribute("position",new kn(o,3).copyVector3sArray(n.vertices)),0<n.normals.length){var u=new Float32Array(3*n.normals.length);this.setAttribute("normal",new kn(u,3).copyVector3sArray(n.normals))}if(0<n.colors.length){var m=new Float32Array(3*n.colors.length);this.setAttribute("color",new kn(m,3).copyColorsArray(n.colors))}if(0<n.uvs.length){var P=new Float32Array(2*n.uvs.length);this.setAttribute("uv",new kn(P,2).copyVector2sArray(n.uvs))}if(0<n.uvs2.length){var z=new Float32Array(2*n.uvs2.length);this.setAttribute("uv2",new kn(z,2).copyVector2sArray(n.uvs2))}for(var re in this.groups=n.groups,n.morphTargets){for(var ue=[],ve=n.morphTargets[re],ye=0,Be=ve.length;ye<Be;ye++){var Se=ve[ye],Oe=new Wn(3*Se.data.length,3);Oe.name=Se.name,ue.push(Oe.copyVector3sArray(Se.data))}this.morphAttributes[re]=ue}if(0<n.skinIndices.length){var be=new Wn(4*n.skinIndices.length,4);this.setAttribute("skinIndex",be.copyVector4sArray(n.skinIndices))}if(0<n.skinWeights.length){var He=new Wn(4*n.skinWeights.length,4);this.setAttribute("skinWeight",He.copyVector4sArray(n.skinWeights))}return n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new oo);var n=this.attributes.position,o=this.morphAttributes.position;if(n!==void 0){if(this.boundingBox.setFromBufferAttribute(n),o)for(var u=0,m=o.length;u<m;u++){var P=o[u];Cn.setFromBufferAttribute(P),this.morphTargetsRelative?(In.addVectors(this.boundingBox.min,Cn.min),this.boundingBox.expandByPoint(In),In.addVectors(this.boundingBox.max,Cn.max),this.boundingBox.expandByPoint(In)):(this.boundingBox.expandByPoint(Cn.min),this.boundingBox.expandByPoint(Cn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ki);var n=this.attributes.position,o=this.morphAttributes.position;if(n){var u=this.boundingSphere.center;if(Cn.setFromBufferAttribute(n),o)for(var m=0,P=o.length;m<P;m++){var z=o[m];Sn.setFromBufferAttribute(z),this.morphTargetsRelative?(In.addVectors(Cn.min,Sn.min),Cn.expandByPoint(In),In.addVectors(Cn.max,Sn.max),Cn.expandByPoint(In)):(Cn.expandByPoint(Sn.min),Cn.expandByPoint(Sn.max))}Cn.getCenter(u);var re=0;for(m=0,P=n.count;m<P;m++)In.fromBufferAttribute(n,m),re=Math.max(re,u.distanceToSquared(In));if(o)for(m=0,P=o.length;m<P;m++){z=o[m];for(var ue=this.morphTargetsRelative,ve=0,ye=z.count;ve<ye;ve++)In.fromBufferAttribute(z,ve),ue&&(Jt.fromBufferAttribute(n,ve),In.add(Jt)),re=Math.max(re,u.distanceToSquared(In))}this.boundingSphere.radius=Math.sqrt(re),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var n=this.index,o=this.attributes;if(o.position){var u=o.position.array;if(o.normal===void 0)this.setAttribute("normal",new kn(new Float32Array(u.length),3));else for(var m=o.normal.array,P=0,z=m.length;P<z;P++)m[P]=0;var re,ue,ve,ye=o.normal.array,Be=new mt,Se=new mt,Oe=new mt,be=new mt,He=new mt;if(n){var Je=n.array;for(P=0,z=n.count;P<z;P+=3)re=3*Je[P+0],ue=3*Je[P+1],ve=3*Je[P+2],Be.fromArray(u,re),Se.fromArray(u,ue),Oe.fromArray(u,ve),be.subVectors(Oe,Se),He.subVectors(Be,Se),be.cross(He),ye[re]+=be.x,ye[1+re]+=be.y,ye[2+re]+=be.z,ye[ue]+=be.x,ye[1+ue]+=be.y,ye[2+ue]+=be.z,ye[ve]+=be.x,ye[1+ve]+=be.y,ye[2+ve]+=be.z}else for(P=0,z=u.length;P<z;P+=9)Be.fromArray(u,P),Se.fromArray(u,P+3),Oe.fromArray(u,P+6),be.subVectors(Oe,Se),He.subVectors(Be,Se),be.cross(He),ye[P]=be.x,ye[P+1]=be.y,ye[P+2]=be.z,ye[P+3]=be.x,ye[P+4]=be.y,ye[P+5]=be.z,ye[P+6]=be.x,ye[P+7]=be.y,ye[P+8]=be.z;this.normalizeNormals(),o.normal.needsUpdate=!0}},merge:function(n,o){if(n&&n.isBufferGeometry){o===void 0&&(o=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var u=this.attributes;for(var m in u)if(n.attributes[m]!==void 0)for(var P=u[m].array,z=n.attributes[m],re=z.array,ue=z.itemSize*o,ve=Math.min(re.length,P.length-ue),ye=0,Be=ue;ye<ve;ye++,Be++)P[Be]=re[ye];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",n)},normalizeNormals:function(){for(var n=this.attributes.normal,o=0,u=n.count;o<u;o++)In.x=n.getX(o),In.y=n.getY(o),In.z=n.getZ(o),In.normalize(),n.setXYZ(o,In.x,In.y,In.z)},toNonIndexed:function(){function n(He,Je){for(var Ye=He.array,pt=He.itemSize,yt=new Ye.constructor(Je.length*pt),Bt=0,Vt=0,_t=0,Wt=Je.length;_t<Wt;_t++){Bt=Je[_t]*pt;for(var Tt=0;Tt<pt;Tt++)yt[Vt++]=Ye[Bt++]}return new kn(yt,pt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var o=new dn,u=this.index.array,m=this.attributes;for(var P in m){var z=n(m[P],u);o.setAttribute(P,z)}var re=this.morphAttributes;for(P in re){for(var ue=[],ve=re[P],ye=0,Be=ve.length;ye<Be;ye++)z=n(ve[ye],u),ue.push(z);o.morphAttributes[P]=ue}o.morphTargetsRelative=this.morphTargetsRelative;for(var Se=this.groups,Oe=(ye=0,Se.length);ye<Oe;ye++){var be=Se[ye];o.addGroup(be.start,be.count,be.materialIndex)}return o},toJSON:function(){var n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),0<Object.keys(this.userData).length&&(n.userData=this.userData),this.parameters!==void 0){var o=this.parameters;for(var u in o)o[u]!==void 0&&(n[u]=o[u]);return n}n.data={attributes:{}};var m=this.index;m!==null&&(n.data.index={type:m.array.constructor.name,array:Array.prototype.slice.call(m.array)});var P=this.attributes;for(var u in P){var z=(Oe=P[u]).toJSON();Oe.name!==""&&(z.name=Oe.name),n.data.attributes[u]=z}var re={},ue=!1;for(var u in this.morphAttributes){for(var ve=this.morphAttributes[u],ye=[],Be=0,Se=ve.length;Be<Se;Be++){var Oe;z=(Oe=ve[Be]).toJSON(),Oe.name!==""&&(z.name=Oe.name),ye.push(z)}0<ye.length&&(re[u]=ye,ue=!0)}ue&&(n.data.morphAttributes=re,n.data.morphTargetsRelative=this.morphTargetsRelative);var be=this.groups;0<be.length&&(n.data.groups=JSON.parse(JSON.stringify(be)));var He=this.boundingSphere;return He!==null&&(n.data.boundingSphere={center:He.center.toArray(),radius:He.radius}),n},clone:function(){return new dn().copy(this)},copy:function(n){var o,u,m;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var P=n.index;P!==null&&this.setIndex(P.clone());var z=n.attributes;for(o in z){var re=z[o];this.setAttribute(o,re.clone())}var ue=n.morphAttributes;for(o in ue){var ve=[],ye=ue[o];for(u=0,m=ye.length;u<m;u++)ve.push(ye[u].clone());this.morphAttributes[o]=ve}this.morphTargetsRelative=n.morphTargetsRelative;var Be=n.groups;for(u=0,m=Be.length;u<m;u++){var Se=Be[u];this.addGroup(Se.start,Se.count,Se.materialIndex)}var Oe=n.boundingBox;Oe!==null&&(this.boundingBox=Oe.clone());var be=n.boundingSphere;return be!==null&&(this.boundingSphere=be.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ir=new ri,Fr=new gi,Ur=new ki,Gr=new mt,Mi=new mt,Er=new mt,Ni=new mt,Xo=new mt,ga=new mt,Hi=new mt,Pa=new mt,ks=new mt,ra=new Bn,sl=new Bn,Ol=new Bn,Yo=new mt,dc=new mt;function So(n,o){qt.call(this),this.type="Mesh",this.geometry=n!==void 0?n:new dn,this.material=o!==void 0?o:new pi,this.updateMorphTargets()}function Ns(n,o,u,m,P,z,re,ue){if((o.side===S?m.intersectTriangle(re,z,P,!0,ue):m.intersectTriangle(P,z,re,o.side!==L,ue))===null)return null;dc.copy(ue),dc.applyMatrix4(n.matrixWorld);var ve=u.ray.origin.distanceTo(dc);return ve<u.near||ve>u.far?null:{distance:ve,point:dc.clone(),object:n}}function hc(n,o,u,m,P,z,re,ue,ve,ye,Be,Se){Gr.fromBufferAttribute(P,ye),Mi.fromBufferAttribute(P,Be),Er.fromBufferAttribute(P,Se);var Oe=n.morphTargetInfluences;if(o.morphTargets&&z&&Oe){Hi.set(0,0,0),Pa.set(0,0,0),ks.set(0,0,0);for(var be=0,He=z.length;be<He;be++){var Je=Oe[be],Ye=z[be];Je!==0&&(Ni.fromBufferAttribute(Ye,ye),Xo.fromBufferAttribute(Ye,Be),ga.fromBufferAttribute(Ye,Se),re?(Hi.addScaledVector(Ni,Je),Pa.addScaledVector(Xo,Je),ks.addScaledVector(ga,Je)):(Hi.addScaledVector(Ni.sub(Gr),Je),Pa.addScaledVector(Xo.sub(Mi),Je),ks.addScaledVector(ga.sub(Er),Je)))}Gr.add(Hi),Mi.add(Pa),Er.add(ks)}var pt=Ns(n,o,u,m,Gr,Mi,Er,Yo);if(pt){ue&&(ra.fromBufferAttribute(ue,ye),sl.fromBufferAttribute(ue,Be),Ol.fromBufferAttribute(ue,Se),pt.uv=Fo.getUV(Yo,Gr,Mi,Er,ra,sl,Ol,new Bn)),ve&&(ra.fromBufferAttribute(ve,ye),sl.fromBufferAttribute(ve,Be),Ol.fromBufferAttribute(ve,Se),pt.uv2=Fo.getUV(Yo,Gr,Mi,Er,ra,sl,Ol,new Bn));var yt=new Yn(ye,Be,Se);Fo.getNormal(Gr,Mi,Er,yt.normal),pt.face=yt}return pt}So.prototype=Object.assign(Object.create(qt.prototype),{constructor:So,isMesh:!0,copy:function(n){return qt.prototype.copy.call(this,n),n.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),n.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this},updateMorphTargets:function(){var n,o,u,m=this.geometry;if(m.isBufferGeometry){var P=m.morphAttributes,z=Object.keys(P);if(0<z.length){var re=P[z[0]];if(re!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},n=0,o=re.length;n<o;n++)u=re[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=n}}else{var ue=m.morphTargets;ue!==void 0&&0<ue.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(n,o){var u,m=this.geometry,P=this.material,z=this.matrixWorld;if(P!==void 0&&(m.boundingSphere===null&&m.computeBoundingSphere(),Ur.copy(m.boundingSphere),Ur.applyMatrix4(z),n.ray.intersectsSphere(Ur)!==!1&&(Ir.getInverse(z),Fr.copy(n.ray).applyMatrix4(Ir),m.boundingBox===null||Fr.intersectsBox(m.boundingBox)!==!1))){if(m.isBufferGeometry){var re,ue,ve,ye,Be,Se,Oe,be,He,Je=m.index,Ye=m.attributes.position,pt=m.morphAttributes.position,yt=m.morphTargetsRelative,Bt=m.attributes.uv,Vt=m.attributes.uv2,_t=m.groups,Wt=m.drawRange;if(Je!==null)if(Array.isArray(P))for(ye=0,Se=_t.length;ye<Se;ye++)for(He=P[(be=_t[ye]).materialIndex],Be=Math.max(be.start,Wt.start),Oe=Math.min(be.start+be.count,Wt.start+Wt.count);Be<Oe;Be+=3)re=Je.getX(Be),ue=Je.getX(Be+1),ve=Je.getX(Be+2),(u=hc(this,He,n,Fr,Ye,pt,yt,Bt,Vt,re,ue,ve))&&(u.faceIndex=Math.floor(Be/3),u.face.materialIndex=be.materialIndex,o.push(u));else for(ye=Math.max(0,Wt.start),Se=Math.min(Je.count,Wt.start+Wt.count);ye<Se;ye+=3)re=Je.getX(ye),ue=Je.getX(ye+1),ve=Je.getX(ye+2),(u=hc(this,P,n,Fr,Ye,pt,yt,Bt,Vt,re,ue,ve))&&(u.faceIndex=Math.floor(ye/3),o.push(u));else if(Ye!==void 0)if(Array.isArray(P))for(ye=0,Se=_t.length;ye<Se;ye++)for(He=P[(be=_t[ye]).materialIndex],Be=Math.max(be.start,Wt.start),Oe=Math.min(be.start+be.count,Wt.start+Wt.count);Be<Oe;Be+=3)(u=hc(this,He,n,Fr,Ye,pt,yt,Bt,Vt,re=Be,ue=Be+1,ve=Be+2))&&(u.faceIndex=Math.floor(Be/3),u.face.materialIndex=be.materialIndex,o.push(u));else for(ye=Math.max(0,Wt.start),Se=Math.min(Ye.count,Wt.start+Wt.count);ye<Se;ye+=3)(u=hc(this,P,n,Fr,Ye,pt,yt,Bt,Vt,re=ye,ue=ye+1,ve=ye+2))&&(u.faceIndex=Math.floor(ye/3),o.push(u))}else if(m.isGeometry){var Tt,rn,hn,mn,gn=Array.isArray(P),_n=m.vertices,Vn=m.faces,pn=m.faceVertexUvs[0];0<pn.length&&(mn=pn);for(var ln=0,Kn=Vn.length;ln<Kn;ln++){var lr=Vn[ln],kr=gn?P[lr.materialIndex]:P;if(kr!==void 0&&(Tt=_n[lr.a],rn=_n[lr.b],hn=_n[lr.c],u=Ns(this,kr,n,Fr,Tt,rn,hn,Yo))){if(mn&&mn[ln]){var Or=mn[ln];ra.copy(Or[0]),sl.copy(Or[1]),Ol.copy(Or[2]),u.uv=Fo.getUV(Yo,Tt,rn,hn,ra,sl,Ol,new Bn)}u.face=lr,u.faceIndex=ln,o.push(u)}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var zu=0,ja=new ri,Hu=new qt,va=new mt;function Kr(){Object.defineProperty(this,"id",{value:zu+=2}),this.uuid=ai.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Kr.prototype=Object.assign(Object.create(Fa.prototype),{constructor:Kr,isGeometry:!0,applyMatrix4:function(n){for(var o=new go().getNormalMatrix(n),u=0,m=this.vertices.length;u<m;u++)this.vertices[u].applyMatrix4(n);for(u=0,m=this.faces.length;u<m;u++){var P=this.faces[u];P.normal.applyMatrix3(o).normalize();for(var z=0,re=P.vertexNormals.length;z<re;z++)P.vertexNormals[z].applyMatrix3(o).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(n){return ja.makeRotationX(n),this.applyMatrix4(ja),this},rotateY:function(n){return ja.makeRotationY(n),this.applyMatrix4(ja),this},rotateZ:function(n){return ja.makeRotationZ(n),this.applyMatrix4(ja),this},translate:function(n,o,u){return ja.makeTranslation(n,o,u),this.applyMatrix4(ja),this},scale:function(n,o,u){return ja.makeScale(n,o,u),this.applyMatrix4(ja),this},lookAt:function(n){return Hu.lookAt(n),Hu.updateMatrix(),this.applyMatrix4(Hu.matrix),this},fromBufferGeometry:function(n){var o=this,u=n.index!==null?n.index.array:void 0,m=n.attributes;if(m.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var P=m.position.array,z=m.normal!==void 0?m.normal.array:void 0,re=m.color!==void 0?m.color.array:void 0,ue=m.uv!==void 0?m.uv.array:void 0,ve=m.uv2!==void 0?m.uv2.array:void 0;ve!==void 0&&(this.faceVertexUvs[1]=[]);for(var ye=0;ye<P.length;ye+=3)o.vertices.push(new mt().fromArray(P,ye)),re!==void 0&&o.colors.push(new Ft().fromArray(re,ye));function Be(Ye,pt,yt,Bt){var Vt=re===void 0?[]:[o.colors[Ye].clone(),o.colors[pt].clone(),o.colors[yt].clone()],_t=new Yn(Ye,pt,yt,z===void 0?[]:[new mt().fromArray(z,3*Ye),new mt().fromArray(z,3*pt),new mt().fromArray(z,3*yt)],Vt,Bt);o.faces.push(_t),ue!==void 0&&o.faceVertexUvs[0].push([new Bn().fromArray(ue,2*Ye),new Bn().fromArray(ue,2*pt),new Bn().fromArray(ue,2*yt)]),ve!==void 0&&o.faceVertexUvs[1].push([new Bn().fromArray(ve,2*Ye),new Bn().fromArray(ve,2*pt),new Bn().fromArray(ve,2*yt)])}var Se=n.groups;if(0<Se.length)for(ye=0;ye<Se.length;ye++)for(var Oe=Se[ye],be=Oe.start,He=be,Je=be+Oe.count;He<Je;He+=3)u!==void 0?Be(u[He],u[He+1],u[He+2],Oe.materialIndex):Be(He,He+1,He+2,Oe.materialIndex);else if(u!==void 0)for(ye=0;ye<u.length;ye+=3)Be(u[ye],u[ye+1],u[ye+2]);else for(ye=0;ye<P.length/3;ye+=3)Be(ye,ye+1,ye+2);return this.computeFaceNormals(),n.boundingBox!==null&&(this.boundingBox=n.boundingBox.clone()),n.boundingSphere!==null&&(this.boundingSphere=n.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(va).negate(),this.translate(va.x,va.y,va.z),this},normalize:function(){this.computeBoundingSphere();var n=this.boundingSphere.center,o=this.boundingSphere.radius,u=o===0?1:1/o,m=new ri;return m.set(u,0,0,-u*n.x,0,u,0,-u*n.y,0,0,u,-u*n.z,0,0,0,1),this.applyMatrix4(m),this},computeFaceNormals:function(){for(var n=new mt,o=new mt,u=0,m=this.faces.length;u<m;u++){var P=this.faces[u],z=this.vertices[P.a],re=this.vertices[P.b],ue=this.vertices[P.c];n.subVectors(ue,re),o.subVectors(z,re),n.cross(o),n.normalize(),P.normal.copy(n)}},computeVertexNormals:function(n){var o,u,m,P,z,re;for(n===void 0&&(n=!0),re=new Array(this.vertices.length),o=0,u=this.vertices.length;o<u;o++)re[o]=new mt;if(n){var ue,ve,ye,Be=new mt,Se=new mt;for(m=0,P=this.faces.length;m<P;m++)z=this.faces[m],ue=this.vertices[z.a],ve=this.vertices[z.b],ye=this.vertices[z.c],Be.subVectors(ye,ve),Se.subVectors(ue,ve),Be.cross(Se),re[z.a].add(Be),re[z.b].add(Be),re[z.c].add(Be)}else for(this.computeFaceNormals(),m=0,P=this.faces.length;m<P;m++)re[(z=this.faces[m]).a].add(z.normal),re[z.b].add(z.normal),re[z.c].add(z.normal);for(o=0,u=this.vertices.length;o<u;o++)re[o].normalize();for(m=0,P=this.faces.length;m<P;m++){var Oe=(z=this.faces[m]).vertexNormals;Oe.length===3?(Oe[0].copy(re[z.a]),Oe[1].copy(re[z.b]),Oe[2].copy(re[z.c])):(Oe[0]=re[z.a].clone(),Oe[1]=re[z.b].clone(),Oe[2]=re[z.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var n,o,u;for(this.computeFaceNormals(),n=0,o=this.faces.length;n<o;n++){var m=(u=this.faces[n]).vertexNormals;m.length===3?(m[0].copy(u.normal),m[1].copy(u.normal),m[2].copy(u.normal)):(m[0]=u.normal.clone(),m[1]=u.normal.clone(),m[2]=u.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var n,o,u,m,P;for(u=0,m=this.faces.length;u<m;u++)for((P=this.faces[u]).__originalFaceNormal?P.__originalFaceNormal.copy(P.normal):P.__originalFaceNormal=P.normal.clone(),P.__originalVertexNormals||(P.__originalVertexNormals=[]),n=0,o=P.vertexNormals.length;n<o;n++)P.__originalVertexNormals[n]?P.__originalVertexNormals[n].copy(P.vertexNormals[n]):P.__originalVertexNormals[n]=P.vertexNormals[n].clone();var z=new Kr;for(z.faces=this.faces,n=0,o=this.morphTargets.length;n<o;n++){if(!this.morphNormals[n]){this.morphNormals[n]={},this.morphNormals[n].faceNormals=[],this.morphNormals[n].vertexNormals=[];var re=this.morphNormals[n].faceNormals,ue=this.morphNormals[n].vertexNormals;for(u=0,m=this.faces.length;u<m;u++)ve=new mt,ye={a:new mt,b:new mt,c:new mt},re.push(ve),ue.push(ye)}var ve,ye,Be=this.morphNormals[n];for(z.vertices=this.morphTargets[n].vertices,z.computeFaceNormals(),z.computeVertexNormals(),u=0,m=this.faces.length;u<m;u++)P=this.faces[u],ve=Be.faceNormals[u],ye=Be.vertexNormals[u],ve.copy(P.normal),ye.a.copy(P.vertexNormals[0]),ye.b.copy(P.vertexNormals[1]),ye.c.copy(P.vertexNormals[2])}for(u=0,m=this.faces.length;u<m;u++)(P=this.faces[u]).normal=P.__originalFaceNormal,P.vertexNormals=P.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new oo),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ki),this.boundingSphere.setFromPoints(this.vertices)},merge:function(n,o,u){if(n&&n.isGeometry){var m,P=this.vertices.length,z=this.vertices,re=n.vertices,ue=this.faces,ve=n.faces,ye=this.colors,Be=n.colors;u===void 0&&(u=0),o!==void 0&&(m=new go().getNormalMatrix(o));for(var Se=0,Oe=re.length;Se<Oe;Se++){var be=re[Se].clone();o!==void 0&&be.applyMatrix4(o),z.push(be)}for(Se=0,Oe=Be.length;Se<Oe;Se++)ye.push(Be[Se].clone());for(Se=0,Oe=ve.length;Se<Oe;Se++){var He,Je,Ye,pt=ve[Se],yt=pt.vertexNormals,Bt=pt.vertexColors;(He=new Yn(pt.a+P,pt.b+P,pt.c+P)).normal.copy(pt.normal),m!==void 0&&He.normal.applyMatrix3(m).normalize();for(var Vt=0,_t=yt.length;Vt<_t;Vt++)Je=yt[Vt].clone(),m!==void 0&&Je.applyMatrix3(m).normalize(),He.vertexNormals.push(Je);for(He.color.copy(pt.color),Vt=0,_t=Bt.length;Vt<_t;Vt++)Ye=Bt[Vt],He.vertexColors.push(Ye.clone());He.materialIndex=pt.materialIndex+u,ue.push(He)}for(Se=0,Oe=n.faceVertexUvs.length;Se<Oe;Se++){var Wt=n.faceVertexUvs[Se];for(this.faceVertexUvs[Se]===void 0&&(this.faceVertexUvs[Se]=[]),Vt=0,_t=Wt.length;Vt<_t;Vt++){for(var Tt=Wt[Vt],rn=[],hn=0,mn=Tt.length;hn<mn;hn++)rn.push(Tt[hn].clone());this.faceVertexUvs[Se].push(rn)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",n)},mergeMesh:function(n){n&&n.isMesh?(n.matrixAutoUpdate&&n.updateMatrix(),this.merge(n.geometry,n.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",n)},mergeVertices:function(){var n,o,u,m,P,z,re,ue,ve={},ye=[],Be=[],Se=Math.pow(10,4);for(u=0,m=this.vertices.length;u<m;u++)n=this.vertices[u],ve[o=Math.round(n.x*Se)+"_"+Math.round(n.y*Se)+"_"+Math.round(n.z*Se)]===void 0?(ve[o]=u,ye.push(this.vertices[u]),Be[u]=ye.length-1):Be[u]=Be[ve[o]];var Oe=[];for(u=0,m=this.faces.length;u<m;u++){(P=this.faces[u]).a=Be[P.a],P.b=Be[P.b],P.c=Be[P.c],z=[P.a,P.b,P.c];for(var be=0;be<3;be++)if(z[be]===z[(be+1)%3]){Oe.push(u);break}}for(u=Oe.length-1;0<=u;u--){var He=Oe[u];for(this.faces.splice(He,1),re=0,ue=this.faceVertexUvs.length;re<ue;re++)this.faceVertexUvs[re].splice(He,1)}var Je=this.vertices.length-ye.length;return this.vertices=ye,Je},setFromPoints:function(n){this.vertices=[];for(var o=0,u=n.length;o<u;o++){var m=n[o];this.vertices.push(new mt(m.x,m.y,m.z||0))}return this},sortFacesByMaterialIndex:function(){for(var n=this.faces,o=n.length,u=0;u<o;u++)n[u]._id=u;n.sort(function(ve,ye){return ve.materialIndex-ye.materialIndex});var m,P,z=this.faceVertexUvs[0],re=this.faceVertexUvs[1];for(z&&z.length===o&&(m=[]),re&&re.length===o&&(P=[]),u=0;u<o;u++){var ue=n[u]._id;m&&m.push(z[ue]),P&&P.push(re[ue])}m&&(this.faceVertexUvs[0]=m),P&&(this.faceVertexUvs[1]=P)},toJSON:function(){var n={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.parameters!==void 0){var o=this.parameters;for(var u in o)o[u]!==void 0&&(n[u]=o[u]);return n}for(var m=[],P=0;P<this.vertices.length;P++){var z=this.vertices[P];m.push(z.x,z.y,z.z)}var re=[],ue=[],ve={},ye=[],Be={},Se=[],Oe={};for(P=0;P<this.faces.length;P++){var be=this.faces[P],He=this.faceVertexUvs[0][P]!==void 0,Je=0<be.normal.length(),Ye=0<be.vertexNormals.length,pt=be.color.r!==1||be.color.g!==1||be.color.b!==1,yt=0<be.vertexColors.length,Bt=0;if(Bt=Tt(Bt=Tt(Bt=Tt(Bt=Tt(Bt=Tt(Bt=Tt(Bt=Tt(Bt=Tt(Bt,0,0),1,!0),2,!1),3,He),4,Je),5,Ye),6,pt),7,yt),re.push(Bt),re.push(be.a,be.b,be.c),re.push(be.materialIndex),He){var Vt=this.faceVertexUvs[0][P];re.push(mn(Vt[0]),mn(Vt[1]),mn(Vt[2]))}if(Je&&re.push(rn(be.normal)),Ye){var _t=be.vertexNormals;re.push(rn(_t[0]),rn(_t[1]),rn(_t[2]))}if(pt&&re.push(hn(be.color)),yt){var Wt=be.vertexColors;re.push(hn(Wt[0]),hn(Wt[1]),hn(Wt[2]))}}function Tt(gn,_n,Vn){return Vn?gn|1<<_n:gn&~(1<<_n)}function rn(gn){var _n=gn.x.toString()+gn.y.toString()+gn.z.toString();return ve[_n]!==void 0||(ve[_n]=ue.length/3,ue.push(gn.x,gn.y,gn.z)),ve[_n]}function hn(gn){var _n=gn.r.toString()+gn.g.toString()+gn.b.toString();return Be[_n]!==void 0||(Be[_n]=ye.length,ye.push(gn.getHex())),Be[_n]}function mn(gn){var _n=gn.x.toString()+gn.y.toString();return Oe[_n]!==void 0||(Oe[_n]=Se.length/2,Se.push(gn.x,gn.y)),Oe[_n]}return n.data={},n.data.vertices=m,n.data.normals=ue,0<ye.length&&(n.data.colors=ye),0<Se.length&&(n.data.uvs=[Se]),n.data.faces=re,n},clone:function(){return new Kr().copy(this)},copy:function(n){var o,u,m,P,z,re;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var ue=n.vertices;for(o=0,u=ue.length;o<u;o++)this.vertices.push(ue[o].clone());var ve=n.colors;for(o=0,u=ve.length;o<u;o++)this.colors.push(ve[o].clone());var ye=n.faces;for(o=0,u=ye.length;o<u;o++)this.faces.push(ye[o].clone());for(o=0,u=n.faceVertexUvs.length;o<u;o++){var Be=n.faceVertexUvs[o];for(this.faceVertexUvs[o]===void 0&&(this.faceVertexUvs[o]=[]),m=0,P=Be.length;m<P;m++){var Se=Be[m],Oe=[];for(z=0,re=Se.length;z<re;z++){var be=Se[z];Oe.push(be.clone())}this.faceVertexUvs[o].push(Oe)}}var He=n.morphTargets;for(o=0,u=He.length;o<u;o++){var Je={};if(Je.name=He[o].name,He[o].vertices!==void 0)for(Je.vertices=[],m=0,P=He[o].vertices.length;m<P;m++)Je.vertices.push(He[o].vertices[m].clone());if(He[o].normals!==void 0)for(Je.normals=[],m=0,P=He[o].normals.length;m<P;m++)Je.normals.push(He[o].normals[m].clone());this.morphTargets.push(Je)}var Ye=n.morphNormals;for(o=0,u=Ye.length;o<u;o++){var pt={};if(Ye[o].vertexNormals!==void 0)for(pt.vertexNormals=[],m=0,P=Ye[o].vertexNormals.length;m<P;m++){var yt=Ye[o].vertexNormals[m],Bt={};Bt.a=yt.a.clone(),Bt.b=yt.b.clone(),Bt.c=yt.c.clone(),pt.vertexNormals.push(Bt)}if(Ye[o].faceNormals!==void 0)for(pt.faceNormals=[],m=0,P=Ye[o].faceNormals.length;m<P;m++)pt.faceNormals.push(Ye[o].faceNormals[m].clone());this.morphNormals.push(pt)}var Vt=n.skinWeights;for(o=0,u=Vt.length;o<u;o++)this.skinWeights.push(Vt[o].clone());var _t=n.skinIndices;for(o=0,u=_t.length;o<u;o++)this.skinIndices.push(_t[o].clone());var Wt=n.lineDistances;for(o=0,u=Wt.length;o<u;o++)this.lineDistances.push(Wt[o]);var Tt=n.boundingBox;Tt!==null&&(this.boundingBox=Tt.clone());var rn=n.boundingSphere;return rn!==null&&(this.boundingSphere=rn.clone()),this.elementsNeedUpdate=n.elementsNeedUpdate,this.verticesNeedUpdate=n.verticesNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.lineDistancesNeedUpdate=n.lineDistancesNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Rd=function(n){function o(u,m,P,z,re,ue){n.call(this),this.type="BoxGeometry",this.parameters={width:u,height:m,depth:P,widthSegments:z,heightSegments:re,depthSegments:ue},this.fromBufferGeometry(new zc(u,m,P,z,re,ue)),this.mergeVertices()}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o}(Kr),zc=function(n){function o(u,m,P,z,re,ue){n.call(this),this.type="BoxBufferGeometry",this.parameters={width:u,height:m,depth:P,widthSegments:z,heightSegments:re,depthSegments:ue};var ve=this;u=u||1,m=m||1,P=P||1,z=Math.floor(z)||1,re=Math.floor(re)||1;var ye=[],Be=[],Se=[],Oe=[],be=0,He=0;function Je(Ye,pt,yt,Bt,Vt,_t,Wt,Tt,rn,hn,mn){var gn,_n,Vn=_t/rn,pn=Wt/hn,ln=_t/2,Kn=Wt/2,lr=Tt/2,kr=rn+1,Or=hn+1,Sr=0,ei=0,dr=new mt;for(_n=0;_n<Or;_n++){var wt=_n*pn-Kn;for(gn=0;gn<kr;gn++){var Ht=gn*Vn-ln;dr[Ye]=Ht*Bt,dr[pt]=wt*Vt,dr[yt]=lr,Be.push(dr.x,dr.y,dr.z),dr[Ye]=0,dr[pt]=0,dr[yt]=0<Tt?1:-1,Se.push(dr.x,dr.y,dr.z),Oe.push(gn/rn),Oe.push(1-_n/hn),Sr+=1}}for(_n=0;_n<hn;_n++)for(gn=0;gn<rn;gn++){var Nn=be+gn+kr*_n,Pn=be+gn+kr*(_n+1),$r=be+(gn+1)+kr*(_n+1),fr=be+(gn+1)+kr*_n;ye.push(Nn,Pn,fr),ye.push(Pn,$r,fr),ei+=6}ve.addGroup(He,ei,mn),He+=ei,be+=Sr}Je("z","y","x",-1,-1,P,m,u,ue=Math.floor(ue)||1,re,0),Je("z","y","x",1,-1,P,m,-u,ue,re,1),Je("x","z","y",1,1,u,P,m,z,ue,2),Je("x","z","y",1,-1,u,P,-m,z,ue,3),Je("x","y","z",1,-1,u,m,P,z,re,4),Je("x","y","z",-1,-1,u,m,-P,z,re,5),this.setIndex(ye),this.setAttribute("position",new Wn(Be,3)),this.setAttribute("normal",new Wn(Se,3)),this.setAttribute("uv",new Wn(Oe,2))}return n&&(o.__proto__=n),(o.prototype=Object.create(n&&n.prototype)).constructor=o}(dn);function Cl(n){var o={};for(var u in n)for(var m in o[u]={},n[u]){var P=n[u][m];P&&(P.isColor||P.isMatrix3||P.isMatrix4||P.isVector2||P.isVector3||P.isVector4||P.isTexture)?o[u][m]=P.clone():Array.isArray(P)?o[u][m]=P.slice():o[u][m]=P}return o}function ia(n){for(var o={},u=0;u<n.length;u++){var m=Cl(n[u]);for(var P in m)o[P]=m[P]}return o}var Ld={clone:Cl,merge:ia},Hc=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Id=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function os(n){En.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Hc,this.fragmentShader=Id,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,n!==void 0&&(n.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))}function Vs(){qt.call(this),this.type="Camera",this.matrixWorldInverse=new ri,this.projectionMatrix=new ri,this.projectionMatrixInverse=new ri}function zo(n,o,u,m){Vs.call(this),this.type="PerspectiveCamera",this.fov=n!==void 0?n:50,this.zoom=1,this.near=u!==void 0?u:.1,this.far=m!==void 0?m:2e3,this.focus=10,this.aspect=o!==void 0?o:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Rl(n,o,u,m){qt.call(this),this.type="CubeCamera";var P=new zo(90,1,n,o);P.up.set(0,-1,0),P.lookAt(new mt(1,0,0)),this.add(P);var z=new zo(90,1,n,o);z.up.set(0,-1,0),z.lookAt(new mt(-1,0,0)),this.add(z);var re=new zo(90,1,n,o);re.up.set(0,0,1),re.lookAt(new mt(0,1,0)),this.add(re);var ue=new zo(90,1,n,o);ue.up.set(0,0,-1),ue.lookAt(new mt(0,-1,0)),this.add(ue);var ve=new zo(90,1,n,o);ve.up.set(0,-1,0),ve.lookAt(new mt(0,0,1)),this.add(ve);var ye=new zo(90,1,n,o);ye.up.set(0,-1,0),ye.lookAt(new mt(0,0,-1)),this.add(ye),m=m||{format:lo,magFilter:Xt,minFilter:Xt},this.renderTarget=new Ll(u,m),this.renderTarget.texture.name="CubeCamera",this.update=function(Be,Se){this.parent===null&&this.updateMatrixWorld();var Oe=Be.getRenderTarget(),be=this.renderTarget,He=be.texture.generateMipmaps;be.texture.generateMipmaps=!1,Be.setRenderTarget(be,0),Be.render(Se,P),Be.setRenderTarget(be,1),Be.render(Se,z),Be.setRenderTarget(be,2),Be.render(Se,re),Be.setRenderTarget(be,3),Be.render(Se,ue),Be.setRenderTarget(be,4),Be.render(Se,ve),be.texture.generateMipmaps=He,Be.setRenderTarget(be,5),Be.render(Se,ye),Be.setRenderTarget(Oe)},this.clear=function(Be,Se,Oe,be){for(var He=Be.getRenderTarget(),Je=this.renderTarget,Ye=0;Ye<6;Ye++)Be.setRenderTarget(Je,Ye),Be.clear(Se,Oe,be);Be.setRenderTarget(He)}}function Ll(n,o,u){Number.isInteger(o)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),o=u),Ro.call(this,n,n,o)}function pc(n,o,u,m,P,z,re,ue,ve,ye,Be,Se){ji.call(this,null,z,re,ue,ve,ye,m,P,Be,Se),this.image={data:n||null,width:o||1,height:u||1},this.magFilter=ve!==void 0?ve:St,this.minFilter=ye!==void 0?ye:St,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}((os.prototype=Object.create(En.prototype)).constructor=os).prototype.isShaderMaterial=!0,os.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=Cl(n.uniforms),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=n.extensions,this},os.prototype.toJSON=function(n){var o=En.prototype.toJSON.call(this,n);for(var u in o.uniforms={},this.uniforms){var m=this.uniforms[u].value;m&&m.isTexture?o.uniforms[u]={type:"t",value:m.toJSON(n).uuid}:m&&m.isColor?o.uniforms[u]={type:"c",value:m.getHex()}:m&&m.isVector2?o.uniforms[u]={type:"v2",value:m.toArray()}:m&&m.isVector3?o.uniforms[u]={type:"v3",value:m.toArray()}:m&&m.isVector4?o.uniforms[u]={type:"v4",value:m.toArray()}:m&&m.isMatrix3?o.uniforms[u]={type:"m3",value:m.toArray()}:m&&m.isMatrix4?o.uniforms[u]={type:"m4",value:m.toArray()}:o.uniforms[u]={value:m}}0<Object.keys(this.defines).length&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader;var P={};for(var z in this.extensions)this.extensions[z]===!0&&(P[z]=!0);return 0<Object.keys(P).length&&(o.extensions=P),o},Vs.prototype=Object.assign(Object.create(qt.prototype),{constructor:Vs,isCamera:!0,copy:function(n,o){return qt.prototype.copy.call(this,n,o),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this},getWorldDirection:function(n){n===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),n=new mt),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return n.set(-o[8],-o[9],-o[10]).normalize()},updateMatrixWorld:function(n){qt.prototype.updateMatrixWorld.call(this,n),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(n,o){qt.prototype.updateWorldMatrix.call(this,n,o),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),zo.prototype=Object.assign(Object.create(Vs.prototype),{constructor:zo,isPerspectiveCamera:!0,copy:function(n,o){return Vs.prototype.copy.call(this,n,o),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=n.view===null?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this},setFocalLength:function(n){var o=.5*this.getFilmHeight()/n;this.fov=2*ai.RAD2DEG*Math.atan(o),this.updateProjectionMatrix()},getFocalLength:function(){var n=Math.tan(.5*ai.DEG2RAD*this.fov);return .5*this.getFilmHeight()/n},getEffectiveFOV:function(){return 2*ai.RAD2DEG*Math.atan(Math.tan(.5*ai.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(n,o,u,m,P,z){this.aspect=n/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=u,this.view.offsetY=m,this.view.width=P,this.view.height=z,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=this.near,o=n*Math.tan(.5*ai.DEG2RAD*this.fov)/this.zoom,u=2*o,m=this.aspect*u,P=-.5*m,z=this.view;if(this.view!==null&&this.view.enabled){var re=z.fullWidth,ue=z.fullHeight;P+=z.offsetX*m/re,o-=z.offsetY*u/ue,m*=z.width/re,u*=z.height/ue}var ve=this.filmOffset;ve!==0&&(P+=n*ve/this.getFilmWidth()),this.projectionMatrix.makePerspective(P,P+m,o,o-u,n,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){var o=qt.prototype.toJSON.call(this,n);return o.object.fov=this.fov,o.object.zoom=this.zoom,o.object.near=this.near,o.object.far=this.far,o.object.focus=this.focus,o.object.aspect=this.aspect,this.view!==null&&(o.object.view=Object.assign({},this.view)),o.object.filmGauge=this.filmGauge,o.object.filmOffset=this.filmOffset,o}}),(Rl.prototype=Object.create(qt.prototype)).constructor=Rl,((Ll.prototype=Object.create(Ro.prototype)).constructor=Ll).prototype.isWebGLCubeRenderTarget=!0,Ll.prototype.fromEquirectangularTexture=function(n,o){this.texture.type=o.type,this.texture.format=o.format,this.texture.encoding=o.encoding;var u=new er,m={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV;","	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},P=new os({type:"CubemapFromEquirect",uniforms:Cl(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,side:S,blending:G});P.uniforms.tEquirect.value=o;var z=new So(new zc(5,5,5),P);u.add(z);var re=new Rl(1,10,1);return re.renderTarget=this,re.renderTarget.texture.name="CubeCameraTexture",re.update(n,u),z.geometry.dispose(),z.material.dispose(),this},((pc.prototype=Object.create(ji.prototype)).constructor=pc).prototype.isDataTexture=!0;var Il=new ki,kl=new mt;function Nl(n,o,u,m,P,z){this.planes=[n!==void 0?n:new Jo,o!==void 0?o:new Jo,u!==void 0?u:new Jo,m!==void 0?m:new Jo,P!==void 0?P:new Jo,z!==void 0?z:new Jo]}Object.assign(Nl.prototype,{set:function(n,o,u,m,P,z){var re=this.planes;return re[0].copy(n),re[1].copy(o),re[2].copy(u),re[3].copy(m),re[4].copy(P),re[5].copy(z),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){for(var o=this.planes,u=0;u<6;u++)o[u].copy(n.planes[u]);return this},setFromProjectionMatrix:function(n){var o=this.planes,u=n.elements,m=u[0],P=u[1],z=u[2],re=u[3],ue=u[4],ve=u[5],ye=u[6],Be=u[7],Se=u[8],Oe=u[9],be=u[10],He=u[11],Je=u[12],Ye=u[13],pt=u[14],yt=u[15];return o[0].setComponents(re-m,Be-ue,He-Se,yt-Je).normalize(),o[1].setComponents(re+m,Be+ue,He+Se,yt+Je).normalize(),o[2].setComponents(re+P,Be+ve,He+Oe,yt+Ye).normalize(),o[3].setComponents(re-P,Be-ve,He-Oe,yt-Ye).normalize(),o[4].setComponents(re-z,Be-ye,He-be,yt-pt).normalize(),o[5].setComponents(re+z,Be+ye,He+be,yt+pt).normalize(),this},intersectsObject:function(n){var o=n.geometry;return o.boundingSphere===null&&o.computeBoundingSphere(),Il.copy(o.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(Il)},intersectsSprite:function(n){return Il.center.set(0,0,0),Il.radius=.7071067811865476,Il.applyMatrix4(n.matrixWorld),this.intersectsSphere(Il)},intersectsSphere:function(n){for(var o=this.planes,u=n.center,m=-n.radius,P=0;P<6;P++)if(o[P].distanceToPoint(u)<m)return!1;return!0},intersectsBox:function(n){for(var o=this.planes,u=0;u<6;u++){var m=o[u];if(kl.x=0<m.normal.x?n.max.x:n.min.x,kl.y=0<m.normal.y?n.max.y:n.min.y,kl.z=0<m.normal.z?n.max.z:n.min.z,m.distanceToPoint(kl)<0)return!1}return!0},containsPoint:function(n){for(var o=this.planes,u=0;u<6;u++)if(o[u].distanceToPoint(n)<0)return!1;return!0}});var or={common:{diffuse:{value:new Ft(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new go},uv2Transform:{value:new go},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Bn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Ft(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new go}},sprite:{diffuse:{value:new Ft(15658734)},opacity:{value:1},center:{value:new Bn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new go}}};function kd(){var n=null,o=!1,u=null;function m(P,z){o!==!1&&(u(P,z),n.requestAnimationFrame(m))}return{start:function(){o!==!0&&u!==null&&(n.requestAnimationFrame(m),o=!0)},stop:function(){o=!1},setAnimationLoop:function(P){u=P},setContext:function(P){n=P}}}function fc(n,o,u,m){Kr.call(this),this.type="PlaneGeometry",this.parameters={width:n,height:o,widthSegments:u,heightSegments:m},this.fromBufferGeometry(new Vl(n,o,u,m)),this.mergeVertices()}function Vl(n,o,u,m){dn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:n,height:o,widthSegments:u,heightSegments:m};var P,z,re=(n=n||1)/2,ue=(o=o||1)/2,ve=Math.floor(u)||1,ye=Math.floor(m)||1,Be=ve+1,Se=ye+1,Oe=n/ve,be=o/ye,He=[],Je=[],Ye=[],pt=[];for(z=0;z<Se;z++){var yt=z*be-ue;for(P=0;P<Be;P++){var Bt=P*Oe-re;Je.push(Bt,-yt,0),Ye.push(0,0,1),pt.push(P/ve),pt.push(1-z/ye)}}for(z=0;z<ye;z++)for(P=0;P<ve;P++){var Vt=P+Be*z,_t=P+Be*(z+1),Wt=P+1+Be*(z+1),Tt=P+1+Be*z;He.push(Vt,_t,Tt),He.push(_t,Wt,Tt)}this.setIndex(He),this.setAttribute("position",new Wn(Je,3)),this.setAttribute("normal",new Wn(Ye,3)),this.setAttribute("uv",new Wn(pt,2))}(fc.prototype=Object.create(Kr.prototype)).constructor=fc,(Vl.prototype=Object.create(dn.prototype)).constructor=Vl;var xi={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;
		}
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);
    } else if (face == 1.0) {
      uv = vec2(direction.x, -direction.z) / abs(direction.y);
    } else if (face == 2.0) {
      uv = direction.xy / abs(direction.z);
    } else if (face == 3.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);
    } else if (face == 4.0) {
      uv = direction.xz / abs(direction.y);
    } else {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);
    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	transformedNormal = mat3( instanceMatrix ) * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		reflectVec = normalize( reflectVec );
		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = saturate( clearcoat );	material.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_normalmap_pars_fragment:`#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLight directionalLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLight spotLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLight pointLight;
	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV;
	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},Ms={basic:{uniforms:ia([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.fog]),vertexShader:xi.meshbasic_vert,fragmentShader:xi.meshbasic_frag},lambert:{uniforms:ia([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.fog,or.lights,{emissive:{value:new Ft(0)}}]),vertexShader:xi.meshlambert_vert,fragmentShader:xi.meshlambert_frag},phong:{uniforms:ia([or.common,or.specularmap,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.fog,or.lights,{emissive:{value:new Ft(0)},specular:{value:new Ft(1118481)},shininess:{value:30}}]),vertexShader:xi.meshphong_vert,fragmentShader:xi.meshphong_frag},standard:{uniforms:ia([or.common,or.envmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.roughnessmap,or.metalnessmap,or.fog,or.lights,{emissive:{value:new Ft(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:xi.meshphysical_vert,fragmentShader:xi.meshphysical_frag},toon:{uniforms:ia([or.common,or.specularmap,or.aomap,or.lightmap,or.emissivemap,or.bumpmap,or.normalmap,or.displacementmap,or.gradientmap,or.fog,or.lights,{emissive:{value:new Ft(0)},specular:{value:new Ft(1118481)},shininess:{value:30}}]),vertexShader:xi.meshtoon_vert,fragmentShader:xi.meshtoon_frag},matcap:{uniforms:ia([or.common,or.bumpmap,or.normalmap,or.displacementmap,or.fog,{matcap:{value:null}}]),vertexShader:xi.meshmatcap_vert,fragmentShader:xi.meshmatcap_frag},points:{uniforms:ia([or.points,or.fog]),vertexShader:xi.points_vert,fragmentShader:xi.points_frag},dashed:{uniforms:ia([or.common,or.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xi.linedashed_vert,fragmentShader:xi.linedashed_frag},depth:{uniforms:ia([or.common,or.displacementmap]),vertexShader:xi.depth_vert,fragmentShader:xi.depth_frag},normal:{uniforms:ia([or.common,or.bumpmap,or.normalmap,or.displacementmap,{opacity:{value:1}}]),vertexShader:xi.normal_vert,fragmentShader:xi.normal_frag},sprite:{uniforms:ia([or.sprite,or.fog]),vertexShader:xi.sprite_vert,fragmentShader:xi.sprite_frag},background:{uniforms:{uvTransform:{value:new go},t2D:{value:null}},vertexShader:xi.background_vert,fragmentShader:xi.background_frag},cube:{uniforms:ia([or.envmap,{opacity:{value:1}}]),vertexShader:xi.cube_vert,fragmentShader:xi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xi.equirect_vert,fragmentShader:xi.equirect_frag},distanceRGBA:{uniforms:ia([or.common,or.displacementmap,{referencePosition:{value:new mt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xi.distanceRGBA_vert,fragmentShader:xi.distanceRGBA_frag},shadow:{uniforms:ia([or.lights,or.fog,{color:{value:new Ft(0)},opacity:{value:1}}]),vertexShader:xi.shadow_vert,fragmentShader:xi.shadow_frag}};function Ai(n,o,u,m){var P,z,re=new Ft(0),ue=0,ve=null,ye=0,Be=null;function Se(Oe,be){o.buffers.color.setClear(Oe.r,Oe.g,Oe.b,be,m)}return{getClearColor:function(){return re},setClearColor:function(Oe,be){re.set(Oe),Se(re,ue=be!==void 0?be:1)},getClearAlpha:function(){return ue},setClearAlpha:function(Oe){Se(re,ue=Oe)},render:function(Oe,be,He,Je){var Ye=be.background,pt=n.xr,yt=pt.getSession&&pt.getSession();if(yt&&yt.environmentBlendMode==="additive"&&(Ye=null),Ye===null?Se(re,ue):Ye&&Ye.isColor&&(Se(Ye,1),Je=!0),(n.autoClear||Je)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),Ye&&(Ye.isCubeTexture||Ye.isWebGLCubeRenderTarget||Ye.mapping===zt)){z===void 0&&((z=new So(new zc(1,1,1),new os({type:"BackgroundCubeMaterial",uniforms:Cl(Ms.cube.uniforms),vertexShader:Ms.cube.vertexShader,fragmentShader:Ms.cube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),z.geometry.deleteAttribute("uv"),z.onBeforeRender=function(Vt,_t,Wt){this.matrixWorld.copyPosition(Wt.matrixWorld)},Object.defineProperty(z.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),u.update(z));var Bt=Ye.isWebGLCubeRenderTarget?Ye.texture:Ye;z.material.uniforms.envMap.value=Bt,z.material.uniforms.flipEnvMap.value=Bt.isCubeTexture?-1:1,ve===Ye&&ye===Bt.version&&Be===n.toneMapping||(z.material.needsUpdate=!0,ve=Ye,ye=Bt.version,Be=n.toneMapping),Oe.unshift(z,z.geometry,z.material,0,0,null)}else Ye&&Ye.isTexture&&(P===void 0&&((P=new So(new Vl(2,2),new os({type:"BackgroundMaterial",uniforms:Cl(Ms.background.uniforms),vertexShader:Ms.background.vertexShader,fragmentShader:Ms.background.fragmentShader,side:A,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(P.material,"map",{get:function(){return this.uniforms.t2D.value}}),u.update(P)),(P.material.uniforms.t2D.value=Ye).matrixAutoUpdate===!0&&Ye.updateMatrix(),P.material.uniforms.uvTransform.value.copy(Ye.matrix),ve===Ye&&ye===Ye.version&&Be===n.toneMapping||(P.material.needsUpdate=!0,ye=(ve=Ye).version,Be=n.toneMapping),Oe.unshift(P,P.geometry,P.material,0,0,null))}}}function Uc(n,o){return Math.abs(o[1])-Math.abs(n[1])}function El(n,o,u,m,P,z,re,ue,ve,ye){ji.call(this,n=n!==void 0?n:[],o=o!==void 0?o:Nt,u,m,P,z,re=re!==void 0?re:lo,ue,ve,ye),this.flipY=!1}function Uu(n,o,u,m){ji.call(this,null),this.image={data:n||null,width:o||1,height:u||1,depth:m||1},this.magFilter=St,this.minFilter=St,this.wrapR=bn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function $a(n,o,u,m){ji.call(this,null),this.image={data:n||null,width:o||1,height:u||1,depth:m||1},this.magFilter=St,this.minFilter=St,this.wrapR=bn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ms.physical={uniforms:ia([Ms.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Ft(0)},clearcoatNormalScale:{value:new Bn(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:xi.meshphysical_vert,fragmentShader:xi.meshphysical_frag},((El.prototype=Object.create(ji.prototype)).constructor=El).prototype.isCubeTexture=!0,Object.defineProperty(El.prototype,"images",{get:function(){return this.image},set:function(n){this.image=n}}),((Uu.prototype=Object.create(ji.prototype)).constructor=Uu).prototype.isDataTexture2DArray=!0,(($a.prototype=Object.create(ji.prototype)).constructor=$a).prototype.isDataTexture3D=!0;var mh=new ji,Gu=new Uu,Nd=new $a,Vd=new El,jd=[],as=[],ll=new Float32Array(16),Wu=new Float32Array(9),zd=new Float32Array(4);function cl(n,o,u){var m=n[0];if(m<=0||0<m)return n;var P=o*u,z=jd[P];if(z===void 0&&(z=new Float32Array(P),jd[P]=z),o!==0){m.toArray(z,0);for(var re=1,ue=0;re!==o;++re)ue+=u,n[re].toArray(z,ue)}return z}function ys(n,o){if(n.length===o.length){for(var u=0,m=n.length;u<m;u++)if(n[u]!==o[u])return;return 1}}function qa(n,o){for(var u=0,m=o.length;u<m;u++)n[u]=o[u]}function Hd(n,o){var u=as[o];u===void 0&&(u=new Int32Array(o),as[o]=u);for(var m=0;m!==o;++m)u[m]=n.allocateTextureUnit();return u}function Ud(n,o){var u=this.cache;u[0]!==o&&(n.uniform1f(this.addr,o),u[0]=o)}function Gd(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y||(n.uniform2f(this.addr,o.x,o.y),u[0]=o.x,u[1]=o.y);else{if(ys(u,o))return;n.uniform2fv(this.addr,o),qa(u,o)}}function xl(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y&&u[2]===o.z||(n.uniform3f(this.addr,o.x,o.y,o.z),u[0]=o.x,u[1]=o.y,u[2]=o.z);else if(o.r!==void 0)u[0]===o.r&&u[1]===o.g&&u[2]===o.b||(n.uniform3f(this.addr,o.r,o.g,o.b),u[0]=o.r,u[1]=o.g,u[2]=o.b);else{if(ys(u,o))return;n.uniform3fv(this.addr,o),qa(u,o)}}function Cp(n,o){var u=this.cache;if(o.x!==void 0)u[0]===o.x&&u[1]===o.y&&u[2]===o.z&&u[3]===o.w||(n.uniform4f(this.addr,o.x,o.y,o.z,o.w),u[0]=o.x,u[1]=o.y,u[2]=o.z,u[3]=o.w);else{if(ys(u,o))return;n.uniform4fv(this.addr,o),qa(u,o)}}function Dl(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(ys(u,o))return;n.uniformMatrix2fv(this.addr,!1,o),qa(u,o)}else{if(ys(u,m))return;zd.set(m),n.uniformMatrix2fv(this.addr,!1,zd),qa(u,m)}}function gh(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(ys(u,o))return;n.uniformMatrix3fv(this.addr,!1,o),qa(u,o)}else{if(ys(u,m))return;Wu.set(m),n.uniformMatrix3fv(this.addr,!1,Wu),qa(u,m)}}function vh(n,o){var u=this.cache,m=o.elements;if(m===void 0){if(ys(u,o))return;n.uniformMatrix4fv(this.addr,!1,o),qa(u,o)}else{if(ys(u,m))return;ll.set(m),n.uniformMatrix4fv(this.addr,!1,ll),qa(u,m)}}function Wd(n,o,u){var m=this.cache,P=u.allocateTextureUnit();m[0]!==P&&(n.uniform1i(this.addr,P),m[0]=P),u.safeSetTexture2D(o||mh,P)}function yh(n,o,u){var m=this.cache,P=u.allocateTextureUnit();m[0]!==P&&(n.uniform1i(this.addr,P),m[0]=P),u.setTexture2DArray(o||Gu,P)}function Ch(n,o,u){var m=this.cache,P=u.allocateTextureUnit();m[0]!==P&&(n.uniform1i(this.addr,P),m[0]=P),u.setTexture3D(o||Nd,P)}function Eh(n,o,u){var m=this.cache,P=u.allocateTextureUnit();m[0]!==P&&(n.uniform1i(this.addr,P),m[0]=P),u.safeSetTextureCube(o||Vd,P)}function xh(n,o){var u=this.cache;u[0]!==o&&(n.uniform1i(this.addr,o),u[0]=o)}function ss(n,o){var u=this.cache;ys(u,o)||(n.uniform2iv(this.addr,o),qa(u,o))}function Xs(n,o){var u=this.cache;ys(u,o)||(n.uniform3iv(this.addr,o),qa(u,o))}function $u(n,o){var u=this.cache;ys(u,o)||(n.uniform4iv(this.addr,o),qa(u,o))}function mc(n,o){var u=this.cache;u[0]!==o&&(n.uniform1ui(this.addr,o),u[0]=o)}function Dh(n,o){n.uniform1fv(this.addr,o)}function bh(n,o){n.uniform1iv(this.addr,o)}function wh(n,o){n.uniform2iv(this.addr,o)}function gc(n,o){n.uniform3iv(this.addr,o)}function Gc(n,o){n.uniform4iv(this.addr,o)}function Ah(n,o){var u=cl(o,this.size,2);n.uniform2fv(this.addr,u)}function _h(n,o){var u=cl(o,this.size,3);n.uniform3fv(this.addr,u)}function qu(n,o){var u=cl(o,this.size,4);n.uniform4fv(this.addr,u)}function Bh(n,o){var u=cl(o,this.size,4);n.uniformMatrix2fv(this.addr,!1,u)}function Ju(n,o){var u=cl(o,this.size,9);n.uniformMatrix3fv(this.addr,!1,u)}function $d(n,o){var u=cl(o,this.size,16);n.uniformMatrix4fv(this.addr,!1,u)}function Xu(n,o,u){var m=o.length,P=Hd(u,m);n.uniform1iv(this.addr,P);for(var z=0;z!==m;++z)u.safeSetTexture2D(o[z]||mh,P[z])}function Mh(n,o,u){var m=o.length,P=Hd(u,m);n.uniform1iv(this.addr,P);for(var z=0;z!==m;++z)u.safeSetTextureCube(o[z]||Vd,P[z])}function Yu(n,o,u){this.id=n,this.addr=u,this.cache=[],this.setValue=function(m){switch(o.type){case 5126:return Ud;case 35664:return Gd;case 35665:return xl;case 35666:return Cp;case 35674:return Dl;case 35675:return gh;case 35676:return vh;case 5124:case 35670:return xh;case 35667:case 35671:return ss;case 35668:case 35672:return Xs;case 35669:case 35673:return $u;case 5125:return mc;case 35678:case 36198:case 36298:case 36306:case 35682:return Wd;case 35679:case 36299:case 36307:return Ch;case 35680:case 36300:case 36308:case 36293:return Eh;case 36289:case 36303:case 36311:case 36292:return yh}}()}function qd(n,o,u){this.id=n,this.addr=u,this.cache=[],this.size=o.size,this.setValue=function(m){switch(o.type){case 5126:return Dh;case 35664:return Ah;case 35665:return _h;case 35666:return qu;case 35674:return Bh;case 35675:return Ju;case 35676:return $d;case 5124:case 35670:return bh;case 35667:case 35671:return wh;case 35668:case 35672:return gc;case 35669:case 35673:return Gc;case 35678:case 36198:case 36298:case 36306:case 35682:return Xu;case 35680:case 36300:case 36308:case 36293:return Mh}}()}function Zu(n){this.id=n,this.seq=[],this.map={}}qd.prototype.updateCache=function(n){var o=this.cache;n instanceof Float32Array&&o.length!==n.length&&(this.cache=new Float32Array(n.length)),qa(o,n)},Zu.prototype.setValue=function(n,o,u){for(var m=this.seq,P=0,z=m.length;P!==z;++P){var re=m[P];re.setValue(n,o[re.id],u)}};var Jd=/([\w\d_]+)(\])?(\[|\.)?/g;function Xd(n,o){n.seq.push(o),n.map[o.id]=o}function ul(n,o,u){var m=n.name,P=m.length;for(Jd.lastIndex=0;;){var z=Jd.exec(m),re=Jd.lastIndex,ue=z[1],ve=z[2]==="]",ye=z[3];if(ve&&(ue|=0),ye===void 0||ye==="["&&re+2===P){Xd(u,new(ye===void 0?Yu:qd)(ue,n,o));break}var Be=u.map[ue];Be===void 0&&Xd(u,Be=new Zu(ue)),u=Be}}function dl(n,o){this.seq=[],this.map={};for(var u=n.getProgramParameter(o,35718),m=0;m<u;++m){var P=n.getActiveUniform(o,m);ul(P,n.getUniformLocation(o,P.name),this)}}function Yd(n,o,u){var m=n.createShader(o);return n.shaderSource(m,u),n.compileShader(m),m}dl.prototype.setValue=function(n,o,u,m){var P=this.map[o];P!==void 0&&P.setValue(n,u,m)},dl.prototype.setOptional=function(n,o,u){var m=o[u];m!==void 0&&this.setValue(n,u,m)},dl.upload=function(n,o,u,m){for(var P=0,z=o.length;P!==z;++P){var re=o[P],ue=u[re.id];ue.needsUpdate!==!1&&re.setValue(n,ue.value,m)}},dl.seqWithValue=function(n,o){for(var u=[],m=0,P=n.length;m!==P;++m){var z=n[m];z.id in o&&u.push(z)}return u};var Ep=0;function Zd(n){switch(n){case Ot:return["Linear","( value )"];case tn:return["sRGB","( value )"];case Ln:return["RGBE","( value )"];case hr:return["RGBM","( value, 7.0 )"];case Rr:return["RGBM","( value, 16.0 )"];case Qi:return["RGBD","( value, 256.0 )"];case xn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case yr:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+n)}}function Ys(n,o,u){var m=n.getShaderParameter(o,35713),P=n.getShaderInfoLog(o).trim();return m&&P===""?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+u+`
`+P+function(z){for(var re=z.split(`
`),ue=0;ue<re.length;ue++)re[ue]=ue+1+": "+re[ue];return re.join(`
`)}(n.getShaderSource(o))}function jl(n,o){var u=Zd(o);return"vec4 "+n+"( vec4 value ) { return "+u[0]+"ToLinear"+u[1]+"; }"}function zl(n){return n!==""}function Ku(n,o){return n.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function Wc(n,o){return n.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}var vc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wr(n){return n.replace(vc,Qu)}function Qu(n,o){var u=xi[o];if(u===void 0)throw new Error("Can not resolve #include <"+o+">");return Wr(u)}var Kd=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function bl(n){return n.replace(Kd,Qd)}function Qd(n,o,u,m){for(var P="",z=parseInt(o);z<parseInt(u);z++)P+=m.replace(/\[ i \]/g,"[ "+z+" ]").replace(/UNROLLED_LOOP_INDEX/g,z);return P}function eh(n){var o="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?o+=`
#define HIGH_PRECISION`:n.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function za(n,o,u){var m,P,z,re,ue,ve,ye,Be=n.getContext(),Se=u.defines,Oe=u.vertexShader,be=u.fragmentShader,He=(P="SHADOWMAP_TYPE_BASIC",(m=u).shadowMapType===C?P="SHADOWMAP_TYPE_PCF":m.shadowMapType===D?P="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===f&&(P="SHADOWMAP_TYPE_VSM"),P),Je=function(ei){var dr="ENVMAP_TYPE_CUBE";if(ei.envMap)switch(ei.envMapMode){case Nt:case kt:dr="ENVMAP_TYPE_CUBE";break;case zt:case et:dr="ENVMAP_TYPE_CUBE_UV";break;case Qt:case gt:dr="ENVMAP_TYPE_EQUIREC";break;case Dt:dr="ENVMAP_TYPE_SPHERE"}return dr}(u),Ye=function(ei){var dr="ENVMAP_MODE_REFLECTION";if(ei.envMap)switch(ei.envMapMode){case kt:case gt:dr="ENVMAP_MODE_REFRACTION"}return dr}(u),pt=function(ei){var dr="ENVMAP_BLENDING_NONE";if(ei.envMap)switch(ei.combine){case tt:dr="ENVMAP_BLENDING_MULTIPLY";break;case Ve:dr="ENVMAP_BLENDING_MIX";break;case Ze:dr="ENVMAP_BLENDING_ADD"}return dr}(u),yt=0<n.gammaFactor?n.gammaFactor:1,Bt=u.isWebGL2?"":[(z=u).extensionDerivatives||z.envMapCubeUV||z.bumpMap||z.tangentSpaceNormalMap||z.clearcoatNormalMap||z.flatShading||z.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(z.extensionFragDepth||z.logarithmicDepthBuffer)&&z.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",z.extensionDrawBuffers&&z.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(z.extensionShaderTextureLOD||z.envMap)&&z.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(zl).join(`
`),Vt=function(ei){var dr=[];for(var wt in ei){var Ht=ei[wt];Ht!==!1&&dr.push("#define "+wt+" "+Ht)}return dr.join(`
`)}(Se),_t=Be.createProgram(),Wt=u.numMultiviewViews;if(u.isRawShaderMaterial?(0<(re=[Vt].filter(zl).join(`
`)).length&&(re+=`
`),0<(ue=[Bt,Vt].filter(zl).join(`
`)).length&&(ue+=`
`)):(re=[eh(u),"#define SHADER_NAME "+u.shaderName,Vt,u.instancing?"#define USE_INSTANCING":"",u.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+yt,"#define MAX_BONES "+u.maxBones,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp2?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+Ye:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.normalMap&&u.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",u.normalMap&&u.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",u.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",u.displacementMap&&u.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexTangents?"#define USE_TANGENT":"",u.vertexColors?"#define USE_COLOR":"",u.vertexUvs?"#define USE_UV":"",u.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.useVertexTexture?"#define BONE_TEXTURE":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals&&u.flatShading===!1?"#define USE_MORPHNORMALS":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+He:"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&u.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zl).join(`
`),ue=[Bt,eh(u),"#define SHADER_NAME "+u.shaderName,Vt,u.alphaTest?"#define ALPHATEST "+u.alphaTest+(u.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+yt,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp2?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.matcap?"#define USE_MATCAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+Je:"",u.envMap?"#define "+Ye:"",u.envMap?"#define "+pt:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.normalMap&&u.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",u.normalMap&&u.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",u.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.sheen?"#define USE_SHEEN":"",u.vertexTangents?"#define USE_TANGENT":"",u.vertexColors?"#define USE_COLOR":"",u.vertexUvs?"#define USE_UV":"",u.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",u.gradientMap?"#define USE_GRADIENTMAP":"",u.flatShading?"#define FLAT_SHADED":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"",u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+He:"",u.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",u.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&u.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(u.extensionShaderTextureLOD||u.envMap)&&u.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",u.toneMapping!==Ne?"#define TONE_MAPPING":"",u.toneMapping!==Ne?xi.tonemapping_pars_fragment:"",u.toneMapping!==Ne?function(ei,dr){var wt;switch(dr){case qe:wt="Linear";break;case lt:wt="Reinhard";break;case vt:wt="Uncharted2";break;case bt:wt="OptimizedCineon";break;case nt:wt="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+dr)}return"vec3 toneMapping( vec3 color ) { return "+wt+"ToneMapping( color ); }"}(0,u.toneMapping):"",u.dithering?"#define DITHERING":"",u.outputEncoding||u.mapEncoding||u.matcapEncoding||u.envMapEncoding||u.emissiveMapEncoding||u.lightMapEncoding?xi.encodings_pars_fragment:"",u.mapEncoding?jl("mapTexelToLinear",u.mapEncoding):"",u.matcapEncoding?jl("matcapTexelToLinear",u.matcapEncoding):"",u.envMapEncoding?jl("envMapTexelToLinear",u.envMapEncoding):"",u.emissiveMapEncoding?jl("emissiveMapTexelToLinear",u.emissiveMapEncoding):"",u.lightMapEncoding?jl("lightMapTexelToLinear",u.lightMapEncoding):"",u.outputEncoding?(ve=u.outputEncoding,ye=Zd(ve),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+ye[0]+ye[1]+"; }"):"",u.depthPacking?"#define DEPTH_PACKING "+u.depthPacking:"",`
`].filter(zl).join(`
`)),Oe=Wc(Oe=Ku(Oe=Wr(Oe),u),u),be=Wc(be=Ku(be=Wr(be),u),u),Oe=bl(Oe),be=bl(be),u.isWebGL2&&!u.isRawShaderMaterial){var Tt=!1,rn=/^\s*#version\s+300\s+es\s*\n/;u.isShaderMaterial&&Oe.match(rn)!==null&&be.match(rn)!==null&&(Tt=!0,Oe=Oe.replace(rn,""),be=be.replace(rn,"")),re=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+re,ue=[`#version 300 es
`,"#define varying in",Tt?"":"out highp vec4 pc_fragColor;",Tt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ue,0<Wt&&(re=(re=re.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","layout(num_views = "+Wt+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+Wt+"];","uniform mat4 projectionMatrices["+Wt+"];","uniform mat4 viewMatrices["+Wt+"];","uniform mat3 normalMatrices["+Wt+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),ue=(ue=ue.replace(`#version 300 es
`,[`#version 300 es
`,"#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+Wt+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`)))}var hn,mn,gn=ue+be,_n=Yd(Be,35633,re+Oe),Vn=Yd(Be,35632,gn);if(Be.attachShader(_t,_n),Be.attachShader(_t,Vn),u.index0AttributeName!==void 0?Be.bindAttribLocation(_t,0,u.index0AttributeName):u.morphTargets===!0&&Be.bindAttribLocation(_t,0,"position"),Be.linkProgram(_t),n.debug.checkShaderErrors){var pn=Be.getProgramInfoLog(_t).trim(),ln=Be.getShaderInfoLog(_n).trim(),Kn=Be.getShaderInfoLog(Vn).trim(),lr=!0,kr=!0;if(Be.getProgramParameter(_t,35714)===!1){lr=!1;var Or=Ys(Be,_n,"vertex"),Sr=Ys(Be,Vn,"fragment");console.error("THREE.WebGLProgram: shader error: ",Be.getError(),"35715",Be.getProgramParameter(_t,35715),"gl.getProgramInfoLog",pn,Or,Sr)}else pn!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",pn):ln!==""&&Kn!==""||(kr=!1);kr&&(this.diagnostics={runnable:lr,programLog:pn,vertexShader:{log:ln,prefix:re},fragmentShader:{log:Kn,prefix:ue}})}return Be.deleteShader(_n),Be.deleteShader(Vn),this.getUniforms=function(){return hn===void 0&&(hn=new dl(Be,_t)),hn},this.getAttributes=function(){return mn===void 0&&(mn=function(ei,dr){for(var wt={},Ht=ei.getProgramParameter(dr,35721),Nn=0;Nn<Ht;Nn++){var Pn=ei.getActiveAttrib(dr,Nn).name;wt[Pn]=ei.getAttribLocation(dr,Pn)}return wt}(Be,_t)),mn},this.destroy=function(){Be.deleteProgram(_t),this.program=void 0},this.name=u.shaderName,this.id=Ep++,this.cacheKey=o,this.usedTimes=1,this.program=_t,this.vertexShader=_n,this.fragmentShader=Vn,this.numMultiviewViews=Wt,this}function Fh(n,o,u){var m=[],P=u.isWebGL2,z=u.logarithmicDepthBuffer,re=u.floatVertexTextures,ue=u.precision,ve=u.maxVertexUniforms,ye=u.vertexTextures,Be={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},Se=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function Oe(be){var He;return be?be.isTexture?He=be.encoding:be.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),He=be.texture.encoding):He=Ot,He}this.getParameters=function(be,He,Je,Ye,pt,yt,Bt){var Vt=Ye.fog,_t=be.isMeshStandardMaterial?Ye.environment:null,Wt=be.envMap||_t,Tt=Be[be.type],rn=Bt.isSkinnedMesh?function(_n){var Vn=Bt.skeleton.bones;if(re)return 1024;var pn=ve,ln=Math.floor((pn-20)/4),Kn=Math.min(ln,Vn.length);return Kn<Vn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Vn.length+" bones. This GPU supports "+Kn+"."),0):Kn}():0;be.precision!==null&&(ue=u.getMaxPrecision(be.precision))!==be.precision&&console.warn("THREE.WebGLProgram.getParameters:",be.precision,"not supported, using",ue,"instead.");var hn=function(_n,Vn){var pn;if(Tt){var ln=Ms[Tt];pn={name:_n.type,uniforms:Ld.clone(ln.uniforms),vertexShader:ln.vertexShader,fragmentShader:ln.fragmentShader}}else pn={name:_n.type,uniforms:_n.uniforms,vertexShader:_n.vertexShader,fragmentShader:_n.fragmentShader};return pn}(be);be.onBeforeCompile(hn,n);var mn=n.getRenderTarget(),gn=mn&&mn.isWebGLMultiviewRenderTarget?mn.numViews:0;return{isWebGL2:P,shaderID:Tt,shaderName:hn.name,uniforms:hn.uniforms,vertexShader:hn.vertexShader,fragmentShader:hn.fragmentShader,defines:be.defines,isRawShaderMaterial:be.isRawShaderMaterial,isShaderMaterial:be.isShaderMaterial,precision:ue,instancing:Bt.isInstancedMesh===!0,supportsVertexTextures:ye,numMultiviewViews:gn,outputEncoding:mn!==null?Oe(mn.texture):n.outputEncoding,map:!!be.map,mapEncoding:Oe(be.map),matcap:!!be.matcap,matcapEncoding:Oe(be.matcap),envMap:!!Wt,envMapMode:Wt&&Wt.mapping,envMapEncoding:Oe(Wt),envMapCubeUV:!!Wt&&(Wt.mapping===zt||Wt.mapping===et),lightMap:!!be.lightMap,lightMapEncoding:Oe(be.lightMap),aoMap:!!be.aoMap,emissiveMap:!!be.emissiveMap,emissiveMapEncoding:Oe(be.emissiveMap),bumpMap:!!be.bumpMap,normalMap:!!be.normalMap,objectSpaceNormalMap:be.normalMapType===Ma,tangentSpaceNormalMap:be.normalMapType===Wa,clearcoatNormalMap:!!be.clearcoatNormalMap,displacementMap:!!be.displacementMap,roughnessMap:!!be.roughnessMap,metalnessMap:!!be.metalnessMap,specularMap:!!be.specularMap,alphaMap:!!be.alphaMap,gradientMap:!!be.gradientMap,sheen:!!be.sheen,combine:be.combine,vertexTangents:be.normalMap&&be.vertexTangents,vertexColors:be.vertexColors,vertexUvs:!!(be.map||be.bumpMap||be.normalMap||be.specularMap||be.alphaMap||be.emissiveMap||be.roughnessMap||be.metalnessMap||be.clearcoatNormalMap||be.displacementMap),uvsVertexOnly:!(be.map||be.bumpMap||be.normalMap||be.specularMap||be.alphaMap||be.emissiveMap||be.roughnessMap||be.metalnessMap||be.clearcoatNormalMap||!be.displacementMap),fog:!!Vt,useFog:be.fog,fogExp2:Vt&&Vt.isFogExp2,flatShading:be.flatShading,sizeAttenuation:be.sizeAttenuation,logarithmicDepthBuffer:z,skinning:be.skinning&&0<rn,maxBones:rn,useVertexTexture:re,morphTargets:be.morphTargets,morphNormals:be.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:He.directional.length,numPointLights:He.point.length,numSpotLights:He.spot.length,numRectAreaLights:He.rectArea.length,numHemiLights:He.hemi.length,numDirLightShadows:He.directionalShadowMap.length,numPointLightShadows:He.pointShadowMap.length,numSpotLightShadows:He.spotShadowMap.length,numClippingPlanes:pt,numClipIntersection:yt,dithering:be.dithering,shadowMapEnabled:n.shadowMap.enabled&&0<Je.length,shadowMapType:n.shadowMap.type,toneMapping:be.toneMapped?n.toneMapping:Ne,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:be.premultipliedAlpha,alphaTest:be.alphaTest,doubleSided:be.side===L,flipSided:be.side===S,depthPacking:be.depthPacking!==void 0&&be.depthPacking,index0AttributeName:be.index0AttributeName,extensionDerivatives:be.extensions&&be.extensions.derivatives,extensionFragDepth:be.extensions&&be.extensions.frawbuffers,extensionDrawbuffers:be.extensions&&be.extensions.drawbuffers,extensionShaderTextureLOD:be.extensions&&be.extensions.shaderTextureLOD,rendererExtensionFragDepth:P||o.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:P||o.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:P||o.get("EXT_shader_texture_lod")!==null,onBeforeCompile:be.onBeforeCompile}},this.getProgramCacheKey=function(be){var He=[];if(be.shaderID?He.push(be.shaderID):(He.push(be.fragmentShader),He.push(be.vertexShader)),be.defines!==void 0)for(var Je in be.defines)He.push(Je),He.push(be.defines[Je]);if(be.isRawShaderMaterial===void 0){for(var Ye=0;Ye<Se.length;Ye++)He.push(be[Se[Ye]]);He.push(n.outputEncoding),He.push(n.gammaFactor)}return He.push(be.onBeforeCompile.toString()),He.join()},this.acquireProgram=function(be,He){for(var Je,Ye=0,pt=m.length;Ye<pt;Ye++){var yt=m[Ye];if(yt.cacheKey===He){++(Je=yt).usedTimes;break}}return Je===void 0&&(Je=new za(n,He,be),m.push(Je)),Je},this.releaseProgram=function(be){if(--be.usedTimes==0){var He=m.indexOf(be);m[He]=m[m.length-1],m.pop(),be.destroy()}},this.programs=m}function Sh(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.program!==o.program?n.program.id-o.program.id:n.material.id!==o.material.id?n.material.id-o.material.id:n.z!==o.z?n.z-o.z:n.id-o.id}function xp(n,o){return n.groupOrder!==o.groupOrder?n.groupOrder-o.groupOrder:n.renderOrder!==o.renderOrder?n.renderOrder-o.renderOrder:n.z!==o.z?o.z-n.z:n.id-o.id}function Zs(){var n=[],o=0,u=[],m=[],P={id:-1};function z(re,ue,ve,ye,Be,Se){var Oe=n[o];return Oe===void 0?(Oe={id:re.id,object:re,geometry:ue,material:ve,program:ve.program||P,groupOrder:ye,renderOrder:re.renderOrder,z:Be,group:Se},n[o]=Oe):(Oe.id=re.id,Oe.object=re,Oe.geometry=ue,Oe.material=ve,Oe.program=ve.program||P,Oe.groupOrder=ye,Oe.renderOrder=re.renderOrder,Oe.z=Be,Oe.group=Se),o++,Oe}return{opaque:u,transparent:m,init:function(){o=0,u.length=0,m.length=0},push:function(re,ue,ve,ye,Be,Se){var Oe=z(re,ue,ve,ye,Be,Se);(ve.transparent===!0?m:u).push(Oe)},unshift:function(re,ue,ve,ye,Be,Se){var Oe=z(re,ue,ve,ye,Be,Se);(ve.transparent===!0?m:u).unshift(Oe)},sort:function(re,ue){1<u.length&&u.sort(re||Sh),1<m.length&&m.sort(ue||xp)}}}var Ja=0;function th(n,o){return(o.castShadow?1:0)-(n.castShadow?1:0)}function nh(){for(var n=new function(){var re={};return{get:function(ue){if(re[ue.id]!==void 0)return re[ue.id];var ve;switch(ue.type){case"DirectionalLight":ve={direction:new mt,color:new Ft,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bn};break;case"SpotLight":ve={position:new mt,direction:new mt,color:new Ft,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bn};break;case"PointLight":ve={position:new mt,color:new Ft,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":ve={direction:new mt,skyColor:new Ft,groundColor:new Ft};break;case"RectAreaLight":ve={color:new Ft,position:new mt,halfWidth:new mt,halfHeight:new mt}}return re[ue.id]=ve}}},o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},u=0;u<9;u++)o.probe.push(new mt);var m=new mt,P=new ri,z=new ri;return{setup:function(re,ue,ve){for(var ye=0,Be=0,Se=0,Oe=0;Oe<9;Oe++)o.probe[Oe].set(0,0,0);var be=0,He=0,Je=0,Ye=0,pt=0,yt=0,Bt=0,Vt=0,_t=ve.matrixWorldInverse;re.sort(th),Oe=0;for(var Wt=re.length;Oe<Wt;Oe++){var Tt=re[Oe],rn=Tt.color,hn=Tt.intensity,mn=Tt.distance,gn=Tt.shadow&&Tt.shadow.map?Tt.shadow.map.texture:null;if(Tt.isAmbientLight)ye+=rn.r*hn,Be+=rn.g*hn,Se+=rn.b*hn;else if(Tt.isLightProbe)for(var _n=0;_n<9;_n++)o.probe[_n].addScaledVector(Tt.sh.coefficients[_n],hn);else if(Tt.isDirectionalLight){if((pn=n.get(Tt)).color.copy(Tt.color).multiplyScalar(Tt.intensity),pn.direction.setFromMatrixPosition(Tt.matrixWorld),m.setFromMatrixPosition(Tt.target.matrixWorld),pn.direction.sub(m),pn.direction.transformDirection(_t),pn.shadow=Tt.castShadow,Tt.castShadow){var Vn=Tt.shadow;pn.shadowBias=Vn.bias,pn.shadowRadius=Vn.radius,pn.shadowMapSize=Vn.mapSize,o.directionalShadowMap[be]=gn,o.directionalShadowMatrix[be]=Tt.shadow.matrix,yt++}o.directional[be]=pn,be++}else if(Tt.isSpotLight)(pn=n.get(Tt)).position.setFromMatrixPosition(Tt.matrixWorld),pn.position.applyMatrix4(_t),pn.color.copy(rn).multiplyScalar(hn),pn.distance=mn,pn.direction.setFromMatrixPosition(Tt.matrixWorld),m.setFromMatrixPosition(Tt.target.matrixWorld),pn.direction.sub(m),pn.direction.transformDirection(_t),pn.coneCos=Math.cos(Tt.angle),pn.penumbraCos=Math.cos(Tt.angle*(1-Tt.penumbra)),pn.decay=Tt.decay,pn.shadow=Tt.castShadow,Tt.castShadow&&(Vn=Tt.shadow,pn.shadowBias=Vn.bias,pn.shadowRadius=Vn.radius,pn.shadowMapSize=Vn.mapSize,o.spotShadowMap[Je]=gn,o.spotShadowMatrix[Je]=Tt.shadow.matrix,Vt++),o.spot[Je]=pn,Je++;else if(Tt.isRectAreaLight)(pn=n.get(Tt)).color.copy(rn).multiplyScalar(hn),pn.position.setFromMatrixPosition(Tt.matrixWorld),pn.position.applyMatrix4(_t),z.identity(),P.copy(Tt.matrixWorld),P.premultiply(_t),z.extractRotation(P),pn.halfWidth.set(.5*Tt.width,0,0),pn.halfHeight.set(0,.5*Tt.height,0),pn.halfWidth.applyMatrix4(z),pn.halfHeight.applyMatrix4(z),o.rectArea[Ye]=pn,Ye++;else if(Tt.isPointLight)(pn=n.get(Tt)).position.setFromMatrixPosition(Tt.matrixWorld),pn.position.applyMatrix4(_t),pn.color.copy(Tt.color).multiplyScalar(Tt.intensity),pn.distance=Tt.distance,pn.decay=Tt.decay,pn.shadow=Tt.castShadow,Tt.castShadow&&(Vn=Tt.shadow,pn.shadowBias=Vn.bias,pn.shadowRadius=Vn.radius,pn.shadowMapSize=Vn.mapSize,pn.shadowCameraNear=Vn.camera.near,pn.shadowCameraFar=Vn.camera.far,o.pointShadowMap[He]=gn,o.pointShadowMatrix[He]=Tt.shadow.matrix,Bt++),o.point[He]=pn,He++;else if(Tt.isHemisphereLight){var pn;(pn=n.get(Tt)).direction.setFromMatrixPosition(Tt.matrixWorld),pn.direction.transformDirection(_t),pn.direction.normalize(),pn.skyColor.copy(Tt.color).multiplyScalar(hn),pn.groundColor.copy(Tt.groundColor).multiplyScalar(hn),o.hemi[pt]=pn,pt++}}o.ambient[0]=ye,o.ambient[1]=Be,o.ambient[2]=Se;var ln=o.hash;ln.directionalLength===be&&ln.pointLength===He&&ln.spotLength===Je&&ln.rectAreaLength===Ye&&ln.hemiLength===pt&&ln.numDirectionalShadows===yt&&ln.numPointShadows===Bt&&ln.numSpotShadows===Vt||(o.directional.length=be,o.spot.length=Je,o.rectArea.length=Ye,o.point.length=He,o.hemi.length=pt,o.directionalShadowMap.length=yt,o.pointShadowMap.length=Bt,o.spotShadowMap.length=Vt,o.directionalShadowMatrix.length=yt,o.pointShadowMatrix.length=Bt,o.spotShadowMatrix.length=Vt,ln.directionalLength=be,ln.pointLength=He,ln.spotLength=Je,ln.rectAreaLength=Ye,ln.hemiLength=pt,ln.numDirectionalShadows=yt,ln.numPointShadows=Bt,ln.numSpotShadows=Vt,o.version=Ja++)},state:o}}function Th(){var n=new nh,o=[],u=[];return{init:function(){o.length=0,u.length=0},state:{lightsArray:o,shadowsArray:u,lights:n},setupLights:function(m){n.setup(o,u,m)},pushLight:function(m){o.push(m)},pushShadow:function(m){u.push(m)}}}function Ks(n){En.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ga,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(n)}function Hl(n){En.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new mt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(n)}((Ks.prototype=Object.create(En.prototype)).constructor=Ks).prototype.isMeshDepthMaterial=!0,Ks.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this},((Hl.prototype=Object.create(En.prototype)).constructor=Hl).prototype.isMeshDistanceMaterial=!0,Hl.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this};var Ph=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Oh=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function rh(n,o,u){var m=new Nl,P=new Bn,z=new Bn,re=new Pi,ue=[],ve=[],ye={},Be={0:S,1:A,2:L},Se=new os({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Bn},radius:{value:4}},vertexShader:Oh,fragmentShader:Ph}),Oe=Se.clone();Oe.defines.HORIZONAL_PASS=1;var be=new dn;be.setAttribute("position",new kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var He=new So(be,Se),Je=this;function Ye(_t,Wt){var Tt=o.update(He);Se.uniforms.shadow_pass.value=_t.map.texture,Se.uniforms.resolution.value=_t.mapSize,Se.uniforms.radius.value=_t.radius,n.setRenderTarget(_t.mapPass),n.clear(),n.renderBufferDirect(Wt,null,Tt,Se,He,null),Oe.uniforms.shadow_pass.value=_t.mapPass.texture,Oe.uniforms.resolution.value=_t.mapSize,Oe.uniforms.radius.value=_t.radius,n.setRenderTarget(_t.map),n.clear(),n.renderBufferDirect(Wt,null,Tt,Oe,He,null)}function pt(_t,Wt,Tt){var rn=_t<<0|Wt<<1|Tt<<2,hn=ue[rn];return hn===void 0&&(hn=new Ks({depthPacking:ho,morphTargets:_t,skinning:Wt}),ue[rn]=hn),hn}function yt(_t,Wt,Tt){var rn=_t<<0|Wt<<1|Tt<<2,hn=ve[rn];return hn===void 0&&(hn=new Hl({morphTargets:_t,skinning:Wt}),ve[rn]=hn),hn}function Bt(_t,Wt,Tt,rn,hn,mn){var gn=_t.geometry,_n=null,Vn=pt,pn=_t.customDepthMaterial;if(Tt.isPointLight===!0&&(Vn=yt,pn=_t.customDistanceMaterial),pn===void 0){var ln=!1;Wt.morphTargets===!0&&(gn.isBufferGeometry===!0?ln=gn.morphAttributes&&gn.morphAttributes.position&&0<gn.morphAttributes.position.length:gn.isGeometry===!0&&(ln=gn.morphTargets&&0<gn.morphTargets.length));var Kn=!1;_t.isSkinnedMesh===!0&&(Wt.skinning===!0?Kn=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",_t)),_n=Vn(ln,Kn,_t.isInstancedMesh===!0)}else _n=pn;if(n.localClippingEnabled&&Wt.clipShadows===!0&&Wt.clippingPlanes.length!==0){var lr=_n.uuid,kr=Wt.uuid,Or=ye[lr];Or===void 0&&(Or={},ye[lr]=Or);var Sr=Or[kr];Sr===void 0&&(Sr=_n.clone(),Or[kr]=Sr),_n=Sr}return _n.visible=Wt.visible,_n.wireframe=Wt.wireframe,_n.side=mn===f?Wt.shadowSide!==null?Wt.shadowSide:Wt.side:Wt.shadowSide!==null?Wt.shadowSide:Be[Wt.side],_n.clipShadows=Wt.clipShadows,_n.clippingPlanes=Wt.clippingPlanes,_n.clipIntersection=Wt.clipIntersection,_n.wireframeLinewidth=Wt.wireframeLinewidth,_n.linewidth=Wt.linewidth,Tt.isPointLight===!0&&_n.isMeshDistanceMaterial===!0&&(_n.referencePosition.setFromMatrixPosition(Tt.matrixWorld),_n.nearDistance=rn,_n.farDistance=hn),_n}function Vt(_t,Wt,Tt,rn,hn){if(_t.visible!==!1){if(_t.layers.test(Wt.layers)&&(_t.isMesh||_t.isLine||_t.isPoints)&&(_t.castShadow||_t.receiveShadow&&hn===f)&&(!_t.frustumCulled||m.intersectsObject(_t))){_t.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,_t.matrixWorld);var mn=o.update(_t),gn=_t.material;if(Array.isArray(gn))for(var _n=mn.groups,Vn=0,pn=_n.length;Vn<pn;Vn++){var ln=_n[Vn],Kn=gn[ln.materialIndex];if(Kn&&Kn.visible){var lr=Bt(_t,Kn,rn,Tt.near,Tt.far,hn);n.renderBufferDirect(Tt,null,mn,lr,_t,ln)}}else gn.visible&&(lr=Bt(_t,gn,rn,Tt.near,Tt.far,hn),n.renderBufferDirect(Tt,null,mn,lr,_t,null))}for(var kr=_t.children,Or=0,Sr=kr.length;Or<Sr;Or++)Vt(kr[Or],Wt,Tt,rn,hn)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C,this.render=function(_t,Wt,Tt){if(Je.enabled!==!1&&(Je.autoUpdate!==!1||Je.needsUpdate!==!1)&&_t.length!==0){var rn=n.getRenderTarget(),hn=n.getActiveCubeFace(),mn=n.getActiveMipmapLevel(),gn=n.state;gn.setBlending(G),gn.buffers.color.setClear(1,1,1,1),gn.buffers.depth.setTest(!0),gn.setScissorTest(!1);for(var _n=0,Vn=_t.length;_n<Vn;_n++){var pn=_t[_n],ln=pn.shadow;if(ln!==void 0){P.copy(ln.mapSize);var Kn=ln.getFrameExtents();if(P.multiply(Kn),z.copy(ln.mapSize),(P.x>u||P.y>u)&&(console.warn("THREE.WebGLShadowMap:",pn,"has shadow exceeding max texture size, reducing"),P.x>u&&(z.x=Math.floor(u/Kn.x),P.x=z.x*Kn.x,ln.mapSize.x=z.x),P.y>u&&(z.y=Math.floor(u/Kn.y),P.y=z.y*Kn.y,ln.mapSize.y=z.y)),ln.map===null&&!ln.isPointLightShadow&&this.type===f){var lr={minFilter:Xt,magFilter:Xt,format:Ki};ln.map=new Ro(P.x,P.y,lr),ln.map.texture.name=pn.name+".shadowMap",ln.mapPass=new Ro(P.x,P.y,lr),ln.camera.updateProjectionMatrix()}ln.map===null&&(lr={minFilter:St,magFilter:St,format:Ki},ln.map=new Ro(P.x,P.y,lr),ln.map.texture.name=pn.name+".shadowMap",ln.camera.updateProjectionMatrix()),n.setRenderTarget(ln.map),n.clear();for(var kr=ln.getViewportCount(),Or=0;Or<kr;Or++){var Sr=ln.getViewport(Or);re.set(z.x*Sr.x,z.y*Sr.y,z.x*Sr.z,z.y*Sr.w),gn.viewport(re),ln.updateMatrices(pn,Or),m=ln.getFrustum(),Vt(Wt,Tt,ln.camera,pn,this.type)}ln.isPointLightShadow||this.type!==f||Ye(ln,Tt)}else console.warn("THREE.WebGLShadowMap:",pn,"has no shadow.")}Je.needsUpdate=!1,n.setRenderTarget(rn,hn,mn)}}}function ih(n,o,u){var m=u.isWebGL2,P=new function(){var Kt=!1,cr=new Pi,ur=null,Jr=new Pi(0,0,0,0);return{setMask:function(Xn){ur===Xn||Kt||(n.colorMask(Xn,Xn,Xn,Xn),ur=Xn)},setLocked:function(Xn){Kt=Xn},setClear:function(Xn,mi,bi,Ao,Ds){Ds===!0&&(Xn*=Ao,mi*=Ao,bi*=Ao),cr.set(Xn,mi,bi,Ao),Jr.equals(cr)===!1&&(n.clearColor(Xn,mi,bi,Ao),Jr.copy(cr))},reset:function(){Kt=!1,ur=null,Jr.set(-1,0,0,0)}}},z=new function(){var Kt=!1,cr=null,ur=null,Jr=null;return{setTest:function(Xn){(Xn?dr:wt)(2929)},setMask:function(Xn){cr===Xn||Kt||(n.depthMask(Xn),cr=Xn)},setFunc:function(Xn){if(ur!==Xn){if(Xn)switch(Xn){case xt:n.depthFunc(512);break;case Me:n.depthFunc(519);break;case Ue:n.depthFunc(513);break;case Pe:n.depthFunc(515);break;case Re:n.depthFunc(514);break;case st:n.depthFunc(518);break;case It:n.depthFunc(516);break;case Ct:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ur=Xn}},setLocked:function(Xn){Kt=Xn},setClear:function(Xn){Jr!==Xn&&(n.clearDepth(Xn),Jr=Xn)},reset:function(){Kt=!1,Jr=ur=cr=null}}},re=new function(){var Kt=!1,cr=null,ur=null,Jr=null,Xn=null,mi=null,bi=null,Ao=null,Ds=null;return{setTest:function(Fi){Kt||(Fi?dr:wt)(2960)},setMask:function(Fi){cr===Fi||Kt||(n.stencilMask(Fi),cr=Fi)},setFunc:function(Fi,ko,_i){ur===Fi&&Jr===ko&&Xn===_i||(n.stencilFunc(Fi,ko,_i),ur=Fi,Jr=ko,Xn=_i)},setOp:function(Fi,ko,_i){mi===Fi&&bi===ko&&Ao===_i||(n.stencilOp(Fi,ko,_i),mi=Fi,bi=ko,Ao=_i)},setLocked:function(Fi){Kt=Fi},setClear:function(Fi){Ds!==Fi&&(n.clearStencil(Fi),Ds=Fi)},reset:function(){Kt=!1,Ds=Ao=bi=mi=Xn=Jr=ur=cr=null}}},ue=n.getParameter(34921),ve=new Uint8Array(ue),ye=new Uint8Array(ue),Be=new Uint8Array(ue),Se={},Oe=null,be=null,He=null,Je=null,Ye=null,pt=null,yt=null,Bt=null,Vt=null,_t=!1,Wt=null,Tt=null,rn=null,hn=null,mn=null,gn=n.getParameter(35661),_n=!1,Vn=0,pn=n.getParameter(7938);pn.indexOf("WebGL")!==-1?(Vn=parseFloat(/^WebGL\ ([0-9])/.exec(pn)[1]),_n=1<=Vn):pn.indexOf("OpenGL ES")!==-1&&(Vn=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(pn)[1]),_n=2<=Vn);var ln=null,Kn={},lr=new Pi,kr=new Pi;function Or(Kt,cr,ur){var Jr=new Uint8Array(4),Xn=n.createTexture();n.bindTexture(Kt,Xn),n.texParameteri(Kt,10241,9728),n.texParameteri(Kt,10240,9728);for(var mi=0;mi<ur;mi++)n.texImage2D(cr+mi,0,6408,1,1,0,6408,5121,Jr);return Xn}var Sr={};function ei(Kt,cr){ve[Kt]=1,ye[Kt]===0&&(n.enableVertexAttribArray(Kt),ye[Kt]=1),Be[Kt]!==cr&&((m?n:o.get("ANGLE_instanced_arrays"))[m?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Kt,cr),Be[Kt]=cr)}function dr(Kt){Se[Kt]!==!0&&(n.enable(Kt),Se[Kt]=!0)}function wt(Kt){Se[Kt]!==!1&&(n.disable(Kt),Se[Kt]=!1)}Sr[3553]=Or(3553,3553,1),Sr[34067]=Or(34067,34069,6),P.setClear(0,0,0,1),z.setClear(1),re.setClear(0),dr(2929),z.setFunc(Pe),fr(!1),fn(d),dr(2884),$r(G);var Ht={};if(Ht[B]=32774,Ht[se]=32778,Ht[oe]=32779,m)Ht[O]=32775,Ht[T]=32776;else{var Nn=o.get("EXT_blend_minmax");Nn!==null&&(Ht[O]=Nn.MIN_EXT,Ht[T]=Nn.MAX_EXT)}var Pn={};function $r(Kt,cr,ur,Jr,Xn,mi,bi,Ao){if(Kt!==G){if(be||(dr(3042),be=!0),Kt===pe)Xn=Xn||cr,mi=mi||ur,bi=bi||Jr,cr===Je&&Xn===yt||(n.blendEquationSeparate(Ht[cr],Ht[Xn]),Je=cr,yt=Xn),ur===Ye&&Jr===pt&&mi===Bt&&bi===Vt||(n.blendFuncSeparate(Pn[ur],Pn[Jr],Pn[mi],Pn[bi]),Ye=ur,pt=Jr,Bt=mi,Vt=bi),He=Kt,_t=null;else if(Kt!==He||Ao!==_t){if(Je===B&&yt===B||(n.blendEquation(32774),yt=Je=B),Ao)switch(Kt){case ie:n.blendFuncSeparate(1,771,1,771);break;case le:n.blendFunc(1,1);break;case ae:n.blendFuncSeparate(0,0,769,771);break;case he:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Kt)}else switch(Kt){case ie:n.blendFuncSeparate(770,771,1,771);break;case le:n.blendFunc(770,1);break;case ae:n.blendFunc(0,769);break;case he:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Kt)}Vt=Bt=pt=Ye=null,He=Kt,_t=Ao}}else be&&(wt(3042),be=!1)}function fr(Kt){Wt!==Kt&&(Kt?n.frontFace(2304):n.frontFace(2305),Wt=Kt)}function fn(Kt){Kt!==c?(dr(2884),Kt!==Tt&&(Kt===d?n.cullFace(1029):Kt===E?n.cullFace(1028):n.cullFace(1032))):wt(2884),Tt=Kt}function gr(Kt,cr,ur){Kt?(dr(32823),hn===cr&&mn===ur||(n.polygonOffset(cr,ur),hn=cr,mn=ur)):wt(32823)}function ti(Kt){Kt===void 0&&(Kt=33984+gn-1),ln!==Kt&&(n.activeTexture(Kt),ln=Kt)}return Pn[ce]=0,Pn[fe]=1,Pn[Ee]=768,Pn[_e]=770,Pn[We]=776,Pn[Ge]=774,Pn[De]=772,Pn[Ae]=769,Pn[xe]=771,Pn[rt]=775,Pn[Le]=773,{buffers:{color:P,depth:z,stencil:re},initAttributes:function(){for(var Kt=0,cr=ve.length;Kt<cr;Kt++)ve[Kt]=0},enableAttribute:function(Kt){ei(Kt,0)},enableAttributeAndDivisor:ei,disableUnusedAttributes:function(){for(var Kt=0,cr=ye.length;Kt!==cr;++Kt)ye[Kt]!==ve[Kt]&&(n.disableVertexAttribArray(Kt),ye[Kt]=0)},enable:dr,disable:wt,useProgram:function(Kt){return Oe!==Kt&&(n.useProgram(Kt),Oe=Kt,!0)},setBlending:$r,setMaterial:function(Kt,cr){(Kt.side===L?wt:dr)(2884);var ur=Kt.side===S;cr&&(ur=!ur),fr(ur),Kt.blending===ie&&Kt.transparent===!1?$r(G):$r(Kt.blending,Kt.blendEquation,Kt.blendSrc,Kt.blendDst,Kt.blendEquationAlpha,Kt.blendSrcAlpha,Kt.blendDstAlpha,Kt.premultipliedAlpha),z.setFunc(Kt.depthFunc),z.setTest(Kt.depthTest),z.setMask(Kt.depthWrite),P.setMask(Kt.colorWrite);var Jr=Kt.stencilWrite;re.setTest(Jr),Jr&&(re.setMask(Kt.stencilWriteMask),re.setFunc(Kt.stencilFunc,Kt.stencilRef,Kt.stencilFuncMask),re.setOp(Kt.stencilFail,Kt.stencilZFail,Kt.stencilZPass)),gr(Kt.polygonOffset,Kt.polygonOffsetFactor,Kt.polygonOffsetUnits)},setFlipSided:fr,setCullFace:fn,setLineWidth:function(Kt){Kt!==rn&&(_n&&n.lineWidth(Kt),rn=Kt)},setPolygonOffset:gr,setScissorTest:function(Kt){(Kt?dr:wt)(3089)},activeTexture:ti,bindTexture:function(Kt,cr){ln===null&&ti();var ur=Kn[ln];ur===void 0&&(ur={type:void 0,texture:void 0},Kn[ln]=ur),ur.type===Kt&&ur.texture===cr||(n.bindTexture(Kt,cr||Sr[Kt]),ur.type=Kt,ur.texture=cr)},unbindTexture:function(){var Kt=Kn[ln];Kt!==void 0&&Kt.type!==void 0&&(n.bindTexture(Kt.type,null),Kt.type=void 0,Kt.texture=void 0)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(Kt){console.error("THREE.WebGLState:",Kt)}},scissor:function(Kt){lr.equals(Kt)===!1&&(n.scissor(Kt.x,Kt.y,Kt.z,Kt.w),lr.copy(Kt))},viewport:function(Kt){kr.equals(Kt)===!1&&(n.viewport(Kt.x,Kt.y,Kt.z,Kt.w),kr.copy(Kt))},reset:function(){for(var Kt=0;Kt<ye.length;Kt++)ye[Kt]===1&&(n.disableVertexAttribArray(Kt),ye[Kt]=0);Se={},Kn={},Tt=Wt=He=Oe=ln=null,P.reset(),z.reset(),re.reset()}}}function Rh(n,o,u,m,P,z,re){var ue,ve=P.isWebGL2,ye=P.maxTextures,Be=P.maxCubemapSize,Se=P.maxTextureSize,Oe=P.maxSamples,be=new WeakMap,He=!1;try{He=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Je(wt,Ht){return He?new OffscreenCanvas(wt,Ht):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function Ye(wt,Ht,Nn,Pn){var $r=1;if((wt.width>Pn||wt.height>Pn)&&($r=Pn/Math.max(wt.width,wt.height)),$r<1||Ht===!0){if(typeof HTMLImageElement<"u"&&wt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&wt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&wt instanceof ImageBitmap){var fr=Ht?ai.floorPowerOfTwo:Math.floor,fn=fr($r*wt.width),gr=fr($r*wt.height);ue===void 0&&(ue=Je(fn,gr));var ti=Nn?Je(fn,gr):ue;return ti.width=fn,ti.height=gr,ti.getContext("2d").drawImage(wt,0,0,fn,gr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+wt.width+"x"+wt.height+") to ("+fn+"x"+gr+")."),ti}return"data"in wt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+wt.width+"x"+wt.height+")."),wt}return wt}function pt(wt){return ai.isPowerOfTwo(wt.width)&&ai.isPowerOfTwo(wt.height)}function yt(wt,Ht){return wt.generateMipmaps&&Ht&&wt.minFilter!==St&&wt.minFilter!==Xt}function Bt(wt,Ht,Nn,Pn){n.generateMipmap(wt),m.get(Ht).__maxMipLevel=Math.log(Math.max(Nn,Pn))*Math.LOG2E}function Vt(wt,Ht,Nn){if(ve===!1)return Ht;if(wt!==null){if(n[wt]!==void 0)return n[wt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+wt+"'")}var Pn=Ht;return Ht===6403&&(Nn===5126&&(Pn=33326),Nn===5131&&(Pn=33325),Nn===5121&&(Pn=33321)),Ht===6407&&(Nn===5126&&(Pn=34837),Nn===5131&&(Pn=34843),Nn===5121&&(Pn=32849)),Ht===6408&&(Nn===5126&&(Pn=34836),Nn===5131&&(Pn=34842),Nn===5121&&(Pn=32856)),Pn===33325||Pn===33326||Pn===34842||Pn===34836?o.get("EXT_color_buffer_float"):Pn!==34843&&Pn!==34837||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),Pn}function _t(wt){return wt===St||wt===dt||wt===At?9728:9729}function Wt(wt){var Ht=wt.target;Ht.removeEventListener("dispose",Wt),function(Nn){var Pn=m.get(Nn);Pn.__webglInit!==void 0&&(n.deleteTexture(Pn.__webglTexture),m.remove(Nn))}(Ht),Ht.isVideoTexture&&be.delete(Ht),re.memory.textures--}function Tt(wt){var Ht=wt.target;Ht.removeEventListener("dispose",Tt),function(Nn){var Pn=m.get(Nn),$r=m.get(Nn.texture);if(Nn){if($r.__webglTexture!==void 0&&n.deleteTexture($r.__webglTexture),Nn.depthTexture&&Nn.depthTexture.dispose(),Nn.isWebGLCubeRenderTarget)for(var fr=0;fr<6;fr++)n.deleteFramebuffer(Pn.__webglFramebuffer[fr]),Pn.__webglDepthbuffer&&n.deleteRenderbuffer(Pn.__webglDepthbuffer[fr]);else n.deleteFramebuffer(Pn.__webglFramebuffer),Pn.__webglDepthbuffer&&n.deleteRenderbuffer(Pn.__webglDepthbuffer);if(Nn.isWebGLMultiviewRenderTarget){n.deleteTexture(Pn.__webglColorTexture),n.deleteTexture(Pn.__webglDepthStencilTexture),re.memory.textures-=2,fr=0;for(var fn=Pn.__webglViewFramebuffers.length;fr<fn;fr++)n.deleteFramebuffer(Pn.__webglViewFramebuffers[fr])}m.remove(Nn.texture),m.remove(Nn)}}(Ht),re.memory.textures--}var rn=0;function hn(wt,Ht){var Nn,Pn,$r=m.get(wt);if(wt.isVideoTexture&&(Nn=wt,Pn=re.render.frame,be.get(Nn)!==Pn&&(be.set(Nn,Pn),Nn.update())),0<wt.version&&$r.__version!==wt.version){var fr=wt.image;if(fr===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(fr.complete!==!1)return void Kn($r,wt,Ht);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}u.activeTexture(33984+Ht),u.bindTexture(3553,$r.__webglTexture)}function mn(wt,Ht){if(wt.image.length===6){var Nn=m.get(wt);if(0<wt.version&&Nn.__version!==wt.version){ln(Nn,wt),u.activeTexture(33984+Ht),u.bindTexture(34067,Nn.__webglTexture),n.pixelStorei(37440,wt.flipY);for(var Pn=wt&&(wt.isCompressedTexture||wt.image[0].isCompressedTexture),$r=wt.image[0]&&wt.image[0].isDataTexture,fr=[],fn=0;fn<6;fn++)fr[fn]=Pn||$r?$r?wt.image[fn].image:wt.image[fn]:Ye(wt.image[fn],!1,!0,Be);var gr,ti=fr[0],Kt=pt(ti)||ve,cr=z.convert(wt.format),ur=z.convert(wt.type),Jr=Vt(wt.internalFormat,cr,ur);if(pn(34067,wt,Kt),Pn){for(fn=0;fn<6;fn++){gr=fr[fn].mipmaps;for(var Xn=0;Xn<gr.length;Xn++){var mi=gr[Xn];wt.format!==Ki&&wt.format!==lo?cr!==null?u.compressedTexImage2D(34069+fn,Xn,Jr,mi.width,mi.height,0,mi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):u.texImage2D(34069+fn,Xn,Jr,mi.width,mi.height,0,cr,ur,mi.data)}}Nn.__maxMipLevel=gr.length-1}else{for(gr=wt.mipmaps,fn=0;fn<6;fn++)if($r)for(u.texImage2D(34069+fn,0,Jr,fr[fn].width,fr[fn].height,0,cr,ur,fr[fn].data),Xn=0;Xn<gr.length;Xn++){var bi=(mi=gr[Xn]).image[fn].image;u.texImage2D(34069+fn,Xn+1,Jr,bi.width,bi.height,0,cr,ur,bi.data)}else for(u.texImage2D(34069+fn,0,Jr,cr,ur,fr[fn]),Xn=0;Xn<gr.length;Xn++)mi=gr[Xn],u.texImage2D(34069+fn,Xn+1,Jr,cr,ur,mi.image[fn]);Nn.__maxMipLevel=gr.length}yt(wt,Kt)&&Bt(34067,wt,ti.width,ti.height),Nn.__version=wt.version,wt.onUpdate&&wt.onUpdate(wt)}else u.activeTexture(33984+Ht),u.bindTexture(34067,Nn.__webglTexture)}}function gn(wt,Ht){u.activeTexture(33984+Ht),u.bindTexture(34067,m.get(wt).__webglTexture)}var _n={};_n[sn]=10497,_n[bn]=33071,_n[Fn]=33648;var Vn={};function pn(wt,Ht,Nn){Nn?(n.texParameteri(wt,10242,_n[Ht.wrapS]),n.texParameteri(wt,10243,_n[Ht.wrapT]),wt!==32879&&wt!==35866||n.texParameteri(wt,32882,_n[Ht.wrapR]),n.texParameteri(wt,10240,Vn[Ht.magFilter]),n.texParameteri(wt,10241,Vn[Ht.minFilter])):(n.texParameteri(wt,10242,33071),n.texParameteri(wt,10243,33071),wt!==32879&&wt!==35866||n.texParameteri(wt,32882,33071),Ht.wrapS===bn&&Ht.wrapT===bn||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(wt,10240,_t(Ht.magFilter)),n.texParameteri(wt,10241,_t(Ht.minFilter)),Ht.minFilter!==St&&Ht.minFilter!==Xt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var Pn=o.get("EXT_texture_filter_anisotropic");if(Pn){if(Ht.type===Dn&&o.get("OES_texture_float_linear")===null||Ht.type===ar&&(ve||o.get("OES_texture_half_float_linear"))===null)return;(1<Ht.anisotropy||m.get(Ht).__currentAnisotropy)&&(n.texParameterf(wt,Pn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ht.anisotropy,P.getMaxAnisotropy())),m.get(Ht).__currentAnisotropy=Ht.anisotropy)}}function ln(wt,Ht){wt.__webglInit===void 0&&(wt.__webglInit=!0,Ht.addEventListener("dispose",Wt),wt.__webglTexture=n.createTexture(),re.memory.textures++)}function Kn(wt,Ht,Nn){var Pn=3553;Ht.isDataTexture2DArray&&(Pn=35866),Ht.isDataTexture3D&&(Pn=32879),ln(wt,Ht),u.activeTexture(33984+Nn),u.bindTexture(Pn,wt.__webglTexture),n.pixelStorei(37440,Ht.flipY),n.pixelStorei(37441,Ht.premultiplyAlpha),n.pixelStorei(3317,Ht.unpackAlignment);var $r,fr=($r=Ht,!ve&&($r.wrapS!==bn||$r.wrapT!==bn||$r.minFilter!==St&&$r.minFilter!==Xt)&&pt(Ht.image)===!1),fn=Ye(Ht.image,fr,!1,Se),gr=pt(fn)||ve,ti=z.convert(Ht.format),Kt=z.convert(Ht.type),cr=Vt(Ht.internalFormat,ti,Kt);pn(Pn,Ht,gr);var ur,Jr=Ht.mipmaps;if(Ht.isDepthTexture){if(cr=6402,Ht.type===Dn){if(ve===!1)throw new Error("Float Depth Texture only supported in WebGL2.0");cr=36012}else ve&&(cr=33189);Ht.format===ni&&cr===6402&&Ht.type!==jr&&Ht.type!==Ut&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ht.type=jr,Kt=z.convert(Ht.type)),Ht.format===Po&&(cr=34041,Ht.type!==Ti&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ht.type=Ti,Kt=z.convert(Ht.type))),u.texImage2D(3553,0,cr,fn.width,fn.height,0,ti,Kt,null)}else if(Ht.isDataTexture)if(0<Jr.length&&gr){for(var Xn=0,mi=Jr.length;Xn<mi;Xn++)ur=Jr[Xn],u.texImage2D(3553,Xn,cr,ur.width,ur.height,0,ti,Kt,ur.data);Ht.generateMipmaps=!1,wt.__maxMipLevel=Jr.length-1}else u.texImage2D(3553,0,cr,fn.width,fn.height,0,ti,Kt,fn.data),wt.__maxMipLevel=0;else if(Ht.isCompressedTexture){for(Xn=0,mi=Jr.length;Xn<mi;Xn++)ur=Jr[Xn],Ht.format!==Ki&&Ht.format!==lo?ti!==null?u.compressedTexImage2D(3553,Xn,cr,ur.width,ur.height,0,ur.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):u.texImage2D(3553,Xn,cr,ur.width,ur.height,0,ti,Kt,ur.data);wt.__maxMipLevel=Jr.length-1}else if(Ht.isDataTexture2DArray)u.texImage3D(35866,0,cr,fn.width,fn.height,fn.depth,0,ti,Kt,fn.data),wt.__maxMipLevel=0;else if(Ht.isDataTexture3D)u.texImage3D(32879,0,cr,fn.width,fn.height,fn.depth,0,ti,Kt,fn.data),wt.__maxMipLevel=0;else if(0<Jr.length&&gr){for(Xn=0,mi=Jr.length;Xn<mi;Xn++)ur=Jr[Xn],u.texImage2D(3553,Xn,cr,ti,Kt,ur);Ht.generateMipmaps=!1,wt.__maxMipLevel=Jr.length-1}else u.texImage2D(3553,0,cr,ti,Kt,fn),wt.__maxMipLevel=0;yt(Ht,gr)&&Bt(Pn,Ht,fn.width,fn.height),wt.__version=Ht.version,Ht.onUpdate&&Ht.onUpdate(Ht)}function lr(wt,Ht,Nn,Pn){var $r=z.convert(Ht.texture.format),fr=z.convert(Ht.texture.type),fn=Vt(Ht.texture.internalFormat,$r,fr);u.texImage2D(Pn,0,fn,Ht.width,Ht.height,0,$r,fr,null),n.bindFramebuffer(36160,wt),n.framebufferTexture2D(36160,Nn,Pn,m.get(Ht.texture).__webglTexture,0),n.bindFramebuffer(36160,null)}function kr(wt,Ht,Nn){if(n.bindRenderbuffer(36161,wt),Ht.depthBuffer&&!Ht.stencilBuffer){if(Nn){var Pn=Sr(Ht);n.renderbufferStorageMultisample(36161,Pn,33189,Ht.width,Ht.height)}else n.renderbufferStorage(36161,33189,Ht.width,Ht.height);n.framebufferRenderbuffer(36160,36096,36161,wt)}else if(Ht.depthBuffer&&Ht.stencilBuffer)Nn?(Pn=Sr(Ht),n.renderbufferStorageMultisample(36161,Pn,35056,Ht.width,Ht.height)):n.renderbufferStorage(36161,34041,Ht.width,Ht.height),n.framebufferRenderbuffer(36160,33306,36161,wt);else{var $r=z.convert(Ht.texture.format),fr=z.convert(Ht.texture.type),fn=Vt(Ht.texture.internalFormat,$r,fr);Nn?(Pn=Sr(Ht),n.renderbufferStorageMultisample(36161,Pn,fn,Ht.width,Ht.height)):n.renderbufferStorage(36161,fn,Ht.width,Ht.height)}n.bindRenderbuffer(36161,null)}function Or(wt){var Ht=m.get(wt),Nn=wt.isWebGLCubeRenderTarget===!0;if(wt.depthTexture){if(Nn)throw new Error("target.depthTexture not supported in Cube render targets");(function($r,fr){if(fr&&fr.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,$r),!fr.depthTexture||!fr.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");m.get(fr.depthTexture).__webglTexture&&fr.depthTexture.image.width===fr.width&&fr.depthTexture.image.height===fr.height||(fr.depthTexture.image.width=fr.width,fr.depthTexture.image.height=fr.height,fr.depthTexture.needsUpdate=!0),hn(fr.depthTexture,0);var fn=m.get(fr.depthTexture).__webglTexture;if(fr.depthTexture.format===ni)n.framebufferTexture2D(36160,36096,3553,fn,0);else{if(fr.depthTexture.format!==Po)throw new Error("Unknown depthTexture format");n.framebufferTexture2D(36160,33306,3553,fn,0)}})(Ht.__webglFramebuffer,wt)}else if(Nn){Ht.__webglDepthbuffer=[];for(var Pn=0;Pn<6;Pn++)n.bindFramebuffer(36160,Ht.__webglFramebuffer[Pn]),Ht.__webglDepthbuffer[Pn]=n.createRenderbuffer(),kr(Ht.__webglDepthbuffer[Pn],wt)}else n.bindFramebuffer(36160,Ht.__webglFramebuffer),Ht.__webglDepthbuffer=n.createRenderbuffer(),kr(Ht.__webglDepthbuffer,wt);n.bindFramebuffer(36160,null)}function Sr(wt){return ve&&wt.isWebGLMultisampleRenderTarget?Math.min(Oe,wt.samples):0}Vn[St]=9728,Vn[dt]=9984,Vn[At]=9986,Vn[Xt]=9729,Vn[cn]=9985;var ei=!(Vn[zn]=9987),dr=!1;this.allocateTextureUnit=function(){var wt=rn;return ye<=wt&&console.warn("THREE.WebGLTextures: Trying to use "+wt+" texture units while this GPU supports only "+ye),rn+=1,wt},this.resetTextureUnits=function(){rn=0},this.setTexture2D=hn,this.setTexture2DArray=function(wt,Ht){var Nn=m.get(wt);0<wt.version&&Nn.__version!==wt.version?Kn(Nn,wt,Ht):(u.activeTexture(33984+Ht),u.bindTexture(35866,Nn.__webglTexture))},this.setTexture3D=function(wt,Ht){var Nn=m.get(wt);0<wt.version&&Nn.__version!==wt.version?Kn(Nn,wt,Ht):(u.activeTexture(33984+Ht),u.bindTexture(32879,Nn.__webglTexture))},this.setTextureCube=mn,this.setTextureCubeDynamic=gn,this.setupRenderTarget=function(wt){var Ht=m.get(wt),Nn=m.get(wt.texture);wt.addEventListener("dispose",Tt),Nn.__webglTexture=n.createTexture(),re.memory.textures++;var Pn=wt.isWebGLCubeRenderTarget===!0,$r=wt.isWebGLMultisampleRenderTarget===!0,fr=wt.isWebGLMultiviewRenderTarget===!0,fn=pt(wt)||ve;if(Pn){Ht.__webglFramebuffer=[];for(var gr=0;gr<6;gr++)Ht.__webglFramebuffer[gr]=n.createFramebuffer()}else if(Ht.__webglFramebuffer=n.createFramebuffer(),$r)if(ve){Ht.__webglMultisampledFramebuffer=n.createFramebuffer(),Ht.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Ht.__webglColorRenderbuffer);var ti=z.convert(wt.texture.format),Kt=z.convert(wt.texture.type),cr=Vt(wt.texture.internalFormat,ti,Kt),ur=Sr(wt);n.renderbufferStorageMultisample(36161,ur,cr,wt.width,wt.height),n.bindFramebuffer(36160,Ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Ht.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),wt.depthBuffer&&(Ht.__webglDepthRenderbuffer=n.createRenderbuffer(),kr(Ht.__webglDepthRenderbuffer,wt,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(fr){var Jr=wt.width,Xn=wt.height,mi=wt.numViews;n.bindFramebuffer(36160,Ht.__webglFramebuffer);var bi=o.get("OVR_multiview2");re.memory.textures+=2;var Ao=n.createTexture();n.bindTexture(35866,Ao),n.texParameteri(35866,10240,9728),n.texParameteri(35866,10241,9728),n.texImage3D(35866,0,32856,Jr,Xn,mi,0,6408,5121,null),bi.framebufferTextureMultiviewOVR(36160,36064,Ao,0,0,mi);var Ds=n.createTexture();n.bindTexture(35866,Ds),n.texParameteri(35866,10240,9728),n.texParameteri(35866,10241,9728),n.texImage3D(35866,0,35056,Jr,Xn,mi,0,34041,34042,null),bi.framebufferTextureMultiviewOVR(36160,33306,Ds,0,0,mi);var Fi=new Array(mi);for(gr=0;gr<mi;++gr)Fi[gr]=n.createFramebuffer(),n.bindFramebuffer(36160,Fi[gr]),n.framebufferTextureLayer(36160,36064,Ao,0,gr);Ht.__webglColorTexture=Ao,Ht.__webglDepthStencilTexture=Ds,Ht.__webglViewFramebuffers=Fi,n.bindFramebuffer(36160,null),n.bindTexture(35866,null)}if(Pn){for(u.bindTexture(34067,Nn.__webglTexture),pn(34067,wt.texture,fn),gr=0;gr<6;gr++)lr(Ht.__webglFramebuffer[gr],wt,36064,34069+gr);yt(wt.texture,fn)&&Bt(34067,wt.texture,wt.width,wt.height),u.bindTexture(34067,null)}else fr||(u.bindTexture(3553,Nn.__webglTexture),pn(3553,wt.texture,fn),lr(Ht.__webglFramebuffer,wt,36064,3553),yt(wt.texture,fn)&&Bt(3553,wt.texture,wt.width,wt.height),u.bindTexture(3553,null));wt.depthBuffer&&Or(wt)},this.updateRenderTargetMipmap=function(wt){var Ht=wt.texture;if(yt(Ht,pt(wt)||ve)){var Nn=wt.isWebGLCubeRenderTarget?34067:3553,Pn=m.get(Ht).__webglTexture;u.bindTexture(Nn,Pn),Bt(Nn,Ht,wt.width,wt.height),u.bindTexture(Nn,null)}},this.updateMultisampleRenderTarget=function(wt){if(wt.isWebGLMultisampleRenderTarget)if(ve){var Ht=m.get(wt);n.bindFramebuffer(36008,Ht.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ht.__webglFramebuffer);var Nn=wt.width,Pn=wt.height,$r=16384;wt.depthBuffer&&($r|=256),wt.stencilBuffer&&($r|=1024),n.blitFramebuffer(0,0,Nn,Pn,0,0,Nn,Pn,$r,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(wt,Ht){wt&&wt.isWebGLRenderTarget&&(ei===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ei=!0),wt=wt.texture),hn(wt,Ht)},this.safeSetTextureCube=function(wt,Ht){wt&&wt.isWebGLCubeRenderTarget&&(dr===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),dr=!0),wt=wt.texture),(wt&&wt.isCubeTexture||Array.isArray(wt.image)&&wt.image.length===6?mn:gn)(wt,Ht)}}function yc(n,o,u){var m=u.isWebGL2;return{convert:function(P){var z;if(P===Vr)return 5121;if(P===Yr)return 32819;if(P===ui)return 32820;if(P===Oi)return 33635;if(P===Un)return 5120;if(P===Mn)return 5122;if(P===jr)return 5123;if(P===Bi)return 5124;if(P===Ut)return 5125;if(P===Dn)return 5126;if(P===ar)return m?5131:(z=o.get("OES_texture_half_float"))!==null?z.HALF_FLOAT_OES:null;if(P===Ri)return 6406;if(P===lo)return 6407;if(P===Ki)return 6408;if(P===Qa)return 6409;if(P===No)return 6410;if(P===ni)return 6402;if(P===Po)return 34041;if(P===we)return 6403;if(P===vi)return 36244;if(P===Vo)return 33319;if(P===xr)return 33320;if(P===Bo)return 36248;if(P===pa)return 36249;if(P===ps||P===fs||P===Aa||P===sa){if((z=o.get("WEBGL_compressed_texture_s3tc"))===null)return null;if(P===ps)return z.COMPRESSED_RGB_S3TC_DXT1_EXT;if(P===fs)return z.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(P===Aa)return z.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(P===sa)return z.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(P===Qo||P===mo||P===Ra||P===jo){if((z=o.get("WEBGL_compressed_texture_pvrtc"))===null)return null;if(P===Qo)return z.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(P===mo)return z.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(P===Ra)return z.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(P===jo)return z.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return P===es?(z=o.get("WEBGL_compressed_texture_etc1"))!==null?z.COMPRESSED_RGB_ETC1_WEBGL:null:P===As||P===ea||P===ms||P===Wo||P===La||P===Ia||P===Ba||P===Li||P===Hr||P===ka||P===gs||P===Ps||P===_s||P===Oo?(z=o.get("WEBGL_compressed_texture_astc"))!==null?P:null:P===Ti?m?34042:(z=o.get("WEBGL_depth_texture"))!==null?z.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function $c(n,o,u,m){Ro.call(this,n,o,m),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=u}function qc(n){zo.call(this),this.cameras=n||[]}function Ul(){qt.call(this),this.type="Group"}function Jc(n,o){var u=this,m=null,P=null,z="local-floor",re=null,ue=[],ve=new Map,ye=new zo;ye.layers.enable(1),ye.viewport=new Pi;var Be=new zo;Be.layers.enable(2),Be.viewport=new Pi;var Se=new qc([ye,Be]);Se.layers.enable(1),Se.layers.enable(2);var Oe=null,be=null;function He(Tt){var rn=ve.get(Tt.inputSource);rn&&(rn.targetRay&&rn.targetRay.dispatchEvent({type:Tt.type}),rn.grip&&rn.grip.dispatchEvent({type:Tt.type}))}function Je(){ve.forEach(function(Tt,rn){Tt.targetRay&&(Tt.targetRay.dispatchEvent({type:"disconnected",data:rn}),Tt.targetRay.visible=!1),Tt.grip&&(Tt.grip.dispatchEvent({type:"disconnected",data:rn}),Tt.grip.visible=!1)}),ve.clear(),n.setFramebuffer(null),n.setRenderTarget(n.getRenderTarget()),Wt.stop(),u.isPresenting=!1,u.dispatchEvent({type:"sessionend"})}function Ye(Tt){P=Tt,Wt.setContext(m),Wt.start(),u.isPresenting=!0,u.dispatchEvent({type:"sessionstart"})}function pt(Tt){for(var rn=m.inputSources,hn=0;hn<ue.length;hn++)ve.set(rn[hn],ue[hn]);for(hn=0;hn<Tt.removed.length;hn++){var mn=Tt.removed[hn];(gn=ve.get(mn))&&(gn.targetRay&&gn.targetRay.dispatchEvent({type:"disconnected",data:mn}),gn.grip&&gn.grip.dispatchEvent({type:"disconnected",data:mn}),ve.delete(mn))}for(hn=0;hn<Tt.added.length;hn++){var gn;mn=Tt.added[hn],(gn=ve.get(mn))&&(gn.targetRay&&gn.targetRay.dispatchEvent({type:"connected",data:mn}),gn.grip&&gn.grip.dispatchEvent({type:"connected",data:mn}))}}this.enabled=!1,this.isPresenting=!1,this.getController=function(Tt){var rn=ue[Tt];return rn===void 0&&(rn={},ue[Tt]=rn),rn.targetRay===void 0&&(rn.targetRay=new Ul,rn.targetRay.matrixAutoUpdate=!1,rn.targetRay.visible=!1),rn.targetRay},this.getControllerGrip=function(Tt){var rn=ue[Tt];return rn===void 0&&(rn={},ue[Tt]=rn),rn.grip===void 0&&(rn.grip=new Ul,rn.grip.matrixAutoUpdate=!1,rn.grip.visible=!1),rn.grip},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(Tt){z=Tt},this.getReferenceSpace=function(){return P},this.getSession=function(){return m},this.setSession=function(Tt){if((m=Tt)!==null){m.addEventListener("select",He),m.addEventListener("selectstart",He),m.addEventListener("selectend",He),m.addEventListener("squeeze",He),m.addEventListener("squeezestart",He),m.addEventListener("squeezeend",He),m.addEventListener("end",Je);var rn=o.getContextAttributes(),hn={antialias:rn.antialias,alpha:rn.alpha,depth:rn.depth,stencil:rn.stencil},mn=new XRWebGLLayer(m,o,hn);m.updateRenderState({baseLayer:mn}),m.requestReferenceSpace(z).then(Ye),m.addEventListener("inputsourceschange",pt)}};var yt=new mt,Bt=new mt;function Vt(Tt,rn){rn===null?Tt.matrixWorld.copy(Tt.matrix):Tt.matrixWorld.multiplyMatrices(rn.matrixWorld,Tt.matrix),Tt.matrixWorldInverse.getInverse(Tt.matrixWorld)}this.getCamera=function(Tt){Se.near=Be.near=ye.near=Tt.near,Se.far=Be.far=ye.far=Tt.far,Oe===Se.near&&be===Se.far||(m.updateRenderState({depthNear:Se.near,depthFar:Se.far}),Oe=Se.near,be=Se.far);var rn=Tt.parent,hn=Se.cameras;Vt(Se,rn);for(var mn=0;mn<hn.length;mn++)Vt(hn[mn],rn);Tt.matrixWorld.copy(Se.matrixWorld);for(var gn=Tt.children,_n=(mn=0,gn.length);mn<_n;mn++)gn[mn].updateMatrixWorld(!0);return function(Vn,pn,ln){yt.setFromMatrixPosition(pn.matrixWorld),Bt.setFromMatrixPosition(ln.matrixWorld);var Kn=yt.distanceTo(Bt),lr=pn.projectionMatrix.elements,kr=ln.projectionMatrix.elements,Or=lr[14]/(lr[10]-1),Sr=lr[14]/(lr[10]+1),ei=(lr[9]+1)/lr[5],dr=(lr[9]-1)/lr[5],wt=(lr[8]-1)/lr[0],Ht=(kr[8]+1)/kr[0],Nn=Or*wt,Pn=Or*Ht,$r=Kn/(Ht-wt),fr=$r*-wt;pn.matrixWorld.decompose(Vn.position,Vn.quaternion,Vn.scale),Vn.translateX(fr),Vn.translateZ($r),Vn.matrixWorld.compose(Vn.position,Vn.quaternion,Vn.scale),Vn.matrixWorldInverse.getInverse(Vn.matrixWorld);var fn=Or+$r,gr=Sr+$r,ti=Nn-fr,Kt=Kn-fr+Pn,cr=ei*Sr/gr*fn,ur=dr*Sr/gr*fn;Vn.projectionMatrix.makePerspective(ti,Kt,cr,ur,fn,gr)}(Se,ye,Be),Se};var _t=null,Wt=new kd;Wt.setAnimationLoop(function(Tt,rn){if((re=rn.getViewerPose(P))!==null){var hn=re.views,mn=m.renderState.baseLayer;n.setFramebuffer(mn.framebuffer);for(var gn=0;gn<hn.length;gn++){var _n=hn[gn],Vn=mn.getViewport(_n),pn=Se.cameras[gn];pn.matrix.fromArray(_n.transform.matrix),pn.projectionMatrix.fromArray(_n.projectionMatrix),pn.viewport.set(Vn.x,Vn.y,Vn.width,Vn.height),gn===0&&Se.matrix.copy(pn.matrix)}}var ln=m.inputSources;for(gn=0;gn<ue.length;gn++){var Kn=ue[gn],lr=ln[gn],kr=null,Or=null;lr&&(Kn.targetRay&&(kr=rn.getPose(lr.targetRaySpace,P))!==null&&(Kn.targetRay.matrix.fromArray(kr.transform.matrix),Kn.targetRay.matrix.decompose(Kn.targetRay.position,Kn.targetRay.rotation,Kn.targetRay.scale)),Kn.grip&&lr.gripSpace&&(Or=rn.getPose(lr.gripSpace,P))!==null&&(Kn.grip.matrix.fromArray(Or.transform.matrix),Kn.grip.matrix.decompose(Kn.grip.position,Kn.grip.rotation,Kn.grip.scale))),Kn.targetRay&&(Kn.targetRay.visible=kr!==null),Kn.grip&&(Kn.grip.visible=Or!==null)}_t&&_t(Tt,rn)}),this.setAnimationLoop=function(Tt){_t=Tt},this.dispose=function(){}}function ed(n){var o=(n=n||{}).canvas!==void 0?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),u=n.context!==void 0?n.context:null,m=n.alpha!==void 0&&n.alpha,P=n.depth===void 0||n.depth,z=n.stencil===void 0||n.stencil,re=n.antialias!==void 0&&n.antialias,ue=n.premultipliedAlpha===void 0||n.premultipliedAlpha,ve=n.preserveDrawingBuffer!==void 0&&n.preserveDrawingBuffer,ye=n.powerPreference!==void 0?n.powerPreference:"default",Be=n.failIfMajorPerformanceCaveat!==void 0&&n.failIfMajorPerformanceCaveat,Se=null,Oe=null;this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ot,this.physicallyCorrectLights=!1,this.toneMapping=qe,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var be,He,Je,Ye,pt,yt,Bt,Vt,_t,Wt,Tt,rn,hn,mn,gn,_n,Vn,pn,ln=this,Kn=!1,lr=null,kr=0,Or=0,Sr=null,ei=null,dr=-1,wt={geometry:null,program:null,wireframe:!1},Ht=null,Nn=null,Pn=new Pi,$r=new Pi,fr=null,fn=o.width,gr=o.height,ti=1,Kt=null,cr=null,ur=new Pi(0,0,fn,gr),Jr=new Pi(0,0,fn,gr),Xn=!1,mi=new Nl,bi=new function(){var ut=this,Lt=null,Pt=0,Zt=!1,an=!1,tr=new Jo,nr=new go,Jn={value:null,needsUpdate:!1};function rr(){Jn.value!==Lt&&(Jn.value=Lt,Jn.needsUpdate=0<Pt),ut.numPlanes=Pt,ut.numIntersection=0}function An(Hn,Br,Pr,Zn){var qn=Hn!==null?Hn.length:0,Nr=null;if(qn!==0){if(Nr=Jn.value,Zn!==!0||Nr===null){var Xr=Pr+4*qn,ci=Br.matrixWorldInverse;nr.getNormalMatrix(ci),(Nr===null||Nr.length<Xr)&&(Nr=new Float32Array(Xr));for(var so=0,Si=Pr;so!==qn;++so,Si+=4)tr.copy(Hn[so]).applyMatrix4(ci,nr),tr.normal.toArray(Nr,Si),Nr[Si+3]=tr.constant}Jn.value=Nr,Jn.needsUpdate=!0}return ut.numPlanes=qn,Nr}this.uniform=Jn,this.numPlanes=0,this.numIntersection=0,this.init=function(Hn,Br,Pr){var Zn=Hn.length!==0||Br||Pt!==0||Zt;return Zt=Br,Lt=An(Hn,Pr,0),Pt=Hn.length,Zn},this.beginShadows=function(){an=!0,An(null)},this.endShadows=function(){an=!1,rr()},this.setState=function(Hn,Br,Pr,Zn,qn,Nr){if(!Zt||Hn===null||Hn.length===0||an&&!Pr)an?An(null):rr();else{var Xr=an?0:Pt,ci=4*Xr,so=qn.clippingState||null;Jn.value=so,so=An(Hn,Zn,ci,Nr);for(var Si=0;Si!==ci;++Si)so[Si]=Lt[Si];qn.clippingState=so,this.numIntersection=Br?this.numPlanes:0,this.numPlanes+=Xr}}},Ao=!1,Ds=!1,Fi=new ri,ko=new mt;function _i(){return Sr===null?ti:1}try{var uo={alpha:m,depth:P,stencil:z,antialias:re,premultipliedAlpha:ue,preserveDrawingBuffer:ve,powerPreference:ye,failIfMajorPerformanceCaveat:Be,xrCompatible:!0};o.addEventListener("webglcontextlost",bs,!1),o.addEventListener("webglcontextrestored",ml,!1);var _o="webgl";if(n.webgl2===!0&&(_o="webgl2"),(be=u||o.getContext(_o,uo)||o.getContext("experimental-webgl",uo))===null)throw o.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");n.retver=_o,be.getShaderPrecisionFormat===void 0&&(be.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ut){throw console.error("THREE.WebGLRenderer: "+ut.message),ut}function ha(){He=new function(ut){var Lt={};return{get:function(Pt){if(Lt[Pt]!==void 0)return Lt[Pt];var Zt;switch(Pt){case"WEBGL_depth_texture":Zt=ut.getExtension("WEBGL_depth_texture")||ut.getExtension("MOZ_WEBGL_depth_texture")||ut.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":Zt=ut.getExtension("EXT_texture_filter_anisotropic")||ut.getExtension("MOZ_EXT_texture_filter_anisotropic")||ut.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":Zt=ut.getExtension("WEBGL_compressed_texture_s3tc")||ut.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ut.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":Zt=ut.getExtension("WEBGL_compressed_texture_pvrtc")||ut.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:Zt=ut.getExtension(Pt)}return Zt===null&&console.warn("THREE.WebGLRenderer: "+Pt+" extension not supported."),Lt[Pt]=Zt}}}(be),(Je=new function(ut,Lt,Pt){var Zt;function an(Si){if(Si==="highp"){if(0<ut.getShaderPrecisionFormat(35633,36338).precision&&0<ut.getShaderPrecisionFormat(35632,36338).precision)return"highp";Si="mediump"}return Si==="mediump"&&0<ut.getShaderPrecisionFormat(35633,36337).precision&&0<ut.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var tr=typeof WebGL2RenderingContext<"u"&&ut instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&ut instanceof WebGL2ComputeRenderingContext,nr=Pt.precision!==void 0?Pt.precision:"highp",Jn=an(nr);Jn!==nr&&(console.warn("THREE.WebGLRenderer:",nr,"not supported, using",Jn,"instead."),nr=Jn);var rr=Pt.logarithmicDepthBuffer===!0,An=ut.getParameter(34930),Hn=ut.getParameter(35660),Br=ut.getParameter(3379),Pr=ut.getParameter(34076),Zn=ut.getParameter(34921),qn=ut.getParameter(36347),Nr=ut.getParameter(36348),Xr=ut.getParameter(36349),ci=0<Hn,so=tr||!!Lt.get("OES_texture_float");return{isWebGL2:tr,getMaxAnisotropy:function(){if(Zt!==void 0)return Zt;var Si=Lt.get("EXT_texture_filter_anisotropic");return Zt=Si!==null?ut.getParameter(Si.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:an,precision:nr,logarithmicDepthBuffer:rr,maxTextures:An,maxVertexTextures:Hn,maxTextureSize:Br,maxCubemapSize:Pr,maxAttributes:Zn,maxVertexUniforms:qn,maxVaryings:Nr,maxFragmentUniforms:Xr,vertexTextures:ci,floatFragmentTextures:so,floatVertexTextures:ci&&so,maxSamples:tr?ut.getParameter(36183):0}}(be,He,n)).isWebGL2===!1&&(He.get("WEBGL_depth_texture"),He.get("OES_texture_float"),He.get("OES_texture_half_float"),He.get("OES_texture_half_float_linear"),He.get("OES_standard_derivatives"),He.get("OES_element_index_uint"),He.get("ANGLE_instanced_arrays")),He.get("OES_texture_float_linear"),pn=new yc(0,He,Je),(Ye=new ih(be,He,Je)).scissor($r.copy(Jr).multiplyScalar(ti).floor()),Ye.viewport(Pn.copy(ur).multiplyScalar(ti).floor()),pt=new function(ut){var Lt={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:Lt,programs:null,autoReset:!0,reset:function(){Lt.frame++,Lt.calls=0,Lt.triangles=0,Lt.points=0,Lt.lines=0},update:function(Pt,Zt,an){switch(an=an||1,Lt.calls++,Zt){case 4:Lt.triangles+=an*(Pt/3);break;case 1:Lt.lines+=an*(Pt/2);break;case 3:Lt.lines+=an*(Pt-1);break;case 2:Lt.lines+=an*Pt;break;case 0:Lt.points+=an*Pt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",Zt)}}}},yt=new function(){var ut=new WeakMap;return{get:function(Lt){var Pt=ut.get(Lt);return Pt===void 0&&(Pt={},ut.set(Lt,Pt)),Pt},remove:function(Lt){ut.delete(Lt)},update:function(Lt,Pt,Zt){ut.get(Lt)[Pt]=Zt},dispose:function(){ut=new WeakMap}}},Bt=new Rh(be,He,Ye,yt,Je,pn,pt),Vt=new function(ut,Lt){var Pt=Lt.isWebGL2,Zt=new WeakMap;return{get:function(an){return an.isInterleavedBufferAttribute&&(an=an.data),Zt.get(an)},remove:function(an){an.isInterleavedBufferAttribute&&(an=an.data);var tr=Zt.get(an);tr&&(ut.deleteBuffer(tr.buffer),Zt.delete(an))},update:function(an,tr){an.isInterleavedBufferAttribute&&(an=an.data);var nr,Jn,rr,An,Hn,Br=Zt.get(an);Br===void 0?Zt.set(an,function(Pr,Zn){var qn=Pr.array,Nr=Pr.usage,Xr=ut.createBuffer();ut.bindBuffer(Zn,Xr),ut.bufferData(Zn,qn,Nr),Pr.onUploadCallback();var ci=5126;return qn instanceof Float32Array?ci=5126:qn instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):qn instanceof Uint16Array?ci=5123:qn instanceof Int16Array?ci=5122:qn instanceof Uint32Array?ci=5125:qn instanceof Int32Array?ci=5124:qn instanceof Int8Array?ci=5120:qn instanceof Uint8Array&&(ci=5121),{buffer:Xr,type:ci,bytesPerElement:qn.BYTES_PER_ELEMENT,version:Pr.version}}(an,tr)):Br.version<an.version&&(nr=Br.buffer,rr=tr,An=(Jn=an).array,Hn=Jn.updateRange,ut.bindBuffer(rr,nr),Hn.count===-1?ut.bufferSubData(rr,0,An):(Pt?ut.bufferSubData(rr,Hn.offset*An.BYTES_PER_ELEMENT,An,Hn.offset,Hn.count):ut.bufferSubData(rr,Hn.offset*An.BYTES_PER_ELEMENT,An.subarray(Hn.offset,Hn.offset+Hn.count)),Hn.count=-1),Br.version=an.version)}}}(be,Je),_t=new function(ut,Lt,Pt){var Zt=new WeakMap,an=new WeakMap;function tr(Jn){var rr=Jn.target,An=Zt.get(rr);for(var Hn in An.index!==null&&Lt.remove(An.index),An.attributes)Lt.remove(An.attributes[Hn]);rr.removeEventListener("dispose",tr),Zt.delete(rr);var Br=an.get(An);Br&&(Lt.remove(Br),an.delete(An)),Pt.memory.geometries--}function nr(Jn){var rr=[],An=Jn.index,Hn=Jn.attributes.position,Br=0;if(An!==null){var Pr=An.array;Br=An.version;for(var Zn=0,qn=Pr.length;Zn<qn;Zn+=3){var Nr=Pr[Zn+0],Xr=Pr[Zn+1],ci=Pr[Zn+2];rr.push(Nr,Xr,Xr,ci,ci,Nr)}}else for(Pr=Hn.array,Br=Hn.version,Zn=0,qn=Pr.length/3-1;Zn<qn;Zn+=3)Nr=Zn+0,Xr=Zn+1,ci=Zn+2,rr.push(Nr,Xr,Xr,ci,ci,Nr);var so=new(65535<Qe(rr)?io:ro)(rr,1);so.version=Br,Lt.update(so,34963);var Si=an.get(Jn);Si&&Lt.remove(Si),an.set(Jn,so)}return{get:function(Jn,rr){var An=Zt.get(rr);return An||(rr.addEventListener("dispose",tr),rr.isBufferGeometry?An=rr:rr.isGeometry&&(rr._bufferGeometry===void 0&&(rr._bufferGeometry=new dn().setFromObject(Jn)),An=rr._bufferGeometry),Zt.set(rr,An),Pt.memory.geometries++,An)},update:function(Jn){var rr=Jn.index,An=Jn.attributes;for(var Hn in rr!==null&&Lt.update(rr,34963),An)Lt.update(An[Hn],34962);var Br=Jn.morphAttributes;for(var Hn in Br)for(var Pr=Br[Hn],Zn=0,qn=Pr.length;Zn<qn;Zn++)Lt.update(Pr[Zn],34962)},getWireframeAttribute:function(Jn){var rr=an.get(Jn);if(rr){var An=Jn.index;An!==null&&rr.version<An.version&&nr(Jn)}else nr(Jn);return an.get(Jn)}}}(0,Vt,pt),Wt=new function(ut,Lt,Pt,Zt){var an={};return{update:function(tr){var nr=Zt.render.frame,Jn=tr.geometry,rr=Lt.get(tr,Jn);return an[rr.id]!==nr&&(Jn.isGeometry&&rr.updateFromObject(tr),Lt.update(rr),an[rr.id]=nr),tr.isInstancedMesh&&Pt.update(tr.instanceMatrix,34962),rr},dispose:function(){an={}}}}(0,_t,Vt,pt),gn=new function(ut){var Lt={},Pt=new Float32Array(8);return{update:function(Zt,an,tr,nr){var Jn=Zt.morphTargetInfluences,rr=Jn===void 0?0:Jn.length,An=Lt[an.id];if(An===void 0){An=[];for(var Hn=0;Hn<rr;Hn++)An[Hn]=[Hn,0];Lt[an.id]=An}var Br=tr.morphTargets&&an.morphAttributes.position,Pr=tr.morphNormals&&an.morphAttributes.normal;for(Hn=0;Hn<rr;Hn++)(qn=An[Hn])[1]!==0&&(Br&&an.deleteAttribute("morphTarget"+Hn),Pr&&an.deleteAttribute("morphNormal"+Hn));for(Hn=0;Hn<rr;Hn++)(qn=An[Hn])[0]=Hn,qn[1]=Jn[Hn];An.sort(Uc);var Zn=0;for(Hn=0;Hn<8;Hn++){var qn;if(qn=An[Hn]){var Nr=qn[0],Xr=qn[1];if(Xr){Br&&an.setAttribute("morphTarget"+Hn,Br[Nr]),Pr&&an.setAttribute("morphNormal"+Hn,Pr[Nr]),Zn+=Pt[Hn]=Xr;continue}}Pt[Hn]=0}var ci=an.morphTargetsRelative?1:1-Zn;nr.getUniforms().setValue(ut,"morphTargetBaseInfluence",ci),nr.getUniforms().setValue(ut,"morphTargetInfluences",Pt)}}}(be),Tt=new Fh(ln,He,Je),rn=new function(){var ut=new WeakMap;function Lt(Pt){var Zt=Pt.target;Zt.removeEventListener("dispose",Lt),ut.delete(Zt)}return{get:function(Pt,Zt){var an,tr=ut.get(Pt);return tr===void 0?(an=new Zs,ut.set(Pt,new WeakMap),ut.get(Pt).set(Zt,an),Pt.addEventListener("dispose",Lt)):(an=tr.get(Zt))===void 0&&(an=new Zs,tr.set(Zt,an)),an},dispose:function(){ut=new WeakMap}}},hn=new function(){var ut=new WeakMap;function Lt(Pt){var Zt=Pt.target;Zt.removeEventListener("dispose",Lt),ut.delete(Zt)}return{get:function(Pt,Zt){var an;return ut.has(Pt)===!1?(an=new Th,ut.set(Pt,new WeakMap),ut.get(Pt).set(Zt,an),Pt.addEventListener("dispose",Lt)):ut.get(Pt).has(Zt)===!1?(an=new Th,ut.get(Pt).set(Zt,an)):an=ut.get(Pt).get(Zt),an},dispose:function(){ut=new WeakMap}}},mn=new Ai(ln,Ye,Wt,ue),_n=new function(ut,Lt,Pt,Zt){var an,tr=Zt.isWebGL2;this.setMode=function(nr){an=nr},this.render=function(nr,Jn){ut.drawArrays(an,nr,Jn),Pt.update(Jn,an)},this.renderInstances=function(nr,Jn,rr,An){if(An!==0){var Hn,Br;if(tr)Hn=ut,Br="drawArraysInstanced";else if(Br="drawArraysInstancedANGLE",(Hn=Lt.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");Hn[Br](an,Jn,rr,An),Pt.update(rr,an,An)}}}(be,He,pt,Je),Vn=new function(ut,Lt,Pt,Zt){var an,tr,nr,Jn=Zt.isWebGL2;this.setMode=function(rr){an=rr},this.setIndex=function(rr){tr=rr.type,nr=rr.bytesPerElement},this.render=function(rr,An){ut.drawElements(an,An,tr,rr*nr),Pt.update(An,an)},this.renderInstances=function(rr,An,Hn,Br){if(Br!==0){var Pr,Zn;if(Jn)Pr=ut,Zn="drawElementsInstanced";else if(Zn="drawElementsInstancedANGLE",(Pr=Lt.get("ANGLE_instanced_arrays"))===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");Pr[Zn](an,Hn,tr,An*nr,Br),Pt.update(Hn,an,Br)}}}(be,He,pt,Je),pt.programs=Tt.programs,ln.capabilities=Je,ln.extensions=He,ln.properties=yt,ln.renderLists=rn,ln.state=Ye,ln.info=pt}ha();var Yi=new Jc(ln,be);this.xr=Yi;var aa=new function(ut,Lt){var Pt,Zt,an,tr,nr,Jn,rr,An=ut.extensions,Hn=ut.properties,Br=0;function Pr(Zn){return Zn.isArrayCamera?Zn.cameras:(nr[0]=Zn,nr)}this.isAvailable=function(){if(rr===void 0){var Zn=An.get("OVR_multiview2");if(rr=Zn!==null&&Lt.getContextAttributes().antialias===!1){Br=Lt.getParameter(Zn.MAX_VIEWS_OVR),Pt=new $c(0,0,2),Jn=new Bn,tr=[],an=[],nr=[];for(var qn=0;qn<Br;qn++)tr[qn]=new ri,an[qn]=new go}}return rr},this.attachCamera=function(Zn){(function(qn){if(qn.isArrayCamera===void 0)return!0;var Nr=qn.cameras;if(Nr.length>Br)return!1;for(var Xr=1,ci=Nr.length;Xr<ci;Xr++)if(Nr[0].viewport.z!==Nr[Xr].viewport.z||Nr[0].viewport.w!==Nr[Xr].viewport.w)return!1;return!0})(Zn)!==!1&&(Zt=ut.getRenderTarget(),function(qn){if(Zt?Jn.set(Zt.width,Zt.height):ut.getDrawingBufferSize(Jn),qn.isArrayCamera){var Nr=qn.cameras[0].viewport;Pt.setSize(Nr.z,Nr.w),Pt.setNumViews(qn.cameras.length)}else Pt.setSize(Jn.x,Jn.y),Pt.setNumViews(2)}(Zn),ut.setRenderTarget(Pt))},this.detachCamera=function(Zn){Pt===ut.getRenderTarget()&&(ut.setRenderTarget(Zt),function(qn){var Nr=Pt,Xr=Nr.numViews,ci=Hn.get(Nr).__webglViewFramebuffers,so=Nr.width,Si=Nr.height;if(qn.isArrayCamera)for(var Ua=0;Ua<Xr;Ua++){var il=qn.cameras[Ua].viewport,ol=il.x,lc=il.y,ws=ol+il.z,Go=lc+il.w;Lt.bindFramebuffer(36008,ci[Ua]),Lt.blitFramebuffer(0,0,so,Si,ol,lc,ws,Go,16384,9728)}else Lt.bindFramebuffer(36008,ci[0]),Lt.blitFramebuffer(0,0,so,Si,0,0,Jn.x,Jn.y,16384,9728)}(Zn))},this.updateCameraProjectionMatricesUniform=function(Zn,qn){for(var Nr=Pr(Zn),Xr=0;Xr<Nr.length;Xr++)tr[Xr].copy(Nr[Xr].projectionMatrix);qn.setValue(Lt,"projectionMatrices",tr)},this.updateCameraViewMatricesUniform=function(Zn,qn){for(var Nr=Pr(Zn),Xr=0;Xr<Nr.length;Xr++)tr[Xr].copy(Nr[Xr].matrixWorldInverse);qn.setValue(Lt,"viewMatrices",tr)},this.updateObjectMatricesUniforms=function(Zn,qn,Nr){for(var Xr=Pr(qn),ci=0;ci<Xr.length;ci++)tr[ci].multiplyMatrices(Xr[ci].matrixWorldInverse,Zn.matrixWorld),an[ci].getNormalMatrix(tr[ci]);Nr.setValue(Lt,"modelViewMatrices",tr),Nr.setValue(Lt,"normalMatrices",an)}}(ln,be),hs=new rh(ln,Wt,Je.maxTextureSize);function bs(ut){ut.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Kn=!0}function ml(){console.log("THREE.WebGLRenderer: Context Restored."),Kn=!1,ha()}function Pl(ut){var Lt,Pt=ut.target;Pt.removeEventListener("dispose",Pl),Sd(Lt=Pt),yt.remove(Lt)}function Sd(ut){var Lt=yt.get(ut).program;(ut.program=void 0)!==Lt&&Tt.releaseProgram(Lt)}this.shadowMap=hs,this.getContext=function(){return be},this.getContextAttributes=function(){return be.getContextAttributes()},this.forceContextLoss=function(){var ut=He.get("WEBGL_lose_context");ut&&ut.loseContext()},this.forceContextRestore=function(){var ut=He.get("WEBGL_lose_context");ut&&ut.restoreContext()},this.getPixelRatio=function(){return ti},this.setPixelRatio=function(ut){ut!==void 0&&(ti=ut,this.setSize(fn,gr,!1))},this.getSize=function(ut){return ut===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),ut=new Bn),ut.set(fn,gr)},this.setSize=function(ut,Lt,Pt){Yi.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(fn=ut,gr=Lt,o.width=Math.floor(ut*ti),o.height=Math.floor(Lt*ti),Pt!==!1&&(o.style.width=ut+"px",o.style.height=Lt+"px"),this.setViewport(0,0,ut,Lt))},this.getDrawingBufferSize=function(ut){return ut===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),ut=new Bn),ut.set(fn*ti,gr*ti).floor()},this.setDrawingBufferSize=function(ut,Lt,Pt){fn=ut,gr=Lt,ti=Pt,o.width=Math.floor(ut*Pt),o.height=Math.floor(Lt*Pt),this.setViewport(0,0,ut,Lt)},this.getCurrentViewport=function(ut){return ut===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),ut=new Pi),ut.copy(Pn)},this.getViewport=function(ut){return ut.copy(ur)},this.setViewport=function(ut,Lt,Pt,Zt){ut.isVector4?ur.set(ut.x,ut.y,ut.z,ut.w):ur.set(ut,Lt,Pt,Zt),Ye.viewport(Pn.copy(ur).multiplyScalar(ti).floor())},this.getScissor=function(ut){return ut.copy(Jr)},this.setScissor=function(ut,Lt,Pt,Zt){ut.isVector4?Jr.set(ut.x,ut.y,ut.z,ut.w):Jr.set(ut,Lt,Pt,Zt),Ye.scissor($r.copy(Jr).multiplyScalar(ti).floor())},this.getScissorTest=function(){return Xn},this.setScissorTest=function(ut){Ye.setScissorTest(Xn=ut)},this.setOpaqueSort=function(ut){Kt=ut},this.setTransparentSort=function(ut){cr=ut},this.getClearColor=function(){return mn.getClearColor()},this.setClearColor=function(){mn.setClearColor.apply(mn,arguments)},this.getClearAlpha=function(){return mn.getClearAlpha()},this.setClearAlpha=function(){mn.setClearAlpha.apply(mn,arguments)},this.clear=function(ut,Lt,Pt){var Zt=0;ut!==void 0&&!ut||(Zt|=16384),Lt!==void 0&&!Lt||(Zt|=256),Pt!==void 0&&!Pt||(Zt|=1024),be.clear(Zt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",bs,!1),o.removeEventListener("webglcontextrestored",ml,!1),rn.dispose(),hn.dispose(),yt.dispose(),Wt.dispose(),Yi.dispose(),Lu.stop()},this.renderBufferImmediate=function(ut,Lt){Ye.initAttributes();var Pt=yt.get(ut);ut.hasPositions&&!Pt.position&&(Pt.position=be.createBuffer()),ut.hasNormals&&!Pt.normal&&(Pt.normal=be.createBuffer()),ut.hasUvs&&!Pt.uv&&(Pt.uv=be.createBuffer()),ut.hasColors&&!Pt.color&&(Pt.color=be.createBuffer());var Zt=Lt.getAttributes();ut.hasPositions&&(be.bindBuffer(34962,Pt.position),be.bufferData(34962,ut.positionArray,35048),Ye.enableAttribute(Zt.position),be.vertexAttribPointer(Zt.position,3,5126,!1,0,0)),ut.hasNormals&&(be.bindBuffer(34962,Pt.normal),be.bufferData(34962,ut.normalArray,35048),Ye.enableAttribute(Zt.normal),be.vertexAttribPointer(Zt.normal,3,5126,!1,0,0)),ut.hasUvs&&(be.bindBuffer(34962,Pt.uv),be.bufferData(34962,ut.uvArray,35048),Ye.enableAttribute(Zt.uv),be.vertexAttribPointer(Zt.uv,2,5126,!1,0,0)),ut.hasColors&&(be.bindBuffer(34962,Pt.color),be.bufferData(34962,ut.colorArray,35048),Ye.enableAttribute(Zt.color),be.vertexAttribPointer(Zt.color,3,5126,!1,0,0)),Ye.disableUnusedAttributes(),be.drawArrays(4,0,ut.count),ut.count=0};var uf=new er;this.renderBufferDirect=function(ut,Lt,Pt,Zt,an,tr){Lt===null&&(Lt=uf);var nr=an.isMesh&&an.matrixWorld.determinant()<0,Jn=fh(ut,Lt,Zt,an);Ye.setMaterial(Zt,nr);var rr=!1;wt.geometry===Pt.id&&wt.program===Jn.id&&wt.wireframe===(Zt.wireframe===!0)||(wt.geometry=Pt.id,wt.program=Jn.id,wt.wireframe=Zt.wireframe===!0,rr=!0),(Zt.morphTargets||Zt.morphNormals)&&(gn.update(an,Pt,Zt,Jn),rr=!0);var An=Pt.index,Hn=Pt.attributes.position;if(An===null){if(Hn===void 0||Hn.count===0)return}else if(An.count===0)return;var Br,Pr=1;Zt.wireframe===!0&&(An=_t.getWireframeAttribute(Pt),Pr=2);var Zn=_n;An!==null&&((Br=Vt.get(An))?(Zn=Vn).setIndex(Br):(console.log("mx attribute == null"),An=null)),rr&&(function(lc,ws,Go,Zi){if(Je.isWebGL2!==!1||!lc.isInstancedMesh&&!ws.isInstancedBufferGeometry||He.get("ANGLE_instanced_arrays")!==null){Ye.initAttributes();var vp=ws.attributes,Us=Zi.getAttributes(),yp=Go.defaultAttributeValues;for(var Ts in Us){var Ko=Us[Ts];if(0<=Ko){var Gs=vp[Ts];if(Gs!==void 0){var Qn=Gs.normalized,Rn=Gs.itemSize;if((ju=Vt.get(Gs))===void 0)continue;var wa=ju.buffer,Vu=ju.type,Zf=ju.bytesPerElement;if(Gs.isInterleavedBufferAttribute){var Pd=Gs.data,pm=Pd.stride,fm=Gs.offset;Pd&&Pd.isInstancedInterleavedBuffer?(Ye.enableAttributeAndDivisor(Ko,Pd.meshPerAttribute),ws.maxInstancedCount===void 0&&(ws.maxInstancedCount=Pd.meshPerAttribute*Pd.count)):Ye.enableAttribute(Ko),be.bindBuffer(34962,wa),be.vertexAttribPointer(Ko,Rn,Vu,Qn,pm*Zf,fm*Zf)}else Gs.isInstancedBufferAttribute?(Ye.enableAttributeAndDivisor(Ko,Gs.meshPerAttribute),ws.maxInstancedCount===void 0&&(ws.maxInstancedCount=Gs.meshPerAttribute*Gs.count)):Ye.enableAttribute(Ko),be.bindBuffer(34962,wa),be.vertexAttribPointer(Ko,Rn,Vu,Qn,0,0)}else if(Ts==="instanceMatrix"){var ju;if((ju=Vt.get(lc.instanceMatrix))===void 0)continue;wa=ju.buffer,Vu=ju.type,Ye.enableAttributeAndDivisor(Ko+0,1),Ye.enableAttributeAndDivisor(Ko+1,1),Ye.enableAttributeAndDivisor(Ko+2,1),Ye.enableAttributeAndDivisor(Ko+3,1),be.bindBuffer(34962,wa),be.vertexAttribPointer(Ko+0,4,Vu,!1,64,0),be.vertexAttribPointer(Ko+1,4,Vu,!1,64,16),be.vertexAttribPointer(Ko+2,4,Vu,!1,64,32),be.vertexAttribPointer(Ko+3,4,Vu,!1,64,48)}else if(yp!==void 0){var Od=yp[Ts];if(Od!==void 0)switch(Od.length){case 2:be.vertexAttrib2fv(Ko,Od);break;case 3:be.vertexAttrib3fv(Ko,Od);break;case 4:be.vertexAttrib4fv(Ko,Od);break;default:be.vertexAttrib1fv(Ko,Od)}}}}Ye.disableUnusedAttributes()}}(an,Pt,Zt,Jn),An!==null&&be.bindBuffer(34963,Br.buffer));var qn=An!==null?An.count:Hn.count,Nr=Pt.drawRange.start*Pr,Xr=Pt.drawRange.count*Pr,ci=tr!==null?tr.start*Pr:0,so=tr!==null?tr.count*Pr:1/0,Si=Math.max(Nr,ci),Ua=Math.min(qn,Nr+Xr,ci+so)-1,il=Math.max(0,Ua-Si+1);if(il!==0){if(an.isMesh)Zt.wireframe===!0?(Ye.setLineWidth(Zt.wireframeLinewidth*_i()),Zn.setMode(1)):Zn.setMode(4);else if(an.isLine){var ol=Zt.linewidth;ol===void 0&&(ol=1),Ye.setLineWidth(ol*_i()),an.isLineSegments?Zn.setMode(1):an.isLineLoop?Zn.setMode(2):Zn.setMode(3)}else an.isPoints?Zn.setMode(0):an.isSprite&&Zn.setMode(4);an.isInstancedMesh?Zn.renderInstances(Pt,Si,il,an.count):Pt.isInstancedBufferGeometry?Zn.renderInstances(Pt,Si,il,Pt.maxInstancedCount):Zn.render(Si,il)}},this.compile=function(ut,Lt){(Oe=hn.get(ut,Lt)).init(),ut.traverse(function(Zt){Zt.isLight&&(Oe.pushLight(Zt),Zt.castShadow&&Oe.pushShadow(Zt))}),Oe.setupLights(Lt);var Pt={};ut.traverse(function(Zt){if(Zt.material)if(Array.isArray(Zt.material))for(var an=0;an<Zt.material.length;an++)Zt.material[an].uuid in Pt==0&&(Nu(Zt.material[an],ut,Zt),Pt[Zt.material[an].uuid]=!0);else Zt.material.uuid in Pt==0&&(Nu(Zt.material,ut,Zt),Pt[Zt.material.uuid]=!0)})};var Td=null,Lu=new kd;function Iu(ut,Lt,Pt,Zt){for(var an=0,tr=ut.length;an<tr;an++){var nr=ut[an],Jn=nr.object,rr=nr.geometry,An=Zt===void 0?nr.material:Zt,Hn=nr.group;if(Pt.isArrayCamera)if(Nn=Pt,Yi.enabled&&aa.isAvailable())ku(Jn,Lt,Pt,rr,An,Hn);else for(var Br=Pt.cameras,Pr=0,Zn=Br.length;Pr<Zn;Pr++){var qn=Br[Pr];Jn.layers.test(qn.layers)&&(Ye.viewport(Pn.copy(qn.viewport)),Oe.setupLights(qn),ku(Jn,Lt,qn,rr,An,Hn))}else Nn=null,ku(Jn,Lt,Pt,rr,An,Hn)}}function ku(ut,Lt,Pt,Zt,an,tr){if(ut.onBeforeRender(ln,Lt,Pt,Zt,an,tr),Oe=hn.get(Lt,Nn||Pt),ut.modelViewMatrix.multiplyMatrices(Pt.matrixWorldInverse,ut.matrixWorld),ut.normalMatrix.getNormalMatrix(ut.modelViewMatrix),ut.isImmediateRenderObject){var nr=fh(Pt,Lt,an,ut);Ye.setMaterial(an),wt.geometry=null,wt.program=null,wt.wireframe=!1,Jn=nr,ut.render(function(rr){ln.renderBufferImmediate(rr,Jn)})}else ln.renderBufferDirect(Pt,Lt,Zt,an,ut,tr);var Jn;ut.onAfterRender(ln,Lt,Pt,Zt,an,tr),Oe=hn.get(Lt,Nn||Pt)}function Nu(ut,Lt,Pt){var Zt=yt.get(ut),an=Oe.state.lights,tr=Oe.state.shadowsArray,nr=an.state.version,Jn=Tt.getParameters(ut,an.state,tr,Lt,bi.numPlanes,bi.numIntersection,Pt),rr=Tt.getProgramCacheKey(Jn),An=Zt.program,Hn=!0;if(An===void 0)ut.addEventListener("dispose",Pl);else if(An.cacheKey!==rr)Sd(ut);else if(Zt.lightsStateVersion!==nr)Zt.lightsStateVersion=nr,Hn=!1;else{if(Jn.shaderID!==void 0)return;Hn=!1}Hn&&(An=Tt.acquireProgram(Jn,rr),Zt.program=An,Zt.uniforms=Jn.uniforms,Zt.environment=ut.isMeshStandardMaterial?Lt.environment:null,Zt.outputEncoding=ln.outputEncoding,ut.program=An);var Br=An.getAttributes();if(ut.morphTargets)for(var Pr=ut.numSupportedMorphTargets=0;Pr<ln.maxMorphTargets;Pr++)0<=Br["morphTarget"+Pr]&&ut.numSupportedMorphTargets++;if(ut.morphNormals)for(Pr=ut.numSupportedMorphNormals=0;Pr<ln.maxMorphNormals;Pr++)0<=Br["morphNormal"+Pr]&&ut.numSupportedMorphNormals++;var Zn,qn=Zt.uniforms;(ut.isShaderMaterial||ut.isRawShaderMaterial)&&ut.clipping!==!0||(Zt.numClippingPlanes=bi.numPlanes,Zt.numIntersection=bi.numIntersection,qn.clippingPlanes=bi.uniform),Zt.fog=Lt.fog,Zt.needsLights=(Zn=ut).isMeshLambertMaterial||Zn.isMeshToonMaterial||Zn.isMeshPhongMaterial||Zn.isMeshStandardMaterial||Zn.isShadowMaterial||Zn.isShaderMaterial&&Zn.lights===!0,Zt.lightsStateVersion=nr,Zt.needsLights&&(qn.ambientLightColor.value=an.state.ambient,qn.lightProbe.value=an.state.probe,qn.directionalLights.value=an.state.directional,qn.spotLights.value=an.state.spot,qn.rectAreaLights.value=an.state.rectArea,qn.pointLights.value=an.state.point,qn.hemisphereLights.value=an.state.hemi,qn.directionalShadowMap.value=an.state.directionalShadowMap,qn.directionalShadowMatrix.value=an.state.directionalShadowMatrix,qn.spotShadowMap.value=an.state.spotShadowMap,qn.spotShadowMatrix.value=an.state.spotShadowMatrix,qn.pointShadowMap.value=an.state.pointShadowMap,qn.pointShadowMatrix.value=an.state.pointShadowMatrix);var Nr=Zt.program.getUniforms(),Xr=dl.seqWithValue(Nr.seq,qn);Zt.uniformsList=Xr}function fh(ut,Lt,Pt,Zt){Bt.resetTextureUnits();var an=Lt.fog,tr=Pt.isMeshStandardMaterial?Lt.environment:null,nr=yt.get(Pt),Jn=Oe.state.lights;if(Ao&&(Ds||ut!==Ht)){var rr=ut===Ht&&Pt.id===dr;bi.setState(Pt.clippingPlanes,Pt.clipIntersection,Pt.clipShadows,ut,nr,rr)}Pt.version===nr.__version?(nr.program===void 0||Pt.fog&&nr.fog!==an||nr.environment!==tr||nr.needsLights&&nr.lightsStateVersion!==Jn.state.version||nr.numClippingPlanes!==void 0&&(nr.numClippingPlanes!==bi.numPlanes||nr.numIntersection!==bi.numIntersection)||nr.outputEncoding!==ln.outputEncoding)&&Nu(Pt,Lt,Zt):(yt.update(Pt,"uniforms",Pt.uniforms),Nu(Pt,Lt,Zt),nr.__version=Pt.version);var An,Hn,Br,Pr,Zn,qn,Nr,Xr,ci,so,Si,Ua,il=!1,ol=!1,lc=!1,ws=nr.program,Go=ws.getUniforms(),Zi=nr.uniforms;if(Ye.useProgram(ws.program)&&(lc=ol=il=!0),Pt.id!==dr&&(dr=Pt.id,ol=!0),il||Ht!==ut){if(0<ws.numMultiviewViews?aa.updateCameraProjectionMatricesUniform(ut,Go):Go.setValue(be,"projectionMatrix",ut.projectionMatrix),Je.logarithmicDepthBuffer&&Go.setValue(be,"logDepthBufFC",2/(Math.log(ut.far+1)/Math.LN2)),Ht!==ut&&(Ht=ut,lc=ol=!0),Pt.isShaderMaterial||Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshStandardMaterial||Pt.envMap){var vp=Go.map.cameraPosition;vp!==void 0&&vp.setValue(be,ko.setFromMatrixPosition(ut.matrixWorld))}(Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshLambertMaterial||Pt.isMeshBasicMaterial||Pt.isMeshStandardMaterial||Pt.isShaderMaterial)&&Go.setValue(be,"isOrthographic",ut.isOrthographicCamera===!0),(Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshLambertMaterial||Pt.isMeshBasicMaterial||Pt.isMeshStandardMaterial||Pt.isShaderMaterial||Pt.skinning)&&(0<ws.numMultiviewViews?aa.updateCameraViewMatricesUniform(ut,Go):Go.setValue(be,"viewMatrix",ut.matrixWorldInverse))}if(Pt.skinning){Go.setOptional(be,Zt,"bindMatrix"),Go.setOptional(be,Zt,"bindMatrixInverse");var Us=Zt.skeleton;if(Us){var yp=Us.bones;if(Je.floatVertexTextures){if(Us.boneTexture===void 0){var Ts=Math.sqrt(4*yp.length);Ts=ai.ceilPowerOfTwo(Ts),Ts=Math.max(Ts,4);var Ko=new Float32Array(Ts*Ts*4);Ko.set(Us.boneMatrices);var Gs=new pc(Ko,Ts,Ts,Ki,Dn);Us.boneMatrices=Ko,Us.boneTexture=Gs,Us.boneTextureSize=Ts}Go.setValue(be,"boneTexture",Us.boneTexture,Bt),Go.setValue(be,"boneTextureSize",Us.boneTextureSize)}else Go.setOptional(be,Us,"boneMatrices")}}return!ol&&nr.receiveShadow===Zt.receiveShadow||(nr.receiveShadow=Zt.receiveShadow,Go.setValue(be,"receiveShadow",Zt.receiveShadow)),ol&&(Go.setValue(be,"toneMappingExposure",ln.toneMappingExposure),Go.setValue(be,"toneMappingWhitePoint",ln.toneMappingWhitePoint),nr.needsLights&&(Ua=lc,(Si=Zi).ambientLightColor.needsUpdate=Ua,Si.lightProbe.needsUpdate=Ua,Si.directionalLights.needsUpdate=Ua,Si.pointLights.needsUpdate=Ua,Si.spotLights.needsUpdate=Ua,Si.rectAreaLights.needsUpdate=Ua,Si.hemisphereLights.needsUpdate=Ua),an&&Pt.fog&&(so=an,(ci=Zi).fogColor.value.copy(so.color),so.isFog?(ci.fogNear.value=so.near,ci.fogFar.value=so.far):so.isFogExp2&&(ci.fogDensity.value=so.density)),Pt.isMeshBasicMaterial?Ss(Zi,Pt):Pt.isMeshLambertMaterial?(Ss(Zi,Pt),Nr=Zi,(Xr=Pt).emissiveMap&&(Nr.emissiveMap.value=Xr.emissiveMap)):Pt.isMeshToonMaterial?(Ss(Zi,Pt),function(Qn,Rn){Qn.specular.value.copy(Rn.specular),Qn.shininess.value=Math.max(Rn.shininess,1e-4),Rn.gradientMap&&(Qn.gradientMap.value=Rn.gradientMap),Rn.emissiveMap&&(Qn.emissiveMap.value=Rn.emissiveMap),Rn.bumpMap&&(Qn.bumpMap.value=Rn.bumpMap,Qn.bumpScale.value=Rn.bumpScale,Rn.side===S&&(Qn.bumpScale.value*=-1)),Rn.normalMap&&(Qn.normalMap.value=Rn.normalMap,Qn.normalScale.value.copy(Rn.normalScale),Rn.side===S&&Qn.normalScale.value.negate()),Rn.displacementMap&&(Qn.displacementMap.value=Rn.displacementMap,Qn.displacementScale.value=Rn.displacementScale,Qn.displacementBias.value=Rn.displacementBias)}(Zi,Pt)):Pt.isMeshPhongMaterial?(Ss(Zi,Pt),function(Qn,Rn){Qn.specular.value.copy(Rn.specular),Qn.shininess.value=Math.max(Rn.shininess,1e-4),Rn.emissiveMap&&(Qn.emissiveMap.value=Rn.emissiveMap),Rn.bumpMap&&(Qn.bumpMap.value=Rn.bumpMap,Qn.bumpScale.value=Rn.bumpScale,Rn.side===S&&(Qn.bumpScale.value*=-1)),Rn.normalMap&&(Qn.normalMap.value=Rn.normalMap,Qn.normalScale.value.copy(Rn.normalScale),Rn.side===S&&Qn.normalScale.value.negate()),Rn.displacementMap&&(Qn.displacementMap.value=Rn.displacementMap,Qn.displacementScale.value=Rn.displacementScale,Qn.displacementBias.value=Rn.displacementBias)}(Zi,Pt)):Pt.isMeshStandardMaterial?(Ss(Zi,Pt,tr),(Pt.isMeshPhysicalMaterial?function(Qn,Rn,wa){Yf(Qn,Rn,wa),Qn.reflectivity.value=Rn.reflectivity,Qn.clearcoat.value=Rn.clearcoat,Qn.clearcoatRoughness.value=Rn.clearcoatRoughness,Rn.sheen&&Qn.sheen.value.copy(Rn.sheen),Rn.clearcoatNormalMap&&(Qn.clearcoatNormalScale.value.copy(Rn.clearcoatNormalScale),Qn.clearcoatNormalMap.value=Rn.clearcoatNormalMap,Rn.side===S&&Qn.clearcoatNormalScale.value.negate()),Qn.transparency.value=Rn.transparency}:Yf)(Zi,Pt,tr)):Pt.isMeshMatcapMaterial?(Ss(Zi,Pt),function(Qn,Rn){Rn.matcap&&(Qn.matcap.value=Rn.matcap),Rn.bumpMap&&(Qn.bumpMap.value=Rn.bumpMap,Qn.bumpScale.value=Rn.bumpScale,Rn.side===S&&(Qn.bumpScale.value*=-1)),Rn.normalMap&&(Qn.normalMap.value=Rn.normalMap,Qn.normalScale.value.copy(Rn.normalScale),Rn.side===S&&Qn.normalScale.value.negate()),Rn.displacementMap&&(Qn.displacementMap.value=Rn.displacementMap,Qn.displacementScale.value=Rn.displacementScale,Qn.displacementBias.value=Rn.displacementBias)}(Zi,Pt)):Pt.isMeshDepthMaterial?(Ss(Zi,Pt),Zn=Zi,(qn=Pt).displacementMap&&(Zn.displacementMap.value=qn.displacementMap,Zn.displacementScale.value=qn.displacementScale,Zn.displacementBias.value=qn.displacementBias)):Pt.isMeshDistanceMaterial?(Ss(Zi,Pt),function(Qn,Rn){Rn.displacementMap&&(Qn.displacementMap.value=Rn.displacementMap,Qn.displacementScale.value=Rn.displacementScale,Qn.displacementBias.value=Rn.displacementBias),Qn.referencePosition.value.copy(Rn.referencePosition),Qn.nearDistance.value=Rn.nearDistance,Qn.farDistance.value=Rn.farDistance}(Zi,Pt)):Pt.isMeshNormalMaterial?(Ss(Zi,Pt),function(Qn,Rn){Rn.bumpMap&&(Qn.bumpMap.value=Rn.bumpMap,Qn.bumpScale.value=Rn.bumpScale,Rn.side===S&&(Qn.bumpScale.value*=-1)),Rn.normalMap&&(Qn.normalMap.value=Rn.normalMap,Qn.normalScale.value.copy(Rn.normalScale),Rn.side===S&&Qn.normalScale.value.negate()),Rn.displacementMap&&(Qn.displacementMap.value=Rn.displacementMap,Qn.displacementScale.value=Rn.displacementScale,Qn.displacementBias.value=Rn.displacementBias)}(Zi,Pt)):Pt.isLineBasicMaterial?(Pr=Pt,(Br=Zi).diffuse.value.copy(Pr.color),Br.opacity.value=Pr.opacity,Pt.isLineDashedMaterial&&(Hn=Pt,(An=Zi).dashSize.value=Hn.dashSize,An.totalSize.value=Hn.dashSize+Hn.gapSize,An.scale.value=Hn.scale)):Pt.isPointsMaterial?function(Qn,Rn){var wa;Qn.diffuse.value.copy(Rn.color),Qn.opacity.value=Rn.opacity,Qn.size.value=Rn.size*ti,Qn.scale.value=.5*gr,Rn.map&&(Qn.map.value=Rn.map),Rn.alphaMap&&(Qn.alphaMap.value=Rn.alphaMap),Rn.map?wa=Rn.map:Rn.alphaMap&&(wa=Rn.alphaMap),wa!==void 0&&(wa.matrixAutoUpdate===!0&&wa.updateMatrix(),Qn.uvTransform.value.copy(wa.matrix))}(Zi,Pt):Pt.isSpriteMaterial?function(Qn,Rn){var wa;Qn.diffuse.value.copy(Rn.color),Qn.opacity.value=Rn.opacity,Qn.rotation.value=Rn.rotation,Rn.map&&(Qn.map.value=Rn.map),Rn.alphaMap&&(Qn.alphaMap.value=Rn.alphaMap),Rn.map?wa=Rn.map:Rn.alphaMap&&(wa=Rn.alphaMap),wa!==void 0&&(wa.matrixAutoUpdate===!0&&wa.updateMatrix(),Qn.uvTransform.value.copy(wa.matrix))}(Zi,Pt):Pt.isShadowMaterial&&(Zi.color.value.copy(Pt.color),Zi.opacity.value=Pt.opacity),Zi.ltc_1!==void 0&&(Zi.ltc_1.value=or.LTC_1),Zi.ltc_2!==void 0&&(Zi.ltc_2.value=or.LTC_2),dl.upload(be,nr.uniformsList,Zi,Bt),Pt.isShaderMaterial&&(Pt.uniformsNeedUpdate=!1)),Pt.isShaderMaterial&&Pt.uniformsNeedUpdate===!0&&(dl.upload(be,nr.uniformsList,Zi,Bt),Pt.uniformsNeedUpdate=!1),Pt.isSpriteMaterial&&Go.setValue(be,"center",Zt.center),0<ws.numMultiviewViews?aa.updateObjectMatricesUniforms(Zt,ut,Go):(Go.setValue(be,"modelViewMatrix",Zt.modelViewMatrix),Go.setValue(be,"normalMatrix",Zt.normalMatrix)),Go.setValue(be,"modelMatrix",Zt.matrixWorld),ws}function Ss(ut,Lt,Pt){ut.opacity.value=Lt.opacity,Lt.color&&ut.diffuse.value.copy(Lt.color),Lt.emissive&&ut.emissive.value.copy(Lt.emissive).multiplyScalar(Lt.emissiveIntensity),Lt.map&&(ut.map.value=Lt.map),Lt.alphaMap&&(ut.alphaMap.value=Lt.alphaMap),Lt.specularMap&&(ut.specularMap.value=Lt.specularMap);var Zt,an,tr=Lt.envMap||Pt;tr&&(ut.envMap.value=tr,ut.flipEnvMap.value=tr.isCubeTexture?-1:1,ut.reflectivity.value=Lt.reflectivity,ut.refractionRatio.value=Lt.refractionRatio,ut.maxMipLevel.value=yt.get(tr).__maxMipLevel),Lt.lightMap&&(ut.lightMap.value=Lt.lightMap,ut.lightMapIntensity.value=Lt.lightMapIntensity),Lt.aoMap&&(ut.aoMap.value=Lt.aoMap,ut.aoMapIntensity.value=Lt.aoMapIntensity),Lt.map?Zt=Lt.map:Lt.specularMap?Zt=Lt.specularMap:Lt.displacementMap?Zt=Lt.displacementMap:Lt.normalMap?Zt=Lt.normalMap:Lt.bumpMap?Zt=Lt.bumpMap:Lt.roughnessMap?Zt=Lt.roughnessMap:Lt.metalnessMap?Zt=Lt.metalnessMap:Lt.alphaMap?Zt=Lt.alphaMap:Lt.emissiveMap&&(Zt=Lt.emissiveMap),Zt!==void 0&&(Zt.isWebGLRenderTarget&&(Zt=Zt.texture),Zt.matrixAutoUpdate===!0&&Zt.updateMatrix(),ut.uvTransform.value.copy(Zt.matrix)),Lt.aoMap?an=Lt.aoMap:Lt.lightMap&&(an=Lt.lightMap),an!==void 0&&(an.isWebGLRenderTarget&&(an=an.texture),an.matrixAutoUpdate===!0&&an.updateMatrix(),ut.uv2Transform.value.copy(an.matrix))}function Yf(ut,Lt,Pt){ut.roughness.value=Lt.roughness,ut.metalness.value=Lt.metalness,Lt.roughnessMap&&(ut.roughnessMap.value=Lt.roughnessMap),Lt.metalnessMap&&(ut.metalnessMap.value=Lt.metalnessMap),Lt.emissiveMap&&(ut.emissiveMap.value=Lt.emissiveMap),Lt.bumpMap&&(ut.bumpMap.value=Lt.bumpMap,ut.bumpScale.value=Lt.bumpScale,Lt.side===S&&(ut.bumpScale.value*=-1)),Lt.normalMap&&(ut.normalMap.value=Lt.normalMap,ut.normalScale.value.copy(Lt.normalScale),Lt.side===S&&ut.normalScale.value.negate()),Lt.displacementMap&&(ut.displacementMap.value=Lt.displacementMap,ut.displacementScale.value=Lt.displacementScale,ut.displacementBias.value=Lt.displacementBias),(Lt.envMap||Pt)&&(ut.envMapIntensity.value=Lt.envMapIntensity)}Lu.setAnimationLoop(function(ut){Yi.isPresenting||Td&&Td(ut)}),typeof window<"u"&&Lu.setContext(window),this.setAnimationLoop=function(ut){Td=ut,Yi.setAnimationLoop(ut),Lu.start()},this.render=function(ut,Lt){var Pt,Zt;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Pt=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),Zt=arguments[3]),Lt&&Lt.isCamera){if(!Kn){wt.geometry=null,wt.program=null,wt.wireframe=!1,dr=-1,!(Ht=null)===ut.autoUpdate&&ut.updateMatrixWorld(),Lt.parent===null&&Lt.updateMatrixWorld(),Yi.enabled&&Yi.isPresenting&&(Lt=Yi.getCamera(Lt)),(Oe=hn.get(ut,Lt)).init(),ut.onBeforeRender(ln,ut,Lt,Pt||Sr),Fi.multiplyMatrices(Lt.projectionMatrix,Lt.matrixWorldInverse),mi.setFromProjectionMatrix(Fi),Ds=this.localClippingEnabled,Ao=bi.init(this.clippingPlanes,Ds,Lt),(Se=rn.get(ut,Lt)).init(),function rr(An,Hn,Br,Pr){if(An.visible!==!1){if(An.layers.test(Hn.layers)){if(An.isGroup)Br=An.renderOrder;else if(An.isLOD)An.autoUpdate===!0&&An.update(Hn);else if(An.isLight)Oe.pushLight(An),An.castShadow&&Oe.pushShadow(An);else if(An.isSprite){if(!An.frustumCulled||mi.intersectsSprite(An)){Pr&&ko.setFromMatrixPosition(An.matrixWorld).applyMatrix4(Fi);var Zn=Wt.update(An);(qn=An.material).visible&&Se.push(An,Zn,qn,Br,ko.z,null)}}else if(An.isImmediateRenderObject)Pr&&ko.setFromMatrixPosition(An.matrixWorld).applyMatrix4(Fi),Se.push(An,null,An.material,Br,ko.z,null);else if((An.isMesh||An.isLine||An.isPoints)&&(An.isSkinnedMesh&&An.skeleton.frame!==pt.render.frame&&(An.skeleton.update(),An.skeleton.frame=pt.render.frame),!An.frustumCulled||mi.intersectsObject(An))){Pr&&ko.setFromMatrixPosition(An.matrixWorld).applyMatrix4(Fi),Zn=Wt.update(An);var qn=An.material;if(Array.isArray(qn))for(var Nr=Zn.groups,Xr=0,ci=Nr.length;Xr<ci;Xr++){var so=Nr[Xr],Si=qn[so.materialIndex];Si&&Si.visible&&Se.push(An,Zn,Si,Br,ko.z,so)}else qn.visible&&Se.push(An,Zn,qn,Br,ko.z,null)}}var Ua=An.children;for(Xr=0,ci=Ua.length;Xr<ci;Xr++)rr(Ua[Xr],Hn,Br,Pr)}}(ut,Lt,0,ln.sortObjects),ln.sortObjects===!0&&Se.sort(Kt,cr),Ao&&bi.beginShadows();var an=Oe.state.shadowsArray;hs.render(an,ut,Lt),Oe.setupLights(Lt),Ao&&bi.endShadows(),this.info.autoReset&&this.info.reset(),Pt!==void 0&&this.setRenderTarget(Pt),Yi.enabled&&aa.isAvailable()&&aa.attachCamera(Lt),mn.render(Se,ut,Lt,Zt);var tr=Se.opaque,nr=Se.transparent;if(ut.overrideMaterial){var Jn=ut.overrideMaterial;tr.length&&Iu(tr,ut,Lt,Jn),nr.length&&Iu(nr,ut,Lt,Jn)}else tr.length&&Iu(tr,ut,Lt),nr.length&&Iu(nr,ut,Lt);ut.onAfterRender(ln,ut,Lt),Sr!==null&&(Bt.updateRenderTargetMipmap(Sr),Bt.updateMultisampleRenderTarget(Sr)),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1),Yi.enabled&&aa.isAvailable()&&aa.detachCamera(Lt),Oe=Se=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.mxRenderObject=function(ut,Lt,Pt,Zt,an){ku(ut,Lt,Pt,Wt.update(ut),Zt,an)},this.setFramebuffer=function(ut){lr!==ut&&Sr===null&&be.bindFramebuffer(36160,ut),lr=ut},this.getActiveCubeFace=function(){return kr},this.getActiveMipmapLevel=function(){return Or},this.getRenderTarget=function(){return Sr},this.setRenderTarget=function(ut,Lt,Pt){kr=Lt,Or=Pt,(Sr=ut)&&yt.get(ut).__webglFramebuffer===void 0&&Bt.setupRenderTarget(ut);var Zt=lr,an=!1;if(ut){var tr=yt.get(ut).__webglFramebuffer;ut.isWebGLCubeRenderTarget?(Zt=tr[Lt||0],an=!0):Zt=ut.isWebGLMultisampleRenderTarget?yt.get(ut).__webglMultisampledFramebuffer:tr,Pn.copy(ut.viewport),$r.copy(ut.scissor),fr=ut.scissorTest}else Pn.copy(ur).multiplyScalar(ti).floor(),$r.copy(Jr).multiplyScalar(ti).floor(),fr=Xn;if(ei!==Zt&&(be.bindFramebuffer(36160,Zt),ei=Zt),Ye.viewport(Pn),Ye.scissor($r),Ye.setScissorTest(fr),an){var nr=yt.get(ut.texture);be.framebufferTexture2D(36160,36064,34069+(Lt||0),nr.__webglTexture,Pt||0)}},this.readRenderTargetPixels=function(ut,Lt,Pt,Zt,an,tr,nr){if(ut&&ut.isWebGLRenderTarget){var Jn=yt.get(ut).__webglFramebuffer;if(ut.isWebGLCubeRenderTarget&&nr!==void 0&&(Jn=Jn[nr]),Jn){var rr=!1;Jn!==ei&&(be.bindFramebuffer(36160,Jn),rr=!0);try{var An=ut.texture,Hn=An.format,Br=An.type;if(Hn!==Ki&&pn.convert(Hn)!==be.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Br===Vr||pn.convert(Br)===be.getParameter(35738)||Br===Dn&&(Je.isWebGL2||He.get("OES_texture_float")||He.get("WEBGL_color_buffer_float"))||Br===ar&&(Je.isWebGL2?He.get("EXT_color_buffer_float"):He.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");be.checkFramebufferStatus(36160)===36053?0<=Lt&&Lt<=ut.width-Zt&&0<=Pt&&Pt<=ut.height-an&&be.readPixels(Lt,Pt,Zt,an,pn.convert(Hn),pn.convert(Br),tr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{rr&&be.bindFramebuffer(36160,ei)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(ut,Lt,Pt){Pt===void 0&&(Pt=0);var Zt=Math.pow(2,-Pt),an=Math.floor(Lt.image.width*Zt),tr=Math.floor(Lt.image.height*Zt),nr=pn.convert(Lt.format);Bt.setTexture2D(Lt,0),be.copyTexImage2D(3553,Pt,nr,ut.x,ut.y,an,tr,0),Ye.unbindTexture()},this.copyTextureToTexture=function(ut,Lt,Pt,Zt){var an=Lt.image.width,tr=Lt.image.height,nr=pn.convert(Pt.format),Jn=pn.convert(Pt.type);Bt.setTexture2D(Pt,0),Lt.isDataTexture?be.texSubImage2D(3553,Zt||0,ut.x,ut.y,an,tr,nr,Jn,Lt.image.data):be.texSubImage2D(3553,Zt||0,ut.x,ut.y,nr,Jn,Lt.image),Ye.unbindTexture()},this.initTexture=function(ut){Bt.setTexture2D(ut,0),Ye.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Cs(n,o){this.name="",this.color=new Ft(n),this.density=o!==void 0?o:25e-5}function Qs(n,o,u){this.name="",this.color=new Ft(n),this.near=o!==void 0?o:1,this.far=u!==void 0?u:1e3}function tl(n,o){this.array=n,this.stride=o,this.count=n!==void 0?n.length/o:0,this.usage=Ii,this.updateRange={offset:0,count:-1},this.version=0}$c.prototype=Object.assign(Object.create(Ro.prototype),{constructor:$c,isWebGLMultiviewRenderTarget:!0,copy:function(n){return Ro.prototype.copy.call(this,n),this.numViews=n.numViews,this},setNumViews:function(n){return this.numViews!==n&&(this.numViews=n,this.dispose()),this}}),qc.prototype=Object.assign(Object.create(zo.prototype),{constructor:qc,isArrayCamera:!0}),Ul.prototype=Object.assign(Object.create(qt.prototype),{constructor:Ul,isGroup:!0}),Object.assign(Jc.prototype,Fa.prototype),Object.assign(Cs.prototype,{isFogExp2:!0,clone:function(){return new Cs(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Qs.prototype,{isFog:!0,clone:function(){return new Qs(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(tl.prototype,"needsUpdate",{set:function(n){n===!0&&this.version++}}),Object.assign(tl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(n){return this.usage=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this},copyAt:function(n,o,u){n*=this.stride,u*=o.stride;for(var m=0,P=this.stride;m<P;m++)this.array[n+m]=o.array[u+m];return this},set:function(n,o){return o===void 0&&(o=0),this.array.set(n,o),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(n){return this.onUploadCallback=n,this}});var Cc,Gl=new mt;function Xc(n,o,u,m){this.data=n,this.itemSize=o,this.offset=u,this.normalized=m===!0}function Wl(n){En.call(this),this.type="SpriteMaterial",this.color=new Ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(n)}Object.defineProperties(Xc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Xc.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(n){for(var o=0,u=this.data.count;o<u;o++)Gl.x=this.getX(o),Gl.y=this.getY(o),Gl.z=this.getZ(o),Gl.applyMatrix4(n),this.setXYZ(o,Gl.x,Gl.y,Gl.z);return this},setX:function(n,o){return this.data.array[n*this.data.stride+this.offset]=o,this},setY:function(n,o){return this.data.array[n*this.data.stride+this.offset+1]=o,this},setZ:function(n,o){return this.data.array[n*this.data.stride+this.offset+2]=o,this},setW:function(n,o){return this.data.array[n*this.data.stride+this.offset+3]=o,this},getX:function(n){return this.data.array[n*this.data.stride+this.offset]},getY:function(n){return this.data.array[n*this.data.stride+this.offset+1]},getZ:function(n){return this.data.array[n*this.data.stride+this.offset+2]},getW:function(n){return this.data.array[n*this.data.stride+this.offset+3]},setXY:function(n,o,u){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this},setXYZ:function(n,o,u,m){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this.data.array[n+2]=m,this},setXYZW:function(n,o,u,m,P){return n=n*this.data.stride+this.offset,this.data.array[n+0]=o,this.data.array[n+1]=u,this.data.array[n+2]=m,this.data.array[n+3]=P,this}}),((Wl.prototype=Object.create(En.prototype)).constructor=Wl).prototype.isSpriteMaterial=!0,Wl.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this};var Ec=new mt,$l=new mt,ql=new mt,xc=new Bn,Yc=new Bn,Lh=new ri,Xa=new mt,Zc=new mt,Kc=new mt,Ih=new Bn,Qc=new Bn,kh=new Bn;function eu(n){if(qt.call(this),this.type="Sprite",Cc===void 0){Cc=new dn;var o=new tl(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Cc.setIndex([0,1,2,0,2,3]),Cc.setAttribute("position",new Xc(o,3,0,!1)),Cc.setAttribute("uv",new Xc(o,2,3,!1))}this.geometry=Cc,this.material=n!==void 0?n:new Wl,this.center=new Bn(.5,.5)}function td(n,o,u,m,P,z){xc.subVectors(n,u).addScalar(.5).multiply(m),P!==void 0?(Yc.x=z*xc.x-P*xc.y,Yc.y=P*xc.x+z*xc.y):Yc.copy(xc),n.copy(o),n.x+=Yc.x,n.y+=Yc.y,n.applyMatrix4(Lh)}eu.prototype=Object.assign(Object.create(qt.prototype),{constructor:eu,isSprite:!0,raycast:function(n,o){n.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$l.setFromMatrixScale(this.matrixWorld),Lh.copy(n.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(n.camera.matrixWorldInverse,this.matrixWorld),ql.setFromMatrixPosition(this.modelViewMatrix),n.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$l.multiplyScalar(-ql.z);var u,m,P=this.material.rotation;P!==0&&(m=Math.cos(P),u=Math.sin(P));var z=this.center;td(Xa.set(-.5,-.5,0),ql,z,$l,u,m),td(Zc.set(.5,-.5,0),ql,z,$l,u,m),td(Kc.set(.5,.5,0),ql,z,$l,u,m),Ih.set(0,0),Qc.set(1,0),kh.set(1,1);var re=n.ray.intersectTriangle(Xa,Zc,Kc,!1,Ec);if(re!==null||(td(Zc.set(-.5,.5,0),ql,z,$l,u,m),Qc.set(0,1),(re=n.ray.intersectTriangle(Xa,Kc,Zc,!1,Ec))!==null)){var ue=n.ray.origin.distanceTo(Ec);ue<n.near||ue>n.far||o.push({distance:ue,point:Ec.clone(),uv:Fo.getUV(Ec,Xa,Zc,Kc,Ih,Qc,kh,new Bn),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(n){return qt.prototype.copy.call(this,n),n.center!==void 0&&this.center.copy(n.center),this}});var Dc=new mt,oh=new mt;function tu(){qt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function nu(n,o){n&&n.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),So.call(this,n,o),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ri,this.bindMatrixInverse=new ri}tu.prototype=Object.assign(Object.create(qt.prototype),{constructor:tu,isLOD:!0,copy:function(n){qt.prototype.copy.call(this,n,!1);for(var o=n.levels,u=0,m=o.length;u<m;u++){var P=o[u];this.addLevel(P.object.clone(),P.distance)}return this.autoUpdate=n.autoUpdate,this},addLevel:function(n,o){o===void 0&&(o=0),o=Math.abs(o);for(var u=this.levels,m=0;m<u.length&&!(o<u[m].distance);m++);return u.splice(m,0,{distance:o,object:n}),this.add(n),this},getObjectForDistance:function(n){var o=this.levels;if(0<o.length){for(var u=1,m=o.length;u<m&&!(n<o[u].distance);u++);return o[u-1].object}return null},raycast:function(n,o){if(0<this.levels.length){Dc.setFromMatrixPosition(this.matrixWorld);var u=n.ray.origin.distanceTo(Dc);this.getObjectForDistance(u).raycast(n,o)}},update:function(n){var o=this.levels;if(1<o.length){Dc.setFromMatrixPosition(n.matrixWorld),oh.setFromMatrixPosition(this.matrixWorld);var u=Dc.distanceTo(oh);o[0].object.visible=!0;for(var m=1,P=o.length;m<P&&u>=o[m].distance;m++)o[m-1].object.visible=!1,o[m].object.visible=!0;for(;m<P;m++)o[m].object.visible=!1}},toJSON:function(n){var o=qt.prototype.toJSON.call(this,n);this.autoUpdate===!1&&(o.object.autoUpdate=!1),o.object.levels=[];for(var u=this.levels,m=0,P=u.length;m<P;m++){var z=u[m];o.object.levels.push({object:z.object.uuid,distance:z.distance})}return o}}),nu.prototype=Object.assign(Object.create(So.prototype),{constructor:nu,isSkinnedMesh:!0,bind:function(n,o){this.skeleton=n,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.getInverse(o)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var n=new Pi,o=this.geometry.attributes.skinWeight,u=0,m=o.count;u<m;u++){n.x=o.getX(u),n.y=o.getY(u),n.z=o.getZ(u),n.w=o.getW(u);var P=1/n.manhattanLength();P!=1/0?n.multiplyScalar(P):n.set(1,0,0,0),o.setXYZW(u,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(n){So.prototype.updateMatrixWorld.call(this,n),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Nh=new ri,Dp=new ri;function nd(n,o){if(n=n||[],this.bones=n.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,o===void 0)this.calculateInverses();else if(this.bones.length===o.length)this.boneInverses=o.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var u=0,m=this.bones.length;u<m;u++)this.boneInverses.push(new ri)}}function ah(){qt.call(this),this.type="Bone"}Object.assign(nd.prototype,{calculateInverses:function(){this.boneInverses=[];for(var n=0,o=this.bones.length;n<o;n++){var u=new ri;this.bones[n]&&u.getInverse(this.bones[n].matrixWorld),this.boneInverses.push(u)}},pose:function(){var n,o,u;for(o=0,u=this.bones.length;o<u;o++)(n=this.bones[o])&&n.matrixWorld.getInverse(this.boneInverses[o]);for(o=0,u=this.bones.length;o<u;o++)(n=this.bones[o])&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))},update:function(){for(var n=this.bones,o=this.boneInverses,u=this.boneMatrices,m=this.boneTexture,P=0,z=n.length;P<z;P++){var re=n[P]?n[P].matrixWorld:Dp;Nh.multiplyMatrices(re,o[P]),Nh.toArray(u,16*P)}m!==void 0&&(m.needsUpdate=!0)},clone:function(){return new nd(this.bones,this.boneInverses)},getBoneByName:function(n){for(var o=0,u=this.bones.length;o<u;o++){var m=this.bones[o];if(m.name===n)return m}}}),ah.prototype=Object.assign(Object.create(qt.prototype),{constructor:ah,isBone:!0});var sh=new ri,ru=new ri,bc=[],iu=new So;function rd(n,o,u){So.call(this,n,o),this.instanceMatrix=new kn(new Float32Array(16*u),16),this.count=u,this.frustumCulled=!1}function Ho(n){En.call(this),this.type="LineBasicMaterial",this.color=new Ft(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(n)}rd.prototype=Object.assign(Object.create(So.prototype),{constructor:rd,isInstancedMesh:!0,getMatrixAt:function(n,o){o.fromArray(this.instanceMatrix.array,16*n)},raycast:function(n,o){var u=this.matrixWorld,m=this.count;if(iu.geometry=this.geometry,iu.material=this.material,iu.material!==void 0)for(var P=0;P<m;P++)this.getMatrixAt(P,sh),ru.multiplyMatrices(u,sh),iu.matrixWorld=ru,iu.raycast(n,bc),0<bc.length&&(bc[0].instanceId=P,bc[0].object=this,o.push(bc[0]),bc.length=0)},setMatrixAt:function(n,o){o.toArray(this.instanceMatrix.array,16*n)},updateMorphTargets:function(){}}),((Ho.prototype=Object.create(En.prototype)).constructor=Ho).prototype.isLineBasicMaterial=!0,Ho.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this};var lh=new mt,ch=new mt,Vh=new ri,id=new gi,od=new ki;function Ha(n,o,u){u===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),qt.call(this),this.type="Line",this.geometry=n!==void 0?n:new dn,this.material=o!==void 0?o:new Ho}Ha.prototype=Object.assign(Object.create(qt.prototype),{constructor:Ha,isLine:!0,computeLineDistances:function(){var n=this.geometry;if(n.isBufferGeometry)if(n.index===null){for(var o=n.attributes.position,u=[0],m=1,P=o.count;m<P;m++)lh.fromBufferAttribute(o,m-1),ch.fromBufferAttribute(o,m),u[m]=u[m-1],u[m]+=lh.distanceTo(ch);n.setAttribute("lineDistance",new Wn(u,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var z=n.vertices;for((u=n.lineDistances)[0]=0,m=1,P=z.length;m<P;m++)u[m]=u[m-1],u[m]+=z[m-1].distanceTo(z[m])}return this},raycast:function(n,o){var u=n.linePrecision,m=this.geometry,P=this.matrixWorld;if(m.boundingSphere===null&&m.computeBoundingSphere(),od.copy(m.boundingSphere),od.applyMatrix4(P),od.radius+=u,n.ray.intersectsSphere(od)!==!1){Vh.getInverse(P),id.copy(n.ray).applyMatrix4(Vh);var z=u/((this.scale.x+this.scale.y+this.scale.z)/3),re=z*z,ue=new mt,ve=new mt,ye=new mt,Be=new mt,Se=this&&this.isLineSegments?2:1;if(m.isBufferGeometry){var Oe=m.index,be=m.attributes.position.array;if(Oe!==null)for(var He=Oe.array,Je=0,Ye=He.length-1;Je<Ye;Je+=Se){var pt=He[Je],yt=He[Je+1];ue.fromArray(be,3*pt),ve.fromArray(be,3*yt),re<id.distanceSqToSegment(ue,ve,Be,ye)||(Be.applyMatrix4(this.matrixWorld),(_t=n.ray.origin.distanceTo(Be))<n.near||_t>n.far||o.push({distance:_t,point:ye.clone().applyMatrix4(this.matrixWorld),index:Je,face:null,faceIndex:null,object:this}))}else for(Je=0,Ye=be.length/3-1;Je<Ye;Je+=Se)ue.fromArray(be,3*Je),ve.fromArray(be,3*Je+3),re<id.distanceSqToSegment(ue,ve,Be,ye)||(Be.applyMatrix4(this.matrixWorld),(_t=n.ray.origin.distanceTo(Be))<n.near||_t>n.far||o.push({distance:_t,point:ye.clone().applyMatrix4(this.matrixWorld),index:Je,face:null,faceIndex:null,object:this}))}else if(m.isGeometry){var Bt=m.vertices,Vt=Bt.length;for(Je=0;Je<Vt-1;Je+=Se){var _t;re<id.distanceSqToSegment(Bt[Je],Bt[Je+1],Be,ye)||(Be.applyMatrix4(this.matrixWorld),(_t=n.ray.origin.distanceTo(Be))<n.near||_t>n.far||o.push({distance:_t,point:ye.clone().applyMatrix4(this.matrixWorld),index:Je,face:null,faceIndex:null,object:this}))}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ad=new mt,sd=new mt;function xo(n,o){Ha.call(this,n,o),this.type="LineSegments"}function ou(n,o){Ha.call(this,n,o),this.type="LineLoop"}function nl(n){En.call(this),this.type="PointsMaterial",this.color=new Ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(n)}xo.prototype=Object.assign(Object.create(Ha.prototype),{constructor:xo,isLineSegments:!0,computeLineDistances:function(){var n=this.geometry;if(n.isBufferGeometry)if(n.index===null){for(var o=n.attributes.position,u=[],m=0,P=o.count;m<P;m+=2)ad.fromBufferAttribute(o,m),sd.fromBufferAttribute(o,m+1),u[m]=m===0?0:u[m-1],u[m+1]=u[m]+ad.distanceTo(sd);n.setAttribute("lineDistance",new Wn(u,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var z=n.vertices;for(u=n.lineDistances,m=0,P=z.length;m<P;m+=2)ad.copy(z[m]),sd.copy(z[m+1]),u[m]=m===0?0:u[m-1],u[m+1]=u[m]+ad.distanceTo(sd)}return this}}),ou.prototype=Object.assign(Object.create(Ha.prototype),{constructor:ou,isLineLoop:!0}),((nl.prototype=Object.create(En.prototype)).constructor=nl).prototype.isPointsMaterial=!0,nl.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.morphTargets=n.morphTargets,this};var ld=new ri,cd=new gi,au=new ki,ud=new mt;function wc(n,o){qt.call(this),this.type="Points",this.geometry=n!==void 0?n:new dn,this.material=o!==void 0?o:new nl,this.updateMorphTargets()}function Ac(n,o,u,m,P,z,re){var ue=cd.distanceSqToPoint(n);if(ue<u){var ve=new mt;cd.closestPointToPoint(n,ve),ve.applyMatrix4(m);var ye=P.ray.origin.distanceTo(ve);if(ye<P.near||ye>P.far)return;z.push({distance:ye,distanceToRay:Math.sqrt(ue),point:ve,index:o,face:null,object:re})}}function _c(n,o,u,m,P,z,re,ue,ve){ji.call(this,n,o,u,m,P,z,re,ue,ve),this.format=re!==void 0?re:lo,this.minFilter=z!==void 0?z:Xt,this.magFilter=P!==void 0?P:Xt,this.generateMipmaps=!1}function dd(n,o,u,m,P,z,re,ue,ve,ye,Be,Se){ji.call(this,null,z,re,ue,ve,ye,m,P,Be,Se),this.image={width:o,height:u},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}function su(n,o,u,m,P,z,re,ue,ve){ji.call(this,n,o,u,m,P,z,re,ue,ve),this.needsUpdate=!0}function hd(n,o,u,m,P,z,re,ue,ve,ye){if((ye=ye!==void 0?ye:ni)!==ni&&ye!==Po)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");u===void 0&&ye===ni&&(u=jr),u===void 0&&ye===Po&&(u=Ti),ji.call(this,null,m,P,z,re,ue,ye,u,ve),this.image={width:n,height:o},this.magFilter=re!==void 0?re:St,this.minFilter=ue!==void 0?ue:St,this.flipY=!1,this.generateMipmaps=!1}function lu(n){dn.call(this),this.type="WireframeGeometry";var o,u,m,P,z,re,ue,ve,ye,Be,Se=[],Oe=[0,0],be={},He=["a","b","c"];if(n&&n.isGeometry){var Je=n.faces;for(o=0,m=Je.length;o<m;o++){var Ye=Je[o];for(u=0;u<3;u++)ue=Ye[He[u]],ve=Ye[He[(u+1)%3]],Oe[0]=Math.min(ue,ve),Oe[1]=Math.max(ue,ve),be[ye=Oe[0]+","+Oe[1]]===void 0&&(be[ye]={index1:Oe[0],index2:Oe[1]})}for(ye in be)re=be[ye],Be=n.vertices[re.index1],Se.push(Be.x,Be.y,Be.z),Be=n.vertices[re.index2],Se.push(Be.x,Be.y,Be.z)}else if(n&&n.isBufferGeometry){var pt,yt,Bt,Vt,_t,Wt;if(Be=new mt,n.index!==null){for(pt=n.attributes.position,yt=n.index,(Bt=n.groups).length===0&&(Bt=[{start:0,count:yt.count,materialIndex:0}]),P=0,z=Bt.length;P<z;++P)for(m=(o=(Vt=Bt[P]).start)+Vt.count;o<m;o+=3)for(u=0;u<3;u++)ue=yt.getX(o+u),ve=yt.getX(o+(u+1)%3),Oe[0]=Math.min(ue,ve),Oe[1]=Math.max(ue,ve),be[ye=Oe[0]+","+Oe[1]]===void 0&&(be[ye]={index1:Oe[0],index2:Oe[1]});for(ye in be)re=be[ye],Be.fromBufferAttribute(pt,re.index1),Se.push(Be.x,Be.y,Be.z),Be.fromBufferAttribute(pt,re.index2),Se.push(Be.x,Be.y,Be.z)}else for(o=0,m=(pt=n.attributes.position).count/3;o<m;o++)for(u=0;u<3;u++)_t=3*o+u,Be.fromBufferAttribute(pt,_t),Se.push(Be.x,Be.y,Be.z),Wt=3*o+(u+1)%3,Be.fromBufferAttribute(pt,Wt),Se.push(Be.x,Be.y,Be.z)}this.setAttribute("position",new Wn(Se,3))}function ls(n,o,u){Kr.call(this),this.type="ParametricGeometry",this.parameters={func:n,slices:o,stacks:u},this.fromBufferGeometry(new cu(n,o,u)),this.mergeVertices()}function cu(n,o,u){dn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:n,slices:o,stacks:u};var m,P,z=[],re=[],ue=[],ve=[],ye=new mt,Be=new mt,Se=new mt,Oe=new mt,be=new mt;n.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var He=o+1;for(m=0;m<=u;m++){var Je=m/u;for(P=0;P<=o;P++){var Ye=P/o;n(Ye,Je,Be),re.push(Be.x,Be.y,Be.z),0<=Ye-1e-5?(n(Ye-1e-5,Je,Se),Oe.subVectors(Be,Se)):(n(1e-5+Ye,Je,Se),Oe.subVectors(Se,Be)),0<=Je-1e-5?(n(Ye,Je-1e-5,Se),be.subVectors(Be,Se)):(n(Ye,1e-5+Je,Se),be.subVectors(Se,Be)),ye.crossVectors(Oe,be).normalize(),ue.push(ye.x,ye.y,ye.z),ve.push(Ye,Je)}}for(m=0;m<u;m++)for(P=0;P<o;P++){var pt=m*He+P,yt=m*He+P+1,Bt=(m+1)*He+P+1,Vt=(m+1)*He+P;z.push(pt,yt,Vt),z.push(yt,Bt,Vt)}this.setIndex(z),this.setAttribute("position",new Wn(re,3)),this.setAttribute("normal",new Wn(ue,3)),this.setAttribute("uv",new Wn(ve,2))}function pd(n,o,u,m){Kr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:o,radius:u,detail:m},this.fromBufferGeometry(new ua(n,o,u,m)),this.mergeVertices()}function ua(n,o,u,m){dn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:o,radius:u,detail:m},u=u||1;var P=[],z=[];function re(Se,Oe,be,He){var Je,Ye,pt=Math.pow(2,He),yt=[];for(Je=0;Je<=pt;Je++){yt[Je]=[];var Bt=Se.clone().lerp(be,Je/pt),Vt=Oe.clone().lerp(be,Je/pt),_t=pt-Je;for(Ye=0;Ye<=_t;Ye++)yt[Je][Ye]=Ye===0&&Je===pt?Bt:Bt.clone().lerp(Vt,Ye/_t)}for(Je=0;Je<pt;Je++)for(Ye=0;Ye<2*(pt-Je)-1;Ye++){var Wt=Math.floor(Ye/2);Ye%2==0?(ue(yt[Je][Wt+1]),ue(yt[Je+1][Wt]),ue(yt[Je][Wt])):(ue(yt[Je][Wt+1]),ue(yt[Je+1][Wt+1]),ue(yt[Je+1][Wt]))}}function ue(Se){P.push(Se.x,Se.y,Se.z)}function ve(Se,Oe){var be=3*Se;Oe.x=n[0+be],Oe.y=n[1+be],Oe.z=n[2+be]}function ye(Se,Oe,be,He){He<0&&Se.x===1&&(z[Oe]=Se.x-1),be.x===0&&be.z===0&&(z[Oe]=He/2/Math.PI+.5)}function Be(Se){return Math.atan2(Se.z,-Se.x)}(function(Se){for(var Oe=new mt,be=new mt,He=new mt,Je=0;Je<o.length;Je+=3)ve(o[Je+0],Oe),ve(o[Je+1],be),ve(o[Je+2],He),re(Oe,be,He,Se)})(m=m||0),function(Se){for(var Oe=new mt,be=0;be<P.length;be+=3)Oe.x=P[be+0],Oe.y=P[be+1],Oe.z=P[be+2],Oe.normalize().multiplyScalar(Se),P[be+0]=Oe.x,P[be+1]=Oe.y,P[be+2]=Oe.z}(u),function(){for(var Se=new mt,Oe=0;Oe<P.length;Oe+=3){Se.x=P[Oe+0],Se.y=P[Oe+1],Se.z=P[Oe+2];var be=Be(Se)/2/Math.PI+.5,He=(Je=Se,Math.atan2(-Je.y,Math.sqrt(Je.x*Je.x+Je.z*Je.z))/Math.PI+.5);z.push(be,1-He)}var Je;(function(){for(var Ye=new mt,pt=new mt,yt=new mt,Bt=new mt,Vt=new Bn,_t=new Bn,Wt=new Bn,Tt=0,rn=0;Tt<P.length;Tt+=9,rn+=6){Ye.set(P[Tt+0],P[Tt+1],P[Tt+2]),pt.set(P[Tt+3],P[Tt+4],P[Tt+5]),yt.set(P[Tt+6],P[Tt+7],P[Tt+8]),Vt.set(z[rn+0],z[rn+1]),_t.set(z[rn+2],z[rn+3]),Wt.set(z[rn+4],z[rn+5]),Bt.copy(Ye).add(pt).add(yt).divideScalar(3);var hn=Be(Bt);ye(Vt,rn+0,Ye,hn),ye(_t,rn+2,pt,hn),ye(Wt,rn+4,yt,hn)}})(),function(){for(var Ye=0;Ye<z.length;Ye+=6){var pt=z[Ye+0],yt=z[Ye+2],Bt=z[Ye+4],Vt=Math.max(pt,yt,Bt),_t=Math.min(pt,yt,Bt);.9<Vt&&_t<.1&&(pt<.2&&(z[Ye+0]+=1),yt<.2&&(z[Ye+2]+=1),Bt<.2&&(z[Ye+4]+=1))}}()}(),this.setAttribute("position",new Wn(P,3)),this.setAttribute("normal",new Wn(P.slice(),3)),this.setAttribute("uv",new Wn(z,2)),m===0?this.computeVertexNormals():this.normalizeNormals()}function di(n,o){Kr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new uu(n,o)),this.mergeVertices()}function uu(n,o){ua.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,o),this.type="TetrahedronBufferGeometry",this.parameters={radius:n,detail:o}}function Oa(n,o){Kr.call(this),this.type="OctahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Do(n,o)),this.mergeVertices()}function Do(n,o){ua.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,o),this.type="OctahedronBufferGeometry",this.parameters={radius:n,detail:o}}function js(n,o){Kr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new du(n,o)),this.mergeVertices()}function du(n,o){var u=(1+Math.sqrt(5))/2;ua.call(this,[-1,u,0,1,u,0,-1,-u,0,1,-u,0,0,-1,u,0,1,u,0,-1,-u,0,1,-u,u,0,-1,u,0,1,-u,0,-1,-u,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,o),this.type="IcosahedronBufferGeometry",this.parameters={radius:n,detail:o}}function Bc(n,o){Kr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:o},this.fromBufferGeometry(new Es(n,o)),this.mergeVertices()}function Es(n,o){var u=(1+Math.sqrt(5))/2,m=1/u;ua.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-m,-u,0,-m,u,0,m,-u,0,m,u,-m,-u,0,-m,u,0,m,-u,0,m,u,0,-u,0,-m,u,0,-m,-u,0,m,u,0,m],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,o),this.type="DodecahedronBufferGeometry",this.parameters={radius:n,detail:o}}function hu(n,o,u,m,P,z){Kr.call(this),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:o,radius:u,radialSegments:m,closed:P},z!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var re=new wl(n,o,u,m,P);this.tangents=re.tangents,this.normals=re.normals,this.binormals=re.binormals,this.fromBufferGeometry(re),this.mergeVertices()}function wl(n,o,u,m,P){dn.call(this),this.type="TubeBufferGeometry",this.parameters={path:n,tubularSegments:o,radius:u,radialSegments:m,closed:P},o=o||64,u=u||1,m=m||8,P=P||!1;var z=n.computeFrenetFrames(o,P);this.tangents=z.tangents,this.normals=z.normals,this.binormals=z.binormals;var re,ue,ve=new mt,ye=new mt,Be=new Bn,Se=new mt,Oe=[],be=[],He=[],Je=[];function Ye(pt){Se=n.getPointAt(pt/o,Se);var yt=z.normals[pt],Bt=z.binormals[pt];for(ue=0;ue<=m;ue++){var Vt=ue/m*Math.PI*2,_t=Math.sin(Vt),Wt=-Math.cos(Vt);ye.x=Wt*yt.x+_t*Bt.x,ye.y=Wt*yt.y+_t*Bt.y,ye.z=Wt*yt.z+_t*Bt.z,ye.normalize(),be.push(ye.x,ye.y,ye.z),ve.x=Se.x+u*ye.x,ve.y=Se.y+u*ye.y,ve.z=Se.z+u*ye.z,Oe.push(ve.x,ve.y,ve.z)}}(function(){for(re=0;re<o;re++)Ye(re);Ye(P===!1?o:0),function(){for(re=0;re<=o;re++)for(ue=0;ue<=m;ue++)Be.x=re/o,Be.y=ue/m,He.push(Be.x,Be.y)}(),function(){for(ue=1;ue<=o;ue++)for(re=1;re<=m;re++){var pt=(m+1)*(ue-1)+(re-1),yt=(m+1)*ue+(re-1),Bt=(m+1)*ue+re,Vt=(m+1)*(ue-1)+re;Je.push(pt,yt,Vt),Je.push(yt,Bt,Vt)}}()})(),this.setIndex(Je),this.setAttribute("position",new Wn(Oe,3)),this.setAttribute("normal",new Wn(be,3)),this.setAttribute("uv",new Wn(He,2))}function bo(n,o,u,m,P,z,re){Kr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:o,tubularSegments:u,radialSegments:m,p:P,q:z},re!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new wo(n,o,u,m,P,z)),this.mergeVertices()}function wo(n,o,u,m,P,z){dn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:n,tube:o,tubularSegments:u,radialSegments:m,p:P,q:z},n=n||1,o=o||.4,u=Math.floor(u)||64,m=Math.floor(m)||8,P=P||2,z=z||3;var re,ue,ve=[],ye=[],Be=[],Se=[],Oe=new mt,be=new mt,He=new mt,Je=new mt,Ye=new mt,pt=new mt,yt=new mt;for(re=0;re<=u;++re){var Bt=re/u*P*Math.PI*2;for(gn(Bt,P,z,n,He),gn(.01+Bt,P,z,n,Je),pt.subVectors(Je,He),yt.addVectors(Je,He),Ye.crossVectors(pt,yt),yt.crossVectors(Ye,pt),Ye.normalize(),yt.normalize(),ue=0;ue<=m;++ue){var Vt=ue/m*Math.PI*2,_t=-o*Math.cos(Vt),Wt=o*Math.sin(Vt);Oe.x=He.x+(_t*yt.x+Wt*Ye.x),Oe.y=He.y+(_t*yt.y+Wt*Ye.y),Oe.z=He.z+(_t*yt.z+Wt*Ye.z),ye.push(Oe.x,Oe.y,Oe.z),be.subVectors(Oe,He).normalize(),Be.push(be.x,be.y,be.z),Se.push(re/u),Se.push(ue/m)}}for(ue=1;ue<=u;ue++)for(re=1;re<=m;re++){var Tt=(m+1)*(ue-1)+(re-1),rn=(m+1)*ue+(re-1),hn=(m+1)*ue+re,mn=(m+1)*(ue-1)+re;ve.push(Tt,rn,mn),ve.push(rn,hn,mn)}function gn(_n,Vn,pn,ln,Kn){var lr=Math.cos(_n),kr=Math.sin(_n),Or=pn/Vn*_n,Sr=Math.cos(Or);Kn.x=ln*(2+Sr)*.5*lr,Kn.y=ln*(2+Sr)*kr*.5,Kn.z=ln*Math.sin(Or)*.5}this.setIndex(ve),this.setAttribute("position",new Wn(ye,3)),this.setAttribute("normal",new Wn(Be,3)),this.setAttribute("uv",new Wn(Se,2))}function pu(n,o,u,m,P){Kr.call(this),this.type="TorusGeometry",this.parameters={radius:n,tube:o,radialSegments:u,tubularSegments:m,arc:P},this.fromBufferGeometry(new Mc(n,o,u,m,P)),this.mergeVertices()}function Mc(n,o,u,m,P){dn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:n,tube:o,radialSegments:u,tubularSegments:m,arc:P},n=n||1,o=o||.4,u=Math.floor(u)||8,m=Math.floor(m)||6,P=P||2*Math.PI;var z,re,ue=[],ve=[],ye=[],Be=[],Se=new mt,Oe=new mt,be=new mt;for(z=0;z<=u;z++)for(re=0;re<=m;re++){var He=re/m*P,Je=z/u*Math.PI*2;Oe.x=(n+o*Math.cos(Je))*Math.cos(He),Oe.y=(n+o*Math.cos(Je))*Math.sin(He),Oe.z=o*Math.sin(Je),ve.push(Oe.x,Oe.y,Oe.z),Se.x=n*Math.cos(He),Se.y=n*Math.sin(He),be.subVectors(Oe,Se).normalize(),ye.push(be.x,be.y,be.z),Be.push(re/m),Be.push(z/u)}for(z=1;z<=u;z++)for(re=1;re<=m;re++){var Ye=(m+1)*z+re-1,pt=(m+1)*(z-1)+re-1,yt=(m+1)*(z-1)+re,Bt=(m+1)*z+re;ue.push(Ye,pt,Bt),ue.push(pt,yt,Bt)}this.setIndex(ue),this.setAttribute("position",new Wn(ve,3)),this.setAttribute("normal",new Wn(ye,3)),this.setAttribute("uv",new Wn(Be,2))}function Fc(n,o,u,m,P){var z,re;if(P===0<function(ue,ve,ye,Be){for(var Se=0,Oe=ve,be=ye-Be;Oe<ye;Oe+=Be)Se+=(ue[be]-ue[Oe])*(ue[Oe+1]+ue[be+1]),be=Oe;return Se}(n,o,u,m))for(z=o;z<u;z+=m)re=mu(z,n[z],n[z+1],re);else for(z=u-m;o<=z;z-=m)re=mu(z,n[z],n[z+1],re);return re&&Al(re,re.next)&&(gu(re),re=re.next),re}function Jl(n,o){if(!n)return n;o=o||n;var u,m=n;do if(u=!1,m.steiner||!Al(m,m.next)&&co(m.prev,m,m.next)!==0)m=m.next;else{if(gu(m),(m=o=m.prev)===m.next)break;u=!0}while(u||m!==o);return o}function Sc(n,o,u,m,P,z,re){if(n){!re&&z&&function(Be,Se,Oe,be){for(var He=Be;He.z===null&&(He.z=zs(He.x,He.y,Se,Oe,be)),He.prevZ=He.prev,He.nextZ=He.next,(He=He.next)!==Be;);He.prevZ.nextZ=null,He.prevZ=null,function(Je){var Ye,pt,yt,Bt,Vt,_t,Wt,Tt,rn=1;do{for(pt=Je,Vt=Je=null,_t=0;pt;){for(_t++,yt=pt,Ye=Wt=0;Ye<rn&&(Wt++,yt=yt.nextZ);Ye++);for(Tt=rn;0<Wt||0<Tt&&yt;)Wt!==0&&(Tt===0||!yt||pt.z<=yt.z)?(pt=(Bt=pt).nextZ,Wt--):(yt=(Bt=yt).nextZ,Tt--),Vt?Vt.nextZ=Bt:Je=Bt,Bt.prevZ=Vt,Vt=Bt;pt=yt}Vt.nextZ=null,rn*=2}while(1<_t)}(He)}(n,m,P,z);for(var ue,ve,ye=n;n.prev!==n.next;)if(ue=n.prev,ve=n.next,z?xs(n,m,P,z):fd(n))o.push(ue.i/u),o.push(n.i/u),o.push(ve.i/u),gu(n),n=ve.next,ye=ve.next;else if((n=ve)===ye){re?re===1?Sc(n=Tc(n,o,u),o,u,m,P,z,2):re===2&&bp(n,o,u,m,P,z):Sc(Jl(n),o,u,m,P,z,1);break}}}function fd(n){var o=n.prev,u=n,m=n.next;if(!(0<=co(o,u,m))){for(var P=n.next.next;P!==n.prev;){if(Xl(o.x,o.y,u.x,u.y,m.x,m.y,P.x,P.y)&&0<=co(P.prev,P,P.next))return;P=P.next}return 1}}function xs(n,o,u,m){var P=n.prev,z=n,re=n.next;if(!(0<=co(P,z,re))){for(var ue=P.x<z.x?P.x<re.x?P.x:re.x:z.x<re.x?z.x:re.x,ve=P.y<z.y?P.y<re.y?P.y:re.y:z.y<re.y?z.y:re.y,ye=P.x>z.x?P.x>re.x?P.x:re.x:z.x>re.x?z.x:re.x,Be=P.y>z.y?P.y>re.y?P.y:re.y:z.y>re.y?z.y:re.y,Se=zs(ue,ve,o,u,m),Oe=zs(ye,Be,o,u,m),be=n.prevZ,He=n.nextZ;be&&be.z>=Se&&He&&He.z<=Oe;){if(be!==n.prev&&be!==n.next&&Xl(P.x,P.y,z.x,z.y,re.x,re.y,be.x,be.y)&&0<=co(be.prev,be,be.next)||(be=be.prevZ,He!==n.prev&&He!==n.next&&Xl(P.x,P.y,z.x,z.y,re.x,re.y,He.x,He.y)&&0<=co(He.prev,He,He.next)))return;He=He.nextZ}for(;be&&be.z>=Se;){if(be!==n.prev&&be!==n.next&&Xl(P.x,P.y,z.x,z.y,re.x,re.y,be.x,be.y)&&0<=co(be.prev,be,be.next))return;be=be.prevZ}for(;He&&He.z<=Oe;){if(He!==n.prev&&He!==n.next&&Xl(P.x,P.y,z.x,z.y,re.x,re.y,He.x,He.y)&&0<=co(He.prev,He,He.next))return;He=He.nextZ}return 1}}function Tc(n,o,u){var m=n;do{var P=m.prev,z=m.next.next;!Al(P,z)&&Xi(P,m,m.next,z)&&fu(P,z)&&fu(z,P)&&(o.push(P.i/u),o.push(m.i/u),o.push(z.i/u),gu(m),gu(m.next),m=n=z),m=m.next}while(m!==n);return m}function bp(n,o,u,m,P,z){var re,ue,ve=n;do{for(var ye=ve.next.next;ye!==ve.prev;){if(ve.i!==ye.i&&(ue=ye,(re=ve).next.i!==ue.i&&re.prev.i!==ue.i&&!function(Se,Oe){var be=Se;do{if(be.i!==Se.i&&be.next.i!==Se.i&&be.i!==Oe.i&&be.next.i!==Oe.i&&Xi(be,be.next,Se,Oe))return 1;be=be.next}while(be!==Se)}(re,ue)&&fu(re,ue)&&fu(ue,re)&&function(Se,Oe){for(var be=Se,He=!1,Je=(Se.x+Oe.x)/2,Ye=(Se.y+Oe.y)/2;be.y>Ye!=be.next.y>Ye&&be.next.y!==be.y&&Je<(be.next.x-be.x)*(Ye-be.y)/(be.next.y-be.y)+be.x&&(He=!He),(be=be.next)!==Se;);return He}(re,ue))){var Be=uh(ve,ye);return ve=Jl(ve,ve.next),Be=Jl(Be,Be.next),Sc(ve,o,u,m,P,z),void Sc(Be,o,u,m,P,z)}ye=ye.next}ve=ve.next}while(ve!==n)}function wp(n,o){return n.x-o.x}function jh(n,o){if(o=function(m,P){var z,re=P,ue=m.x,ve=m.y,ye=-1/0;do{if(ve<=re.y&&ve>=re.next.y&&re.next.y!==re.y){var Be=re.x+(ve-re.y)*(re.next.x-re.x)/(re.next.y-re.y);if(Be<=ue&&ye<Be){if((ye=Be)===ue){if(ve===re.y)return re;if(ve===re.next.y)return re.next}z=re.x<re.next.x?re:re.next}}re=re.next}while(re!==P);if(!z)return null;if(ue===ye)return z.prev;var Se,Oe=z,be=z.x,He=z.y,Je=1/0;for(re=z.next;re!==Oe;)ue>=re.x&&re.x>=be&&ue!==re.x&&Xl(ve<He?ue:ye,ve,be,He,ve<He?ye:ue,ve,re.x,re.y)&&((Se=Math.abs(ve-re.y)/(ue-re.x))<Je||Se===Je&&re.x>z.x)&&fu(re,m)&&(z=re,Je=Se),re=re.next;return z}(n,o)){var u=uh(o,n);Jl(u,u.next)}}function zs(n,o,u,m,P){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-u)*P)|n<<8))|n<<4))|n<<2))|n<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-m)*P)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function Ei(n){for(var o=n,u=n;(o.x<u.x||o.x===u.x&&o.y<u.y)&&(u=o),(o=o.next)!==n;);return u}function Xl(n,o,u,m,P,z,re,ue){return 0<=(P-re)*(o-ue)-(n-re)*(z-ue)&&0<=(n-re)*(m-ue)-(u-re)*(o-ue)&&0<=(u-re)*(z-ue)-(P-re)*(m-ue)}function co(n,o,u){return(o.y-n.y)*(u.x-o.x)-(o.x-n.x)*(u.y-o.y)}function Al(n,o){return n.x===o.x&&n.y===o.y}function Xi(n,o,u,m){return Al(n,u)&&Al(o,m)||Al(n,m)&&Al(u,o)||0<co(n,o,u)!=0<co(n,o,m)&&0<co(u,m,n)!=0<co(u,m,o)}function fu(n,o){return co(n.prev,n,n.next)<0?0<=co(n,o,n.next)&&0<=co(n,n.prev,o):co(n,o,n.prev)<0||co(n,n.next,o)<0}function uh(n,o){var u=new dh(n.i,n.x,n.y),m=new dh(o.i,o.x,o.y),P=n.next,z=o.prev;return(n.next=o).prev=n,(u.next=P).prev=u,(m.next=u).prev=m,(z.next=m).prev=z,m}function mu(n,o,u,m){var P=new dh(n,o,u);return m?(P.next=m.next,(P.prev=m).next.prev=P,m.next=P):(P.prev=P).next=P,P}function gu(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function dh(n,o,u){this.i=n,this.x=o,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}wc.prototype=Object.assign(Object.create(qt.prototype),{constructor:wc,isPoints:!0,raycast:function(n,o){var u=this.geometry,m=this.matrixWorld,P=n.params.Points.threshold;if(u.boundingSphere===null&&u.computeBoundingSphere(),au.copy(u.boundingSphere),au.applyMatrix4(m),au.radius+=P,n.ray.intersectsSphere(au)!==!1){ld.getInverse(m),cd.copy(n.ray).applyMatrix4(ld);var z=P/((this.scale.x+this.scale.y+this.scale.z)/3),re=z*z;if(u.isBufferGeometry){var ue=u.index,ve=u.attributes.position.array;if(ue!==null)for(var ye=ue.array,Be=0,Se=ye.length;Be<Se;Be++){var Oe=ye[Be];ud.fromArray(ve,3*Oe),Ac(ud,Oe,re,m,n,o,this)}else{Be=0;for(var be=ve.length/3;Be<be;Be++)ud.fromArray(ve,3*Be),Ac(ud,Be,re,m,n,o,this)}}else{var He=u.vertices;for(Be=0,be=He.length;Be<be;Be++)Ac(He[Be],Be,re,m,n,o,this)}}},updateMorphTargets:function(){var n,o,u,m=this.geometry;if(m.isBufferGeometry){var P=m.morphAttributes,z=Object.keys(P);if(0<z.length){var re=P[z[0]];if(re!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},n=0,o=re.length;n<o;n++)u=re[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=n}}else{var ue=m.morphTargets;ue!==void 0&&0<ue.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),_c.prototype=Object.assign(Object.create(ji.prototype),{constructor:_c,isVideoTexture:!0,update:function(){var n=this.image;n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((dd.prototype=Object.create(ji.prototype)).constructor=dd).prototype.isCompressedTexture=!0,((su.prototype=Object.create(ji.prototype)).constructor=su).prototype.isCanvasTexture=!0,((hd.prototype=Object.create(ji.prototype)).constructor=hd).prototype.isDepthTexture=!0,(lu.prototype=Object.create(dn.prototype)).constructor=lu,(ls.prototype=Object.create(Kr.prototype)).constructor=ls,(cu.prototype=Object.create(dn.prototype)).constructor=cu,(pd.prototype=Object.create(Kr.prototype)).constructor=pd,(ua.prototype=Object.create(dn.prototype)).constructor=ua,(di.prototype=Object.create(Kr.prototype)).constructor=di,(uu.prototype=Object.create(ua.prototype)).constructor=uu,(Oa.prototype=Object.create(Kr.prototype)).constructor=Oa,(Do.prototype=Object.create(ua.prototype)).constructor=Do,(js.prototype=Object.create(Kr.prototype)).constructor=js,(du.prototype=Object.create(ua.prototype)).constructor=du,(Bc.prototype=Object.create(Kr.prototype)).constructor=Bc,(Es.prototype=Object.create(ua.prototype)).constructor=Es,(hu.prototype=Object.create(Kr.prototype)).constructor=hu,((wl.prototype=Object.create(dn.prototype)).constructor=wl).prototype.toJSON=function(){var n=dn.prototype.toJSON.call(this);return n.path=this.parameters.path.toJSON(),n},(bo.prototype=Object.create(Kr.prototype)).constructor=bo,(wo.prototype=Object.create(dn.prototype)).constructor=wo,(pu.prototype=Object.create(Kr.prototype)).constructor=pu,(Mc.prototype=Object.create(dn.prototype)).constructor=Mc;var hl={area:function(n){for(var o=n.length,u=0,m=o-1,P=0;P<o;m=P++)u+=n[m].x*n[P].y-n[P].x*n[m].y;return .5*u},isClockWise:function(n){return hl.area(n)<0},triangulateShape:function(n,o){var u=[],m=[],P=[];zh(n),md(u,n);var z=n.length;o.forEach(zh);for(var re=0;re<o.length;re++)m.push(z),z+=o[re].length,md(u,o[re]);var ue=function(ve,ye,Be){Be=Be||2;var Se,Oe,be,He,Je,Ye,pt,yt=ye&&ye.length,Bt=yt?ye[0]*Be:ve.length,Vt=Fc(ve,0,Bt,Be,!0),_t=[];if(!Vt||Vt.next===Vt.prev)return _t;if(yt&&(Vt=function(Tt,rn,hn,mn){var gn,_n,Vn,pn=[];for(gn=0,_n=rn.length;gn<_n;gn++)(Vn=Fc(Tt,rn[gn]*mn,gn<_n-1?rn[gn+1]*mn:Tt.length,mn,!1))===Vn.next&&(Vn.steiner=!0),pn.push(Ei(Vn));for(pn.sort(wp),gn=0;gn<pn.length;gn++)jh(pn[gn],hn),hn=Jl(hn,hn.next);return hn}(ve,ye,Vt,Be)),ve.length>80*Be){Se=be=ve[0],Oe=He=ve[1];for(var Wt=Be;Wt<Bt;Wt+=Be)(Je=ve[Wt])<Se&&(Se=Je),(Ye=ve[Wt+1])<Oe&&(Oe=Ye),be<Je&&(be=Je),He<Ye&&(He=Ye);pt=(pt=Math.max(be-Se,He-Oe))!==0?1/pt:0}return Sc(Vt,_t,Be,Se,Oe,pt),_t}(u,m);for(re=0;re<ue.length;re+=3)P.push(ue.slice(re,re+3));return P}};function zh(n){var o=n.length;2<o&&n[o-1].equals(n[0])&&n.pop()}function md(n,o){for(var u=0;u<o.length;u++)n.push(o[u].x),n.push(o[u].y)}function Yl(n,o){Kr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:o},this.fromBufferGeometry(new _l(n,o)),this.mergeVertices()}function _l(n,o){dn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:n,options:o};for(var u=this,m=[],P=[],z=0,re=(n=Array.isArray(n)?n:[n]).length;z<re;z++)ue(n[z]);function ue(ve){var ye=[],Be=o.curveSegments!==void 0?o.curveSegments:12,Se=o.steps!==void 0?o.steps:1,Oe=o.depth!==void 0?o.depth:100,be=o.bevelEnabled===void 0||o.bevelEnabled,He=o.bevelThickness!==void 0?o.bevelThickness:6,Je=o.bevelSize!==void 0?o.bevelSize:He-2,Ye=o.bevelOffset!==void 0?o.bevelOffset:0,pt=o.bevelSegments!==void 0?o.bevelSegments:3,yt=o.extrudePath,Bt=o.UVGenerator!==void 0?o.UVGenerator:Ap;o.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),Oe=o.amount);var Vt,_t,Wt,Tt,rn,hn,mn,gn,_n=!1;yt&&(Vt=yt.getSpacedPoints(Se),be=!(_n=!0),_t=yt.computeFrenetFrames(Se,!1),Wt=new mt,Tt=new mt,rn=new mt),be||(Ye=Je=He=pt=0);var Vn=ve.extractPoints(Be),pn=Vn.shape,ln=Vn.holes;if(!hl.isClockWise(pn))for(pn=pn.reverse(),mn=0,gn=ln.length;mn<gn;mn++)hn=ln[mn],hl.isClockWise(hn)&&(ln[mn]=hn.reverse());var Kn=hl.triangulateShape(pn,ln),lr=pn;for(mn=0,gn=ln.length;mn<gn;mn++)hn=ln[mn],pn=pn.concat(hn);function kr(_i,uo,_o){return uo||console.error("THREE.ExtrudeGeometry: vec does not exist"),uo.clone().multiplyScalar(_o).add(_i)}var Or,Sr,ei,dr,wt,Ht,Nn=pn.length,Pn=Kn.length;function $r(_i,uo,_o){var ha,Yi,aa,hs=_i.x-uo.x,bs=_i.y-uo.y,ml=_o.x-_i.x,Pl=_o.y-_i.y,Sd=hs*hs+bs*bs,uf=hs*Pl-bs*ml;if(Math.abs(uf)>Number.EPSILON){var Td=Math.sqrt(Sd),Lu=Math.sqrt(ml*ml+Pl*Pl),Iu=uo.x-bs/Td,ku=uo.y+hs/Td,Nu=((_o.x-Pl/Lu-Iu)*Pl-(_o.y+ml/Lu-ku)*ml)/(hs*Pl-bs*ml),fh=(ha=Iu+hs*Nu-_i.x)*ha+(Yi=ku+bs*Nu-_i.y)*Yi;if(fh<=2)return new Bn(ha,Yi);aa=Math.sqrt(fh/2)}else{var Ss=!1;hs>Number.EPSILON?ml>Number.EPSILON&&(Ss=!0):hs<-Number.EPSILON?ml<-Number.EPSILON&&(Ss=!0):Math.sign(bs)===Math.sign(Pl)&&(Ss=!0),aa=Ss?(ha=-bs,Yi=hs,Math.sqrt(Sd)):(ha=hs,Yi=bs,Math.sqrt(Sd/2))}return new Bn(ha/aa,Yi/aa)}for(var fr=[],fn=0,gr=lr.length,ti=gr-1,Kt=fn+1;fn<gr;fn++,ti++,Kt++)ti===gr&&(ti=0),Kt===gr&&(Kt=0),fr[fn]=$r(lr[fn],lr[ti],lr[Kt]);var cr,ur,Jr=[],Xn=fr.concat();for(mn=0,gn=ln.length;mn<gn;mn++){for(hn=ln[mn],cr=[],fn=0,ti=(gr=hn.length)-1,Kt=fn+1;fn<gr;fn++,ti++,Kt++)ti===gr&&(ti=0),Kt===gr&&(Kt=0),cr[fn]=$r(hn[fn],hn[ti],hn[Kt]);Jr.push(cr),Xn=Xn.concat(cr)}for(Or=0;Or<pt;Or++){for(ei=Or/pt,dr=He*Math.cos(ei*Math.PI/2),Sr=Je*Math.sin(ei*Math.PI/2)+Ye,fn=0,gr=lr.length;fn<gr;fn++)bi((wt=kr(lr[fn],fr[fn],Sr)).x,wt.y,-dr);for(mn=0,gn=ln.length;mn<gn;mn++)for(hn=ln[mn],cr=Jr[mn],fn=0,gr=hn.length;fn<gr;fn++)bi((wt=kr(hn[fn],cr[fn],Sr)).x,wt.y,-dr)}for(Sr=Je+Ye,fn=0;fn<Nn;fn++)wt=be?kr(pn[fn],Xn[fn],Sr):pn[fn],_n?(Tt.copy(_t.normals[0]).multiplyScalar(wt.x),Wt.copy(_t.binormals[0]).multiplyScalar(wt.y),rn.copy(Vt[0]).add(Tt).add(Wt),bi(rn.x,rn.y,rn.z)):bi(wt.x,wt.y,0);for(ur=1;ur<=Se;ur++)for(fn=0;fn<Nn;fn++)wt=be?kr(pn[fn],Xn[fn],Sr):pn[fn],_n?(Tt.copy(_t.normals[ur]).multiplyScalar(wt.x),Wt.copy(_t.binormals[ur]).multiplyScalar(wt.y),rn.copy(Vt[ur]).add(Tt).add(Wt),bi(rn.x,rn.y,rn.z)):bi(wt.x,wt.y,Oe/Se*ur);for(Or=pt-1;0<=Or;Or--){for(ei=Or/pt,dr=He*Math.cos(ei*Math.PI/2),Sr=Je*Math.sin(ei*Math.PI/2)+Ye,fn=0,gr=lr.length;fn<gr;fn++)bi((wt=kr(lr[fn],fr[fn],Sr)).x,wt.y,Oe+dr);for(mn=0,gn=ln.length;mn<gn;mn++)for(hn=ln[mn],cr=Jr[mn],fn=0,gr=hn.length;fn<gr;fn++)wt=kr(hn[fn],cr[fn],Sr),_n?bi(wt.x,wt.y+Vt[Se-1].y,Vt[Se-1].x+dr):bi(wt.x,wt.y,Oe+dr)}function mi(_i,uo){var _o,ha;for(fn=_i.length;0<=--fn;){(ha=(_o=fn)-1)<0&&(ha=_i.length-1);var Yi=0,aa=Se+2*pt;for(Yi=0;Yi<aa;Yi++){var hs=Nn*Yi,bs=Nn*(Yi+1);Ds(uo+_o+hs,uo+ha+hs,uo+ha+bs,uo+_o+bs)}}}function bi(_i,uo,_o){ye.push(_i),ye.push(uo),ye.push(_o)}function Ao(_i,uo,_o){Fi(_i),Fi(uo),Fi(_o);var ha=m.length/3,Yi=Bt.generateTopUV(u,m,ha-3,ha-2,ha-1);ko(Yi[0]),ko(Yi[1]),ko(Yi[2])}function Ds(_i,uo,_o,ha){Fi(_i),Fi(uo),Fi(ha),Fi(uo),Fi(_o),Fi(ha);var Yi=m.length/3,aa=Bt.generateSideWallUV(u,m,Yi-6,Yi-3,Yi-2,Yi-1);ko(aa[0]),ko(aa[1]),ko(aa[3]),ko(aa[1]),ko(aa[2]),ko(aa[3])}function Fi(_i){m.push(ye[3*_i+0]),m.push(ye[3*_i+1]),m.push(ye[3*_i+2])}function ko(_i){P.push(_i.x),P.push(_i.y)}(function(){var _i=m.length/3;if(be){var uo=0,_o=Nn*uo;for(fn=0;fn<Pn;fn++)Ao((Ht=Kn[fn])[2]+_o,Ht[1]+_o,Ht[0]+_o);for(_o=Nn*(uo=Se+2*pt),fn=0;fn<Pn;fn++)Ao((Ht=Kn[fn])[0]+_o,Ht[1]+_o,Ht[2]+_o)}else{for(fn=0;fn<Pn;fn++)Ao((Ht=Kn[fn])[2],Ht[1],Ht[0]);for(fn=0;fn<Pn;fn++)Ao((Ht=Kn[fn])[0]+Nn*Se,Ht[1]+Nn*Se,Ht[2]+Nn*Se)}u.addGroup(_i,m.length/3-_i,0)})(),function(){var _i=m.length/3,uo=0;for(mi(lr,uo),uo+=lr.length,mn=0,gn=ln.length;mn<gn;mn++)mi(hn=ln[mn],uo),uo+=hn.length;u.addGroup(_i,m.length/3-_i,1)}()}this.setAttribute("position",new Wn(m,3)),this.setAttribute("uv",new Wn(P,2)),this.computeVertexNormals()}((Yl.prototype=Object.create(Kr.prototype)).constructor=Yl).prototype.toJSON=function(){var n=Kr.prototype.toJSON.call(this);return Hh(this.parameters.shapes,this.parameters.options,n)},((_l.prototype=Object.create(dn.prototype)).constructor=_l).prototype.toJSON=function(){var n=dn.prototype.toJSON.call(this);return Hh(this.parameters.shapes,this.parameters.options,n)};var Ap={generateTopUV:function(n,o,u,m,P){var z=o[3*u],re=o[3*u+1],ue=o[3*m],ve=o[3*m+1],ye=o[3*P],Be=o[3*P+1];return[new Bn(z,re),new Bn(ue,ve),new Bn(ye,Be)]},generateSideWallUV:function(n,o,u,m,P,z){var re=o[3*u],ue=o[3*u+1],ve=o[3*u+2],ye=o[3*m],Be=o[3*m+1],Se=o[3*m+2],Oe=o[3*P],be=o[3*P+1],He=o[3*P+2],Je=o[3*z],Ye=o[3*z+1],pt=o[3*z+2];return Math.abs(ue-Be)<.01?[new Bn(re,1-ve),new Bn(ye,1-Se),new Bn(Oe,1-He),new Bn(Je,1-pt)]:[new Bn(ue,1-ve),new Bn(Be,1-Se),new Bn(be,1-He),new Bn(Ye,1-pt)]}};function Hh(n,o,u){if(u.shapes=[],Array.isArray(n))for(var m=0,P=n.length;m<P;m++){var z=n[m];u.shapes.push(z.uuid)}else u.shapes.push(n.uuid);return o.extrudePath!==void 0&&(u.options.extrudePath=o.extrudePath.toJSON()),u}function Zo(n,o){Kr.call(this),this.type="TextGeometry",this.parameters={text:n,parameters:o},this.fromBufferGeometry(new ya(n,o)),this.mergeVertices()}function ya(n,o){var u=(o=o||{}).font;if(!u||!u.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Kr;var m=u.generateShapes(n,o.size);o.depth=o.height!==void 0?o.height:50,o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),_l.call(this,m,o),this.type="TextBufferGeometry"}function gd(n,o,u,m,P,z,re){Kr.call(this),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:u,phiStart:m,phiLength:P,thetaStart:z,thetaLength:re},this.fromBufferGeometry(new Zl(n,o,u,m,P,z,re)),this.mergeVertices()}function Zl(n,o,u,m,P,z,re){dn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:n,widthSegments:o,heightSegments:u,phiStart:m,phiLength:P,thetaStart:z,thetaLength:re},n=n||1,o=Math.max(3,Math.floor(o)||8),u=Math.max(2,Math.floor(u)||6),m=m!==void 0?m:0,P=P!==void 0?P:2*Math.PI,z=z!==void 0?z:0,re=re!==void 0?re:Math.PI;var ue,ve,ye=Math.min(z+re,Math.PI),Be=0,Se=[],Oe=new mt,be=new mt,He=[],Je=[],Ye=[],pt=[];for(ve=0;ve<=u;ve++){var yt=[],Bt=ve/u,Vt=0;for(ve==0&&z==0?Vt=.5/o:ve==u&&ye==Math.PI&&(Vt=-.5/o),ue=0;ue<=o;ue++){var _t=ue/o;Oe.x=-n*Math.cos(m+_t*P)*Math.sin(z+Bt*re),Oe.y=n*Math.cos(z+Bt*re),Oe.z=n*Math.sin(m+_t*P)*Math.sin(z+Bt*re),Je.push(Oe.x,Oe.y,Oe.z),be.copy(Oe).normalize(),Ye.push(be.x,be.y,be.z),pt.push(_t+Vt,1-Bt),yt.push(Be++)}Se.push(yt)}for(ve=0;ve<u;ve++)for(ue=0;ue<o;ue++){var Wt=Se[ve][ue+1],Tt=Se[ve][ue],rn=Se[ve+1][ue],hn=Se[ve+1][ue+1];(ve!==0||0<z)&&He.push(Wt,Tt,hn),(ve!==u-1||ye<Math.PI)&&He.push(Tt,rn,hn)}this.setIndex(He),this.setAttribute("position",new Wn(Je,3)),this.setAttribute("normal",new Wn(Ye,3)),this.setAttribute("uv",new Wn(pt,2))}function vd(n,o,u,m,P,z){Kr.call(this),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:u,phiSegments:m,thetaStart:P,thetaLength:z},this.fromBufferGeometry(new vu(n,o,u,m,P,z)),this.mergeVertices()}function vu(n,o,u,m,P,z){dn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:n,outerRadius:o,thetaSegments:u,phiSegments:m,thetaStart:P,thetaLength:z},n=n||.5,o=o||1,P=P!==void 0?P:0,z=z!==void 0?z:2*Math.PI,u=u!==void 0?Math.max(3,u):8;var re,ue,ve,ye=[],Be=[],Se=[],Oe=[],be=n,He=(o-n)/(m=m!==void 0?Math.max(1,m):1),Je=new mt,Ye=new Bn;for(ue=0;ue<=m;ue++){for(ve=0;ve<=u;ve++)re=P+ve/u*z,Je.x=be*Math.cos(re),Je.y=be*Math.sin(re),Be.push(Je.x,Je.y,Je.z),Se.push(0,0,1),Ye.x=(Je.x/o+1)/2,Ye.y=(Je.y/o+1)/2,Oe.push(Ye.x,Ye.y);be+=He}for(ue=0;ue<m;ue++){var pt=ue*(u+1);for(ve=0;ve<u;ve++){var yt=re=ve+pt,Bt=re+u+1,Vt=re+u+2,_t=re+1;ye.push(yt,Bt,_t),ye.push(Bt,Vt,_t)}}this.setIndex(ye),this.setAttribute("position",new Wn(Be,3)),this.setAttribute("normal",new Wn(Se,3)),this.setAttribute("uv",new Wn(Oe,2))}function yu(n,o,u,m){Kr.call(this),this.type="LatheGeometry",this.parameters={points:n,segments:o,phiStart:u,phiLength:m},this.fromBufferGeometry(new Pc(n,o,u,m)),this.mergeVertices()}function Pc(n,o,u,m){dn.call(this),this.type="LatheBufferGeometry",this.parameters={points:n,segments:o,phiStart:u,phiLength:m},o=Math.floor(o)||12,u=u||0,m=m||2*Math.PI,m=ai.clamp(m,0,2*Math.PI);var P,z,re,ue=[],ve=[],ye=[],Be=1/o,Se=new mt,Oe=new Bn;for(z=0;z<=o;z++){var be=u+z*Be*m,He=Math.sin(be),Je=Math.cos(be);for(re=0;re<=n.length-1;re++)Se.x=n[re].x*He,Se.y=n[re].y,Se.z=n[re].x*Je,ve.push(Se.x,Se.y,Se.z),Oe.x=z/o,Oe.y=re/(n.length-1),ye.push(Oe.x,Oe.y)}for(z=0;z<o;z++)for(re=0;re<n.length-1;re++){var Ye=P=re+z*n.length,pt=P+n.length,yt=P+n.length+1,Bt=P+1;ue.push(Ye,pt,Bt),ue.push(pt,yt,Bt)}if(this.setIndex(ue),this.setAttribute("position",new Wn(ve,3)),this.setAttribute("uv",new Wn(ye,2)),this.computeVertexNormals(),m===2*Math.PI){var Vt=this.attributes.normal.array,_t=new mt,Wt=new mt,Tt=new mt;for(P=o*n.length*3,re=z=0;z<n.length;z++,re+=3)_t.x=Vt[re+0],_t.y=Vt[re+1],_t.z=Vt[re+2],Wt.x=Vt[P+re+0],Wt.y=Vt[P+re+1],Wt.z=Vt[P+re+2],Tt.addVectors(_t,Wt).normalize(),Vt[re+0]=Vt[P+re+0]=Tt.x,Vt[re+1]=Vt[P+re+1]=Tt.y,Vt[re+2]=Vt[P+re+2]=Tt.z}}function Oc(n,o){Kr.call(this),this.type="ShapeGeometry",typeof o=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),o=o.curveSegments),this.parameters={shapes:n,curveSegments:o},this.fromBufferGeometry(new rl(n,o)),this.mergeVertices()}function rl(n,o){dn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:o},o=o||12;var u=[],m=[],P=[],z=[],re=0,ue=0;if(Array.isArray(n)===!1)ye(n);else for(var ve=0;ve<n.length;ve++)ye(n[ve]),this.addGroup(re,ue,ve),re+=ue,ue=0;function ye(Be){var Se,Oe,be,He=m.length/3,Je=Be.extractPoints(o),Ye=Je.shape,pt=Je.holes;for(hl.isClockWise(Ye)===!1&&(Ye=Ye.reverse()),Se=0,Oe=pt.length;Se<Oe;Se++)be=pt[Se],hl.isClockWise(be)===!0&&(pt[Se]=be.reverse());var yt=hl.triangulateShape(Ye,pt);for(Se=0,Oe=pt.length;Se<Oe;Se++)be=pt[Se],Ye=Ye.concat(be);for(Se=0,Oe=Ye.length;Se<Oe;Se++){var Bt=Ye[Se];m.push(Bt.x,Bt.y,0),P.push(0,0,1),z.push(Bt.x,Bt.y)}for(Se=0,Oe=yt.length;Se<Oe;Se++){var Vt=yt[Se],_t=Vt[0]+He,Wt=Vt[1]+He,Tt=Vt[2]+He;u.push(_t,Wt,Tt),ue+=3}}this.setIndex(u),this.setAttribute("position",new Wn(m,3)),this.setAttribute("normal",new Wn(P,3)),this.setAttribute("uv",new Wn(z,2))}function Uh(n,o){if(o.shapes=[],Array.isArray(n))for(var u=0,m=n.length;u<m;u++){var P=n[u];o.shapes.push(P.uuid)}else o.shapes.push(n.uuid);return o}function Rc(n,o){dn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:o},o=o!==void 0?o:1;var u,m,P,z,re=[],ue=Math.cos(ai.DEG2RAD*o),ve=[0,0],ye={},Be=["a","b","c"];n.isBufferGeometry?(z=new Kr).fromBufferGeometry(n):z=n.clone(),z.mergeVertices(),z.computeFaceNormals();for(var Se=z.vertices,Oe=z.faces,be=0,He=Oe.length;be<He;be++)for(var Je=Oe[be],Ye=0;Ye<3;Ye++)u=Je[Be[Ye]],m=Je[Be[(Ye+1)%3]],ve[0]=Math.min(u,m),ve[1]=Math.max(u,m),ye[P=ve[0]+","+ve[1]]===void 0?ye[P]={index1:ve[0],index2:ve[1],face1:be,face2:void 0}:ye[P].face2=be;for(P in ye){var pt=ye[P];if(pt.face2===void 0||Oe[pt.face1].normal.dot(Oe[pt.face2].normal)<=ue){var yt=Se[pt.index1];re.push(yt.x,yt.y,yt.z),yt=Se[pt.index2],re.push(yt.x,yt.y,yt.z)}}this.setAttribute("position",new Wn(re,3))}function Kl(n,o,u,m,P,z,re,ue){Kr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:u,radialSegments:m,heightSegments:P,openEnded:z,thetaStart:re,thetaLength:ue},this.fromBufferGeometry(new Bl(n,o,u,m,P,z,re,ue)),this.mergeVertices()}function Bl(n,o,u,m,P,z,re,ue){dn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:n,radiusBottom:o,height:u,radialSegments:m,heightSegments:P,openEnded:z,thetaStart:re,thetaLength:ue};var ve=this;n=n!==void 0?n:1,o=o!==void 0?o:1,u=u||1,m=Math.floor(m)||8,P=Math.floor(P)||1,z=z!==void 0&&z,re=re!==void 0?re:0,ue=ue!==void 0?ue:2*Math.PI;var ye=[],Be=[],Se=[],Oe=[],be=0,He=[],Je=u/2,Ye=0;function pt(yt){var Bt,Vt,_t,Wt=new Bn,Tt=new mt,rn=0,hn=yt===!0?n:o,mn=yt===!0?1:-1;for(Vt=be,Bt=1;Bt<=m;Bt++)Be.push(0,Je*mn,0),Se.push(0,mn,0),Oe.push(.5,.5),be++;for(_t=be,Bt=0;Bt<=m;Bt++){var gn=Bt/m*ue+re,_n=Math.cos(gn),Vn=Math.sin(gn);Tt.x=hn*Vn,Tt.y=Je*mn,Tt.z=hn*_n,Be.push(Tt.x,Tt.y,Tt.z),Se.push(0,mn,0),Wt.x=.5*_n+.5,Wt.y=.5*Vn*mn+.5,Oe.push(Wt.x,Wt.y),be++}for(Bt=0;Bt<m;Bt++){var pn=Vt+Bt,ln=_t+Bt;yt===!0?ye.push(ln,ln+1,pn):ye.push(ln+1,ln,pn),rn+=3}ve.addGroup(Ye,rn,yt===!0?1:2),Ye+=rn}(function(){var yt,Bt,Vt=new mt,_t=new mt,Wt=0,Tt=(o-n)/u;for(Bt=0;Bt<=P;Bt++){var rn=[],hn=Bt/P,mn=hn*(o-n)+n;for(yt=0;yt<=m;yt++){var gn=yt/m,_n=gn*ue+re,Vn=Math.sin(_n),pn=Math.cos(_n);_t.x=mn*Vn,_t.y=-hn*u+Je,_t.z=mn*pn,Be.push(_t.x,_t.y,_t.z),Vt.set(Vn,Tt,pn).normalize(),Se.push(Vt.x,Vt.y,Vt.z),Oe.push(gn,1-hn),rn.push(be++)}He.push(rn)}for(yt=0;yt<m;yt++)for(Bt=0;Bt<P;Bt++){var ln=He[Bt][yt],Kn=He[Bt+1][yt],lr=He[Bt+1][yt+1],kr=He[Bt][yt+1];ye.push(ln,Kn,kr),ye.push(Kn,lr,kr),Wt+=6}ve.addGroup(Ye,Wt,0),Ye+=Wt})(),z===!1&&(0<n&&pt(!0),0<o&&pt(!1)),this.setIndex(ye),this.setAttribute("position",new Wn(Be,3)),this.setAttribute("normal",new Wn(Se,3)),this.setAttribute("uv",new Wn(Oe,2))}function yd(n,o,u,m,P,z,re){Kl.call(this,0,n,o,u,m,P,z,re),this.type="ConeGeometry",this.parameters={radius:n,height:o,radialSegments:u,heightSegments:m,openEnded:P,thetaStart:z,thetaLength:re}}function Cd(n,o,u,m,P,z,re){Bl.call(this,0,n,o,u,m,P,z,re),this.type="ConeBufferGeometry",this.parameters={radius:n,height:o,radialSegments:u,heightSegments:m,openEnded:P,thetaStart:z,thetaLength:re}}function Ed(n,o,u,m){Kr.call(this),this.type="CircleGeometry",this.parameters={radius:n,segments:o,thetaStart:u,thetaLength:m},this.fromBufferGeometry(new Cu(n,o,u,m)),this.mergeVertices()}function Cu(n,o,u,m){dn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:n,segments:o,thetaStart:u,thetaLength:m},n=n||1,o=o!==void 0?Math.max(3,o):8,u=u!==void 0?u:0,m=m!==void 0?m:2*Math.PI;var P,z,re=[],ue=[],ve=[],ye=[],Be=new mt,Se=new Bn;for(ue.push(0,0,0),ve.push(0,0,1),ye.push(.5,.5),z=0,P=3;z<=o;z++,P+=3){var Oe=u+z/o*m;Be.x=n*Math.cos(Oe),Be.y=n*Math.sin(Oe),ue.push(Be.x,Be.y,Be.z),ve.push(0,0,1),Se.x=(ue[P]/n+1)/2,Se.y=(ue[P+1]/n+1)/2,ye.push(Se.x,Se.y)}for(P=1;P<=o;P++)re.push(P,P+1,0);this.setIndex(re),this.setAttribute("position",new Wn(ue,3)),this.setAttribute("normal",new Wn(ve,3)),this.setAttribute("uv",new Wn(ye,2))}(Zo.prototype=Object.create(Kr.prototype)).constructor=Zo,(ya.prototype=Object.create(_l.prototype)).constructor=ya,(gd.prototype=Object.create(Kr.prototype)).constructor=gd,(Zl.prototype=Object.create(dn.prototype)).constructor=Zl,(vd.prototype=Object.create(Kr.prototype)).constructor=vd,(vu.prototype=Object.create(dn.prototype)).constructor=vu,(yu.prototype=Object.create(Kr.prototype)).constructor=yu,(Pc.prototype=Object.create(dn.prototype)).constructor=Pc,((Oc.prototype=Object.create(Kr.prototype)).constructor=Oc).prototype.toJSON=function(){var n=Kr.prototype.toJSON.call(this);return Uh(this.parameters.shapes,n)},((rl.prototype=Object.create(dn.prototype)).constructor=rl).prototype.toJSON=function(){var n=dn.prototype.toJSON.call(this);return Uh(this.parameters.shapes,n)},(Rc.prototype=Object.create(dn.prototype)).constructor=Rc,(Kl.prototype=Object.create(Kr.prototype)).constructor=Kl,(Bl.prototype=Object.create(dn.prototype)).constructor=Bl,(yd.prototype=Object.create(Kl.prototype)).constructor=yd,(Cd.prototype=Object.create(Bl.prototype)).constructor=Cd,(Ed.prototype=Object.create(Kr.prototype)).constructor=Ed,(Cu.prototype=Object.create(dn.prototype)).constructor=Cu;var Ya=Object.freeze({__proto__:null,WireframeGeometry:lu,ParametricGeometry:ls,ParametricBufferGeometry:cu,TetrahedronGeometry:di,TetrahedronBufferGeometry:uu,OctahedronGeometry:Oa,OctahedronBufferGeometry:Do,IcosahedronGeometry:js,IcosahedronBufferGeometry:du,DodecahedronGeometry:Bc,DodecahedronBufferGeometry:Es,PolyhedronGeometry:pd,PolyhedronBufferGeometry:ua,TubeGeometry:hu,TubeBufferGeometry:wl,TorusKnotGeometry:bo,TorusKnotBufferGeometry:wo,TorusGeometry:pu,TorusBufferGeometry:Mc,TextGeometry:Zo,TextBufferGeometry:ya,SphereGeometry:gd,SphereBufferGeometry:Zl,RingGeometry:vd,RingBufferGeometry:vu,PlaneGeometry:fc,PlaneBufferGeometry:Vl,LatheGeometry:yu,LatheBufferGeometry:Pc,ShapeGeometry:Oc,ShapeBufferGeometry:rl,ExtrudeGeometry:Yl,ExtrudeBufferGeometry:_l,EdgesGeometry:Rc,ConeGeometry:yd,ConeBufferGeometry:Cd,CylinderGeometry:Kl,CylinderBufferGeometry:Bl,CircleGeometry:Ed,CircleBufferGeometry:Cu,BoxGeometry:Rd,BoxBufferGeometry:zc});function Ql(n){En.call(this),this.type="ShadowMaterial",this.color=new Ft(0),this.transparent=!0,this.setValues(n)}function Ml(n){os.call(this,n),this.type="RawShaderMaterial"}function pl(n){En.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wa,this.normalScale=new Bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function Eu(n){pl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new Bn(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(n)}function Fl(n){En.call(this),this.type="MeshPhongMaterial",this.color=new Ft(16777215),this.specular=new Ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wa,this.normalScale=new Bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function xu(n){En.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ft(16777215),this.specular=new Ft(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wa,this.normalScale=new Bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function Du(n){En.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wa,this.normalScale=new Bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function Ca(n){En.call(this),this.type="MeshLambertMaterial",this.color=new Ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function ec(n){En.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wa,this.normalScale=new Bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function bu(n){Ho.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}((Ql.prototype=Object.create(En.prototype)).constructor=Ql).prototype.isShadowMaterial=!0,Ql.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this},((Ml.prototype=Object.create(os.prototype)).constructor=Ml).prototype.isRawShaderMaterial=!0,((pl.prototype=Object.create(En.prototype)).constructor=pl).prototype.isMeshStandardMaterial=!0,pl.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((Eu.prototype=Object.create(pl.prototype)).constructor=Eu).prototype.isMeshPhysicalMaterial=!0,Eu.prototype.copy=function(n){return pl.prototype.copy.call(this,n),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=n.reflectivity,this.clearcoat=n.clearcoat,this.clearcoatRoughness=n.clearcoatRoughness,n.sheen?this.sheen=(this.sheen||new Ft).copy(n.sheen):this.sheen=null,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.transparency=n.transparency,this},((Fl.prototype=Object.create(En.prototype)).constructor=Fl).prototype.isMeshPhongMaterial=!0,Fl.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((xu.prototype=Object.create(En.prototype)).constructor=xu).prototype.isMeshToonMaterial=!0,xu.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.gradientMap=n.gradientMap,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((Du.prototype=Object.create(En.prototype)).constructor=Du).prototype.isMeshNormalMaterial=!0,Du.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((Ca.prototype=Object.create(En.prototype)).constructor=Ca).prototype.isMeshLambertMaterial=!0,Ca.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((ec.prototype=Object.create(En.prototype)).constructor=ec).prototype.isMeshMatcapMaterial=!0,ec.prototype.copy=function(n){return En.prototype.copy.call(this,n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},((bu.prototype=Object.create(Ho.prototype)).constructor=bu).prototype.isLineDashedMaterial=!0,bu.prototype.copy=function(n){return Ho.prototype.copy.call(this,n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};var _p=Object.freeze({__proto__:null,ShadowMaterial:Ql,SpriteMaterial:Wl,RawShaderMaterial:Ml,ShaderMaterial:os,PointsMaterial:nl,MeshPhysicalMaterial:Eu,MeshStandardMaterial:pl,MeshPhongMaterial:Fl,MeshToonMaterial:xu,MeshNormalMaterial:Du,MeshLambertMaterial:Ca,MeshDepthMaterial:Ks,MeshDistanceMaterial:Hl,MeshBasicMaterial:pi,MeshMatcapMaterial:ec,LineDashedMaterial:bu,LineBasicMaterial:Ho,Material:En}),Io={arraySlice:function(n,o,u){return Io.isTypedArray(n)?new n.constructor(n.subarray(o,u!==void 0?u:n.length)):n.slice(o,u)},convertArray:function(n,o,u){return!n||!u&&n.constructor===o?n:typeof o.BYTES_PER_ELEMENT=="number"?new o(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){for(var o=n.length,u=new Array(o),m=0;m!==o;++m)u[m]=m;return u.sort(function(P,z){return n[P]-n[z]}),u},sortedArray:function(n,o,u){for(var m=n.length,P=new n.constructor(m),z=0,re=0;re!==m;++z)for(var ue=u[z]*o,ve=0;ve!==o;++ve)P[re++]=n[ue+ve];return P},flattenJSON:function(n,o,u,m){for(var P=1,z=n[0];z!==void 0&&z[m]===void 0;)z=n[P++];if(z!==void 0){var re=z[m];if(re!==void 0)if(Array.isArray(re))for(;(re=z[m])!==void 0&&(o.push(z.time),u.push.apply(u,re)),(z=n[P++])!==void 0;);else if(re.toArray!==void 0)for(;(re=z[m])!==void 0&&(o.push(z.time),re.toArray(u,u.length)),(z=n[P++])!==void 0;);else for(;(re=z[m])!==void 0&&(o.push(z.time),u.push(re)),(z=n[P++])!==void 0;);}},subclip:function(n,o,u,m,P){P=P||30;var z=n.clone();z.name=o;for(var re=[],ue=0;ue<z.tracks.length;++ue){for(var ve=z.tracks[ue],ye=ve.getValueSize(),Be=[],Se=[],Oe=0;Oe<ve.times.length;++Oe){var be=ve.times[Oe]*P;if(!(be<u||m<=be)){Be.push(ve.times[Oe]);for(var He=0;He<ye;++He)Se.push(ve.values[Oe*ye+He])}}Be.length!==0&&(ve.times=Io.convertArray(Be,ve.times.constructor),ve.values=Io.convertArray(Se,ve.values.constructor),re.push(ve))}z.tracks=re;var Je=1/0;for(ue=0;ue<z.tracks.length;++ue)Je>z.tracks[ue].times[0]&&(Je=z.tracks[ue].times[0]);for(ue=0;ue<z.tracks.length;++ue)z.tracks[ue].shift(-1*Je);return z.resetDuration(),z}};function Za(n,o,u,m){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=m!==void 0?m:new o.constructor(u),this.sampleValues=o,this.valueSize=u}function xd(n,o,u,m){Za.call(this,n,o,u,m),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function wu(n,o,u,m){Za.call(this,n,o,u,m)}function Dd(n,o,u,m){Za.call(this,n,o,u,m)}function Ea(n,o,u,m){if(n===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=Io.convertArray(o,this.TimeBufferType),this.values=Io.convertArray(u,this.ValueBufferType),this.setInterpolation(m||this.DefaultInterpolation)}function bd(n,o,u){Ea.call(this,n,o,u)}function wd(n,o,u,m){Ea.call(this,n,o,u,m)}function Sl(n,o,u,m){Ea.call(this,n,o,u,m)}function Lc(n,o,u,m){Za.call(this,n,o,u,m)}function tc(n,o,u,m){Ea.call(this,n,o,u,m)}function Ad(n,o,u,m){Ea.call(this,n,o,u,m)}function Ic(n,o,u,m){Ea.call(this,n,o,u,m)}function Fs(n,o,u){this.name=n,this.tracks=u,this.duration=o!==void 0?o:-1,this.uuid=ai.generateUUID(),this.duration<0&&this.resetDuration()}function Bp(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var o=function(P){switch(P.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sl;case"vector":case"vector2":case"vector3":case"vector4":return Ic;case"color":return wd;case"quaternion":return tc;case"bool":case"boolean":return bd;case"string":return Ad}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+P)}(n.type);if(n.times===void 0){var u=[],m=[];Io.flattenJSON(n.keys,u,m,"value"),n.times=u,n.values=m}return o.parse!==void 0?o.parse(n):new o(n.name,n.times,n.values,n.interpolation)}Object.assign(Za.prototype,{evaluate:function(n){var o=this.parameterPositions,u=this._cachedIndex,m=o[u],P=o[u-1];e:{t:{var z;n:{o:if(!(n<m)){for(var re=u+2;;){if(m===void 0){if(n<P)break o;return u=o.length,this._cachedIndex=u,this.afterEnd_(u-1,n,P)}if(u===re)break;if(P=m,n<(m=o[++u]))break t}z=o.length;break n}if(P<=n)break e;var ue=o[1];for(n<ue&&(u=2,P=ue),re=u-2;;){if(P===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,m);if(u===re)break;if(m=P,(P=o[--u-1])<=n)break t}z=u,u=0}for(;u<z;){var ve=u+z>>>1;n<o[ve]?z=ve:u=1+ve}if(m=o[u],(P=o[u-1])===void 0)return this._cachedIndex=0,this.beforeStart_(0,n,m);if(m===void 0)return u=o.length,this._cachedIndex=u,this.afterEnd_(u-1,P,n)}this._cachedIndex=u,this.intervalChanged_(u,P,m)}return this.interpolate_(u,P,n,m)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(n){for(var o=this.resultBuffer,u=this.sampleValues,m=this.valueSize,P=n*m,z=0;z!==m;++z)o[z]=u[P+z];return o},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Za.prototype,{beforeStart_:Za.prototype.copySampleValue_,afterEnd_:Za.prototype.copySampleValue_}),xd.prototype=Object.assign(Object.create(Za.prototype),{constructor:xd,DefaultSettings_:{endingStart:at,endingEnd:at},intervalChanged_:function(n,o,u){var m=this.parameterPositions,P=n-2,z=n+1,re=m[P],ue=m[z];if(re===void 0)switch(this.getSettings_().endingStart){case ze:P=n,re=2*o-u;break;case it:re=o+m[P=m.length-2]-m[P+1];break;default:P=n,re=u}if(ue===void 0)switch(this.getSettings_().endingEnd){case ze:z=n,ue=2*u-o;break;case it:ue=u+m[z=1]-m[0];break;default:z=n-1,ue=o}var ve=.5*(u-o),ye=this.valueSize;this._weightPrev=ve/(o-re),this._weightNext=ve/(ue-u),this._offsetPrev=P*ye,this._offsetNext=z*ye},interpolate_:function(n,o,u,m){for(var P=this.resultBuffer,z=this.sampleValues,re=this.valueSize,ue=n*re,ve=ue-re,ye=this._offsetPrev,Be=this._offsetNext,Se=this._weightPrev,Oe=this._weightNext,be=(u-o)/(m-o),He=be*be,Je=He*be,Ye=-Se*Je+2*Se*He-Se*be,pt=(1+Se)*Je+(-1.5-2*Se)*He+(-.5+Se)*be+1,yt=(-1-Oe)*Je+(1.5+Oe)*He+.5*be,Bt=Oe*Je-Oe*He,Vt=0;Vt!==re;++Vt)P[Vt]=Ye*z[ye+Vt]+pt*z[ve+Vt]+yt*z[ue+Vt]+Bt*z[Be+Vt];return P}}),wu.prototype=Object.assign(Object.create(Za.prototype),{constructor:wu,interpolate_:function(n,o,u,m){for(var P=this.resultBuffer,z=this.sampleValues,re=this.valueSize,ue=n*re,ve=ue-re,ye=(u-o)/(m-o),Be=1-ye,Se=0;Se!==re;++Se)P[Se]=z[ve+Se]*Be+z[ue+Se]*ye;return P}}),Dd.prototype=Object.assign(Object.create(Za.prototype),{constructor:Dd,interpolate_:function(n){return this.copySampleValue_(n-1)}}),Object.assign(Ea,{toJSON:function(n){var o,u=n.constructor;if(u.toJSON!==void 0)o=u.toJSON(n);else{o={name:n.name,times:Io.convertArray(n.times,Array),values:Io.convertArray(n.values,Array)};var m=n.getInterpolation();m!==n.DefaultInterpolation&&(o.interpolation=m)}return o.type=n.ValueTypeName,o}}),Object.assign(Ea.prototype,{constructor:Ea,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Fe,InterpolantFactoryMethodDiscrete:function(n){return new Dd(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodLinear:function(n){return new wu(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:function(n){return new xd(this.times,this.values,this.getValueSize(),n)},setInterpolation:function(n){var o;switch(n){case Ci:o=this.InterpolantFactoryMethodDiscrete;break;case Fe:o=this.InterpolantFactoryMethodLinear;break;case 2302:o=this.InterpolantFactoryMethodSmooth}if(o!==void 0)return this.createInterpolant=o,this;var u="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(n===this.DefaultInterpolation)throw new Error(u);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",u),this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ci;case this.InterpolantFactoryMethodLinear:return Fe;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(n){if(n!==0)for(var o=this.times,u=0,m=o.length;u!==m;++u)o[u]+=n;return this},scale:function(n){if(n!==1)for(var o=this.times,u=0,m=o.length;u!==m;++u)o[u]*=n;return this},trim:function(n,o){for(var u=this.times,m=u.length,P=0,z=m-1;P!==m&&u[P]<n;)++P;for(;z!==-1&&u[z]>o;)--z;if(++z,P!==0||z!==m){z<=P&&(P=(z=Math.max(z,1))-1);var re=this.getValueSize();this.times=Io.arraySlice(u,P,z),this.values=Io.arraySlice(this.values,P*re,z*re)}return this},validate:function(){var n=!0,o=this.getValueSize();o-Math.floor(o)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);var u=this.times,m=this.values,P=u.length;P===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);for(var z=null,re=0;re!==P;re++){var ue=u[re];if(typeof ue=="number"&&isNaN(ue)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,re,ue),n=!1;break}if(z!==null&&ue<z){console.error("THREE.KeyframeTrack: Out of order keys.",this,re,ue,z),n=!1;break}z=ue}if(m!==void 0&&Io.isTypedArray(m)){re=0;for(var ve=m.length;re!==ve;++re){var ye=m[re];if(isNaN(ye)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,re,ye),n=!1;break}}}return n},optimize:function(){for(var n=Io.arraySlice(this.times),o=Io.arraySlice(this.values),u=this.getValueSize(),m=this.getInterpolation()===2302,P=1,z=n.length-1,re=1;re<z;++re){var ue=!1,ve=n[re];if(ve!==n[re+1]&&(re!==1||ve!==ve[0]))if(m)ue=!0;else for(var ye=re*u,Be=ye-u,Se=ye+u,Oe=0;Oe!==u;++Oe){var be=o[ye+Oe];if(be!==o[Be+Oe]||be!==o[Se+Oe]){ue=!0;break}}if(ue){if(re!==P){n[P]=n[re];var He=re*u,Je=P*u;for(Oe=0;Oe!==u;++Oe)o[Je+Oe]=o[He+Oe]}++P}}if(0<z){for(n[P]=n[z],He=z*u,Je=P*u,Oe=0;Oe!==u;++Oe)o[Je+Oe]=o[He+Oe];++P}return P!==n.length?(this.times=Io.arraySlice(n,0,P),this.values=Io.arraySlice(o,0,P*u)):(this.times=n,this.values=o),this},clone:function(){var n=Io.arraySlice(this.times,0),o=Io.arraySlice(this.values,0),u=new this.constructor(this.name,n,o);return u.createInterpolant=this.createInterpolant,u}}),bd.prototype=Object.assign(Object.create(Ea.prototype),{constructor:bd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ci,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),wd.prototype=Object.assign(Object.create(Ea.prototype),{constructor:wd,ValueTypeName:"color"}),Sl.prototype=Object.assign(Object.create(Ea.prototype),{constructor:Sl,ValueTypeName:"number"}),Lc.prototype=Object.assign(Object.create(Za.prototype),{constructor:Lc,interpolate_:function(n,o,u,m){for(var P=this.resultBuffer,z=this.sampleValues,re=this.valueSize,ue=n*re,ve=(u-o)/(m-o),ye=ue+re;ue!==ye;ue+=4)Mo.slerpFlat(P,0,z,ue-re,z,ue,ve);return P}}),tc.prototype=Object.assign(Object.create(Ea.prototype),{constructor:tc,ValueTypeName:"quaternion",DefaultInterpolation:Fe,InterpolantFactoryMethodLinear:function(n){return new Lc(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:void 0}),Ad.prototype=Object.assign(Object.create(Ea.prototype),{constructor:Ad,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ci,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ic.prototype=Object.assign(Object.create(Ea.prototype),{constructor:Ic,ValueTypeName:"vector"}),Object.assign(Fs,{parse:function(n){for(var o=[],u=n.tracks,m=1/(n.fps||1),P=0,z=u.length;P!==z;++P)o.push(Bp(u[P]).scale(m));return new Fs(n.name,n.duration,o)},toJSON:function(n){for(var o=[],u=n.tracks,m={name:n.name,duration:n.duration,tracks:o,uuid:n.uuid},P=0,z=u.length;P!==z;++P)o.push(Ea.toJSON(u[P]));return m},CreateFromMorphTargetSequence:function(n,o,u,m){for(var P=o.length,z=[],re=0;re<P;re++){var ue=[],ve=[];ue.push((re+P-1)%P,re,(re+1)%P),ve.push(0,1,0);var ye=Io.getKeyframeOrder(ue);ue=Io.sortedArray(ue,1,ye),ve=Io.sortedArray(ve,1,ye),m||ue[0]!==0||(ue.push(P),ve.push(ve[0])),z.push(new Sl(".morphTargetInfluences["+o[re].name+"]",ue,ve).scale(1/u))}return new Fs(n,-1,z)},findByName:function(n,o){var u=n;Array.isArray(n)||(u=n.geometry&&n.geometry.animations||n.animations);for(var m=0;m<u.length;m++)if(u[m].name===o)return u[m];return null},CreateClipsFromMorphTargetSequences:function(n,o,u){for(var m={},P=/^([\w-]*?)([\d]+)$/,z=0,re=n.length;z<re;z++){var ue=n[z],ve=ue.name.match(P);if(ve&&1<ve.length){var ye=m[Se=ve[1]];ye||(m[Se]=ye=[]),ye.push(ue)}}var Be=[];for(var Se in m)Be.push(Fs.CreateFromMorphTargetSequence(Se,m[Se],o,u));return Be},parseAnimation:function(n,o){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var u=function(yt,Bt,Vt,_t,Wt){if(Vt.length!==0){var Tt=[],rn=[];Io.flattenJSON(Vt,Tt,rn,_t),Tt.length!==0&&Wt.push(new yt(Bt,Tt,rn))}},m=[],P=n.name||"default",z=n.length||-1,re=n.fps||30,ue=n.hierarchy||[],ve=0;ve<ue.length;ve++){var ye=ue[ve].keys;if(ye&&ye.length!==0)if(ye[0].morphTargets){for(var Be={},Se=0;Se<ye.length;Se++)if(ye[Se].morphTargets)for(var Oe=0;Oe<ye[Se].morphTargets.length;Oe++)Be[ye[Se].morphTargets[Oe]]=-1;for(var be in Be){var He=[],Je=[];for(Oe=0;Oe!==ye[Se].morphTargets.length;++Oe){var Ye=ye[Se];He.push(Ye.time),Je.push(Ye.morphTarget===be?1:0)}m.push(new Sl(".morphTargetInfluence["+be+"]",He,Je))}z=Be.length*(re||1)}else{var pt=".bones["+o[ve].name+"]";u(Ic,pt+".position",ye,"pos",m),u(tc,pt+".quaternion",ye,"rot",m),u(Ic,pt+".scale",ye,"scl",m)}}return m.length===0?null:new Fs(P,z,m)}}),Object.assign(Fs.prototype,{resetDuration:function(){for(var n=0,o=0,u=this.tracks.length;o!==u;++o){var m=this.tracks[o];n=Math.max(n,m.times[m.times.length-1])}return this.duration=n,this},trim:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this},validate:function(){for(var n=!0,o=0;o<this.tracks.length;o++)n=n&&this.tracks[o].validate();return n},optimize:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this},clone:function(){for(var n=[],o=0;o<this.tracks.length;o++)n.push(this.tracks[o].clone());return new Fs(this.name,this.duration,n)}});var nc={enabled:!1,files:{},add:function(n,o){this.enabled!==!1&&(this.files[n]=o)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};function hh(n,o,u){var m=this,P=!1,z=0,re=0,ue=void 0,ve=[];this.onStart=void 0,this.onLoad=n,this.onProgress=o,this.onError=u,this.itemStart=function(ye){re++,P===!1&&m.onStart!==void 0&&m.onStart(ye,z,re),P=!0},this.itemEnd=function(ye){z++,m.onProgress!==void 0&&m.onProgress(ye,z,re),z===re&&(P=!1,m.onLoad!==void 0&&m.onLoad())},this.itemError=function(ye){m.onError!==void 0&&m.onError(ye)},this.resolveURL=function(ye){return ue?ue(ye):ye},this.setURLModifier=function(ye){return ue=ye,this},this.addHandler=function(ye,Be){return ve.push(ye,Be),this},this.removeHandler=function(ye){var Be=ve.indexOf(ye);return Be!==-1&&ve.splice(Be,2),this},this.getHandler=function(ye){for(var Be=0,Se=ve.length;Be<Se;Be+=2){var Oe=ve[Be],be=ve[Be+1];if(Oe.global&&(Oe.lastIndex=0),Oe.test(ye))return be}return null}}var Gh=new hh;function F(n){this.manager=n!==void 0?n:Gh,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(F.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this},setResourcePath:function(n){return this.resourcePath=n,this}});var ee={};function ge(n){F.call(this,n)}function ke(n){F.call(this,n)}function $e(n){F.call(this,n)}function ft(n){F.call(this,n)}function Rt(n){F.call(this,n)}function Gt(n){F.call(this,n)}function on(n){F.call(this,n)}function nn(){this.type="Curve",this.arcLengthDivisions=200}function wn(n,o,u,m,P,z,re,ue){nn.call(this),this.type="EllipseCurve",this.aX=n||0,this.aY=o||0,this.xRadius=u||1,this.yRadius=m||1,this.aStartAngle=P||0,this.aEndAngle=z||2*Math.PI,this.aClockwise=re||!1,this.aRotation=ue||0}function jn(n,o,u,m,P,z){wn.call(this,n,o,u,u,m,P,z),this.type="ArcCurve"}function vr(){var n=0,o=0,u=0,m=0;function P(z,re,ue,ve){u=-3*(n=z)+3*re-2*(o=ue)-ve,m=2*z-2*re+ue+ve}return{initCatmullRom:function(z,re,ue,ve,ye){P(re,ue,ye*(ue-z),ye*(ve-re))},initNonuniformCatmullRom:function(z,re,ue,ve,ye,Be,Se){var Oe=(re-z)/ye-(ue-z)/(ye+Be)+(ue-re)/Be,be=(ue-re)/Be-(ve-re)/(Be+Se)+(ve-ue)/Se;P(re,ue,Oe*=Be,be*=Be)},calc:function(z){var re=z*z;return n+o*z+u*re+m*(re*z)}}}ge.prototype=Object.assign(Object.create(F.prototype),{constructor:ge,load:function(n,o,u,m){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var P=this,z=nc.get(n);if(z!==void 0)return P.manager.itemStart(n),setTimeout(function(){o&&o(z),P.manager.itemEnd(n)},0),z;if(ee[n]===void 0){var re=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(re){var ue=re[1],ve=!!re[2],ye=re[3];ye=decodeURIComponent(ye),ve&&(ye=atob(ye));try{var Be,Se=(this.responseType||"").toLowerCase();switch(Se){case"arraybuffer":case"blob":for(var Oe=new Uint8Array(ye.length),be=0;be<ye.length;be++)Oe[be]=ye.charCodeAt(be);Be=Se==="blob"?new Blob([Oe.buffer],{type:ue}):Oe.buffer;break;case"document":var He=new DOMParser;Be=He.parseFromString(ye,ue);break;case"json":Be=JSON.parse(ye);break;default:Be=ye}setTimeout(function(){o&&o(Be),P.manager.itemEnd(n)},0)}catch(pt){setTimeout(function(){m&&m(pt),P.manager.itemError(n),P.manager.itemEnd(n)},0)}}else{ee[n]=[],ee[n].push({onLoad:o,onProgress:u,onError:m});var Je=new XMLHttpRequest;for(var Ye in Je.open("GET",n,!0),Je.addEventListener("load",function(pt){var yt=this.response,Bt=ee[n];if(delete ee[n],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),nc.add(n,yt);for(var Vt=0,_t=Bt.length;Vt<_t;Vt++)(Wt=Bt[Vt]).onLoad&&Wt.onLoad(yt);P.manager.itemEnd(n)}else{for(Vt=0,_t=Bt.length;Vt<_t;Vt++){var Wt;(Wt=Bt[Vt]).onError&&Wt.onError(pt)}P.manager.itemError(n),P.manager.itemEnd(n)}},!1),Je.addEventListener("progress",function(pt){for(var yt=ee[n],Bt=0,Vt=yt.length;Bt<Vt;Bt++){var _t=yt[Bt];_t.onProgress&&_t.onProgress(pt)}},!1),Je.addEventListener("error",function(pt){var yt=ee[n];delete ee[n];for(var Bt=0,Vt=yt.length;Bt<Vt;Bt++){var _t=yt[Bt];_t.onError&&_t.onError(pt)}P.manager.itemError(n),P.manager.itemEnd(n)},!1),Je.addEventListener("abort",function(pt){var yt=ee[n];delete ee[n];for(var Bt=0,Vt=yt.length;Bt<Vt;Bt++){var _t=yt[Bt];_t.onError&&_t.onError(pt)}P.manager.itemError(n),P.manager.itemEnd(n)},!1),this.responseType!==void 0&&(Je.responseType=this.responseType),this.withCredentials!==void 0&&(Je.withCredentials=this.withCredentials),Je.overrideMimeType&&Je.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain"),this.requestHeader)Je.setRequestHeader(Ye,this.requestHeader[Ye]);Je.send(null)}return P.manager.itemStart(n),Je}ee[n].push({onLoad:o,onProgress:u,onError:m})},setResponseType:function(n){return this.responseType=n,this},setWithCredentials:function(n){return this.withCredentials=n,this},setMimeType:function(n){return this.mimeType=n,this},setRequestHeader:function(n){return this.requestHeader=n,this}}),ke.prototype=Object.assign(Object.create(F.prototype),{constructor:ke,load:function(n,o,u,m){var P=this,z=new ge(P.manager);z.setPath(P.path),z.load(n,function(re){o(P.parse(JSON.parse(re)))},u,m)},parse:function(n){for(var o=[],u=0;u<n.length;u++){var m=Fs.parse(n[u]);o.push(m)}return o}}),$e.prototype=Object.assign(Object.create(F.prototype),{constructor:$e,load:function(n,o,u,m){var P=this,z=[],re=new dd;re.image=z;var ue=new ge(this.manager);function ve(Oe){ue.load(n[Oe],function(be){var He=P.parse(be,!0);z[Oe]={width:He.width,height:He.height,format:He.format,mipmaps:He.mipmaps},(ye+=1)===6&&(He.mipmapCount===1&&(re.minFilter=Xt),re.format=He.format,re.needsUpdate=!0,o&&o(re))},u,m)}if(ue.setPath(this.path),ue.setResponseType("arraybuffer"),Array.isArray(n))for(var ye=0,Be=0,Se=n.length;Be<Se;++Be)ve(Be);else ue.load(n,function(Oe){var be=P.parse(Oe,!0);if(be.isCubemap)for(var He=be.mipmaps.length/be.mipmapCount,Je=0;Je<He;Je++){z[Je]={mipmaps:[]};for(var Ye=0;Ye<be.mipmapCount;Ye++)z[Je].mipmaps.push(be.mipmaps[Je*be.mipmapCount+Ye]),z[Je].format=be.format,z[Je].width=be.width,z[Je].height=be.height}else re.image.width=be.width,re.image.height=be.height,re.mipmaps=be.mipmaps;be.mipmapCount===1&&(re.minFilter=Xt),re.format=be.format,re.needsUpdate=!0,o&&o(re)},u,m);return re}}),ft.prototype=Object.assign(Object.create(F.prototype),{constructor:ft,load:function(n,o,u,m){var P=this,z=new pc,re=new ge(this.manager);return re.setResponseType("arraybuffer"),re.setPath(this.path),re.load(n,function(ue){var ve=P.parse(ue);ve&&(ve.image!==void 0?z.image=ve.image:ve.data!==void 0&&(z.image.width=ve.width,z.image.height=ve.height,z.image.data=ve.data),z.wrapS=ve.wrapS!==void 0?ve.wrapS:bn,z.wrapT=ve.wrapT!==void 0?ve.wrapT:bn,z.magFilter=ve.magFilter!==void 0?ve.magFilter:Xt,z.minFilter=ve.minFilter!==void 0?ve.minFilter:Xt,z.anisotropy=ve.anisotropy!==void 0?ve.anisotropy:1,ve.format!==void 0&&(z.format=ve.format),ve.type!==void 0&&(z.type=ve.type),ve.mipmaps!==void 0&&(z.mipmaps=ve.mipmaps,z.minFilter=zn),ve.mipmapCount===1&&(z.minFilter=Xt),z.needsUpdate=!0,o&&o(z,ve))},u,m),z}}),Rt.prototype=Object.assign(Object.create(F.prototype),{constructor:Rt,load:function(n,o,u,m){this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var P=this,z=nc.get(n);if(z!==void 0)return P.manager.itemStart(n),setTimeout(function(){o&&o(z),P.manager.itemEnd(n)},0),z;var re=document.createElementNS("http://www.w3.org/1999/xhtml","img");function ue(){re.removeEventListener("load",ue,!1),re.removeEventListener("error",ve,!1),nc.add(n,this),o&&o(this),P.manager.itemEnd(n)}function ve(ye){re.removeEventListener("load",ue,!1),re.removeEventListener("error",ve,!1),m&&m(ye),P.manager.itemError(n),P.manager.itemEnd(n)}return re.addEventListener("load",ue,!1),re.addEventListener("error",ve,!1),n.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(re.crossOrigin=this.crossOrigin),P.manager.itemStart(n),re.src=n,re}}),Gt.prototype=Object.assign(Object.create(F.prototype),{constructor:Gt,load:function(n,o,u,m){var P=new El,z=new Rt(this.manager);z.setCrossOrigin(this.crossOrigin),z.setPath(this.path);var re=0;function ue(ye){z.load(n[ye],function(Be){P.images[ye]=Be,++re==6&&(P.needsUpdate=!0,o&&o(P))},void 0,m)}for(var ve=0;ve<n.length;++ve)ue(ve);return P}}),on.prototype=Object.assign(Object.create(F.prototype),{constructor:on,load:function(n,o,u,m){var P=new ji,z=new Rt(this.manager);return z.setCrossOrigin(this.crossOrigin),z.setPath(this.path),z.load(n,function(re){P.image=re;var ue=0<n.search(/\.jpe?g($|\?)/i)||n.search(/^data\:image\/jpeg/)===0;P.format=ue?lo:Ki,P.needsUpdate=!0,o!==void 0&&o(P)},u,m),P}}),Object.assign(nn.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(n,o){var u=this.getUtoTmapping(n);return this.getPoint(u,o)},getPoints:function(n){n===void 0&&(n=5);for(var o=[],u=0;u<=n;u++)o.push(this.getPoint(u/n));return o},getSpacedPoints:function(n){n===void 0&&(n=5);for(var o=[],u=0;u<=n;u++)o.push(this.getPointAt(u/n));return o},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o,u,m=[],P=this.getPoint(0),z=0;for(m.push(0),u=1;u<=n;u++)z+=(o=this.getPoint(u/n)).distanceTo(P),m.push(z),P=o;return this.cacheArcLengths=m},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(n,o){var u,m=this.getLengths(),P=0,z=m.length;u=o||n*m[z-1];for(var re,ue=0,ve=z-1;ue<=ve;)if((re=m[P=Math.floor(ue+(ve-ue)/2)]-u)<0)ue=P+1;else{if(!(0<re)){ve=P;break}ve=P-1}if(m[P=ve]===u)return P/(z-1);var ye=m[P];return(P+(u-ye)/(m[P+1]-ye))/(z-1)},getTangent:function(n){var o=n-1e-4,u=n+1e-4;o<0&&(o=0),1<u&&(u=1);var m=this.getPoint(o);return this.getPoint(u).clone().sub(m).normalize()},getTangentAt:function(n){var o=this.getUtoTmapping(n);return this.getTangent(o)},computeFrenetFrames:function(n,o){var u,m,P,z=new mt,re=[],ue=[],ve=[],ye=new mt,Be=new ri;for(u=0;u<=n;u++)m=u/n,re[u]=this.getTangentAt(m),re[u].normalize();ue[0]=new mt,ve[0]=new mt;var Se=Number.MAX_VALUE,Oe=Math.abs(re[0].x),be=Math.abs(re[0].y),He=Math.abs(re[0].z);for(Oe<=Se&&(Se=Oe,z.set(1,0,0)),be<=Se&&(Se=be,z.set(0,1,0)),He<=Se&&z.set(0,0,1),ye.crossVectors(re[0],z).normalize(),ue[0].crossVectors(re[0],ye),ve[0].crossVectors(re[0],ue[0]),u=1;u<=n;u++)ue[u]=ue[u-1].clone(),ve[u]=ve[u-1].clone(),ye.crossVectors(re[u-1],re[u]),ye.length()>Number.EPSILON&&(ye.normalize(),P=Math.acos(ai.clamp(re[u-1].dot(re[u]),-1,1)),ue[u].applyMatrix4(Be.makeRotationAxis(ye,P))),ve[u].crossVectors(re[u],ue[u]);if(o===!0)for(P=Math.acos(ai.clamp(ue[0].dot(ue[n]),-1,1)),P/=n,0<re[0].dot(ye.crossVectors(ue[0],ue[n]))&&(P=-P),u=1;u<=n;u++)ue[u].applyMatrix4(Be.makeRotationAxis(re[u],P*u)),ve[u].crossVectors(re[u],ue[u]);return{tangents:re,normals:ue,binormals:ve}},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this},toJSON:function(){var n={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return n.arcLengthDivisions=this.arcLengthDivisions,n.type=this.type,n},fromJSON:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}),((wn.prototype=Object.create(nn.prototype)).constructor=wn).prototype.isEllipseCurve=!0,wn.prototype.getPoint=function(n,o){for(var u=o||new Bn,m=2*Math.PI,P=this.aEndAngle-this.aStartAngle,z=Math.abs(P)<Number.EPSILON;P<0;)P+=m;for(;m<P;)P-=m;P<Number.EPSILON&&(P=z?0:m),this.aClockwise!==!0||z||(P===m?P=-m:P-=m);var re=this.aStartAngle+n*P,ue=this.aX+this.xRadius*Math.cos(re),ve=this.aY+this.yRadius*Math.sin(re);if(this.aRotation!==0){var ye=Math.cos(this.aRotation),Be=Math.sin(this.aRotation),Se=ue-this.aX,Oe=ve-this.aY;ue=Se*ye-Oe*Be+this.aX,ve=Se*Be+Oe*ye+this.aY}return u.set(ue,ve)},wn.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},wn.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n},wn.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},((jn.prototype=Object.create(wn.prototype)).constructor=jn).prototype.isArcCurve=!0;var wr=new mt,zr=new vr,Tn=new vr,$n=new vr;function Ar(n,o,u,m){nn.call(this),this.type="CatmullRomCurve3",this.points=n||[],this.closed=o||!1,this.curveType=u||"centripetal",this.tension=m||.5}function ir(n,o,u,m,P){var z=.5*(m-o),re=.5*(P-u),ue=n*n;return(2*u-2*m+z+re)*(n*ue)+(-3*u+3*m-2*z-re)*ue+z*n+u}function oi(n,o,u,m){return(re=1-n)*re*o+2*(1-(z=n))*z*u+(P=n)*P*m;var P,z,re}function Qr(n,o,u,m,P){return(ye=1-n)*ye*ye*o+3*(ve=1-(ue=n))*ve*ue*u+3*(1-(re=n))*re*re*m+(z=n)*z*z*P;var z,re,ue,ve,ye}function Di(n,o,u,m){nn.call(this),this.type="CubicBezierCurve",this.v0=n||new Bn,this.v1=o||new Bn,this.v2=u||new Bn,this.v3=m||new Bn}function _r(n,o,u,m){nn.call(this),this.type="CubicBezierCurve3",this.v0=n||new mt,this.v1=o||new mt,this.v2=u||new mt,this.v3=m||new mt}function Tr(n,o){nn.call(this),this.type="LineCurve",this.v1=n||new Bn,this.v2=o||new Bn}function po(n,o){nn.call(this),this.type="LineCurve3",this.v1=n||new mt,this.v2=o||new mt}function ao(n,o,u){nn.call(this),this.type="QuadraticBezierCurve",this.v0=n||new Bn,this.v1=o||new Bn,this.v2=u||new Bn}function Uo(n,o,u){nn.call(this),this.type="QuadraticBezierCurve3",this.v0=n||new mt,this.v1=o||new mt,this.v2=u||new mt}function Ui(n){nn.call(this),this.type="SplineCurve",this.points=n||[]}((Ar.prototype=Object.create(nn.prototype)).constructor=Ar).prototype.isCatmullRomCurve3=!0,Ar.prototype.getPoint=function(n,o){var u,m,P,z,re=o||new mt,ue=this.points,ve=ue.length,ye=(ve-(this.closed?0:1))*n,Be=Math.floor(ye),Se=ye-Be;if(this.closed?Be+=0<Be?0:(Math.floor(Math.abs(Be)/ve)+1)*ve:Se===0&&Be===ve-1&&(Be=ve-2,Se=1),u=this.closed||0<Be?ue[(Be-1)%ve]:(wr.subVectors(ue[0],ue[1]).add(ue[0]),wr),m=ue[Be%ve],P=ue[(Be+1)%ve],z=this.closed||Be+2<ve?ue[(Be+2)%ve]:(wr.subVectors(ue[ve-1],ue[ve-2]).add(ue[ve-1]),wr),this.curveType==="centripetal"||this.curveType==="chordal"){var Oe=this.curveType==="chordal"?.5:.25,be=Math.pow(u.distanceToSquared(m),Oe),He=Math.pow(m.distanceToSquared(P),Oe),Je=Math.pow(P.distanceToSquared(z),Oe);He<1e-4&&(He=1),be<1e-4&&(be=He),Je<1e-4&&(Je=He),zr.initNonuniformCatmullRom(u.x,m.x,P.x,z.x,be,He,Je),Tn.initNonuniformCatmullRom(u.y,m.y,P.y,z.y,be,He,Je),$n.initNonuniformCatmullRom(u.z,m.z,P.z,z.z,be,He,Je)}else this.curveType==="catmullrom"&&(zr.initCatmullRom(u.x,m.x,P.x,z.x,this.tension),Tn.initCatmullRom(u.y,m.y,P.y,z.y,this.tension),$n.initCatmullRom(u.z,m.z,P.z,z.z,this.tension));return re.set(zr.calc(Se),Tn.calc(Se),$n.calc(Se)),re},Ar.prototype.copy=function(n){nn.prototype.copy.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(m.clone())}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},Ar.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);n.points=[];for(var o=0,u=this.points.length;o<u;o++){var m=this.points[o];n.points.push(m.toArray())}return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n},Ar.prototype.fromJSON=function(n){nn.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(new mt().fromArray(m))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},((Di.prototype=Object.create(nn.prototype)).constructor=Di).prototype.isCubicBezierCurve=!0,Di.prototype.getPoint=function(n,o){var u=o||new Bn,m=this.v0,P=this.v1,z=this.v2,re=this.v3;return u.set(Qr(n,m.x,P.x,z.x,re.x),Qr(n,m.y,P.y,z.y,re.y)),u},Di.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},Di.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},Di.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},((_r.prototype=Object.create(nn.prototype)).constructor=_r).prototype.isCubicBezierCurve3=!0,_r.prototype.getPoint=function(n,o){var u=o||new mt,m=this.v0,P=this.v1,z=this.v2,re=this.v3;return u.set(Qr(n,m.x,P.x,z.x,re.x),Qr(n,m.y,P.y,z.y,re.y),Qr(n,m.z,P.z,z.z,re.z)),u},_r.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},_r.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},_r.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},((Tr.prototype=Object.create(nn.prototype)).constructor=Tr).prototype.isLineCurve=!0,Tr.prototype.getPoint=function(n,o){var u=o||new Bn;return n===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(n).add(this.v1)),u},Tr.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},Tr.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Tr.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Tr.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Tr.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((po.prototype=Object.create(nn.prototype)).constructor=po).prototype.isLineCurve3=!0,po.prototype.getPoint=function(n,o){var u=o||new mt;return n===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(n).add(this.v1)),u},po.prototype.getPointAt=function(n,o){return this.getPoint(n,o)},po.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},po.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},po.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((ao.prototype=Object.create(nn.prototype)).constructor=ao).prototype.isQuadraticBezierCurve=!0,ao.prototype.getPoint=function(n,o){var u=o||new Bn,m=this.v0,P=this.v1,z=this.v2;return u.set(oi(n,m.x,P.x,z.x),oi(n,m.y,P.y,z.y)),u},ao.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},ao.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},ao.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((Uo.prototype=Object.create(nn.prototype)).constructor=Uo).prototype.isQuadraticBezierCurve3=!0,Uo.prototype.getPoint=function(n,o){var u=o||new mt,m=this.v0,P=this.v1,z=this.v2;return u.set(oi(n,m.x,P.x,z.x),oi(n,m.y,P.y,z.y),oi(n,m.z,P.z,z.z)),u},Uo.prototype.copy=function(n){return nn.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Uo.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Uo.prototype.fromJSON=function(n){return nn.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},((Ui.prototype=Object.create(nn.prototype)).constructor=Ui).prototype.isSplineCurve=!0,Ui.prototype.getPoint=function(n,o){var u=o||new Bn,m=this.points,P=(m.length-1)*n,z=Math.floor(P),re=P-z,ue=m[z===0?z:z-1],ve=m[z],ye=m[z>m.length-2?m.length-1:z+1],Be=m[z>m.length-3?m.length-1:z+2];return u.set(ir(re,ue.x,ve.x,ye.x,Be.x),ir(re,ue.y,ve.y,ye.y,Be.y)),u},Ui.prototype.copy=function(n){nn.prototype.copy.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(m.clone())}return this},Ui.prototype.toJSON=function(){var n=nn.prototype.toJSON.call(this);n.points=[];for(var o=0,u=this.points.length;o<u;o++){var m=this.points[o];n.points.push(m.toArray())}return n},Ui.prototype.fromJSON=function(n){nn.prototype.fromJSON.call(this,n),this.points=[];for(var o=0,u=n.points.length;o<u;o++){var m=n.points[o];this.points.push(new Bn().fromArray(m))}return this};var xa=Object.freeze({__proto__:null,ArcCurve:jn,CatmullRomCurve3:Ar,CubicBezierCurve:Di,CubicBezierCurve3:_r,EllipseCurve:wn,LineCurve:Tr,LineCurve3:po,QuadraticBezierCurve:ao,QuadraticBezierCurve3:Uo,SplineCurve:Ui});function Da(){nn.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ba(n){Da.call(this),this.type="Path",this.currentPoint=new Bn,n&&this.setFromPoints(n)}function us(n){ba.call(this,n),this.uuid=ai.generateUUID(),this.type="Shape",this.holes=[]}function Vi(n,o){qt.call(this),this.type="Light",this.color=new Ft(n),this.intensity=o!==void 0?o:1,this.receiveShadow=void 0}function Au(n,o,u){Vi.call(this,n,u),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(qt.DefaultUp),this.updateMatrix(),this.groundColor=new Ft(o)}function Hs(n){this.camera=n,this.bias=0,this.radius=1,this.mapSize=new Bn(512,512),this.map=null,this.mapPass=null,this.matrix=new ri,this._frustum=new Nl,this._frameExtents=new Bn(1,1),this._viewportCount=1,this._viewports=[new Pi(0,0,1,1)]}function rc(){Hs.call(this,new zo(50,1,.5,500))}function kc(n,o,u,m,P,z){Vi.call(this,n,o),this.type="SpotLight",this.position.copy(qt.DefaultUp),this.updateMatrix(),this.target=new qt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(re){this.intensity=re/Math.PI}}),this.distance=u!==void 0?u:0,this.angle=m!==void 0?m:Math.PI/3,this.penumbra=P!==void 0?P:0,this.decay=z!==void 0?z:1,this.shadow=new rc}function Nc(){Hs.call(this,new zo(90,1,.5,500)),this._frameExtents=new Bn(4,2),this._viewportCount=6,this._viewports=[new Pi(2,1,1,1),new Pi(0,1,1,1),new Pi(3,1,1,1),new Pi(1,1,1,1),new Pi(3,0,1,1),new Pi(1,0,1,1)],this._cubeDirections=[new mt(1,0,0),new mt(-1,0,0),new mt(0,0,1),new mt(0,0,-1),new mt(0,1,0),new mt(0,-1,0)],this._cubeUps=[new mt(0,1,0),new mt(0,1,0),new mt(0,1,0),new mt(0,1,0),new mt(0,0,1),new mt(0,0,-1)]}function ic(n,o,u,m){Vi.call(this,n,o),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(P){this.intensity=P/(4*Math.PI)}}),this.distance=u!==void 0?u:0,this.decay=m!==void 0?m:1,this.shadow=new Nc}function oc(n,o,u,m,P,z){Vs.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n!==void 0?n:-1,this.right=o!==void 0?o:1,this.top=u!==void 0?u:1,this.bottom=m!==void 0?m:-1,this.near=P!==void 0?P:.1,this.far=z!==void 0?z:2e3,this.updateProjectionMatrix()}function ac(){Hs.call(this,new oc(-5,5,5,-5,.5,500))}function sc(n,o){Vi.call(this,n,o),this.type="DirectionalLight",this.position.copy(qt.DefaultUp),this.updateMatrix(),this.target=new qt,this.shadow=new ac}function Wh(n,o){Vi.call(this,n,o),this.type="AmbientLight",this.castShadow=void 0}function $h(n,o,u,m){Vi.call(this,n,o),this.type="RectAreaLight",this.width=u!==void 0?u:10,this.height=m!==void 0?m:10}function qh(n){F.call(this,n),this.textures={}}Da.prototype=Object.assign(Object.create(nn.prototype),{constructor:Da,add:function(n){this.curves.push(n)},closePath:function(){var n=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);n.equals(o)||this.curves.push(new Tr(o,n))},getPoint:function(n){for(var o=n*this.getLength(),u=this.getCurveLengths(),m=0;m<u.length;){if(u[m]>=o){var P=u[m]-o,z=this.curves[m],re=z.getLength(),ue=re===0?0:1-P/re;return z.getPointAt(ue)}m++}return null},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var n=[],o=0,u=0,m=this.curves.length;u<m;u++)o+=this.curves[u].getLength(),n.push(o);return this.cacheLengths=n},getSpacedPoints:function(n){n===void 0&&(n=40);for(var o=[],u=0;u<=n;u++)o.push(this.getPoint(u/n));return this.autoClose&&o.push(o[0]),o},getPoints:function(n){n=n||12;for(var o,u=[],m=0,P=this.curves;m<P.length;m++)for(var z=P[m],re=z&&z.isEllipseCurve?2*n:z&&(z.isLineCurve||z.isLineCurve3)?1:z&&z.isSplineCurve?n*z.points.length:n,ue=z.getPoints(re),ve=0;ve<ue.length;ve++){var ye=ue[ve];o&&o.equals(ye)||(u.push(ye),o=ye)}return this.autoClose&&1<u.length&&!u[u.length-1].equals(u[0])&&u.push(u[0]),u},copy:function(n){nn.prototype.copy.call(this,n),this.curves=[];for(var o=0,u=n.curves.length;o<u;o++){var m=n.curves[o];this.curves.push(m.clone())}return this.autoClose=n.autoClose,this},toJSON:function(){var n=nn.prototype.toJSON.call(this);n.autoClose=this.autoClose,n.curves=[];for(var o=0,u=this.curves.length;o<u;o++){var m=this.curves[o];n.curves.push(m.toJSON())}return n},fromJSON:function(n){nn.prototype.fromJSON.call(this,n),this.autoClose=n.autoClose,this.curves=[];for(var o=0,u=n.curves.length;o<u;o++){var m=n.curves[o];this.curves.push(new xa[m.type]().fromJSON(m))}return this}}),ba.prototype=Object.assign(Object.create(Da.prototype),{constructor:ba,setFromPoints:function(n){this.moveTo(n[0].x,n[0].y);for(var o=1,u=n.length;o<u;o++)this.lineTo(n[o].x,n[o].y);return this},moveTo:function(n,o){return this.currentPoint.set(n,o),this},lineTo:function(n,o){var u=new Tr(this.currentPoint.clone(),new Bn(n,o));return this.curves.push(u),this.currentPoint.set(n,o),this},quadraticCurveTo:function(n,o,u,m){var P=new ao(this.currentPoint.clone(),new Bn(n,o),new Bn(u,m));return this.curves.push(P),this.currentPoint.set(u,m),this},bezierCurveTo:function(n,o,u,m,P,z){var re=new Di(this.currentPoint.clone(),new Bn(n,o),new Bn(u,m),new Bn(P,z));return this.curves.push(re),this.currentPoint.set(P,z),this},splineThru:function(n){var o=new Ui([this.currentPoint.clone()].concat(n));return this.curves.push(o),this.currentPoint.copy(n[n.length-1]),this},arc:function(n,o,u,m,P,z){var re=this.currentPoint.x,ue=this.currentPoint.y;return this.absarc(n+re,o+ue,u,m,P,z),this},absarc:function(n,o,u,m,P,z){return this.absellipse(n,o,u,u,m,P,z),this},ellipse:function(n,o,u,m,P,z,re,ue){var ve=this.currentPoint.x,ye=this.currentPoint.y;return this.absellipse(n+ve,o+ye,u,m,P,z,re,ue),this},absellipse:function(n,o,u,m,P,z,re,ue){var ve=new wn(n,o,u,m,P,z,re,ue);if(0<this.curves.length){var ye=ve.getPoint(0);ye.equals(this.currentPoint)||this.lineTo(ye.x,ye.y)}this.curves.push(ve);var Be=ve.getPoint(1);return this.currentPoint.copy(Be),this},copy:function(n){return Da.prototype.copy.call(this,n),this.currentPoint.copy(n.currentPoint),this},toJSON:function(){var n=Da.prototype.toJSON.call(this);return n.currentPoint=this.currentPoint.toArray(),n},fromJSON:function(n){return Da.prototype.fromJSON.call(this,n),this.currentPoint.fromArray(n.currentPoint),this}}),us.prototype=Object.assign(Object.create(ba.prototype),{constructor:us,getPointsHoles:function(n){for(var o=[],u=0,m=this.holes.length;u<m;u++)o[u]=this.holes[u].getPoints(n);return o},extractPoints:function(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}},copy:function(n){ba.prototype.copy.call(this,n),this.holes=[];for(var o=0,u=n.holes.length;o<u;o++){var m=n.holes[o];this.holes.push(m.clone())}return this},toJSON:function(){var n=ba.prototype.toJSON.call(this);n.uuid=this.uuid,n.holes=[];for(var o=0,u=this.holes.length;o<u;o++){var m=this.holes[o];n.holes.push(m.toJSON())}return n},fromJSON:function(n){ba.prototype.fromJSON.call(this,n),this.uuid=n.uuid,this.holes=[];for(var o=0,u=n.holes.length;o<u;o++){var m=n.holes[o];this.holes.push(new ba().fromJSON(m))}return this}}),Vi.prototype=Object.assign(Object.create(qt.prototype),{constructor:Vi,isLight:!0,copy:function(n){return qt.prototype.copy.call(this,n),this.color.copy(n.color),this.intensity=n.intensity,this},toJSON:function(n){var o=qt.prototype.toJSON.call(this,n);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,this.groundColor!==void 0&&(o.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(o.object.distance=this.distance),this.angle!==void 0&&(o.object.angle=this.angle),this.decay!==void 0&&(o.object.decay=this.decay),this.penumbra!==void 0&&(o.object.penumbra=this.penumbra),this.shadow!==void 0&&(o.object.shadow=this.shadow.toJSON()),o}}),Au.prototype=Object.assign(Object.create(Vi.prototype),{constructor:Au,isHemisphereLight:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.groundColor.copy(n.groundColor),this}}),Object.assign(Hs.prototype,{_projScreenMatrix:new ri,_lightPositionWorld:new mt,_lookTarget:new mt,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(n){var o=this.camera,u=this.matrix,m=this._projScreenMatrix,P=this._lookTarget,z=this._lightPositionWorld;z.setFromMatrixPosition(n.matrixWorld),o.position.copy(z),P.setFromMatrixPosition(n.target.matrixWorld),o.lookAt(P),o.updateMatrixWorld(),m.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(o.projectionMatrix),u.multiply(o.matrixWorldInverse)},getViewport:function(n){return this._viewports[n]},getFrameExtents:function(){return this._frameExtents},copy:function(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n={};return this.bias!==0&&(n.bias=this.bias),this.radius!==1&&(n.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}),rc.prototype=Object.assign(Object.create(Hs.prototype),{constructor:rc,isSpotLightShadow:!0,updateMatrices:function(n){var o=this.camera,u=2*ai.RAD2DEG*n.angle,m=this.mapSize.width/this.mapSize.height,P=n.distance||o.far;u===o.fov&&m===o.aspect&&P===o.far||(o.fov=u,o.aspect=m,o.far=P,o.updateProjectionMatrix()),Hs.prototype.updateMatrices.call(this,n)}}),kc.prototype=Object.assign(Object.create(Vi.prototype),{constructor:kc,isSpotLight:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),Nc.prototype=Object.assign(Object.create(Hs.prototype),{constructor:Nc,isPointLightShadow:!0,updateMatrices:function(n,o){o===void 0&&(o=0);var u=this.camera,m=this.matrix,P=this._lightPositionWorld,z=this._lookTarget,re=this._projScreenMatrix;P.setFromMatrixPosition(n.matrixWorld),u.position.copy(P),z.copy(u.position),z.add(this._cubeDirections[o]),u.up.copy(this._cubeUps[o]),u.lookAt(z),u.updateMatrixWorld(),m.makeTranslation(-P.x,-P.y,-P.z),re.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),this._frustum.setFromProjectionMatrix(re)}}),ic.prototype=Object.assign(Object.create(Vi.prototype),{constructor:ic,isPointLight:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}),oc.prototype=Object.assign(Object.create(Vs.prototype),{constructor:oc,isOrthographicCamera:!0,copy:function(n,o){return Vs.prototype.copy.call(this,n,o),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=n.view===null?null:Object.assign({},n.view),this},setViewOffset:function(n,o,u,m,P,z){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=o,this.view.offsetX=u,this.view.offsetY=m,this.view.width=P,this.view.height=z,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),u=(this.right+this.left)/2,m=(this.top+this.bottom)/2,P=u-n,z=u+n,re=m+o,ue=m-o;if(this.view!==null&&this.view.enabled){var ve=(this.right-this.left)/this.view.fullWidth/this.zoom,ye=(this.top-this.bottom)/this.view.fullHeight/this.zoom;z=(P+=ve*this.view.offsetX)+ve*this.view.width,ue=(re-=ye*this.view.offsetY)-ye*this.view.height}this.projectionMatrix.makeOrthographic(P,z,re,ue,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(n){var o=qt.prototype.toJSON.call(this,n);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,this.view!==null&&(o.object.view=Object.assign({},this.view)),o}}),ac.prototype=Object.assign(Object.create(Hs.prototype),{constructor:ac,isDirectionalLightShadow:!0,updateMatrices:function(n){Hs.prototype.updateMatrices.call(this,n)}}),sc.prototype=Object.assign(Object.create(Vi.prototype),{constructor:sc,isDirectionalLight:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),Wh.prototype=Object.assign(Object.create(Vi.prototype),{constructor:Wh,isAmbientLight:!0}),$h.prototype=Object.assign(Object.create(Vi.prototype),{constructor:$h,isRectAreaLight:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.width=n.width,this.height=n.height,this},toJSON:function(n){var o=Vi.prototype.toJSON.call(this,n);return o.object.width=this.width,o.object.height=this.height,o}}),qh.prototype=Object.assign(Object.create(F.prototype),{constructor:qh,load:function(n,o,u,m){var P=this,z=new ge(P.manager);z.setPath(P.path),z.load(n,function(re){o(P.parse(JSON.parse(re)))},u,m)},parse:function(n){var o=this.textures;function u(ve){return o[ve]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ve),o[ve]}var m=new _p[n.type];if(n.uuid!==void 0&&(m.uuid=n.uuid),n.name!==void 0&&(m.name=n.name),n.color!==void 0&&m.color.setHex(n.color),n.roughness!==void 0&&(m.roughness=n.roughness),n.metalness!==void 0&&(m.metalness=n.metalness),n.sheen!==void 0&&(m.sheen=new Ft().setHex(n.sheen)),n.emissive!==void 0&&m.emissive.setHex(n.emissive),n.specular!==void 0&&m.specular.setHex(n.specular),n.shininess!==void 0&&(m.shininess=n.shininess),n.clearcoat!==void 0&&(m.clearcoat=n.clearcoat),n.clearcoatRoughness!==void 0&&(m.clearcoatRoughness=n.clearcoatRoughness),n.vertexColors!==void 0&&(m.vertexColors=n.vertexColors),n.fog!==void 0&&(m.fog=n.fog),n.flatShading!==void 0&&(m.flatShading=n.flatShading),n.blending!==void 0&&(m.blending=n.blending),n.combine!==void 0&&(m.combine=n.combine),n.side!==void 0&&(m.side=n.side),n.opacity!==void 0&&(m.opacity=n.opacity),n.transparent!==void 0&&(m.transparent=n.transparent),n.alphaTest!==void 0&&(m.alphaTest=n.alphaTest),n.depthTest!==void 0&&(m.depthTest=n.depthTest),n.depthWrite!==void 0&&(m.depthWrite=n.depthWrite),n.colorWrite!==void 0&&(m.colorWrite=n.colorWrite),n.stencilWrite!==void 0&&(m.stencilWrite=n.stencilWrite),n.stencilWriteMask!==void 0&&(m.stencilWriteMask=n.stencilWriteMask),n.stencilFunc!==void 0&&(m.stencilFunc=n.stencilFunc),n.stencilRef!==void 0&&(m.stencilRef=n.stencilRef),n.stencilFuncMask!==void 0&&(m.stencilFuncMask=n.stencilFuncMask),n.stencilFail!==void 0&&(m.stencilFail=n.stencilFail),n.stencilZFail!==void 0&&(m.stencilZFail=n.stencilZFail),n.stencilZPass!==void 0&&(m.stencilZPass=n.stencilZPass),n.wireframe!==void 0&&(m.wireframe=n.wireframe),n.wireframeLinewidth!==void 0&&(m.wireframeLinewidth=n.wireframeLinewidth),n.wireframeLinecap!==void 0&&(m.wireframeLinecap=n.wireframeLinecap),n.wireframeLinejoin!==void 0&&(m.wireframeLinejoin=n.wireframeLinejoin),n.rotation!==void 0&&(m.rotation=n.rotation),n.linewidth!==1&&(m.linewidth=n.linewidth),n.dashSize!==void 0&&(m.dashSize=n.dashSize),n.gapSize!==void 0&&(m.gapSize=n.gapSize),n.scale!==void 0&&(m.scale=n.scale),n.polygonOffset!==void 0&&(m.polygonOffset=n.polygonOffset),n.polygonOffsetFactor!==void 0&&(m.polygonOffsetFactor=n.polygonOffsetFactor),n.polygonOffsetUnits!==void 0&&(m.polygonOffsetUnits=n.polygonOffsetUnits),n.skinning!==void 0&&(m.skinning=n.skinning),n.morphTargets!==void 0&&(m.morphTargets=n.morphTargets),n.morphNormals!==void 0&&(m.morphNormals=n.morphNormals),n.dithering!==void 0&&(m.dithering=n.dithering),n.visible!==void 0&&(m.visible=n.visible),n.toneMapped!==void 0&&(m.toneMapped=n.toneMapped),n.userData!==void 0&&(m.userData=n.userData),n.uniforms!==void 0)for(var P in n.uniforms){var z=n.uniforms[P];switch(m.uniforms[P]={},z.type){case"t":m.uniforms[P].value=u(z.value);break;case"c":m.uniforms[P].value=new Ft().setHex(z.value);break;case"v2":m.uniforms[P].value=new Bn().fromArray(z.value);break;case"v3":m.uniforms[P].value=new mt().fromArray(z.value);break;case"v4":m.uniforms[P].value=new Pi().fromArray(z.value);break;case"m3":m.uniforms[P].value=new go().fromArray(z.value);case"m4":m.uniforms[P].value=new ri().fromArray(z.value);break;default:m.uniforms[P].value=z.value}}if(n.defines!==void 0&&(m.defines=n.defines),n.vertexShader!==void 0&&(m.vertexShader=n.vertexShader),n.fragmentShader!==void 0&&(m.fragmentShader=n.fragmentShader),n.extensions!==void 0)for(var re in n.extensions)m.extensions[re]=n.extensions[re];if(n.shading!==void 0&&(m.flatShading=n.shading===1),n.size!==void 0&&(m.size=n.size),n.sizeAttenuation!==void 0&&(m.sizeAttenuation=n.sizeAttenuation),n.map!==void 0&&(m.map=u(n.map)),n.matcap!==void 0&&(m.matcap=u(n.matcap)),n.alphaMap!==void 0&&(m.alphaMap=u(n.alphaMap),m.transparent=!0),n.bumpMap!==void 0&&(m.bumpMap=u(n.bumpMap)),n.bumpScale!==void 0&&(m.bumpScale=n.bumpScale),n.normalMap!==void 0&&(m.normalMap=u(n.normalMap)),n.normalMapType!==void 0&&(m.normalMapType=n.normalMapType),n.normalScale!==void 0){var ue=n.normalScale;Array.isArray(ue)===!1&&(ue=[ue,ue]),m.normalScale=new Bn().fromArray(ue)}return n.displacementMap!==void 0&&(m.displacementMap=u(n.displacementMap)),n.displacementScale!==void 0&&(m.displacementScale=n.displacementScale),n.displacementBias!==void 0&&(m.displacementBias=n.displacementBias),n.roughnessMap!==void 0&&(m.roughnessMap=u(n.roughnessMap)),n.metalnessMap!==void 0&&(m.metalnessMap=u(n.metalnessMap)),n.emissiveMap!==void 0&&(m.emissiveMap=u(n.emissiveMap)),n.emissiveIntensity!==void 0&&(m.emissiveIntensity=n.emissiveIntensity),n.specularMap!==void 0&&(m.specularMap=u(n.specularMap)),n.envMap!==void 0&&(m.envMap=u(n.envMap)),n.envMapIntensity!==void 0&&(m.envMapIntensity=n.envMapIntensity),n.reflectivity!==void 0&&(m.reflectivity=n.reflectivity),n.refractionRatio!==void 0&&(m.refractionRatio=n.refractionRatio),n.lightMap!==void 0&&(m.lightMap=u(n.lightMap)),n.lightMapIntensity!==void 0&&(m.lightMapIntensity=n.lightMapIntensity),n.aoMap!==void 0&&(m.aoMap=u(n.aoMap)),n.aoMapIntensity!==void 0&&(m.aoMapIntensity=n.aoMapIntensity),n.gradientMap!==void 0&&(m.gradientMap=u(n.gradientMap)),n.clearcoatNormalMap!==void 0&&(m.clearcoatNormalMap=u(n.clearcoatNormalMap)),n.clearcoatNormalScale!==void 0&&(m.clearcoatNormalScale=new Bn().fromArray(n.clearcoatNormalScale)),m},setTextures:function(n){return this.textures=n,this}});var Mp={decodeText:function(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);for(var o="",u=0,m=n.length;u<m;u++)o+=String.fromCharCode(n[u]);try{return decodeURIComponent(escape(o))}catch{return o}},extractUrlBase:function(n){var o=n.lastIndexOf("/");return o===-1?"./":n.substr(0,o+1)}};function Jh(){dn.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Xh(n,o,u,m){typeof u=="number"&&(m=u,u=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),kn.call(this,n,o,u),this.meshPerAttribute=m||1}function Yh(n){F.call(this,n)}Jh.prototype=Object.assign(Object.create(dn.prototype),{constructor:Jh,isInstancedBufferGeometry:!0,copy:function(n){return dn.prototype.copy.call(this,n),this.maxInstancedCount=n.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var n=dn.prototype.toJSON.call(this);return n.maxInstancedCount=this.maxInstancedCount,n.isInstancedBufferGeometry=!0,n}}),Xh.prototype=Object.assign(Object.create(kn.prototype),{constructor:Xh,isInstancedBufferAttribute:!0,copy:function(n){return kn.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this},toJSON:function(){var n=kn.prototype.toJSON.call(this);return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}),Yh.prototype=Object.assign(Object.create(F.prototype),{constructor:Yh,load:function(n,o,u,m){var P=this,z=new ge(P.manager);z.setPath(P.path),z.load(n,function(re){o(P.parse(JSON.parse(re)))},u,m)},parse:function(n){var o=new(n.isInstancedBufferGeometry?Jh:dn),u=n.data.index;if(u!==void 0){var m=new Fp[u.type](u.array);o.setIndex(new kn(m,1))}var P=n.data.attributes;for(var z in P){var re=P[z],ue=(m=new Fp[re.type](re.array),new(re.isInstancedBufferAttribute?Xh:kn)(m,re.itemSize,re.normalized));re.name!==void 0&&(ue.name=re.name),o.setAttribute(z,ue)}var ve=n.data.morphAttributes;if(ve)for(var z in ve){for(var ye=ve[z],Be=[],Se=0,Oe=ye.length;Se<Oe;Se++)re=ye[Se],ue=new kn(m=new Fp[re.type](re.array),re.itemSize,re.normalized),re.name!==void 0&&(ue.name=re.name),Be.push(ue);o.morphAttributes[z]=Be}n.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);var be=n.data.groups||n.data.drawcalls||n.data.offsets;if(be!==void 0){Se=0;for(var He=be.length;Se!==He;++Se){var Je=be[Se];o.addGroup(Je.start,Je.count,Je.materialIndex)}}var Ye=n.data.boundingSphere;if(Ye!==void 0){var pt=new mt;Ye.center!==void 0&&pt.fromArray(Ye.center),o.boundingSphere=new ki(pt,Ye.radius)}return n.name&&(o.name=n.name),n.userData&&(o.userData=n.userData),o}});var Fp={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zh(n){F.call(this,n)}Zh.prototype=Object.assign(Object.create(F.prototype),{constructor:Zh,load:function(n,o,u,m){var P=this,z=this.path===""?Mp.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||z;var re=new ge(P.manager);re.setPath(this.path),re.load(n,function(ue){var ve=null;try{ve=JSON.parse(ue)}catch(Be){return m!==void 0&&m(Be),void console.error("THREE:ObjectLoader: Can't parse "+n+".",Be.message)}var ye=ve.metadata;ye!==void 0&&ye.type!==void 0&&ye.type.toLowerCase()!=="geometry"?P.parse(ve,o):console.error("THREE.ObjectLoader: Can't load "+n)},u,m)},parse:function(n,o){var u=this.parseShape(n.shapes),m=this.parseGeometries(n.geometries,u),P=this.parseImages(n.images,function(){o!==void 0&&o(ue)}),z=this.parseTextures(n.textures,P),re=this.parseMaterials(n.materials,z),ue=this.parseObject(n.object,m,re);return n.animations&&(ue.animations=this.parseAnimations(n.animations)),n.images!==void 0&&n.images.length!==0||o!==void 0&&o(ue),ue},parseShape:function(n){var o={};if(n!==void 0)for(var u=0,m=n.length;u<m;u++){var P=new us().fromJSON(n[u]);o[P.uuid]=P}return o},parseGeometries:function(n,o){var u={};if(n!==void 0)for(var m=new Yh,P=0,z=n.length;P<z;P++){var re,ue=n[P];switch(ue.type){case"PlaneGeometry":case"PlaneBufferGeometry":re=new Ya[ue.type](ue.width,ue.height,ue.widthSegments,ue.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":re=new Ya[ue.type](ue.width,ue.height,ue.depth,ue.widthSegments,ue.heightSegments,ue.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":re=new Ya[ue.type](ue.radius,ue.segments,ue.thetaStart,ue.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":re=new Ya[ue.type](ue.radiusTop,ue.radiusBottom,ue.height,ue.radialSegments,ue.heightSegments,ue.openEnded,ue.thetaStart,ue.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":re=new Ya[ue.type](ue.radius,ue.height,ue.radialSegments,ue.heightSegments,ue.openEnded,ue.thetaStart,ue.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":re=new Ya[ue.type](ue.radius,ue.widthSegments,ue.heightSegments,ue.phiStart,ue.phiLength,ue.thetaStart,ue.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":re=new Ya[ue.type](ue.radius,ue.detail);break;case"RingGeometry":case"RingBufferGeometry":re=new Ya[ue.type](ue.innerRadius,ue.outerRadius,ue.thetaSegments,ue.phiSegments,ue.thetaStart,ue.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":re=new Ya[ue.type](ue.radius,ue.tube,ue.radialSegments,ue.tubularSegments,ue.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":re=new Ya[ue.type](ue.radius,ue.tube,ue.tubularSegments,ue.radialSegments,ue.p,ue.q);break;case"TubeGeometry":case"TubeBufferGeometry":re=new Ya[ue.type](new xa[ue.path.type]().fromJSON(ue.path),ue.tubularSegments,ue.radius,ue.radialSegments,ue.closed);break;case"LatheGeometry":case"LatheBufferGeometry":re=new Ya[ue.type](ue.points,ue.segments,ue.phiStart,ue.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":re=new Ya[ue.type](ue.vertices,ue.indices,ue.radius,ue.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var ve=[],ye=0,Be=ue.shapes.length;ye<Be;ye++){var Se=o[ue.shapes[ye]];ve.push(Se)}re=new Ya[ue.type](ve,ue.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(ve=[],ye=0,Be=ue.shapes.length;ye<Be;ye++)Se=o[ue.shapes[ye]],ve.push(Se);var Oe=ue.options.extrudePath;Oe!==void 0&&(ue.options.extrudePath=new xa[Oe.type]().fromJSON(Oe)),re=new Ya[ue.type](ve,ue.options);break;case"BufferGeometry":case"InstancedBufferGeometry":re=m.parse(ue);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?re=new THREE.LegacyJSONLoader().parse(ue,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+ue.type+'"');continue}re.uuid=ue.uuid,ue.name!==void 0&&(re.name=ue.name),re.isBufferGeometry===!0&&ue.userData!==void 0&&(re.userData=ue.userData),u[ue.uuid]=re}return u},parseMaterials:function(n,o){var u={},m={};if(n!==void 0){var P=new qh;P.setTextures(o);for(var z=0,re=n.length;z<re;z++){var ue=n[z];if(ue.type==="MultiMaterial"){for(var ve=[],ye=0;ye<ue.materials.length;ye++){var Be=ue.materials[ye];u[Be.uuid]===void 0&&(u[Be.uuid]=P.parse(Be)),ve.push(u[Be.uuid])}m[ue.uuid]=ve}else u[ue.uuid]===void 0&&(u[ue.uuid]=P.parse(ue)),m[ue.uuid]=u[ue.uuid]}}return m},parseAnimations:function(n){for(var o=[],u=0;u<n.length;u++){var m=n[u],P=Fs.parse(m);m.uuid!==void 0&&(P.uuid=m.uuid),o.push(P)}return o},parseImages:function(n,o){var u=this,m={};function P(He){return u.manager.itemStart(He),z.load(He,function(){u.manager.itemEnd(He)},void 0,function(){u.manager.itemError(He),u.manager.itemEnd(He)})}if(n!==void 0&&0<n.length){var z=new Rt(new hh(o));z.setCrossOrigin(this.crossOrigin);for(var re=0,ue=n.length;re<ue;re++){var ve=n[re],ye=ve.url;if(Array.isArray(ye)){m[ve.uuid]=[];for(var Be=0,Se=ye.length;Be<Se;Be++){var Oe=ye[Be],be=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Oe)?Oe:u.resourcePath+Oe;m[ve.uuid].push(P(be))}}else be=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ve.url)?ve.url:u.resourcePath+ve.url,m[ve.uuid]=P(be)}}return m},parseTextures:function(n,o){function u(ve,ye){return typeof ve=="number"?ve:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ve),ye[ve])}var m={};if(n!==void 0)for(var P=0,z=n.length;P<z;P++){var re,ue=n[P];ue.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',ue.uuid),o[ue.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",ue.image),(re=new(Array.isArray(o[ue.image])?El:ji)(o[ue.image])).needsUpdate=!0,re.uuid=ue.uuid,ue.name!==void 0&&(re.name=ue.name),ue.mapping!==void 0&&(re.mapping=u(ue.mapping,Kf)),ue.offset!==void 0&&re.offset.fromArray(ue.offset),ue.repeat!==void 0&&re.repeat.fromArray(ue.repeat),ue.center!==void 0&&re.center.fromArray(ue.center),ue.rotation!==void 0&&(re.rotation=ue.rotation),ue.wrap!==void 0&&(re.wrapS=u(ue.wrap[0],df),re.wrapT=u(ue.wrap[1],df)),ue.format!==void 0&&(re.format=ue.format),ue.type!==void 0&&(re.type=ue.type),ue.encoding!==void 0&&(re.encoding=ue.encoding),ue.minFilter!==void 0&&(re.minFilter=u(ue.minFilter,hf)),ue.magFilter!==void 0&&(re.magFilter=u(ue.magFilter,hf)),ue.anisotropy!==void 0&&(re.anisotropy=ue.anisotropy),ue.flipY!==void 0&&(re.flipY=ue.flipY),ue.premultiplyAlpha!==void 0&&(re.premultiplyAlpha=ue.premultiplyAlpha),ue.unpackAlignment!==void 0&&(re.unpackAlignment=ue.unpackAlignment),m[ue.uuid]=re}return m},parseObject:function(n,o,u){var m;function P(Ye){return o[Ye]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ye),o[Ye]}function z(Ye){if(Ye!==void 0){if(Array.isArray(Ye)){for(var pt=[],yt=0,Bt=Ye.length;yt<Bt;yt++){var Vt=Ye[yt];u[Vt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Vt),pt.push(u[Vt])}return pt}return u[Ye]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ye),u[Ye]}}switch(n.type){case"Scene":m=new er,n.background!==void 0&&Number.isInteger(n.background)&&(m.background=new Ft(n.background)),n.fog!==void 0&&(n.fog.type==="Fog"?m.fog=new Qs(n.fog.color,n.fog.near,n.fog.far):n.fog.type==="FogExp2"&&(m.fog=new Cs(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":m=new zo(n.fov,n.aspect,n.near,n.far),n.focus!==void 0&&(m.focus=n.focus),n.zoom!==void 0&&(m.zoom=n.zoom),n.filmGauge!==void 0&&(m.filmGauge=n.filmGauge),n.filmOffset!==void 0&&(m.filmOffset=n.filmOffset),n.view!==void 0&&(m.view=Object.assign({},n.view));break;case"OrthographicCamera":m=new oc(n.left,n.right,n.top,n.bottom,n.near,n.far),n.zoom!==void 0&&(m.zoom=n.zoom),n.view!==void 0&&(m.view=Object.assign({},n.view));break;case"AmbientLight":m=new Wh(n.color,n.intensity);break;case"DirectionalLight":m=new sc(n.color,n.intensity);break;case"PointLight":m=new ic(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":m=new $h(n.color,n.intensity,n.width,n.height);break;case"SpotLight":m=new kc(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":m=new Au(n.color,n.groundColor,n.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var re=P(n.geometry),ue=z(n.material);m=new(re.bones&&0<re.bones.length?nu:So)(re,ue);break;case"InstancedMesh":re=P(n.geometry),ue=z(n.material);var ve=n.count,ye=n.instanceMatrix;(m=new rd(re,ue,ve)).instanceMatrix=new kn(new Float32Array(ye.array),16);break;case"LOD":m=new tu;break;case"Line":m=new Ha(P(n.geometry),z(n.material),n.mode);break;case"LineLoop":m=new ou(P(n.geometry),z(n.material));break;case"LineSegments":m=new xo(P(n.geometry),z(n.material));break;case"PointCloud":case"Points":m=new wc(P(n.geometry),z(n.material));break;case"Sprite":m=new eu(z(n.material));break;case"Group":m=new Ul;break;default:m=new qt}if(m.uuid=n.uuid,n.name!==void 0&&(m.name=n.name),n.matrix!==void 0?(m.matrix.fromArray(n.matrix),n.matrixAutoUpdate!==void 0&&(m.matrixAutoUpdate=n.matrixAutoUpdate),m.matrixAutoUpdate&&m.matrix.decompose(m.position,m.quaternion,m.scale)):(n.position!==void 0&&m.position.fromArray(n.position),n.rotation!==void 0&&m.rotation.fromArray(n.rotation),n.quaternion!==void 0&&m.quaternion.fromArray(n.quaternion),n.scale!==void 0&&m.scale.fromArray(n.scale)),n.castShadow!==void 0&&(m.castShadow=n.castShadow),n.receiveShadow!==void 0&&(m.receiveShadow=n.receiveShadow),n.shadow&&(n.shadow.bias!==void 0&&(m.shadow.bias=n.shadow.bias),n.shadow.radius!==void 0&&(m.shadow.radius=n.shadow.radius),n.shadow.mapSize!==void 0&&m.shadow.mapSize.fromArray(n.shadow.mapSize),n.shadow.camera!==void 0&&(m.shadow.camera=this.parseObject(n.shadow.camera))),n.visible!==void 0&&(m.visible=n.visible),n.frustumCulled!==void 0&&(m.frustumCulled=n.frustumCulled),n.renderOrder!==void 0&&(m.renderOrder=n.renderOrder),n.userData!==void 0&&(m.userData=n.userData),n.layers!==void 0&&(m.layers.mask=n.layers),n.children!==void 0)for(var Be=n.children,Se=0;Se<Be.length;Se++)m.add(this.parseObject(Be[Se],o,u));if(n.type==="LOD"){n.autoUpdate!==void 0&&(m.autoUpdate=n.autoUpdate);for(var Oe=n.levels,be=0;be<Oe.length;be++){var He=Oe[be],Je=m.getObjectByProperty("uuid",He.object);Je!==void 0&&m.addLevel(Je,He.distance)}}return m}});var Kh,Kf={UVMapping:300,CubeReflectionMapping:Nt,CubeRefractionMapping:kt,EquirectangularReflectionMapping:Qt,EquirectangularRefractionMapping:gt,SphericalReflectionMapping:Dt,CubeUVReflectionMapping:zt,CubeUVRefractionMapping:et},df={RepeatWrapping:sn,ClampToEdgeWrapping:bn,MirroredRepeatWrapping:Fn},hf={NearestFilter:St,NearestMipmapNearestFilter:dt,NearestMipmapLinearFilter:At,LinearFilter:Xt,LinearMipmapNearestFilter:cn,LinearMipmapLinearFilter:zn};function Sp(n){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),F.call(this,n),this.options=void 0}function Tp(){this.type="ShapePath",this.color=new Ft,this.subPaths=[],this.currentPath=null}function Pp(n){this.type="Font",this.data=n}function Qf(n,o,u,m,P){var z=P.glyphs[n]||P.glyphs["?"];if(z){var re,ue,ve,ye,Be,Se,Oe,be,He=new Tp;if(z.o)for(var Je=z._cachedOutline||(z._cachedOutline=z.o.split(" ")),Ye=0,pt=Je.length;Ye<pt;)switch(Je[Ye++]){case"m":re=Je[Ye++]*o+u,ue=Je[Ye++]*o+m,He.moveTo(re,ue);break;case"l":re=Je[Ye++]*o+u,ue=Je[Ye++]*o+m,He.lineTo(re,ue);break;case"q":ve=Je[Ye++]*o+u,ye=Je[Ye++]*o+m,Be=Je[Ye++]*o+u,Se=Je[Ye++]*o+m,He.quadraticCurveTo(Be,Se,ve,ye);break;case"b":ve=Je[Ye++]*o+u,ye=Je[Ye++]*o+m,Be=Je[Ye++]*o+u,Se=Je[Ye++]*o+m,Oe=Je[Ye++]*o+u,be=Je[Ye++]*o+m,He.bezierCurveTo(Be,Se,Oe,be,ve,ye)}return{offsetX:z.ha*o,path:He}}console.error('THREE.Font: character "'+n+'" does not exists in font family '+P.familyName+".")}function Op(n){F.call(this,n)}Sp.prototype=Object.assign(Object.create(F.prototype),{constructor:Sp,setOptions:function(n){return this.options=n,this},load:function(n,o,u,m){n===void 0&&(n=""),this.path!==void 0&&(n=this.path+n),n=this.manager.resolveURL(n);var P=this,z=nc.get(n);if(z!==void 0)return P.manager.itemStart(n),setTimeout(function(){o&&o(z),P.manager.itemEnd(n)},0),z;fetch(n).then(function(re){return re.blob()}).then(function(re){return P.options===void 0?createImageBitmap(re):createImageBitmap(re,P.options)}).then(function(re){nc.add(n,re),o&&o(re),P.manager.itemEnd(n)}).catch(function(re){m&&m(re),P.manager.itemError(n),P.manager.itemEnd(n)}),P.manager.itemStart(n)}}),Object.assign(Tp.prototype,{moveTo:function(n,o){return this.currentPath=new ba,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,o),this},lineTo:function(n,o){return this.currentPath.lineTo(n,o),this},quadraticCurveTo:function(n,o,u,m){return this.currentPath.quadraticCurveTo(n,o,u,m),this},bezierCurveTo:function(n,o,u,m,P,z){return this.currentPath.bezierCurveTo(n,o,u,m,P,z),this},splineThru:function(n){return this.currentPath.splineThru(n),this},toShapes:function(n,o){function u(ln){for(var Kn=[],lr=0,kr=ln.length;lr<kr;lr++){var Or=ln[lr],Sr=new us;Sr.curves=Or.curves,Kn.push(Sr)}return Kn}function m(ln,Kn){for(var lr=Kn.length,kr=!1,Or=lr-1,Sr=0;Sr<lr;Or=Sr++){var ei=Kn[Or],dr=Kn[Sr],wt=dr.x-ei.x,Ht=dr.y-ei.y;if(Math.abs(Ht)>Number.EPSILON){if(Ht<0&&(ei=Kn[Sr],wt=-wt,dr=Kn[Or],Ht=-Ht),ln.y<ei.y||ln.y>dr.y)continue;if(ln.y===ei.y){if(ln.x===ei.x)return 1}else{var Nn=Ht*(ln.x-ei.x)-wt*(ln.y-ei.y);if(Nn==0)return 1;if(Nn<0)continue;kr=!kr}}else{if(ln.y!==ei.y)continue;if(dr.x<=ln.x&&ln.x<=ei.x||ei.x<=ln.x&&ln.x<=dr.x)return 1}}return kr}var P=hl.isClockWise,z=this.subPaths;if(z.length===0)return[];if(o===!0)return u(z);var re,ue,ve,ye=[];if(z.length===1)return ue=z[0],(ve=new us).curves=ue.curves,ye.push(ve),ye;var Be=!P(z[0].getPoints());Be=n?!Be:Be;var Se,Oe,be=[],He=[],Je=[],Ye=0;He[Ye]=void 0,Je[Ye]=[];for(var pt=0,yt=z.length;pt<yt;pt++)re=P(Se=(ue=z[pt]).getPoints()),(re=n?!re:re)?(!Be&&He[Ye]&&Ye++,He[Ye]={s:new us,p:Se},He[Ye].s.curves=ue.curves,Be&&Ye++,Je[Ye]=[]):Je[Ye].push({h:ue,p:Se[0]});if(!He[0])return u(z);if(1<He.length){for(var Bt=!1,Vt=[],_t=0,Wt=He.length;_t<Wt;_t++)be[_t]=[];for(_t=0,Wt=He.length;_t<Wt;_t++)for(var Tt=Je[_t],rn=0;rn<Tt.length;rn++){for(var hn=Tt[rn],mn=!0,gn=0;gn<He.length;gn++)m(hn.p,He[gn].p)&&(_t!==gn&&Vt.push({froms:_t,tos:gn,hole:rn}),mn?(mn=!1,be[gn].push(hn)):Bt=!0);mn&&be[_t].push(hn)}0<Vt.length&&(Bt||(Je=be))}pt=0;for(var _n=He.length;pt<_n;pt++){ve=He[pt].s,ye.push(ve);for(var Vn=0,pn=(Oe=Je[pt]).length;Vn<pn;Vn++)ve.holes.push(Oe[Vn].h)}return ye}}),Object.assign(Pp.prototype,{isFont:!0,generateShapes:function(n,o){o===void 0&&(o=100);for(var u=[],m=function(re,ue,ve){for(var ye=Array.from?Array.from(re):String(re).split(""),Be=ue/ve.resolution,Se=(ve.boundingBox.yMax-ve.boundingBox.yMin+ve.underlineThickness)*Be,Oe=[],be=0,He=0,Je=0;Je<ye.length;Je++){var Ye=ye[Je];if(Ye===`
`)be=0,He-=Se;else{var pt=Qf(Ye,Be,be,He,ve);be+=pt.offsetX,Oe.push(pt.path)}}return Oe}(n,o,this.data),P=0,z=m.length;P<z;P++)Array.prototype.push.apply(u,m[P].toShapes());return u}}),Op.prototype=Object.assign(Object.create(F.prototype),{constructor:Op,load:function(n,o,u,m){var P=this,z=new ge(this.manager);z.setPath(this.path),z.load(n,function(re){var ue;try{ue=JSON.parse(re)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),ue=JSON.parse(re.substring(65,re.length-2))}var ve=P.parse(ue);o&&o(ve)},u,m)},parse:function(n){return new Pp(n)}});var Rp={getContext:function(){return Kh===void 0&&(Kh=new(window.AudioContext||window.webkitAudioContext)),Kh},setContext:function(n){Kh=n}};function Qh(n){F.call(this,n)}function ep(){this.coefficients=[];for(var n=0;n<9;n++)this.coefficients.push(new mt)}function fl(n,o){Vi.call(this,void 0,o),this.sh=n!==void 0?n:new ep}function Lp(n,o,u){fl.call(this,void 0,u);var m=new Ft().set(n),P=new Ft().set(o),z=new mt(m.r,m.g,m.b),re=new mt(P.r,P.g,P.b),ue=Math.sqrt(Math.PI),ve=ue*Math.sqrt(.75);this.sh.coefficients[0].copy(z).add(re).multiplyScalar(ue),this.sh.coefficients[1].copy(z).sub(re).multiplyScalar(ve)}function Ip(n,o){fl.call(this,void 0,o);var u=new Ft().set(n);this.sh.coefficients[0].set(u.r,u.g,u.b).multiplyScalar(2*Math.sqrt(Math.PI))}Qh.prototype=Object.assign(Object.create(F.prototype),{constructor:Qh,load:function(n,o,u,m){var P=new ge(this.manager);P.setResponseType("arraybuffer"),P.setPath(this.path),P.load(n,function(z){var re=z.slice(0);Rp.getContext().decodeAudioData(re,function(ue){o(ue)})},u,m)}}),Object.assign(ep.prototype,{isSphericalHarmonics3:!0,set:function(n){for(var o=0;o<9;o++)this.coefficients[o].copy(n[o]);return this},zero:function(){for(var n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this},getAt:function(n,o){var u=n.x,m=n.y,P=n.z,z=this.coefficients;return o.copy(z[0]).multiplyScalar(.282095),o.addScale(z[1],.488603*m),o.addScale(z[2],.488603*P),o.addScale(z[3],.488603*u),o.addScale(z[4],u*m*1.092548),o.addScale(z[5],m*P*1.092548),o.addScale(z[6],.315392*(3*P*P-1)),o.addScale(z[7],u*P*1.092548),o.addScale(z[8],.546274*(u*u-m*m)),o},getIrradianceAt:function(n,o){var u=n.x,m=n.y,P=n.z,z=this.coefficients;return o.copy(z[0]).multiplyScalar(.886227),o.addScale(z[1],1.023328*m),o.addScale(z[2],1.023328*P),o.addScale(z[3],1.023328*u),o.addScale(z[4],.858086*u*m),o.addScale(z[5],.858086*m*P),o.addScale(z[6],.743125*P*P-.247708),o.addScale(z[7],.858086*u*P),o.addScale(z[8],.429043*(u*u-m*m)),o},add:function(n){for(var o=0;o<9;o++)this.coefficients[o].add(n.coefficients[o]);return this},scale:function(n){for(var o=0;o<9;o++)this.coefficients[o].multiplyScalar(n);return this},lerp:function(n,o){for(var u=0;u<9;u++)this.coefficients[u].lerp(n.coefficients[u],o);return this},equals:function(n){for(var o=0;o<9;o++)if(!this.coefficients[o].equals(n.coefficients[o]))return!1;return!0},copy:function(n){return this.set(n.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(n,o){o===void 0&&(o=0);for(var u=this.coefficients,m=0;m<9;m++)u[m].fromArray(n,o+3*m);return this},toArray:function(n,o){n===void 0&&(n=[]),o===void 0&&(o=0);for(var u=this.coefficients,m=0;m<9;m++)u[m].toArray(n,o+3*m);return n}}),Object.assign(ep,{getBasisAt:function(n,o){var u=n.x,m=n.y,P=n.z;o[0]=.282095,o[1]=.488603*m,o[2]=.488603*P,o[3]=.488603*u,o[4]=1.092548*u*m,o[5]=1.092548*m*P,o[6]=.315392*(3*P*P-1),o[7]=1.092548*u*P,o[8]=.546274*(u*u-m*m)}}),fl.prototype=Object.assign(Object.create(Vi.prototype),{constructor:fl,isLightProbe:!0,copy:function(n){return Vi.prototype.copy.call(this,n),this.sh.copy(n.sh),this.intensity=n.intensity,this},toJSON:function(n){return Vi.prototype.toJSON.call(this,n)}}),Lp.prototype=Object.assign(Object.create(fl.prototype),{constructor:Lp,isHemisphereLightProbe:!0,copy:function(n){return fl.prototype.copy.call(this,n),this},toJSON:function(n){return fl.prototype.toJSON.call(this,n)}}),Ip.prototype=Object.assign(Object.create(fl.prototype),{constructor:Ip,isAmbientLightProbe:!0,copy:function(n){return fl.prototype.copy.call(this,n),this},toJSON:function(n){return fl.prototype.toJSON.call(this,n)}});var pf=new ri,ff=new ri;function mf(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function kp(n){this.autoStart=n===void 0||n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(mf.prototype,{update:function(n){var o=this._cache;if(o.focus!==n.focus||o.fov!==n.fov||o.aspect!==n.aspect*this.aspect||o.near!==n.near||o.far!==n.far||o.zoom!==n.zoom||o.eyeSep!==this.eyeSep){o.focus=n.focus,o.fov=n.fov,o.aspect=n.aspect*this.aspect,o.near=n.near,o.far=n.far,o.zoom=n.zoom,o.eyeSep=this.eyeSep;var u,m,P=n.projectionMatrix.clone(),z=o.eyeSep/2,re=z*o.near/o.focus,ue=o.near*Math.tan(ai.DEG2RAD*o.fov*.5)/o.zoom;ff.elements[12]=-z,pf.elements[12]=z,u=-ue*o.aspect+re,m=ue*o.aspect+re,P.elements[0]=2*o.near/(m-u),P.elements[8]=(m+u)/(m-u),this.cameraL.projectionMatrix.copy(P),u=-ue*o.aspect-re,m=ue*o.aspect-re,P.elements[0]=2*o.near/(m-u),P.elements[8]=(m+u)/(m-u),this.cameraR.projectionMatrix.copy(P)}this.cameraL.matrixWorld.copy(n.matrixWorld).multiply(ff),this.cameraR.matrixWorld.copy(n.matrixWorld).multiply(pf)}}),Object.assign(kp.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var o=(typeof performance>"u"?Date:performance).now();n=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=n}return n}});var _u=new mt,gf=new Mo,em=new mt,Bu=new mt;function Np(){qt.call(this),this.type="AudioListener",this.context=Rp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kp}function _d(n){qt.call(this),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}Np.prototype=Object.assign(Object.create(qt.prototype),{constructor:Np,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(n){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this},updateMatrixWorld:function(n){qt.prototype.updateMatrixWorld.call(this,n);var o=this.context.listener,u=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_u,gf,em),Bu.set(0,0,-1).applyQuaternion(gf),o.positionX){var m=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(_u.x,m),o.positionY.linearRampToValueAtTime(_u.y,m),o.positionZ.linearRampToValueAtTime(_u.z,m),o.forwardX.linearRampToValueAtTime(Bu.x,m),o.forwardY.linearRampToValueAtTime(Bu.y,m),o.forwardZ.linearRampToValueAtTime(Bu.z,m),o.upX.linearRampToValueAtTime(u.x,m),o.upY.linearRampToValueAtTime(u.y,m),o.upZ.linearRampToValueAtTime(u.z,m)}else o.setPosition(_u.x,_u.y,_u.z),o.setOrientation(Bu.x,Bu.y,Bu.z,u.x,u.y,u.z)}}),_d.prototype=Object.assign(Object.create(qt.prototype),{constructor:_d,getOutput:function(){return this.gain},setNodeSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},setMediaElementSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(n),this.connect(),this},setMediaStreamSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(n),this.connect(),this},setBuffer:function(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(n){if(n===void 0&&(n=0),this.isPlaying!==!0){if(this.hasPlaybackControl!==!1){this._startedAt=this.context.currentTime+n;var o=this.context.createBufferSource();return o.buffer=this.buffer,o.loop=this.loop,o.loopStart=this.loopStart,o.loopEnd=this.loopEnd,o.onended=this.onEnded.bind(this),o.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=o,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(this.hasPlaybackControl!==!1)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var n=1,o=this.filters.length;n<o;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(n){return n=n||[],this.isPlaying===!0?(this.disconnect(),this.filters=n,this.connect()):this.filters=n,this},setDetune:function(n){if(this.detune=n,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(n){return this.setFilters(n?[n]:[])},setPlaybackRate:function(n){if(this.hasPlaybackControl!==!1)return this.playbackRate=n,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(n){if(this.hasPlaybackControl!==!1)return this.loop=n,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(n){return this.loopStart=n,this},setLoopEnd:function(n){return this.loopEnd=n,this},getVolume:function(){return this.gain.gain.value},setVolume:function(n){return this.gain.gain.setTargetAtTime(n,this.context.currentTime,.01),this}});var Mu=new mt,vf=new Mo,tm=new mt,Fu=new mt;function Vp(n){_d.call(this,n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function jp(n,o){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=o!==void 0?o:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}function zp(n,o,u){this.binding=n,this.valueSize=u;var m,P=Float64Array;switch(o){case"quaternion":m=this._slerp;break;case"string":case"bool":P=Array,m=this._select;break;default:m=this._lerp}this.buffer=new P(4*u),this._mixBufferRegion=m,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Vp.prototype=Object.assign(Object.create(_d.prototype),{constructor:Vp,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(n){return this.panner.refDistance=n,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(n){return this.panner.rolloffFactor=n,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(n){return this.panner.distanceModel=n,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(n){return this.panner.maxDistance=n,this},setDirectionalCone:function(n,o,u){return this.panner.coneInnerAngle=n,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=u,this},updateMatrixWorld:function(n){if(qt.prototype.updateMatrixWorld.call(this,n),this.hasPlaybackControl!==!0||this.isPlaying!==!1){this.matrixWorld.decompose(Mu,vf,tm),Fu.set(0,0,1).applyQuaternion(vf);var o=this.panner;if(o.positionX){var u=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(Mu.x,u),o.positionY.linearRampToValueAtTime(Mu.y,u),o.positionZ.linearRampToValueAtTime(Mu.z,u),o.orientationX.linearRampToValueAtTime(Fu.x,u),o.orientationY.linearRampToValueAtTime(Fu.y,u),o.orientationZ.linearRampToValueAtTime(Fu.z,u)}else o.setPosition(Mu.x,Mu.y,Mu.z),o.setOrientation(Fu.x,Fu.y,Fu.z)}}}),Object.assign(jp.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var n=0,o=this.getFrequencyData(),u=0;u<o.length;u++)n+=o[u];return n/o.length}}),Object.assign(zp.prototype,{accumulate:function(n,o){var u=this.buffer,m=this.valueSize,P=n*m+m,z=this.cumulativeWeight;if(z===0){for(var re=0;re!==m;++re)u[P+re]=u[re];z=o}else{var ue=o/(z+=o);this._mixBufferRegion(u,P,0,ue,m)}this.cumulativeWeight=z},apply:function(n){var o=this.valueSize,u=this.buffer,m=n*o+o,P=this.cumulativeWeight,z=this.binding;if(this.cumulativeWeight=0,P<1){var re=3*o;this._mixBufferRegion(u,m,re,1-P,o)}for(var ue=o,ve=o+o;ue!==ve;++ue)if(u[ue]!==u[ue+o]){z.setValue(u,m);break}},saveOriginalState:function(){var n=this.binding,o=this.buffer,u=this.valueSize,m=3*u;n.getValue(o,m);for(var P=u,z=m;P!==z;++P)o[P]=o[m+P%u];this.cumulativeWeight=0},restoreOriginalState:function(){var n=3*this.valueSize;this.binding.setValue(this.buffer,n)},_select:function(n,o,u,m,P){if(.5<=m)for(var z=0;z!==P;++z)n[o+z]=n[u+z]},_slerp:function(n,o,u,m){Mo.slerpFlat(n,o,n,o,n,u,m)},_lerp:function(n,o,u,m,P){for(var z=1-m,re=0;re!==P;++re){var ue=o+re;n[ue]=n[ue]*z+n[u+re]*m}}});var Hp="\\[\\]\\.:\\/",nm=new RegExp("["+Hp+"]","g"),Up="[^"+Hp+"]",rm="[^"+Hp.replace("\\.","")+"]",im=/((?:WC+[\/:])*)/.source.replace("WC",Up),om=/(WCOD+)?/.source.replace("WCOD",rm),am=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Up),sm=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Up),lm=new RegExp("^"+im+om+am+sm+"$"),cm=["material","materials","bones"];function yf(n,o,u){var m=u||ds.parseTrackName(o);this._targetGroup=n,this._bindings=n.subscribe_(o,m)}function ds(n,o,u){this.path=o,this.parsedPath=u||ds.parseTrackName(o),this.node=ds.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n}function Cf(){this.uuid=ai.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var n={};this._indicesByUUID=n;for(var o=0,u=arguments.length;o!==u;++o)n[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var m=this;this.stats={objects:{get total(){return m._objects.length},get inUse(){return this.total-m.nCachedObjects_}},get bindingsPerObject(){return m._bindings.length}}}function Ef(n,o,u){this._mixer=n,this._clip=o,this._localRoot=u||null;for(var m=o.tracks,P=m.length,z=new Array(P),re={endingStart:at,endingEnd:at},ue=0;ue!==P;++ue){var ve=m[ue].createInterpolant(null);(z[ue]=ve).settings=re}this._interpolantSettings=re,this._interpolants=z,this._propertyBindings=new Array(P),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Gp(n){this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function tp(n){typeof n=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=arguments[1]),this.value=n}function Wp(n,o,u){tl.call(this,n,o),this.meshPerAttribute=u||1}function xf(n,o,u,m){this.ray=new gi(n,o),this.near=u||0,this.far=m||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Df(n,o){return n.distance-o.distance}function $p(n,o,u,m){if(n.visible!==!1&&(n.raycast(o,u),m===!0))for(var P=n.children,z=0,re=P.length;z<re;z++)$p(P[z],o,u,!0)}function bf(n,o,u){return this.radius=n!==void 0?n:1,this.phi=o!==void 0?o:0,this.theta=u!==void 0?u:0,this}function wf(n,o,u){return this.radius=n!==void 0?n:1,this.theta=o!==void 0?o:0,this.y=u!==void 0?u:0,this}Object.assign(yf.prototype,{getValue:function(n,o){this.bind();var u=this._targetGroup.nCachedObjects_,m=this._bindings[u];m!==void 0&&m.getValue(n,o)},setValue:function(n,o){for(var u=this._bindings,m=this._targetGroup.nCachedObjects_,P=u.length;m!==P;++m)u[m].setValue(n,o)},bind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,u=n.length;o!==u;++o)n[o].bind()},unbind:function(){for(var n=this._bindings,o=this._targetGroup.nCachedObjects_,u=n.length;o!==u;++o)n[o].unbind()}}),Object.assign(ds,{Composite:yf,create:function(n,o,u){return n&&n.isAnimationObjectGroup?new ds.Composite(n,o,u):new ds(n,o,u)},sanitizeNodeName:function(n){return n.replace(/\s/g,"_").replace(nm,"")},parseTrackName:function(n){var o=lm.exec(n);if(!o)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var u={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},m=u.nodeName&&u.nodeName.lastIndexOf(".");if(m!==void 0&&m!==-1){var P=u.nodeName.substring(m+1);cm.indexOf(P)!==-1&&(u.nodeName=u.nodeName.substring(0,m),u.objectName=P)}if(u.propertyName===null||u.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return u},findNode:function(n,o){if(!o||o===""||o==="root"||o==="."||o===-1||o===n.name||o===n.uuid)return n;if(n.skeleton){var u=n.skeleton.getBoneByName(o);if(u!==void 0)return u}if(n.children){var m=function(z){for(var re=0;re<z.length;re++){var ue=z[re];if(ue.name===o||ue.uuid===o)return ue;var ve=m(ue.children);if(ve)return ve}return null},P=m(n.children);if(P)return P}return null}}),Object.assign(ds.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,o){n[o]=this.node[this.propertyName]},function(n,o){for(var u=this.resolvedProperty,m=0,P=u.length;m!==P;++m)n[o++]=u[m]},function(n,o){n[o]=this.resolvedProperty[this.propertyIndex]},function(n,o){this.resolvedProperty.toArray(n,o)}],SetterByBindingTypeAndVersioning:[[function(n,o){this.targetObject[this.propertyName]=n[o]},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.targetObject[this.propertyName]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){for(var u=this.resolvedProperty,m=0,P=u.length;m!==P;++m)u[m]=n[o++]},function(n,o){for(var u=this.resolvedProperty,m=0,P=u.length;m!==P;++m)u[m]=n[o++];this.targetObject.needsUpdate=!0},function(n,o){for(var u=this.resolvedProperty,m=0,P=u.length;m!==P;++m)u[m]=n[o++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty[this.propertyIndex]=n[o]},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty[this.propertyIndex]=n[o],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,o){this.resolvedProperty.fromArray(n,o)},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.needsUpdate=!0},function(n,o){this.resolvedProperty.fromArray(n,o),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(n,o){this.bind(),this.getValue(n,o)},setValue:function(n,o){this.bind(),this.setValue(n,o)},bind:function(){var n=this.node,o=this.parsedPath,u=o.objectName,m=o.propertyName,P=o.propertyIndex;if(n||(n=ds.findNode(this.rootNode,o.nodeName)||this.rootNode,this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(u){var z=o.objectIndex;switch(u){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(var re=0;re<n.length;re++)if(n[re].name===z){z=re;break}break;default:if(n[u]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[u]}if(z!==void 0){if(n[z]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[z]}}var ue=n[m];if(ue!==void 0){var ve=this.Versioning.None;(this.targetObject=n).needsUpdate!==void 0?ve=this.Versioning.NeedsUpdate:n.matrixWorldNeedsUpdate!==void 0&&(ve=this.Versioning.MatrixWorldNeedsUpdate);var ye=this.BindingType.Direct;if(P!==void 0){if(m==="morphTargetInfluences"){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(n.geometry.isBufferGeometry){if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(re=0;re<this.node.geometry.morphAttributes.position.length;re++)if(n.geometry.morphAttributes.position[re].name===P){P=re;break}}else{if(!n.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(re=0;re<this.node.geometry.morphTargets.length;re++)if(n.geometry.morphTargets[re].name===P){P=re;break}}}ye=this.BindingType.ArrayElement,this.resolvedProperty=ue,this.propertyIndex=P}else ue.fromArray!==void 0&&ue.toArray!==void 0?(ye=this.BindingType.HasFromToArray,this.resolvedProperty=ue):Array.isArray(ue)?(ye=this.BindingType.EntireArray,this.resolvedProperty=ue):this.propertyName=m;this.getValue=this.GetterByBindingType[ye],this.setValue=this.SetterByBindingTypeAndVersioning[ye][ve]}else{var Be=o.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Be+"."+m+" but it wasn't found.",n)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(ds.prototype,{_getValue_unbound:ds.prototype.getValue,_setValue_unbound:ds.prototype.setValue}),Object.assign(Cf.prototype,{isAnimationObjectGroup:!0,add:function(){for(var n=this._objects,o=n.length,u=this.nCachedObjects_,m=this._indicesByUUID,P=this._paths,z=this._parsedPaths,re=this._bindings,ue=re.length,ve=void 0,ye=0,Be=arguments.length;ye!==Be;++ye){var Se=arguments[ye],Oe=Se.uuid,be=m[Oe];if(be===void 0){be=o++,m[Oe]=be,n.push(Se);for(var He=0,Je=ue;He!==Je;++He)re[He].push(new ds(Se,P[He],z[He]))}else if(be<u){ve=n[be];var Ye=--u,pt=n[Ye];for(n[m[pt.uuid]=be]=pt,n[m[Oe]=Ye]=Se,He=0,Je=ue;He!==Je;++He){var yt=re[He],Bt=yt[Ye],Vt=yt[be];yt[be]=Bt,Vt===void 0&&(Vt=new ds(Se,P[He],z[He])),yt[Ye]=Vt}}else n[be]!==ve&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u},remove:function(){for(var n=this._objects,o=this.nCachedObjects_,u=this._indicesByUUID,m=this._bindings,P=m.length,z=0,re=arguments.length;z!==re;++z){var ue=arguments[z],ve=ue.uuid,ye=u[ve];if(ye!==void 0&&o<=ye){var Be=o++,Se=n[Be];n[u[Se.uuid]=ye]=Se,n[u[ve]=Be]=ue;for(var Oe=0,be=P;Oe!==be;++Oe){var He=m[Oe],Je=He[Be],Ye=He[ye];He[ye]=Je,He[Be]=Ye}}}this.nCachedObjects_=o},uncache:function(){for(var n=this._objects,o=n.length,u=this.nCachedObjects_,m=this._indicesByUUID,P=this._bindings,z=P.length,re=0,ue=arguments.length;re!==ue;++re){var ve=arguments[re].uuid,ye=m[ve];if(ye!==void 0)if(delete m[ve],ye<u){var Be=--u,Se=n[Be],Oe=n[pt=--o];n[m[Se.uuid]=ye]=Se,n[m[Oe.uuid]=Be]=Oe,n.pop();for(var be=0,He=z;be!==He;++be){var Je=(yt=P[be])[Be],Ye=yt[pt];yt[ye]=Je,yt[Be]=Ye,yt.pop()}}else{var pt;for(n[m[(Oe=n[pt=--o]).uuid]=ye]=Oe,n.pop(),be=0,He=z;be!==He;++be){var yt;(yt=P[be])[ye]=yt[pt],yt.pop()}}}this.nCachedObjects_=u},subscribe_:function(n,o){var u=this._bindingsIndicesByPath,m=u[n],P=this._bindings;if(m!==void 0)return P[m];var z=this._paths,re=this._parsedPaths,ue=this._objects,ve=ue.length,ye=this.nCachedObjects_,Be=new Array(ve);m=P.length,u[n]=m,z.push(n),re.push(o),P.push(Be);for(var Se=ye,Oe=ue.length;Se!==Oe;++Se){var be=ue[Se];Be[Se]=new ds(be,n,o)}return Be},unsubscribe_:function(n){var o=this._bindingsIndicesByPath,u=o[n];if(u!==void 0){var m=this._paths,P=this._parsedPaths,z=this._bindings,re=z.length-1,ue=z[re];z[o[n[re]]=u]=ue,z.pop(),P[u]=P[re],P.pop(),m[u]=m[re],m.pop()}}}),Object.assign(Ef.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(n){return this._startTime=n,this},setLoop:function(n,o){return this.loop=n,this.repetitions=o,this},setEffectiveWeight:function(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(n){return this._scheduleFading(n,0,1)},fadeOut:function(n){return this._scheduleFading(n,1,0)},crossFadeFrom:function(n,o,u){if(n.fadeOut(o),this.fadeIn(o),u){var m=this._clip.duration,P=n._clip.duration,z=P/m,re=m/P;n.warp(1,z,o),this.warp(re,1,o)}return this},crossFadeTo:function(n,o,u){return n.crossFadeFrom(this,o,u)},stopFading:function(){var n=this._weightInterpolant;return n!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},setEffectiveTimeScale:function(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(n){return this.timeScale=this._clip.duration/n,this.stopWarping()},syncWith:function(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()},halt:function(n){return this.warp(this._effectiveTimeScale,0,n)},warp:function(n,o,u){var m=this._mixer,P=m.time,z=this._timeScaleInterpolant,re=this.timeScale;z===null&&(z=m._lendControlInterpolant(),this._timeScaleInterpolant=z);var ue=z.parameterPositions,ve=z.sampleValues;return ue[0]=P,ue[1]=P+u,ve[0]=n/re,ve[1]=o/re,this},stopWarping:function(){var n=this._timeScaleInterpolant;return n!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(n,o,u,m){if(this.enabled){var P=this._startTime;if(P!==null){var z=(n-P)*u;if(z<0||u===0)return;this._startTime=null,o=u*z}o*=this._updateTimeScale(n);var re=this._updateTime(o),ue=this._updateWeight(n);if(0<ue)for(var ve=this._interpolants,ye=this._propertyBindings,Be=0,Se=ve.length;Be!==Se;++Be)ve[Be].evaluate(re),ye[Be].accumulate(m,ue)}else this._updateWeight(n)},_updateWeight:function(n){var o=0;if(this.enabled){o=this.weight;var u=this._weightInterpolant;if(u!==null){var m=u.evaluate(n)[0];o*=m,n>u.parameterPositions[1]&&(this.stopFading(),m===0&&(this.enabled=!1))}}return this._effectiveWeight=o},_updateTimeScale:function(n){var o=0;if(!this.paused){o=this.timeScale;var u=this._timeScaleInterpolant;u!==null&&(o*=u.evaluate(n)[0],n>u.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o))}return this._effectiveTimeScale=o},_updateTime:function(n){var o=this.time+n,u=this._clip.duration,m=this.loop,P=this._loopCount,z=m===2202;if(n===0)return P!==-1&&z&&(1&P)==1?u-o:o;if(m===2200){P===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(u<=o)o=u;else{if(!(o<0)){this.time=o;break e}o=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(P===-1&&(0<=n?(P=0,this._setEndings(!0,this.repetitions===0,z)):this._setEndings(this.repetitions===0,!0,z)),u<=o||o<0){var re=Math.floor(o/u);o-=u*re,P+=Math.abs(re);var ue=this.repetitions-P;if(ue<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=0<n?u:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<n?1:-1});else{if(ue==1){var ve=n<0;this._setEndings(ve,!ve,z)}else this._setEndings(!1,!1,z);this._loopCount=P,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:re})}}else this.time=o;if(z&&(1&P)==1)return u-o}return o},_setEndings:function(n,o,u){var m=this._interpolantSettings;u?(m.endingStart=ze,m.endingEnd=ze):(m.endingStart=n?this.zeroSlopeAtStart?ze:at:it,m.endingEnd=o?this.zeroSlopeAtEnd?ze:at:it)},_scheduleFading:function(n,o,u){var m=this._mixer,P=m.time,z=this._weightInterpolant;z===null&&(z=m._lendControlInterpolant(),this._weightInterpolant=z);var re=z.parameterPositions,ue=z.sampleValues;return re[0]=P,ue[0]=o,re[1]=P+n,ue[1]=u,this}}),Gp.prototype=Object.assign(Object.create(Fa.prototype),{constructor:Gp,_bindAction:function(n,o){var u=n._localRoot||this._root,m=n._clip.tracks,P=m.length,z=n._propertyBindings,re=n._interpolants,ue=u.uuid,ve=this._bindingsByRootAndName,ye=ve[ue];ye===void 0&&(ye={},ve[ue]=ye);for(var Be=0;Be!==P;++Be){var Se=m[Be],Oe=Se.name,be=ye[Oe];if(be!==void 0)z[Be]=be;else{if((be=z[Be])!==void 0){be._cacheIndex===null&&(++be.referenceCount,this._addInactiveBinding(be,ue,Oe));continue}var He=o&&o._propertyBindings[Be].binding.parsedPath;++(be=new zp(ds.create(u,Oe,He),Se.ValueTypeName,Se.getValueSize())).referenceCount,this._addInactiveBinding(be,ue,Oe),z[Be]=be}re[Be].resultBuffer=be.buffer}},_activateAction:function(n){if(!this._isActiveAction(n)){if(n._cacheIndex===null){var o=(n._localRoot||this._root).uuid,u=n._clip.uuid,m=this._actionsByClip[u];this._bindAction(n,m&&m.knownActions[0]),this._addInactiveAction(n,u,o)}for(var P=n._propertyBindings,z=0,re=P.length;z!==re;++z){var ue=P[z];ue.useCount++==0&&(this._lendBinding(ue),ue.saveOriginalState())}this._lendAction(n)}},_deactivateAction:function(n){if(this._isActiveAction(n)){for(var o=n._propertyBindings,u=0,m=o.length;u!==m;++u){var P=o[u];--P.useCount==0&&(P.restoreOriginalState(),this._takeBackBinding(P))}this._takeBackAction(n)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}},_isActiveAction:function(n){var o=n._cacheIndex;return o!==null&&o<this._nActiveActions},_addInactiveAction:function(n,o,u){var m=this._actions,P=this._actionsByClip,z=P[o];if(z===void 0)z={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,P[o]=z;else{var re=z.knownActions;n._byClipCacheIndex=re.length,re.push(n)}n._cacheIndex=m.length,m.push(n),z.actionByRoot[u]=n},_removeInactiveAction:function(n){var o=this._actions,u=o[o.length-1],m=n._cacheIndex;o[u._cacheIndex=m]=u,o.pop(),n._cacheIndex=null;var P=n._clip.uuid,z=this._actionsByClip,re=z[P],ue=re.knownActions,ve=ue[ue.length-1],ye=n._byClipCacheIndex;ue[ve._byClipCacheIndex=ye]=ve,ue.pop(),n._byClipCacheIndex=null,delete re.actionByRoot[(n._localRoot||this._root).uuid],ue.length===0&&delete z[P],this._removeInactiveBindingsForAction(n)},_removeInactiveBindingsForAction:function(n){for(var o=n._propertyBindings,u=0,m=o.length;u!==m;++u){var P=o[u];--P.referenceCount==0&&this._removeInactiveBinding(P)}},_lendAction:function(n){var o=this._actions,u=n._cacheIndex,m=this._nActiveActions++,P=o[m];o[n._cacheIndex=m]=n,o[P._cacheIndex=u]=P},_takeBackAction:function(n){var o=this._actions,u=n._cacheIndex,m=--this._nActiveActions,P=o[m];o[n._cacheIndex=m]=n,o[P._cacheIndex=u]=P},_addInactiveBinding:function(n,o,u){var m=this._bindingsByRootAndName,P=m[o],z=this._bindings;P===void 0&&(P={},m[o]=P),(P[u]=n)._cacheIndex=z.length,z.push(n)},_removeInactiveBinding:function(n){var o=this._bindings,u=n.binding,m=u.rootNode.uuid,P=u.path,z=this._bindingsByRootAndName,re=z[m],ue=o[o.length-1],ve=n._cacheIndex;o[ue._cacheIndex=ve]=ue,o.pop(),delete re[P],Object.keys(re).length===0&&delete z[m]},_lendBinding:function(n){var o=this._bindings,u=n._cacheIndex,m=this._nActiveBindings++,P=o[m];o[n._cacheIndex=m]=n,o[P._cacheIndex=u]=P},_takeBackBinding:function(n){var o=this._bindings,u=n._cacheIndex,m=--this._nActiveBindings,P=o[m];o[n._cacheIndex=m]=n,o[P._cacheIndex=u]=P},_lendControlInterpolant:function(){var n=this._controlInterpolants,o=this._nActiveControlInterpolants++,u=n[o];return u===void 0&&(n[(u=new wu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=o]=u),u},_takeBackControlInterpolant:function(n){var o=this._controlInterpolants,u=n.__cacheIndex,m=--this._nActiveControlInterpolants,P=o[m];o[n.__cacheIndex=m]=n,o[P.__cacheIndex=u]=P},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(n,o){var u=o||this._root,m=u.uuid,P=typeof n=="string"?Fs.findByName(u,n):n,z=P!==null?P.uuid:n,re=this._actionsByClip[z],ue=null;if(re!==void 0){var ve=re.actionByRoot[m];if(ve!==void 0)return ve;ue=re.knownActions[0],P===null&&(P=ue._clip)}if(P===null)return null;var ye=new Ef(this,P,o);return this._bindAction(ye,ue),this._addInactiveAction(ye,z,m),ye},existingAction:function(n,o){var u=o||this._root,m=u.uuid,P=typeof n=="string"?Fs.findByName(u,n):n,z=P?P.uuid:n,re=this._actionsByClip[z];return re!==void 0&&re.actionByRoot[m]||null},stopAllAction:function(){var n=this._actions,o=this._nActiveActions,u=this._bindings,m=this._nActiveBindings;this._nActiveActions=0;for(var P=this._nActiveBindings=0;P!==o;++P)n[P].reset();for(P=0;P!==m;++P)u[P].useCount=0;return this},update:function(n){n*=this.timeScale;for(var o=this._actions,u=this._nActiveActions,m=this.time+=n,P=Math.sign(n),z=this._accuIndex^=1,re=0;re!==u;++re)o[re]._update(m,n,P,z);var ue=this._bindings,ve=this._nActiveBindings;for(re=0;re!==ve;++re)ue[re].apply(z);return this},setTime:function(n){for(var o=this.time=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(n)},getRoot:function(){return this._root},uncacheClip:function(n){var o=this._actions,u=n.uuid,m=this._actionsByClip,P=m[u];if(P!==void 0){for(var z=P.knownActions,re=0,ue=z.length;re!==ue;++re){var ve=z[re];this._deactivateAction(ve);var ye=ve._cacheIndex,Be=o[o.length-1];ve._cacheIndex=null,ve._byClipCacheIndex=null,o[Be._cacheIndex=ye]=Be,o.pop(),this._removeInactiveBindingsForAction(ve)}delete m[u]}},uncacheRoot:function(n){var o=n.uuid,u=this._actionsByClip;for(var m in u){var P=u[m].actionByRoot[o];P!==void 0&&(this._deactivateAction(P),this._removeInactiveAction(P))}var z=this._bindingsByRootAndName[o];if(z!==void 0)for(var re in z){var ue=z[re];ue.restoreOriginalState(),this._removeInactiveBinding(ue)}},uncacheAction:function(n,o){var u=this.existingAction(n,o);u!==null&&(this._deactivateAction(u),this._removeInactiveAction(u))}}),tp.prototype.clone=function(){return new tp(this.value.clone===void 0?this.value:this.value.clone())},Wp.prototype=Object.assign(Object.create(tl.prototype),{constructor:Wp,isInstancedInterleavedBuffer:!0,copy:function(n){return tl.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this}}),Object.assign(xf.prototype,{linePrecision:1,set:function(n,o){this.ray.set(n,o)},setFromCamera:function(n,o){o&&o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o&&o.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(n,o,u){var m=u||[];return $p(n,this,m,o),m.sort(Df),m},intersectObjects:function(n,o,u){var m=u||[];if(Array.isArray(n)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),m;for(var P=0,z=n.length;P<z;P++)$p(n[P],this,m,o);return m.sort(Df),m}}),Object.assign(bf.prototype,{set:function(n,o,u){return this.radius=n,this.phi=o,this.theta=u,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,u){return this.radius=Math.sqrt(n*n+o*o+u*u),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,u),this.phi=Math.acos(ai.clamp(o/this.radius,-1,1))),this}}),Object.assign(wf.prototype,{set:function(n,o,u){return this.radius=n,this.theta=o,this.y=u,this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this},setFromVector3:function(n){return this.setFromCartesianCoords(n.x,n.y,n.z)},setFromCartesianCoords:function(n,o,u){return this.radius=Math.sqrt(n*n+u*u),this.theta=Math.atan2(n,u),this.y=o,this}});var Af=new Bn;function qp(n,o){this.min=n!==void 0?n:new Bn(1/0,1/0),this.max=o!==void 0?o:new Bn(-1/0,-1/0)}Object.assign(qp.prototype,{set:function(n,o){return this.min.copy(n),this.max.copy(o),this},setFromPoints:function(n){this.makeEmpty();for(var o=0,u=n.length;o<u;o++)this.expandByPoint(n[o]);return this},setFromCenterAndSize:function(n,o){var u=Af.copy(o).multiplyScalar(.5);return this.min.copy(n).sub(u),this.max.copy(n).add(u),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(n){return n===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),n=new Bn),this.isEmpty()?n.set(0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){return n===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),n=new Bn),this.isEmpty()?n.set(0,0):n.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y},getParameter:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),o=new Bn),o.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)},clampPoint:function(n,o){return o===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),o=new Bn),o.copy(n).clamp(this.min,this.max)},distanceToPoint:function(n){return Af.copy(n).clamp(this.min,this.max).sub(n).length()},intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}});var _f=new mt,np=new mt;function Jp(n,o){this.start=n!==void 0?n:new mt,this.end=o!==void 0?o:new mt}function Xp(n){qt.call(this),this.material=n,this.render=function(){}}Object.assign(Jp.prototype,{set:function(n,o){return this.start.copy(n),this.end.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(n){return this.start.copy(n.start),this.end.copy(n.end),this},getCenter:function(n){return n===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),n=new mt),n.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(n){return n===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),n=new mt),n.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(n,o){return o===void 0&&(console.warn("THREE.Line3: .at() target is now required"),o=new mt),this.delta(o).multiplyScalar(n).add(this.start)},closestPointToPointParameter:function(n,o){_f.subVectors(n,this.start),np.subVectors(this.end,this.start);var u=np.dot(np),m=np.dot(_f)/u;return o&&(m=ai.clamp(m,0,1)),m},closestPointToPoint:function(n,o,u){var m=this.closestPointToPointParameter(n,o);return u===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),u=new mt),this.delta(u).multiplyScalar(m).add(this.start)},applyMatrix4:function(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this},equals:function(n){return n.start.equals(this.start)&&n.end.equals(this.end)}}),((Xp.prototype=Object.create(qt.prototype)).constructor=Xp).prototype.isImmediateRenderObject=!0;var Bf=new mt;function rp(n,o){qt.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=o;for(var u=new dn,m=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],P=0,z=1;P<32;P++,z++){var re=P/32*Math.PI*2,ue=z/32*Math.PI*2;m.push(Math.cos(re),Math.sin(re),1,Math.cos(ue),Math.sin(ue),1)}u.setAttribute("position",new Wn(m,3));var ve=new Ho({fog:!1});this.cone=new xo(u,ve),this.add(this.cone),this.update()}((rp.prototype=Object.create(qt.prototype)).constructor=rp).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},rp.prototype.update=function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,o=n*Math.tan(this.light.angle);this.cone.scale.set(o,o,n),Bf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Bf),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Vc=new mt,ip=new ri,Yp=new ri;function op(n){for(var o=function Be(Se){var Oe=[];Se&&Se.isBone&&Oe.push(Se);for(var be=0;be<Se.children.length;be++)Oe.push.apply(Oe,Be(Se.children[be]));return Oe}(n),u=new dn,m=[],P=[],z=new Ft(0,0,1),re=new Ft(0,1,0),ue=0;ue<o.length;ue++){var ve=o[ue];ve.parent&&ve.parent.isBone&&(m.push(0,0,0),m.push(0,0,0),P.push(z.r,z.g,z.b),P.push(re.r,re.g,re.b))}u.setAttribute("position",new Wn(m,3)),u.setAttribute("color",new Wn(P,3));var ye=new Ho({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});xo.call(this,u,ye),this.root=n,this.bones=o,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}function ap(n,o,u){this.light=n,this.light.updateMatrixWorld(),this.color=u;var m=new Zl(o,4,2),P=new pi({wireframe:!0,fog:!1});So.call(this,m,P),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}((op.prototype=Object.create(xo.prototype)).constructor=op).prototype.updateMatrixWorld=function(n){var o=this.bones,u=this.geometry,m=u.getAttribute("position");Yp.getInverse(this.root.matrixWorld);for(var P=0,z=0;P<o.length;P++){var re=o[P];re.parent&&re.parent.isBone&&(ip.multiplyMatrices(Yp,re.matrixWorld),Vc.setFromMatrixPosition(ip),m.setXYZ(z,Vc.x,Vc.y,Vc.z),ip.multiplyMatrices(Yp,re.parent.matrixWorld),Vc.setFromMatrixPosition(ip),m.setXYZ(z+1,Vc.x,Vc.y,Vc.z),z+=2)}u.getAttribute("position").needsUpdate=!0,qt.prototype.updateMatrixWorld.call(this,n)},((ap.prototype=Object.create(So.prototype)).constructor=ap).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ap.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var um=new mt,Mf=new Ft,Ff=new Ft;function sp(n,o,u){qt.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=u;var m=new Do(o);m.rotateY(.5*Math.PI),this.material=new pi({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=2);var P=m.getAttribute("position"),z=new Float32Array(3*P.count);m.setAttribute("color",new kn(z,3)),this.add(new So(m,this.material)),this.update()}function lp(n,o,u,m){n=n||10,o=o||10,u=new Ft(u!==void 0?u:4473924),m=new Ft(m!==void 0?m:8947848);for(var P=o/2,z=n/o,re=n/2,ue=[],ve=[],ye=0,Be=0,Se=-re;ye<=o;ye++,Se+=z){ue.push(-re,0,Se,re,0,Se),ue.push(Se,0,-re,Se,0,re);var Oe=ye===P?u:m;Oe.toArray(ve,Be),Be+=3,Oe.toArray(ve,Be),Be+=3,Oe.toArray(ve,Be),Be+=3,Oe.toArray(ve,Be),Be+=3}var be=new dn;be.setAttribute("position",new Wn(ue,3)),be.setAttribute("color",new Wn(ve,3));var He=new Ho({vertexColors:2});xo.call(this,be,He)}function Zp(n,o,u,m,P,z){n=n||10,o=o||16,u=u||8,m=m||64,P=new Ft(P!==void 0?P:4473924),z=new Ft(z!==void 0?z:8947848);var re,ue,ve,ye,Be,Se,Oe,be=[],He=[];for(ye=0;ye<=o;ye++)ve=ye/o*(2*Math.PI),re=Math.sin(ve)*n,ue=Math.cos(ve)*n,be.push(0,0,0),be.push(re,0,ue),Oe=1&ye?P:z,He.push(Oe.r,Oe.g,Oe.b),He.push(Oe.r,Oe.g,Oe.b);for(ye=0;ye<=u;ye++)for(Oe=1&ye?P:z,Se=n-n/u*ye,Be=0;Be<m;Be++)ve=Be/m*(2*Math.PI),re=Math.sin(ve)*Se,ue=Math.cos(ve)*Se,be.push(re,0,ue),He.push(Oe.r,Oe.g,Oe.b),ve=(Be+1)/m*(2*Math.PI),re=Math.sin(ve)*Se,ue=Math.cos(ve)*Se,be.push(re,0,ue),He.push(Oe.r,Oe.g,Oe.b);var Je=new dn;Je.setAttribute("position",new Wn(be,3)),Je.setAttribute("color",new Wn(He,3));var Ye=new Ho({vertexColors:2});xo.call(this,Je,Ye)}((sp.prototype=Object.create(qt.prototype)).constructor=sp).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},sp.prototype.update=function(){var n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var o=n.geometry.getAttribute("color");Mf.copy(this.light.color),Ff.copy(this.light.groundColor);for(var u=0,m=o.count;u<m;u++){var P=u<m/2?Mf:Ff;o.setXYZ(u,P.r,P.g,P.b)}o.needsUpdate=!0}n.lookAt(um.setFromMatrixPosition(this.light.matrixWorld).negate())},lp.prototype=Object.assign(Object.create(xo.prototype),{constructor:lp,copy:function(n){return xo.prototype.copy.call(this,n),this.geometry.copy(n.geometry),this.material.copy(n.material),this},clone:function(){return new this.constructor().copy(this)}}),(Zp.prototype=Object.create(xo.prototype)).constructor=Zp;var Sf=new mt,cp=new mt,Tf=new mt;function up(n,o,u){qt.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,o===void 0&&(o=1);var m=new dn;m.setAttribute("position",new Wn([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));var P=new Ho({fog:!1});this.lightPlane=new Ha(m,P),this.add(this.lightPlane),(m=new dn).setAttribute("position",new Wn([0,0,0,0,0,1],3)),this.targetLine=new Ha(m,P),this.add(this.targetLine),this.update()}((up.prototype=Object.create(qt.prototype)).constructor=up).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},up.prototype.update=function(){Sf.setFromMatrixPosition(this.light.matrixWorld),cp.setFromMatrixPosition(this.light.target.matrixWorld),Tf.subVectors(cp,Sf),this.lightPlane.lookAt(cp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cp),this.targetLine.scale.z=Tf.length()};var dp=new mt,oa=new Vs;function Kp(n){var o=new dn,u=new Ho({color:16777215,vertexColors:1}),m=[],P=[],z={},re=new Ft(16755200),ue=new Ft(16711680),ve=new Ft(43775),ye=new Ft(16777215),Be=new Ft(3355443);function Se(be,He,Je){Oe(be,Je),Oe(He,Je)}function Oe(be,He){m.push(0,0,0),P.push(He.r,He.g,He.b),z[be]===void 0&&(z[be]=[]),z[be].push(m.length/3-1)}Se("n1","n2",re),Se("n2","n4",re),Se("n4","n3",re),Se("n3","n1",re),Se("f1","f2",re),Se("f2","f4",re),Se("f4","f3",re),Se("f3","f1",re),Se("n1","f1",re),Se("n2","f2",re),Se("n3","f3",re),Se("n4","f4",re),Se("p","n1",ue),Se("p","n2",ue),Se("p","n3",ue),Se("p","n4",ue),Se("u1","u2",ve),Se("u2","u3",ve),Se("u3","u1",ve),Se("c","t",ye),Se("p","c",Be),Se("cn1","cn2",Be),Se("cn3","cn4",Be),Se("cf1","cf2",Be),Se("cf3","cf4",Be),o.setAttribute("position",new Wn(m,3)),o.setAttribute("color",new Wn(P,3)),xo.call(this,o,u),this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=z,this.update()}function da(n,o,u,m,P,z,re){dp.set(P,z,re).unproject(m);var ue=o[n];if(ue!==void 0)for(var ve=u.getAttribute("position"),ye=0,Be=ue.length;ye<Be;ye++)ve.setXYZ(ue[ye],dp.x,dp.y,dp.z)}((Kp.prototype=Object.create(xo.prototype)).constructor=Kp).prototype.update=function(){var n=this.geometry,o=this.pointMap;oa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),da("c",o,n,oa,0,0,-1),da("t",o,n,oa,0,0,1),da("n1",o,n,oa,-1,-1,-1),da("n2",o,n,oa,1,-1,-1),da("n3",o,n,oa,-1,1,-1),da("n4",o,n,oa,1,1,-1),da("f1",o,n,oa,-1,-1,1),da("f2",o,n,oa,1,-1,1),da("f3",o,n,oa,-1,1,1),da("f4",o,n,oa,1,1,1),da("u1",o,n,oa,.7,1.1,-1),da("u2",o,n,oa,-.7,1.1,-1),da("u3",o,n,oa,0,2,-1),da("cf1",o,n,oa,-1,0,1),da("cf2",o,n,oa,1,0,1),da("cf3",o,n,oa,0,-1,1),da("cf4",o,n,oa,0,1,1),da("cn1",o,n,oa,-1,0,-1),da("cn2",o,n,oa,1,0,-1),da("cn3",o,n,oa,0,-1,-1),da("cn4",o,n,oa,0,1,-1),n.getAttribute("position").needsUpdate=!0};var hp=new oo;function Su(n,o){this.object=n,o===void 0&&(o=16776960);var u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new Float32Array(24),P=new dn;P.setIndex(new kn(u,1)),P.setAttribute("position",new kn(m,3)),xo.call(this,P,new Ho({color:o})),this.matrixAutoUpdate=!1,this.update()}function Qp(n,o){this.type="Box3Helper",this.box=n,o=o||16776960;var u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new dn;m.setIndex(new kn(u,1)),m.setAttribute("position",new Wn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),xo.call(this,m,new Ho({color:o})),this.geometry.computeBoundingSphere()}function ef(n,o,u){this.type="PlaneHelper",this.plane=n,this.size=o===void 0?1:o;var m=u!==void 0?u:16776960,P=new dn;P.setAttribute("position",new Wn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),P.computeBoundingSphere(),Ha.call(this,P,new Ho({color:m}));var z=new dn;z.setAttribute("position",new Wn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),z.computeBoundingSphere(),this.add(new So(z,new pi({color:m,opacity:.2,transparent:!0,depthWrite:!1})))}((Su.prototype=Object.create(xo.prototype)).constructor=Su).prototype.update=function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&hp.setFromObject(this.object),!hp.isEmpty()){var o=hp.min,u=hp.max,m=this.geometry.attributes.position,P=m.array;P[0]=u.x,P[1]=u.y,P[2]=u.z,P[3]=o.x,P[4]=u.y,P[5]=u.z,P[6]=o.x,P[7]=o.y,P[8]=u.z,P[9]=u.x,P[10]=o.y,P[11]=u.z,P[12]=u.x,P[13]=u.y,P[14]=o.z,P[15]=o.x,P[16]=u.y,P[17]=o.z,P[18]=o.x,P[19]=o.y,P[20]=o.z,P[21]=u.x,P[22]=o.y,P[23]=o.z,m.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Su.prototype.setFromObject=function(n){return this.object=n,this.update(),this},Su.prototype.copy=function(n){return xo.prototype.copy.call(this,n),this.object=n.object,this},Su.prototype.clone=function(){return new this.constructor().copy(this)},((Qp.prototype=Object.create(xo.prototype)).constructor=Qp).prototype.updateMatrixWorld=function(n){var o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),qt.prototype.updateMatrixWorld.call(this,n))},((ef.prototype=Object.create(Ha.prototype)).constructor=ef).prototype.updateMatrixWorld=function(n){var o=-this.plane.constant;Math.abs(o)<1e-8&&(o=1e-8),this.scale.set(.5*this.size,.5*this.size,o),this.children[0].material.side=o<0?S:A,this.lookAt(this.plane.normal),qt.prototype.updateMatrixWorld.call(this,n)};var tf,Pf,Of=new mt;function Tu(n,o,u,m,P,z){qt.call(this),n===void 0&&(n=new mt(0,0,1)),o===void 0&&(o=new mt(0,0,0)),u===void 0&&(u=1),m===void 0&&(m=16776960),P===void 0&&(P=.2*u),z===void 0&&(z=.2*P),tf===void 0&&((tf=new dn).setAttribute("position",new Wn([0,0,0,0,1,0],3)),(Pf=new Bl(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(o),this.line=new Ha(tf,new Ho({color:m})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new So(Pf,new pi({color:m})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(u,P,z)}function pp(n){var o=[0,0,0,n=n||1,0,0,0,0,0,0,n,0,0,0,0,0,0,n],u=new dn;u.setAttribute("position",new Wn(o,3)),u.setAttribute("color",new Wn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var m=new Ho({vertexColors:2});xo.call(this,u,m)}((Tu.prototype=Object.create(qt.prototype)).constructor=Tu).prototype.setDirection=function(n){if(.99999<n.y)this.quaternion.set(0,0,0,1);else if(n.y<-.99999)this.quaternion.set(1,0,0,0);else{Of.set(n.z,0,-n.x).normalize();var o=Math.acos(n.y);this.quaternion.setFromAxisAngle(Of,o)}},Tu.prototype.setLength=function(n,o,u){o===void 0&&(o=.2*n),u===void 0&&(u=.2*o),this.line.scale.set(1,Math.max(1e-4,n-o),1),this.line.updateMatrix(),this.cone.scale.set(u,o,u),this.cone.position.y=n,this.cone.updateMatrix()},Tu.prototype.setColor=function(n){this.line.material.color.set(n),this.cone.material.color.set(n)},Tu.prototype.copy=function(n){return qt.prototype.copy.call(this,n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this},Tu.prototype.clone=function(){return new this.constructor().copy(this)},(pp.prototype=Object.create(xo.prototype)).constructor=pp;var Bd=4,jc=8,Tl=Math.pow(2,jc),Rf=[.125,.215,.35,.446,.526,.582],Lf=jc-Bd+1+Rf.length,Md=20,Ka={};Ka[Ot]=0,Ka[tn]=1,Ka[Ln]=2,Ka[hr]=3,Ka[Rr]=4,Ka[Qi]=5,Ka[xn]=6;var If,kf,nf=new oc,fp=((kf=new Ml({defines:{n:If=Md},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(If)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new mt(0,1,0)},inputEncoding:{value:Ka[Ot]},outputEncoding:{value:Ka[Ot]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

void main() {
	gl_FragColor = vec4(0.0);
	for (int i = 0; i < n; i++) {
		if (i >= samples)
			break;
		for (int dir = -1; dir < 2; dir += 2) {
			if (i == 0 && dir == 1)
				continue;
			vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
			if (all(equal(axis, vec3(0.0))))
				axis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);
			axis = normalize(axis);
			float theta = dTheta * float(dir * i);
			float cosTheta = cos(theta);
			// Rodrigues' axis-angle rotation
			vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross(axis, vOutputDirection) * sin(theta)
					+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
			gl_FragColor.rgb +=
					weights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);
		}
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:G,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",kf),Pu=null,Ou=null,rf=function(){for(var n=[],o=[],u=[],m=jc,P=0;P<Lf;P++){var z=Math.pow(2,m);o.push(z);var re=1/z;jc-Bd<P?re=Rf[P-jc+Bd-1]:P==0&&(re=0),u.push(re);for(var ue=1/(z-1),ve=-ue/2,ye=1+ue/2,Be=[ve,ve,ye,ve,ye,ye,ve,ve,ye,ye,ve,ye],Se=new Float32Array(108),Oe=new Float32Array(72),be=new Float32Array(36),He=0;He<6;He++){var Je=He%3*2/3-1,Ye=2<He?0:-1,pt=[Je,Ye,0,Je+2/3,Ye,0,Je+2/3,1+Ye,0,Je,Ye,0,Je+2/3,1+Ye,0,Je,1+Ye,0];Se.set(pt,18*He),Oe.set(Be,12*He);var yt=[He,He,He,He,He,He];be.set(yt,6*He)}var Bt=new dn;Bt.setAttribute("position",new kn(Se,3)),Bt.setAttribute("uv",new kn(Oe,2)),Bt.setAttribute("faceIndex",new kn(be,1)),n.push(Bt),Bd<m&&m--}return{_lodPlanes:n,_sizeLods:o,_sigmas:u}}(),ph=rf._lodPlanes,Nf=rf._sizeLods,mp=rf._sigmas,gp=null,To=null,of=null,Ru=(1+Math.sqrt(5))/2,Fd=1/Ru,Vf=[new mt(1,1,1),new mt(-1,1,1),new mt(1,1,-1),new mt(-1,1,-1),new mt(0,Ru,Fd),new mt(0,Ru,-Fd),new mt(Fd,0,Ru),new mt(-Fd,0,Ru),new mt(Ru,Fd,0),new mt(-Ru,Fd,0)];function af(n){To=n,sf(fp)}function jf(n){var o={magFilter:St,minFilter:St,generateMipmaps:!1,type:n?n.type:Vr,format:n?n.format:fo,encoding:n?n.encoding:Ln,depthBuffer:!1,stencilBuffer:!1},u=Hf(o);return u.depthBuffer=!n,gp=Hf(o),u}function zf(n){gp.dispose(),To.setRenderTarget(of),n.scissorTest=!1,n.setSize(n.width,n.height)}function sf(n){var o=new er;o.add(new So(ph[0],n)),To.compile(o,nf)}function Hf(n){var o=new Ro(3*Tl,3*Tl,n);return o.texture.mapping=zt,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function lf(n,o,u,m,P){n.viewport.set(o,u,m,P),n.scissor.set(o,u,m,P)}function Uf(n){var o=To.autoClear;To.autoClear=!1;for(var u=1;u<Lf;u++)Gf(n,u-1,u,Math.sqrt(mp[u]*mp[u]-mp[u-1]*mp[u-1]),Vf[(u-1)%Vf.length]);To.autoClear=o}function Gf(n,o,u,m,P){Wf(n,gp,o,u,m,"latitudinal",P),Wf(gp,n,u,u,m,"longitudinal",P)}function Wf(n,o,u,m,P,z,re){z!=="latitudinal"&&z!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var ue=new er;ue.add(new So(ph[m],fp));var ve=fp.uniforms,ye=Nf[u]-1,Be=isFinite(P)?Math.PI/(2*ye):2*Math.PI/(2*Md-1),Se=P/Be,Oe=isFinite(P)?1+Math.floor(3*Se):Md;Md<Oe&&console.warn("sigmaRadians, "+P+", is too large and will clip, as it requested "+Oe+" samples when the maximum is set to "+Md);for(var be=[],He=0,Je=0;Je<Md;++Je){var Ye=Je/Se,pt=Math.exp(-Ye*Ye/2);be.push(pt),Je==0?He+=pt:Je<Oe&&(He+=2*pt)}for(Je=0;Je<be.length;Je++)be[Je]=be[Je]/He;ve.envMap.value=n.texture,ve.samples.value=Oe,ve.weights.value=be,ve.latitudinal.value=z==="latitudinal",re&&(ve.poleAxis.value=re),ve.dTheta.value=Be,ve.mipInt.value=jc-u,ve.inputEncoding.value=Ka[n.texture.encoding],ve.outputEncoding.value=Ka[n.texture.encoding];var yt=Nf[m];lf(o,Ye=3*Math.max(0,Tl-2*yt),(m===0?0:2*Tl)+2*yt*(jc-Bd<m?m-jc+Bd:0),3*yt,2*yt),To.setRenderTarget(o),To.render(ue,nf)}function $f(){var n=new Ml({uniforms:{envMap:{value:null},texelSize:{value:new Bn(1,1)},inputEncoding:{value:Ka[Ot]},outputEncoding:{value:Ka[Ot]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv;
	uv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;
	uv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:G,depthTest:!1,depthWrite:!1});return n.type="EquirectangularToCubeUV",n}function qf(){var n=new Ml({uniforms:{envMap:{value:null},inputEncoding:{value:Ka[Ot]},outputEncoding:{value:Ka[Ot]}},vertexShader:`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx;
		direction.z *= -1.0;
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.z *= -1.0;
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.x *= -1.0;
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.y *= -1.0;
	} else if (face == 5.0) {
		direction.xz *= -1.0;
	}
	return direction;
}
void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`,fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;


uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:G,depthTest:!1,depthWrite:!1});return n.type="CubemapToCubeUV",n}function Jf(n){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ar.call(this,n),this.type="catmullrom",this.closed=!0}function Xf(n){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ar.call(this,n),this.type="catmullrom"}function cf(n){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ar.call(this,n),this.type="catmullrom"}af.prototype={constructor:af,fromScene:function(n,o,u,m){o===void 0&&(o=0),u===void 0&&(u=.1),m===void 0&&(m=100),of=To.getRenderTarget();var P=jf();return function(z,re,ue,ve){var ye=new zo(90,1,re,ue),Be=[1,1,1,1,-1,1],Se=[1,1,-1,-1,-1,1],Oe=To.outputEncoding,be=To.toneMapping,He=To.toneMappingExposure,Je=To.getClearColor(),Ye=To.getClearAlpha();To.toneMapping=qe,To.toneMappingExposure=1,To.outputEncoding=Ot,z.scale.z*=-1;var pt=z.background;if(pt&&pt.isColor){pt.convertSRGBToLinear();var yt=Math.max(pt.r,pt.g,pt.b),Bt=Math.min(Math.max(Math.ceil(Math.log2(yt)),-128),127);pt=pt.multiplyScalar(Math.pow(2,-Bt));var Vt=(Bt+128)/255;To.setClearColor(pt,Vt),z.background=null}for(var _t=0;_t<6;_t++){var Wt=_t%3;Wt==0?(ye.up.set(0,Be[_t],0),ye.lookAt(Se[_t],0,0)):Wt==1?(ye.up.set(0,0,Be[_t]),ye.lookAt(0,Se[_t],0)):(ye.up.set(0,Be[_t],0),ye.lookAt(0,0,Se[_t])),lf(ve,Wt*Tl,2<_t?Tl:0,Tl,Tl),To.setRenderTarget(ve),To.render(z,ye)}To.toneMapping=be,To.toneMappingExposure=He,To.outputEncoding=Oe,To.setClearColor(Je,Ye),z.scale.z*=-1}(n,u,m,P),0<o&&Gf(P,0,0,o),Uf(P),zf(P),P},fromEquirectangular:function(n){return n.magFilter=St,n.minFilter=St,n.generateMipmaps=!1,this.fromCubemap(n)},fromCubemap:function(n){of=To.getRenderTarget();var o=jf(n);return function(u,m){var P=new er;u.isCubeTexture?Ou==null&&(Ou=qf()):Pu==null&&(Pu=$f());var z=u.isCubeTexture?Ou:Pu;P.add(new So(ph[0],z));var re=z.uniforms;(re.envMap.value=u).isCubeTexture||re.texelSize.value.set(1/u.image.width,1/u.image.height),re.inputEncoding.value=Ka[u.encoding],re.outputEncoding.value=Ka[u.encoding],lf(m,0,0,3*Tl,2*Tl),To.setRenderTarget(m),To.render(P,nf)}(n,o),Uf(o),zf(o),o},compileCubemapShader:function(){Ou==null&&sf(Ou=qf())},compileEquirectangularShader:function(){Pu==null&&sf(Pu=$f())},dispose:function(){fp.dispose(),Ou?.dispose(),Pu?.dispose();for(var n=0;n<ph.length;n++)ph[n].dispose()}},nn.create=function(n,o){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(nn.prototype),(n.prototype.constructor=n).prototype.getPoint=o,n},Object.assign(Da.prototype,{createPointsGeometry:function(n){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var o=this.getPoints(n);return this.createGeometry(o)},createSpacedPointsGeometry:function(n){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var o=this.getSpacedPoints(n);return this.createGeometry(o)},createGeometry:function(n){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var o=new Kr,u=0,m=n.length;u<m;u++){var P=n[u];o.vertices.push(new mt(P.x,P.y,P.z||0))}return o}}),Object.assign(ba.prototype,{fromPoints:function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)}}),Jf.prototype=Object.create(Ar.prototype),Xf.prototype=Object.create(Ar.prototype),cf.prototype=Object.create(Ar.prototype),Object.assign(cf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),lp.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},op.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(F.prototype,{extractUrlBase:function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Mp.extractUrlBase(n)}}),F.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Zh.prototype,{setTexturePath:function(n){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(n)}}),Object.assign(qp.prototype,{center:function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},size:function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)}}),Object.assign(oo.prototype,{center:function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionSphere:function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},size:function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)}}),Nl.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},Jp.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Object.assign(ai,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(n){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ai.floorPowerOfTwo(n)},nextPowerOfTwo:function(n){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ai.ceilPowerOfTwo(n)}}),Object.assign(go.prototype,{flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},multiplyVector3:function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ri.prototype,{extractPosition:function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},flattenToArrayOffset:function(n,o){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,o)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new mt().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector4:function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},crossVector:function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(n,o,u,m,P,z){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,o,m,u,P,z)}}),Jo.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},Mo.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Object.assign(gi.prototype,{isIntersectionBox:function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionPlane:function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},isIntersectionSphere:function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}}),Object.assign(Fo.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(n,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,o)},midpoint:function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},normal:function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},plane:function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)}}),Object.assign(Fo,{barycoordFromPoint:function(n,o,u,m,P){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Fo.getBarycoord(n,o,u,m,P)},normal:function(n,o,u,m){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Fo.getNormal(n,o,u,m)}}),Object.assign(us.prototype,{extractAllPoints:function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},extrude:function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Yl(this,n)},makeGeometry:function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Oc(this,n)}}),Object.assign(Bn.prototype,{fromAttribute:function(n,o,u){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},distanceToManhattan:function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(mt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},getScaleFromMatrix:function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},getColumnFromMatrix:function(n,o){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(o,n)},applyProjection:function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},fromAttribute:function(n,o,u){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},distanceToManhattan:function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pi.prototype,{fromAttribute:function(n,o,u){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,o,u)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Kr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(n){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.assign(qt.prototype,{getChildByName:function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(n,o){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(o,n)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.defineProperties(qt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(So.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(So.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(tu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(nd.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),nu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(nn.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(n){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=n}}),zo.prototype.setLens=function(n,o){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),o!==void 0&&(this.filmGauge=o),this.setFocalLength(n)},Object.defineProperties(Vi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(kn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ta},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ta)}}}),Object.assign(kn.prototype,{setDynamic:function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ta:Ii),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(dn.prototype,{addIndex:function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},addAttribute:function(n,o){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),o&&o.isBufferAttribute||o&&o.isInterleavedBufferAttribute?n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(o),this):this.setAttribute(n,o):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new kn(o,arguments[2])))},addDrawCall:function(n,o,u){u!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,o)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)},applyMatrix:function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)}}),Object.defineProperties(dn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(tl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ta},set:function(n){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(n)}}}),Object.assign(tl.prototype,{setDynamic:function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ta:Ii),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(_l.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(tp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(En.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ft}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}}}),Object.defineProperties(Fl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(os.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),Object.assign(ed.prototype,{clearTarget:function(n,o,u,m){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(o,u,m)},animate:function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ed.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?tn:Ot}}}),Object.defineProperties(rh.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ro.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),Object.defineProperties(_d.prototype,{load:{value:function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var o=this;return new Qh().load(n,function(u){o.setBuffer(u)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),jp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Rl.prototype.updateCubeMap=function(n,o){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,o)};var dm={merge:function(n,o,u){var m;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),o.isMesh&&(o.matrixAutoUpdate&&o.updateMatrix(),m=o.matrix,o=o.geometry),n.merge(o,m,u)},center:function(n){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),n.center()}};Bs.crossOrigin=void 0,Bs.loadTexture=function(n,o,u,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var P=new on;P.setCrossOrigin(this.crossOrigin);var z=P.load(n,u,void 0,m);return o&&(z.mapping=o),z},Bs.loadTextureCube=function(n,o,u,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var P=new Gt;P.setCrossOrigin(this.crossOrigin);var z=P.load(n,u,void 0,m);return o&&(z.mapping=o),z},Bs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Bs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var hm={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"113"}})),l.ACESFilmicToneMapping=nt,l.AddEquation=B,l.AddOperation=Ze,l.AdditiveBlending=le,l.AlphaFormat=Ri,l.AlwaysDepth=Me,l.AlwaysStencilFunc=Os,l.AmbientLight=Wh,l.AmbientLightProbe=Ip,l.AnimationClip=Fs,l.AnimationLoader=ke,l.AnimationMixer=Gp,l.AnimationObjectGroup=Cf,l.AnimationUtils=Io,l.ArcCurve=jn,l.ArrayCamera=qc,l.ArrowHelper=Tu,l.Audio=_d,l.AudioAnalyser=jp,l.AudioContext=Rp,l.AudioListener=Np,l.AudioLoader=Qh,l.AxesHelper=pp,l.AxisHelper=function(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new pp(n)},l.BackSide=S,l.BasicDepthPacking=Ga,l.BasicShadowMap=0,l.BinaryTextureLoader=function(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new ft(n)},l.Bone=ah,l.BooleanKeyframeTrack=bd,l.BoundingBoxHelper=function(n,o){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Su(n,o)},l.Box2=qp,l.Box3=oo,l.Box3Helper=Qp,l.BoxBufferGeometry=zc,l.BoxGeometry=Rd,l.BoxHelper=Su,l.BufferAttribute=kn,l.BufferGeometry=dn,l.BufferGeometryLoader=Yh,l.ByteType=Un,l.Cache=nc,l.Camera=Vs,l.CameraHelper=Kp,l.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},l.CanvasTexture=su,l.CatmullRomCurve3=Ar,l.CineonToneMapping=bt,l.CircleBufferGeometry=Cu,l.CircleGeometry=Ed,l.ClampToEdgeWrapping=bn,l.Clock=kp,l.ClosedSplineCurve3=Jf,l.Color=Ft,l.ColorKeyframeTrack=wd,l.CompressedTexture=dd,l.CompressedTextureLoader=$e,l.ConeBufferGeometry=Cd,l.ConeGeometry=yd,l.CubeCamera=Rl,l.CubeGeometry=Rd,l.CubeReflectionMapping=Nt,l.CubeRefractionMapping=kt,l.CubeTexture=El,l.CubeTextureLoader=Gt,l.CubeUVReflectionMapping=zt,l.CubeUVRefractionMapping=et,l.CubicBezierCurve=Di,l.CubicBezierCurve3=_r,l.CubicInterpolant=xd,l.CullFaceBack=d,l.CullFaceFront=E,l.CullFaceFrontBack=3,l.CullFaceNone=c,l.Curve=nn,l.CurvePath=Da,l.CustomBlending=pe,l.CylinderBufferGeometry=Bl,l.CylinderGeometry=Kl,l.Cylindrical=wf,l.DataTexture=pc,l.DataTexture2DArray=Uu,l.DataTexture3D=$a,l.DataTextureLoader=ft,l.DecrementStencilOp=7683,l.DecrementWrapStencilOp=34056,l.DefaultLoadingManager=Gh,l.DepthFormat=ni,l.DepthStencilFormat=Po,l.DepthTexture=hd,l.DirectionalLight=sc,l.DirectionalLightHelper=up,l.DirectionalLightShadow=ac,l.DiscreteInterpolant=Dd,l.DodecahedronBufferGeometry=Es,l.DodecahedronGeometry=Bc,l.DoubleSide=L,l.DstAlphaFactor=De,l.DstColorFactor=Ge,l.DynamicBufferAttribute=function(n,o){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new kn(n,o).setUsage(ta)},l.DynamicCopyUsage=35050,l.DynamicDrawUsage=ta,l.DynamicReadUsage=35049,l.EdgesGeometry=Rc,l.EdgesHelper=function(n,o){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xo(new Rc(n.geometry),new Ho({color:o!==void 0?o:16777215}))},l.EllipseCurve=wn,l.EqualDepth=Re,l.EqualStencilFunc=514,l.EquirectangularReflectionMapping=Qt,l.EquirectangularRefractionMapping=gt,l.Euler=g,l.EventDispatcher=Fa,l.ExtrudeBufferGeometry=_l,l.ExtrudeGeometry=Yl,l.Face3=Yn,l.Face4=function(n,o,u,m,P,z,re){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Yn(n,o,u,P,z,re)},l.FaceColors=1,l.FileLoader=ge,l.FlatShading=1,l.Float32Attribute=function(n,o){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Wn(n,o)},l.Float32BufferAttribute=Wn,l.Float64Attribute=function(n,o){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new fi(n,o)},l.Float64BufferAttribute=fi,l.FloatType=Dn,l.Fog=Qs,l.FogExp2=Cs,l.Font=Pp,l.FontLoader=Op,l.FrontFaceDirectionCCW=1,l.FrontFaceDirectionCW=0,l.FrontSide=A,l.Frustum=Nl,l.GammaEncoding=xn,l.Geometry=Kr,l.GeometryUtils=dm,l.GreaterDepth=It,l.GreaterEqualDepth=st,l.GreaterEqualStencilFunc=518,l.GreaterStencilFunc=516,l.GridHelper=lp,l.Group=Ul,l.HalfFloatType=ar,l.HemisphereLight=Au,l.HemisphereLightHelper=sp,l.HemisphereLightProbe=Lp,l.IcosahedronBufferGeometry=du,l.IcosahedronGeometry=js,l.ImageBitmapLoader=Sp,l.ImageLoader=Rt,l.ImageUtils=Bs,l.ImmediateRenderObject=Xp,l.IncrementStencilOp=7682,l.IncrementWrapStencilOp=34055,l.InstancedBufferAttribute=Xh,l.InstancedBufferGeometry=Jh,l.InstancedInterleavedBuffer=Wp,l.InstancedMesh=rd,l.Int16Attribute=function(n,o){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new no(n,o)},l.Int16BufferAttribute=no,l.Int32Attribute=function(n,o){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ke(n,o)},l.Int32BufferAttribute=Ke,l.Int8Attribute=function(n,o){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new yi(n,o)},l.Int8BufferAttribute=yi,l.IntType=Bi,l.InterleavedBuffer=tl,l.InterleavedBufferAttribute=Xc,l.Interpolant=Za,l.InterpolateDiscrete=Ci,l.InterpolateLinear=Fe,l.InterpolateSmooth=2302,l.InvertStencilOp=5386,l.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},l.KeepStencilOp=Na,l.KeyframeTrack=Ea,l.LOD=tu,l.LatheBufferGeometry=Pc,l.LatheGeometry=yu,l.Layers=k,l.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},l.LessDepth=Ue,l.LessEqualDepth=Pe,l.LessEqualStencilFunc=515,l.LessStencilFunc=513,l.Light=Vi,l.LightProbe=fl,l.LightShadow=Hs,l.Line=Ha,l.Line3=Jp,l.LineBasicMaterial=Ho,l.LineCurve=Tr,l.LineCurve3=po,l.LineDashedMaterial=bu,l.LineLoop=ou,l.LinePieces=1,l.LineSegments=xo,l.LineStrip=0,l.LinearEncoding=Ot,l.LinearFilter=Xt,l.LinearInterpolant=wu,l.LinearMipMapLinearFilter=1008,l.LinearMipMapNearestFilter=1007,l.LinearMipmapLinearFilter=zn,l.LinearMipmapNearestFilter=cn,l.LinearToneMapping=qe,l.Loader=F,l.LoaderUtils=Mp,l.LoadingManager=hh,l.LogLuvEncoding=yr,l.LoopOnce=2200,l.LoopPingPong=2202,l.LoopRepeat=2201,l.LuminanceAlphaFormat=No,l.LuminanceFormat=Qa,l.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},l.Material=En,l.MaterialLoader=qh,l.Math=ai,l.MathUtils=ai,l.Matrix3=go,l.Matrix4=ri,l.MaxEquation=T,l.Mesh=So,l.MeshBasicMaterial=pi,l.MeshDepthMaterial=Ks,l.MeshDistanceMaterial=Hl,l.MeshFaceMaterial=function(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n},l.MeshLambertMaterial=Ca,l.MeshMatcapMaterial=ec,l.MeshNormalMaterial=Du,l.MeshPhongMaterial=Fl,l.MeshPhysicalMaterial=Eu,l.MeshStandardMaterial=pl,l.MeshToonMaterial=xu,l.MinEquation=O,l.MirroredRepeatWrapping=Fn,l.MixOperation=Ve,l.MultiMaterial=function(n){return n===void 0&&(n=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,(n.materials=n).clone=function(){return n.slice()},n},l.MultiplyBlending=he,l.MultiplyOperation=tt,l.NearestFilter=St,l.NearestMipMapLinearFilter=1005,l.NearestMipMapNearestFilter=1004,l.NearestMipmapLinearFilter=At,l.NearestMipmapNearestFilter=dt,l.NeverDepth=xt,l.NeverStencilFunc=512,l.NoBlending=G,l.NoColors=N,l.NoToneMapping=Ne,l.NormalBlending=ie,l.NotEqualDepth=Ct,l.NotEqualStencilFunc=517,l.NumberKeyframeTrack=Sl,l.Object3D=qt,l.ObjectLoader=Zh,l.ObjectSpaceNormalMap=Ma,l.OctahedronBufferGeometry=Do,l.OctahedronGeometry=Oa,l.OneFactor=fe,l.OneMinusDstAlphaFactor=Le,l.OneMinusDstColorFactor=rt,l.OneMinusSrcAlphaFactor=xe,l.OneMinusSrcColorFactor=Ae,l.OrthographicCamera=oc,l.PCFShadowMap=C,l.PCFSoftShadowMap=D,l.PMREMGenerator=af,l.ParametricBufferGeometry=cu,l.ParametricGeometry=ls,l.Particle=function(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new eu(n)},l.ParticleBasicMaterial=function(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new nl(n)},l.ParticleSystem=function(n,o){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new wc(n,o)},l.ParticleSystemMaterial=function(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new nl(n)},l.Path=ba,l.PerspectiveCamera=zo,l.Plane=Jo,l.PlaneBufferGeometry=Vl,l.PlaneGeometry=fc,l.PlaneHelper=ef,l.PointCloud=function(n,o){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new wc(n,o)},l.PointCloudMaterial=function(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new nl(n)},l.PointLight=ic,l.PointLightHelper=ap,l.Points=wc,l.PointsMaterial=nl,l.PolarGridHelper=Zp,l.PolyhedronBufferGeometry=ua,l.PolyhedronGeometry=pd,l.PositionalAudio=Vp,l.PropertyBinding=ds,l.PropertyMixer=zp,l.QuadraticBezierCurve=ao,l.QuadraticBezierCurve3=Uo,l.Quaternion=Mo,l.QuaternionKeyframeTrack=tc,l.QuaternionLinearInterpolant=Lc,l.REVISION="113",l.RGBADepthPacking=ho,l.RGBAFormat=Ki,l.RGBAIntegerFormat=pa,l.RGBA_ASTC_10x10_Format=Ps,l.RGBA_ASTC_10x5_Format=Hr,l.RGBA_ASTC_10x6_Format=ka,l.RGBA_ASTC_10x8_Format=gs,l.RGBA_ASTC_12x10_Format=_s,l.RGBA_ASTC_12x12_Format=Oo,l.RGBA_ASTC_4x4_Format=As,l.RGBA_ASTC_5x4_Format=ea,l.RGBA_ASTC_5x5_Format=ms,l.RGBA_ASTC_6x5_Format=Wo,l.RGBA_ASTC_6x6_Format=La,l.RGBA_ASTC_8x5_Format=Ia,l.RGBA_ASTC_8x6_Format=Ba,l.RGBA_ASTC_8x8_Format=Li,l.RGBA_PVRTC_2BPPV1_Format=jo,l.RGBA_PVRTC_4BPPV1_Format=Ra,l.RGBA_S3TC_DXT1_Format=fs,l.RGBA_S3TC_DXT3_Format=Aa,l.RGBA_S3TC_DXT5_Format=sa,l.RGBDEncoding=Qi,l.RGBEEncoding=Ln,l.RGBEFormat=fo,l.RGBFormat=lo,l.RGBIntegerFormat=Bo,l.RGBM16Encoding=Rr,l.RGBM7Encoding=hr,l.RGB_ETC1_Format=es,l.RGB_PVRTC_2BPPV1_Format=mo,l.RGB_PVRTC_4BPPV1_Format=Qo,l.RGB_S3TC_DXT1_Format=ps,l.RGFormat=Vo,l.RGIntegerFormat=xr,l.RawShaderMaterial=Ml,l.Ray=gi,l.Raycaster=xf,l.RectAreaLight=$h,l.RedFormat=we,l.RedIntegerFormat=vi,l.ReinhardToneMapping=lt,l.RepeatWrapping=sn,l.ReplaceStencilOp=7681,l.ReverseSubtractEquation=oe,l.RingBufferGeometry=vu,l.RingGeometry=vd,l.Scene=er,l.SceneUtils=hm,l.ShaderChunk=xi,l.ShaderLib=Ms,l.ShaderMaterial=os,l.ShadowMaterial=Ql,l.Shape=us,l.ShapeBufferGeometry=rl,l.ShapeGeometry=Oc,l.ShapePath=Tp,l.ShapeUtils=hl,l.ShortType=Mn,l.Skeleton=nd,l.SkeletonHelper=op,l.SkinnedMesh=nu,l.SmoothShading=2,l.Sphere=ki,l.SphereBufferGeometry=Zl,l.SphereGeometry=gd,l.Spherical=bf,l.SphericalHarmonics3=ep,l.SphericalReflectionMapping=Dt,l.Spline=cf,l.SplineCurve=Ui,l.SplineCurve3=Xf,l.SpotLight=kc,l.SpotLightHelper=rp,l.SpotLightShadow=rc,l.Sprite=eu,l.SpriteMaterial=Wl,l.SrcAlphaFactor=_e,l.SrcAlphaSaturateFactor=We,l.SrcColorFactor=Ee,l.StaticCopyUsage=35046,l.StaticDrawUsage=Ii,l.StaticReadUsage=35045,l.StereoCamera=mf,l.StreamCopyUsage=35042,l.StreamDrawUsage=35040,l.StreamReadUsage=35041,l.StringKeyframeTrack=Ad,l.SubtractEquation=se,l.SubtractiveBlending=ae,l.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l.TangentSpaceNormalMap=Wa,l.TetrahedronBufferGeometry=uu,l.TetrahedronGeometry=di,l.TextBufferGeometry=ya,l.TextGeometry=Zo,l.Texture=ji,l.TextureLoader=on,l.TorusBufferGeometry=Mc,l.TorusGeometry=pu,l.TorusKnotBufferGeometry=wo,l.TorusKnotGeometry=bo,l.Triangle=Fo,l.TriangleFanDrawMode=2,l.TriangleStripDrawMode=1,l.TrianglesDrawMode=0,l.TubeBufferGeometry=wl,l.TubeGeometry=hu,l.UVMapping=300,l.Uint16Attribute=function(n,o){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ro(n,o)},l.Uint16BufferAttribute=ro,l.Uint32Attribute=function(n,o){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new io(n,o)},l.Uint32BufferAttribute=io,l.Uint8Attribute=function(n,o){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Lr(n,o)},l.Uint8BufferAttribute=Lr,l.Uint8ClampedAttribute=function(n,o){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new $i(n,o)},l.Uint8ClampedBufferAttribute=$i,l.Uncharted2ToneMapping=vt,l.Uniform=tp,l.UniformsLib=or,l.UniformsUtils=Ld,l.UnsignedByteType=Vr,l.UnsignedInt248Type=Ti,l.UnsignedIntType=Ut,l.UnsignedShort4444Type=Yr,l.UnsignedShort5551Type=ui,l.UnsignedShort565Type=Oi,l.UnsignedShortType=jr,l.VSMShadowMap=f,l.Vector2=Bn,l.Vector3=mt,l.Vector4=Pi,l.VectorKeyframeTrack=Ic,l.Vertex=function(n,o,u){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new mt(n,o,u)},l.VertexColors=2,l.VideoTexture=_c,l.WebGLCubeRenderTarget=Ll,l.WebGLMultisampleRenderTarget=$s,l.WebGLRenderTarget=Ro,l.WebGLRenderTargetCube=function(n,o,u){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Ll(n,u)},l.WebGLRenderer=ed,l.WebGLUtils=yc,l.WireframeGeometry=lu,l.WireframeHelper=function(n,o){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xo(new lu(n.geometry),new Ho({color:o!==void 0?o:16777215}))},l.WrapAroundEnding=it,l.XHRLoader=function(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ge(n)},l.ZeroCurvatureEnding=at,l.ZeroFactor=ce,l.ZeroSlopeEnding=ze,l.ZeroStencilOp=0,l.sRGBEncoding=tn,Object.defineProperty(l,"__esModule",{value:!0})},typeof r=="object"&&t!==void 0?a(r):typeof define=="function"&&define.amd?define(["exports"],a):a((i=i||self).THREE={})},{}],20:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUtils=void 0;var i,a,l=e("./Operate/MxEntSelJig"),c=e("./Operate/MxJigCmdManager"),d=e("./UI/MxUiVue");(a=i||(r.MrxDbgUtils=i={})).findEntAtPoint=function(E,C,D,f,A){return D===void 0&&(D=null),f===void 0&&(f=!0),new Promise(function(S){if(E.isMxCAD())f||(C=E.screenCoord2Doc(C.x,C.y,C.z)),E.callCommand("MxCAD_FindEntAtPoint",JSON.stringify(C),function(he){if(typeof he!="string"||he.length<1)S([]);else{var pe=JSON.parse(he);S(pe.ids)}});else{for(var L=E.findMxEntityAtPoint(C,f,A),N=[],G=L.length,ie=0;ie<G;ie++){var le=L[ie];if(!D||!D.type||D.type==le.getTypeName()){var ae=le.objectId();N.push(ae)}}S(N)}})},a.selectEnt=function(E,C){return C===void 0&&(C=null),new Promise(function(D){var f=new l.MxEntSelJig;E&&d.MxUiVue.acutPrintf(E),f.filter=C,f.callRet=function(A){D(A)},c.MxJigCmdManager.runCmd(f)})}},{"./Operate/MxEntSelJig":55,"./Operate/MxJigCmdManager":58,"./UI/MxUiVue":67}],21:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADSyncDisplay=r.MxCADDisplayFun=r.MxCADDatabase=r.MxCADLayerTable=r.MxCADLayerTableRecord=r.MxCADDisplayBlockTable=r.MxCADDisplayBlockRecord=r.MxCADDisplayLayerTable=r.MxCADDisplayLayerRecord=r.MxCADDisplayMemorySections=r.MxCADDisplayMemorySection=r.MxCADDisplayMemorySectionType=r.MxCADDisplayBlockInstance=r.MxCADDisplayBlockRef=r.MxCADDisplayClipPlans=r.MxCADDisplayClipPlan=void 0;var i=e("three"),a=e("../MxFun"),l=e("../MxShader"),c=e("./MxCADNetData"),d=e("../MxManager");r.MxCADDisplayClipPlan=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0};var E=function(){this.id=1,this.clipPlanArray=new Array};r.MxCADDisplayClipPlans=E;var C,D,f=function(){this.mat=new i.Matrix4,this.blkRecId=-1,this.blkOwnerId=0,this.layerId=-1,this.color=0,this.clipPlans=new E};r.MxCADDisplayBlockRef=f,r.MxCADDisplayBlockInstance=function(){this.mat=new i.Matrix4,this.clipPlans=new E},(D=C||(r.MxCADDisplayMemorySectionType=C={}))[D.kLinesType=1]="kLinesType",D[D.kTriangleType=2]="kTriangleType";var A=function(){this.id=0,this.type=C.kLinesType,this.blockId=0,this.layerId=0,this.color=0,this.points=[]};r.MxCADDisplayMemorySection=A;var S=(L.prototype.add=function(xe){this.datas.set(xe.id,xe)},L.prototype.get=function(xe){return this.datas.get(xe)},L.prototype.remove=function(xe){this.datas.delete(xe)},L.prototype.has=function(xe){return this.datas.has(xe)},L.prototype.clearAll=function(){this.datas=new Map},L);function L(){this.datas=new Map}r.MxCADDisplayMemorySections=S;var N=(G.prototype.addColorByLayerMaterial=function(xe,De){this.mapColorByLayerMaterial.set(xe,De)},G.prototype.upColorToByLayerMaterial=function(xe){this.mapColorByLayerMaterial.forEach(function(De){De.uniformsNeedUpdate=!0,De.needsUpdate=!0,De.uniforms={color:{value:xe}}})},G.prototype.getId=function(){return this.id},G.prototype.getBlockRecordId=function(){return this.blockRecId},G.prototype.createMemorySectionToEntityArray=function(xe){var De=this.mapMemorySectionIdToEntity.get(xe);return De||(De=new Array,this.mapMemorySectionIdToEntity.set(xe,De),De)},G.prototype.show=function(xe){this.mapMemorySectionIdToEntity.forEach(function(De){for(var Le in De)De[Le].visible=xe})},G.prototype.addEntity=function(xe,De){this.createMemorySectionToEntityArray(xe).push(De)},G.prototype.deleteMemorySectionEntitys=function(xe,De){var Le=this.mapMemorySectionIdToEntity.get(xe);if(!Le)return!1;for(var Ge=Le.length,rt=0;rt<Ge;rt++)a.MxFun.removeThreejsObject(Le[rt],De);return this.mapMemorySectionIdToEntity.delete(xe),this.mapColorByLayerMaterial.delete(xe),!0},G.prototype.addClipMaterial=function(xe){this.material_clip.push(xe)},G.prototype.updataClipMaterial=function(xe){for(var De=this.material_clip.length,Le=.5*xe.width,Ge=.5*xe.height,rt=0;rt<De;rt++)this.material_clip[rt].uniforms.vieww.value=Le,this.material_clip[rt].uniforms.viewh.value=Ge},G);function G(xe,De){this.id=0,this.blockRecId=0,this.mapMemorySectionIdToEntity=new Map,this.mapColorByLayerMaterial=new Map,this.material_clip=[],this.id=xe,this.blockRecId=De}r.MxCADDisplayLayerRecord=N;var ie=(le.prototype.createLayerRecord=function(xe){var De=this.layers.get(xe);return De||(De=new N(xe,this.blockRecId),this.layers.set(xe,De),De)},le.prototype.getLayerRecord=function(xe){return this.layers.get(xe)},le);function le(xe){this.blockRecId=0,this.layers=new Map,this.blockRecId=xe}r.MxCADDisplayLayerTable=ie;var ae=(he.prototype.getId=function(){return this.id},he.prototype.addBlkRef=function(xe){this.blkRefs.set(xe.id,xe)},he.prototype.getAllBlkRef=function(){return this.blkRefs},he.prototype.addInstance=function(xe){this.blkInstances.push(xe)},he.prototype.deleteAllInstance=function(){this.blkInstances=new Array},he.prototype.deleteBlkRef=function(){this.blkRefs=new Map},he.prototype.getLayerTable=function(){return this.layerTable},he.prototype.getInstances=function(){return this.blkInstances},he.prototype.getInstances_class=function(){for(var xe=[],De=new Map,Le=this.blkInstances.length,Ge=0;Ge<Le;Ge++){var rt=this.blkInstances[Ge];if(rt.clipPlans.clipPlanArray.length==0)xe.push(rt);else{var We=De.get(rt.clipPlans.id);We==null&&(We=[],De.set(rt.clipPlans.id,We)),We.push(rt)}}var xt={};return xt.aryInstanceNoClip=xe,xt.mapInstanceClip=De,xt},he);function he(xe){this.id=0,this.blkRefs=new Map,this.blkInstances=new Array,this.id=xe||0,this.layerTable=new ie(this.id)}r.MxCADDisplayBlockRecord=ae;var pe=(B.prototype.crateBlockRecord=function(xe){var De=this.blocks.get(xe);return De==null&&(De=new ae(xe),this.blocks.set(xe,De)),De},B.prototype.getBlockRecord=function(xe){return this.blocks.get(xe)},B.prototype.getAllBlockRecord=function(){return this.blocks},B.prototype.reInitData=function(xe){this.blocks=new Map,this.curSpaceBlockRecId=xe||0,this.crateBlockRecord(this.curSpaceBlockRecId)},B);function B(){this.blocks=new Map,this.curSpaceBlockRecId=0}r.MxCADDisplayBlockTable=pe;var se=function(){};r.MxCADLayerTableRecord=se;var oe=(O.prototype.add=function(xe,De,Le,Ge){var rt=new se;rt.id=xe,rt.name=Le,rt.color=De,rt.off=Ge,this.mapData.set(xe,rt)},O.prototype.getAllLayerData=function(){for(var xe,De=new Array,Le=this.mapData.values();!(xe=Le.next()).done;){var Ge=new se;Ge.color=xe.value.color,Ge.name=xe.value.name,Ge.off=xe.value.off,Ge.id=xe.value.id,De.push(Ge)}return De},O.prototype.setZeroLayerId=function(xe){this.zeroLayerId=xe},O.prototype.getZeroLayerId=function(){return this.zeroLayerId},O.prototype.getLayerIdForName=function(xe){for(var De,Le=this.mapData.values();!(De=Le.next()).done;)if(De.value.name==xe)return De.value.id;return 0},O.prototype.getColor=function(xe){var De=this.mapData.get(xe);return De?De.color:0},O.prototype.getRecord=function(xe){return this.mapData.get(xe)},O.prototype.isOff=function(xe){var De=this.mapData.get(xe);return!De||De.off},O.prototype.upDisplayForLayerData=function(xe,De){for(var Le,Ge=De,rt=Ge.length,We=!1,xt=function(st){var It=Ge[st],Ct=It.id;if(Ct==0)return"continue";var tt=Me.getRecord(Ct);if(!tt)return"continue";var Ve=It.color.split(",");if(Ve.length<3)return"continue";var Ze=255&parseInt(Ve[0])|parseInt(Ve[1])<<8&65280|parseInt(Ve[2])<<16&16711680;if((16777215&tt.color)==Ze)return"continue";tt.color=4278190080&tt.color|Ze,(Le=[]).push((255&tt.color)/255,(tt.color>>8&255)/255,(tt.color>>16&255)/255),xe.getDisplayBlockTable().getAllBlockRecord().forEach(function(Ne){var qe=Ne.getLayerTable().getLayerRecord(Ct);qe&&qe.upColorToByLayerMaterial(Le)}),We=!0},Me=this,Ue=0;Ue<rt;Ue++)xt(Ue);var Pe=function(st){var It=Ge[st],Ct=It.id;if(Ct==0)return"continue";var tt=Re.getRecord(Ct);return tt&&tt.off!=It.off?(tt.off=It.off,xe.getDisplayBlockTable().getAllBlockRecord().forEach(function(Ve){var Ze=Ve.getLayerTable().getLayerRecord(Ct);Ze&&Ze.show(!tt.off)}),void(We=!0)):"continue"},Re=this;for(Ue=0;Ue<rt;Ue++)Pe(Ue);return We},O);function O(){this.mapData=new Map,this.zeroLayerId=0}r.MxCADLayerTable=oe;var T,ce,fe=(Ee.prototype.initRootBlockRef=function(xe){xe?this.dpRootBlkRef=xe:(this.dpRootBlkRef=new f,this.dpRootBlkRef.mat=new i.Matrix4,this.dpRootBlkRef.blkRecId=0,this.dpRootBlkRef.blkOwnerId=-1,this.dpRootBlkRef.layerId=-1,this.dpRootBlkRef.color=16777215,this.dpRootBlkRef.id=0)},Ee.prototype.reInit=function(){this.dpBlockTable=new pe,this.layerTable=new oe,this.memSections=new S,this.initRootBlockRef()},Ee.prototype.getMxObj=function(){return this.mxObj},Ee.prototype.getDisplayRootBlockRef=function(){return this.dpRootBlkRef},Ee.prototype.getDisplayBlockTable=function(){return this.dpBlockTable},Ee.prototype.getLayerTable=function(){return this.layerTable},Ee.prototype.getMemSections=function(){return this.memSections},Ee);function Ee(xe){this.dpBlockTable=new pe,this.dpRootBlkRef=null,this.layerTable=new oe,this.memSections=new S,this.mxObj=null,this.mxObj=xe,this.initRootBlockRef()}r.MxCADDatabase=fe,(ce=T||(r.MxCADDisplayFun=T={})).showLayer=function(xe,De,Le){xe.getDisplayBlockTable().getAllBlockRecord().forEach(function(Ge){var rt=Ge.getLayerTable().getLayerRecord(De);rt&&rt.show(Le)})},ce.createThreejsObjForMemData_Clip=function(xe,De,Le,Ge,rt,We,xt){if(xe.length==0)return!1;var Me=[],Ue=[],Pe=xe[0].clipPlans.clipPlanArray[0];Me.push(Pe.x1,Pe.y1),Ue.push(Pe.x2,Pe.y2);for(var Re=[],st=[],It=[],Ct=[],tt=[],Ve=0;Ve<xe.length;Ve++){var Ze=xe[Ve];Re=Re.concat(Ze.mat.elements.slice(0,4)),st=st.concat(Ze.mat.elements.slice(4,8)),It=It.concat(Ze.mat.elements.slice(8,12)),Ct=Ct.concat(Ze.mat.elements.slice(12,16)),tt.push(0)}var Ne=De.color,qe=(4278190080&Ne)==16777216;qe&&(Ne=rt);var lt=[];lt.push(255&Ne,(65280&Ne)>>8,(16711680&Ne)>>16);var vt=xt.getCanvas(),bt=.5*vt.width,nt=.5*vt.height;if(De.type==C.kLinesType){var Nt=new i.RawShaderMaterial({uniforms:{color:{value:lt},clippt1:{value:Me},clippt2:{value:Ue},vieww:{value:bt},viewh:{value:nt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_CLIP_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});Le.addClipMaterial(Nt),(Qt=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,Qt.setAttribute("position",new i.Float32BufferAttribute(De.points,2)),Qt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Re),4)),Qt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(st),4)),Qt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(It),4)),Qt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ct),4)),Qt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(tt),1));var kt=new i.LineSegments(Qt,Nt);kt.frustumCulled=!1,kt.renderOrder=d.MxData.iCADCurveRenderOrder,Ge.add(kt),Le.addEntity(De.id,kt),qe&&Le.addColorByLayerMaterial(De.id,Nt)}else if(De.type==C.kTriangleType){var Qt;Nt=new i.RawShaderMaterial({uniforms:{color:{value:lt},clippt1:{value:Me},clippt2:{value:Ue},vieww:{value:bt},viewh:{value:nt}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_CLIP_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_CLIP_FORMXCAD,transparent:!0,side:i.DoubleSide}),Le.addClipMaterial(Nt),(Qt=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,Qt.setAttribute("position",new i.Float32BufferAttribute(De.points,2)),Qt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Re),4)),Qt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(st),4)),Qt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(It),4)),Qt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ct),4)),Qt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(tt),1));var gt=new i.Mesh(Qt,Nt);gt.frustumCulled=!1,gt.renderOrder=d.MxData.iCADMeshRenderOrder,Ge.add(gt),Le.addEntity(De.id,gt),qe&&Le.addColorByLayerMaterial(De.id,Nt)}},ce.createThreejsObjForMemData=function(xe,De,Le,Ge,rt,We){if(xe.length==0)return!1;for(var xt=[],Me=[],Ue=[],Pe=[],Re=[],st=0;st<xe.length;st++){var It=xe[st];xt=xt.concat(It.mat.elements.slice(0,4)),Me=Me.concat(It.mat.elements.slice(4,8)),Ue=Ue.concat(It.mat.elements.slice(8,12)),Pe=Pe.concat(It.mat.elements.slice(12,16)),Re.push(0)}var Ct=De.color,tt=(4278190080&Ct)==16777216;tt&&(Ct=rt);var Ve=[];if(Ve.push((255&Ct)/255,(Ct>>8&255)/255,(Ct>>16&255)/255),De.type==C.kLinesType){var Ze=new i.RawShaderMaterial({uniforms:{color:{value:Ve}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(De.points,2)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ue),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Pe),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Re),1));var Ne=new i.LineSegments(qe,Ze);Ne.frustumCulled=!1,Ne.renderOrder=d.MxData.iCADCurveRenderOrder,Ne.visible=!We,Ge.add(Ne),Le.addEntity(De.id,Ne),tt&&Le.addColorByLayerMaterial(De.id,Ze)}else if(De.type==C.kTriangleType){var qe;Ze=new i.RawShaderMaterial({uniforms:{color:{value:Ve}},vertexShader:l.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:l.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(De.points,2)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ue),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Pe),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Re),1));var lt=new i.Mesh(qe,Ze);lt.frustumCulled=!1,lt.renderOrder=d.MxData.iCADMeshRenderOrder,lt.visible=!We,Ge.add(lt),Le.addEntity(De.id,lt),tt&&Le.addColorByLayerMaterial(De.id,Ze)}};var Ae=(_e.prototype.upDisplayFromChage_memData=function(xe){var De=this.database.getDisplayBlockTable().getBlockRecord(xe.blockId);if(De==null)return!1;var Le=this.database.getLayerTable().getColor(xe.layerId),Ge=this.database.getLayerTable().isOff(xe.layerId),rt=De.getLayerTable().createLayerRecord(xe.layerId),We=this.mxObj.getScene(),xt=De.getInstances_class();rt.deleteMemorySectionEntitys(xe.id,We);var Me=xt.aryInstanceNoClip,Ue=xt.mapInstanceClip;0<Me.length&&T.createThreejsObjForMemData(Me,xe,rt,We,Le,Ge);for(var Pe=Ue.values(),Re=Pe.next();!Re.done;){var st=Re.value;T.createThreejsObjForMemData_Clip(st,xe,rt,We,Le,Ge,this.mxObj),Re=Pe.next()}},_e.prototype.upDisplayFromChage=function(xe){for(var De=xe.length,Le=0;Le<De;Le++){var Ge=xe[Le];this.upDisplayFromChage_memData(Ge)}},_e.prototype.OnMessageDisplayMemorySectionsFromChange=function(xe){for(var De=this.database.getMemSections(),Le=new c.MxCADNetData(xe),Ge=Le.getMxCADPointMemorySectionsHeadFromChange(),rt=Ge.nOffset,We=[],xt=0;xt<Ge.datacount;xt++){var Me=Le.getMxCADPointMemorySectionHeadFromChange(rt);rt=Me.offset;var Ue=new A;Ue.layerId=Me.layerId,Ue.blockId=Me.blkId,Ue.id=Me.memId,Ue.color=Me.memColor,Ue.type=Me.memType;var Pe=Me.pointCount;if(!(Pe<1)){for(var Re=[],st=0;st<Pe;st++){var It=xe.getFloat32(rt,!0);rt+=4;var Ct=xe.getFloat32(rt,!0);rt+=4,Re.push(It,Ct)}Ue.points=Re,De.add(Ue),We.push(Ue)}}this.upDisplayFromChage(We)},_e.prototype.deleteMemorySectionAndEntity=function(xe){var De=this.database.getMemSections(),Le=De.get(xe);if(!Le)return!1;var Ge=this.database.getDisplayBlockTable().getBlockRecord(Le.blockId);if(Ge==null)return De.remove(Le.id),console.log("mx:blkrec null assert(0)"),!1;var rt=Ge.getLayerTable().createLayerRecord(Le.layerId),We=this.mxObj.getScene();return rt.deleteMemorySectionEntitys(Le.id,We),De.remove(Le.id),!0},_e.prototype.OnMessageDisplayNotUseMemorySectionsForChage=function(xe){for(var De=new c.MxCADNetData(xe).getMxCADNotUseMemorySectionsHeadForChage(),Le=De.nCount,Ge=De.nOffset,rt=0;rt<Le;rt++){var We=xe.getInt32(Ge,!0);Ge+=4,this.deleteMemorySectionAndEntity(We)}},_e);function _e(xe){this.database=null,this.mxObj=null,this.database=xe,this.mxObj=xe.getMxObj()}r.MxCADSyncDisplay=Ae},{"../MxFun":34,"../MxManager":36,"../MxShader":40,"./MxCADNetData":23,three:19}],22:[function(e,t,r){var i,a=this&&this.__extends||(i=function(le,ae){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,pe){he.__proto__=pe}||function(he,pe){for(var B in pe)Object.prototype.hasOwnProperty.call(pe,B)&&(he[B]=pe[B])})(le,ae)},function(le,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function he(){this.constructor=le}i(le,ae),le.prototype=ae===null?Object.create(ae):(he.prototype=ae.prototype,new he)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADGripJig=r.MxCADGrip=r.MxCADGripData=void 0;var l=e("three"),c=e("../MxFun"),d=e("../MxThreeJS"),E=e("../Operate/MxJig"),C=e("../Operate/MxJigCmdManager"),D=e("../MxManager"),f=e("../MxDrawData"),A=function(){this.threeObject=null};r.MxCADGripData=A;var S=(L.prototype.getParentObject=function(){return this.mxObj.getTheTempDrawContainer()},L.prototype.removeAllEntity=function(){var le=this.getParentObject();this.mapGrips.forEach(function(ae,he,pe){for(var B=ae.length,se=0;se<B;se++){var oe=ae[se];c.MxFun.removeThreejsObject(oe.threeObject,le)}}),this.mapGrips=new Map},L.prototype.deleteGripData=function(le){var ae=this.getParentObject(),he=this.mapGrips.get(le);if(he)for(var pe=he.length,B=0;B<pe;B++){var se=he[B];c.MxFun.removeThreejsObject(se.threeObject,ae)}this.mapGrips.delete(le)},L.prototype.deleteEntityData=function(le){this.mapEntityData.delete(le)},L.prototype.addGripData=function(le,ae,he,pe){var B=this.mapGrips.get(le);B==null&&(B=new Array,this.mapGrips.set(le,B));var se=new A;return se.iIndex=ae,se.point=new l.Vector3(he,pe,0),B.push(se),se},L.prototype.createGripDisplayObject=function(le){var ae=this.getParentObject();le.geometry=new l.Geometry;var he=this.mxObj.screenCoordLong2Doc(f.MxDrawData.m_dGridWidth/2);le.geometry.vertices.push(new l.Vector3(le.point.x-he,le.point.y-he,0)),le.geometry.vertices.push(new l.Vector3(le.point.x-he,le.point.y+he,0)),le.geometry.vertices.push(new l.Vector3(le.point.x+he,le.point.y+he,0)),le.geometry.vertices.push(new l.Vector3(le.point.x+he,le.point.y-he,0)),le.geometry.faces.push(new l.Face3(0,1,2)),le.geometry.faces.push(new l.Face3(2,3,0)),le.geometry.computeFaceNormals(),le.geometry.computeVertexNormals();var pe=new l.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:l.DoubleSide,opacity:.9}),B=new l.Mesh(le.geometry,pe);B.renderOrder=D.MxData.iGripRenderOrder,ae.add(B),le.threeObject=B},L.prototype.clearAll=function(){return this.mapEntityData=new Map,this.mapGrips.size!=0&&(this.removeAllEntity(),!0)},L.prototype.addEntityData=function(le,ae){this.mapEntityData.set(le,ae)},L.prototype.onIntelliSelect=function(le){for(var ae=JSON.parse(le),he=ae.vecEntityData.length,pe=0;pe<he;pe++){var B=ae.vecEntityData[pe],se=B.lIdIndex;this.addEntityData(se,B.entity),this.deleteGripData(se);for(var oe=B.vecGrip.length,O=0;O<oe;O++){var T=B.vecGrip[O],ce=this.addGripData(se,T.iIndex,T.ptx,T.pty);this.createGripDisplayObject(ce)}}},L.prototype.onControlsChage=function(){if(this.mapGrips.size!=0){var le=this.mxObj.screenCoordLong2Doc(8);this.mapGrips.forEach(function(ae,he,pe){for(var B=ae.length,se=0;se<B;se++){var oe=ae[se];oe.geometry.vertices.length==4&&(oe.geometry.vertices[0].x=oe.point.x-le,oe.geometry.vertices[0].y=oe.point.y-le,oe.geometry.vertices[1].x=oe.point.x-le,oe.geometry.vertices[1].y=oe.point.y+le,oe.geometry.vertices[2].x=oe.point.x+le,oe.geometry.vertices[2].y=oe.point.y+le,oe.geometry.vertices[3].x=oe.point.x+le,oe.geometry.vertices[3].y=oe.point.y-le,oe.geometry.computeFaceNormals(),oe.geometry.computeVertexNormals(),oe.geometry.verticesNeedUpdate=!0)}})}},L.prototype.hitTest=function(le){var ae={grips:new Array,ids:new Array,pt:le},he=new l.Vector3(le.x,le.y,0),pe=this.mxObj.screenCoordLong2Doc(32);return this.mapGrips.forEach(function(B,se){for(var oe=B.length,O=0;O<oe;O++){var T=B[O];if(T.point.distanceTo(he)<=pe){ae.grips.push(T),ae.ids.push(se);break}}}),ae},L.prototype.onMouseLBDown=function(le){var ae=this.hitTest(le);return ae.grips.length!=0&&(c.MxFun.sendStringToExecute("Mx_GripEdit",ae),!0)},L.prototype.gripEditImp=function(le){var ae=le.grips,he=le.ids,pe=le.pt,B=new G(pe,ae,he,this.mapEntityData);B.setDisableDynInput(!0),B.setDisableOsnap(!0),C.MxJigCmdManager.runCmd(B)},L);function L(le){this.mxObj=null,this.mapGrips=new Map,this.mapEntityData=new Map,this.mxObj=le}r.MxCADGrip=S;var N,G=(a(ie,N=E.McEdJigCommand),ie.prototype.sampler=function(){var le=C.MxJigCmdManager.InType.kGetBegan,ae=this.acquirePoint(le);return ae.status==C.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=ae.pt),ae.status},ie.prototype.getTypeName=function(){return"MxGripEdit"},ie.prototype.done=function(le){if(le==C.MxJigCmdManager.DragStatus.kNormal){var ae=[];ae.push(this.currPt.x,this.currPt.y);for(var he=this.getMxObject(),pe=he.getMxCAD().getGrip(),B=he.getMxCAD().getSelect(),se=this.grips.length,oe=0;oe<se;oe++){var O=this.grips[oe],T=this.ids[oe];ae.push(T,O.iIndex),pe.deleteGripData(T),pe.deleteEntityData(T),B.removeAllEntity()}he.callCommand("MxCAD_GridEdit",JSON.stringify(ae),function(ce){pe.onIntelliSelect(ce)})}return C.MxJigCmdManager.DoneStatius.kExitCommand},ie.prototype.upDisplay_Line=function(le,ae){var he=new l.Vector3(le.pt1x,le.pt1y,0),pe=new l.Vector3(le.pt2x,le.pt2y,0);if(ae.iIndex==0)he.x=this.currPt.x,he.y=this.currPt.y;else if(ae.iIndex==1)pe.x=this.currPt.x,pe.y=this.currPt.y;else if(ae.iIndex==2){var B=pe.x+.5*(he.x-pe.x),se=pe.y+.5*(he.y-pe.y),oe=this.currPt.x-B,O=this.currPt.y-se;he.x+=oe,he.y+=O,pe.x+=oe,pe.y+=O}var T=d.MxThreeJS.createLine(he,pe,16777215);this.drawEntity(T,31)},ie.prototype.upDisplay=function(){for(var le=this.grips.length,ae=0;ae<le;ae++){var he=this.grips[ae],pe=this.ids[ae],B=this.mapEntityData.get(pe);B&&B.name=="McDbLine"&&this.upDisplay_Line(B,he)}},ie);function ie(le,ae,he,pe){var B=N.call(this)||this;return B.pt=le,B.grips=ae,B.ids=he,B.currPt=le,B.mapEntityData=pe,B}r.MxCADGripJig=G},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxThreeJS":44,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],23:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADNetData=void 0;var i=(a.prototype.getBlobHead=function(l){var c={};return c.type=this._dataView.getInt32(l,!0),l+=4,c.ver=this._dataView.getInt32(l,!0),l+=4,c.databaseIndex=this._dataView.getInt32(l,!0),l+=4,c.nOffset=l,c},a.prototype.getMxCADPointMemorySectionsHead=function(){var l=this.getBlobHead(0);return l.zeroLayerIdIndex=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datacount=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize!=l.nOffset&&console.log("mx: sectionshead size assert(0)"),l},a.prototype.getMxCADPointMemorySectionsHeadFromChange=function(){var l=this.getBlobHead(0);return l.zeroLayerIdIndex=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datacount=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize!=l.nOffset&&console.log("mx: sectionshead size assert(0)"),l},a.prototype.getMxCADPointMemorySectionHead=function(l){var c=this.getBlobHead(l);return l=c.nOffset,c.pointCount=this._dataView.getInt32(l,!0),l+=4,c.layerId=this._dataView.getInt32(l,!0),l+=4,c.blkId=this._dataView.getInt32(l,!0),l+=4,c.memColor=this._dataView.getInt32(l,!0),l+=4,c.memId=this._dataView.getInt32(l,!0),l+=4,c.memType=this._dataView.getInt32(l,!0),l+=4,c.offset=l,c},a.prototype.getMxCADPointMemorySectionHeadFromChange=function(l){var c=this.getBlobHead(l);return l=c.nOffset,c.pointCount=this._dataView.getInt32(l,!0),l+=4,c.layerId=this._dataView.getInt32(l,!0),l+=4,c.blkId=this._dataView.getInt32(l,!0),l+=4,c.memColor=this._dataView.getInt32(l,!0),l+=4,c.memId=this._dataView.getInt32(l,!0),l+=4,c.memType=this._dataView.getInt32(l,!0),l+=4,c.offset=l,c},a.prototype.getMxCADBlockRefsHead=function(){var l=this.getBlobHead(0);return l.nBlockRefCount=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize!=l.nOffset&&console.log("mx: sectionshead size assert(0)"),l},a.prototype.getMxCADNotUseMemorySectionsHeadForChage=function(){var l=this.getBlobHead(0);return l.nCount=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize!=l.nOffset&&console.log("mx: sectionshead size assert(0)"),l},a.prototype.getEntityDisplayDatasHead=function(){var l=this.getBlobHead(0);return l.nCount=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize=this._dataView.getInt32(l.nOffset,!0),l.nOffset+=4,l.datasize!=l.nOffset&&console.log("mx: sectionshead size assert(0)"),l},a.prototype.getEntityDisplayDataHead=function(l){var c=this.getBlobHead(l);return c.nCount=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.type=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.datasize=this._dataView.getInt32(c.nOffset,!0),c.nOffset+=4,c.datasize!=c.nOffset-l&&console.log("mx: sectionshead size assert(0)"),c},a);function a(l){this._dataView=l}r.MxCADNetData=i},{}],24:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADObject=void 0;var i=e("./MxCADEditDisplay"),a=e("./MxCADOpenDisplay"),l=e("./MxCADSelect"),c=e("./MxCADGrip"),d=(E.prototype.reInit=function(){this.openDisplay.reInit(),this.databsae.reInit(),this.mxObj.reInit()},E.prototype.getSelect=function(){return this.select},E.prototype.getGrip=function(){return this.grip},E.prototype.newFile=function(){this.reInit(),this.openFile("")},E.prototype.undo=function(){this.mxObj.undo()},E.prototype.openFile=function(C,D){var f=this;this.reInit(),this._openFile=C,this.mxObj.callCommand("MxCAD_OpenFile",JSON.stringify({file:C}),function(A){f.mxObj.callCommand("MxCAD_SendDisplay"),typeof A!="string"||A.length<1?D&&D({}):D&&D(JSON.parse(A))})},E.prototype.saveFile=function(C,D){this.mxObj.callCommand("MxCAD_SaveFile",JSON.stringify({file:C}),function(f){D(JSON.parse(f))})},E.prototype.getDisplayFromServer=function(){this.reInit(),this.mxObj.callCommand("MxCAD_SendDisplay")},E.prototype.getFileName=function(){return this._openFile},E.prototype.getDatabase=function(){return this.databsae},E.prototype.getOpenDisplay=function(){return this.openDisplay},E.prototype.getSyncDisplay=function(){return this.syncDisplay},E.prototype.getAllLayerData=function(){return this.databsae.getLayerTable().getAllLayerData()},E);function E(C){this._openFile="",this.mxObj=null,this.databsae=null,this.openDisplay=null,this.syncDisplay=null,this.select=null,this.grip=null,this.mxObj=C,this.databsae=new i.MxCADDatabase(C),this.openDisplay=new a.MxCADOpenDisplay(this.databsae),this.syncDisplay=new i.MxCADSyncDisplay(this.databsae),this.select=new l.MxCADSelect(C),this.grip=new c.MxCADGrip(C)}r.MxCADObject=d},{"./MxCADEditDisplay":21,"./MxCADGrip":22,"./MxCADOpenDisplay":25,"./MxCADSelect":26}],25:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADOpenDisplay=void 0;var i=e("three"),a=e("./MxCADNetData"),l=e("./MxCADEditDisplay"),c=(d.prototype.createAllInstanceCall=function(E,C,D,f,A){if(!f.get(E.getId())){f.set(E.getId(),!0);var S=new l.MxCADDisplayBlockInstance;if(S.mat=new i.Matrix4,S.mat.copy(D),S.idBlkRef=C.id,S.mat.multiply(C.mat),C.clipPlans.clipPlanArray.length==0)S.clipPlans=A;else{S.clipPlans=C.clipPlans;for(var L=S.clipPlans.clipPlanArray.length,N=0;N<L;N++){var G=new i.Vector3(S.clipPlans.clipPlanArray[N].x1,S.clipPlans.clipPlanArray[N].y1,0),ie=new i.Vector3(S.clipPlans.clipPlanArray[N].x2,S.clipPlans.clipPlanArray[N].y2,0);G.applyMatrix4(S.mat),ie.applyMatrix4(S.mat),S.clipPlans.clipPlanArray[N].x1=G.x,S.clipPlans.clipPlanArray[N].y1=G.y,S.clipPlans.clipPlanArray[N].x2=ie.x,S.clipPlans.clipPlanArray[N].y2=ie.y}}E.addInstance(S);for(var le=this.database.getDisplayBlockTable(),ae=E.getAllBlkRef().values(),he=ae.next();!he.done;){var pe=he.value;if(pe.blkRecId!=0){var B=le.getBlockRecord(pe.blkRecId);B!=null&&(this.createAllInstanceCall(B,pe,S.mat,f,S.clipPlans),he=ae.next())}}f.set(E.getId(),!1)}},d.prototype.deleteAllInstance=function(){for(var E=this.database.getDisplayBlockTable().getAllBlockRecord().values(),C=E.next();!C.done;)C.value.deleteAllInstance(),C=E.next()},d.prototype.createAllInstance=function(){this.deleteAllInstance();var E=this.database.getDisplayBlockTable().getBlockRecord(0);if(E==null)return!1;var C=this.database.getDisplayRootBlockRef(),D=new i.Matrix4,f=new Map,A=new l.MxCADDisplayClipPlans;return this.createAllInstanceCall(E,C,D,f,A),this.isCreateInstance=!0},d.prototype.creteDisplayForMemData=function(E){var C=this.database.getDisplayBlockTable().getBlockRecord(E.blockId);if(C==null)return!1;var D=C.getLayerTable().createLayerRecord(E.layerId),f=this.database.getLayerTable().getColor(E.layerId),A=this.database.getLayerTable().isOff(E.layerId),S=this.mxObj.getScene(),L=C.getInstances_class(),N=L.aryInstanceNoClip,G=L.mapInstanceClip;0<N.length&&l.MxCADDisplayFun.createThreejsObjForMemData(N,E,D,S,f,A);for(var ie=G.values(),le=ie.next();!le.done;){var ae=le.value;l.MxCADDisplayFun.createThreejsObjForMemData_Clip(ae,E,D,S,f,A,this.mxObj),le=ie.next()}},d.prototype.creteDisplayForNewData=function(){if(this.isCreateInstance||this.isGetDisplayBlockRef&&this.isGetLayerTable&&this.createAllInstance(),this.isCreateInstance){for(var E=this.vecNewCreateDisplayData.length,C=0;C<E;C++){var D=this.vecNewCreateDisplayData[C];this.creteDisplayForMemData(D)}this.vecNewCreateDisplayData=[]}},d.prototype.reInit=function(){this.isGetDisplayBlockRef=!1,this.isCreateInstance=!1,this.isGetLayerTable=!1,this.vecNewCreateDisplayData=[]},d.prototype.getMxOb=function(){return this.mxObj},d.prototype.OnMessageLayerData=function(E){var C=this.database.getLayerTable(),D=JSON.parse(E);if(D!=null){var f=D.list;for(var A in f)C.add(f[A].id,f[A].colorvalue,f[A].name,f[A].off==1),f[A].zerolayer==1&&C.setZeroLayerId(f[A].id)}this.isGetLayerTable=!0,this.creteDisplayForNewData()},d.prototype.OnMessageDisplayBlockRef=function(E){var C=this.database.getDisplayBlockTable();C.reInitData(),this.isCreateInstance=!1;for(var D=new a.MxCADNetData(E).getMxCADBlockRefsHead(),f=D.nBlockRefCount,A=D.nOffset,S=1,L=0;L<f;L++){var N=E.getInt32(A,!0);A+=4;var G=E.getInt32(A,!0);A+=4;var ie=E.getInt32(A,!0);A+=4;var le=E.getInt32(A,!0);A+=4;var ae=E.getInt32(A,!0);A+=4;for(var he=new Array,pe=0;pe<16;pe++){var B=E.getFloat32(A,!0);A+=4,he.push(B)}var se=E.getInt32(A,!0);A+=4;var oe=new l.MxCADDisplayClipPlans;oe.id=S,S++,oe.clipPlanArray=[];for(var O=0;O<se;O++){var T=E.getFloat32(A,!0);A+=4;var ce=E.getFloat32(A,!0);A+=4;var fe=E.getFloat32(A,!0);A+=4;var Ee=E.getFloat32(A,!0);A+=4;var Ae=new l.MxCADDisplayClipPlan;Ae.x1=T,Ae.y1=ce,Ae.x2=fe,Ae.y2=Ee,oe.clipPlanArray.push(Ae)}var _e=new l.MxCADDisplayBlockRef;_e.mat=new i.Matrix4,_e.mat.fromArray(he),_e.blkRecId=le,_e.blkOwnerId=G,_e.layerId=ie,_e.color=ae,_e.clipPlans=oe,_e.id=N,C.crateBlockRecord(le),C.crateBlockRecord(G);var xe=C.getBlockRecord(G);xe?xe.addBlkRef(_e):console.log("ownerBlkRec == null,assert(0)")}this.isGetDisplayBlockRef=!0,this.creteDisplayForNewData()},d.prototype.OnMessageDisplayMemorySections=function(E){for(var C=this.database.getMemSections(),D=new a.MxCADNetData(E),f=D.getMxCADPointMemorySectionsHead(),A=f.nOffset,S=0;S<f.datacount;S++){var L=D.getMxCADPointMemorySectionHead(A);A=L.offset;var N=new l.MxCADDisplayMemorySection;N.layerId=L.layerId,N.blockId=L.blkId,N.id=L.memId,N.color=L.memColor,N.type=L.memType;var G=L.pointCount;if(!(G<1)){for(var ie=[],le=0;le<G;le++){var ae=E.getFloat32(A,!0);A+=4;var he=E.getFloat32(A,!0);A+=4,ie.push(ae,he)}N.points=ie,C.add(N),this.vecNewCreateDisplayData.push(N)}}this.creteDisplayForNewData()},d);function d(E){this.database=null,this.isGetDisplayBlockRef=!1,this.isCreateInstance=!1,this.isGetLayerTable=!1,this.vecNewCreateDisplayData=[],this.mxObj=null,this.database=E,this.mxObj=E.getMxObj()}r.MxCADOpenDisplay=c},{"./MxCADEditDisplay":21,"./MxCADNetData":23,three:19}],26:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCADSelect=r.MxCADSelectDisplayEntityData=r.MxCADSelectDisplayEntityDataType=void 0;var i,a,l=e("three"),c=e("../MxFun"),d=e("three.meshline"),E=e("./MxCADNetData"),C=e("../MxManager");(a=i||(r.MxCADSelectDisplayEntityDataType=i={}))[a.kLinesType=1]="kLinesType",a[a.kTriangleType=2]="kTriangleType";var D=function(){this.type=i.kLinesType,this.points=[]};r.MxCADSelectDisplayEntityData=D;var f=(A.prototype.getParentObject=function(){return this.mxObj.getScene()},A.prototype.removeAllEntity=function(){for(var S=this.getParentObject(),L=this.aryThreeObject.length,N=0;N<L;N++)c.MxFun.removeThreejsObject(this.aryThreeObject[N],S);this.aryThreeObject=[]},A.prototype.clearAllSelect=function(S){return S===void 0&&(S=!0),S&&this.mxObj.callCommand("MxCAD_ClearSelect"),this.aryThreeObject.length!=0&&(this.removeAllEntity(),!0)},A.prototype.OnMessageEntityDisplayDatas=function(S){for(var L=new E.MxCADNetData(S),N=L.getEntityDisplayDatasHead(),G=N.nOffset,ie=[],le=0;le<N.nCount;le++){var ae=L.getEntityDisplayDataHead(G);G=ae.nOffset,(Ae=new D).type=ae.type;var he=ae.nCount;if(!(he<1)){for(var pe=[],B=0;B<he;B+=2){var se=S.getFloat32(G,!0);G+=4;var oe=S.getFloat32(G,!0);G+=4,pe.push(se,oe)}Ae.points=pe,ie.push(Ae)}}var O=this.mxObj.getViewWidth(),T=this.mxObj.getViewHeight();this.material.resolution=new l.Vector2(O,T);for(var ce=ie.length,fe=this.getParentObject(),Ee=0;Ee<ce;Ee++){var Ae;if((Ae=ie[Ee]).type==i.kLinesType)for(var _e=Ae.points.length,xe=0;xe+3<_e;xe+=4){var De=new Float32Array(6);De[0]=Ae.points[xe],De[1]=Ae.points[xe+1],De[2]=0,De[3]=Ae.points[xe+2],De[4]=Ae.points[xe+3],De[5]=0;var Le=new d.MeshLine;Le.setGeometry(De);var Ge=new l.Mesh(Le.geometry,this.material);Ge.renderOrder=C.MxData.iSelectRenderOrder,fe.add(Ge),this.aryThreeObject.push(Ge)}else if(Ae.type==i.kTriangleType){_e=Ae.points.length;var rt=new l.Geometry,We=0;for(xe=0;xe+5<_e;xe+=6){var xt=new l.Vector3(Ae.points[xe],Ae.points[xe+1],0),Me=new l.Vector3(Ae.points[xe+2],Ae.points[xe+3],0),Ue=new l.Vector3(Ae.points[xe+4],Ae.points[xe+5],0);rt.vertices.push(xt),rt.vertices.push(Me),rt.vertices.push(Ue);var Pe=new l.Face3(We,We+1,We+2);rt.faces.push(Pe),We+=3}var Re=new l.Mesh(rt,this.materialFill);Re.renderOrder=C.MxData.iSelectRenderOrder,fe.add(Re),this.aryThreeObject.push(Re)}}},A);function A(S){this.aryThreeObject=[],this.mxObj=null,this.material=new d.MeshLineMaterial({useMap:!1,color:new l.Color(2641557),opacity:1,resolution:new l.Vector2(500,500),sizeAttenuation:!1,lineWidth:10,transparent:!0,depthTest:!1}),this.materialFill=new l.MeshBasicMaterial({color:new l.Color(2641557),opacity:.8,side:l.DoubleSide,transparent:!0,depthTest:!1}),this.mxObj=S}r.MxCADSelect=f},{"../MxFun":34,"../MxManager":36,"./MxCADNetData":23,three:19,"three.meshline":18}],27:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCadSketchLayers=r.MxCadSketchLayer=void 0;var i=(a.prototype.addEntity=function(d){this._setEntityId.add(d)},a.prototype.getId=function(){return this.id},a.prototype.setId=function(d){this.id=d},a.prototype.removeEntity=function(d){this._setEntityId.delete(d)},a.prototype.show=function(d){var E=this;this._setEntityId.forEach(function(C){var D=E._mxobj.getEntity(C);if(D!=null)for(var f=0,A=D.length;f<A;f++)D[f].visible=d})},a);function a(d){this._setEntityId=new Set,this.id=0,this._mxobj=null,this._mxobj=d}r.MxCadSketchLayer=i;var l=(c.prototype.getLayer=function(d,E){var C=this._mapId2Layers.get(d);return C==null&&((C=new i(this._mxobj)).setId(d),this._mapId2Layers.set(d,C)),C},c.prototype.addEntity=function(d,E){this.getLayer(E).addEntity(d)},c.prototype.removeEntity=function(d){this._mapId2Layers.forEach(function(E){E.removeEntity(d)})},c.prototype.removeAllEntity=function(){this._mapId2Layers.clear()},c);function c(d){this._mxobj=null,this._mapId2Layers=new Map,this._mxobj=d}r.MxCadSketchLayers=l},{}],28:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawCommands=void 0;var i,a=e("./MxFun"),l=e("./MxType"),c=e("./Operate/MxIntelliSelect"),d=e("./Operate/MxJigCmdManager"),E=e("./MxWindowsEvent"),C=e("./MxDrawData");function D(N){if(N!=null&&N.pt1!=null){var G=new c.MxIntelliSelectJig(N.pt1,!1);G.setDisableDynInput(!0),G.setDisableOsnap(!0);var ie=N.pt1,le=a.MxFun.getCurrentMx();if(!C.MxDrawData.m_isMultipleSelect){var ae=le.getMxCAD();ae.getSelect().clearAllSelect(),ae.getGrip().clearAll(),le.getMcObject().isValid()&&le.getMcObject().getGripManager().clearAll()}G.doPointSelect(a.MxFun.getCurrentMx(),N.pt1,function(he){if(JSON.parse(he).lCount!=0&&(le.getMxCAD().getGrip().onIntelliSelect(he),C.MxDrawData.m_isMultipleSelect)){var pe=E.MxWindowsEvent.getCurrentMousePostion();if(le.screenCoord2Doc(pe.x,pe.y,0).distanceTo(ie)<le.screenCoordLong2Doc(10)){var B=d.MxJigCmdManager.getCurCmd();B&&B.getTypeName()=="MxIntelliSelect"&&d.MxJigCmdManager.stopCmd()}}}),C.MxDrawData.m_isMultipleSelect&&d.MxJigCmdManager.runCmd(G)}}function f(N){N!=null&&N.grips!=null&&N.ids!=null&&a.MxFun.getCurrentMx().getMxCAD().getGrip().gripEditImp(N)}function A(N){N!=null&&N.grips!=null&&N.ids!=null&&a.MxFun.getCurrentMx().getMcObject().getGripManager().gripEditImp(N)}function S(N){if(N!=null&&N.pt!=null){var G=a.MxFun.getCurrentMx(),ie=N.pt;if(!G.getMxDatabase().getGripManager().doPointSelect(ie)){var le=!0;if(G.isValidMcObject()&&G.getMcObject().getGripManager().doPointSelect(ie)&&(le=!1),le&&C.MxDrawData.m_isMultipleSelect){var ae=G.screenCoord2Doc(ie.x,ie.y,0),he=new c.MxIntelliSelectJig(ae,!0);he.setDisableDynInput(!0),he.setDisableOsnap(!0),d.MxJigCmdManager.runCmd(he)}}}}function L(N){N!=null&&N.grips!=null&&N.ents!=null&&a.MxFun.getCurrentMx().getMxDatabase().getGripManager().gripEditImp(N)}(i||(r.MxDrawCommands=i={})).registerCommand=function(){a.MxFun.addCommand("Mx_IntelliSel",D,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),a.MxFun.addCommand("Mx_GripEdit",f,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),a.MxFun.addCommand("McDraw_GripEdit",A,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),a.MxFun.addCommand("Mx_FrontEndWebpageIntelliSel",S,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT),a.MxFun.addCommand("Mx_FrontEndWebpageGripEdit",L,l.MxType.CommandFlags.MCRX_CMD_TRANSPARENT)}},{"./MxDrawData":29,"./MxFun":34,"./MxType":46,"./MxWindowsEvent":48,"./Operate/MxIntelliSelect":56,"./Operate/MxJigCmdManager":58}],29:[function(e,t,r){var i,a;Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawData=void 0,(a=i||(r.MxDrawData=i={})).m_isEnableIntelliSelect=!1,a.m_isEnableGripEidt=!0,a.m_isMultipleSelect=!0,a.m_isAutoResetRenderer=!1,a.m_isCorrectLargeCoordinates=!1,a.m_isRequestHeaderCacheControl=!1,a.m_dGridWidth=16,a.getCursorWidthPixels=function(){return 16},a.setIniset=function(l){l.EnableIntelliSelect!==void 0&&typeof l.EnableIntelliSelect=="boolean"&&(a.m_isEnableIntelliSelect=l.EnableIntelliSelect),l.EnableGripEidt!==void 0&&typeof l.EnableGripEidt=="boolean"&&(a.m_isEnableGripEidt=l.EnableGripEidt),l.multipleSelect!==void 0&&typeof l.multipleSelect=="boolean"&&(a.m_isMultipleSelect=l.multipleSelect),l.autoResetRenderer!==void 0&&typeof l.autoResetRenderer=="boolean"&&(a.m_isAutoResetRenderer=l.autoResetRenderer),l.correctLargeCoordinates!==void 0&&typeof l.autoResetRenderer=="boolean"&&(a.m_isCorrectLargeCoordinates=l.correctLargeCoordinates),l.requestHeaderCacheControl!==void 0&&typeof l.requestHeaderCacheControl=="boolean"&&(a.m_isRequestHeaderCacheControl=l.requestHeaderCacheControl)}},{}],30:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject=r.IniSetName=r.MxRunMode=void 0;var i,a,l,c=e("three"),d=e("./MxFun"),E=e("./MxCAD/MxCadSketchLayer"),C=e("./View/MxBrowseLayerData"),D=e("./View/MxBrowseDisplay"),f=e("./MxNetData"),A=e("./MxNetData"),S=e("./MxSelect"),L=e("./MxManager"),N=e("./MxSystemVariable"),G=e("./MxCAD/MxCADObject"),ie=e("./MxLocalFileLoad"),le=e("./Operate/MxDrawObjectOsnap"),ae=e("./View/MxDbDatabase"),he=e("./View/MxDrawMapBox"),pe=e("./MxDrawObjectEvent"),B=e("./View/MxDbEntityGrip"),se=e("./cpp/McDrawObject");(a=i||(r.MxRunMode=i={}))[a.kBrowse=1]="kBrowse",a[a.kMxCAD=2]="kMxCAD",a[a.kMxCADBrowseApp=3]="kMxCADBrowseApp",a[a.kCPPMxCAD=4]="kCPPMxCAD",(l||(r.IniSetName=l={})).kEnableOsnapFunction="EnableOsnapFunction";var oe=(O.prototype.getMcObject=function(){return this.mcObject},O.prototype.isValidMcObject=function(){return this.mcObject.isValid()},O.prototype.getId=function(){return this.id},O.prototype.getEventManager=function(){return this.eventManager},O.prototype.setCurrentLoadUrl=function(T){this._sCurrentLoadURL=T},O.prototype.getCurrentLoadUrl=function(){return this._sCurrentLoadURL},O.prototype.isWebgl2=function(){return!(!this._rendererParam||this._rendererParam.retver!="webgl2")},O.prototype.getMxDatabase=function(){return this.m_mxDatabase},O.prototype.updateCanvasSize=function(){this._onResizeFun&&this._onResizeFun()},O.prototype.mapBoxRender=function(T,ce){this.camera.projectionMatrix=ce,this.renderer.state.reset(),this.renderer.render(this.scene,this.camera)},O.prototype.mapBoxInitThreeJSObject=function(T,ce,fe){this.scene=T,this.camera=ce,this.renderer=fe},O.prototype.addMxEntity=function(T){return this.m_mxDatabase.addMxEntity(T)},O.prototype.getMxEntity=function(T){return this.m_mxDatabase.getEntity(T)},O.prototype.getMxEntityUserObject=function(T){var ce=this.getMxEntity(T);return ce?ce.getUserObject():null},O.prototype.eraseAllMxEntity=function(){this.m_mxDatabase.eraseAllEntity()},O.prototype.eraseMxEntity=function(T){var ce=this.m_mxDatabase.getEntity(T);return!!ce&&ce.erase()},O.prototype.getAllMxEntity=function(){var T=[];return this.m_mxDatabase.getAllEntity().forEach(function(ce){ce&&T.push(ce.getUserObject())}),T},O.prototype.getMxAllSelect=function(){var T=this.m_mxDatabase.getSelectManager().getAllSelect(),ce=this.m_mxDatabase.getGripManager().getAllSelect(),fe=new Set;return T.forEach(function(Ee){fe.add(Ee)}),ce.forEach(function(Ee){fe.has(Ee)||T.push(Ee)}),T},O.prototype.getPrvCommandSelect=function(){return this.m_mxDatabase.getSelectManager().getPrvCommandSelect()},O.prototype.addMxCurrentSelect=function(T){this.m_mxDatabase.getGripManager().addSelect(T)},O.prototype.clearMxCurrentSelect=function(){var T=this.m_mxDatabase.clearMxCurrentSelect();if(this._mxCAD){var ce=this._mxCAD.getSelect().clearAllSelect(),fe=this._mxCAD.getGrip().clearAll();(ce||fe)&&(T=!0)}return this.mcObject.isValid()&&this.mcObject.getGripManager().clearAll(),T},O.prototype.addViewObject=function(T){this.secenView?this.threejsselectObjectsView.add(T):console.log("this.secenView is null")},O.prototype.removeViewObject=function(T){d.MxFun.removeThreejsObject(T,this.threejsselectObjectsView)},O.prototype.setOtherRefFile=function(T){this._tzDwgStaticFile=T},O.prototype.setRequestHeader=function(T){this._requestHeader=T},O.prototype.initZoomW=function(T,ce){this._initZoomwCoordPt1=T.clone(),this._initZoomWCoordPt2=ce.clone()},O.prototype.getMxCAD=function(){return this._mxCAD},O.prototype.setMouseRightRotate=function(T){this._mouseRightRotate=T,this.controls!=null&&(this.controls.mouseButtons.RIGHT=T?c.MOUSE.ROTATE:c.MOUSE.PAN)},O.prototype.setZoomSpeed=function(T){var ce=this.controls.zoomSpeed;return this.controls.zoomSpeed=T,ce},O.prototype.resetRenderer=function(){this.renderer.info.reset()},O.prototype.setMouseMiddlePan=function(T){this._isMouseMiddlePan=typeof T=="boolean"?T?1:0:T,this.controls!=null&&(this._isMouseMiddlePan==1?(this.controls.mouseButtons.LEFT=-1,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN):this._isMouseMiddlePan==2?(this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN):(this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this._mouseRightRotate?this.controls.mouseButtons.RIGHT=c.MOUSE.ROTATE:this.controls.mouseButtons.RIGHT=c.MOUSE.PAN,this.controls.mouseButtons.MIDDLE=1))},O.prototype.resetThreeJSControls=function(){this.controls&&(this.controls.saveState(),this.controls.reset())},O.prototype.enableZoom=function(T){this.controls!=null&&(this.controls.enableZoom=T)},O.prototype.enablePan=function(T){this.controls!=null&&(this.controls.enablePan=T)},O.prototype.getOrbitControls=function(){return this.controls},O.prototype.enableViewControls=function(T){this.controls.enabled=T},O.prototype.initRunMode=function(T){this._isCreate?console.log("iniRunMode failed,mxobject already created"):this._runMode=T},O.prototype.getRunMode=function(){return this._runMode},O.prototype.setStaticLocalLoad=function(T){this._isStaticLocalLoad=T},O.prototype.isStaticLocalLoad=function(){return this._isStaticLocalLoad},O.prototype.setStaticLocalLoadPath=function(T){this._staticLocalLoadPath=T},O.prototype.addEvent=function(T,ce){if(this._event[T])if(this._event[T]instanceof Array)this._event[T].includes(ce)||this._event[T].push(ce);else{var fe=this._event[T];if(fe==ce)return;this._event[T]=[],this._event[T].push(fe),this._event[T].push(ce)}else this._event[T]=ce},O.prototype.addControlsEvent=function(T,ce,fe){return fe===void 0&&(fe=!1),this.eventManager.addEventListener(T,ce,fe)},O.prototype.removeEvent=function(T){this._event[T]=void 0},O.prototype.removeEventFuction=function(T,ce){if(this._event[T]){if(this._event[T]instanceof Array){var fe=this._event[T].indexOf(ce);if(fe!=-1)return this._event[T].splice(fe,1),this._event[T].length==0&&(this._event[T]=void 0),!0}else if(this._event[T]==ce)return!(this._event[T]=void 0)}return!1},O.prototype.sysVariable=function(){return this.m_sysVariable},O.prototype.setIniset=function(T){this.m_iniSet=T},O.prototype.getInisetValue=function(T){return this.m_iniSet[T]},O.prototype.getViewColor=function(){return this._viewcolor},O.prototype.isWhiteViewColor=function(){return this._viewcolor==16777215},O.prototype.initUserLoginData=function(T,ce){this._userIdentitySign=T,this._userRandomToken=ce},O.prototype.initRendererParam=function(T){this._rendererParam=T},O.prototype.automaticInversionColor=function(T){return this._viewcolor!=16777215||T!=16777215?T:0},O.prototype.automaticInversionColor2=function(T){return this._viewcolor==16777215&&(16777215&T)==16777215?4278190080&T:T},O.prototype.setViewColor=function(T){this._viewcolor=T,this.scene!=null&&(this.scene.background=new c.Color(T))},O.prototype.getViewAngle=function(){return this._viewangle},O.prototype.callInitCompleteEvent=function(){this.callEvent("loadComplete")},O.prototype.callInitObjectEvent=function(){this.callEvent("initObject")},O.prototype.callInitSceneEvent=function(T,ce,fe){var Ee=this._event.initScene;if(!Ee)return 0;if(Ee instanceof Array){var Ae=0;return Ee.forEach(function(_e){Ae=_e(T,ce,fe)}),Ae}return Ee(T,ce,fe)},O.prototype.callOpenFileComplete=function(T,ce){ce===void 0&&(ce=0);var fe=this._event.openFileComplete;fe&&(fe instanceof Array?fe.forEach(function(Ee){Ee(T,ce)}):fe(T,ce))},O.prototype.callSaveFileComplete=function(T,ce){var fe=this._event.saveFileComplete;fe&&(fe instanceof Array?fe.forEach(function(Ee){Ee(ce,T)}):fe(ce,T))},O.prototype.hasEvent=function(T){return this._event[T]!=null},O.prototype.callEvent=function(T,ce){var fe=this._event[T];if(!fe)return!1;if(fe instanceof Array){var Ee=!1;return fe.forEach(function(Ae){Ee=Ae(ce)}),Ee}return fe(ce)},O.prototype.userLoginResult=function(T){this.callEvent("userLoginResult",T)},O.prototype.serverReturn=function(T){var ce=JSON.parse(T);this.callEvent("serverReturn",ce)},O.prototype.openFileResult=function(T){JSON.parse(T).linkServer||console.log("link mx serverobj error"),this.callEvent("openFileResult",T)},O.prototype.xzSize=function(T){var ce=this._devicePixelRatio;if(ce-1<=1e-4&&-1e-4<=ce-1)return T;for(var fe=9999999,Ee=T,Ae=0,_e=T;Ae<100;Ae++){if((De=(xe=_e*ce)-Math.floor(xe))<=.001)return _e;De<fe&&(fe=De,Ee=_e),_e+=1}for(_e=T;Ae<100;Ae++){var xe,De;if((De=(xe=_e*ce)-Math.floor(xe))<=.001)return _e;De<fe&&(fe=De,Ee=_e),--_e}return Ee},O.prototype.setSize=function(T,ce){this._viewWidth=T,this._viewHeight=ce,this._userCanvas!=null&&(this._userCanvas.width=T,this._userCanvas.height=ce,this._userCanvas.style.width=T+"px",this._userCanvas.style.height=ce+"px"),this.onResizeImp(),this.updateDisplay()},O.prototype.getCurrentColor=function(){return this._color},O.prototype.setCurrentColor=function(T){this._color=T},O.prototype.getSelect=function(){return this._select},O.prototype.call=function(T,ce,fe){this._net.getSend().CallServerJS(T,ce,fe)},O.prototype.zoomAll=function(){this._is2d&&this.call("getDatabaseBoundHelp",'{"isBackground":1}',function(T){if(T.length!=0){var ce=JSON.parse(T);this.zoomW(new c.Vector3(ce[0],ce[1],0),new c.Vector3(ce[2],ce[3],0))}})},O.prototype.tempDisableSelect=function(T){this._select.tmpDisable=T},O.prototype.getViewCenterDocCoord=function(){return this._userCanvas!=null?this.screenCoord2Doc(.5*this._userCanvas.clientWidth,.5*this._userCanvas.clientHeight,0):this.screenCoord2Doc(.5*this._viewWidth,.5*this._viewHeight,0)},O.prototype.closeWebSocket=function(){this._net.closeWebSocket()},O.prototype.findMxEntityAtPoint=function(T,ce,fe){!ce&&ce!==void 0||(T=this.docCoord2Screen(T.x,T.y,0));var Ee=[],Ae=this.m_mxDatabase.getIntersectObjects(T);if(Ae.length==0)return Ee;var _e=new Map;return Ae.forEach(function(xe){var De=(0,B.MxGetMxDbEntitForThreeJsObject)(xe.object);if(De){var Le=De.objectId();if(!_e.has(Le)){if(fe){var Ge=(0,B.MxGetWordDrawxDataForThreeJsObject)(xe.object);Ge&&fe(Le,Ge)}_e.set(Le,De.getUserObject())}}}),_e.forEach(function(xe){Ee.push(xe)}),Ee},O.prototype.isMxCAD=function(){return this._runMode==i.kMxCAD},O.prototype.onLoad=function(T){if(this._runMode==i.kCPPMxCAD)this.callInitCompleteEvent();else if(this._isStaticLocalLoad)this._net=new A.MxNet,this._net.init(this,!1),0<this._openFile.length&&(this._staticLocalNet=new ie.MxLocalDwgFileLoad(this._net),this._staticLocalNet.load(encodeURIComponent(this._staticLocalLoadPath),encodeURIComponent(this._openFile)));else{this._net=new A.MxNet;var ce=!0;if(this._runMode==i.kMxCAD?ce=!0:(ce=!d.MxFun.isStaticLoad(),this._is2d||(ce=!0)),this._openFile.substring(this._openFile.lastIndexOf(".")+1).toLowerCase()=="wgh"&&(ce=!1),0<this._staticLoadingOpenFiles.length&&(ce=!1),this._net.init(this,ce),!ce&&(this._staticNet=new A.MxHFileLoad(this._net),this._staticNet.setRequestHeader(this._requestHeader),this._staticNet.setUrlParam(T),this._staticNet.load(this._openFile,this._staticLoadingOpenFiles),this._tzDwgStaticFile&&0<this._tzDwgStaticFile.length)){var fe=new A.MxNet;fe.init(this,!1),this._extRefManager.createTzDwgExternalReferences(99999),fe.setCurrentDatabaseId(99999),this._staticLoadTzNet=new A.MxHFileLoad(fe),this._staticLoadTzNet.setShowloading(!1),this._staticLoadTzNet.setRequestHeader(this._requestHeader),this._staticLoadTzNet.load(this._tzDwgStaticFile,[])}}},O.prototype.stopAllLoading=function(){this._staticNet&&this._staticNet.stopAllLoading()},O.prototype.getStaticNet=function(){return this._staticNet},O.prototype.isStaticFileNet=function(){return!this._isStaticLocalLoad&&this._staticNet!=null},O.prototype.getStaticLocalNet=function(){return this._staticLocalNet},O.prototype.getStaticLoadTzNet=function(){return this._staticLoadTzNet},O.prototype.getViewWidth=function(){return this._userCanvas!=null?this._userCanvas.clientWidth:this._viewWidth},O.prototype.getViewHeight=function(){return this._userCanvas!=null?this._userCanvas.clientHeight:this._viewHeight},O.prototype.makeCurrent=function(){L.MxManager.setCurrentMx(this)},O.prototype.createCanvasImageData=function(T,ce){var fe=this,Ee=0,Ae=0,_e=!1;ce&&ce.width&&ce.height&&(Ee=this.getViewWidth(),Ae=this.getViewHeight(),_e=!0,this.setSize(ce.width,ce.height)),this._callCreateCanvasImageData=function(xe){_e&&fe.setSize(Ee,Ae),T(xe)},this.updateDisplay()},O.prototype.getIntersectObjects=function(T){var ce=new c.Raycaster;ce.linePrecision=this.screenCoordLong2Doc(4);var fe=this.getCanvas(),Ee=fe.clientWidth,Ae=fe.clientHeight;return T=new c.Vector2(T.x/Ee*2-1,-T.y/Ae*2+1),ce.setFromCamera(T,this.camera),ce.intersectObjects(this.threejsselectObjects.children,!0)},O.prototype.addObject=function(T){this.threejsselectObjects.add(T)},O.prototype.removeAllSelectObject=function(){for(;this.threejsselectObjects.children.length;)this.threejsselectObjects.remove(this.threejsselectObjects.children[0])},O.prototype.removeObject=function(T){this.threejsselectObjects.remove(T)},O.prototype.render=function(){this.secenView?(this.mcObject.updateDisplay()?(this.renderer.autoClear=!1,this.renderer.state.reset()):this.renderer.autoClear=!0,this.renderer.render(this.secenView,this.cameraView),this.renderer.autoClear=!1):this.mcObject.updateDisplay()?(this.renderer.autoClear=!1,this.renderer.state.reset()):this.renderer.autoClear=!0,this.renderer.render(this.scene,this.camera),this._callCreateCanvasImageData!=null&&(this._callCreateCanvasImageData(this.renderer.domElement.toDataURL("image/png")),this._callCreateCanvasImageData=void 0),this.callEvent("render",this.renderer)},O.prototype.updateDisplay=function(T){T===void 0&&(T=!1),this.mxdrawThreeJS.updateDisplay(T)},O.prototype.updateDisplayImplement=function(T){function ce(){fe.m_mxDatabase.upDirtyDisplay(),fe._isAnimation?(fe._isAnimationStarting=!0,requestAnimationFrame(this.needRander)):fe._isWaiteCount=0,fe.render()}T===void 0&&(T=!1);var fe=this;T!==!0?this._isAnimationStarting||(this._isAnimation?requestAnimationFrame(ce):((5<this._isWaiteCount||this._isWaiteCount<0)&&(this._isWaiteCount=0),this._isWaiteCount<=0&&requestAnimationFrame(ce),this._isWaiteCount++)):ce()},O.prototype.gotoLayoutOld=function(T){T=="Modle"&&(T="");var ce=this._openFile;for(var fe in this._iniParam)(xe=(_e=this._iniParam[fe])[0])=="srcname"&&(ce=_e[1]);var Ee={},Ae="";for(var fe in this._iniParam){var _e,xe;if(Ee[xe=(_e=this._iniParam[fe])[0]]==null){Ee[xe]=!0;var De=_e[1];if(xe=="file"){if(De=ce,0<T.length){var Le=De.substring(De.lastIndexOf(".")+1);De=De.substring(0,De.lastIndexOf("."))+"%23"+T+"%23."+Le}}else if(xe=="srcname")continue;Ae.length==0?Ae=xe+"="+De+"&srcname="+ce:Ae+="&"+xe+"="+De}}var Ge=d.MxFun.getLocationPageUrl()+"?"+Ae;window.location.href=Ge},O.prototype.gotoLayout=function(T){var ce=!1,fe=!this.isStaticFileNet();for(var Ee in this._iniParam)if((Ge=this._iniParam[Ee])[0]=="dwgdir"){ce=!0;break}if(ce||fe)this.gotoLayoutOld(T);else{T=="Model"&&(T="");var Ae=this._openFile;if(!Ae)return;var _e=Ae.lastIndexOf(".dwg");if(_e===void 0||_e===-1)return;if((Ae=Ae.substring(0,_e))[Ae.length-1]=="#"){var xe=Ae.substring(0,Ae.length-1),De=xe.lastIndexOf("#");De!==void 0&&De!==-1&&(Ae=xe.substring(0,De))}0<T.length?Ae=Ae+"#"+T+"#.dwg.mxb1.wgh":Ae+=".dwg.mxb1.wgh";var Le={};for(var Ee in this._iniParam){var Ge,rt=(Ge=this._iniParam[Ee])[0];if(Le[rt]==null){Le[rt]=!0;var We=Ge[1];rt!="file"&&rt!="srcname"&&(Ae+="&"+rt+"="+We)}}var xt=d.MxFun.getLocationPageUrl()+"?file="+Ae;window.location.href=encodeURI(xt)}},O.prototype.addInitParam=function(T,ce){var fe=new Array;fe.push(T),fe.push(ce),this._iniParam.push(fe)},O.prototype.openFile=function(T,ce){if(ce===void 0&&(ce=""),!this._isCreate)return console.log("mx: openFile Fialed mxasser(_isCreate == false)"),!1;if(this.stopAllLoading(),T.length==0)return!1;this.reInit(),this._devicePixelRatio=window.devicePixelRatio,T instanceof Array?(this._openFile=T[0],this._staticLoadingOpenFiles=T):this._openFile=T,this._openFileExtName=this._openFile.substring(this._openFile.lastIndexOf(".")+1),this._iniParam=[],this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null;var fe=new Array;return fe.push("file"),fe.push(this._openFile),this._iniParam.push(fe),this.onLoad(ce),!0},O.prototype.updateCameraDisplayRange=function(T,ce,fe){this.mxdrawThreeJS.updateCameraDisplayRange(T,ce,fe)},O.prototype.newFile=function(T,ce,fe,Ee){if(!this._isCreate)return console.log("mx: openFile Fialed mxasser(_isCreate == false)"),!1;var Ae,_e;if(_e=T instanceof Object&&ce instanceof Object?(Ae=T,ce):(Ae=new c.Vector3(T,ce,0),new c.Vector3(fe,Ee,0)),Ae.x>_e.x){var xe=Ae.x;Ae.x=_e.x,_e.x=xe}if(Ae.y>_e.y){var De=Ae.y;Ae.y=_e.y,_e.y=De}this.reInit(),this._devicePixelRatio=window.devicePixelRatio,this._openFile="",this._openFileExtName="dwg",this._iniParam=[],this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null;var Le=new c.Matrix4;Le.identity(),this.intiDoc2Wold(Le),this.mxdrawThreeJS.updateCameraDisplayRange(Ae,_e,0),this.updateDisplay(!0);var Ge=d.MxFun.getUiObj();Ge!=null&&(Ge.SetLayoutData(this._allLayoutName),Ge.UpDisplayLayout())},O.prototype.calcViewsize=function(){if(this._userCanvas==null)return{viewWidth:window.innerWidth,viewHeight:window.innerHeight};var T=this._userCanvas.clientWidth,ce=this._userCanvas.clientHeight;if(this._event.onResize!=null){var fe=this._event.onResize;fe instanceof Array&&(fe=fe[0]);var Ee=fe();Ee!=null&&(T=parseInt(Ee.width),ce=parseInt(Ee.height))}return{viewWidth:T,viewHeight:ce}},O.prototype.initMxCpp=function(T){T&&T.getImp()?(this.mcObject.init(this,T),this.secenView!=null?this.secenView.background=null:this.scene.background=null):console.log("mxerror: mcppObjectImp is null")},O.prototype.create=function(T,ce,fe,Ee){if(this._is2d?Ee?(this.mxdrawThreeJS=new he.MxDrawMapBoxThreeJS(Ee,this),this._viewcolor=16777215):this.mxdrawThreeJS=new he.MxDrawObject2dThreeJS(this):this.mxdrawThreeJS=new he.MxDrawObject3dThreeJS(this),this._callCreateCanvasImageData=void 0,this._devicePixelRatio=window.devicePixelRatio,this._runMode==i.kCPPMxCAD)this._mxCAD=null,this._openFile="";else{if(ce instanceof Array?(this._openFile=ce[0],this._staticLoadingOpenFiles=ce):this._openFile=ce,this._iniParam=d.MxFun.getUrlParams(),this._openFileExtName=this._openFile.substring(this._openFile.lastIndexOf(".")+1),this._openFile!=""&&this._runMode!=i.kMxCAD&&this._runMode!=i.kMxCADBrowseApp){var Ae=new Array;Ae.push("file"),Ae.push(this._openFile),this._iniParam.push(Ae)}this._userIdentitySign!=""&&(this.addInitParam("userIdentitySign",this._userIdentitySign),this.addInitParam("userRandomToken",this._userRandomToken)),this.addInitParam("runMode",this._runMode==i.kMxCAD||this._runMode==i.kMxCADBrowseApp?"mxcad":"browse"),this._runMode==i.kMxCAD||this._runMode==i.kMxCADBrowseApp?(this._openFile=="empty"&&(this._openFile=""),this._mxCAD=new G.MxCADObject(this)):this._mxCAD=null}this._userCanvas=T;var _e=window.innerWidth,xe=window.innerHeight;if(T!=null&&(_e=T.clientWidth,xe=T.clientHeight),this._viewWidth=_e,this._viewHeight=xe,this.m_mxDatabase.getSelectManager().setCanvasSize(_e,xe),this.mxdrawThreeJS.onInitThreejs(),this.eventManager.registEvent(this),this.onCreate(),this.m_mxDatabase.init(this),this._parentDocObject=new c.Object3D,this.scene.add(this._parentDocObject),this.threejsselectObjects=new c.Object3D,this.scene.add(this.threejsselectObjects),this._objectsOsnap=new le.MxDrawObjectOsnap(this),this._select=new S.MxSelect(this,this.getCanvas()),this._select.enabled=d.MxFun.isEnableSelect(),this._select.init(),this._is2d||(this._select.enabled=!1),this._runMode!=i.kBrowse&&(this._select.enabled=!1),L.MxManager.add(this),L.MxManager.setCurrentMx(this),this.mxdrawThreeJS.addControlsChangeEvent(),this.updateDisplay(),this.mxdrawThreeJS.getType()==he.MxThreeJSType.kMapBox)this.mxdrawThreeJS.addWindowResizeEvent();else{var De=this;if(T==null){var Le=function(){De._viewWidth=window.innerWidth,De._viewHeight=window.innerHeight,De.onResizeImp(),De.updateDisplay()};window.addEventListener("resize",Le,!1),this._onResizeFun=Le}else{var Ge=function(Re){Re&&Re.viewWidth&&Re.viewHeight||(Re=De.calcViewsize()),De._viewWidth=Re.viewWidth,De._viewHeight=Re.viewHeight,De.onResizeImp(De._viewWidth,De._viewHeight),De.updateDisplay()};if(this._onResizeFun=Ge,this._event.addResizeEvent!=null){var rt=this._event.addResizeEvent;rt instanceof Array&&(rt=rt[0]),rt(Ge,T)}else window.addEventListener("resize",Ge,!1);if(window.setTimeout(function(){Ge()},5),this._event.onResize!=null){var We=De.calcViewsize();Ge(We);var xt=0,Me=0,Ue=!0,Pe=window.setInterval(function(){Me++;var Re=De.calcViewsize();if(Re.viewWidth==We.viewWidth&&Re.viewHeight==We.viewHeight&&0<Re.viewWidth&&0<Re.viewHeight){if(8<++xt)return clearInterval(Pe),void Ge(Re);1<=xt&&Ue&&(Ge(Re),2<=xt&&(Ue=!1))}else xt=0;We=Re,50<Me&&(clearInterval(Pe),0<Re.viewWidth&&0<Re.viewHeight?Ge(Re):console.log("mxassert(0) error view size"))},50)}}}this.callInitObjectEvent(),this.onLoad(fe),this._isCreate=!0},O.prototype.initResize=function(){if(this._userCanvas==null)this._viewWidth=window.innerWidth,this._viewHeight=window.innerHeight,this.onResizeImp();else{if(this._viewWidth=this._userCanvas.clientWidth,this._viewHeight=this._userCanvas.clientHeight,this._event.onResize!=null){var T=this._event.onResize;T instanceof Array&&(T=T[0]);var ce=T();ce!=null&&(this._viewWidth=ce.width,this._viewHeight=ce.height)}this.onResizeImp(this._viewWidth,this._viewHeight)}this.updateDisplay()},O.prototype.is2D=function(){return this._is2d},O.prototype.getOpenFile=function(){return this._openFile},O.prototype.getFileTitle=function(){var T=this._openFile;if(this._openFile.substring(this._openFile.lastIndexOf(".")+1).toLowerCase()=="wgh"){var ce=this._openFile.substring(0,this._openFile.indexOf(".mxb1.wgh")).split("/");(T=ce.length==1?ce[0]:ce[ce.length-1])[0]=="$"&&(T=T.substring(1))}return T},O.prototype.getIniParam=function(){return this._iniParam},O.prototype.getOpenFileExtName=function(){return this._openFileExtName},O.prototype.loadCodeToServer=function(T,ce){this._net.getSend().CallLoadCodeToServer(T,ce)},O.prototype.userLogin=function(T,ce){this._net.getSend().UserLogin(T,ce)},O.prototype.getUserCanvas=function(){return this._userCanvas},O.prototype.getCanvas=function(){return this._userCanvas!=null?this._userCanvas:this.renderer.domElement},O.prototype.getScene=function(){return this.scene},O.prototype.getCamera=function(){return this.camera},O.prototype.callCommand=function(T,ce,fe){ce===void 0&&(ce=""),this._net.getSend().DoCommand(T,ce,fe)},O.prototype.undoMark=function(){this._runMode==i.kCPPMxCAD||this._net.getSend().UndoMark()},O.prototype.loadCodeFileToServer=function(T,ce,fe){var Ee='{"path":"'+T+'","reload":'+(fe!=null?"true":"false")+"}";this._net.getSend().DoCommand("Mx_LoadCodeFormServerFile",Ee,ce)},O.prototype.deleteAll=function(){this.removeAllEntity(),this.callCommand("Mx_ClearAll"),this.updateDisplay()},O.prototype.undo=function(){this.callCommand("Mx_Undo")},O.prototype.save=function(){this.callCommand("Mx_Save")},O.prototype.initAllLayoutName=function(T){this._allLayoutName=T},O.prototype.getAllLayoutName=function(){return this._allLayoutName},O.prototype.updataClipMaterial=function(){this._blocks.updataClipMaterial(this)},O.prototype.getSketchLayers=function(){return this._sketchLayers},O.prototype.getExtRefManager=function(){return this._extRefManager},O.prototype.showLayer=function(T,ce,fe){typeof T=="string"&&(T=this._layers.getLayerIdForName(T)),fe?this._sketchLayers.getLayer(T).show(ce):this._blocks.showLayer(T,ce),this.updateDisplay()},O.prototype.addLayerInfo=function(T,ce,fe){ce=this.automaticInversionColor(16777215&ce),this._layers.add(T,ce,fe)},O.prototype.setZeroLayerId=function(T){this._layers.setZeroLayerId(T)},O.prototype.addLayerInfoComplete=function(){this._layers.initComplete()},O.prototype.addEntity=function(T,ce){var fe=this._mapId2Entity.get(T);fe==null&&(fe=new Array,this._mapId2Entity.set(T,fe)),fe.push(ce)},O.prototype.getEntity=function(T){return this._mapId2Entity.get(T)},O.prototype.clearThreejsScence=function(){d.MxFun.removeThreejsObject(this.threejsselectObjects,this.scene),this.threejsselectObjects=new c.Object3D,d.MxFun.removeThreejsObject(this._parentDocObject,this.scene),this._parentDocObject=new c.Object3D,this.scene.remove(),this.scene.dispose(),this.scene=new c.Scene,this.scene.add(this.threejsselectObjects),this.scene.add(this._parentDocObject),this._objectsOsnap=new le.MxDrawObjectOsnap(this),this.m_mxDatabase.init(this),this.mxdrawThreeJS.onInitScene(),d.MxFun.removeThreejsObject(this.threejsselectObjectsView,this.secenView),this.threejsselectObjectsView=null,this.secenView.remove(),this.secenView.dispose(),this.secenView=null,this.onInitViewScene()},O.prototype.reInit=function(){this.clearThreejsScence(),this._openFile="",this._openFileExtName="",this._select.removeAll(),this._is2d||(this._select.enabled=!1),this._mapId2Entity=new Map,this._setAdyDelete=new Map,this._sketchLayers=new E.MxCadSketchLayers(this),this._layers=new C.MxBrowseLayerData,this._blocks=new D.Blocks,this._extRefManager=new D.ExternalReferenceManager,this._doc2World=new c.Matrix4,this._word2doc=new c.Matrix4,this._allLayoutName=new Array,this._tzDwgStaticFile="",this._devicePixelRatio=window.devicePixelRatio,this._blocks.initRootBlockRef()},O.prototype.removeEntity=function(T){if(this._setAdyDelete[T]==null){this._setAdyDelete[T]=!0;var ce=this._mapId2Entity.get(T);if(ce!=null){for(var fe in ce)this.scene.remove(ce[fe]);this._sketchLayers.removeEntity(T),this._mapId2Entity.delete(T)}}},O.prototype.removeEntityFromServer=function(T){for(var ce=T.getInt32(4,!0),fe=0;fe<ce;fe++){var Ee=T.getInt32(4*(fe+20),!0);this.removeEntity(Ee)}},O.prototype.removeAllEntity=function(){var T=this;this._mapId2Entity.forEach(function(ce,fe,Ee){for(var Ae in ce)T.scene.remove(ce[Ae])}),this._mapId2Entity.clear(),this._sketchLayers.removeAllEntity()},O.prototype.mxWebAddEntity=function(T){this._setAdyDelete.clear();var ce=this.mxWebAddEntity_3DChild(T);this.mxWebAddEntity_Curve(T,ce),this._setAdyDelete.clear()},O.prototype.screenCoord2World=function(T,ce,fe){var Ee=this.getCanvas(),Ae=Ee.clientWidth,_e=Ee.clientHeight;fe=.5;var xe=this.camera;xe&&xe.isOrthographicCamera&&(fe=(xe.near+xe.far)/(xe.near-xe.far));var De=new c.Vector3(T/Ae*2-1,-ce/_e*2+1,fe);return De.unproject(this.camera),De},O.prototype.worldCoord2Screen=function(T,ce,fe){var Ee=new c.Vector3(T,ce,fe).project(this.camera),Ae=this.getCanvas(),_e=Ae.clientWidth/2,xe=Ae.clientHeight/2,De=Math.round(Ee.x*_e+_e),Le=Math.round(-Ee.y*xe+xe);return new c.Vector3(De,Le,0)},O.prototype.worldCoordLong2Doc=function(T){var ce=this.worldCoord2Doc(0,0,0),fe=this.worldCoord2Doc(T,0,0);return ce.distanceTo(fe)},O.prototype.docCoordLong2World=function(T){var ce=this.docCoord2World(0,0,0),fe=this.docCoord2World(T,0,0);return ce.distanceTo(fe)},O.prototype.getDoc2CADMatrix=function(){return this._doc2CAD},O.prototype.docCoord2Cad=function(T,ce,fe){var Ee=new c.Vector3(T,ce,fe);return Ee.applyMatrix4(this._doc2CAD),Ee},O.prototype.cadCoord2Doc=function(T,ce,fe){var Ee=new c.Vector3(T,ce,fe);return Ee.applyMatrix4(this._cad2Doc),Ee},O.prototype.docCoordLong2Cad=function(T){var ce=this.docCoord2Cad(0,0,0),fe=this.docCoord2Cad(T,0,0);return ce.distanceTo(fe)},O.prototype.cadCoordLong2Doc=function(T){var ce=this.cadCoord2Doc(0,0,0),fe=this.cadCoord2Doc(T,0,0);return ce.distanceTo(fe)},O.prototype.viewCoordLong2Cad=function(T){return this.docCoordLong2Cad(this.screenCoordLong2Doc(T))},O.prototype.cadCoordLong2View=function(T){return this.docCoordLong2Screen(this.cadCoordLong2Doc(T))},O.prototype.docCoord2World=function(T,ce,fe){var Ee=new c.Vector3(T,ce,fe);return Ee.applyMatrix4(this._doc2World),Ee},O.prototype.getDoc2World=function(){return this._doc2World},O.prototype.getWorldToDoc=function(){return this._word2doc},O.prototype.worldCoord2Doc=function(T,ce,fe){var Ee=new c.Vector3(T,ce,fe);return Ee.applyMatrix4(this._word2doc),Ee},O.prototype.screenCoord2Doc=function(T,ce,fe){var Ee=this.screenCoord2World(T,ce,fe);return this.worldCoord2Doc(Ee.x,Ee.y,0)},O.prototype.docCoord2Screen=function(T,ce,fe){var Ee=this.docCoord2World(T,ce,fe);return this.worldCoord2Screen(Ee.x,Ee.y,Ee.z)},O.prototype.screenCoordLong2Doc=function(T){var ce=this.screenCoord2Doc(0,0,0),fe=this.screenCoord2Doc(T,0,0);return ce.distanceTo(fe)},O.prototype.screenCoordLong2DocScale=function(){var T=this.screenCoord2Doc(0,0,0),ce=this.screenCoord2Doc(1,0,0);return T.distanceTo(ce)},O.prototype.docCoordLong2Screen=function(T){var ce=this.docCoord2Screen(0,0,0),fe=this.docCoord2Screen(0<T?T:-T,0,0);return 0<=T?ce.distanceTo(fe):-ce.distanceTo(fe)},O.prototype.screenCoordLong2World=function(T){var ce=this.screenCoord2World(0,0,0),fe=this.screenCoord2World(0<T?T:-T,0,0);return 0<=T?ce.distanceTo(fe):-ce.distanceTo(fe)},O.prototype.worldCoordLong2Screen=function(T){var ce=this.worldCoord2Screen(0,0,0),fe=this.worldCoord2Screen(T,0,0);return ce.distanceTo(fe)},O.prototype.initCAD2Doc=function(T){T instanceof Array?this._cad2Doc.fromArray(T):this._cad2Doc=T,this._doc2CAD.getInverse(this._cad2Doc)},O.prototype.intiDoc2Wold=function(T){T instanceof Array?this._doc2World.fromArray(T):this._doc2World=T,this._word2doc.getInverse(this._doc2World),this.m_mxDatabase.intiDoc2Wold(this._doc2World),this._parentDocObject.matrix=this._doc2World,this._parentDocObject.matrixAutoUpdate=!1,this.threejsselectObjects.matrix=this._doc2World,this.threejsselectObjects.matrixAutoUpdate=!1},O.prototype.getDrawContainer=function(){return this.threejsselectObjects},O.prototype.getTheTempDrawContainer=function(){return this._parentDocObject},O.prototype.mxWebAddEntityFor2dPointMeshBuffers=function(T,ce){var fe=new f.MxNetData(T),Ee=fe.getdPointMeshBuffersHead(),Ae=Ee.zeroLayerIdIndex,_e=Ee.databaseIndex;ce!=-1&&(_e=ce);for(var xe=Ee.datasize,De=0;De<Ee.datacount;De++){var Le=fe.getdPointMeshBufferDataHead(xe);xe=Le.offset;var Ge=Le.layerId,rt=Ge==Ae,We=Le.blkId,xt=Le.pointCount;if(!(xt<1)){for(var Me=[],Ue=[],Pe=[],Re=[],st=[],It=0;It<xt;It++){var Ct=T.getFloat32(xe,!0);xe+=4;var tt=T.getFloat32(xe,!0);xe+=4;var Ve=T.getFloat32(xe,!0);xe+=4;var Ze=T.getFloat32(xe,!0);xe+=4;var Ne=T.getFloat32(xe,!0);xe+=4;var qe=T.getFloat32(xe,!0);xe+=4;var lt=T.getInt32(xe,!0);xe+=4;var vt=lt>>24&255;vt==2?(Re.push(Ct,tt),Re.push(Ve,Ze),Re.push(Ne,qe)):vt==1?We!=0&&rt?(st.push(Ct,tt),st.push(Ve,Ze),st.push(Ne,qe)):(Pe.push(Ct,tt),Pe.push(Ve,Ze),Pe.push(Ne,qe)):(lt=this.automaticInversionColor(16777215&lt),Me.push(Ct,tt),Me.push(Ve,Ze),Me.push(Ne,qe),Ue.push((255&lt)/255,(lt>>8&255)/255,(lt>>16&255)/255),Ue.push((255&lt)/255,(lt>>8&255)/255,(lt>>16&255)/255),Ue.push((255&lt)/255,(lt>>8&255)/255,(lt>>16&255)/255))}var bt=this._blocks,nt=this._layers;_e!=0&&(bt=this._extRefManager.getBlocks(_e),nt=this._extRefManager.getLayers(_e));var Nt=bt.crateBlock(We);Nt.addGeometryMesh(Me,Ue,Ge,Re,Pe,st),bt.createThreejsObj(Nt,this,nt)}}},O.prototype.mxWebAddEntityForMemorySections=function(T,ce){var fe=new f.MxNetData(T),Ee=fe.getMemorySectionsHead(),Ae=(Ee.zeroLayerIdIndex,Ee.databaseIndex);ce!=-1&&(Ae=ce);var _e=Ee.nOffset,xe=this._blocks,De=this._layers;Ae!=0&&(xe=this._extRefManager.getBlocks(Ae),De=this._extRefManager.getLayers(Ae));for(var Le=0;Le<Ee.datacount;Le++){var Ge=fe.getMemorySectionHead(_e);_e=Ge.offset;var rt=new D.MxNewDisplayMemorySection;rt.layerId=Ge.layerId,rt.blockId=Ge.blkId,rt.id=Ge.memId,rt.color=Ge.memColor,rt.type=Ge.memType;var We=!1;rt.type==D.MxNewDisplayMemorySectionType.kLinesType_Float?(We=!0,rt.type=D.MxNewDisplayMemorySectionType.kLinesType):rt.type==D.MxNewDisplayMemorySectionType.kTriangleType_Float?(We=!0,rt.type=D.MxNewDisplayMemorySectionType.kTriangleType):rt.type==D.MxNewDisplayMemorySectionType.kPointType_Float&&(We=!0,rt.type=D.MxNewDisplayMemorySectionType.kPointType);var xt=Ge.pointCount;if(!(xt<1)){for(var Me=[],Ue=0;Ue<xt;Ue++)if(We){var Pe=T.getFloat32(_e,!0);_e+=4;var Re=T.getFloat32(_e,!0);_e+=4,T.getFloat32(_e,!0),_e+=4,Me.push(Pe,Re,0)}else Pe=T.getFloat64(_e,!0),_e+=8,Re=T.getFloat64(_e,!0),_e+=8,T.getFloat64(_e,!0),_e+=8,Me.push(Pe,Re,0);rt.points=Me;var st=xe.crateBlock(rt.blockId);st.addMemorySections(rt),xe.createThreejsObj(st,this,De)}}},O.prototype.convertBytesToUTF8=function(T,ce){var fe=0;ce=Math.min(ce||T.length,T.length),T[0]===239&&T[1]===187&&T[2]===191&&(fe=3);for(var Ee=[],Ae=0;fe<ce;Ae++){var _e,xe,De,Le=T[fe++];if(Le===0)break;Le<128?Ee[Ae]=String.fromCharCode(Le):194<=Le&&Le<224?(_e=T[fe++],Ee[Ae]=String.fromCharCode(((31&Le)<<6)+(63&_e))):224<=Le&&Le<240?(_e=T[fe++],xe=T[fe++],Ee[Ae]=String.fromCharCode(((15&Le)<<12)+((63&_e)<<6)+(63&xe))):240<=Le&&Le<245&&(De=((7&Le)<<18)+((63&(_e=T[fe++]))<<12)+((63&(xe=T[fe++]))<<6)+(63&T[fe++])-65536,Ee[Ae]=String.fromCharCode(55296+(De>>10),56320+(1023&De)))}return Ee.join("")},O.prototype.mxWebAddEntityFor2dPointTextureBuffers=function(T,ce){var fe=new f.MxNetData(T),Ee=fe.getdPointTextureBuffersHead(),Ae=Ee.ver,_e=(Ee.zeroLayerIdIndex,Ee.databaseIndex);ce!=-1&&(_e=ce);for(var xe=Ee.datasize,De=0;De<Ee.datacount;De++){var Le=fe.getdPointTextureBufferDataHead(xe);xe=Le.offset;var Ge=Le.layerId,rt=Le.blkId,We=Le.dataCount;if(!(We<1)){var xt=0,Me=this._blocks,Ue=this._layers;_e!=0&&(Me=this._extRefManager.getBlocks(_e),Ue=this._extRefManager.getLayers(_e));for(var Pe=Me.crateBlock(rt);xt<We;xt++){var Re=T.getFloat64(xe,!0);xe+=8;var st=T.getFloat64(xe,!0);xe+=8;var It=T.getFloat64(xe,!0);xe+=8;var Ct=T.getUint32(xe,!0);xe+=4;var tt=T.getUint32(xe,!0);xe+=4;var Ve=this.convertBytesToUTF8(new Uint8Array(T.buffer.slice(xe,xe+tt)),void 0);xe+=tt;var Ze=[],Ne=[],qe=[];if(!(Ct<1)){for(var lt=0;lt<Ct;lt++){if(5<=Ae){var vt=T.getFloat64(xe,!0);xe+=8;var bt=T.getFloat64(xe,!0);xe+=8,T.getFloat64(xe,!0),xe+=8;var nt=T.getFloat64(xe,!0);xe+=8;var Nt=T.getFloat64(xe,!0);xe+=8,T.getFloat64(xe,!0),xe+=8;var kt=T.getFloat64(xe,!0);xe+=8;var Qt=T.getFloat64(xe,!0);xe+=8,T.getFloat64(xe,!0),xe+=8,Ze.push(vt,bt),Ze.push(nt,Nt),Ze.push(kt,Qt)}else vt=T.getFloat32(xe,!0),xe+=4,bt=T.getFloat32(xe,!0),xe+=4,nt=T.getFloat32(xe,!0),xe+=4,Nt=T.getFloat32(xe,!0),xe+=4,kt=T.getFloat32(xe,!0),xe+=4,Qt=T.getFloat32(xe,!0),xe+=4,Ze.push(vt,bt),Ze.push(nt,Nt),Ze.push(kt,Qt);var gt=T.getInt32(xe,!0);xe+=4;var Dt=T.getFloat32(xe,!0);xe+=4;var zt=T.getFloat32(xe,!0);xe+=4;var et=T.getFloat32(xe,!0);xe+=4;var sn=T.getFloat32(xe,!0);xe+=4;var bn=T.getFloat32(xe,!0);xe+=4;var Fn=T.getFloat32(xe,!0);xe+=4;var St=gt>>24&255;gt=St==2||St==1?16777215:this.automaticInversionColor(16777215&gt),qe.push(Dt,zt),qe.push(et,sn),qe.push(bn,Fn),Ne.push((255&gt)/255,(gt>>8&255)/255,(gt>>16&255)/255),Ne.push((255&gt)/255,(gt>>8&255)/255,(gt>>16&255)/255),Ne.push((255&gt)/255,(gt>>8&255)/255,(gt>>16&255)/255)}Pe.addGeometryTexture(Ze,qe,Ne,Ge,Ve,Re,st,It)}}Me.createThreejsObj(Pe,this,Ue)}}},O.prototype.mxWebAddEntityFor2dPointCurveBuffers=function(T,ce){var fe=new f.MxNetData(T),Ee=fe.getdPointCurveBuffersHead(),Ae=Ee.zeroLayerIdIndex,_e=Ee.databaseIndex;ce!=-1&&(_e=ce);for(var xe=Ee.datasize,De=0;De<Ee.datacount;De++){var Le=fe.getdPointCurveBufferDataHead(xe);xe=Le.offset;var Ge=Le.layerId,rt=Ge==Ae,We=Le.blkId,xt=Le.pointCount;if(!(xt<1)){for(var Me=[],Ue=[],Pe=[],Re=[],st=[],It=0;It<xt;It++){var Ct=T.getFloat32(xe,!0);xe+=4;var tt=T.getFloat32(xe,!0);xe+=4;var Ve=T.getFloat32(xe,!0);xe+=4;var Ze=T.getFloat32(xe,!0);xe+=4;var Ne=T.getInt32(xe,!0);xe+=4;var qe=Ne>>24&255;qe==2?(Re.push(Ct,tt),Re.push(Ve,Ze)):qe==1?We!=0&&rt?(st.push(Ct,tt),st.push(Ve,Ze)):(Pe.push(Ct,tt),Pe.push(Ve,Ze)):(Me.push(Ct,tt),Me.push(Ve,Ze),Ne=this.automaticInversionColor(16777215&Ne),Ue.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255),Ue.push((255&Ne)/255,(Ne>>8&255)/255,(Ne>>16&255)/255))}var lt=this._blocks,vt=this._layers;_e!=0&&(lt=this._extRefManager.getBlocks(_e),vt=this._extRefManager.getLayers(_e));var bt=lt.crateBlock(We);bt.addGeometryCurve(Me,Ue,Ge,Re,Pe,st),lt.createThreejsObj(bt,this,vt)}}},O.prototype.mxWebAddEntityFor2dPointCurveBuffer=function(T,ce){var fe=new f.MxNetData(T);if(!fe.getIsSketchEntity()){var Ee,Ae=fe.getLayerId(),_e=Ae==fe.getZeroLayerId(),xe=fe.getBlockId();if(!((Ee=T.getInt32(20,!0)/20)<1)){for(var De=80,Le=[],Ge=[],rt=[],We=[],xt=[],Me=0;Me<Ee;Me++){var Ue=T.getFloat32(De,!0);De+=4;var Pe=T.getFloat32(De,!0);De+=4;var Re=T.getFloat32(De,!0);De+=4;var st=T.getFloat32(De,!0);De+=4;var It=T.getInt32(De,!0);De+=4;var Ct=It>>24&255;Ct==2?(We.push(Ue,Pe),We.push(Re,st)):Ct==1?xe!=0&&_e?(xt.push(Ue,Pe),xt.push(Re,st)):(rt.push(Ue,Pe),rt.push(Re,st)):(It=this.automaticInversionColor(16777215&It),Le.push(Ue,Pe),Le.push(Re,st),Ge.push((255&It)/255,(It>>8&255)/255,(It>>16&255)/255),Ge.push((255&It)/255,(It>>8&255)/255,(It>>16&255)/255))}var tt=fe.getDatabaseIndex();ce!=-1&&(tt=ce);var Ve=this._blocks,Ze=this._layers;tt!=0&&(Ve=this._extRefManager.getBlocks(tt),Ze=this._extRefManager.getLayers(tt));var Ne=Ve.crateBlock(xe);Ne.addGeometryCurve(Le,Ge,Ae,We,rt,xt),Ve.createThreejsObj(Ne,this,Ze)}}},O.prototype.mxWebAddEntityFor2dPointMeshBuffer=function(T,ce){var fe=new f.MxNetData(T);if(!fe.getIsSketchEntity()){var Ee,Ae=fe.getLayerId(),_e=fe.getBlockId(),xe=Ae==fe.getZeroLayerId();if(!((Ee=T.getInt32(12,!0)/28)<1)){for(var De=80,Le=[],Ge=[],rt=[],We=[],xt=[],Me=0;Me<Ee;Me++){var Ue=T.getFloat32(De,!0);De+=4;var Pe=T.getFloat32(De,!0);De+=4;var Re=T.getFloat32(De,!0);De+=4;var st=T.getFloat32(De,!0);De+=4;var It=T.getFloat32(De,!0);De+=4;var Ct=T.getFloat32(De,!0);De+=4;var tt=T.getInt32(De,!0);De+=4;var Ve=tt>>24&255;Ve==2?(We.push(Ue,Pe),We.push(Re,st),We.push(It,Ct)):Ve==1?_e!=0&&xe?(xt.push(Ue,Pe),xt.push(Re,st),xt.push(It,Ct)):(rt.push(Ue,Pe),rt.push(Re,st),rt.push(It,Ct)):(Le.push(Ue,Pe),Le.push(Re,st),Le.push(It,Ct),tt=this.automaticInversionColor(16777215&tt),Ge.push((255&tt)/255,(tt>>8&255)/255,(tt>>16&255)/255),Ge.push((255&tt)/255,(tt>>8&255)/255,(tt>>16&255)/255),Ge.push((255&tt)/255,(tt>>8&255)/255,(tt>>16&255)/255))}var Ze=fe.getDatabaseIndex();ce!=-1&&(Ze=ce);var Ne=this._blocks,qe=this._layers;Ze!=0&&(Ne=this._extRefManager.getBlocks(Ze),qe=this._extRefManager.getLayers(Ze));var lt=Ne.crateBlock(_e);lt.addGeometryMesh(Le,Ge,Ae,We,rt,xt),Ne.createThreejsObj(lt,this,qe)}}},O.prototype.mxWebCreateAllBlocks=function(T,ce){var fe=new f.MxNetData(T).getDatabaseIndex();ce!=-1&&(fe=ce);var Ee=this._blocks;fe!=0&&(Ee=this._extRefManager.getBlocks(fe)),Ee.createBlocks(T,this.scene)},O.prototype.mxWebEntitysData=function(T,ce){ce==-1&&this._objectsOsnap.mxWebEntitysData(T,ce)},O.prototype.getObjectOsnap=function(){return this._objectsOsnap},O.prototype.saveMxEntityToJson=function(T){return this.m_mxDatabase.saveJson(T)},O.prototype.getDtabaseJsonString=function(){return JSON.stringify(this.m_mxDatabase.toJsonObject())},O.prototype.loadMxEntityFromJson=function(T){return this.m_mxDatabase.loadJson(T)},O);function O(T){this._is2d=!0,this._runMode=i.kBrowse,this._mxCAD=null,this._userCanvas=null,this._openFile="empty",this._staticLoadingOpenFiles=[],this._openFileExtName="",this._userIdentitySign="",this._rendererParam=void 0,this._userRandomToken="",this._isCreate=!1,this.m_iniSet={},this._net=null,this._staticNet=null,this._staticLoadTzNet=null,this._staticLocalNet=null,this._isStaticLocalLoad=!1,this._staticLocalLoadPath="",this._viewWidth=1,this._viewHeight=1,this.m_sysVariable=new N.MxSystemVariable,this._color="#FFFFFF",this._viewcolor=15790320,this._isAnimation=!1,this._isAnimationStarting=!1,this._isWaiteCount=0,this._callCreateCanvasImageData=void 0,this._event={},this.scene=null,this.camera=null,this.secenView=null,this.cameraView=null,this.renderer=null,this.controls=null,this.threejsselectObjectsView=null,this._mouseRightRotate=!0,this._isMouseMiddlePan=-1,this._mapId2Entity=new Map,this._setAdyDelete=new Map,this._sketchLayers=new E.MxCadSketchLayers(this),this._layers=new C.MxBrowseLayerData,this._blocks=new D.Blocks,this._extRefManager=new D.ExternalReferenceManager,this._doc2World=new c.Matrix4,this._word2doc=new c.Matrix4,this._cad2Doc=new c.Matrix4,this._doc2CAD=new c.Matrix4,this._allLayoutName=new Array,this._devicePixelRatio=1,this._tzDwgStaticFile="",this._requestHeader="",this._objectsOsnap=null,this._initZoomwCoordPt1=null,this._initZoomWCoordPt2=null,this.m_mxDatabase=null,this._parentDocObject=null,this.threejsselectObjects=null,this._onResizeFun=null,this._sCurrentLoadURL="",this.mxdrawThreeJS=null,this.eventManager=new pe.MxDrawObjectEvent,this._viewangle=0,this.id=0,this.mcObject=new se.McDrawObject,this._is2d=T,this._blocks.initRootBlockRef(),this.m_iniSet[l.kEnableOsnapFunction]=!1,this.m_sysVariable.init(this),this.m_mxDatabase=new ae.MxDbDatabase,this.id=L.MxManager.allocId()}r.MxDrawObject=oe},{"./MxCAD/MxCADObject":24,"./MxCAD/MxCadSketchLayer":27,"./MxDrawObjectEvent":33,"./MxFun":34,"./MxLocalFileLoad":35,"./MxManager":36,"./MxNetData":38,"./MxSelect":39,"./MxSystemVariable":43,"./Operate/MxDrawObjectOsnap":54,"./View/MxBrowseDisplay":68,"./View/MxBrowseLayerData":69,"./View/MxDbDatabase":70,"./View/MxDbEntityGrip":72,"./View/MxDrawMapBox":77,"./cpp/McDrawObject":79,three:19}],31:[function(e,t,r){var i,a=this&&this.__extends||(i=function(N,G){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,le){ie.__proto__=le}||function(ie,le){for(var ae in le)Object.prototype.hasOwnProperty.call(le,ae)&&(ie[ae]=le[ae])})(N,G)},function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function ie(){this.constructor=N}i(N,G),N.prototype=G===null?Object.create(G):(ie.prototype=G.prototype,new ie)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject2d=void 0;var l,c=e("three"),d=e("./MxFun"),E=e("./MxDrawObject"),C=e("three-orbitcontrols"),D=e("./MxNetData"),f=e("./MxMaterial"),A=e("./MxDrawData"),S=(a(L,l=E.MxDrawObject),L.prototype.set3DDraw=function(N){this.is3DDraw=N},L.prototype.getOrthographicCamera=function(){return this.camera instanceof c.OrthographicCamera?this.camera:null},L.prototype.getFullDisplayRange=function(){return{minPt:this._initMinDisplayPoint,maxPt:this._initMaxDisplayPoint}},L.prototype.zoomW=function(N,G,ie){if(ie!=null&&ie||(N=this.docCoord2World(N.x,N.y,0),G=this.docCoord2World(G.x,G.y,0)),this._curMinDisplayPoint=N,this._curMaxDisplayPoint=G,N.x>G.x){var le=N.x;N.x=G.x,G.x=le}N.y>G.y&&(le=N.y,N.y=G.y,G.y=le);var ae=this.getViewWidth(),he=this.getViewHeight(),pe=Math.abs(N.x-G.x),B=Math.abs(N.y-G.y),se=this.getOrthographicCamera();if(pe/B<ae/he){var oe=.5*B,O=ae/he;se.left=-oe*O,se.right=oe*O,se.top=oe,se.bottom=-oe}else oe=.5*pe,O=he/ae,se.left=-oe,se.right=oe,se.top=oe*O,se.bottom=-oe*O;var T=pe,ce=B,fe=T;fe<T&&(fe=ce),se.far=1e3*fe,se.far<9e4&&(se.far=9e4),se.near=1e3*-fe,-9e4<se.near&&(se.near=-9e4);var Ee=N.x+.5*T,Ae=N.y+.5*ce;se.zoom=1,se.position.set(Ee,Ae,.5*fe),se.lookAt(new c.Vector3(Ee,Ae,0)),se.updateProjectionMatrix(),this.controls.target.x=Ee,this.controls.target.y=Ae,this.controls.target.z=0,this.controls.update()},L.prototype.zoomScale=function(N){var G=this.getOrthographicCamera();G.zoom=Math.max(this.controls.minZoom,Math.min(this.controls.maxZoom,G.zoom*N)),G.updateProjectionMatrix(),this.controls.update()},L.prototype.zoomCenter=function(N,G){var ie=this.getOrthographicCamera(),le=this.docCoord2World(N,G,0);N=le.x,G=le.y,ie.position.set(N,G,ie.position.z),ie.lookAt(new c.Vector3(N,G,0)),ie.updateProjectionMatrix(),this.controls.target.x=N,this.controls.target.y=G,this.controls.target.z=0,this.controls.update()},L.prototype.calcCameraUp=function(N){var G=new c.Vector3(0,1,0),ie=new c.Matrix4;return ie.makeRotationZ(N),G.applyMatrix4(ie),G},L.prototype.updateCameraDisplayRangeImp=function(N,G,ie){this._initZoomwCoordPt1!=null&&this._initZoomWCoordPt2!=null?(this._initMinDisplayPoint=this.docCoord2World(this._initZoomwCoordPt1.x,this._initZoomwCoordPt1.y,0),this._initMaxDisplayPoint=this.docCoord2World(this._initZoomWCoordPt2.x,this._initZoomWCoordPt2.y,0)):(this._initMinDisplayPoint=N,this._initMaxDisplayPoint=G),this._viewangle=ie,this.camera.up=this.calcCameraUp(ie),this.cameraView.up=this.calcCameraUp(ie),this.cameraView.updateProjectionMatrix(),this.zoomW(this._initMinDisplayPoint,this._initMaxDisplayPoint,!0)},L.prototype.setViewAngle=function(N){this._viewangle=N;var G=this.getOrthographicCamera();G&&(G.up=this.calcCameraUp(N),G.updateProjectionMatrix()),this.cameraView.up=this.calcCameraUp(N),this.cameraView.updateProjectionMatrix(),this.controls.update()},L.prototype.zoomInitialStates=function(){this._initMinDisplayPoint!=null&&this._initMaxDisplayPoint!=null?(this.camera.up=this.calcCameraUp(this._viewangle),this.cameraView.up=this.calcCameraUp(this._viewangle),this.cameraView.updateProjectionMatrix(),this.zoomW(this._initMinDisplayPoint,this._initMaxDisplayPoint,!0)):console.log("mx assert(0)")},L.prototype.onInitScene=function(){if(this.callInitSceneEvent(this.scene,this.controls,!0)==0){var N=new c.AmbientLight(3355443,1);this.scene.add(N);var G=new c.DirectionalLight(16777215,1);G.position.set(-2,2,3).normalize(),this.scene.add(G)}},L.prototype.updataCameraView=function(N,G){var ie=N,le=G;this.cameraView.left=0,this.cameraView.right=ie,this.cameraView.top=le,this.cameraView.bottom=0,this.cameraView.updateProjectionMatrix()},L.prototype.onInitViewScene=function(){if(!this.secenView){this.secenView=new c.Scene,this.secenView.background=new c.Color(this._viewcolor);var N=this.getViewWidth(),G=this.getViewHeight();N=this.xzSize(N),G=this.xzSize(G),this.cameraView=new c.OrthographicCamera(0,N,G,0,1,2e3),this.cameraView.position.set(0,0,2e3),this.cameraView.lookAt(new c.Vector3(0,0,0)),this.cameraView.updateProjectionMatrix();var ie=new c.AmbientLight(3355443,1);this.secenView.add(ie);var le=new c.DirectionalLight(16777215,1);le.position.set(-2,2,3).normalize(),this.secenView.add(le),this.threejsselectObjectsView=new c.Object3D,this.secenView.add(this.threejsselectObjectsView)}},L.prototype.onInitThreejs=function(){var N=this.getViewWidth(),G=this.getViewHeight(),ie=(N=this.xzSize(N))/(G=this.xzSize(G))*50;this.onInitViewScene(),this.camera=new c.OrthographicCamera(ie/-2,ie/2,25,-25,1,1e3),this.camera.position.set(0,0,200),this.scene=new c.Scene;var le=this.getUserCanvas(),ae=this._rendererParam;ae=ae||{},le==null?(ae.antialias=!1,ae.stencil=!0,this.renderer=new c.WebGLRenderer(ae),this.renderer.setClearColor(0,1),this.renderer.setPixelRatio(this._devicePixelRatio),this.renderer.setSize(N,G),document.body.appendChild(this.renderer.domElement)):(ae.canvas=le,ae.stencil=!0,this.renderer=new c.WebGLRenderer(ae),this.renderer.setClearColor(0,1),this.renderer.setPixelRatio(this._devicePixelRatio)),this.renderer.sortObjects=!0,this.renderer.info.autoReset=A.MxDrawData.m_isAutoResetRenderer,this.renderer.info.reset();var he=this.getUserCanvas();he==null&&(he=this.renderer.domElement),this.controls=new C.OrbitControls(this.camera,he),this.is3DDraw||(this.controls.enableZoom=!0),d.MxFun.isPC()?(this.controls.zoomSpeed=4,this.controls.mouseButtons.LEFT=c.MOUSE.PAN,this._mouseRightRotate?this.controls.mouseButtons.RIGHT=c.MOUSE.ROTATE:this.controls.mouseButtons.RIGHT=c.MOUSE.PAN,this.controls.screenSpacePanning=!0,this._isMouseMiddlePan!=-1&&this.setMouseMiddlePan(this._isMouseMiddlePan)):(this.controls.zoomSpeed=1.5,this.controls.touches.ONE=c.TOUCH.PAN,this.controls.screenSpacePanning=!0),this._is2d&&(this._runMode!=E.MxRunMode.kMxCAD&&this._runMode!=E.MxRunMode.kMxCADBrowseApp&&this._runMode!=E.MxRunMode.kCPPMxCAD||(this.controls.mouseButtons.LEFT=-1,this.controls.mouseButtons.RIGHT=-1,this.controls.mouseButtons.MIDDLE=c.MOUSE.PAN))},L.prototype.onCreate=function(){this._is2d=!0,this.mxdrawThreeJS.onInitScene()},L.prototype.mxWebAddEntity_3DChild=function(N){var G=new D.MxNetData(N),ie=G.getMesh();if(ie.id==null)return ie.size;var le=new c.Mesh(ie.geometry,f.MxMaterial.GetBaseColorMaterial(ie.nColorIndex));return this.removeEntity(ie.id),this.scene.add(le),ie.isSketchEntity&&(this.addEntity(ie.id,le),this.getSketchLayers().addEntity(ie.id,G.getLayerId())),ie.size},L.prototype.mxWebAddEntity_Curve=function(N,G){var ie=new D.MxNetData(N),le=ie.getCurve(G);if(le.id!=null){var ae=f.MxMaterial.GetCurveColorMaterial(le.colorIndex),he=new c.LineSegments(le.geometry,ae);this.removeEntity(le.id),this.scene.add(he),le.isSketchEntity&&(this.addEntity(le.id,he),this.getSketchLayers().addEntity(le.id,ie.getLayerId()))}},L.prototype.onResizeImp=function(N,G){var ie=this.getViewWidth();N!=null&&(ie=N);var le=this.getViewHeight();G!=null&&(le=G),ie=this.xzSize(ie),le=this.xzSize(le);var ae=this.getOrthographicCamera();if(this._curMinDisplayPoint==null||this._curMaxDisplayPoint==null){var he=50,pe=ie/le;ae.left=he*pe/-2,ae.right=he*pe/2,ae.top=he/2,ae.bottom=he/-2,ae.updateProjectionMatrix()}else{var B=Math.abs(this._curMinDisplayPoint.x-this._curMaxDisplayPoint.x),se=Math.abs(this._curMinDisplayPoint.y-this._curMaxDisplayPoint.y);B/se<ie/le?(he=.5*se,pe=ie/le,ae.left=-he*pe,ae.right=he*pe,ae.top=he,ae.bottom=-he):(he=.5*B,pe=le/ie,ae.left=-he,ae.right=he,ae.top=he*pe,ae.bottom=-he*pe),ae.updateProjectionMatrix()}this.renderer.setSize(ie,le),this.mcObject.setSize(ie,le),this.updataClipMaterial(),this.updataCameraView(ie,le),this.callEvent("viewsizechange",{width:ie,height:le}),this.callEvent("viewchange"),this.m_mxDatabase.getSelectManager().setCanvasSize(ie,le),this.m_mxDatabase.onViewChange()},L);function L(){var N=l.call(this,!0)||this;return N._initMinDisplayPoint=null,N._initMaxDisplayPoint=null,N._curMinDisplayPoint=null,N._curMaxDisplayPoint=null,N.is3DDraw=d.MxFun.is3DDwg(),N}r.MxDrawObject2d=S},{"./MxDrawData":29,"./MxDrawObject":30,"./MxFun":34,"./MxMaterial":37,"./MxNetData":38,three:19,"three-orbitcontrols":17}],32:[function(e,t,r){var i,a=this&&this.__extends||(i=function(L,N){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ie){G.__proto__=ie}||function(G,ie){for(var le in ie)Object.prototype.hasOwnProperty.call(ie,le)&&(G[le]=ie[le])})(L,N)},function(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function G(){this.constructor=L}i(L,N),L.prototype=N===null?Object.create(N):(G.prototype=N.prototype,new G)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject3d=void 0;var l,c=e("three"),d=e("./MxDrawObject"),E=e("three-orbitcontrols"),C=e("./MxNetData"),D=e("./MxMaterial"),f=e("./MxTools"),A=(a(S,l=d.MxDrawObject),S.prototype.mxWebAddEntity_Curve=function(L,N){var G,ie=new C.MxNetData(L),le=L.getInt32(32,!0)==0,ae=ie.getIsSketchEntity();if(!((G=le?L.getInt32(20,!0)/4/3:L.getInt32(20,!0)/4/2)<2)){for(var he=new c.Geometry,pe=N,B=0;B<G;B++){var se=L.getFloat32(pe,!0);pe+=4;var oe=L.getFloat32(pe,!0);pe+=4;var O=0;le&&(O=L.getFloat32(pe,!0),pe+=4),he.vertices.push(f.MxTools.AsThreeJsPoint(se,oe,O))}var T=L.getInt32(28,!0),ce=D.MxMaterial.GetCurveColorMaterial(T),fe=new c.LineSegments(he,ce),Ee=L.getInt32(4,!0);this.removeEntity(Ee),this.scene.add(fe),ae&&this.addEntity(Ee,fe)}},S.prototype.mxWebAddEntity_3DChild=function(L){var N=new C.MxNetData(L),G=N.getId(),ie=(N.getColorIndex(),N.getBufferType()==0),le=N.getIsSketchEntity();this.removeEntity(G);var ae=new c.Mesh(new c.Geometry),he=this.mxWebUpdateEntity_3DChild(ae,L,ie);return this.scene.add(ae),le&&this.addEntity(G,ae),ae.geometry.computeBoundingBox(),ae.geometry.computeBoundingSphere(),he},S.prototype.mxWebUpdateEntity_3DChild=function(L,N,G){var ie=new C.MxNetData(N),le=ie.getVertexBufferSize(),ae=ie.getIndexBufferSize(),he=ie.getColorIndex();if(le===0||ae===0)return ie.getDrawDataOffset();var pe=ie.getMateria(),B=void 0,se=!0,oe=!1,O=!1;pe.length!=0&&((B=JSON.parse(pe)).computeFaceNonmal!=null&&(se=B.computeFaceNonmal),B.castShadow!=null&&(oe=B.castShadow),B.receiveShadow!=null&&(O=B.receiveShadow)),L.material=D.MxMaterial.createMaterial(B),L.material==null&&(L.material=D.MxMaterial.GetColorMaterial(he)),L.castShadow=oe,L.receiveShadow=O;var T,ce=ie.getDrawDataOffset();T=G?le/4/8:le/4/2;var fe=L.geometry;fe.vertices=[],fe.faces=[];for(var Ee=0;Ee<T;Ee++){var Ae=N.getFloat32(ce+0,!0),_e=N.getFloat32(ce+4,!0),xe=0,De=0,Le=0,Ge=0,rt=0,We=0;G?(xe=N.getFloat32(ce+8,!0),De=N.getFloat32(ce+12,!0),Le=N.getFloat32(ce+16,!0),Ge=N.getFloat32(ce+20,!0),rt=N.getFloat32(ce+24,!0),We=N.getFloat32(ce+28,!0),ce+=32):ce+=8;var xt=f.MxTools.AsThreeJsPoint(Ae,_e,xe);fe.vertices.push(xt),fe.vertices[Ee].normal=f.MxTools.AsThreeJsPoint(De,Le,Ge),fe.vertices[Ee].uv=new c.Vector2(rt,We)}var Me=ae/4;for(Ee=0;Ee<Me;Ee+=3){var Ue=N.getInt32(ce,!0);ce+=4;var Pe=N.getInt32(ce,!0);ce+=4;var Re=N.getInt32(ce,!0);ce+=4;var st=new c.Face3(Ue,Pe,Re);se||st.vertexNormals.push(fe.vertices[Ue].normal,fe.vertices[Pe].normal,fe.vertices[Re].normal),fe.faces.push(st),fe.faceVertexUvs[0].push([fe.vertices[Ue].uv,fe.vertices[Pe].uv,fe.vertices[Re].uv])}return se&&fe.computeFaceNormals(),ce},S.prototype.updateUVs=function(L){L.faceVertexUvs[0]=[],L.faces.forEach(function(N){var G=["x","y","z"].sort(function(se,oe){return Math.abs(N.normal[se])-Math.abs(N.normal[oe])}),ie=L.vertices[N.a],le=L.vertices[N.b],ae=L.vertices[N.c],he=new c.Vector2(ie[G[0]],ie[G[1]]),pe=new c.Vector2(le[G[0]],le[G[1]]),B=new c.Vector2(ae[G[0]],ae[G[1]]);L.faceVertexUvs[0].push([he,pe,B])}),L.uvsNeedUpdate=!0},S.prototype.onInitThreejs=function(){var L=this.getViewWidth(),N=this.getViewHeight(),G=(L=this.xzSize(L))/(N=this.xzSize(N))*50;this.camera=new c.OrthographicCamera(G/-2,G/2,25,-25,1,1e3),this.camera.position.set(-200,200,200),this.scene=new c.Scene,this.scene.background=new c.Color(this._viewcolor);var ie=this.getUserCanvas();ie==null?(this.renderer=new c.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this._devicePixelRatio),this.renderer.setSize(L,N),document.body.appendChild(this.renderer.domElement)):(this.renderer=new c.WebGLRenderer({canvas:ie,antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this._devicePixelRatio));var le=this.getUserCanvas();le==null&&(le=this.renderer.domElement),this.controls=new E.OrbitControls(this.camera,le)},S.prototype.onInitViewScene=function(){},S.prototype.onInitScene=function(){if(this.callInitSceneEvent(this.scene,this.controls,!1)==0){var L=new c.AmbientLight(2236962);L.integrity=1,this.scene.add(L);var N=new c.DirectionalLight(16777215,1);N.position.set(-2,2,3).normalize(),this.scene.add(N);var G=new c.GridHelper(2e3,100);G.position.y=-199,G.material.opacity=.25,G.material.transparent=!0,this.scene.add(G);var ie=new c.AxesHelper(20);this.scene.add(ie)}},S.prototype.onCreate=function(){this._is2d=!1,this.callEvent("initRenderer",this.renderer),this.mxdrawThreeJS.onInitScene()},S.prototype.getOrthographicCamera=function(){return this.camera instanceof c.OrthographicCamera?this.camera:null},S.prototype.onResizeImp=function(L,N){var G=this.getViewWidth();L!=null&&(G=L);var ie=this.getViewHeight();N!=null&&(ie=N),G=this.xzSize(G),ie=this.xzSize(ie);var le=this.getOrthographicCamera(),ae=G/ie;le.left=50*ae/-2,le.right=50*ae/2,le.top=25,le.bottom=-25,le.updateProjectionMatrix(),this.renderer.setSize(G,ie)},S.prototype.zoomInitialStates=function(){},S.prototype.zoomScale=function(L){},S.prototype.zoomW=function(L,N,G){},S.prototype.zoomCenter=function(L,N){},S.prototype.setViewAngle=function(L){this._viewangle=L},S.prototype.getFullDisplayRange=function(){return{}},S);function S(){var L=l.call(this,!1)||this;return L._viewcolor=15790320,L}r.MxDrawObject3d=A},{"./MxDrawObject":30,"./MxMaterial":37,"./MxNetData":38,"./MxTools":45,three:19,"three-orbitcontrols":17}],33:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObjectEvent=r.MxDrawObjectEventDefautProc=void 0;var i=e("./MxFun"),a=e("./Operate/MxJigCmdManager"),l=e("three"),c=e("./UI/MxUiVue"),d=e("./MxDrawData"),E=(C.prototype.onMousemove=function(A){if(c.MxUiVue.isNull())return 0;var S=this.mxObj.screenCoord2Doc(A.offsetX,A.offsetY,0);return S=this.mxObj.docCoord2Cad(S.x,S.y,S.z),c.MxUiVue.setTipCoord(i.MxFun.formatString("{0},{1},0.000",S.x.toFixed(3),S.y.toFixed(3))),0},C.prototype.onTouchStart=function(A){if(d.MxDrawData.m_isEnableIntelliSelect&&!a.MxJigCmdManager.isRunning()){var S=A.touches[0].pageX,L=A.touches[0].pageY,N=this.mxObj,G=N.screenCoord2Doc(S,L,0);if(N.isMxCAD()){var ie=N.getMxCAD();if(!ie)return;var le=!0;if(ie&&ie.getGrip().onMouseLBDown(G)&&(le=!1),le)return i.MxFun.sendStringToExecute("Mx_IntelliSel",{pt1:G}),1}else if(!N.getMxDatabase().getGripManager().onMouseLBDown(G)){var ae=new l.Vector3(S,L,0);return i.MxFun.sendStringToExecute("Mx_FrontEndWebpageIntelliSel",{pt:ae}),1}}return 0},C.prototype.onMousdown=function(A){if(A.button==a.MxJigCmdManager.MouseButton.kRight&&a.MxJigCmdManager.isRunning())return a.MxJigCmdManager.stopCmd(),0;if(d.MxDrawData.m_isEnableIntelliSelect&&A.button==a.MxJigCmdManager.MouseButton.kLeft&&!a.MxJigCmdManager.isRunning()){var S=this.mxObj,L=S.screenCoord2Doc(A.offsetX,A.offsetY,0);if(S.isMxCAD()){var N=S.getMxCAD();if(!N)return;var G=!0;if(N&&N.getGrip().onMouseLBDown(L)&&(G=!1),G)return i.MxFun.sendStringToExecute("Mx_IntelliSel",{pt1:L}),1}else if(!(S.getMxDatabase().getGripManager().onMouseLBDown(L)||S.isValidMcObject()&&S.getMcObject().getGripManager().onMouseLBDown(L))){var ie=new l.Vector3(A.offsetX,A.offsetY,0);return i.MxFun.sendStringToExecute("Mx_FrontEndWebpageIntelliSel",{pt:ie}),1}}return 0},C.prototype.init=function(A,S){this.mxObj=A;var L=this;S.addEventListener("mousemove",function(N){return L.onMousemove(N)}),S.addEventListener("mousedown",function(N){return L.onMousdown(N)}),S.addEventListener("touchstart",function(N){return L.onTouchStart(N)})},C);function C(){}r.MxDrawObjectEventDefautProc=E;var D=(f.prototype.onMousedown=function(A){this.callEvent("mousedown",A)},f.prototype.onMousemove=function(A){this.callEvent("mousemove",A)},f.prototype.onMouseup=function(A){this.callEvent("mouseup",A)},f.prototype.registEvent=function(A){var S=A.getCanvas();if(!S)return!1;var L=this;i.MxFun.isPC()?(S.addEventListener("mouseup",function(N){L.onMouseup(N)},!0),S.addEventListener("mousemove",function(N){L.onMousemove(N)},!0),S.addEventListener("mousedown",function(N){L.onMousedown(N)},!0)):(S.addEventListener("touchstart",function(N){L.callEvent("touchstart",N)},!0),S.addEventListener("touchend",function(N){L.callEvent("touchend",N)},!0),S.addEventListener("touchmove",function(N){L.callEvent("touchmove",N)},!0)),this.defautProc.init(A,this)},f.prototype.getEventCall=function(A){var S;return A=="mousemove"?S=this.aryMousemoveEventCall:A=="mouseup"?S=this.aryMouseupEventCall:A=="mousedown"?S=this.aryMousedownEventCall:A=="touchstart"?S=this.aryTouchstartEventCall:A=="touchend"?S=this.aryTouchendEventCall:A=="touchmove"&&(S=this.aryTouchmoveEventCall),S},f.prototype.callEvent=function(A,S){var L=this.getEventCall(A);if(L){for(var N=L.slice(),G=0,ie=N.length;G<ie;G++){var le=N[G](S);if(le==1)return le}return 0}},f.prototype.addEventListener=function(A,S,L){L===void 0&&(L=!1);var N=this.getEventCall(A);return!!N&&(-1<N.indexOf(S)||(L?N.unshift(S):N.push(S)),!0)},f.prototype.removeEventListener=function(A,S){var L=this.getEventCall(A);if(!L)return!1;var N=L.indexOf(S);return-1<N&&(L.splice(N,1),!0)},f);function f(){this.aryMousedownEventCall=[],this.aryMouseupEventCall=[],this.aryMousemoveEventCall=[],this.aryTouchstartEventCall=[],this.aryTouchendEventCall=[],this.aryTouchmoveEventCall=[],this.defautProc=new E}r.MxDrawObjectEvent=D},{"./MxDrawData":29,"./MxFun":34,"./Operate/MxJigCmdManager":58,"./UI/MxUiVue":67,three:19}],34:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxFun=void 0;var i,a,l,c,d,E,C,D,f,A,S,L,N,G,ie,le=e("three"),ae=e("./MxManager"),he=e("./MxDrawObject"),pe=e("./MxDrawObject2d"),B=e("./MxDrawObject3d"),se=e("./UI/MxUiObjectMobile"),oe=e("./UI/MxUiObjectPC"),O=e("./Operate/MxJigCmdManager"),T=e("./Operate/MxJigGetLine"),ce=e("./Operate/MxCmdRunManager"),fe=e("./UI/MxUiVue"),Ee=e("./MxThreeJS"),Ae=e("./MxWindowsEvent"),_e=e("./MxTools"),xe=e("./MxDrawCommands"),De=e("./MxDrawData"),Le=e("./MxCAD/MxCADEditDisplay"),Ge=e("./MxLocalFileLoad"),rt=e("./TempTest/MxTestJig"),We=e("./MxVersion"),xt=e("./MrxDbgUtils");function Me(Ve){Ve.cmd&&Ct(Ve.cmd)}function Ue(Ve){var Ze=new RegExp("(^|&)"+Ve+"=([^&]*)(&|$)"),Ne=window.location.href,qe=Ne.indexOf("?"),lt=(Ne=qe==-1?"":Ne.substring(qe)).substr(1).match(Ze);return lt!=null?decodeURIComponent(lt[2]):""}function Pe(){return ae.MxManager.currentMx()}function Re(){return ae.MxManager.currentMx()}function st(Ve,Ze){var Ne={};if(Ve!=null)if(Ve instanceof Array)Ne.is2d=!0;else{Ve.length==0&&(Ve="empty");var qe=Ve.substring(Ve.lastIndexOf(".")+1).toLowerCase();if(qe!="dwg"&&qe!="dxf"&&qe!="dwf"&&qe!="mwg"&&qe!="wgh"||(Ne.is2d=!0),Ze!=1&&Ze!=null&&qe!="wgh"){var lt=void 0,vt=Ve.split("/");(lt=vt.length==1?vt[0]:vt[vt.length-1])[0]=="$"&&(lt=lt.substring(1));for(var bt=void 0,nt=0;nt<vt.length-1;nt++)bt=nt==0?vt[nt]:bt+"/"+vt[nt];Ve=bt?bt+"/$"+lt+".mxb1.wgh":"$"+lt+".mxb1.wgh"}}else Ve="empty";return Ne.sFileName=Ve,Ne}function It(Ve){if(typeof Ve=="string"){var Ze=Ve.substring(Ve.lastIndexOf(".")+1).toLowerCase();if(Ze!="dwg"&&Ze!="wgh"){var Ne=Ve.lastIndexOf("?");if(Ne!=-1){var qe=Ve.substring(Ne,Ve.length);return{sFileName:Ve=Ve.substring(0,Ne),sUrlParam:qe}}}}return null}function Ct(Ve,Ze){var Ne=Re();return ce.MxCmdRunManager.runCmd(Ne,Ve,Ze)}function tt(Ve){Ve!=null&&(Ve.init(),fe.MxUiVue.init(Ve)),L||(console.log("MxDraw Version:"+We.MxBulid.getVersion()),L=!0,ie=new Ge.MxLocalNodeJs,O.MxJigCmdManager.init(),Ae.MxWindowsEvent.registEvent(),xe.MxDrawCommands.registerCommand(),window.mxConfig_isLoadTest&&rt.MxTest.registerCommand(),G.sendStringToExecute=Me)}a=i||(r.MxFun=i={}),l=".",D=E=d=-1,S=null,L=!(A="ws://localhost:5090"),G={},ie=N=f=C=c=void 0,a.getUiObj=function(){return S},a.getNodeJs=function(){return ie},a.setMxServer=function(Ve){A=Ve},a.getMxServer=function(){return A},a.isPC=function(){return!/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)},a.getClientPlatform=function(){return navigator.platform},a.getClientInfo=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},a.curPath=function(){return l},a.setCurPath=function(Ve){l=Ve},a.getQueryString=Ue,a.getLocationPageUrl=function(){var Ve=window.location.href,Ze=Ve.lastIndexOf("?");return Ze==-1?Ve:Ve.substring(0,Ze)},a.getUrlParams=function(){var Ve=window.location.search,Ze=Ve.substr(1,Ve.length).split("&"),Ne=new Array;if(Ze!=null)for(var qe=0;qe<Ze.length;qe++){var lt=Ze[qe].replace(/[=|^==]/,"&").split("&");if(1<lt.length){var vt=new Array;vt.push(decodeURIComponent(lt[0])),vt.push(decodeURIComponent(lt[1])),Ne.push(vt)}}return Ne},a.call=function(Ve,Ze,Ne){Ze==null?Ze="{}":typeof Ze=="string"?Ze.length==0?Ze="{}":Ze[0]=="["&&Ze[Ze.length-1]=="]"||Ze[0]=="{"&&Ze[Ze.length-1]=="}"||(Ze='"'+(Ze=Ze.replace(/"/g,"'"))+'"'):Ze=typeof Ze=="object"?JSON.stringify(Ze):"{}",ae.MxManager.currentMx().call(Ve,Ze,Ne)},a.loadCodeToServer=function(Ve,Ze){ae.MxManager.currentMx().loadCodeToServer(Ve,Ze)},a.getCurrentMx=Pe,a.getCurrentMxCAD=function(){var Ve=Pe();return Ve?Ve.getMxCAD():null},a.loadCodeFileToServer=function(Ve,Ze,Ne){ae.MxManager.currentMx().loadCodeFileToServer(Ve,Ze,Ne)},a.isEnableSelect=function(){if(d!=-1)return d==1;var Ve=Ue("select");return d=0,Ve!=null&&Ve.toLowerCase()=="y"&&(d=1),d==1},a.is3DDwg=function(){if(D!=-1)return D==1;var Ve=Ue("3ddwg");return D=0,Ve!=null&&Ve.toLowerCase()=="y"&&(D=1),D==1},a.isStaticLoad=function(){if(E!=-1)return E==1;var Ve=Ue("static");return E=0,Ve!=null&&Ve.toLowerCase()=="y"&&(E=1),E==1},a.enableSelect=function(Ve){d=Ve?1:0},a.enablStaticLoad=function(Ve){E=Ve==null||Ve?1:0},a.dwgDir=function(){return C!=null||(C=Ue("dwgdir"))==null&&(C=""),C},a.setDwgDir=function(Ve){C=Ve},a.getStaticServer=function(){return f!=null||(f=Ue("staticServer"))==null&&(f=""),f},a.setStaticServer=function(Ve){f=Ve},a.is2dParam=function(){if(c!=null)return c;var Ve=Ue("file");if(c=!1,Ve!=null){var Ze=Ve.substring(Ve.lastIndexOf(".")+1);Ze.toLowerCase()!="dwg"&&Ze.toLowerCase()!="dxf"&&Ze.toLowerCase()!="dwf"&&Ze.toLowerCase()!="mwg"||(c=!0)}return c},a.set2dParam=function(Ve){c=Ve},a.showLayer=function(Ve,Ze,Ne){var qe=ae.MxManager.currentMx().getMxCAD();if(!qe)return ae.MxManager.currentMx().showLayer(Ve,Ze,Ne);typeof Ve=="number"&&Le.MxCADDisplayFun.showLayer(qe.getDatabase(),Ve,Ze)},a.upDisplayForLayerData=function(Ve){var Ze=ae.MxManager.currentMx().getMxCAD();return!!Ze&&Ze.getDatabase().getLayerTable().upDisplayForLayerData(Ze.getDatabase(),Ve)},a.screenCoord2World=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().screenCoord2World(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().screenCoord2World(Ve,Ze,Ne)},a.worldCoord2Screen=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().worldCoord2Screen(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().worldCoord2Screen(Ve,Ze,Ne)},a.docCoord2Cad=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().docCoord2Cad(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().docCoord2Cad(Ve,Ze,Ne)},a.cadCoord2Doc=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().cadCoord2Doc(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().cadCoord2Doc(Ve,Ze,Ne)},a.docCoord2World=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().docCoord2World(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().docCoord2World(Ve,Ze,Ne)},a.worldCoord2Doc=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().worldCoord2Doc(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().worldCoord2Doc(Ve,Ze,Ne)},a.screenCoord2Doc=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().screenCoord2Doc(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().screenCoord2Doc(Ve,Ze,Ne)},a.docCoord2Screen=function(Ve,Ze,Ne){return Ve instanceof Object?ae.MxManager.currentMx().docCoord2Screen(Ve.x,Ve.y,Ve.z):ae.MxManager.currentMx().docCoord2Screen(Ve,Ze,Ne)},a.docCoordLong2Cad=function(Ve){return ae.MxManager.currentMx().docCoordLong2Cad(Ve)},a.cadCoordLong2Doc=function(Ve){return ae.MxManager.currentMx().cadCoordLong2Doc(Ve)},a.viewCoordLong2Cad=function(Ve){return ae.MxManager.currentMx().viewCoordLong2Cad(Ve)},a.cadCoordLong2View=function(Ve){return ae.MxManager.currentMx().cadCoordLong2View(Ve)},a.zoomCenter=function(Ve,Ze){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomCenter(Ve,Ze),ae.MxManager.currentMx().updateDisplay())},a.zoomW=function(Ve,Ze,Ne,qe,lt){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomW(new le.Vector3(Ve,Ze,0),new le.Vector3(Ne,qe,0),lt),ae.MxManager.currentMx().updateDisplay())},a.zoomScale=function(Ve){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomScale(Ve),ae.MxManager.currentMx().updateDisplay())},a.zoomAll=function(){ae.MxManager.currentMx().is2D()&&(ae.MxManager.currentMx().zoomAll(),ae.MxManager.currentMx().updateDisplay())},a.deleteAll=function(){return ae.MxManager.currentMx().deleteAll()},a.callCommand=function(Ve,Ze,Ne){ae.MxManager.currentMx().callCommand(Ve,Ze,Ne)},a.getCurrentColor=function(){return ae.MxManager.currentMx().getCurrentColor()},a.setCurrentColor=function(Ve){ae.MxManager.currentMx().setCurrentColor(Ve)},a.undo=function(){ae.MxManager.currentMx().undo()},a.save=function(){ae.MxManager.currentMx().save()},a.showLoading=function(){S?.ShowLoading()},a.hideLoading=function(){S?.HideLoading()},a.showProp=function(Ve){S?.ShowObjectProperty(Ve)},a.hideProp=function(){S?.HideObjectProp()},a.getUiObject=function(){return S},a.getViewCenterDocCoord=function(){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().getViewCenterDocCoord():new le.Vector3(0,0,0)},a.screenCoordLong2Doc=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().screenCoordLong2Doc(Ve):Ve},a.docCoordLong2Screen=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().docCoordLong2Screen(Ve):Ve},a.worldCoordLong2Doc=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().worldCoordLong2Doc(Ve):Ve},a.docCoordLong2World=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().docCoordLong2World(Ve):Ve},a.screenCoordLong2World=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().screenCoordLong2World(Ve):Ve},a.worldCoordLong2Screen=function(Ve){return ae.MxManager.currentMx().is2D()?ae.MxManager.currentMx().worldCoordLong2Screen(Ve):Ve},a.addSelectEvent=function(Ve){ae.MxManager.addSelectEvent(Ve)},a.clearSelectEvent=function(){ae.MxManager.clearSelectEvent()},a.removeThreejsObject=function(Ve,Ze,Ne){Ve&&(Ve.traverse(function(qe){(qe instanceof le.Mesh||qe instanceof le.Line||qe instanceof le.LineLoop)&&(qe.geometry.dispose(),Ne&&(qe.material instanceof Array?qe.material.forEach(function(lt){lt.dispose()}):qe.material.dispose()))}),Ze.remove(Ve))},a.setOutServerDebugCall=function(Ve){ae.MxManager.setOutDebugCall(Ve)},a.updateDisplay=function(){ae.MxManager.updateDisplay()},a.getCurrentDraw=Re,a.formatString=function(Ve){for(var Ze=[],Ne=1;Ne<arguments.length;Ne++)Ze[Ne-1]=arguments[Ne];for(var qe=0;qe<Ze.length;qe++)Ve=Ve.replace("{".concat(qe,"}"),Ze[qe]);return Ve},a.createMxUiObject=function(Ve){var Ze;return Ze=this.isPC()?new oe.MxUiObjectPC:new se.MxUiObjectMobile,Ve(S=Ze),Ze.create(),Ze},a.openFile=function(Ve,Ze){var Ne="";if(typeof Ve=="string"){var qe=It(Ve);qe&&(Ne=qe.sUrlParam,Ve=qe.sFileName)}Ze==null&&(Ze=!1);var lt=st(Ve,Ze);return lt.is2d&&(c=lt.is2d),Ve=lt.sFileName,ae.MxManager.currentMx().openFile(Ve,Ne)},a.createMxObject=function(Ve,Ze,Ne,qe,lt,vt,bt,nt){L||tt(),typeof Ve=="string"&&(Ve=Ve.length==0?void 0:document.getElementById(Ve));var Nt=null,kt="";if(nt)Ze="",(Nt=new pe.MxDrawObject2d).setViewColor(0),Nt.initRunMode(he.MxRunMode.kCPPMxCAD);else{if(Ze==null)Ze=a.getQueryString("file");else{var Qt=It(Ze);Qt&&(kt=Qt.sUrlParam,Ze=Qt.sFileName)}var gt=qe!=null&&qe,Dt=st(Ze,vt);Dt.is2d&&(gt=Dt.is2d),Ze=Dt.sFileName,lt==1&&(Ze=""),gt?(Nt=new pe.MxDrawObject2d).setViewColor(0):(Nt=new B.MxDrawObject3d).setViewColor(15790320)}return Ne?.(Nt),Nt.create(Ve,Ze,kt,bt),Nt},a.getMxObjectFormElement=function(Ve){return ae.MxManager.getMxObject(Ve)},a.initMxCpp=function(Ve){ae.MxManager.initMxCpp(Ve)},a.isRunningCommand=function(){return O.MxJigCmdManager.isRunning()},a.stopRunCommand=function(){return O.MxJigCmdManager.stopCmd()},a.runCommand=function(Ve){return O.MxJigCmdManager.runCmd(Ve)},a.getTHREE=function(){return le},a.getLine=function(Ve){var Ze=new T.MxJigGetLine;Ze.setRetCall(Ve),O.MxJigCmdManager.runCmd(Ze)},a.addCommand=function(Ve,Ze,Ne){ce.MxCmdRunManager.addCommand(Ve,Ze,Ne)},a.sendStringToExecute=Ct,a.getMxEntity=function(Ve){var Ze=Re();return Ze?Ze.getMxEntityUserObject(Ve):null},a.initUiDataObject=function(Ve){fe.MxUiVue.isNull()&&(Ve.init(a),fe.MxUiVue.init(Ve))},a.init=tt,a.addWindowsEvent=function(Ve){Ae.MxWindowsEvent.addEvent(Ve)},a.getCurrentMousePostion=function(){return Ae.MxWindowsEvent.getCurrentMousePostion()},a.getMxThreeJS=function(){return Ee.MxThreeJS},a.getMxTools=function(){return _e.MxTools},a.getMxCmdRunManager=function(){return ce.MxCmdRunManager},a.getMxJigCmdManager=function(){return O.MxJigCmdManager},a.initQuickCommand=function(Ve){ce.MxCmdRunManager.InitQuickCommand(Ve)},a.Assert=function(Ve){Ve||console.log("MxAssert error")},a.setIniset=function(Ve){De.MxDrawData.setIniset(Ve)},a.setPostMessageToParentFrameFunction=function(Ve){N=Ve},a.postMessageToParentFrame=function(Ve){return N!=null&&(N(Ve),!0)},a.onParentFrameMessage=function(Ve){Ve!=null&&Ve.type!=null&&G[Ve.type]&&G[Ve.type](Ve)},a.acutPrintf=function(Ve){for(var Ze=[],Ne=1;Ne<arguments.length;Ne++)Ze[Ne-1]=arguments[Ne];if(!fe.MxUiVue.isNull()){for(var qe=arguments,lt=qe[0],vt=0;vt<qe.length-1;vt++){var bt=new RegExp("\\{"+vt+"\\}","gm");lt=lt.replace(bt,qe[vt+1])}fe.MxUiVue.AcutPrintfNoFormat(lt,!0)}},a.loadImageMaterial=function(Ve,Ze){ae.MxManager.getMxDbTextureManager().loadImage(Ve,Ze)},a.loadSVG=function(Ve,Ze,Ne,qe){ae.MxManager.getMxDbSvgManager().loadSVG(Ve,Ze,Ne,qe)},a.initMxDbEntityType=function(Ve){ae.MxManager.getMxDbEntityClassHierarchy().init(Ve)},a.initDynamicCreate=function(Ve){ae.MxManager.getMxDbEntityClassHierarchy().initDynamic(Ve)},a.ceneratecursor=function(Ve,Ze,Ne,qe){Ve===void 0&&(Ve=128),Ze===void 0&&(Ze=10),Ne===void 0&&(Ne=!0);var lt=document.createElement("canvas");lt.width=lt.height=Ve,lt.style.background="transparent";var vt=lt.getContext("2d"),bt=Ve%2==0?-.5:0,nt=Ze%2==0?-.5:0;vt.strokeStyle=qe||"#fff",Ne&&(vt.beginPath(),vt.moveTo(lt.width/2+bt,bt),vt.lineTo(lt.width/2+bt,lt.height+bt),vt.stroke(),vt.beginPath(),vt.moveTo(bt,lt.height/2+bt),vt.lineTo(lt.width+bt,lt.height/2+bt),vt.stroke()),vt.beginPath(),vt.strokeRect(Ve/2-Ze/2+nt,Ve/2-Ze/2+nt,Ze,Ze),vt.stroke();var Nt=new Image;return Nt.src=lt.toDataURL("image/png"),Nt.src},a.getMrxDbgUtilsClass=function(){return xt.MrxDbgUtils}},{"./MrxDbgUtils":20,"./MxCAD/MxCADEditDisplay":21,"./MxDrawCommands":28,"./MxDrawData":29,"./MxDrawObject":30,"./MxDrawObject2d":31,"./MxDrawObject3d":32,"./MxLocalFileLoad":35,"./MxManager":36,"./MxThreeJS":44,"./MxTools":45,"./MxVersion":47,"./MxWindowsEvent":48,"./Operate/MxCmdRunManager":53,"./Operate/MxJigCmdManager":58,"./Operate/MxJigGetLine":59,"./TempTest/MxTestJig":63,"./UI/MxUiObjectMobile":65,"./UI/MxUiObjectPC":66,"./UI/MxUiVue":67,three:19}],35:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxLocalDwgFileLoad=r.MxLocalFileLoad=r.MxLocalNodeJs=void 0;var i=e("./MxFun"),a=(l.prototype.init=function(D){this.loadFileCall=D.loadFileFun},l.prototype.loadFile=function(D,f,A,S,L){this.loadFileCall!=null?this.loadFileCall(D,f,A,S,L):L(void 0)},l);function l(){this.loadFileCall=null}r.MxLocalNodeJs=a;var c=(d.prototype.setPath=function(D){this.path=D},d.prototype.setBinary=function(D){this.isBinary=D},d.prototype.load=function(D,f,A,S){i.MxFun.getNodeJs().loadFile(this.path+D,this.isBinary,f,A,S)},d);function d(){this.path="",this.isBinary=!1}r.MxLocalFileLoad=c;var E=(C.prototype.setShowloading=function(D){this._isShowLoading=D},C.prototype.load=function(D,f){var A="$"+f+".mxb1.wgh";this._path=D,this._filename=f;var S=this;this.getFile(this._path,A,!1,function(L){typeof L=="string"?S.net.onStaticHeadMessage(L):console.log("mx error h1")},function(){console.log("mx get "+A+" faild")})},C.prototype.getDatas=function(){if(this._iGet>=this._dataNum)this._isShowLoading&&i.MxFun.hideLoading();else{var D=this._dataType[this._iGet];this._iGet++;var f=this,A=this._iGet+1,S="$"+this._filename+".mxb"+A+".wgh",L=D!=0;this.getFile(this._path,S,L,function(N){f.net.onStaticMessage(N),f.getDatas()},function(){f._dataNum=0,f._iGet=0,f._isShowLoading&&i.MxFun.hideLoading(),console.log("mx get "+S+" faild")})}},C.prototype.onRenderHead=function(D){var f=JSON.parse(D);this._dataType=f.type,this._dataNum=f.count,this._iGet=0,this._isShowLoading&&i.MxFun.showLoading(),this.getDatas()},C.prototype.getFile=function(D,f,A,S,L){var N=new c;N.setPath(D),N.setBinary(A),N.load(f,S,function(){},L)},C);function C(D){this.net=null,this._dataNum=0,this._iGet=0,this._dataType=[],this._path="",this._filename="",this._isShowLoading=!0,this.net=D}r.MxLocalDwgFileLoad=E},{"./MxFun":34}],36:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxManager=r.MxCpp=r.MxData=void 0;var i,a,l=e("./View/MxDbEntity"),c=e("./View/MxDbTextureManager"),d=e("./SVGLoader/MxSVGLoader");(a=i||(r.MxData=i={})).iSelectRenderOrder=5,a.iCADMeshRenderOrder=10,a.iCADCurveRenderOrder=20,a.iMxEntityRenderOrder=30,a.iGripRenderOrder=110,a.iDynJigRenderOrder=120;var E,C,D,f,A,S,L,N,G,ie,le,ae=(he.prototype.init=function(pe){this.imp=pe},he.prototype.NewMdGePoint3d=function(pe){return this.imp?this.imp.NewMdGePoint3d(pe):null},he);function he(){}r.MxCpp=ae,C=E||(r.MxManager=E={}),D=[],f=null,S=[],L=void(A=0),N=new c.MxDbTextureManager,G=new d.MxSvgManager,ie=new l.MxDbEntityClassHierarchy,le=new ae,C.add=function(pe){D.push(pe)},C.initMxCpp=function(pe){le.init(pe)},C.getMxCpp=function(){return le},C.allocId=function(){return++A},C.getMxDbEntityClassHierarchy=function(){return ie},C.getMxDbTextureManager=function(){return N},C.getMxDbSvgManager=function(){return G},C.outDebugString=function(pe){L==null?console.log(pe):L(pe)},C.setOutDebugCall=function(pe){L=pe},C.onLoad=function(){for(var pe in D)D[pe].onLoad("")},C.updateDisplay=function(){for(var pe in D)D[pe].updateDisplay()},C.currentMx=function(){return f},C.setCurrentMx=function(pe){f=pe},C.initResize=function(){for(var pe in D)D[pe].initResize()},C.addSelectEvent=function(pe){S.push(pe)},C.clearSelectEvent=function(){S=[]},C.callSelectObject=function(pe){for(var B in S)if(S[B](pe)==1)break},C.getMxObject=function(pe){if(typeof pe=="number"){for(var B in D)if(D[B].getId()===pe)return D[B]}else for(var B in D)if(D[B].getCanvas()===pe)return D[B];return null}},{"./SVGLoader/MxSVGLoader":61,"./View/MxDbEntity":71,"./View/MxDbTextureManager":76}],37:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxMaterial=void 0;var i,a=e("three");(function(l){l.shaderUniforms={crAmbient:{value:new a.Vector3(1,0,0)},crDiffuse:{value:new a.Vector3(1,0,0)},crSpecular:{value:new a.Vector3(1,0,0)}},l.m_arrSystemColors=new Array(0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10066176,10066252,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510272,8755532,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019904,7510348,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529536,6265164,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,39168,5019980,32512,4161343,19456,2509862,65343,8388511,52275,6737023,39206,5019999,32543,4161359,19475,2509871,65407,8388543,52326,6737049,39244,5020018,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39282,5020037,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39321,5020057,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29337,5014937,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19609,5010073,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9881,5005209,8063,4149119,4940,2502476,255,8355839,204,6710988,153,5000345,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490521,6245529,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980889,7490713,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471257,8735897,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,10027161,10046617,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,10027122,10046597,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,10027084,10046578,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,10027046,10046559,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215),l.m_arrDefUseMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_arrDefUseCurveMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_arrDefUseBasicMaterials=new Array(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),l.m_selectMaterial=new a.MeshPhongMaterial({color:255,opacity:.2,transparent:!0,side:a.DoubleSide}),l.m_mouseMoveMaterial=new a.MeshPhongMaterial({color:16776960,side:a.DoubleSide}),l.m_lockedMaterial=new a.MeshPhongMaterial({color:197379,side:a.DoubleSide}),l.m_samplePoints=new a.PointsMaterial({color:255,depthTest:!1,size:8}),l.m_samplePointsMouseMove=new a.PointsMaterial({color:16711680,depthTest:!1,size:12});var c=new a.MeshBasicMaterial({color:16777215,transparent:!0,depthTest:!1,side:a.DoubleSide,opacity:1,stencilWrite:!1,colorWrite:!1});l.getStencilMaterial=function(){return c},l.GetColorByIndex=function(d){return l.m_arrSystemColors[d]},l.GetColorMaterial=function(d){var E=l.m_arrDefUseMaterials[d];return E===null&&(E=new a.MeshLambertMaterial({color:l.m_arrSystemColors[d],side:a.DoubleSide}),l.m_arrDefUseMaterials[d]=E),E},l.GetBaseColorMaterial=function(d){var E=l.m_arrDefUseBasicMaterials[d];return E===null&&(E=new a.MeshBasicMaterial({color:l.m_arrSystemColors[d],side:a.DoubleSide}),l.m_arrDefUseMaterials[d]=E),E},l.GetCurveColorMaterial=function(d){var E=l.m_arrDefUseCurveMaterials[d];return E===null&&(E=new a.LineBasicMaterial({color:l.m_arrSystemColors[d],linewidth:1}),l.m_arrDefUseCurveMaterials[d]=E),E},l.GetSelectMaterial=function(){return l.m_selectMaterial},l.GetMouseMoveMaterial=function(){return l.m_mouseMoveMaterial},l.GetLockedMaterial=function(){return l.m_lockedMaterial},l.GetSamplePointsMaterial=function(){return l.m_samplePoints},l.GetSamplePointsMouseMoveMaterial=function(){return l.m_samplePointsMouseMove},l.createMaterial=function(d){var E=void 0;if(d==null)return E;function C(D,f){if(f.map!=null){var A=f.map,S=new a.TextureLoader().load(A);S.wrapS=S.wrapT=a.RepeatWrapping,D.map=S,D.side=a.DoubleSide}}return d.transparent!=0?d.transparent=!0:d.transparent=!1,d.name=="MeshPhongMaterial"?C(E=new a.MeshPhongMaterial(d),d):d.name=="MeshBasicMaterial"?C(E=new a.MeshBasicMaterial(d),d):d.name=="MeshDepthMaterial"?C(E=new a.MeshDepthMaterial(d),d):d.name=="MeshNormalMaterial"?C(E=new a.MeshNormalMaterial(d),d):d.name=="MeshLambertMaterial"?C(E=new a.MeshLambertMaterial(d),d):d.name=="MeshStandardMaterial"&&C(E=new a.MeshStandardMaterial(d),d),E}})(i||(r.MxMaterial=i={}))},{three:19}],38:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxHFileLoad=r.MxNet=r.MxNetBinMessageType=r.MxNetSend=r.MxNetMessage=r.MxNetMessageType=r.MxNetData=void 0;var i,a,l=e("three"),c=e("./MxFun"),d=e("pako"),E=e("./MxManager"),C=e("./MxDrawData"),D=(f.prototype.getId=function(){return this._dataView.getInt32(4,!0)},f.prototype.getVersion_MwBlobHead=function(){return this._dataView.getInt32(60,!0)},f.prototype.getVersion_MwBlobHeadDynLen=function(){return this._dataView.getInt32(4,!0)},f.prototype.getdPointCurveBuffersHead=function(){var B={};return B.ver=this._dataView.getInt32(4,!0),B.databaseIndex=this._dataView.getInt32(8,!0),B.zeroLayerIdIndex=this._dataView.getInt32(16,!0),B.datacount=this._dataView.getInt32(20,!0),B.datasize=this._dataView.getInt32(24,!0),B},f.prototype.getdPointMeshBuffersHead=function(){var B={};return B.ver=this._dataView.getInt32(4,!0),B.databaseIndex=this._dataView.getInt32(8,!0),B.id=this._dataView.getInt32(12,!0),B.zeroLayerIdIndex=this._dataView.getInt32(16,!0),B.datacount=this._dataView.getInt32(20,!0),B.datasize=this._dataView.getInt32(24,!0),B},f.prototype.getdPointTextureBuffersHead=function(){var B={};return B.ver=this._dataView.getInt32(4,!0),B.databaseIndex=this._dataView.getInt32(8,!0),B.zeroLayerIdIndex=this._dataView.getInt32(16,!0),B.datacount=this._dataView.getInt32(20,!0),B.datasize=this._dataView.getInt32(24,!0),B},f.prototype.getBlobHeadForMemorySectionsHead=function(B){var se={};return se.type=this._dataView.getInt32(B,!0),B+=4,se.ver=this._dataView.getInt32(B,!0),B+=4,se.databaseIndex=this._dataView.getInt32(B,!0),B+=4,se.nOffset=B,se},f.prototype.getMemorySectionsHead=function(){var B=this.getBlobHeadForMemorySectionsHead(0);return B.zeroLayerIdIndex=this._dataView.getInt32(B.nOffset,!0),B.nOffset+=4,B.datacount=this._dataView.getInt32(B.nOffset,!0),B.nOffset+=4,B.datasize=this._dataView.getInt32(B.nOffset,!0),B.nOffset+=4,B.datasize!=B.nOffset&&console.log("mx: sectionshead size assert(0)"),B},f.prototype.getMemorySectionHead=function(B){var se=this.getBlobHeadForMemorySectionsHead(B);return B=se.nOffset,se.pointCount=this._dataView.getInt32(B,!0),B+=4,se.layerId=this._dataView.getInt32(B,!0),B+=4,se.blkId=this._dataView.getInt32(B,!0),B+=4,se.memColor=this._dataView.getInt32(B,!0),B+=4,se.memId=this._dataView.getInt32(B,!0),B+=4,se.memType=this._dataView.getInt32(B,!0),B+=4,se.offset=B,se},f.prototype.getdPointTextureBufferDataHead=function(B){B+=4,B+=4,B+=4;var se={};return se.dataCount=this._dataView.getInt32(B,!0),B+=4,se.layerId=this._dataView.getInt32(B,!0),B+=4,se.blkId=this._dataView.getInt32(B,!0),B+=4,se.offset=B,se},f.prototype.getdPointCurveBufferDataHead=function(B){B+=4,B+=4,B+=4;var se={};return se.pointCount=this._dataView.getInt32(B,!0),B+=4,se.layerId=this._dataView.getInt32(B,!0),B+=4,se.blkId=this._dataView.getInt32(B,!0),B+=4,se.offset=B,se},f.prototype.getdPointMeshBufferDataHead=function(B){B+=4,B+=4,B+=4;var se={};return se.pointCount=this._dataView.getInt32(B,!0),B+=4,se.layerId=this._dataView.getInt32(B,!0),B+=4,se.blkId=this._dataView.getInt32(B,!0),B+=4,se.offset=B,se},f.prototype.getDatabaseIndex=function(){return this._dataView.getInt32(8,!0)},f.prototype.getColorIndex=function(){return this._dataView.getInt32(24,!0)},f.prototype.getBufferType=function(){return this._dataView.getInt32(32,!0)},f.prototype.getIsSketchEntity=function(){return this._dataView.getInt32(40,!0)},f.prototype.getLayerId=function(){return this._dataView.getInt32(44,!0)},f.prototype.getBlockId=function(){return this._dataView.getInt32(48,!0)},f.prototype.getVertexBufferSize=function(){return this._dataView.getInt32(12,!0)},f.prototype.getIndexBufferSize=function(){return this._dataView.getInt32(16,!0)},f.prototype.getZeroLayerId=function(){return this._dataView.getInt32(52,!0)},f.prototype.getSelectMark=function(){return this._dataView.getInt32(56,!0)},f.prototype.getMateria=function(){var B=this._dataView.getInt32(36,!0);if(B==0)return"";for(var se=[],oe=0;oe<B;oe++){var O=String.fromCharCode(this._dataView.getUint8(80+oe));se.push(O)}return se.join("")},f.prototype.getDrawDataOffset=function(){return this._dataView.getInt32(36,!0)+80},f.prototype.getMesh=function(){var B=this._dataView.getInt32(4,!0),se=this._dataView.getInt32(32,!0)==0,oe={},O=this._dataView.getInt32(12,!0),T=this._dataView.getInt32(16,!0);if(O===0||T===0)return oe.size=80,oe;var ce,fe=new l.Geometry,Ee=80;ce=se?O/4/8:O/4/2;for(var Ae=0;Ae<ce;Ae++){var _e=this._dataView.getFloat32(Ee+0,!0),xe=this._dataView.getFloat32(Ee+4,!0),De=0;se?(De=this._dataView.getFloat32(Ee+8,!0),this._dataView.getFloat32(Ee+12,!0),this._dataView.getFloat32(Ee+16,!0),this._dataView.getFloat32(Ee+20,!0),this._dataView.getFloat32(Ee+24,!0),this._dataView.getFloat32(Ee+28,!0),Ee+=32):Ee+=8;var Le=new l.Vector3(_e,xe,De);fe.vertices.push(Le)}var Ge=T/4;for(Ae=0;Ae<Ge;Ae+=3){var rt=this._dataView.getInt32(Ee,!0);Ee+=4;var We=this._dataView.getInt32(Ee,!0);Ee+=4;var xt=this._dataView.getInt32(Ee,!0);Ee+=4;var Me=new l.Face3(rt,We,xt);fe.faces.push(Me)}var Ue=this.getIsSketchEntity();return oe.size=Ee,oe.geometry=fe,oe.id=B,oe.isSketchEntity=Ue,oe.nColorIndex=this._dataView.getInt32(24,!0),oe},f.prototype.getCurve=function(B){var se,oe=this._dataView.getInt32(32,!0),O=this.getIsSketchEntity(),T=oe==0,ce={};if((se=T?this._dataView.getInt32(20,!0)/4/3:this._dataView.getInt32(20,!0)/4/2)<2)return ce;for(var fe=new l.Geometry,Ee=B,Ae=0;Ae<se;Ae++){var _e=this._dataView.getFloat32(Ee,!0);Ee+=4;var xe=this._dataView.getFloat32(Ee,!0);Ee+=4;var De=0;T&&(De=this._dataView.getFloat32(Ee,!0),Ee+=4),fe.vertices.push(new l.Vector3(_e,xe,De))}var Le=this._dataView.getInt32(4,!0);return ce.size=Ee,ce.geometry=fe,ce.id=Le,ce.isSketchEntity=O,ce.colorIndex=this._dataView.getInt32(28,!0),ce},f);function f(B){this._dataView=B}r.MxNetData=D,(a=i||(r.MxNetMessageType=i={})).kAddLayer="00000007",a.kClearLayer="00000008",a.kHideLayer="00000009",a.kShowLayer="00000010",a.kUpdateDisplayRange="00000011",a.kCallJsReturn="00000012",a.kLayerData="00000013",a.kSendDebugString="00000014",a.kShowLoading="00000015",a.kHideLoading="00000016",a.kSelectObject="00000017",a.kGlRenderHead="00000018",a.kUserLoginResult="00000019",a.kOpenFileResult="00000020",a.kServerReturn="00000021",a.kMxCADLayerData="00000056",a.kMxCADSystemVariable="00000057";var A=(S.prototype.setJsRetCall=function(B,se,oe){this.serverJsRetCall.set(se+oe,B)},S.prototype.onSocketErrort=function(){this.serverJsRetCall.forEach(function(B){B(void 0)}),this.serverJsRetCall=new Map},S.prototype.Do=function(B){var se=this.net.getCurrentDatabaseId();if(se==-1){var oe=B.substring(0,4);se=parseInt(oe)}var O=B.substring(4,12),T=B.substring(12);return this.messageCall[O]!=null&&(this.messageCall[O](T,se),!0)},S);function S(B,se){this.messageCall=new Map,this.serverJsRetCall=new Map,this.net=null,this.net=se;var oe=this;this.messageCall[i.kUpdateDisplayRange]=function(O){if(!oe.net.isTzDwgStaticFile()){O=O.replace(/\\/g,"\\\\");try{var T=JSON.parse(O);if(T!=null&&B.is2D()){B.initCAD2Doc(new l.Matrix4),T.newbrownermode?T.DToSMat?C.MxDrawData.m_isCorrectLargeCoordinates?(B.intiDoc2Wold(new l.Matrix4),B.initCAD2Doc(T.DToSMat)):B.intiDoc2Wold(T.DToSMat):B.intiDoc2Wold(new l.Matrix4):B.intiDoc2Wold(T.DToWMat),B.updateCameraDisplayRange(new l.Vector3(+T.pt1[0],+T.pt1[1],+T.pt1[2]),new l.Vector3(+T.pt2[0],+T.pt2[1],+T.pt2[2]),+T.viewangle),B.initAllLayoutName(T.layout),B.updateDisplay(!0);var ce=c.MxFun.getUiObj();ce!=null&&(ce.SetLayoutData(T.layout),ce.UpDisplayLayout())}}catch{console.log("UpdateDisplayRange exception")}}},this.messageCall[i.kCallJsReturn]=function(O){if(O.length!=0){var T=JSON.parse(O);T.cmd.length==0&&(T.cmd="__mx_loadcode");var ce=T.cmd+T.count,fe=oe.serverJsRetCall.get(ce);fe&&(oe.serverJsRetCall.delete(ce),typeof T.ret=="string"&&(T.ret=T.ret.replace(/\'/g,'"')),fe(T.ret))}else console.log("assert(0),kCallJsReturn return empty")},this.messageCall[i.kSendDebugString]=function(O){E.MxManager.outDebugString(O)},this.messageCall[i.kUserLoginResult]=function(O){B.userLoginResult(O)},this.messageCall[i.kOpenFileResult]=function(O){B.openFileResult(O)},this.messageCall[i.kServerReturn]=function(O){B.serverReturn(O)},this.messageCall[i.kShowLoading]=function(O){oe.net.isTzDwgStaticFile()||c.MxFun.showLoading()},this.messageCall[i.kHideLoading]=function(O){oe.net.isTzDwgStaticFile()||(c.MxFun.hideLoading(),B.callInitCompleteEvent())},this.messageCall[i.kSelectObject]=function(O){var T=JSON.parse(O);E.MxManager.callSelectObject(parseInt(T.id))},this.messageCall[i.kGlRenderHead]=function(O){B.isStaticLocalLoad()?B.getStaticLocalNet().onRenderHead(O):(oe.net.isTzDwgStaticFile()?B.getStaticLoadTzNet():B.getStaticNet()).onRenderHead(O)},this.messageCall[i.kMxCADLayerData]=function(O,T){B.getMxCAD().getOpenDisplay().OnMessageLayerData(O)},this.messageCall[i.kMxCADSystemVariable]=function(O,T){B.sysVariable().OnMessageMxCADSystemVariable(O)},this.messageCall[i.kLayerData]=function(O,T){if(T==0){if(B.addLayerInfoComplete(),(Ae=JSON.parse(O))!=null){if(!Ae.isSketch){var ce=Ae.list;for(var fe in ce)B.addLayerInfo(ce[fe].id,ce[fe].colorvalue,ce[fe].name),ce[fe].zerolayer==1&&B.setZeroLayerId(ce[fe].id)}Ae.isSketch||B.callEvent("uiSetLayerData",Ae.list);var Ee=c.MxFun.getUiObj();Ee!=null&&(Ae.isSketch?Ee.SetSketchLayerData(Ae.list):Ee.SetLayerData(Ae.list),Ee.UpDisplayLayer())}}else{var Ae,_e=B.getExtRefManager().getLayers(T);if(_e.initComplete(),(Ae=JSON.parse(O))!=null)for(var fe in ce=Ae.list)_e.add(ce[fe].id,ce[fe].colorvalue,ce[fe].name),ce[fe].zerolayer==1&&_e.setZeroLayerId(ce[fe].id)}}}r.MxNetMessage=A;var L,N,G=(ie.prototype.setWebSocket=function(B){this._webSocket=B},ie.prototype.UndoMark=function(){this._webSocket!=null&&this._webSocket.send(this.SendType.kUndoMark+"")},ie.prototype.DoCommand=function(B,se,oe){this._webSocket!=null&&(oe!=null?(this._callCount++,200<this._callCount&&(this._callCount=1),this._msg.setJsRetCall(oe,B,this._callCount),se==null&&(se=""),this._webSocket.send(this.SendType.kCmdEx+","+B+","+this._callCount+","+se)):se==null?this._webSocket.send(this.SendType.kCmd+","+B):this._webSocket.send(this.SendType.kCmd+","+B+","+se))},ie.prototype.OpenFile=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kOpenFile+","+B)},ie.prototype.UserLogin=function(B,se,oe){if(this._webSocket!=null){var O={};O.IdentitySign=B,O.RandomToken=se??"",O.Init=oe??"",this._webSocket.send(this.SendType.kUserLogin+","+JSON.stringify(O))}},ie.prototype.Init=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kInit+","+B)},ie.prototype.CallServerJS=function(B,se,oe){this._webSocket!=null&&(oe==null?se==null||se==null||se.length==0?this._webSocket.send(this.SendType.kCallJS+',{"command":"'+B+'","param":"{}"}'):this._webSocket.send(this.SendType.kCallJS+',{"command":"'+B+'","param":'+se+"}"):(this._callCount++,200<this._callCount&&(this._callCount=1),this._msg.setJsRetCall(oe,B,this._callCount),se==null||se==null||se.length==0?this._webSocket.send(this.SendType.kCallJS+',{"command":"'+B+'","param":"{}","count":"'+this._callCount+'"}'):this._webSocket.send(this.SendType.kCallJS+',{"command":"'+B+'","param":'+se+',"count":"'+this._callCount+'"}')))},ie.prototype.CallLoadCodeToServer=function(B,se){this._webSocket!=null&&(this._msg.setJsRetCall(se,"__mx_loadcode",0),B!=null&&B!=null&&B.length!=0&&this._webSocket.send(this.SendType.kCallJS+","+B))},ie.prototype.DeleteObject=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kDelete+","+B)},ie.prototype.SelectObject=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kSelect+","+B)},ie.prototype.QuitSelectObject=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kQuitSelect+","+B)},ie.prototype.SendDragDrawEntity=function(B){this._webSocket!=null&&this._webSocket.send(this.SendType.kAddDragDraw+","+B)},ie.prototype.SendDragDrawRequest=function(){this._webSocket!=null&&(this.SendMousePickRay(),this._webSocket.send(this.SendType.kRequestDragDraw))},ie.prototype.SendDragDrawDetermine=function(){this._webSocket!=null&&(this.SendMousePickRay(),this._webSocket.send(this.SendType.kDetermineDragDraw))},ie.prototype.SendDragDrawCancel=function(){this._webSocket!=null&&this._webSocket.send(this.SendType.kCancelDragDraw)},ie.prototype.SendMousePickRay=function(){this._webSocket},ie);function ie(B,se){this.SendType={},this._callCount=1,this._webSocket=B,this._msg=se,this.SendType.kCmd=0,this.SendType.kDelete=1,this.SendType.kSelect=2,this.SendType.kOpenFile=3,this.SendType.kGetDemoList=4,this.SendType.kCallJS=5,this.SendType.kAddDragDraw=6,this.SendType.kRequestDragDraw=7,this.SendType.kMousePickRay=8,this.SendType.kDetermineDragDraw=9,this.SendType.kCancelDragDraw=10,this.SendType.kQuitSelect=11,this.SendType.kInit=12,this.SendType.kCmdEx=13,this.SendType.kUserLogin=14,this.SendType.kUndoMark=15}r.MxNetSend=G,(N=L||(r.MxNetBinMessageType=L={})).eBlockRef=10,N.eEntitysData=14,N.eAddEntityFor2dPointTextureBuffers=15,N.eMxNewMemorySections=16,N.kMxCADBlockRef=56,N.kMxCADMemorySections=57,N.kMxCADMemorySectionsFromChange=59,N.kMxCADNotUseMemorySectionsForChage=61,N.kMxCADEntityDisplayDatas=62;var le=(ae.prototype.setCurrentDatabaseId=function(B){this._iCurrentDatabaseId=B},ae.prototype.getMxDrawObject=function(){return this._mx},ae.prototype.getCurrentDatabaseId=function(){return this._iCurrentDatabaseId},ae.prototype.isTzDwgStaticFile=function(){return this._iCurrentDatabaseId!=-1},ae.prototype.onBinMessage=function(B){var se=this._mx,oe=d.inflate(B),O=new DataView(oe.buffer),T=O.getInt32(0,!0);this._binMessageCall.has(T)?this._binMessageCall.get(T)(O,this._iCurrentDatabaseId):(this._iCurrentDatabaseId==-1&&(T==0?se.mxWebAddEntity(O):T==2?se.getSelect().mxWebAddEntity(O):T==6?se.removeEntityFromServer(O):T==11&&se.getExtRefManager().createExternalReferences(O)),T==12?se.mxWebAddEntityFor2dPointCurveBuffers(O,this._iCurrentDatabaseId):T==13?se.mxWebAddEntityFor2dPointMeshBuffers(O,this._iCurrentDatabaseId):T==8?se.mxWebAddEntityFor2dPointCurveBuffer(O,this._iCurrentDatabaseId):T==9?se.mxWebAddEntityFor2dPointMeshBuffer(O,this._iCurrentDatabaseId):T==L.eBlockRef&&se.mxWebCreateAllBlocks(O,this._iCurrentDatabaseId))},ae.prototype.socket_onErrort=function(){this._msg.onSocketErrort()},ae.prototype.socket_onMessageImp=function(B,se){if(se===void 0&&(se=!1),typeof B=="string")this._msg.Do(B);else if(se)this.onBinMessage(B);else{var oe=new FileReader;oe.readAsArrayBuffer(B);var O=this;oe.onload=function(T){O._mx.updateDisplay(),O.onBinMessage(oe.result)}}this._mx.updateDisplay()},ae.prototype.initBinMessage=function(){var B=this._mx;this._binMessageCall.set(L.kMxCADBlockRef,function(se,oe){B.getMxCAD().getOpenDisplay().OnMessageDisplayBlockRef(se)}),this._binMessageCall.set(L.kMxCADMemorySections,function(se,oe){B.getMxCAD().getOpenDisplay().OnMessageDisplayMemorySections(se)}),this._binMessageCall.set(L.kMxCADMemorySectionsFromChange,function(se,oe){B.getMxCAD().getSyncDisplay().OnMessageDisplayMemorySectionsFromChange(se)}),this._binMessageCall.set(L.kMxCADNotUseMemorySectionsForChage,function(se,oe){B.getMxCAD().getSyncDisplay().OnMessageDisplayNotUseMemorySectionsForChage(se)}),this._binMessageCall.set(L.kMxCADEntityDisplayDatas,function(se,oe){B.getMxCAD().getSelect().OnMessageEntityDisplayDatas(se)}),this._binMessageCall.set(L.eEntitysData,function(se,oe){B.mxWebEntitysData(se,oe)}),this._binMessageCall.set(L.eAddEntityFor2dPointTextureBuffers,function(se,oe){B.mxWebAddEntityFor2dPointTextureBuffers(se,oe)}),this._binMessageCall.set(L.eMxNewMemorySections,function(se,oe){B.mxWebAddEntityForMemorySections(se,oe)})},ae.prototype.init=function(B,se){var oe=this;this._mx=B,this._msg=new A(B,this),this.initBinMessage(),se&&(this._webSocket=new WebSocket(c.MxFun.getMxServer()),this._webSocket.onopen=function(){var O=oe._mx.getIniParam();if(O.length!=0){for(var T="{",ce=O.length,fe=0;fe<ce;fe++)T=fe==0?T+'"'+O[fe][0]+'":"'+O[fe][1]+'"':T+',"'+O[fe][0]+'":"'+O[fe][1]+'"';T+="}",oe._send.Init(T)}},this._webSocket.onmessage=function(O){oe.socket_onMessageImp(O.data)},this._webSocket.onerror=function(){console.log("mx: socket error"),oe.socket_onErrort()}),this._send=new G(this._webSocket,this._msg)},ae.prototype.closeWebSocket=function(){this._webSocket&&(this._send.setWebSocket(null),this._webSocket.close(),this._webSocket=null)},ae.prototype.getOnMessage=function(){return this._msg},ae.prototype.getSend=function(){return this._send},ae.prototype.onStaticMessage=function(B){try{return this.socket_onMessageImp(B,!0),!0}catch(se){return console.log("mx file data error!"),console.log(se),!1}},ae.prototype.onStaticHeadMessage=function(B){return typeof B=="string"&&this._msg.Do(B)},ae);function ae(){this._webSocket=null,this._send=null,this._msg=null,this._mx=null,this._binMessageCall=new Map,this._iCurrentDatabaseId=-1}r.MxNet=le;var he=(pe.prototype.stopAllLoading=function(){this._isStopLoading||(this._isStopLoading=!0,this._isShowLoading&&c.MxFun.hideLoading())},pe.prototype.setShowloading=function(B){this._isShowLoading=B},pe.prototype.showLoading=function(){this._isShowLoading&&c.MxFun.showLoading()},pe.prototype.hideLoading=function(B){this._isStopLoading||(this._isShowLoading&&c.MxFun.hideLoading(),this.net.getMxDrawObject().callInitCompleteEvent(),this.net.getMxDrawObject().callOpenFileComplete(B))},pe.prototype.setRequestHeader=function(B){this._requestHeader=B},pe.prototype.setUrlParam=function(B){this._urlParam=B},pe.prototype.load=function(B,se){var oe=c.MxFun.curPath(),O=c.MxFun.dwgDir(),T=c.MxFun.getStaticServer(),ce="/buf/";if(B.substring(B.lastIndexOf(".")+1).toLowerCase()=="wgh"){ce="/";var fe=B.substring(0,B.indexOf(".mxb1.wgh")).split("/");(B=fe.length==1?fe[0]:(T=B.substring(0,B.lastIndexOf("/")),fe[fe.length-1]))[0]=="$"&&(B=B.substring(1))}var Ee="$"+(B=encodeURIComponent(B))+".mxb1.wgh";T.length!=0?oe=T+ce:O.length!=0?oe=oe+"/"+O+ce:oe+=ce,this._path=oe,this._filename=B,1<(this._staticLoadingOpenFiles=se).length&&(Ee=se[0],this._path=void 0);var Ae=this;this.getFile(this._path,Ee,function(_e){if(!Ae._isStopLoading)return typeof _e!="string"?(console.log("mx error h1"),void Ae.hideLoading(4)):Ae.net.onStaticHeadMessage(_e)?void 0:(console.log("mx error h1:"+_e),void Ae.hideLoading(2))},function(){Ae.hideLoading(3),console.log("mx get "+Ee+" faild")})},pe.prototype.getData=function(){if(this._isStopLoading)this.hideLoading(5);else if(this._iGet>=this._dataNum)this.hideLoading(0);else{var B=this._dataType[this._iGet];this._iGet++;var se=this,oe=this._iGet+1,O="$"+this._filename+".mxb"+oe+".wgh";if(1<this._staticLoadingOpenFiles.length){if(this._iGet>=this._staticLoadingOpenFiles.length)return console.log("Mx staticLoadingOpenFiles error!"),void this.hideLoading(7);O=this._staticLoadingOpenFiles[this._iGet]}var T=O;this._path&&(T=this._path+O);var ce=T.substring(0,T.lastIndexOf("/")+1);if(this.net.getMxDrawObject().setCurrentLoadUrl(ce),B==0)this.getFile(this._path,O,function(Ae){se._isStopLoading||(se.net.onStaticMessage(Ae)||(console.log(this._path),console.log(O)),se.getData())},function(){se._dataNum=0,se._iGet=0,se.hideLoading(8),console.log("mx get "+O+" faild")});else{var fe=new XMLHttpRequest,Ee=O;this._path&&(Ee=this._path+O),this._urlParam.length!=0?fe.open("GET",Ee+this._urlParam):fe.open("GET",Ee),C.MxDrawData.m_isRequestHeaderCacheControl&&fe.setRequestHeader("Cache-Control","max-age=7200"),this._requestHeader.length!=0&&fe.setRequestHeader("usertoken",this._requestHeader),fe.responseType="arraybuffer",fe.onload=function(){se._isStopLoading||(se.net.onStaticMessage(fe.response)||console.log(Ee),se.getData())},fe.addEventListener("error",function(Ae){se._dataNum=0,se._iGet=0,se.hideLoading(9),console.log("mx get "+O+" faild")},!1),fe.send()}}},pe.prototype.onRenderHead=function(B){if(!this._isStopLoading){var se=JSON.parse(B);this._dataType=se.type,this._dataNum=se.count,this._iGet=0,this.showLoading(),this.getData()}},pe.prototype.getFile=function(B,se,oe,O){var T=new l.FileLoader(this.manager);T.setPath(B);var ce=se;this._urlParam.length!=0&&(ce=se+this._urlParam),this._requestHeader.length!=0&&(T.requestHeader={usertoken:this._requestHeader}),T.load(ce,oe,function(){},O)},pe);function pe(B,se){this.net=null,this.manager=null,this._dataNum=0,this._iGet=0,this._dataType=[],this._path="",this._filename="",this._staticLoadingOpenFiles=[],this._isShowLoading=!0,this._requestHeader="",this._isStopLoading=!1,this._urlParam="",this.net=B,this.manager=se!==void 0?se:l.DefaultLoadingManager}r.MxHFileLoad=he},{"./MxDrawData":29,"./MxFun":34,"./MxManager":36,pako:1,three:19}],39:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSelect=void 0;var i=e("three"),a=e("three.meshline"),l=e("./MxFun"),c=e("./MxNetData"),d=e("./MxMaterial"),E=(C.prototype.removeAll=function(){this._mapSelectMark2Entity=new Map},C.prototype.addEntity=function(D,f){var A=this._mapSelectMark2Entity.get(D);A==null&&(A=new Array,this._mapSelectMark2Entity.set(D,A)),A.push(f)},C.prototype.removeEntity=function(D){var f=new Map,A=function(S,L){var N=this.mx.getScene(),G=L;return function(ie,le,ae){if(S==null||le!=S)for(var he in ie)l.MxFun.removeThreejsObject(ie[he],N);else{var pe=ie.concat();G.set(S,pe)}}}.call(this,D,f);this._mapSelectMark2Entity.forEach(A),this._mapSelectMark2Entity=f},C.prototype.init=function(){var D=this;D.domElement.addEventListener("mousedown",function(f){if(D.enabled!==!1&&!D.tmpDisable&&f.button==i.MOUSE.LEFT){var A=D.mx.screenCoord2Doc(f.clientX,f.clientY,0),S=D.mx.screenCoordLong2Doc(10),L=l.MxFun.formatString("[{0},{1},{2},{3}]",A.x.toString(),A.y.toString(),"0",S.toString());D.mx.callCommand("Mx_Select",L)}},!1)},C.prototype.mxWebAddEntity=function(D){var f=new c.MxNetData(D),A=f.getSelectMark();this.removeEntity(A);var S=this.mxWebAddEntity_3DChild(f);this.mxWebAddEntity_Curve(f,S)},C.prototype.mxWebAddEntity_3DChild=function(D){var f=D.getMesh();if(f.id==null)return f.size;var A=new i.Mesh(f.geometry,d.MxMaterial.GetBaseColorMaterial(1));this.mx.getScene().add(A);var S=D.getSelectMark();return this.addEntity(S,A),f.size},C.prototype.mxWebAddEntity_Curve=function(D,f){var A=D.getCurve(f);if(A.id!=null){var S=this.mx.getViewWidth(),L=this.mx.getViewHeight();this._material.resolution=new i.Vector2(S,L);for(var N=D.getSelectMark(),G=A.geometry,ie=this.mx.getScene(),le=0;le+1<G.vertices.length;le+=2){var ae=G.vertices[le],he=G.vertices[le+1],pe=new Float32Array(6);pe[0]=ae.x,pe[1]=ae.y,pe[2]=ae.z,pe[3]=he.x,pe[4]=he.y,pe[5]=he.z;var B=new a.MeshLine;B.setGeometry(pe);var se=new i.Mesh(B.geometry,this._material);ie.add(se),this.addEntity(N,se)}}},C);function C(D,f){this.enabled=!0,this.tmpDisable=!1,this.mx=void 0,this.domElement=void 0,this._mapSelectMark2Entity=new Map,this._material=new a.MeshLineMaterial({useMap:!1,color:new i.Color(16711680),opacity:.5,resolution:new i.Vector2(500,500),sizeAttenuation:!1,lineWidth:10,transparent:!0}),this.mx=D,this.domElement=f!==void 0?f:document}r.MxSelect=E},{"./MxFun":34,"./MxMaterial":37,"./MxNetData":38,three:19,"three.meshline":18}],40:[function(e,t,r){var i,a;Object.defineProperty(r,"__esModule",{value:!0}),r.MxShader=void 0,(a=i||(r.MxShader=i={})).VSHADER_COLOR_POINT=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
attribute vec2 position; 
attribute vec3 color; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.VSHADER_COLOR_POINT_BYLAYER=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.FSHADER_COLOR_POINT=` precision highp float; 
varying vec4 vColor; 
void main() { 
gl_FragColor = vColor; 
} 
`,a.VSHADER_COLOR_POINT_TEXTURE=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
attribute vec2 position; 
attribute vec2 uv; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
varying vec2 vUv; 
void main(){ 
vUv = uv; 
mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.FSHADER_COLOR_POINT_TEXTURE=` precision highp float; 
varying vec2 vUv; 
uniform sampler2D texture; 
void main() { 
gl_FragColor = texture2D( texture, vUv ); 
} 
`,a.VSHADER_COLOR_POINT_CLIP=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec3 color; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.VSHADER_COLOR_POINT_BYLAYER_CLIP=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.FSHADER_COLOR_POINT_CLIP=`precision highp float; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main() { 
if(gl_FragCoord.x > vCp1.x && gl_FragCoord.x < vCp2.x && gl_FragCoord.y > vCp1.y && gl_FragCoord.y < vCp2.y) 
gl_FragColor = vColor; 
else 
discard; 
} 
`,a.VSHADER_COLOR_POINT_FORMXCAD=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
gl_PointSize = 1.0;
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.FSHADER_COLOR_POINT_FORMXCAD=` precision highp float; 
varying vec4 vColor; 
void main() { 
gl_FragColor = vColor; 
} 
`,a.VSHADER_COLOR_POINT_CLIP_FORMXCAD=` precision highp float; 
uniform mat4 modelViewMatrix; 
uniform mat4 projectionMatrix; 
uniform vec3 color; 
uniform vec2 clippt1; 
uniform vec2 clippt2; 
uniform float vieww; 
uniform float viewh; 
attribute vec2 position; 
attribute vec4 tran1; 
attribute vec4 tran2; 
attribute vec4 tran3; 
attribute vec4 tran4; 
attribute float ishide; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main(){ 
 mat4 tran; 
tran[0][0] = tran1.x;tran[0][1] = tran1.y;tran[0][2] = tran1.z;tran[0][3] = tran1.w; 
tran[1][0] = tran2.x;tran[1][1] = tran2.y;tran[1][2] = tran2.z;tran[1][3] = tran2.w; 
tran[2][0] = tran3.x;tran[2][1] = tran3.y;tran[2][2] = tran3.z;tran[2][3] = tran3.w; 
tran[3][0] = tran4.x;tran[3][1] = tran4.y;tran[3][2] = tran4.z;tran[3][3] = tran4.w; 
vec4 pt1 = projectionMatrix * modelViewMatrix * vec4( clippt1.x,clippt1.y,0.0, 1.0 ); 
vec4 pt2 = projectionMatrix * modelViewMatrix * vec4( clippt2.x,clippt2.y,0.0, 1.0 ); 
vCp1 = vec2(pt1.x * vieww + vieww,pt1.y * viewh + viewh); 
vCp2 = vec2(pt2.x * vieww + vieww,pt2.y * viewh + viewh); 
if(ishide > 0.1) 
   vColor = vec4(color,0.0); 
else 
   vColor = vec4(color,1.0); 
gl_Position = projectionMatrix * modelViewMatrix * tran *  vec4( position.x,position.y,0.0, 1.0 ); 
} 
`,a.FSHADER_COLOR_POINT_CLIP_FORMXCAD=`precision highp float; 
varying vec4 vColor; 
varying vec2 vCp1; 
varying vec2 vCp2; 
void main() { 
if(gl_FragCoord.x > vCp1.x && gl_FragCoord.x < vCp2.x && gl_FragCoord.y > vCp1.y && gl_FragCoord.y < vCp2.y) 
gl_FragColor = vColor; 
else 
discard; 
} 
`},{}],41:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxStencilObject=void 0;var i=e("three"),a=e("./MxMaterial"),l=(c.prototype.object_onAfterRender=function(d){var E=this.aryMeshStencil;if(E&&0<E.length){d.getContext();var C=d.state.buffers;C.stencil.setLocked(!1),C.depth.setTest(!0),C.stencil.setTest(!1)}},c.prototype.object_onBeforeRender=function(d,E,C){var D=this.aryMeshStencil;if(D&&0<D.length){var f=d.getContext(),A=d.state.buffers;A.color.setMask(!1),A.color.setLocked(!0),A.depth.setTest(!1),A.stencil.setTest(!0),A.stencil.setMask(255),A.stencil.setClear(0),d.clearStencil(),A.stencil.setLocked(!0);var S=1,L=!0;D.forEach(function(N){L?(L=!1,A.stencil.setFunc(f.ALWAYS,S,255),A.stencil.setOp(f.KEEP,f.KEEP,f.REPLACE)):(A.stencil.setFunc(f.EQUAL,S,255),A.stencil.setOp(f.KEEP,f.KEEP,f.INCR),S++),d.mxRenderObject(N,E,C,N.material,null)}),A.color.setLocked(!1),A.color.setMask(!0),A.stencil.setMask(0),A.stencil.setFunc(f.EQUAL,S,255)}},c.prototype.associateObject=function(d,E){var C=this;E.forEach(function(f){if(3<=f.length){var A=new i.Shape(f),S=new i.ShapeGeometry(A),L=new i.Mesh(S,a.MxMaterial.getStencilMaterial());C.aryMeshStencil.push(L)}});var D=this;d.onBeforeRender=function(f,A,S){D.object_onBeforeRender(f,A,S)},d.onAfterRender=function(f){D.object_onAfterRender(f)}},c);function c(){this.aryMeshStencil=[]}r.MxStencilObject=l},{"./MxMaterial":37,three:19}],42:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxString=void 0;var i=(a.prototype.Find=function(l){return this.m_val.indexOf(l)},a.prototype.Left=function(l){return this.m_val.substring(0,l)},a.prototype.Right=function(l){return this.m_val.substring(l+1,this.m_val.length)},a.prototype.TrimLeft=function(l){for(;0<this.m_val.length&&this.m_val[0]==l;)this.m_val=this.m_val.slice(1)},a.prototype.TrimRight=function(l){for(;0<this.m_val.length&&this.m_val[this.m_val.length-1]==l;)this.m_val=this.m_val.slice(0,-1)},a.prototype.AnalyzeString=function(l){return this.m_val.split(l)},a.prototype.IsEmpty=function(){return this.m_val.length==0},a.prototype.MakeUpper=function(){this.m_val=this.m_val.toUpperCase()},a.prototype.MakeLower=function(){this.m_val=this.m_val.toLowerCase()},a.prototype.GetLength=function(){return this.m_val.length},a);function a(l){this.m_val="",l!=null&&(this.m_val=l)}r.MxString=i},{}],43:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSystemVariable=void 0;var i=e("three"),a=e("./Operate/McEdJigOsnap"),l=(c.prototype.init=function(d){this.m_mxObj=d},c.prototype.getAllLinetypeName=function(){return this.m_vecLinetype},c.prototype.getSysVarBool=function(d){return this.m_data[d]!=null&&this.m_data[d]},c.prototype.setSysVarBool=function(d,E){this.m_data[d]=E},c.prototype.setSysVarPoint=function(d,E){this.m_data[d]=E},c.prototype.OnMessageMxCADSystemVariable=function(d){this.m_vecLinetype=[];var E=JSON.parse(d);if(E!=null){var C=E.vecLinetypeName;for(var D in C)this.m_vecLinetype.push(C[D]);this.m_data.CELTYPE=E.curLinetypeName,this.m_data.CLAYER=E.clayer,this.m_data.CECOLOR=E.cecolor,this.m_data.CECOLORINDEX=E.cecolorindex}this.m_mxObj.callEvent("loadSystmeVariableComplete")},c.prototype.getSysVarPoint=function(d){return this.m_data[d]==null?new i.Vector3(0,0,0):this.m_data[d]},c.prototype.setSysVarNumber=function(d,E){this.m_data[d]=E},c.prototype.getSysVarNumber=function(d){return this.m_data[d]==null?0:this.m_data[d]},c.prototype.getSysVar=function(d){return this.m_data[d]},c.prototype.setSysVar=function(d,E){this.m_data[d]=E},c);function c(){this.m_data={},this.m_mxObj=null,this.m_vecLinetype=[],this.m_data.DYNINPUT=!0,this.m_data.GETPOINTSTATUS=0,this.m_data.CELTYPE="Continuous",this.m_data.CLAYER="0",this.m_data.CECOLOR=67108863,this.m_data.CECOLORINDEX=7,this.m_data.OSMODE=a.MxOsnapDefine.OsModeAll}r.MxSystemVariable=l},{"./Operate/McEdJigOsnap":49,three:19}],44:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxThreeJS=void 0;var i,a,l=e("three"),c=e("./MxFun");function d(E){return Math.pow(2,Math.floor(Math.log(E)/Math.LN2))}(a=i||(r.MxThreeJS=i={})).createLine=function(E,C,D,f){var A,S=new l.Geometry;return A=f&&f!=1||f==0?new l.LineBasicMaterial({color:D,transparent:!0,depthTest:!1,opacity:f}):new l.LineBasicMaterial({color:D,transparent:!0,depthTest:!1}),S.vertices.push(E,C),new l.Line(S,A)},a.createCircle=function(E,C,D){var f=new l.CircleGeometry(C,64,3,2*Math.PI),A=new l.LineBasicMaterial({color:D,transparent:!0,depthTest:!1});f.vertices.shift();var S=new l.LineLoop(f,A);return S.position.x=E.x,S.position.y=E.y,S.position.z=E.z,S},a.clacTextSize=function(E,C){var D=document.createElement("canvas").getContext("2d");if(D==null)return C;var f=c.MxFun.formatString("normal {0}px Arial","256");return D.font=f,D.measureText(E).width*C/256},a.clacTextSpriteSize=function(E,C,D){C<=1e-8&&(C=1);var f=document.createElement("canvas"),A=f.getContext("2d"),S=c.MxFun.formatString("normal {0}px Arial","256");A.font=S;var L=C/256,N=0,G=[],ie=!0,le=0;if(D){N=D;for(var ae=0,he=0,pe=0;he<E.length;he++)(B=A.measureText(E.substring(ae,he+1))).width*L>N&&(le+=(B.fontBoundingBoxAscent+B.fontBoundingBoxDescent)*L,G.push(E.substring(ae,he)),ae=he,pe++);if(ae<he){var B=A.measureText(E.substring(ae,he));G.push(E.substring(ae,he)),le+=(B.fontBoundingBoxAscent+B.fontBoundingBoxDescent)*L,pe++}ie=pe<=1}else le=C,N=(B=A.measureText(E)).width*L,G.push(E),ie=!1;var se=le/N*(f.width=1024);return f.height=d(se),f.height<se&&(f.height*=2),f.height==0&&(f.height=512),{spritewidth:N,spriteheight:N*f.height/f.width,textwidth:N,allTextHeight:le,singleline:ie}},a.creatTextSprite=function(E,C,D,f,A,S,L){D<=1e-8&&(D=1);var N=document.createElement("canvas"),G=N.getContext("2d");L?(G.font=L(256),G.font.length==0&&(G.font=c.MxFun.formatString("normal {0}px Arial","256"))):G.font=c.MxFun.formatString("normal {0}px Arial","256");var ie=D/256,le=0,ae=[],he=[],pe=0;if(S){le=S;for(var B=0,se=0;se<E.length;se++)(O=G.measureText(E.substring(B,se+1))).width*ie>le&&(pe+=oe=(O.fontBoundingBoxAscent+O.fontBoundingBoxDescent)*ie,ae.push(E.substring(B,se)),he.push(oe),B=se);if(B<se){var oe,O=G.measureText(E.substring(B,se));ae.push(E.substring(B,se)),pe+=oe=(O.fontBoundingBoxAscent+O.fontBoundingBoxDescent)*ie,he.push(oe)}}else pe=D,le=(O=G.measureText(E)).width*ie,ae.push(E),he.push(pe);var T=pe/le*(N.width=1024);N.height=d(T),N.height<T&&(N.height*=2),N.height==0&&(N.height=512);var ce=1024/le,fe=ce*D;L?(G.font=L(fe),G.font.length==0&&(G.font=c.MxFun.formatString("normal {0}px Arial",""+fe))):G.font=c.MxFun.formatString("normal {0}px Arial",""+fe);var Ee=c.MxFun.formatString("rgba({0}, {1}, {2}, 1.0)",(A>>16&255)+"",(A>>8&255)+"",(255&A)+"");G.fillStyle=Ee,G.textAlign="left",G.textBaseline="bottom";for(var Ae=0,_e=0;Ae<ae.length;Ae++)_e+=ce*he[Ae];for(Ae=0,_e=.5*(N.height-_e);Ae<ae.length;Ae++)_e+=ce*he[Ae],G.fillText(ae[Ae],0,_e);var xe=new l.Texture(N);xe.needsUpdate=!0;var De=new l.SpriteMaterial({transparent:!0,depthTest:!1,map:xe});De.rotation=f;var Le=new l.Sprite(De);return Le.scale.set(le,le/N.width*N.height,1),Le.position.set(C.x,C.y,C.z),Le},a.createTriangle=function(E,C,D){if(!(E.length<3)){for(var f=E.length,A=new l.Geometry,S=0;S+2<f;S+=3){A.vertices.push(E[S]),A.vertices.push(E[S+1]),A.vertices.push(E[S+2]);var L=new l.Face3(S,S+1,S+2);A.faces.push(L)}A.computeFaceNormals(),A.computeVertexNormals(),D==null&&(D=1);var N=new l.MeshBasicMaterial({color:C,transparent:!0,depthTest:!1,side:l.DoubleSide,opacity:D});return new l.Mesh(A,N)}},a.createLines=function(E,C,D){var f,A=new l.Geometry;return A.vertices=E,f=D&&D!=1||D==0?new l.LineBasicMaterial({color:C,transparent:!0,depthTest:!1,opacity:D}):new l.LineBasicMaterial({color:C,transparent:!0,depthTest:!1}),new l.Line(A,f)},a.createDashedLines=function(E,C,D,f){var A=new l.Geometry;A.vertices=E;var S=new l.Line(A,new l.LineDashedMaterial({color:C,dashSize:D,gapSize:f,transparent:!0,depthTest:!1}));return S.computeLineDistances(),S}},{"./MxFun":34,three:19}],45:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxPair=r.MxTools=void 0;var i,a,l=e("three");(a=i||(r.MxTools=i={})).AsMxWebPoint=function(c,d,E){return new l.Vector3(-c,E,d)},a.AsMxWebPoint_pt=function(c){return new l.Vector3(-c.x,c.z,c.y)},a.AsThreeJsPoint=function(c,d,E){return new l.Vector3(-c,E,d)},a.stringTrimLeftSpace=function(c){return c.replace(/^\s*/g,"")},a.stringDeleteAllSpace=function(c){return c.replace(/\s*/g,"")},a.stringTrimLeftRightSpace=function(c){return c.replace(/^\s*|\s*$/g,"")},a.stringTrimRightSpace=function(c){return c.replace(/(\s*$)/g,"")},a.IsNumerical=function(c){if(typeof c=="string"){var d=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!/^\d+(\.\d+)?$/.test(c)&&!d.test(c))}var E=c.m_val;return d=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/,!(!/^\d+(\.\d+)?$/.test(E)&&!d.test(E))},a.formatString=function(c){for(var d=[],E=1;E<arguments.length;E++)d[E-1]=arguments[E];for(var C=0;C<d.length;C++)c=c.replace("{".concat(C,"}"),d[C]);return c},a._tstof=function(c){return parseFloat(c)},a._tstoi=function(c){return parseInt(c)},a.IsZero=function(c){return-1e-7<c&&c<1e-7},a.MillimeterToPixels=function(c){return 10*c},a.getXYPlanDistance=function(c,d){var E=new l.Vector2(c.x,c.y),C=new l.Vector2(d.x,d.y);return E.distanceTo(C)},a.MxASSERT=function(c,d){c||console.log("MxASSERT(0):"+d)},a.generateUUID=function(){return l.MathUtils.generateUUID()},r.MxPair=function(c,d){this.first=c,this.second=d}},{three:19}],46:[function(e,t,r){var i,a,l,c;Object.defineProperty(r,"__esModule",{value:!0}),r.MxType=void 0,(l=(a=i||(r.MxType=i={})).CommandFlags||(a.CommandFlags={}))[l.MCRX_CMD_MODAL=0]="MCRX_CMD_MODAL",l[l.MCRX_CMD_TRANSPARENT=1]="MCRX_CMD_TRANSPARENT",l[l.MCRX_CMD_NO_UNDO_MARKER=2]="MCRX_CMD_NO_UNDO_MARKER",l[l.MCRX_CMD_NOPRV=4]="MCRX_CMD_NOPRV",(c=a.MxCloneType||(a.MxCloneType={}))[c.kClone=1]="kClone",c[c.kDragClone=2]="kDragClone",c[c.kMxFileClone=3]="kMxFileClone",c[c.kSaveDwgClone=4]="kSaveDwgClone"},{}],47:[function(e,t,r){var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MxBulid=void 0,window.MxDrawVersion="1.0(2023-07-04 10:43)",(i||(r.MxBulid=i={})).getVersion=function(){return window.MxDrawVersion?window.MxDrawVersion:"inalid version"}},{}],48:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxWindowsEvent=void 0;var i,a,l,c,d,E=e("./MxFun"),C=e("./Operate/MxJigCmdManager"),D=e("three"),f=e("./MxDrawData");function A(le,ae){for(var he=0,pe=d.length;he<pe;he++){var B=d[he](le,ae);if(B!=0)return B}}function S(le){c.x=le.offsetX,c.y=le.offsetY,A("mousemove",le)}function L(le){A("mouseup",le)}function N(le){A("dblclick",le)}function G(le){c.x=le.offsetX,c.y=le.offsetY,A("mousedown",le)}function ie(le){var ae=le||window.event||arguments.callee.caller.arguments[0];if(ae&&ae.keyCode==27)if(f.MxDrawData.m_isEnableIntelliSelect&&!C.MxJigCmdManager.isRunning()){var he=!1,pe=E.MxFun.getCurrentMx(),B=pe.getMxCAD();if(B){var se=B.getSelect().clearAllSelect(),oe=B.getGrip().clearAll();(se||oe)&&(he=!0)}pe.getMxDatabase().getGripManager().removeAllGrips()&&(he=!0),pe.getMxDatabase().getSelectManager().removeAllEntity()&&(he=!0),pe.isValidMcObject()&&pe.getMcObject().getGripManager().clearAll()&&(he=!0),he&&pe.updateDisplay()}else C.MxJigCmdManager.isRunning()&&C.MxJigCmdManager.stopCmd()}a=i||(r.MxWindowsEvent=i={}),l=!1,c=new D.Vector2(0,0),d=new Array,a.addEvent=function(le){d.push(le)},a.getCurrentMousePostion=function(){return c},a.registEvent=function(){l||(l=!0,E.MxFun.isPC()&&(document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",L,!1),document.addEventListener("mousedown",G,!1),document.addEventListener("dblclick",N,!1),document.onkeydown=ie))}},{"./MxDrawData":29,"./MxFun":34,"./Operate/MxJigCmdManager":58,three:19}],49:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McEdJigOsnap=r.McEdImpJigGlobalData=r.MxOsnapDefine=void 0;var i,a,l,c,d,E,C,D,f,A,S,L=e("three"),N=e("../MxDrawObject"),G=e("../MxFun"),ie=e("./MxJigCmdManager"),le=e("../MxTools"),ae=e("../MxDrawData"),he=e("../MxWindowsEvent");(a=i||(r.MxOsnapDefine=i={}))[a.OsModeInvalid=0]="OsModeInvalid",a[a.OsModeEnd=1]="OsModeEnd",a[a.OsModeMid=2]="OsModeMid",a[a.OsModeCen=4]="OsModeCen",a[a.OsModeNode=8]="OsModeNode",a[a.OsModeQuad=16]="OsModeQuad",a[a.OsModeInt=32]="OsModeInt",a[a.OsModeIns=64]="OsModeIns",a[a.OsModePerp=128]="OsModePerp",a[a.OsModeTan=256]="OsModeTan",a[a.OsModeNear=512]="OsModeNear",a[a.OsModeApp=2048]="OsModeApp",a[a.OsModeExt=4096]="OsModeExt",a[a.OsModePar=8192]="OsModePar",a[a.OsModeOff=16384]="OsModeOff",a[a.OsModeAll=16383]="OsModeAll",c=l||(r.McEdImpJigGlobalData=l={}),d=!1,E=new L.Vector3,C=new L.Vector3,D=0,A=f=!1,S=new Array,c.setPrvPoint=function(O){E=O,A=!0},c.isOsnapZValue=function(){return!1},c.setIsValidPrvpoint=function(O){A=O},c.isValidPrvpoint=function(){return A},c.getPrvPoint=function(){return E},c.setIsValidBasepoint=function(O){d=O},c.isValidBasepoint=function(){return d},c.setBasepoint=function(O){d=!0,C=O},c.getBasepoint=function(){return C},c.initStartCommand=function(){f=d=!1},c.setIsTmpDisableOsmode=function(O){f=O},c.isTmpDisableOsmode=function(){return f},c.intiStartDrag=function(O){D=O.sysVariable().getSysVarNumber("OSMODE")},c.isEnableOsmode=function(){return!(D==0||D&i.OsModeOff||f)},c.getOSmode=function(){return D},c.addDynDrawObject=function(O){S.push(O)},c.clearDisplay=function(O){for(var T=S.length,ce=0;ce<T;ce++)G.MxFun.removeThreejsObject(S[ce],O);S=[]};var pe=(B.prototype.drawLine=function(O,T,ce){var fe=new L.Geometry,Ee=new L.LineBasicMaterial({color:this.m_iColor});fe.vertices.push(new L.Vector3(O.x,O.y,O.z),new L.Vector3(T.x,T.y,T.z));var Ae=new L.Line(fe,Ee);ce.add(Ae),l.addDynDrawObject(Ae)},B.prototype.drawPolyline=function(O,T){for(var ce=new L.Geometry,fe=new L.LineBasicMaterial({color:this.m_iColor}),Ee=O.length,Ae=0;Ae<Ee;Ae++)ce.vertices.push(new L.Vector3(O[Ae].x,O[Ae].y,O[Ae].z));var _e=new L.Line(ce,fe);T.add(_e),l.addDynDrawObject(_e)},B.prototype.setWidth=function(O){this.m_dOsmodeWdith=O},B.prototype.GetDrawRect=function(){var O=.5*this.m_dOsmodeWdith,T={};return T.left=this.m_pt.x-O,T.right=this.m_pt.x+O,T.top=this.m_pt.y-O,T.bottom=this.m_pt.y+O,T},B.prototype.DrawNear=function(O){var T=this.GetDrawRect(),ce=[new L.Vector3,new L.Vector3];ce[0].x=T.left,ce[0].y=T.top,ce[1].x=T.right,ce[1].y=T.top,this.drawLine(ce[0],ce[1],O),ce[0].x=T.left,ce[0].y=T.bottom,ce[1].x=T.right,ce[1].y=T.bottom,this.drawLine(ce[0],ce[1],O),ce[0].x=T.right,ce[0].y=T.top,ce[1].x=T.left,ce[1].y=T.bottom,this.drawLine(ce[0],ce[1],O),ce[0].x=T.right,ce[0].y=T.bottom,ce[1].x=T.left,ce[1].y=T.top,this.drawLine(ce[0],ce[1],O)},B.prototype.DrawEnd=function(O){var T=this.GetDrawRect(),ce=[new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3];ce[0].x=T.left,ce[0].y=T.top,ce[1].x=T.right,ce[1].y=T.top,ce[2].x=T.right,ce[2].y=T.bottom,ce[3].x=T.left,ce[3].y=T.bottom,this.drawLine(ce[0],ce[1],O),this.drawLine(ce[1],ce[2],O),this.drawLine(ce[2],ce[3],O),this.drawLine(ce[3],ce[0],O)},B.prototype.DrawMid=function(O){var T=this.GetDrawRect(),ce=1.2*(T.right-T.left),fe=ce/2/Math.sin(60*3.14159265/180),Ee=fe*Math.sin(.5235987750000001),Ae=new L.Vector3(this.m_pt.x,this.m_pt.y,this.m_pt.z);Ae.y-=fe;var _e=new L.Vector3;_e.x=this.m_pt.x+ce/2,_e.y=this.m_pt.y+Ee;var xe=new L.Vector3;xe.x=this.m_pt.x-ce/2,xe.y=this.m_pt.y+Ee;var De=[new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3];De[0].x=Ae.x,De[0].y=Ae.y,De[1].x=_e.x,De[1].y=_e.y,De[2].x=xe.x,De[2].y=xe.y,De[3].x=Ae.x,De[3].y=Ae.y,this.drawLine(De[0],De[1],O),this.drawLine(De[1],De[2],O),this.drawLine(De[2],De[3],O)},B.prototype.DrawPerp=function(O){var T=this.GetDrawRect(),ce=[new L.Vector3,new L.Vector3,new L.Vector3];ce[0].x=T.left,ce[0].y=T.top,ce[1].x=T.left,ce[1].y=T.bottom,ce[2].x=T.right,ce[2].y=T.bottom,this.drawPolyline(ce,O),ce[0].x=T.left,ce[0].y=this.m_pt.y,ce[1].x=this.m_pt.x,ce[1].y=this.m_pt.y,ce[2].x=this.m_pt.x,ce[2].y=T.bottom,this.drawPolyline(ce,O)},B.prototype.DrawCircle=function(O,T,ce){ce==null&&(ce=.5*this.m_dOsmodeWdith);for(var fe=[],Ee=0,Ae=3.14159265/180;Ee<=360;Ee+=15){var _e=ce*Math.cos(Ee*Ae)+O.x,xe=ce*Math.sin(Ee*Ae)+O.y;fe.push(new L.Vector3(_e,xe))}this.drawPolyline(fe,T)},B.prototype.DrawInt=function(O){var T=this.GetDrawRect(),ce=[new L.Vector3,new L.Vector3];ce[0].x=T.right,ce[0].y=T.top,ce[1].x=T.left,ce[1].y=T.bottom,this.drawLine(ce[0],ce[1],O),ce[0].x=T.right,ce[0].y=T.bottom,ce[1].x=T.left,ce[1].y=T.top,this.drawLine(ce[0],ce[1],O)},B.prototype.DrawCen=function(O){this.DrawInt(O),this.DrawCircle(this.m_pt,O)},B.prototype.DrawTan=function(O){this.DrawEnd(O)},B.prototype.DrawIns=function(O){var T=this.GetDrawRect(),ce={},fe=(T.right-T.left)/1.5;ce.left=this.m_pt.x-fe,ce.right=this.m_pt.x+fe,ce.top=this.m_pt.y-fe,ce.bottom=this.m_pt.y+fe;var Ee=this.m_pt.x,Ae=this.m_pt.y,_e=[new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3];_e[0].x=ce.left,_e[0].y=ce.top,_e[1].x=ce.left,_e[1].y=Ae+2,_e[2].x=Ee,_e[2].y=Ae+2,_e[3].x=Ee,_e[3].y=ce.bottom,_e[4].x=ce.right,_e[4].y=ce.bottom,_e[5].x=ce.right,_e[5].y=Ae-2,_e[6].x=Ee,_e[6].y=Ae-2,_e[7].x=Ee,_e[7].y=ce.top,_e[8].x=ce.left,_e[8].y=ce.top,this.drawPolyline(_e,O)},B.prototype.DrawNode=function(O){var T=this.GetDrawRect(),ce={},fe=(T.right-T.left)/1.5;ce.left=this.m_pt.x-fe,ce.right=this.m_pt.x+fe,ce.top=this.m_pt.y-fe,ce.bottom=this.m_pt.y+fe;var Ee=this.m_dOsmodeWdith/1.3;this.m_pt.x,this.m_pt.x,this.m_pt.y,this.m_pt.y;var Ae=[new L.Vector3,new L.Vector3,new L.Vector3,new L.Vector3];Ae[0].x=ce.left,Ae[0].y=ce.top,Ae[1].x=ce.right,Ae[1].y=ce.bottom,Ae[2].x=ce.left,Ae[2].y=ce.bottom,Ae[3].x=ce.right,Ae[3].y=ce.top,this.drawLine(Ae[0],Ae[1],O),this.drawLine(Ae[2],Ae[3],O),this.DrawCircle(this.m_pt,O,Ee)},B.prototype.upDisplay=function(O,T,ce){this.m_pt=O,this.m_osmode=T,this.clearDisplay(ce);var fe=ce.getMxObject().getTheTempDrawContainer(),Ee=.5*this.m_dOsmodeWdith;if(this.m_osmode!=ie.MxJigCmdManager.OsnapMode.kOsModekValid)if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeNear)this.DrawNear(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeEnd)this.DrawEnd(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeMid)this.DrawMid(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModePerp)this.DrawPerp(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeInt)this.DrawInt(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeCen)this.DrawCen(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeTan)this.DrawTan(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeIns)this.DrawIns(fe);else if(this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModeNode)this.DrawNode(fe);else{var Ae=new L.Vector3(O.x-Ee,O.y-Ee,0),_e=new L.Vector3(O.x+Ee,O.y+Ee,0);this.drawLine(Ae,_e,fe);var xe=new L.Vector3(O.x-Ee,O.y+Ee,0),De=new L.Vector3(O.x+Ee,O.y-Ee,0);this.drawLine(xe,De,fe)}},B.prototype.clearDisplay=function(O){var T=O.getMxObject().getTheTempDrawContainer();l.clearDisplay(T)},B);function B(){this.m_iColor=16711935,this.m_pt=new L.Vector3,this.m_osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_dOsmodeWdith=10}var se=(oe.prototype.resetData=function(){this.m_osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_isValidPrvInputPoint=!1,this.m_lOSmode=0,this.m_vecOffset.set(0,0,0),this.m_isValid=!1,this.m_iLongprogressStatus=-1},oe.prototype.notifyOsnapToServer=function(){var O=this;if(this.m_isRuning){var T={ptx:this.m_pt.x,pty:this.m_pt.y,osmode:this.m_lOSmode,isValidPrvInputPoint:this.m_isValidPrvInputPoint};this.m_isValidPrvInputPoint&&(T.prvPtx=this.m_prvInputPoint.x,T.prvPty=this.m_prvInputPoint.y);var ce=this.m_mxJig.getMxObject();if(ce.getRunMode()==N.MxRunMode.kBrowse){var fe=this,Ee=he.MxWindowsEvent.getCurrentMousePostion();ce.getObjectOsnap().getOsnapData(Ee,function(xe,De){xe=ce.worldCoord2Doc(xe.x,xe.y,xe.z),fe.m_ptSnapPoint.x=xe.x,fe.m_ptSnapPoint.y=xe.y,fe.m_ptSnapPoint.z=0,fe.m_ptSnapSrcPoint.x=fe.m_pt.x,fe.m_ptSnapSrcPoint.y=fe.m_pt.y,fe.m_ptSnapSrcPoint.z=0,fe.m_osmode=De,fe.m_draw.setWidth(ce.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels())),fe.m_draw.upDisplay(new L.Vector3(xe.x,xe.y,0),De,fe.m_mxJig)})}else if(ce.getRunMode()==N.MxRunMode.kCPPMxCAD){var Ae=this;T.SearchRnge=ce.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels()),ce.getMcObject().onNotifyOsnap(T,function(xe){O.m_ptSnapPoint.x=xe.ptsx,O.m_ptSnapPoint.y=xe.ptsy,O.m_ptSnapPoint.z=xe.ptsz,O.m_ptSnapSrcPoint.x=xe.ptx,O.m_ptSnapSrcPoint.y=xe.pty,O.m_ptSnapSrcPoint.z=0,O.m_osmode=xe.osmode,Ae.m_draw.setWidth(ce.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels())),Ae.m_draw.upDisplay(new L.Vector3(xe.ptsx,xe.ptsy,xe.ptsz),xe.osmode,Ae.m_mxJig)})}else{T.SearchRnge=ce.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels());var _e=this;ce.callCommand("MxCAD_NotifyOsnap",JSON.stringify(T),function(xe){if(!(typeof xe!="string"||xe.length<1)&&_e.m_isRuning){var De=JSON.parse(xe);O.m_ptSnapPoint.x=De.ptsx,O.m_ptSnapPoint.y=De.ptsy,O.m_ptSnapPoint.z=De.ptsz,O.m_ptSnapSrcPoint.x=De.ptx,O.m_ptSnapSrcPoint.y=De.pty,O.m_ptSnapSrcPoint.z=0,O.m_osmode=De.osmode,_e.m_draw.setWidth(ce.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels())),_e.m_draw.upDisplay(new L.Vector3(De.ptsx,De.ptsy,De.ptsz),De.osmode,_e.m_mxJig)}})}}},oe.prototype.startDrag=function(O,T){this.m_mxJig=T;var ce,fe,Ee=this.m_mxJig.getMxObject();function Ae(){ce.notifyOsnapToServer()}return T.isDisableOsnap()?this.m_isEnable=!1:this.m_isEnable=Ee.getInisetValue(N.IniSetName.kEnableOsnapFunction)===!0,this.m_isOffsetInputPostion=O,this.m_isRuning=!0,this.m_draw.setWidth(Ee.screenCoordLong2Doc(ae.MxDrawData.getCursorWidthPixels())),this.resetData(),this.m_notifyOsnap_delayCall=(ce=this,fe=null,function(){clearTimeout(fe),fe=setTimeout(Ae,40)}),!0},oe.prototype.endDrag=function(){return this.m_isRuning=!1,this.m_draw.clearDisplay(this.m_mxJig),!0},oe.prototype.reCompteCurrentPoint=function(O){return O},oe.prototype.isEnable=function(){return this.m_isEnable&&l.isEnableOsmode()},oe.prototype.notifyOsnap=function(O,T){this.m_lOSmode=O,T==null?this.m_isValidPrvInputPoint=!1:(this.m_isValidPrvInputPoint=!0,this.m_prvInputPoint=T),this.m_osmode==ie.MxJigCmdManager.OsnapMode.kOsModekValid&&this.m_draw.clearDisplay(this.m_mxJig),this.m_notifyOsnap_delayCall()},oe.prototype.setPoint=function(O,T){if(this.isEnable()){O==null?(this.m_isValid=!1,this.m_osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid):(this.m_iLongprogressStatus==-1||this.m_iLongprogressStatus,this.m_pt=O,this.m_inPoint=O,this.m_isValid=!0,(T==null||this.m_osmode!=ie.MxJigCmdManager.OsnapMode.kOsModekValid&&le.MxTools.getXYPlanDistance(this.m_ptSnapSrcPoint,O)>T)&&(this.m_osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid));var ce=l.getOSmode(),fe=l.getPrvPoint();this.notifyOsnap(ce,l.isValidPrvpoint()?fe:void 0)}},oe.prototype.seInValidPoint=function(){this.setPoint(void 0)},oe.prototype.getCurrentOSnapPoint=function(O){var T={};return this.isEnable()?(T.pt=O,T.osmode=this.m_osmode,this.m_osmode!=ie.MxJigCmdManager.OsnapMode.kOsModekValid?(T.pt.x=this.m_ptSnapPoint.x,T.pt.y=this.m_ptSnapPoint.y,T.pt.z=this.m_ptSnapPoint.z,l.isOsnapZValue()||(O.z=0)):T.pt=O):(T.pt=O,T.osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid),T},oe.prototype.setLongprogressStatus=function(O){this.m_iLongprogressStatus=O},oe.prototype.reComputeOffset=function(){},oe);function oe(O){this.m_inPoint=new L.Vector3,this.m_vecOffset=new L.Vector3,this.m_pt=new L.Vector3,this.m_isValid=!1,this.m_ptSnapPoint=new L.Vector3,this.m_ptSnapSrcPoint=new L.Vector3,this.m_osmode=ie.MxJigCmdManager.OsnapMode.kOsModekValid,this.m_prvInputPoint=new L.Vector3,this.m_isValidPrvInputPoint=!1,this.m_lOSmode=0,this.m_iLongprogressStatus=-1,this.m_isOffsetInputPostion=!1,this.m_mxJig=null,this.m_notifyOsnap_delayCall=void 0,this.m_isRuning=!1,this.m_isEnable=!1,this.m_mxJig=O,this.m_draw=new pe}r.McEdJigOsnap=se},{"../MxDrawData":29,"../MxDrawObject":30,"../MxFun":34,"../MxTools":45,"../MxWindowsEvent":48,"./MxJigCmdManager":58,three:19}],50:[function(e,t,r){var i,a=this&&this.__extends||(i=function(G,ie){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ae){le.__proto__=ae}||function(le,ae){for(var he in ae)Object.prototype.hasOwnProperty.call(ae,he)&&(le[he]=ae[he])})(G,ie)},function(G,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function le(){this.constructor=G}i(G,ie),G.prototype=ie===null?Object.create(ie):(le.prototype=ie.prototype,new le)});Object.defineProperty(r,"__esModule",{value:!0}),r.McGiWorldDrawSelect=r.McGiWorldDraw=r.McGiWorldDrawType=void 0;var l,c,d=e("three"),E=e("../MxThreeJS"),C=e("../MxManager"),D=e("three.meshline");(c=l||(r.McGiWorldDrawType=l={}))[c.kWorldDraw=1]="kWorldDraw",c[c.kDynDragDraw=2]="kDynDragDraw",c[c.kSelectDraw=3]="kSelectDraw";var f=(A.prototype.getType=function(){return this.worldDrawType},A.prototype.setXData=function(G){this.xData=G},A.prototype.setMatrix=function(G){this.matrix=G},A.prototype.getMatrix=function(){return this.matrix},A.prototype.setOpacity=function(G){this.opacity=G},A.prototype.getOpacity=function(){return this.opacity},A.prototype.setColor=function(G){this.iColor!=G&&(this.widthMaterial=null),this.iColor=G},A.prototype.setDash=function(G,ie){this.dDashArray=G,this.dDashRatio=ie},A.prototype.getDash=function(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}},A.prototype.setDashLineDisplay=function(G){G?(this.dDashArray=.03,this.dDashRatio=.1,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0)},A.prototype.isDashLineDisplay=function(){return 0<this.dDashArray&&0<this.dDashRatio},A.prototype.getColor=function(){return this.iColor},A.prototype.setRenderOrder=function(G){this.iRenderOrder=G},A.prototype.getRenderOrder=function(){return this.iRenderOrder},A.prototype.setLineWidthByPixels=function(G){this.lineWidthByPixels!=G&&(this.widthMaterial=null),this.lineWidthByPixels=G},A.prototype.getLineWidthByPixels=function(){return this.lineWidthByPixels},A.prototype.setLineWidth=function(G){this.dLineWidth!=G&&(this.widthMaterial=null),this.dLineWidth=G},A.prototype.getLineWidth=function(){return this.dLineWidth},A.prototype.drawEntity=function(G){var ie=this.iRenderOrder;G.type=="Group"?G.traverse(function(le){le.type!="Group"&&(le.renderOrder=ie)}):G.renderOrder=ie,this.matrix!=null&&G.applyMatrix4(this.matrix),this.aryEntity.push(G),this.xData&&(G.MxWordDrawXData=this.xData,this.xData=null)},A.prototype.getEntitys=function(){return this.aryEntity},A.prototype.getMxObject=function(){return this.mxObj},A.prototype.createWidthMaterial=function(){this.widthMaterial==null&&(0<this.dDashArray&&0<this.dDashRatio?this.widthMaterial=new D.MeshLineMaterial({useMap:!1,color:this.iColor,opacity:1,resolution:new d.Vector2(this.mxObj.getViewWidth(),this.mxObj.getViewHeight()),sizeAttenuation:!this.lineWidthByPixels,lineWidth:this.dLineWidth,transparent:!0,depthTest:!1,dashArray:this.dDashArray,dashRatio:this.dDashRatio}):this.widthMaterial=new D.MeshLineMaterial({useMap:!1,color:this.iColor,opacity:1,resolution:new d.Vector2(this.mxObj.getViewWidth(),this.mxObj.getViewHeight()),sizeAttenuation:!this.lineWidthByPixels,lineWidth:this.dLineWidth,transparent:!0,depthTest:!1}))},A.prototype.drawSolid=function(G){if(!(G.length<3)){var ie=new d.Shape(G.map(function(he){var pe=he.x,B=he.y;return new d.Vector2(pe,B)})),le=new d.ShapeGeometry(ie),ae=new d.Mesh(le,new d.MeshPhongMaterial({color:this.getColor(),side:d.DoubleSide,transparent:!0,opacity:this.getOpacity()}));this.drawEntity(ae)}},A.prototype.drawLines=function(G){if(!(G.length<2))if(this.dLineWidth!=0){this.createWidthMaterial();var ie=new d.Geometry;ie.vertices=G;var le=new D.MeshLine;le.setGeometry(ie);var ae=new d.Mesh(le.geometry,this.widthMaterial);this.drawEntity(ae),this.drawEntity(E.MxThreeJS.createLines(G.slice(0),this.iColor,0))}else this.drawEntity(E.MxThreeJS.createLines(G.slice(0),this.iColor,this.opacity))},A.prototype.drawGeometryLines=function(G){if(!(G.vertices.length<2))if(this.dLineWidth!=0){this.createWidthMaterial();var ie=new D.MeshLine;if(!(G instanceof d.Geometry)){var le=new d.Geometry;le.vertices=G.vertices,G=le}ie.setGeometry(G);var ae=new d.Mesh(ie.geometry,this.widthMaterial);this.drawEntity(ae);var he=new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1,opacity:0}),pe=new d.Line(G,he);this.drawEntity(pe)}else he=void 0,he=this.opacity&&this.opacity!=1||this.opacity==0?new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1,opacity:this.opacity}):new d.LineBasicMaterial({color:this.iColor,transparent:!0,depthTest:!1}),pe=new d.Line(G,he),this.drawEntity(pe)},A.prototype.drawSelectLine=function(G,ie,le,ae){G instanceof Object&&ie instanceof Object?this.drawEntity(E.MxThreeJS.createLine(G,ie,this.iColor,0)):typeof G=="number"&&typeof ie=="number"&&this.drawEntity(E.MxThreeJS.createLine(new d.Vector3(G,ie,0),new d.Vector3(le,ae,0),this.iColor,0))},A.prototype.drawLine=function(G,ie,le,ae){var he,pe;if(G instanceof Object&&ie instanceof Object?(he=G,pe=ie):typeof G=="number"&&typeof ie=="number"&&(he=new d.Vector3(G,ie,0),pe=new d.Vector3(le,ae,0)),this.dLineWidth!=0){this.createWidthMaterial();var B=new Float32Array(6);B[0]=he.x,B[1]=he.y,B[2]=0,B[3]=pe.x,B[4]=pe.y,B[5]=0;var se=new D.MeshLine;se.setGeometry(B);var oe=new d.Mesh(se.geometry,this.widthMaterial);oe.renderOrder=this.iRenderOrder,this.drawEntity(oe),this.drawSelectLine(he,pe)}else this.drawEntity(E.MxThreeJS.createLine(he,pe,this.iColor,this.opacity))},A.prototype.drawCircle=function(G,ie){this.drawEntity(E.MxThreeJS.createCircle(G,ie,this.iColor))},A.prototype.drawText=function(G,ie,le,ae,he,pe){var B=E.MxThreeJS.creatTextSprite(G,ae,ie,le,this.iColor,he,pe);return this.drawEntity(B),B},A.prototype.setupForEntity=function(G){this.iColor=G.getColor(),this.iRenderOrder=G.getRenderOrder(),this.opacity=G.opacity,this.dLineWidth=G.getLineWidth(),this.lineWidthByPixels=G.getLineWidthByPixels(),this.dDashArray=G.getDash().dDashArray,this.dDashRatio=G.getDash().dDashRatio},A);function A(G,ie){this.aryEntity=[],this.iColor=16777215,this.dLineWidth=0,this.lineWidthByPixels=!0,this.iRenderOrder=C.MxData.iMxEntityRenderOrder,this.worldDrawType=1,this.widthMaterial=null,this.dDashArray=0,this.dDashRatio=0,this.matrix=null,this.opacity=1,this.xData=null,this.mxObj=G,this.worldDrawType=ie}r.McGiWorldDraw=f;var S,L=(a(N,S=f),N.prototype.setCurEntityId=function(G){this.curEntityId=G},N.prototype.drawEntity=function(G){},N.prototype.drawText=function(G,ie,le,ae,he,pe){return null},N.prototype.drawSelectLine=function(G,ie,le,ae){},N.prototype.isValid=function(){return this.curEntityId!=0||(console.log("this.curEntityId == 0"),!1)},N.prototype.drawLine=function(G,ie,le,ae){var he,pe;this.isValid()&&(G instanceof Object&&ie instanceof Object?(he=G,pe=ie):typeof G=="number"&&typeof ie=="number"&&(he=new d.Vector3(G,ie,0),pe=new d.Vector3(le,ae,0)),this.selectManager.addLineDisplay(this.curEntityId,he,pe))},N.prototype.drawCircle=function(G,ie){this.isValid()&&this.selectManager.addCircleDisplay(this.curEntityId,G,ie)},N.prototype.drawLines=function(G){if(!(G.length<2))for(var ie=G.length,le=0;le<ie-1;le++)this.selectManager.addLineDisplay(this.curEntityId,G[le],G[le+1])},N);function N(G,ie){var le=S.call(this,G,l.kSelectDraw)||this;return le.selectManager=ie,le.curEntityId=0,le}r.McGiWorldDrawSelect=L},{"../MxManager":36,"../MxThreeJS":44,three:19,"three.meshline":18}],51:[function(e,t,r){var i,a=this&&this.__extends||(i=function(pe,B){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,oe){se.__proto__=oe}||function(se,oe){for(var O in oe)Object.prototype.hasOwnProperty.call(oe,O)&&(se[O]=oe[O])})(pe,B)},function(pe,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function se(){this.constructor=pe}i(pe,B),pe.prototype=B===null?Object.create(B):(se.prototype=B.prototype,new se)});Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUiPrBase=r.MrxDbgUiPrBase_Return=r.McEdGetPointWorldDrawObject=r.McEdGetPointWorldDraw=void 0;var l=e("./MxJig"),c=e("./MxJigCmdManager"),d=e("../MxThreeJS"),E=e("../UI/MxUiVue"),C=e("../MxString"),D=e("./McGiWorldDraw"),f=(A.prototype.setMcEdJig=function(pe){this.m_pJig=pe},A.prototype.setColor=function(pe){this.m_iColor=pe},A.prototype.getColor=function(){return this.m_iColor},A.prototype.drawLine=function(pe,B){this.m_pJig.drawEntity(d.MxThreeJS.createLine(pe,B,this.m_iColor))},A.prototype.drawMcDbEntity=function(pe){this.m_pJig.drawMcDbEntity(pe)},A.prototype.drawMcDbLine=function(pe,B,se,oe,O,T){this.m_pJig.drawMcDbLine(pe,B,se,oe,O,T)},A.prototype.drawCircle=function(pe,B){this.m_pJig.drawEntity(d.MxThreeJS.createCircle(pe,B,this.m_iColor))},A.prototype.drawEntity=function(pe,B){this.m_pJig.drawEntity(pe,B)},A.prototype.drawText=function(pe,B,se,oe){var O=d.MxThreeJS.creatTextSprite(pe,oe,B,se,this.m_iColor);this.drawEntity(O)},A.prototype.drawCustomEntity=function(pe,B){var se=new D.McGiWorldDraw(this.m_pJig.getMxObject(),D.McGiWorldDrawType.kDynDragDraw);se.setupForEntity(pe),pe.worldDraw(se);for(var oe=se.getEntitys(),O=oe.length,T=0;T<O;T++)this.drawEntity(oe[T],B)},A);function A(){this.m_pJig=null,this.m_iColor=16777215}r.McEdGetPointWorldDraw=f;var S,L,N,G=(a(ie,S=f),ie.prototype.setDraw=function(pe){this.m_callDraw=pe},ie.prototype.worldDraw=function(pe){this.m_callDraw!=null&&this.m_callDraw(pe,this)},ie);function ie(){var pe=S!==null&&S.apply(this,arguments)||this;return pe.m_callDraw=void 0,pe}r.McEdGetPointWorldDrawObject=G,(N=L||(r.MrxDbgUiPrBase_Return=L={}))[N.kCancel=-2]="kCancel",N[N.kNone=-1]="kNone",N[N.kOk=0]="kOk",N[N.kKeyWord=1]="kKeyWord";var le,ae=(a(he,le=l.McEdJigCommand),he.prototype.procInKeyword=function(pe){pe.status>=c.MxJigCmdManager.DragStatus.kKW1&&0<pe.sKeyValue.length?this.m_keyWordPicked=pe.sKeyValue.toUpperCase():this.m_keyWordPicked=""},he.prototype.getReturnStatus=function(pe){switch(pe){case c.MxJigCmdManager.DragStatus.kNoChange:return L.kNone;case c.MxJigCmdManager.DragStatus.kCancel:return L.kCancel;case c.MxJigCmdManager.DragStatus.kNull:return L.kNone;case c.MxJigCmdManager.DragStatus.kNormal:return L.kOk}return 1<=pe?L.kKeyWord:L.kCancel},he.prototype.setCursorType=function(pe){this.m_cursorType=pe},he.prototype.getCursorType=function(){return this.m_cursorType},he.prototype.setInputToucheType=function(pe){this.m_toucheType=pe},he.prototype.getInputToucheType=function(){return this.m_toucheType},he.prototype.keyWords=function(){return this.m_keyWords},he.prototype.setKeyWords=function(pe){this.m_keyWords=pe},he.prototype.message=function(){return this.m_message},he.prototype.setMessage=function(pe){this.m_message=pe},he.prototype.keyWordPicked=function(){return this.m_keyWordPicked},he.prototype.isKeyWordPicked=function(pe){return pe=pe.toUpperCase(),this.m_keyWordPicked==pe},he.prototype.setUserDraw=function(pe){pe.setMcEdJig(this),this.m_pWorldDraw=pe},he.prototype.printMessage=function(){var pe=new C.MxString(this.m_message);pe.TrimRight(":"),1<this.m_keyWords.length&&this.m_keyWords[0]=="["&&this.m_keyWords[this.m_keyWords.length-1]=="]"?E.MxUiVue.acutPrintf(pe.m_val+" \u6216"+this.m_keyWords+":"):E.MxUiVue.acutPrintf(pe.m_val+":")},he);function he(){var pe=le!==null&&le.apply(this,arguments)||this;return pe.m_keyWords="",pe.m_message="",pe.m_keyWordPicked="",pe.m_pWorldDraw=null,pe.m_toucheType=c.MxJigCmdManager.InType.kGetBegan,pe.m_cursorType=E.MxUiVue.CursorType.kNormal,pe}r.MrxDbgUiPrBase=ae},{"../MxString":42,"../MxThreeJS":44,"../UI/MxUiVue":67,"./McGiWorldDraw":50,"./MxJig":57,"./MxJigCmdManager":58}],52:[function(e,t,r){var i,a=this&&this.__extends||(i=function(N,G){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,le){ie.__proto__=le}||function(ie,le){for(var ae in le)Object.prototype.hasOwnProperty.call(le,ae)&&(ie[ae]=le[ae])})(N,G)},function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function ie(){this.constructor=N}i(N,G),N.prototype=G===null?Object.create(G):(ie.prototype=G.prototype,new ie)});Object.defineProperty(r,"__esModule",{value:!0}),r.MrxDbgUiPrPoint=void 0;var l,c=e("three"),d=e("./MxJigCmdManager"),E=e("../MxFun"),C=e("./MrxDbgUiPrBase"),D=e("../UI/MxUiVue"),f=e("../MxThreeJS"),A=e("../MxManager"),S=(a(L,l=C.MrxDbgUiPrBase),L.prototype.value=function(){return new c.Vector3(this.m_value.x,this.m_value.y,0)},L.prototype.getCADValue=function(){return A.MxManager.getMxCpp().NewMdGePoint3d(A.MxManager.currentMx().docCoord2Cad(this.m_value.x,this.m_value.y,0))},L.prototype.basePt=function(){return new c.Vector3(this.m_basePt.x,this.m_basePt.y,0)},L.prototype.setBasePt=function(N){this.m_basePt==null?this.m_basePt=new c.Vector3(N.x,N.y,0):(this.m_basePt.x=N.x,this.m_basePt.y=N.y)},L.prototype.setUseBasePt=function(N){this.m_useBasePt=N},L.prototype.initGo=function(){this.m_keyWordPicked="",this.m_retcall=null,this.m_retWhileCall=null,this.m_exitCall=null},L.prototype.go=function(N){this.initGo(),this.m_retcall=N,d.MxJigCmdManager.runCmd(this)},L.prototype.goWhile=function(N,G){this.initGo(),this.m_retWhileCall=N,G&&(this.m_exitCall=G),d.MxJigCmdManager.runCmd(this)},L.prototype.onExitCommand=function(){var N=this;D.MxUiVue.setCursorType(D.MxUiVue.CursorType.kNormal);var G=!1;this.m_retcall!=null&&(d.MxJigCmdManager.setRunCmdEvent(function(){l.prototype.onExitCommand.call(N,!1),G=!0}),this.m_retcall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.setRunCmdEvent(void 0)),!G&&d.MxJigCmdManager.isWaitCmdNull()&&D.MxUiVue.restoreCmdStatus(),G||l.prototype.onExitCommand.call(this,!0)},L.prototype.onStartCommand=function(){D.MxUiVue.setCursorType(this.m_cursorType),this.printMessage(),d.MxJigCmdManager.setKeywordList(this.keyWords()),l.prototype.onStartCommand.call(this)},L.prototype.sampler=function(){var N=this.acquirePoint(this.m_toucheType);return this.procInKeyword(N),N.status==d.MxJigCmdManager.DragStatus.kNormal&&(this.m_value==null?this.m_value=new c.Vector3(N.pt.x,N.pt.y,0):(this.m_value.x=N.pt.x,this.m_value.y=N.pt.y)),N.status},L.prototype.done=function(N){if(this.m_retcall!=null)return this.m_resultDragStatus=N,this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand;if(this.m_retWhileCall!=null){if((this.m_resultDragStatus=N)==d.MxJigCmdManager.DragStatus.kCancel)return this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand;var G=!1;N==d.MxJigCmdManager.DragStatus.kNull&&(G=!0);var ie=this.m_retWhileCall(this.getReturnStatus(this.m_resultDragStatus));return ie!=null&&ie.exit!=null&&(G=ie.exit),G?(this.m_exitCall&&this.m_exitCall(this.getReturnStatus(this.m_resultDragStatus)),d.MxJigCmdManager.DoneStatius.kExitCommand):(d.MxJigCmdManager.setKeywordList(this.keyWords()),this.printMessage(),d.MxJigCmdManager.DoneStatius.kContinueCommand)}E.MxFun.Assert(0)},L.prototype.upDisplay=function(){this.m_value&&(this.m_pWorldDraw&&(this._mxObject.getMcObject().onReadyJigUpdateDispla(),this.m_pWorldDraw.worldDraw(this.m_value)),this.m_useBasePt&&this.m_basePt&&this.drawEntity(f.MxThreeJS.createLine(this.m_value,this.m_basePt,16777215)))},L);function L(){var N=l.call(this)||this;return N.m_useBasePt=!1,N.m_basePt=null,N.m_value=null,N.m_retcall=null,N.m_retWhileCall=null,N.m_exitCall=null,N.m_resultDragStatus=d.MxJigCmdManager.DragStatus.kCancel,N.m_cursorType=D.MxUiVue.CursorType.kCross,N}r.MrxDbgUiPrPoint=S},{"../MxFun":34,"../MxManager":36,"../MxThreeJS":44,"../UI/MxUiVue":67,"./MrxDbgUiPrBase":51,"./MxJigCmdManager":58,three:19}],53:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxCmdRunManager=void 0;var i,a,l,c,d,E,C,D,f=e("../MxFun"),A=e("../MxType"),S=e("./MxJigCmdManager"),L=e("../UI/MxUiVue"),N=e("../MxDrawData");a=i||(r.MxCmdRunManager=i={}),l={},c=new Array,d=0,E=!1,C="",D={},a.InitQuickCommand=function(G){for(var ie=G.length,le=0;le<ie;le++){var ae=G[le];if(!(ae.length<2)){var he=ae[0];if(he.length!=0)for(var pe=ae.length,B=1;B<pe;B++)ae[B].length!=0&&(D[ae[B].toUpperCase()]=he)}}},a.MoveUpKey=function(){return E?++d>=c.length&&(d=0):E=!0,!0},a.MoveDownKey=function(){return!!E&&(--d<0&&(d=c.length-1),!0)},a.GetListCommad=function(){return d<0||d>=c.length?"":c[d]},a.ClearPrvCmd=function(){C=""},a.GetPrvCmd=function(){return C},a.SetPrvCmd=function(G){C=G},a.runCmd=function(G,ie,le){var ae=ie.toUpperCase(),he=l[ae];if(G&&he==null){var pe=D[ae];if(pe!=null&&(he=l[pe.toUpperCase()]),he==null)return L.MxUiVue.isNull()?console.log(f.MxFun.formatString('\u672A\u77E5\u547D\u4EE4"{0}"',ie)):L.MxUiVue.acutPrintf(`\u672A\u77E5\u547D\u4EE4"{0}"\u3002
\u547D\u4EE4:`,ie),!1}if(!he)return!1;var B=c.indexOf(he.cmd);-1<B&&c.splice(B,1),E=!(d=0),c.push(he.cmd),C=he.cmd;var se=he.fun;if(G&&(he.flag&A.MxType.CommandFlags.MCRX_CMD_TRANSPARENT)==0&&L.MxUiVue.acutPrintf(`{0}
`,he.cmd),S.MxJigCmdManager.stopCmd(),G&&G.undoMark(),G.callEvent("commandWillStart",{cmd:ie}),G&&ie!="Mx_GripEdit"&&ie!="Mx_IntelliSel"&&ie!="McDraw_GripEdit"&&ie!="Mx_FrontEndWebpageIntelliSel"&&ie!="Mx_FrontEndWebpageGripEdit"){var oe=!1,O=G.getMxCAD();if(O){G.callCommand("MxCAD_StartCommandEvent");var T=O.getSelect().clearAllSelect(!1),ce=O.getGrip().clearAll();(T||ce)&&(oe=!0)}else{var fe=G.getMxAllSelect();G.getMxDatabase().getGripManager().removeAllGrips()&&(oe=!0),G.getMxDatabase().getSelectManager().removeAllEntity()&&(oe=!0),G.isValidMcObject()&&G.getMcObject().getGripManager().clearAll()&&(oe=!0),G.getMxDatabase().getSelectManager().setPrvCommandSelect(fe)}oe&&G.updateDisplay()}return se(le),G&&(S.MxJigCmdManager.isRunning()||L.MxUiVue.restoreCmdStatus(),G.updateDisplay(),N.MxDrawData.m_isAutoResetRenderer||G.resetRenderer()),!0},a.addCommand=function(G,ie,le){le==null&&(le=A.MxType.CommandFlags.MCRX_CMD_MODAL);var ae=G.toUpperCase();l[ae]={fun:ie,cmd:G,flag:le}}},{"../MxDrawData":29,"../MxFun":34,"../MxType":46,"../UI/MxUiVue":67,"./MxJigCmdManager":58}],54:[function(e,t,r){var i,a=this&&this.__extends||(i=function(B,se){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,O){oe.__proto__=O}||function(oe,O){for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(oe[T]=O[T])})(B,se)},function(B,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function oe(){this.constructor=B}i(B,se),B.prototype=se===null?Object.create(se):(oe.prototype=se.prototype,new oe)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObjectOsnap=r.McDbLine=r.McDbCurve=r.McDbEntity=r.McDbType=void 0;var l,c,d=e("three"),E=e("../MxThreeJS"),C=e("../MxDrawData"),D=e("./MxJigCmdManager"),f=e("./McEdJigOsnap");(c=l||(r.McDbType=l={}))[c.kInValid=0]="kInValid",c[c.kLine=1]="kLine";var A=(S.prototype.getType=function(){return this.m_type},S);function S(){this.m_type=l.kInValid}r.McDbEntity=A;var L,N=(a(G,L=A),G);function G(){return L!==null&&L.apply(this,arguments)||this}r.McDbCurve=N;var ie,le=(a(ae,ie=N),ae);function ae(){var B=ie.call(this)||this;return B.m_type=l.kLine,B}r.McDbLine=le;var he=(pe.prototype.getBlobHead=function(B,se){var oe={};return oe.type=B.getInt32(se,!0),se+=4,oe.ver=B.getInt32(se,!0),se+=4,oe.databaseIndex=B.getInt32(se,!0),se+=4,oe.nOffset=se,oe},pe.prototype.clearData=function(){this.threejsObjects=new d.Object3D},pe.prototype.calculateDistance=function(B,se,oe){var O=new d.Vector3().subVectors(se,B),T=new d.Vector3().subVectors(oe,B),ce=O.clone().normalize(),fe=T.clone().normalize(),Ee=ce.dot(fe),Ae=new d.Vector3().subVectors(oe,se),_e=new d.Vector3().subVectors(B,se),xe=Ae.clone().normalize(),De=_e.clone().normalize();if(0<xe.dot(De)&&0<Ee){var Le=Math.sqrt(1-Ee*Ee),Ge=B.distanceTo(oe),rt=Ge*Le,We=Ge*Ee,xt=O.clone().normalize().multiplyScalar(We),Me=B.clone().add(xt),Ue=O.clone().normalize().multiplyScalar(200+We);return{pt1:B,pt2:se,pt:oe,distance:rt,targetPt:Me,warningPt:B.clone().add(Ue)}}return null},pe.prototype.getOsnapData=function(B,se){if(this.threejsObjects){var oe=new d.Raycaster,O=C.MxDrawData.getCursorWidthPixels();oe.linePrecision=this.mxObj.screenCoordLong2World(O);var T=this.mxObj.getCanvas(),ce=T.clientWidth,fe=T.clientHeight,Ee=this.mxObj.screenCoord2World(B.x,B.y);Ee.z=0,B=new d.Vector2(B.x/ce*2-1,-B.y/fe*2+1),oe.setFromCamera(B,this.mxObj.getCamera());var Ae=oe.intersectObjects(this.threejsObjects.children,!0),_e=this.mxObj.sysVariable().getSysVarNumber("OSMODE"),xe=new Map;if(Ae.length)for(var De=0;De<Ae.length;De++){var Le=Ae[De];if(Le.object.userData&&Le.object.userData.obj.getType()==l.kLine){var Ge=Le.object.userData.obj;if(_e&f.MxOsnapDefine.OsModeEnd){var rt=Ee.distanceTo(Ge.pt1);Ge.pt1.type=D.MxJigCmdManager.OsnapMode.kOsModeEnd,xe.set(rt,Ge.pt1);var We=Ee.distanceTo(Ge.pt2);Ge.pt2.type=D.MxJigCmdManager.OsnapMode.kOsModeEnd,xe.set(We,Ge.pt2)}if(_e&f.MxOsnapDefine.OsModeNear&&(!Ge.bulge||Ge.bulge==0)){var xt=this.calculateDistance(Ge.pt1,Ge.pt2,Ee);xt&&(xt.targetPt.type=D.MxJigCmdManager.OsnapMode.kOsModeNear,xe.set(xt.distance,xt.targetPt))}}}if(xe.size){var Me=this.mxObj.screenCoordLong2World(O),Ue=Array.from(xe);Ue.sort(function(Pe,Re){return Pe[0]-Re[0]}),Ue[0][0]<Me&&se(Ue[0][1],Ue[0][1].type)}}},pe.prototype.mxWebEntitysData=function(B,se){var oe=this.getBlobHead(B,0);B.getInt32(oe.nOffset,!0),oe.nOffset+=4;var O=B.getInt32(oe.nOffset,!0);oe.nOffset+=4;var T=B.getInt32(oe.nOffset,!0);if(oe.nOffset+=4,1<T)console.log("mx:error mxfun.js version is old!");else{var ce=B.getInt32(oe.nOffset,!0);if(oe.nOffset+=4,ce==oe.nOffset){this.threejsObjects=new d.Object3D;for(var fe=0;fe<O;fe++){var Ee=B.getInt8(oe.nOffset);oe.nOffset+=1;var Ae=B.getInt32(oe.nOffset,!0);if(oe.nOffset+=4,Ee==1){var _e=B.getFloat32(oe.nOffset,!0);oe.nOffset+=4;var xe=B.getFloat32(oe.nOffset,!0);oe.nOffset+=4;var De=B.getFloat32(oe.nOffset,!0);oe.nOffset+=4;var Le=B.getFloat32(oe.nOffset,!0);oe.nOffset+=4,(Re=new le).pt1=new d.Vector3(_e,xe,0),Re.pt2=new d.Vector3(De,Le,0),(st=E.MxThreeJS.createLine(Re.pt1,Re.pt2,16777215)).userData.obj=Re,this.threejsObjects.add(st)}else if(Ee==2){var Ge=B.getInt8(oe.nOffset);oe.nOffset+=1;var rt=B.getInt32(oe.nOffset,!0);oe.nOffset+=4;for(var We=new d.Vector3,xt=0,Me=null,Ue=0;Ue<rt;Ue++){var Pe=new d.Vector3;Pe.x=B.getFloat32(oe.nOffset,!0),oe.nOffset+=4,Pe.y=B.getFloat32(oe.nOffset,!0),oe.nOffset+=4;var Re,st,It=B.getFloat32(oe.nOffset,!0);oe.nOffset+=4,0<Ue&&((Re=new le).pt1=We.clone(),Re.pt2=Pe.clone(),Re.bulge=It,(st=E.MxThreeJS.createLine(Re.pt1,Re.pt2,16777215)).userData.obj=Re,this.threejsObjects.add(st)),We=Pe,xt=It,Ue==0&&(Me=Pe)}Ge&&2<rt&&((Re=new le).pt1=Me.clone(),Re.pt2=We.clone(),Re.bulge=xt,(st=E.MxThreeJS.createLine(Re.pt1,Re.pt2,16777215)).userData.obj=Re,this.threejsObjects.add(st))}else console.log("mx:error mxWebEntitysData type"),oe.nOffset=oe.nOffset-5+Ae}}else console.log("mx: mxWebEntitysData size assert(0)")}},pe);function pe(B){this.threejsObjects=null,this.mxObj=null,this.mxObj=B}r.MxDrawObjectOsnap=he},{"../MxDrawData":29,"../MxThreeJS":44,"./McEdJigOsnap":49,"./MxJigCmdManager":58,three:19}],55:[function(e,t,r){var i,a=this&&this.__extends||(i=function(A,S){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(L[G]=N[G])})(A,S)},function(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function L(){this.constructor=A}i(A,S),A.prototype=S===null?Object.create(S):(L.prototype=S.prototype,new L)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxEntSelJig=void 0;var l,c=e("./MxJig"),d=e("./MxJigCmdManager"),E=e("../UI/MxUiVue"),C=e("../MrxDbgUtils"),D=(a(f,l=c.McEdJigCommand),f.prototype.sampler=function(){var A=d.MxJigCmdManager.InType.kGetBegan,S=this.acquirePoint(A);return S.status==d.MxJigCmdManager.DragStatus.kNormal&&(this.point=S.pt),S.status},f.prototype.done=function(A){if(A==d.MxJigCmdManager.DragStatus.kNormal){var S=this;C.MrxDbgUtils.findEntAtPoint(this.getMxObject(),this.point,this.filter).then(function(L){S.callRet(L)})}else this.callRet([]);return d.MxJigCmdManager.DoneStatius.kExitCommand},f.prototype.onStartCommand=function(){E.MxUiVue.setCursorType(E.MxUiVue.CursorType.kRect),l.prototype.onStartCommand.call(this)},f.prototype.onExitCommand=function(){E.MxUiVue.setCursorType(E.MxUiVue.CursorType.kNormal),d.MxJigCmdManager.isWaitCmdNull()&&E.MxUiVue.restoreCmdStatus(),l.prototype.onExitCommand.call(this,!0)},f.prototype.upDisplay=function(){},f);function f(){return l!==null&&l.apply(this,arguments)||this}r.MxEntSelJig=D},{"../MrxDbgUtils":20,"../UI/MxUiVue":67,"./MxJig":57,"./MxJigCmdManager":58}],56:[function(e,t,r){var i,a=this&&this.__extends||(i=function(A,S){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(L[G]=N[G])})(A,S)},function(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function L(){this.constructor=A}i(A,S),A.prototype=S===null?Object.create(S):(L.prototype=S.prototype,new L)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxIntelliSelectJig=void 0;var l,c=e("three"),d=e("./MxJig"),E=e("./MxJigCmdManager"),C=e("../MxThreeJS"),D=(a(f,l=d.McEdJigCommand),f.prototype.sampler=function(){var A=E.MxJigCmdManager.InType.kGetBegan,S=this.acquirePoint(A);return S.status==E.MxJigCmdManager.DragStatus.kNormal&&(this.m_pt2=S.pt),S.status},f.prototype.getTypeName=function(){return"MxIntelliSelect"},f.prototype.done=function(A){if(A==E.MxJigCmdManager.DragStatus.kNormal){var S=this.getMxObject();if(this.m_isFrontEndWebpage)S.getMxDatabase().getGripManager().doWindowsSelect(this.m_pt1,this.m_pt2);else{var L={x1:this.m_pt1.x,y1:this.m_pt1.y,x2:this.m_pt2.x,y2:this.m_pt2.y};S.callCommand("MxCAD_IntelliSelect",JSON.stringify(L),function(N){S.getMxCAD().getGrip().onIntelliSelect(N)})}}return E.MxJigCmdManager.DoneStatius.kExitCommand},f.prototype.doPointSelect=function(A,S,L){var N=A.screenCoordLong2Doc(16),G={x:S.x,y:S.y,tol:N};A.callCommand("MxCAD_IntelliSelect_Point",JSON.stringify(G),function(ie){L(ie)})},f.prototype.upDisplay=function(){var A=new c.Vector3(this.m_pt1.x,this.m_pt2.y,this.m_pt2.z),S=new c.Vector3(this.m_pt2.x,this.m_pt1.y,this.m_pt2.z),L=[];L.push(this.m_pt1),L.push(A),L.push(this.m_pt2),L.push(S),L.push(this.m_pt1);var N=null,G=65280;if(this.m_pt2.x>this.m_pt1.x)N=C.MxThreeJS.createLines(L,16777215),G=255;else{var ie=this.getMxObject().screenCoordLong2Doc(3);N=C.MxThreeJS.createDashedLines(L,16777215,2*ie,ie)}var le=[];le.push(this.m_pt1),le.push(A),le.push(this.m_pt2),le.push(this.m_pt1),le.push(this.m_pt2),le.push(S);var ae=C.MxThreeJS.createTriangle(le,G,.27);this.drawEntity(ae,30),this.drawEntity(N,31)},f);function f(A,S){var L=l.call(this)||this;return L.m_pt1=A,L.m_pt2=A,L.m_isFrontEndWebpage=S,L}r.MxIntelliSelectJig=D},{"../MxThreeJS":44,"./MxJig":57,"./MxJigCmdManager":58,three:19}],57:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McEdJigCommand=r.MxDynamicInput=void 0;var i=e("three"),a=e("../MxFun"),l=e("./MxJigCmdManager"),c=e("../MxManager"),d=e("../MxTools"),E=e("../UI/MxUiVue"),C=e("./McEdJigOsnap"),D=e("../MxWindowsEvent"),f=(A.prototype.onKeyDonw=function(N){if(N==27)return this.m_isInputStatus?(this.m_isInputStatus=!1,E.MxUiVue.OnMxEvent({name:"dynInputReSet"}),1):0;if(N!=32&&N!=13)return this.m_isInputStatus=!0,0;if(this.m_isInputStatus&&E.MxUiVue.DynamicInput_isShow()&&E.MxUiVue.DynamicInput_getType()==l.MxJigCmdManager.DynamicInputType.kXYCoordInput){var G,ie=E.MxUiVue.DynamicInput_getValue1(),le=E.MxUiVue.DynamicInput_getValue2(),ae=E.MxUiVue.DynamicInput_getFocusValue();G=d.MxTools.IsNumerical(ie)&&d.MxTools.IsNumerical(le)?a.MxFun.formatString("{0},{1}",ie,le):ae,E.MxUiVue.setCmdText(G)}return this.m_isInputStatus=!1,0},A.prototype.isInputStatus=function(){return this.m_isInputStatus},A.prototype.initDynInput=function(N){this.m_jig=N;var G=this.m_jig.getMxObject();E.MxUiVue.DynamicInput_setType(this.m_dynType),this.m_dynType==l.MxJigCmdManager.DynamicInputType.kAutoInput&&(this._dynamicInputBasePoint!=null||G.sysVariable().getSysVarNumber("GETPOINTSTATUS")&l.MxJigCmdManager.GETPOINTSTATUS.OsModeSValidLastPoint?E.MxUiVue.DynamicInput_setType(l.MxJigCmdManager.DynamicInputType.kDistanceInput):E.MxUiVue.DynamicInput_setType(l.MxJigCmdManager.DynamicInputType.kXYCoordInput))},A.prototype.setFocus=function(N){E.MxUiVue.OnMxEvent({name:"dynInputSetFocus",param:{isFocus:N}})},A.prototype.exitDynInput=function(){this._dynamicInputBasePoint=void 0,E.MxUiVue.DynamicInput_setShow(!1),E.MxUiVue.DynamicInput_upDisplay()},A.prototype.isShow=function(){return E.MxUiVue.DynamicInput_isShow()},A.prototype.upDynInput=function(){var N,G=this.m_jig.getMxObject();if(N=!this.m_jig.isDisableDynInput()&&G.sysVariable().getSysVarBool("DYNINPUT"),E.MxUiVue.DynamicInput_setShow(N),N){if(E.MxUiVue.DynamicInput_setTip(E.MxUiVue.getCmdTip()),l.MxJigCmdManager.getAcquireStatus()==l.MxJigCmdManager.AcquireStatus.kMove){var ie=l.MxJigCmdManager.getAcquirePoint();if(E.MxUiVue.DynamicInput_setPos(a.MxFun.docCoord2Screen(ie.x,ie.y,ie.z)),E.MxUiVue.DynamicInput_getType()==l.MxJigCmdManager.DynamicInputType.kXYCoordInput){var le=ie;E.MxUiVue.DynamicInput_setValue1(le.x.toFixed(3)),E.MxUiVue.DynamicInput_setValue2(le.y.toFixed(3))}else E.MxUiVue.DynamicInput_getType(),l.MxJigCmdManager.DynamicInputType.kDistanceInput}E.MxUiVue.DynamicInput_upDisplay()}},A.prototype.setDynamicInputBasePoint=function(N){this._dynamicInputBasePoint=N},A.prototype.setDynamicInputType=function(N){this.m_dynType=N},A.prototype.getDynamicInputType=function(){return this.m_dynType},A);function A(N){this.m_dynType=l.MxJigCmdManager.DynamicInputType.kAutoInput,this._dynamicInputBasePoint=void 0,this.m_isInputStatus=!1,this.m_jig=N}r.MxDynamicInput=f;var S=(L.prototype.getTypeName=function(){return""},L.prototype.getParentGroup=function(){return this.drawGroup||(this.drawGroup=new i.Group,this.drawGroup.renderOrder=c.MxData.iGripRenderOrder,this._mxObject.getTheTempDrawContainer().add(this.drawGroup)),this.drawGroup},L.prototype.onExitCommand=function(N){N&&this.m_dynInput.exitDynInput(),this.m_osnap.endDrag(),this._mxObject.getMcObject().onJigCommandEnd()},L.prototype.getOsnap=function(){return this.m_osnap},L.prototype.isDisableDynInput=function(){return this.m_isDisableDynInput},L.prototype.setDisableDynInput=function(N){this.m_isDisableDynInput=N},L.prototype.setDisableOsnap=function(N){this.m_isDisableOsnap=N},L.prototype.isDisableOsnap=function(){return this.m_isDisableOsnap},L.prototype.onStartCommand=function(){this._isCancle=!1,this._isExit=!1,this.m_dynInput.initDynInput(this),C.McEdImpJigGlobalData.intiStartDrag(this._mxObject),this.m_osnap.startDrag(this.m_isOffsetInputPostion,this);var N=D.MxWindowsEvent.getCurrentMousePostion(),G=this._mxObject.screenCoord2Doc(N.x,N.y,0);this.m_osnap.setPoint(G),l.MxJigCmdManager.doMouseMoveImp(),this.m_dynInput.setFocus(!0)},L.prototype.getDynImput=function(){return this.m_dynInput},L.prototype.setMxObject=function(N){this._mxObject=N},L.prototype.getMxObject=function(){return this._mxObject},L.prototype.setColor=function(N){this._iColor=N},L.prototype.getColor=function(){return this._iColor},L.prototype.setDynamicInputType=function(N){this.m_dynInput.setDynamicInputType(N)},L.prototype.getDynamicInputType=function(){return this.m_dynInput.getDynamicInputType()},L.prototype.createTriangle=function(N,G,ie){var le=new i.MeshBasicMaterial({color:this._iColor,side:i.DoubleSide}),ae=new i.Geometry;ae.vertices.push(N),ae.vertices.push(G),ae.vertices.push(ie);var he=new i.Vector3(1,1,1),pe=new i.Color(this._iColor),B=new i.Face3(0,1,2,he,pe,0);return ae.faces.push(B),ae.computeFaceNormals(),ae.computeVertexNormals(),new i.Mesh(ae,le)},L.prototype.createPoint=function(N){var G=new i.Geometry;G.vertices.push(N);var ie=new i.PointsMaterial({color:this._iColor,size:3});return new i.Points(G,ie)},L.prototype.createLine=function(N,G){var ie=new i.Geometry,le=new i.LineBasicMaterial({color:this._iColor});return ie.vertices.push(N,G),new i.Line(ie,le)},L.prototype.drawReserve=function(N){this.m_isReserveDrawStatus=!0,this.m_callReserveDrawAddEntity=N,this.upDisplay(),this.m_isReserveDrawStatus=!1,this.m_callReserveDrawAddEntity=null},L.prototype.drawMcDbEntity=function(N){this.m_isReserveDrawStatus?this._mxObject.getMcObject().DrawEntity(N.getImp()):this._mxObject.getMcObject().onJigDrawEntityDisplay(N.getImp())},L.prototype.drawMcDbLine=function(N,G,ie,le,ae,he){this.m_isReserveDrawStatus?this._mxObject.getMcObject().DrawLine(N,G,ie,le,ae,he):this._mxObject.getMcObject().onJigDrawEntityDisplay_line(N,G,ie,le,ae,he)},L.prototype.drawEntity=function(N,G){if(N!=null)if(this.m_isReserveDrawStatus)N.renderOrder=G??c.MxData.iDynJigRenderOrder,this._mxObject.addObject(N),this.m_callReserveDrawAddEntity&&this.m_callReserveDrawAddEntity(N);else{var ie="MxDynDraw_"+this._DynNameId.toString();N.name=ie,N.renderOrder=G??c.MxData.iDynJigRenderOrder,this._aryDynDrawObjectNamesId==null&&(this._aryDynDrawObjectNamesId=new Array),this._aryDynDrawObjectNamesId.push(this._DynNameId),this._DynNameId++,this.getParentGroup().add(N)}},L.prototype.floorPowerOfTwo=function(N){return Math.pow(2,Math.floor(Math.log(N)/Math.LN2))},L.prototype.makeTextSprite=function(N,G,ie,le,ae){var he,pe=document.createElement("canvas"),B=pe.getContext("2d"),se=a.MxFun.formatString("normal {0}px Arial","256");B.font=se;var oe=B.measureText(N);he=2*this.floorPowerOfTwo(oe.width),pe.width=he,pe.height=256,B.font=se,B.textAlign="center",B.textBaseline="middle";var O=a.MxFun.formatString("#{0}",ae.toString(16));B.fillStyle=O,B.fillText(N,he/2,128);var T=new i.Texture(pe);T.needsUpdate=!0;var ce=new i.SpriteMaterial({map:T});ce.transparent=!1,ce.rotation=le;var fe=new i.Sprite(ce);return fe.scale.set(he/256*ie,ie,1),fe.position.set(G.x,G.y,0),fe},L.prototype.drawText=function(N,G,ie,le){var ae=this.makeTextSprite(N,le,G,ie,this._iColor);this.drawEntity(ae)},L.prototype.drawPoints=function(N){for(var G=0;G<N.length;G++){var ie=new i.Geometry;ie.vertices.push(N[G]);var le=new i.PointsMaterial({color:this._iColor,size:3}),ae=new i.Points(ie,le);this.drawEntity(ae)}},L.prototype.drawPoint=function(N){var G=new i.Geometry;G.vertices.push(N);var ie=new i.PointsMaterial({color:this._iColor,size:3}),le=new i.Points(G,ie);this.drawEntity(le)},L.prototype.drawPolyline=function(N){for(var G=new i.Geometry,ie=0;ie<N.length;ie++)G.vertices.push(N[ie]);var le=new i.LineBasicMaterial({color:this._iColor}),ae=new i.Line(G,le);this.drawEntity(ae)},L.prototype.drawSpline=function(N){},L.prototype.drawCircle=function(N,G){var ie=new i.CircleGeometry(G,64,3,2*Math.PI),le=new i.LineBasicMaterial({color:this._iColor});ie.vertices.shift();var ae=new i.LineLoop(ie,le);ae.position.x=N.x,ae.position.y=N.y,ae.position.z=N.z,this.drawEntity(ae)},L.prototype.drawArc=function(N,G,ie,le){var ae=new i.CircleGeometry(G,64,ie,le),he=new i.LineBasicMaterial({color:this._iColor});ae.vertices.shift();var pe=new i.Line(ae,he);pe.position.x=N.x,pe.position.y=N.y,pe.position.z=N.z,this.drawEntity(pe)},L.prototype.drawLine=function(N,G){var ie=new i.Geometry,le=new i.LineBasicMaterial({color:this._iColor});ie.vertices.push(N,G);var ae=new i.Line(ie,le);this.drawEntity(ae)},L.prototype.removeDynDrawObject=function(){if(this._aryDynDrawObjectNamesId!=null){for(var N=0;N<this._aryDynDrawObjectNamesId.length;N++){var G="MxDynDraw_"+this._aryDynDrawObjectNamesId[N].toString(),ie=this.getParentGroup().getObjectByName(G);a.MxFun.removeThreejsObject(ie,this.getParentGroup())}this._aryDynDrawObjectNamesId=[],this._mxObject.getMcObject().onJigClearDisplay()}},L.prototype.acquirePoint=function(N){var G=l.MxJigCmdManager.acquirePoint(N);return this._isExit=G.exit,G},L.prototype.notifyCancleExit=function(){this._isCancle=!0,this.removeDynDrawObject(),this.done(l.MxJigCmdManager.DragStatus.kCancel),this.onExitCommand(!0),l.MxJigCmdManager.commandRunComplete(this)},L.prototype.notifySampler=function(){var N=this.sampler();if(this.m_dynInput.upDynInput(),N==l.MxJigCmdManager.DragStatus.kNormal&&(this.removeDynDrawObject(),this.upDisplay()),this._isExit){var G=this.done(N);this._isCancle||(G==l.MxJigCmdManager.DoneStatius.kContinueCommand?(this._isExit=!1,l.MxJigCmdManager.doMouseMoveImp(),E.MxUiVue.OnMxEvent({name:"dynInputReSet"})):(this.removeDynDrawObject(),l.MxJigCmdManager.commandRunComplete(this),this.onExitCommand(!0)))}this._mxObject.updateDisplay()},L.prototype.getCurrentMouseButton=function(){return l.MxJigCmdManager.getCurrentMouseButton()},L.prototype.userInputControls=function(){return this._userInputContros},L.prototype.setUserInputControls=function(N){this._userInputContros=N},L);function L(){this._isExit=!1,this._aryDynDrawObjectNamesId=void 0,this._DynNameId=1,this._iColor=16777215,this._isCancle=!1,this.m_isDisableDynInput=!1,this.m_isDisableOsnap=!1,this.m_dynInput=new f(this),this.m_osnap=new C.McEdJigOsnap(this),this._userInputContros=l.MxJigCmdManager.UserInputControls.kNullResponseAccepted,this.m_isOffsetInputPostion=!1,this.m_isReserveDrawStatus=!1,this.m_callReserveDrawAddEntity=null,this.drawGroup=null,this._mxObject=null}r.McEdJigCommand=S},{"../MxFun":34,"../MxManager":36,"../MxTools":45,"../MxWindowsEvent":48,"../UI/MxUiVue":67,"./McEdJigOsnap":49,"./MxJigCmdManager":58,three:19}],58:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxJigCmdManager=r.AcquireReturn=void 0;var i,a=e("three"),l=e("../MxFun"),c=e("./MxJig"),d=e("../MxManager"),E=e("./MrxDbgUiPrPoint"),C=e("./MrxDbgUiPrBase"),D=e("../UI/MxUiVue"),f=e("../MxTools"),A=e("../MxString"),S=e("../MxWindowsEvent"),L=e("./McEdJigOsnap"),N=e("../MxDrawData"),G=function(){this.status=i.DragStatus.kNoChange,this.exit=!0,this.sKeyValue=""};r.AcquireReturn=G,function(ie){var le,ae,he,pe,B,se,oe,O,T,ce,fe,Ee,Ae,_e,xe,De,Le,Ge;(ae=le=ie.UserInputControls||(ie.UserInputControls={}))[ae.kGovernedByOrthoMode=1]="kGovernedByOrthoMode",ae[ae.kNullResponseAccepted=2]="kNullResponseAccepted",ae[ae.kDontEchoCancelForCtrlC=4]="kDontEchoCancelForCtrlC",ae[ae.kDontUpdateLastPoint=8]="kDontUpdateLastPoint",ae[ae.kNoDwgLimitsChecking=16]="kNoDwgLimitsChecking",ae[ae.kNoZeroResponseAccepted=32]="kNoZeroResponseAccepted",ae[ae.kNoNegativeResponseAccepted=64]="kNoNegativeResponseAccepted",ae[ae.kAccept3dCoordinates=128]="kAccept3dCoordinates",ae[ae.kAcceptMouseUpAsPoint=256]="kAcceptMouseUpAsPoint",ae[ae.kAnyBlankTerminatesInput=512]="kAnyBlankTerminatesInput",ae[ae.kInitialBlankTerminatesInput=1024]="kInitialBlankTerminatesInput",ae[ae.kAcceptOtherInputString=2048]="kAcceptOtherInputString",ae[ae.kGovernedByUCSDetect=4096]="kGovernedByUCSDetect",ae[ae.kNoZDirectionOrtho=8192]="kNoZDirectionOrtho",ae[ae.kSpacesInAccepted=16384]="kSpacesInAccepted",(pe=he=ie.AcquireStatus||(ie.AcquireStatus={}))[pe.kNoChange=0]="kNoChange",pe[pe.kMove=1]="kMove",pe[pe.kBegan=2]="kBegan",pe[pe.kEnd=3]="kEnd",pe[pe.kMouseUp=4]="kMouseUp",pe[pe.kMouseDown=5]="kMouseDown",pe[pe.kCancle=6]="kCancle",(se=B=ie.DragStatus||(ie.DragStatus={}))[se.kNoChange=-6]="kNoChange",se[se.kCancel=-4]="kCancel",se[se.kOther=-3]="kOther",se[se.kNull=-1]="kNull",se[se.kNormal=0]="kNormal",se[se.kKW1=1]="kKW1",(oe=ie.DoneStatius||(ie.DoneStatius={}))[oe.kContinueCommand=0]="kContinueCommand",oe[oe.kExitCommand=1]="kExitCommand",(T=O=ie.InType||(ie.InType={}))[T.kGetBegan=1]="kGetBegan",T[T.kGetEnd=2]="kGetEnd",(fe=ce=ie.MouseButton||(ie.MouseButton={}))[fe.kInvalid=-1]="kInvalid",fe[fe.kLeft=0]="kLeft",fe[fe.kMid=1]="kMid",fe[fe.kRight=2]="kRight",(Ae=Ee=ie.COMMAND_IN||(ie.COMMAND_IN={}))[Ae.COMMAND_IN_NO_ENTITY=0]="COMMAND_IN_NO_ENTITY",Ae[Ae.COMMAND_IN_EMTPY=1]="COMMAND_IN_EMTPY",Ae[Ae.COMMAND_IN_KEY=2]="COMMAND_IN_KEY",Ae[Ae.COMMAND_IN_STRING=3]="COMMAND_IN_STRING",Ae[Ae.COMMAND_IN_COORD=5]="COMMAND_IN_COORD",Ae[Ae.COMMAND_IN_DIST=6]="COMMAND_IN_DIST",Ae[Ae.COMMAND_IN_INVALID=7]="COMMAND_IN_INVALID",Ae[Ae.COMMAND_IN_INVALID_ZERO=8]="COMMAND_IN_INVALID_ZERO",Ae[Ae.COMMAND_IN_INVALID_NEG=9]="COMMAND_IN_INVALID_NEG",Ae[Ae.COMMAND_IN_INT=10]="COMMAND_IN_INT",(xe=_e=ie.COMMAND_GET||(ie.COMMAND_GET={}))[xe.COMMAND_GET_STRING=1]="COMMAND_GET_STRING",xe[xe.COMMAND_GET_KEY=2]="COMMAND_GET_KEY",xe[xe.COMMAND_GET_DIST=4]="COMMAND_GET_DIST",xe[xe.COMMAND_GET_COORD=8]="COMMAND_GET_COORD",xe[xe.COMMAND_GET_INT=16]="COMMAND_GET_INT",(De=ie.DynamicInputType||(ie.DynamicInputType={}))[De.kNoInput=0]="kNoInput",De[De.kXYCoordInput=1]="kXYCoordInput",De[De.kDistanceInput=2]="kDistanceInput",De[De.kDynTip=3]="kDynTip",De[De.kAutoInput=4]="kAutoInput",De[De.kAngleInput=5]="kAngleInput",(Le=ie.GETPOINTSTATUS||(ie.GETPOINTSTATUS={}))[Le.OsModeSValidLastPoint=1]="OsModeSValidLastPoint",Le[Le.OsModeSTempDisable=2]="OsModeSTempDisable",Le[Le.OsModeOrthoTempDisable=4]="OsModeOrthoTempDisable",Le[Le.OsModeSInvalidLastMovePoint=8]="OsModeSInvalidLastMovePoint",Le[Le.OsModePoloarTempDisable=16]="OsModePoloarTempDisable",Le[Le.OsModeDynTraceTempDisable=32]="OsModeDynTraceTempDisable",Le[Le.OsModeGridSnapTempDisable=64]="OsModeGridSnapTempDisable",(Ge=ie.OsnapMode||(ie.OsnapMode={}))[Ge.kOsModekValid=0]="kOsModekValid",Ge[Ge.kOsModeEnd=1]="kOsModeEnd",Ge[Ge.kOsModeMid=2]="kOsModeMid",Ge[Ge.kOsModeCen=3]="kOsModeCen",Ge[Ge.kOsModeNode=4]="kOsModeNode",Ge[Ge.kOsModeQuad=5]="kOsModeQuad",Ge[Ge.kOsModeIns=7]="kOsModeIns",Ge[Ge.kOsModePerp=8]="kOsModePerp",Ge[Ge.kOsModeTan=9]="kOsModeTan",Ge[Ge.kOsModeNear=10]="kOsModeNear",Ge[Ge.kOsModeInt=11]="kOsModeInt";var rt,We=void 0,xt=void 0,Me=he.kNoChange,Ue=ce.kInvalid,Pe=-9999999,Re=new a.Vector2(Pe,Pe),st=!1,It=void 0,Ct=!1,tt=new Map,Ve=new Array,Ze=new A.MxString,Ne=void 0,qe=-2;function lt(){We?.notifySampler()}function vt(dt){var At=dt.srcElement;if(At&&At.tagName=="CANVAS"){if(We==null||We.getDynImput().isInputStatus())return 0;Re.x=dt.offsetX,Re.y=dt.offsetY,gt(Re)}return 0}function bt(dt){if(dt.button!=ce.kLeft)return 0;var At=dt.srcElement;return!At||At.tagName!="CANVAS"||We==null||We.getDynImput().isInputStatus()?0:(Re.x=dt.offsetX,Re.y=dt.offsetY,rt=We.getMxObject().screenCoord2Doc(dt.offsetX,dt.offsetY,0),Me=he.kMouseUp,Ue=dt.button,lt(),dt.stopPropagation(),1)}function nt(dt){if(dt.button!=ce.kLeft)return 0;We!=null&&We.getDynImput().isShow()&&We.getDynImput().setFocus(!0);var At=dt.srcElement;if(At&&At.tagName=="CANVAS"){if(We==null||We.getDynImput().isInputStatus())return 0;Re.x=dt.offsetX,Re.y=dt.offsetY;var Xt=We.getMxObject().screenCoord2Doc(dt.offsetX,dt.offsetY,0),cn=We.getOsnap(),zn=cn.getCurrentOSnapPoint(Xt);return Xt=zn.pt,zn.osmode,L.McEdImpJigGlobalData.setPrvPoint(Xt),cn.seInValidPoint(),rt=Xt,Me=he.kMouseDown,Ue=dt.button,lt(),dt.stopPropagation(),1}return 0}function Nt(dt){if(dt.touches.length!=0){We!=null&&We.getDynImput().isShow()&&We.getDynImput().setFocus(!0);var At=dt.srcElement;if(At&&At.tagName=="CANVAS"){if(We==null||We.getDynImput().isInputStatus())return;Re.x=dt.touches[0].pageX,Re.y=dt.touches[0].pageY;var Xt=We.getMxObject().screenCoord2Doc(dt.touches[0].pageX,dt.touches[0].pageY,0),cn=We.getOsnap(),zn=cn.getCurrentOSnapPoint(Xt);return Xt=zn.pt,zn.osmode,L.McEdImpJigGlobalData.setPrvPoint(Xt),cn.seInValidPoint(),rt=Xt,Me=he.kBegan,Ue=ce.kInvalid,lt(),dt.stopPropagation(),1}}}function kt(dt){var At=dt.srcElement;if(At&&At.tagName=="CANVAS")return We==null||We.getDynImput().isInputStatus()||Re.x==Pe||Re.y==Pe?void 0:(rt=We.getMxObject().screenCoord2Doc(Re.x,Re.y,0),Me=he.kEnd,Ue=ce.kInvalid,lt(),dt.stopPropagation(),1)}function Qt(dt){var At=dt.srcElement;if(At&&At.tagName=="CANVAS"){if(We==null||We.getDynImput().isInputStatus())return;Re.x=dt.touches[0].pageX,Re.y=dt.touches[0].pageY,gt(Re)}}function gt(dt){if(Ct=!1,dt==null){if(Re.x==Pe||Re.y==Pe)return;dt=Re}var At=We.getMxObject().screenCoord2Doc(dt.x,dt.y,0),Xt=We.getOsnap(),cn=We.getMxObject().screenCoordLong2Doc(.5*N.MxDrawData.getCursorWidthPixels());Xt.setPoint(At,cn),ie.OsnapMode.kOsModekValid,rt=At,Me=he.kMove,lt.call(this)}function Dt(){We&&(Ne=We.getMxObject().getEventManager(),l.MxFun.isPC()?(Ne.addEventListener("mouseup",bt,!0),Ne.addEventListener("mousemove",vt,!0),Ne.addEventListener("mousedown",nt,!0)):(Ne.addEventListener("touchstart",Nt,!0),Ne.addEventListener("touchend",kt,!0),Ne.addEventListener("touchmove",Qt,!0)))}function zt(){Ne&&(l.MxFun.isPC()?(Ne.removeEventListener("mouseup",bt,!0),Ne.removeEventListener("mousemove",vt,!0),Ne.removeEventListener("mousedown",nt,!0)):(Ne.removeEventListener("touchstart",Nt,!0),Ne.removeEventListener("touchend",kt,!0),Ne.removeEventListener("touchmove",Qt,!0)),Ne=void 0)}function et(dt){var At=dt.getOrbitControls();l.MxFun.isPC()?(qe=At.mouseButtons.LEFT,At.mouseButtons.LEFT=-1):At.enabled=!1,At.resetStatusValue(),dt.tempDisableSelect(!0),dt.updateDisplay()}function sn(dt){var At=new a.Vector3,Xt=!1,cn=new A.MxString(dt),zn=cn.AnalyzeString(",");if(zn.length<2)for(;!cn.IsEmpty()&&f.MxTools.IsNumerical(cn);){var Vr=f.MxTools._tstof(cn.m_val);if(f.MxTools.IsZero(Vr))break;break}else{var Un=new A.MxString(zn[0]),Mn=new A.MxString(zn[1]),jr=new A.MxString("0");2<zn.length&&(jr.m_val=zn[2]),Un.IsEmpty()||Un.Left(1)!="@"?f.MxTools.IsNumerical(Un)&&f.MxTools.IsNumerical(Mn)&&f.MxTools.IsNumerical(jr)?(Xt=!0,At.x=f.MxTools._tstof(Un.m_val),At.y=f.MxTools._tstof(Mn.m_val),At.z=f.MxTools._tstof(jr.m_val)):Xt=!1:(Un.m_val=Un.Right(Un.GetLength()-1),f.MxTools.IsNumerical(Un)&&f.MxTools.IsNumerical(Mn)&&f.MxTools.IsNumerical(jr)||(Xt=!1))}return Xt?At:null}function bn(dt,At){At===void 0&&(At=!1),D.MxUiVue.AcutPrintfNoFormat(dt,At)}function Fn(dt,At){if(dt==Ee.COMMAND_IN_INVALID){var Xt=D.MxUiVue.getCmdTip();return bn(At),bn(Xt),B.kNoChange}return dt==Ee.COMMAND_IN_INVALID_ZERO?(Xt=D.MxUiVue.getCmdTip(),We.userInputControls()&le.kNoNegativeResponseAccepted?bn(`
 \u503C\u5FC5\u987B\u4E3A\u6B63 \u4E14\u975E\u96F6\u3002 
`):bn(`
 \u503C\u5FC5\u4E0D\u80FD\u4E3A\u96F6\u3002 
`),bn(Xt),B.kOther):dt!=Ee.COMMAND_IN_INVALID_NEG?B.kNoChange:(Xt=D.MxUiVue.getCmdTip(),We.userInputControls()&le.kNoZeroResponseAccepted?bn(`
 \u503C\u5FC5\u987B\u4E3A\u6B63 \u4E14\u975E\u96F6\u3002 
`):bn(`
 \u503C\u5FC5\u4E0D\u80FD\u4E3A\u8D1F\u3002 
`),bn(Xt),B.kOther)}function St(dt){var At={iRet:Ee.COMMAND_IN_NO_ENTITY,sValue:"",iKey:B.kNull,dDist:0,iVal:0,pt:null};if(!Ct)return At;var Xt=We.userInputControls(),cn=D.MxUiVue.getCmdText();if(cn.length==0)return Xt&le.kNullResponseAccepted?At.iRet=Ee.COMMAND_IN_EMTPY:At.iRet=Ee.COMMAND_IN_INVALID,At;if(dt&_e.COMMAND_GET_KEY&&0<tt.size){var zn=new A.MxString(cn);zn.MakeUpper(),zn.TrimLeft(" "),zn.TrimRight(" ");var Vr=tt.get(zn.m_val);if(Vr!=null)return At.iRet=Ee.COMMAND_IN_KEY,At.iKey=Vr,At.sValue=zn.m_val,At}if(dt&_e.COMMAND_GET_DIST&&f.MxTools.IsNumerical(cn))return At.dDist=f.MxTools._tstof(cn),Xt&le.kNoZeroResponseAccepted&&f.MxTools.IsZero(At.dDist)?At.iRet=Ee.COMMAND_IN_INVALID_ZERO:Xt&le.kNoNegativeResponseAccepted&&At.dDist<0?At.iRet=Ee.COMMAND_IN_INVALID_NEG:(At.sValue=cn,At.iRet=Ee.COMMAND_IN_DIST),At;if(dt&_e.COMMAND_GET_INT&&f.MxTools.IsNumerical(cn))return At.iVal=f.MxTools._tstoi(cn),Xt&le.kNoZeroResponseAccepted&&At.iiVal==0?At.iRet=Ee.COMMAND_IN_INVALID_ZERO:Xt&le.kNoNegativeResponseAccepted&&At.iiVal<0?At.iRet=Ee.COMMAND_IN_INVALID_NEG:(At.sValue=cn,At.iRet=Ee.COMMAND_IN_INT),At;if(dt&_e.COMMAND_GET_COORD){var Un=sn(cn);if(Un!=null)return At.sValue=cn,At.iRet=Ee.COMMAND_IN_COORD,At.pt=Un,At}return dt&_e.COMMAND_GET_STRING?(At.sValue=cn,At.iRet=Ee.COMMAND_IN_STRING):At.iRet=Ee.COMMAND_IN_INVALID,At}ie.getInputKeyword=function(dt){if(dt<1)return"";for(var At,Xt=tt.entries();!(At=Xt.next()).done;)if(At.value==dt)return At.key;return""},ie.GetKeyWordToString=function(){return Ve},ie.keywordList=function(){return Ze.m_val},ie.setKeywordList=function(dt){if(Ze.m_val=dt,tt.clear(),Ve.length=0,!Ze.IsEmpty())if(Ze.TrimLeft(" "),Ze.TrimRight(" "),Ze.m_val[0]=="["&&Ze.m_val[Ze.m_val.length-1]=="]"){Ze.TrimLeft("["),Ze.TrimRight("]");for(var At=Ze.AnalyzeString("/"),Xt=1,cn=0;cn<At.length;cn++){var zn=(Mn=new A.MxString(At[cn])).Find("(");if(zn!=-1){var Vr=new A.MxString(Mn.Left(zn)),Un=new A.MxString(Mn.Right(Mn.GetLength()-zn-1));Un.TrimRight(")"),Vr.IsEmpty()||Un.IsEmpty()||(Un.MakeUpper(),tt.set(Un.m_val,Xt),Xt++,Ve.push(new f.MxPair(Un.m_val,Vr.m_val)))}}}else for(At=Ze.AnalyzeString(" "),Xt=1,cn=0;cn<At.length;cn++){var Mn;(Mn=new A.MxString(At[cn])).IsEmpty()||(Mn.MakeUpper(),tt.set(Mn.m_val,Xt),Xt++)}},ie.getAcquirePoint=function(){return rt},ie.getAcquireStatus=function(){return Me},ie.doMouseMoveImp=gt,ie.OnThreeControlsChage=function(){We==null||Re.x!=Pe&&Re.y!=Pe&&gt(Re)},ie.OnEnter=function(dt){Ct=!0,Me=he.kNoChange,lt(),Ct=!1},ie.Test=function(){Ct=!0},ie.registEvent=Dt,ie.unRegistEvent=zt,ie.getCurrentMouseButton=function(){return Ue},ie.isRunning=function(){return We!=null},ie.getCurCmd=function(){return We},ie.commandRunComplete=function(dt){We!=dt&&console.log("aseert:_curCmd == cmd");var At,Xt,cn=d.MxManager.currentMx();We!=null&&(cn=We.getMxObject()),xt!=null?(We=xt,xt=void 0,Ue=ce.kInvalid,Dt(),We.onStartCommand(),et(cn)):(zt(),We=void 0,Xt=(At=cn).getOrbitControls(),l.MxFun.isPC()?qe!=-2&&(Xt.mouseButtons.LEFT=qe,qe=-2,Xt.resetStatusValue()):(Xt.enabled=!0,Xt.resetStatusValue()),At.tempDisableSelect(!1),At.updateDisplay(),N.MxDrawData.m_isAutoResetRenderer||At.resetRenderer())},ie.isWaitCmdNull=function(){return xt==null},ie.stopCmd=function(){We!=null&&(st=!0,We.notifyCancleExit(),st=!1)},ie.setRunCmdEvent=function(dt){It=dt},ie.runCmd=function(dt){if(!st){var At=d.MxManager.currentMx();dt.setMxObject(At),l.MxFun.isPC()?Re=S.MxWindowsEvent.getCurrentMousePostion():(Re.x=Pe,Re.y=Pe),It&&It(),We==null?(We=dt,Ue=ce.kInvalid,Dt(),We.onStartCommand(),et(At)):(xt=dt,st=!0,We.notifyCancleExit(),st=!1)}},ie.GetAcqurePointFromStringTo=sn,ie.ProcCommandRetResult=Fn,ie.GetCommandLineContent=St,ie.acquirePoint=function(dt){var At=new G;if(We==null)return At.status=B.kCancel,At;var Xt=St(_e.COMMAND_GET_COORD|_e.COMMAND_GET_KEY);return Xt.iRet==Ee.COMMAND_IN_EMTPY?(At.status=B.kNull,At.exit=!0):Xt.iRet==Ee.COMMAND_IN_KEY?(At.status=Xt.iKey,At.exit=!0,At.sKeyValue=Xt.sValue):Xt.iRet==Ee.COMMAND_IN_COORD?(At.status=B.kNormal,At.pt=new a.Vector3(Xt.pt.x,Xt.pt.y,Xt.pt.z),At.exit=!0):(Fn(Xt.iRet,`
 \u9700\u8981\u70B9\u6216\u9009\u9879\u5173\u952E\u5B57\u3002 
`),Me==he.kMove?(At.status=B.kNormal,At.pt=rt,At.exit=!1):Me==he.kEnd?dt&O.kGetEnd?(At.status=B.kNormal,At.pt=rt,At.exit=!0):(At.status=B.kNormal,At.pt=rt,At.exit=!1):Me==he.kCancle?(At.status=B.kCancel,At.pt=rt,At.exit=!0):Me==he.kBegan?dt&O.kGetBegan?(At.status=B.kNormal,At.pt=rt,At.exit=!0):(At.status=B.kNormal,At.pt=rt,At.exit=!1):Me==he.kMouseDown?(At.status=B.kNormal,At.pt=rt,At.exit=!0):(At.status=B.kNoChange,At.pt=void 0,At.exit=!1)),At},ie.getMcEdJigCommandClass=function(){return c.McEdJigCommand},ie.getMrxDbgUiPrPointClass=function(){return E.MrxDbgUiPrPoint},ie.getMcEdGetPointWorldDrawClass=function(){return C.McEdGetPointWorldDraw},ie.McEdGetPointWorldDrawObjectClass=function(){return C.McEdGetPointWorldDrawObject},ie.init=function(){this._curCmd=void 0}}(i||(r.MxJigCmdManager=i={}))},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxString":42,"../MxTools":45,"../MxWindowsEvent":48,"../UI/MxUiVue":67,"./McEdJigOsnap":49,"./MrxDbgUiPrBase":51,"./MrxDbgUiPrPoint":52,"./MxJig":57,three:19}],59:[function(e,t,r){var i,a=this&&this.__extends||(i=function(f,A){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,L){S.__proto__=L}||function(S,L){for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&(S[N]=L[N])})(f,A)},function(f,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function S(){this.constructor=f}i(f,A),f.prototype=A===null?Object.create(A):(S.prototype=A.prototype,new S)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxJigGetLine=void 0;var l,c=e("./MxJig"),d=e("./MxJigCmdManager"),E=e("../MxFun"),C=(a(D,l=c.McEdJigCommand),D.prototype.sampler=function(){var f=d.MxJigCmdManager.InType.kGetBegan;this._isGetPt1||(f=d.MxJigCmdManager.InType.kGetEnd);var A=this.acquirePoint(f);return A.status==d.MxJigCmdManager.DragStatus.kNormal&&(this._isGetPt1?this._pt1=A.pt:this._pt2=A.pt),A.status},D.prototype.setRetCall=function(f){this._retCall=f},D.prototype.done=function(f){if(this._isGetPt1)return this._isGetPt1=!1,d.MxJigCmdManager.DoneStatius.kContinueCommand;var A={};return A.pt1=E.MxFun.worldCoord2Doc(this._pt1.x,this._pt1.y,this._pt1.z),A.pt2=E.MxFun.worldCoord2Doc(this._pt2.x,this._pt2.y,this._pt2.z),this._retCall(A),d.MxJigCmdManager.DoneStatius.kExitCommand},D.prototype.upDisplay=function(){this._isGetPt1||this._pt1==null||this._pt2==null||this.drawLine(this._pt1,this._pt2)},D);function D(){var f=l!==null&&l.apply(this,arguments)||this;return f._isGetPt1=!0,f}r.MxJigGetLine=C},{"../MxFun":34,"./MxJig":57,"./MxJigCmdManager":58}],60:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./MxFun");function a(){}(a.CreateMx=function(){i.MxFun.init(),typeof MxMain<"u"&&MxMain(e)==0||i.MxFun.createMxObject();var l=i.MxFun.getUiObject();l!=null&&(l.sTitle=i.MxFun.getCurrentDraw().getFileTitle(),setTimeout(function(){l.init()},400))},a.Main=function(){if(typeof MxUiMain<"u"){MxUiMain(e);var l=i.MxFun.getUiObject();l?.writeUICSS()}typeof MxDocumentReady>"u"?$(document).ready(function(){a.CreateMx()}):MxDocumentReady(e,a.CreateMx)},a).Main()},{"./MxFun":34}],61:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxSvgManager=void 0;var i=e("three"),a=e("three"),l=e("./SVGLoader"),c=function(){this.svg=new i.Group,this.aryMeterial=[],this.boxSize=new a.Vector3(1,1,1)},d=(E.prototype.loadSVGImp=function(f,A,S,L){new l.SVGLoader().load(f,function(N){if(N.paths.length){var G=[],ie=N.paths,le=new i.Group,ae=!0,he=!0,pe=!1,B=!1;L&&(L.drawStrokes&&(ae=L.drawStrokes),L.drawFillShapes&&(he=L.drawFillShapes),L.fillShapesWireframe&&(pe=L.fillShapesWireframe),L.strokesWireframe&&(B=L.strokesWireframe));for(var se=0;se<ie.length;se++){var oe=ie[se],O=oe.userData.style.fill;if(he&&O!==void 0&&O!=="none"){for(var T=new i.MeshBasicMaterial({color:A||new i.Color().setStyle(O),opacity:oe.userData.style.fillOpacity,transparent:oe.userData.style.fillOpacity<1,side:i.DoubleSide,depthWrite:!1,wireframe:pe}),ce=l.SVGLoader.createShapes(oe),fe=0;fe<ce.length;fe++){var Ee=ce[fe],Ae=new i.ShapeBufferGeometry(Ee),_e=new i.Mesh(Ae,T);le.add(_e)}G.push(T)}var xe=oe.userData.style.stroke;if(ae&&xe!==void 0&&xe!=="none"){T=new i.MeshBasicMaterial({color:A||new i.Color().setStyle(xe),opacity:oe.userData.style.strokeOpacity,transparent:oe.userData.style.strokeOpacity<1,side:i.DoubleSide,depthWrite:!1,wireframe:B}),fe=0;for(var De=oe.subPaths.length;fe<De;fe++){var Le=oe.subPaths[fe];(Ae=l.SVGLoader.pointsToStroke(Le.getPoints(),oe.userData.style,12,.001))&&(_e=new i.Mesh(Ae,T),le.add(_e))}G.push(T)}}S&&S(le,G)}else console.log("mx svg:"+f+" data.paths.length == 0"),S&&S(null,null)},void 0,function(){S&&S(null,null)})},E.prototype.loadSVG=function(f,A,S,L){var N=this,G=this.mapSvgUrlToData.get(f),ie=!L||!L.useBuffer||L.useBuffer;if(G&&ie){if(S)if(G==null)S(null,null);else{var le=G.svg.clone();le.boxSize=G.boxSize,S(le,G.aryMeterial)}}else this.loadSVGImp(f,A,function(ae,he){if(ae&&he){var pe=new c;pe.svg=ae,pe.aryMeterial=he;var B=new a.Box3().setFromObject(ae);pe.boxSize.x=B.max.x-B.min.x,pe.boxSize.y=B.max.y-B.min.y,pe.boxSize.x!==-1/0&&pe.boxSize.y!==-1/0||console.log("mx svg:"+f+" boxSize invalid"),N.mapSvgUrlToData.set(f,pe);var se=pe.svg.clone();se.boxSize=pe.boxSize,S&&S(se,pe.aryMeterial)}else N.mapSvgUrlToData.set(f,null),S&&S(null,null)},L)},E);function E(){this.mapSvgUrlToData=new Map}var C=(D.prototype.loadSVG=function(f,A,S,L){S&&this.mxThreeJsBuffer.loadSVG(f,A,S,L)},D);function D(){this.mxThreeJsBuffer=new d}r.MxSvgManager=C},{"./SVGLoader":62,three:19}],62:[function(e,t,r){var i,a=this&&this.__extends||(i=function(C,D){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,A){f.__proto__=A}||function(f,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(f[S]=A[S])})(C,D)},function(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function f(){this.constructor=C}i(C,D),C.prototype=D===null?Object.create(D):(f.prototype=D.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0}),r.SVGLoader=void 0;var l,c=e("three"),d=(a(E,l=c.Loader),E.prototype.load=function(C,D,f,A){var S=this,L=new c.FileLoader(S.manager);L.setPath(S.path),L.setRequestHeader(S.requestHeader),L.setWithCredentials(S.withCredentials),L.load(C,function(N){try{D(S.parse(N))}catch(G){A?A(G):console.error(G),S.manager.itemError(C)}},f,A)},E.prototype.parse=function(C){var D=this;function f(Ae,_e,xe,De,Le,Ge,rt,We){if(_e!=0&&xe!=0){De=De*Math.PI/180,_e=Math.abs(_e),xe=Math.abs(xe);var xt=(rt.x-We.x)/2,Me=(rt.y-We.y)/2,Ue=Math.cos(De)*xt+Math.sin(De)*Me,Pe=-Math.sin(De)*xt+Math.cos(De)*Me,Re=_e*_e,st=xe*xe,It=Ue*Ue,Ct=Pe*Pe,tt=It/Re+Ct/st;if(1<tt){var Ve=Math.sqrt(tt);Re=(_e*=Ve)*_e,st=(xe*=Ve)*xe}var Ze=Re*Ct+st*It,Ne=(Re*st-Ze)/Ze,qe=Math.sqrt(Math.max(0,Ne));Le===Ge&&(qe=-qe);var lt=qe*_e*Pe/xe,vt=-qe*xe*Ue/_e,bt=Math.cos(De)*lt-Math.sin(De)*vt+(rt.x+We.x)/2,nt=Math.sin(De)*lt+Math.cos(De)*vt+(rt.y+We.y)/2,Nt=A(1,0,(Ue-lt)/_e,(Pe-vt)/xe),kt=A((Ue-lt)/_e,(Pe-vt)/xe,(-Ue-lt)/_e,(-Pe-vt)/xe)%(2*Math.PI);Ae.currentPath.absellipse(bt,nt,_e,xe,Nt,Nt+kt,Ge===0,De)}else Ae.lineTo(We.x,We.y)}function A(Ae,_e,xe,De){var Le=Ae*xe+_e*De,Ge=Math.sqrt(Ae*Ae+_e*_e)*Math.sqrt(xe*xe+De*De),rt=Math.acos(Math.max(-1,Math.min(1,Le/Ge)));return Ae*De-_e*xe<0&&(rt=-rt),rt}function S(Ae,_e){_e=Object.assign({},_e);var xe={};if(Ae.hasAttribute("class"))for(var De=Ae.getAttribute("class").split(/\s/).filter(Boolean).map(function(xt){return xt.trim()}),Le=0;Le<De.length;Le++)xe=Object.assign(xe,he["."+De[Le]]);function Ge(xt,Me,Ue){Ue===void 0&&(Ue=function(Pe){return Pe.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),Pe}),Ae.hasAttribute(xt)&&(_e[Me]=Ue(Ae.getAttribute(xt))),xe[xt]&&(_e[Me]=Ue(xe[xt])),Ae.style&&Ae.style[xt]!==""&&(_e[Me]=Ue(Ae.style[xt]))}function rt(xt){return Math.max(0,Math.min(1,le(xt)))}function We(xt){return Math.max(0,le(xt))}return Ae.hasAttribute("id")&&(xe=Object.assign(xe,he["#"+Ae.getAttribute("id")])),Ge("fill","fill"),Ge("fill-opacity","fillOpacity",rt),Ge("fill-rule","fillRule"),Ge("opacity","opacity",rt),Ge("stroke","stroke"),Ge("stroke-opacity","strokeOpacity",rt),Ge("stroke-width","strokeWidth",We),Ge("stroke-linejoin","strokeLineJoin"),Ge("stroke-linecap","strokeLineCap"),Ge("stroke-miterlimit","strokeMiterLimit",We),Ge("visibility","visibility"),_e}function L(Ae,_e){return Ae-(_e-Ae)}function N(Ae,_e,xe){if(typeof Ae!="string")throw new TypeError("Invalid input: "+typeof Ae);var De,Le={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},Ge=0,rt=!0,We="",xt="",Me=[];function Ue(It,Ct,tt){var Ve=new SyntaxError('Unexpected character "'+It+'" at index '+Ct+".");throw Ve.partial=tt,Ve}function Pe(){We!==""&&(xt===""?Me.push(Number(We)):Me.push(Number(We)*Math.pow(10,Number(xt)))),xt=We=""}for(var Re=Ae.length,st=0;st<Re;st++)if(De=Ae[st],Array.isArray(_e)&&_e.includes(Me.length%xe)&&Le.FLAGS.test(De))Ge=1,We=De,Pe();else{if(Ge===0){if(Le.WHITESPACE.test(De))continue;if(Le.DIGIT.test(De)||Le.SIGN.test(De)){Ge=1,We=De;continue}if(Le.POINT.test(De)){Ge=2,We=De;continue}Le.COMMA.test(De)&&(rt&&Ue(De,st,Me),rt=!0)}if(Ge===1){if(Le.DIGIT.test(De)){We+=De;continue}if(Le.POINT.test(De)){We+=De,Ge=2;continue}if(Le.EXP.test(De)){Ge=3;continue}Le.SIGN.test(De)&&We.length===1&&Le.SIGN.test(We[0])&&Ue(De,st,Me)}if(Ge===2){if(Le.DIGIT.test(De)){We+=De;continue}if(Le.EXP.test(De)){Ge=3;continue}Le.POINT.test(De)&&We[We.length-1]==="."&&Ue(De,st,Me)}if(Ge===3){if(Le.DIGIT.test(De)){xt+=De;continue}if(Le.SIGN.test(De)){if(xt===""){xt+=De;continue}xt.length===1&&Le.SIGN.test(xt)&&Ue(De,st,Me)}}Le.WHITESPACE.test(De)?(Pe(),Ge=0,rt=!1):Le.COMMA.test(De)?(Pe(),rt=!(Ge=0)):Le.SIGN.test(De)?(Pe(),Ge=1,We=De):Le.POINT.test(De)?(Pe(),Ge=2,We=De):Ue(De,st,Me)}return Pe(),Me}var G=["mm","cm","in","pt","pc","px"],ie={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function le(Ae){var _e="px";if(typeof Ae=="string"||Ae instanceof String)for(var xe=0,De=G.length;xe<De;xe++){var Le=G[xe];if(Ae.endsWith(Le)){_e=Le,Ae=Ae.substring(0,Ae.length-Le.length);break}}var Ge=void 0;return _e==="px"&&D.defaultUnit!=="px"?Ge=ie.in[D.defaultUnit]/D.defaultDPI:(Ge=ie[_e][D.defaultUnit])<0&&(Ge=ie[_e].in*D.defaultDPI),Ge*parseFloat(Ae)}var ae=[],he={},pe=[],B=new c.Matrix3,se=new c.Matrix3,oe=new c.Matrix3,O=new c.Matrix3,T=new c.Vector2,ce=new c.Vector3,fe=new c.Matrix3,Ee=new DOMParser().parseFromString(C,"image/svg+xml");return function Ae(_e,xe){if(_e.nodeType===1){var De,Le,Ge,rt,We,xt,Me,Ue,Pe,Re,st,It,Ct=function(vt){if(!(vt.hasAttribute("transform")||vt.nodeName==="use"&&(vt.hasAttribute("x")||vt.hasAttribute("y"))))return null;var bt=function(nt){var Nt=new c.Matrix3,kt=B;if(nt.nodeName==="use"&&(nt.hasAttribute("x")||nt.hasAttribute("y"))){var Qt=le(nt.getAttribute("x")),gt=le(nt.getAttribute("y"));Nt.translate(Qt,gt)}if(nt.hasAttribute("transform"))for(var Dt=nt.getAttribute("transform").split(")"),zt=Dt.length-1;0<=zt;zt--){var et=Dt[zt].trim();if(et!==""){var sn=et.indexOf("("),bn=et.length;if(0<sn&&sn<bn){var Fn=et.substr(0,sn),St=N(et.substr(sn+1,bn-sn-1));switch(kt.identity(),Fn){case"translate":1<=St.length&&(gt=Qt=St[0],2<=St.length&&(gt=St[1]),kt.translate(Qt,gt));break;case"rotate":if(1<=St.length){var dt,At=0,Xt=0;dt=-St[0]*Math.PI/180,3<=St.length&&(At=St[1],Xt=St[2]),se.identity().translate(-At,-Xt),oe.identity().rotate(dt),O.multiplyMatrices(oe,se),se.identity().translate(At,Xt),kt.multiplyMatrices(se,O)}break;case"scale":if(1<=St.length){var cn=St[0],zn=cn;2<=St.length&&(zn=St[1]),kt.scale(cn,zn)}break;case"skewX":St.length===1&&kt.set(1,Math.tan(St[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":St.length===1&&kt.set(1,0,0,Math.tan(St[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":St.length===6&&kt.set(St[0],St[2],St[4],St[1],St[3],St[5],0,0,1)}}Nt.premultiply(kt)}}return Nt}(vt);return 0<pe.length&&bt.premultiply(pe[pe.length-1]),fe.copy(bt),pe.push(bt),bt}(_e),tt=!0,Ve=null;switch(_e.nodeName){case"svg":break;case"style":(function(vt){if(vt.sheet&&vt.sheet.cssRules&&vt.sheet.cssRules.length)for(var bt=0;bt<vt.sheet.cssRules.length;bt++){var nt=vt.sheet.cssRules[bt];if(nt.type===1)for(var Nt=nt.selectorText.split(/,/gm).filter(Boolean).map(function(Qt){return Qt.trim()}),kt=0;kt<Nt.length;kt++)he[Nt[kt]]=Object.assign(he[Nt[kt]]||{},nt.style)}})(_e);break;case"g":xe=S(_e,xe);break;case"path":xe=S(_e,xe),_e.hasAttribute("d")&&(Ve=function(vt){for(var bt=new c.ShapePath,nt=new c.Vector2,Nt=new c.Vector2,kt=new c.Vector2,Qt=!0,gt=!1,Dt=vt.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),zt=0,et=Dt.length;zt<et;zt++){var sn=Dt[zt],bn=sn.charAt(0),Fn=sn.substr(1).trim();Qt===!0&&(Qt=!(gt=!0));var St=void 0;switch(bn){case"M":for(var dt=0,At=(St=N(Fn)).length;dt<At;dt+=2)nt.x=St[dt+0],nt.y=St[dt+1],Nt.x=nt.x,Nt.y=nt.y,dt===0?bt.moveTo(nt.x,nt.y):bt.lineTo(nt.x,nt.y),dt===0&&kt.copy(nt);break;case"H":for(dt=0,At=(St=N(Fn)).length;dt<At;dt++)nt.x=St[dt],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"V":for(dt=0,At=(St=N(Fn)).length;dt<At;dt++)nt.y=St[dt],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"L":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=2)nt.x=St[dt+0],nt.y=St[dt+1],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"C":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=6)bt.bezierCurveTo(St[dt+0],St[dt+1],St[dt+2],St[dt+3],St[dt+4],St[dt+5]),Nt.x=St[dt+2],Nt.y=St[dt+3],nt.x=St[dt+4],nt.y=St[dt+5],dt===0&&gt===!0&&kt.copy(nt);break;case"S":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=4)bt.bezierCurveTo(L(nt.x,Nt.x),L(nt.y,Nt.y),St[dt+0],St[dt+1],St[dt+2],St[dt+3]),Nt.x=St[dt+0],Nt.y=St[dt+1],nt.x=St[dt+2],nt.y=St[dt+3],dt===0&&gt===!0&&kt.copy(nt);break;case"Q":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=4)bt.quadraticCurveTo(St[dt+0],St[dt+1],St[dt+2],St[dt+3]),Nt.x=St[dt+0],Nt.y=St[dt+1],nt.x=St[dt+2],nt.y=St[dt+3],dt===0&&gt===!0&&kt.copy(nt);break;case"T":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=2){var Xt=L(nt.x,Nt.x),cn=L(nt.y,Nt.y);bt.quadraticCurveTo(Xt,cn,St[dt+0],St[dt+1]),Nt.x=Xt,Nt.y=cn,nt.x=St[dt+0],nt.y=St[dt+1],dt===0&&gt===!0&&kt.copy(nt)}break;case"A":for(dt=0,At=(St=N(Fn,[3,4],7)).length;dt<At;dt+=7)if(St[dt+5]!=nt.x||St[dt+6]!=nt.y){var zn=nt.clone();nt.x=St[dt+5],nt.y=St[dt+6],Nt.x=nt.x,Nt.y=nt.y,f(bt,St[dt],St[dt+1],St[dt+2],St[dt+3],St[dt+4],zn,nt),dt===0&&gt===!0&&kt.copy(nt)}break;case"m":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=2)nt.x+=St[dt+0],nt.y+=St[dt+1],Nt.x=nt.x,Nt.y=nt.y,dt===0?bt.moveTo(nt.x,nt.y):bt.lineTo(nt.x,nt.y),dt===0&&kt.copy(nt);break;case"h":for(dt=0,At=(St=N(Fn)).length;dt<At;dt++)nt.x+=St[dt],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"v":for(dt=0,At=(St=N(Fn)).length;dt<At;dt++)nt.y+=St[dt],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"l":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=2)nt.x+=St[dt+0],nt.y+=St[dt+1],Nt.x=nt.x,Nt.y=nt.y,bt.lineTo(nt.x,nt.y),dt===0&&gt===!0&&kt.copy(nt);break;case"c":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=6)bt.bezierCurveTo(nt.x+St[dt+0],nt.y+St[dt+1],nt.x+St[dt+2],nt.y+St[dt+3],nt.x+St[dt+4],nt.y+St[dt+5]),Nt.x=nt.x+St[dt+2],Nt.y=nt.y+St[dt+3],nt.x+=St[dt+4],nt.y+=St[dt+5],dt===0&&gt===!0&&kt.copy(nt);break;case"s":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=4)bt.bezierCurveTo(L(nt.x,Nt.x),L(nt.y,Nt.y),nt.x+St[dt+0],nt.y+St[dt+1],nt.x+St[dt+2],nt.y+St[dt+3]),Nt.x=nt.x+St[dt+0],Nt.y=nt.y+St[dt+1],nt.x+=St[dt+2],nt.y+=St[dt+3],dt===0&&gt===!0&&kt.copy(nt);break;case"q":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=4)bt.quadraticCurveTo(nt.x+St[dt+0],nt.y+St[dt+1],nt.x+St[dt+2],nt.y+St[dt+3]),Nt.x=nt.x+St[dt+0],Nt.y=nt.y+St[dt+1],nt.x+=St[dt+2],nt.y+=St[dt+3],dt===0&&gt===!0&&kt.copy(nt);break;case"t":for(dt=0,At=(St=N(Fn)).length;dt<At;dt+=2)Xt=L(nt.x,Nt.x),cn=L(nt.y,Nt.y),bt.quadraticCurveTo(Xt,cn,nt.x+St[dt+0],nt.y+St[dt+1]),Nt.x=Xt,Nt.y=cn,nt.x=nt.x+St[dt+0],nt.y=nt.y+St[dt+1],dt===0&&gt===!0&&kt.copy(nt);break;case"a":for(dt=0,At=(St=N(Fn,[3,4],7)).length;dt<At;dt+=7)St[dt+5]==0&&St[dt+6]==0||(zn=nt.clone(),nt.x+=St[dt+5],nt.y+=St[dt+6],Nt.x=nt.x,Nt.y=nt.y,f(bt,St[dt],St[dt+1],St[dt+2],St[dt+3],St[dt+4],zn,nt),dt===0&&gt===!0&&kt.copy(nt));break;case"Z":case"z":bt.currentPath.autoClose=!0,0<bt.currentPath.curves.length&&(nt.copy(kt),bt.currentPath.currentPoint.copy(nt),Qt=!0);break;default:console.warn(sn)}gt=!1}return bt}(_e));break;case"rect":xe=S(_e,xe),Ve=function(vt){var bt=le(vt.getAttribute("x")||0),nt=le(vt.getAttribute("y")||0),Nt=le(vt.getAttribute("rx")||vt.getAttribute("ry")||0),kt=le(vt.getAttribute("ry")||vt.getAttribute("rx")||0),Qt=le(vt.getAttribute("width")),gt=le(vt.getAttribute("height")),Dt=.448084975506,zt=new c.ShapePath;return zt.moveTo(bt+Nt,nt),zt.lineTo(bt+Qt-Nt,nt),Nt===0&&kt===0||zt.bezierCurveTo(bt+Qt-Nt*Dt,nt,bt+Qt,nt+kt*Dt,bt+Qt,nt+kt),zt.lineTo(bt+Qt,nt+gt-kt),Nt===0&&kt===0||zt.bezierCurveTo(bt+Qt,nt+gt-kt*Dt,bt+Qt-Nt*Dt,nt+gt,bt+Qt-Nt,nt+gt),zt.lineTo(bt+Nt,nt+gt),Nt===0&&kt===0||zt.bezierCurveTo(bt+Nt*Dt,nt+gt,bt,nt+gt-kt*Dt,bt,nt+gt-kt),zt.lineTo(bt,nt+kt),Nt===0&&kt===0||zt.bezierCurveTo(bt,nt+kt*Dt,bt+Nt*Dt,nt,bt+Nt,nt),zt}(_e);break;case"polygon":xe=S(_e,xe),Re=_e,st=new c.ShapePath,It=0,Re.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(vt,bt,nt){var Nt=le(bt),kt=le(nt);It===0?st.moveTo(Nt,kt):st.lineTo(Nt,kt),It++}),st.currentPath.autoClose=!0,Ve=st;break;case"polyline":xe=S(_e,xe),Me=_e,Ue=new c.ShapePath,Pe=0,Me.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(vt,bt,nt){var Nt=le(bt),kt=le(nt);Pe===0?Ue.moveTo(Nt,kt):Ue.lineTo(Nt,kt),Pe++}),Ue.currentPath.autoClose=!1,Ve=Ue;break;case"circle":xe=S(_e,xe),Ve=function(vt){var bt=le(vt.getAttribute("cx")||0),nt=le(vt.getAttribute("cy")||0),Nt=le(vt.getAttribute("r")||0),kt=new c.Path;kt.absarc(bt,nt,Nt,0,2*Math.PI,!1);var Qt=new c.ShapePath;return Qt.subPaths.push(kt),Qt}(_e);break;case"ellipse":xe=S(_e,xe),Ve=function(vt){var bt=le(vt.getAttribute("cx")||0),nt=le(vt.getAttribute("cy")||0),Nt=le(vt.getAttribute("rx")||0),kt=le(vt.getAttribute("ry")||0),Qt=new c.Path;Qt.absellipse(bt,nt,Nt,kt,0,2*Math.PI,void 0,void 0);var gt=new c.ShapePath;return gt.subPaths.push(Qt),gt}(_e);break;case"line":xe=S(_e,xe),Le=le((De=_e).getAttribute("x1")||0),Ge=le(De.getAttribute("y1")||0),rt=le(De.getAttribute("x2")||0),We=le(De.getAttribute("y2")||0),(xt=new c.ShapePath).moveTo(Le,Ge),xt.lineTo(rt,We),xt.currentPath.autoClose=!1,Ve=xt;break;case"defs":tt=!1;break;case"use":xe=S(_e,xe);var Ze=_e.href.baseVal.substring(1),Ne=_e.viewportElement.getElementById(Ze);Ne?Ae(Ne,xe):console.warn("SVGLoader: 'use node' references non-existent node id: "+Ze)}if(Ve&&(xe.fill!==void 0&&xe.fill!=="none"&&Ve.color.setStyle(xe.fill),function(vt,bt){function nt(Fn){ce.set(Fn.x,Fn.y,1).applyMatrix3(bt),Fn.set(ce.x,ce.y)}for(var Nt=function(Fn){return Fn.elements[1]!==0||Fn.elements[3]!==0}(bt),kt=vt.subPaths,Qt=0,gt=kt.length;Qt<gt;Qt++)for(var Dt=kt[Qt].curves,zt=0;zt<Dt.length;zt++){var et=Dt[zt];et.isLineCurve?(nt(et.v1),nt(et.v2)):et.isCubicBezierCurve?(nt(et.v0),nt(et.v1),nt(et.v2),nt(et.v3)):et.isQuadraticBezierCurve?(nt(et.v0),nt(et.v1),nt(et.v2)):et.isEllipseCurve&&(Nt&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),T.set(et.aX,et.aY),nt(T),et.aX=T.x,et.aY=T.y,et.xRadius*=(bn=bt.elements,Math.sqrt(bn[0]*bn[0]+bn[1]*bn[1])),et.yRadius*=(sn=bt.elements,Math.sqrt(sn[3]*sn[3]+sn[4]*sn[4])))}var sn,bn}(Ve,fe),ae.push(Ve),Ve.userData={node:_e,style:xe}),tt)for(var qe=_e.childNodes,lt=0;lt<qe.length;lt++)Ae(qe[lt],xe);Ct&&(pe.pop(),0<pe.length?fe.copy(pe[pe.length-1]):fe.identity())}}(Ee.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:ae,xml:Ee.documentElement}},E.createShapes=function(C){var D=999999999,f={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},A={loc:f.ORIGIN,t:0};function S(B,se,oe,O){var T=B.x,ce=se.x,fe=oe.x,Ee=O.x,Ae=B.y,_e=se.y,xe=oe.y,De=O.y,Le=(Ee-fe)*(Ae-xe)-(De-xe)*(T-fe),Ge=(De-xe)*(ce-T)-(Ee-fe)*(_e-Ae),rt=Le/Ge,We=((ce-T)*(Ae-xe)-(_e-Ae)*(T-fe))/Ge;if(Ge==0&&Le!=0||rt<=0||1<=rt||We<0||1<We)return null;if(Le==0&&Ge==0){for(var xt=0;xt<2;xt++){if(L(xt===0?oe:O,B,se),A.loc==f.ORIGIN)return{x:(Me=xt===0?oe:O).x,y:Me.y,t:A.t};if(A.loc==f.BETWEEN)return{x:+(T+A.t*(ce-T)).toPrecision(10),y:+(Ae+A.t*(_e-Ae)).toPrecision(10),t:A.t}}return null}for(xt=0;xt<2;xt++){var Me;if(L(xt===0?oe:O,B,se),A.loc==f.ORIGIN)return{x:(Me=xt===0?oe:O).x,y:Me.y,t:A.t}}return{x:+(T+rt*(ce-T)).toPrecision(10),y:+(Ae+rt*(_e-Ae)).toPrecision(10),t:rt}}function L(B,se,oe){var O,T=oe.x-se.x,ce=oe.y-se.y,fe=B.x-se.x,Ee=B.y-se.y,Ae=T*Ee-fe*ce;return B.x===se.x&&B.y===se.y?(A.loc=f.ORIGIN,A.t=0):B.x===oe.x&&B.y===oe.y?(A.loc=f.DESTINATION,A.t=1,0):void(Ae<-Number.EPSILON?A.loc=f.LEFT:Ae>Number.EPSILON?A.loc=f.RIGHT:T*fe<0||ce*Ee<0?A.loc=f.BEHIND:Math.sqrt(T*T+ce*ce)<Math.sqrt(fe*fe+Ee*Ee)?A.loc=f.BEYOND:(O=T!=0?fe/T:Ee/ce,A.loc=f.BETWEEN,A.t=O))}function N(B,se,oe){var O=new c.Vector2;se.getCenter(O);var T=[];return oe.forEach(function(ce){ce.boundingBox.containsPoint(O)&&function(fe,Ee){for(var Ae=[],_e=[],xe=1;xe<fe.length;xe++)for(var De=fe[xe-1],Le=fe[xe],Ge=function(We){var xt=Ee[We-1],Me=Ee[We],Ue=S(De,Le,xt,Me);Ue!==null&&Ae.find(function(Pe){return Pe.t<=Ue.t+Number.EPSILON&&Pe.t>=Ue.t-Number.EPSILON})===void 0&&(Ae.push(Ue),_e.push(new c.Vector2(Ue.x,Ue.y)))},rt=1;rt<Ee.length;rt++)Ge(rt);return _e}(B,ce.points).forEach(function(fe){T.push({identifier:ce.identifier,isCW:ce.isCW,point:fe})})}),T.sort(function(ce,fe){return ce.point.x-fe.point.x}),T}var G=0,ie=D,le=-D,ae=C.subPaths.map(function(B){for(var se=B.getPoints(),oe=-D,O=D,T=-D,ce=D,fe=0;fe<se.length;fe++){var Ee=se[fe];Ee.y>oe&&(oe=Ee.y),Ee.y<O&&(O=Ee.y),Ee.x>T&&(T=Ee.x),Ee.x<ce&&(ce=Ee.x)}return le<=T&&(le=T+1),ce<=ie&&(ie=ce-1),{curves:B.curves,points:se,isCW:c.ShapeUtils.isClockWise(se),identifier:G++,boundingBox:new c.Box2(new c.Vector2(ce,O),new c.Vector2(T,oe))}});ae=ae.filter(function(B){return 1<B.points.length}),G=0;var he=(ae=ae.map(function(B){return B.identifier=G,G++,B})).map(function(B){return function(se,oe,O,T,ce){ce!=null&&ce!==""||(ce="nonzero");var fe=new c.Vector2;se.boundingBox.getCenter(fe);var Ee=N([new c.Vector2(O,fe.y),new c.Vector2(T,fe.y)],se.boundingBox,oe);Ee.sort(function(Ue,Pe){return Ue.point.x-Pe.point.x});var Ae=[],_e=[];Ee.forEach(function(Ue){Ue.identifier===se.identifier?Ae.push(Ue):_e.push(Ue)});for(var xe=Ae[0].point.x,De=[],Le=0;Le<_e.length&&_e[Le].point.x<xe;)0<De.length&&De[De.length-1]===_e[Le].identifier?De.pop():De.push(_e[Le].identifier),Le++;if(De.push(se.identifier),ce==="evenodd"){var Ge=De.length%2==0,rt=De[De.length-2];return{identifier:se.identifier,isHole:Ge,for:rt}}if(ce==="nonzero"){Ge=!0;for(var We=rt=null,xt=0;xt<De.length;xt++){var Me=De[xt];Ge?(We=oe[Me].isCW,Ge=!1,rt=Me):We!==oe[Me].isCW&&(We=oe[Me].isCW,Ge=!0)}return{identifier:se.identifier,isHole:Ge,for:rt}}console.warn('fill-rule: "'+ce+'" is currently not implemented.')}(B,ae,ie,le,C.userData.style.fillRule)}),pe=[];return ae.forEach(function(B){if(!he[B.identifier].isHole){var se=new c.Shape;se.curves=B.curves,he.filter(function(oe){return oe.isHole&&oe.for===B.identifier}).forEach(function(oe){var O=ae[oe.identifier],T=new c.Path;T.curves=O.curves,se.holes.push(T)}),pe.push(se)}}),pe},E.getStrokeStyle=function(C,D,f,A,S){return{strokeColor:D=D!==void 0?D:"#000",strokeWidth:C=C!==void 0?C:1,strokeLineJoin:f=f!==void 0?f:"miter",strokeLineCap:A=A!==void 0?A:"butt",strokeMiterLimit:S=S!==void 0?S:4}},E.pointsToStroke=function(C,D,f,A){var S=[],L=[],N=[];if(E.pointsToStrokeWithBuffers(C,D,f,A,S,L,N)===0)return null;var G=new c.BufferGeometry;return G.setAttribute("position",new c.Float32BufferAttribute(S,3)),G.setAttribute("normal",new c.Float32BufferAttribute(L,3)),G.setAttribute("uv",new c.Float32BufferAttribute(N,2)),G},E.pointsToStrokeWithBuffers=function(C,D,f,A,S,L,N,G){var ie=new c.Vector2,le=new c.Vector2,ae=new c.Vector2,he=new c.Vector2,pe=new c.Vector2,B=new c.Vector2,se=new c.Vector2,oe=new c.Vector2,O=new c.Vector2,T=new c.Vector2,ce=new c.Vector2,fe=new c.Vector2,Ee=new c.Vector2,Ae=new c.Vector2,_e=new c.Vector2,xe=new c.Vector2,De=new c.Vector2;f=f!==void 0?f:12,A=A!==void 0?A:.001,G=G!==void 0?G:0;var Le=(C=function(At){for(var Xt=!1,cn=1,zn=At.length-1;cn<zn;cn++)if(At[cn].distanceTo(At[cn+1])<A){Xt=!0;break}if(!Xt)return At;var Vr=[];for(Vr.push(At[0]),cn=1,zn=At.length-1;cn<zn;cn++)At[cn].distanceTo(At[cn+1])>=A&&Vr.push(At[cn]);return Vr.push(At[At.length-1]),Vr}(C)).length;if(Le<2)return 0;var Ge,rt,We,xt,Me,Ue,Pe=C[0].equals(C[Le-1]),Re=C[0],st=D.strokeWidth/2,It=1/(Le-1),Ct=0,tt=!1,Ve=0,Ze=3*G,Ne=2*G;zt(C[0],C[1],ie).multiplyScalar(st),oe.copy(C[0]).sub(ie),O.copy(C[0]).add(ie),T.copy(oe),ce.copy(O);for(var qe=1;qe<Le;qe++){Ge=C[qe],rt=qe===Le-1?Pe?C[1]:void 0:C[qe+1];var lt=ie;if(zt(Re,Ge,lt),ae.copy(lt).multiplyScalar(st),fe.copy(Ge).sub(ae),Ee.copy(Ge).add(ae),We=Ct+It,xt=!1,rt!==void 0){zt(Ge,rt,le),ae.copy(le).multiplyScalar(st),Ae.copy(Ge).sub(ae),_e.copy(Ge).add(ae),Me=!0,ae.subVectors(rt,Re),lt.dot(ae)<0&&(Me=!1),qe===1&&(tt=Me),ae.subVectors(rt,Ge),ae.normalize();var vt=Math.abs(lt.dot(ae));if(vt!==0){var bt=st/vt;ae.multiplyScalar(-bt),he.subVectors(Ge,Re),pe.copy(he).setLength(bt).add(ae),xe.copy(pe).negate();var nt=pe.length(),Nt=he.length();he.divideScalar(Nt),B.subVectors(rt,Ge);var kt=B.length();switch(B.divideScalar(kt),he.dot(xe)<Nt&&B.dot(xe)<kt&&(xt=!0),De.copy(pe).add(Ge),xe.add(Ge),Ue=!1,xt?Me?(_e.copy(xe),Ee.copy(xe)):(Ae.copy(xe),fe.copy(xe)):bn(),D.strokeLineJoin){case"bevel":Fn(Me,xt,We);break;case"round":St(Me,xt),Me?sn(Ge,fe,Ae,We,0):sn(Ge,_e,Ee,We,1);break;default:var Qt=st*D.strokeMiterLimit/nt;if(Qt<1){if(D.strokeLineJoin!=="miter-clip"){Fn(Me,xt,We);break}St(Me,xt),Me?(B.subVectors(De,fe).multiplyScalar(Qt).add(fe),se.subVectors(De,Ae).multiplyScalar(Qt).add(Ae),et(fe,We,0),et(B,We,0),et(Ge,We,.5),et(Ge,We,.5),et(B,We,0),et(se,We,0),et(Ge,We,.5),et(se,We,0),et(Ae,We,0)):(B.subVectors(De,Ee).multiplyScalar(Qt).add(Ee),se.subVectors(De,_e).multiplyScalar(Qt).add(_e),et(Ee,We,1),et(B,We,1),et(Ge,We,.5),et(Ge,We,.5),et(B,We,1),et(se,We,1),et(Ge,We,.5),et(se,We,1),et(_e,We,1))}else xt?(Me?(et(O,Ct,1),et(oe,Ct,0),et(De,We,0),et(O,Ct,1),et(De,We,0),et(xe,We,1)):(et(O,Ct,1),et(oe,Ct,0),et(De,We,1),et(oe,Ct,0),et(xe,We,0),et(De,We,1)),Me?Ae.copy(De):_e.copy(De)):Me?(et(fe,We,0),et(De,We,0),et(Ge,We,.5),et(Ge,We,.5),et(De,We,0),et(Ae,We,0)):(et(Ee,We,1),et(De,We,1),et(Ge,We,.5),et(Ge,We,.5),et(De,We,1),et(_e,We,1)),Ue=!0}}else bn()}else bn();Pe||qe!==Le-1||dt(C[0],T,ce,Me,!0,Ct),Ct=We,Re=Ge,oe.copy(Ae),O.copy(_e)}if(Pe){if(xt&&S){var gt=De,Dt=xe;tt!==Me&&(gt=xe,Dt=De),Me?(Ue||tt)&&(Dt.toArray(S,0),Dt.toArray(S,9),Ue&&gt.toArray(S,3)):!Ue&&tt||(Dt.toArray(S,3),Dt.toArray(S,9),Ue&&gt.toArray(S,0))}}else dt(Ge,fe,Ee,Me,!1,We);return Ve;function zt(At,Xt,cn){return cn.subVectors(Xt,At),cn.set(-cn.y,cn.x).normalize()}function et(At,Xt,cn){S&&(S[Ze]=At.x,S[Ze+1]=At.y,S[Ze+2]=0,L&&(L[Ze]=0,L[Ze+1]=0,L[Ze+2]=1),Ze+=3,N&&(N[Ne]=Xt,N[Ne+1]=cn,Ne+=2)),Ve+=3}function sn(At,Xt,cn,zn,Vr){ie.copy(Xt).sub(At).normalize(),le.copy(cn).sub(At).normalize();var Un=Math.PI,Mn=ie.dot(le);Math.abs(Mn)<1&&(Un=Math.abs(Math.acos(Mn))),Un/=f,ae.copy(Xt);for(var jr=0,Bi=f-1;jr<Bi;jr++)he.copy(ae).rotateAround(At,Un),et(ae,zn,Vr),et(he,zn,Vr),et(At,zn,.5),ae.copy(he);et(he,zn,Vr),et(cn,zn,Vr),et(At,zn,.5)}function bn(){et(O,Ct,1),et(oe,Ct,0),et(fe,We,0),et(O,Ct,1),et(fe,We,1),et(Ee,We,0)}function Fn(At,Xt,cn){Xt?(At?(et(O,Ct,1),et(oe,Ct,0),et(fe,We,0),et(O,Ct,1),et(fe,We,0),et(xe,We,1),et(fe,cn,0),et(Ae,cn,0)):(et(O,Ct,1),et(oe,Ct,0),et(Ee,We,1),et(oe,Ct,0),et(xe,We,0),et(Ee,We,1),et(Ee,cn,1),et(_e,cn,0)),et(xe,cn,.5)):(At?(et(fe,cn,0),et(Ae,cn,0)):(et(Ee,cn,1),et(_e,cn,0)),et(Ge,cn,.5))}function St(At,Xt){Xt&&(At?(et(O,Ct,1),et(oe,Ct,0),et(fe,We,0),et(O,Ct,1),et(fe,We,0),et(xe,We,1),et(fe,Ct,0),et(Ge,We,.5),et(xe,We,1),et(Ge,We,.5),et(Ae,Ct,0),et(xe,We,1)):(et(O,Ct,1),et(oe,Ct,0),et(Ee,We,1),et(oe,Ct,0),et(xe,We,0),et(Ee,We,1),et(Ee,Ct,1),et(xe,We,0),et(Ge,We,.5),et(Ge,We,.5),et(xe,We,0),et(_e,Ct,1)))}function dt(At,Xt,cn,zn,Vr,Un){switch(D.strokeLineCap){case"round":Vr?sn(At,cn,Xt,Un,.5):sn(At,Xt,cn,Un,.5);break;case"square":if(Vr)ie.subVectors(Xt,At),le.set(ie.y,-ie.x),ae.addVectors(ie,le).add(At),he.subVectors(le,ie).add(At),zn?(ae.toArray(S,3),he.toArray(S,0),he.toArray(S,9)):(ae.toArray(S,3),ae.toArray(S,9),he.toArray(S,0));else{ie.subVectors(cn,At),le.set(ie.y,-ie.x),ae.addVectors(ie,le).add(At),he.subVectors(le,ie).add(At);var Mn=S.length;zn?(ae.toArray(S,Mn-3),he.toArray(S,Mn-6)):(ae.toArray(S,Mn-6),he.toArray(S,Mn-3)),he.toArray(S,Mn-12)}}}},E);function E(C){var D=l.call(this,C)||this;return D.defaultDPI=90,D.defaultUnit="px",D}r.SVGLoader=d},{three:19}],63:[function(e,t,r){var i,a=this&&this.__extends||(i=function(B,se){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,O){oe.__proto__=O}||function(oe,O){for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(oe[T]=O[T])})(B,se)},function(B,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function oe(){this.constructor=B}i(B,se),B.prototype=se===null?Object.create(se):(oe.prototype=se.prototype,new oe)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxTest=void 0;var l,c,d,E=e("../Operate/MrxDbgUiPrBase"),C=e("../Operate/MrxDbgUiPrPoint"),D=e("../MxThreeJS"),f=e("three"),A=e("../MxFun"),S=e("../View/MxDbEntity"),L=e("../MrxDbgUtils"),N=(a(G,l=S.MxDbEntityUserObject),G.prototype.worldDraw=function(B){var se=new f.Vector3(this.pt.x-this.r,this.pt.y-this.r,0),oe=new f.Vector3(this.pt.x+this.r,this.pt.y+this.r,0);new f.Vector3(se.x,oe.y);var O=new f.Vector3(oe.x,se.y);B.setDashLineDisplay(!0),B.setDash(.1,.2),B.drawLine(O,se)},G.prototype.setPoint=function(B){this.pt=B},G.prototype.setR=function(B){this.r=B},G.prototype.getTypeName=function(){return"MxDbTest"},G.prototype.getGripPoints=function(){var B=[];return B.push(this.pt),B},G.prototype.moveGripPointsAt=function(B,se){return B==0&&this.pt.add(se),!0},G.prototype.dwgIn=function(B){return l.prototype.dwgIn.call(this,B),this.pt.copy(B.pt),this.r=B.r,!0},G.prototype.dwgOut=function(B){return l.prototype.dwgOut.call(this,B),B.pt=this.pt,B.r=this.r,B},G.prototype.create=function(){return new G},G);function G(){var B=l!==null&&l.apply(this,arguments)||this;return B.pt=new f.Vector3,B.r=100,B}function ie(B){var se=new C.MrxDbgUiPrPoint;se.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),se.go(function(oe){if(oe==0){var O=se.value(),T=new f.Vector3;T.x=O.x,T.y=O.y;var ce=new E.McEdGetPointWorldDrawObject;ce.setDraw(function(fe,Ee){Ee.setColor(255),Ee.drawLine(fe,T)}),se.setUserDraw(ce),se.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),se.go(function(fe){if(fe==0){var Ee=se.value(),Ae=A.MxFun.getCurrentDraw(),_e=D.MxThreeJS.createLine(O,Ee,16777215);Ae.addObject(_e)}})}})}function le(){var B=new C.MrxDbgUiPrPoint;B.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),B.go(function(se){if(se==0){var oe=A.MxFun.getCurrentDraw(),O=new N;O.setColor(16711680),O.setPoint(B.value()),O.setR(oe.screenCoordLong2Doc(100)),oe.addMxEntity(O),oe.addMxCurrentSelect(O.objectId())}})}function ae(){L.MrxDbgUtils.selectEnt("Test").then(function(B){console.log(B)})}function he(){var B=A.MxFun.getCurrentDraw();d?(B.eraseAllMxEntity(),B.loadMxEntityFromJson(d)):(d=B.saveMxEntityToJson(),console.log(d))}function pe(){A.MxFun.openFile("demo/buf/hhhh.dwg?token=123456")}(c||(r.MxTest=c={})).registerCommand=function(){console.log("regist mx test"),new N().init(),A.MxFun.addCommand("MxTest_GetPoint",ie),A.MxFun.addCommand("MxTest_DrawCustomEntity",le),A.MxFun.addCommand("MxTest_EntSel",ae),A.MxFun.addCommand("MxTest_SaveMxDbEntityToJson",he),A.MxFun.addCommand("MxTest_OpenFile",pe),A.MxFun.addWindowsEvent(function(B,se){if(B=="mouseup"){if(A.MxFun.isRunningCommand()||se.button!=0)return 0;var oe=se.srcElement;if(oe&&oe.tagName=="CANVAS"){var O=A.MxFun.getCurrentDraw(),T=new f.Vector3(se.offsetX,se.offsetY,0);O.findMxEntityAtPoint(T,!1).length&&se.preventDefault()}return 0}})}},{"../MrxDbgUtils":20,"../MxFun":34,"../MxThreeJS":44,"../Operate/MrxDbgUiPrBase":51,"../Operate/MrxDbgUiPrPoint":52,"../View/MxDbEntity":71,three:19}],64:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.MxUiObject=exports.MxToolBarItem=exports.MxMenuItem=void 0;var MxFun_1=require("../MxFun"),MxMenuItem=function(){this.id=-1,this.text="",this.evalString="",this.parentId=-1};exports.MxMenuItem=MxMenuItem;var MxToolBarItem=function(){this.isMxCommand=!1,this.itemid=""};exports.MxToolBarItem=MxToolBarItem;var MxUiObject=function(){function MxUiObject(){this.vecMenuItem=new Array,this.vecToolBarItem=new Array,this.uiPath="./ui",this.idMenuItemCount=100,this.isShowTitle=!1,this.isShowStructTree=!1,this.isEnableLoading=!0,this.isShowLayer=!1,this.isShowTakeColor=!1,this.isShowLayout=!1,this.isEnableObjectProperty=!1,this.isShowToolbar=!1,this.isShowMainMenu=!1,this.sTitle="",this.sLanguageTable={layout:"\u5E03\u5C40",layer:"\u56FE\u5C42",visible:"\u53EF\u89C1",color:"\u989C\u8272",name:"\u540D\u5B57",status:"\u72B6\u6001",openComplete:"\u63D0\u793A\uFF1A\u6253\u5F00\u56FE\u7EB8\u5B8C\u6210"}}return MxUiObject.prototype.SetLayoutData=function(e){this.vecLayoutData=e},MxUiObject.prototype.CallMxCommand=function(e){MxFun_1.MxFun.callCommand(e,"")},MxUiObject.prototype.EvalJs=function(value){eval(value)},MxUiObject.prototype.SetLayerData=function(e){this.vecLayerData=e},MxUiObject.prototype.SetSketchLayerData=function(e){this.vecSketchLayerData=e},MxUiObject.prototype.init=function(){this.onInit()},MxUiObject.prototype.addMenuItem=function(e,t,r,i){t===void 0&&(t=""),r===void 0&&(r=-1),i===void 0&&(i=-1);var a=new MxMenuItem;a.text=e,a.evalString=t,i==-1&&(i=this.idMenuItemCount,this.idMenuItemCount++),a.id=i,a.parentId=r,this.vecMenuItem.push(a)},MxUiObject.prototype.addToolBarItem=function(e,t,r,i,a){t===void 0&&(t=""),r===void 0&&(r=""),i===void 0&&(i=!1),a===void 0&&(a="");var l=new MxToolBarItem;l.image=e,l.evalString=r,l.text=t,l.isMxCommand=i,l.itemid=a,this.vecToolBarItem.push(l)},MxUiObject.prototype.setPath=function(e){this.uiPath=e},MxUiObject.prototype.getPath=function(){return this.uiPath},MxUiObject.prototype.create=function(){this.onCreate()},MxUiObject.prototype.writeUICSS=function(){var e=this.uiPath;MxFun_1.MxFun.isPC()?(document.write("<link rel='stylesheet' href='"+e+"/css/mxbimpcm.css'>"),this.isShowMainMenu&&(document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts2.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightmnu.css'>"),document.write("<script type='text/javascript' src='"+e+"/hc-mobile-nav.js'><\/script>"))):(document.write("<link rel='stylesheet' href='"+e+"/css/mxmobile.css'>"),this.isShowMainMenu&&(document.write("<link href='"+e+"/css/font-awesome.min.css' rel='stylesheet'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts1.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightfacefonts2.css'>"),document.write("<link rel='stylesheet' href='"+e+"/css/rightmnu.css'>"),document.write("<script type='text/javascript' src='"+e+"/hc-mobile-nav.js'><\/script>")))},MxUiObject}();exports.MxUiObject=MxUiObject},{"../MxFun":34}],65:[function(e,t,r){var i,a=this&&this.__extends||(i=function(D,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,S){A.__proto__=S}||function(A,S){for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(A[L]=S[L])})(D,f)},function(D,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function A(){this.constructor=D}i(D,f),D.prototype=f===null?Object.create(f):(A.prototype=f.prototype,new A)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiObjectMobile=void 0;var l,c=e("./MxUiObject"),d=e("../MxFun"),E=(a(C,l=c.MxUiObject),C.prototype.onCreate=function(){this.isShowTitle&&this.WriteTitle(),this.WriteStructTree(),this.isEnableLoading&&this.WriteLoading(),this.WriteLayer(),this.WriteTakeColor(),this.WriteLayout(),this.isEnableObjectProperty&&this.WriteObjectProperty(),this.isShowToolbar&&this.WriteToolbar()},C.prototype.onInit=function(){this.InitEvent()},C.prototype.ShowLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0)"),$(".Prompt").fadeIn(100),$(".Prompt span").css("display","none"))},C.prototype.HideLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0.8)"),$(".Prompt div").fadeOut(100),$(".Prompt span").fadeIn(200),setTimeout(function(){$(".Prompt").fadeOut(1e3)},1e3))},C.prototype.ShowObjectProperty=function(D){if(D.length!=0){var f;f=typeof D=="string"?JSON.parse(D):D;var A="";for(var S in f){var L=f[S];for(var N in A+='<tbody class="bf-group undefined bf-collapse">',A+='<tr class="bf-group-title">',A+='<td colspan="2"><i class="bf-icon" style=" padding: 12px;"></i>'+L.name+"</td>",A+="</tr>",L.datas){var G=L.datas[N];A+="<tr class='bf-group-content'>",A+="<td class='bf-key'>"+G.name+"</td>",A+="<td class='bf-value'>"+G.value+"</td>",A+="</tr>"}A+="</tbody>"}document.getElementById("ComponentContent").innerHTML=A,$(".bf-group").click(function(){$(this).hasClass("bf-collapse")?$(this).removeClass("bf-collapse"):$(this).addClass("bf-collapse")})}},C.prototype.HideObjectProp=function(){},C.prototype.SwitchShowLayer=function(){var D=document.getElementById("LayerInterface");D.style.display=="none"?(D.style.display="block",D.style.left="80px",D.style.top="50px"):D.style.display="none"},C.prototype.SwitchShowStructTree=function(){},C.prototype.Chosecolor=function(){document.getElementById("color-picker").click()},C.prototype.ColorChange=function(D){document.getElementById("colorbox").style.backgroundColor=D,d.MxFun.setCurrentColor(D)},C.prototype.SwitchShowLayout=function(){var D=document.getElementById("LayerOutInterface");D.style.display=="none"?D.style.display="block":D.style.display="none"},C.prototype.WriteTitle=function(){var D=this.uiPath;document.write("<div class='bar1'>"),document.write("<img src='"+D+"/image/mxcad.png' style='height: 50%;position: absolute;top: 12px;left: 10px;'>"),document.write("<span  class='barspan'  style='position: absolute;left: 45px;'>"),document.write("</span>"),document.write("<div id='container'>"),this.isShowMainMenu&&(document.write("<header>"),document.write("<div class='wrapper cf'style='z-index: 999'>"),document.write("<nav id='main-nav' >"),document.write("</nav>"),document.write("<a class='toggle'>"),document.write("<span></span>"),document.write("</a>"),document.write("</div>"),document.write("</header>")),document.write("</div>"),document.write("</div>")},C.prototype.WriteToolbar=function(){document.write("<div id='MainMenuContent' class='bf-toolbar bf-toolbar-bottom'>"),document.write("</div>")},C.prototype.WriteLoading=function(){var D=this.uiPath;document.write("<div class='Prompt' style='width: 100px;height:30px;position:"),document.write("absolute;top: 60px;left: 50%;margin-left: -50px;color: #fff;text-align: center;'>"),document.write("<div style='text-align: center;'>"),document.write("<img src='"+D+"/image/loading.gif' alt='' style='width:30px;height:30px;float: left'>"),document.write("<p style='color:black;vertical-align: middle;float: left;  margin-top: 5px;margin-left: 5px;'>\u52A0\u8F7D\u4E2D.....</p>"),document.write("</div>"),document.write("<span style='vertical-align: middle;display: none'>\u56FE\u7EB8\u52A0\u8F7D\u5B8C\u6BD5</span>"),document.write("</div>")},C.prototype.WriteLayer=function(){var D=this.uiPath;this.isShowLayer&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' title='ModelTree' style='position: absolute; top:111px;left: 0px;' onclick='uiObj.SwitchShowLayer()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u56FE\u5C42'>"),document.write("<img src='"+D+"/image/layer.png.gif' alt='' style='width: 24px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerInterface' title='\u56FE\u5C42'"),document.write("style='left: 0px;"),document.write("top: 0px;"),document.write("width: 100%;"),document.write("height: 100%;"),document.write("display: none;'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayer()' style='text-align: center;'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u56FE\u5C42</div>"),document.write("<div>"),document.write("<div class='layer-title' style='width: 12.5%;'>\u53EF\u89C1</div>"),document.write("<div class='layer-title' style='width: 12.5%;'>\u989C\u8272</div>"),document.write("<div class='layer-title' style='width: 62.5%'>\u540D\u5B57</div>"),document.write("<div class='layer-title' style='width: 12.5%'>\u72B6\u6001</div>"),document.write("</div>"),document.write("<div id='Layer-Info'  style='margin-top: 26px;height: 79%;width: 100%; position: absolute;overflow-y: auto;'>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteStructTree=function(){this.isShowStructTree&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='Fmj' title='ModelTree'"),document.write("style='position: absolute; top:60px;left: 0px;' onclick='uiObj.SwitchShowStructTree()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u6784\u4EF6\u6811'><i class='fa fa-sitemap' aria-hidden='true' style='font-size: 24px;'></i></div>"),document.write("</div>")),document.write("<div class='bf-panel  bf-has-title bf-sizable tree-panel' id='dv' title='\u76EE\u5F55\u6811' style='left: 0px; top: 0px; width: 100%; height: 100%; display: none;'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowStructTree()'><i class='fa fa-times fa-2x' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u76EE\u5F55\u6811</div>"),document.write("<div class='bf-panel-body' style='padding-top: 57px;overflow-y: scroll;'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-tree-header' style='margin-top: -57px;'>"),document.write("<div class='bf-tabs bf-tabs-tree'>"),document.write("<ul class='bf-tabs-list'>"),document.write("<li class='bf-tabs-option my-option undefined active' id='component'>\u6784\u4EF6</li>"),document.write("<li class='bf-tabs-option my-option undefined' id='area'>\u7A7A\u95F4</li>"),document.write("<li class='bf-tabs-option my-option undefined' id='drawing'>\u56FE\u7EB8</li>"),document.write("</ul>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("<div class='' style='margin-bottom: 100px;' id='DirectoryContent'>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteTakeColor=function(){var D=this.uiPath;this.isShowTakeColor&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='TakeColor'"),document.write("style='position: absolute;left: 0px; top: 162px;width: 45px; '>"),document.write("<div class='bf-button' onclick='uiObj.Chosecolor()' style='opacity: 1;width: 45px;'>"),document.write("<div  style='position: relative;margin-left: 10px;margin-top: -5px;'>"),document.write("<img src='"+D+"/image/color.png' alt='' style='width: 40px;margin-left: -21px;'>"),document.write("</div>"),document.write("<div id='colorbox' style='width: 30px;height: 5px;background-color: #cccccc;margin-left: -3px;margin-top: -5px;'>"),document.write("</div>"),document.write("<div style='width: 18px;height: 40px;float: right;margin-top: -38px;margin-left: 14px;position: absolute;'>"),document.write("<img src='"+D+"/image/daojiao.png' alt='' style='width: 15px;margin-top: 10px;z-index: 999;position: relative'>"),document.write("<input id='color-picker' type='color' value='#c0c0c0'   style='display: none' onchange='colorChange(value)'>"),document.write("</div>"),document.write("</div>"),document.write("</div>"))},C.prototype.WriteLayout=function(){var D=this.uiPath;this.isShowLayout&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerOut'"),document.write("style='position: absolute;left: 0px; top: 213px; ' onclick='uiObj.SwitchShowLayout()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+D+"/image/layout.png' alt='' style='width: 24px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerOutInterface'"),document.write("style='left: 0; top: 0; width: 100%;display:none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayout()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='buju' style='cursor: move; user-select: none;'>\u5E03\u5C40</div>"),document.write("<div>"),document.write("</div>"),document.write("<div id=''>"),document.write("<div>"),document.write("<table  class='bf-table'>"),document.write("<tbody class='bf-group'>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div layer_on'></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div' ></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div' ></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>"),document.write("<td class='bf_layerout_td'  style='width: 60px' >"),document.write("<div class='bf_layer_div'></div>"),document.write("</td>"),document.write("<td  style='width: 238px' >"),document.write("<span  style='color: white;cursor: pointer;'>LayerOut</span>"),document.write("</td>"),document.write("</tr>"),document.write("</tbody>"),document.write("</table>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteObjectProperty=function(){document.write("<div class='bf-panel bf-has-title bf-sizable property-panel' id='fmj2' title='\u6784\u4EF6\u8BE6\u60C5' style='left: 0px; top: 0px; width: 100%; height: 100%;display: none;'>"),document.write("<div class='bf-close' id='close2' style='top:4.0em;'><i class='fa fa-times fa-2x' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u6784\u4EF6\u8BE6\u60C5</div>"),document.write("<div class='bf-panel-body' style='padding-top: 41px;'>"),document.write("<div class='bf-panel-container bf-scroll-bar' style='top:0;width: 100%;height: 100%;overflow-y: auto;position: relative;'>"),document.write("<table class='bf-table' id='ComponentContent'>"),document.write("</table>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},C.prototype.UpDisplayLayout=function(){},C.prototype.UpDisplayLayer=function(){var D=this.uiPath,f=this.vecLayerData,A=this.vecSketchLayerData,S="";if(A!=null){var L=A;for(var N in L){S+="<div>";var G="hide.png";L[N].off==0&&(G="show.png");var ie="unlock.png";S+="<table class='bf-table'>",S+="<tbody class='bf-group'>",S+="<tr class='bf-group-title'>",S+='<td><img class="layer-enable" sketch=1 id='+L[N].id+' src="'+D+"/image/"+G+'"/></td>',S+='<td><span class="layer-color" style="background-color:'+L[N].color+'"></span></td>',S+='<td><span class="layer-text">\u8349\u56FE_'+L[N].name+"</span></td>",S+='<td><img class="layer-state" src="'+D+"/image/"+ie+'"/></td>',S+="</tr>",S+="</tbody>",S+="</table>",S+="</div>"}}if(f!=null)for(var N in L=f)S+="<div>",G="hide.png",L[N].off==0&&(G="show.png"),ie="lock.png",S+="<table class='bf-table'>",S+="<tbody class='bf-group'>",S+="<tr class='bf-group-title'>",S+='<td><img class="layer-enable" sketch=0 id='+L[N].id+' src="'+D+"/image/"+G+'"/></td>',S+='<td><span class="layer-color" style="background-color:'+L[N].color+'"></span></td>',S+='<td><span class="layer-text">'+L[N].name+"</span></td>",S+='<td><img class="layer-state" src="'+D+"/image/"+ie+'"/></td>',S+="</tr>",S+="</tbody>",S+="</table>",S+="</div>";var le=document.getElementById("Layer-Info");le!=null&&(le.innerHTML=S)},C.prototype.WriteFooter=function(){document.write("<div class='footer' style='background: rgba(0, 0, 0, 0.7);min-width: auto;position: fixed;left: 0;bottom: 0;width: 100%;'>"),document.write("<div style='line-height: 40px;font-size: 12px;color: #999;padding: 0 10px;'>"),document.write("<p style='float: right;line-height: 15px;font-size: 12px;color: #999;display: block;'>"),document.write("<a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com/' target='_blank'>\u68A6\u60F3CAD</a>\u65D7\u4E0B\u4EA7\u54C1"),document.write("</p>"),document.write("<a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com' target='_blank'>MX3D</a> \u8700ICP\u590715011727\u53F7"),document.write("</div>"),document.write("</div>")},C.prototype.CreateToolBar=function(D){if(this.isShowToolbar){var f="";for(var A in D){var S=D[A],L="uiObj.CallMxCommand";S.isMxCommand||(L="uiObj.EvalJs"),0<S.itemid.length?f+='<div class="bf-button" onclick="'+L+"('"+D[A].evalString+`')"><img class="mainimage-bf-butto" id="`+S.itemid+'" src="'+this.uiPath+"\\image\\"+S.image+'" title="'+D[A].text+'"></div>':f+='<div class="bf-button" onclick="'+L+"('"+D[A].evalString+`')"><img class="mainimage-bf-butto" src="`+this.uiPath+"\\image\\"+S.image+'" title="'+D[A].text+'"></div>'}document.getElementById("MainMenuContent").innerHTML=f}},C.prototype.InitEvent=function(){var D=document.getElementById("LayerInterface");this.CreateToolBar(this.vecToolBarItem),D.style.display="none";var f=this.vecMenuItem;this.isShowMainMenu&&function(G){var ie="";(function se(oe,O){var T=function(fe,Ee){var Ae=new Array;for(var _e in Ee)Ee[_e].parentId==fe&&Ae.push(Ee[_e]);return Ae}(oe,O);if(0<T.length){for(var ce in ie+="<ul>",T)T[ce].evalString.length!=0?(ie+='<li><p class="li_option" ',ie+=`onclick="uiObj.EvalJs('`+T[ce].evalString+`')"`,ie+=">"+T[ce].text+"</p>"):(ie+="<li><a ",ie+=">"+T[ce].text+"</a>"),se(T[ce].id,O),ie+="</li>";ie+="</br>",ie+="</br>",ie+="</br>",ie+="</ul>"}})(-1,f),G("#main-nav").append(ie);var le=G("#main-nav"),ae=G(".toggle"),he={maxWidth:!1,customToggle:ae,levelTitles:!0},pe=null,B={};pe&&pe.remove(),ae.off("click"),pe=le.clone(),G.extend(B,{side:"right"}),pe.hcMobileNav(G.extend({},he,B))}(jQuery);var A=window.location.href,S=A.length,L=A.indexOf("?"),N=A.substr(L,S).split("=")[1];$(".barspan").html(decodeURIComponent(N)),$("#close2").click(function(){$(this).parent("div").fadeOut(200)}),$(".bf-select-current").click(function(){$(this).hasClass("bf-open")?$(this).removeClass("bf-open"):$(this).addClass("bf-open")}),$(".my-option").click(function(){var G=$(this);$(".my-option").each(function(){$(this).removeClass("active")}),G.addClass("active")}),$(".bf-select-option").click(function(){$(this).parent("ul").prev("span").html($(this).text()),$(this).parent("ul").prev("span").removeClass("bf-open")}),$(document).on("click",".layer-enable",function(){var G=d.MxFun.getUiObj().getPath(),ie=parseInt($(this).attr("id")),le=parseInt($(this).attr("sketch")),ae=!0;$(this).attr("src")==G+"/image/show.png"?($(this).attr("src",G+"/image/hide.png"),ae=!1):$(this).attr("src",G+"/image/show.png"),d.MxFun.showLayer(ie,ae,le==1)})},C.prototype.Fullscreen=function(){var D=document.documentElement;D.requestFullscreen?D.requestFullscreen():D.mozRequestFullScreen?D.mozRequestFullScreen():D.webkitRequestFullScreen&&D.webkitRequestFullScreen(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.IsFullStatus()?($("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("src",this.uiPath+"/image\\fullscreen1.gif"),$("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("title","\u5168\u5C4F")):($("img[title='\u5168\u5C4F']").attr("src",this.uiPath+"/image\\escscreen1.gif"),$("img[title='\u5168\u5C4F']").attr("title","\u53D6\u6D88\u5168\u5C4F"))},C.prototype.IsFullStatus=function(){return(document.fullscreenEnabled||document.mozFullscreenElement||document.webkitFullscreenElement)!=null},C);function C(){return l!==null&&l.apply(this,arguments)||this}r.MxUiObjectMobile=E},{"../MxFun":34,"./MxUiObject":64}],66:[function(e,t,r){var i,a=this&&this.__extends||(i=function(D,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,S){A.__proto__=S}||function(A,S){for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(A[L]=S[L])})(D,f)},function(D,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function A(){this.constructor=D}i(D,f),D.prototype=f===null?Object.create(f):(A.prototype=f.prototype,new A)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiObjectPC=void 0;var l,c=e("./MxUiObject"),d=e("../MxFun"),E=(a(C,l=c.MxUiObject),C.prototype.onCreate=function(){this.isShowTitle&&this.WriteTitle(),this.WriteStructTree(),this.isEnableLoading&&this.WriteLoading(),this.WriteLayer(),this.WriteTakeColor(),this.WriteLayout(),this.isEnableObjectProperty&&this.WriteObjectProperty(),this.isShowToolbar&&this.WriteToolbar()},C.prototype.onInit=function(){this.InitEvent()},C.prototype.WriteTitle=function(){var D=this.uiPath;document.write("<div id='all'>"),document.write("   <div class='bar1'>"),document.write("   <img src="+D+"/image/mxcad.png style='height: 50%;position: absolute;top: 12px;left: 10px;'>"),document.write("   <span  class='barspan' style='position: absolute;left: 45px;'>"),document.write("   </span>"),document.write("   <div id='container'>"),this.isShowMainMenu&&(document.write("   <header>"),document.write("    <div class='wrapper cf'style='z-index: 999'>"),document.write("   <nav id='main-nav' >"),document.write("    </nav>"),document.write("    <a class='toggle'>"),document.write("   <span></span>"),document.write("    </a>"),document.write("    </div>"),document.write("    </header>")),document.write("    </div>"),document.write("    </div>")},C.prototype.WriteStructTree=function(){this.isShowStructTree&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='ModelTreeThumbnail' title='\u76EE\u5F55\u6811'"),document.write("style='position: absolute;left: 10px; top: 97px; ' onclick='uiObj.SwitchShowStructTree()'>"),document.write("<div class='bf-button mxbim-bf-tree' title='\u76EE\u5F55\u6811'><i class='fa fa-sitemap' aria-hidden='true'></i></div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='ModelTreeInterface' title='\u76EE\u5F55\u6811'"),document.write("style='left:0px; top: 0px; width: 300px; height: 416px;display: none'>"),document.write("   <div class='bf-close' onclick='uiObj.SwitchShowStructTree()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;' id='mulushu'>\u76EE\u5F55\u6811</div>"),document.write("<div class='bf-panel-body' style='padding-top: 36px;'>"),document.write("<div class='bf-panel-header'>"),document.write("<div class='bf-tree-header' style='margin-top: -36px;'>"),document.write("<div class='bf-select bf-select-tree'>"),document.write("<span class='bf-select-current'>\u6784\u4EF6</span>"),document.write("<ul class='bf-select-list'>"),document.write("<li class='bf-select-option' id='type'>\u6784\u4EF6</li>"),document.write("<li class='bf-select-option' id='file'>\u6587\u4EF6</li>"),document.write("<li class='bf-select-option' id='area'>\u7A7A\u95F4</li>"),document.write("<li class='bf-select-option' id='drawing'>\u56FE\u7EB8</li>"),document.write("</ul>"),document.write("</div>"),document.write("</div>"),document.write("</div>"),document.write("<div id='DirectoryContent' class='bf-panel-container TreeInfo'>"),document.write("</div>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteLoading=function(){var D=this.uiPath;document.write("<div class='Prompt'>"),document.write("<div style='text-align: center;'>"),document.write("<img src='"+D+"/image/loading.gif' alt='' style='width:30px;height:30px;float: left'>"),document.write("<p  style='color:black;vertical-align: middle;float: left; margin-top: 5px;margin-left: 5px;'>\u52A0\u8F7D\u4E2D.....</p>"),document.write("</div>"),document.write("<span style='display: none'>"+this.sLanguageTable.openComplete+"</span>"),document.write("</div>")},C.prototype.WriteLayer=function(){var D=this.uiPath;this.isShowLayer&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerThumbnail' title='"+this.sLanguageTable.layer+"'"),document.write("style='position: absolute;left: 10px; top: 45px; ' onclick='uiObj.SwitchShowLayer()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+D+"/image/layer.png.gif' alt='' style='width: 32px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerInterface'"),document.write("style='left: 10px; top: 50px; width: 300px; height: 416px;display: none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayer(false)'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='tuceng' style='cursor: move; user-select: none;'>"+this.sLanguageTable.layer+"</div>"),document.write("<div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.visible+"</div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.color+"</div>"),document.write("<div class='layer-title' style='width: 148px;font-size: 14px'>"+this.sLanguageTable.name+"</div>"),document.write("<div class='layer-title' style='width: 50px;font-size: 14px'>"+this.sLanguageTable.status+"</div>"),document.write("</div>"),document.write("<div id='Layer-Info' style='margin-top: 25px;height: 349px;position: absolute;overflow-y: auto;'>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteTakeColor=function(){var D=this.uiPath;this.isShowTakeColor&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='TakeColor' title='\u9009\u62E9\u989C\u8272'"),document.write("style='position: absolute;left: 10px; top: 149px; '>"),document.write("<div class='bf-button' onclick='uiObj.Chosecolor()' style='opacity: 1;'>"),document.write("<img src='"+D+"/image/color.png' alt='' style='width: 40px;margin-left: -10px;'>"),document.write("<div id='colorbox' style='width: 35px;height: 5px;background-color: #cccccc;margin-left: -3px'>"),document.write("</div>"),document.write("<div style='width: 18px;height: 40px;float: right;margin-top: -42px;margin-left: 14px;'>"),document.write("<img src='"+D+"/image/daojiao.png' alt='' style='width: 15px;margin-top: 10px;z-index: 999;position: relative'>"),document.write("<input id='color-picker' type='color' value='#c0c0c0'   style='display: none' onchange='uiObj.ColorChange(value)'>"),document.write("</div>"),document.write("</div>"),document.write("</div>"))},C.prototype.WriteLayout=function(){var D=this.uiPath;this.isShowLayout&&(document.write("<div class='bf-toolbar bf-toolbar bf-tree-toolbar' id='LayerOut' title='"+this.sLanguageTable.layout+"'"),document.write("style='position: absolute;left: 10px; top: 97px; ' onclick='uiObj.SwitchShowLayout()'>"),document.write("<div class='bf-button'>"),document.write("<img src='"+D+"/image/layout.png' alt='' style='width: 32px;'>"),document.write("</div>"),document.write("</div>")),document.write("<div class='bf-panel bf-has-title bf-sizable' id='LayerOutInterface'"),document.write("style='left: 10px; top: 50px; width: 300px;display:none'>"),document.write("<div class='bf-close' onclick='uiObj.SwitchShowLayout()'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' id='buju' style='cursor: move; user-select: none;'>"+this.sLanguageTable.layout+"</div>"),document.write("<div>"),document.write("</div>"),document.write("<div id='layout-Info'>"),document.write("</div>"),document.write("</div>")},C.prototype.WriteObjectProperty=function(){document.write("<div class='bf-panel bf-has-title bf-sizable' id='StrcutInfoBase' title='\u5C5E\u6027'"),document.write("style='right: 10px; top: 45px; width: 300px; height: 416px;display: none'>"),document.write("<div class='bf-close' id='close2'><i class='fa fa-times' aria-hidden='true'></i></div>"),document.write("<div class='bf-title' style='cursor: move; user-select: none;'>\u5C5E\u6027</div>"),document.write("<div id='ComponentContent' class='bf-panel-body StructInfo'></div>"),document.write("<div class='bf-resize'></div>"),document.write("</div>")},C.prototype.WriteToolbar=function(){document.write("<div id='MainMenuContent' class='bf-toolbar bf-toolbar-bottom' style='position: fixed'></div>")},C.prototype.CreateToolBar=function(D){if(this.isShowToolbar){var f="";for(var A in D){var S=D[A],L="uiObj.CallMxCommand";S.isMxCommand||(L="uiObj.EvalJs"),0<S.itemid.length?f+='<div class="bf-button" onclick="'+L+"('"+D[A].evalString+`')"><img class="mainimage-bf-butto" id="`+S.itemid+'" src="'+this.uiPath+"\\image\\"+S.image+'" title="'+D[A].text+'"></div>':f+='<div class="bf-button" onclick="'+L+"('"+D[A].evalString+`')"><img class="mainimage-bf-butto" src="`+this.uiPath+"\\image\\"+S.image+'" title="'+D[A].text+'"></div>'}document.getElementById("MainMenuContent").innerHTML=f}},C.prototype.UpDisplayLayer=function(){var D=this.uiPath,f=this.vecLayerData,A=this.vecSketchLayerData,S="";if(A!=null){var L=A;for(var N in L){S+="<div>";var G="hide.png";L[N].off==0&&(G="show.png");var ie="unlock.png";S+="<table class='bf-table'>",S+="<tbody class='bf-group'>",S+="<tr class='bf-group-title'>",S+='<td><img class="layer-enable" sketch=1 id='+L[N].id+' src="'+D+"/image/"+G+'"/></td>',S+='<td><span class="layer-color" style="background-color:'+L[N].color+'"></span></td>',S+='<td><span class="layer-text">\u8349\u56FE_'+L[N].name+"</span></td>",S+='<td><img class="layer-state" src="'+D+"/image/"+ie+'"/></td>',S+="</tr>",S+="</tbody>",S+="</table>",S+="</div>"}}if(f!=null)for(var N in L=f)S+="<div>",G="hide.png",L[N].off==0&&(G="show.png"),ie="lock.png",S+="<table class='bf-table'>",S+="<tbody class='bf-group'>",S+="<tr class='bf-group-title'>",S+='<td><img class="layer-enable" sketch=0 id='+L[N].id+' src="'+D+"/image/"+G+'"/></td>',S+='<td><span class="layer-color" style="background-color:'+L[N].color+'"></span></td>',S+='<td><span class="layer-text">'+L[N].name+"</span></td>",S+='<td><img class="layer-state" src="'+D+"/image/"+ie+'"/></td>',S+="</tr>",S+="</tbody>",S+="</table>",S+="</div>";var le=document.getElementById("Layer-Info");le!=null&&(le.innerHTML=S)},C.prototype.UpDisplayLayout=function(){var D=this.vecLayoutData,f="";if(f+="<div>",f+="<table  class='bf-table'>",f+="<tbody class='bf-group'>",f+="<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>",f+="<td class='bf_layerout_td'  style='width: 60px' >",f+="<div class='bf_layer_div layer_on'></div>",f+="</td>",f+="<td  style='width: 238px' >",f+="<span  class='layout-name' name='Model' style='color: white;cursor: pointer;'>Model</span>",f+="</td>",f+="</tr>",D!=null){var A=D;for(var S in A)f+="<tr class='bf-group-title  bf_layerout' style='height: 30px;cursor: pointer;'>",f+="<td class='bf_layerout_td'  style='width: 60px' >",f+="<div class='bf_layer_div layer_on'></div>",f+="</td>",f+="<td style='width: 238px' >",f+="<span class='layout-name' name='"+A[S]+"' style='color: white;cursor: pointer;'>"+A[S]+"</span>",f+="</td>",f+="</tr>"}f+="</tbody>",f+="</table>",f+="</div>";var L=document.getElementById("layout-Info");L!=null&&(L.innerHTML=f)},C.prototype.InitEvent=function(){var D=document.getElementById("ModelTreeInterface"),f=document.getElementById("LayerInterface"),A=document.getElementById("LayerOutInterface"),S=document.getElementById("tuceng"),L=document.getElementById("mulushu"),N=document.getElementById("buju"),G=0,ie=0,le=0,ae=0,he=!1;L.onmousedown=function(ce){G=ce.clientX,ie=ce.clientY,le=D.offsetLeft,ae=D.offsetTop,he=!0,D.style.cursor="move"},S.onmousedown=function(ce){G=ce.clientX,ie=ce.clientY,le=f.offsetLeft,ae=f.offsetTop,he=!0,f.style.cursor="move"},N.onmousedown=function(ce){G=ce.clientX,ie=ce.clientY,le=A.offsetLeft,ae=A.offsetTop,he=!0,A.style.cursor="move"},window.onmousemove=function(ce){if(he!=0){var fe=ce.clientX,Ee=ce.clientY,Ae=fe-(G-le),_e=Ee-(ie-ae);D.style.left=Ae+"px",D.style.top=_e+"px",f.style.left=Ae+"px",f.style.top=_e+"px",A.style.left=Ae+"px",A.style.top=_e+"px"}},L.onmouseup=function(){he=!1,D.style.cursor="default"},S.onmouseup=function(){he=!1,f.style.cursor="default"},N.onmouseup=function(){he=!1,A.style.cursor="default"},$("#close2").click(function(){$(this).parent("div").fadeOut(200)}),$("#menu4").click(function(){$("#StrcutInfoBase").hasClass("hide")?($("#StrcutInfoBase").fadeIn(200),$("#StrcutInfoBase").removeClass("hide")):($("#StrcutInfoBase").fadeOut(200),$("#StrcutInfoBase").addClass("hide"))}),$(".bf-select-current").click(function(){$(this).hasClass("bf-open")?$(this).removeClass("bf-open"):$(this).addClass("bf-open")}),$(".bf-select-option").click(function(){$(this).parent("ul").prev("span").html($(this).text()),$(this).parent("ul").prev("span").removeClass("bf-open")});var pe=$("#StrcutInfoBase");pe.bind("mousedown",function(ce){var fe=$(this)[0].offsetLeft,Ee=$(this)[0].offsetTop,Ae=ce.pageX,_e=ce.pageY;$(document).bind("mousemove",function(xe){var De=xe.pageX-Ae,Le=xe.pageY-_e,Ge=fe+De+"px",rt=Ee+Le+"px";pe.css({top:rt,left:Ge})})}),$(document).bind("mouseup",function(){$(this).unbind("mousemove")}),this.CreateToolBar(this.vecToolBarItem);var B=this.vecMenuItem;if(this.isShowMainMenu&&function(ce){var fe="";(function Le(Ge,rt){var We=function(Me,Ue){var Pe=new Array;for(var Re in Ue)Ue[Re].parentId==Me&&Pe.push(Ue[Re]);return Pe}(Ge,rt);if(0<We.length){for(var xt in fe+="<ul>",We)We[xt].evalString.length!=0?(fe+='<li><p class="li_option" ',fe+=`onclick="uiObj.EvalJs('`+We[xt].evalString+`')"`,fe+=">"+We[xt].text+"</p>"):(fe+="<li><a ",fe+=">"+We[xt].text+"</a>"),Le(We[xt].id,rt),fe+="</li>";fe+="</br>",fe+="</br>",fe+="</br>",fe+="</ul>"}})(-1,B),ce("#main-nav").append(fe);var Ee=ce("#main-nav"),Ae=ce(".toggle"),_e={maxWidth:!1,customToggle:Ae,levelTitles:!0},xe=null,De={};xe&&xe.remove(),Ae.off("click"),xe=Ee.clone(),ce.extend(De,{side:"right"}),xe.hcMobileNav(ce.extend({},_e,De))}(jQuery),$(".li_option").click(function(){var ce=$(this);$(".li_option").each(function(){$(this).removeClass("active")}),ce.addClass("active")}),this.sTitle==""){var se=window.location.href,oe=se.length,O=se.indexOf("?"),T=se.substr(O,oe).split("=")[1];T!=null&&(this.sTitle=T)}$(".barspan").html(decodeURIComponent(this.sTitle)),$(document).on("click",".layer-enable",function(){var ce=d.MxFun.getUiObj().getPath(),fe=parseInt($(this).attr("id")),Ee=parseInt($(this).attr("sketch")),Ae=!0;$(this).attr("src")==ce+"/image/show.png"?($(this).attr("src",ce+"/image/hide.png"),Ae=!1):$(this).attr("src",ce+"/image/show.png"),d.MxFun.showLayer(fe,Ae,Ee==1)}),$(document).on("click",".layout-name",function(){var ce=$(this).attr("name");ce=="Model"&&(ce=""),d.MxFun.getCurrentDraw().gotoLayout(ce)})},C.prototype.WriteFooter=function(){document.write("<div class='footer' style='background: rgba(0, 0, 0, 0.7);position: fixed;left: 0;bottom: 0;width: 100%;'>"),document.write("   <div style='line-height: 40px;font-size: 12px;color: #999;padding: 0 10px;'>"),document.write("    <p style='float: right;line-height: 15px;font-size: 12px;color: #999;display: block;'>"),document.write("    <a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com/' target='_blank'>MxDraw </a>\u65D7\u4E0B\u4EA7\u54C1"),document.write("    </p>"),document.write("    <a style='color: #4a90e2;text-decoration: none;outline: none;' href='http://www.mxdraw.com' target='_blank'>MX3D </a> \u8700ICP\u590715011727\u53F7"),document.write("    </div>"),document.write("   </div>")},C.prototype.ShowLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0)"),$(".Prompt").fadeIn(100),$(".Prompt span").css("display","none"))},C.prototype.HideLoading=function(){this.isEnableLoading&&($(".Prompt").css("background","rgba(0, 0, 0, 0.8)"),$(".Prompt div").fadeOut(100),$(".Prompt span").fadeIn(200),setTimeout(function(){$(".Prompt").fadeOut(1e3)},1e3))},C.prototype.ShowObjectProperty=function(D){if(D.length!=0){var f;f=typeof D=="string"?JSON.parse(D):D;var A="";for(var S in f){var L=f[S];for(var N in A+="<table class='bf-table'>",A+="<tbody class='bf-group'>",A+="<tr class='bf-group-title'>",A+="<td colspan='2'><i class='bf-icon'></i>"+L.name+"</td>",A+="</tr>",L.datas){var G=L.datas[N];A+="<tr class='bf-group-content'>",A+="<td class='bf-key'>"+G.name+"</td>",A+="<td class='bf-value'>"+G.value+"</td>",A+="</tr>"}A+="</tbody>",A+="</table>"}document.getElementById("ComponentContent").innerHTML=A,$(".bf-group").click(function(){$(this).hasClass("bf-collapse")?$(this).removeClass("bf-collapse"):$(this).addClass("bf-collapse")}),$("#StrcutInfoBase").fadeIn(200),$("#StrcutInfoBase").removeClass("hide")}},C.prototype.HideObjectProp=function(){$("#StrcutInfoBase").hasClass("hide")||($("#StrcutInfoBase").fadeOut(200),$("#StrcutInfoBase").addClass("hide"))},C.prototype.SwitchShowLayer=function(){var D=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),A=document.getElementById("LayerThumbnail"),S=document.getElementById("LayerInterface"),L=document.getElementById("LayerOut"),N=document.getElementById("LayerOutInterface");D.style.display="none",(N.style.display="none")==S.style.display?(A.style.display="block",S.style.display="block",S.style.left="80px",S.style.top="50px",f!=null&&(f.style.display="block"),L!=null&&(L.style.display="block"),D.style.display="none",N.style.display="none"):(S.style.display="none",f!=null&&(f.style.display="block"),A.style.display="block",L!=null&&(L.style.display="block"))},C.prototype.SwitchShowStructTree=function(){var D=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),A=document.getElementById("LayerThumbnail"),S=document.getElementById("LayerInterface"),L=document.getElementById("LayerOut"),N=document.getElementById("LayerOutInterface");S.style.display="none",(N.style.display="none")==D.style.display?(f!=null&&(f.style.display="block"),D.style.display="block",D.style.left="80px",D.style.top="50px",A.style.display="block",L!=null&&(L.style.display="block"),S.style.display="none",N.style.display="none"):(D.style.display="none",f!=null&&(f.style.display="block"),A.style.display="block",L!=null&&(L.style.display="block"))},C.prototype.Chosecolor=function(){document.getElementById("color-picker").click()},C.prototype.ColorChange=function(D){document.getElementById("colorbox").style.backgroundColor=D,d.MxFun.setCurrentColor(D)},C.prototype.SwitchShowLayout=function(){var D=document.getElementById("ModelTreeInterface"),f=document.getElementById("ModelTreeThumbnail"),A=document.getElementById("LayerThumbnail"),S=document.getElementById("LayerInterface"),L=document.getElementById("LayerOut"),N=document.getElementById("LayerOutInterface");D.style.display="none",S.style.display="none",N&&N.style.display=="none"?(L&&(L.style.display="block"),N.style.display="block",N.style.left="80px",N.style.top="120px",f!=null&&(f.style.display="block"),A&&(A.style.display="block"),D.style.display="none",S.style.display="none"):(N&&(N.style.display="none"),f!=null&&(f.style.display="block"),A&&(A.style.display="block"),L&&(L.style.display="block"))},C.prototype.Fullscreen=function(){var D=document.documentElement;D.requestFullscreen?D.requestFullscreen():D.mozRequestFullScreen?D.mozRequestFullScreen():D.webkitRequestFullScreen&&D.webkitRequestFullScreen(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.IsFullStatus()?($("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("src",this.uiPath+"/image\\fullscreen1.gif"),$("img[title='\u53D6\u6D88\u5168\u5C4F']").attr("title","\u5168\u5C4F")):($("img[title='\u5168\u5C4F']").attr("src",this.uiPath+"/image\\escscreen1.gif"),$("img[title='\u5168\u5C4F']").attr("title","\u53D6\u6D88\u5168\u5C4F"))},C.prototype.IsFullStatus=function(){return(document.fullscreenEnabled||document.mozFullscreenElement||document.webkitFullscreenElement)!=null},C);function C(){return l!==null&&l.apply(this,arguments)||this}r.MxUiObjectPC=E},{"../MxFun":34,"./MxUiObject":64}],67:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxUiVue=void 0;var i,a,l,c,d=e("../MxFun"),E=e("../Operate/MxJigCmdManager"),C=e("../MxTools"),D=e("../Operate/MxCmdRunManager");function f(le){if(le==32||le==13)if(E.MxJigCmdManager.isRunning())E.MxJigCmdManager.OnEnter(le);else{var ae=N(),he="";he=ae.length==0?D.MxCmdRunManager.GetPrvCmd():ae,G(""),he=C.MxTools.stringTrimLeftSpace(he),d.MxFun.sendStringToExecute(he)}else if(le==27)E.MxJigCmdManager.isRunning()?E.MxJigCmdManager.stopCmd():S(` *\u53D6\u6D88*
\u547D\u4EE4:`);else if(le==38)E.MxJigCmdManager.isRunning()||(D.MxCmdRunManager.MoveUpKey(),(pe=D.MxCmdRunManager.GetListCommad()).length!=0&&(G(pe),L()));else if(le==40){var pe;E.MxJigCmdManager.isRunning()||(D.MxCmdRunManager.MoveDownKey(),(pe=D.MxCmdRunManager.GetListCommad()).length!=0&&(G(pe),L()))}}function A(le,ae){ae===void 0&&(ae=!0);var he=le.length;if(!(he<1)){for(var pe=c.getCmdLine(),B=pe.getCmdTip(),se=pe.getCmdText(),oe=le.indexOf(`
`),O=0,T=!0;oe!=-1&&(T?(pe.addCmdDisplay(`
`+B+se+le.substring(O,oe-O)),se=B="",T=!1):pe.addCmdDisplay(`
`+le.substring(O,oe-O)),(O=oe+1)<he);)oe=le.indexOf(`
`,O);if(T){var ce=le.substring(O,he-O),fe=ce.indexOf("\r"),Ee=ce.length;B=fe==-1?B+se+ce:fe+1<Ee?ce.substring(fe+1,Ee-fe-1):""}else O<he&&(B=le.substring(O,he));se="",ae&&(B+=" "),pe.setCmdTip(B),pe.setCmdText(se),pe.upDisplay()}}function S(le){for(var ae=[],he=1;he<arguments.length;he++)ae[he-1]=arguments[he];if(c!=null){for(var pe=arguments,B=pe[0],se=0;se<pe.length-1;se++){var oe=new RegExp("\\{"+se+"\\}","gm");B=B.replace(oe,pe[se+1])}A(B,!0)}}function L(){c?.getCmdLine().upDisplay()}function N(){if(c==null)return"";var le=c.getCmdLine();return C.MxTools.stringTrimLeftRightSpace(le.getCmdText())}function G(le){if(c!=null)return c.getCmdLine().setCmdText(le)}function ie(le){var ae=E.MxJigCmdManager.getCurCmd();ae!=null&&(ae.getDynImput().onKeyDonw(le)||f(le))}a=i||(r.MxUiVue=i={}),c=void 0,(l=a.CursorType||(a.CursorType={}))[l.kNormal=0]="kNormal",l[l.kRect=1]="kRect",l[l.kCross=2]="kCross",a.isNull=function(){return c==null},a.init=function(le){(c=le).mountKeydownEvent(f),c.getDynamicInput().mountKeydownEvent(ie)},a.setTipCoord=function(le){c?.setTipCoord(le)},a.setCursorType=function(le){c?.setCursorType(le)},a.AcutPrintfNoFormat=A,a.acutPrintf=S,a.cmdLineUpDisplay=L,a.getCmdText=N,a.setCmdText=G,a.getCmdDisplay=function(){return c==null?"":c.getCmdLine().getCmdDisplay()},a.setCmdDisplay=function(le){if(c!=null)return c.getCmdLine().setCmdDisplay(le)},a.getCmdTip=function(){return c==null?"":c.getCmdLine().getCmdTip()},a.setCmdTip=function(le){if(c!=null)return c.getCmdLine().setCmdTip(le)},a.restoreCmdStatus=function(){if(c!=null){var le=c.getCmdLine();le.getCmdTip()==" "&&le.getCmdText().length==0?(le.setCmdTip(""),S("{0}:","\u547D\u4EE4")):S(`
{0}:`,"\u547D\u4EE4")}},a.DynamicInput_upDisplay=function(){c!=null&&a.OnMxEvent({name:"dynInputUpDisplay"})},a.DynamicInput_setType=function(le){c?.getDynamicInput().setType(le)},a.DynamicInput_getType=function(){return c==null?E.MxJigCmdManager.DynamicInputType.kNoInput:c.getDynamicInput().getType()},a.DynamicInput_setPos=function(le){c?.getDynamicInput().setPos([le.x,le.y])},a.DynamicInput_setTip=function(le){c?.getDynamicInput().setTip(le)},a.DynamicInput_setValue1=function(le){c?.getDynamicInput().setValue1(le)},a.DynamicInput_getValue1=function(){return c==null?"":c.getDynamicInput().getValue1()},a.DynamicInput_setValue1Pos=function(le){c?.getDynamicInput().setValue1Pos([le.x,le.y])},a.DynamicInput_setValue2=function(le){c?.getDynamicInput().setValue2(le)},a.DynamicInput_getValue2=function(){return c==null?"":c.getDynamicInput().getValue2()},a.DynamicInput_getFocusValue=function(){return c==null?"":c.getDynamicInput().getFocusValue()},a.DynamicInput_setValue2Pos=function(le){c?.getDynamicInput().setValue2Pos([le.x,le.y])},a.DynamicInput_setShow=function(le){c?.getDynamicInput().setShow(le)},a.DynamicInput_isShow=function(){return c!=null&&c.getDynamicInput().isShow()},a.OnMxEvent=function(le){if(c==null)return!1;c.OnMxEvent(le)}},{"../MxFun":34,"../MxTools":45,"../Operate/MxCmdRunManager":53,"../Operate/MxJigCmdManager":58}],68:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExternalReferenceManager=r.ExternalReferenceDatabase=r.Blocks=r.Block=r.Layer=r.MxNewDisplayMemorySection=r.MxNewDisplayMemorySectionType=r.TextureData=r.BlockInstance=r.BlockRef=r.ClipPlans=r.ClipPlan=void 0;var i=e("three"),a=e("../MxShader"),l=e("./MxBrowseLayerData"),c=e("../MxManager"),d=e("../MxNetData"),E=e("../MxStencilObject"),C=e("../MxFun"),D=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0};r.ClipPlan=D;var f=function(){this.ver=4,this.id=1,this.clipPlanArray=new Array,this.clipPoints=[],this.instansClipePoints=[]};r.ClipPlans=f;var A=function(){this.ver=4,this.mat=new i.Matrix4,this.blkRecId=-1,this.blkOwnerId=0,this.layerId=-1,this.color=16777215,this.clipPlans=new f};r.BlockRef=A;var S=function(){this.mat=new i.Matrix4,this.color=new Array,this.topLayerColor=new Array,this.clipPlans=new f,this.clipMat=new i.Matrix4};r.BlockInstance=S;var L,N,G=function(){};r.TextureData=G,(N=L||(r.MxNewDisplayMemorySectionType=L={}))[N.kLinesType=1]="kLinesType",N[N.kTriangleType=2]="kTriangleType",N[N.kLinesType_Float=3]="kLinesType_Float",N[N.kTriangleType_Float=4]="kTriangleType_Float",N[N.kPointType_Float=5]="kPointType_Float",N[N.kPointType=6]="kPointType",r.MxNewDisplayMemorySection=function(){this.id=0,this.type=L.kLinesType,this.blockId=0,this.layerId=0,this.color=0,this.points=[]};var ie=(le.prototype.Show=function(T){for(var ce=0,fe=this._entitys.length;ce<fe;ce++)this._entitys[ce].visible=T},le.prototype.updataClipMaterial=function(T){for(var ce=this._material_clip.length,fe=.5*T.width,Ee=.5*T.height,Ae=0;Ae<ce;Ae++)this._material_clip[Ae].uniforms.vieww.value=fe,this._material_clip[Ae].uniforms.viewh.value=Ee},le.prototype.createThreejsObjForMesh_Clip=function(T,ce,fe){T.size!=0&&T.forEach(function(Ee){var Ae=Ee;if(Ae.length!=0){var _e=[],xe=[],De=Ae[0].clipPlans;De.ver<=3&&(_e.push(De.clipPlanArray[0].x1,De.clipPlanArray[0].y1),xe.push(De.clipPlanArray[0].x2,De.clipPlanArray[0].y2));for(var Le=[],Ge=[],rt=[],We=[],xt=[],Me=[],Ue=[],Pe=0;Pe<Ae.length;Pe++){var Re=Ae[Pe];Le=Le.concat(Re.mat.elements.slice(0,4)),Ge=Ge.concat(Re.mat.elements.slice(4,8)),rt=rt.concat(Re.mat.elements.slice(8,12)),We=We.concat(Re.mat.elements.slice(12,16)),xt.push(0),Me=Me.concat(Ae[Pe].color)}if(0<this._geometryMeshPositionsByBlock.length)for(Pe=0;Pe<Ae.length;Pe++)Me=Me.concat(Ae[Pe].color);if(0<this._geometryMeshPositionsByBlock_ZeroLayer.length)for(Pe=0;Pe<Ae.length;Pe++)Ue=Ue.concat(Ae[Pe].topLayerColor);var st,It=.5*fe.width,Ct=.5*fe.height;De.ver<=3?(st=new i.RawShaderMaterial({uniforms:{clippt1:{value:_e},clippt2:{value:xe},vieww:{value:It},viewh:{value:Ct}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_CLIP,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide}),this._material_clip.push(st)):st=new i.RawShaderMaterial({vertexShader:a.MxShader.VSHADER_COLOR_POINT,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(var tt=0;tt<this._geometryMeshPostion.length;tt++)(Ze=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,Ze.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPostion[tt],2)),Ze.setAttribute("color",new i.Float32BufferAttribute(this._geometryMeshColor[tt],3)),Ze.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ze.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),Ze.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(rt),4)),Ze.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(We),4)),Ze.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xt),1)),(Ne=new i.Mesh(Ze,st)).frustumCulled=!1,Ne.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Ne),this._entitys.push(Ne),4<=De.ver&&0<De.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ne,De.instansClipePoints);for(tt=0;tt<this._geometryMeshPositionsByBlock.length;tt++)(Ze=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,Ze.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock[tt],2)),Ze.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Me),3)),Ze.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ze.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),Ze.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(rt),4)),Ze.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(We),4)),Ze.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xt),1)),(Ne=new i.Mesh(Ze,st)).frustumCulled=!1,Ne.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Ne),this._entitys.push(Ne),4<=De.ver&&0<De.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ne,De.instansClipePoints);for(tt=0;tt<this._geometryMeshPositionsByBlock_ZeroLayer.length;tt++)(Ze=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,Ze.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock_ZeroLayer[tt],2)),Ze.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Ue),3)),Ze.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ze.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),Ze.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(rt),4)),Ze.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(We),4)),Ze.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xt),1)),(Ne=new i.Mesh(Ze,st)).frustumCulled=!1,Ne.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Ne),this._entitys.push(Ne),4<=De.ver&&0<De.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ne,De.instansClipePoints);var Ve=new i.RawShaderMaterial({uniforms:{color:{value:this._color},clippt1:{value:_e},clippt2:{value:xe},vieww:{value:It},viewh:{value:Ct}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_BYLAYER_CLIP,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide});for(this._material_clip.push(Ve),tt=0;tt<this._geometryMeshPositionsByLayer.length;tt++){var Ze,Ne;(Ze=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,Ze.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByLayer[tt],2)),Ze.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),Ze.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),Ze.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(rt),4)),Ze.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(We),4)),Ze.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xt),1)),(Ne=new i.Mesh(Ze,Ve)).frustumCulled=!1,Ne.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Ne),this._entitys.push(Ne),4<=De.ver&&0<De.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ne,De.instansClipePoints)}}},this)},le.prototype.createThreejsObjForCurve_Clip=function(T,ce,fe){T.size!=0&&T.forEach(function(Ee,Ae,_e){var xe=Ee;if(xe.length!=0){var De=[],Le=[],Ge=xe[0].clipPlans;Ge.ver<=3&&(De.push(Ge.clipPlanArray[0].x1,Ge.clipPlanArray[0].y1),Le.push(Ge.clipPlanArray[0].x2,Ge.clipPlanArray[0].y2));for(var rt=[],We=[],xt=[],Me=[],Ue=[],Pe=[],Re=[],st=0;st<xe.length;st++){var It=xe[st];rt=rt.concat(It.mat.elements.slice(0,4)),We=We.concat(It.mat.elements.slice(4,8)),xt=xt.concat(It.mat.elements.slice(8,12)),Me=Me.concat(It.mat.elements.slice(12,16)),Ue.push(0)}if(0<this._geometryCurvePositionsByBlock.length)for(st=0;st<xe.length;st++)Pe=Pe.concat(xe[st].color);if(0<this._geometryCurvePositionsByBlock_ZeroLayer.length)for(st=0;st<xe.length;st++)Re=Re.concat(xe[st].topLayerColor);var Ct,tt=.5*fe.width,Ve=.5*fe.height;Ge.ver<=3?(Ct=new i.RawShaderMaterial({uniforms:{clippt1:{value:De},clippt2:{value:Le},vieww:{value:tt},viewh:{value:Ve}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_CLIP,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide}),this._material_clip.push(Ct)):Ct=new i.RawShaderMaterial({vertexShader:a.MxShader.VSHADER_COLOR_POINT,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(var Ze=0;Ze<this._geometryCurvePostion.length;Ze++)(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePostion[Ze],2)),qe.setAttribute("color",new i.Float32BufferAttribute(this._geometryCurveColor[Ze],3)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(rt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(We),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ue),1)),(lt=new i.LineSegments(qe,Ct)).frustumCulled=!1,lt.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(lt),this._entitys.push(lt),4<=Ge.ver&&0<Ge.instansClipePoints.length&&new E.MxStencilObject().associateObject(lt,Ge.instansClipePoints);for(Ze=0;Ze<this._geometryCurvePositionsByBlock.length;Ze++)(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock[Ze],2)),qe.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Pe),3)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(rt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(We),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ue),1)),(lt=new i.LineSegments(qe,Ct)).frustumCulled=!1,lt.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(lt),this._entitys.push(lt),4<=Ge.ver&&0<Ge.instansClipePoints.length&&new E.MxStencilObject().associateObject(lt,Ge.instansClipePoints);for(Ze=0;Ze<this._geometryCurvePositionsByBlock_ZeroLayer.length;Ze++)(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock_ZeroLayer[Ze],2)),qe.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Re),3)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(rt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(We),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ue),1)),(lt=new i.LineSegments(qe,Ct)).frustumCulled=!1,lt.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(lt),this._entitys.push(lt),4<=Ge.ver&&0<Ge.instansClipePoints.length&&new E.MxStencilObject().associateObject(lt,Ge.instansClipePoints);var Ne=new i.RawShaderMaterial({uniforms:{color:{value:this._color},clippt1:{value:De},clippt2:{value:Le},vieww:{value:tt},viewh:{value:Ve}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_BYLAYER_CLIP,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_CLIP,linewidth:1,transparent:!0,side:i.DoubleSide});for(this._material_clip.push(Ne),Ze=0;Ze<this._geometryCurvePositionsByLayer.length;Ze++){var qe,lt;(qe=new i.InstancedBufferGeometry).maxInstancedCount=xe.length,qe.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByLayer[Ze],2)),qe.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(rt),4)),qe.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(We),4)),qe.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(xt),4)),qe.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Me),4)),qe.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(Ue),1)),(lt=new i.LineSegments(qe,Ne)).frustumCulled=!1,lt.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(lt),this._entitys.push(lt),4<=Ge.ver&&0<Ge.instansClipePoints.length&&new E.MxStencilObject().associateObject(lt,Ge.instansClipePoints)}}},this)},le.prototype.createThreejsObjForCurve=function(T,ce){if(T.length!=0){for(var fe=[],Ee=[],Ae=[],_e=[],xe=[],De=[],Le=[],Ge=0;Ge<T.length;Ge++){var rt=T[Ge];fe=fe.concat(rt.mat.elements.slice(0,4)),Ee=Ee.concat(rt.mat.elements.slice(4,8)),Ae=Ae.concat(rt.mat.elements.slice(8,12)),_e=_e.concat(rt.mat.elements.slice(12,16)),xe.push(0)}if(0<this._geometryCurvePositionsByBlock.length)for(Ge=0;Ge<T.length;Ge++)De=De.concat(T[Ge].color);if(0<this._geometryCurvePositionsByBlock_ZeroLayer.length)for(Ge=0;Ge<T.length;Ge++)Le=Le.concat(T[Ge].topLayerColor);for(var We=new i.RawShaderMaterial({vertexShader:a.MxShader.VSHADER_COLOR_POINT,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide}),xt=0;xt<this._geometryCurvePostion.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePostion[xt],2)),Ue.setAttribute("color",new i.Float32BufferAttribute(this._geometryCurveColor[xt],3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.LineSegments(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(Pe),this._entitys.push(Pe);for(xt=0;xt<this._geometryCurvePositionsByBlock.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock[xt],2)),Ue.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(De),3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.LineSegments(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(Pe),this._entitys.push(Pe);for(xt=0;xt<this._geometryCurvePositionsByBlock_ZeroLayer.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByBlock_ZeroLayer[xt],2)),Ue.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Le),3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.LineSegments(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(Pe),this._entitys.push(Pe);var Me=new i.RawShaderMaterial({uniforms:{color:{value:this._color}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_BYLAYER,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,linewidth:1,transparent:!0,side:i.DoubleSide});for(xt=0;xt<this._geometryCurvePositionsByLayer.length;xt++){var Ue,Pe;(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryCurvePositionsByLayer[xt],2)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.LineSegments(Ue,Me)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(Pe),this._entitys.push(Pe)}}},le.prototype.createThreejsObjForMemorySections_clip=function(T,ce,fe){T.size!=0&&T.forEach(function(Ee){var Ae=Ee;if(Ae.length!=0){for(var _e=Ae[0].clipPlans,xe=[],De=[],Le=[],Ge=[],rt=[],We=0;We<Ae.length;We++){var xt=Ae[We];xe=xe.concat(xt.mat.elements.slice(0,4)),De=De.concat(xt.mat.elements.slice(4,8)),Le=Le.concat(xt.mat.elements.slice(8,12)),Ge=Ge.concat(xt.mat.elements.slice(12,16)),rt.push(0)}for(var Me=this._MemorySections.length,Ue=0;Ue<Me;Ue++){var Pe=this._MemorySections[Ue],Re=fe.automaticInversionColor2(Pe.color),st=[];if((4278190080&Re)==16777216?st=this._color:st.push((255&Re)/255,(Re>>8&255)/255,(Re>>16&255)/255),Pe.type==L.kLinesType){var It=new i.RawShaderMaterial({uniforms:{color:{value:st}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(tt=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,tt.setAttribute("position",new i.Float32BufferAttribute(Pe.points,3)),tt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(xe),4)),tt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),tt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),tt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),tt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(rt),1)),(Ve=new i.LineSegments(tt,It)).frustumCulled=!1,Ve.renderOrder=c.MxData.iCADCurveRenderOrder,4<=_e.ver&&0<_e.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ve,_e.instansClipePoints),ce.add(Ve),this._entitys.push(Ve)}else if(Pe.type==L.kTriangleType){It=new i.RawShaderMaterial({uniforms:{color:{value:st}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(tt=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,tt.setAttribute("position",new i.Float32BufferAttribute(Pe.points,3)),tt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(xe),4)),tt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),tt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),tt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),tt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(rt),1));var Ct=new i.Mesh(tt,It);Ct.frustumCulled=!1,Ct.renderOrder=c.MxData.iCADMeshRenderOrder,4<=_e.ver&&0<_e.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ct,_e.instansClipePoints),ce.add(Ct),this._entitys.push(Ct)}else if(Pe.type==L.kPointType){var tt,Ve;It=new i.RawShaderMaterial({uniforms:{color:{value:st}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(tt=new i.InstancedBufferGeometry).maxInstancedCount=Ae.length,tt.setAttribute("position",new i.Float32BufferAttribute(Pe.points,3)),tt.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(xe),4)),tt.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(De),4)),tt.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Le),4)),tt.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),tt.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(rt),1)),(Ve=new i.Points(tt,It)).frustumCulled=!1,Ve.renderOrder=c.MxData.iCADCurveRenderOrder,4<=_e.ver&&0<_e.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ve,_e.instansClipePoints),ce.add(Ve),this._entitys.push(Ve)}}}},this)},le.prototype.createThreejsObjForMemorySections=function(T,ce,fe){if(T.length!=0){for(var Ee=[],Ae=[],_e=[],xe=[],De=[],Le=0;Le<T.length;Le++){var Ge=T[Le];Ee=Ee.concat(Ge.mat.elements.slice(0,4)),Ae=Ae.concat(Ge.mat.elements.slice(4,8)),_e=_e.concat(Ge.mat.elements.slice(8,12)),xe=xe.concat(Ge.mat.elements.slice(12,16)),De.push(0)}for(var rt=this._MemorySections.length,We=0;We<rt;We++){var xt=this._MemorySections[We],Me=fe.automaticInversionColor2(xt.color),Ue=[];if((4278190080&Me)==16777216?(Ue=this._color,this._colorValue):Ue.push((255&Me)/255,(Me>>8&255)/255,(Me>>16&255)/255),xt.type==L.kLinesType){var Pe=new i.RawShaderMaterial({uniforms:{color:{value:Ue}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,linewidth:1,transparent:!0,side:i.DoubleSide});(st=new i.InstancedBufferGeometry).maxInstancedCount=T.length,st.setAttribute("position",new i.Float32BufferAttribute(xt.points,3)),st.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),st.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),st.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(_e),4)),st.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(xe),4)),st.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(De),1)),(It=new i.LineSegments(st,Pe)).frustumCulled=!1,It.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(It),this._entitys.push(It)}else if(xt.type==L.kTriangleType){Pe=new i.RawShaderMaterial({uniforms:{color:{value:Ue}},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(st=new i.InstancedBufferGeometry).maxInstancedCount=T.length,st.setAttribute("position",new i.Float32BufferAttribute(xt.points,3)),st.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),st.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),st.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(_e),4)),st.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(xe),4)),st.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(De),1));var Re=new i.Mesh(st,Pe);Re.frustumCulled=!1,Re.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Re),this._entitys.push(Re)}else if(xt.type==L.kPointType){var st,It;Pe=new i.RawShaderMaterial({uniforms:{color:{value:Ue},size:1},vertexShader:a.MxShader.VSHADER_COLOR_POINT_FORMXCAD,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_FORMXCAD,transparent:!0,side:i.DoubleSide}),(st=new i.InstancedBufferGeometry).maxInstancedCount=T.length,st.setAttribute("position",new i.Float32BufferAttribute(xt.points,3)),st.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),st.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),st.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(_e),4)),st.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(xe),4)),st.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(De),1)),(It=new i.Points(st,Pe)).frustumCulled=!1,It.renderOrder=c.MxData.iCADCurveRenderOrder,ce.add(It),this._entitys.push(It)}}}},le.prototype.createThreejsObjForTexture=function(T,ce,fe){if(T.length!=0){var Ee=[],Ae=[],_e=[],xe=[],De=[],Le=fe.getCurrentLoadUrl(),Ge=C.MxFun.dwgDir();Ge.length!=0&&Le.substring(Le.lastIndexOf("/buf/")).toLowerCase()!="/buf/"&&(Le=Le+Ge+"/buf/");for(var rt=0;rt<T.length;rt++){var We=T[rt];Ee=Ee.concat(We.mat.elements.slice(0,4)),Ae=Ae.concat(We.mat.elements.slice(4,8)),_e=_e.concat(We.mat.elements.slice(8,12)),xe=xe.concat(We.mat.elements.slice(12,16)),De.push(0)}for(var xt=0;xt<this._TextureData.length;xt++){var Me=this._TextureData[xt],Ue=new i.InstancedBufferGeometry;Ue.maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(Me.pos,2)),Ue.setAttribute("uv",new i.Float32BufferAttribute(Me.textureCoord,2)),Ue.setAttribute("color",new i.Float32BufferAttribute(Me.color,3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(xe),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(De),1));var Pe=Le+Me.sFileName,Re={texture:{value:new i.TextureLoader().load(Pe,function(Ct){Ct&&fe.updateDisplay()})}};Re.texture.value.wrapS=Re.texture.value.wrapT=i.RepeatWrapping;var st=new i.RawShaderMaterial({uniforms:Re,vertexShader:a.MxShader.VSHADER_COLOR_POINT_TEXTURE,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_TEXTURE,transparent:!0,side:i.DoubleSide}),It=new i.Mesh(Ue,st);It.renderOrder=c.MxData.iCADMeshRenderOrder,It.frustumCulled=!1,ce.add(It),this._entitys.push(It)}}},le.prototype.createThreejsObjForTexture_Clip=function(T,ce,fe){if(T.size!=0){var Ee=fe.getCurrentLoadUrl(),Ae=C.MxFun.dwgDir();Ae.length!=0&&Ee.substring(Ee.lastIndexOf("/buf/")).toLowerCase()!="/buf/"&&(Ee=Ee+Ae+"/buf/"),T.forEach(function(_e){var xe=_e;if(xe.length!=0){for(var De=xe[0].clipPlans,Le=[],Ge=[],rt=[],We=[],xt=[],Me=0;Me<xe.length;Me++){var Ue=xe[Me];Le=Le.concat(Ue.mat.elements.slice(0,4)),Ge=Ge.concat(Ue.mat.elements.slice(4,8)),rt=rt.concat(Ue.mat.elements.slice(8,12)),We=We.concat(Ue.mat.elements.slice(12,16)),xt.push(0)}for(var Pe=0;Pe<this._TextureData.length;Pe++){var Re=this._TextureData[Pe],st=new i.InstancedBufferGeometry;st.maxInstancedCount=xe.length,st.setAttribute("position",new i.Float32BufferAttribute(Re.pos,2)),st.setAttribute("uv",new i.Float32BufferAttribute(Re.textureCoord,2)),st.setAttribute("color",new i.Float32BufferAttribute(Re.color,3)),st.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(Le),4)),st.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ge),4)),st.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(rt),4)),st.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(We),4)),st.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xt),1));var It=Ee+Re.sFileName,Ct={texture:{value:new i.TextureLoader().load(It,function(Ze){Ze&&fe.updateDisplay()})}};Ct.texture.value.wrapS=Ct.texture.value.wrapT=i.RepeatWrapping;var tt=new i.RawShaderMaterial({uniforms:Ct,vertexShader:a.MxShader.VSHADER_COLOR_POINT_TEXTURE,fragmentShader:a.MxShader.FSHADER_COLOR_POINT_TEXTURE,transparent:!0,side:i.DoubleSide}),Ve=new i.Mesh(st,tt);Ve.renderOrder=c.MxData.iCADMeshRenderOrder,Ve.frustumCulled=!1,4<=De.ver&&0<De.instansClipePoints.length&&new E.MxStencilObject().associateObject(Ve,De.instansClipePoints),ce.add(Ve),this._entitys.push(Ve)}}},this)}},le.prototype.createThreejsObjForMesh=function(T,ce){if(T.length!=0){for(var fe=[],Ee=[],Ae=[],_e=[],xe=[],De=[],Le=[],Ge=0;Ge<T.length;Ge++){var rt=T[Ge];fe=fe.concat(rt.mat.elements.slice(0,4)),Ee=Ee.concat(rt.mat.elements.slice(4,8)),Ae=Ae.concat(rt.mat.elements.slice(8,12)),_e=_e.concat(rt.mat.elements.slice(12,16)),xe.push(0),De=De.concat(T[Ge].color)}if(0<this._geometryMeshPositionsByBlock.length)for(Ge=0;Ge<T.length;Ge++)De=De.concat(T[Ge].color);if(0<this._geometryMeshPositionsByBlock_ZeroLayer.length)for(Ge=0;Ge<T.length;Ge++)Le=Le.concat(T[Ge].topLayerColor);for(var We=new i.RawShaderMaterial({vertexShader:a.MxShader.VSHADER_COLOR_POINT,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,transparent:!0,side:i.DoubleSide}),xt=0;xt<this._geometryMeshPostion.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPostion[xt],2)),Ue.setAttribute("color",new i.Float32BufferAttribute(this._geometryMeshColor[xt],3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.Mesh(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Pe),this._entitys.push(Pe);for(xt=0;xt<this._geometryMeshPositionsByBlock.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock[xt],2)),Ue.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(De),3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.Mesh(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Pe),this._entitys.push(Pe);for(xt=0;xt<this._geometryMeshPositionsByBlock_ZeroLayer.length;xt++)(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByBlock_ZeroLayer[xt],2)),Ue.setAttribute("color",new i.InstancedBufferAttribute(new Float32Array(Le),3)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.Mesh(Ue,We)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Pe),this._entitys.push(Pe);var Me=new i.RawShaderMaterial({uniforms:{color:{value:this._color}},vertexShader:a.MxShader.VSHADER_COLOR_POINT,fragmentShader:a.MxShader.FSHADER_COLOR_POINT,transparent:!0,side:i.DoubleSide});for(xt=0;xt<this._geometryMeshPositionsByLayer.length;xt++){var Ue,Pe;(Ue=new i.InstancedBufferGeometry).maxInstancedCount=T.length,Ue.setAttribute("position",new i.Float32BufferAttribute(this._geometryMeshPositionsByLayer[xt],2)),Ue.setAttribute("tran1",new i.InstancedBufferAttribute(new Float32Array(fe),4)),Ue.setAttribute("tran2",new i.InstancedBufferAttribute(new Float32Array(Ee),4)),Ue.setAttribute("tran3",new i.InstancedBufferAttribute(new Float32Array(Ae),4)),Ue.setAttribute("tran4",new i.InstancedBufferAttribute(new Float32Array(_e),4)),Ue.setAttribute("ishide",new i.InstancedBufferAttribute(new Float32Array(xe),1)),(Pe=new i.Mesh(Ue,Me)).frustumCulled=!1,Pe.renderOrder=c.MxData.iCADMeshRenderOrder,ce.add(Pe),this._entitys.push(Pe)}}},le.prototype.addGeometryCurve=function(T,ce,fe,Ee,Ae){0<T.length&&(this._geometryCurvePostion.push(T),this._geometryCurveColor.push(ce)),0<fe.length&&this._geometryCurvePositionsByBlock.push(fe),0<Ee.length&&this._geometryCurvePositionsByLayer.push(Ee),0<Ae.length&&this._geometryCurvePositionsByBlock_ZeroLayer.push(Ae)},le.prototype.addGeometryMesh=function(T,ce,fe,Ee,Ae){0<T.length&&(this._geometryMeshPostion.push(T),this._geometryMeshColor.push(ce)),0<fe.length&&this._geometryMeshPositionsByBlock.push(fe),0<Ee.length&&this._geometryMeshPositionsByLayer.push(Ee),0<Ae.length&&this._geometryMeshPositionsByBlock_ZeroLayer.push(Ae)},le.prototype.addGeometryTexture=function(T,ce,fe,Ee,Ae,_e,xe){var De=new G;De.pos=T,De.textureCoord=ce,De.color=fe,De.sFileName=Ee,De.dAngel=Ae,De.ptRotationPostionX=_e,De.ptRotationPostionY=xe,this._TextureData.push(De)},le.prototype.addMemorySections=function(T){this._MemorySections.push(T)},le.prototype.createThreejsObj=function(T,ce,fe,Ee,Ae){var _e=fe.getScene(),xe=fe.getCanvas();if(T.length!=0){if(this._color==null){var De=Ee.getColor(Ae);this._color=[],this._color.push((255&De)/255,(De>>8&255)/255,(De>>16&255)/255),this._colorValue=16777215&De}this._geometryCurvePostion.length==0&&this._geometryCurvePositionsByBlock.length==0&&this._geometryCurvePositionsByLayer.length==0&&this._geometryCurvePositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForCurve(T,_e),this._geometryMeshPostion.length==0&&this._geometryMeshPositionsByBlock.length==0&&this._geometryMeshPositionsByLayer.length==0&&this._geometryMeshPositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForMesh(T,_e),this._TextureData.length!=0&&this.createThreejsObjForTexture(T,_e,fe),this._MemorySections.length!=0&&this.createThreejsObjForMemorySections(T,_e,fe)}ce.size!=0&&(this._color==null&&(De=Ee.getColor(Ae),this._color=[],this._color.push((255&De)/255,(De>>8&255)/255,(De>>16&255)/255),this._colorValue=16777215&De),this._geometryCurvePostion.length==0&&this._geometryCurvePositionsByBlock.length==0&&this._geometryCurvePositionsByLayer.length==0&&this._geometryCurvePositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForCurve_Clip(ce,_e,xe),this._geometryMeshPostion.length==0&&this._geometryMeshPositionsByBlock.length==0&&this._geometryMeshPositionsByLayer.length==0&&this._geometryMeshPositionsByBlock_ZeroLayer.length==0||this.createThreejsObjForMesh_Clip(ce,_e,xe),this._TextureData.length!=0&&this.createThreejsObjForTexture_Clip(ce,_e,fe),this._MemorySections.length!=0&&this.createThreejsObjForMemorySections_clip(ce,_e,fe)),this._geometryCurvePostion=[],this._geometryCurvePositionsByBlock=[],this._geometryCurvePositionsByLayer=[],this._geometryCurvePositionsByBlock_ZeroLayer=[],this._geometryCurveColor=[],this._geometryMeshPostion=[],this._geometryMeshPositionsByBlock=[],this._geometryMeshPositionsByLayer=[],this._geometryMeshPositionsByBlock_ZeroLayer=[],this._geometryMeshColor=[],this._TextureData=[],this._MemorySections=[]},le);function le(T){this._blockRecId=0,this._TextureData=[],this._MemorySections=[],this._geometryCurvePostion=new Array,this._geometryCurveColor=new Array,this._geometryMeshPostion=new Array,this._geometryMeshColor=new Array,this._geometryCurvePositionsByBlock=new Array,this._geometryMeshPositionsByBlock=new Array,this._geometryCurvePositionsByLayer=new Array,this._geometryMeshPositionsByLayer=new Array,this._geometryCurvePositionsByBlock_ZeroLayer=new Array,this._geometryMeshPositionsByBlock_ZeroLayer=new Array,this._entitys=new Array,this._color=void 0,this._colorValue=16777215,this._material_clip=[],this._blockRecId=T}r.Layer=ie;var ae=(he.prototype.showLayer=function(T,ce){var fe=this._layerTogeometry.get(T);fe?.Show(ce)},he.prototype.updataClipMaterial=function(T){var ce=T.getCanvas();this._layerTogeometry.forEach(function(fe,Ee,Ae){fe.updataClipMaterial(ce)})},he.prototype.getId=function(){return this._id},he.prototype.getBlkRef=function(){return this._blkRef},he.prototype.createThreejsObj=function(T,ce){var fe=this;this._layerTogeometry.forEach(function(Ee,Ae,_e){Ee.createThreejsObj(fe._instance,fe._instance_clip,T,ce,Ae)})},he.prototype.addGeometryCurve=function(T,ce,fe,Ee,Ae,_e){var xe=this._layerTogeometry.get(fe);xe==null&&(xe=new ie(this._id),this._layerTogeometry.set(fe,xe)),xe.addGeometryCurve(T,ce,Ee,Ae,_e)},he.prototype.addMemorySections=function(T){var ce=this._layerTogeometry.get(T.layerId);ce==null&&(ce=new ie(this._id),this._layerTogeometry.set(T.layerId,ce)),ce.addMemorySections(T)},he.prototype.addGeometryTexture=function(T,ce,fe,Ee,Ae,_e,xe,De){var Le=this._layerTogeometry.get(Ee);Le==null&&(Le=new ie(this._id),this._layerTogeometry.set(Ee,Le)),Le.addGeometryTexture(T,ce,fe,Ae,_e,xe,De)},he.prototype.addGeometryMesh=function(T,ce,fe,Ee,Ae,_e){var xe=this._layerTogeometry.get(fe);xe==null&&(xe=new ie(this._id),this._layerTogeometry.set(fe,xe)),xe.addGeometryMesh(T,ce,Ee,Ae,_e)},he.prototype.addInstance=function(T){var ce;T.clipPlans.ver<=3?T.clipPlans.clipPlanArray.length==0?this._instance.push(T):((ce=this._instance_clip.get(T.clipPlans.id))==null&&(ce=[],this._instance_clip.set(T.clipPlans.id,ce)),ce.push(T)):T.clipPlans.instansClipePoints.length==0||100<this._instance_clip.size?this._instance.push(T):((ce=this._instance_clip.get(T.clipPlans.id))==null&&(ce=[],this._instance_clip.set(T.clipPlans.id,ce)),ce.push(T))},he.prototype.addBlkRef=function(T){this._blkRef.push(T)},he);function he(T){this._id=0,this._layerTogeometry=new Map,this._blkRef=[],this._instance=[],this._instance_clip=new Map,this._id=T}r.Block=ae;var pe=(B.prototype.crateBlock=function(T){var ce=this._mapBlock.get(T);return ce==null&&(ce=new ae(T),this._mapBlock.set(T,ce)),ce},B.prototype.getBlock=function(T){return this._mapBlock.get(T)},B.prototype.addBlockRef=function(T){this.crateBlock(T.blkOwnerId).addBlkRef(T)},B.prototype.showLayer=function(T,ce){this._mapBlock.forEach(function(fe,Ee){var Ae=fe,_e=Ee;return function(xe,De,Le){xe.showLayer(Ae,_e)}}.call(this,T,ce))},B.prototype.createBlocks_30=function(T,ce){if(!this._isCreate){this.crateBlock(0);for(var fe=1,Ee=T.getInt32(12,!0),Ae=80,_e=0;_e<Ee;_e++){var xe=T.getInt32(Ae,!0);Ae+=4;var De=T.getInt32(Ae,!0);Ae+=4;var Le=T.getInt32(Ae,!0);Ae+=4;var Ge=T.getInt32(Ae,!0);Ae+=4;for(var rt=new Array,We=0;We<16;We++){var xt=T.getFloat32(Ae,!0);Ae+=4,rt.push(xt)}var Me=T.getInt32(Ae,!0);Ae+=4;var Ue=new f;Ue.id=fe,Ue.ver=3,fe++,Ue.clipPlanArray=[];for(var Pe=0;Pe<Me;Pe++){var Re=T.getFloat32(Ae,!0);Ae+=4;var st=T.getFloat32(Ae,!0);Ae+=4;var It=T.getFloat32(Ae,!0);Ae+=4;var Ct=T.getFloat32(Ae,!0);Ae+=4;var tt=new D;tt.x1=Re,tt.y1=st,tt.x2=It,tt.y2=Ct,Ue.clipPlanArray.push(tt)}var Ve=new A;Ve.ver=3,Ve.mat=new i.Matrix4,Ve.mat.fromArray(rt),Ve.blkRecId=Le,Ve.blkOwnerId=xe,Ve.layerId=De,Ve.color=Ge,Ve.clipPlans=Ue,this.crateBlock(Le),this.addBlockRef(Ve)}this._isGetAllBlocks=!0,this._isCreate=!0}},B.prototype.createBlocks_40=function(T,ce){if(!this._isCreate){this.crateBlock(0);for(var fe=1,Ee=T.getInt32(12,!0),Ae=80,_e=0;_e<Ee;_e++){var xe=T.getInt32(Ae,!0);Ae+=4;var De=T.getInt32(Ae,!0);Ae+=4;var Le=T.getInt32(Ae,!0);Ae+=4;var Ge=T.getInt32(Ae,!0);Ae+=4;for(var rt=new Array,We=0;We<16;We++){var xt=T.getFloat32(Ae,!0);Ae+=4,rt.push(xt)}var Me=T.getInt32(Ae,!0);Ae+=4;var Ue=new f;Ue.id=fe,Ue.ver=4,fe++,Ue.clipPoints=[];for(var Pe=0;Pe<Me;Pe++){var Re=new i.Vector2;Re.x=T.getFloat32(Ae,!0),Ae+=4,Re.y=T.getFloat32(Ae,!0),Ae+=4,Ue.clipPoints.push(Re)}var st=new A;st.ver=4,st.mat=new i.Matrix4,st.mat.fromArray(rt),st.blkRecId=Le,st.blkOwnerId=xe,st.layerId=De,st.color=Ge,st.clipPlans=Ue,this.crateBlock(Le),this.addBlockRef(st)}this._isGetAllBlocks=!0,this._isCreate=!0}},B.prototype.createBlocks=function(T,ce){this._isCreate||(new d.MxNetData(T).getVersion_MwBlobHead()<=3?this.createBlocks_30(T,ce):this.createBlocks_40(T,ce))},B.prototype.updataClipMaterial=function(T){this._mapBlock.forEach(function(ce,fe,Ee){ce.updataClipMaterial(T)})},B.prototype.createAllInstance=function(T){var ce=this.getBlock(0);if(ce==null||this._rootBlockRef==null)return!1;var fe=new i.Matrix4,Ee=new Map,Ae=new f;return this._iClipIdCount=1,Ae.id=this._iClipIdCount,this._iClipIdCount++,this.createAllInstanceCall(ce,this._rootBlockRef,fe,Ee,16777215,T,void 0,Ae),!0},B.prototype.createThreejsObj=function(T,ce,fe){this._mapNeedCreateThreejsObj.get(T.getId())==null&&this._mapNeedCreateThreejsObj.set(T.getId(),T),this._isCreateAllInstance||this._isGetAllBlocks&&fe.isInitComplete()&&(this._isCreateAllInstance=this.createAllInstance(fe)),this._isCreateAllInstance&&(this._mapNeedCreateThreejsObj.forEach(function(Ee,Ae,_e){Ee.createThreejsObj(ce,fe)}),this._mapNeedCreateThreejsObj.clear())},B.prototype.createAllInstanceCall=function(T,ce,fe,Ee,Ae,_e,xe,De){if(Ee[T.getId()]!=1){Ee[T.getId()]=!0;var Le=new S;if(Le.mat=new i.Matrix4,Le.mat.copy(fe),Le.mat.multiply(ce.mat),ce.ver<=3)if(ce.clipPlans.clipPlanArray.length==0)Le.clipPlans=De;else{Le.clipPlans=ce.clipPlans,Le.clipPlans.ver=3;for(var Ge,rt,We,xt,Me=Le.clipPlans.clipPlanArray.length,Ue=function(){Ge=new i.Vector3(Le.clipPlans.clipPlanArray[Pe].x1,Le.clipPlans.clipPlanArray[Pe].y1,0),rt=new i.Vector3(Le.clipPlans.clipPlanArray[Pe].x2,Le.clipPlans.clipPlanArray[Pe].y2,0),We=new i.Vector3(Le.clipPlans.clipPlanArray[Pe].x1,Le.clipPlans.clipPlanArray[Pe].y2,0),xt=new i.Vector3(Le.clipPlans.clipPlanArray[Pe].x2,Le.clipPlans.clipPlanArray[Pe].y1,0),Ge.applyMatrix4(Le.mat),rt.applyMatrix4(Le.mat),We.applyMatrix4(Le.mat),xt.applyMatrix4(Le.mat);var lt=Ge.x,vt=Ge.x,bt=Ge.y,nt=Ge.y,Nt=[];Nt.push(rt),Nt.push(We),Nt.push(xt),Nt.forEach(function(kt){lt>kt.x&&(lt=kt.x),vt<kt.x&&(vt=kt.x),bt>kt.y&&(bt=kt.y),nt<kt.y&&(nt=kt.y)}),Le.clipPlans.clipPlanArray[Pe].x1=lt,Le.clipPlans.clipPlanArray[Pe].y1=bt,Le.clipPlans.clipPlanArray[Pe].x2=vt,Le.clipPlans.clipPlanArray[Pe].y2=nt},Pe=0;Pe<Me;Pe++)Ue()}else if(ce.clipPlans.clipPoints.length==0)Le.clipPlans=De;else{Le.clipPlans=new f,Le.clipPlans.ver=4,Le.clipPlans.id=this._iClipIdCount,this._iClipIdCount++,Le.clipPlans.instansClipePoints=De.instansClipePoints.slice(0);var Re=[],st=ce.clipPlans.clipPoints;for(Me=st.length,Pe=0;Pe<Me;Pe++){var It=new i.Vector3(st[Pe].x,st[Pe].y,0);It.applyMatrix4(Le.mat),Re.push(new i.Vector2(It.x,It.y))}Le.clipPlans.instansClipePoints.push(Re)}xe==null?Le.topLayerColor.push(1,1,1):Le.topLayerColor.push(xe[0],xe[1],xe[2]);var Ct=ce.color>>24&255;if(Ct==2)Le.color.push((255&Ae)/255,(Ae>>8&255)/255,(Ae>>16&255)/255);else if(Ct==1){var tt=_e.getColor(ce.layerId);Le.color.push((255&tt)/255,(tt>>8&255)/255,(tt>>16&255)/255),Ae=tt}else Le.color.push((255&ce.color)/255,(ce.color>>8&255)/255,(ce.color>>16&255)/255),Ae=ce.color;T.addInstance(Le);for(var Ve=T.getBlkRef(),Ze=xe==null,Ne=0;Ne<Ve.length;Ne++)if(Ve[Ne].blkRecId!=0){var qe=this.getBlock(Ve[Ne].blkRecId);if(qe==null)return;Ze&&(xe=[],tt=_e.getColor(Ve[Ne].layerId),xe.push((255&tt)/255,(tt>>8&255)/255,(tt>>16&255)/255)),this.createAllInstanceCall(qe,Ve[Ne],Le.mat,Ee,Ae,_e,xe,Le.clipPlans)}Ee[T.getId()]=!1}},B.prototype.initRootBlockRef=function(T){T==null&&((T=new A).mat=new i.Matrix4,T.blkRecId=0,T.blkOwnerId=-1,T.layerId=-1,T.color=16777215),this._rootBlockRef=T},B);function B(){this._mapBlock=new Map,this._mapNeedCreateThreejsObj=new Map,this._isCreate=!1,this._isGetAllBlocks=!1,this._isCreateAllInstance=!1,this._rootBlockRef=void 0,this._iClipIdCount=1}r.Blocks=pe;var se=function(){this.blocks=new pe,this.layers=new l.MxBrowseLayerData};r.ExternalReferenceDatabase=se;var oe=(O.prototype.createTzDwgExternalReferences=function(T){this._mapId2ExternalDatabase.get(T)||this.getBlocks(T).initRootBlockRef()},O.prototype.createExternalReferences=function(T){for(var ce=T.getInt32(12,!0),fe=80,Ee=0;Ee<ce;Ee++){for(var Ae=new Array,_e=0;_e<16;_e++){var xe=T.getFloat32(fe,!0);fe+=4,Ae.push(xe)}var De=T.getInt32(fe,!0);fe+=4;var Le=T.getInt32(fe,!0);if(fe+=4,T.getInt32(fe,!0),fe+=4,De!=0){var Ge=this.getBlocks(De),rt=new A;rt.mat=new i.Matrix4,rt.mat.fromArray(Ae),rt.blkRecId=0,rt.blkOwnerId=-1,rt.layerId=-1,rt.color=Le,Ge.initRootBlockRef(rt)}else console.log("mx error iDatabaseIndex")}},O.prototype.getBlocks=function(T){if(T!=0){var ce=this._mapId2ExternalDatabase.get(T);return ce==null&&(ce=new se,this._mapId2ExternalDatabase.set(T,ce)),ce.blocks}console.log("mx error iDatabaseIndex")},O.prototype.getLayers=function(T){if(T!=0){var ce=this._mapId2ExternalDatabase.get(T);return ce==null&&(ce=new se,this._mapId2ExternalDatabase.set(T,ce)),ce.layers}console.log("mx error iDatabaseIndex")},O);function O(){this._mapId2ExternalDatabase=new Map}r.ExternalReferenceManager=oe},{"../MxFun":34,"../MxManager":36,"../MxNetData":38,"../MxShader":40,"../MxStencilObject":41,"./MxBrowseLayerData":69,three:19}],69:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxBrowseLayerData=void 0;var i=(a.prototype.add=function(l,c,d){this._layerColor[l]=c,this._nametoId[d]=l},a.prototype.setZeroLayerId=function(l){this._zeroLayerId=l},a.prototype.getZeroLayerId=function(){return this._zeroLayerId},a.prototype.getLayerIdForName=function(l){return this._nametoId[l]==null?0:this._nametoId[l]},a.prototype.getColor=function(l){return this._layerColor[l]==null?16777215:this._layerColor[l]},a.prototype.initComplete=function(){this._isSetInstanceComplete=!0},a.prototype.isInitComplete=function(){return this._isSetInstanceComplete},a);function a(){this._isSetInstanceComplete=!1,this._layerColor=new Map,this._nametoId=new Map,this._zeroLayerId=0}r.MxBrowseLayerData=i},{}],70:[function(e,t,r){var i=this&&this.__awaiter||function(le,ae,he,pe){return new(he=he||Promise)(function(B,se){function oe(ce){try{T(pe.next(ce))}catch(fe){se(fe)}}function O(ce){try{T(pe.throw(ce))}catch(fe){se(fe)}}function T(ce){var fe;ce.done?B(ce.value):((fe=ce.value)instanceof he?fe:new he(function(Ee){Ee(fe)})).then(oe,O)}T((pe=pe.apply(le,ae||[])).next())})},a=this&&this.__generator||function(le,ae){var he,pe,B,se,oe={label:0,sent:function(){if(1&B[0])throw B[1];return B[1]},trys:[],ops:[]};return se={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function O(T){return function(ce){return function(fe){if(he)throw new TypeError("Generator is already executing.");for(;se&&fe[se=0]&&(oe=0),oe;)try{if(he=1,pe&&(B=2&fe[0]?pe.return:fe[0]?pe.throw||((B=pe.return)&&B.call(pe),0):pe.next)&&!(B=B.call(pe,fe[1])).done)return B;switch(pe=0,B&&(fe=[2&fe[0],B.value]),fe[0]){case 0:case 1:B=fe;break;case 4:return oe.label++,{value:fe[1],done:!1};case 5:oe.label++,pe=fe[1],fe=[0];continue;case 7:fe=oe.ops.pop(),oe.trys.pop();continue;default:if(!(B=0<(B=oe.trys).length&&B[B.length-1])&&(fe[0]===6||fe[0]===2)){oe=0;continue}if(fe[0]===3&&(!B||fe[1]>B[0]&&fe[1]<B[3])){oe.label=fe[1];break}if(fe[0]===6&&oe.label<B[1]){oe.label=B[1],B=fe;break}if(B&&oe.label<B[2]){oe.label=B[2],oe.ops.push(fe);break}B[2]&&oe.ops.pop(),oe.trys.pop();continue}fe=ae.call(le,oe)}catch(Ee){fe=[6,Ee],pe=0}finally{he=B=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}}([T,ce])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbDatabase=void 0;var l=e("three"),c=e("../MxFun"),d=e("./MxDbEntity"),E=e("./MxDbEntityGrip"),C=e("./MxDbEntitySelect"),D=e("../MxManager"),f=e("../MxType"),A=e("./MxDbLayerTable"),S=e("./MxDbGroup"),L=e("../MxDrawData"),N=e("../MxTools"),G=(ie.prototype.getAllEntity=function(){return this.mapIdToEntity},ie.prototype.getGroupDictionary=function(){return this.groupDictionary},ie.prototype.upDirtyDisplay=function(){var le=!1;return this.mapIdToEntity.forEach(function(ae){ae.getDirtyDisplay()&&(ae.upDisplay(),ae.setDirtyDisplay(!1),le=!0)}),le},ie.prototype.onViewChange=function(){var le=!1;return this.mapIdToEntity.forEach(function(ae){ae.onViewChange()&&(le=!0)}),le},ie.prototype.toJsonObject=function(le){var ae={ver:1},he=new l.Vector3(0,0,0),pe=new l.Vector3(this.mxObj.getViewWidth(),this.mxObj.getViewHeight(),0),B=f.MxType.MxCloneType.kMxFileClone;le&&(B=f.MxType.MxCloneType.kSaveDwgClone),ae.correctLargeCoordinates=L.MxDrawData.m_isCorrectLargeCoordinates,L.MxDrawData.m_isCorrectLargeCoordinates&&(ae.matDoc2Cad=this.mxObj.getDoc2CADMatrix());var se=this.mxObj.screenCoord2Doc(he.x,he.y,0),oe=this.mxObj.screenCoord2Doc(pe.x,pe.y,0);ae.view={ptView1:se,ptView2:oe};var O=[];return this.mapNameToLayer.forEach(function(T){var ce={type:B};T.dwgOut(ce),ce.TypeName="MxDbLayerTableRecord",O.push(ce)}),ae.layers=O,this.groupDictionary.dwgOut(ae),ae},ie.prototype.saveJson=function(le){var ae=this,he=this.toJsonObject(le),pe=f.MxType.MxCloneType.kMxFileClone;le&&(pe=f.MxType.MxCloneType.kSaveDwgClone);var B=[];return this.mapIdToEntity.forEach(function(se){var oe=se.getUserObject(),O={type:pe};oe.dwgOut(O),O.TypeName=oe.getTypeName(),O.group=ae.groupDictionary.getEntityInGroupName(se.objectId()),B.push(O)}),he.entitys=B,he},ie.prototype.reInit=function(){this.eraseAllEntity(),this.initLayerTable(),this.groupDictionary=new S.MxDbGroupDictionary},ie.prototype.loadJson=function(le){return i(this,void 0,void 0,function(){var ae,he,pe,B,se,oe,O,T,ce,fe,Ee=this;return a(this,function(Ae){switch(Ae.label){case 0:if(this.reInit(),(ae=le).view&&(he=ae.view,this.mxObj.zoomW(he.ptView1,he.ptView2,!1)),pe=ae.layers)for(B=pe.length,fe=0;fe<B;fe++)se=pe[fe],this.addLayer(se.name).dwgIn(se);this.groupDictionary.dwgIn(ae),oe=ae.entitys,O=oe.length,T=function(_e){var xe,De,Le,Ge;return a(this,function(rt){switch(rt.label){case 0:return xe=oe[_e],[4,D.MxManager.getMxDbEntityClassHierarchy().createMxEntity(xe.TypeName)];case 1:return(De=rt.sent())?(De.dwgIn(xe),(Le=new d.MxDbEntity).initUserObject(De),ce.addEntityImp(Le),(Ge=xe.group)&&0<Ge.length&&Ge.forEach(function(We){Ee.groupDictionary.add(We).append(Le.objectId())}),[2]):[2,"continue"]}})},ce=this,fe=0,Ae.label=1;case 1:return fe<O?[5,T(fe)]:[3,4];case 2:Ae.sent(),Ae.label=3;case 3:return fe++,[3,1];case 4:return[2,new Promise(function(_e){_e(!0)})]}})})},ie.prototype.getMxObject=function(){return this.mxObj},ie.prototype.getGripManager=function(){return this.gripManager},ie.prototype.getSelectManager=function(){return this.selectManager},ie.prototype.clearMxCurrentSelect=function(){var le=!1;return this.gripManager.removeAllGrips()&&(le=!0),this.selectManager.removeAllEntity()&&(le=!0),le},ie.prototype.eraseAllEntity=function(){this.mapIdToEntity.forEach(function(le){le.clearDisplayImp()}),this.mapIdToEntity=new Map,this.clearMxCurrentSelect()},ie.prototype.intiDoc2Wold=function(le){this.parentObject.matrix=le,this.parentObject.matrixAutoUpdate=!1},ie.prototype.initLayerTable=function(){this.mapNameToLayer=new Map,this.curLayer="0";var le=new A.MxDbLayerTableRecord;le.init(this.curLayer,this.parentObject),this.mapNameToLayer.set(this.curLayer,le)},ie.prototype.init=function(le){this.mxObj=le,this.scene=le.getScene(),c.MxFun.removeThreejsObject(this.parentObject,this.scene),this.parentObject=new l.Object3D,this.parentObject.renderOrder=D.MxData.iMxEntityRenderOrder,this.scene.add(this.parentObject),this.initLayerTable()},ie.prototype.getEntity=function(le){return this.mapIdToEntity.get(le)},ie.prototype.isValidId=function(le){return this.mapIdToEntity.has(le)},ie.prototype.setRenderOrder=function(le){var ae=this.parentObject.renderOrder;return this.parentObject.renderOrder=le,ae},ie.prototype.eraseEntity=function(le){this.gripManager.deleteGripData(le),this.selectManager.deleteSelect(le),this.mapIdToEntity.delete(le)},ie.prototype.showLayer=function(le,ae){var he=this.getLayer(le);he&&he.setVisible(ae)},ie.prototype.setCurrentLayer=function(le){if(le.length!=0)return this.curLayer=le,this.addLayer(le)},ie.prototype.addLayer=function(le){var ae=this.mapNameToLayer.get(le);return ae||((ae=new A.MxDbLayerTableRecord).init(le,this.parentObject),this.mapNameToLayer.set(le,ae),ae)},ie.prototype.getLayer=function(le){return this.mapNameToLayer.get(le)},ie.prototype.addMxEntity=function(le){if(le.getImp())return le.objectId();var ae=new d.MxDbEntity;return ae.initUserObject(le),le.initGuid(N.MxTools.generateUUID()),this.addEntityImp(ae)},ie.prototype.addEntityImp=function(le){return this.mapIdToEntity.set(this.idCount,le),le.setMxDatabase(this),le.setObjectId(this.idCount),le.getLayer().length==0&&le.setLayer(this.curLayer),le.upDisplay(),this.idCount++},ie.prototype.getThreeJSParentObject=function(){return this.parentObject},ie.prototype.getIntersectObjects=function(le){var ae=new l.Raycaster;ae.linePrecision=this.mxObj.screenCoordLong2Doc(10);var he=this.mxObj.getCanvas(),pe=he.clientWidth,B=he.clientHeight,se=new l.Vector2(le.x/pe*2-1,-le.y/B*2+1);return ae.setFromCamera(se,this.mxObj.getCamera()),ae.intersectObjects(this.parentObject.children,!0)},ie);function ie(){this.mapIdToEntity=new Map,this.mxObj=null,this.scene=null,this.idCount=1,this.parentObject=null,this.mapNameToLayer=new Map,this.curLayer="0",this.gripManager=new E.MxDbEntityGrip(this),this.selectManager=new C.MxDbEntitySelect(this),this.groupDictionary=new S.MxDbGroupDictionary}r.MxDbDatabase=G},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxTools":45,"../MxType":46,"./MxDbEntity":71,"./MxDbEntityGrip":72,"./MxDbEntitySelect":73,"./MxDbGroup":74,"./MxDbLayerTable":75,three:19}],71:[function(e,t,r){var i=this&&this.__awaiter||function(G,ie,le,ae){return new(le=le||Promise)(function(he,pe){function B(O){try{oe(ae.next(O))}catch(T){pe(T)}}function se(O){try{oe(ae.throw(O))}catch(T){pe(T)}}function oe(O){var T;O.done?he(O.value):((T=O.value)instanceof le?T:new le(function(ce){ce(T)})).then(B,se)}oe((ae=ae.apply(G,ie||[])).next())})},a=this&&this.__generator||function(G,ie){var le,ae,he,pe,B={label:0,sent:function(){if(1&he[0])throw he[1];return he[1]},trys:[],ops:[]};return pe={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function se(oe){return function(O){return function(T){if(le)throw new TypeError("Generator is already executing.");for(;pe&&T[pe=0]&&(B=0),B;)try{if(le=1,ae&&(he=2&T[0]?ae.return:T[0]?ae.throw||((he=ae.return)&&he.call(ae),0):ae.next)&&!(he=he.call(ae,T[1])).done)return he;switch(ae=0,he&&(T=[2&T[0],he.value]),T[0]){case 0:case 1:he=T;break;case 4:return B.label++,{value:T[1],done:!1};case 5:B.label++,ae=T[1],T=[0];continue;case 7:T=B.ops.pop(),B.trys.pop();continue;default:if(!(he=0<(he=B.trys).length&&he[he.length-1])&&(T[0]===6||T[0]===2)){B=0;continue}if(T[0]===3&&(!he||T[1]>he[0]&&T[1]<he[3])){B.label=T[1];break}if(T[0]===6&&B.label<he[1]){B.label=he[1],he=T;break}if(he&&B.label<he[2]){B.label=he[2],B.ops.push(T);break}he[2]&&B.ops.pop(),B.trys.pop();continue}T=ie.call(G,B)}catch(ce){T=[6,ce],ae=0}finally{le=he=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([oe,O])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntity=r.MxDbEntityClassHierarchy=r.MxDbEntityUserObject=void 0;var l=e("three"),c=e("../Operate/McGiWorldDraw"),d=e("../MxManager"),E=e("../MxTools"),C=e("../MxType"),D=(f.prototype.getClosestPointTo=function(G,ie){return null},f.prototype.getTypeName=function(){return""},f.prototype.initGuid=function(G){0<this.sGuid.length?console.log("mx: init guid error"):this.sGuid=G},f.prototype.guid=function(){return this.sGuid},f.prototype.setLayer=function(G){var ie=this.getImp();ie&&ie.nodifySetLayer(),this.layer=G},f.prototype.getLayer=function(){return this.layer},f.prototype.setDash=function(G,ie){this.dDashArray=G,this.dDashRatio=ie,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)},f.prototype.getDash=function(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}},f.prototype.setDashLineDisplay=function(G){G?(this.dDashArray=.03,this.dDashRatio=.1,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0)},f.prototype.isDashLineDisplay=function(){return 0<this.dDashArray&&0<this.dDashRatio},f.prototype.setLineWidthByPixels=function(G){this.lineWidthByPixels=G},f.prototype.getLineWidthByPixels=function(){return this.lineWidthByPixels},f.prototype.setLineWidth=function(G){this.dLineWidth=G},f.prototype.getLineWidth=function(){return this.dLineWidth},f.prototype.getMxObject=function(){var G=this.getImp();return G?G.getMxObject():null},f.prototype.onViewChange=function(){return!1},f.prototype.getImp=function(){return this.MxDbEntityImp},f.prototype.upDisplay=function(){var G=this.getImp();return!!G&&G.upDisplay()},f.prototype.erase=function(){var G=this.getImp();return!!G&&G.erase()},f.prototype.setColor=function(G){this.iColor=G},f.prototype.getColor=function(){return this.iColor},f.prototype.setRenderOrder=function(G){this.iRenderOrder=G},f.prototype.getRenderOrder=function(){return this.iRenderOrder},f.prototype.onEndGripEidt=function(){},f.prototype.onStartGripEidt=function(){},f.prototype.dwgIn=function(G){return this.iColor=G.iColor,this.iRenderOrder=G.iRenderOrder,this.opacity=G.opacity,this.visible=G.visible,this.dLineWidth=G.lineWidth,this.lineWidthByPixels=G.lineWidthByPixels,this.dDashArray=G.dashArray,this.dDashRatio=G.dashRatio,this.layer=G.layer,G.guid&&(this.sGuid=G.guid),!0},f.prototype.dwgOut=function(G){return G.iColor=this.iColor,G.iRenderOrder=this.iRenderOrder,G.opacity=this.opacity,G.visible=this.visible,G.lineWidth=this.dLineWidth,G.lineWidthByPixels=this.lineWidthByPixels,G.dashArray=this.dDashArray,G.dashRatio=this.dDashRatio,G.layer=this.layer,G.guid=this.sGuid,G},f.prototype.clone=function(G){var ie=this.create(),le={type:G||C.MxType.MxCloneType.kClone};return this.dwgOut(le),ie.dwgIn(le),ie.sGuid="",ie},f.prototype.init=function(){d.MxManager.getMxDbEntityClassHierarchy().init(this)},f.prototype.transformBy=function(G){},f.prototype.objectId=function(){var G=this.getImp();return G?G.objectId():0},f);function f(){this.iColor=16777215,this.iRenderOrder=d.MxData.iMxEntityRenderOrder,this.opacity=1,this.visible=!0,this.dLineWidth=0,this.lineWidthByPixels=!0,this.dDashArray=0,this.dDashRatio=0,this.layer="",this.sGuid=""}r.MxDbEntityUserObject=D;var A=(S.prototype.init=function(G){var ie=G.getTypeName();this.mapType2Create.get(ie)&&console.log("MxError:already has this class name "+ie),this.mapType2Create.set(ie,{type:0,createfun:G})},S.prototype.initDynamic=function(G){this.dynmaicCreate=G},S.prototype.createMxEntity=function(G){return i(this,void 0,void 0,function(){var ie,le;return a(this,function(ae){switch(ae.label){case 0:return(ie=this.mapType2Create.get(G))?[3,3]:this.dynmaicCreate?[4,this.dynmaicCreate(G)]:[3,2];case 1:return(le=ae.sent())?(this.mapType2Create.set(G,{type:1,createfun:le}),[2,new Promise(function(he,pe){he(new le)})]):[2,new Promise(function(he,pe){he(null)})];case 2:return[2,new Promise(function(he,pe){he(null)})];case 3:return ie.type==0?[2,new Promise(function(he,pe){he(ie.createfun.create())})]:ie.type==1?[2,new Promise(function(he,pe){he(new ie.createfun)})]:[2,new Promise(function(he,pe){he(null)})]}})})},S);function S(){this.mapType2Create=new Map,this.dynmaicCreate=null}r.MxDbEntityClassHierarchy=A;var L=(N.prototype.setObjectId=function(G){this.id=G},N.prototype.nodifySetLayer=function(){this.layerObjectGroup&&this.clearDisplayImp()},N.prototype.setLayer=function(G){this.userObject.setLayer(G)},N.prototype.getLayer=function(){return this.userObject.getLayer()},N.prototype.setDirtyDisplay=function(G){this.isDirtyDisplay=G},N.prototype.getDirtyDisplay=function(){return this.isDirtyDisplay},N.prototype.setMxDatabase=function(G){this.mxDatabase=G},N.prototype.objectId=function(){return this.id},N.prototype.initUserObject=function(G){(this.userObject=G).MxDbEntityImp=this},N.prototype.upDisplay=function(){if(!this.mxDatabase)return console.log("mxassert(0) this.mxDatabase is null"),!1;this.updateDisplayImp(this.mxDatabase.getMxObject())},N.prototype.erase=function(){if(this.id==0)return!1;this.clearDisplayImp(),this.userObject=null,this.mxDatabase.eraseEntity(this.id),this.id=0,this.mxDatabase=null},N.prototype.clearDisplayImp=function(){this.layerObjectGroup&&(this.threeObjectGroup&&(this.threeObjectGroup.traverse(function(G){G.type==="Mesh"&&(G.geometry.dispose(),G.material.dispose())}),this.layerObjectGroup.remove(this.threeObjectGroup)),this.threeObjectGroup=null,this.layerObjectGroup=null)},N.prototype.updateDisplayImp=function(G){if(this.clearDisplayImp(),this.userObject){if(this.userObject.visible){var ie=this.mxDatabase.addLayer(this.userObject.getLayer());if(!ie)return console.log("mxassert(0) this.layerRecord is null"),!1;this.threeObjectGroup=new l.Object3D;var le=new c.McGiWorldDraw(G,c.McGiWorldDrawType.kWorldDraw);le.setupForEntity(this.userObject),this.worldDraw(le);for(var ae=le.getEntitys(),he=ae.length,pe=0;pe<he;pe++){var B=ae[pe];(B.MxDbEntity=this).threeObjectGroup.add(B)}this.layerObjectGroup=ie.getGroup(),this.layerObjectGroup.add(this.threeObjectGroup)}}else E.MxTools.MxASSERT(!1,"this.userObject == null")},N.prototype.worldDraw=function(G){this.userObject.worldDraw(G)},N.prototype.getGripPoints=function(){return this.userObject.getGripPoints()},N.prototype.getClosestPointTo=function(G,ie){return this.userObject.getClosestPointTo(G,ie)},N.prototype.getUserObject=function(){return this.userObject},N.prototype.clone=function(G){var ie=new N;return ie.initUserObject(this.userObject.clone(G)),ie},N.prototype.transformBy=function(G){this.userObject.transformBy(G)},N.prototype.setColor=function(G){this.userObject.setColor(G)},N.prototype.onEndGripEidt=function(){this.userObject.onEndGripEidt()},N.prototype.onStartGripEidt=function(){return this.userObject.onStartGripEidt()},N.prototype.getColor=function(){return this.userObject.getColor()},N.prototype.getMxObject=function(){return this.mxDatabase?this.mxDatabase.getMxObject():null},N.prototype.onViewChange=function(){return!!this.userObject&&this.userObject.onViewChange()},N);function N(){this.threeObjectGroup=null,this.userObject=null,this.mxDatabase=null,this.isDirtyDisplay=!1,this.layerObjectGroup=null,this.id=0}r.MxDbEntity=L},{"../MxManager":36,"../MxTools":45,"../MxType":46,"../Operate/McGiWorldDraw":50,three:19}],72:[function(e,t,r){var i,a=this&&this.__extends||(i=function(he,pe){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,se){B.__proto__=se}||function(B,se){for(var oe in se)Object.prototype.hasOwnProperty.call(se,oe)&&(B[oe]=se[oe])})(he,pe)},function(he,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function B(){this.constructor=he}i(he,pe),he.prototype=pe===null?Object.create(pe):(B.prototype=pe.prototype,new B)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntityGrip=r.MxDbEntityGripJig=r.MxGetWordDrawxDataForThreeJsObject=r.MxGetMxDbEntitForThreeJsObject=r.MxDbEntityGripData=void 0;var l=e("three"),c=e("../MxFun"),d=e("../MxDrawData"),E=e("../Operate/MxJig"),C=e("../Operate/MxJigCmdManager"),D=e("../Operate/McGiWorldDraw"),f=e("../MxManager"),A=e("../MxType"),S=function(){this.threeObject=null};function L(he){for(var pe=null;he&&!(pe=he.MxDbEntity)&&he.parent;)he=he.parent;return pe}r.MxDbEntityGripData=S,r.MxGetMxDbEntitForThreeJsObject=L,r.MxGetWordDrawxDataForThreeJsObject=function(he){for(var pe=null;he&&!(pe=he.MxWordDrawXData)&&he.parent;)he=he.parent;return pe};var N,G=(a(ie,N=E.McEdJigCommand),ie.prototype.sampler=function(){var he=C.MxJigCmdManager.InType.kGetBegan|C.MxJigCmdManager.InType.kGetEnd,pe=this.acquirePoint(he);return pe.status==C.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=pe.pt),pe.status},ie.prototype.getTypeName=function(){return"MxGripEdit"},ie.prototype.onStartCommand=function(){this.iscallOnStartCommand=!0,N.prototype.onStartCommand.call(this)},ie.prototype.done=function(he){if(he==C.MxJigCmdManager.DragStatus.kNormal){var pe=this.currPt.clone();pe.sub(this.dragBasePt);for(var B=this.getMxObject(),se=B.getMxDatabase(),oe=B.getMxDatabase().getGripManager(),O=this.grips.length,T=new Set,ce=[],fe=0;fe<O;fe++){var Ee=this.grips[fe],Ae=this.ents[fe];oe.deleteGripData(Ae.objectId()),Ae.getUserObject().moveGripPointsAt(Ee.iIndex,pe),oe.addGripFromEntity(Ae),Ae.upDisplay(),T.add(Ae.objectId());var _e={id:Ae.objectId(),index:Ee.iIndex,curentPoint:this.currPt};ce.push(_e)}B.updateDisplay(),0<ce.length&&B.callEvent("objectGripEdit",ce),se.getSelectManager().upSelectDilsplay(T)}var xe=this.ents.length;for(fe=0;fe<xe;fe++)(Ae=this.ents[fe]).onEndGripEidt(),he!=C.MxJigCmdManager.DragStatus.kNormal&&Ae.upDisplay();return C.MxJigCmdManager.DoneStatius.kExitCommand},ie.prototype.upDisplay=function(){var he=this.currPt.clone();if(he.sub(this.dragBasePt),!(he.length()<.001)){if(this.iscallOnStartCommand){for(var pe=this.ents.length,B=0;B<pe;B++){var se=this.ents[B];this.aryParam.push(se.onStartGripEidt())}this.iscallOnStartCommand=!1}var oe=this.getMxObject(),O=this.grips.length;for(B=0;B<O;B++){var T=this.grips[B],ce=(se=this.ents[B],this.aryParam[B]),fe=se.clone(A.MxType.MxCloneType.kDragClone);fe.getUserObject().moveGripPointsAt(T.iIndex,he);var Ee=new D.McGiWorldDraw(oe,D.McGiWorldDrawType.kDynDragDraw);Ee.setupForEntity(fe.getUserObject()),fe.worldDraw(Ee);var Ae=Ee.getEntitys(),_e=Ae.length,xe=31;ce&&ce.renderOrder&&(xe=ce.renderOrder);for(var De=0;De<_e;De++)this.drawEntity(Ae[De],xe)}}},ie);function ie(he,pe,B){var se=N.call(this)||this;return se.aryParam=[],se.iscallOnStartCommand=!0,se.dragBasePt=he,se.grips=pe,se.ents=B,se.currPt=he,se.iscallOnStartCommand=!0,se}r.MxDbEntityGripJig=G;var le=(ae.prototype.getAllSelect=function(){var he=[];return this.mapGrips.forEach(function(pe,B){he.push(B)}),he},ae.prototype.getParentGroup=function(){return this.drawGroup||(this.drawGroup=new l.Group,this.drawGroup.renderOrder=f.MxData.iGripRenderOrder,this.database.getMxObject().getTheTempDrawContainer().add(this.drawGroup)),this.drawGroup},ae.prototype.removeAllGrips=function(){if(this.mapGrips.size==0)return!1;this.database.getMxObject();var he=this.getParentGroup();return this.mapGrips.forEach(function(pe,B,se){for(var oe=pe.length,O=0;O<oe;O++){var T=pe[O];c.MxFun.removeThreejsObject(T.threeObject,he)}}),this.mapGrips=new Map,!0},ae.prototype.deleteGripData=function(he){var pe=this.getParentGroup(),B=this.mapGrips.get(he);if(B)for(var se=B.length,oe=0;oe<se;oe++){var O=B[oe];c.MxFun.removeThreejsObject(O.threeObject,pe)}this.mapGrips.delete(he)},ae.prototype.createGripDisplayObject=function(he){var pe=this.database.getMxObject(),B=this.getParentGroup();he.geometry=new l.Geometry;var se=pe.screenCoordLong2Doc(d.MxDrawData.m_dGridWidth/2);he.geometry.vertices.push(new l.Vector3(he.point.x-se,he.point.y-se,0)),he.geometry.vertices.push(new l.Vector3(he.point.x-se,he.point.y+se,0)),he.geometry.vertices.push(new l.Vector3(he.point.x+se,he.point.y+se,0)),he.geometry.vertices.push(new l.Vector3(he.point.x+se,he.point.y-se,0)),he.geometry.faces.push(new l.Face3(0,1,2)),he.geometry.faces.push(new l.Face3(2,3,0)),he.geometry.computeFaceNormals(),he.geometry.computeVertexNormals();var oe=new l.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:l.DoubleSide,opacity:.9}),O=new l.Mesh(he.geometry,oe);B.add(O),he.threeObject=O},ae.prototype.addGripData=function(he,pe,B){var se=this.mapGrips.get(he);se==null&&(se=new Array,this.mapGrips.set(he,se));var oe=new S;return oe.iIndex=pe,oe.point=new l.Vector3(B.x,B.y,0),se.push(oe),oe},ae.prototype.hitTest=function(he){var pe=this,B={grips:new Array,ents:new Array,pt:he},se=new l.Vector3(he.x,he.y,0),oe=this.database.getMxObject(),O=oe.screenCoordLong2Doc(d.MxDrawData.m_dGridWidth/2);return this.mapGrips.forEach(function(T,ce){for(var fe=T.length,Ee=0;Ee<fe;Ee++){var Ae=T[Ee];if(Ae.point.distanceTo(se)<=O){var _e=pe.database.getEntity(ce),xe=!0;oe.hasEvent("whetherEditTheGripPoint")&&(xe=oe.callEvent("whetherEditTheGripPoint",{entity:_e.getUserObject(),index:Ae.iIndex})),xe&&(B.grips.push(Ae),B.ents.push(_e));break}}}),B},ae.prototype.onMouseLBDown=function(he){if(!d.MxDrawData.m_isEnableGripEidt)return!1;var pe=this.hitTest(he);return pe.grips.length!=0&&(c.MxFun.sendStringToExecute("Mx_FrontEndWebpageGripEdit",pe),!0)},ae.prototype.gripEditImp=function(he){var pe=he.grips,B=he.ents,se=he.pt,oe=new G(se,pe,B);oe.setDisableDynInput(!0),oe.setDisableOsnap(!0),C.MxJigCmdManager.runCmd(oe)},ae.prototype.doWindowsSelect=function(he,pe){},ae.prototype.addGripFromEntity=function(he){if(d.MxDrawData.m_isEnableGripEidt){var pe=he.getGripPoints(),B=he.objectId();this.deleteGripData(B);for(var se=0;se<pe.length;se++){var oe=this.addGripData(B,se,pe[se]);this.createGripDisplayObject(oe)}}},ae.prototype.addSelect=function(he){var pe=this.database.getSelectManager(),B=!1;if(this.getAllSelect().forEach(function(T){T==he&&(B=!0)}),!B){var se=this.database.getMxObject(),oe=se.getMxEntity(he);if(oe){var O=new Set;O.add(he),this.addGripFromEntity(oe),pe.upSelectDilsplay(O),this.isCallingMxEntitySelectChange||(this.isCallingMxEntitySelectChange=!0,se.callEvent("MxEntitySelectChange",this.getAllSelect()),this.isCallingMxEntitySelectChange=!1)}}},ae.prototype.doPointSelect=function(he){for(var pe=!1,B=this.database.getSelectManager(),se=this.database.getMxObject(),oe=B.isEmptySelect(),O=!1,T=se.screenCoordLong2Doc(.5*d.MxDrawData.m_dGridWidth),ce=function(){d.MxDrawData.m_isMultipleSelect||(fe.removeAllGrips(),B.removeAllEntity());var Ee=fe.database.getIntersectObjects(he);if(Ee.length==0)return se.updateDisplay(),"break";var Ae=se.screenCoord2Doc(he.x,he.y,he.z),_e=fe,xe=new Set;Ee.forEach(function(Ge){var rt=L(Ge.object);if(rt){var We=rt.objectId();if(_e.database.isValidId(We)&&!xe.has(We)){var xt=rt.getClosestPointTo(Ae,1),Me=!1;(!xt||xt.distanceTo(Ae)<T)&&(Me=!0),Me&&(xe.add(We),_e.addGripFromEntity(rt))}}});var De=new Set,Le=fe.database.getGroupDictionary();return xe.forEach(function(Ge){De.add(Ge),Le.getEntityInGroup(Ge).forEach(function(rt){rt.getAll().forEach(function(We){_e.database.isValidId(We)&&De.add(We)})})}),O=!0,B.upSelectDilsplay(De),se.updateDisplay(),pe=!0,"break"},fe=this;ce()!=="break";);return!O&&oe==B.isEmptySelect()||this.isCallingMxEntitySelectChange||(this.isCallingMxEntitySelectChange=!0,se.callEvent("MxEntitySelectChange",this.getAllSelect()),this.isCallingMxEntitySelectChange=!1),pe},ae);function ae(he){this.database=null,this.mapGrips=new Map,this.isCallingMxEntitySelectChange=!1,this.drawGroup=null,this.database=he}r.MxDbEntityGrip=le},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../MxType":46,"../Operate/McGiWorldDraw":50,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],73:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbEntitySelect=void 0;var i=e("three"),a=e("../MxFun"),l=e("three.meshline"),c=e("../Operate/McGiWorldDraw"),d=e("../MxManager"),E=(C.prototype.setRenderOrder=function(D){this.iRenderOrder=D},C.prototype.getRenderOrder=function(){return this.iRenderOrder},C.prototype.setCanvasSize=function(D,f){this.canvasWidth==D&&this.canvasHeight==f||(this.canvasWidth=D,this.canvasHeight=f,this.material.resolution=new i.Vector2(this.canvasWidth,this.canvasHeight),this.material.needsUpdate=!0)},C.prototype.removeAllEntity=function(){var D=this.getParentObject();return this.mapIdToThreeObject.size!=0&&(this.mapIdToThreeObject.forEach(function(f){for(var A=f.length,S=0;S<A;S++)a.MxFun.removeThreejsObject(f[S],D)}),this.mapIdToThreeObject.clear(),!0)},C.prototype.isEmptySelect=function(){return this.mapIdToThreeObject.size==0},C.prototype.getParentObject=function(){return this.mxDatabase.getMxObject().getTheTempDrawContainer()},C.prototype.getAllSelect=function(){var D=[];return this.mapIdToThreeObject.forEach(function(f,A){D.push(A)}),D},C.prototype.setPrvCommandSelect=function(D){this.aryPrvCommandSelect=D},C.prototype.getPrvCommandSelect=function(){return this.aryPrvCommandSelect},C.prototype.deleteSelect=function(D){var f=this.getParentObject(),A=this.mapIdToThreeObject.get(D);if(A){for(var S=A.length,L=0;L<S;L++)a.MxFun.removeThreejsObject(A[L],f);this.mapIdToThreeObject.delete(D)}},C.prototype.upSelectDilsplayFromId=function(D){var f=new Set;f.add(D),this.upSelectDilsplay(f)},C.prototype.upSelectDilsplay=function(D){var f=this,A=new c.McGiWorldDrawSelect(this.mxDatabase.getMxObject(),this);D.forEach(function(S){f.deleteSelect(S);var L=f.mxDatabase.getEntity(S);L&&(A.setCurEntityId(S),L.worldDraw(A))})},C.prototype.addCircleDisplay=function(D,f,A){var S=new i.CircleGeometry(A,64,3,2*Math.PI);if(S.vertices.shift(),S.vertices.length!=0){S.vertices.push(S.vertices[0]);var L=3*S.vertices.length;if(L!=0){for(var N=this.getParentObject(),G=new Float32Array(L),ie=0,le=0;ie+2<L;ie+=3,le++)G[ie]=S.vertices[le].x+f.x,G[ie+1]=S.vertices[le].y+f.y,G[ie+2]=f.z;var ae=new l.MeshLine;ae.setGeometry(G);var he=new i.Mesh(ae.geometry,this.material);he.renderOrder=this.iRenderOrder,N.add(he);var pe=this.mapIdToThreeObject.get(D);pe||(pe=new Array,this.mapIdToThreeObject.set(D,pe)),pe.push(he)}}},C.prototype.addLineDisplay=function(D,f,A){var S=this.getParentObject(),L=new Float32Array(6);L[0]=f.x,L[1]=f.y,L[2]=0,L[3]=A.x,L[4]=A.y,L[5]=0;var N=new l.MeshLine;N.setGeometry(L);var G=new i.Mesh(N.geometry,this.material);G.renderOrder=this.iRenderOrder,S.add(G);var ie=this.mapIdToThreeObject.get(D);ie||(ie=new Array,this.mapIdToThreeObject.set(D,ie)),ie.push(G)},C);function C(D){this.mapIdToThreeObject=new Map,this.canvasWidth=800,this.canvasHeight=500,this.mxDatabase=null,this.material=new l.MeshLineMaterial({useMap:!1,color:new i.Color(2641557),opacity:.8,resolution:new i.Vector2(800,500),sizeAttenuation:!1,lineWidth:10,transparent:!0,depthTest:!1}),this.iRenderOrder=d.MxData.iSelectRenderOrder,this.aryPrvCommandSelect=[],this.mxDatabase=D}r.MxDbEntitySelect=E},{"../MxFun":34,"../MxManager":36,"../Operate/McGiWorldDraw":50,three:19,"three.meshline":18}],74:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbGroupDictionary=r.MxDbGroup=void 0;var i=(a.prototype.name=function(){return this.sName},a.prototype.append=function(d){this.has(d)||this.setId.add(d)},a.prototype.clear=function(){this.setId=new Set},a.prototype.getAll=function(){var d=[];return this.setId.forEach(function(E){d.push(E)}),d},a.prototype.has=function(d){return this.setId.has(d)},a.prototype.delete=function(d){return this.setId.delete(d)},a);function a(d){this.setId=new Set,this.sName="",this.sName=d}r.MxDbGroup=i;var l=(c.prototype.getAt=function(d){return this.mapNameToGroup.get(d)},c.prototype.delete=function(d){return!!this.mapNameToGroup.has(d)&&this.mapNameToGroup.delete(d)},c.prototype.add=function(d){var E=this.mapNameToGroup.get(d);return E||(E=new i(d),this.mapNameToGroup.set(d,E),E)},c.prototype.dwgOut=function(d){var E=[];return this.mapNameToGroup.forEach(function(C,D){E.push(D)}),d.groups=E,d},c.prototype.dwgIn=function(d){var E=this;return d.groups.forEach(function(C){var D=new i(C);E.mapNameToGroup.set(C,D)}),!0},c.prototype.getEntityInGroup=function(d){var E=[];return this.mapNameToGroup.forEach(function(C){C.has(d)&&E.push(C)}),E},c.prototype.getEntityInGroupName=function(d){var E=[];return this.mapNameToGroup.forEach(function(C,D){C.has(d)&&E.push(D)}),E},c);function c(){this.mapNameToGroup=new Map}r.MxDbGroupDictionary=l},{}],75:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbLayerTableRecord=void 0;var i=e("three"),a=(l.prototype.getGroup=function(){return this.group},l.prototype.getName=function(){return this.name},l.prototype.setName=function(c){this.name=c},l.prototype.setVisible=function(c){this.visible=c,this.group.visible=c},l.prototype.getVisible=function(){return this.visible},l.prototype.init=function(c,d){return this.name=c,d.add(this.group),!0},l.prototype.dwgIn=function(c){return this.visible=c.visible,this.name=c.name,this.group.visible=this.visible,!0},l.prototype.dwgOut=function(c){return c.visible=this.visible,c.name=this.name,c},l);function l(){this.group=new i.Group,this.name="",this.visible=!0}r.MxDbLayerTableRecord=a},{three:19}],76:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MxDbTextureManager=void 0;var i=e("three"),a=(l.prototype.loadImage=function(c,d){var E=this.mapImageUrlToMaterialTexture.get(c);if(E)d(E);else{var C=this;new i.TextureLoader().load(c,function(D){var f=new i.MeshLambertMaterial({map:D,transparent:!0,side:i.DoubleSide});f.map&&(f.map.needsUpdate=!0),C.mapImageUrlToMaterialTexture.set(c,f),d&&d(f)},void 0,function(D){console.log(D),d&&d(null)})}},l);function l(){this.mapImageUrlToMaterialTexture=new Map}r.MxDbTextureManager=a},{three:19}],77:[function(e,t,r){var i,a=this&&this.__extends||(i=function(he,pe){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,se){B.__proto__=se}||function(B,se){for(var oe in se)Object.prototype.hasOwnProperty.call(se,oe)&&(B[oe]=se[oe])})(he,pe)},function(he,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function B(){this.constructor=he}i(he,pe),he.prototype=pe===null?Object.create(pe):(B.prototype=pe.prototype,new B)});Object.defineProperty(r,"__esModule",{value:!0}),r.MxDrawObject3dThreeJS=r.MxDrawObject2dThreeJS=r.MxDrawMapBoxThreeJS=r.MxDrawThreeJS=r.MxThreeJSType=void 0;var l,c,d=e("three"),E=e("../Operate/MxJigCmdManager");(c=l||(r.MxThreeJSType=l={}))[c.k2d=0]="k2d",c[c.k3d=1]="k3d",c[c.kMapBox=2]="kMapBox";var C=(D.prototype.addControlsChangeEvent=function(){var he=this.mxObject;this.mxObject.getOrbitControls().addEventListener("change",function(){E.MxJigCmdManager.OnThreeControlsChage(),he.callEvent("viewchange"),he.getMxDatabase().onViewChange(),he.getMcObject().isValid()&&he.getMcObject().getGripManager().onControlsChage();var pe=he.getMxCAD();pe&&pe.getGrip().onControlsChage(),he.updateDisplay()})},D.prototype.updateDisplay=function(he){he===void 0&&(he=!1),this.mxObject.updateDisplayImplement(he)},D.prototype.addWindowResizeEvent=function(){},D);function D(he){this.mxObject=he}r.MxDrawThreeJS=C;var f,A=(a(S,f=C),S.prototype.onInitThreejs=function(){var he=this,pe=new d.Camera,B=new d.Scene,se=this.mapBox.canvas,oe=new d.DirectionalLight(16777215);oe.position.set(0,-70,100).normalize(),B.add(oe);var O=new d.DirectionalLight(16777215);O.position.set(0,70,100).normalize(),B.add(O);var T=new d.WebGLRenderer({canvas:se,context:this.mapBox.gl});T.autoClear=!1,this.mxObject2d.mapBoxInitThreeJSObject(B,pe,T);var ce=this;this.mapBox.render=function(fe,Ee){var Ae=new d.Matrix4().fromArray(Ee);Ae.multiply(he.matCADLogicalCoordToMap);var _e=new d.Vector3(0,0,0);if(_e.applyMatrix4(Ae),1<_e.z){var xe=1-_e.z-1e-5;Ae=new d.Matrix4().makeTranslation(0,0,xe).multiply(Ae)}ce.mxObject2d.mapBoxRender(fe,Ae)}},S.prototype.alignCoordSys=function(he,pe,B,se,oe){var O=1;0<pe.x-he.x&&0<se.x-B.x&&(O=(se.x-B.x)/(pe.x-he.x));var T=new d.Matrix4;T.makeTranslation(-he.x,-he.y,-he.z);var ce=new d.Matrix4().scale(new d.Vector3(O,-O,O));return new d.Matrix4().makeTranslation(B.x,B.y+(se.y-B.y),oe).multiply(ce).multiply(T)},S.prototype.updateCameraDisplayRange=function(he,pe,B){var se=new d.Matrix4;se.makeTranslation(-this.mapBox.cadOrigin.x,-this.mapBox.cadOrigin.y,-this.mapBox.cadOrigin.z);var oe=new d.Matrix4;oe.makeTranslation(this.mapBox.mapOrigin.x,this.mapBox.mapOrigin.y,this.mapBox.elevation);var O=new d.Matrix4;O.makeScale(this.mapBox.mapLenInCADUnits,-this.mapBox.mapLenInCADUnits,this.mapBox.mapLenInCADUnits);var T=oe.multiply(O).multiply(se),ce=this.mxObject2d.getWorldToDoc();this.matCADLogicalCoordToMap=T.clone().multiply(ce),this.mapBox.matCadToMap=T,this.mapBox.matMapToCad=new d.Matrix4,this.mapBox.matMapToCad.getInverse(T)},S.prototype.onInitScene=function(){},S.prototype.addControlsChangeEvent=function(){},S.prototype.addWindowResizeEvent=function(){},S.prototype.updateDisplay=function(he){},S.prototype.getType=function(){return l.kMapBox},S);function S(he,pe){var B=f.call(this,pe)||this;return B.matCADLogicalCoordToMap=new d.Matrix4,B.mapBox=he,B.mxObject2d=pe,B}r.MxDrawMapBoxThreeJS=A;var L,N=(a(G,L=C),G.prototype.onInitThreejs=function(){this.proxyObj.onInitThreejs()},G.prototype.onInitScene=function(){this.proxyObj.onInitScene()},G.prototype.getType=function(){return l.k2d},G.prototype.updateCameraDisplayRange=function(he,pe,B){this.proxyObj.updateCameraDisplayRangeImp(he,pe,B)},G);function G(he){var pe=L.call(this,he)||this;return pe.proxyObj=he,pe}r.MxDrawObject2dThreeJS=N;var ie,le=(a(ae,ie=C),ae.prototype.onInitThreejs=function(){this.proxyObj.onInitThreejs()},ae.prototype.onInitScene=function(){this.proxyObj.onInitScene()},ae.prototype.getType=function(){return l.k3d},ae.prototype.updateCameraDisplayRange=function(he,pe,B){},ae);function ae(he){var pe=ie.call(this,he)||this;return pe.proxyObj=he,pe}r.MxDrawObject3dThreeJS=le},{"../Operate/MxJigCmdManager":58,three:19}],78:[function(e,t,r){var i,a=this&&this.__extends||(i=function(ae,he){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,B){pe.__proto__=B}||function(pe,B){for(var se in B)Object.prototype.hasOwnProperty.call(B,se)&&(pe[se]=B[se])})(ae,he)},function(ae,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function pe(){this.constructor=ae}i(ae,he),ae.prototype=he===null?Object.create(he):(pe.prototype=he.prototype,new pe)});Object.defineProperty(r,"__esModule",{value:!0}),r.McDrawGripJig=r.McDrawGrip=r.McDrawSlect=r.McDrawGripData=void 0;var l=e("three"),c=e("../MxFun"),d=e("../Operate/MxJig"),E=e("../Operate/MxJigCmdManager"),C=e("../MxManager"),D=e("../MxDrawData"),f=function(){this.threeObject=null};r.McDrawGripData=f;var A=(S.prototype.add=function(ae){this.setId.has(ae)||(this.setId.add(ae),this.mcObj.HighlightEntity(ae,!0))},S.prototype.remove=function(ae){this.setId.has(ae)&&(this.setId.delete(ae),this.mcObj.HighlightEntity(ae,!1))},S.prototype.removeAll=function(){var ae=this;this.setId.forEach(function(he){ae.mcObj.HighlightEntity(he,!1)}),this.setId.clear()},S);function S(ae){this.mcObj=null,this.setId=new Set,this.mcObj=ae}r.McDrawSlect=A;var L=(N.prototype.getParentGroup=function(){return this.drawGroup||(this.drawGroup=new l.Group,this.drawGroup.renderOrder=C.MxData.iGripRenderOrder,this.mxObj.getTheTempDrawContainer().add(this.drawGroup)),this.drawGroup},N.prototype.removeAllEntity=function(){var ae=this.getParentGroup();this.mapGrips.forEach(function(he,pe,B){for(var se=he.length,oe=0;oe<se;oe++){var O=he[oe];c.MxFun.removeThreejsObject(O.threeObject,ae)}}),this.mapGrips=new Map},N.prototype.deleteGripData=function(ae){var he=this.getParentGroup(),pe=this.mapGrips.get(ae);if(pe)for(var B=pe.length,se=0;se<B;se++){var oe=pe[se];c.MxFun.removeThreejsObject(oe.threeObject,he)}this.mapGrips.delete(ae)},N.prototype.addGripData=function(ae,he,pe,B){var se=this.mapGrips.get(ae);se==null&&(se=new Array,this.mapGrips.set(ae,se));var oe=new f;return oe.iIndex=he,oe.point=this.mxObj.cadCoord2Doc(pe,B,0),se.push(oe),oe},N.prototype.createGripDisplayObject=function(ae){var he=this.getParentGroup();ae.geometry=new l.Geometry;var pe=this.mxObj.screenCoordLong2Doc(D.MxDrawData.m_dGridWidth/2);ae.geometry.vertices.push(new l.Vector3(ae.point.x-pe,ae.point.y-pe,0)),ae.geometry.vertices.push(new l.Vector3(ae.point.x-pe,ae.point.y+pe,0)),ae.geometry.vertices.push(new l.Vector3(ae.point.x+pe,ae.point.y+pe,0)),ae.geometry.vertices.push(new l.Vector3(ae.point.x+pe,ae.point.y-pe,0)),ae.geometry.faces.push(new l.Face3(0,1,2)),ae.geometry.faces.push(new l.Face3(2,3,0)),ae.geometry.computeFaceNormals(),ae.geometry.computeVertexNormals();var B=new l.MeshBasicMaterial({color:255,transparent:!0,depthTest:!1,side:l.DoubleSide,opacity:.9}),se=new l.Mesh(ae.geometry,B);he.add(se),ae.threeObject=se},N.prototype.clearAll=function(){return this.mcSelect.removeAll(),this.mapGrips.size!=0&&(this.removeAllEntity(),!0)},N.prototype.onControlsChage=function(){if(this.mapGrips.size!=0){var ae=this.mxObj.screenCoordLong2Doc(8),he=!1;this.mapGrips.forEach(function(pe,B,se){for(var oe=pe.length,O=0;O<oe;O++){var T=pe[O];T.geometry.vertices.length==4&&(T.geometry.vertices[0].x=T.point.x-ae,T.geometry.vertices[0].y=T.point.y-ae,T.geometry.vertices[1].x=T.point.x-ae,T.geometry.vertices[1].y=T.point.y+ae,T.geometry.vertices[2].x=T.point.x+ae,T.geometry.vertices[2].y=T.point.y+ae,T.geometry.vertices[3].x=T.point.x+ae,T.geometry.vertices[3].y=T.point.y-ae,T.geometry.computeFaceNormals(),T.geometry.computeVertexNormals(),T.geometry.verticesNeedUpdate=!0,he=!0)}}),he&&this.mxObj.resetRenderer()}},N.prototype.hitTest=function(ae){var he={grips:new Array,ids:new Array,pt:ae},pe=new l.Vector3(ae.x,ae.y,0),B=this.mxObj.screenCoordLong2Doc(32);return this.mapGrips.forEach(function(se,oe){for(var O=se.length,T=0;T<O;T++){var ce=se[T];if(ce.point.distanceTo(pe)<=B){he.grips.push(ce),he.ids.push(oe);break}}}),he},N.prototype.onMouseLBDown=function(ae){var he=this.hitTest(ae);return he.grips.length!=0&&(c.MxFun.sendStringToExecute("McDraw_GripEdit",he),!0)},N.prototype.gripEditImp=function(ae){var he=ae.grips,pe=ae.ids,B=ae.pt,se=new ie(B,he,pe,this.mcObj);se.setDisableDynInput(!0),se.setDisableOsnap(!0),E.MxJigCmdManager.runCmd(se)},N.prototype.addGridDisplay=function(ae){if(ae&&ae.length!=0)for(var he=JSON.parse(ae),pe=he.vecEntityData.length,B=0;B<pe;B++){var se=he.vecEntityData[B],oe=se.lIdIndex;this.deleteGripData(oe);for(var O=se.vecGrip.length,T=0;T<O;T++){var ce=se.vecGrip[T],fe=this.addGripData(oe,ce.iIndex,ce.ptx,ce.pty);this.createGripDisplayObject(fe)}}},N.prototype.upEntityGridDisplay=function(ae){if(ae==0)return!1;var he=this.mcObj.mcObjectImp.IntelliSelect_getGridData(ae);return this.addGridDisplay(he),!0},N.prototype.doPointSelect=function(ae){var he=this.mxObj.screenCoord2Doc(ae.x,ae.y,0),pe=this.mxObj.docCoord2Cad(he.x,he.y,he.z),B=this.mcObj.mcObjectImp.IntelliSelect_PointSelect(pe.x,pe.y);if(B!=0)return this.mcSelect.removeAll(),this.mcSelect.add(B),this.upEntityGridDisplay(B)},N);function N(ae,he){this.mxObj=null,this.mcObj=null,this.mcSelect=null,this.mapGrips=new Map,this.drawGroup=null,this.mxObj=ae,this.mcObj=he,this.mcSelect=new A(he)}r.McDrawGrip=L;var G,ie=(a(le,G=d.McEdJigCommand),le.prototype.onExitCommand=function(ae){this.mcObj.DestroyObject(this.tempEntity),this.tempEntity=null,this.mcObj.DestroyObject(this.tempEntityWordDraw),this.tempEntityWordDraw=null,G.prototype.onExitCommand.call(this,ae)},le.prototype.sampler=function(){var ae=E.MxJigCmdManager.InType.kGetBegan,he=this.acquirePoint(ae);if(he.status==E.MxJigCmdManager.DragStatus.kNormal&&(this.currPt=he.pt,this.tempEntity)){var pe=this.mcObj.mxObject.docCoord2Cad(he.pt.x,he.pt.y,he.pt.z),B=this.mcObj.mxObject.docCoord2Cad(this.pt.x,this.pt.y,this.pt.z);this.mcObj.DestroyObject(this.tempEntityWordDraw),this.tempEntityWordDraw=this.tempEntity.Clone(),this.tempEntityWordDraw&&this.tempEntityWordDraw.moveGripPointsAt(this.grips[0].iIndex,pe.x-B.x,pe.y-B.y,pe.z-B.z)}return he.status},le.prototype.getTypeName=function(){return"McDrawGripEdit"},le.prototype.done=function(ae){if(ae==E.MxJigCmdManager.DragStatus.kNormal)for(var he=this.mcObj.mxObject.docCoord2Cad(this.pt.x,this.pt.y,this.pt.z),pe=this.mcObj.mxObject.docCoord2Cad(this.currPt.x,this.currPt.y,this.currPt.z),B=pe.x-he.x,se=pe.y-he.y,oe=this.getMxObject().getMcObject().getGripManager(),O=this.grips.length,T=0;T<O;T++){var ce=this.grips[T],fe=this.ids[T],Ee=this.mcObj.ObjectIdToMdObjectImp(fe);Ee&&Ee.moveGripPointsAt(ce.iIndex,B,se,0),this.mcObj.DestroyObject(Ee),oe.upEntityGridDisplay(fe)}return E.MxJigCmdManager.DoneStatius.kExitCommand},le.prototype.upDisplay=function(){this.mcObj.onReadyJigUpdateDispla(),this.mcObj.onJigDrawEntityDisplay(this.tempEntityWordDraw)},le);function le(ae,he,pe,B){var se=G.call(this)||this;return se.pt=ae,se.grips=he,se.ids=pe,se.currPt=ae,se.mcObj=B,se.ids.length&&(se.tempEntity=B.ObjectIdToMdObjectImp(se.ids[0])),se}r.McDrawGripJig=ie},{"../MxDrawData":29,"../MxFun":34,"../MxManager":36,"../Operate/MxJig":57,"../Operate/MxJigCmdManager":58,three:19}],79:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.McDrawObject=void 0;var i=e("../MxManager"),a=e("three"),l=e("../MxFun"),c=e("./McDrawGrip"),d=window;d.McDrawObjectEvent_openFileComplete=function(D,f,A){var S=i.MxManager.getMxObject(f);S&&S.getMcObject().openFileComplete(D,A)},d.McDrawObjectEvent_saveFileComplete=function(D,f,A){var S=i.MxManager.getMxObject(A);S&&S.getMcObject().saveFileComplete(D,f)},d.McDrawObjectEvent_osnapComplete=function(D,f){var A=i.MxManager.getMxObject(D);A&&A.getMcObject().callOsnapComplete(f)};var E=(C.prototype.isValid=function(){return this.mcObjectImp!==null},C.prototype.ObjectIdToMdObjectImp=function(D){return this.mcObjectImp?this.mcObject.ObjectIdToMdObjectImp(D):null},C.prototype.DestroyObject=function(D){if(!this.mcObjectImp)return null;this.mcObject.DestroyObject(D)},C.prototype.onJigCommandEnd=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigCommandEnd()},C.prototype.onJigDrawEntityDisplay=function(D){D&&this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigDrawEntityDisplay(D)},C.prototype.callOsnapComplete=function(D){if(this.m_retCall&&D)try{var f=D;if(typeof D=="string"&&(f=JSON.parse(D)),f.callId!=this.m_lOsnapCallCount)return;this.m_retCall(f)}catch{}},C.prototype.onNotifyOsnap=function(D,f){this.mcObjectImp&&(this.m_lOsnapCallCount++,this.m_retCall=f,1e5<this.m_lOsnapCallCount&&(this.m_lOsnapCallCount=1),this.mcObjectImp.Osnap_NotifyOsnap(D.ptx,D.pty,D.isValidPrvInputPoint,D.isValidPrvInputPoint?D.prvPtx:0,D.isValidPrvInputPoint?D.prvPty:0,D.osmode,D.SearchRnge,this.m_lOsnapCallCount))},C.prototype.DrawEntity=function(D){D&&this.mcObjectImp&&this.mcObjectImp.DrawEntity(D)},C.prototype.onJigDrawEntityDisplay_line=function(D,f,A,S,L,N){if(this.mcObjectImp){var G=new this.mxcppImp.MdDbLine,ie=new this.mxcppImp.MdGePoint3d;ie.x=D,ie.y=f,ie.z=A,G.setStartPoint(ie);var le=new this.mxcppImp.MdGePoint3d;le.x=S,le.y=L,le.z=N,G.setEndPoint(le),this.mcObjectImp.EntityTempWordDraw_onJigDrawEntityDisplay(G)}},C.prototype.DrawLine=function(D,f,A,S,L,N){this.mcObjectImp&&this.mcObjectImp.DrawLine(D,f,A,S,L,N)},C.prototype.HighlightEntity=function(D,f){if(!this.mcDrawUtility)return!1;this.mcDrawUtility.highlightEntity(D,f)},C.prototype.onReadyJigUpdateDispla=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onReadyJigUpdateDispla()},C.prototype.onJigClearDisplay=function(){this.mcObjectImp&&this.mcObjectImp.EntityTempWordDraw_onJigClearDisplay()},C.prototype.CloneMdDbObject=function(D){return this.mcObject?this.mcObject.CloneMdDbObject(D):null},C.prototype.ObjectIdToObject=function(D){return this.mcObject?this.mcObject.ObjectIdToObject(D):null},C.prototype.init=function(D,f){f.initMxObject(D),this.mxObject=D,this.mcObject=f,this.mcObjectImp=f.getImp(),this.mxcppImp=f.getMxCppImp(),this.grip=new c.McDrawGrip(D,this);var A=this;this.mxObject.addEvent("commandWillStart",function(){A.mcObjectImp.fireEventCommandStart()}),this.mcDrawUtility=new this.mxcppImp.McDrawUtility},C.prototype.setSize=function(D,f){if(!this.mcObjectImp)return!1;this.mcObjectImp.fireEventWindowSize(D,f)},C.prototype.getGripManager=function(){return this.grip},C.prototype.saveFileComplete=function(D,f){this.mcObjectImp&&this.mxObject.callSaveFileComplete(D,f)},C.prototype.openFileComplete=function(D,f){if(this.mcObjectImp){this.mcObjectImp.updataAppData();var A=this.mcObjectImp.getViewDataJsonParam();A=A.replace(/\\/g,"\\\\");try{var S=JSON.parse(A),L=this.mxObject;if(S!=null){L.intiDoc2Wold(new a.Matrix4),L.initCAD2Doc(JSON.parse(S.DToSMat)),L.updateCameraDisplayRange(new a.Vector3(S.pt1x,S.pt1y,0),new a.Vector3(S.pt2x,S.pt2y,0),S.viewangle),L.initAllLayoutName(JSON.parse(S.layout)),L.updateDisplay(!0);var N=l.MxFun.getUiObj();N!=null&&(N.SetLayoutData(S.layout),N.UpDisplayLayout())}}catch{console.log("getViewDataJsonParam exception")}this.mxObject.callOpenFileComplete(D,f)}},C.prototype.updateDisplay=function(){if(!this.mcObjectImp)return!1;var D=this.mxObject.getCamera();this.mxObject.getScene().background!==null&&console.log("mxerror: background must be empty");var f=new a.Matrix4;f.multiplyMatrices(D.matrixWorldInverse,this.mxObject.getDoc2World());var A=D.projectionMatrix;return this.mcObjectImp.updateDisplay(f.elements,A.elements)},C);function C(){this.grip=null,this.mcObjectImp=null,this.mxcppImp=null,this.mcObject=null,this.mcDrawUtility=null,this.m_lOsnapCallCount=1,this.m_retCall=null}r.McDrawObject=E},{"../MxFun":34,"../MxManager":36,"./McDrawGrip":78,three:19}]},{},[60])}function registerMxDbEntity(){store.events.emit("MxDbEntityRegister")}let registerList=[];function addRegisterMxDbEntity(e){const t=()=>{!e.isRegister&&e.register&&e.register(),store.events.off("stateChange",t)};registerList.push(t)}const callRegisterMxDbEntityLists=()=>{registerList.forEach(e=>{e&&e()}),registerList=[]};store.events.on("MxDbEntityRegister",callRegisterMxDbEntityLists);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var jquery$1=createCommonjsModule(function(e){var t,r;t=typeof window<"u"?window:commonjsGlobal$1,r=function(i,a){var l=[],c=Object.getPrototypeOf,d=l.slice,E=l.flat?function(g){return l.flat.call(g)}:function(g){return l.concat.apply([],g)},C=l.push,D=l.indexOf,f={},A=f.toString,S=f.hasOwnProperty,L=S.toString,N=L.call(Object),G={},ie=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},le=function(g){return g!=null&&g===g.window},ae=i.document,he={type:!0,src:!0,nonce:!0,noModule:!0};function pe(g,k,te){var de,me,Ce=(te=te||ae).createElement("script");if(Ce.text=g,k)for(de in he)(me=k[de]||k.getAttribute&&k.getAttribute(de))&&Ce.setAttribute(de,me);te.head.appendChild(Ce).parentNode.removeChild(Ce)}function B(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?f[A.call(g)]||"object":typeof g}var se="3.7.0",oe=/HTML$/i,O=function(g,k){return new O.fn.init(g,k)};function T(g){var k=!!g&&"length"in g&&g.length,te=B(g);return!ie(g)&&!le(g)&&(te==="array"||k===0||typeof k=="number"&&k>0&&k-1 in g)}function ce(g,k){return g.nodeName&&g.nodeName.toLowerCase()===k.toLowerCase()}O.fn=O.prototype={jquery:se,constructor:O,length:0,toArray:function(){return d.call(this)},get:function(g){return g==null?d.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var k=O.merge(this.constructor(),g);return k.prevObject=this,k},each:function(g){return O.each(this,g)},map:function(g){return this.pushStack(O.map(this,function(k,te){return g.call(k,te,k)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(O.grep(this,function(g,k){return(k+1)%2}))},odd:function(){return this.pushStack(O.grep(this,function(g,k){return k%2}))},eq:function(g){var k=this.length,te=+g+(g<0?k:0);return this.pushStack(te>=0&&te<k?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:l.sort,splice:l.splice},O.extend=O.fn.extend=function(){var g,k,te,de,me,Ce,Ie=arguments[0]||{},Te=1,je=arguments.length,Xe=!1;for(typeof Ie=="boolean"&&(Xe=Ie,Ie=arguments[Te]||{},Te++),typeof Ie=="object"||ie(Ie)||(Ie={}),Te===je&&(Ie=this,Te--);Te<je;Te++)if((g=arguments[Te])!=null)for(k in g)de=g[k],k!=="__proto__"&&Ie!==de&&(Xe&&de&&(O.isPlainObject(de)||(me=Array.isArray(de)))?(te=Ie[k],Ce=me&&!Array.isArray(te)?[]:me||O.isPlainObject(te)?te:{},me=!1,Ie[k]=O.extend(Xe,Ce,de)):de!==void 0&&(Ie[k]=de));return Ie},O.extend({expando:"jQuery"+(se+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var k,te;return!(!g||A.call(g)!=="[object Object]"||(k=c(g))&&(typeof(te=S.call(k,"constructor")&&k.constructor)!="function"||L.call(te)!==N))},isEmptyObject:function(g){var k;for(k in g)return!1;return!0},globalEval:function(g,k,te){pe(g,{nonce:k&&k.nonce},te)},each:function(g,k){var te,de=0;if(T(g))for(te=g.length;de<te&&k.call(g[de],de,g[de])!==!1;de++);else for(de in g)if(k.call(g[de],de,g[de])===!1)break;return g},text:function(g){var k,te="",de=0,me=g.nodeType;if(me){if(me===1||me===9||me===11)return g.textContent;if(me===3||me===4)return g.nodeValue}else for(;k=g[de++];)te+=O.text(k);return te},makeArray:function(g,k){var te=k||[];return g!=null&&(T(Object(g))?O.merge(te,typeof g=="string"?[g]:g):C.call(te,g)),te},inArray:function(g,k,te){return k==null?-1:D.call(k,g,te)},isXMLDoc:function(g){var k=g&&g.namespaceURI,te=g&&(g.ownerDocument||g).documentElement;return!oe.test(k||te&&te.nodeName||"HTML")},merge:function(g,k){for(var te=+k.length,de=0,me=g.length;de<te;de++)g[me++]=k[de];return g.length=me,g},grep:function(g,k,te){for(var de=[],me=0,Ce=g.length,Ie=!te;me<Ce;me++)!k(g[me],me)!==Ie&&de.push(g[me]);return de},map:function(g,k,te){var de,me,Ce=0,Ie=[];if(T(g))for(de=g.length;Ce<de;Ce++)(me=k(g[Ce],Ce,te))!=null&&Ie.push(me);else for(Ce in g)(me=k(g[Ce],Ce,te))!=null&&Ie.push(me);return E(Ie)},guid:1,support:G}),typeof Symbol=="function"&&(O.fn[Symbol.iterator]=l[Symbol.iterator]),O.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,k){f["[object "+k+"]"]=k.toLowerCase()});var fe=l.pop,Ee=l.sort,Ae=l.splice,_e="[\\x20\\t\\r\\n\\f]",xe=new RegExp("^"+_e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_e+"+$","g");O.contains=function(g,k){var te=k&&k.parentNode;return g===te||!(!te||te.nodeType!==1||!(g.contains?g.contains(te):g.compareDocumentPosition&&16&g.compareDocumentPosition(te)))};var De=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Le(g,k){return k?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}O.escapeSelector=function(g){return(g+"").replace(De,Le)};var Ge=ae,rt=C;(function(){var g,k,te,de,me,Ce,Ie,Te,je,Xe,ht=rt,ot=O.expando,ct=0,Yt=0,On=qi(),qt=qi(),er=qi(),qr=qi(),ii=function(Et,$t){return Et===$t&&(me=!0),0},si="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dr="(?:\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",br="\\["+_e+"*("+Dr+")(?:"+_e+"*([*^$|!~]?=)"+_e+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Dr+"))|)"+_e+"*\\]",Zr=":("+Dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+br+")*)|.*)\\)|)",pr=new RegExp(_e+"+","g"),Cr=new RegExp("^"+_e+"*,"+_e+"*"),fa=new RegExp("^"+_e+"*([>+~]|"+_e+")"+_e+"*"),Lo=new RegExp(_e+"|>"),vo=new RegExp(Zr),ma=new RegExp("^"+Dr+"$"),Gi={ID:new RegExp("^#("+Dr+")"),CLASS:new RegExp("^\\.("+Dr+")"),TAG:new RegExp("^("+Dr+"|[*])"),ATTR:new RegExp("^"+br),PSEUDO:new RegExp("^"+Zr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_e+"*(even|odd|(([+-]|)(\\d*)n|)"+_e+"*(?:([+-]|)"+_e+"*(\\d+)|))"+_e+"*\\)|)","i"),bool:new RegExp("^(?:"+si+")$","i"),needsContext:new RegExp("^"+_e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_e+"*((?:-\\d)?\\d*)"+_e+"*\\)|)(?=[^-]|$)","i")},oo=/^(?:input|select|textarea|button)$/i,yo=/^h\d$/i,eo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ki=/[+~]/,wi=new RegExp("\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\([^\\r\\n\\f])","g"),Co=function(Et,$t){var Ft="0x"+Et.slice(1)-65536;return $t||(Ft<0?String.fromCharCode(Ft+65536):String.fromCharCode(Ft>>10|55296,1023&Ft|56320))},hi=function(){Eo()},zi=Sa(function(Et){return Et.disabled===!0&&ce(Et,"fieldset")},{dir:"parentNode",next:"legend"});try{ht.apply(l=d.call(Ge.childNodes),Ge.childNodes),l[Ge.childNodes.length].nodeType}catch{ht={apply:function($t,Ft){rt.apply($t,d.call(Ft))},call:function($t){rt.apply($t,d.call(arguments,1))}}}function Mr(Et,$t,Ft,un){var vn,Gn,Yn,mr,En,pi,sr,kn=$t&&$t.ownerDocument,yi=$t?$t.nodeType:9;if(Ft=Ft||[],typeof Et!="string"||!Et||yi!==1&&yi!==9&&yi!==11)return Ft;if(!un&&(Eo($t),$t=$t||Ce,Te)){if(yi!==11&&(En=eo.exec(Et)))if(vn=En[1]){if(yi===9){if(!(Yn=$t.getElementById(vn)))return Ft;if(Yn.id===vn)return ht.call(Ft,Yn),Ft}else if(kn&&(Yn=kn.getElementById(vn))&&Mr.contains($t,Yn)&&Yn.id===vn)return ht.call(Ft,Yn),Ft}else{if(En[2])return ht.apply(Ft,$t.getElementsByTagName(Et)),Ft;if((vn=En[3])&&$t.getElementsByClassName)return ht.apply(Ft,$t.getElementsByClassName(vn)),Ft}if(!(qr[Et+" "]||je&&je.test(Et))){if(sr=Et,kn=$t,yi===1&&(Lo.test(Et)||fa.test(Et))){for((kn=ki.test(Et)&&na($t.parentNode)||$t)==$t&&G.scope||((mr=$t.getAttribute("id"))?mr=O.escapeSelector(mr):$t.setAttribute("id",mr=ot)),Gn=(pi=Va(Et)).length;Gn--;)pi[Gn]=(mr?"#"+mr:":scope")+" "+is(pi[Gn]);sr=pi.join(",")}try{return ht.apply(Ft,kn.querySelectorAll(sr)),Ft}catch{qr(Et,!0)}finally{mr===ot&&$t.removeAttribute("id")}}}return al(Et.replace(xe,"$1"),$t,Ft,un)}function qi(){var Et=[];return function $t(Ft,un){return Et.push(Ft+" ")>k.cacheLength&&delete $t[Et.shift()],$t[Ft+" "]=un}}function Ji(Et){return Et[ot]=!0,Et}function gi(Et){var $t=Ce.createElement("fieldset");try{return!!Et($t)}catch{return!1}finally{$t.parentNode&&$t.parentNode.removeChild($t),$t=null}}function ca(Et){return function($t){return ce($t,"input")&&$t.type===Et}}function Is(Et){return function($t){return(ce($t,"input")||ce($t,"button"))&&$t.type===Et}}function vl(Et){return function($t){return"form"in $t?$t.parentNode&&$t.disabled===!1?"label"in $t?"label"in $t.parentNode?$t.parentNode.disabled===Et:$t.disabled===Et:$t.isDisabled===Et||$t.isDisabled!==!Et&&zi($t)===Et:$t.disabled===Et:"label"in $t&&$t.disabled===Et}}function Jo(Et){return Ji(function($t){return $t=+$t,Ji(function(Ft,un){for(var vn,Gn=Et([],Ft.length,$t),Yn=Gn.length;Yn--;)Ft[vn=Gn[Yn]]&&(Ft[vn]=!(un[vn]=Ft[vn]))})})}function na(Et){return Et&&Et.getElementsByTagName!==void 0&&Et}function Eo(Et){var $t,Ft=Et?Et.ownerDocument||Et:Ge;return Ft!=Ce&&Ft.nodeType===9&&Ft.documentElement&&(Ie=(Ce=Ft).documentElement,Te=!O.isXMLDoc(Ce),Xe=Ie.matches||Ie.webkitMatchesSelector||Ie.msMatchesSelector,Ge!=Ce&&($t=Ce.defaultView)&&$t.top!==$t&&$t.addEventListener("unload",hi),G.getById=gi(function(un){return Ie.appendChild(un).id=O.expando,!Ce.getElementsByName||!Ce.getElementsByName(O.expando).length}),G.disconnectedMatch=gi(function(un){return Xe.call(un,"*")}),G.scope=gi(function(){return Ce.querySelectorAll(":scope")}),G.cssHas=gi(function(){try{return Ce.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),G.getById?(k.filter.ID=function(un){var vn=un.replace(wi,Co);return function(Gn){return Gn.getAttribute("id")===vn}},k.find.ID=function(un,vn){if(vn.getElementById!==void 0&&Te){var Gn=vn.getElementById(un);return Gn?[Gn]:[]}}):(k.filter.ID=function(un){var vn=un.replace(wi,Co);return function(Gn){var Yn=Gn.getAttributeNode!==void 0&&Gn.getAttributeNode("id");return Yn&&Yn.value===vn}},k.find.ID=function(un,vn){if(vn.getElementById!==void 0&&Te){var Gn,Yn,mr,En=vn.getElementById(un);if(En){if((Gn=En.getAttributeNode("id"))&&Gn.value===un)return[En];for(mr=vn.getElementsByName(un),Yn=0;En=mr[Yn++];)if((Gn=En.getAttributeNode("id"))&&Gn.value===un)return[En]}return[]}}),k.find.TAG=function(un,vn){return vn.getElementsByTagName!==void 0?vn.getElementsByTagName(un):vn.querySelectorAll(un)},k.find.CLASS=function(un,vn){if(vn.getElementsByClassName!==void 0&&Te)return vn.getElementsByClassName(un)},je=[],gi(function(un){var vn;Ie.appendChild(un).innerHTML="<a id='"+ot+"' href='' disabled='disabled'></a><select id='"+ot+"-\r\\' disabled='disabled'><option selected=''></option></select>",un.querySelectorAll("[selected]").length||je.push("\\["+_e+"*(?:value|"+si+")"),un.querySelectorAll("[id~="+ot+"-]").length||je.push("~="),un.querySelectorAll("a#"+ot+"+*").length||je.push(".#.+[+~]"),un.querySelectorAll(":checked").length||je.push(":checked"),(vn=Ce.createElement("input")).setAttribute("type","hidden"),un.appendChild(vn).setAttribute("name","D"),Ie.appendChild(un).disabled=!0,un.querySelectorAll(":disabled").length!==2&&je.push(":enabled",":disabled"),(vn=Ce.createElement("input")).setAttribute("name",""),un.appendChild(vn),un.querySelectorAll("[name='']").length||je.push("\\["+_e+"*name"+_e+"*="+_e+`*(?:''|"")`)}),G.cssHas||je.push(":has"),je=je.length&&new RegExp(je.join("|")),ii=function(un,vn){if(un===vn)return me=!0,0;var Gn=!un.compareDocumentPosition-!vn.compareDocumentPosition;return Gn||(1&(Gn=(un.ownerDocument||un)==(vn.ownerDocument||vn)?un.compareDocumentPosition(vn):1)||!G.sortDetached&&vn.compareDocumentPosition(un)===Gn?un===Ce||un.ownerDocument==Ge&&Mr.contains(Ge,un)?-1:vn===Ce||vn.ownerDocument==Ge&&Mr.contains(Ge,vn)?1:de?D.call(de,un)-D.call(de,vn):0:4&Gn?-1:1)}),Ce}for(g in Mr.matches=function(Et,$t){return Mr(Et,null,null,$t)},Mr.matchesSelector=function(Et,$t){if(Eo(Et),Te&&!qr[$t+" "]&&(!je||!je.test($t)))try{var Ft=Xe.call(Et,$t);if(Ft||G.disconnectedMatch||Et.document&&Et.document.nodeType!==11)return Ft}catch{qr($t,!0)}return Mr($t,Ce,null,[Et]).length>0},Mr.contains=function(Et,$t){return(Et.ownerDocument||Et)!=Ce&&Eo(Et),O.contains(Et,$t)},Mr.attr=function(Et,$t){(Et.ownerDocument||Et)!=Ce&&Eo(Et);var Ft=k.attrHandle[$t.toLowerCase()],un=Ft&&S.call(k.attrHandle,$t.toLowerCase())?Ft(Et,$t,!Te):void 0;return un!==void 0?un:Et.getAttribute($t)},Mr.error=function(Et){throw new Error("Syntax error, unrecognized expression: "+Et)},O.uniqueSort=function(Et){var $t,Ft=[],un=0,vn=0;if(me=!G.sortStable,de=!G.sortStable&&d.call(Et,0),Ee.call(Et,ii),me){for(;$t=Et[vn++];)$t===Et[vn]&&(un=Ft.push(vn));for(;un--;)Ae.call(Et,Ft[un],1)}return de=null,Et},O.fn.uniqueSort=function(){return this.pushStack(O.uniqueSort(d.apply(this)))},(k=O.expr={cacheLength:50,createPseudo:Ji,match:Gi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Et){return Et[1]=Et[1].replace(wi,Co),Et[3]=(Et[3]||Et[4]||Et[5]||"").replace(wi,Co),Et[2]==="~="&&(Et[3]=" "+Et[3]+" "),Et.slice(0,4)},CHILD:function(Et){return Et[1]=Et[1].toLowerCase(),Et[1].slice(0,3)==="nth"?(Et[3]||Mr.error(Et[0]),Et[4]=+(Et[4]?Et[5]+(Et[6]||1):2*(Et[3]==="even"||Et[3]==="odd")),Et[5]=+(Et[7]+Et[8]||Et[3]==="odd")):Et[3]&&Mr.error(Et[0]),Et},PSEUDO:function(Et){var $t,Ft=!Et[6]&&Et[2];return Gi.CHILD.test(Et[0])?null:(Et[3]?Et[2]=Et[4]||Et[5]||"":Ft&&vo.test(Ft)&&($t=Va(Ft,!0))&&($t=Ft.indexOf(")",Ft.length-$t)-Ft.length)&&(Et[0]=Et[0].slice(0,$t),Et[2]=Ft.slice(0,$t)),Et.slice(0,3))}},filter:{TAG:function(Et){var $t=Et.replace(wi,Co).toLowerCase();return Et==="*"?function(){return!0}:function(Ft){return ce(Ft,$t)}},CLASS:function(Et){var $t=On[Et+" "];return $t||($t=new RegExp("(^|"+_e+")"+Et+"("+_e+"|$)"))&&On(Et,function(Ft){return $t.test(typeof Ft.className=="string"&&Ft.className||Ft.getAttribute!==void 0&&Ft.getAttribute("class")||"")})},ATTR:function(Et,$t,Ft){return function(un){var vn=Mr.attr(un,Et);return vn==null?$t==="!=":!$t||(vn+="",$t==="="?vn===Ft:$t==="!="?vn!==Ft:$t==="^="?Ft&&vn.indexOf(Ft)===0:$t==="*="?Ft&&vn.indexOf(Ft)>-1:$t==="$="?Ft&&vn.slice(-Ft.length)===Ft:$t==="~="?(" "+vn.replace(pr," ")+" ").indexOf(Ft)>-1:$t==="|="&&(vn===Ft||vn.slice(0,Ft.length+1)===Ft+"-"))}},CHILD:function(Et,$t,Ft,un,vn){var Gn=Et.slice(0,3)!=="nth",Yn=Et.slice(-4)!=="last",mr=$t==="of-type";return un===1&&vn===0?function(En){return!!En.parentNode}:function(En,pi,sr){var kn,yi,Lr,$i,no,ro=Gn!==Yn?"nextSibling":"previousSibling",Ke=En.parentNode,io=mr&&En.nodeName.toLowerCase(),Wn=!sr&&!mr,fi=!1;if(Ke){if(Gn){for(;ro;){for(Lr=En;Lr=Lr[ro];)if(mr?ce(Lr,io):Lr.nodeType===1)return!1;no=ro=Et==="only"&&!no&&"nextSibling"}return!0}if(no=[Yn?Ke.firstChild:Ke.lastChild],Yn&&Wn){for(fi=($i=(kn=(yi=Ke[ot]||(Ke[ot]={}))[Et]||[])[0]===ct&&kn[1])&&kn[2],Lr=$i&&Ke.childNodes[$i];Lr=++$i&&Lr&&Lr[ro]||(fi=$i=0)||no.pop();)if(Lr.nodeType===1&&++fi&&Lr===En){yi[Et]=[ct,$i,fi];break}}else if(Wn&&(fi=$i=(kn=(yi=En[ot]||(En[ot]={}))[Et]||[])[0]===ct&&kn[1]),fi===!1)for(;(Lr=++$i&&Lr&&Lr[ro]||(fi=$i=0)||no.pop())&&(!(mr?ce(Lr,io):Lr.nodeType===1)||!++fi||(Wn&&((yi=Lr[ot]||(Lr[ot]={}))[Et]=[ct,fi]),Lr!==En)););return(fi-=vn)===un||fi%un==0&&fi/un>=0}}},PSEUDO:function(Et,$t){var Ft,un=k.pseudos[Et]||k.setFilters[Et.toLowerCase()]||Mr.error("unsupported pseudo: "+Et);return un[ot]?un($t):un.length>1?(Ft=[Et,Et,"",$t],k.setFilters.hasOwnProperty(Et.toLowerCase())?Ji(function(vn,Gn){for(var Yn,mr=un(vn,$t),En=mr.length;En--;)vn[Yn=D.call(vn,mr[En])]=!(Gn[Yn]=mr[En])}):function(vn){return un(vn,0,Ft)}):un}},pseudos:{not:Ji(function(Et){var $t=[],Ft=[],un=Fo(Et.replace(xe,"$1"));return un[ot]?Ji(function(vn,Gn,Yn,mr){for(var En,pi=un(vn,null,mr,[]),sr=vn.length;sr--;)(En=pi[sr])&&(vn[sr]=!(Gn[sr]=En))}):function(vn,Gn,Yn){return $t[0]=vn,un($t,null,Yn,Ft),$t[0]=null,!Ft.pop()}}),has:Ji(function(Et){return function($t){return Mr(Et,$t).length>0}}),contains:Ji(function(Et){return Et=Et.replace(wi,Co),function($t){return($t.textContent||O.text($t)).indexOf(Et)>-1}}),lang:Ji(function(Et){return ma.test(Et||"")||Mr.error("unsupported lang: "+Et),Et=Et.replace(wi,Co).toLowerCase(),function($t){var Ft;do if(Ft=Te?$t.lang:$t.getAttribute("xml:lang")||$t.getAttribute("lang"))return(Ft=Ft.toLowerCase())===Et||Ft.indexOf(Et+"-")===0;while(($t=$t.parentNode)&&$t.nodeType===1);return!1}}),target:function(Et){var $t=i.location&&i.location.hash;return $t&&$t.slice(1)===Et.id},root:function(Et){return Et===Ie},focus:function(Et){return Et===function(){try{return Ce.activeElement}catch{}}()&&Ce.hasFocus()&&!!(Et.type||Et.href||~Et.tabIndex)},enabled:vl(!1),disabled:vl(!0),checked:function(Et){return ce(Et,"input")&&!!Et.checked||ce(Et,"option")&&!!Et.selected},selected:function(Et){return Et.parentNode&&Et.parentNode.selectedIndex,Et.selected===!0},empty:function(Et){for(Et=Et.firstChild;Et;Et=Et.nextSibling)if(Et.nodeType<6)return!1;return!0},parent:function(Et){return!k.pseudos.empty(Et)},header:function(Et){return yo.test(Et.nodeName)},input:function(Et){return oo.test(Et.nodeName)},button:function(Et){return ce(Et,"input")&&Et.type==="button"||ce(Et,"button")},text:function(Et){var $t;return ce(Et,"input")&&Et.type==="text"&&(($t=Et.getAttribute("type"))==null||$t.toLowerCase()==="text")},first:Jo(function(){return[0]}),last:Jo(function(Et,$t){return[$t-1]}),eq:Jo(function(Et,$t,Ft){return[Ft<0?Ft+$t:Ft]}),even:Jo(function(Et,$t){for(var Ft=0;Ft<$t;Ft+=2)Et.push(Ft);return Et}),odd:Jo(function(Et,$t){for(var Ft=1;Ft<$t;Ft+=2)Et.push(Ft);return Et}),lt:Jo(function(Et,$t,Ft){var un;for(un=Ft<0?Ft+$t:Ft>$t?$t:Ft;--un>=0;)Et.push(un);return Et}),gt:Jo(function(Et,$t,Ft){for(var un=Ft<0?Ft+$t:Ft;++un<$t;)Et.push(un);return Et})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[g]=ca(g);for(g in{submit:!0,reset:!0})k.pseudos[g]=Is(g);function Js(){}function Va(Et,$t){var Ft,un,vn,Gn,Yn,mr,En,pi=qt[Et+" "];if(pi)return $t?0:pi.slice(0);for(Yn=Et,mr=[],En=k.preFilter;Yn;){for(Gn in Ft&&!(un=Cr.exec(Yn))||(un&&(Yn=Yn.slice(un[0].length)||Yn),mr.push(vn=[])),Ft=!1,(un=fa.exec(Yn))&&(Ft=un.shift(),vn.push({value:Ft,type:un[0].replace(xe," ")}),Yn=Yn.slice(Ft.length)),k.filter)!(un=Gi[Gn].exec(Yn))||En[Gn]&&!(un=En[Gn](un))||(Ft=un.shift(),vn.push({value:Ft,type:Gn,matches:un}),Yn=Yn.slice(Ft.length));if(!Ft)break}return $t?Yn.length:Yn?Mr.error(Et):qt(Et,mr).slice(0)}function is(Et){for(var $t=0,Ft=Et.length,un="";$t<Ft;$t++)un+=Et[$t].value;return un}function Sa(Et,$t,Ft){var un=$t.dir,vn=$t.next,Gn=vn||un,Yn=Ft&&Gn==="parentNode",mr=Yt++;return $t.first?function(En,pi,sr){for(;En=En[un];)if(En.nodeType===1||Yn)return Et(En,pi,sr);return!1}:function(En,pi,sr){var kn,yi,Lr=[ct,mr];if(sr){for(;En=En[un];)if((En.nodeType===1||Yn)&&Et(En,pi,sr))return!0}else for(;En=En[un];)if(En.nodeType===1||Yn)if(yi=En[ot]||(En[ot]={}),vn&&ce(En,vn))En=En[un]||En;else{if((kn=yi[Gn])&&kn[0]===ct&&kn[1]===mr)return Lr[2]=kn[2];if(yi[Gn]=Lr,Lr[2]=Et(En,pi,sr))return!0}return!1}}function yl(Et){return Et.length>1?function($t,Ft,un){for(var vn=Et.length;vn--;)if(!Et[vn]($t,Ft,un))return!1;return!0}:Et[0]}function to(Et,$t,Ft,un,vn){for(var Gn,Yn=[],mr=0,En=Et.length,pi=$t!=null;mr<En;mr++)(Gn=Et[mr])&&(Ft&&!Ft(Gn,un,vn)||(Yn.push(Gn),pi&&$t.push(mr)));return Yn}function Wi(Et,$t,Ft,un,vn,Gn){return un&&!un[ot]&&(un=Wi(un)),vn&&!vn[ot]&&(vn=Wi(vn,Gn)),Ji(function(Yn,mr,En,pi){var sr,kn,yi,Lr,$i=[],no=[],ro=mr.length,Ke=Yn||function(Wn,fi,li){for(var Qe=0,Mt=fi.length;Qe<Mt;Qe++)Mr(Wn,fi[Qe],li);return li}($t||"*",En.nodeType?[En]:En,[]),io=!Et||!Yn&&$t?Ke:to(Ke,$i,Et,En,pi);if(Ft?Ft(io,Lr=vn||(Yn?Et:ro||un)?[]:mr,En,pi):Lr=io,un)for(sr=to(Lr,no),un(sr,[],En,pi),kn=sr.length;kn--;)(yi=sr[kn])&&(Lr[no[kn]]=!(io[no[kn]]=yi));if(Yn){if(vn||Et){if(vn){for(sr=[],kn=Lr.length;kn--;)(yi=Lr[kn])&&sr.push(io[kn]=yi);vn(null,Lr=[],sr,pi)}for(kn=Lr.length;kn--;)(yi=Lr[kn])&&(sr=vn?D.call(Yn,yi):$i[kn])>-1&&(Yn[sr]=!(mr[sr]=yi))}}else Lr=to(Lr===mr?Lr.splice(ro,Lr.length):Lr),vn?vn(null,mr,Lr,pi):ht.apply(mr,Lr)})}function Ta(Et){for(var $t,Ft,un,vn=Et.length,Gn=k.relative[Et[0].type],Yn=Gn||k.relative[" "],mr=Gn?1:0,En=Sa(function(kn){return kn===$t},Yn,!0),pi=Sa(function(kn){return D.call($t,kn)>-1},Yn,!0),sr=[function(kn,yi,Lr){var $i=!Gn&&(Lr||yi!=te)||(($t=yi).nodeType?En(kn,yi,Lr):pi(kn,yi,Lr));return $t=null,$i}];mr<vn;mr++)if(Ft=k.relative[Et[mr].type])sr=[Sa(yl(sr),Ft)];else{if((Ft=k.filter[Et[mr].type].apply(null,Et[mr].matches))[ot]){for(un=++mr;un<vn&&!k.relative[Et[un].type];un++);return Wi(mr>1&&yl(sr),mr>1&&is(Et.slice(0,mr-1).concat({value:Et[mr-2].type===" "?"*":""})).replace(xe,"$1"),Ft,mr<un&&Ta(Et.slice(mr,un)),un<vn&&Ta(Et=Et.slice(un)),un<vn&&is(Et))}sr.push(Ft)}return yl(sr)}function Fo(Et,$t){var Ft,un=[],vn=[],Gn=er[Et+" "];if(!Gn){for($t||($t=Va(Et)),Ft=$t.length;Ft--;)(Gn=Ta($t[Ft]))[ot]?un.push(Gn):vn.push(Gn);(Gn=er(Et,function(Yn,mr){var En=mr.length>0,pi=Yn.length>0,sr=function(kn,yi,Lr,$i,no){var ro,Ke,io,Wn=0,fi="0",li=kn&&[],Qe=[],Mt=te,jt=kn||pi&&k.find.TAG("*",no),yn=ct+=Mt==null?1:Math.random()||.1,Jt=jt.length;for(no&&(te=yi==Ce||yi||no);fi!==Jt&&(ro=jt[fi])!=null;fi++){if(pi&&ro){for(Ke=0,yi||ro.ownerDocument==Ce||(Eo(ro),Lr=!Te);io=Yn[Ke++];)if(io(ro,yi||Ce,Lr)){ht.call($i,ro);break}no&&(ct=yn)}En&&((ro=!io&&ro)&&Wn--,kn&&li.push(ro))}if(Wn+=fi,En&&fi!==Wn){for(Ke=0;io=mr[Ke++];)io(li,Qe,yi,Lr);if(kn){if(Wn>0)for(;fi--;)li[fi]||Qe[fi]||(Qe[fi]=fe.call($i));Qe=to(Qe)}ht.apply($i,Qe),no&&!kn&&Qe.length>0&&Wn+mr.length>1&&O.uniqueSort($i)}return no&&(ct=yn,te=Mt),li};return En?Ji(sr):sr}(vn,un))).selector=Et}return Gn}function al(Et,$t,Ft,un){var vn,Gn,Yn,mr,En,pi=typeof Et=="function"&&Et,sr=!un&&Va(Et=pi.selector||Et);if(Ft=Ft||[],sr.length===1){if((Gn=sr[0]=sr[0].slice(0)).length>2&&(Yn=Gn[0]).type==="ID"&&$t.nodeType===9&&Te&&k.relative[Gn[1].type]){if(!($t=(k.find.ID(Yn.matches[0].replace(wi,Co),$t)||[])[0]))return Ft;pi&&($t=$t.parentNode),Et=Et.slice(Gn.shift().value.length)}for(vn=Gi.needsContext.test(Et)?0:Gn.length;vn--&&(Yn=Gn[vn],!k.relative[mr=Yn.type]);)if((En=k.find[mr])&&(un=En(Yn.matches[0].replace(wi,Co),ki.test(Gn[0].type)&&na($t.parentNode)||$t))){if(Gn.splice(vn,1),!(Et=un.length&&is(Gn)))return ht.apply(Ft,un),Ft;break}}return(pi||Fo(Et,sr))(un,$t,!Te,Ft,!$t||ki.test(Et)&&na($t.parentNode)||$t),Ft}Js.prototype=k.filters=k.pseudos,k.setFilters=new Js,G.sortStable=ot.split("").sort(ii).join("")===ot,Eo(),G.sortDetached=gi(function(Et){return 1&Et.compareDocumentPosition(Ce.createElement("fieldset"))}),O.find=Mr,O.expr[":"]=O.expr.pseudos,O.unique=O.uniqueSort,Mr.compile=Fo,Mr.select=al,Mr.setDocument=Eo,Mr.escape=O.escapeSelector,Mr.getText=O.text,Mr.isXML=O.isXMLDoc,Mr.selectors=O.expr,Mr.support=O.support,Mr.uniqueSort=O.uniqueSort})();var We=function(g,k,te){for(var de=[],me=te!==void 0;(g=g[k])&&g.nodeType!==9;)if(g.nodeType===1){if(me&&O(g).is(te))break;de.push(g)}return de},xt=function(g,k){for(var te=[];g;g=g.nextSibling)g.nodeType===1&&g!==k&&te.push(g);return te},Me=O.expr.match.needsContext,Ue=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Pe(g,k,te){return ie(k)?O.grep(g,function(de,me){return!!k.call(de,me,de)!==te}):k.nodeType?O.grep(g,function(de){return de===k!==te}):typeof k!="string"?O.grep(g,function(de){return D.call(k,de)>-1!==te}):O.filter(k,g,te)}O.filter=function(g,k,te){var de=k[0];return te&&(g=":not("+g+")"),k.length===1&&de.nodeType===1?O.find.matchesSelector(de,g)?[de]:[]:O.find.matches(g,O.grep(k,function(me){return me.nodeType===1}))},O.fn.extend({find:function(g){var k,te,de=this.length,me=this;if(typeof g!="string")return this.pushStack(O(g).filter(function(){for(k=0;k<de;k++)if(O.contains(me[k],this))return!0}));for(te=this.pushStack([]),k=0;k<de;k++)O.find(g,me[k],te);return de>1?O.uniqueSort(te):te},filter:function(g){return this.pushStack(Pe(this,g||[],!1))},not:function(g){return this.pushStack(Pe(this,g||[],!0))},is:function(g){return!!Pe(this,typeof g=="string"&&Me.test(g)?O(g):g||[],!1).length}});var Re,st=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(O.fn.init=function(g,k,te){var de,me;if(!g)return this;if(te=te||Re,typeof g=="string"){if(!(de=g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?[null,g,null]:st.exec(g))||!de[1]&&k)return!k||k.jquery?(k||te).find(g):this.constructor(k).find(g);if(de[1]){if(k=k instanceof O?k[0]:k,O.merge(this,O.parseHTML(de[1],k&&k.nodeType?k.ownerDocument||k:ae,!0)),Ue.test(de[1])&&O.isPlainObject(k))for(de in k)ie(this[de])?this[de](k[de]):this.attr(de,k[de]);return this}return(me=ae.getElementById(de[2]))&&(this[0]=me,this.length=1),this}return g.nodeType?(this[0]=g,this.length=1,this):ie(g)?te.ready!==void 0?te.ready(g):g(O):O.makeArray(g,this)}).prototype=O.fn,Re=O(ae);var It=/^(?:parents|prev(?:Until|All))/,Ct={children:!0,contents:!0,next:!0,prev:!0};function tt(g,k){for(;(g=g[k])&&g.nodeType!==1;);return g}O.fn.extend({has:function(g){var k=O(g,this),te=k.length;return this.filter(function(){for(var de=0;de<te;de++)if(O.contains(this,k[de]))return!0})},closest:function(g,k){var te,de=0,me=this.length,Ce=[],Ie=typeof g!="string"&&O(g);if(!Me.test(g)){for(;de<me;de++)for(te=this[de];te&&te!==k;te=te.parentNode)if(te.nodeType<11&&(Ie?Ie.index(te)>-1:te.nodeType===1&&O.find.matchesSelector(te,g))){Ce.push(te);break}}return this.pushStack(Ce.length>1?O.uniqueSort(Ce):Ce)},index:function(g){return g?typeof g=="string"?D.call(O(g),this[0]):D.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,k){return this.pushStack(O.uniqueSort(O.merge(this.get(),O(g,k))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}),O.each({parent:function(g){var k=g.parentNode;return k&&k.nodeType!==11?k:null},parents:function(g){return We(g,"parentNode")},parentsUntil:function(g,k,te){return We(g,"parentNode",te)},next:function(g){return tt(g,"nextSibling")},prev:function(g){return tt(g,"previousSibling")},nextAll:function(g){return We(g,"nextSibling")},prevAll:function(g){return We(g,"previousSibling")},nextUntil:function(g,k,te){return We(g,"nextSibling",te)},prevUntil:function(g,k,te){return We(g,"previousSibling",te)},siblings:function(g){return xt((g.parentNode||{}).firstChild,g)},children:function(g){return xt(g.firstChild)},contents:function(g){return g.contentDocument!=null&&c(g.contentDocument)?g.contentDocument:(ce(g,"template")&&(g=g.content||g),O.merge([],g.childNodes))}},function(g,k){O.fn[g]=function(te,de){var me=O.map(this,k,te);return g.slice(-5)!=="Until"&&(de=te),de&&typeof de=="string"&&(me=O.filter(de,me)),this.length>1&&(Ct[g]||O.uniqueSort(me),It.test(g)&&me.reverse()),this.pushStack(me)}});var Ve=/[^\x20\t\r\n\f]+/g;function Ze(g){return g}function Ne(g){throw g}function qe(g,k,te,de){var me;try{g&&ie(me=g.promise)?me.call(g).done(k).fail(te):g&&ie(me=g.then)?me.call(g,k,te):k.apply(void 0,[g].slice(de))}catch(Ce){te.apply(void 0,[Ce])}}O.Callbacks=function(g){g=typeof g=="string"?function(ht){var ot={};return O.each(ht.match(Ve)||[],function(ct,Yt){ot[Yt]=!0}),ot}(g):O.extend({},g);var k,te,de,me,Ce=[],Ie=[],Te=-1,je=function(){for(me=me||g.once,de=k=!0;Ie.length;Te=-1)for(te=Ie.shift();++Te<Ce.length;)Ce[Te].apply(te[0],te[1])===!1&&g.stopOnFalse&&(Te=Ce.length,te=!1);g.memory||(te=!1),k=!1,me&&(Ce=te?[]:"")},Xe={add:function(){return Ce&&(te&&!k&&(Te=Ce.length-1,Ie.push(te)),function ht(ot){O.each(ot,function(ct,Yt){ie(Yt)?g.unique&&Xe.has(Yt)||Ce.push(Yt):Yt&&Yt.length&&B(Yt)!=="string"&&ht(Yt)})}(arguments),te&&!k&&je()),this},remove:function(){return O.each(arguments,function(ht,ot){for(var ct;(ct=O.inArray(ot,Ce,ct))>-1;)Ce.splice(ct,1),ct<=Te&&Te--}),this},has:function(ht){return ht?O.inArray(ht,Ce)>-1:Ce.length>0},empty:function(){return Ce&&(Ce=[]),this},disable:function(){return me=Ie=[],Ce=te="",this},disabled:function(){return!Ce},lock:function(){return me=Ie=[],te||k||(Ce=te=""),this},locked:function(){return!!me},fireWith:function(ht,ot){return me||(ot=[ht,(ot=ot||[]).slice?ot.slice():ot],Ie.push(ot),k||je()),this},fire:function(){return Xe.fireWith(this,arguments),this},fired:function(){return!!de}};return Xe},O.extend({Deferred:function(g){var k=[["notify","progress",O.Callbacks("memory"),O.Callbacks("memory"),2],["resolve","done",O.Callbacks("once memory"),O.Callbacks("once memory"),0,"resolved"],["reject","fail",O.Callbacks("once memory"),O.Callbacks("once memory"),1,"rejected"]],te="pending",de={state:function(){return te},always:function(){return me.done(arguments).fail(arguments),this},catch:function(Ce){return de.then(null,Ce)},pipe:function(){var Ce=arguments;return O.Deferred(function(Ie){O.each(k,function(Te,je){var Xe=ie(Ce[je[4]])&&Ce[je[4]];me[je[1]](function(){var ht=Xe&&Xe.apply(this,arguments);ht&&ie(ht.promise)?ht.promise().progress(Ie.notify).done(Ie.resolve).fail(Ie.reject):Ie[je[0]+"With"](this,Xe?[ht]:arguments)})}),Ce=null}).promise()},then:function(Ce,Ie,Te){var je=0;function Xe(ht,ot,ct,Yt){return function(){var On=this,qt=arguments,er=function(){var ii,si;if(!(ht<je)){if((ii=ct.apply(On,qt))===ot.promise())throw new TypeError("Thenable self-resolution");si=ii&&(typeof ii=="object"||typeof ii=="function")&&ii.then,ie(si)?Yt?si.call(ii,Xe(je,ot,Ze,Yt),Xe(je,ot,Ne,Yt)):(je++,si.call(ii,Xe(je,ot,Ze,Yt),Xe(je,ot,Ne,Yt),Xe(je,ot,Ze,ot.notifyWith))):(ct!==Ze&&(On=void 0,qt=[ii]),(Yt||ot.resolveWith)(On,qt))}},qr=Yt?er:function(){try{er()}catch(ii){O.Deferred.exceptionHook&&O.Deferred.exceptionHook(ii,qr.error),ht+1>=je&&(ct!==Ne&&(On=void 0,qt=[ii]),ot.rejectWith(On,qt))}};ht?qr():(O.Deferred.getErrorHook?qr.error=O.Deferred.getErrorHook():O.Deferred.getStackHook&&(qr.error=O.Deferred.getStackHook()),i.setTimeout(qr))}}return O.Deferred(function(ht){k[0][3].add(Xe(0,ht,ie(Te)?Te:Ze,ht.notifyWith)),k[1][3].add(Xe(0,ht,ie(Ce)?Ce:Ze)),k[2][3].add(Xe(0,ht,ie(Ie)?Ie:Ne))}).promise()},promise:function(Ce){return Ce!=null?O.extend(Ce,de):de}},me={};return O.each(k,function(Ce,Ie){var Te=Ie[2],je=Ie[5];de[Ie[1]]=Te.add,je&&Te.add(function(){te=je},k[3-Ce][2].disable,k[3-Ce][3].disable,k[0][2].lock,k[0][3].lock),Te.add(Ie[3].fire),me[Ie[0]]=function(){return me[Ie[0]+"With"](this===me?void 0:this,arguments),this},me[Ie[0]+"With"]=Te.fireWith}),de.promise(me),g&&g.call(me,me),me},when:function(g){var k=arguments.length,te=k,de=Array(te),me=d.call(arguments),Ce=O.Deferred(),Ie=function(Te){return function(je){de[Te]=this,me[Te]=arguments.length>1?d.call(arguments):je,--k||Ce.resolveWith(de,me)}};if(k<=1&&(qe(g,Ce.done(Ie(te)).resolve,Ce.reject,!k),Ce.state()==="pending"||ie(me[te]&&me[te].then)))return Ce.then();for(;te--;)qe(me[te],Ie(te),Ce.reject);return Ce.promise()}});var lt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;O.Deferred.exceptionHook=function(g,k){i.console&&i.console.warn&&g&&lt.test(g.name)&&i.console.warn("jQuery.Deferred exception: "+g.message,g.stack,k)},O.readyException=function(g){i.setTimeout(function(){throw g})};var vt=O.Deferred();function bt(){ae.removeEventListener("DOMContentLoaded",bt),i.removeEventListener("load",bt),O.ready()}O.fn.ready=function(g){return vt.then(g).catch(function(k){O.readyException(k)}),this},O.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--O.readyWait:O.isReady)||(O.isReady=!0,g!==!0&&--O.readyWait>0||vt.resolveWith(ae,[O]))}}),O.ready.then=vt.then,ae.readyState==="complete"||ae.readyState!=="loading"&&!ae.documentElement.doScroll?i.setTimeout(O.ready):(ae.addEventListener("DOMContentLoaded",bt),i.addEventListener("load",bt));var nt=function(g,k,te,de,me,Ce,Ie){var Te=0,je=g.length,Xe=te==null;if(B(te)==="object")for(Te in me=!0,te)nt(g,k,Te,te[Te],!0,Ce,Ie);else if(de!==void 0&&(me=!0,ie(de)||(Ie=!0),Xe&&(Ie?(k.call(g,de),k=null):(Xe=k,k=function(ht,ot,ct){return Xe.call(O(ht),ct)})),k))for(;Te<je;Te++)k(g[Te],te,Ie?de:de.call(g[Te],Te,k(g[Te],te)));return me?g:Xe?k.call(g):je?k(g[0],te):Ce},Nt=/^-ms-/,kt=/-([a-z])/g;function Qt(g,k){return k.toUpperCase()}function gt(g){return g.replace(Nt,"ms-").replace(kt,Qt)}var Dt=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function zt(){this.expando=O.expando+zt.uid++}zt.uid=1,zt.prototype={cache:function(g){var k=g[this.expando];return k||(k={},Dt(g)&&(g.nodeType?g[this.expando]=k:Object.defineProperty(g,this.expando,{value:k,configurable:!0}))),k},set:function(g,k,te){var de,me=this.cache(g);if(typeof k=="string")me[gt(k)]=te;else for(de in k)me[gt(de)]=k[de];return me},get:function(g,k){return k===void 0?this.cache(g):g[this.expando]&&g[this.expando][gt(k)]},access:function(g,k,te){return k===void 0||k&&typeof k=="string"&&te===void 0?this.get(g,k):(this.set(g,k,te),te!==void 0?te:k)},remove:function(g,k){var te,de=g[this.expando];if(de!==void 0){if(k!==void 0)for(te=(k=Array.isArray(k)?k.map(gt):(k=gt(k))in de?[k]:k.match(Ve)||[]).length;te--;)delete de[k[te]];(k===void 0||O.isEmptyObject(de))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var k=g[this.expando];return k!==void 0&&!O.isEmptyObject(k)}};var et=new zt,sn=new zt,bn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fn=/[A-Z]/g;function St(g,k,te){var de;if(te===void 0&&g.nodeType===1)if(de="data-"+k.replace(Fn,"-$&").toLowerCase(),typeof(te=g.getAttribute(de))=="string"){try{te=function(me){return me==="true"||me!=="false"&&(me==="null"?null:me===+me+""?+me:bn.test(me)?JSON.parse(me):me)}(te)}catch{}sn.set(g,k,te)}else te=void 0;return te}O.extend({hasData:function(g){return sn.hasData(g)||et.hasData(g)},data:function(g,k,te){return sn.access(g,k,te)},removeData:function(g,k){sn.remove(g,k)},_data:function(g,k,te){return et.access(g,k,te)},_removeData:function(g,k){et.remove(g,k)}}),O.fn.extend({data:function(g,k){var te,de,me,Ce=this[0],Ie=Ce&&Ce.attributes;if(g===void 0){if(this.length&&(me=sn.get(Ce),Ce.nodeType===1&&!et.get(Ce,"hasDataAttrs"))){for(te=Ie.length;te--;)Ie[te]&&(de=Ie[te].name).indexOf("data-")===0&&(de=gt(de.slice(5)),St(Ce,de,me[de]));et.set(Ce,"hasDataAttrs",!0)}return me}return typeof g=="object"?this.each(function(){sn.set(this,g)}):nt(this,function(Te){var je;if(Ce&&Te===void 0)return(je=sn.get(Ce,g))!==void 0||(je=St(Ce,g))!==void 0?je:void 0;this.each(function(){sn.set(this,g,Te)})},null,k,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){sn.remove(this,g)})}}),O.extend({queue:function(g,k,te){var de;if(g)return k=(k||"fx")+"queue",de=et.get(g,k),te&&(!de||Array.isArray(te)?de=et.access(g,k,O.makeArray(te)):de.push(te)),de||[]},dequeue:function(g,k){k=k||"fx";var te=O.queue(g,k),de=te.length,me=te.shift(),Ce=O._queueHooks(g,k);me==="inprogress"&&(me=te.shift(),de--),me&&(k==="fx"&&te.unshift("inprogress"),delete Ce.stop,me.call(g,function(){O.dequeue(g,k)},Ce)),!de&&Ce&&Ce.empty.fire()},_queueHooks:function(g,k){var te=k+"queueHooks";return et.get(g,te)||et.access(g,te,{empty:O.Callbacks("once memory").add(function(){et.remove(g,[k+"queue",te])})})}}),O.fn.extend({queue:function(g,k){var te=2;return typeof g!="string"&&(k=g,g="fx",te--),arguments.length<te?O.queue(this[0],g):k===void 0?this:this.each(function(){var de=O.queue(this,g,k);O._queueHooks(this,g),g==="fx"&&de[0]!=="inprogress"&&O.dequeue(this,g)})},dequeue:function(g){return this.each(function(){O.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,k){var te,de=1,me=O.Deferred(),Ce=this,Ie=this.length,Te=function(){--de||me.resolveWith(Ce,[Ce])};for(typeof g!="string"&&(k=g,g=void 0),g=g||"fx";Ie--;)(te=et.get(Ce[Ie],g+"queueHooks"))&&te.empty&&(de++,te.empty.add(Te));return Te(),me.promise(k)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),Xt=["Top","Right","Bottom","Left"],cn=ae.documentElement,zn=function(g){return O.contains(g.ownerDocument,g)},Vr={composed:!0};cn.getRootNode&&(zn=function(g){return O.contains(g.ownerDocument,g)||g.getRootNode(Vr)===g.ownerDocument});var Un=function(g,k){return(g=k||g).style.display==="none"||g.style.display===""&&zn(g)&&O.css(g,"display")==="none"};function Mn(g,k,te,de){var me,Ce,Ie=20,Te=de?function(){return de.cur()}:function(){return O.css(g,k,"")},je=Te(),Xe=te&&te[3]||(O.cssNumber[k]?"":"px"),ht=g.nodeType&&(O.cssNumber[k]||Xe!=="px"&&+je)&&At.exec(O.css(g,k));if(ht&&ht[3]!==Xe){for(je/=2,Xe=Xe||ht[3],ht=+je||1;Ie--;)O.style(g,k,ht+Xe),(1-Ce)*(1-(Ce=Te()/je||.5))<=0&&(Ie=0),ht/=Ce;ht*=2,O.style(g,k,ht+Xe),te=te||[]}return te&&(ht=+ht||+je||0,me=te[1]?ht+(te[1]+1)*te[2]:+te[2],de&&(de.unit=Xe,de.start=ht,de.end=me)),me}var jr={};function Bi(g){var k,te=g.ownerDocument,de=g.nodeName,me=jr[de];return me||(k=te.body.appendChild(te.createElement(de)),me=O.css(k,"display"),k.parentNode.removeChild(k),me==="none"&&(me="block"),jr[de]=me,me)}function Ut(g,k){for(var te,de,me=[],Ce=0,Ie=g.length;Ce<Ie;Ce++)(de=g[Ce]).style&&(te=de.style.display,k?(te==="none"&&(me[Ce]=et.get(de,"display")||null,me[Ce]||(de.style.display="")),de.style.display===""&&Un(de)&&(me[Ce]=Bi(de))):te!=="none"&&(me[Ce]="none",et.set(de,"display",te)));for(Ce=0;Ce<Ie;Ce++)me[Ce]!=null&&(g[Ce].style.display=me[Ce]);return g}O.fn.extend({show:function(){return Ut(this,!0)},hide:function(){return Ut(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){Un(this)?O(this).show():O(this).hide()})}});var Dn,ar,Yr=/^(?:checkbox|radio)$/i,ui=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Oi=/^$|^module$|\/(?:java|ecma)script/i;Dn=ae.createDocumentFragment().appendChild(ae.createElement("div")),(ar=ae.createElement("input")).setAttribute("type","radio"),ar.setAttribute("checked","checked"),ar.setAttribute("name","t"),Dn.appendChild(ar),G.checkClone=Dn.cloneNode(!0).cloneNode(!0).lastChild.checked,Dn.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!Dn.cloneNode(!0).lastChild.defaultValue,Dn.innerHTML="<option></option>",G.option=!!Dn.lastChild;var Ti={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ri(g,k){var te;return te=g.getElementsByTagName!==void 0?g.getElementsByTagName(k||"*"):g.querySelectorAll!==void 0?g.querySelectorAll(k||"*"):[],k===void 0||k&&ce(g,k)?O.merge([g],te):te}function lo(g,k){for(var te=0,de=g.length;te<de;te++)et.set(g[te],"globalEval",!k||et.get(k[te],"globalEval"))}Ti.tbody=Ti.tfoot=Ti.colgroup=Ti.caption=Ti.thead,Ti.th=Ti.td,G.option||(Ti.optgroup=Ti.option=[1,"<select multiple='multiple'>","</select>"]);var Ki=/<|&#?\w+;/;function Qa(g,k,te,de,me){for(var Ce,Ie,Te,je,Xe,ht,ot=k.createDocumentFragment(),ct=[],Yt=0,On=g.length;Yt<On;Yt++)if((Ce=g[Yt])||Ce===0)if(B(Ce)==="object")O.merge(ct,Ce.nodeType?[Ce]:Ce);else if(Ki.test(Ce)){for(Ie=Ie||ot.appendChild(k.createElement("div")),Te=(ui.exec(Ce)||["",""])[1].toLowerCase(),je=Ti[Te]||Ti._default,Ie.innerHTML=je[1]+O.htmlPrefilter(Ce)+je[2],ht=je[0];ht--;)Ie=Ie.lastChild;O.merge(ct,Ie.childNodes),(Ie=ot.firstChild).textContent=""}else ct.push(k.createTextNode(Ce));for(ot.textContent="",Yt=0;Ce=ct[Yt++];)if(de&&O.inArray(Ce,de)>-1)me&&me.push(Ce);else if(Xe=zn(Ce),Ie=Ri(ot.appendChild(Ce),"script"),Xe&&lo(Ie),te)for(ht=0;Ce=Ie[ht++];)Oi.test(Ce.type||"")&&te.push(Ce);return ot}var No=/^([^.]*)(?:\.(.+)|)/;function fo(){return!0}function ni(){return!1}function Po(g,k,te,de,me,Ce){var Ie,Te;if(typeof k=="object"){for(Te in typeof te!="string"&&(de=de||te,te=void 0),k)Po(g,Te,te,de,k[Te],Ce);return g}if(de==null&&me==null?(me=te,de=te=void 0):me==null&&(typeof te=="string"?(me=de,de=void 0):(me=de,de=te,te=void 0)),me===!1)me=ni;else if(!me)return g;return Ce===1&&(Ie=me,(me=function(je){return O().off(je),Ie.apply(this,arguments)}).guid=Ie.guid||(Ie.guid=O.guid++)),g.each(function(){O.event.add(this,k,me,de,te)})}function we(g,k,te){te?(et.set(g,k,!1),O.event.add(g,k,{namespace:!1,handler:function(de){var me,Ce=et.get(this,k);if(1&de.isTrigger&&this[k]){if(Ce)(O.event.special[k]||{}).delegateType&&de.stopPropagation();else if(Ce=d.call(arguments),et.set(this,k,Ce),this[k](),me=et.get(this,k),et.set(this,k,!1),Ce!==me)return de.stopImmediatePropagation(),de.preventDefault(),me}else Ce&&(et.set(this,k,O.event.trigger(Ce[0],Ce.slice(1),this)),de.stopPropagation(),de.isImmediatePropagationStopped=fo)}})):et.get(g,k)===void 0&&O.event.add(g,k,fo)}O.event={global:{},add:function(g,k,te,de,me){var Ce,Ie,Te,je,Xe,ht,ot,ct,Yt,On,qt,er=et.get(g);if(Dt(g))for(te.handler&&(te=(Ce=te).handler,me=Ce.selector),me&&O.find.matchesSelector(cn,me),te.guid||(te.guid=O.guid++),(je=er.events)||(je=er.events=Object.create(null)),(Ie=er.handle)||(Ie=er.handle=function(qr){return O!==void 0&&O.event.triggered!==qr.type?O.event.dispatch.apply(g,arguments):void 0}),Xe=(k=(k||"").match(Ve)||[""]).length;Xe--;)Yt=qt=(Te=No.exec(k[Xe])||[])[1],On=(Te[2]||"").split(".").sort(),Yt&&(ot=O.event.special[Yt]||{},Yt=(me?ot.delegateType:ot.bindType)||Yt,ot=O.event.special[Yt]||{},ht=O.extend({type:Yt,origType:qt,data:de,handler:te,guid:te.guid,selector:me,needsContext:me&&O.expr.match.needsContext.test(me),namespace:On.join(".")},Ce),(ct=je[Yt])||((ct=je[Yt]=[]).delegateCount=0,ot.setup&&ot.setup.call(g,de,On,Ie)!==!1||g.addEventListener&&g.addEventListener(Yt,Ie)),ot.add&&(ot.add.call(g,ht),ht.handler.guid||(ht.handler.guid=te.guid)),me?ct.splice(ct.delegateCount++,0,ht):ct.push(ht),O.event.global[Yt]=!0)},remove:function(g,k,te,de,me){var Ce,Ie,Te,je,Xe,ht,ot,ct,Yt,On,qt,er=et.hasData(g)&&et.get(g);if(er&&(je=er.events)){for(Xe=(k=(k||"").match(Ve)||[""]).length;Xe--;)if(Yt=qt=(Te=No.exec(k[Xe])||[])[1],On=(Te[2]||"").split(".").sort(),Yt){for(ot=O.event.special[Yt]||{},ct=je[Yt=(de?ot.delegateType:ot.bindType)||Yt]||[],Te=Te[2]&&new RegExp("(^|\\.)"+On.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ie=Ce=ct.length;Ce--;)ht=ct[Ce],!me&&qt!==ht.origType||te&&te.guid!==ht.guid||Te&&!Te.test(ht.namespace)||de&&de!==ht.selector&&(de!=="**"||!ht.selector)||(ct.splice(Ce,1),ht.selector&&ct.delegateCount--,ot.remove&&ot.remove.call(g,ht));Ie&&!ct.length&&(ot.teardown&&ot.teardown.call(g,On,er.handle)!==!1||O.removeEvent(g,Yt,er.handle),delete je[Yt])}else for(Yt in je)O.event.remove(g,Yt+k[Xe],te,de,!0);O.isEmptyObject(je)&&et.remove(g,"handle events")}},dispatch:function(g){var k,te,de,me,Ce,Ie,Te=new Array(arguments.length),je=O.event.fix(g),Xe=(et.get(this,"events")||Object.create(null))[je.type]||[],ht=O.event.special[je.type]||{};for(Te[0]=je,k=1;k<arguments.length;k++)Te[k]=arguments[k];if(je.delegateTarget=this,!ht.preDispatch||ht.preDispatch.call(this,je)!==!1){for(Ie=O.event.handlers.call(this,je,Xe),k=0;(me=Ie[k++])&&!je.isPropagationStopped();)for(je.currentTarget=me.elem,te=0;(Ce=me.handlers[te++])&&!je.isImmediatePropagationStopped();)je.rnamespace&&Ce.namespace!==!1&&!je.rnamespace.test(Ce.namespace)||(je.handleObj=Ce,je.data=Ce.data,(de=((O.event.special[Ce.origType]||{}).handle||Ce.handler).apply(me.elem,Te))!==void 0&&(je.result=de)===!1&&(je.preventDefault(),je.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,je),je.result}},handlers:function(g,k){var te,de,me,Ce,Ie,Te=[],je=k.delegateCount,Xe=g.target;if(je&&Xe.nodeType&&!(g.type==="click"&&g.button>=1)){for(;Xe!==this;Xe=Xe.parentNode||this)if(Xe.nodeType===1&&(g.type!=="click"||Xe.disabled!==!0)){for(Ce=[],Ie={},te=0;te<je;te++)Ie[me=(de=k[te]).selector+" "]===void 0&&(Ie[me]=de.needsContext?O(me,this).index(Xe)>-1:O.find(me,this,null,[Xe]).length),Ie[me]&&Ce.push(de);Ce.length&&Te.push({elem:Xe,handlers:Ce})}}return Xe=this,je<k.length&&Te.push({elem:Xe,handlers:k.slice(je)}),Te},addProp:function(g,k){Object.defineProperty(O.Event.prototype,g,{enumerable:!0,configurable:!0,get:ie(k)?function(){if(this.originalEvent)return k(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(te){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:te})}})},fix:function(g){return g[O.expando]?g:new O.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var k=this||g;return Yr.test(k.type)&&k.click&&ce(k,"input")&&we(k,"click",!0),!1},trigger:function(g){var k=this||g;return Yr.test(k.type)&&k.click&&ce(k,"input")&&we(k,"click"),!0},_default:function(g){var k=g.target;return Yr.test(k.type)&&k.click&&ce(k,"input")&&et.get(k,"click")||ce(k,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}},O.removeEvent=function(g,k,te){g.removeEventListener&&g.removeEventListener(k,te)},O.Event=function(g,k){if(!(this instanceof O.Event))return new O.Event(g,k);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?fo:ni,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,k&&O.extend(this,k),this.timeStamp=g&&g.timeStamp||Date.now(),this[O.expando]=!0},O.Event.prototype={constructor:O.Event,isDefaultPrevented:ni,isPropagationStopped:ni,isImmediatePropagationStopped:ni,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=fo,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=fo,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=fo,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},O.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},O.event.addProp),O.each({focus:"focusin",blur:"focusout"},function(g,k){function te(de){if(ae.documentMode){var me=et.get(this,"handle"),Ce=O.event.fix(de);Ce.type=de.type==="focusin"?"focus":"blur",Ce.isSimulated=!0,me(de),Ce.target===Ce.currentTarget&&me(Ce)}else O.event.simulate(k,de.target,O.event.fix(de))}O.event.special[g]={setup:function(){var de;if(we(this,g,!0),!ae.documentMode)return!1;(de=et.get(this,k))||this.addEventListener(k,te),et.set(this,k,(de||0)+1)},trigger:function(){return we(this,g),!0},teardown:function(){var de;if(!ae.documentMode)return!1;(de=et.get(this,k)-1)?et.set(this,k,de):(this.removeEventListener(k,te),et.remove(this,k))},_default:function(de){return et.get(de.target,g)},delegateType:k},O.event.special[k]={setup:function(){var de=this.ownerDocument||this.document||this,me=ae.documentMode?this:de,Ce=et.get(me,k);Ce||(ae.documentMode?this.addEventListener(k,te):de.addEventListener(g,te,!0)),et.set(me,k,(Ce||0)+1)},teardown:function(){var de=this.ownerDocument||this.document||this,me=ae.documentMode?this:de,Ce=et.get(me,k)-1;Ce?et.set(me,k,Ce):(ae.documentMode?this.removeEventListener(k,te):de.removeEventListener(g,te,!0),et.remove(me,k))}}}),O.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,k){O.event.special[g]={delegateType:k,bindType:k,handle:function(te){var de,me=te.relatedTarget,Ce=te.handleObj;return me&&(me===this||O.contains(this,me))||(te.type=Ce.origType,de=Ce.handler.apply(this,arguments),te.type=k),de}}}),O.fn.extend({on:function(g,k,te,de){return Po(this,g,k,te,de)},one:function(g,k,te,de){return Po(this,g,k,te,de,1)},off:function(g,k,te){var de,me;if(g&&g.preventDefault&&g.handleObj)return de=g.handleObj,O(g.delegateTarget).off(de.namespace?de.origType+"."+de.namespace:de.origType,de.selector,de.handler),this;if(typeof g=="object"){for(me in g)this.off(me,k,g[me]);return this}return k!==!1&&typeof k!="function"||(te=k,k=void 0),te===!1&&(te=ni),this.each(function(){O.event.remove(this,g,te,k)})}});var vi=/<script|<style|<link/i,Vo=/checked\s*(?:[^=]|=\s*.checked.)/i,xr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Bo(g,k){return ce(g,"table")&&ce(k.nodeType!==11?k:k.firstChild,"tr")&&O(g).children("tbody")[0]||g}function pa(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function ps(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function fs(g,k){var te,de,me,Ce,Ie,Te;if(k.nodeType===1){if(et.hasData(g)&&(Te=et.get(g).events))for(me in et.remove(k,"handle events"),Te)for(te=0,de=Te[me].length;te<de;te++)O.event.add(k,me,Te[me][te]);sn.hasData(g)&&(Ce=sn.access(g),Ie=O.extend({},Ce),sn.set(k,Ie))}}function Aa(g,k){var te=k.nodeName.toLowerCase();te==="input"&&Yr.test(g.type)?k.checked=g.checked:te!=="input"&&te!=="textarea"||(k.defaultValue=g.defaultValue)}function sa(g,k,te,de){k=E(k);var me,Ce,Ie,Te,je,Xe,ht=0,ot=g.length,ct=ot-1,Yt=k[0],On=ie(Yt);if(On||ot>1&&typeof Yt=="string"&&!G.checkClone&&Vo.test(Yt))return g.each(function(qt){var er=g.eq(qt);On&&(k[0]=Yt.call(this,qt,er.html())),sa(er,k,te,de)});if(ot&&(Ce=(me=Qa(k,g[0].ownerDocument,!1,g,de)).firstChild,me.childNodes.length===1&&(me=Ce),Ce||de)){for(Te=(Ie=O.map(Ri(me,"script"),pa)).length;ht<ot;ht++)je=me,ht!==ct&&(je=O.clone(je,!0,!0),Te&&O.merge(Ie,Ri(je,"script"))),te.call(g[ht],je,ht);if(Te)for(Xe=Ie[Ie.length-1].ownerDocument,O.map(Ie,ps),ht=0;ht<Te;ht++)je=Ie[ht],Oi.test(je.type||"")&&!et.access(je,"globalEval")&&O.contains(Xe,je)&&(je.src&&(je.type||"").toLowerCase()!=="module"?O._evalUrl&&!je.noModule&&O._evalUrl(je.src,{nonce:je.nonce||je.getAttribute("nonce")},Xe):pe(je.textContent.replace(xr,""),je,Xe))}return g}function Qo(g,k,te){for(var de,me=k?O.filter(k,g):g,Ce=0;(de=me[Ce])!=null;Ce++)te||de.nodeType!==1||O.cleanData(Ri(de)),de.parentNode&&(te&&zn(de)&&lo(Ri(de,"script")),de.parentNode.removeChild(de));return g}O.extend({htmlPrefilter:function(g){return g},clone:function(g,k,te){var de,me,Ce,Ie,Te=g.cloneNode(!0),je=zn(g);if(!(G.noCloneChecked||g.nodeType!==1&&g.nodeType!==11||O.isXMLDoc(g)))for(Ie=Ri(Te),de=0,me=(Ce=Ri(g)).length;de<me;de++)Aa(Ce[de],Ie[de]);if(k)if(te)for(Ce=Ce||Ri(g),Ie=Ie||Ri(Te),de=0,me=Ce.length;de<me;de++)fs(Ce[de],Ie[de]);else fs(g,Te);return(Ie=Ri(Te,"script")).length>0&&lo(Ie,!je&&Ri(g,"script")),Te},cleanData:function(g){for(var k,te,de,me=O.event.special,Ce=0;(te=g[Ce])!==void 0;Ce++)if(Dt(te)){if(k=te[et.expando]){if(k.events)for(de in k.events)me[de]?O.event.remove(te,de):O.removeEvent(te,de,k.handle);te[et.expando]=void 0}te[sn.expando]&&(te[sn.expando]=void 0)}}}),O.fn.extend({detach:function(g){return Qo(this,g,!0)},remove:function(g){return Qo(this,g)},text:function(g){return nt(this,function(k){return k===void 0?O.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=k)})},null,g,arguments.length)},append:function(){return sa(this,arguments,function(g){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||Bo(this,g).appendChild(g)})},prepend:function(){return sa(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var k=Bo(this,g);k.insertBefore(g,k.firstChild)}})},before:function(){return sa(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return sa(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,k=0;(g=this[k])!=null;k++)g.nodeType===1&&(O.cleanData(Ri(g,!1)),g.textContent="");return this},clone:function(g,k){return g=g!=null&&g,k=k??g,this.map(function(){return O.clone(this,g,k)})},html:function(g){return nt(this,function(k){var te=this[0]||{},de=0,me=this.length;if(k===void 0&&te.nodeType===1)return te.innerHTML;if(typeof k=="string"&&!vi.test(k)&&!Ti[(ui.exec(k)||["",""])[1].toLowerCase()]){k=O.htmlPrefilter(k);try{for(;de<me;de++)(te=this[de]||{}).nodeType===1&&(O.cleanData(Ri(te,!1)),te.innerHTML=k);te=0}catch{}}te&&this.empty().append(k)},null,g,arguments.length)},replaceWith:function(){var g=[];return sa(this,arguments,function(k){var te=this.parentNode;O.inArray(this,g)<0&&(O.cleanData(Ri(this)),te&&te.replaceChild(k,this))},g)}}),O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,k){O.fn[g]=function(te){for(var de,me=[],Ce=O(te),Ie=Ce.length-1,Te=0;Te<=Ie;Te++)de=Te===Ie?this:this.clone(!0),O(Ce[Te])[k](de),C.apply(me,de.get());return this.pushStack(me)}});var mo=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),Ra=/^--/,jo=function(g){var k=g.ownerDocument.defaultView;return k&&k.opener||(k=i),k.getComputedStyle(g)},es=function(g,k,te){var de,me,Ce={};for(me in k)Ce[me]=g.style[me],g.style[me]=k[me];for(me in de=te.call(g),k)g.style[me]=Ce[me];return de},As=new RegExp(Xt.join("|"),"i");function ea(g,k,te){var de,me,Ce,Ie,Te=Ra.test(k),je=g.style;return(te=te||jo(g))&&(Ie=te.getPropertyValue(k)||te[k],Te&&Ie&&(Ie=Ie.replace(xe,"$1")||void 0),Ie!==""||zn(g)||(Ie=O.style(g,k)),!G.pixelBoxStyles()&&mo.test(Ie)&&As.test(k)&&(de=je.width,me=je.minWidth,Ce=je.maxWidth,je.minWidth=je.maxWidth=je.width=Ie,Ie=te.width,je.width=de,je.minWidth=me,je.maxWidth=Ce)),Ie!==void 0?Ie+"":Ie}function ms(g,k){return{get:function(){if(!g())return(this.get=k).apply(this,arguments);delete this.get}}}(function(){function g(){if(Xe){je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",cn.appendChild(je).appendChild(Xe);var ht=i.getComputedStyle(Xe);te=ht.top!=="1%",Te=k(ht.marginLeft)===12,Xe.style.right="60%",Ce=k(ht.right)===36,de=k(ht.width)===36,Xe.style.position="absolute",me=k(Xe.offsetWidth/3)===12,cn.removeChild(je),Xe=null}}function k(ht){return Math.round(parseFloat(ht))}var te,de,me,Ce,Ie,Te,je=ae.createElement("div"),Xe=ae.createElement("div");Xe.style&&(Xe.style.backgroundClip="content-box",Xe.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle=Xe.style.backgroundClip==="content-box",O.extend(G,{boxSizingReliable:function(){return g(),de},pixelBoxStyles:function(){return g(),Ce},pixelPosition:function(){return g(),te},reliableMarginLeft:function(){return g(),Te},scrollboxSize:function(){return g(),me},reliableTrDimensions:function(){var ht,ot,ct,Yt;return Ie==null&&(ht=ae.createElement("table"),ot=ae.createElement("tr"),ct=ae.createElement("div"),ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ot.style.cssText="border:1px solid",ot.style.height="1px",ct.style.height="9px",ct.style.display="block",cn.appendChild(ht).appendChild(ot).appendChild(ct),Yt=i.getComputedStyle(ot),Ie=parseInt(Yt.height,10)+parseInt(Yt.borderTopWidth,10)+parseInt(Yt.borderBottomWidth,10)===ot.offsetHeight,cn.removeChild(ht)),Ie}}))})();var Wo=["Webkit","Moz","ms"],La=ae.createElement("div").style,Ia={};function Ba(g){return O.cssProps[g]||Ia[g]||(g in La?g:Ia[g]=function(k){for(var te=k[0].toUpperCase()+k.slice(1),de=Wo.length;de--;)if((k=Wo[de]+te)in La)return k}(g)||g)}var Li=/^(none|table(?!-c[ea]).+)/,Hr={position:"absolute",visibility:"hidden",display:"block"},ka={letterSpacing:"0",fontWeight:"400"};function gs(g,k,te){var de=At.exec(k);return de?Math.max(0,de[2]-(te||0))+(de[3]||"px"):k}function Ps(g,k,te,de,me,Ce){var Ie=k==="width"?1:0,Te=0,je=0,Xe=0;if(te===(de?"border":"content"))return 0;for(;Ie<4;Ie+=2)te==="margin"&&(Xe+=O.css(g,te+Xt[Ie],!0,me)),de?(te==="content"&&(je-=O.css(g,"padding"+Xt[Ie],!0,me)),te!=="margin"&&(je-=O.css(g,"border"+Xt[Ie]+"Width",!0,me))):(je+=O.css(g,"padding"+Xt[Ie],!0,me),te!=="padding"?je+=O.css(g,"border"+Xt[Ie]+"Width",!0,me):Te+=O.css(g,"border"+Xt[Ie]+"Width",!0,me));return!de&&Ce>=0&&(je+=Math.max(0,Math.ceil(g["offset"+k[0].toUpperCase()+k.slice(1)]-Ce-je-Te-.5))||0),je+Xe}function _s(g,k,te){var de=jo(g),me=(!G.boxSizingReliable()||te)&&O.css(g,"boxSizing",!1,de)==="border-box",Ce=me,Ie=ea(g,k,de),Te="offset"+k[0].toUpperCase()+k.slice(1);if(mo.test(Ie)){if(!te)return Ie;Ie="auto"}return(!G.boxSizingReliable()&&me||!G.reliableTrDimensions()&&ce(g,"tr")||Ie==="auto"||!parseFloat(Ie)&&O.css(g,"display",!1,de)==="inline")&&g.getClientRects().length&&(me=O.css(g,"boxSizing",!1,de)==="border-box",(Ce=Te in g)&&(Ie=g[Te])),(Ie=parseFloat(Ie)||0)+Ps(g,k,te||(me?"border":"content"),Ce,de,Ie)+"px"}function Oo(g,k,te,de,me){return new Oo.prototype.init(g,k,te,de,me)}O.extend({cssHooks:{opacity:{get:function(g,k){if(k){var te=ea(g,"opacity");return te===""?"1":te}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,k,te,de){if(g&&g.nodeType!==3&&g.nodeType!==8&&g.style){var me,Ce,Ie,Te=gt(k),je=Ra.test(k),Xe=g.style;if(je||(k=Ba(Te)),Ie=O.cssHooks[k]||O.cssHooks[Te],te===void 0)return Ie&&"get"in Ie&&(me=Ie.get(g,!1,de))!==void 0?me:Xe[k];(Ce=typeof te)=="string"&&(me=At.exec(te))&&me[1]&&(te=Mn(g,k,me),Ce="number"),te!=null&&te==te&&(Ce!=="number"||je||(te+=me&&me[3]||(O.cssNumber[Te]?"":"px")),G.clearCloneStyle||te!==""||k.indexOf("background")!==0||(Xe[k]="inherit"),Ie&&"set"in Ie&&(te=Ie.set(g,te,de))===void 0||(je?Xe.setProperty(k,te):Xe[k]=te))}},css:function(g,k,te,de){var me,Ce,Ie,Te=gt(k);return Ra.test(k)||(k=Ba(Te)),(Ie=O.cssHooks[k]||O.cssHooks[Te])&&"get"in Ie&&(me=Ie.get(g,!0,te)),me===void 0&&(me=ea(g,k,de)),me==="normal"&&k in ka&&(me=ka[k]),te===""||te?(Ce=parseFloat(me),te===!0||isFinite(Ce)?Ce||0:me):me}}),O.each(["height","width"],function(g,k){O.cssHooks[k]={get:function(te,de,me){if(de)return!Li.test(O.css(te,"display"))||te.getClientRects().length&&te.getBoundingClientRect().width?_s(te,k,me):es(te,Hr,function(){return _s(te,k,me)})},set:function(te,de,me){var Ce,Ie=jo(te),Te=!G.scrollboxSize()&&Ie.position==="absolute",je=(Te||me)&&O.css(te,"boxSizing",!1,Ie)==="border-box",Xe=me?Ps(te,k,me,je,Ie):0;return je&&Te&&(Xe-=Math.ceil(te["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(Ie[k])-Ps(te,k,"border",!1,Ie)-.5)),Xe&&(Ce=At.exec(de))&&(Ce[3]||"px")!=="px"&&(te.style[k]=de,de=O.css(te,k)),gs(0,de,Xe)}}}),O.cssHooks.marginLeft=ms(G.reliableMarginLeft,function(g,k){if(k)return(parseFloat(ea(g,"marginLeft"))||g.getBoundingClientRect().left-es(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),O.each({margin:"",padding:"",border:"Width"},function(g,k){O.cssHooks[g+k]={expand:function(te){for(var de=0,me={},Ce=typeof te=="string"?te.split(" "):[te];de<4;de++)me[g+Xt[de]+k]=Ce[de]||Ce[de-2]||Ce[0];return me}},g!=="margin"&&(O.cssHooks[g+k].set=gs)}),O.fn.extend({css:function(g,k){return nt(this,function(te,de,me){var Ce,Ie,Te={},je=0;if(Array.isArray(de)){for(Ce=jo(te),Ie=de.length;je<Ie;je++)Te[de[je]]=O.css(te,de[je],!1,Ce);return Te}return me!==void 0?O.style(te,de,me):O.css(te,de)},g,k,arguments.length>1)}}),O.Tween=Oo,Oo.prototype={constructor:Oo,init:function(g,k,te,de,me,Ce){this.elem=g,this.prop=te,this.easing=me||O.easing._default,this.options=k,this.start=this.now=this.cur(),this.end=de,this.unit=Ce||(O.cssNumber[te]?"":"px")},cur:function(){var g=Oo.propHooks[this.prop];return g&&g.get?g.get(this):Oo.propHooks._default.get(this)},run:function(g){var k,te=Oo.propHooks[this.prop];return this.options.duration?this.pos=k=O.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=k=g,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):Oo.propHooks._default.set(this),this}},Oo.prototype.init.prototype=Oo.prototype,Oo.propHooks={_default:{get:function(g){var k;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(k=O.css(g.elem,g.prop,""))&&k!=="auto"?k:0},set:function(g){O.fx.step[g.prop]?O.fx.step[g.prop](g):g.elem.nodeType!==1||!O.cssHooks[g.prop]&&g.elem.style[Ba(g.prop)]==null?g.elem[g.prop]=g.now:O.style(g.elem,g.prop,g.now+g.unit)}}},Oo.propHooks.scrollTop=Oo.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},O.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},O.fx=Oo.prototype.init,O.fx.step={};var Ci,Fe,at=/^(?:toggle|show|hide)$/,ze=/queueHooks$/;function it(){Fe&&(ae.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(it):i.setTimeout(it,O.fx.interval),O.fx.tick())}function Ot(){return i.setTimeout(function(){Ci=void 0}),Ci=Date.now()}function tn(g,k){var te,de=0,me={height:g};for(k=k?1:0;de<4;de+=2-k)me["margin"+(te=Xt[de])]=me["padding"+te]=g;return k&&(me.opacity=me.width=g),me}function xn(g,k,te){for(var de,me=(Ln.tweeners[k]||[]).concat(Ln.tweeners["*"]),Ce=0,Ie=me.length;Ce<Ie;Ce++)if(de=me[Ce].call(te,k,g))return de}function Ln(g,k,te){var de,me,Ce=0,Ie=Ln.prefilters.length,Te=O.Deferred().always(function(){delete je.elem}),je=function(){if(me)return!1;for(var ot=Ci||Ot(),ct=Math.max(0,Xe.startTime+Xe.duration-ot),Yt=1-(ct/Xe.duration||0),On=0,qt=Xe.tweens.length;On<qt;On++)Xe.tweens[On].run(Yt);return Te.notifyWith(g,[Xe,Yt,ct]),Yt<1&&qt?ct:(qt||Te.notifyWith(g,[Xe,1,0]),Te.resolveWith(g,[Xe]),!1)},Xe=Te.promise({elem:g,props:O.extend({},k),opts:O.extend(!0,{specialEasing:{},easing:O.easing._default},te),originalProperties:k,originalOptions:te,startTime:Ci||Ot(),duration:te.duration,tweens:[],createTween:function(ot,ct){var Yt=O.Tween(g,Xe.opts,ot,ct,Xe.opts.specialEasing[ot]||Xe.opts.easing);return Xe.tweens.push(Yt),Yt},stop:function(ot){var ct=0,Yt=ot?Xe.tweens.length:0;if(me)return this;for(me=!0;ct<Yt;ct++)Xe.tweens[ct].run(1);return ot?(Te.notifyWith(g,[Xe,1,0]),Te.resolveWith(g,[Xe,ot])):Te.rejectWith(g,[Xe,ot]),this}}),ht=Xe.props;for(function(ot,ct){var Yt,On,qt,er,qr;for(Yt in ot)if(qt=ct[On=gt(Yt)],er=ot[Yt],Array.isArray(er)&&(qt=er[1],er=ot[Yt]=er[0]),Yt!==On&&(ot[On]=er,delete ot[Yt]),(qr=O.cssHooks[On])&&"expand"in qr)for(Yt in er=qr.expand(er),delete ot[On],er)Yt in ot||(ot[Yt]=er[Yt],ct[Yt]=qt);else ct[On]=qt}(ht,Xe.opts.specialEasing);Ce<Ie;Ce++)if(de=Ln.prefilters[Ce].call(Xe,g,ht,Xe.opts))return ie(de.stop)&&(O._queueHooks(Xe.elem,Xe.opts.queue).stop=de.stop.bind(de)),de;return O.map(ht,xn,Xe),ie(Xe.opts.start)&&Xe.opts.start.call(g,Xe),Xe.progress(Xe.opts.progress).done(Xe.opts.done,Xe.opts.complete).fail(Xe.opts.fail).always(Xe.opts.always),O.fx.timer(O.extend(je,{elem:g,anim:Xe,queue:Xe.opts.queue})),Xe}O.Animation=O.extend(Ln,{tweeners:{"*":[function(g,k){var te=this.createTween(g,k);return Mn(te.elem,g,At.exec(k),te),te}]},tweener:function(g,k){ie(g)?(k=g,g=["*"]):g=g.match(Ve);for(var te,de=0,me=g.length;de<me;de++)te=g[de],Ln.tweeners[te]=Ln.tweeners[te]||[],Ln.tweeners[te].unshift(k)},prefilters:[function(g,k,te){var de,me,Ce,Ie,Te,je,Xe,ht,ot="width"in k||"height"in k,ct=this,Yt={},On=g.style,qt=g.nodeType&&Un(g),er=et.get(g,"fxshow");for(de in te.queue||((Ie=O._queueHooks(g,"fx")).unqueued==null&&(Ie.unqueued=0,Te=Ie.empty.fire,Ie.empty.fire=function(){Ie.unqueued||Te()}),Ie.unqueued++,ct.always(function(){ct.always(function(){Ie.unqueued--,O.queue(g,"fx").length||Ie.empty.fire()})})),k)if(me=k[de],at.test(me)){if(delete k[de],Ce=Ce||me==="toggle",me===(qt?"hide":"show")){if(me!=="show"||!er||er[de]===void 0)continue;qt=!0}Yt[de]=er&&er[de]||O.style(g,de)}if((je=!O.isEmptyObject(k))||!O.isEmptyObject(Yt))for(de in ot&&g.nodeType===1&&(te.overflow=[On.overflow,On.overflowX,On.overflowY],(Xe=er&&er.display)==null&&(Xe=et.get(g,"display")),(ht=O.css(g,"display"))==="none"&&(Xe?ht=Xe:(Ut([g],!0),Xe=g.style.display||Xe,ht=O.css(g,"display"),Ut([g]))),(ht==="inline"||ht==="inline-block"&&Xe!=null)&&O.css(g,"float")==="none"&&(je||(ct.done(function(){On.display=Xe}),Xe==null&&(ht=On.display,Xe=ht==="none"?"":ht)),On.display="inline-block")),te.overflow&&(On.overflow="hidden",ct.always(function(){On.overflow=te.overflow[0],On.overflowX=te.overflow[1],On.overflowY=te.overflow[2]})),je=!1,Yt)je||(er?"hidden"in er&&(qt=er.hidden):er=et.access(g,"fxshow",{display:Xe}),Ce&&(er.hidden=!qt),qt&&Ut([g],!0),ct.done(function(){for(de in qt||Ut([g]),et.remove(g,"fxshow"),Yt)O.style(g,de,Yt[de])})),je=xn(qt?er[de]:0,de,ct),de in er||(er[de]=je.start,qt&&(je.end=je.start,je.start=0))}],prefilter:function(g,k){k?Ln.prefilters.unshift(g):Ln.prefilters.push(g)}}),O.speed=function(g,k,te){var de=g&&typeof g=="object"?O.extend({},g):{complete:te||!te&&k||ie(g)&&g,duration:g,easing:te&&k||k&&!ie(k)&&k};return O.fx.off?de.duration=0:typeof de.duration!="number"&&(de.duration in O.fx.speeds?de.duration=O.fx.speeds[de.duration]:de.duration=O.fx.speeds._default),de.queue!=null&&de.queue!==!0||(de.queue="fx"),de.old=de.complete,de.complete=function(){ie(de.old)&&de.old.call(this),de.queue&&O.dequeue(this,de.queue)},de},O.fn.extend({fadeTo:function(g,k,te,de){return this.filter(Un).css("opacity",0).show().end().animate({opacity:k},g,te,de)},animate:function(g,k,te,de){var me=O.isEmptyObject(g),Ce=O.speed(k,te,de),Ie=function(){var Te=Ln(this,O.extend({},g),Ce);(me||et.get(this,"finish"))&&Te.stop(!0)};return Ie.finish=Ie,me||Ce.queue===!1?this.each(Ie):this.queue(Ce.queue,Ie)},stop:function(g,k,te){var de=function(me){var Ce=me.stop;delete me.stop,Ce(te)};return typeof g!="string"&&(te=k,k=g,g=void 0),k&&this.queue(g||"fx",[]),this.each(function(){var me=!0,Ce=g!=null&&g+"queueHooks",Ie=O.timers,Te=et.get(this);if(Ce)Te[Ce]&&Te[Ce].stop&&de(Te[Ce]);else for(Ce in Te)Te[Ce]&&Te[Ce].stop&&ze.test(Ce)&&de(Te[Ce]);for(Ce=Ie.length;Ce--;)Ie[Ce].elem!==this||g!=null&&Ie[Ce].queue!==g||(Ie[Ce].anim.stop(te),me=!1,Ie.splice(Ce,1));!me&&te||O.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var k,te=et.get(this),de=te[g+"queue"],me=te[g+"queueHooks"],Ce=O.timers,Ie=de?de.length:0;for(te.finish=!0,O.queue(this,g,[]),me&&me.stop&&me.stop.call(this,!0),k=Ce.length;k--;)Ce[k].elem===this&&Ce[k].queue===g&&(Ce[k].anim.stop(!0),Ce.splice(k,1));for(k=0;k<Ie;k++)de[k]&&de[k].finish&&de[k].finish.call(this);delete te.finish})}}),O.each(["toggle","show","hide"],function(g,k){var te=O.fn[k];O.fn[k]=function(de,me,Ce){return de==null||typeof de=="boolean"?te.apply(this,arguments):this.animate(tn(k,!0),de,me,Ce)}}),O.each({slideDown:tn("show"),slideUp:tn("hide"),slideToggle:tn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,k){O.fn[g]=function(te,de,me){return this.animate(k,te,de,me)}}),O.timers=[],O.fx.tick=function(){var g,k=0,te=O.timers;for(Ci=Date.now();k<te.length;k++)(g=te[k])()||te[k]!==g||te.splice(k--,1);te.length||O.fx.stop(),Ci=void 0},O.fx.timer=function(g){O.timers.push(g),O.fx.start()},O.fx.interval=13,O.fx.start=function(){Fe||(Fe=!0,it())},O.fx.stop=function(){Fe=null},O.fx.speeds={slow:600,fast:200,_default:400},O.fn.delay=function(g,k){return g=O.fx&&O.fx.speeds[g]||g,k=k||"fx",this.queue(k,function(te,de){var me=i.setTimeout(te,g);de.stop=function(){i.clearTimeout(me)}})},function(){var g=ae.createElement("input"),k=ae.createElement("select").appendChild(ae.createElement("option"));g.type="checkbox",G.checkOn=g.value!=="",G.optSelected=k.selected,(g=ae.createElement("input")).value="t",g.type="radio",G.radioValue=g.value==="t"}();var yr,hr=O.expr.attrHandle;O.fn.extend({attr:function(g,k){return nt(this,O.attr,g,k,arguments.length>1)},removeAttr:function(g){return this.each(function(){O.removeAttr(this,g)})}}),O.extend({attr:function(g,k,te){var de,me,Ce=g.nodeType;if(Ce!==3&&Ce!==8&&Ce!==2)return g.getAttribute===void 0?O.prop(g,k,te):(Ce===1&&O.isXMLDoc(g)||(me=O.attrHooks[k.toLowerCase()]||(O.expr.match.bool.test(k)?yr:void 0)),te!==void 0?te===null?void O.removeAttr(g,k):me&&"set"in me&&(de=me.set(g,te,k))!==void 0?de:(g.setAttribute(k,te+""),te):me&&"get"in me&&(de=me.get(g,k))!==null?de:(de=O.find.attr(g,k))==null?void 0:de)},attrHooks:{type:{set:function(g,k){if(!G.radioValue&&k==="radio"&&ce(g,"input")){var te=g.value;return g.setAttribute("type",k),te&&(g.value=te),k}}}},removeAttr:function(g,k){var te,de=0,me=k&&k.match(Ve);if(me&&g.nodeType===1)for(;te=me[de++];)g.removeAttribute(te)}}),yr={set:function(g,k,te){return k===!1?O.removeAttr(g,te):g.setAttribute(te,te),te}},O.each(O.expr.match.bool.source.match(/\w+/g),function(g,k){var te=hr[k]||O.find.attr;hr[k]=function(de,me,Ce){var Ie,Te,je=me.toLowerCase();return Ce||(Te=hr[je],hr[je]=Ie,Ie=te(de,me,Ce)!=null?je:null,hr[je]=Te),Ie}});var Rr=/^(?:input|select|textarea|button)$/i,Qi=/^(?:a|area)$/i;function Ga(g){return(g.match(Ve)||[]).join(" ")}function ho(g){return g.getAttribute&&g.getAttribute("class")||""}function Wa(g){return Array.isArray(g)?g:typeof g=="string"&&g.match(Ve)||[]}O.fn.extend({prop:function(g,k){return nt(this,O.prop,g,k,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[O.propFix[g]||g]})}}),O.extend({prop:function(g,k,te){var de,me,Ce=g.nodeType;if(Ce!==3&&Ce!==8&&Ce!==2)return Ce===1&&O.isXMLDoc(g)||(k=O.propFix[k]||k,me=O.propHooks[k]),te!==void 0?me&&"set"in me&&(de=me.set(g,te,k))!==void 0?de:g[k]=te:me&&"get"in me&&(de=me.get(g,k))!==null?de:g[k]},propHooks:{tabIndex:{get:function(g){var k=O.find.attr(g,"tabindex");return k?parseInt(k,10):Rr.test(g.nodeName)||Qi.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),G.optSelected||(O.propHooks.selected={get:function(g){var k=g.parentNode;return k&&k.parentNode&&k.parentNode.selectedIndex,null},set:function(g){var k=g.parentNode;k&&(k.selectedIndex,k.parentNode&&k.parentNode.selectedIndex)}}),O.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){O.propFix[this.toLowerCase()]=this}),O.fn.extend({addClass:function(g){var k,te,de,me,Ce,Ie;return ie(g)?this.each(function(Te){O(this).addClass(g.call(this,Te,ho(this)))}):(k=Wa(g)).length?this.each(function(){if(de=ho(this),te=this.nodeType===1&&" "+Ga(de)+" "){for(Ce=0;Ce<k.length;Ce++)me=k[Ce],te.indexOf(" "+me+" ")<0&&(te+=me+" ");Ie=Ga(te),de!==Ie&&this.setAttribute("class",Ie)}}):this},removeClass:function(g){var k,te,de,me,Ce,Ie;return ie(g)?this.each(function(Te){O(this).removeClass(g.call(this,Te,ho(this)))}):arguments.length?(k=Wa(g)).length?this.each(function(){if(de=ho(this),te=this.nodeType===1&&" "+Ga(de)+" "){for(Ce=0;Ce<k.length;Ce++)for(me=k[Ce];te.indexOf(" "+me+" ")>-1;)te=te.replace(" "+me+" "," ");Ie=Ga(te),de!==Ie&&this.setAttribute("class",Ie)}}):this:this.attr("class","")},toggleClass:function(g,k){var te,de,me,Ce,Ie=typeof g,Te=Ie==="string"||Array.isArray(g);return ie(g)?this.each(function(je){O(this).toggleClass(g.call(this,je,ho(this),k),k)}):typeof k=="boolean"&&Te?k?this.addClass(g):this.removeClass(g):(te=Wa(g),this.each(function(){if(Te)for(Ce=O(this),me=0;me<te.length;me++)de=te[me],Ce.hasClass(de)?Ce.removeClass(de):Ce.addClass(de);else g!==void 0&&Ie!=="boolean"||((de=ho(this))&&et.set(this,"__className__",de),this.setAttribute&&this.setAttribute("class",de||g===!1?"":et.get(this,"__className__")||""))}))},hasClass:function(g){var k,te,de=0;for(k=" "+g+" ";te=this[de++];)if(te.nodeType===1&&(" "+Ga(ho(te))+" ").indexOf(k)>-1)return!0;return!1}});var Ma=/\r/g;O.fn.extend({val:function(g){var k,te,de,me=this[0];return arguments.length?(de=ie(g),this.each(function(Ce){var Ie;this.nodeType===1&&((Ie=de?g.call(this,Ce,O(this).val()):g)==null?Ie="":typeof Ie=="number"?Ie+="":Array.isArray(Ie)&&(Ie=O.map(Ie,function(Te){return Te==null?"":Te+""})),(k=O.valHooks[this.type]||O.valHooks[this.nodeName.toLowerCase()])&&"set"in k&&k.set(this,Ie,"value")!==void 0||(this.value=Ie))})):me?(k=O.valHooks[me.type]||O.valHooks[me.nodeName.toLowerCase()])&&"get"in k&&(te=k.get(me,"value"))!==void 0?te:typeof(te=me.value)=="string"?te.replace(Ma,""):te??"":void 0}}),O.extend({valHooks:{option:{get:function(g){var k=O.find.attr(g,"value");return k??Ga(O.text(g))}},select:{get:function(g){var k,te,de,me=g.options,Ce=g.selectedIndex,Ie=g.type==="select-one",Te=Ie?null:[],je=Ie?Ce+1:me.length;for(de=Ce<0?je:Ie?Ce:0;de<je;de++)if(((te=me[de]).selected||de===Ce)&&!te.disabled&&(!te.parentNode.disabled||!ce(te.parentNode,"optgroup"))){if(k=O(te).val(),Ie)return k;Te.push(k)}return Te},set:function(g,k){for(var te,de,me=g.options,Ce=O.makeArray(k),Ie=me.length;Ie--;)((de=me[Ie]).selected=O.inArray(O.valHooks.option.get(de),Ce)>-1)&&(te=!0);return te||(g.selectedIndex=-1),Ce}}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]={set:function(g,k){if(Array.isArray(k))return g.checked=O.inArray(O(g).val(),k)>-1}},G.checkOn||(O.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var Na=i.location,Os={guid:Date.now()},Ii=/\?/;O.parseXML=function(g){var k,te;if(!g||typeof g!="string")return null;try{k=new i.DOMParser().parseFromString(g,"text/xml")}catch{}return te=k&&k.getElementsByTagName("parsererror")[0],k&&!te||O.error("Invalid XML: "+(te?O.map(te.childNodes,function(de){return de.textContent}).join(`
`):g)),k};var ta=/^(?:focusinfocus|focusoutblur)$/,Fa=function(g){g.stopPropagation()};O.extend(O.event,{trigger:function(g,k,te,de){var me,Ce,Ie,Te,je,Xe,ht,ot,ct=[te||ae],Yt=S.call(g,"type")?g.type:g,On=S.call(g,"namespace")?g.namespace.split("."):[];if(Ce=ot=Ie=te=te||ae,te.nodeType!==3&&te.nodeType!==8&&!ta.test(Yt+O.event.triggered)&&(Yt.indexOf(".")>-1&&(Yt=(On=Yt.split(".")).shift(),On.sort()),je=Yt.indexOf(":")<0&&"on"+Yt,(g=g[O.expando]?g:new O.Event(Yt,typeof g=="object"&&g)).isTrigger=de?2:3,g.namespace=On.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+On.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=te),k=k==null?[g]:O.makeArray(k,[g]),ht=O.event.special[Yt]||{},de||!ht.trigger||ht.trigger.apply(te,k)!==!1)){if(!de&&!ht.noBubble&&!le(te)){for(Te=ht.delegateType||Yt,ta.test(Te+Yt)||(Ce=Ce.parentNode);Ce;Ce=Ce.parentNode)ct.push(Ce),Ie=Ce;Ie===(te.ownerDocument||ae)&&ct.push(Ie.defaultView||Ie.parentWindow||i)}for(me=0;(Ce=ct[me++])&&!g.isPropagationStopped();)ot=Ce,g.type=me>1?Te:ht.bindType||Yt,(Xe=(et.get(Ce,"events")||Object.create(null))[g.type]&&et.get(Ce,"handle"))&&Xe.apply(Ce,k),(Xe=je&&Ce[je])&&Xe.apply&&Dt(Ce)&&(g.result=Xe.apply(Ce,k),g.result===!1&&g.preventDefault());return g.type=Yt,de||g.isDefaultPrevented()||ht._default&&ht._default.apply(ct.pop(),k)!==!1||!Dt(te)||je&&ie(te[Yt])&&!le(te)&&((Ie=te[je])&&(te[je]=null),O.event.triggered=Yt,g.isPropagationStopped()&&ot.addEventListener(Yt,Fa),te[Yt](),g.isPropagationStopped()&&ot.removeEventListener(Yt,Fa),O.event.triggered=void 0,Ie&&(te[je]=Ie)),g.result}},simulate:function(g,k,te){var de=O.extend(new O.Event,te,{type:g,isSimulated:!0});O.event.trigger(de,null,k)}}),O.fn.extend({trigger:function(g,k){return this.each(function(){O.event.trigger(g,k,this)})},triggerHandler:function(g,k){var te=this[0];if(te)return O.event.trigger(g,k,te,!0)}});var $o=/\[\]$/,ts=/\r?\n/g,Ws=/^(?:submit|button|image|reset|file)$/i,ai=/^(?:input|select|textarea|keygen)/i;function Bn(g,k,te,de){var me;if(Array.isArray(k))O.each(k,function(Ce,Ie){te||$o.test(g)?de(g,Ie):Bn(g+"["+(typeof Ie=="object"&&Ie!=null?Ce:"")+"]",Ie,te,de)});else if(te||B(k)!=="object")de(g,k);else for(me in k)Bn(g+"["+me+"]",k[me],te,de)}O.param=function(g,k){var te,de=[],me=function(Ce,Ie){var Te=ie(Ie)?Ie():Ie;de[de.length]=encodeURIComponent(Ce)+"="+encodeURIComponent(Te??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!O.isPlainObject(g))O.each(g,function(){me(this.name,this.value)});else for(te in g)Bn(te,g[te],k,me);return de.join("&")},O.fn.extend({serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=O.prop(this,"elements");return g?O.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!O(this).is(":disabled")&&ai.test(this.nodeName)&&!Ws.test(g)&&(this.checked||!Yr.test(g))}).map(function(g,k){var te=O(this).val();return te==null?null:Array.isArray(te)?O.map(te,function(de){return{name:k.name,value:de.replace(ts,`\r
`)}}):{name:k.name,value:te.replace(ts,`\r
`)}}).get()}});var go=/%20/g,Bs=/#.*$/,cc=/([?&])_=[^&]*/,ji=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pi=/^(?:GET|HEAD)$/,Ro=/^\/\//,$s={},Mo={},Rs="*/".concat("*"),qs=ae.createElement("a");function mt(g){return function(k,te){typeof k!="string"&&(te=k,k="*");var de,me=0,Ce=k.toLowerCase().match(Ve)||[];if(ie(te))for(;de=Ce[me++];)de[0]==="+"?(de=de.slice(1)||"*",(g[de]=g[de]||[]).unshift(te)):(g[de]=g[de]||[]).push(te)}}function vs(g,k,te,de){var me={},Ce=g===Mo;function Ie(Te){var je;return me[Te]=!0,O.each(g[Te]||[],function(Xe,ht){var ot=ht(k,te,de);return typeof ot!="string"||Ce||me[ot]?Ce?!(je=ot):void 0:(k.dataTypes.unshift(ot),Ie(ot),!1)}),je}return Ie(k.dataTypes[0])||!me["*"]&&Ie("*")}function qo(g,k){var te,de,me=O.ajaxSettings.flatOptions||{};for(te in k)k[te]!==void 0&&((me[te]?g:de||(de={}))[te]=k[te]);return de&&O.extend(!0,g,de),g}qs.href=Na.href,O.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Na.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Na.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":O.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,k){return k?qo(qo(g,O.ajaxSettings),k):qo(O.ajaxSettings,g)},ajaxPrefilter:mt($s),ajaxTransport:mt(Mo),ajax:function(g,k){typeof g=="object"&&(k=g,g=void 0),k=k||{};var te,de,me,Ce,Ie,Te,je,Xe,ht,ot,ct=O.ajaxSetup({},k),Yt=ct.context||ct,On=ct.context&&(Yt.nodeType||Yt.jquery)?O(Yt):O.event,qt=O.Deferred(),er=O.Callbacks("once memory"),qr=ct.statusCode||{},ii={},si={},Dr="canceled",br={readyState:0,getResponseHeader:function(pr){var Cr;if(je){if(!Ce)for(Ce={};Cr=ji.exec(me);)Ce[Cr[1].toLowerCase()+" "]=(Ce[Cr[1].toLowerCase()+" "]||[]).concat(Cr[2]);Cr=Ce[pr.toLowerCase()+" "]}return Cr==null?null:Cr.join(", ")},getAllResponseHeaders:function(){return je?me:null},setRequestHeader:function(pr,Cr){return je==null&&(pr=si[pr.toLowerCase()]=si[pr.toLowerCase()]||pr,ii[pr]=Cr),this},overrideMimeType:function(pr){return je==null&&(ct.mimeType=pr),this},statusCode:function(pr){var Cr;if(pr)if(je)br.always(pr[br.status]);else for(Cr in pr)qr[Cr]=[qr[Cr],pr[Cr]];return this},abort:function(pr){var Cr=pr||Dr;return te&&te.abort(Cr),Zr(0,Cr),this}};if(qt.promise(br),ct.url=((g||ct.url||Na.href)+"").replace(Ro,Na.protocol+"//"),ct.type=k.method||k.type||ct.method||ct.type,ct.dataTypes=(ct.dataType||"*").toLowerCase().match(Ve)||[""],ct.crossDomain==null){Te=ae.createElement("a");try{Te.href=ct.url,Te.href=Te.href,ct.crossDomain=qs.protocol+"//"+qs.host!=Te.protocol+"//"+Te.host}catch{ct.crossDomain=!0}}if(ct.data&&ct.processData&&typeof ct.data!="string"&&(ct.data=O.param(ct.data,ct.traditional)),vs($s,ct,k,br),je)return br;for(ht in(Xe=O.event&&ct.global)&&O.active++==0&&O.event.trigger("ajaxStart"),ct.type=ct.type.toUpperCase(),ct.hasContent=!Pi.test(ct.type),de=ct.url.replace(Bs,""),ct.hasContent?ct.data&&ct.processData&&(ct.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ct.data=ct.data.replace(go,"+")):(ot=ct.url.slice(de.length),ct.data&&(ct.processData||typeof ct.data=="string")&&(de+=(Ii.test(de)?"&":"?")+ct.data,delete ct.data),ct.cache===!1&&(de=de.replace(cc,"$1"),ot=(Ii.test(de)?"&":"?")+"_="+Os.guid+++ot),ct.url=de+ot),ct.ifModified&&(O.lastModified[de]&&br.setRequestHeader("If-Modified-Since",O.lastModified[de]),O.etag[de]&&br.setRequestHeader("If-None-Match",O.etag[de])),(ct.data&&ct.hasContent&&ct.contentType!==!1||k.contentType)&&br.setRequestHeader("Content-Type",ct.contentType),br.setRequestHeader("Accept",ct.dataTypes[0]&&ct.accepts[ct.dataTypes[0]]?ct.accepts[ct.dataTypes[0]]+(ct.dataTypes[0]!=="*"?", "+Rs+"; q=0.01":""):ct.accepts["*"]),ct.headers)br.setRequestHeader(ht,ct.headers[ht]);if(ct.beforeSend&&(ct.beforeSend.call(Yt,br,ct)===!1||je))return br.abort();if(Dr="abort",er.add(ct.complete),br.done(ct.success),br.fail(ct.error),te=vs(Mo,ct,k,br)){if(br.readyState=1,Xe&&On.trigger("ajaxSend",[br,ct]),je)return br;ct.async&&ct.timeout>0&&(Ie=i.setTimeout(function(){br.abort("timeout")},ct.timeout));try{je=!1,te.send(ii,Zr)}catch(pr){if(je)throw pr;Zr(-1,pr)}}else Zr(-1,"No Transport");function Zr(pr,Cr,fa,Lo){var vo,ma,Gi,oo,yo,eo=Cr;je||(je=!0,Ie&&i.clearTimeout(Ie),te=void 0,me=Lo||"",br.readyState=pr>0?4:0,vo=pr>=200&&pr<300||pr===304,fa&&(oo=function(ki,wi,Co){for(var hi,zi,Mr,qi,Ji=ki.contents,gi=ki.dataTypes;gi[0]==="*";)gi.shift(),hi===void 0&&(hi=ki.mimeType||wi.getResponseHeader("Content-Type"));if(hi){for(zi in Ji)if(Ji[zi]&&Ji[zi].test(hi)){gi.unshift(zi);break}}if(gi[0]in Co)Mr=gi[0];else{for(zi in Co){if(!gi[0]||ki.converters[zi+" "+gi[0]]){Mr=zi;break}qi||(qi=zi)}Mr=Mr||qi}if(Mr)return Mr!==gi[0]&&gi.unshift(Mr),Co[Mr]}(ct,br,fa)),!vo&&O.inArray("script",ct.dataTypes)>-1&&O.inArray("json",ct.dataTypes)<0&&(ct.converters["text script"]=function(){}),oo=function(ki,wi,Co,hi){var zi,Mr,qi,Ji,gi,ca={},Is=ki.dataTypes.slice();if(Is[1])for(qi in ki.converters)ca[qi.toLowerCase()]=ki.converters[qi];for(Mr=Is.shift();Mr;)if(ki.responseFields[Mr]&&(Co[ki.responseFields[Mr]]=wi),!gi&&hi&&ki.dataFilter&&(wi=ki.dataFilter(wi,ki.dataType)),gi=Mr,Mr=Is.shift()){if(Mr==="*")Mr=gi;else if(gi!=="*"&&gi!==Mr){if(!(qi=ca[gi+" "+Mr]||ca["* "+Mr])){for(zi in ca)if((Ji=zi.split(" "))[1]===Mr&&(qi=ca[gi+" "+Ji[0]]||ca["* "+Ji[0]])){qi===!0?qi=ca[zi]:ca[zi]!==!0&&(Mr=Ji[0],Is.unshift(Ji[1]));break}}if(qi!==!0)if(qi&&ki.throws)wi=qi(wi);else try{wi=qi(wi)}catch(vl){return{state:"parsererror",error:qi?vl:"No conversion from "+gi+" to "+Mr}}}}return{state:"success",data:wi}}(ct,oo,br,vo),vo?(ct.ifModified&&((yo=br.getResponseHeader("Last-Modified"))&&(O.lastModified[de]=yo),(yo=br.getResponseHeader("etag"))&&(O.etag[de]=yo)),pr===204||ct.type==="HEAD"?eo="nocontent":pr===304?eo="notmodified":(eo=oo.state,ma=oo.data,vo=!(Gi=oo.error))):(Gi=eo,!pr&&eo||(eo="error",pr<0&&(pr=0))),br.status=pr,br.statusText=(Cr||eo)+"",vo?qt.resolveWith(Yt,[ma,eo,br]):qt.rejectWith(Yt,[br,eo,Gi]),br.statusCode(qr),qr=void 0,Xe&&On.trigger(vo?"ajaxSuccess":"ajaxError",[br,ct,vo?ma:Gi]),er.fireWith(Yt,[br,eo]),Xe&&(On.trigger("ajaxComplete",[br,ct]),--O.active||O.event.trigger("ajaxStop")))}return br},getJSON:function(g,k,te){return O.get(g,k,te,"json")},getScript:function(g,k){return O.get(g,void 0,k,"script")}}),O.each(["get","post"],function(g,k){O[k]=function(te,de,me,Ce){return ie(de)&&(Ce=Ce||me,me=de,de=void 0),O.ajax(O.extend({url:te,type:k,dataType:Ce,data:de,success:me},O.isPlainObject(te)&&te))}}),O.ajaxPrefilter(function(g){var k;for(k in g.headers)k.toLowerCase()==="content-type"&&(g.contentType=g.headers[k]||"")}),O._evalUrl=function(g,k,te){return O.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(de){O.globalEval(de,k,te)}})},O.fn.extend({wrapAll:function(g){var k;return this[0]&&(ie(g)&&(g=g.call(this[0])),k=O(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&k.insertBefore(this[0]),k.map(function(){for(var te=this;te.firstElementChild;)te=te.firstElementChild;return te}).append(this)),this},wrapInner:function(g){return ie(g)?this.each(function(k){O(this).wrapInner(g.call(this,k))}):this.each(function(){var k=O(this),te=k.contents();te.length?te.wrapAll(g):k.append(g)})},wrap:function(g){var k=ie(g);return this.each(function(te){O(this).wrapAll(k?g.call(this,te):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){O(this).replaceWith(this.childNodes)}),this}}),O.expr.pseudos.hidden=function(g){return!O.expr.pseudos.visible(g)},O.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},O.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var uc={0:200,1223:204},ns=O.ajaxSettings.xhr();G.cors=!!ns&&"withCredentials"in ns,G.ajax=ns=!!ns,O.ajaxTransport(function(g){var k,te;if(G.cors||ns&&!g.crossDomain)return{send:function(de,me){var Ce,Ie=g.xhr();if(Ie.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(Ce in g.xhrFields)Ie[Ce]=g.xhrFields[Ce];for(Ce in g.mimeType&&Ie.overrideMimeType&&Ie.overrideMimeType(g.mimeType),g.crossDomain||de["X-Requested-With"]||(de["X-Requested-With"]="XMLHttpRequest"),de)Ie.setRequestHeader(Ce,de[Ce]);k=function(Te){return function(){k&&(k=te=Ie.onload=Ie.onerror=Ie.onabort=Ie.ontimeout=Ie.onreadystatechange=null,Te==="abort"?Ie.abort():Te==="error"?typeof Ie.status!="number"?me(0,"error"):me(Ie.status,Ie.statusText):me(uc[Ie.status]||Ie.status,Ie.statusText,(Ie.responseType||"text")!=="text"||typeof Ie.responseText!="string"?{binary:Ie.response}:{text:Ie.responseText},Ie.getAllResponseHeaders()))}},Ie.onload=k(),te=Ie.onerror=Ie.ontimeout=k("error"),Ie.onabort!==void 0?Ie.onabort=te:Ie.onreadystatechange=function(){Ie.readyState===4&&i.setTimeout(function(){k&&te()})},k=k("abort");try{Ie.send(g.hasContent&&g.data||null)}catch(Te){if(k)throw Te}},abort:function(){k&&k()}}}),O.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return O.globalEval(g),g}}}),O.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),O.ajaxTransport("script",function(g){var k,te;if(g.crossDomain||g.scriptAttrs)return{send:function(de,me){k=O("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",te=function(Ce){k.remove(),te=null,Ce&&me(Ce.type==="error"?404:200,Ce.type)}),ae.head.appendChild(k[0])},abort:function(){te&&te()}}});var rs,Ls=[],la=/(=)\?(?=&|$)|\?\?/;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Ls.pop()||O.expando+"_"+Os.guid++;return this[g]=!0,g}}),O.ajaxPrefilter("json jsonp",function(g,k,te){var de,me,Ce,Ie=g.jsonp!==!1&&(la.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&la.test(g.data)&&"data");if(Ie||g.dataTypes[0]==="jsonp")return de=g.jsonpCallback=ie(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,Ie?g[Ie]=g[Ie].replace(la,"$1"+de):g.jsonp!==!1&&(g.url+=(Ii.test(g.url)?"&":"?")+g.jsonp+"="+de),g.converters["script json"]=function(){return Ce||O.error(de+" was not called"),Ce[0]},g.dataTypes[0]="json",me=i[de],i[de]=function(){Ce=arguments},te.always(function(){me===void 0?O(i).removeProp(de):i[de]=me,g[de]&&(g.jsonpCallback=k.jsonpCallback,Ls.push(de)),Ce&&ie(me)&&me(Ce[0]),Ce=me=void 0}),"script"}),G.createHTMLDocument=((rs=ae.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",rs.childNodes.length===2),O.parseHTML=function(g,k,te){return typeof g!="string"?[]:(typeof k=="boolean"&&(te=k,k=!1),k||(G.createHTMLDocument?((de=(k=ae.implementation.createHTMLDocument("")).createElement("base")).href=ae.location.href,k.head.appendChild(de)):k=ae),Ce=!te&&[],(me=Ue.exec(g))?[k.createElement(me[1])]:(me=Qa([g],k,Ce),Ce&&Ce.length&&O(Ce).remove(),O.merge([],me.childNodes)));var de,me,Ce},O.fn.load=function(g,k,te){var de,me,Ce,Ie=this,Te=g.indexOf(" ");return Te>-1&&(de=Ga(g.slice(Te)),g=g.slice(0,Te)),ie(k)?(te=k,k=void 0):k&&typeof k=="object"&&(me="POST"),Ie.length>0&&O.ajax({url:g,type:me||"GET",dataType:"html",data:k}).done(function(je){Ce=arguments,Ie.html(de?O("<div>").append(O.parseHTML(je)).find(de):je)}).always(te&&function(je,Xe){Ie.each(function(){te.apply(this,Ce||[je.responseText,Xe,je])})}),this},O.expr.pseudos.animated=function(g){return O.grep(O.timers,function(k){return g===k.elem}).length},O.offset={setOffset:function(g,k,te){var de,me,Ce,Ie,Te,je,Xe=O.css(g,"position"),ht=O(g),ot={};Xe==="static"&&(g.style.position="relative"),Te=ht.offset(),Ce=O.css(g,"top"),je=O.css(g,"left"),(Xe==="absolute"||Xe==="fixed")&&(Ce+je).indexOf("auto")>-1?(Ie=(de=ht.position()).top,me=de.left):(Ie=parseFloat(Ce)||0,me=parseFloat(je)||0),ie(k)&&(k=k.call(g,te,O.extend({},Te))),k.top!=null&&(ot.top=k.top-Te.top+Ie),k.left!=null&&(ot.left=k.left-Te.left+me),"using"in k?k.using.call(g,ot):ht.css(ot)}},O.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(me){O.offset.setOffset(this,g,me)});var k,te,de=this[0];return de?de.getClientRects().length?(k=de.getBoundingClientRect(),te=de.ownerDocument.defaultView,{top:k.top+te.pageYOffset,left:k.left+te.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var g,k,te,de=this[0],me={top:0,left:0};if(O.css(de,"position")==="fixed")k=de.getBoundingClientRect();else{for(k=this.offset(),te=de.ownerDocument,g=de.offsetParent||te.documentElement;g&&(g===te.body||g===te.documentElement)&&O.css(g,"position")==="static";)g=g.parentNode;g&&g!==de&&g.nodeType===1&&((me=O(g).offset()).top+=O.css(g,"borderTopWidth",!0),me.left+=O.css(g,"borderLeftWidth",!0))}return{top:k.top-me.top-O.css(de,"marginTop",!0),left:k.left-me.left-O.css(de,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&O.css(g,"position")==="static";)g=g.offsetParent;return g||cn})}}),O.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,k){var te=k==="pageYOffset";O.fn[g]=function(de){return nt(this,function(me,Ce,Ie){var Te;if(le(me)?Te=me:me.nodeType===9&&(Te=me.defaultView),Ie===void 0)return Te?Te[k]:me[Ce];Te?Te.scrollTo(te?Te.pageXOffset:Ie,te?Ie:Te.pageYOffset):me[Ce]=Ie},g,de,arguments.length)}}),O.each(["top","left"],function(g,k){O.cssHooks[k]=ms(G.pixelPosition,function(te,de){if(de)return de=ea(te,k),mo.test(de)?O(te).position()[k]+"px":de})}),O.each({Height:"height",Width:"width"},function(g,k){O.each({padding:"inner"+g,content:k,"":"outer"+g},function(te,de){O.fn[de]=function(me,Ce){var Ie=arguments.length&&(te||typeof me!="boolean"),Te=te||(me===!0||Ce===!0?"margin":"border");return nt(this,function(je,Xe,ht){var ot;return le(je)?de.indexOf("outer")===0?je["inner"+g]:je.document.documentElement["client"+g]:je.nodeType===9?(ot=je.documentElement,Math.max(je.body["scroll"+g],ot["scroll"+g],je.body["offset"+g],ot["offset"+g],ot["client"+g])):ht===void 0?O.css(je,Xe,Te):O.style(je,Xe,ht,Te)},k,Ie?me:void 0,Ie)}})}),O.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,k){O.fn[k]=function(te){return this.on(k,te)}}),O.fn.extend({bind:function(g,k,te){return this.on(g,null,k,te)},unbind:function(g,k){return this.off(g,null,k)},delegate:function(g,k,te,de){return this.on(k,g,te,de)},undelegate:function(g,k,te){return arguments.length===1?this.off(g,"**"):this.off(k,g||"**",te)},hover:function(g,k){return this.mouseenter(g).mouseleave(k||g)}}),O.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,k){O.fn[k]=function(te,de){return arguments.length>0?this.on(k,null,te,de):this.trigger(k)}});var ri=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;O.proxy=function(g,k){var te,de,me;if(typeof k=="string"&&(te=g[k],k=g,g=te),ie(g))return de=d.call(arguments,2),(me=function(){return g.apply(k||this,de.concat(d.call(arguments)))}).guid=g.guid=g.guid||O.guid++,me},O.holdReady=function(g){g?O.readyWait++:O.ready(!0)},O.isArray=Array.isArray,O.parseJSON=JSON.parse,O.nodeName=ce,O.isFunction=ie,O.isWindow=le,O.camelCase=gt,O.type=B,O.now=Date.now,O.isNumeric=function(g){var k=O.type(g);return(k==="number"||k==="string")&&!isNaN(g-parseFloat(g))},O.trim=function(g){return g==null?"":(g+"").replace(ri,"$1")};var gl=i.jQuery,ne=i.$;return O.noConflict=function(g){return i.$===O&&(i.$=ne),g&&i.jQuery===O&&(i.jQuery=gl),O},a===void 0&&(i.jQuery=i.$=O),O},e.exports=t.document?r(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return r(i)}}),jquery$1$1=Object.freeze({__proto__:null,default:jquery$1,__moduleExports:jquery$1});function mxcadassemblyinit(){var e,t=(e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(e=e||__filename),function(r){var i,a,l;r=r||{},i||(i=r!==void 0?r:{}),i.ready=new Promise(function(Ut,Dn){a=Ut,l=Dn});var c,d,E,C,D,f,A=Object.assign({},i),S=typeof window=="object",L=typeof importScripts=="function",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",G="";N?(G=L?xxxxx("path").dirname(G)+"/":__dirname+"/",f=()=>{D||(C=xxxxx("fs"),D=xxxxx("path"))},c=function(Ut,Dn){var ar=Ct(Ut);return ar?Dn?ar:ar.toString():(f(),Ut=D.normalize(Ut),C.readFileSync(Ut,Dn?void 0:"utf8"))},E=Ut=>((Ut=c(Ut,!0)).buffer||(Ut=new Uint8Array(Ut)),Ut),d=(Ut,Dn,ar)=>{var Yr=Ct(Ut);Yr&&Dn(Yr),f(),Ut=D.normalize(Ut),C.readFile(Ut,function(ui,Oi){ui?ar(ui):Dn(Oi.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(Ut){throw Ut}),process.on("unhandledRejection",function(Ut){throw Ut}),i.inspect=function(){return"[Emscripten Module object]"}):(S||L)&&(L?G=self.location.href:typeof document<"u"&&document.currentScript&&(G=document.currentScript.src),e&&(G=e),G=G.indexOf("blob:")!==0?G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=Ut=>{try{var Dn=new XMLHttpRequest;return Dn.open("GET",Ut,!1),Dn.send(null),Dn.responseText}catch(ui){if(Ut=Ct(Ut)){Dn=[];for(var ar=0;ar<Ut.length;ar++){var Yr=Ut[ar];255<Yr&&(Yr&=255),Dn.push(String.fromCharCode(Yr))}return Dn.join("")}throw ui}},L&&(E=Ut=>{try{var Dn=new XMLHttpRequest;return Dn.open("GET",Ut,!1),Dn.responseType="arraybuffer",Dn.send(null),new Uint8Array(Dn.response)}catch(ar){if(Ut=Ct(Ut))return Ut;throw ar}}),d=(Ut,Dn,ar)=>{var Yr=new XMLHttpRequest;Yr.open("GET",Ut,!0),Yr.responseType="arraybuffer",Yr.onload=()=>{if(Yr.status==200||Yr.status==0&&Yr.response)Dn(Yr.response);else{var ui=Ct(Ut);ui?Dn(ui.buffer):ar()}},Yr.onerror=ar,Yr.send(null)}),i.print||console.log.bind(console);var ie,le=i.printErr||console.warn.bind(console);Object.assign(i,A),A=null,i.wasmBinary&&(ie=i.wasmBinary),i.noExitRuntime;var ae=Error,he={};ie=[],typeof he!="object"&&rt("no native wasm support detected");var pe,B,se,oe,O,T=!1,ce=i.INITIAL_MEMORY||16777216;(pe=i.wasmMemory?i.wasmMemory:new function(){this.buffer=new ArrayBuffer(ce/65536*65536)})&&(B=pe.buffer),ce=B.byteLength;var fe=B;B=fe,i.HEAP8=se=new Int8Array(fe),i.HEAP16=new Int16Array(fe),i.HEAP32=O=new Int32Array(fe),i.HEAPU8=oe=new Uint8Array(fe),i.HEAPU16=new Uint16Array(fe),i.HEAPU32=new Uint32Array(fe),i.HEAPF32=new Float32Array(fe),i.HEAPF64=new Float64Array(fe);var Ee,Ae=[],_e=[],xe=[];function De(){var Ut=i.preRun.shift();Ae.unshift(Ut)}var Le=0,Ge=null;function rt(Ut){throw i.onAbort&&i.onAbort(Ut),le(Ut="Aborted("+Ut+")"),T=!0,Ut=new ae(Ut+". Build with -s ASSERTIONS=1 for more info."),l(Ut),Ut}i.preloadedImages={},i.preloadedAudios={};var We,xt="data:application/octet-stream;base64,";if(!(We="mxcadassembly_min.wasm").startsWith(xt)){var Me=We;We=i.locateFile?i.locateFile(Me,G):G+Me}function Ue(){var Ut=We;try{if(Ut==We&&ie)return new Uint8Array(ie);var Dn=Ct(Ut);if(Dn)return Dn;if(E)return E(Ut);throw"both async and sync fetching of the wasm failed"}catch(ar){rt(ar)}}function Pe(Ut){for(;0<Ut.length;){var Dn=Ut.shift();if(typeof Dn=="function")Dn(i);else{var ar=Dn.U;typeof ar=="number"?Dn.G===void 0?st(ar)():st(ar)(Dn.G):ar(Dn.G===void 0?null:Dn.G)}}}var Re=[];function st(Ut){var Dn=Re[Ut];return Dn||(Ut>=Re.length&&(Re.length=Ut+1),Re[Ut]=Dn=Ee.get(Ut)),Dn}var It=typeof atob=="function"?atob:function(Ut){var Dn="",ar=0;Ut=Ut.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var Yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ut.charAt(ar++)),ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ut.charAt(ar++)),Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ut.charAt(ar++)),Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ut.charAt(ar++));Yr=Yr<<2|ui>>4,ui=(15&ui)<<4|Oi>>2;var Ri=(3&Oi)<<6|Ti;Dn+=String.fromCharCode(Yr),Oi!==64&&(Dn+=String.fromCharCode(ui)),Ti!==64&&(Dn+=String.fromCharCode(Ri))}while(ar<Ut.length);return Dn};function Ct(Ut){if(Ut.startsWith(xt)){if(Ut=Ut.slice(xt.length),typeof N=="boolean"&&N){var Dn=Buffer.from(Ut,"base64");Dn=new Uint8Array(Dn.buffer,Dn.byteOffset,Dn.byteLength)}else try{var ar=It(Ut),Yr=new Uint8Array(ar.length);for(Ut=0;Ut<ar.length;++Ut)Yr[Ut]=ar.charCodeAt(Ut);Dn=Yr}catch{throw Error("Converting base64 string to bytes failed.")}return Dn}}var tt={f:function(Ut){return At(Ut+16)+16},e:function(Ut,Dn,ar){throw new function(Yr){this.C=Yr-16,this.P=function(ui){O[this.C+4>>2]=ui},this.M=function(ui){O[this.C+8>>2]=ui},this.N=function(){O[this.C>>2]=0},this.L=function(){se[this.C+12>>0]=0},this.O=function(){se[this.C+13>>0]=0},this.K=function(ui,Oi){this.P(ui),this.M(Oi),this.N(),this.L(),this.O()}}(Ut).K(Dn,ar),Ut},c:function(){rt("")},d:function(Ut,Dn,ar){oe.copyWithin(Ut,Dn,Dn+ar)},b:function(){rt("OOM")},a:pe};(function(){function Ut(ui){i.asm=ui.exports,Ee=i.asm.A,_e.unshift(i.asm.g),Le--,i.monitorRunDependencies&&i.monitorRunDependencies(Le),Le==0&&Ge&&(ui=Ge,Ge=null,ui())}function Dn(ui){Ut(ui.instance)}function ar(ui){return function(){if(!ie&&(S||L)){if(typeof fetch=="function"&&!We.startsWith("file://"))return fetch(We,{credentials:"same-origin"}).then(function(Oi){if(!Oi.ok)throw"failed to load wasm binary file at '"+We+"'";return Oi.arrayBuffer()}).catch(function(){return Ue()});if(d)return new Promise(function(Oi,Ti){d(We,function(Ri){Oi(new Uint8Array(Ri))},Ti)})}return Promise.resolve().then(function(){return Ue()})}().then(function(){return{then:function(Oi){Oi({instance:new function(){this.exports=function(Ti){for(var Ri,lo=new Uint8Array(123),Ki=25;Ki>=0;--Ki)lo[48+Ki]=52+Ki,lo[65+Ki]=Ki,lo[97+Ki]=26+Ki;function Qa(No,fo,ni){for(var Po,we,vi=0,Vo=fo,xr=ni.length,Bo=fo+(3*xr>>2)-(ni[xr-2]=="=")-(ni[xr-1]=="=");vi<xr;vi+=4)Po=lo[ni.charCodeAt(vi+1)],we=lo[ni.charCodeAt(vi+2)],No[Vo++]=lo[ni.charCodeAt(vi)]<<2|Po>>4,Vo<Bo&&(No[Vo++]=Po<<4|we>>2),Vo<Bo&&(No[Vo++]=we<<6|lo[ni.charCodeAt(vi+3)])}return lo[43]=62,lo[47]=63,function(No){var fo=No.a.buffer,ni=new Int8Array(fo),Po=new Int16Array(fo),we=new Int32Array(fo),vi=new Uint8Array(fo),Vo=new Uint32Array(fo),xr=new Float64Array(fo),Bo=Math.imul,pa=No.abort,ps=No.b,fs=No.c,Aa=No.d,sa=No.e,Qo=No.f,mo=5245008;function Ra(Fe){var at,ze=0,it=0,Ot=0,tn=0,xn=0,Ln=0,yr=0,hr=0,Rr=0,Qi=0;mo=at=mo-16|0;e:{t:{n:{o:{i:{l:{r:{c:{u:{s:{a:{if((Fe|=0)>>>0<=244){if(3&(ze=(tn=we[404])>>>(it=(Ln=Fe>>>0<11?16:Fe+11&-8)>>>3|0)|0)){Fe=(xn=we[1664+(ze=(Ot=it+(1&(-1^ze))|0)<<3)>>2])+8|0,(0|(it=we[xn+8>>2]))!=(0|(ze=ze+1656|0))?(we[it+12>>2]=ze,we[ze+8>>2]=it):we[404]=Hr(Ot)&tn,ze=Ot<<3,we[xn+4>>2]=3|ze,we[4+(ze=ze+xn|0)>>2]=1|we[ze+4>>2];break e}if((Qi=we[406])>>>0>=Ln>>>0)break a;if(ze){it=Fe=(ze=(0-(Fe=(0-(Fe=2<<it)|Fe)&ze<<it)&Fe)-1|0)>>>12&16,it|=Fe=(ze=ze>>>Fe|0)>>>5&8,it|=Fe=(ze=ze>>>Fe|0)>>>2&4,Rr=we[1664+(Fe=(it=((it|=Fe=(ze=ze>>>Fe|0)>>>1&2)|(Fe=(ze=ze>>>Fe|0)>>>1&1))+(ze>>>Fe|0)|0)<<3)>>2],(0|(ze=we[Rr+8>>2]))!=(0|(Fe=Fe+1656|0))?(we[ze+12>>2]=Fe,we[Fe+8>>2]=ze):(tn=Hr(it)&tn,we[404]=tn),Fe=Rr+8|0,we[Rr+4>>2]=3|Ln,xn=(ze=it<<3)-Ln|0,we[4+(Ot=Ln+Rr|0)>>2]=1|xn,we[ze+Rr>>2]=xn,Qi&&(it=1656+((ze=Qi>>>3|0)<<3)|0,Rr=we[409],(ze=1<<ze)&tn?ze=we[it+8>>2]:(we[404]=ze|tn,ze=it),we[it+8>>2]=Rr,we[ze+12>>2]=Rr,we[Rr+12>>2]=it,we[Rr+8>>2]=ze),we[409]=Ot,we[406]=xn;break e}if(!(yr=we[405]))break a;for(it=Fe=(ze=(0-yr&yr)-1|0)>>>12&16,it|=Fe=(ze=ze>>>Fe|0)>>>5&8,it|=Fe=(ze=ze>>>Fe|0)>>>2&4,ze=we[1920+(((it|=Fe=(ze=ze>>>Fe|0)>>>1&2)|(Fe=(ze=ze>>>Fe|0)>>>1&1))+(ze>>>Fe|0)<<2)>>2],Ot=(-8&we[ze+4>>2])-Ln|0,it=ze;(Fe=we[it+16>>2])||(Fe=we[it+20>>2]);)Ot=(xn=(it=(-8&we[Fe+4>>2])-Ln|0)>>>0<Ot>>>0)?it:Ot,ze=xn?Fe:ze,it=Fe;if(hr=we[ze+24>>2],(0|(xn=we[ze+12>>2]))!=(0|ze)){Fe=we[ze+8>>2],we[Fe+12>>2]=xn,we[xn+8>>2]=Fe;break t}if(!(Fe=we[(it=ze+20|0)>>2])){if(!(Fe=we[ze+16>>2]))break s;it=ze+16|0}for(;Rr=it,xn=Fe,(Fe=we[(it=Fe+20|0)>>2])||(it=xn+16|0,Fe=we[xn+16>>2]););we[Rr>>2]=0;break t}if(Ln=-1,!(Fe>>>0>4294967231)&&(Ln=-8&(Fe=Fe+11|0),hr=we[405])){Ot=0-Ln|0,tn=0,Ln>>>0<256||(tn=31,Ln>>>0>16777215||(Fe=Fe>>>8|0,Fe<<=Rr=Fe+1048320>>>16&8,tn=28+((Fe=((Fe<<=it=Fe+520192>>>16&4)<<(ze=Fe+245760>>>16&2)>>>15|0)-(ze|it|Rr)|0)<<1|Ln>>>Fe+21&1)|0));d:{h:{if(it=we[1920+(tn<<2)>>2])for(Fe=0,ze=Ln<<((0|tn)==31?0:25-(tn>>>1|0)|0);;){if(!((Rr=(yr=-8&we[it+4>>2])-Ln|0)>>>0>=Ot>>>0)&&(Ot=Rr,xn=it,(0|Ln)==(0|yr))){Ot=0,Fe=it;break h}if(Rr=we[it+20>>2],it=we[16+((ze>>>29&4)+it|0)>>2],Fe=Rr?(0|Rr)==(0|it)?Fe:Rr:Fe,ze<<=1,!it)break}else Fe=0;if(!(Fe|xn)){if(xn=0,!(Fe=(0-(Fe=2<<tn)|Fe)&hr))break a;it=Fe=(ze=(Fe&0-Fe)-1|0)>>>12&16,it|=Fe=(ze=ze>>>Fe|0)>>>5&8,it|=Fe=(ze=ze>>>Fe|0)>>>2&4,Fe=we[1920+(((it|=Fe=(ze=ze>>>Fe|0)>>>1&2)|(Fe=(ze=ze>>>Fe|0)>>>1&1))+(ze>>>Fe|0)<<2)>>2]}if(!Fe)break d}for(;Ot=(it=(ze=(-8&we[Fe+4>>2])-Ln|0)>>>0<Ot>>>0)?ze:Ot,xn=it?Fe:xn,Fe=(ze=we[Fe+16>>2])||we[Fe+20>>2];);}if(!(!xn|we[406]-Ln>>>0<=Ot>>>0)){if(tn=we[xn+24>>2],(0|xn)!=(0|(ze=we[xn+12>>2]))){Fe=we[xn+8>>2],we[Fe+12>>2]=ze,we[ze+8>>2]=Fe;break n}if(!(Fe=we[(it=xn+20|0)>>2])){if(!(Fe=we[xn+16>>2]))break u;it=xn+16|0}for(;Rr=it,ze=Fe,(Fe=we[(it=Fe+20|0)>>2])||(it=ze+16|0,Fe=we[ze+16>>2]););we[Rr>>2]=0;break n}}}if((it=we[406])>>>0>=Ln>>>0){Ot=we[409],(ze=it-Ln|0)>>>0>=16?(we[406]=ze,Fe=Ot+Ln|0,we[409]=Fe,we[Fe+4>>2]=1|ze,we[it+Ot>>2]=ze,we[Ot+4>>2]=3|Ln):(we[409]=0,we[406]=0,we[Ot+4>>2]=3|it,we[4+(Fe=it+Ot|0)>>2]=1|we[Fe+4>>2]),Fe=Ot+8|0;break e}if((hr=we[407])>>>0>Ln>>>0){ze=hr-Ln|0,we[407]=ze,Fe=(it=we[410])+Ln|0,we[410]=Fe,we[Fe+4>>2]=1|ze,we[it+4>>2]=3|Ln,Fe=it+8|0;break e}if(Fe=0,yr=Ln+47|0,we[522]?it=we[524]:(we[525]=-1,we[526]=-1,we[523]=4096,we[524]=4096,we[522]=at+12&-16^1431655768,we[527]=0,we[515]=0,it=4096),(it=(Rr=yr+it|0)&(xn=0-it|0))>>>0<=Ln>>>0||(Ot=we[514])&&(tn=(ze=we[512])+it|0)>>>0>Ot>>>0|ze>>>0>=tn>>>0)break e;if(4&vi[2060])break l;a:{d:{if(Ot=we[410])for(Fe=2064;;){if((ze=we[Fe>>2])>>>0<=Ot>>>0&Ot>>>0<ze+we[Fe+4>>2]>>>0)break d;if(!(Fe=we[Fe+8>>2]))break}if((0|(ze=Ia(0)))==-1||(tn=it,(Fe=(Ot=we[523])-1|0)&ze&&(tn=(it-ze|0)+(Fe+ze&0-Ot)|0),tn>>>0<=Ln>>>0|tn>>>0>2147483646)||(Ot=we[514])&&Ot>>>0<(xn=(Fe=we[512])+tn|0)>>>0|Fe>>>0>=xn>>>0)break r;if((0|ze)!=(0|(Fe=Ia(tn))))break a;break i}if((tn=xn&Rr-hr)>>>0>2147483646)break r;if((0|(ze=Ia(tn)))==(we[Fe>>2]+we[Fe+4>>2]|0))break c;Fe=ze}if(!((0|Fe)==-1|Ln+48>>>0<=tn>>>0)){if((ze=(ze=we[524])+(yr-tn|0)&0-ze)>>>0>2147483646){ze=Fe;break i}if((0|Ia(ze))!=-1){tn=ze+tn|0,ze=Fe;break i}Ia(0-tn|0);break r}if(ze=Fe,(0|Fe)!=-1)break i;break r}xn=0;break t}ze=0;break n}if((0|ze)!=-1)break i}we[515]=4|we[515]}if(it>>>0>2147483646||(0|(ze=Ia(it)))==-1|(0|(Fe=Ia(0)))==-1|Fe>>>0<=ze>>>0||(tn=Fe-ze|0)>>>0<=Ln+40>>>0)break o}Fe=we[512]+tn|0,we[512]=Fe,Fe>>>0>Vo[513]&&(we[513]=Fe);i:{l:{r:{if(yr=we[410]){for(Fe=2064;;){if(((Ot=we[Fe>>2])+(it=we[Fe+4>>2])|0)==(0|ze))break r;if(!(Fe=we[Fe+8>>2]))break}break l}for((Fe=we[408])>>>0<=ze>>>0&&Fe||(we[408]=ze),Fe=0,we[517]=tn,we[516]=ze,we[412]=-1,we[413]=we[522],we[519]=0;it=1656+(Ot=Fe<<3)|0,we[Ot+1664>>2]=it,we[Ot+1668>>2]=it,(0|(Fe=Fe+1|0))!=32;);it=(Ot=tn-40|0)-(Fe=ze+8&7?-8-ze&7:0)|0,we[407]=it,Fe=Fe+ze|0,we[410]=Fe,we[Fe+4>>2]=1|it,we[4+(ze+Ot|0)>>2]=40,we[411]=we[526];break i}if(!(8&vi[Fe+12|0]|Ot>>>0>yr>>>0|ze>>>0<=yr>>>0)){we[Fe+4>>2]=it+tn,it=(Fe=yr+8&7?-8-yr&7:0)+yr|0,we[410]=it,Fe=(ze=we[407]+tn|0)-Fe|0,we[407]=Fe,we[it+4>>2]=1|Fe,we[4+(ze+yr|0)>>2]=40,we[411]=we[526];break i}}Vo[408]>ze>>>0&&(we[408]=ze),it=ze+tn|0,Fe=2064;l:{r:{c:{u:{s:{a:{for(;;){if((0|it)!=we[Fe>>2]){if(Fe=we[Fe+8>>2])continue;break a}break}if(!(8&vi[Fe+12|0]))break s}for(Fe=2064;;){if((it=we[Fe>>2])>>>0<=yr>>>0&&(xn=it+we[Fe+4>>2]|0)>>>0>yr>>>0)break u;Fe=we[Fe+8>>2]}}if(we[Fe>>2]=ze,we[Fe+4>>2]=we[Fe+4>>2]+tn,we[4+(Rr=(ze+8&7?-8-ze&7:0)+ze|0)>>2]=3|Ln,Ln=(tn=it+(it+8&7?-8-it&7:0)|0)-(hr=Ln+Rr|0)|0,(0|tn)==(0|yr)){we[410]=hr,Fe=we[407]+Ln|0,we[407]=Fe,we[hr+4>>2]=1|Fe;break r}if(we[409]==(0|tn)){we[409]=hr,Fe=we[406]+Ln|0,we[406]=Fe,we[hr+4>>2]=1|Fe,we[Fe+hr>>2]=Fe;break r}if((3&(Fe=we[tn+4>>2]))==1){xn=-8&Fe;s:if(Fe>>>0<=255){if(it=we[tn+8>>2],Fe=Fe>>>3|0,(0|(ze=we[tn+12>>2]))==(0|it)){we[404]=we[404]&Hr(Fe);break s}we[it+12>>2]=ze,we[ze+8>>2]=it}else{if(yr=we[tn+24>>2],(0|tn)==(0|(ze=we[tn+12>>2])))if((Ot=we[(Fe=tn+20|0)>>2])||(Ot=we[(Fe=tn+16|0)>>2])){for(;it=Fe,(Ot=we[(Fe=(ze=Ot)+20|0)>>2])||(Fe=ze+16|0,Ot=we[ze+16>>2]););we[it>>2]=0}else ze=0;else Fe=we[tn+8>>2],we[Fe+12>>2]=ze,we[ze+8>>2]=Fe;if(yr){it=we[tn+28>>2];a:{if(we[(Fe=1920+(it<<2)|0)>>2]==(0|tn)){if(we[Fe>>2]=ze,ze)break a;we[405]=we[405]&Hr(it);break s}if(we[yr+(we[yr+16>>2]==(0|tn)?16:20)>>2]=ze,!ze)break s}we[ze+24>>2]=yr,(Fe=we[tn+16>>2])&&(we[ze+16>>2]=Fe,we[Fe+24>>2]=ze),(Fe=we[tn+20>>2])&&(we[ze+20>>2]=Fe,we[Fe+24>>2]=ze)}}Ln=xn+Ln|0,tn=tn+xn|0}if(we[tn+4>>2]=-2&we[tn+4>>2],we[hr+4>>2]=1|Ln,we[Ln+hr>>2]=Ln,Ln>>>0<=255){ze=1656+((Fe=Ln>>>3|0)<<3)|0,(it=we[404])&(Fe=1<<Fe)?Fe=we[ze+8>>2]:(we[404]=Fe|it,Fe=ze),we[ze+8>>2]=hr,we[Fe+12>>2]=hr,we[hr+12>>2]=ze,we[hr+8>>2]=Fe;break r}if(Fe=31,Ln>>>0<=16777215&&(Fe=Ln>>>8|0,Fe<<=Ot=Fe+1048320>>>16&8,Fe=28+((Fe=((Fe<<=it=Fe+520192>>>16&4)<<(ze=Fe+245760>>>16&2)>>>15|0)-(ze|it|Ot)|0)<<1|Ln>>>Fe+21&1)|0),we[hr+28>>2]=Fe,we[hr+16>>2]=0,we[hr+20>>2]=0,Ot=1920+(Fe<<2)|0,(it=we[405])&(ze=1<<Fe)){for(Fe=Ln<<((0|Fe)==31?0:25-(Fe>>>1|0)|0),ze=we[Ot>>2];;){if(it=ze,(-8&we[ze+4>>2])==(0|Ln))break c;if(ze=Fe>>>29|0,Fe<<=1,!(ze=we[16+(Ot=it+(4&ze)|0)>>2]))break}we[Ot+16>>2]=hr,we[hr+24>>2]=it}else we[405]=ze|it,we[Ot>>2]=hr,we[hr+24>>2]=Ot;we[hr+12>>2]=hr,we[hr+8>>2]=hr;break r}for(it=(Ot=tn-40|0)-(Fe=ze+8&7?-8-ze&7:0)|0,we[407]=it,Fe=Fe+ze|0,we[410]=Fe,we[Fe+4>>2]=1|it,we[4+(ze+Ot|0)>>2]=40,we[411]=we[526],we[(it=(Fe=(xn+(xn-39&7?39-xn&7:0)|0)-47|0)>>>0<yr+16>>>0?yr:Fe)+4>>2]=27,Fe=we[519],we[it+16>>2]=we[518],we[it+20>>2]=Fe,Fe=we[517],we[it+8>>2]=we[516],we[it+12>>2]=Fe,we[518]=it+8,we[517]=tn,we[516]=ze,we[519]=0,Fe=it+24|0;we[Fe+4>>2]=7,ze=Fe+8|0,Fe=Fe+4|0,ze>>>0<xn>>>0;);if((0|it)==(0|yr))break i;if(we[it+4>>2]=-2&we[it+4>>2],xn=it-yr|0,we[yr+4>>2]=1|xn,we[it>>2]=xn,xn>>>0<=255){ze=1656+((Fe=xn>>>3|0)<<3)|0,(it=we[404])&(Fe=1<<Fe)?Fe=we[ze+8>>2]:(we[404]=Fe|it,Fe=ze),we[ze+8>>2]=yr,we[Fe+12>>2]=yr,we[yr+12>>2]=ze,we[yr+8>>2]=Fe;break i}if(Fe=31,we[yr+16>>2]=0,we[yr+20>>2]=0,xn>>>0<=16777215&&(Fe=xn>>>8|0,Fe<<=Ot=Fe+1048320>>>16&8,Fe=28+((Fe=((Fe<<=it=Fe+520192>>>16&4)<<(ze=Fe+245760>>>16&2)>>>15|0)-(ze|it|Ot)|0)<<1|xn>>>Fe+21&1)|0),we[yr+28>>2]=Fe,Ot=1920+(Fe<<2)|0,(it=we[405])&(ze=1<<Fe)){for(Fe=xn<<((0|Fe)==31?0:25-(Fe>>>1|0)|0),ze=we[Ot>>2];;){if(it=ze,(0|xn)==(-8&we[ze+4>>2]))break l;if(ze=Fe>>>29|0,Fe<<=1,!(ze=we[16+(Ot=it+(4&ze)|0)>>2]))break}we[Ot+16>>2]=yr,we[yr+24>>2]=it}else we[405]=ze|it,we[Ot>>2]=yr,we[yr+24>>2]=Ot;we[yr+12>>2]=yr,we[yr+8>>2]=yr;break i}Fe=we[it+8>>2],we[Fe+12>>2]=hr,we[it+8>>2]=hr,we[hr+24>>2]=0,we[hr+12>>2]=it,we[hr+8>>2]=Fe}Fe=Rr+8|0;break e}Fe=we[it+8>>2],we[Fe+12>>2]=yr,we[it+8>>2]=yr,we[yr+24>>2]=0,we[yr+12>>2]=it,we[yr+8>>2]=Fe}if(!((Fe=we[407])>>>0<=Ln>>>0)){ze=Fe-Ln|0,we[407]=ze,Fe=(it=we[410])+Ln|0,we[410]=Fe,we[Fe+4>>2]=1|ze,we[it+4>>2]=3|Ln,Fe=it+8|0;break e}}we[403]=48,Fe=0;break e}n:if(tn){it=we[xn+28>>2];o:{if(we[(Fe=1920+(it<<2)|0)>>2]==(0|xn)){if(we[Fe>>2]=ze,ze)break o;hr=Hr(it)&hr,we[405]=hr;break n}if(we[tn+(we[tn+16>>2]==(0|xn)?16:20)>>2]=ze,!ze)break n}we[ze+24>>2]=tn,(Fe=we[xn+16>>2])&&(we[ze+16>>2]=Fe,we[Fe+24>>2]=ze),(Fe=we[xn+20>>2])&&(we[ze+20>>2]=Fe,we[Fe+24>>2]=ze)}n:if(Ot>>>0<=15)Fe=Ot+Ln|0,we[xn+4>>2]=3|Fe,we[4+(Fe=Fe+xn|0)>>2]=1|we[Fe+4>>2];else if(we[xn+4>>2]=3|Ln,we[4+(tn=xn+Ln|0)>>2]=1|Ot,we[tn+Ot>>2]=Ot,Ot>>>0<=255)ze=1656+((Fe=Ot>>>3|0)<<3)|0,(it=we[404])&(Fe=1<<Fe)?Fe=we[ze+8>>2]:(we[404]=Fe|it,Fe=ze),we[ze+8>>2]=tn,we[Fe+12>>2]=tn,we[tn+12>>2]=ze,we[tn+8>>2]=Fe;else{Fe=31,Ot>>>0<=16777215&&(Fe=Ot>>>8|0,Fe<<=Rr=Fe+1048320>>>16&8,Fe=28+((Fe=((Fe<<=it=Fe+520192>>>16&4)<<(ze=Fe+245760>>>16&2)>>>15|0)-(ze|it|Rr)|0)<<1|Ot>>>Fe+21&1)|0),we[tn+28>>2]=Fe,we[tn+16>>2]=0,we[tn+20>>2]=0,ze=1920+(Fe<<2)|0;o:{if((it=1<<Fe)&hr){for(Fe=Ot<<((0|Fe)==31?0:25-(Fe>>>1|0)|0),it=we[ze>>2];;){if((-8&we[(ze=it)+4>>2])==(0|Ot))break o;if(it=Fe>>>29|0,Fe<<=1,!(it=we[16+(Rr=(4&it)+ze|0)>>2]))break}we[Rr+16>>2]=tn}else we[405]=it|hr,we[ze>>2]=tn;we[tn+24>>2]=ze,we[tn+12>>2]=tn,we[tn+8>>2]=tn;break n}Fe=we[ze+8>>2],we[Fe+12>>2]=tn,we[ze+8>>2]=tn,we[tn+24>>2]=0,we[tn+12>>2]=ze,we[tn+8>>2]=Fe}Fe=xn+8|0;break e}t:if(hr){it=we[ze+28>>2];n:{if(we[(Fe=1920+(it<<2)|0)>>2]==(0|ze)){if(we[Fe>>2]=xn,xn)break n;we[405]=Hr(it)&yr;break t}if(we[hr+(we[hr+16>>2]==(0|ze)?16:20)>>2]=xn,!xn)break t}we[xn+24>>2]=hr,(Fe=we[ze+16>>2])&&(we[xn+16>>2]=Fe,we[Fe+24>>2]=xn),(Fe=we[ze+20>>2])&&(we[xn+20>>2]=Fe,we[Fe+24>>2]=xn)}Ot>>>0<=15?(Fe=Ot+Ln|0,we[ze+4>>2]=3|Fe,we[4+(Fe=Fe+ze|0)>>2]=1|we[Fe+4>>2]):(we[ze+4>>2]=3|Ln,we[4+(xn=ze+Ln|0)>>2]=1|Ot,we[Ot+xn>>2]=Ot,Qi&&(it=1656+((Fe=Qi>>>3|0)<<3)|0,Rr=we[409],(Fe=1<<Fe)&tn?Fe=we[it+8>>2]:(we[404]=Fe|tn,Fe=it),we[it+8>>2]=Rr,we[Fe+12>>2]=Rr,we[Rr+12>>2]=it,we[Rr+8>>2]=Fe),we[409]=xn,we[406]=Ot),Fe=ze+8|0}return mo=at+16|0,0|Fe}function jo(Fe){var at=0,ze=0,it=0,Ot=0,tn=0,xn=0,Ln=0;e:if(Fe){tn=(it=Fe-8|0)+(Fe=-8&(at=we[Fe-4>>2]))|0;t:if(!(1&at)){if(!(3&at)||(it=it-(at=we[it>>2])|0)>>>0<Vo[408])break e;if(Fe=Fe+at|0,we[409]==(0|it)){if((3&(at=we[tn+4>>2]))==3)return we[406]=Fe,we[tn+4>>2]=-2&at,we[it+4>>2]=1|Fe,void(we[Fe+it>>2]=Fe)}else{if(at>>>0<=255){if(Ot=we[it+8>>2],at=at>>>3|0,(0|(ze=we[it+12>>2]))==(0|Ot)){we[404]=we[404]&Hr(at);break t}we[Ot+12>>2]=ze,we[ze+8>>2]=Ot;break t}if(Ln=we[it+24>>2],(0|it)==(0|(at=we[it+12>>2])))if((ze=we[(Ot=it+20|0)>>2])||(ze=we[(Ot=it+16|0)>>2])){for(;xn=Ot,(ze=we[(Ot=(at=ze)+20|0)>>2])||(Ot=at+16|0,ze=we[at+16>>2]););we[xn>>2]=0}else at=0;else ze=we[it+8>>2],we[ze+12>>2]=at,we[at+8>>2]=ze;if(!Ln)break t;Ot=we[it+28>>2];n:{if(we[(ze=1920+(Ot<<2)|0)>>2]==(0|it)){if(we[ze>>2]=at,at)break n;we[405]=we[405]&Hr(Ot);break t}if(we[Ln+(we[Ln+16>>2]==(0|it)?16:20)>>2]=at,!at)break t}if(we[at+24>>2]=Ln,(ze=we[it+16>>2])&&(we[at+16>>2]=ze,we[ze+24>>2]=at),!(ze=we[it+20>>2]))break t;we[at+20>>2]=ze,we[ze+24>>2]=at}}if(!(it>>>0>=tn>>>0)&&1&(at=we[tn+4>>2])){t:{if(!(2&at)){if(we[410]==(0|tn)){if(we[410]=it,Fe=we[407]+Fe|0,we[407]=Fe,we[it+4>>2]=1|Fe,we[409]!=(0|it))break e;return we[406]=0,void(we[409]=0)}if(we[409]==(0|tn))return we[409]=it,Fe=we[406]+Fe|0,we[406]=Fe,we[it+4>>2]=1|Fe,void(we[Fe+it>>2]=Fe);Fe=(-8&at)+Fe|0;n:if(at>>>0<=255){if(Ot=we[tn+8>>2],at=at>>>3|0,(0|(ze=we[tn+12>>2]))==(0|Ot)){we[404]=we[404]&Hr(at);break n}we[Ot+12>>2]=ze,we[ze+8>>2]=Ot}else{if(Ln=we[tn+24>>2],(0|tn)==(0|(at=we[tn+12>>2])))if((ze=we[(Ot=tn+20|0)>>2])||(ze=we[(Ot=tn+16|0)>>2])){for(;xn=Ot,(ze=we[(Ot=(at=ze)+20|0)>>2])||(Ot=at+16|0,ze=we[at+16>>2]););we[xn>>2]=0}else at=0;else ze=we[tn+8>>2],we[ze+12>>2]=at,we[at+8>>2]=ze;if(Ln){Ot=we[tn+28>>2];o:{if(we[(ze=1920+(Ot<<2)|0)>>2]==(0|tn)){if(we[ze>>2]=at,at)break o;we[405]=we[405]&Hr(Ot);break n}if(we[Ln+(we[Ln+16>>2]==(0|tn)?16:20)>>2]=at,!at)break n}we[at+24>>2]=Ln,(ze=we[tn+16>>2])&&(we[at+16>>2]=ze,we[ze+24>>2]=at),(ze=we[tn+20>>2])&&(we[at+20>>2]=ze,we[ze+24>>2]=at)}}if(we[it+4>>2]=1|Fe,we[Fe+it>>2]=Fe,we[409]!=(0|it))break t;return void(we[406]=Fe)}we[tn+4>>2]=-2&at,we[it+4>>2]=1|Fe,we[Fe+it>>2]=Fe}if(Fe>>>0<=255)return at=1656+((Fe=Fe>>>3|0)<<3)|0,(ze=we[404])&(Fe=1<<Fe)?Fe=we[at+8>>2]:(we[404]=Fe|ze,Fe=at),we[at+8>>2]=it,we[Fe+12>>2]=it,we[it+12>>2]=at,void(we[it+8>>2]=Fe);Ot=31,we[it+16>>2]=0,we[it+20>>2]=0,Fe>>>0<=16777215&&(at=Fe>>>8|0,at<<=xn=at+1048320>>>16&8,Ot=28+((at=((at<<=Ot=at+520192>>>16&4)<<(ze=at+245760>>>16&2)>>>15|0)-(ze|Ot|xn)|0)<<1|Fe>>>at+21&1)|0),we[it+28>>2]=Ot,xn=1920+(Ot<<2)|0;t:{n:{if((ze=we[405])&(at=1<<Ot)){for(Ot=Fe<<((0|Ot)==31?0:25-(Ot>>>1|0)|0),at=we[xn>>2];;){if(ze=at,(-8&we[at+4>>2])==(0|Fe))break n;if(at=Ot>>>29|0,Ot<<=1,!(at=we[16+(xn=ze+(4&at)|0)>>2]))break}we[xn+16>>2]=it,we[it+24>>2]=ze}else we[405]=at|ze,we[xn>>2]=it,we[it+24>>2]=xn;we[it+12>>2]=it,we[it+8>>2]=it;break t}Fe=we[ze+8>>2],we[Fe+12>>2]=it,we[ze+8>>2]=it,we[it+24>>2]=0,we[it+12>>2]=ze,we[it+8>>2]=Fe}Fe=we[412]-1|0,we[412]=Fe||-1}}}function es(Fe,at,ze){var it,Ot=0,tn=0;if(ze>>>0>=512)return Aa(0|Fe,0|at,0|ze),Fe;it=Fe+ze|0;e:if(3&(Fe^at))if(it>>>0<4)ze=Fe;else if((Ot=it-4|0)>>>0<Fe>>>0)ze=Fe;else for(ze=Fe;ni[0|ze]=vi[0|at],ni[ze+1|0]=vi[at+1|0],ni[ze+2|0]=vi[at+2|0],ni[ze+3|0]=vi[at+3|0],at=at+4|0,Ot>>>0>=(ze=ze+4|0)>>>0;);else{t:if(3&Fe)if(ze)for(ze=Fe;;){if(ni[0|ze]=vi[0|at],at=at+1|0,!(3&(ze=ze+1|0)))break t;if(!(ze>>>0<it>>>0))break}else ze=Fe;else ze=Fe;if(!((Ot=-4&it)>>>0<64||(tn=Ot+-64|0)>>>0<ze>>>0))for(;we[ze>>2]=we[at>>2],we[ze+4>>2]=we[at+4>>2],we[ze+8>>2]=we[at+8>>2],we[ze+12>>2]=we[at+12>>2],we[ze+16>>2]=we[at+16>>2],we[ze+20>>2]=we[at+20>>2],we[ze+24>>2]=we[at+24>>2],we[ze+28>>2]=we[at+28>>2],we[ze+32>>2]=we[at+32>>2],we[ze+36>>2]=we[at+36>>2],we[ze+40>>2]=we[at+40>>2],we[ze+44>>2]=we[at+44>>2],we[ze+48>>2]=we[at+48>>2],we[ze+52>>2]=we[at+52>>2],we[ze+56>>2]=we[at+56>>2],we[ze+60>>2]=we[at+60>>2],at=at- -64|0,tn>>>0>=(ze=ze- -64|0)>>>0;);if(ze>>>0>=Ot>>>0)break e;for(;we[ze>>2]=we[at>>2],at=at+4|0,Ot>>>0>(ze=ze+4|0)>>>0;);}if(ze>>>0<it>>>0)for(;ni[0|ze]=vi[0|at],at=at+1|0,(0|it)!=(0|(ze=ze+1|0)););return Fe}function As(Fe,at){var ze=0;if(at&&(ni[0|Fe]=0,ni[(ze=Fe+at|0)-1|0]=0,!(at>>>0<3||(ni[Fe+2|0]=0,ni[Fe+1|0]=0,ni[ze-3|0]=0,ni[ze-2|0]=0,at>>>0<7||(ni[Fe+3|0]=0,ni[ze-4|0]=0,at>>>0<9||(we[(Fe=(ze=0-Fe&3)+Fe|0)>>2]=0,we[(at=(ze=at-ze&-4)+Fe|0)-4>>2]=0,ze>>>0<9||(we[Fe+8>>2]=0,we[Fe+4>>2]=0,we[at-8>>2]=0,we[at-12>>2]=0,ze>>>0<25||(we[Fe+24>>2]=0,we[Fe+20>>2]=0,we[Fe+16>>2]=0,we[Fe+12>>2]=0,we[at-16>>2]=0,we[at-20>>2]=0,we[at-24>>2]=0,we[at-28>>2]=0,(at=(at=ze)-(ze=4&Fe|24)|0)>>>0<32))))))))for(Fe=Fe+ze|0;we[Fe+24>>2]=0,we[Fe+28>>2]=0,we[Fe+16>>2]=0,we[Fe+20>>2]=0,we[Fe+8>>2]=0,we[Fe+12>>2]=0,we[Fe>>2]=0,we[Fe+4>>2]=0,Fe=Fe+32|0,(at=at-32|0)>>>0>31;);}function ea(Fe){var at,ze=0,it=0,Ot=0;at=0|Qo(8),we[at>>2]=1348,we[at>>2]=1392;e:{t:{if(3&(ze=Fe))for(;;){if(!vi[0|ze])break t;if(!(3&(ze=ze+1|0)))break}for(;it=ze,ze=ze+4|0,!((-1^(Ot=we[it>>2]))&Ot-16843009&-2139062144););if(ze=it-Fe|0,!(255&Ot))break e;for(;Ot=vi[it+1|0],it=ze=it+1|0,Ot;);}ze=ze-Fe|0}it=Ba(ze+13|0),we[it+8>>2]=0,we[it+4>>2]=ze,we[it>>2]=ze,we[at+4>>2]=es(it+12|0,Fe,ze+1|0),we[at>>2]=1440,sa(0|at,1472,1),pa()}function ms(Fe,at,ze,it){ni[Fe+53|0]=1;e:if(we[Fe+4>>2]==(0|ze)){ni[Fe+52|0]=1;t:{if(!(ze=we[Fe+16>>2])){if(we[Fe+36>>2]=1,we[Fe+24>>2]=it,we[Fe+16>>2]=at,(0|it)!=1)break e;if(we[Fe+48>>2]==1)break t;break e}if((0|at)==(0|ze)){if((0|(ze=we[Fe+24>>2]))==2&&(we[Fe+24>>2]=it,ze=it),we[Fe+48>>2]!=1)break e;if((0|ze)==1)break t;break e}we[Fe+36>>2]=we[Fe+36>>2]+1}ni[Fe+54|0]=1}}function Wo(Fe,at,ze){var it=0;if(!ze)return we[Fe+4>>2]==we[at+4>>2];if((0|Fe)==(0|at))return 1;it=we[Fe+4>>2],Fe=vi[0|it],ze=we[at+4>>2];e:if(!(!Fe|(0|(at=vi[0|ze]))!=(0|Fe)))for(;;){if(at=vi[ze+1|0],!(Fe=vi[it+1|0]))break e;if(ze=ze+1|0,it=it+1|0,(0|Fe)!=(0|at))break}return(0|Fe)==(0|at)}function La(Fe,at,ze){var it;if(!(it=we[Fe+16>>2]))return we[Fe+36>>2]=1,we[Fe+24>>2]=ze,void(we[Fe+16>>2]=at);e:{if((0|at)==(0|it)){if(we[Fe+24>>2]!=2)break e;return void(we[Fe+24>>2]=ze)}ni[Fe+54|0]=1,we[Fe+24>>2]=2,we[Fe+36>>2]=we[Fe+36>>2]+1}}function Ia(Fe){var at,ze;return(Fe=(at=we[377])+(ze=Fe+3&-4)|0)>>>0<=at>>>0&&ze||Fe>>>0>(fo.byteLength/65536|0)<<16>>>0&&!(0|ps(0|Fe))?(we[403]=48,-1):(we[377]=Fe,at)}function Ba(Fe){var at=0;Fe=Fe||1;e:{for(;;){if(at=Ra(Fe))break e;if(!(at=we[528]))break;Ci[0|at]()}fs(),pa()}return at}function Li(Fe){var at,ze;return we[(Fe|=0)>>2]=1392,at=we[Fe+4>>2]-12|0,ze=we[at+8>>2]-1|0,we[at+8>>2]=ze,(0|ze)<0&&jo(at),0|Fe}function Hr(Fe){var at;return(-1>>>(at=31&Fe)&-2)<<at|(-1<<(Fe=0-Fe&31)&-2)>>>Fe}function ka(Fe){(Fe|=0)&&jo(Fe)}function gs(Fe){Li(Fe|=0),jo(Fe)}function Ps(Fe){return 0|Fe}function _s(Fe){jo(Fe|=0)}function Oo(Fe){}Qa(Ri=vi,1024,"dmVjdG9yAHN0ZDo6ZXhjZXB0aW9uAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAOgEAABaBAAA3AUAAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAAOgEAACIBAAAfAQAAAAAAACsBAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAAAAAAMAUAAAIAAAAKAAAABAAAAAUAAAAGAAAACwAAAAwAAAANAAAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAAOgEAAAIBQAArAQAAAAAAABgBQAADgAAAA8AAAAQAAAAU3Q5ZXhjZXB0aW9uAAAAAMAEAABQBQAAAAAAAIwFAAABAAAAEQAAABIAAABTdDExbG9naWNfZXJyb3IA6AQAAHwFAABgBQAAAAAAAMAFAAABAAAAEwAAABIAAABTdDEybGVuZ3RoX2Vycm9yAAAAAOgEAACsBQAAjAUAAFN0OXR5cGVfaW5mbwAAAADABAAAzAU="),Qa(Ri,1508,"UAhQ");var Ci=function(Fe){return Fe.grow=function(at){var ze=this.length;return this.length=this.length+at,ze},Fe.set=function(at,ze){this[at]=ze},Fe.get=function(at){return this[at]},Fe}([null,Li,Ps,_s,Oo,Oo,function(Fe,at,ze){ze|=0;var it,Ot=0,tn=0,xn=0,Ln=0;if(mo=it=mo+-64|0,Ot=1,!Wo(Fe|=0,at|=0,0)&&(Ot=0,at)){mo=Ot=mo+-64|0,tn=we[at>>2],xn=we[tn-4>>2],Ln=we[tn-8>>2],we[Ot+20>>2]=0,we[Ot+16>>2]=1148,we[Ot+12>>2]=at,we[Ot+8>>2]=1196,tn=0,As(Ot+24|0,39),at=at+Ln|0;e:if(Wo(xn,1196,0))we[Ot+56>>2]=1,Ci[we[we[xn>>2]+20>>2]](xn,Ot+8|0,at,at,1,0),tn=we[Ot+32>>2]==1?at:0;else{Ci[we[we[xn>>2]+24>>2]](xn,Ot+8|0,at,1,0);t:switch(we[Ot+44>>2]){case 0:tn=we[Ot+48>>2]==1&&we[Ot+36>>2]==1&&we[Ot+40>>2]==1?we[Ot+28>>2]:0;break e;case 1:break t;default:break e}we[Ot+32>>2]!=1&&we[Ot+48>>2]|we[Ot+36>>2]!=1|we[Ot+40>>2]!=1||(tn=we[Ot+24>>2])}mo=Ot- -64|0,Ot=0,tn&&(As(4|(at=it+8|0),52),we[it+56>>2]=1,we[it+20>>2]=-1,we[it+16>>2]=Fe,we[it+8>>2]=tn,Ci[we[we[tn>>2]+28>>2]](tn,at,we[ze>>2],1),(0|(Fe=we[it+32>>2]))==1&&(we[ze>>2]=we[it+24>>2]),Ot=(0|Fe)==1)}return mo=it- -64|0,0|Ot},function(Fe,at,ze,it,Ot,tn){ze|=0,it|=0,Ot|=0,tn|=0,Wo(Fe|=0,we[8+(at|=0)>>2],tn)&&ms(at,ze,it,Ot)},function(Fe,at,ze,it,Ot){if(ze|=0,it|=0,Ot|=0,Wo(Fe|=0,we[8+(at|=0)>>2],Ot))we[at+28>>2]==1|we[at+4>>2]!=(0|ze)||(we[at+28>>2]=it);else e:if(Wo(Fe,we[at>>2],Ot)){if(!(we[at+16>>2]!=(0|ze)&we[at+20>>2]!=(0|ze))){if((0|it)!=1)break e;return void(we[at+32>>2]=1)}we[at+20>>2]=ze,we[at+32>>2]=it,we[at+40>>2]=we[at+40>>2]+1,we[at+36>>2]!=1|we[at+24>>2]!=2||(ni[at+54|0]=1),we[at+44>>2]=4}},function(Fe,at,ze,it){ze|=0,it|=0,Wo(Fe|=0,we[8+(at|=0)>>2],0)&&La(at,ze,it)},_s,function(Fe,at,ze,it,Ot,tn){ze|=0,it|=0,Ot|=0,tn|=0,Wo(Fe|=0,we[8+(at|=0)>>2],tn)?ms(at,ze,it,Ot):(Fe=we[Fe+8>>2],Ci[we[we[Fe>>2]+20>>2]](Fe,at,ze,it,Ot,tn))},function(Fe,at,ze,it,Ot){if(ze|=0,it|=0,Ot|=0,Wo(Fe|=0,we[8+(at|=0)>>2],Ot))we[at+28>>2]==1|we[at+4>>2]!=(0|ze)||(we[at+28>>2]=it);else e:{if(Wo(Fe,we[at>>2],Ot)){if(!(we[at+16>>2]!=(0|ze)&we[at+20>>2]!=(0|ze))){if((0|it)!=1)break e;return void(we[at+32>>2]=1)}we[at+32>>2]=it;t:if(we[at+44>>2]!=4){if(Po[at+52>>1]=0,Fe=we[Fe+8>>2],Ci[we[we[Fe>>2]+20>>2]](Fe,at,ze,ze,1,Ot),vi[at+53|0]){if(we[at+44>>2]=3,!vi[at+52|0])break t;break e}we[at+44>>2]=4}if(we[at+20>>2]=ze,we[at+40>>2]=we[at+40>>2]+1,we[at+36>>2]!=1|we[at+24>>2]!=2)break e;return void(ni[at+54|0]=1)}Fe=we[Fe+8>>2],Ci[we[we[Fe>>2]+24>>2]](Fe,at,ze,it,Ot)}},function(Fe,at,ze,it){ze|=0,it|=0,Wo(Fe|=0,we[8+(at|=0)>>2],0)?La(at,ze,it):(Fe=we[Fe+8>>2],Ci[we[we[Fe>>2]+28>>2]](Fe,at,ze,it))},Ps,_s,function(Fe){return 1031},gs,function(Fe){return we[4+(Fe|=0)>>2]},gs]);return{g:function(){},h:ka,i:function(){var Fe;return Fe=Ba(24),we[Fe>>2]=0,we[Fe+4>>2]=0,we[Fe+16>>2]=0,we[Fe+20>>2]=0,we[Fe+8>>2]=0,we[Fe+12>>2]=0,0|Fe},j:function(Fe,at,ze){var it;return Fe=+Fe,at=+at,ze=+ze,it=Ba(24),xr[it+16>>3]=ze,xr[it+8>>3]=at,xr[it>>3]=Fe,0|it},k:function(Fe,at){at|=0,xr[(Fe|=0)>>3]=xr[Fe>>3]+xr[at>>3],xr[Fe+8>>3]=xr[Fe+8>>3]+xr[at+8>>3],xr[Fe+16>>3]=xr[Fe+16>>3]+xr[at+16>>3]},l:function(Fe,at){at|=0,xr[(Fe|=0)>>3]=xr[Fe>>3]-xr[at>>3],xr[Fe+8>>3]=xr[Fe+8>>3]-xr[at+8>>3],xr[Fe+16>>3]=xr[Fe+16>>3]-xr[at+16>>3]},m:function(Fe){return+xr[(Fe|=0)>>3]},n:function(Fe,at){at=+at,xr[(Fe|=0)>>3]=at},o:function(Fe){return+xr[8+(Fe|=0)>>3]},p:function(Fe,at){at=+at,xr[8+(Fe|=0)>>3]=at},q:function(Fe){return+xr[16+(Fe|=0)>>3]},r:function(Fe,at){at=+at,xr[16+(Fe|=0)>>3]=at},s:ka,t:function(){var Fe;return Fe=Ba(12),we[Fe+8>>2]=0,we[Fe>>2]=0,we[Fe+4>>2]=0,0|Fe},u:function(Fe,at){at|=0;var ze=0,it=0,Ot=0,tn=0,xn=0,Ln=0;e:if((0|(ze=we[4+(Fe|=0)>>2]))==we[Fe+8>>2]){t:{if((Ot=1+(ze=(0|(Ln=ze-(it=we[Fe>>2])|0))/24|0)|0)>>>0<178956971){if(tn=ze<<1,Ot=ze>>>0<89478485?Ot>>>0<tn>>>0?tn:Ot:178956970){if(Ot>>>0>=178956971)break t;tn=Ba(Bo(Ot,24))}else tn=0;ze=tn+Bo(ze,24)|0,xn=we[at+4>>2],we[ze>>2]=we[at>>2],we[ze+4>>2]=xn,xn=we[at+20>>2],we[ze+16>>2]=we[at+16>>2],we[ze+20>>2]=xn,xn=we[at+12>>2],we[ze+8>>2]=we[at+8>>2],we[ze+12>>2]=xn,at=ze+Bo((0|Ln)/-24|0,24)|0,(0|Ln)>0&&es(at,it,Ln),we[Fe+8>>2]=tn+Bo(Ot,24),we[Fe+4>>2]=ze+24,we[Fe>>2]=at,it&&jo(it);break e}ea(1024),pa()}ea(1046),pa()}else it=we[at+4>>2],we[ze>>2]=we[at>>2],we[ze+4>>2]=it,it=we[at+20>>2],we[ze+16>>2]=we[at+16>>2],we[ze+20>>2]=it,it=we[at+12>>2],we[ze+8>>2]=we[at+8>>2],we[ze+12>>2]=it,we[Fe+4>>2]=ze+24},v:function(Fe){var at=0;(Fe|=0)&&((at=we[Fe>>2])&&(we[Fe+4>>2]=at,jo(at)),jo(Fe))},w:function(){return 0|Ba(1)},x:function(Fe,at){Fe|=0;var ze=0,it=0,Ot=0,tn=0,xn=0,Ln=0,yr=0,hr=0,Rr=0,Qi=0,Ga=0,ho=0;if(Fe=we[(at|=0)>>2],(it=(0|(Ot=we[at+4>>2]-Fe|0))/24|0)>>>0>=2){if(!(Ot-24>>>0<24)){if(ze=xr[Fe+8>>3],at=1,Ga=1&(it=it-1|0),xn=xr[Fe>>3],Ot-48>>>0<24)Ln=ze;else for(ho=-2&it,it=0,yr=xn,hr=ze;Ot=Fe+Bo(at,24)|0,tn=.5*((xn=xr[Ot+24>>3])-(Rr=xr[Ot>>3]))*((Qi=xr[Ot+8>>3]-ze)+((Ln=xr[Ot+32>>3])-ze))+(.5*(Rr-yr)*(hr-ze+Qi)+tn),at=at+2|0,yr=xn,hr=Ln,(0|ho)!=(0|(it=it+2|0)););Ga&&(Fe=Fe+Bo(at,24)|0,tn=.5*(xr[Fe>>3]-xn)*(Ln-ze+(xr[Fe+8>>3]-ze))+tn)}ze=tn<0?-tn:tn}else ze=0;return+ze},y:function(Fe,at,ze){Fe|=0,at|=0;var it,Ot=0,tn=0,xn=0,Ln=0,yr=0,hr=0,Rr=0;if((it=((Fe=we[4+(ze|=0)>>2])-(ze=we[ze>>2])|0)/24|0)>>>0>=3)for(Fe=it-1|0,Ot=xr[at+8>>3],Rr=xr[at>>3],at=0;Ln=ze+Bo(Fe,24)|0,xn=xr[Ln+8>>3],Fe=at,at=ze+Bo(at,24)|0,!(Ot<xn&(tn=xr[at+8>>3])<=Ot)&(!(Ot>=xn)|!(Ot<tn))||Rr-(yr=xr[at>>3])<(Ot-tn)*(xr[Ln>>3]-yr)/(xn-tn)&&(hr^=1),(0|it)!=(0|(at=Fe+1|0)););return 1&hr},z:ka,A:Ci,B:Ra}}(Ti)}(tt)}})}}}).then(function(Oi){return Oi}).then(ui,function(Oi){le("failed to asynchronously prepare wasm: "+Oi),rt(Oi)})}var Yr={a:tt};if(Le++,i.monitorRunDependencies&&i.monitorRunDependencies(Le),i.instantiateWasm)try{return i.instantiateWasm(Yr,Ut)}catch(ui){return le("Module.instantiateWasm callback failed with error: "+ui),!1}(ie||typeof he.instantiateStreaming!="function"||We.startsWith(xt)||We.startsWith("file://")||typeof fetch!="function"?ar(Dn):fetch(We,{credentials:"same-origin"}).then(function(ui){return he.instantiateStreaming(ui,Yr).then(Dn,function(Oi){return le("wasm streaming compile failed: "+Oi),le("falling back to ArrayBuffer instantiation"),ar(Dn)})})).catch(l)})(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.g).apply(null,arguments)};var Ve,Ze=i._emscripten_bind_VoidPtr___destroy___0=function(){return(Ze=i._emscripten_bind_VoidPtr___destroy___0=i.asm.h).apply(null,arguments)},Ne=i._emscripten_bind_McGePoint3d_McGePoint3d_0=function(){return(Ne=i._emscripten_bind_McGePoint3d_McGePoint3d_0=i.asm.i).apply(null,arguments)},qe=i._emscripten_bind_McGePoint3d_McGePoint3d_3=function(){return(qe=i._emscripten_bind_McGePoint3d_McGePoint3d_3=i.asm.j).apply(null,arguments)},lt=i._emscripten_bind_McGePoint3d_op_add_1=function(){return(lt=i._emscripten_bind_McGePoint3d_op_add_1=i.asm.k).apply(null,arguments)},vt=i._emscripten_bind_McGePoint3d_op_sub_1=function(){return(vt=i._emscripten_bind_McGePoint3d_op_sub_1=i.asm.l).apply(null,arguments)},bt=i._emscripten_bind_McGePoint3d_get_x_0=function(){return(bt=i._emscripten_bind_McGePoint3d_get_x_0=i.asm.m).apply(null,arguments)},nt=i._emscripten_bind_McGePoint3d_set_x_1=function(){return(nt=i._emscripten_bind_McGePoint3d_set_x_1=i.asm.n).apply(null,arguments)},Nt=i._emscripten_bind_McGePoint3d_get_y_0=function(){return(Nt=i._emscripten_bind_McGePoint3d_get_y_0=i.asm.o).apply(null,arguments)},kt=i._emscripten_bind_McGePoint3d_set_y_1=function(){return(kt=i._emscripten_bind_McGePoint3d_set_y_1=i.asm.p).apply(null,arguments)},Qt=i._emscripten_bind_McGePoint3d_get_z_0=function(){return(Qt=i._emscripten_bind_McGePoint3d_get_z_0=i.asm.q).apply(null,arguments)},gt=i._emscripten_bind_McGePoint3d_set_z_1=function(){return(gt=i._emscripten_bind_McGePoint3d_set_z_1=i.asm.r).apply(null,arguments)},Dt=i._emscripten_bind_McGePoint3d___destroy___0=function(){return(Dt=i._emscripten_bind_McGePoint3d___destroy___0=i.asm.s).apply(null,arguments)},zt=i._emscripten_bind_McGePoint3dArray_McGePoint3dArray_0=function(){return(zt=i._emscripten_bind_McGePoint3dArray_McGePoint3dArray_0=i.asm.t).apply(null,arguments)},et=i._emscripten_bind_McGePoint3dArray_append_1=function(){return(et=i._emscripten_bind_McGePoint3dArray_append_1=i.asm.u).apply(null,arguments)},sn=i._emscripten_bind_McGePoint3dArray___destroy___0=function(){return(sn=i._emscripten_bind_McGePoint3dArray___destroy___0=i.asm.v).apply(null,arguments)},bn=i._emscripten_bind_McGeTool_McGeTool_0=function(){return(bn=i._emscripten_bind_McGeTool_McGeTool_0=i.asm.w).apply(null,arguments)},Fn=i._emscripten_bind_McGeTool_calcArea_1=function(){return(Fn=i._emscripten_bind_McGeTool_calcArea_1=i.asm.x).apply(null,arguments)},St=i._emscripten_bind_McGeTool_pointInPolyline_2=function(){return(St=i._emscripten_bind_McGeTool_pointInPolyline_2=i.asm.y).apply(null,arguments)},dt=i._emscripten_bind_McGeTool___destroy___0=function(){return(dt=i._emscripten_bind_McGeTool___destroy___0=i.asm.z).apply(null,arguments)},At=i._malloc=function(){return(At=i._malloc=i.asm.B).apply(null,arguments)};function Xt(){function Ut(){if(!Ve&&(Ve=!0,i.calledRun=!0,!T)){if(Pe(_e),a(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var Dn=i.postRun.shift();xe.unshift(Dn)}Pe(xe)}}if(!(0<Le)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)De();Pe(Ae),0<Le||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),Ut()},1)):Ut())}}if(Ge=function Ut(){Ve||Xt(),Ve||(Ge=Ut)},i.run=Xt,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();function cn(){}function zn(Ut){return(Ut||cn).F}function Vr(Ut,Dn){var ar=zn(Dn),Yr=ar[Ut];return Yr||((Yr=Object.create((Dn||cn).prototype)).C=Ut,ar[Ut]=Yr)}function Un(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Mn(Ut,Dn,ar){Ut&&typeof Ut=="object"&&(Ut=Ut.C),Dn&&typeof Dn=="object"&&(Dn=Dn.C),ar&&typeof ar=="object"&&(ar=ar.C),this.C=Ut===void 0?Ne():Dn===void 0?_emscripten_bind_McGePoint3d_McGePoint3d_1(Ut):ar===void 0?_emscripten_bind_McGePoint3d_McGePoint3d_2(Ut,Dn):qe(Ut,Dn,ar),zn(Mn)[this.C]=this}function jr(){this.C=zt(),zn(jr)[this.C]=this}function Bi(){this.C=bn(),zn(Bi)[this.C]=this}return Xt(),cn.prototype=Object.create(cn.prototype),cn.prototype.constructor=cn,cn.prototype.D=cn,cn.F={},i.WrapperObject=cn,i.getCache=zn,i.wrapPointer=Vr,i.castObject=function(Ut,Dn){return Vr(Ut.C,Dn)},i.NULL=Vr(0),i.destroy=function(Ut){if(!Ut.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";Ut.__destroy__(),delete zn(Ut.D)[Ut.C]},i.compare=function(Ut,Dn){return Ut.C===Dn.C},i.getPointer=function(Ut){return Ut.C},i.getClass=function(Ut){return Ut.D},Un.prototype=Object.create(cn.prototype),Un.prototype.constructor=Un,Un.prototype.D=Un,Un.F={},i.VoidPtr=Un,Un.prototype.__destroy__=function(){Ze(this.C)},Mn.prototype=Object.create(cn.prototype),Mn.prototype.constructor=Mn,Mn.prototype.D=Mn,Mn.F={},i.McGePoint3d=Mn,Mn.prototype.op_add=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),lt(Dn,Ut)},Mn.prototype.op_sub=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),vt(Dn,Ut)},Mn.prototype.get_x=Mn.prototype.H=function(){return bt(this.C)},Mn.prototype.set_x=Mn.prototype.R=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),nt(Dn,Ut)},Object.defineProperty(Mn.prototype,"x",{get:Mn.prototype.H,set:Mn.prototype.R}),Mn.prototype.get_y=Mn.prototype.I=function(){return Nt(this.C)},Mn.prototype.set_y=Mn.prototype.S=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),kt(Dn,Ut)},Object.defineProperty(Mn.prototype,"y",{get:Mn.prototype.I,set:Mn.prototype.S}),Mn.prototype.get_z=Mn.prototype.J=function(){return Qt(this.C)},Mn.prototype.set_z=Mn.prototype.T=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),gt(Dn,Ut)},Object.defineProperty(Mn.prototype,"z",{get:Mn.prototype.J,set:Mn.prototype.T}),Mn.prototype.__destroy__=function(){Dt(this.C)},jr.prototype=Object.create(cn.prototype),jr.prototype.constructor=jr,jr.prototype.D=jr,jr.F={},i.McGePoint3dArray=jr,jr.prototype.append=jr.prototype.append=function(Ut){var Dn=this.C;Ut&&typeof Ut=="object"&&(Ut=Ut.C),et(Dn,Ut)},jr.prototype.__destroy__=function(){sn(this.C)},Bi.prototype=Object.create(cn.prototype),Bi.prototype.constructor=Bi,Bi.prototype.D=Bi,Bi.F={},i.McGeTool=Bi,Bi.prototype.calcArea=function(Ut){var Dn=this.C;return Ut&&typeof Ut=="object"&&(Ut=Ut.C),Fn(Dn,Ut)},Bi.prototype.pointInPolyline=function(Ut,Dn){var ar=this.C;return Ut&&typeof Ut=="object"&&(Ut=Ut.C),Dn&&typeof Dn=="object"&&(Dn=Dn.C),!!St(ar,Ut,Dn)},Bi.prototype.__destroy__=function(){dt(this.C)},r.ready});return typeof exports=="object"&&typeof module=="object"?module.exports=t:typeof define=="function"&&define.amd?define([],function(){return t}):typeof exports=="object"&&(exports.mxcadassembly=t),t()}function loadMxcadAssembly(){mxcadassemblyinit().then(function(e){store.commit("setMxassembly",e)})}function _load(e){window.MxDocumentReady=void 0,window.MxUiMain=t=>{const r=t("./MxFun").MxFun;window.THREE=r.getTHREE(),store.commit("setMxFun",r),store.events.emit("MxUiMain",t),window.MxUiMain=void 0},window.MxMain=t=>(store.events.emit("MxMain",t),window.MxMain=void 0,registerMxDbEntity(),e(),0),mxfun(),loadMxcadAssembly()}async function loadCoreCode(){return new Promise(async(e,t)=>{try{if(store.state.MxFun)return console.warn("\u7A0B\u5E8F\u5DF2\u81EA\u52A8\u8C03\u7528loadCoreCode \u65E0\u9700\u4E3B\u52A8\u8C03\u7528 | The program has automatically called loadCoreCode without actively calling it"),void e();_load(e)}catch(r){t({code:"error",msg:r})}})}function createCanvas(e="mx-canvas"){const t=document.getElementById(e)||document.createElement("canvas");return t.id=e,t}function createCanvasParent(e=createCanvas()){let t;return e||(e=createCanvas()),e.parentNode?t=e.parentNode:((t=document.createElement("div")).style.height="80vh",t.appendChild(e)),t}async function dynamicImport(e){let t;switch(e){case"jquery":t=await dynamicImportJquery();break;case"element-resize-event-polyfill":t=await dynamicImportResize()}return t}async function dynamicImportResize(){try{const e=await Promise.resolve().then(function(){return elementResizeEventPolyfill_umd_min$2});return e.default?e.default:e}catch(e){console.log("import\u52A8\u6001\u5BFC\u5165\uFF1Aelement-resize-event-polyfill\u5931\u8D25\uFF01",e)}}async function dynamicImportJquery(){try{const e=await Promise.resolve().then(function(){return jquery$1$1});return e.default?e.default:e}catch(e){console.log("import\u52A8\u6001\u5BFC\u5165\uFF1Ajquery\u5931\u8D25\uFF01",e)}}window.$=window.jQuery=jquery$1,_load(()=>{});var lodash=createCommonjsModule(function(e,t){(function(){var r,i="Expected a function",a="__lodash_hash_undefined__",l="__lodash_placeholder__",c=16,d=32,E=64,C=128,D=256,f=1/0,A=9007199254740991,S=NaN,L=4294967295,N=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",d],["partialRight",E],["rearg",D]],G="[object Arguments]",ie="[object Array]",le="[object Boolean]",ae="[object Date]",he="[object Error]",pe="[object Function]",B="[object GeneratorFunction]",se="[object Map]",oe="[object Number]",O="[object Object]",T="[object Promise]",ce="[object RegExp]",fe="[object Set]",Ee="[object String]",Ae="[object Symbol]",_e="[object WeakMap]",xe="[object ArrayBuffer]",De="[object DataView]",Le="[object Float32Array]",Ge="[object Float64Array]",rt="[object Int8Array]",We="[object Int16Array]",xt="[object Int32Array]",Me="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Re="[object Uint32Array]",st=/\b__p \+= '';/g,It=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39);/g,Ve=/[&<>"']/g,Ze=RegExp(tt.source),Ne=RegExp(Ve.source),qe=/<%-([\s\S]+?)%>/g,lt=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Qt=RegExp(kt.source),gt=/^\s+/,Dt=/\s/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,sn=/,? & /,bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fn=/[()=,{}\[\]\/\s]/,St=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Xt=/^[-+]0x[0-9a-f]+$/i,cn=/^0b[01]+$/i,zn=/^\[object .+?Constructor\]$/,Vr=/^0o[0-7]+$/i,Un=/^(?:0|[1-9]\d*)$/,Mn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jr=/($^)/,Bi=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",Dn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ar="\\u2700-\\u27bf",Yr="a-z\\xdf-\\xf6\\xf8-\\xff",ui="A-Z\\xc0-\\xd6\\xd8-\\xde",Oi="\\ufe0e\\ufe0f",Ti="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ri="["+Ut+"]",lo="["+Ti+"]",Ki="["+Dn+"]",Qa="\\d+",No="["+ar+"]",fo="["+Yr+"]",ni="[^"+Ut+Ti+Qa+ar+Yr+ui+"]",Po="\\ud83c[\\udffb-\\udfff]",we="[^"+Ut+"]",vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Vo="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+ui+"]",Bo="\\u200d",pa="(?:"+fo+"|"+ni+")",ps="(?:"+xr+"|"+ni+")",fs="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Aa="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",sa="(?:"+Ki+"|"+Po+")?",Qo="["+Oi+"]?",mo=Qo+sa+"(?:"+Bo+"(?:"+[we,vi,Vo].join("|")+")"+Qo+sa+")*",Ra="(?:"+[No,vi,Vo].join("|")+")"+mo,jo="(?:"+[we+Ki+"?",Ki,vi,Vo,Ri].join("|")+")",es=RegExp("['\u2019]","g"),As=RegExp(Ki,"g"),ea=RegExp(Po+"(?="+Po+")|"+jo+mo,"g"),ms=RegExp([xr+"?"+fo+"+"+fs+"(?="+[lo,xr,"$"].join("|")+")",ps+"+"+Aa+"(?="+[lo,xr+pa,"$"].join("|")+")",xr+"?"+pa+"+"+fs,xr+"+"+Aa,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qa,Ra].join("|"),"g"),Wo=RegExp("["+Bo+Ut+Dn+Oi+"]"),La=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ia=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ba=-1,Li={};Li[Le]=Li[Ge]=Li[rt]=Li[We]=Li[xt]=Li[Me]=Li[Ue]=Li[Pe]=Li[Re]=!0,Li[G]=Li[ie]=Li[xe]=Li[le]=Li[De]=Li[ae]=Li[he]=Li[pe]=Li[se]=Li[oe]=Li[O]=Li[ce]=Li[fe]=Li[Ee]=Li[_e]=!1;var Hr={};Hr[G]=Hr[ie]=Hr[xe]=Hr[De]=Hr[le]=Hr[ae]=Hr[Le]=Hr[Ge]=Hr[rt]=Hr[We]=Hr[xt]=Hr[se]=Hr[oe]=Hr[O]=Hr[ce]=Hr[fe]=Hr[Ee]=Hr[Ae]=Hr[Me]=Hr[Ue]=Hr[Pe]=Hr[Re]=!0,Hr[he]=Hr[pe]=Hr[_e]=!1;var ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gs=parseFloat,Ps=parseInt,_s=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Oo=typeof self=="object"&&self&&self.Object===Object&&self,Ci=_s||Oo||Function("return this")(),Fe=t&&!t.nodeType&&t,at=Fe&&e&&!e.nodeType&&e,ze=at&&at.exports===Fe,it=ze&&_s.process,Ot=function(){try{return at&&at.require&&at.require("util").types||it&&it.binding&&it.binding("util")}catch{}}(),tn=Ot&&Ot.isArrayBuffer,xn=Ot&&Ot.isDate,Ln=Ot&&Ot.isMap,yr=Ot&&Ot.isRegExp,hr=Ot&&Ot.isSet,Rr=Ot&&Ot.isTypedArray;function Qi(Te,je,Xe){switch(Xe.length){case 0:return Te.call(je);case 1:return Te.call(je,Xe[0]);case 2:return Te.call(je,Xe[0],Xe[1]);case 3:return Te.call(je,Xe[0],Xe[1],Xe[2])}return Te.apply(je,Xe)}function Ga(Te,je,Xe,ht){for(var ot=-1,ct=Te==null?0:Te.length;++ot<ct;){var Yt=Te[ot];je(ht,Yt,Xe(Yt),Te)}return ht}function ho(Te,je){for(var Xe=-1,ht=Te==null?0:Te.length;++Xe<ht&&je(Te[Xe],Xe,Te)!==!1;);return Te}function Wa(Te,je){for(var Xe=-1,ht=Te==null?0:Te.length;++Xe<ht;)if(!je(Te[Xe],Xe,Te))return!1;return!0}function Ma(Te,je){for(var Xe=-1,ht=Te==null?0:Te.length,ot=0,ct=[];++Xe<ht;){var Yt=Te[Xe];je(Yt,Xe,Te)&&(ct[ot++]=Yt)}return ct}function Na(Te,je){return!(Te==null||!Te.length)&&go(Te,je,0)>-1}function Os(Te,je,Xe){for(var ht=-1,ot=Te==null?0:Te.length;++ht<ot;)if(Xe(je,Te[ht]))return!0;return!1}function Ii(Te,je){for(var Xe=-1,ht=Te==null?0:Te.length,ot=Array(ht);++Xe<ht;)ot[Xe]=je(Te[Xe],Xe,Te);return ot}function ta(Te,je){for(var Xe=-1,ht=je.length,ot=Te.length;++Xe<ht;)Te[ot+Xe]=je[Xe];return Te}function Fa(Te,je,Xe,ht){var ot=-1,ct=Te==null?0:Te.length;for(ht&&ct&&(Xe=Te[++ot]);++ot<ct;)Xe=je(Xe,Te[ot],ot,Te);return Xe}function $o(Te,je,Xe,ht){var ot=Te==null?0:Te.length;for(ht&&ot&&(Xe=Te[--ot]);ot--;)Xe=je(Xe,Te[ot],ot,Te);return Xe}function ts(Te,je){for(var Xe=-1,ht=Te==null?0:Te.length;++Xe<ht;)if(je(Te[Xe],Xe,Te))return!0;return!1}var Ws=Pi("length");function ai(Te,je,Xe){var ht;return Xe(Te,function(ot,ct,Yt){if(je(ot,ct,Yt))return ht=ct,!1}),ht}function Bn(Te,je,Xe,ht){for(var ot=Te.length,ct=Xe+(ht?1:-1);ht?ct--:++ct<ot;)if(je(Te[ct],ct,Te))return ct;return-1}function go(Te,je,Xe){return je==je?function(ht,ot,ct){for(var Yt=ct-1,On=ht.length;++Yt<On;)if(ht[Yt]===ot)return Yt;return-1}(Te,je,Xe):Bn(Te,cc,Xe)}function Bs(Te,je,Xe,ht){for(var ot=Xe-1,ct=Te.length;++ot<ct;)if(ht(Te[ot],je))return ot;return-1}function cc(Te){return Te!=Te}function ji(Te,je){var Xe=Te==null?0:Te.length;return Xe?Mo(Te,je)/Xe:S}function Pi(Te){return function(je){return je==null?r:je[Te]}}function Ro(Te){return function(je){return Te==null?r:Te[je]}}function $s(Te,je,Xe,ht,ot){return ot(Te,function(ct,Yt,On){Xe=ht?(ht=!1,ct):je(Xe,ct,Yt,On)}),Xe}function Mo(Te,je){for(var Xe,ht=-1,ot=Te.length;++ht<ot;){var ct=je(Te[ht]);ct!==r&&(Xe=Xe===r?ct:Xe+ct)}return Xe}function Rs(Te,je){for(var Xe=-1,ht=Array(Te);++Xe<Te;)ht[Xe]=je(Xe);return ht}function qs(Te){return Te&&Te.slice(0,me(Te)+1).replace(gt,"")}function mt(Te){return function(je){return Te(je)}}function vs(Te,je){return Ii(je,function(Xe){return Te[Xe]})}function qo(Te,je){return Te.has(je)}function uc(Te,je){for(var Xe=-1,ht=Te.length;++Xe<ht&&go(je,Te[Xe],0)>-1;);return Xe}function ns(Te,je){for(var Xe=Te.length;Xe--&&go(je,Te[Xe],0)>-1;);return Xe}var rs=Ro({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),Ls=Ro({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function la(Te){return"\\"+ka[Te]}function ri(Te){return Wo.test(Te)}function gl(Te){var je=-1,Xe=Array(Te.size);return Te.forEach(function(ht,ot){Xe[++je]=[ot,ht]}),Xe}function ne(Te,je){return function(Xe){return Te(je(Xe))}}function g(Te,je){for(var Xe=-1,ht=Te.length,ot=0,ct=[];++Xe<ht;){var Yt=Te[Xe];Yt!==je&&Yt!==l||(Te[Xe]=l,ct[ot++]=Xe)}return ct}function k(Te){var je=-1,Xe=Array(Te.size);return Te.forEach(function(ht){Xe[++je]=ht}),Xe}function te(Te){return ri(Te)?function(je){for(var Xe=ea.lastIndex=0;ea.test(je);)++Xe;return Xe}(Te):Ws(Te)}function de(Te){return ri(Te)?function(je){return je.match(ea)||[]}(Te):function(je){return je.split("")}(Te)}function me(Te){for(var je=Te.length;je--&&Dt.test(Te.charAt(je)););return je}var Ce=Ro({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ie=function Te(je){var Xe,ht=(je=je==null?Ci:Ie.defaults(Ci.Object(),je,Ie.pick(Ci,Ia))).Array,ot=je.Date,ct=je.Error,Yt=je.Function,On=je.Math,qt=je.Object,er=je.RegExp,qr=je.String,ii=je.TypeError,si=ht.prototype,Dr=Yt.prototype,br=qt.prototype,Zr=je["__core-js_shared__"],pr=Dr.toString,Cr=br.hasOwnProperty,fa=0,Lo=(Xe=/[^.]+$/.exec(Zr&&Zr.keys&&Zr.keys.IE_PROTO||""))?"Symbol(src)_1."+Xe:"",vo=br.toString,ma=pr.call(qt),Gi=Ci._,oo=er("^"+pr.call(Cr).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yo=ze?je.Buffer:r,eo=je.Symbol,ki=je.Uint8Array,wi=yo?yo.allocUnsafe:r,Co=ne(qt.getPrototypeOf,qt),hi=qt.create,zi=br.propertyIsEnumerable,Mr=si.splice,qi=eo?eo.isConcatSpreadable:r,Ji=eo?eo.iterator:r,gi=eo?eo.toStringTag:r,ca=function(){try{var F=bl(qt,"defineProperty");return F({},"",{}),F}catch{}}(),Is=je.clearTimeout!==Ci.clearTimeout&&je.clearTimeout,vl=ot&&ot.now!==Ci.Date.now&&ot.now,Jo=je.setTimeout!==Ci.setTimeout&&je.setTimeout,na=On.ceil,Eo=On.floor,Js=qt.getOwnPropertySymbols,Va=yo?yo.isBuffer:r,is=je.isFinite,Sa=si.join,yl=ne(qt.keys,qt),to=On.max,Wi=On.min,Ta=ot.now,Fo=je.parseInt,al=On.random,Et=si.reverse,$t=bl(je,"DataView"),Ft=bl(je,"Map"),un=bl(je,"Promise"),vn=bl(je,"Set"),Gn=bl(je,"WeakMap"),Yn=bl(qt,"create"),mr=Gn&&new Gn,En={},pi=Qs($t),sr=Qs(Ft),kn=Qs(un),yi=Qs(vn),Lr=Qs(Gn),$i=eo?eo.prototype:r,no=$i?$i.valueOf:r,ro=$i?$i.toString:r;function Ke(F){if(wo(F)&&!di(F)&&!(F instanceof li)){if(F instanceof fi)return F;if(Cr.call(F,"__wrapped__"))return tl(F)}return new fi(F)}var io=function(){function F(){}return function(ee){if(!bo(ee))return{};if(hi)return hi(ee);F.prototype=ee;var ge=new F;return F.prototype=r,ge}}();function Wn(){}function fi(F,ee){this.__wrapped__=F,this.__actions__=[],this.__chain__=!!ee,this.__index__=0,this.__values__=r}function li(F){this.__wrapped__=F,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function Qe(F){var ee=-1,ge=F==null?0:F.length;for(this.clear();++ee<ge;){var ke=F[ee];this.set(ke[0],ke[1])}}function Mt(F){var ee=-1,ge=F==null?0:F.length;for(this.clear();++ee<ge;){var ke=F[ee];this.set(ke[0],ke[1])}}function jt(F){var ee=-1,ge=F==null?0:F.length;for(this.clear();++ee<ge;){var ke=F[ee];this.set(ke[0],ke[1])}}function yn(F){var ee=-1,ge=F==null?0:F.length;for(this.__data__=new jt;++ee<ge;)this.add(F[ee])}function Jt(F){var ee=this.__data__=new Mt(F);this.size=ee.size}function Cn(F,ee){var ge=di(F),ke=!ge&&ua(F),$e=!ge&&!ke&&js(F),ft=!ge&&!ke&&!$e&&Tc(F),Rt=ge||ke||$e||ft,Gt=Rt?Rs(F.length,qr):[],on=Gt.length;for(var nn in F)!ee&&!Cr.call(F,nn)||Rt&&(nn=="length"||$e&&(nn=="offset"||nn=="parent")||ft&&(nn=="buffer"||nn=="byteLength"||nn=="byteOffset")||Zs(nn,on))||Gt.push(nn);return Gt}function Sn(F){var ee=F.length;return ee?F[xi(0,ee-1)]:r}function In(F,ee,ge){(ge!==r&&!ls(F[ee],ge)||ge===r&&!(ee in F))&&Gr(F,ee,ge)}function dn(F,ee,ge){var ke=F[ee];Cr.call(F,ee)&&ls(ke,ge)&&(ge!==r||ee in F)||Gr(F,ee,ge)}function Ir(F,ee){for(var ge=F.length;ge--;)if(ls(F[ge][0],ee))return ge;return-1}function Fr(F,ee,ge,ke){return Pa(F,function($e,ft,Rt){ee(ke,$e,ge($e),Rt)}),ke}function Ur(F,ee){return F&&Xs(ee,Zo(ee),F)}function Gr(F,ee,ge){ee=="__proto__"&&ca?ca(F,ee,{configurable:!0,enumerable:!0,value:ge,writable:!0}):F[ee]=ge}function Mi(F,ee){for(var ge=-1,ke=ee.length,$e=ht(ke),ft=F==null;++ge<ke;)$e[ge]=ft?r:md(F,ee[ge]);return $e}function Er(F,ee,ge){return F==F&&(ge!==r&&(F=F<=ge?F:ge),ee!==r&&(F=F>=ee?F:ee)),F}function Ni(F,ee,ge,ke,$e,ft){var Rt,Gt=1&ee,on=2&ee,nn=4&ee;if(ge&&(Rt=$e?ge(F,ke,$e,ft):ge(F)),Rt!==r)return Rt;if(!bo(F))return F;var wn=di(F);if(wn){if(Rt=function(Tn){var $n=Tn.length,Ar=new Tn.constructor($n);return $n&&typeof Tn[0]=="string"&&Cr.call(Tn,"index")&&(Ar.index=Tn.index,Ar.input=Tn.input),Ar}(F),!Gt)return ss(F,Rt)}else{var jn=za(F),vr=jn==pe||jn==B;if(js(F))return vh(F,Gt);if(jn==O||jn==G||vr&&!$e){if(Rt=on||vr?{}:Sh(F),!Gt)return on?function(Tn,$n){return Xs(Tn,eh(Tn),$n)}(F,function(Tn,$n){return Tn&&Xs($n,ya($n),Tn)}(Rt,F)):function(Tn,$n){return Xs(Tn,Qd(Tn),$n)}(F,Ur(Rt,F))}else{if(!Hr[jn])return $e?F:{};Rt=function(Tn,$n,Ar){var ir,oi=Tn.constructor;switch($n){case xe:return Wd(Tn);case le:case ae:return new oi(+Tn);case De:return function(Qr,Di){var _r=Di?Wd(Qr.buffer):Qr.buffer;return new Qr.constructor(_r,Qr.byteOffset,Qr.byteLength)}(Tn,Ar);case Le:case Ge:case rt:case We:case xt:case Me:case Ue:case Pe:case Re:return yh(Tn,Ar);case se:return new oi;case oe:case Ee:return new oi(Tn);case ce:return function(Qr){var Di=new Qr.constructor(Qr.source,At.exec(Qr));return Di.lastIndex=Qr.lastIndex,Di}(Tn);case fe:return new oi;case Ae:return ir=Tn,no?qt(no.call(ir)):{}}}(F,jn,Gt)}}ft||(ft=new Jt);var wr=ft.get(F);if(wr)return wr;ft.set(F,Rt),Sc(F)?F.forEach(function(Tn){Rt.add(Ni(Tn,ee,ge,Tn,F,ft))}):pu(F)&&F.forEach(function(Tn,$n){Rt.set($n,Ni(Tn,ee,ge,$n,F,ft))});var zr=wn?r:(nn?on?zl:jl:on?ya:Zo)(F);return ho(zr||F,function(Tn,$n){zr&&(Tn=F[$n=Tn]),dn(Rt,$n,Ni(Tn,ee,ge,$n,F,ft))}),Rt}function Xo(F,ee,ge){var ke=ge.length;if(F==null)return!ke;for(F=qt(F);ke--;){var $e=ge[ke],ft=ee[$e],Rt=F[$e];if(Rt===r&&!($e in F)||!ft(Rt))return!1}return!0}function ga(F,ee,ge){if(typeof F!="function")throw new ii(i);return yc(function(){F.apply(r,ge)},ee)}function Hi(F,ee,ge,ke){var $e=-1,ft=Na,Rt=!0,Gt=F.length,on=[],nn=ee.length;if(!Gt)return on;ge&&(ee=Ii(ee,mt(ge))),ke?(ft=Os,Rt=!1):ee.length>=200&&(ft=qo,Rt=!1,ee=new yn(ee));e:for(;++$e<Gt;){var wn=F[$e],jn=ge==null?wn:ge(wn);if(wn=ke||wn!==0?wn:0,Rt&&jn==jn){for(var vr=nn;vr--;)if(ee[vr]===jn)continue e;on.push(wn)}else ft(ee,jn,ke)||on.push(wn)}return on}Ke.templateSettings={escape:qe,evaluate:lt,interpolate:vt,variable:"",imports:{_:Ke}},Ke.prototype=Wn.prototype,Ke.prototype.constructor=Ke,fi.prototype=io(Wn.prototype),fi.prototype.constructor=fi,li.prototype=io(Wn.prototype),li.prototype.constructor=li,Qe.prototype.clear=function(){this.__data__=Yn?Yn(null):{},this.size=0},Qe.prototype.delete=function(F){var ee=this.has(F)&&delete this.__data__[F];return this.size-=ee?1:0,ee},Qe.prototype.get=function(F){var ee=this.__data__;if(Yn){var ge=ee[F];return ge===a?r:ge}return Cr.call(ee,F)?ee[F]:r},Qe.prototype.has=function(F){var ee=this.__data__;return Yn?ee[F]!==r:Cr.call(ee,F)},Qe.prototype.set=function(F,ee){var ge=this.__data__;return this.size+=this.has(F)?0:1,ge[F]=Yn&&ee===r?a:ee,this},Mt.prototype.clear=function(){this.__data__=[],this.size=0},Mt.prototype.delete=function(F){var ee=this.__data__,ge=Ir(ee,F);return!(ge<0||(ge==ee.length-1?ee.pop():Mr.call(ee,ge,1),--this.size,0))},Mt.prototype.get=function(F){var ee=this.__data__,ge=Ir(ee,F);return ge<0?r:ee[ge][1]},Mt.prototype.has=function(F){return Ir(this.__data__,F)>-1},Mt.prototype.set=function(F,ee){var ge=this.__data__,ke=Ir(ge,F);return ke<0?(++this.size,ge.push([F,ee])):ge[ke][1]=ee,this},jt.prototype.clear=function(){this.size=0,this.__data__={hash:new Qe,map:new(Ft||Mt),string:new Qe}},jt.prototype.delete=function(F){var ee=Qu(this,F).delete(F);return this.size-=ee?1:0,ee},jt.prototype.get=function(F){return Qu(this,F).get(F)},jt.prototype.has=function(F){return Qu(this,F).has(F)},jt.prototype.set=function(F,ee){var ge=Qu(this,F),ke=ge.size;return ge.set(F,ee),this.size+=ge.size==ke?0:1,this},yn.prototype.add=yn.prototype.push=function(F){return this.__data__.set(F,a),this},yn.prototype.has=function(F){return this.__data__.has(F)},Jt.prototype.clear=function(){this.__data__=new Mt,this.size=0},Jt.prototype.delete=function(F){var ee=this.__data__,ge=ee.delete(F);return this.size=ee.size,ge},Jt.prototype.get=function(F){return this.__data__.get(F)},Jt.prototype.has=function(F){return this.__data__.has(F)},Jt.prototype.set=function(F,ee){var ge=this.__data__;if(ge instanceof Mt){var ke=ge.__data__;if(!Ft||ke.length<199)return ke.push([F,ee]),this.size=++ge.size,this;ge=this.__data__=new jt(ke)}return ge.set(F,ee),this.size=ge.size,this};var Pa=Dh(Ns),ks=Dh(hc,!0);function ra(F,ee){var ge=!0;return Pa(F,function(ke,$e,ft){return ge=!!ee(ke,$e,ft)}),ge}function sl(F,ee,ge){for(var ke=-1,$e=F.length;++ke<$e;){var ft=F[ke],Rt=ee(ft);if(Rt!=null&&(Gt===r?Rt==Rt&&!xs(Rt):ge(Rt,Gt)))var Gt=Rt,on=ft}return on}function Ol(F,ee){var ge=[];return Pa(F,function(ke,$e,ft){ee(ke,$e,ft)&&ge.push(ke)}),ge}function Yo(F,ee,ge,ke,$e){var ft=-1,Rt=F.length;for(ge||(ge=xp),$e||($e=[]);++ft<Rt;){var Gt=F[ft];ee>0&&ge(Gt)?ee>1?Yo(Gt,ee-1,ge,ke,$e):ta($e,Gt):ke||($e[$e.length]=Gt)}return $e}var dc=bh(),So=bh(!0);function Ns(F,ee){return F&&dc(F,ee,Zo)}function hc(F,ee){return F&&So(F,ee,Zo)}function zu(F,ee){return Ma(ee,function(ge){return Es(F[ge])})}function ja(F,ee){for(var ge=0,ke=(ee=xl(ee,F)).length;F!=null&&ge<ke;)F=F[Cs(ee[ge++])];return ge&&ge==ke?F:r}function Hu(F,ee,ge){var ke=ee(F);return di(F)?ke:ta(ke,ge(F))}function va(F){return F==null?F===r?"[object Undefined]":"[object Null]":gi&&gi in qt(F)?function(ee){var ge=Cr.call(ee,gi),ke=ee[gi];try{ee[gi]=r;var $e=!0}catch{}var ft=vo.call(ee);return $e&&(ge?ee[gi]=ke:delete ee[gi]),ft}(F):function(ee){return vo.call(ee)}(F)}function Kr(F,ee){return F>ee}function Rd(F,ee){return F!=null&&Cr.call(F,ee)}function zc(F,ee){return F!=null&&ee in qt(F)}function Cl(F,ee,ge){for(var ke=ge?Os:Na,$e=F[0].length,ft=F.length,Rt=ft,Gt=ht(ft),on=1/0,nn=[];Rt--;){var wn=F[Rt];Rt&&ee&&(wn=Ii(wn,mt(ee))),on=Wi(wn.length,on),Gt[Rt]=!ge&&(ee||$e>=120&&wn.length>=120)?new yn(Rt&&wn):r}wn=F[0];var jn=-1,vr=Gt[0];e:for(;++jn<$e&&nn.length<on;){var wr=wn[jn],zr=ee?ee(wr):wr;if(wr=ge||wr!==0?wr:0,!(vr?qo(vr,zr):ke(nn,zr,ge))){for(Rt=ft;--Rt;){var Tn=Gt[Rt];if(!(Tn?qo(Tn,zr):ke(F[Rt],zr,ge)))continue e}vr&&vr.push(zr),nn.push(wr)}}return nn}function ia(F,ee,ge){var ke=(F=rh(F,ee=xl(ee,F)))==null?F:F[Cs(Xa(ee))];return ke==null?r:Qi(ke,F,ge)}function Ld(F){return wo(F)&&va(F)==G}function Hc(F,ee,ge,ke,$e){return F===ee||(F==null||ee==null||!wo(F)&&!wo(ee)?F!=F&&ee!=ee:function(ft,Rt,Gt,on,nn,wn){var jn=di(ft),vr=di(Rt),wr=jn?ie:za(ft),zr=vr?ie:za(Rt),Tn=(wr=wr==G?O:wr)==O,$n=(zr=zr==G?O:zr)==O,Ar=wr==zr;if(Ar&&js(ft)){if(!js(Rt))return!1;jn=!0,Tn=!1}if(Ar&&!Tn)return wn||(wn=new Jt),jn||Tc(ft)?Zd(ft,Rt,Gt,on,nn,wn):function(_r,Tr,po,ao,Uo,Ui,xa){switch(po){case De:if(_r.byteLength!=Tr.byteLength||_r.byteOffset!=Tr.byteOffset)return!1;_r=_r.buffer,Tr=Tr.buffer;case xe:return!(_r.byteLength!=Tr.byteLength||!Ui(new ki(_r),new ki(Tr)));case le:case ae:case oe:return ls(+_r,+Tr);case he:return _r.name==Tr.name&&_r.message==Tr.message;case ce:case Ee:return _r==Tr+"";case se:var Da=gl;case fe:var ba=1&ao;if(Da||(Da=k),_r.size!=Tr.size&&!ba)return!1;var us=xa.get(_r);if(us)return us==Tr;ao|=2,xa.set(_r,Tr);var Vi=Zd(Da(_r),Da(Tr),ao,Uo,Ui,xa);return xa.delete(_r),Vi;case Ae:if(no)return no.call(_r)==no.call(Tr)}return!1}(ft,Rt,wr,Gt,on,nn,wn);if(!(1&Gt)){var ir=Tn&&Cr.call(ft,"__wrapped__"),oi=$n&&Cr.call(Rt,"__wrapped__");if(ir||oi){var Qr=ir?ft.value():ft,Di=oi?Rt.value():Rt;return wn||(wn=new Jt),nn(Qr,Di,Gt,on,wn)}}return!!Ar&&(wn||(wn=new Jt),function(_r,Tr,po,ao,Uo,Ui){var xa=1&po,Da=jl(_r),ba=Da.length;if(ba!=jl(Tr).length&&!xa)return!1;for(var us=ba;us--;){var Vi=Da[us];if(!(xa?Vi in Tr:Cr.call(Tr,Vi)))return!1}var Au=Ui.get(_r),Hs=Ui.get(Tr);if(Au&&Hs)return Au==Tr&&Hs==_r;var rc=!0;Ui.set(_r,Tr),Ui.set(Tr,_r);for(var kc=xa;++us<ba;){var Nc=_r[Vi=Da[us]],ic=Tr[Vi];if(ao)var oc=xa?ao(ic,Nc,Vi,Tr,_r,Ui):ao(Nc,ic,Vi,_r,Tr,Ui);if(!(oc===r?Nc===ic||Uo(Nc,ic,po,ao,Ui):oc)){rc=!1;break}kc||(kc=Vi=="constructor")}if(rc&&!kc){var ac=_r.constructor,sc=Tr.constructor;ac==sc||!("constructor"in _r)||!("constructor"in Tr)||typeof ac=="function"&&ac instanceof ac&&typeof sc=="function"&&sc instanceof sc||(rc=!1)}return Ui.delete(_r),Ui.delete(Tr),rc}(ft,Rt,Gt,on,nn,wn))}(F,ee,ge,ke,Hc,$e))}function Id(F,ee,ge,ke){var $e=ge.length,ft=$e,Rt=!ke;if(F==null)return!ft;for(F=qt(F);$e--;){var Gt=ge[$e];if(Rt&&Gt[2]?Gt[1]!==F[Gt[0]]:!(Gt[0]in F))return!1}for(;++$e<ft;){var on=(Gt=ge[$e])[0],nn=F[on],wn=Gt[1];if(Rt&&Gt[2]){if(nn===r&&!(on in F))return!1}else{var jn=new Jt;if(ke)var vr=ke(nn,wn,on,F,ee,jn);if(!(vr===r?Hc(wn,nn,3,ke,jn):vr))return!1}}return!0}function os(F){return!(!bo(F)||(ee=F,Lo&&Lo in ee))&&(Es(F)?oo:zn).test(Qs(F));var ee}function Vs(F){return typeof F=="function"?F:F==null?Ca:typeof F=="object"?di(F)?Il(F[0],F[1]):pc(F):Ea(F)}function zo(F){if(!Ks(F))return yl(F);var ee=[];for(var ge in qt(F))Cr.call(F,ge)&&ge!="constructor"&&ee.push(ge);return ee}function Rl(F,ee){return F<ee}function Ll(F,ee){var ge=-1,ke=Oa(F)?ht(F.length):[];return Pa(F,function($e,ft,Rt){ke[++ge]=ee($e,ft,Rt)}),ke}function pc(F){var ee=Kd(F);return ee.length==1&&ee[0][2]?Ph(ee[0][0],ee[0][1]):function(ge){return ge===F||Id(ge,F,ee)}}function Il(F,ee){return th(F)&&Hl(ee)?Ph(Cs(F),ee):function(ge){var ke=md(ge,F);return ke===r&&ke===ee?Yl(ge,F):Hc(ee,ke,3)}}function kl(F,ee,ge,ke,$e){F!==ee&&dc(ee,function(ft,Rt){if($e||($e=new Jt),bo(ft))(function(on,nn,wn,jn,vr,wr,zr){var Tn=ih(on,wn),$n=ih(nn,wn),Ar=zr.get($n);if(Ar)In(on,wn,Ar);else{var ir=wr?wr(Tn,$n,wn+"",on,nn,zr):r,oi=ir===r;if(oi){var Qr=di($n),Di=!Qr&&js($n),_r=!Qr&&!Di&&Tc($n);ir=$n,Qr||Di||_r?di(Tn)?ir=Tn:Do(Tn)?ir=ss(Tn):Di?(oi=!1,ir=vh($n,!0)):_r?(oi=!1,ir=yh($n,!0)):ir=[]:Fc($n)||ua($n)?(ir=Tn,ua(Tn)?ir=Al(Tn):bo(Tn)&&!Es(Tn)||(ir=Sh($n))):oi=!1}oi&&(zr.set($n,ir),vr(ir,$n,jn,wr,zr),zr.delete($n)),In(on,wn,ir)}})(F,ee,Rt,ge,kl,ke,$e);else{var Gt=ke?ke(ih(F,Rt),ft,Rt+"",F,ee,$e):r;Gt===r&&(Gt=ft),In(F,Rt,Gt)}},ya)}function Nl(F,ee){var ge=F.length;if(ge)return Zs(ee+=ee<0?ge:0,ge)?F[ee]:r}function or(F,ee,ge){var ke=-1;return ee=Ii(ee=ee.length?Ii(ee,function($e){return di($e)?function(ft){return ja(ft,$e.length===1?$e[0]:$e)}:$e}):[Ca],mt(Wr())),function($e,ft){var Rt=$e.length;for($e.sort(ft);Rt--;)$e[Rt]=$e[Rt].value;return $e}(Ll(F,function($e,ft,Rt){return{criteria:Ii(ee,function(Gt){return Gt($e)}),index:++ke,value:$e}}),function($e,ft){return function(Rt,Gt,on){for(var nn=-1,wn=Rt.criteria,jn=Gt.criteria,vr=wn.length,wr=on.length;++nn<vr;){var zr=Ch(wn[nn],jn[nn]);if(zr)return nn>=wr?zr:zr*(on[nn]=="desc"?-1:1)}return Rt.index-Gt.index}($e,ft,ge)})}function kd(F,ee,ge){for(var ke=-1,$e=ee.length,ft={};++ke<$e;){var Rt=ee[ke],Gt=ja(F,Rt);ge(Gt,Rt)&&Uc(ft,xl(Rt,F),Gt)}return ft}function fc(F,ee,ge,ke){var $e=ke?Bs:go,ft=-1,Rt=ee.length,Gt=F;for(F===ee&&(ee=ss(ee)),ge&&(Gt=Ii(F,mt(ge)));++ft<Rt;)for(var on=0,nn=ee[ft],wn=ge?ge(nn):nn;(on=$e(Gt,wn,on,ke))>-1;)Gt!==F&&Mr.call(Gt,on,1),Mr.call(F,on,1);return F}function Vl(F,ee){for(var ge=F?ee.length:0,ke=ge-1;ge--;){var $e=ee[ge];if(ge==ke||$e!==ft){var ft=$e;Zs($e)?Mr.call(F,$e,1):Wu(F,$e)}}return F}function xi(F,ee){return F+Eo(al()*(ee-F+1))}function Ms(F,ee){var ge="";if(!F||ee<1||ee>A)return ge;do ee%2&&(ge+=F),(ee=Eo(ee/2))&&(F+=F);while(ee);return ge}function Ai(F,ee){return $c(Oh(F,ee,Ca),F+"")}function Uc(F,ee,ge,ke){if(!bo(F))return F;for(var $e=-1,ft=(ee=xl(ee,F)).length,Rt=ft-1,Gt=F;Gt!=null&&++$e<ft;){var on=Cs(ee[$e]),nn=ge;if(on==="__proto__"||on==="constructor"||on==="prototype")return F;if($e!=Rt){var wn=Gt[on];(nn=ke?ke(wn,on,Gt):r)===r&&(nn=bo(wn)?wn:Zs(ee[$e+1])?[]:{})}dn(Gt,on,nn),Gt=Gt[on]}return F}var El=mr?function(F,ee){return mr.set(F,ee),F}:Ca,Uu=ca?function(F,ee){return ca(F,"toString",{configurable:!0,enumerable:!1,value:Fl(ee),writable:!0})}:Ca;function $a(F,ee,ge){var ke=-1,$e=F.length;ee<0&&(ee=-ee>$e?0:$e+ee),(ge=ge>$e?$e:ge)<0&&(ge+=$e),$e=ee>ge?0:ge-ee>>>0,ee>>>=0;for(var ft=ht($e);++ke<$e;)ft[ke]=F[ke+ee];return ft}function mh(F,ee){var ge;return Pa(F,function(ke,$e,ft){return!(ge=ee(ke,$e,ft))}),!!ge}function Gu(F,ee,ge){var ke=0,$e=F==null?ke:F.length;if(typeof ee=="number"&&ee==ee&&$e<=2147483647){for(;ke<$e;){var ft=ke+$e>>>1,Rt=F[ft];Rt!==null&&!xs(Rt)&&(ge?Rt<=ee:Rt<ee)?ke=ft+1:$e=ft}return $e}return Nd(F,ee,Ca,ge)}function Nd(F,ee,ge,ke){var $e=0,ft=F==null?0:F.length;if(ft===0)return 0;for(var Rt=(ee=ge(ee))!=ee,Gt=ee===null,on=xs(ee),nn=ee===r;$e<ft;){var wn=Eo(($e+ft)/2),jn=ge(F[wn]),vr=jn!==r,wr=jn===null,zr=jn==jn,Tn=xs(jn);if(Rt)var $n=ke||zr;else $n=nn?zr&&(ke||vr):Gt?zr&&vr&&(ke||!wr):on?zr&&vr&&!wr&&(ke||!Tn):!wr&&!Tn&&(ke?jn<=ee:jn<ee);$n?$e=wn+1:ft=wn}return Wi(ft,4294967294)}function Vd(F,ee){for(var ge=-1,ke=F.length,$e=0,ft=[];++ge<ke;){var Rt=F[ge],Gt=ee?ee(Rt):Rt;if(!ge||!ls(Gt,on)){var on=Gt;ft[$e++]=Rt===0?0:Rt}}return ft}function jd(F){return typeof F=="number"?F:xs(F)?S:+F}function as(F){if(typeof F=="string")return F;if(di(F))return Ii(F,as)+"";if(xs(F))return ro?ro.call(F):"";var ee=F+"";return ee=="0"&&1/F==-1/0?"-0":ee}function ll(F,ee,ge){var ke=-1,$e=Na,ft=F.length,Rt=!0,Gt=[],on=Gt;if(ge)Rt=!1,$e=Os;else if(ft>=200){var nn=ee?null:Jd(F);if(nn)return k(nn);Rt=!1,$e=qo,on=new yn}else on=ee?[]:Gt;e:for(;++ke<ft;){var wn=F[ke],jn=ee?ee(wn):wn;if(wn=ge||wn!==0?wn:0,Rt&&jn==jn){for(var vr=on.length;vr--;)if(on[vr]===jn)continue e;ee&&on.push(jn),Gt.push(wn)}else $e(on,jn,ge)||(on!==Gt&&on.push(jn),Gt.push(wn))}return Gt}function Wu(F,ee){return(F=rh(F,ee=xl(ee,F)))==null||delete F[Cs(Xa(ee))]}function zd(F,ee,ge,ke){return Uc(F,ee,ge(ja(F,ee)),ke)}function cl(F,ee,ge,ke){for(var $e=F.length,ft=ke?$e:-1;(ke?ft--:++ft<$e)&&ee(F[ft],ft,F););return ge?$a(F,ke?0:ft,ke?ft+1:$e):$a(F,ke?ft+1:0,ke?$e:ft)}function ys(F,ee){var ge=F;return ge instanceof li&&(ge=ge.value()),Fa(ee,function(ke,$e){return $e.func.apply($e.thisArg,ta([ke],$e.args))},ge)}function qa(F,ee,ge){var ke=F.length;if(ke<2)return ke?ll(F[0]):[];for(var $e=-1,ft=ht(ke);++$e<ke;)for(var Rt=F[$e],Gt=-1;++Gt<ke;)Gt!=$e&&(ft[$e]=Hi(ft[$e]||Rt,F[Gt],ee,ge));return ll(Yo(ft,1),ee,ge)}function Hd(F,ee,ge){for(var ke=-1,$e=F.length,ft=ee.length,Rt={};++ke<$e;){var Gt=ke<ft?ee[ke]:r;ge(Rt,F[ke],Gt)}return Rt}function Ud(F){return Do(F)?F:[]}function Gd(F){return typeof F=="function"?F:Ca}function xl(F,ee){return di(F)?F:th(F,ee)?[F]:ed(Xi(F))}var Cp=Ai;function Dl(F,ee,ge){var ke=F.length;return ge=ge===r?ke:ge,!ee&&ge>=ke?F:$a(F,ee,ge)}var gh=Is||function(F){return Ci.clearTimeout(F)};function vh(F,ee){if(ee)return F.slice();var ge=F.length,ke=wi?wi(ge):new F.constructor(ge);return F.copy(ke),ke}function Wd(F){var ee=new F.constructor(F.byteLength);return new ki(ee).set(new ki(F)),ee}function yh(F,ee){var ge=ee?Wd(F.buffer):F.buffer;return new F.constructor(ge,F.byteOffset,F.length)}function Ch(F,ee){if(F!==ee){var ge=F!==r,ke=F===null,$e=F==F,ft=xs(F),Rt=ee!==r,Gt=ee===null,on=ee==ee,nn=xs(ee);if(!Gt&&!nn&&!ft&&F>ee||ft&&Rt&&on&&!Gt&&!nn||ke&&Rt&&on||!ge&&on||!$e)return 1;if(!ke&&!ft&&!nn&&F<ee||nn&&ge&&$e&&!ke&&!ft||Gt&&ge&&$e||!Rt&&$e||!on)return-1}return 0}function Eh(F,ee,ge,ke){for(var $e=-1,ft=F.length,Rt=ge.length,Gt=-1,on=ee.length,nn=to(ft-Rt,0),wn=ht(on+nn),jn=!ke;++Gt<on;)wn[Gt]=ee[Gt];for(;++$e<Rt;)(jn||$e<ft)&&(wn[ge[$e]]=F[$e]);for(;nn--;)wn[Gt++]=F[$e++];return wn}function xh(F,ee,ge,ke){for(var $e=-1,ft=F.length,Rt=-1,Gt=ge.length,on=-1,nn=ee.length,wn=to(ft-Gt,0),jn=ht(wn+nn),vr=!ke;++$e<wn;)jn[$e]=F[$e];for(var wr=$e;++on<nn;)jn[wr+on]=ee[on];for(;++Rt<Gt;)(vr||$e<ft)&&(jn[wr+ge[Rt]]=F[$e++]);return jn}function ss(F,ee){var ge=-1,ke=F.length;for(ee||(ee=ht(ke));++ge<ke;)ee[ge]=F[ge];return ee}function Xs(F,ee,ge,ke){var $e=!ge;ge||(ge={});for(var ft=-1,Rt=ee.length;++ft<Rt;){var Gt=ee[ft],on=ke?ke(ge[Gt],F[Gt],Gt,ge,F):r;on===r&&(on=F[Gt]),$e?Gr(ge,Gt,on):dn(ge,Gt,on)}return ge}function $u(F,ee){return function(ge,ke){var $e=di(ge)?Ga:Fr,ft=ee?ee():{};return $e(ge,F,Wr(ke,2),ft)}}function mc(F){return Ai(function(ee,ge){var ke=-1,$e=ge.length,ft=$e>1?ge[$e-1]:r,Rt=$e>2?ge[2]:r;for(ft=F.length>3&&typeof ft=="function"?($e--,ft):r,Rt&&Ja(ge[0],ge[1],Rt)&&(ft=$e<3?r:ft,$e=1),ee=qt(ee);++ke<$e;){var Gt=ge[ke];Gt&&F(ee,Gt,ke,ft)}return ee})}function Dh(F,ee){return function(ge,ke){if(ge==null)return ge;if(!Oa(ge))return F(ge,ke);for(var $e=ge.length,ft=ee?$e:-1,Rt=qt(ge);(ee?ft--:++ft<$e)&&ke(Rt[ft],ft,Rt)!==!1;);return ge}}function bh(F){return function(ee,ge,ke){for(var $e=-1,ft=qt(ee),Rt=ke(ee),Gt=Rt.length;Gt--;){var on=Rt[F?Gt:++$e];if(ge(ft[on],on,ft)===!1)break}return ee}}function wh(F){return function(ee){var ge=ri(ee=Xi(ee))?de(ee):r,ke=ge?ge[0]:ee.charAt(0),$e=ge?Dl(ge,1).join(""):ee.slice(1);return ke[F]()+$e}}function gc(F){return function(ee){return Fa(Ml(Kl(ee).replace(es,"")),F,"")}}function Gc(F){return function(){var ee=arguments;switch(ee.length){case 0:return new F;case 1:return new F(ee[0]);case 2:return new F(ee[0],ee[1]);case 3:return new F(ee[0],ee[1],ee[2]);case 4:return new F(ee[0],ee[1],ee[2],ee[3]);case 5:return new F(ee[0],ee[1],ee[2],ee[3],ee[4]);case 6:return new F(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);case 7:return new F(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5],ee[6])}var ge=io(F.prototype),ke=F.apply(ge,ee);return bo(ke)?ke:ge}}function Ah(F){return function(ee,ge,ke){var $e=qt(ee);if(!Oa(ee)){var ft=Wr(ge,3);ee=Zo(ee),ge=function(Gt){return ft($e[Gt],Gt,$e)}}var Rt=F(ee,ge,ke);return Rt>-1?$e[ft?ee[Rt]:Rt]:r}}function _h(F){return Ys(function(ee){var ge=ee.length,ke=ge,$e=fi.prototype.thru;for(F&&ee.reverse();ke--;){var ft=ee[ke];if(typeof ft!="function")throw new ii(i);if($e&&!Rt&&Wc(ft)=="wrapper")var Rt=new fi([],!0)}for(ke=Rt?ke:ge;++ke<ge;){var Gt=Wc(ft=ee[ke]),on=Gt=="wrapper"?Ku(ft):r;Rt=on&&nh(on[0])&&on[1]==424&&!on[4].length&&on[9]==1?Rt[Wc(on[0])].apply(Rt,on[3]):ft.length==1&&nh(ft)?Rt[Gt]():Rt.thru(ft)}return function(){var nn=arguments,wn=nn[0];if(Rt&&nn.length==1&&di(wn))return Rt.plant(wn).value();for(var jn=0,vr=ge?ee[jn].apply(this,nn):wn;++jn<ge;)vr=ee[jn].call(this,vr);return vr}})}function qu(F,ee,ge,ke,$e,ft,Rt,Gt,on,nn){var wn=ee&C,jn=1&ee,vr=2&ee,wr=24&ee,zr=512&ee,Tn=vr?r:Gc(F);return function $n(){for(var Ar=arguments.length,ir=ht(Ar),oi=Ar;oi--;)ir[oi]=arguments[oi];if(wr)var Qr=vc($n),Di=function(ao,Uo){for(var Ui=ao.length,xa=0;Ui--;)ao[Ui]===Uo&&++xa;return xa}(ir,Qr);if(ke&&(ir=Eh(ir,ke,$e,wr)),ft&&(ir=xh(ir,ft,Rt,wr)),Ar-=Di,wr&&Ar<nn){var _r=g(ir,Qr);return qd(F,ee,qu,$n.placeholder,ge,ir,_r,Gt,on,nn-Ar)}var Tr=jn?ge:this,po=vr?Tr[F]:F;return Ar=ir.length,Gt?ir=function(ao,Uo){for(var Ui=ao.length,xa=Wi(Uo.length,Ui),Da=ss(ao);xa--;){var ba=Uo[xa];ao[xa]=Zs(ba,Ui)?Da[ba]:r}return ao}(ir,Gt):zr&&Ar>1&&ir.reverse(),wn&&on<Ar&&(ir.length=on),this&&this!==Ci&&this instanceof $n&&(po=Tn||Gc(po)),po.apply(Tr,ir)}}function Bh(F,ee){return function(ge,ke){return function($e,ft,Rt,Gt){return Ns($e,function(on,nn,wn){ft(Gt,Rt(on),nn,wn)}),Gt}(ge,F,ee(ke),{})}}function Ju(F,ee){return function(ge,ke){var $e;if(ge===r&&ke===r)return ee;if(ge!==r&&($e=ge),ke!==r){if($e===r)return ke;typeof ge=="string"||typeof ke=="string"?(ge=as(ge),ke=as(ke)):(ge=jd(ge),ke=jd(ke)),$e=F(ge,ke)}return $e}}function $d(F){return Ys(function(ee){return ee=Ii(ee,mt(Wr())),Ai(function(ge){var ke=this;return F(ee,function($e){return Qi($e,ke,ge)})})})}function Xu(F,ee){var ge=(ee=ee===r?" ":as(ee)).length;if(ge<2)return ge?Ms(ee,F):ee;var ke=Ms(ee,na(F/te(ee)));return ri(ee)?Dl(de(ke),0,F).join(""):ke.slice(0,F)}function Mh(F){return function(ee,ge,ke){return ke&&typeof ke!="number"&&Ja(ee,ge,ke)&&(ge=ke=r),ee=zs(ee),ge===r?(ge=ee,ee=0):ge=zs(ge),function($e,ft,Rt,Gt){for(var on=-1,nn=to(na((ft-$e)/(Rt||1)),0),wn=ht(nn);nn--;)wn[Gt?nn:++on]=$e,$e+=Rt;return wn}(ee,ge,ke=ke===r?ee<ge?1:-1:zs(ke),F)}}function Yu(F){return function(ee,ge){return typeof ee=="string"&&typeof ge=="string"||(ee=co(ee),ge=co(ge)),F(ee,ge)}}function qd(F,ee,ge,ke,$e,ft,Rt,Gt,on,nn){var wn=8&ee;ee|=wn?d:E,4&(ee&=~(wn?E:d))||(ee&=-4);var jn=[F,ee,$e,wn?ft:r,wn?Rt:r,wn?r:ft,wn?r:Rt,Gt,on,nn],vr=ge.apply(r,jn);return nh(F)&&Rh(vr,jn),vr.placeholder=ke,qc(vr,F,ee)}function Zu(F){var ee=On[F];return function(ge,ke){if(ge=co(ge),(ke=ke==null?0:Wi(Ei(ke),292))&&is(ge)){var $e=(Xi(ge)+"e").split("e");return+(($e=(Xi(ee($e[0]+"e"+(+$e[1]+ke)))+"e").split("e"))[0]+"e"+(+$e[1]-ke))}return ee(ge)}}var Jd=vn&&1/k(new vn([,-0]))[1]==f?function(F){return new vn(F)}:Za;function Xd(F){return function(ee){var ge=za(ee);return ge==se?gl(ee):ge==fe?function(ke){var $e=-1,ft=Array(ke.size);return ke.forEach(function(Rt){ft[++$e]=[Rt,Rt]}),ft}(ee):function(ke,$e){return Ii($e,function(ft){return[ft,ke[ft]]})}(ee,F(ee))}}function ul(F,ee,ge,ke,$e,ft,Rt,Gt){var on=2&ee;if(!on&&typeof F!="function")throw new ii(i);var nn=ke?ke.length:0;if(nn||(ee&=-97,ke=$e=r),Rt=Rt===r?Rt:to(Ei(Rt),0),Gt=Gt===r?Gt:Ei(Gt),nn-=$e?$e.length:0,ee&E){var wn=ke,jn=$e;ke=$e=r}var vr=on?r:Ku(F),wr=[F,ee,ge,ke,$e,wn,jn,ft,Rt,Gt];if(vr&&function(Tn,$n){var Ar=Tn[1],ir=$n[1],oi=Ar|ir,Qr=oi<131,Di=ir==C&&Ar==8||ir==C&&Ar==D&&Tn[7].length<=$n[8]||ir==384&&$n[7].length<=$n[8]&&Ar==8;if(!Qr&&!Di)return Tn;1&ir&&(Tn[2]=$n[2],oi|=1&Ar?0:4);var _r=$n[3];if(_r){var Tr=Tn[3];Tn[3]=Tr?Eh(Tr,_r,$n[4]):_r,Tn[4]=Tr?g(Tn[3],l):$n[4]}(_r=$n[5])&&(Tr=Tn[5],Tn[5]=Tr?xh(Tr,_r,$n[6]):_r,Tn[6]=Tr?g(Tn[5],l):$n[6]),(_r=$n[7])&&(Tn[7]=_r),ir&C&&(Tn[8]=Tn[8]==null?$n[8]:Wi(Tn[8],$n[8])),Tn[9]==null&&(Tn[9]=$n[9]),Tn[0]=$n[0],Tn[1]=oi}(wr,vr),F=wr[0],ee=wr[1],ge=wr[2],ke=wr[3],$e=wr[4],!(Gt=wr[9]=wr[9]===r?on?0:F.length:to(wr[9]-nn,0))&&24&ee&&(ee&=-25),ee&&ee!=1)zr=ee==8||ee==c?function(Tn,$n,Ar){var ir=Gc(Tn);return function oi(){for(var Qr=arguments.length,Di=ht(Qr),_r=Qr,Tr=vc(oi);_r--;)Di[_r]=arguments[_r];var po=Qr<3&&Di[0]!==Tr&&Di[Qr-1]!==Tr?[]:g(Di,Tr);return(Qr-=po.length)<Ar?qd(Tn,$n,qu,oi.placeholder,r,Di,po,r,r,Ar-Qr):Qi(this&&this!==Ci&&this instanceof oi?ir:Tn,this,Di)}}(F,ee,Gt):ee!=d&&ee!=33||$e.length?qu.apply(r,wr):function(Tn,$n,Ar,ir){var oi=1&$n,Qr=Gc(Tn);return function Di(){for(var _r=-1,Tr=arguments.length,po=-1,ao=ir.length,Uo=ht(ao+Tr),Ui=this&&this!==Ci&&this instanceof Di?Qr:Tn;++po<ao;)Uo[po]=ir[po];for(;Tr--;)Uo[po++]=arguments[++_r];return Qi(Ui,oi?Ar:this,Uo)}}(F,ee,ge,ke);else var zr=function(Tn,$n,Ar){var ir=1&$n,oi=Gc(Tn);return function Qr(){return(this&&this!==Ci&&this instanceof Qr?oi:Tn).apply(ir?Ar:this,arguments)}}(F,ee,ge);return qc((vr?El:Rh)(zr,wr),F,ee)}function dl(F,ee,ge,ke){return F===r||ls(F,br[ge])&&!Cr.call(ke,ge)?ee:F}function Yd(F,ee,ge,ke,$e,ft){return bo(F)&&bo(ee)&&(ft.set(ee,F),kl(F,ee,r,Yd,ft),ft.delete(ee)),F}function Ep(F){return Fc(F)?r:F}function Zd(F,ee,ge,ke,$e,ft){var Rt=1&ge,Gt=F.length,on=ee.length;if(Gt!=on&&!(Rt&&on>Gt))return!1;var nn=ft.get(F),wn=ft.get(ee);if(nn&&wn)return nn==ee&&wn==F;var jn=-1,vr=!0,wr=2&ge?new yn:r;for(ft.set(F,ee),ft.set(ee,F);++jn<Gt;){var zr=F[jn],Tn=ee[jn];if(ke)var $n=Rt?ke(Tn,zr,jn,ee,F,ft):ke(zr,Tn,jn,F,ee,ft);if($n!==r){if($n)continue;vr=!1;break}if(wr){if(!ts(ee,function(Ar,ir){if(!qo(wr,ir)&&(zr===Ar||$e(zr,Ar,ge,ke,ft)))return wr.push(ir)})){vr=!1;break}}else if(zr!==Tn&&!$e(zr,Tn,ge,ke,ft)){vr=!1;break}}return ft.delete(F),ft.delete(ee),vr}function Ys(F){return $c(Oh(F,r,$l),F+"")}function jl(F){return Hu(F,Zo,Qd)}function zl(F){return Hu(F,ya,eh)}var Ku=mr?function(F){return mr.get(F)}:Za;function Wc(F){for(var ee=F.name+"",ge=En[ee],ke=Cr.call(En,ee)?ge.length:0;ke--;){var $e=ge[ke],ft=$e.func;if(ft==null||ft==F)return $e.name}return ee}function vc(F){return(Cr.call(Ke,"placeholder")?Ke:F).placeholder}function Wr(){var F=Ke.iteratee||ec;return F=F===ec?Vs:F,arguments.length?F(arguments[0],arguments[1]):F}function Qu(F,ee){var ge,ke,$e=F.__data__;return((ke=typeof(ge=ee))=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?ge!=="__proto__":ge===null)?$e[typeof ee=="string"?"string":"hash"]:$e.map}function Kd(F){for(var ee=Zo(F),ge=ee.length;ge--;){var ke=ee[ge],$e=F[ke];ee[ge]=[ke,$e,Hl($e)]}return ee}function bl(F,ee){var ge=function(ke,$e){return ke==null?r:ke[$e]}(F,ee);return os(ge)?ge:r}var Qd=Js?function(F){return F==null?[]:(F=qt(F),Ma(Js(F),function(ee){return zi.call(F,ee)}))}:Sl,eh=Js?function(F){for(var ee=[];F;)ta(ee,Qd(F)),F=Co(F);return ee}:Sl,za=va;function Fh(F,ee,ge){for(var ke=-1,$e=(ee=xl(ee,F)).length,ft=!1;++ke<$e;){var Rt=Cs(ee[ke]);if(!(ft=F!=null&&ge(F,Rt)))break;F=F[Rt]}return ft||++ke!=$e?ft:!!($e=F==null?0:F.length)&&wl($e)&&Zs(Rt,$e)&&(di(F)||ua(F))}function Sh(F){return typeof F.constructor!="function"||Ks(F)?{}:io(Co(F))}function xp(F){return di(F)||ua(F)||!!(qi&&F&&F[qi])}function Zs(F,ee){var ge=typeof F;return!!(ee=ee??A)&&(ge=="number"||ge!="symbol"&&Un.test(F))&&F>-1&&F%1==0&&F<ee}function Ja(F,ee,ge){if(!bo(ge))return!1;var ke=typeof ee;return!!(ke=="number"?Oa(ge)&&Zs(ee,ge.length):ke=="string"&&ee in ge)&&ls(ge[ee],F)}function th(F,ee){if(di(F))return!1;var ge=typeof F;return!(ge!="number"&&ge!="symbol"&&ge!="boolean"&&F!=null&&!xs(F))||nt.test(F)||!bt.test(F)||ee!=null&&F in qt(ee)}function nh(F){var ee=Wc(F),ge=Ke[ee];if(typeof ge!="function"||!(ee in li.prototype))return!1;if(F===ge)return!0;var ke=Ku(ge);return!!ke&&F===ke[0]}($t&&za(new $t(new ArrayBuffer(1)))!=De||Ft&&za(new Ft)!=se||un&&za(un.resolve())!=T||vn&&za(new vn)!=fe||Gn&&za(new Gn)!=_e)&&(za=function(F){var ee=va(F),ge=ee==O?F.constructor:r,ke=ge?Qs(ge):"";if(ke)switch(ke){case pi:return De;case sr:return se;case kn:return T;case yi:return fe;case Lr:return _e}return ee});var Th=Zr?Es:Lc;function Ks(F){var ee=F&&F.constructor;return F===(typeof ee=="function"&&ee.prototype||br)}function Hl(F){return F==F&&!bo(F)}function Ph(F,ee){return function(ge){return ge!=null&&ge[F]===ee&&(ee!==r||F in qt(ge))}}function Oh(F,ee,ge){return ee=to(ee===r?F.length-1:ee,0),function(){for(var ke=arguments,$e=-1,ft=to(ke.length-ee,0),Rt=ht(ft);++$e<ft;)Rt[$e]=ke[ee+$e];$e=-1;for(var Gt=ht(ee+1);++$e<ee;)Gt[$e]=ke[$e];return Gt[ee]=ge(Rt),Qi(F,this,Gt)}}function rh(F,ee){return ee.length<2?F:ja(F,$a(ee,0,-1))}function ih(F,ee){if((ee!=="constructor"||typeof F[ee]!="function")&&ee!="__proto__")return F[ee]}var Rh=Ul(El),yc=Jo||function(F,ee){return Ci.setTimeout(F,ee)},$c=Ul(Uu);function qc(F,ee,ge){var ke=ee+"";return $c(F,function($e,ft){var Rt=ft.length;if(!Rt)return $e;var Gt=Rt-1;return ft[Gt]=(Rt>1?"& ":"")+ft[Gt],ft=ft.join(Rt>2?", ":" "),$e.replace(zt,`{
/* [wrapped with `+ft+`] */
`)}(ke,function($e,ft){return ho(N,function(Rt){var Gt="_."+Rt[0];ft&Rt[1]&&!Na($e,Gt)&&$e.push(Gt)}),$e.sort()}(function($e){var ft=ke.match(et);return ft?ft[1].split(sn):[]}(),ge)))}function Ul(F){var ee=0,ge=0;return function(){var ke=Ta(),$e=16-(ke-ge);if(ge=ke,$e>0){if(++ee>=800)return arguments[0]}else ee=0;return F.apply(r,arguments)}}function Jc(F,ee){var ge=-1,ke=F.length,$e=ke-1;for(ee=ee===r?ke:ee;++ge<ee;){var ft=xi(ge,$e),Rt=F[ft];F[ft]=F[ge],F[ge]=Rt}return F.length=ee,F}var ed=function(F){var ee=Ac(function(ke){var $e=[];return ke.charCodeAt(0)===46&&$e.push(""),ke.replace(Nt,function(ft,Rt,Gt,on){$e.push(Gt?on.replace(St,"$1"):Rt||ft)}),$e},function(ke){return ge.size===500&&ge.clear(),ke}),ge=ee.cache;return ee}();function Cs(F){if(typeof F=="string"||xs(F))return F;var ee=F+"";return ee=="0"&&1/F==-1/0?"-0":ee}function Qs(F){if(F!=null){try{return pr.call(F)}catch{}try{return F+""}catch{}}return""}function tl(F){if(F instanceof li)return F.clone();var ee=new fi(F.__wrapped__,F.__chain__);return ee.__actions__=ss(F.__actions__),ee.__index__=F.__index__,ee.__values__=F.__values__,ee}var Cc=Ai(function(F,ee){return Do(F)?Hi(F,Yo(ee,1,Do,!0)):[]}),Gl=Ai(function(F,ee){var ge=Xa(ee);return Do(ge)&&(ge=r),Do(F)?Hi(F,Yo(ee,1,Do,!0),Wr(ge,2)):[]}),Xc=Ai(function(F,ee){var ge=Xa(ee);return Do(ge)&&(ge=r),Do(F)?Hi(F,Yo(ee,1,Do,!0),r,ge):[]});function Wl(F,ee,ge){var ke=F==null?0:F.length;if(!ke)return-1;var $e=ge==null?0:Ei(ge);return $e<0&&($e=to(ke+$e,0)),Bn(F,Wr(ee,3),$e)}function Ec(F,ee,ge){var ke=F==null?0:F.length;if(!ke)return-1;var $e=ke-1;return ge!==r&&($e=Ei(ge),$e=ge<0?to(ke+$e,0):Wi($e,ke-1)),Bn(F,Wr(ee,3),$e,!0)}function $l(F){return F!=null&&F.length?Yo(F,1):[]}function ql(F){return F&&F.length?F[0]:r}var xc=Ai(function(F){var ee=Ii(F,Ud);return ee.length&&ee[0]===F[0]?Cl(ee):[]}),Yc=Ai(function(F){var ee=Xa(F),ge=Ii(F,Ud);return ee===Xa(ge)?ee=r:ge.pop(),ge.length&&ge[0]===F[0]?Cl(ge,Wr(ee,2)):[]}),Lh=Ai(function(F){var ee=Xa(F),ge=Ii(F,Ud);return(ee=typeof ee=="function"?ee:r)&&ge.pop(),ge.length&&ge[0]===F[0]?Cl(ge,r,ee):[]});function Xa(F){var ee=F==null?0:F.length;return ee?F[ee-1]:r}var Zc=Ai(Kc);function Kc(F,ee){return F&&F.length&&ee&&ee.length?fc(F,ee):F}var Ih=Ys(function(F,ee){var ge=F==null?0:F.length,ke=Mi(F,ee);return Vl(F,Ii(ee,function($e){return Zs($e,ge)?+$e:$e}).sort(Ch)),ke});function Qc(F){return F==null?F:Et.call(F)}var kh=Ai(function(F){return ll(Yo(F,1,Do,!0))}),eu=Ai(function(F){var ee=Xa(F);return Do(ee)&&(ee=r),ll(Yo(F,1,Do,!0),Wr(ee,2))}),td=Ai(function(F){var ee=Xa(F);return ee=typeof ee=="function"?ee:r,ll(Yo(F,1,Do,!0),r,ee)});function Dc(F){if(!F||!F.length)return[];var ee=0;return F=Ma(F,function(ge){if(Do(ge))return ee=to(ge.length,ee),!0}),Rs(ee,function(ge){return Ii(F,Pi(ge))})}function oh(F,ee){if(!F||!F.length)return[];var ge=Dc(F);return ee==null?ge:Ii(ge,function(ke){return Qi(ee,r,ke)})}var tu=Ai(function(F,ee){return Do(F)?Hi(F,ee):[]}),nu=Ai(function(F){return qa(Ma(F,Do))}),Nh=Ai(function(F){var ee=Xa(F);return Do(ee)&&(ee=r),qa(Ma(F,Do),Wr(ee,2))}),Dp=Ai(function(F){var ee=Xa(F);return ee=typeof ee=="function"?ee:r,qa(Ma(F,Do),r,ee)}),nd=Ai(Dc),ah=Ai(function(F){var ee=F.length,ge=ee>1?F[ee-1]:r;return oh(F,ge=typeof ge=="function"?(F.pop(),ge):r)});function sh(F){var ee=Ke(F);return ee.__chain__=!0,ee}function ru(F,ee){return ee(F)}var bc=Ys(function(F){var ee=F.length,ge=ee?F[0]:0,ke=this.__wrapped__,$e=function(ft){return Mi(ft,F)};return!(ee>1||this.__actions__.length)&&ke instanceof li&&Zs(ge)?((ke=ke.slice(ge,+ge+(ee?1:0))).__actions__.push({func:ru,args:[$e],thisArg:r}),new fi(ke,this.__chain__).thru(function(ft){return ee&&!ft.length&&ft.push(r),ft})):this.thru($e)}),iu=$u(function(F,ee,ge){Cr.call(F,ge)?++F[ge]:Gr(F,ge,1)}),rd=Ah(Wl),Ho=Ah(Ec);function lh(F,ee){return(di(F)?ho:Pa)(F,Wr(ee,3))}function ch(F,ee){return(di(F)?function(ge,ke){for(var $e=ge==null?0:ge.length;$e--&&ke(ge[$e],$e,ge)!==!1;);return ge}:ks)(F,Wr(ee,3))}var Vh=$u(function(F,ee,ge){Cr.call(F,ge)?F[ge].push(ee):Gr(F,ge,[ee])}),id=Ai(function(F,ee,ge){var ke=-1,$e=typeof ee=="function",ft=Oa(F)?ht(F.length):[];return Pa(F,function(Rt){ft[++ke]=$e?Qi(ee,Rt,ge):ia(Rt,ee,ge)}),ft}),od=$u(function(F,ee,ge){Gr(F,ge,ee)});function Ha(F,ee){return(di(F)?Ii:Ll)(F,Wr(ee,3))}var ad=$u(function(F,ee,ge){F[ge?0:1].push(ee)},function(){return[[],[]]}),sd=Ai(function(F,ee){if(F==null)return[];var ge=ee.length;return ge>1&&Ja(F,ee[0],ee[1])?ee=[]:ge>2&&Ja(ee[0],ee[1],ee[2])&&(ee=[ee[0]]),or(F,Yo(ee,1),[])}),xo=vl||function(){return Ci.Date.now()};function ou(F,ee,ge){return ee=ge?r:ee,ee=F&&ee==null?F.length:ee,ul(F,C,r,r,r,r,ee)}function nl(F,ee){var ge;if(typeof ee!="function")throw new ii(i);return F=Ei(F),function(){return--F>0&&(ge=ee.apply(this,arguments)),F<=1&&(ee=r),ge}}var ld=Ai(function(F,ee,ge){var ke=1;if(ge.length){var $e=g(ge,vc(ld));ke|=d}return ul(F,ke,ee,ge,$e)}),cd=Ai(function(F,ee,ge){var ke=3;if(ge.length){var $e=g(ge,vc(cd));ke|=d}return ul(ee,ke,F,ge,$e)});function au(F,ee,ge){var ke,$e,ft,Rt,Gt,on,nn=0,wn=!1,jn=!1,vr=!0;if(typeof F!="function")throw new ii(i);function wr(ir){var oi=ke,Qr=$e;return ke=$e=r,nn=ir,Rt=F.apply(Qr,oi)}function zr(ir){var oi=ir-on;return on===r||oi>=ee||oi<0||jn&&ir-nn>=ft}function Tn(){var ir=xo();if(zr(ir))return $n(ir);Gt=yc(Tn,function(oi){var Qr=ee-(oi-on);return jn?Wi(Qr,ft-(oi-nn)):Qr}(ir))}function $n(ir){return Gt=r,vr&&ke?wr(ir):(ke=$e=r,Rt)}function Ar(){var ir=xo(),oi=zr(ir);if(ke=arguments,$e=this,on=ir,oi){if(Gt===r)return function(Qr){return nn=Qr,Gt=yc(Tn,ee),wn?wr(Qr):Rt}(on);if(jn)return gh(Gt),Gt=yc(Tn,ee),wr(on)}return Gt===r&&(Gt=yc(Tn,ee)),Rt}return ee=co(ee)||0,bo(ge)&&(wn=!!ge.leading,ft=(jn="maxWait"in ge)?to(co(ge.maxWait)||0,ee):ft,vr="trailing"in ge?!!ge.trailing:vr),Ar.cancel=function(){Gt!==r&&gh(Gt),nn=0,ke=on=$e=Gt=r},Ar.flush=function(){return Gt===r?Rt:$n(xo())},Ar}var ud=Ai(function(F,ee){return ga(F,1,ee)}),wc=Ai(function(F,ee,ge){return ga(F,co(ee)||0,ge)});function Ac(F,ee){if(typeof F!="function"||ee!=null&&typeof ee!="function")throw new ii(i);var ge=function(){var ke=arguments,$e=ee?ee.apply(this,ke):ke[0],ft=ge.cache;if(ft.has($e))return ft.get($e);var Rt=F.apply(this,ke);return ge.cache=ft.set($e,Rt)||ft,Rt};return ge.cache=new(Ac.Cache||jt),ge}function _c(F){if(typeof F!="function")throw new ii(i);return function(){var ee=arguments;switch(ee.length){case 0:return!F.call(this);case 1:return!F.call(this,ee[0]);case 2:return!F.call(this,ee[0],ee[1]);case 3:return!F.call(this,ee[0],ee[1],ee[2])}return!F.apply(this,ee)}}Ac.Cache=jt;var dd=Cp(function(F,ee){var ge=(ee=ee.length==1&&di(ee[0])?Ii(ee[0],mt(Wr())):Ii(Yo(ee,1),mt(Wr()))).length;return Ai(function(ke){for(var $e=-1,ft=Wi(ke.length,ge);++$e<ft;)ke[$e]=ee[$e].call(this,ke[$e]);return Qi(F,this,ke)})}),su=Ai(function(F,ee){var ge=g(ee,vc(su));return ul(F,d,r,ee,ge)}),hd=Ai(function(F,ee){var ge=g(ee,vc(hd));return ul(F,E,r,ee,ge)}),lu=Ys(function(F,ee){return ul(F,D,r,r,r,ee)});function ls(F,ee){return F===ee||F!=F&&ee!=ee}var cu=Yu(Kr),pd=Yu(function(F,ee){return F>=ee}),ua=Ld(function(){return arguments}())?Ld:function(F){return wo(F)&&Cr.call(F,"callee")&&!zi.call(F,"callee")},di=ht.isArray,uu=tn?mt(tn):function(F){return wo(F)&&va(F)==xe};function Oa(F){return F!=null&&wl(F.length)&&!Es(F)}function Do(F){return wo(F)&&Oa(F)}var js=Va||Lc,du=xn?mt(xn):function(F){return wo(F)&&va(F)==ae};function Bc(F){if(!wo(F))return!1;var ee=va(F);return ee==he||ee=="[object DOMException]"||typeof F.message=="string"&&typeof F.name=="string"&&!Fc(F)}function Es(F){if(!bo(F))return!1;var ee=va(F);return ee==pe||ee==B||ee=="[object AsyncFunction]"||ee=="[object Proxy]"}function hu(F){return typeof F=="number"&&F==Ei(F)}function wl(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=A}function bo(F){var ee=typeof F;return F!=null&&(ee=="object"||ee=="function")}function wo(F){return F!=null&&typeof F=="object"}var pu=Ln?mt(Ln):function(F){return wo(F)&&za(F)==se};function Mc(F){return typeof F=="number"||wo(F)&&va(F)==oe}function Fc(F){if(!wo(F)||va(F)!=O)return!1;var ee=Co(F);if(ee===null)return!0;var ge=Cr.call(ee,"constructor")&&ee.constructor;return typeof ge=="function"&&ge instanceof ge&&pr.call(ge)==ma}var Jl=yr?mt(yr):function(F){return wo(F)&&va(F)==ce},Sc=hr?mt(hr):function(F){return wo(F)&&za(F)==fe};function fd(F){return typeof F=="string"||!di(F)&&wo(F)&&va(F)==Ee}function xs(F){return typeof F=="symbol"||wo(F)&&va(F)==Ae}var Tc=Rr?mt(Rr):function(F){return wo(F)&&wl(F.length)&&!!Li[va(F)]},bp=Yu(Rl),wp=Yu(function(F,ee){return F<=ee});function jh(F){if(!F)return[];if(Oa(F))return fd(F)?de(F):ss(F);if(Ji&&F[Ji])return function(ge){for(var ke,$e=[];!(ke=ge.next()).done;)$e.push(ke.value);return $e}(F[Ji]());var ee=za(F);return(ee==se?gl:ee==fe?k:rl)(F)}function zs(F){return F?(F=co(F))===f||F===-1/0?17976931348623157e292*(F<0?-1:1):F==F?F:0:F===0?F:0}function Ei(F){var ee=zs(F),ge=ee%1;return ee==ee?ge?ee-ge:ee:0}function Xl(F){return F?Er(Ei(F),0,L):0}function co(F){if(typeof F=="number")return F;if(xs(F))return S;if(bo(F)){var ee=typeof F.valueOf=="function"?F.valueOf():F;F=bo(ee)?ee+"":ee}if(typeof F!="string")return F===0?F:+F;F=qs(F);var ge=cn.test(F);return ge||Vr.test(F)?Ps(F.slice(2),ge?2:8):Xt.test(F)?S:+F}function Al(F){return Xs(F,ya(F))}function Xi(F){return F==null?"":as(F)}var fu=mc(function(F,ee){if(Ks(ee)||Oa(ee))Xs(ee,Zo(ee),F);else for(var ge in ee)Cr.call(ee,ge)&&dn(F,ge,ee[ge])}),uh=mc(function(F,ee){Xs(ee,ya(ee),F)}),mu=mc(function(F,ee,ge,ke){Xs(ee,ya(ee),F,ke)}),gu=mc(function(F,ee,ge,ke){Xs(ee,Zo(ee),F,ke)}),dh=Ys(Mi),hl=Ai(function(F,ee){F=qt(F);var ge=-1,ke=ee.length,$e=ke>2?ee[2]:r;for($e&&Ja(ee[0],ee[1],$e)&&(ke=1);++ge<ke;)for(var ft=ee[ge],Rt=ya(ft),Gt=-1,on=Rt.length;++Gt<on;){var nn=Rt[Gt],wn=F[nn];(wn===r||ls(wn,br[nn])&&!Cr.call(F,nn))&&(F[nn]=ft[nn])}return F}),zh=Ai(function(F){return F.push(r,Yd),Qi(Zl,r,F)});function md(F,ee,ge){var ke=F==null?r:ja(F,ee);return ke===r?ge:ke}function Yl(F,ee){return F!=null&&Fh(F,ee,zc)}var _l=Bh(function(F,ee,ge){ee!=null&&typeof ee.toString!="function"&&(ee=vo.call(ee)),F[ee]=ge},Fl(Ca)),Ap=Bh(function(F,ee,ge){ee!=null&&typeof ee.toString!="function"&&(ee=vo.call(ee)),Cr.call(F,ee)?F[ee].push(ge):F[ee]=[ge]},Wr),Hh=Ai(ia);function Zo(F){return Oa(F)?Cn(F):zo(F)}function ya(F){return Oa(F)?Cn(F,!0):function(ee){if(!bo(ee))return function(ft){var Rt=[];if(ft!=null)for(var Gt in qt(ft))Rt.push(Gt);return Rt}(ee);var ge=Ks(ee),ke=[];for(var $e in ee)($e!="constructor"||!ge&&Cr.call(ee,$e))&&ke.push($e);return ke}(F)}var gd=mc(function(F,ee,ge){kl(F,ee,ge)}),Zl=mc(function(F,ee,ge,ke){kl(F,ee,ge,ke)}),vd=Ys(function(F,ee){var ge={};if(F==null)return ge;var ke=!1;ee=Ii(ee,function(ft){return ft=xl(ft,F),ke||(ke=ft.length>1),ft}),Xs(F,zl(F),ge),ke&&(ge=Ni(ge,7,Ep));for(var $e=ee.length;$e--;)Wu(ge,ee[$e]);return ge}),vu=Ys(function(F,ee){return F==null?{}:function(ge,ke){return kd(ge,ke,function($e,ft){return Yl(ge,ft)})}(F,ee)});function yu(F,ee){if(F==null)return{};var ge=Ii(zl(F),function(ke){return[ke]});return ee=Wr(ee),kd(F,ge,function(ke,$e){return ee(ke,$e[0])})}var Pc=Xd(Zo),Oc=Xd(ya);function rl(F){return F==null?[]:vs(F,Zo(F))}var Uh=gc(function(F,ee,ge){return ee=ee.toLowerCase(),F+(ge?Rc(ee):ee)});function Rc(F){return Ql(Xi(F).toLowerCase())}function Kl(F){return(F=Xi(F))&&F.replace(Mn,rs).replace(As,"")}var Bl=gc(function(F,ee,ge){return F+(ge?"-":"")+ee.toLowerCase()}),yd=gc(function(F,ee,ge){return F+(ge?" ":"")+ee.toLowerCase()}),Cd=wh("toLowerCase"),Ed=gc(function(F,ee,ge){return F+(ge?"_":"")+ee.toLowerCase()}),Cu=gc(function(F,ee,ge){return F+(ge?" ":"")+Ql(ee)}),Ya=gc(function(F,ee,ge){return F+(ge?" ":"")+ee.toUpperCase()}),Ql=wh("toUpperCase");function Ml(F,ee,ge){return F=Xi(F),(ee=ge?r:ee)===r?function(ke){return La.test(ke)}(F)?function(ke){return ke.match(ms)||[]}(F):function(ke){return ke.match(bn)||[]}(F):F.match(ee)||[]}var pl=Ai(function(F,ee){try{return Qi(F,r,ee)}catch(ge){return Bc(ge)?ge:new ct(ge)}}),Eu=Ys(function(F,ee){return ho(ee,function(ge){ge=Cs(ge),Gr(F,ge,ld(F[ge],F))}),F});function Fl(F){return function(){return F}}var xu=_h(),Du=_h(!0);function Ca(F){return F}function ec(F){return Vs(typeof F=="function"?F:Ni(F,1))}var bu=Ai(function(F,ee){return function(ge){return ia(ge,F,ee)}}),_p=Ai(function(F,ee){return function(ge){return ia(F,ge,ee)}});function Io(F,ee,ge){var ke=Zo(ee),$e=zu(ee,ke);ge!=null||bo(ee)&&($e.length||!ke.length)||(ge=ee,ee=F,F=this,$e=zu(ee,Zo(ee)));var ft=!(bo(ge)&&"chain"in ge&&!ge.chain),Rt=Es(F);return ho($e,function(Gt){var on=ee[Gt];F[Gt]=on,Rt&&(F.prototype[Gt]=function(){var nn=this.__chain__;if(ft||nn){var wn=F(this.__wrapped__);return(wn.__actions__=ss(this.__actions__)).push({func:on,args:arguments,thisArg:F}),wn.__chain__=nn,wn}return on.apply(F,ta([this.value()],arguments))})}),F}function Za(){}var xd=$d(Ii),wu=$d(Wa),Dd=$d(ts);function Ea(F){return th(F)?Pi(Cs(F)):function(ee){return function(ge){return ja(ge,ee)}}(F)}var bd=Mh(),wd=Mh(!0);function Sl(){return[]}function Lc(){return!1}var tc,Ad=Ju(function(F,ee){return F+ee},0),Ic=Zu("ceil"),Fs=Ju(function(F,ee){return F/ee},1),Bp=Zu("floor"),nc=Ju(function(F,ee){return F*ee},1),hh=Zu("round"),Gh=Ju(function(F,ee){return F-ee},0);return Ke.after=function(F,ee){if(typeof ee!="function")throw new ii(i);return F=Ei(F),function(){if(--F<1)return ee.apply(this,arguments)}},Ke.ary=ou,Ke.assign=fu,Ke.assignIn=uh,Ke.assignInWith=mu,Ke.assignWith=gu,Ke.at=dh,Ke.before=nl,Ke.bind=ld,Ke.bindAll=Eu,Ke.bindKey=cd,Ke.castArray=function(){if(!arguments.length)return[];var F=arguments[0];return di(F)?F:[F]},Ke.chain=sh,Ke.chunk=function(F,ee,ge){ee=(ge?Ja(F,ee,ge):ee===r)?1:to(Ei(ee),0);var ke=F==null?0:F.length;if(!ke||ee<1)return[];for(var $e=0,ft=0,Rt=ht(na(ke/ee));$e<ke;)Rt[ft++]=$a(F,$e,$e+=ee);return Rt},Ke.compact=function(F){for(var ee=-1,ge=F==null?0:F.length,ke=0,$e=[];++ee<ge;){var ft=F[ee];ft&&($e[ke++]=ft)}return $e},Ke.concat=function(){var F=arguments.length;if(!F)return[];for(var ee=ht(F-1),ge=arguments[0],ke=F;ke--;)ee[ke-1]=arguments[ke];return ta(di(ge)?ss(ge):[ge],Yo(ee,1))},Ke.cond=function(F){var ee=F==null?0:F.length,ge=Wr();return F=ee?Ii(F,function(ke){if(typeof ke[1]!="function")throw new ii(i);return[ge(ke[0]),ke[1]]}):[],Ai(function(ke){for(var $e=-1;++$e<ee;){var ft=F[$e];if(Qi(ft[0],this,ke))return Qi(ft[1],this,ke)}})},Ke.conforms=function(F){return function(ee){var ge=Zo(ee);return function(ke){return Xo(ke,ee,ge)}}(Ni(F,1))},Ke.constant=Fl,Ke.countBy=iu,Ke.create=function(F,ee){var ge=io(F);return ee==null?ge:Ur(ge,ee)},Ke.curry=function F(ee,ge,ke){var $e=ul(ee,8,r,r,r,r,r,ge=ke?r:ge);return $e.placeholder=F.placeholder,$e},Ke.curryRight=function F(ee,ge,ke){var $e=ul(ee,c,r,r,r,r,r,ge=ke?r:ge);return $e.placeholder=F.placeholder,$e},Ke.debounce=au,Ke.defaults=hl,Ke.defaultsDeep=zh,Ke.defer=ud,Ke.delay=wc,Ke.difference=Cc,Ke.differenceBy=Gl,Ke.differenceWith=Xc,Ke.drop=function(F,ee,ge){var ke=F==null?0:F.length;return ke?$a(F,(ee=ge||ee===r?1:Ei(ee))<0?0:ee,ke):[]},Ke.dropRight=function(F,ee,ge){var ke=F==null?0:F.length;return ke?$a(F,0,(ee=ke-(ee=ge||ee===r?1:Ei(ee)))<0?0:ee):[]},Ke.dropRightWhile=function(F,ee){return F&&F.length?cl(F,Wr(ee,3),!0,!0):[]},Ke.dropWhile=function(F,ee){return F&&F.length?cl(F,Wr(ee,3),!0):[]},Ke.fill=function(F,ee,ge,ke){var $e=F==null?0:F.length;return $e?(ge&&typeof ge!="number"&&Ja(F,ee,ge)&&(ge=0,ke=$e),function(ft,Rt,Gt,on){var nn=ft.length;for((Gt=Ei(Gt))<0&&(Gt=-Gt>nn?0:nn+Gt),(on=on===r||on>nn?nn:Ei(on))<0&&(on+=nn),on=Gt>on?0:Xl(on);Gt<on;)ft[Gt++]=Rt;return ft}(F,ee,ge,ke)):[]},Ke.filter=function(F,ee){return(di(F)?Ma:Ol)(F,Wr(ee,3))},Ke.flatMap=function(F,ee){return Yo(Ha(F,ee),1)},Ke.flatMapDeep=function(F,ee){return Yo(Ha(F,ee),f)},Ke.flatMapDepth=function(F,ee,ge){return ge=ge===r?1:Ei(ge),Yo(Ha(F,ee),ge)},Ke.flatten=$l,Ke.flattenDeep=function(F){return F!=null&&F.length?Yo(F,f):[]},Ke.flattenDepth=function(F,ee){return F!=null&&F.length?Yo(F,ee=ee===r?1:Ei(ee)):[]},Ke.flip=function(F){return ul(F,512)},Ke.flow=xu,Ke.flowRight=Du,Ke.fromPairs=function(F){for(var ee=-1,ge=F==null?0:F.length,ke={};++ee<ge;){var $e=F[ee];ke[$e[0]]=$e[1]}return ke},Ke.functions=function(F){return F==null?[]:zu(F,Zo(F))},Ke.functionsIn=function(F){return F==null?[]:zu(F,ya(F))},Ke.groupBy=Vh,Ke.initial=function(F){return F!=null&&F.length?$a(F,0,-1):[]},Ke.intersection=xc,Ke.intersectionBy=Yc,Ke.intersectionWith=Lh,Ke.invert=_l,Ke.invertBy=Ap,Ke.invokeMap=id,Ke.iteratee=ec,Ke.keyBy=od,Ke.keys=Zo,Ke.keysIn=ya,Ke.map=Ha,Ke.mapKeys=function(F,ee){var ge={};return ee=Wr(ee,3),Ns(F,function(ke,$e,ft){Gr(ge,ee(ke,$e,ft),ke)}),ge},Ke.mapValues=function(F,ee){var ge={};return ee=Wr(ee,3),Ns(F,function(ke,$e,ft){Gr(ge,$e,ee(ke,$e,ft))}),ge},Ke.matches=function(F){return pc(Ni(F,1))},Ke.matchesProperty=function(F,ee){return Il(F,Ni(ee,1))},Ke.memoize=Ac,Ke.merge=gd,Ke.mergeWith=Zl,Ke.method=bu,Ke.methodOf=_p,Ke.mixin=Io,Ke.negate=_c,Ke.nthArg=function(F){return F=Ei(F),Ai(function(ee){return Nl(ee,F)})},Ke.omit=vd,Ke.omitBy=function(F,ee){return yu(F,_c(Wr(ee)))},Ke.once=function(F){return nl(2,F)},Ke.orderBy=function(F,ee,ge,ke){return F==null?[]:(di(ee)||(ee=ee==null?[]:[ee]),di(ge=ke?r:ge)||(ge=ge==null?[]:[ge]),or(F,ee,ge))},Ke.over=xd,Ke.overArgs=dd,Ke.overEvery=wu,Ke.overSome=Dd,Ke.partial=su,Ke.partialRight=hd,Ke.partition=ad,Ke.pick=vu,Ke.pickBy=yu,Ke.property=Ea,Ke.propertyOf=function(F){return function(ee){return F==null?r:ja(F,ee)}},Ke.pull=Zc,Ke.pullAll=Kc,Ke.pullAllBy=function(F,ee,ge){return F&&F.length&&ee&&ee.length?fc(F,ee,Wr(ge,2)):F},Ke.pullAllWith=function(F,ee,ge){return F&&F.length&&ee&&ee.length?fc(F,ee,r,ge):F},Ke.pullAt=Ih,Ke.range=bd,Ke.rangeRight=wd,Ke.rearg=lu,Ke.reject=function(F,ee){return(di(F)?Ma:Ol)(F,_c(Wr(ee,3)))},Ke.remove=function(F,ee){var ge=[];if(!F||!F.length)return ge;var ke=-1,$e=[],ft=F.length;for(ee=Wr(ee,3);++ke<ft;){var Rt=F[ke];ee(Rt,ke,F)&&(ge.push(Rt),$e.push(ke))}return Vl(F,$e),ge},Ke.rest=function(F,ee){if(typeof F!="function")throw new ii(i);return Ai(F,ee=ee===r?ee:Ei(ee))},Ke.reverse=Qc,Ke.sampleSize=function(F,ee,ge){return ee=(ge?Ja(F,ee,ge):ee===r)?1:Ei(ee),(di(F)?function(ke,$e){return Jc(ss(ke),Er($e,0,ke.length))}:function(ke,$e){var ft=rl(ke);return Jc(ft,Er($e,0,ft.length))})(F,ee)},Ke.set=function(F,ee,ge){return F==null?F:Uc(F,ee,ge)},Ke.setWith=function(F,ee,ge,ke){return ke=typeof ke=="function"?ke:r,F==null?F:Uc(F,ee,ge,ke)},Ke.shuffle=function(F){return(di(F)?function(ee){return Jc(ss(ee))}:function(ee){return Jc(rl(ee))})(F)},Ke.slice=function(F,ee,ge){var ke=F==null?0:F.length;return ke?(ge&&typeof ge!="number"&&Ja(F,ee,ge)?(ee=0,ge=ke):(ee=ee==null?0:Ei(ee),ge=ge===r?ke:Ei(ge)),$a(F,ee,ge)):[]},Ke.sortBy=sd,Ke.sortedUniq=function(F){return F&&F.length?Vd(F):[]},Ke.sortedUniqBy=function(F,ee){return F&&F.length?Vd(F,Wr(ee,2)):[]},Ke.split=function(F,ee,ge){return ge&&typeof ge!="number"&&Ja(F,ee,ge)&&(ee=ge=r),(ge=ge===r?L:ge>>>0)?(F=Xi(F))&&(typeof ee=="string"||ee!=null&&!Jl(ee))&&!(ee=as(ee))&&ri(F)?Dl(de(F),0,ge):F.split(ee,ge):[]},Ke.spread=function(F,ee){if(typeof F!="function")throw new ii(i);return ee=ee==null?0:to(Ei(ee),0),Ai(function(ge){var ke=ge[ee],$e=Dl(ge,0,ee);return ke&&ta($e,ke),Qi(F,this,$e)})},Ke.tail=function(F){var ee=F==null?0:F.length;return ee?$a(F,1,ee):[]},Ke.take=function(F,ee,ge){return F&&F.length?$a(F,0,(ee=ge||ee===r?1:Ei(ee))<0?0:ee):[]},Ke.takeRight=function(F,ee,ge){var ke=F==null?0:F.length;return ke?$a(F,(ee=ke-(ee=ge||ee===r?1:Ei(ee)))<0?0:ee,ke):[]},Ke.takeRightWhile=function(F,ee){return F&&F.length?cl(F,Wr(ee,3),!1,!0):[]},Ke.takeWhile=function(F,ee){return F&&F.length?cl(F,Wr(ee,3)):[]},Ke.tap=function(F,ee){return ee(F),F},Ke.throttle=function(F,ee,ge){var ke=!0,$e=!0;if(typeof F!="function")throw new ii(i);return bo(ge)&&(ke="leading"in ge?!!ge.leading:ke,$e="trailing"in ge?!!ge.trailing:$e),au(F,ee,{leading:ke,maxWait:ee,trailing:$e})},Ke.thru=ru,Ke.toArray=jh,Ke.toPairs=Pc,Ke.toPairsIn=Oc,Ke.toPath=function(F){return di(F)?Ii(F,Cs):xs(F)?[F]:ss(ed(Xi(F)))},Ke.toPlainObject=Al,Ke.transform=function(F,ee,ge){var ke=di(F),$e=ke||js(F)||Tc(F);if(ee=Wr(ee,4),ge==null){var ft=F&&F.constructor;ge=$e?ke?new ft:[]:bo(F)&&Es(ft)?io(Co(F)):{}}return($e?ho:Ns)(F,function(Rt,Gt,on){return ee(ge,Rt,Gt,on)}),ge},Ke.unary=function(F){return ou(F,1)},Ke.union=kh,Ke.unionBy=eu,Ke.unionWith=td,Ke.uniq=function(F){return F&&F.length?ll(F):[]},Ke.uniqBy=function(F,ee){return F&&F.length?ll(F,Wr(ee,2)):[]},Ke.uniqWith=function(F,ee){return ee=typeof ee=="function"?ee:r,F&&F.length?ll(F,r,ee):[]},Ke.unset=function(F,ee){return F==null||Wu(F,ee)},Ke.unzip=Dc,Ke.unzipWith=oh,Ke.update=function(F,ee,ge){return F==null?F:zd(F,ee,Gd(ge))},Ke.updateWith=function(F,ee,ge,ke){return ke=typeof ke=="function"?ke:r,F==null?F:zd(F,ee,Gd(ge),ke)},Ke.values=rl,Ke.valuesIn=function(F){return F==null?[]:vs(F,ya(F))},Ke.without=tu,Ke.words=Ml,Ke.wrap=function(F,ee){return su(Gd(ee),F)},Ke.xor=nu,Ke.xorBy=Nh,Ke.xorWith=Dp,Ke.zip=nd,Ke.zipObject=function(F,ee){return Hd(F||[],ee||[],dn)},Ke.zipObjectDeep=function(F,ee){return Hd(F||[],ee||[],Uc)},Ke.zipWith=ah,Ke.entries=Pc,Ke.entriesIn=Oc,Ke.extend=uh,Ke.extendWith=mu,Io(Ke,Ke),Ke.add=Ad,Ke.attempt=pl,Ke.camelCase=Uh,Ke.capitalize=Rc,Ke.ceil=Ic,Ke.clamp=function(F,ee,ge){return ge===r&&(ge=ee,ee=r),ge!==r&&(ge=(ge=co(ge))==ge?ge:0),ee!==r&&(ee=(ee=co(ee))==ee?ee:0),Er(co(F),ee,ge)},Ke.clone=function(F){return Ni(F,4)},Ke.cloneDeep=function(F){return Ni(F,5)},Ke.cloneDeepWith=function(F,ee){return Ni(F,5,ee=typeof ee=="function"?ee:r)},Ke.cloneWith=function(F,ee){return Ni(F,4,ee=typeof ee=="function"?ee:r)},Ke.conformsTo=function(F,ee){return ee==null||Xo(F,ee,Zo(ee))},Ke.deburr=Kl,Ke.defaultTo=function(F,ee){return F==null||F!=F?ee:F},Ke.divide=Fs,Ke.endsWith=function(F,ee,ge){F=Xi(F),ee=as(ee);var ke=F.length,$e=ge=ge===r?ke:Er(Ei(ge),0,ke);return(ge-=ee.length)>=0&&F.slice(ge,$e)==ee},Ke.eq=ls,Ke.escape=function(F){return(F=Xi(F))&&Ne.test(F)?F.replace(Ve,Ls):F},Ke.escapeRegExp=function(F){return(F=Xi(F))&&Qt.test(F)?F.replace(kt,"\\$&"):F},Ke.every=function(F,ee,ge){var ke=di(F)?Wa:ra;return ge&&Ja(F,ee,ge)&&(ee=r),ke(F,Wr(ee,3))},Ke.find=rd,Ke.findIndex=Wl,Ke.findKey=function(F,ee){return ai(F,Wr(ee,3),Ns)},Ke.findLast=Ho,Ke.findLastIndex=Ec,Ke.findLastKey=function(F,ee){return ai(F,Wr(ee,3),hc)},Ke.floor=Bp,Ke.forEach=lh,Ke.forEachRight=ch,Ke.forIn=function(F,ee){return F==null?F:dc(F,Wr(ee,3),ya)},Ke.forInRight=function(F,ee){return F==null?F:So(F,Wr(ee,3),ya)},Ke.forOwn=function(F,ee){return F&&Ns(F,Wr(ee,3))},Ke.forOwnRight=function(F,ee){return F&&hc(F,Wr(ee,3))},Ke.get=md,Ke.gt=cu,Ke.gte=pd,Ke.has=function(F,ee){return F!=null&&Fh(F,ee,Rd)},Ke.hasIn=Yl,Ke.head=ql,Ke.identity=Ca,Ke.includes=function(F,ee,ge,ke){F=Oa(F)?F:rl(F),ge=ge&&!ke?Ei(ge):0;var $e=F.length;return ge<0&&(ge=to($e+ge,0)),fd(F)?ge<=$e&&F.indexOf(ee,ge)>-1:!!$e&&go(F,ee,ge)>-1},Ke.indexOf=function(F,ee,ge){var ke=F==null?0:F.length;if(!ke)return-1;var $e=ge==null?0:Ei(ge);return $e<0&&($e=to(ke+$e,0)),go(F,ee,$e)},Ke.inRange=function(F,ee,ge){return ee=zs(ee),ge===r?(ge=ee,ee=0):ge=zs(ge),function(ke,$e,ft){return ke>=Wi($e,ft)&&ke<to($e,ft)}(F=co(F),ee,ge)},Ke.invoke=Hh,Ke.isArguments=ua,Ke.isArray=di,Ke.isArrayBuffer=uu,Ke.isArrayLike=Oa,Ke.isArrayLikeObject=Do,Ke.isBoolean=function(F){return F===!0||F===!1||wo(F)&&va(F)==le},Ke.isBuffer=js,Ke.isDate=du,Ke.isElement=function(F){return wo(F)&&F.nodeType===1&&!Fc(F)},Ke.isEmpty=function(F){if(F==null)return!0;if(Oa(F)&&(di(F)||typeof F=="string"||typeof F.splice=="function"||js(F)||Tc(F)||ua(F)))return!F.length;var ee=za(F);if(ee==se||ee==fe)return!F.size;if(Ks(F))return!zo(F).length;for(var ge in F)if(Cr.call(F,ge))return!1;return!0},Ke.isEqual=function(F,ee){return Hc(F,ee)},Ke.isEqualWith=function(F,ee,ge){var ke=(ge=typeof ge=="function"?ge:r)?ge(F,ee):r;return ke===r?Hc(F,ee,r,ge):!!ke},Ke.isError=Bc,Ke.isFinite=function(F){return typeof F=="number"&&is(F)},Ke.isFunction=Es,Ke.isInteger=hu,Ke.isLength=wl,Ke.isMap=pu,Ke.isMatch=function(F,ee){return F===ee||Id(F,ee,Kd(ee))},Ke.isMatchWith=function(F,ee,ge){return ge=typeof ge=="function"?ge:r,Id(F,ee,Kd(ee),ge)},Ke.isNaN=function(F){return Mc(F)&&F!=+F},Ke.isNative=function(F){if(Th(F))throw new ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return os(F)},Ke.isNil=function(F){return F==null},Ke.isNull=function(F){return F===null},Ke.isNumber=Mc,Ke.isObject=bo,Ke.isObjectLike=wo,Ke.isPlainObject=Fc,Ke.isRegExp=Jl,Ke.isSafeInteger=function(F){return hu(F)&&F>=-9007199254740991&&F<=A},Ke.isSet=Sc,Ke.isString=fd,Ke.isSymbol=xs,Ke.isTypedArray=Tc,Ke.isUndefined=function(F){return F===r},Ke.isWeakMap=function(F){return wo(F)&&za(F)==_e},Ke.isWeakSet=function(F){return wo(F)&&va(F)=="[object WeakSet]"},Ke.join=function(F,ee){return F==null?"":Sa.call(F,ee)},Ke.kebabCase=Bl,Ke.last=Xa,Ke.lastIndexOf=function(F,ee,ge){var ke=F==null?0:F.length;if(!ke)return-1;var $e=ke;return ge!==r&&($e=($e=Ei(ge))<0?to(ke+$e,0):Wi($e,ke-1)),ee==ee?function(ft,Rt,Gt){for(var on=$e+1;on--;)if(ft[on]===Rt)return on;return on}(F,ee):Bn(F,cc,$e,!0)},Ke.lowerCase=yd,Ke.lowerFirst=Cd,Ke.lt=bp,Ke.lte=wp,Ke.max=function(F){return F&&F.length?sl(F,Ca,Kr):r},Ke.maxBy=function(F,ee){return F&&F.length?sl(F,Wr(ee,2),Kr):r},Ke.mean=function(F){return ji(F,Ca)},Ke.meanBy=function(F,ee){return ji(F,Wr(ee,2))},Ke.min=function(F){return F&&F.length?sl(F,Ca,Rl):r},Ke.minBy=function(F,ee){return F&&F.length?sl(F,Wr(ee,2),Rl):r},Ke.stubArray=Sl,Ke.stubFalse=Lc,Ke.stubObject=function(){return{}},Ke.stubString=function(){return""},Ke.stubTrue=function(){return!0},Ke.multiply=nc,Ke.nth=function(F,ee){return F&&F.length?Nl(F,Ei(ee)):r},Ke.noConflict=function(){return Ci._===this&&(Ci._=Gi),this},Ke.noop=Za,Ke.now=xo,Ke.pad=function(F,ee,ge){F=Xi(F);var ke=(ee=Ei(ee))?te(F):0;if(!ee||ke>=ee)return F;var $e=(ee-ke)/2;return Xu(Eo($e),ge)+F+Xu(na($e),ge)},Ke.padEnd=function(F,ee,ge){F=Xi(F);var ke=(ee=Ei(ee))?te(F):0;return ee&&ke<ee?F+Xu(ee-ke,ge):F},Ke.padStart=function(F,ee,ge){F=Xi(F);var ke=(ee=Ei(ee))?te(F):0;return ee&&ke<ee?Xu(ee-ke,ge)+F:F},Ke.parseInt=function(F,ee,ge){return ge||ee==null?ee=0:ee&&(ee=+ee),Fo(Xi(F).replace(gt,""),ee||0)},Ke.random=function(F,ee,ge){if(ge&&typeof ge!="boolean"&&Ja(F,ee,ge)&&(ee=ge=r),ge===r&&(typeof ee=="boolean"?(ge=ee,ee=r):typeof F=="boolean"&&(ge=F,F=r)),F===r&&ee===r?(F=0,ee=1):(F=zs(F),ee===r?(ee=F,F=0):ee=zs(ee)),F>ee){var ke=F;F=ee,ee=ke}if(ge||F%1||ee%1){var $e=al();return Wi(F+$e*(ee-F+gs("1e-"+(($e+"").length-1))),ee)}return xi(F,ee)},Ke.reduce=function(F,ee,ge){var ke=di(F)?Fa:$s,$e=arguments.length<3;return ke(F,Wr(ee,4),ge,$e,Pa)},Ke.reduceRight=function(F,ee,ge){var ke=di(F)?$o:$s,$e=arguments.length<3;return ke(F,Wr(ee,4),ge,$e,ks)},Ke.repeat=function(F,ee,ge){return ee=(ge?Ja(F,ee,ge):ee===r)?1:Ei(ee),Ms(Xi(F),ee)},Ke.replace=function(){var F=arguments,ee=Xi(F[0]);return F.length<3?ee:ee.replace(F[1],F[2])},Ke.result=function(F,ee,ge){var ke=-1,$e=(ee=xl(ee,F)).length;for($e||($e=1,F=r);++ke<$e;){var ft=F==null?r:F[Cs(ee[ke])];ft===r&&(ke=$e,ft=ge),F=Es(ft)?ft.call(F):ft}return F},Ke.round=hh,Ke.runInContext=Te,Ke.sample=function(F){return(di(F)?Sn:function(ee){return Sn(rl(ee))})(F)},Ke.size=function(F){if(F==null)return 0;if(Oa(F))return fd(F)?te(F):F.length;var ee=za(F);return ee==se||ee==fe?F.size:zo(F).length},Ke.snakeCase=Ed,Ke.some=function(F,ee,ge){var ke=di(F)?ts:mh;return ge&&Ja(F,ee,ge)&&(ee=r),ke(F,Wr(ee,3))},Ke.sortedIndex=function(F,ee){return Gu(F,ee)},Ke.sortedIndexBy=function(F,ee,ge){return Nd(F,ee,Wr(ge,2))},Ke.sortedIndexOf=function(F,ee){var ge=F==null?0:F.length;if(ge){var ke=Gu(F,ee);if(ke<ge&&ls(F[ke],ee))return ke}return-1},Ke.sortedLastIndex=function(F,ee){return Gu(F,ee,!0)},Ke.sortedLastIndexBy=function(F,ee,ge){return Nd(F,ee,Wr(ge,2),!0)},Ke.sortedLastIndexOf=function(F,ee){if(F!=null&&F.length){var ge=Gu(F,ee,!0)-1;if(ls(F[ge],ee))return ge}return-1},Ke.startCase=Cu,Ke.startsWith=function(F,ee,ge){return F=Xi(F),ge=ge==null?0:Er(Ei(ge),0,F.length),ee=as(ee),F.slice(ge,ge+ee.length)==ee},Ke.subtract=Gh,Ke.sum=function(F){return F&&F.length?Mo(F,Ca):0},Ke.sumBy=function(F,ee){return F&&F.length?Mo(F,Wr(ee,2)):0},Ke.template=function(F,ee,ge){var ke=Ke.templateSettings;ge&&Ja(F,ee,ge)&&(ee=r),F=Xi(F),ee=mu({},ee,ke,dl);var $e,ft,Rt=mu({},ee.imports,ke.imports,dl),Gt=Zo(Rt),on=vs(Rt,Gt),nn=0,wn=ee.interpolate||jr,jn="__p += '",vr=er((ee.escape||jr).source+"|"+wn.source+"|"+(wn===vt?dt:jr).source+"|"+(ee.evaluate||jr).source+"|$","g"),wr="//# sourceURL="+(Cr.call(ee,"sourceURL")?(ee.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ba+"]")+`
`;F.replace(vr,function($n,Ar,ir,oi,Qr,Di){return ir||(ir=oi),jn+=F.slice(nn,Di).replace(Bi,la),Ar&&($e=!0,jn+=`' +
__e(`+Ar+`) +
'`),Qr&&(ft=!0,jn+=`';
`+Qr+`;
__p += '`),ir&&(jn+=`' +
((__t = (`+ir+`)) == null ? '' : __t) +
'`),nn=Di+$n.length,$n}),jn+=`';
`;var zr=Cr.call(ee,"variable")&&ee.variable;if(zr){if(Fn.test(zr))throw new ct("Invalid `variable` option passed into `_.template`")}else jn=`with (obj) {
`+jn+`
}
`;jn=(ft?jn.replace(st,""):jn).replace(It,"$1").replace(Ct,"$1;"),jn="function("+(zr||"obj")+`) {
`+(zr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($e?", __e = _.escape":"")+(ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jn+`return __p
}`;var Tn=pl(function(){return Yt(Gt,wr+"return "+jn).apply(r,on)});if(Tn.source=jn,Bc(Tn))throw Tn;return Tn},Ke.times=function(F,ee){if((F=Ei(F))<1||F>A)return[];var ge=L,ke=Wi(F,L);ee=Wr(ee),F-=L;for(var $e=Rs(ke,ee);++ge<F;)ee(ge);return $e},Ke.toFinite=zs,Ke.toInteger=Ei,Ke.toLength=Xl,Ke.toLower=function(F){return Xi(F).toLowerCase()},Ke.toNumber=co,Ke.toSafeInteger=function(F){return F?Er(Ei(F),-9007199254740991,A):F===0?F:0},Ke.toString=Xi,Ke.toUpper=function(F){return Xi(F).toUpperCase()},Ke.trim=function(F,ee,ge){if((F=Xi(F))&&(ge||ee===r))return qs(F);if(!F||!(ee=as(ee)))return F;var ke=de(F),$e=de(ee);return Dl(ke,uc(ke,$e),ns(ke,$e)+1).join("")},Ke.trimEnd=function(F,ee,ge){if((F=Xi(F))&&(ge||ee===r))return F.slice(0,me(F)+1);if(!F||!(ee=as(ee)))return F;var ke=de(F);return Dl(ke,0,ns(ke,de(ee))+1).join("")},Ke.trimStart=function(F,ee,ge){if((F=Xi(F))&&(ge||ee===r))return F.replace(gt,"");if(!F||!(ee=as(ee)))return F;var ke=de(F);return Dl(ke,uc(ke,de(ee))).join("")},Ke.truncate=function(F,ee){var ge=30,ke="...";if(bo(ee)){var $e="separator"in ee?ee.separator:$e;ge="length"in ee?Ei(ee.length):ge,ke="omission"in ee?as(ee.omission):ke}var ft=(F=Xi(F)).length;if(ri(F)){var Rt=de(F);ft=Rt.length}if(ge>=ft)return F;var Gt=ge-te(ke);if(Gt<1)return ke;var on=Rt?Dl(Rt,0,Gt).join(""):F.slice(0,Gt);if($e===r)return on+ke;if(Rt&&(Gt+=on.length-Gt),Jl($e)){if(F.slice(Gt).search($e)){var nn,wn=on;for($e.global||($e=er($e.source,Xi(At.exec($e))+"g")),$e.lastIndex=0;nn=$e.exec(wn);)var jn=nn.index;on=on.slice(0,jn===r?Gt:jn)}}else if(F.indexOf(as($e),Gt)!=Gt){var vr=on.lastIndexOf($e);vr>-1&&(on=on.slice(0,vr))}return on+ke},Ke.unescape=function(F){return(F=Xi(F))&&Ze.test(F)?F.replace(tt,Ce):F},Ke.uniqueId=function(F){var ee=++fa;return Xi(F)+ee},Ke.upperCase=Ya,Ke.upperFirst=Ql,Ke.each=lh,Ke.eachRight=ch,Ke.first=ql,Io(Ke,(tc={},Ns(Ke,function(F,ee){Cr.call(Ke.prototype,ee)||(tc[ee]=F)}),tc),{chain:!1}),Ke.VERSION="4.17.21",ho(["bind","bindKey","curry","curryRight","partial","partialRight"],function(F){Ke[F].placeholder=Ke}),ho(["drop","take"],function(F,ee){li.prototype[F]=function(ge){ge=ge===r?1:to(Ei(ge),0);var ke=this.__filtered__&&!ee?new li(this):this.clone();return ke.__filtered__?ke.__takeCount__=Wi(ge,ke.__takeCount__):ke.__views__.push({size:Wi(ge,L),type:F+(ke.__dir__<0?"Right":"")}),ke},li.prototype[F+"Right"]=function(ge){return this.reverse()[F](ge).reverse()}}),ho(["filter","map","takeWhile"],function(F,ee){var ge=ee+1,ke=ge==1||ge==3;li.prototype[F]=function($e){var ft=this.clone();return ft.__iteratees__.push({iteratee:Wr($e,3),type:ge}),ft.__filtered__=ft.__filtered__||ke,ft}}),ho(["head","last"],function(F,ee){var ge="take"+(ee?"Right":"");li.prototype[F]=function(){return this[ge](1).value()[0]}}),ho(["initial","tail"],function(F,ee){var ge="drop"+(ee?"":"Right");li.prototype[F]=function(){return this.__filtered__?new li(this):this[ge](1)}}),li.prototype.compact=function(){return this.filter(Ca)},li.prototype.find=function(F){return this.filter(F).head()},li.prototype.findLast=function(F){return this.reverse().find(F)},li.prototype.invokeMap=Ai(function(F,ee){return typeof F=="function"?new li(this):this.map(function(ge){return ia(ge,F,ee)})}),li.prototype.reject=function(F){return this.filter(_c(Wr(F)))},li.prototype.slice=function(F,ee){F=Ei(F);var ge=this;return ge.__filtered__&&(F>0||ee<0)?new li(ge):(F<0?ge=ge.takeRight(-F):F&&(ge=ge.drop(F)),ee!==r&&(ge=(ee=Ei(ee))<0?ge.dropRight(-ee):ge.take(ee-F)),ge)},li.prototype.takeRightWhile=function(F){return this.reverse().takeWhile(F).reverse()},li.prototype.toArray=function(){return this.take(L)},Ns(li.prototype,function(F,ee){var ge=/^(?:filter|find|map|reject)|While$/.test(ee),ke=/^(?:head|last)$/.test(ee),$e=Ke[ke?"take"+(ee=="last"?"Right":""):ee],ft=ke||/^find/.test(ee);$e&&(Ke.prototype[ee]=function(){var Rt=this.__wrapped__,Gt=ke?[1]:arguments,on=Rt instanceof li,nn=Gt[0],wn=on||di(Rt),jn=function(Ar){var ir=$e.apply(Ke,ta([Ar],Gt));return ke&&vr?ir[0]:ir};wn&&ge&&typeof nn=="function"&&nn.length!=1&&(on=wn=!1);var vr=this.__chain__,wr=!!this.__actions__.length,zr=ft&&!vr,Tn=on&&!wr;if(!ft&&wn){Rt=Tn?Rt:new li(this);var $n=F.apply(Rt,Gt);return $n.__actions__.push({func:ru,args:[jn],thisArg:r}),new fi($n,vr)}return zr&&Tn?F.apply(this,Gt):($n=this.thru(jn),zr?ke?$n.value()[0]:$n.value():$n)})}),ho(["pop","push","shift","sort","splice","unshift"],function(F){var ee=si[F],ge=/^(?:push|sort|unshift)$/.test(F)?"tap":"thru",ke=/^(?:pop|shift)$/.test(F);Ke.prototype[F]=function(){var $e=arguments;if(ke&&!this.__chain__){var ft=this.value();return ee.apply(di(ft)?ft:[],$e)}return this[ge](function(Rt){return ee.apply(di(Rt)?Rt:[],$e)})}}),Ns(li.prototype,function(F,ee){var ge=Ke[ee];if(ge){var ke=ge.name+"";Cr.call(En,ke)||(En[ke]=[]),En[ke].push({name:ee,func:ge})}}),En[qu(r,2).name]=[{name:"wrapper",func:r}],li.prototype.clone=function(){var F=new li(this.__wrapped__);return F.__actions__=ss(this.__actions__),F.__dir__=this.__dir__,F.__filtered__=this.__filtered__,F.__iteratees__=ss(this.__iteratees__),F.__takeCount__=this.__takeCount__,F.__views__=ss(this.__views__),F},li.prototype.reverse=function(){if(this.__filtered__){var F=new li(this);F.__dir__=-1,F.__filtered__=!0}else(F=this.clone()).__dir__*=-1;return F},li.prototype.value=function(){var F=this.__wrapped__.value(),ee=this.__dir__,ge=di(F),ke=ee<0,$e=ge?F.length:0,ft=function(Di,_r,Tr){for(var po=-1,ao=Tr.length;++po<ao;){var Uo=Tr[po],Ui=Uo.size;switch(Uo.type){case"drop":Di+=Ui;break;case"dropRight":_r-=Ui;break;case"take":_r=Wi(_r,Di+Ui);break;case"takeRight":Di=to(Di,_r-Ui)}}return{start:Di,end:_r}}(0,$e,this.__views__),Rt=ft.start,Gt=ft.end,on=Gt-Rt,nn=ke?Gt:Rt-1,wn=this.__iteratees__,jn=wn.length,vr=0,wr=Wi(on,this.__takeCount__);if(!ge||!ke&&$e==on&&wr==on)return ys(F,this.__actions__);var zr=[];e:for(;on--&&vr<wr;){for(var Tn=-1,$n=F[nn+=ee];++Tn<jn;){var Ar=wn[Tn],ir=Ar.iteratee,oi=Ar.type,Qr=ir($n);if(oi==2)$n=Qr;else if(!Qr){if(oi==1)continue e;break e}}zr[vr++]=$n}return zr},Ke.prototype.at=bc,Ke.prototype.chain=function(){return sh(this)},Ke.prototype.commit=function(){return new fi(this.value(),this.__chain__)},Ke.prototype.next=function(){this.__values__===r&&(this.__values__=jh(this.value()));var F=this.__index__>=this.__values__.length;return{done:F,value:F?r:this.__values__[this.__index__++]}},Ke.prototype.plant=function(F){for(var ee,ge=this;ge instanceof Wn;){var ke=tl(ge);ke.__index__=0,ke.__values__=r,ee?$e.__wrapped__=ke:ee=ke;var $e=ke;ge=ge.__wrapped__}return $e.__wrapped__=F,ee},Ke.prototype.reverse=function(){var F=this.__wrapped__;if(F instanceof li){var ee=F;return this.__actions__.length&&(ee=new li(this)),(ee=ee.reverse()).__actions__.push({func:ru,args:[Qc],thisArg:r}),new fi(ee,this.__chain__)}return this.thru(Qc)},Ke.prototype.toJSON=Ke.prototype.valueOf=Ke.prototype.value=function(){return ys(this.__wrapped__,this.__actions__)},Ke.prototype.first=Ke.prototype.head,Ji&&(Ke.prototype[Ji]=function(){return this}),Ke}();at?((at.exports=Ie)._=Ie,Fe._=Ie):Ci._=Ie}).call(commonjsGlobal$1)}),MxCursorType;async function useCanvasResizeListener(e,t,r=100){if(!store.state.MxFun)return void console.error("\u8BF7\u5148\u8C03\u7528loadCoreCode\u65B9\u6CD5! ");if(!e)return void console.error("\u8BF7\u786E\u4FDDmxdrawObj\u53C2\u6570 \u662F\u901A\u8FC7\u8C03\u7528MxFun.createMxObject\u7684callback\u56DE\u8C03\u51FD\u6570\u62FF\u5230\u7684mxDraw\u5BF9\u8C61");let i=e;if(!i.isLoadCanvasResizeListene){let a;i.isLoadCanvasResizeListene=!0,e.addEvent("addResizeEvent",c=>{a=c}),await dynamicImport("element-resize-event-polyfill");let l=createCanvasParent(t);l.addEventListener?l.addEventListener("resize",lodash.throttle(function(c){a&&a()},r),!1):console.log("mx: parentdiv[addEventListener] invalid")}}class McEdGetPointWorldDrawObject{constructor(){var t;this._McEdGetPointWorldDraw=new((t=store.state.MxFun)===null||t===void 0?void 0:t.getMxJigCmdManager().McEdGetPointWorldDrawObjectClass()),this._get=()=>this._McEdGetPointWorldDraw}drawCircle(t,r){return this._McEdGetPointWorldDraw.drawCircle(t,r)}drawLine(t,r){return this._McEdGetPointWorldDraw.drawLine(t,r)}drawEntity(t,r){return this._McEdGetPointWorldDraw.drawEntity(t,r)}drawMcDbEntity(t){return this._McEdGetPointWorldDraw.drawMcDbEntity(t)}drawMcDbLine(t,r,i,a,l,c){return this._McEdGetPointWorldDraw.drawMcDbLine(t,r,i,a,l,c)}drawText(t,r,i,a){return this._McEdGetPointWorldDraw.drawText(t,r,i,a)}setDraw(t){return this._McEdGetPointWorldDraw.setDraw(t)}setColor(t){return this._McEdGetPointWorldDraw.setColor(t)}getColor(){return this._McEdGetPointWorldDraw.getColor()}drawCustomEntity(t,r){return this._McEdGetPointWorldDraw.drawCustomEntity(t,r)}}(function(e){e[e.kNormal=0]="kNormal",e[e.kRect=1]="kRect",e[e.kCross=2]="kCross"})(MxCursorType||(MxCursorType={}));class MrxDbgUiPrPoint{constructor(){var t;this._MrxDbgUiPrPoint=new((t=store.state.MxFun)===null||t===void 0?void 0:t.getMxJigCmdManager().getMrxDbgUiPrPointClass())}keyWords(){return this._MrxDbgUiPrPoint.keyWords()}setKeyWords(t){return this._MrxDbgUiPrPoint.setKeyWords(t)}message(){return this._MrxDbgUiPrPoint.message()}setMessage(t){return this._MrxDbgUiPrPoint.setMessage(t)}keyWordPicked(){return this._MrxDbgUiPrPoint.keyWordPicked()}isKeyWordPicked(t){return this._MrxDbgUiPrPoint.isKeyWordPicked(t)}setUserDraw(t){if(typeof t!="function")return this._MrxDbgUiPrPoint.setUserDraw(t._get?t._get():t);{const r=new McEdGetPointWorldDrawObject;r.setDraw(t),this._MrxDbgUiPrPoint.setUserDraw(r._get())}}value(){return this._MrxDbgUiPrPoint.value()}getCADValue(){return this._MrxDbgUiPrPoint.getCADValue()}valueDocCoord(){return this._MrxDbgUiPrPoint.valueDocCoord()}basePt(){return this._MrxDbgUiPrPoint.basePt()}setBasePt(t){return this._MrxDbgUiPrPoint.setBasePt(t)}setUseBasePt(t){return this._MrxDbgUiPrPoint.setUseBasePt(t)}go(t){let r=this;return t?(r._MrxDbgUiPrPoint.go(t),new Promise((i,a)=>{i(null)})):new Promise((i,a)=>{r._MrxDbgUiPrPoint.go(l=>{i(l!=0?null:r._MrxDbgUiPrPoint.value())})})}goWhile(t,r){return this._MrxDbgUiPrPoint.goWhile(t,r)}drawReserve(t){return this._MrxDbgUiPrPoint.drawReserve(t)}setInputToucheType(t){return this._MrxDbgUiPrPoint.setInputToucheType(t)}getInputToucheType(){return this._MrxDbgUiPrPoint.getInputToucheType()}setCursorType(t){this._MrxDbgUiPrPoint.setCursorType(t)}getCursorType(){return this._MrxDbgUiPrPoint.getCursorType()}}class MxVueComandLine{constructor(){this.msCmdText="",this.msCmdDisplay="",this.msCmdTip="",this.mxFunObject=void 0,this.mountUpDisplayFun=t=>{this.mUpDisplayFun=t},this.setCmdText=t=>{this.msCmdText=t},this.getCmdText=()=>this.msCmdText,this.getCmdDisplay=()=>this.msCmdDisplay,this.setCmdDisplay=t=>{this.msCmdDisplay=t},this.addCmdDisplay=t=>{this.msCmdDisplay.length>1024?(this.msCmdDisplay=this.msCmdDisplay.substring(this.msCmdDisplay.length-1024,this.msCmdDisplay.length),this.msCmdDisplay=this.msCmdDisplay+t):this.msCmdDisplay=this.msCmdDisplay+t},this.setCmdTip=t=>{this.msCmdTip=t},this.getCmdTip=()=>this.msCmdTip}upDisplay(){const{msCmdTip:t,msCmdDisplay:r,msCmdText:i}=this;this.mUpDisplayFun!=null&&this.mUpDisplayFun({msCmdTip:t,msCmdDisplay:r,msCmdText:i})}}const MxInputType={kNoInput:0,kXYCoordInput:1,kDistanceInput:2,kDynTip:3},MxInputPostionType={kRelative:0,kAbsolutely:1};class MxDynamicInput{constructor(){this.mType=MxInputType.kNoInput,this.mPos=[0,0],this.mTip="",this.mValue1="",this.mValue1Pos=[0,0],this.mValue2="",this.mValue2Pos=[0,0],this.misShow=!1,this.mOnKeydownEvent=void 0,this.mFocusValue="",this.setFocusValue=t=>{this.mFocusValue=t},this.getFocusValue=()=>this.mFocusValue,this.mountKeydownEvent=t=>{this.mOnKeydownEvent=t},this.onKeydown=t=>{this.mOnKeydownEvent!=null&&this.mOnKeydownEvent(t)},this.setType=t=>{this.mType=t},this.getType=()=>this.mType,this.isShow=()=>this.misShow,this.setPos=t=>{this.mPos=t},this.setTip=t=>{this.mTip=t},this.setValue1=t=>{this.mValue1=t},this.getValue1=()=>this.mValue1,this.setValue1Pos=t=>{this.mValue1Pos=t},this.setValue2=t=>{this.mValue2=t},this.getValue2=()=>this.mValue2,this.setValue2Pos=t=>{this.mValue2Pos=t},this.setShow=t=>{this.misShow=t},this.getData=()=>{if(!this.misShow)return;let t={list:[{value:"",readonly:!0},{value:"",readonly:!1},{value:"",readonly:!1}],pos:this.mPos,postype:MxInputPostionType.kRelative};return this.mType!=MxInputType.kNoInput?(this.mType==MxInputType.kXYCoordInput?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!0,t.list[1].value=this.mValue1,t.list[1].readonly=!1,t.list[2].show=!0,t.list[2].value=this.mValue2,t.list[2].readonly=!1):this.mType==MxInputType.kDistanceInput?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!0,t.list[1].value=this.mValue1,t.list[1].readonly=!1,t.list[1].pos=this.mValue1Pos,t.list[2].show=!0,t.list[2].value=this.mValue2,t.list[2].readonly=!0,t.list[2].pos=this.mValue2Pos,t.postype=MxInputPostionType.kAbsolutely):this.mType==MxInputType.kDynTip?(t.list[0].show=!0,t.list[0].value=this.mTip,t.list[0].readonly=!0,t.list[1].show=!1,t.list[2].show=!1):t=void 0,t):void 0}}}const CursorType={kNormal:"Normal",kRect:"Rect",kCross:"Cross"};class MxVueInterface{constructor(){this.mSetCoordFun=void 0,this.mUpdateCursorFun=void 0,this.mOnKeydownEvent=void 0,this.mCursorType=CursorType.kNormal,this.mComandLine=new MxVueComandLine,this.mdynamicInput=new MxDynamicInput,this.mMxEvents={},this.mountSetCoordFun=t=>{this.mSetCoordFun=t},this.mountUpdateCursorFun=t=>{this.mUpdateCursorFun=t},this.mountKeydownEvent=t=>{this.mOnKeydownEvent=t},this.onKeydown=t=>{this.mOnKeydownEvent!=null&&this.mOnKeydownEvent(t)},this.setTipCoord=t=>{this.mSetCoordFun!=null&&this.mSetCoordFun(t)},this.getCursorType=()=>this.mCursorType,this.setCursorType=t=>{if(typeof t=="number")switch(t){case 0:this.mCursorType=CursorType.kNormal;break;case 1:this.mCursorType=CursorType.kRect;break;case 2:this.mCursorType=CursorType.kCross}else this.mCursorType=t;this.mUpdateCursorFun!=null&&this.mUpdateCursorFun(this.mCursorType)},this.getTitle=()=>this.mTitle,this.getTopButtonBarData=()=>this.mTopButtonBarData,this.getMenuBarData=()=>this.mMenuBarData,this.getRighButtonBarData=()=>this.mRighButtonBarData,this.getLeftButtonBarData=()=>this.mLeftButtonBarData,this.getTitleButtonBarData=()=>this.mTitleButtonBarData,this.getLayerComboxData=()=>this.mLayerComboxData,this.getColorComboxData=()=>this.mColorComboxData,this.getLinetypeComboxData=()=>this.mLinetypeComboxData,this.getFooterData=()=>this.mFooterData,this.sendStringToExecute=t=>{this.mxFunObject.sendStringToExecute(t)},this.getCmdLine=()=>this.mComandLine,this.getDynamicInput=()=>this.mdynamicInput,this.init=t=>{this.mxFunObject=t},this.OnMxEvent=t=>{const r=t.name;if(r==null)return;const i=this.mMxEvents[r];i?.(t.param)},this.mountMxEvent=(t,r)=>{this.mMxEvents[t]=r}}}const mxUiData$1=new MxVueInterface;class MxCADObject{constructor(t){this._mxCAD=t}newFile(){this._mxCAD.newFile()}undo(){this._mxCAD.undo()}openFile(t,r){this._mxCAD.openFile(t,r)}saveFile(t,r){this._mxCAD.saveFile(t,r)}getDisplayFromServer(){this._mxCAD.getDisplayFromServer()}getFileName(){return this._mxCAD.getFileName()}getAllLayerData(){return this._mxCAD.getAllLayerData()}}function createReandomId(e=10){return new Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}class Node$1 extends PubSub{constructor(){super(...arguments),this.parent=null,this.children=[]}add(...t){if(t.length>1){for(let i=0;i<t.length;i++){const a=t[i];this.add(a)}return this}const r=t[0];return r===this?(console.error("Node.add \u4E0D\u53EF\u4EE5\u6DFB\u52A0\u5B83\u81EA\u5DF1"),this):(r&&(r.parent!==null&&r.parent.remove(r),r.parent=this,this.children.push(r)),this)}remove(...t){t.length>1&&t.forEach(a=>{this.remove(a)});const r=t[0],i=this.children.indexOf(r);return i!==-1&&(r.parent=null,this.children.splice(i,1)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++)this.children[t].parent=null;return this.children.length=0,this}getNodeByProperty(t,r){if(this[t]===r)return this;for(let i=0,a=this.children.length;i<a;i++){const l=this.children[i].getNodeByProperty(t,r);if(l!==void 0)return l}}getNodesByProperty(t,r){let i=[];this[t]===r&&i.push(this);for(let a=0,l=this.children.length;a<l;a++){const c=this.children[a].getNodesByProperty(t,r);c.length>0&&(i=i.concat(c))}return i}traverse(t){t(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].traverse(t)}traverseParent(t){this.parent!==null&&t(this.parent)!==!1&&this.parent.traverseParent(t)}emit(t,...r){super.emit(t,...r),this.traverseParent(i=>(i.emit(t,...r),r?.isEventBubbling!==!1&&void 0))}}class RenderOrderNode extends Node$1{constructor(){super(),this.renderOrder=30}setRenderOrder(t){this.renderOrder=t}getRenderOrder(){return this.renderOrder}top(){var t;if(!this.parent)return;let r=Math.max(...(t=this.parent)===null||t===void 0?void 0:t.children.map(({renderOrder:i})=>i));r!==this.renderOrder&&r++,this.setRenderOrder(r)}bottom(){var t;if(!this.parent)return;let r=Math.min(...(t=this.parent)===null||t===void 0?void 0:t.children.map(({renderOrder:i})=>i));r--,this.setRenderOrder(r)}restoreDefaultRenderOrder(){this.renderOrder=30}}class Layer extends RenderOrderNode{constructor(t){super(),this.isLayer=!0,this.getLayerMap=()=>this.getDatabase()._mxDatabase.mapNameToLayer,this.getEntityMap=()=>this.getDatabase()._mxDatabase.mapIdToEntity,this.getRootLayerName=()=>this.getNames()[0]||"0";const r=typeof t=="string"?t:Date.now()+Math.random().toString(36).substr(2,9);Object.defineProperty(this,"name",{get:()=>r,set(){throw new Error("\u4E0D\u80FD\u4FEE\u6539Layer.name\u503C, \u56E0\u4E3A\u5B83\u662FLayer \u5B9E\u4F8B\u7684\u552F\u4E00\u6807\u8BC6")},configurable:!1});let i=this.renderOrder;Object.defineProperty(this,"renderOrder",{get:()=>i,set(a){this.getLayer().group.renderOrder=a,i=a,MxFun.updateDisplay()}})}get visible(){const t=this.getDatabase().getLayer(this.name);return!t||t.getVisible()}set visible(t){this.getDatabase().showLayer(this.name,t),MxFun.updateDisplay()}setVisible(t){this.visible=t}getDatabase(){return this._database||(this._database=MxFun.getCurrentDatabase()),this._database}getLayer(){return this.getDatabase().getLayer(this.name)||this.getDatabase().addLayer(this.name),this.getDatabase().getLayer(this.name)}getCurrentName(){return this.getDatabase()._mxDatabase.curLayer.toString()}async callLayerContextFun(t){const r=this.getCurrentName();this.getDatabase().setCurrentLayer(this.name);const i=await t();return this.getDatabase().setCurrentLayer(r),i}getNames(){return Array.from(this.getLayerMap().keys())}getAllEntity(){return Array.from(this.getEntityMap().values()).filter(({userObject:t})=>t.layer===this.name).map(({userObject:t})=>t)}add(...t){var r;const i=this.getLayer();return i.group.renderOrder!==this.renderOrder&&(i.group.renderOrder=this.renderOrder,this.children=this.getAllEntity()),this.parent||(this.parent=MxFun.getCurrentDraw(),(r=this.parent)===null||r===void 0||r.add(this)),super.add(...t),this.callLayerContextFun(()=>{t.forEach(a=>{a&&this.getDatabase().addEntity(a)})}),this}remove(...t){super.remove(...t);let r=this.getRootLayerName();return this.callLayerContextFun(()=>{t.forEach(i=>{i&&(i.setLayer(r),i.setNeedUpdateDisplay())})}),this}}class MxDbDatabase{constructor(t){this._mxDatabase=t}addLayer(t){return this._mxDatabase.addLayer(t)}showLayer(t,r){this._mxDatabase.showLayer(t,r)}setCurrentLayer(t){return this._mxDatabase.setCurrentLayer(t)}getLayer(t){return this._mxDatabase.getLayer(t)}addEntity(t){return this._mxDatabase.addMxEntity(t)}getGroup(t){return this._mxDatabase.getGroupDictionary().getAt(t)}addGroup(t){return this._mxDatabase.getGroupDictionary().add(t)}getEntityInGroup(t){return this._mxDatabase.getGroupDictionary().getEntityInGroup(t)}deleteGroup(t){return this._mxDatabase.getGroupDictionary().delete(t)}}function setGeometrPostion(e,t){for(let r=0;r<e.vertices.length;r++)e.vertices[r].x+=t.x,e.vertices[r].y+=t.y,e.vertices[r].z+=t.z}function repairGeometryFaceVertexUvs(e){e.computeBoundingBox();const t=e.boundingBox.min,r=e.boundingBox.max,i=new THREE.Vector2(0-t.x,0-t.y),a=new THREE.Vector2(r.x-t.x,r.y-t.y);e.faceVertexUvs[0]=[];const l=e.faces;for(let c=0;c<l.length;c++){const d=l[c],E=e.vertices[d.a],C=e.vertices[d.b],D=e.vertices[d.c];e.faceVertexUvs[0].push([new THREE.Vector2((E.x+i.x)/a.x,(E.y+i.y)/a.y),new THREE.Vector2((C.x+i.x)/a.x,(C.y+i.y)/a.y),new THREE.Vector2((D.x+i.x)/a.x,(D.y+i.y)/a.y)])}return e.uvsNeedUpdate=!0,e}function insertPointsWithEqualSpacing(e){const t=[];if(e.length<2)return e;let r=Number.MAX_VALUE;for(let i=0;i<e.length-1;i++){const a=e[i].distanceTo(e[i+1]);a<r&&(r=a)}for(let i=0;i<e.length-1;i++){const a=e[i],l=e[i+1];t.push(a);const c=a.distanceTo(l);if(c>r){const d=Math.floor(c/r),E=l.clone().sub(a).normalize();for(let C=1;C<d;C++){const D=a.clone().add(E.clone().multiplyScalar(C*r));t.push(D)}}}return t.push(e[e.length-1]),t}function getToGenerateRoundedCorners(e,t,r=!0){const i=new THREE.CurvePath;if(e.length<2)throw new Error("Points should have at least 2 items");if(!t||t.length===0)return e;!r&&e[0].equals(e[e.length-1])&&e.pop(),r||e.push(e[0]);for(let l=0;l<e.length-1;l++){const c=t[l]||0;if(l===0&&!r){const S=e[0].clone().sub(e[1]);S.normalize();const L=e[1].clone();L.add(S.clone().multiplyScalar(c));const N=new THREE.LineCurve3(e[0],L);i.curves.push(N);continue}const d=!r||e[l-1]?e[l-1].clone().sub(e[l]):e[e.length-1].clone().sub(e[0]);d.normalize();const E=!r||e[l+1]?e[l+1].clone().sub(e[l]):e[1].clone().sub(e[0]);E.normalize();const C=e[l].clone().add(d.clone().multiplyScalar(c)),D=e[l].clone(),f=e[l].clone().add(E.clone().multiplyScalar(c)),A=new THREE.QuadraticBezierCurve3(C,D,f);if(l===e.length-2){const S=e[l].clone().add(E.clone().multiplyScalar(c)),L=e[l+1].clone();r?L.add(E.clone().multiplyScalar(-c)):L.add(E.clone());const N=new THREE.LineCurve3(S,L);i.curves.push(A,N)}else i.curves.push(A);l===0&&e.push(e[0])}let a=i.getPoints();return a=insertPointsWithEqualSpacing(a)}function computeRectPoints(e,t){return[e,e.clone().set(t.x,e.y,t.z),t,t.clone().set(e.x,t.y,e.z)]}function calculateArcOrigin(e,t,r){const i=e.x,a=t.x,l=r.x,c=e.y,d=t.y,E=r.y,C=i-a,D=c-d,f=i-l,A=c-E,S=(i*i-a*a+(c*c-d*d))/2,L=(i*i-l*l+(c*c-E*E))/2,N=D*f-C*A,G=-(A*S-D*L)/N,ie=-(C*L-f*S)/N;return new THREE.Vector3(G,ie,0)}function calculateRadiusArc(e,t){const r=e.x,i=e.y,a=t.x,l=t.y;return Math.sqrt((r-a)*(r-a)+(i-l)*(i-l))}function calculateArcAngle(e,t,r){const i=e.x,a=t.x;let l,c,d;return l=(e.y-t.y)/r,(c=(i-a)/r)>=.99999&&(c=.99999),c<=-.99999&&(c=-.99999),d=(d=Math.acos(c))/Math.PI*180,l<-.05&&(d=360-d),{sin:l,cos:c,angle:d}}function judgementArcRenderDirection(e,t,r){return(e<t?t-e:t-e+360)>(e<r?r-e:r-e+360)}function createThreePointArc(e,t,r,i=!1,a=!1,l=new THREE.Color("#ff0000")){const c=calculateArcOrigin(e,t,r),d=c.x,E=c.y,C=calculateRadiusArc(e,c),D=calculateArcAngle(e,c,C),f=calculateArcAngle(t,c,C),A=calculateArcAngle(r,c,C);let S,L,N=D.angle,G=f.angle,ie=A.angle,le=judgementArcRenderDirection(N,G,ie);a&&(le=!0),i?(L=new THREE.ArcCurve(d,E,C,THREE.MathUtils.degToRad(N),THREE.MathUtils.degToRad(G),!le),S=le?G>N?THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle):360-Math.abs(THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle)):N>G?Math.abs(THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle)):360-THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle)):(L=new THREE.ArcCurve(d,E,C,THREE.MathUtils.degToRad(N),THREE.MathUtils.degToRad(ie),le),S=le?ie>N?360-THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle):Math.abs(THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle)):N>ie?360+THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle):THREE.MathUtils.radToDeg(L.aEndAngle-L.aStartAngle));const ae=S*Math.PI*C/180,he=new THREE.BufferGeometry().setFromPoints(L.getPoints(50)),pe=new THREE.LineBasicMaterial({color:l});return{arc:new THREE.Line(he,pe),radius:C,angle:S,arcLength:ae}}function computeRegularPolygonVertices(e=new THREE.Vector3,t=new THREE.Vector3,r=3){const i=[];r=Math.max(3,r),i.push(t);const a=2*Math.PI/r;for(let l=1;l<r;l++){const c=Math.cos(a*l),d=Math.sin(a*l),E=e.clone(),C=t.clone(),D=C.x-E.x,f=C.y-E.y,A=new THREE.Vector3(D*c-f*d+E.x,D*d+f*c+E.y);i.push(A)}return i}function computeBounding(e){if(e.length==0){let t=new THREE.Vector3;return{centerPoint:t,minPoint:t,maxPoint:t}}{let t=new THREE.Vector3(e[0].x,e[0].y,e[0].z||0),r=new THREE.Vector3(e[0].x,e[0].y,e[0].z||0),i=e.length;for(let a=1;a<i;a++){let l=e[a];t.x>l.x&&(t.x=l.x),t.y>l.y&&(t.y=l.y),r.x<l.x&&(r.x=l.x),r.y<l.y&&(r.y=l.y)}return{centerPoint:new THREE.Vector3(t.x+.5*(r.x-t.x),t.y+.5*(r.y-t.y),0),minPoint:t,maxPoint:r}}}function MxThreeJSMixin(e){return e.createImage=function(t,r,i,a,l){if(!l)return new Promise((c,d)=>{e.createImage.call(this,t,r,i,a,E=>c(E))});new THREE.TextureLoader().load(a,function(c){let d=new THREE.PlaneGeometry(r,i),E=new THREE.MeshLambertMaterial({map:c,transparent:!0,side:THREE.DoubleSide});E.map&&(E.map.needsUpdate=!0),setGeometrPostion(d,t);let C=new THREE.Mesh(d,E);C.material.depthTest=!1,l&&l(C)},void 0,function(c){console.log(c),l&&l(null)})},e.loadSVG=function(t,r,i,a){return i?(store.state.MxFun.loadSVG(t,r,i,a),new Promise(l=>{l(null)})):new Promise(l=>{store.state.MxFun.loadSVG(t,r,c=>{l(c)},a)})},e.clacTextSize=(t,r)=>store.state.MxFun.getMxThreeJS().clacTextSize(t,r),e.clacTextSpriteSize=(t,r,i)=>store.state.MxFun.getMxThreeJS().clacTextSpriteSize(t,r,i),e.creatTextSprite=(t,r,i,a,l)=>t.length===0?null:store.state.MxFun.getMxThreeJS().creatTextSprite(t,r,i,a,l),e}class MxThreeJS$1{createLine(t,r,i){const a=new THREE.Geometry,l=new THREE.LineBasicMaterial({color:i});return a.vertices.push(t,r),new THREE.Line(a,l)}createCircle(t,r,i){const a=new THREE.CircleGeometry(r,64,3,2*Math.PI),l=new THREE.LineBasicMaterial({color:i});a.vertices.shift();const c=new THREE.LineLoop(a,l),{x:d,y:E,z:C}=t;return c.position.set(d,E,C),c}createPoint(t,r,i=3){const a=new THREE.Geometry;a.vertices.push(t);const l=new THREE.PointsMaterial({color:r,size:i});return new THREE.Points(a,l)}createTriangle(t,r,i=1){if(t.length<3)return null;const a=t.length,l=new THREE.Geometry;for(let d=0;d+2<a;d+=3){l.vertices.push(t[d]),l.vertices.push(t[d+1]),l.vertices.push(t[d+2]);const E=new THREE.Face3(d,d+1,d+2);l.faces.push(E)}l.computeFaceNormals(),l.computeVertexNormals();const c=new THREE.MeshBasicMaterial({color:r,transparent:!0,depthTest:!1,side:THREE.DoubleSide,opacity:i});return new THREE.Mesh(l,c)}createLines(t,r){const i=new THREE.Geometry;i.vertices=t;const a=new THREE.LineBasicMaterial({color:r});return new THREE.Line(i,a)}createDashedLines(t,r,i,a){const l=new THREE.Geometry;l.vertices=t;const c=new THREE.Line(l,new THREE.LineDashedMaterial({color:r,dashSize:i,gapSize:a}));return c.computeLineDistances(),c}}const MxThreeJS=MxThreeJSMixin(new MxThreeJS$1);class MxDrawObject extends Node$1{constructor(t){super(),this.rootLayer=new Layer(t.m_mxDatabase.curLayer),this.add(this.rootLayer),this._mxdrawObj=t}getScene(){return this._mxdrawObj.getScene()}getCamera(){return this._mxdrawObj.getCamera()}getRenderer(){return this._mxdrawObj.renderer}setMouseRightRotate(t=!0){return this._mxdrawObj.setMouseRightRotate(t)}getFullDisplayRange(){return this._mxdrawObj.getFullDisplayRange()}getCanvas(){return this._mxdrawObj.getCanvas()}updateDisplay(){return this._mxdrawObj.updateDisplay()}createCanvasImageData(t,r){return this._mxdrawObj.createCanvasImageData(t,r)}setViewColor(t){return this._mxdrawObj.setViewColor(t)}setSize(t,r){return this._mxdrawObj.setSize(t,r)}getIntersectObjects(t){return this._mxdrawObj.getIntersectObjects(t)}addObject(t,r=!0){return this._mxdrawObj.addObject(t,r)}addViewObject(t){return this._mxdrawObj.addViewObject(t)}getViewWidth(){return this._mxdrawObj.getViewWidth()}getViewHeight(){return this._mxdrawObj.getViewHeight()}removeObject(t,r=!0){return this._mxdrawObj.removeObject(t,r)}zoomInitialStates(){return this._mxdrawObj.zoomInitialStates()}zoomScale(t){return this._mxdrawObj.zoomScale(t)}zoomW(t,r,i){return this._mxdrawObj.zoomW(t,r,i)}zoomCenter(t,r){return this._mxdrawObj.zoomCenter(t,r)}initZoomW(t,r){return this._mxdrawObj.initZoomW(t,r)}addEvent(t,r){return this._mxdrawObj.addEvent(t,r)}on(t,r){return super.on(t,r),this._mxdrawObj.addEvent(t,r)}off(t,r){return super.off(t,r),this.removeEventFuction(t,r)}removeEventFuction(t,r){return this._mxdrawObj.removeEventFuction(t,r)}setIniset(t){return this._mxdrawObj.setIniset(t)}screenCoord2World(t,r,i){return this._mxdrawObj.screenCoord2World(t,r,i)}worldCoord2Screen(t,r,i){return this._mxdrawObj.worldCoord2Screen(t,r,i)}screenCoord2Doc(t,r){return this._mxdrawObj.screenCoord2Doc(t,r,0)}worldCoordLong2Doc(t){return this._mxdrawObj.worldCoordLong2Doc(t)}docCoordLong2World(t){return this._mxdrawObj.docCoordLong2World(t)}docCoord2World(t,r,i){return this._mxdrawObj.docCoord2World(t,r,i)}docCoord2World2(t){return this._mxdrawObj.docCoord2World(t.x,t.y,t.z)}worldCoord2Doc(t,r,i){return this._mxdrawObj.worldCoord2Doc(t,r,i)}worldCoord2Doc2(t){return this._mxdrawObj.worldCoord2Doc(t.x,t.y,t.z)}docCoord2Screen(t,r){return this._mxdrawObj.docCoord2Screen(t,r,0)}screenCoordLong2Doc(t){return this._mxdrawObj.screenCoordLong2Doc(t)}docCoordLong2Screen(t){return this._mxdrawObj.docCoordLong2Screen(t)}screenCoordLong2World(t){return this._mxdrawObj.screenCoordLong2World(t)}worldCoordLong2Screen(t){return this._mxdrawObj.worldCoordLong2Screen(t)}initRendererParam(t){return this._mxdrawObj.initRendererParam(t)}addMxEntity(t){return this.rootLayer.add(t),t.objectId()}getMxCurrentSelect(){let t=this._mxdrawObj.getMxAllSelect();return t.length==0&&(t=this._mxdrawObj.getPrvCommandSelect()),t}addMxCurrentSelect(t){return this._mxdrawObj.addMxCurrentSelect(t)}clearMxCurrentSelect(){return this._mxdrawObj.clearMxCurrentSelect()}getMxEntity(t){return this._mxdrawObj.getMxEntityUserObject(t)}findMxEntityAtPoint(t,r,i){return this._mxdrawObj.findMxEntityAtPoint(t,r,i)}getAllMxEntity(){return this._mxdrawObj.getAllMxEntity()}setMouseMiddlePan(t){return this._mxdrawObj.setMouseMiddlePan(t)}resetThreeJSControls(){return this._mxdrawObj.resetThreeJSControls()}enableZoom(t){return this._mxdrawObj.enableZoom(t)}enablePan(t){return this._mxdrawObj.enablePan(t)}eraseMxEntity(t){return this._mxdrawObj.eraseMxEntity(t)}removeViewObject(t){this._mxdrawObj.removeViewObject(t)}saveMxEntityToJson(t){return JSON.stringify(this._mxdrawObj.saveMxEntityToJson(t))}saveMxEntityToObject(t){return this._mxdrawObj.saveMxEntityToJson(t)}async loadMxEntityFromJson(t,r=null){if(r){let i=r.length;for(let a=0;a<i;a++)await MxThreeJS.loadSVG(r[a])}return this.getAllMxEntity().forEach(i=>{for(let a in i)Reflect.deleteProperty(i,a)}),typeof t=="string"?this._mxdrawObj.loadMxEntityFromJson(JSON.parse(t)):this._mxdrawObj.loadMxEntityFromJson(t)}eraseAllMxEntity(){return this._mxdrawObj.eraseAllMxEntity()}makeCurrent(){this._mxdrawObj.makeCurrent()}getViewCenterDocCoord(){return this._mxdrawObj.getViewCenterDocCoord()}updateCanvasSize(){this._mxdrawObj.updateCanvasSize()}newFile(t,r,i,a){return this._mxdrawObj.newFile(t,r,i,a)}stopAllLoading(){this._mxdrawObj.stopAllLoading()}getOrbitControls(){return this._mxdrawObj.getOrbitControls()}enableViewControls(t){return this._mxdrawObj.enableViewControls(t)}getMxDatabase(){return new MxDbDatabase(this._mxdrawObj.getMxDatabase())}setZoomSpeed(t){return this._mxdrawObj.setZoomSpeed(t)}getMxCAD(){let t=this._mxdrawObj.getMxCAD();return new MxCADObject(t)}resetRenderer(){return this._mxdrawObj.resetRenderer()}setRequestHeader(t){return this._mxdrawObj.setRequestHeader(t)}closeWebSocket(){return this._mxdrawObj.closeWebSocket()}cadCoord2Doc(t,r,i){return this._mxdrawObj.cadCoord2Doc(t,r,i)}docCoord2Cad(t,r,i){return this._mxdrawObj.docCoord2Cad(t,r,i)}setViewAngle(t){return this._mxdrawObj.setViewAngle(t)}getViewAngle(){return this._mxdrawObj.getViewAngle()}getSysVar(t){return this._mxdrawObj.sysVariable().getSysVar()}setSysVar(t,r){return this._mxdrawObj.sysVariable().setSysVar(t,r)}isMxCAD(){return this._mxdrawObj.isMxCAD()}getMxObjectImplement(){return this._mxdrawObj}getAllLayoutName(){return this._mxdrawObj.getAllLayoutName()}getDtabaseJsonString(){return this._mxdrawObj.getDtabaseJsonString()}gotoLayout(t){return this._mxdrawObj.gotoLayout(t)}initMxCpp(t){return this._mxdrawObj.initMxCpp(t)}isWebgl2(){return this._mxdrawObj.isWebgl2()}getId(){return this._mxdrawObj.getId()}addControlsEvent(t,r,i=!1){return this._mxdrawObj.addControlsEvent(t,r,i)}}const initEvents=e=>{let t=[];["click","mousedown","mouseup"].forEach(r=>{e.addEventListener(r,()=>{t.forEach(i=>{i.emit(r)})})}),e.addEventListener("mousemove",()=>{const r=MxFun.getCurrentDraw().findMxEntityAtPoint(MxFun.getCurrentMousePostion(),!1);r.forEach(i=>{i.emit("mousemove")}),r.length===0&&(t.length>0&&t.forEach(i=>{i.emit("mouseout")}),t=[]),t.length===0&&(t=r).forEach(i=>{i.emit("mouseover"),i.emit("hover")})})};function createMxObject({canvasId:e=createReandomId(),cadFile:t="",callback:r,isNewFile:i=!1,useWebsocket:a=!1,isAutoResize:l=!0,mapBox:c,isMxCAD:d=!1,userIdentitySign:E="emptyUserIdentity",isCPPMxCAD:C=!1}){if(this.initUiDataObject(mxUiData$1),!a&&i&&(i=!1),c){const D=c.canvas;store.state.MxFun.createMxObject(D,t,f=>{let A=new MxDrawObject(f);f.setIniset({EnableOsnapFunction:!0}),r&&r(A,{canvas:D,canvasParent:void 0})},void 0,i,a,c)}else if(C){const D=createCanvas(e),f=createCanvasParent(D);f.parentNode&&f.parentNode.nodeType!=11||document.body.appendChild(f);let A=!0;store.state.MxFun.createMxObject(e,"",S=>{let L=new MxDrawObject(S);S.setMouseRightRotate(!1),S.setIniset({EnableOsnapFunction:!0}),S.addEvent("onResize",()=>(f.tabindex=3,{width:f.clientWidth,height:f.clientHeight})),l&&useCanvasResizeListener(L,D),r&&r(L,{canvas:D,canvasParent:f})},A,!1,!1,void 0,C)}else{const D=createCanvas(e),f=createCanvasParent(D);let A;f.parentNode&&f.parentNode.nodeType!=11||document.body.appendChild(f),d&&(A=!0,a=!0),store.state.MxFun.createMxObject(e,t,S=>{let L=new MxDrawObject(S);d&&(E.length==0&&(E="invalidUserIdentity"),S.initRunMode(2),S.initUserLoginData(E,"")),S.setMouseRightRotate(!1),S.setIniset({EnableOsnapFunction:!0}),S.addEvent("onResize",()=>(f.tabindex=3,{width:f.clientWidth,height:f.clientHeight})),l&&useCanvasResizeListener(L,D),initEvents(D),r&&r(L,{canvas:D,canvasParent:f})},A,i,a,void 0)}}let mxUiData=mxUiData$1;const _MxFun={createMxObject,setMxServer(e="ws://localhost:5090"){store.state.MxFun.setMxServer(e)},screenCoord2Doc:(e,t)=>store.state.MxFun.screenCoord2Doc(e,t,0),docCoord2Screen:(e,t)=>store.state.MxFun.docCoord2Screen(e,t,0),getCurrentMxCAD(){let e=store.state.MxFun.getCurrentMxCAD();return new MxCADObject(e)},getCurrentDraw(){const e=store.state.MxFun.getCurrentDraw();return e.tmp||(e.tmp=new MxDrawObject(e)),e.tmp},addToCurrentSpace:e=>MxFun.getCurrentDraw().addMxEntity(e),initUiDataObject:e=>(mxUiData=e,store.state.MxFun.initUiDataObject(e)),getUIData:()=>mxUiData,getCurrentDatabase:()=>MxFun.getCurrentDraw().getMxDatabase(),testMX:e=>11,loadImageMaterial:(e,t)=>t?(store.state.MxFun.loadImageMaterial(e,t),new Promise((r,i)=>{r(null)})):new Promise((r,i)=>{store.state.MxFun.loadImageMaterial(e,a=>{r(a||null)})}),selectEnt:(e,t=null)=>new Promise((r,i)=>{const a=new MrxDbgUiPrPoint;a.setMessage(e),a.go(l=>{if(l!=0)return void r(0);const c=a.value();let d=MxFun.getCurrentDraw().findMxEntityAtPoint(c),E=0;for(;d.length!=0;){let C=d.length;for(let D=0;D<C;D++){let f=d[D];if(!t||!t.type||t.type==f.getTypeName()){E=f.objectId();break}}break}r(E)})}),listenForCommandLineInput(e){mxUiData.getCmdLine().mountUpDisplayFun(e)},setCommandLineInputData(e,t){mxUiData.getCmdLine().setCmdText(e),mxUiData.onKeydown(t)},listenForCoordTip(e){mxUiData.mountSetCoordFun(e)},listenForUpdateCursor(e){mxUiData.mountUpdateCursorFun(e)},getMxFunTHREE:()=>store.state.MxFun.getTHREE(),getMxFunThreeTool:()=>store.state.MxFun.getMxThreeJS(),ceneratecursor:(e=128,t=10,r=!0,i)=>store.state.MxFun.ceneratecursor(e,t,r,i),getCurrentMousePostion(){let e=store.state.MxFun.getCurrentMousePostion();return new THREE.Vector3(e.x,e.y,0)},onUseCreateMxDbEntity(e){store.events.on("use:create:MxDbEntity",e)}},MxFun=new Proxy({},{get:(e,t)=>typeof _MxFun[t]=="function"?_MxFun[t].bind(_MxFun):store.state.MxFun[t]});var MxCloneType,MxDefaultRenderOrder,InputToucheType;(function(e){e[e.kClone=1]="kClone",e[e.kDragClone=2]="kDragClone",e[e.kMxFileClone=3]="kMxFileClone",e[e.kSaveDwgClone=4]="kSaveDwgClone"})(MxCloneType||(MxCloneType={})),function(e){e[e.kCADMeshRenderOrder=10]="kCADMeshRenderOrder",e[e.kCADCurveRenderOrder=20]="kCADCurveRenderOrder",e[e.kMxEntityRenderOrder=30]="kMxEntityRenderOrder",e[e.kGripRenderOrder=110]="kGripRenderOrder",e[e.kDynJigRenderOrder=120]="kDynJigRenderOrder"}(MxDefaultRenderOrder||(MxDefaultRenderOrder={})),function(e){e[e.kGetBegan=1]="kGetBegan",e[e.kGetEnd=2]="kGetEnd"}(InputToucheType||(InputToucheType={}));var MxType=Object.freeze({__proto__:null,get MxCloneType(){return MxCloneType},get MxDefaultRenderOrder(){return MxDefaultRenderOrder},get InputToucheType(){return InputToucheType}});class MxassemblyClass{constructor(){this.mxassembly=null}initImp(){this.mxassembly||store.state.Mxassembly&&(this.mxassembly=store.state.Mxassembly)}NewMcGePoint3d(t,r,i){this.initImp();let a=new this.mxassembly.McGePoint3d;return t&&(a.x=t),r&&(a.y=r),i&&(a.z=i),a}NewMcGePoint3dArray(t){this.initImp();let r=new this.mxassembly.McGePoint3dArray;return t&&t.forEach(i=>{let a=this.NewMcGePoint3d();a.x=i.x,a.y=i.y,a.z=i.z,r.append(a)}),r}}const Mxassembly=new MxassemblyClass;class McGeToolClass{constructor(){this.mxgeTool=null}initImp(){this.mxgeTool||store.state.Mxassembly&&(this.mxgeTool=new store.state.Mxassembly.McGeTool)}calcArea(t){if(this.initImp(),t instanceof Array){let r=Mxassembly.NewMcGePoint3dArray(t);return this.mxgeTool.calcArea(r)}return this.mxgeTool.calcArea(t)}pointInPolyline(t,r){this.initImp();let i=r;r instanceof Array&&(i=Mxassembly.NewMcGePoint3dArray(r));let a=Mxassembly.NewMcGePoint3d(t.x,t.y,t.z);return this.mxgeTool.pointInPolyline(a,i)}}const McGeTool=new McGeToolClass;class MrxDbgUtilsClass{constructor(){this.imp=null}initImp(){if(!this.imp&&store.state.MxFun){let t=store.state.MxFun;this.imp=new t.getMrxDbgUtilsClass}}findEntAtPoint(t,r=null,i,a=!0,l){return this.initImp(),i||(i=MxFun.getCurrentDraw()),this.imp.findEntAtPoint(i.getMxObjectImplement(),t,r,a,l)}selectEnt(t,r){return this.initImp(),this.imp.selectEnt(t)}}const MrxDbgUtils=new MrxDbgUtilsClass,MxPaintBrushProps={},MxPaintBrush={getProps:()=>MxPaintBrushProps,setProps:e=>Object.assign(MxPaintBrushProps,e),use:e=>Object.assign(e,MxPaintBrushProps)};var MrxDbgUiPrBaseReturn;(function(e){e[e.kCancel=-2]="kCancel",e[e.kNone=-1]="kNone",e[e.kOk=0]="kOk",e[e.kKeyWord=1]="kKeyWord"})(MrxDbgUiPrBaseReturn||(MrxDbgUiPrBaseReturn={}));var MrxDbgUiPrBaseReturn$1=MrxDbgUiPrBaseReturn,DataType;(function(e){e[e.Default=0]="Default",e[e.Color=1]="Color",e[e.Vector2=2]="Vector2",e[e.Vector3=3]="Vector3",e[e.Vector4=4]="Vector4",e[e.Matrix3=5]="Matrix3",e[e.Matrix4=6]="Matrix4"})(DataType||(DataType={}));const MXDBDATATYPE="datatype";function getDwgKeyVal(e,t){let r,i="";return lodash.isObject(t)?(r=t.default,i=t.key):typeof t=="string"&&(i=t),[i,e[i]===void 0?r:e[i]]}class MxDbEntity extends RenderOrderNode{constructor(){super(),this.color=16777215,this.renderOrder=30,this.opacity=1,this.visible=!0,this.userData={},this.sGuid="",this.dLineWidth=0,this.lineWidthByPixels=!0,this.dDashArray=0,this.dDashRatio=0,this.layer="",this.addEvent=this.on,this.removeEvent=this.off,this.callEvent=this.emit;const t=this.constructor;t.isPaintBrushDraw&&(MxPaintBrush.use(this),store.events.emit("use:create:MxDbEntity",this),t.isPaintBrushDraw=!1)}static register(){const t=this;t.isRegister||(t.cmd&&t.draw&&MxFun.addCommand(t.cmd,t.use.bind(t)),new t().rxInit(),t.isRegister=!0)}static async use(t){return new Promise((r,i)=>{const a=this;if(!a.isRegister&&a.register(),a.isPaintBrushDraw=!0,!a.cmd&&a.draw)return i();const l=c=>{r(c),t&&t(c),store.events.off("use:create:MxDbEntity",l)};store.events.on("use:create:MxDbEntity",l),a.draw()})}initGuid(t){this.sGuid.length>0?console.log("mx: init guid error"):this.sGuid=t}dwgInHelp(t,r,i){let a=this;const l=t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone,c=E=>{if(!E)return;const{value:C,[MXDBDATATYPE]:D}=E;switch(D){case DataType.Color:return new THREE.Color(...C);case DataType.Vector2:return new THREE.Vector2(...C);case DataType.Vector3:return new THREE.Vector3(...C);case DataType.Vector4:return new THREE.Vector4(...C);case DataType.Matrix3:return new THREE.Matrix3().fromArray(C);case DataType.Matrix4:return new THREE.Matrix4().fromArray(C)}return i&&i.getCacheVal?i.getCacheVal(E):void 0};function d(E){return E instanceof THREE.Color||E instanceof THREE.Vector2||E instanceof THREE.Vector3||E instanceof THREE.Vector4||E instanceof THREE.Matrix3||E instanceof THREE.Matrix4?E.clone():i&&i.getVal?i.getVal(E):void 0}return r.forEach(E=>{const[C,D]=getDwgKeyVal(t,E);a[C]=lodash.cloneDeepWith(D,l?c:d)}),!0}dwgOutHelp(t,r){const i=c=>c instanceof THREE.Color?{[MXDBDATATYPE]:DataType.Color,value:c.toArray()}:c instanceof THREE.Vector2?{[MXDBDATATYPE]:DataType.Vector2,value:c.toArray()}:c instanceof THREE.Vector3?{[MXDBDATATYPE]:DataType.Vector3,value:c.toArray()}:c instanceof THREE.Vector4?{[MXDBDATATYPE]:DataType.Vector4,value:c.toArray()}:c instanceof THREE.Matrix3?{[MXDBDATATYPE]:DataType.Matrix3,value:c.toArray()}:c instanceof THREE.Matrix4?{[MXDBDATATYPE]:DataType.Matrix4,value:c.toArray()}:void 0;let a=this;const l=t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone;return r.forEach(c=>{const[d,E]=getDwgKeyVal(a,c);t[d]=l?lodash.cloneDeepWith(E,i):E}),t}create(t){return new this.constructor(t)}transformBy(t){}getGeomExtents(){return null}getClosestPointTo(t,r=0){return null}getImp(){return this.MxDbEntityImp}setNeedUpdateDisplay(t){let r=this.getImp();return!!r&&(t?r.upDisplay():r.setDirtyDisplay(!0),!0)}getMxObject(){let t=this.getImp();return t?t.getMxObject():null}onViewChange(){return!1}objectId(){let t=this.getImp();return t?t.objectId():0}erase(){let t=this.getImp();return!!t&&t.erase()}setLayer(t){let r=this.getImp();r&&r.nodifySetLayer(),this.layer=t}getLayer(){return this.layer}setColor(t){return this.color=t,this}getColor(){return this.color||16777215}clone(t){let r=this.create(),i={type:t||MxType.MxCloneType.kClone};return this.dwgOut(i),r.dwgIn(i),r.sGuid="",r}onDwgIn(t){this.color=t.color,this.renderOrder=t.renderOrder,this.opacity=t.opacity,this.visible=t.visible,t.userData?this.userData=JSON.parse(JSON.stringify(t.userData)):this.userData={},this.dLineWidth=t.lineWidth,this.lineWidthByPixels=t.lineWidthByPixels,this.dDashArray=t.dashArray,this.dDashRatio=t.dashRatio,this.layer=t.layer,t.guid&&(this.sGuid=t.guid)}onDwgOut(t){t.color=this.color,t.renderOrder=this.renderOrder,t.opacity=this.opacity,t.visible=this.visible,t.lineWidth=this.dLineWidth,t.lineWidthByPixels=this.lineWidthByPixels,t.dashArray=this.dDashArray,t.dashRatio=this.dDashRatio,t.layer=this.layer,t.guid=this.sGuid,Object.keys(this.userData).length>0&&(t.userData=this.userData)}rxInit(){MxFun.initMxDbEntityType(this)}setRenderOrder(t){this.renderOrder=t}getRenderOrder(){return this.renderOrder}setLineWidthByPixels(t){return this.lineWidthByPixels=t,this}getLineWidthByPixels(){return this.lineWidthByPixels}setLineWidth(t){return this.dLineWidth=t,this}getLineWidth(){return this.dLineWidth}getGetLength(){return 0}setDashLen(t){let r=this.getGetLength();if(r<1e-6||t<1e-6)return this;let i=Math.floor(r/t);return i<1e-6&&(this.dDashRatio=0),this.dDashArray=1/i,this}setDashRatio(t){return this.dDashRatio=t,this}setDashArray(t){return this.dDashArray=t,this}setDash(t,r){return this.dDashArray=t,this.dDashRatio=r,this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0),this}getDash(){return{dDashArray:this.dDashArray,dDashRatio:this.dDashRatio}}setDashLineDisplay(t){return t?(this.dDashArray<1e-5&&(this.dDashArray=.03),this.dDashRatio<1e-5&&(this.dDashRatio=.1),this.dLineWidth==0&&(this.dLineWidth=6,this.lineWidthByPixels=!0)):(this.dDashArray=0,this.dDashRatio=0),this}isDashLineDisplay(){return this.dDashArray>0&&this.dDashRatio>0}guid(){return this.sGuid}onEndGripEidt(){this.callEvent("onEndGripEidt")}onStartGripEidt(){return this.callEvent("onStartGripEidt")}toJsonString(t=MxType.MxCloneType.kMxFileClone){let r={type:t};return this.dwgOut(r),r.TypeName=this.getTypeName(),JSON.stringify(r)}fromJsonString(t){let r=JSON.parse(t);return(r.type==MxType.MxCloneType.kMxFileClone||r.type==MxType.MxCloneType.kClone)&&this.dwgIn(r)}}function drawMxDbImage(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u63D2\u5165\u70B9:`);let t=MxFun.getCurrentDraw();e.go(r=>{if(r!=0)return;let i=MxFun.screenCoordLong2Doc(300),a=MxFun.screenCoordLong2Doc(200);const l=e.value();let c=MxFun.screenCoord2Doc(10,10);l.z=c.z;let d=new MxDbImage;d.setRenderOrder(MxType.MxDefaultRenderOrder.kCADMeshRenderOrder-1),d.setPoint1(l);let E=new THREE.Vector3(l.x+i,l.y+a,l.z);d.setPoint2(E);let C=prompt("\u8BF7\u586B\u5199\u56FE\u7247\u7F51\u7EDC\u5730\u5740","https://cdn.pixabay.com/photo/2022/11/15/12/23/winter-7593872_960_720.jpg");C&&(d.setImagePath(C),t.addMxEntity(d),d.addEvent("onStartGripEidt",()=>(d.visible=!1,d.setNeedUpdateDisplay(),{renderOrder:MxType.MxDefaultRenderOrder.kCADMeshRenderOrder-1})),d.addEvent("onEndGripEidt",()=>{d.visible=!0,d.setNeedUpdateDisplay()}))})}MxDbEntity.isRegister=!1;class MxDbImage extends MxDbEntity{constructor(){super(...arguments),this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3,this.imagePath="",this.isLoadMaterialFromPath=!0,this.material=null,this.angle=0}getTypeName(){return"MxDbImage"}getAngle(){return this.angle}setAngle(t){this.angle=t}worldDraw(t){let r=new THREE.Vector3(this.pt1.x,this.pt2.y),i=new THREE.Vector3(this.pt2.x,this.pt1.y);if(Math.abs(this.angle)>1e-5){let a=new THREE.Vector3(.5*(this.pt1.x-this.pt2.x)+this.pt2.x,.5*(this.pt1.y-this.pt2.y)+this.pt2.y),l=new THREE.Matrix4;l.makeRotationZ(this.angle);let c=new THREE.Matrix4().makeTranslation(a.x,a.y,a.z).multiply(l).multiply(new THREE.Matrix4().makeTranslation(-a.x,-a.y,-a.z));t.setMatrix(c)}if(t.getType()==1){if(t.drawSelectLine(this.pt1,r),t.drawSelectLine(r,this.pt2),t.drawSelectLine(this.pt2,i),t.drawSelectLine(i,this.pt1),this.material){let a=Math.abs(this.pt1.x-this.pt2.x),l=Math.abs(this.pt1.y-this.pt2.y),c=new THREE.PlaneGeometry(a,l),d=Math.min(this.pt1.x,this.pt2.x),E=Math.min(this.pt1.y,this.pt2.y);for(let D=0;D<c.vertices.length;D++)c.vertices[D].x+=d+.5*a,c.vertices[D].y+=E+.5*l,c.vertices[D].z=0;let C=new THREE.Mesh(c,this.material);C.material.depthTest=!1,t.drawEntity(C)}else if(this.imagePath.length>0&&this.isLoadMaterialFromPath){let a=this,l=t.getMxObject();MxFun.loadImageMaterial(this.imagePath,c=>{this.isLoadMaterialFromPath=!1,c&&(a.setMaterial(c),a.setNeedUpdateDisplay(),l.updateDisplay())})}}else if(this.material){let a=Math.abs(this.pt1.x-this.pt2.x),l=Math.abs(this.pt1.y-this.pt2.y),c=new THREE.PlaneGeometry(a,l),d=Math.min(this.pt1.x,this.pt2.x),E=Math.min(this.pt1.y,this.pt2.y);for(let D=0;D<c.vertices.length;D++)c.vertices[D].x+=d+.5*a,c.vertices[D].y+=E+.5*l,c.vertices[D].z=0;let C=new THREE.Mesh(c,this.material);C.material.depthTest=!1,t.drawEntity(C)}else t.drawLine(this.pt1,r),t.drawLine(r,this.pt2),t.drawLine(this.pt2,i),t.drawLine(i,this.pt1);t.setMatrix(null)}setImagePath(t){this.imagePath=t,this.isLoadMaterialFromPath=!0,this.material=null}getImagePath(){return this.imagePath}setMaterial(t){this.material=t}loadMaterial(t){t&&(this.imagePath=t),this.isLoadMaterialFromPath=!1,this.material=null;let r=this;MxFun.loadImageMaterial(this.imagePath,i=>{this.isLoadMaterialFromPath=!1,r.setMaterial(i)})}setPoint1(t){this.pt1=t}getPoint1(){return this.pt1}setPoint2(t){this.pt2=t}getPoint2(){return this.pt2}getGripPoints(){let t=[];t.push(this.pt1),t.push(this.pt2);let r=new THREE.Vector3(this.pt1.x+.5*(this.pt2.x-this.pt1.x),this.pt1.y+.5*(this.pt2.y-this.pt1.y));return t.push(r),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?this.pt2.add(r):t==2&&(this.pt1.add(r),this.pt2.add(r)),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),this.imagePath=t.imagePath.substr(0),this.isLoadMaterialFromPath=!0,t.angle&&(this.angle=t.angle),t.material&&(this.material=t.material),!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t.imagePath=this.imagePath,t.angle=this.angle,t.type==MxType.MxCloneType.kDragClone&&(t.material=this.material),t}create(){return new MxDbImage}}var McGiWorldDrawType;MxDbImage.cmd="Mx_DrawImage",MxDbImage.draw=drawMxDbImage,addRegisterMxDbEntity(MxDbImage),function(e){e[e.kWorldDraw=1]="kWorldDraw",e[e.kDynDragDraw=2]="kDynDragDraw",e[e.kSelectDraw=3]="kSelectDraw"}(McGiWorldDrawType||(McGiWorldDrawType={}));var McGiWorldDrawType$1=McGiWorldDrawType;class MxDbSVGText{constructor(){this.txtPos=new THREE.Vector3,this.txt="",this.txtHeight=1,this.color=void 0,this._txtObject=null,this._txtAspectRatio=-1,this.move=!1,this.drawConnectingLine=!1,this._connectingLine=null,this.fontStyle="",this.underline=!1,this._underLine=null}}async function drawMxDbSVG(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=await e.go();if(!t)return;let r=new MxDbSVG,i=prompt("\u8BF7\u8F93\u5165svg\u56FE\u7247\u7F51\u7EDC\u6216\u672C\u5730\u5730\u5740","https://img.alicdn.com/imgextra/i2/O1CN01FF1t1g1Q3PDWpSm4b_!!6000000001920-55-tps-508-135.svg");if(!i)return;r.setSvgPath(i),r.setSvgPostion(t),r.svgReverse=!0,r.svgMargin.x=.2,r.setSvgAlignmentRatio(new THREE.Vector2(.5,-1)),r.setRenderOrder(100),r.setSvgSize(new THREE.Vector2(50,0));let a=new MxDbSVGText;a.txt="A1",a.txtPos=new THREE.Vector3(0,-30,0),a.txtHeight=30,r.addText(a),r.fixedSize=!0,r.color=65297,MxFun.addToCurrentSpace(r)}class MxDbSVG extends MxDbEntity{constructor(){super(...arguments),this.svgPos=new THREE.Vector3,this.svg=null,this.svgPath="",this.svgSize=new THREE.Vector2(50,50),this.svgAlignmentRatio=new THREE.Vector2(0,0),this.imagePath="",this.isLoadMaterialFromPath=!0,this.material=null,this.svgRotate=0,this.svgReverse=!1,this.svgMirror=!1,this.svgChildColor=[],this.svgMargin=new THREE.Vector2(0,0),this.isSvgDirtyLocation=!1,this.isLoadFromPath=!0,this.aryText=[],this.svgBoxSize=null,this.fixedSize=!1,this.useSvgColor=!1}setSvgChildColor(t){if(this.svgChildColor=t,!this.useSvgColor&&this.svg){let r=new THREE.Color(this.getColor()),i=0,a=this;this.svg.traverse(function(l){l.material&&(i<a.svgChildColor.length?l.material.color=new THREE.Color(a.svgChildColor[i]):l.material.color=r,i++)}),this.setNeedUpdateDisplay(!0)}}getSvgChildColor(){return this.svgChildColor}calcVewSize(t){let r=this.svgSize.x,i=this.svgSize.y;return i<=0&&(i=this.svgBoxSize?this.svgBoxSize.y/this.svgBoxSize.x*r:r),this.fixedSize&&(r=t.screenCoordLong2Doc(r),i=t.screenCoordLong2Doc(i)),[r,i]}calcSvgDrawRect(t){if(!t)return;this.calcSvgPosition(t);let[r,i]=this.calcVewSize(t),a=new THREE.Matrix4;a.makeScale(this.svgMirror?-1:1,this.svgReverse?-1:1,1);let l=new THREE.Matrix4;l.makeRotationZ(this.svgRotate);let c=new THREE.Matrix4,d=new THREE.Vector3(this.svgPos.x-r*this.svgAlignmentRatio.x,this.svgPos.y-i*this.svgAlignmentRatio.y,0);c.makeTranslation(d.x,d.y,d.z),l.multiply(a),l.premultiply(c);let E=new THREE.Vector3(0,0,0),C=new THREE.Vector3(r,0,0),D=new THREE.Vector3(r,i,0),f=new THREE.Vector3(0,i,0);return E.applyMatrix4(l),C.applyMatrix4(l),D.applyMatrix4(l),f.applyMatrix4(l),{pt1:E,pt2:D,pt3:C,pt4:f,cenpt:D.clone().add(E.clone().sub(D).multiplyScalar(.5)),sizew:r,sizeh:i}}calcImageDrawRect(t){if(!t)return;this.calcSvgPosition(t);let[r,i]=this.calcVewSize(t),a=new THREE.Matrix4;a.makeScale(this.svgMirror?-1:1,this.svgReverse?-1:1,1);let l=new THREE.Matrix4,c=new THREE.Matrix4,d=new THREE.Vector3(this.svgPos.x-r*this.svgAlignmentRatio.x,this.svgPos.y-i*this.svgAlignmentRatio.y,0);c.makeTranslation(d.x,d.y,d.z),l.multiply(a),l.premultiply(c);let E=new THREE.Vector3(0,0,0),C=new THREE.Vector3(r,0,0),D=new THREE.Vector3(r,i,0),f=new THREE.Vector3(0,i,0);return E.applyMatrix4(l),C.applyMatrix4(l),D.applyMatrix4(l),f.applyMatrix4(l),{pt1:E,pt2:D,pt3:C,pt4:f,cenpt:D.clone().add(E.clone().sub(D).multiplyScalar(.5)),sizew:r,sizeh:i}}worldDraw(t){let r,i=t.getMxObject();if(this.imagePath.length>0){if(r=this.calcImageDrawRect(i),Math.abs(this.svgRotate)>1e-5){let f=new THREE.Vector3(.5*(r.pt1.x-r.pt2.x)+r.pt2.x,.5*(r.pt1.y-r.pt2.y)+r.pt2.y),A=new THREE.Matrix4;A.makeRotationZ(this.svgRotate);let S=new THREE.Matrix4().makeTranslation(f.x,f.y,f.z).multiply(A).multiply(new THREE.Matrix4().makeTranslation(-f.x,-f.y,-f.z));t.setMatrix(S)}}else r=this.calcSvgDrawRect(i);let a=r.pt1,l=r.pt2,c=r.pt3,d=r.pt4,E=r.cenpt,C=r.sizew,D=this;if(t.getType()!=McGiWorldDrawType$1.kSelectDraw&&this.aryText.forEach((f,A)=>{if(f.txt.length>0){let N,G=new THREE.Vector3(f.txtPos.x,f.txtPos.y,0);this.fixedSize&&(f.txtPos.x>0?G.x=this.svgPos.x+i.screenCoordLong2Doc(f.txtPos.x):G.x=this.svgPos.x-i.screenCoordLong2Doc(f.txtPos.x),f.txtPos.y>0?G.y=this.svgPos.y+i.screenCoordLong2Doc(f.txtPos.y):G.y=this.svgPos.y-i.screenCoordLong2Doc(f.txtPos.y)),f.color&&(N=t.getColor(),t.setColor(f.color));let ie=f.txtHeight;D.fixedSize&&(ie=i.screenCoordLong2Doc(f.txtHeight)),t.setXData({type:"text",txt:f.txt,index:A});let le=t.drawText(f.txt,ie,0,G,void 0,ae=>f.fontStyle.length>0?`${f.fontStyle} ${ae}px Arial`:`normal ${ae}px Arial`);if(t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._txtObject=le),f.underline&&f._txtObject){const ae=new THREE.Box3;ae.expandByObject(f._txtObject);let he=new THREE.Vector3(ae.min.x,ae.min.y+.1*ie,0),pe=new THREE.Vector3(ae.max.x,ae.min.y+.1*ie,0);var S=new THREE.Geometry;let B=new THREE.LineBasicMaterial({color:t.getColor(),transparent:!0,depthTest:!1});S.vertices.push(he,pe);var L=new THREE.Line(S,B);t.drawEntity(L),t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._underLine=L)}if(f._txtAspectRatio=-1,N&&t.setColor(N),f.drawConnectingLine){let ae=E.clone().sub(G);if(ae.length()>ie+C){ae.normalize();let he=E.clone().sub(ae.clone().multiplyScalar(C)),pe=G.clone().add(ae.clone().multiplyScalar(ie));S=new THREE.Geometry;let B=new THREE.LineBasicMaterial({color:t.getColor(),transparent:!0,depthTest:!1});S.vertices.push(he,pe),L=new THREE.Line(S,B),t.setXData({type:"line"}),t.drawEntity(L),t.getType()==McGiWorldDrawType$1.kWorldDraw&&(f._connectingLine=L)}}}}),t.getType()==1){if(this.svg)t.setXData({type:"svg"}),t.drawEntity(this.svg);else if(this.svgPath.length>0&&this.isLoadFromPath){let f=this,A=t.getMxObject();MxThreeJS.loadSVG(this.svgPath,void 0,S=>{if(S){let L=S;if(L.boxSize)f.svgBoxSize=L.boxSize.clone();else{let ae=new THREE.Box3().setFromObject(S);f.svgBoxSize||(f.svgBoxSize=new THREE.Vector3),f.svgBoxSize.x=ae.max.x-ae.min.x,f.svgBoxSize.y=ae.max.y-ae.min.y}let[N,G]=f.calcVewSize(i);f.svgBoxSize&&(S.scale.x=N/f.svgBoxSize.x,S.scale.y=G/f.svgBoxSize.y),S.scale.z=S.scale.x,f.svgReverse&&(S.scale.y*=-1),f.svgMirror&&(S.scale.x*=-1),S.rotateZ(f.svgRotate),f.isSvgDirtyLocation=!0;let ie=new THREE.Color(t.getColor()),le=0;S.traverse(function(ae){ae.material&&(ae.material=ae.material.clone(),ae.material.transparent=!0,ae.material.depthTest=!1,f.useSvgColor||(le<f.svgChildColor.length?ae.material.color=new THREE.Color(f.svgChildColor[le]):ae.material.color=ie),le++)}),f.svg=S,f.setNeedUpdateDisplay(),A.updateDisplay()}else console.log("mx LoadSVG:"+f.svgPath+" failed");f.isLoadFromPath=!1})}else if(this.material){let f=Math.abs(a.x-l.x),A=Math.abs(a.y-l.y),S=new THREE.PlaneGeometry(f,A),L=Math.min(a.x,l.x),N=Math.min(a.y,l.y);for(let ie=0;ie<S.vertices.length;ie++)S.vertices[ie].x+=L+.5*f,S.vertices[ie].y+=N+.5*A,S.vertices[ie].z=0;let G=new THREE.Mesh(S,this.material);G.material.depthTest=!1,t.drawEntity(G)}else if(this.isLoadMaterialFromPath&&this.imagePath.length>0){let f=this,A=t.getMxObject();MxFun.loadImageMaterial(this.imagePath,S=>{this.isLoadMaterialFromPath=!1,S&&(f.material=S,f.setNeedUpdateDisplay(),A.updateDisplay())})}this.fixedSize||(t.drawSelectLine(a,l),t.drawSelectLine(c,d),t.drawSelectLine(a,c),t.drawSelectLine(c,l),t.drawSelectLine(l,d),t.drawSelectLine(d,a))}else t.drawLine(a,c),t.drawLine(c,l),t.drawLine(l,d),t.drawLine(d,a);this.imagePath.length>0&&t.setMatrix(null)}async setSvgPath(t,r=!1){this.svgPath=t,this.svg=null,this.isLoadFromPath=!0,this.svgBoxSize=null,r&&await MxThreeJS.loadSVG(t)}getSvgPath(){return this.svgPath}setSvgPostion(t){this.svgPos=t.clone(),this.isSvgDirtyLocation=!0}setImagePath(t,r){this.imagePath=t,r?(this.material=r,this.isLoadMaterialFromPath=!1):(this.material=null,this.isLoadMaterialFromPath=!0)}getImagePath(){return this.imagePath}getSvgPostion(){return this.svgPos}setSvgSize(t){this.svgSize=t,this.isSvgDirtyLocation=!0}getSvgSize(){return this.svgSize}setSvgAlignmentRatio(t){this.svgAlignmentRatio=t,this.isSvgDirtyLocation=!0}getSvgAlignmentRatio(){return this.svgAlignmentRatio}getText(t){return t<this.aryText.length?this.aryText[t]:null}addText(t){this.aryText.push(t)}getGripPoints(){let t=[];t.push(this.svgPos);let r=0;for(;r<this.aryText.length;r++){let i=this.aryText[r];if(i.move){let a=new THREE.Vector3(i.txtPos.x,i.txtPos.y,0);if(this.fixedSize){let l=MxFun.getCurrentDraw();i.txtPos.x>0?a.x=this.svgPos.x+l.screenCoordLong2Doc(i.txtPos.x):a.x=this.svgPos.x-l.screenCoordLong2Doc(i.txtPos.x),i.txtPos.y>0?a.y=this.svgPos.y+l.screenCoordLong2Doc(i.txtPos.y):a.y=this.svgPos.y-l.screenCoordLong2Doc(i.txtPos.y)}t.push(a)}}return t}moveGripPointsAt(t,r){if(t==0)this.svgPos.add(r),this.fixedSize||this.aryText.forEach(i=>{i.txtPos.add(r)});else if(t-1>=0&&t-1<this.aryText.length){let i=this.aryText[t-1];if(i.move)if(this.fixedSize){let a=MxFun.getCurrentDraw();i.txtPos.x+=a.docCoordLong2Screen(r.x),i.txtPos.y+=a.docCoordLong2Screen(r.y)}else i.txtPos.add(r)}return this.isSvgDirtyLocation=!0,!0}calcSvgPosition(t){if(!this.svg||!this.isSvgDirtyLocation)return;this.isSvgDirtyLocation=!1;let[r,i]=this.calcVewSize(t);this.svg.position.x=this.svgPos.x-r*this.svgAlignmentRatio.x-this.svgMargin.x*r,this.svg.position.y=this.svgPos.y-i*this.svgAlignmentRatio.y-this.svgMargin.y*i}dwgIn(t){this.onDwgIn(t),this.fixedSize=t.fixedSize,this.fixedSize?this.svg=null:t.type==MxType.MxCloneType.kClone&&t.svg&&(this.svg=t.svg.clone()),this.svgPos.copy(t.svgPos),this.svgPath=t.svgPath.substr(0),this.svgSize.copy(t.svgSize),this.svgAlignmentRatio.copy(t.svgAlignmentRatio),this.isSvgDirtyLocation=!0,this.svg||(this.isLoadFromPath=!0),this.svgBoxSize=null;let r=t.txts;return this.aryText=[],r.forEach(i=>{let a=new MxDbSVGText;a.txt=i.txt,a.txtHeight=i.txtHeight,a.txtPos.copy(i.txtPos),a.move=i.move,a.drawConnectingLine=i.drawConnectingLine,this.aryText.push(a)}),this.svgRotate=t.svgRotate,this.useSvgColor=t.useSvgColor,this.svgReverse=t.svgReverse,this.svgMirror=t.svgMirror,this.svgMargin=t.svgMargin,t.svgChildColor?this.svgChildColor=t.svgChildColor:this.svgChildColor=[],this.imagePath=t.imagePath.substr(0),this.isLoadMaterialFromPath=!0,t.material&&(this.material=t.material),!0}dwgOut(t){this.onDwgOut(t);let r,i=this.getMxObject();return t.type==MxType.MxCloneType.kClone&&(t.svg=this.svg),t.svgPath=this.svgPath,t.svgPos=this.svgPos,t.svgSize=this.svgSize,t.svgAlignmentRatio=this.svgAlignmentRatio,t.txts=[],t.type==MxType.MxCloneType.kSaveDwgClone&&i&&(r=this.calcSvgDrawRect(i)),this.aryText.forEach(a=>{let l={txtPos:a.txtPos,txt:a.txt,txtHeight:a.txtHeight,color:a.color,_txtAspectRatio:a._txtAspectRatio,move:a.move,drawConnectingLine:a.drawConnectingLine};t.type==MxType.MxCloneType.kSaveDwgClone&&(a._connectingLine&&(l.connectingLine=a._connectingLine.geometry.vertice),a._underLine&&(l._underLine=a._underLine.geometry.vertice)),t.txts.push(l)}),t.fixedSize=this.fixedSize,t.svgRotate=this.svgRotate,t.useSvgColor=this.useSvgColor,t.svgReverse=this.svgReverse,t.svgMirror=this.svgMirror,t.svgMargin=this.svgMargin,t.svgChildColor=this.svgChildColor,t.type==MxType.MxCloneType.kSaveDwgClone&&(t.svgRect=r),t.imagePath=this.imagePath,t.type==MxType.MxCloneType.kDragClone&&(t.material=this.material),t}create(){return new MxDbSVG}transformBy(t){this.svgPos.applyMatrix4(t),this.isSvgDirtyLocation=!0,this.fixedSize||this.aryText.forEach(r=>{r.txtPos.applyMatrix4(t)})}getTypeName(){return"MxDbSVG"}setColor(t){if(super.setColor(t),this.svg){let r=new THREE.Color(this.color);this.svg.traverse(function(i){i.material&&(i.material.color=r)})}return this}setSvg(t){this.svg=t,this.isLoadFromPath=!1,this.svgBoxSize=null}calcSvgBoxSize(t){if(!this.svgBoxSize)if(t.boxSize)this.svgBoxSize=t.boxSize.clone();else{let r=new THREE.Box3().setFromObject(t);this.svgBoxSize||(this.svgBoxSize=new THREE.Vector3),this.svgBoxSize.x=r.max.x-r.min.x,this.svgBoxSize.y=r.max.y-r.min.y}}reComputeSVG(){if(!this.svg)return;let t=this.getMxObject();if(!t)return;this.calcSvgBoxSize(this.svg);let[r,i]=this.calcVewSize(t);this.svgBoxSize&&(this.svg.scale.x=r/this.svgBoxSize.x,this.svg.scale.y=i/this.svgBoxSize.y),this.svg.scale.z=this.svg.scale.x,this.svgReverse&&(this.svg.scale.y*=-1),this.svgMirror&&(this.svg.scale.x*=-1),this.isSvgDirtyLocation=!0,this.calcSvgPosition(t)}onViewChange(){if(!this.fixedSize)return!1;if(this.imagePath.length>0)return this.setNeedUpdateDisplay(!1),!0;let t=this.getMxObject();if(t==null)return!1;if(this.svg){this.calcSvgBoxSize(this.svg);let[c,d]=this.calcVewSize(t);this.svgBoxSize&&(this.svg.scale.x=c/this.svgBoxSize.x,this.svg.scale.y=d/this.svgBoxSize.y),this.svg.scale.z=this.svg.scale.x,this.svgReverse&&(this.svg.scale.y*=-1),this.svgMirror&&(this.svg.scale.x*=-1),this.isSvgDirtyLocation=!0,this.calcSvgPosition(t)}let r=this.calcSvgDrawRect(t),i=r.cenpt,a=r.sizew,l=this;return this.aryText.forEach(c=>{if(c._txtObject&&t){let E=t.screenCoordLong2Doc(c.txtHeight);if(E>1e-5){c._txtAspectRatio<=0&&(c._txtAspectRatio=c._txtObject.scale.x/c._txtObject.scale.y),c._txtObject.scale.set(c._txtAspectRatio*E*1.5,1.5*E,1),c.txtPos.x>0?c._txtObject.position.x=l.svgPos.x+t.screenCoordLong2Doc(c.txtPos.x):c._txtObject.position.x=l.svgPos.x-t.screenCoordLong2Doc(c.txtPos.x),c.txtPos.y>0?c._txtObject.position.y=l.svgPos.y+t.screenCoordLong2Doc(c.txtPos.y):c._txtObject.position.y=l.svgPos.y-t.screenCoordLong2Doc(c.txtPos.y);let C=c._txtObject.position;if(c._txtObject.updateMatrix(),c._underLine){const D=new THREE.Box3;let f=c._txtObject.parent;c._txtObject.parent=null,D.expandByObject(c._txtObject),c._txtObject.parent=f;let A=new THREE.Vector3(D.min.x,D.min.y+.1*E,0),S=new THREE.Vector3(D.max.x,D.min.y+.1*E,0);(d=new THREE.Geometry).vertices.push(A,S),c._underLine.geometry=d}if(c._connectingLine){let D=i.clone().sub(C);D.normalize();let f=i.clone().sub(D.clone().multiplyScalar(a)),A=C.clone().add(D.clone().multiplyScalar(E));var d;(d=new THREE.Geometry).vertices.push(f,A),c._connectingLine.geometry=d}}}}),!0}}function drawMxDbPolyline(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t,r=new MxDbPolyline;e.go(i=>{if(i!=0)return;let a=e.value();t||(t=a.clone());let l=a;const c=new McEdGetPointWorldDrawObject;c.setDraw((E,C)=>{C.setColor(16711680),C.drawLine(l,E),C.drawCustomEntity(r)}),e.setUserDraw(c),e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`);let d=0;r.addVertexAt(a),e.goWhile(E=>{if(E==0)l=e.value(),r.addVertexAt(l),++d>=2?(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.setKeyWords("[\u95ED\u5408(C)/\u653E\u5F03(U)]")):d>0?(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.setKeyWords("[\u653E\u5F03(U)]")):(e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.setKeyWords(""));else if(E==1){if(e.isKeyWordPicked("C"))return{exit:!0};e.isKeyWordPicked("U")&&console.log("Mx_Line undo....")}},()=>{MxFun.getCurrentDraw().addMxEntity(r)})})}MxDbSVG.cmd="Mx_ModelFixedSvg",MxDbSVG.draw=drawMxDbSVG,addRegisterMxDbEntity(MxDbSVG);class MxDbPolyline extends MxDbEntity{constructor(){super(...arguments),this.points=[]}getTypeName(){return"MxDbPolyline"}worldDraw(t){this.points.length<2||t.drawLines(this.points)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return!(t>=this.points.length||(this.points[t].add(r),0))}create(){return new MxDbPolyline}dwgIn(t){this.onDwgIn(t);let r=t.points;return this.points=[],r.forEach(i=>{this.points.push(new THREE.Vector3(i.x,i.y,i.z))}),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,t}addVertexAt(t){this.points.push(t)}numVerts(){return this.points.length}getPointAt(t){return t<this.points.length?this.points[t]:null}setPointAt(t,r){return t<this.points.length&&(this.points[t]=r,!0)}}function drawMxDb2LineAngularDimension(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new MxDb2LineAngularDimension,i=new McEdGetPointWorldDrawObject;return e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(a=>{a===0&&(e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u4E2A\u89D2\u5EA6\u70B9:`),r.point1=e.value(),i.setDraw((l,c)=>{r.point2=l,i.drawLine(r.point1,l)}),e.setUserDraw(i),e.go(l=>{e.setMessage(`
\u6307\u5B9A\u6700\u540E\u4E00\u4E2A\u70B9:`),l===0&&(r.point2=e.value(),i.setDraw((c,d)=>{r.point3=c,i.drawCustomEntity(r)}),e.go(c=>{c===0&&t.addMxEntity(r)}))}))}),r}MxDbPolyline.cmd="Mx_Lines",MxDbPolyline.draw=drawMxDbPolyline,addRegisterMxDbEntity(MxDbPolyline);const propertyDbKeys$6=["colors","point1","point2","point3"];class MxDb2LineAngularDimension extends MxDbEntity{constructor(t){if(super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.colors=[],t){const{points:r,colors:i}=t;r&&this.setPoints(r),i&&this.setColor(i)}}calculateLineAngle(t,r,i){const a=2*Math.PI/360;return{startAngle:180*Math.atan2(r.y-t.y,r.x-t.x)/Math.PI*a,endAngle:180*Math.atan2(i.y-t.y,i.x-t.x)/Math.PI*a}}setPoints(t){const[r,i,a]=t;return r&&(this.point1=r),i&&(this.point2=i),a&&(this.point3=a),this}setColor(t){return lodash.isArray(t)?this.colors=t:this.color=t,this}worldDraw(t){if(t.getType()==McGiWorldDrawType$1.kWorldDraw||t.getType()==McGiWorldDrawType$1.kDynDragDraw){const[r,i,a,l]=this.colors||[],c=this.getColor(),d=t.getMxObject();t.setColor(r||c),t.drawLine(this.point1,this.point2),t.setColor(i||c),t.drawLine(this.point2,this.point3);const{startAngle:E,endAngle:C}=this.calculateLineAngle(this.point2,this.point1,this.point3),D=this.point2.distanceTo(this.point1),f=this.point2.distanceTo(this.point3),A=Math.min(D,f)/4;let S=THREE.MathUtils.radToDeg(E-C);S<0&&(S+=360);let L=d.screenCoordLong2Doc(50);const N=new THREE.ArcCurve(this.point2.x,this.point2.y,A,E,C,!0),G=new THREE.Geometry().setFromPoints(N.getPoints(50));t.setColor(a||c),t.drawGeometryLines(G);const ie=N.getPoint(.5);let le=new THREE.Vector3(ie.x,ie.y,0);const ae=le.sub(this.point2),he=ae.length()+.5*L;ae.normalize().multiplyScalar(he),le=this.point2.clone().add(ae),t.setColor(l||c),t.drawText(S.toFixed(3)+"\xB0",.5*L,0,le)}else t.drawLine(this.point1,this.point2),t.drawLine(this.point3,this.point2)}getGripPoints(){return[this.point1,this.point2,this.point3]}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2&&this.point3.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$6),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$6),t}create(){return new MxDb2LineAngularDimension}transformBy(t){this.point1.applyMatrix4(t),this.point2.applyMatrix4(t)}getTypeName(){return"MxDb2LineAngularDimension"}}MxDb2LineAngularDimension.cmd="Mx_AngleSurveying",MxDb2LineAngularDimension.draw=drawMxDb2LineAngularDimension,addRegisterMxDbEntity(MxDb2LineAngularDimension);class MxFilters{constructor(){this.uniformObj={},this.filtersStr="",this.filtersTypes="",this.VSHADER_SOURCE=`
  varying vec2 v_Uv;
  void main () {
      v_Uv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  }
  `,this.FSHADER_SOURCE=`
  varying vec2 v_Uv;
  uniform sampler2D e_Texture;
  uniform mat4 colorMatrix;
  ${this.filtersStr}
  void main () {
    vec4 color = texture2D( e_Texture, v_Uv );
    color = color * colorMatrix;
    ${this.filtersTypes}
    gl_FragColor = color;
  }`,this._matrix=new THREE.Matrix4}channel({r:t=1,g:r=1,b:i=1}){return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1).multiply(this._matrix),this}brightness(t){return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1).multiply(this._matrix),this}saturate(t){const r=.2126*(1-t),i=.7152*(1-t),a=.0722*(1-t);return this._matrix=new THREE.Matrix4().set(r+t,i,a,0,r,i+t,a,0,r,i,a+t,0,0,0,0,1).multiply(this._matrix),this}contrast(t){const r=.5*(1-t);return this._matrix=new THREE.Matrix4().set(t,0,0,0,0,t,0,0,0,0,t,0,r,r,r,1).multiply(this._matrix),this}opacity(t){return this._matrix=new THREE.Matrix4().set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,t).multiply(this._matrix),this}invert(t){const r=1-2*t;return this._matrix=new THREE.Matrix4().set(r,0,0,0,0,r,0,0,0,0,r,0,t,t,t,1).multiply(this._matrix),this}grayscale(t=1){const r=.2126*t,i=.7152*t,a=.0722*t;return this._matrix=new THREE.Matrix4().set(r+1-t,i,a,0,r,i+1-t,a,0,r,i,a+1-t,0,0,0,0,1).multiply(this._matrix),this}sepia(t=1){return this._matrix=new THREE.Matrix4().set(1-.607*t,.769*t,.189*t,0,.349*t,1-.314*t,.168*t,0,.272*t,.534*t,1-.869*t,0,0,0,0,1).multiply(this._matrix),this}hueRotate(t){const r=t/180*Math.PI,i=Math.cos(r),a=Math.sin(r),l=.2126,c=.7152,d=.0722;return this._matrix=new THREE.Matrix4().set(l+.7874*i+a*-l,c+i*-c+a*-c,d+i*-d+.9278*a,0,l+i*-l+.143*a,c+i*(1-c)+.14*a,d+i*-d+-.283*a,0,l+i*-l+-.7874*a,c+i*-c+a*c,d+.9278*i+a*d,0,0,0,0,1).multiply(this._matrix),this}convolution(t,r=1/9,i=521){return this.uniformObj=Object.assign(Object.assign({},this.uniformObj),{cKernel:{value:t.toArray()},stStep:{value:r},scaleFactor:{value:i}}),this.filtersTypes.indexOf("convolutionTextureColor")<0&&(this.filtersStr+=`
        uniform float cKernel[9];
        uniform float stStep;
        uniform float scaleFactor;
        vec4 convolutionTextureColor(vec4 color) {
            vec2 offsets[9];
            offsets[0] = vec2(-1.0,-1.0);
            offsets[1] =  vec2(0.0,-1.0);
            offsets[2] = vec2(1.0,-1.0);
            offsets[3] =  vec2(-1.0,0.0);
            offsets[4] = vec2(0.0,0.0);
            offsets[5] = vec2(1.0,0.0);
            offsets[6] =  vec2(-1.0,1.0);
            offsets[7] = vec2(0.0,1.0);
            offsets[8] = vec2(1.0,1.0);

            vec4 sum = color;
            for(int i = 0; i < 9; i++) {
                sum = sum + cKernel[i] * scaleFactor * texture2D(e_Texture, v_Uv + offsets[i] / stStep);
            };
            return sum;
        }`,this.filtersTypes+=`color = convolutionTextureColor(color);
`),this}reset(){return this.uniformObj={},this.filtersStr="",this.filtersTypes="",this._matrix=new THREE.Matrix4,this}_getFilterShaderData(t){return{uniforms:Object.assign({e_Texture:{value:t},colorMatrix:{value:this._matrix}},this.uniformObj),vertexShader:this.VSHADER_SOURCE,fragmentShader:this.FSHADER_SOURCE}}_getFilterColor(t="#000000",r=1){t=new THREE.Color(t);let{r:i,g:a,b:l}=t;const c=this._matrix.toArray();c[12],c[13],c[14],c[15];const d=c[0]*i+c[1]*i+c[2]*i+c[3]*r,E=c[4]*a+c[5]*a+c[6]*a+c[7]*r,C=c[8]*l+c[9]*l+c[10]*l+c[11]*r;return t.setRGB(d,E,C),t}toJSON(){return JSON.stringify({matrix:this._matrix.toArray(),uniformObj:this.uniformObj,filtersStr:this.filtersStr,filtersTypes:this.filtersTypes})}static fromJSON(t){const{matrix:r,uniformObj:i,filtersStr:a,filtersTypes:l}=JSON.parse(t),c=new MxFilters;return c._matrix=new THREE.Matrix4().fromArray(r),c.uniformObj=i,c.filtersStr=a,c.filtersTypes=l,c}}class MxDbShape extends MxDbEntity{constructor(){super(...arguments),this.isLoadMaterialFromPath=!0,this.strokeLineWidth=2,this.isStrokeDashLine=!1,this.isFill=!1,this.curveSegments=50,this.closed=!0,this.cornerRadius=[],this._propertyDbKeys=["isFill","stroke","strokeLineWidth","isStrokeDashLine","closed","cornerRadius","fillImageSrc","fillImageParam"]}setStroke(t){return this.stroke=t,this}setStrokeLineWidth(t){return this.strokeLineWidth=t,this}setIsStrokeDashLine(t){return this.isStrokeDashLine=t,this}setIsFill(t){return this.isFill=t,this}get fillImageSrc(){return this._fillImageSrc}set fillImageSrc(t){this._fillImageSrc=t,this.isLoadMaterialFromPath=!0,this.material=null,this.fillImageSrc&&(this.isFill=!0),t!==!1&&t!==null||(this.setNeedUpdateDisplay(),MxFun.updateDisplay())}setFillImageSrc(t){return this.fillImageSrc=t,this}setFillImageParam(t){this.fillImageParam=t===void 0?t:Object.assign(this.fillImageParam,t)}setCurveSegments(t){return this.curveSegments=t,this}setClosed(t){return this.closed=t,this}getFilter(){return this.filter}setFilter(t){this.filter=t,this.isLoadMaterialFromPath=!0,this.material=null}setCornerRadius(t,r=!0){this.cornerRadius=t instanceof Array?t.map(i=>r?MxFun.screenCoordLong2Doc(i):i):r?MxFun.screenCoordLong2Doc(t):t}getTypeName(){return"MxDbShape"}getShapePoints(t){const{curveSegments:r}=this;return this.points=t.getPoints(r).map(i=>i instanceof THREE.Vector2?new THREE.Vector3(i.x,i.y,0):i),this.points}createPaths(t){return this._paths=new THREE.CurvePath,Array.isArray(t)?t.forEach(r=>this._paths.add(r)):this._paths.add(t),this._paths}_draw(t,r){let{isFill:i,closed:a,opacity:l,dLineWidth:c,lineWidthByPixels:d}=this;t.setOpacity(l),t.setLineWidthByPixels(d),t.setLineWidth(c);const E=t.getColor();t.setColor(this.filter?this.filter._getFilterColor(this.color,this.opacity):this.color);const C=this.getCornerRadiusPoints(a||i?this.getClosedPoints(r):r);i?!this.fillImageSrc&&t.drawSolid(C):t.drawLines(C),this._fillImg(t,C),t.setColor(E)}getCornerRadiusPoints(t){const{cornerRadius:r}=this;if(!r)return t;const i=typeof r=="number"?t.map(()=>r):r;return i.length>0?getToGenerateRoundedCorners(t,i):t}_drawStoreLine(t,r,i){const{isFill:a,stroke:l,strokeLineWidth:c}=this,d=t.getLineWidth(),E=t.getColor(),C=t.isDashLineDisplay();l&&a&&(t.setDashLineDisplay(this.isStrokeDashLine),t.setColor(l),t.setLineWidth(c),i?i(t):t.drawLines(this.getCornerRadiusPoints(this.getClosedPoints(r))),t.setColor(E),t.setLineWidth(d),t.setDashLineDisplay(C))}getClosedPoints(t){return[...t,t[0]]}getTotalLength(){if(this.points){let t=0;return this.points.reduce((r,i)=>(t+=r.distanceTo(i),i)),t}if(this._paths)return this._paths.getLength()+(this.closedLine?this.closedLine.getLength():0)}getArea(){return this.points?McGeTool.calcArea(this.closed?this.getClosedPoints(this.points):this.points):0}worldDraw(t){const r=this.createPaths(new THREE.Curve),i=this.getShapePoints(r);this._draw(t,i),this._drawStoreLine(t,i)}_fillImg(t,r){const i={transparent:!0,depthTest:!1,opacity:this.opacity,visible:this.visible};if(!this.isFill||!this.fillImageSrc)return;if(!this.material){let E=this;return void MxFun.loadImageMaterial(this.fillImageSrc,C=>{E.isLoadMaterialFromPath=!1,C&&(E.material=C,E.setNeedUpdateDisplay(),MxFun.updateDisplay())})}const a=r.map(({x:E,y:C})=>new THREE.Vector2(E,C));let l=this.material,c=new THREE.ShapeGeometry(new THREE.Shape(a));if(c=repairGeometryFaceVertexUvs(c),this.filter){const E=l.map,C=this.filter._getFilterShaderData(E);l=new THREE.ShaderMaterial(Object.assign(Object.assign({},C),i))}if(l.depthTest=!1,l.transparent=!0,l.opacity=this.opacity,l.visible=this.visible,this.fillImageParam){const E=this.fillImageParam;for(let C in this.fillImageParam)this.material.map[C]=E[C]}let d=new THREE.Mesh(c,l);t.drawEntity(d)}getGripPoints(){return[]}moveGripPointsAt(t,r){return!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,this._propertyDbKeys),this.isLoadMaterialFromPath=!0,this.material=null,t.type===MxType.MxCloneType.kMxFileClone?t.filter&&(this.filter=MxFilters.fromJSON(t.filter)):t.filter&&(this.filter=t.filter),!0}dwgOut(t){var r;return this.onDwgOut(t),this.dwgOutHelp(t,this._propertyDbKeys),t.type===MxType.MxCloneType.kMxFileClone?this.filter&&(t.filter=(r=this.filter)===null||r===void 0?void 0:r.toJSON()):t.filter=this.filter,t}transformBy(t){this.points&&this.points.forEach(r=>{r.applyMatrix4(t)})}}class MxDbEllipseShape extends MxDbShape{constructor(){super(),this.center=new THREE.Vector3,this.xRadius=10,this.yRadius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!1,this.rotation=0,this.isClosedToCenter=!0,this._propertyDbKeys=[...this._propertyDbKeys,"center","xRadius","yRadius","startAngle","endAngle","clockwise","rotation","isClosedToCenter"]}getTypeName(){return"MxDbEllipseShape"}setCenter(t){return this.center=t,this}setXRadius(t){return this.xRadius=t,this}setYRadius(t){return this.yRadius=t,this}setStartAngle(t){return this.startAngle=t,this}setEndAngle(t){return this.endAngle=t,this}setClockwise(t){return this.clockwise=t,this}setRotation(t){return this.rotation=t,this}setIsClosedToCenter(t){return this.isClosedToCenter=t,this}worldDraw(t){this.drawEllipseShape(t)}drawEllipseShape(t){let{startAngle:r,endAngle:i,clockwise:a}=this;const l=this.createEllipseCurve(),c=this.createPaths(l);let d=this.getShapePoints(c);return this._draw(t,d),this._drawStoreLine(t,d),{centralAngle:a?i>r?THREE.MathUtils.radToDeg(l.aEndAngle-l.aStartAngle):360-Math.abs(THREE.MathUtils.radToDeg(l.aEndAngle-l.aStartAngle)):r>i?Math.abs(THREE.MathUtils.radToDeg(l.aEndAngle-l.aStartAngle)):360-THREE.MathUtils.radToDeg(l.aEndAngle-l.aStartAngle),curve:l,points:d}}createEllipseCurve(t=this.center.x,r=this.center.y,i=this.xRadius,a=this.yRadius,l=this.startAngle,c=this.endAngle,d=this.clockwise,E=this.rotation){return new THREE.EllipseCurve(t,r,i,a,l,c,d,E)}getCornerRadiusPoints(t){return t}getClosedPoints(t){try{let r=(this._paths||new THREE.CatmullRomCurve3(t,!1,"catmullrom",0)).getLength();this.closedLine=this.getClosedLine(t);const i=this.closedLine.getLength();let a=this.curveSegments/r,l=2.5*(r>this.curveSegments?i*a:1);if(l>20*this.curveSegments&&(l=20*this.curveSegments),l<=0)return t;const c=this.closedLine.getPoints(l);return[...t,...c]}catch{return[...t,t[0]]}}getClosedLine(t){const{isClosedToCenter:r,center:i}=this;let a=r?[t[t.length-1],i,t[0]]:[t[t.length-1],t[0]];return new THREE.CatmullRomCurve3(a,!1,"catmullrom",.01)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}class MxDbCircleShape extends MxDbEllipseShape{getTypeName(){return"MxDbCircleShape"}get radius(){return this.xRadius}set radius(t){this.xRadius=t,this.yRadius=t}setRadius(t){return this.radius=t,this}setXRadius(t){return this.setRadius(t),this}setYRadius(t){return this.setRadius(t),this}}function drawMx3PointArc(){const e=new MrxDbgUiPrPoint,t=new McEdGetPointWorldDrawObject,r=new Mx3PointArc;r.closed=!1,r.setColor("#ff0000").setLineWidth(10),e.setUserDraw(t),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(i=>{i===MrxDbgUiPrBaseReturn$1.kOk&&(r.point1=e.value(),t.setDraw(a=>{t.drawLine(r.point1,a)})),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u7ED3\u675F\u70B9:`),e.go(a=>{a===MrxDbgUiPrBaseReturn$1.kOk&&(r.point2=e.value(),t.setDraw(l=>{r.point3=l,t.drawCustomEntity(r)})),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E0A\u4EFB\u610F\u4E00\u70B9:`),e.go(l=>{if(l===MrxDbgUiPrBaseReturn$1.kOk){MxFun.getCurrentDraw().addMxEntity(r);const{radius:c,angle:d,arcLength:E}=createThreePointArc(r.point1,r.point2,r.point3,!0);console.log("\u534A\u5F84:",c),console.log("\u5706\u5F27\u5706\u5FC3\u89D2\u5EA6:",d),console.log("\u5706\u5F27\u5F27\u957F:",E)}})})})}class Mx3PointArc extends MxDbCircleShape{constructor(){super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.autoClockwise=!0,this._propertyDbKeys=[...this._propertyDbKeys,"point1","point2","point3","autoClockwise"]}getTypeName(){return"Mx3PointArc"}create(){return new Mx3PointArc}worldDraw(t){let{point1:r,point2:i,point3:a}=this;this.upDateCenter(r,i,a),this.upDateRadius(r);const[l,c,d]=this.compute3PointAngle();this.upDataClockwise(l,c,d),this.startAngle=THREE.MathUtils.degToRad(l),this.endAngle=THREE.MathUtils.degToRad(c),this.drawEllipseShape(t)}getGripPoints(){return[this.point1,this.point2,this.point3,this.center]}compute3PointAngle(){const{point1:t,point2:r,point3:i}=this,a=calculateArcAngle(t,this.center,this.radius),l=calculateArcAngle(r,this.center,this.radius),c=calculateArcAngle(i,this.center,this.radius);return[a.angle,l.angle,c.angle]}upDateCenter(t,r,i){return this.center=calculateArcOrigin(t,r,i),this.center}upDateRadius(t){return this.radius=calculateRadiusArc(t,this.center),this.radius}upDataClockwise(t,r,i){const{autoClockwise:a}=this;a&&(this.clockwise=judgementArcRenderDirection(r,t,i))}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2?this.point3.add(r):t===3&&(this.point1.add(r),this.point2.add(r),this.point3.add(r)),this.upDateCenter(this.point1,this.point2,this.point3),!0}}function drawMxDbCoord(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u5750\u6807\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbCoord;i.point1=r,i.point2=r.clone(),e.setBasePt(r),e.setUseBasePt(!0),e.setUserDraw((a,l)=>{i.point2=a,l.drawCustomEntity(i)}),e.setMessage(`
\u6307\u5B9A\u6807\u6CE8\u70B9:`),e.go(a=>{a==0?(i.point2=e.value(),MxFun.addToCurrentSpace(i)):console.log(a)})})}Mx3PointArc.cmd="Mx_3PointArc",Mx3PointArc.draw=drawMx3PointArc,addRegisterMxDbEntity(Mx3PointArc);class MxDbCoord extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3}worldDraw(t){let r=t.getMxObject();t.drawLine(this.point1,this.point2);let i=this.point2.clone();var a=r.screenCoordLong2Doc(20),l=6*a;i.x=i.x+l,t.drawLine(this.point2,i);var c=new THREE.Vector3,d=new THREE.Vector3;let E=r.docCoord2Cad(this.point1.x,this.point1.y,this.point1.z),C=E.x.toFixed(3),D=E.y.toFixed(3);c.x=this.point2.x+.3*a+.5*l,c.y=this.point2.y+.1*a+.5*a,t.drawText(C,a,0,c),d.x=this.point2.x+.3*a+.5*l,d.y=this.point2.y-.1*a-.5*a,t.drawText(D,a,0,d)}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),!0}dwgOut(t){return this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t}create(){return new MxDbCoord}transformBy(t){this.point1.applyMatrix4(t),this.point2.applyMatrix4(t)}getTypeName(){return"MxDbCoord"}}async function drawMxDbLine(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t=await e.go();if(t==null)return;e.setBasePt(t.clone()),e.setUseBasePt(!0),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`);let r=await e.go();if(r==null)return;let i=new MxDbLine;i.pt1=t,i.pt2=r,MxFun.addToCurrentSpace(i)}MxDbCoord.cmd="Mx_Coord",MxDbCoord.draw=drawMxDbCoord,addRegisterMxDbEntity(MxDbCoord);class MxDbLine extends MxDbEntity{constructor(){super(...arguments),this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3}getTypeName(){return"MxDbLine"}worldDraw(t){t.drawLine(this.pt1,this.pt2)}setPoint1(t){this.pt1=t}getPoint1(){return this.pt1}setPoint2(t){this.pt2=t}getPoint2(){return this.pt2}getGripPoints(){let t=[];t.push(this.pt1),t.push(this.pt2);let r=new THREE.Vector3(this.pt1.x+.5*(this.pt2.x-this.pt1.x),this.pt1.y+.5*(this.pt2.y-this.pt1.y),0);return t.push(r),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?this.pt2.add(r):t==2&&(this.pt1.add(r),this.pt2.add(r)),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t}create(){return new MxDbLine}getGeomExtents(){return new THREE.Box3(this.pt1,this.pt2)}getGetLength(){return this.pt1.distanceTo(this.pt2)}}async function drawMxDbRect(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let t=await e.go();if(!t)return;let r=new MxDbRect;r.pt1=t;const i=new McEdGetPointWorldDrawObject;i.setDraw(a=>{r.pt2=a,i.drawCustomEntity(r)}),e.setBasePt(t),e.setUseBasePt(!0),e.setUserDraw(i),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),await e.go()&&(r.pt2=e.value(),MxFun.getCurrentDraw().addMxEntity(r))}MxDbLine.cmd="Mx_Line",MxDbLine.draw=drawMxDbLine,addRegisterMxDbEntity(MxDbLine);class MxDbRect extends MxDbEntity{constructor(){super(...arguments),this.cornerRadius=[],this.pt1=new THREE.Vector3,this.pt2=new THREE.Vector3,this.isSolidColorFill=!1,this.isLoadMaterialFromPath=!0,this.material=null}worldDraw(t){let r=computeRectPoints(this.pt1,this.pt2);if(this.cornerRadius.length>0&&(r=getToGenerateRoundedCorners(r,this.cornerRadius)),t.getType()!=McGiWorldDrawType$1.kWorldDraw)return r.push(r[0]),void t.drawLines(r);const i={transparent:!0,depthTest:!1,opacity:this.opacity,visible:this.visible};if(this.isSolidColorFill){let a;r=r.map(({x:d,y:E})=>new THREE.Vector2(d,E)),a=new THREE.ShapeGeometry(new THREE.Shape(r));let l=new THREE.MeshBasicMaterial(Object.assign({color:this.filter?this.filter._getFilterColor(this.color,this.opacity):new THREE.Color(this.color)},i)),c=new THREE.Mesh(a,l);t.drawEntity(c)}else if(this.fillImageSrc){if(this.material){r=r.map(({x:d,y:E})=>new THREE.Vector2(d,E));let a=this.material,l=new THREE.ShapeGeometry(new THREE.Shape(r));if(l=repairGeometryFaceVertexUvs(l),this.filter){const d=a.map;this.fillImageParam&&(this.fillImageParam.center&&(d.center=this.fillImageParam.center),this.fillImageParam.offset&&(d.offset=this.fillImageParam.offset),this.fillImageParam.repeat&&(d.repeat=this.fillImageParam.repeat),this.fillImageParam.rotation&&(d.rotation=this.fillImageParam.rotation));const E=this.filter._getFilterShaderData(d);a=new THREE.ShaderMaterial(Object.assign(Object.assign({},E),i))}a.depthTest=!1,a.transparent=!0,a.opacity=this.opacity,a.visible=this.visible;let c=new THREE.Mesh(l,a);t.drawEntity(c)}else if(this.fillImageSrc.length>0&&this.isLoadMaterialFromPath){let a=this;MxFun.loadImageMaterial(this.fillImageSrc,l=>{this.isLoadMaterialFromPath=!1,l&&(a.material=l,a.setNeedUpdateDisplay(),MxFun.updateDisplay())})}}else{let a=new THREE.BufferGeometry().setFromPoints(r),l=new THREE.LineBasicMaterial(Object.assign({color:this.getColor()},i)),c=new THREE.LineLoop(a,l);t.drawEntity(c)}}getGripPoints(){let t=[];t.push(this.pt1);const r=new THREE.Line3(this.pt1,this.pt2);let i=new THREE.Vector3;return r.getCenter(i),t.push(i),t.push(this.pt2),t}moveGripPointsAt(t,r){return t==0?this.pt1.add(r):t==1?(this.pt1.add(r),this.pt2.add(r)):t==2&&this.pt2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.pt1.copy(t.pt1),this.pt2.copy(t.pt2),this.isSolidColorFill=t.isSolidColorFill,this.fillImageSrc=t.fillImageSrc,this.fillImageParam=t.fillImageParam,this.cornerRadius=t.cornerRadius,this.filter=t.filter,this.isLoadMaterialFromPath=!0,this.material=null,!0}dwgOut(t){return this.onDwgOut(t),t.pt1=this.pt1,t.pt2=this.pt2,t.isSolidColorFill=this.isSolidColorFill,t.fillImageSrc=this.fillImageSrc,t.fillImageParam=this.fillImageParam,t.cornerRadius=this.cornerRadius,t.filter=this.filter,t}create(){return new MxDbRect}transformBy(t){this.pt1.applyMatrix4(t),this.pt2.applyMatrix4(t)}setRadius(t,r=!0){this.cornerRadius=t instanceof Array?t.map(i=>r?MxFun.screenCoordLong2Doc(i):i):t>0?r?[MxFun.screenCoordLong2Doc(t),MxFun.screenCoordLong2Doc(t),MxFun.screenCoordLong2Doc(t),MxFun.screenCoordLong2Doc(t)]:[t,t,t,t]:[]}getTypeName(){return"MxDbRect"}getFilter(){return this.filter}setFilter(t){this.filter=t,this.isLoadMaterialFromPath=!0,this.material=null}setFillImagePath(t){this.fillImageSrc=t,this.isLoadMaterialFromPath=!0,this.material=null,this.fillImageSrc&&(this.isSolidColorFill=!1)}getFillImagePath(){return this.fillImageSrc}}function drawMxDbAlignedDimension(){let e=new MxDbAlignedDimension;const t=new MrxDbgUiPrPoint;return t.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),t.go(r=>{if(r!=0)return;const i=t.value();e.setPoint1(i),e.setColor(65314);const a=new McEdGetPointWorldDrawObject;a.setDraw(l=>{e.setPoint2(l),a.drawCustomEntity(e)}),t.setBasePt(i),t.setUseBasePt(!0),t.setUserDraw(a),t.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),t.setInputToucheType(MxType.InputToucheType.kGetEnd),t.go(l=>{if(l!=0)return void console.log(l);const c=t.value();e.setPoint2(c),MxFun.getCurrentDraw().addMxEntity(e)})}),e}MxDbRect.cmd="Mx_DrawRect",MxDbRect.draw=drawMxDbRect,addRegisterMxDbEntity(MxDbRect);const propertyDbKeys$5=["point1","point2","fontColor"];class MxDbAlignedDimension extends MxDbEntity{constructor(t){if(super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,t){const{points:r,fontColor:i}=t;r&&this.setPoints(r),i&&(this.fontColor=i)}}setPoints(t){const[r,i]=t;r&&(this.point1=r),i&&(this.point2=i)}getTypeName(){return"MxDbAlignedDimension"}getDirection(t,r,i){const a=new THREE.Vector3(t.x,t.y,0),l=new THREE.Vector3(1,0,0),c=t.angleTo(l);let d=-1;(c<7*Math.PI/18||c>10*Math.PI/18)&&r.x>i.x&&(d=1);const E=new THREE.Matrix4;return E.makeRotationZ(Math.PI/2*d),a.applyMatrix4(E),a}getDimText(){return new THREE.Vector3(this.point1.x-this.point2.x,this.point1.y-this.point2.y,0).length().toFixed(3)}worldDraw(t){if(t.getType()==McGiWorldDrawType$1.kWorldDraw||t.getType()==McGiWorldDrawType$1.kDynDragDraw){const r=this.point1,i=this.point2;let a,l,c,d,E,C,D;const f=new THREE.Vector3(r.x-i.x,r.y-i.y,0),A=this.getDirection(f,r,i),S=new THREE.Matrix4;S.makeScale(.01,.01,.01);const L=new THREE.Vector3(A.x,A.y,0);L.applyMatrix4(S);const N=new THREE.Vector3(r.x+L.x,r.y+L.y,0),G=new THREE.Vector3(i.x+L.x,i.y+L.y,0),ie=this.getColor();C=MxThreeJS.createPoint(r,ie),D=MxThreeJS.createPoint(i,ie);{S.identity(),S.makeScale(.2,.2,0),new THREE.Vector3(A.x,A.y,0).applyMatrix4(S),S.identity(),S.makeScale(.02,.02,0);const le=new THREE.Vector3(A.x,A.y,0);le.applyMatrix4(S),t.drawLine(N,G),a=MxThreeJS.createLine(new THREE.Vector3(N.x+2*le.x,N.y+2*le.y,0),new THREE.Vector3(r.x+le.x,r.y+le.y,0),ie),l=MxThreeJS.createLine(new THREE.Vector3(G.x+2*le.x,G.y+2*le.y,0),new THREE.Vector3(i.x+le.x,i.y+le.y,0),ie)}{const le=new THREE.Vector3(1,0,0);let ae=f.angleTo(le);const he=new THREE.Vector3(A.x,A.y,0);he.normalize();const pe=r.distanceTo(i);f.y<0?ae=ae<Math.PI/2?2*Math.PI-ae:Math.PI-ae:ae>Math.PI/2&&(ae=Math.PI+ae);const B=t.getMxObject();B&&(ae-=B.getViewAngle());const se=this.getDimText();(c=MxThreeJS.creatTextSprite(se,new THREE.Vector3(G.x+f.x/2+he.x*pe/30,G.y+f.y/2+he.y*pe/30,0),.07*pe,ae,this.fontColor||ie))!=null&&t.drawEntity(c)}{S.identity(),S.makeScale(.08,.08,.08);const le=new THREE.Matrix4;le.makeRotationZ(17*Math.PI/18);let ae=new THREE.Vector3(f.x,f.y,0);ae.applyMatrix4(S),ae.applyMatrix4(le),le.identity(),le.makeRotationZ(17*-Math.PI/18);let he=new THREE.Vector3(f.x,f.y,0);he.applyMatrix4(S),he.applyMatrix4(le);const pe=new Array;pe.push(new THREE.Vector3(N.x,N.y,0),new THREE.Vector3(N.x+ae.x,N.y+ae.y,0),new THREE.Vector3(N.x+he.x,N.y+he.y,0)),d=MxThreeJS.createTriangle(pe,ie),le.identity(),le.makeRotationZ(Math.PI/18),(ae=new THREE.Vector3(f.x,f.y,0)).applyMatrix4(S),ae.applyMatrix4(le),le.identity(),le.makeRotationZ(-Math.PI/18),(he=new THREE.Vector3(f.x,f.y,0)).applyMatrix4(S),he.applyMatrix4(le);const B=new Array;B.push(new THREE.Vector3(G.x,G.y,0),new THREE.Vector3(G.x+ae.x,G.y+ae.y,0),new THREE.Vector3(G.x+he.x,G.y+he.y,0)),E=MxThreeJS.createTriangle(B,ie)}t.drawEntity(a),t.drawEntity(l),d&&t.drawEntity(d),E&&t.drawEntity(E),t.drawEntity(C),t.drawEntity(D)}else t.drawLine(this.point1,this.point2)}setPoint1(t){this.point1=t}setPoint2(t){this.point2=t}setColor(t){return lodash.isArray(t)?([this.color=this.color,this.fontColor=this.fontColor||this.color]=t,console.log("this.fontColor : ",this.fontColor)):this.color=t,this}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):(t=1)&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$5),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$5),t}create(){return new MxDbAlignedDimension}}MxDbAlignedDimension.cmd="Mx_DimensionMeasurement",MxDbAlignedDimension.draw=drawMxDbAlignedDimension,addRegisterMxDbEntity(MxDbAlignedDimension);class MxDbHatch extends MxDbEntity{constructor(){super(...arguments),this.points=[]}worldDraw(t){t.getType()===McGiWorldDrawType$1.kWorldDraw?t.drawSolid(this.points):t.drawLines([...this.points,this.points[0]])}getTypeName(){return"MxDbHatch"}moveGripPointsAt(t,r){return t===0?this.points.forEach(i=>{i.add(r)}):this.points[t-1]&&this.points[t-1].add(r),!0}setPoints(t){this.points=t.map(r=>r.clone())}getGripPoints(){if(this.points.length>0){const{centerPoint:t}=computeBounding(this.points);return[t,...this.points]}return[]}dwgIn(t){this.onDwgIn(t);const r=t.points;return this.points=r.map(({x:i,y:a,z:l})=>new THREE.Vector3(i,a,l)),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,t}}function drawMxDbArea(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbArea;i.addPoint(r);const a=new McEdGetPointWorldDrawObject;a.setDraw((l,c)=>{let d=i.clone();d.addPoint(l),a.drawCustomEntity(d)}),e.setUserDraw(a),e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u70B9:`),e.goWhile(l=>{if(l==0){const c=e.value();i.addPoint(c)}},l=>{i.isFill=!0,i.fillOpacity=.7,i.fillColor=6697540,MxFun.getCurrentDraw().addMxEntity(i)})})}addRegisterMxDbEntity(MxDbHatch);class MxDbArea extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.isFill=!1,this.fillColor=6697540,this.fillOpacity=.7}getTypeName(){return"MxDbArea"}create(){return new MxDbArea}getDimText(){return McGeTool.calcArea(this.points).toFixed(2)}worldDraw(t){if(this.points.length<3)return void(this.points.length==2&&t.drawLine(this.points[0],this.points[1]));let r=this.points[0],i=r.clone(),a=r.clone(),l=this.points.length;for(let D=1;D<l;D++){let f=this.points[D];i.x>f.x&&(i.x=f.x),i.y>f.y&&(i.y=f.y),a.x<f.x&&(a.x=f.x),a.y<f.y&&(a.y=f.y),t.drawLine(r,f),r=f}t.drawLine(r,this.points[0]);let c=new THREE.Vector3(i.x+.5*(a.x-i.x),i.y+.5*(a.y-i.y));const d=t.getColor();let E=MxFun.screenCoordLong2Doc(20),C=MxThreeJS.creatTextSprite(this.getDimText(),c,E,0,d);if(C!=null&&t.drawEntity(C),t.getType()==McGiWorldDrawType$1.kWorldDraw&&this.isFill){t.setColor(this.fillColor),t.setOpacity(this.fillOpacity),t.setRenderOrder(t.getRenderOrder()-1);const D=new MxDbHatch;D.points=this.points,D.worldDraw(t)}}getGripPoints(){return this.points}moveGripPointsAt(t,r){return!(t>=this.points.length||(this.points[t].add(r),0))}dwgIn(t){this.onDwgIn(t);let r=t.points;return this.points=[],r.forEach(i=>{this.points.push(new THREE.Vector3(i.x,i.y,i.z))}),this.dwgInHelp(t,["isFill","fillColor","fillOpacity"]),!0}dwgOut(t){return this.onDwgOut(t),t.points=this.points,this.dwgOutHelp(t,["isFill","fillColor","fillOpacity"]),t}addPoint(t){this.points.push(t.clone())}getPoints(){return this.points}clearPoint(){this.points=[]}}async function drawMxDbLeadTag(){let t=await new MrxDbgUiPrPoint().go();if(!t)return;let r=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");if(!r)return;const i=new MxDbLeadTag;i.point=t,i.text=r,MxFun.addToCurrentSpace(i)}MxDbArea.cmd="Mx_Area",MxDbArea.draw=drawMxDbArea,addRegisterMxDbEntity(MxDbArea);class MxDbLeadTag extends MxDbEntity{constructor(){super(...arguments),this.point=new THREE.Vector3,this.leadLen=88,this.text="",this.textHeight=24}getTypeName(){return"MxDbLeadTag"}createDots(t,r){const{x:i,y:a,z:l}=t,c=new THREE.Shape;c.arc(i,a,r.screenCoordLong2Doc(6),0,2*Math.PI,!0);const d=new THREE.Path;d.arc(i,a,r.screenCoordLong2Doc(3),0,2*Math.PI,!0),c.holes.push(d);const E=new THREE.ShapeGeometry(c),C=new THREE.MeshPhongMaterial({color:"#ff0000",transparent:!0}),D=new THREE.Shape;D.arc(i,a,r.screenCoordLong2Doc(3),0,2*Math.PI,!0);const f=new THREE.ShapeGeometry(D),A=new THREE.MeshPhongMaterial({color:"#e2da8f",transparent:!0}),S=new THREE.Mesh(E,C),L=new THREE.Mesh(f,A);return S.add(L),S}worldDraw(t){let r=t.getMxObject();const i=this.createDots(this.point,r);if(t.drawEntity(i),i.geometry.computeBoundingBox(),t.drawSelectLine(i.geometry.boundingBox.max,i.geometry.boundingBox.min),t.getType()===2)return;let a=t.getMxObject().screenCoordLong2Doc(this.leadLen),l=new THREE.Vector3(this.point.x+2*a,this.point.y+a,0);const c=l.x-a,d=new THREE.Vector3(c,l.y,l.z);t.setLineWidth(4),t.setColor("#ffe605"),t.drawLines([this.point,d,l]);const E=t.getMxObject().screenCoordLong2Doc(this.textHeight),C=l.clone().setX(l.x);t.setColor(16744448);const D=MxThreeJS.creatTextSprite(this.text,C,E,0,t.getColor());if(D){const f=new THREE.Box3,A=new THREE.Vector3;f.expandByObject(D),f.getSize(A),D.position.setX(D.position.x+A.x/2);const S=t.getMxObject().screenCoordLong2Doc(5),L=f.min.clone().setX(f.min.x+A.x/2).setY(f.min.y-S),N=f.max.clone().setX(f.max.x+A.x/2).setY(f.min.y+S);N.setY(f.max.y+S);const G=new THREE.Vector3(L.x,N.y),ie=new THREE.Vector3(N.x,L.y);t.setColor("#ffffff"),t.setLineWidth(0),t.drawLine(L,G),t.drawLine(N,ie),t.drawLine(L,ie),t.drawLine(G,N);const le=S/2,ae=[],he=[];ae.push(new THREE.Vector3(G.x+le,G.y-S,G.z),new THREE.Vector3(G.x+le,G.y-le,G.z),new THREE.Vector3(G.x+S,G.y-le,G.z)),he.push(new THREE.Vector3(ie.x-le,ie.y+S,ie.z),new THREE.Vector3(ie.x-le,ie.y+le,ie.z),new THREE.Vector3(ie.x-S,ie.y+le,ie.z)),t.drawLines(ae),t.drawLines(he),t.setOpacity(.5),t.setColor("#663244"),t.setRenderOrder(-100),t.drawSolid([L,G,N,ie]),t.setRenderOrder(100),t.drawEntity(D)}}getGripPoints(){return[this.point]}onViewChange(){return this.setNeedUpdateDisplay(),!0}moveGripPointsAt(t,r){return t===0&&this.point.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,["point","text","textHeight","leadLen"]),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,["point","text","textHeight","leadLen"]),t}}function drawMxDbAnyLine(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbAnyLine;e.setUserDraw(r),e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u753B\u7EBF:`),e.go(a=>{a===MrxDbgUiPrBaseReturn$1.kOk&&(i.points.push(e.value()),r.setDraw(l=>{i.points.push(l.clone()),r.drawCustomEntity(i)})),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u753B\u7EBF:`),e.go(l=>{l===MrxDbgUiPrBaseReturn$1.kOk&&t.addMxEntity(i)})})}MxDbLeadTag.cmd="Mx_LeadTag",MxDbLeadTag.draw=drawMxDbLeadTag,addRegisterMxDbEntity(MxDbLeadTag);const propertyDbKeys$4=["points"];class MxDbAnyLine extends MxDbEntity{constructor(){super(...arguments),this.points=[]}getTypeName(){return"MxDbAnyLine"}create(){return new MxDbAnyLine}worldDraw(t){let r=t.getMxObject();const i=new THREE.Box3().setFromPoints(this.points);let a=new THREE.Vector3;if(i.getCenter(a),t.drawLines(this.points),t.getType()===McGiWorldDrawType$1.kSelectDraw){const l=new THREE.Vector3;i.getSize(l),l.addScalar(r.screenCoordLong2Doc(20));const c=l.x/2,d=l.y/2,E={x:a.x-c,y:a.y-d},C={x:a.x+c,y:a.y-d},D={x:a.x+c,y:a.y+d},f={x:a.x-c,y:a.y+d};t.drawLine(E.x,E.y,C.x,C.y),t.drawLine(C.x,C.y,D.x,D.y),t.drawLine(D.x,D.y,f.x,f.y),t.drawLine(f.x,f.y,E.x,E.y)}}setPoints(t){return this.points=t,this}getCenter(){const t=new THREE.Geometry;t.vertices=this.points;const r=new THREE.Vector3;return t.computeBoundingBox(),t.boundingBox.getCenter(r),r}getGripPoints(){return[this.getCenter()]}moveGripPointsAt(t,r){return t===0&&this.points.forEach(i=>{i.add(r)}),!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$4),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$4),t}}function drawMxDbCloudLine(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setMessage(`
\u70B9\u51FB\u5F00\u542F\u7ED8\u5236\u4E91\u7EBF:`),e.go(()=>{const i=MxFun.screenCoordLong2Doc(16);let a=e.value();const l=new MxDbCloudLine;l.setRadius(i),l.addPoint(a),r.setDraw(c=>{a.distanceTo(c)>i&&(a=c.clone(),l.addPoint(c,!0)),r.drawCustomEntity(l)}),e.setUserDraw(r),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u4E91\u7EBF:`),e.go(()=>{t.addMxEntity(l)})})}MxDbAnyLine.cmd="Mx_AnyLine",MxDbAnyLine.draw=drawMxDbAnyLine,addRegisterMxDbEntity(MxDbAnyLine);const propertyDbKeys$3=["points","radius"];class MxDbCloudLine extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.radius=16,this.cachePoint=null}getTypeName(){return"MxDbCloudLine"}create(){return new MxDbCloudLine}setRadius(t){this.radius=t}getRadius(){return this.radius}getCachePoint(){return this.cachePoint}clacNewArcDiameterPoint(t){if(this.points.length==0)return t;let r=this.points[this.points.length-1];const i=2*this.radius,a=r.distanceTo(t);if(a<i)return null;const l=i*(t.x-r.x)/a+r.x,c=i*(t.y-r.y)/a+r.y;return new THREE.Vector3(l,c,r.z)}createCloudArcCurvePoints(t,r,i){const a=new THREE.Vector3((t.x+r.x)/2,(t.y+r.y)/2,0);i||(i=a.distanceTo(t));const{startAngle:l,endAngle:c}=function(d,E,C){const D=2*Math.PI/360;return{startAngle:180*Math.atan2(E.y-d.y,E.x-d.x)/Math.PI*D,endAngle:180*Math.atan2(C.y-d.y,C.x-d.x)/Math.PI*D}}(a,t,r);return new THREE.ArcCurve(a.x,a.y,i,l,c,!0).getPoints(10)}addPoint(t,r){let i=this.clacNewArcDiameterPoint(t);i&&(this.points.push(i),this.cachePoint=null,r&&(this.cachePoint=this.reCalculateDrawGeometryPoint()))}addLine(t,r){this.addPoint(t);const i=2*this.radius;let a=this.points[this.points.length-1],l=a.distanceTo(r);const c=Math.round(l/i);for(let d=0;d<c;d++){l=a.distanceTo(r);const E=i*(r.x-a.x)/l+a.x,C=i*(r.y-a.y)/l+a.y;let D=new THREE.Vector3(E,C,r.z);this.addPoint(D),a=D}return this.points[this.points.length-1]}reCalculateDrawGeometryPoint(){if(this.points.length<2)return null;let t=this.points[0],r=this.points.length,i=[];for(let a=1;a<r;a++){let l=this.points[a];this.createCloudArcCurvePoints(t,l).forEach(c=>{i.push(new THREE.Vector3(c.x,c.y,0))}),t=l}return i}worldDraw(t){if(this.cachePoint||(this.cachePoint=this.reCalculateDrawGeometryPoint()),this.cachePoint)if(t.getType()===McGiWorldDrawType$1.kSelectDraw){let r=new THREE.Geometry;this.cachePoint.forEach(f=>{r.vertices.push(new THREE.Vector3(f.x,f.y,0))}),r.computeBoundingBox();const i=new THREE.Vector3;r.boundingBox.getSize(i);let a=new THREE.Vector3;r.boundingBox.getCenter(a);const l=i.x/2,c=i.y/2,d={x:a.x-l,y:a.y-c},E={x:a.x+l,y:a.y-c},C={x:a.x+l,y:a.y+c},D={x:a.x-l,y:a.y+c};t.drawLine(d.x,d.y,E.x,E.y),t.drawLine(E.x,E.y,C.x,C.y),t.drawLine(C.x,C.y,D.x,D.y),t.drawLine(D.x,D.y,d.x,d.y)}else t.drawLines(this.cachePoint)}getCenter(){const t=new THREE.Geometry;t.vertices=this.points;let r=new THREE.Vector3;return t.computeBoundingBox(),t.boundingBox.getCenter(r),r}getGripPoints(){return[this.getCenter()]}moveGripPointsAt(t,r){return this.points.forEach(i=>{i.add(r)}),this.cachePoint=null,!0}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$3),this.cachePoint=null,!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$3),t.type===MxType.MxCloneType.kSaveDwgClone&&this.dwgOutHelp(t,["cachePoint"]),t}}function drawMxDbRegularPolygon(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbRegularPolygon;e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u7ED8\u5236\u591A\u8FB9\u5F62:`),e.go(()=>{let a=prompt("\u8BF7\u8F93\u5165\u591A\u8FB9\u5F62\u7684\u8FB9\u6570","8");a&&(i.sidesNumber=Number(a),i.centerPoint=e.value(),e.setUserDraw(r),r.setDraw(l=>{i.otherPoint=l,r.drawCustomEntity(i)}),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u591A\u8FB9\u5F62:`),e.go(()=>{t.addMxEntity(i)}))})}MxDbCloudLine.isRegister=!1,MxDbCloudLine.cmd="Mx_CloudLine",MxDbCloudLine.draw=drawMxDbCloudLine,addRegisterMxDbEntity(MxDbCloudLine);class MxDbRegularPolygon extends MxDbShape{getTypeName(){return"MxDbRegularPolygon"}constructor(){super(),this.centerPoint=new THREE.Vector3,this.otherPoint=new THREE.Vector3,this.sidesNumber=5,this._propertyDbKeys=[...this._propertyDbKeys,"centerPoint","otherPoint","sidesNumber"]}worldDraw(t){const r=computeRegularPolygonVertices(this.centerPoint,this.otherPoint,this.sidesNumber);this.closed=!1,r.push(r[0]),this._draw(t,r),this._drawStoreLine(t,r)}getGripPoints(){return[this.centerPoint,this.otherPoint]}moveGripPointsAt(t,r){return t===0?(this.centerPoint.add(r),this.otherPoint.add(r)):t===1&&this.otherPoint.add(r),!0}}function drawMxDbLeadComment(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`),e.go(t=>{if(t!=0)return;const r=e.value();let i=new MxDbLeadComment;i.point1=r.clone(),i.textHeight=MxFun.screenCoordLong2Doc(50);let a=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");if(!a)return;i.text=a,i.textWidth=MxFun.screenCoordLong2Doc(10*a.length),i.fixedSize=!0,i.fixedSize&&(i.textHeight=50,i.textWidth=50*a.length);const l=new McEdGetPointWorldDrawObject;l.setDraw((c,d)=>{i.point2=c,d.drawCustomEntity(i)}),e.setBasePt(r),e.setUseBasePt(!0),e.setUserDraw(l),e.setMessage(`
\u6307\u5B9A\u7B2C\u4E8C\u70B9:`),e.go(c=>{if(c!=0)return void console.log(c);const d=e.value();i.point2=d,MxFun.addToCurrentSpace(i)})})}MxDbRegularPolygon.cmd="Mx_RegularPolygon",MxDbRegularPolygon.draw=drawMxDbRegularPolygon,addRegisterMxDbEntity(MxDbRegularPolygon);class MxDbLeadComment extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.text="",this.textHeight=20,this.textWidth=0,this.fixedSize=!1}getTypeName(){return"MxDbLeadComment"}create(){return new MxDbLeadComment}worldDraw(t){if(t.drawLine(this.point1,this.point2),this.text.length>0){const r=new THREE.Vector3;let i=this.textHeight,a=this.textWidth,l=t.getMxObject();this.fixedSize&&(i=l.screenCoordLong2Doc(i),a=l.screenCoordLong2Doc(a));let c=MxThreeJS.clacTextSpriteSize(this.text,i,a);r.x=this.point2.x+.5*c.textwidth,r.y=this.point2.y+.5*c.allTextHeight,t.drawText(this.text,i,0,r,a);const d=new THREE.Vector3;d.x=this.point2.x+c.textwidth,d.y=this.point2.y,t.drawLine(d,this.point2)}}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1&&this.point2.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),this.text=t.text.substr(0),this.textHeight=t.textHeight,t.textWidth&&(this.textWidth=t.textWidth),this.fixedSize=t.fixedSize,!0}dwgOut(t){return this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t.textHeight=this.textHeight,t.text=this.text,t.textWidth=this.textWidth,t.fixedSize=this.fixedSize,t}onViewChange(){return!!this.fixedSize&&(this.setNeedUpdateDisplay(!1),!0)}}function drawMxDbRectBoxLeadComment(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbRectBoxLeadComment;i.setLineWidth(3),i.setLineWidthByPixels(!0),e.setMessage(`
\u4E91\u7EBF\u6846\u8D77\u59CB\u70B9:`),e.go(a=>{i.radius=MxFun.screenCoordLong2Doc(8),a==MrxDbgUiPrBaseReturn$1.kOk&&(i.point1=e.value(),r.setDraw(l=>{i.point2=l,r.drawCustomEntity(i)}),e.setUserDraw(r),e.setMessage(`
\u4E91\u7EBF\u6846\u7ED3\u675F\u70B9:`),e.go(l=>{if(l!=MrxDbgUiPrBaseReturn$1.kOk)return;i.point2=e.value(),r.setDraw(d=>{i.point3=d,r.drawCustomEntity(i)});let c=prompt("\u8BF7\u8F93\u5165\u6587\u5B57\u6279\u6CE8","\u6279\u6CE8");c||(c="\u9ED8\u8BA4\u6279\u6CE8\u6587\u5B57"),i.text=c,i.textWidth=MxFun.screenCoordLong2Doc(10*c.length),i.textHeight=MxFun.screenCoordLong2Doc(5*c.length),i.fixedSize=!0,i.fixedSize&&(i.textHeight=20,i.textWidth=20*c.length),e.setMessage(`
\u5BA1\u56FE\u6807\u6CE8\u70B9:`),e.go(d=>{d==MrxDbgUiPrBaseReturn$1.kOk&&(i.point3=e.value(),t.addMxEntity(i))})}))})}MxDbLeadComment.cmd="Mx_Comment",MxDbLeadComment.draw=drawMxDbLeadComment,addRegisterMxDbEntity(MxDbLeadComment);class MxDbRectBoxLeadComment extends MxDbEntity{constructor(){super(...arguments),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.point3=new THREE.Vector3,this.text="",this.textHeight=20,this.radius=16,this.textWidth=0,this.fixedSize=!1}getTypeName(){return"MxDbRectBoxLeadComment"}create(){return new MxDbRectBoxLeadComment}getCloudLine(){let t=new MxDbCloudLine;t.setRadius(this.radius);let r=this.point1.clone(),i=this.point2.clone();if(r.x>i.x){let E=r.x;r.x=i.x,i.x=E}if(r.y>i.y){let E=r.y;r.y=i.y,i.y=E}let a=new THREE.Vector3(r.x,i.y,r.z);a=t.addLine(r,a),i=new THREE.Vector3(i.x,a.y,i.z),i=t.addLine(a,i);let l=new THREE.Vector3(i.x,r.y,r.z);l=t.addLine(i,l);let c=r=t.addLine(l,r),d=r.distanceTo(this.point3);return d>a.distanceTo(this.point3)&&(c=a,d=a.distanceTo(this.point3)),d>i.distanceTo(this.point3)&&(c=i,d=i.distanceTo(this.point3)),d>l.distanceTo(this.point3)&&(c=l,d=l.distanceTo(this.point3)),{cloudLine:t,pt1:r,pt2:a,pt3:i,pt4:l,leadPt:c}}worldDraw(t){let r=this.getCloudLine();if(r.cloudLine.worldDraw(t),this.text.length>0){let i=r.leadPt,a=new MxDbLeadComment;a.point1=i,a.point2=this.point3,a.text=this.text,a.textHeight=this.textHeight,a.textWidth=this.textWidth,a.fixedSize=this.fixedSize,a.worldDraw(t)}}getGripPoints(){let t=[];return t.push(this.point1),t.push(this.point2),t.push(this.point3),t}moveGripPointsAt(t,r){return t==0?this.point1.add(r):t==1?this.point2.add(r):t==2&&this.point3.add(r),!0}dwgIn(t){return this.onDwgIn(t),this.point1.copy(t.point1),this.point2.copy(t.point2),this.point3.copy(t.point3),this.text=t.text.substr(0),this.textHeight=t.textHeight,this.radius=t.radius,t.textWidth&&(this.textWidth=t.textWidth),this.fixedSize=t.fixedSize,!0}dwgOut(t){if(this.onDwgOut(t),t.point1=this.point1,t.point2=this.point2,t.point3=this.point3,t.textHeight=this.textHeight,t.text=this.text,t.radius=this.radius,t.textWidth=this.textWidth,t.fixedSize=this.fixedSize,t.type===MxType.MxCloneType.kSaveDwgClone){let r=this.getCloudLine(),i=r.cloudLine.reCalculateDrawGeometryPoint();t.cachePoint=i||[],t.leadPt=r.leadPt}return t}onViewChange(){return!!this.fixedSize&&(this.setNeedUpdateDisplay(!1),!0)}}function drawMxDbEllipse(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject,i=new MxDbEllipse;e.setMessage(`
\u70B9\u51FB\u5F00\u59CB\u7ED8\u5236\u692D\u5706:`),e.go(()=>{i.point1=e.value(),r.setDraw(a=>{i.point2=a,r.drawCustomEntity(i)}),e.setUserDraw(r),e.setMessage(`
\u518D\u6B21\u70B9\u51FB\u7ED3\u675F\u7ED8\u5236\u692D\u5706:`),e.go(()=>{t.addMxEntity(i)})})}MxDbRectBoxLeadComment.cmd="Mx_CheckDraw",MxDbRectBoxLeadComment.draw=drawMxDbRectBoxLeadComment,addRegisterMxDbEntity(MxDbRectBoxLeadComment);class MxDbEllipse extends MxDbEllipseShape{constructor(){super(),this.point1=new THREE.Vector3,this.point2=new THREE.Vector3,this.isClosedToCenter=!1,this.closed=!1,this._propertyDbKeys=[...this._propertyDbKeys,"point1","point2"]}getTypeName(){return"MxDbEllipse"}create(){return new MxDbEllipse}setPoint1(t){return this.point1=t,this}setPoint2(t){return this.point2=t,this}worldDraw(t){const{point1:r,point2:i}=this,a=r.clone().set(i.x,r.y,i.z),l=i.clone().set(r.x,i.y,r.z);this.xRadius=r.distanceTo(a)/2,this.yRadius=r.distanceTo(l)/2;const c=r.x>i.x,d=r.y>i.y,E=c?r.x-this.xRadius:r.x+this.xRadius,C=d?r.y-this.yRadius:r.y+this.yRadius;this.center=new THREE.Vector3(E,C,0),this.drawEllipseShape(t),t.getType()===McGiWorldDrawType$1.kSelectDraw&&t.drawLines([r,new THREE.Vector3(r.x,i.y),i,new THREE.Vector3(i.x,r.y),r])}getGripPoints(){let t=new THREE.Vector3(.5*(this.point2.x+this.point1.x),.5*(this.point2.y+this.point1.y),0);return[this.point1,this.point2,t]}moveGripPointsAt(t,r){return t===0?this.point1.add(r):t===1?this.point2.add(r):t===2&&(this.point1.add(r),this.point2.add(r)),!0}}async function drawMxDbText(){const e=new MrxDbgUiPrPoint;e.setMessage(`
 \u70B9\u53D6\u6587\u5B57\u63D2\u5165\u70B9:`);let t=await e.go();if(t==null)return;let r=prompt("\u8BF7\u8F93\u5165\u6587\u5B57");if(!r)return;let i=new MxDbText;i.position=t,i.height=MxFun.screenCoordLong2Doc(50),i.text=r,MxFun.addToCurrentSpace(i)}let _SpriteText;function getSpriteTextColor(e){return e?e instanceof THREE.Color?e.getStyle():typeof e=="number"?new THREE.Color(e).getStyle():e:"#fff"}function toCSSFont(e,t,r,i,a){let l=document.createElement("span");return l.style.font="1px serif",l.style.fontFamily=e,l.style.fontSize=`${t}px`,l.style.fontStyle=r,l.style.fontVariant=i,l.style.fontWeight=a,l.style.font}function getSpriteTextClass(){if(!_SpriteText){class e extends THREE.Sprite{constructor(r){super(new THREE.SpriteMaterial);const{text:i,textHeight:a,color:l,backgroundColor:c,padding:d,borderWidth:E,borderRadius:C,borderColor:D,strokeWidth:f,strokeColor:A,fontFace:S,fontSize:L,fontWeight:N,textAlign:G,textShadowBlur:ie,textShadowColor:le,textShadowOffsetX:ae,textShadowOffsetY:he,angle:pe,scale:B,underline:se,fontStyle:oe,fontVariant:O}=r||{};this._text=`${i}`,this._textHeight=a||10,this._color=l,this._backgroundColor=c,this._padding=d||0,this._borderWidth=E||0,this._borderRadius=C||0,this._borderColor=D||"white",this._strokeWidth=f||0,this._strokeColor=A||"white",this._fontFace=S||"Arial",this._fontSize=L||90,this._fontWeight=N?.toString()||"normal",this._textAlign=G||"start",this._fontStyle=oe||"normal",this._fontVariant=O||"normal",this._textShadowBlur=ie||0,this._textShadowColor=le,this._textShadowOffsetX=ae||0,this._textShadowOffsetY=he||0,this._angle=pe||0,this._textScale=B||1,this._underline=se||!1,this._canvas=document.createElement("canvas"),this._genCanvas()}get text(){return this._text}set text(r){this._text=r,this._genCanvas()}get textHeight(){return this._textHeight}set textHeight(r){this._textHeight=r,this._genCanvas()}get color(){return this._color}set color(r){this._color=r,this._genCanvas()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){this._backgroundColor=r,this._genCanvas()}get padding(){return this._padding}set padding(r){this._padding=r,this._genCanvas()}get borderWidth(){return this._borderWidth}set borderWidth(r){this._borderWidth=r,this._genCanvas()}get borderRadius(){return this._borderRadius}set borderRadius(r){this._borderRadius=r,this._genCanvas()}get borderColor(){return this._borderColor}set borderColor(r){this._borderColor=r,this._genCanvas()}get fontFace(){return this._fontFace}set fontFace(r){this._fontFace=r,this._genCanvas()}get fontSize(){return this._fontSize}set fontSize(r){this._fontSize=r,this._genCanvas()}get fontWeight(){return this._fontWeight}set fontWeight(r){this._fontWeight=r,this._genCanvas()}get strokeWidth(){return this._strokeWidth}set strokeWidth(r){this._strokeWidth=r,this._genCanvas()}get strokeColor(){return this._strokeColor}set strokeColor(r){this._strokeColor=r,this._genCanvas()}get textAlign(){return this._textAlign}set textAlign(r){this._textAlign=r,this._genCanvas()}get textShadowBlur(){return this._textShadowBlur}set textShadowBlur(r){this._textShadowBlur=r,this._genCanvas()}get textShadowColor(){return this._textShadowColor}set textShadowColor(r){this._textShadowColor=r,this._genCanvas()}get textShadowOffsetX(){return this._textShadowOffsetX}set textShadowOffsetX(r){this._textShadowOffsetX=r,this._genCanvas()}get textShadowOffsetY(){return this._textShadowOffsetY}set textShadowOffsetY(r){this._textShadowOffsetY=r,this._genCanvas()}get angle(){return this._angle}set angle(r){this._angle=r,this._genCanvas()}get textScale(){return this._textScale}set textScale(r){this._textScale=r,this._genCanvas()}get underline(){return this._underline}set underline(r){this._underline=r,this._genCanvas()}get fontStyle(){return this._fontStyle}set fontStyle(r){this._fontStyle=r,this._genCanvas()}get fontVariant(){return this._fontVariant}set fontVariant(r){this._fontVariant=r,this._genCanvas()}_genCanvas(){const r=this._canvas,i=r.getContext("2d"),a=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],l=a.map(he=>he*this.fontSize*.1),c=(Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius]).map(he=>he*this.fontSize*.1),d=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],E=d.map(he=>he*this.fontSize*.1),C=this.text.split(`
`),D=this.font;i.font=D;const f=Math.max(...C.map(he=>i.measureText(he).width)),A=4*this.strokeWidth+(this.underline?this.fontSize/15*4:this.fontSize/15),S=(this.fontSize+A)*C.length;if(r.width=f+2*l[0]+2*E[0],r.height=S+2*l[1]+2*E[1],this.borderWidth){if(i.strokeStyle=getSpriteTextColor(this.borderColor),l[0]){const he=l[0]/2;i.lineWidth=l[0],i.beginPath(),i.moveTo(he,c[0]),i.lineTo(he,r.height-c[3]),i.moveTo(r.width-he,c[1]),i.lineTo(r.width-he,r.height-c[2]),i.stroke()}if(l[1]){const he=l[1]/2;i.lineWidth=l[1],i.beginPath(),i.moveTo(Math.max(l[0],c[0]),he),i.lineTo(r.width-Math.max(l[0],c[1]),he),i.moveTo(Math.max(l[0],c[3]),r.height-he),i.lineTo(r.width-Math.max(l[0],c[2]),r.height-he),i.stroke()}if(this.borderRadius){const he=Math.max(...l),pe=he/2;i.lineWidth=he,i.beginPath(),[!!c[0]&&[c[0],pe,pe,c[0]],!!c[1]&&[r.width-c[1],r.width-pe,pe,c[1]],!!c[2]&&[r.width-c[2],r.width-pe,r.height-pe,r.height-c[2]],!!c[3]&&[c[3],pe,r.height-pe,r.height-c[3]]].filter(B=>B).forEach(B=>{const[se,oe,O,T]=B;i.moveTo(se,O),i.quadraticCurveTo(oe,O,oe,T)}),i.stroke()}}this.backgroundColor&&(i.fillStyle=getSpriteTextColor(this.backgroundColor),this.borderRadius?(i.beginPath(),i.moveTo(l[0],c[0]),[[l[0],c[0],r.width-c[1],l[1],l[1],l[1]],[r.width-l[0],r.width-l[0],r.width-l[0],l[1],c[1],r.height-c[2]],[r.width-l[0],r.width-c[2],c[3],r.height-l[1],r.height-l[1],r.height-l[1]],[l[0],l[0],l[0],r.height-l[1],r.height-c[3],c[0]]].forEach(([he,pe,B,se,oe,O])=>{i.quadraticCurveTo(he,se,pe,oe),i.lineTo(B,O)}),i.closePath(),i.fill()):i.fillRect(l[0],l[1],r.width-2*l[0],r.height-2*l[1])),i.translate(l[0],l[1]),i.translate(E[0],E[1]),i.font=D,i.fillStyle=getSpriteTextColor(this.color),i.textBaseline="bottom",i.shadowBlur=this.textShadowBlur,i.shadowColor=new THREE.Color(this.textShadowColor).getStyle(),i.shadowOffsetX=this.textShadowOffsetX,i.shadowOffsetY=this.textShadowOffsetY;const L=this.strokeWidth>0;L&&(i.lineWidth=this.strokeWidth*this.fontSize/10,i.strokeStyle=getSpriteTextColor(this.strokeColor));const N=this.textAlign==="center",G=this.textAlign==="start"||this.textAlign==="left";C.forEach(async(he,pe)=>{let B=N?2:1;const se=i.measureText(he).width,oe=G?0:(f-se)/B,O=(pe+1)*(this.fontSize+A);L&&i.strokeText(he,oe,O),i.fillText(he,oe,O),this.underline&&i.fillRect(oe,r.height-this.fontSize/25,se,this.fontSize/25)}),this.material.map&&this.material.map.dispose();const ie=this.material.map=new THREE.Texture(r);ie.minFilter=THREE.LinearFilter,ie.needsUpdate=!0;const le=this.textHeight*C.length+2*a[1]+2*d[1],ae=le*r.width/r.height;this.scale.set(ae,le,this.scale.z),this.material.rotation=this.angle,this.scale.applyMatrix4(new THREE.Matrix4().makeScale(this.textScale,this.textScale,1))}clone(){return new this.constructor(this.text,this.textHeight,this.color).copy(THREE.Sprite.prototype.clone.call(this))}copy(r){return THREE.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this.textAlign=r.textAlign,this.textShadowBlur=r.textShadowBlur,this.textShadowColor=r.textShadowColor,this.textShadowOffsetX=r.textShadowOffsetX,this.textShadowOffsetY=r.textShadowOffsetY,this.angle=r.angle,this.textScale=r.textScale,this}get font(){return toCSSFont(this.fontFace,this.fontSize,this.fontStyle,this.fontVariant,this.fontWeight)}checkFontFace(){try{const{fontFace:r}=this;return document.fonts.check(r)}catch{}return!0}async loadFontFace(){try{const{fontFace:r}=this;await document.fonts.load(r)}catch{}}dispose(){var r;(r=this.material.map)===null||r===void 0||r.dispose(),this.material.dispose(),this.geometry.dispose(),this.dispatchEvent({type:"dispose"})}}_SpriteText=e}return _SpriteText}MxDbEllipse.cmd="Mx_Ellipse",MxDbEllipse.draw=drawMxDbEllipse,addRegisterMxDbEntity(MxDbEllipse);const propertyDbKeys$2=["text","position","height","backgroundColor","padding","borderWidth","borderRadius","borderColor","fontFace","fontSize","fontWeight","strokeWidth","strokeColor","angle","textAlign","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","scale","underline"];class MxDbText extends MxDbEntity{constructor(){super(...arguments),this.position=new THREE.Vector3,this._text="",this._height=16,this._angle=0,this._scale=1,this._underline=!1}setPosition(t){return this.position=t,this}get text(){return this.spriteText?this.spriteText.text:this._text}set text(t){this.spriteText?this.spriteText.text=t:this._text=t}setText(t){return this.text=t,this}get height(){return this.spriteText?this.spriteText.textHeight:this._height}set height(t){this.spriteText?this.spriteText.textHeight=t:this._height=t}setHeight(t){return this.height=t,this}get backgroundColor(){return this.spriteText?this.spriteText.backgroundColor:this._backgroundColor}set backgroundColor(t){this.spriteText?this.spriteText.backgroundColor=t:this._backgroundColor=t}setBackgroundColor(t){return this.backgroundColor=t,this}get padding(){return this.spriteText?this.spriteText.padding:this._padding}set padding(t){this.spriteText?this.spriteText.padding=t:this._padding=t}setPadding(t){return this.padding=t,this}get borderWidth(){return this.spriteText?this.spriteText.borderWidth:this._borderWidth}set borderWidth(t){this.spriteText?this.spriteText.borderWidth=t:this._borderWidth=t}setBorderWidth(t){return this.borderWidth=t,this}get borderRadius(){return this.spriteText?this.spriteText.borderRadius:this._borderRadius}set borderRadius(t){this.spriteText?this.spriteText.borderRadius=t:this._borderRadius=t}setBorderRadius(t){return this.borderRadius=t,this}get borderColor(){return this.spriteText?this.spriteText.borderColor:this._borderColor}set borderColor(t){this.spriteText?this.spriteText.borderColor=t:this._borderColor=t}setBorderColor(t){return this.borderColor=t,this}get fontFace(){return this.spriteText?this.spriteText.fontFace:this._fontFace}set fontFace(t){this.spriteText?this.spriteText.fontFace=t:this._fontFace=t}setFontFace(t){return this.fontFace=t,this}get fontSize(){return this.spriteText?this.spriteText.fontSize:this._fontSize}set fontSize(t){this.spriteText?this.spriteText.fontSize=t:this._fontSize=t}setFontSize(t){return this.fontSize=t,this}get fontWeight(){return this.spriteText?this.spriteText.fontWeight:this._fontWeight}set fontWeight(t){this.spriteText?this.spriteText.fontWeight=t:this._fontWeight=t}setFontWeight(t){return this.fontWeight=t,this}get strokeWidth(){return this.spriteText?this.spriteText.strokeWidth:this._strokeWidth}set strokeWidth(t){this.spriteText?this.spriteText.strokeWidth=t:this._strokeWidth=t}setStrokeWidth(t){return this.strokeWidth=t,this}get strokeColor(){return this.spriteText?this.spriteText.strokeColor:this._strokeColor}set strokeColor(t){this.spriteText?this.spriteText.strokeColor=t:this._strokeColor=t}setStrokeColor(t){return this.strokeColor=t,this}get textAlign(){return this.spriteText?this.spriteText.textAlign:this._textAlign}set textAlign(t){this.spriteText?this.spriteText.textAlign=t:this._textAlign=t}setTextAlign(t){return this.textAlign=t,this}get textShadowBlur(){return this.spriteText?this.spriteText.textShadowBlur:this._textShadowBlur}set textShadowBlur(t){this.spriteText?this.spriteText.textShadowBlur=t:this._textShadowBlur=t}setTextShadowBlur(t){return this.textShadowBlur=t,this}get textShadowColor(){return this.spriteText?this.spriteText.textShadowColor:this._textShadowColor}set textShadowColor(t){this.spriteText?this.spriteText.textShadowColor=t:this._textShadowColor=t}setTextShadowColor(t){return this.textShadowColor=t,this}get textShadowOffsetX(){return this.spriteText?this.spriteText.textShadowOffsetX:this._textShadowOffsetX}set textShadowOffsetX(t){this.spriteText?this.spriteText.textShadowOffsetX=t:this._textShadowOffsetX=t}setTextShadowOffsetX(t){return this.textShadowOffsetX=t,this}get textShadowOffsetY(){return this.spriteText?this.spriteText.textShadowOffsetY:this._textShadowOffsetY}set textShadowOffsetY(t){this.spriteText?this.spriteText.textShadowOffsetY=t:this._textShadowOffsetY=t}setTextShadowOffsetY(t){return this.textShadowOffsetY=t,this}get angle(){return this.spriteText?this.spriteText.angle:this._angle}set angle(t){this.spriteText?this.spriteText.angle=t:this._angle=t}setAngle(t){return this.angle=t,this}get scale(){return this.spriteText?this.spriteText.textScale:this._scale}set scale(t){this.spriteText?this.spriteText.textScale=t:this._scale=t}setScale(t){return this.scale=t,this}get underline(){return this.spriteText?this.spriteText.underline:this._underline}set underline(t){this.spriteText?this.spriteText.underline=t:this._underline=t}setUnderline(t){this.underline=t}getTypeName(){return"MxDbText"}worldDraw(t){if(this.text.length>0){t.getType()!==McGiWorldDrawType$1.kWorldDraw||this.spriteText||this.createSpriteText(),this.color!==this.spriteText.color&&(this.spriteText.color=this.color),this.spriteText.material.setValues({opacity:this.opacity,visible:this.visible});const{x:r,y:i,z:a}=this.position;this.spriteText.position.set(r,i,a),t.drawEntity(this.spriteText)}}createSpriteText(){const t=getSpriteTextClass(),{text:r,height:i,color:a,backgroundColor:l,padding:c,borderWidth:d,borderRadius:E,borderColor:C,strokeWidth:D,strokeColor:f,fontFace:A,fontSize:S,fontWeight:L,textAlign:N,textShadowBlur:G,textShadowColor:ie,textShadowOffsetX:le,textShadowOffsetY:ae,angle:he,scale:pe,underline:B}=this;this.spriteText=new t({text:r,textHeight:i,color:a,backgroundColor:l,padding:c,borderWidth:d,borderRadius:E,borderColor:C,strokeWidth:D,strokeColor:f,fontFace:A,fontSize:S,fontWeight:L,textAlign:N,textShadowBlur:G,textShadowColor:ie,textShadowOffsetX:le,textShadowOffsetY:ae,angle:he,scale:pe,underline:B})}getGripPoints(){return[this.position]}moveGripPointsAt(t,r){return t===0&&this.position.add(r),!0}create(){return new MxDbText}dwgIn(t){var r,i;return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys$2),typeof t.path=="string"&&(t.path=JSON.parse(t.path)),((i=(r=t?.path)===null||r===void 0?void 0:r.metadata)===null||i===void 0?void 0:i.generator)==="Curve.toJSON"&&(t.path=new THREE.Path().fromJSON(t.path)),t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone?this.createSpriteText():this.spriteText=t.spriteText,!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys$2),t.type===MxType.MxCloneType.kMxFileClone||t.type===MxType.MxCloneType.kSaveDwgClone?t.spriteText=void 0:t.spriteText=this.spriteText,t}getGeomExtents(){return new THREE.Box3().expandByObject(this.spriteText)}erase(){return super.erase(),this.spriteText&&this.spriteText.dispose(),!0}}function createCurvePath(e=!1){const t=new THREE.CurvePath;return t.autoClose=e,t}function createQuadraticBezierCurve3(e){let t=0,r=[];for(let i=0;i<e.length;i++){const a=e[t],l=e[++t]||a,c=e[++t]||l;if(!a||!l||!c)break;r.push(new THREE.QuadraticBezierCurve3(a,l,c))}return r}function createCubicBezierCurve3(e){let t=0,r=[];for(let i=0;i<e.length;i++){const a=e[t],l=e[++t]||a,c=e[++t]||l,d=e[++t]||c;if(!(a&&l&&c&&d))break;r.push(new THREE.CubicBezierCurve3(a,l,c,d))}return r}function getCurveColorGradientData(e,t){let r=0,i=[],a=[];const l=Number((1/t.length).toFixed(2));let c=new THREE.Color(t[r]),d=new THREE.Color(t[r+1]);for(let E=0,C=e.length;E<C;E++){const D=e[E],f=E/e.length;f/r>=l&&(r++,d.set(new THREE.Color(t[r]||t[--r]))),i.push(D.x,D.y,D.z||0),c.lerpHSL(d,f),a.push(c.r,c.g,c.b)}return[i,a]}function getColorGradientData(e,t){let r=[],i=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];r.push(c.x,c.y,c.z||0);const d=new THREE.Color(t[a]);i.push(d.r,d.g,d.b)}return[r,i]}MxDbText.cmd="Mx_Text",MxDbText.draw=drawMxDbText,addRegisterMxDbEntity(MxDbText);const propertyDbKeys$1=["points","colors","linecap","linejoin","closed","curveType","tension","bezierType"];class MxDbGradientLine extends MxDbEntity{constructor(){super(...arguments),this.linecap="round",this.linejoin="round",this.closed=!1,this.curveType="centripetal",this.tension=0,this.bezierType="quadratic"}create(){return new MxDbGradientLine}getTypeName(){return"MxDbGradientLine"}setPoints(t){return this.points=t,this}setColors(t){return this.colors=t,this}addColor(t){return this.colors.push(t),this}setLinecap(t){this.linecap=t}setClosed(t){this.closed=t}setCurveType(t){this.curveType=t}setTension(t){this.tension=t}setBezierType(t){this.bezierType=t}worldDraw(t){const r=t.getType();let i=this.getPoints();const{closed:a,curveType:l,tension:c,bezierType:d}=this,E=new THREE.BufferGeometry;let C=[],D=[];const f=d==="cubic",A=d==="quadratic";c!==0?this.curve=new THREE.CatmullRomCurve3(i,a,l,c):d?(this.curve=createCurvePath(a),f?this.curve.curves=createCubicBezierCurve3(i):A?this.curve.curves=createQuadraticBezierCurve3(i):this.curve=void 0):this.curve=void 0,this.curve&&(i=this.curve.getPoints(50));const{linecap:S,linejoin:L}=this;let N;if(this.colors&&this.colors.length>1){const ie=a?[...this.colors,this.colors[0]]:this.colors;[C,D]=this.curve?getCurveColorGradientData(i,ie):getColorGradientData(i,ie),E.setAttribute("position",new THREE.Float32BufferAttribute(C,3)),E.setAttribute("color",new THREE.Float32BufferAttribute(D,3)),N=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,linecap:S,linejoin:L})}else E.setFromPoints(i),N=new THREE.LineBasicMaterial({color:this.color,linecap:S,linejoin:L});const G=a?new THREE.LineLoop(E,N):new THREE.Line(E,N);if(t.drawEntity(G),(r===McGiWorldDrawType$1.kSelectDraw||r===McGiWorldDrawType$1.kDynDragDraw)&&this.curve){let ie=this.getPoints();const le=t.getLineWidth();t.setLineWidth(1),t.drawLines(ie),t.setLineWidth(le)}}getGripPoints(){return this.getPoints()}getPoints(){return this.closed?[...this.points,this.points[0]]:this.points}moveGripPointsAt(t,r){return this.move(t,r),!0}move(t,r){return this.points[t].add(r),this}dwgIn(t){return this.dwgInHelp(t,propertyDbKeys$1),this.curve=t.curve,!0}dwgOut(t){return this.dwgOutHelp(t,propertyDbKeys$1),t.curve=this.curve,t}}function drawMxDbEllipseArc(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new MxDbEllipseArc;e.setUserDraw(r),e.go(async()=>{i.center=e.value(),r.setDraw((a,l)=>{i.startPoint=a,i.yRadius=i.center.distanceTo(a),l.drawCustomEntity(i)}),i.startPoint=await e.go()||new THREE.Vector3,r.setDraw((a,l)=>{i.endPoint=a,l.drawCustomEntity(i)}),i.endPoint=await e.go()||new THREE.Vector3,t.addMxEntity(i)})}addRegisterMxDbEntity(MxDbGradientLine);class MxDbEllipseArc extends MxDbEllipseShape{getTypeName(){return"MxDbEllipseArc"}constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"startPoint","endPoint"]}setStartPoint(t){return this.startPoint=t,this}setEndPoint(t){return this.endPoint=t,this}worldDraw(t){let{center:r,startPoint:i,endPoint:a}=this;i&&(this.xRadius=r.distanceTo(i),this.startAngle=THREE.MathUtils.degToRad(calculateArcAngle(i,r,this.xRadius).angle)),a&&(this.yRadius=r.distanceTo(a),this.endAngle=THREE.MathUtils.degToRad(calculateArcAngle(a,r,this.yRadius).angle)),this.drawEllipseShape(t)}getGripPoints(){return[this.center,this.startPoint,this.endPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.startPoint.add(r),this.endPoint.add(r)),t===1&&this.startPoint.add(r),t===2&&this.endPoint.add(r),!0}}function drawMxDbCircleArc(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new MxDbCircleArc;i.stroke="#ff0000",e.setUserDraw(r),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E2D\u70B9:`),e.go(async()=>{i.center=e.value(),r.setDraw(a=>{r.drawLine(i.center,a)}),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),i.startPoint=await e.go()||new THREE.Vector3,r.setDraw(a=>{i.endPoint=a,r.drawCustomEntity(i)}),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u7ED3\u675F\u70B9:`),i.endPoint=await e.go()||new THREE.Vector3,r.setDraw(()=>{}),t.addMxEntity(i)})}MxDbEllipseArc.cmd="Mx_MxDbEllipseArc",MxDbEllipseArc.draw=drawMxDbEllipseArc,addRegisterMxDbEntity(MxDbEllipseArc);class MxDbCircleArc extends MxDbCircleShape{constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"startPoint","endPoint"]}getTypeName(){return"MxDbCircleArc"}setStartPoint(t){return this.startPoint=t,this}setEndPoint(t){return this.endPoint=t,this}worldDraw(t){let{startPoint:r,endPoint:i}=this;if(r&&(this.startAngle=this.computePointAngle(r)),i&&(this.endAngle=this.computePointAngle(i)),r&&i){const{points:a}=this.drawEllipseShape(t);this.startPoint=a[0]}}computePointAngle(t){return this.radius=this.center.distanceTo(t),THREE.MathUtils.degToRad(calculateArcAngle(t,this.center,this.radius).angle)}getGripPoints(){return[this.center,this.startPoint,this.endPoint]}moveGripPointsAt(t,r){return t===0?(this.center.add(r),this.startPoint.add(r),this.endPoint.add(r)):t===1?this.startPoint.add(r):t===2&&this.endPoint.add(r),!0}}MxDbCircleArc.cmd="Mx_MxDbCircleArc",MxDbCircleArc.draw=drawMxDbCircleArc,addRegisterMxDbEntity(MxDbCircleArc);class MxDbArcShape extends MxDbCircleArc{constructor(){super(),this.center=new THREE.Vector3,this.innerRadius=10,this.outerRadius=20,this._propertyDbKeys=[...this._propertyDbKeys,"center","innerRadius","outerRadius"]}getTypeName(){return"MxDbArcShape"}worldDraw(t){t.getType()===McGiWorldDrawType$1.kDynDragDraw?(t.drawCircle(this.center,this.innerRadius),t.drawCircle(this.center,this.outerRadius)):this.drawArcShape(t)}drawArcShape(t){const{center:r,startAngle:i,endAngle:a,clockwise:l}=this,{x:c,y:d}=r;this.isClosedToCenter=!1;const E=this.createEllipseCurve(c,d,this.innerRadius,this.innerRadius,i,a,l),C=this.createEllipseCurve(c,d,this.outerRadius,this.outerRadius,a,i,!l),D=this.createPaths([E,C]);let f=this.getShapePoints(D);this._draw(t,f),this._drawStoreLine(t,f)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}function drawMxDbArcShape(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;let i=new MxDbArcShapeDraw;e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u4E2D\u70B9:`),e.setUserDraw(r),e.go(async()=>{e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),i.center=e.value(),r.setDraw(a=>{i.interRadiusPoint=a,r.drawCircle(i.center,a.distanceTo(i.center))}),i.interRadiusPoint=await e.go()||new THREE.Vector3,r.setDraw(a=>{i.outerRadiusPoint=a,r.drawCustomEntity(i)}),i.outerRadiusPoint=await e.go()||new THREE.Vector3,t.addMxEntity(i)})}class MxDbArcShapeDraw extends MxDbArcShape{getTypeName(){return"MxDbArcShapeDraw"}constructor(){super(),this.outerRadiusPoint=new THREE.Vector3,this.interRadiusPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"interRadiusPoint","outerRadiusPoint"]}worldDraw(t){this.innerRadius=this.center.distanceTo(this.interRadiusPoint),this.outerRadius=this.center.distanceTo(this.outerRadiusPoint),this.startAngle=THREE.MathUtils.degToRad(calculateArcAngle(this.interRadiusPoint,this.center,this.innerRadius).angle),this.endAngle=THREE.MathUtils.degToRad(calculateArcAngle(this.outerRadiusPoint,this.center,this.outerRadius).angle),this.drawArcShape(t)}getGripPoints(){return[this.center,this.interRadiusPoint,this.outerRadiusPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.interRadiusPoint.add(r),this.outerRadiusPoint.add(r)),t===1&&this.interRadiusPoint.add(r),t===2&&this.outerRadiusPoint.add(r),!0}}function drawMxDbRingShape(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setUserDraw(r);const i=new McEdGetPointWorldDrawObject,a=new MxDbRingShapeDraw;e.setUserDraw(i),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(async l=>{console.log(123),a.center=e.value(),i.setDraw(c=>{i.drawCircle(a.center,a.center.distanceTo(c))}),a.innerPoint=await e.go()||new THREE.Vector3,i.setDraw(c=>{a.outerPoint=c,i.drawCustomEntity(a)}),a.outerPoint=await e.go()||new THREE.Vector3,t.addMxEntity(a)})}MxDbArcShapeDraw.isRegister=!1,MxDbArcShapeDraw.cmd="Mx_MxDbArcShape",MxDbArcShapeDraw.draw=drawMxDbArcShape,addRegisterMxDbEntity(MxDbArcShapeDraw);class MxDbRingShape extends MxDbArcShape{getTypeName(){return"MxDbRingShape"}worldDraw(t){const{center:r,startAngle:i,endAngle:a,clockwise:l}=this,{x:c,y:d}=r;this.isClosedToCenter=!1;const E=this.createEllipseCurve(c,d,this.innerRadius,this.innerRadius,i,a,l),C=this.createEllipseCurve(c,d,this.outerRadius,this.outerRadius,i,a,!l),D=this.createPaths([E,C]);let f=this.getShapePoints(D);const A=this.createPaths(E);let S=this.getShapePoints(A);const L=this.createPaths(C);let N=this.getShapePoints(L);this.isFill?(this._draw(t,f),this._drawStoreLine(t,S),this._drawStoreLine(t,N)):(this._draw(t,S),this._drawStoreLine(t,S),this._draw(t,N),this._drawStoreLine(t,N))}}MxDbRingShape.isRegister=!1,MxDbRingShape.cmd="Mx_MxDbRingShape",MxDbRingShape.draw=drawMxDbRingShape;class MxDbRingShapeDraw extends MxDbRingShape{constructor(){super(),this.innerPoint=new THREE.Vector3,this.outerPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"innerPoint","outerPoint"]}getGripPoints(){return[this.center,this.innerPoint,this.outerPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.innerPoint.add(r),this.outerPoint.add(r)),t===1&&this.innerPoint.add(r),t===2&&this.outerPoint.add(r),!0}worldDraw(t){this.innerPoint&&(this.innerRadius=this.center.distanceTo(this.innerPoint)),this.outerPoint&&(this.outerRadius=this.center.distanceTo(this.outerPoint)),super.worldDraw(t)}}function drawMxDbStarShape(){const e=new MrxDbgUiPrPoint,t=MxFun.getCurrentDraw(),r=new McEdGetPointWorldDrawObject;e.setUserDraw(r);const i=new McEdGetPointWorldDrawObject,a=new MxDbStarShapeDraw;e.setUserDraw(i),e.setMessage(`
\u786E\u5B9A\u5706\u5F27\u5F00\u59CB\u70B9:`),e.go(async l=>{a.center=e.value(),i.setDraw(c=>{a.innerPoint=c,i.drawCircle(a.center,a.center.distanceTo(c))}),a.innerPoint=await e.go()||new THREE.Vector3,i.setDraw(c=>{a.outerPoint=c,i.drawCustomEntity(a)}),a.outerPoint=await e.go()||new THREE.Vector3,t.addMxEntity(a)})}addRegisterMxDbEntity(MxDbRingShape);class MxDbStarShape extends MxDbShape{getTypeName(){return"MxDbStarShape"}constructor(){super(),this.center=new THREE.Vector3,this.numPoints=10,this.innerRadius=10,this.outerRadius=10,this._propertyDbKeys=[...this._propertyDbKeys,"center","numPoints","innerRadius","outerRadius"]}worldDraw(t){const{x:r,y:i}=this.center,a=new THREE.Path;a.moveTo(r,i-this.outerRadius);for(let d=1;d<2*this.numPoints;d++){const E=d%2==0?this.outerRadius:this.innerRadius,C=E*Math.sin(d*Math.PI/this.numPoints)+r,D=-1*E*Math.cos(d*Math.PI/this.numPoints)+i;a.lineTo(C,D)}a.closePath();const l=this.createPaths(a),c=this.getShapePoints(l);this._draw(t,c),this._drawStoreLine(t,c)}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}MxDbStarShape.cmd="Mx_MxDbStarShape",MxDbStarShape.draw=drawMxDbStarShape;class MxDbStarShapeDraw extends MxDbStarShape{constructor(){super(),this.innerPoint=new THREE.Vector3,this.outerPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"innerPoint","outerPoint"]}getGripPoints(){return[this.center,this.innerPoint,this.outerPoint]}moveGripPointsAt(t,r){return t===0&&(this.center.add(r),this.innerPoint.add(r),this.outerPoint.add(r)),t===1&&this.innerPoint.add(r),t===2&&this.outerPoint.add(r),!0}worldDraw(t){this.innerPoint&&(this.innerRadius=this.center.distanceTo(this.innerPoint)),this.outerPoint&&(this.outerRadius=this.center.distanceTo(this.outerPoint)),super.worldDraw(t)}}addRegisterMxDbEntity(MxDbStarShape);class MxDbRegularPolygonShape extends MxDbShape{getTypeName(){return"MxDbRegularPolygonShape"}constructor(){super(),this.center=new THREE.Vector3,this.sidesNumber=6,this.radius=70,this._propertyDbKeys=[...this._propertyDbKeys,"center","sidesNumber","radius"]}worldDraw(t){this._drawPolygonShape(t)}_drawPolygonShape(t){const r=this._getPoints(),i=new THREE.Path;i.moveTo(r[0].x,r[0].y);for(let c=0;c<r.length;c++)i.lineTo(r[c].x,r[c].y);i.closePath();const a=this.createPaths(i),l=this.getShapePoints(a);this._draw(t,l),this._drawStoreLine(t,l)}_getPoints(){const{sidesNumber:t,radius:r}=this,{x:i,y:a}=this.center,l=[];for(let c=0;c<t;c++)l.push({x:r*Math.sin(2*c*Math.PI/t)+i,y:-1*r*Math.cos(2*c*Math.PI/t)+a});return l}getGripPoints(){return[this.center]}moveGripPointsAt(t,r){return t===0&&this.center.add(r),!0}}function getScreenPixel(e,t){let r=MxFun.screenCoordLong2World(t?e:e-e/3);return r=MxFun.worldCoordLong2Doc(r)}function drawMxDbArrow(){const e=new McEdGetPointWorldDrawObject,t=new MxDbArrow,r=MxFun.getCurrentDraw(),i=new MrxDbgUiPrPoint;i.setUserDraw(e),t.setLineWidth(10),i.go(()=>{t.innerOffset=getScreenPixel(10),t.outerOffset=getScreenPixel(22),t.topOffset=getScreenPixel(36),t.startPoint=i.value(),e.setDraw(a=>{t.endPoint=a,e.drawCustomEntity(t)}),i.go(async a=>{t.endPoint=i.value(),r.addMxEntity(t)})})}addRegisterMxDbEntity(MxDbRegularPolygonShape);class MxDbArrow extends MxDbShape{constructor(){super(),this.isSharpCorner=!0,this.innerOffset=10,this.outerOffset=22,this.topOffset=36,this.startPoint=new THREE.Vector3,this.endPoint=new THREE.Vector3,this._propertyDbKeys=[...this._propertyDbKeys,"outerOffset","topOffset","innerOffset","isSharpCorner","startPoint","endPoint"]}worldDraw(t){const r=this.getArrowVertex(this.startPoint,this.endPoint);r&&(this._draw(t,r),this._drawStoreLine(t,r))}getArrowVertex(t,r,i=this.isSharpCorner){let{innerOffset:a,topOffset:l,outerOffset:c}=this;const d=[];d[3]=r;const E=Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y));if(E===0)return;const C=-(r.x-t.x)/E,D=(r.y-t.y)/E,f=t.x+a,A=t.y+E-l,S=t.x+c,L=t.y+E-l,N=t.x-a,G=t.y+E-l,ie=t.x-c,le=t.y+E-l;return i?(d[0]=t,d[6]=d[0]):(d[0]=new THREE.Vector3(t.x-(N-t.x)*D,t.y-(N-t.x)*C),d[6]=new THREE.Vector3(t.x+(N-t.x)*D,t.y+(N-t.x)*C),d[7]=d[0]),d[1]=new THREE.Vector3(t.x+(f-t.x)*D-(A-t.y)*C,t.y+(f-t.x)*C+(A-t.y)*D),d[2]=new THREE.Vector3(t.x+(S-t.x)*D-(L-t.y)*C,t.y+(S-t.x)*C+(L-t.y)*D),d[4]=new THREE.Vector3(t.x+(ie-t.x)*D-(le-t.y)*C,t.y+(ie-t.x)*C+(le-t.y)*D),d[5]=new THREE.Vector3(t.x+(N-t.x)*D-(G-t.y)*C,t.y+(N-t.x)*C+(G-t.y)*D),d}getGripPoints(){const t=new THREE.Vector3;return new THREE.Line3(this.startPoint,this.endPoint).getCenter(t),[this.startPoint,t,this.endPoint]}moveGripPointsAt(t,r){return t===0&&this.startPoint.add(r),t===1&&(this.startPoint.add(r),this.endPoint.add(r)),t===2&&this.endPoint.add(r),!0}}MxDbArrow.cmd="Mx_MxDbArrow",MxDbArrow.draw=drawMxDbArrow,addRegisterMxDbEntity(MxDbArrow);class MxDbLineShape extends MxDbShape{setPoints(t){return this.points=t,this}addPoint(t){return this.points.push(t),this}removePoint(t){return this.points.splice(t,1),this}constructor(){super(),this.points=[],this._propertyDbKeys=[...this._propertyDbKeys,"points"]}getTypeName(){return"MxDbLineShape"}worldDraw(t){this._draw(t,this.points),this._drawStoreLine(t,this.points)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return this.points[t].add(r),!0}getGeomExtents(){return new THREE.Box3().setFromPoints(this.points)}getGetLength(){let t=0;for(let r=0;r++;r<this.points.length)this.points[r+1]&&(t+=this.points[r].distanceTo(this.points[r+1]));return t}}async function drawMxDbSplineCurve(){const e=new MrxDbgUiPrPoint,t=new MxDbSplineCurve;e.goWhile(async r=>{if(r===MrxDbgUiPrBaseReturn$1.kOk)t.points.push(e.value()),e.setUserDraw((i,a)=>{const l=t.clone();l.points.push(i),a.drawCustomEntity(l),t.points.length===0?e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u4E2A\u70B9:`):(e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),e.setKeyWords("[\u95ED\u5408(C)/ \u653E\u5F03(U)]"))});else if(r===MrxDbgUiPrBaseReturn$1.kKeyWord){if(e.isKeyWordPicked("C"))return t.closed=!0,{exit:!0};e.isKeyWordPicked("U")&&t.points.pop()}},()=>{MxFun.getCurrentDraw().addMxEntity(t)})}addRegisterMxDbEntity(MxDbLineShape);const propertyDbKeys=["points","closed","tension","curveType"];class MxDbSplineCurve extends MxDbEntity{constructor(){super(...arguments),this.points=[],this.closed=!1,this.tension=.5,this.curveType="centripetal"}worldDraw(t){const r=new THREE.CatmullRomCurve3(this.points,this.closed,"catmullrom",this.tension).getPoints(15*this.points.length),i=new THREE.Geometry().setFromPoints(r),a=new THREE.LineBasicMaterial({color:this.color}),l=new THREE.Line(i,a);t.drawEntity(l)}getGripPoints(){return this.points}moveGripPointsAt(t,r){return this.points[t].add(r),!0}create(){return new MxDbSplineCurve}dwgIn(t){return this.onDwgIn(t),this.dwgInHelp(t,propertyDbKeys),!0}dwgOut(t){return this.onDwgOut(t),this.dwgOutHelp(t,propertyDbKeys),t}getTypeName(){return"MxDbSplineCurve"}}MxDbSplineCurve.draw=drawMxDbSplineCurve,MxDbSplineCurve.cmd="Mx_Spline",addRegisterMxDbEntity(MxDbSplineCurve);var Mx=Object.freeze({__proto__:null,loadCoreCode,useCanvasResizeListener,store,MxFun,MxThreeJS,MxType,Mxassembly,McGeTool,MrxDbgUtils,MxPaintBrush,MrxDbgUiPrPoint,McEdGetPointWorldDrawObject,MrxDbgUiPrBaseReturn:MrxDbgUiPrBaseReturn$1,MxDbEntity,MxDbImage,MxDbSVG,MxDbSVGText,MxDbPolyline,MxDb2LineAngularDimension,Mx3PointArc,MxDbCoord,MxDbLine,MxDbRect,MxDbAlignedDimension,MxFilters,McGiWorldDrawType:McGiWorldDrawType$1,MxDbArea,MxDbLeadTag,MxDbAnyLine,MxDbCloudLine,MxDbRegularPolygon,MxDbLeadComment,MxDbRectBoxLeadComment,MxDbEllipse,MxDbText,MxDrawObject,MxDbHatch,MxDbDatabase,MxCADObject,MxDbGradientLine,MxDbShape,MxDbEllipseShape,MxDbEllipseArc,MxDbCircleShape,MxDbCircleArc,MxDbArcShapeDraw,MxDbRingShape,MxDbStarShape,MxDbRegularPolygonShape,MxDbArrow,MxDbLineShape,Layer,MxDbSplineCurve,get MxCursorType(){return MxCursorType}}),elementResizeEventPolyfill_umd_min=createCommonjsModule(function(e,t){e.exports=function(r){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=r,a.c=i,a.d=function(l,c,d){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:d})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var E in l)a.d(d,E,function(C){return l[C]}.bind(null,E));return d},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s="fae3")}({"6dd8":function(r,i,a){(function(l){var c=function(){if(typeof Map<"u")return Map;function Ae(_e,xe){var De=-1;return _e.some(function(Le,Ge){return Le[0]===xe&&(De=Ge,!0)}),De}return function(){function _e(){this.__entries__=[]}return Object.defineProperty(_e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),_e.prototype.get=function(xe){var De=Ae(this.__entries__,xe),Le=this.__entries__[De];return Le&&Le[1]},_e.prototype.set=function(xe,De){var Le=Ae(this.__entries__,xe);~Le?this.__entries__[Le][1]=De:this.__entries__.push([xe,De])},_e.prototype.delete=function(xe){var De=this.__entries__,Le=Ae(De,xe);~Le&&De.splice(Le,1)},_e.prototype.has=function(xe){return!!~Ae(this.__entries__,xe)},_e.prototype.clear=function(){this.__entries__.splice(0)},_e.prototype.forEach=function(xe,De){De===void 0&&(De=null);for(var Le=0,Ge=this.__entries__;Le<Ge.length;Le++){var rt=Ge[Le];xe.call(De,rt[1],rt[0])}},_e}()}(),d=typeof window<"u"&&typeof document<"u"&&window.document===document,E=l!==void 0&&l.Math===Math?l:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),C=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(E):function(Ae){return setTimeout(function(){return Ae(Date.now())},1e3/60)},D=2,f=20,A=["top","right","bottom","left","width","height","size","weight"],S=typeof MutationObserver<"u",L=function(){function Ae(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(_e,xe){var De=!1,Le=!1,Ge=0;function rt(){De&&(De=!1,_e()),Le&&xt()}function We(){C(rt)}function xt(){var Me=Date.now();if(De){if(Me-Ge<D)return;Le=!0}else De=!0,Le=!1,setTimeout(We,xe);Ge=Me}return xt}(this.refresh.bind(this),f)}return Ae.prototype.addObserver=function(_e){~this.observers_.indexOf(_e)||this.observers_.push(_e),this.connected_||this.connect_()},Ae.prototype.removeObserver=function(_e){var xe=this.observers_,De=xe.indexOf(_e);~De&&xe.splice(De,1),!xe.length&&this.connected_&&this.disconnect_()},Ae.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},Ae.prototype.updateObservers_=function(){var _e=this.observers_.filter(function(xe){return xe.gatherActive(),xe.hasActive()});return _e.forEach(function(xe){return xe.broadcastActive()}),_e.length>0},Ae.prototype.connect_=function(){d&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),S?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},Ae.prototype.disconnect_=function(){d&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},Ae.prototype.onTransitionEnd_=function(_e){var xe=_e.propertyName,De=xe===void 0?"":xe;A.some(function(Le){return!!~De.indexOf(Le)})&&this.refresh()},Ae.getInstance=function(){return this.instance_||(this.instance_=new Ae),this.instance_},Ae.instance_=null,Ae}(),N=function(Ae,_e){for(var xe=0,De=Object.keys(_e);xe<De.length;xe++){var Le=De[xe];Object.defineProperty(Ae,Le,{value:_e[Le],enumerable:!1,writable:!1,configurable:!0})}return Ae},G=function(Ae){return Ae&&Ae.ownerDocument&&Ae.ownerDocument.defaultView||E},ie=se(0,0,0,0);function le(Ae){return parseFloat(Ae)||0}function ae(Ae){for(var _e=[],xe=1;xe<arguments.length;xe++)_e[xe-1]=arguments[xe];return _e.reduce(function(De,Le){return De+le(Ae["border-"+Le+"-width"])},0)}function he(Ae){var _e=Ae.clientWidth,xe=Ae.clientHeight;if(!_e&&!xe)return ie;var De=G(Ae).getComputedStyle(Ae),Le=function(Pe){for(var Re={},st=0,It=["top","right","bottom","left"];st<It.length;st++){var Ct=It[st],tt=Pe["padding-"+Ct];Re[Ct]=le(tt)}return Re}(De),Ge=Le.left+Le.right,rt=Le.top+Le.bottom,We=le(De.width),xt=le(De.height);if(De.boxSizing==="border-box"&&(Math.round(We+Ge)!==_e&&(We-=ae(De,"left","right")+Ge),Math.round(xt+rt)!==xe&&(xt-=ae(De,"top","bottom")+rt)),!function(Pe){return Pe===G(Pe).document.documentElement}(Ae)){var Me=Math.round(We+Ge)-_e,Ue=Math.round(xt+rt)-xe;Math.abs(Me)!==1&&(We-=Me),Math.abs(Ue)!==1&&(xt-=Ue)}return se(Le.left,Le.top,We,xt)}var pe=typeof SVGGraphicsElement<"u"?function(Ae){return Ae instanceof G(Ae).SVGGraphicsElement}:function(Ae){return Ae instanceof G(Ae).SVGElement&&typeof Ae.getBBox=="function"};function B(Ae){return d?pe(Ae)?function(_e){var xe=_e.getBBox();return se(0,0,xe.width,xe.height)}(Ae):he(Ae):ie}function se(Ae,_e,xe,De){return{x:Ae,y:_e,width:xe,height:De}}var oe=function(){function Ae(_e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=se(0,0,0,0),this.target=_e}return Ae.prototype.isActive=function(){var _e=B(this.target);return this.contentRect_=_e,_e.width!==this.broadcastWidth||_e.height!==this.broadcastHeight},Ae.prototype.broadcastRect=function(){var _e=this.contentRect_;return this.broadcastWidth=_e.width,this.broadcastHeight=_e.height,_e},Ae}(),O=function(){return function(Ae,_e){var xe=function(De){var Le=De.x,Ge=De.y,rt=De.width,We=De.height,xt=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Me=Object.create(xt.prototype);return N(Me,{x:Le,y:Ge,width:rt,height:We,top:Ge,right:Le+rt,bottom:We+Ge,left:Le}),Me}(_e);N(this,{target:Ae,contentRect:xe})}}(),T=function(){function Ae(_e,xe,De){if(this.activeObservations_=[],this.observations_=new c,typeof _e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=_e,this.controller_=xe,this.callbackCtx_=De}return Ae.prototype.observe=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(_e instanceof G(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var xe=this.observations_;xe.has(_e)||(xe.set(_e,new oe(_e)),this.controller_.addObserver(this),this.controller_.refresh())}},Ae.prototype.unobserve=function(_e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(_e instanceof G(_e).Element))throw new TypeError('parameter 1 is not of type "Element".');var xe=this.observations_;xe.has(_e)&&(xe.delete(_e),xe.size||this.controller_.removeObserver(this))}},Ae.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},Ae.prototype.gatherActive=function(){var _e=this;this.clearActive(),this.observations_.forEach(function(xe){xe.isActive()&&_e.activeObservations_.push(xe)})},Ae.prototype.broadcastActive=function(){if(this.hasActive()){var _e=this.callbackCtx_,xe=this.activeObservations_.map(function(De){return new O(De.target,De.broadcastRect())});this.callback_.call(_e,xe,_e),this.clearActive()}},Ae.prototype.clearActive=function(){this.activeObservations_.splice(0)},Ae.prototype.hasActive=function(){return this.activeObservations_.length>0},Ae}(),ce=typeof WeakMap<"u"?new WeakMap:new c,fe=function(){return function Ae(_e){if(!(this instanceof Ae))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var xe=L.getInstance(),De=new T(_e,xe,this);ce.set(this,De)}}();["observe","unobserve","disconnect"].forEach(function(Ae){fe.prototype[Ae]=function(){var _e;return(_e=ce.get(this))[Ae].apply(_e,arguments)}});var Ee=E.ResizeObserver!==void 0?E.ResizeObserver:fe;i.a=Ee}).call(this,a("c8ba"))},c8ba:function(r,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},f6fd:function(r,i){(function(a){var l="currentScript",c=a.getElementsByTagName("script");l in a||Object.defineProperty(a,l,{get:function(){try{throw new Error}catch(C){var d,E=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(C.stack)||[!1])[1];for(d in c)if(c[d].src==E||c[d].readyState=="interactive")return c[d];return null}}})})(document)},fae3:function(r,i,a){var l;a.r(i),a.d(i,"EventListenerWrapper",function(){return C}),typeof window<"u"&&(a("f6fd"),(l=window.document.currentScript)&&(l=l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(a.p=l[1]));var c=a("6dd8");const d=EventTarget.prototype.addEventListener,E=function(A){const S=document.createEvent("HTMLEvents");return S.initEvent(A),S},C=function(A){A==="resize"&&f(this),d.apply(this,arguments)};function D(A){const S=D.observer=D.observer||new c.a(A);return S.initialized=!0,S}function f(A){const S=D(L=>{if(S.initialized)S.initialized=!1;else for(let N of L){const G=E("resize");N.target.dispatchEvent(G),N&&N.target&&typeof N.target.onresize=="function"&&N.target.onresize(G)}});S.observe(A)}HTMLElement.prototype.addEventListener=C,Reflect.defineProperty(HTMLElement.prototype,"onresize",{set(A){this._onresize=A,typeof A=="function"&&f(this)},get(){return this._onresize||null}})}})}),elementResizeEventPolyfill_umd_min$1=unwrapExports(elementResizeEventPolyfill_umd_min),elementResizeEventPolyfill_umd_min$2=Object.freeze({__proto__:null,default:elementResizeEventPolyfill_umd_min$1,__moduleExports:elementResizeEventPolyfill_umd_min});function sD(e){return btoa(unescape(encodeURIComponent(e)))}function nD(e){return decodeURIComponent(escape(atob(e)))}async function oD({blob:e,filename:t="",types:r=[{description:"mxweb File",accept:{"application/octet-stream":[".mxweb"]}}]}){try{if(window.showSaveFilePicker)if(window.navigator?.userActivation?.isActive)try{if(!window.showSaveFilePicker)return;const a=await(await window.showSaveFilePicker({suggestedName:t,types:r})).createWritable();await a.write(e),await a.close();return}catch(a){if(a?.name==="AbortError")return;console.error(a)}else console.warn("\u975E\u7528\u6237\u4EA4\u4E92 \u65E0\u6CD5\u8C03\u7528showSaveFilePicker \u5DF2\u9009\u62E9\u517C\u5BB9\u65B9\u6848");if(window.navigator?.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(e,t);return}const i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.download=t,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),typeof window.URL.revokeObjectURL=="function"?window.URL.revokeObjectURL(i.href):typeof window.webkitURL<"u"&&typeof window.webkitURL.revokeObjectURL=="function"?window.webkitURL.revokeObjectURL(i.href):window.URL.revokeObjectURL(i.href)}catch(i){console.error(i.name,i.message)}}function aD(e,t){const r=document.createElement("a");r.href=window.URL.createObjectURL(e),r.download=t,r.click()}const V={b64Encode:sD,b64Decode:nD,saveAsFileDialog:oD,downloadFile:aD};class qD{z="D2BBB6A18140C6DF814181428143CDF2D5C9C8FDC9CFCFC2D8A2B2BBD3EB8144D8A4B3F38145D7A8C7D2D8A7CAC08146C7F0B1FBD2B5B4D4B6ABCBBFD8A9814781488149B6AA814AC1BDD1CF814BC9A5D8AD814CB8F6D1BEE3DCD6D0814D814EB7E1814FB4AE8150C1D98151D8BC8152CDE8B5A4CEAAD6F78153C0F6BED9D8AF815481558156C4CB8157BEC38158D8B1C3B4D2E58159D6AECEDAD5A7BAF5B7A6C0D6815AC6B9C5D2C7C7815BB9D4815CB3CBD2D2815D815ED8BFBEC5C6F2D2B2CFB0CFE7815F816081618162CAE981638164D8C081658166816781688169816AC2F2C2D2816BC8E9816C816D816E816F817081718172817381748175C7AC8176817781788179817A817B817CC1CB817DD3E8D5F9817ECAC2B6FED8A1D3DABFF78180D4C6BBA5D8C1CEE5BEAE81818182D8A88183D1C7D0A9818481858186D8BDD9EFCDF6BFBA8187BDBBBAA5D2E0B2FABAE0C4B68188CFEDBEA9CDA4C1C18189818A818BC7D7D9F1818CD9F4818D818E818F8190C8CBD8E9819181928193D2DACAB2C8CAD8ECD8EAD8C6BDF6C6CDB3F08194D8EBBDF1BDE98195C8D4B4D381968197C2D88198B2D6D7D0CACBCBFBD5CCB8B6CFC98199819A819BD9DAD8F0C7AA819CD8EE819DB4FAC1EED2D4819E819FD8ED81A0D2C7D8EFC3C781A181A281A3D1F681A4D6D9D8F281A5D8F5BCFEBCDB81A681A781A8C8CE81A9B7DD81AAB7C281ABC6F381AC81AD81AE81AF81B081B181B2D8F8D2C181B381B4CEE9BCBFB7FCB7A5D0DD81B581B681B781B881B9D6DAD3C5BBEFBBE1D8F181BA81BBC9A1CEB0B4AB81BCD8F381BDC9CBD8F6C2D7D8F781BE81BFCEB1D8F981C081C181C2B2AEB9C081C3D9A381C4B0E981C5C1E681C6C9EC81C7CBC581C8CBC6D9A481C981CA81CB81CC81CDB5E881CE81CFB5AB81D081D181D281D381D481D5CEBBB5CDD7A1D7F4D3D381D6CCE581D7BACE81D8D9A2D9DCD3E0D8FDB7F0D7F7D8FED8FAD9A1C4E381D981DAD3B6D8F4D9DD81DBD8FB81DCC5E581DD81DEC0D081DF81E0D1F0B0DB81E181E2BCD1D9A681E3D9A581E481E581E681E7D9ACD9AE81E8D9ABCAB981E981EA81EBD9A9D6B681EC81ED81EEB3DED9A881EFC0FD81F0CACC81F1D9AA81F2D9A781F381F4D9B081F581F6B6B181F781F881F9B9A981FAD2C081FB81FCCFC081FD81FEC2C28240BDC4D5ECB2E0C7C8BFEBD9AD8241D9AF8242CEEABAEE82438244824582468247C7D682488249824A824B824C824D824E824F8250B1E3825182528253B4D9B6EDD9B48254825582568257BFA182588259825AD9DEC7CEC0FED9B8825B825C825D825E825FCBD7B7FD8260D9B58261D9B7B1A3D3E1D9B98262D0C58263D9B682648265D9B18266D9B2C1A9D9B382678268BCF3D0DEB8A98269BEE3826AD9BD826B826C826D826ED9BA826FB0B3827082718272D9C28273827482758276827782788279827A827B827C827D827E8280D9C4B1B68281D9BF82828283B5B98284BEF3828582868287CCC8BAF2D2D08288D9C38289828ABDE8828BB3AB828C828D828ED9C5BEEB828FD9C6D9BBC4DF8290D9BED9C1D9C0829182928293829482958296829782988299829A829BD5AE829CD6B5829DC7E3829E829F82A082A1D9C882A282A382A4BCD9D9CA82A582A682A7D9BC82A8D9CBC6AB82A982AA82AB82AC82ADD9C982AE82AF82B082B1D7F682B2CDA382B382B482B582B682B782B882B982BABDA182BB82BC82BD82BE82BF82C0D9CC82C182C282C382C482C582C682C782C882C9C5BCCDB582CA82CB82CCD9CD82CD82CED9C7B3A5BFFE82CF82D082D182D2B8B582D382D4C0FC82D582D682D782D8B0F882D982DA82DB82DC82DD82DE82DF82E082E182E282E382E482E582E682E782E882E982EA82EB82EC82EDB4F682EED9CE82EFD9CFB4A2D9D082F082F1B4DF82F282F382F482F582F6B0C182F782F882F982FA82FB82FC82FDD9D1C9B582FE8340834183428343834483458346834783488349834A834B834C834D834E834F83508351CFF1835283538354835583568357D9D283588359835AC1C5835B835C835D835E835F836083618362836383648365D9D6C9AE8366836783688369D9D5D9D4D9D7836A836B836C836DCBDB836EBDA9836F8370837183728373C6A7837483758376837783788379837A837B837C837DD9D3D9D8837E83808381D9D9838283838384838583868387C8E583888389838A838B838C838D838E838F839083918392839383948395C0DC8396839783988399839A839B839C839D839E839F83A083A183A283A383A483A583A683A783A883A983AA83AB83AC83AD83AE83AF83B083B183B2B6F9D8A3D4CA83B3D4AAD0D6B3E4D5D783B4CFC8B9E283B5BFCB83B6C3E283B783B883B9B6D283BA83BBCDC3D9EED9F083BC83BD83BEB5B383BFB6B583C083C183C283C383C4BEA483C583C6C8EB83C783C8C8AB83C983CAB0CBB9ABC1F9D9E283CBC0BCB9B283CCB9D8D0CBB1F8C6E4BEDFB5E4D7C883CDD1F8BCE6CADE83CE83CFBCBDD9E6D8E783D083D1C4DA83D283D3B8D4C8BD83D483D5B2E1D4D983D683D783D883D9C3B083DA83DBC3E1DAA2C8DF83DCD0B483DDBEFCC5A983DE83DF83E0B9DA83E1DAA383E2D4A9DAA483E383E483E583E683E7D9FBB6AC83E883E9B7EBB1F9D9FCB3E5BEF683EABFF6D2B1C0E483EB83EC83EDB6B3D9FED9FD83EE83EFBEBB83F083F183F2C6E083F3D7BCDAA183F4C1B983F5B5F2C1E883F683F7BCF583F8B4D583F983FA83FB83FC83FD83FE844084418442C1DD8443C4FD84448445BCB8B7B284468447B7EF84488449844A844B844C844DD9EC844EC6BE844FBFADBBCB84508451B5CA8452DBC9D0D78453CDB9B0BCB3F6BBF7DBCABAAF8454D4E4B5B6B5F3D8D6C8D084558456B7D6C7D0D8D78457BFAF84588459DBBBD8D8845A845BD0CCBBAE845C845D845EEBBEC1D0C1F5D4F2B8D5B4B4845FB3F584608461C9BE846284638464C5D0846584668467C5D9C0FB8468B1F08469D8D9B9CE846AB5BD846B846CD8DA846D846ED6C6CBA2C8AFC9B2B4CCBFCC846FB9F48470D8DBD8DCB6E7BCC1CCEA847184728473847484758476CFF78477D8DDC7B084788479B9D0BDA3847A847BCCDE847CC6CA847D847E848084818482D8E08483D8DE84848485D8DF848684878488B0FE8489BEE7848ACAA3BCF4848B848C848D848EB8B1848F8490B8EE849184928493849484958496849784988499849AD8E2849BBDCB849CD8E4D8E3849D849E849F84A084A1C5FC84A284A384A484A584A684A784A8D8E584A984AAD8E684AB84AC84AD84AE84AF84B084B1C1A684B2C8B0B0ECB9A6BCD3CEF1DBBDC1D384B384B484B584B6B6AFD6FAC5ACBDD9DBBEDBBF84B784B884B9C0F8BEA2C0CD84BA84BB84BC84BD84BE84BF84C084C184C284C3DBC0CAC684C484C584C6B2AA84C784C884C9D3C284CAC3E384CBD1AB84CC84CD84CE84CFDBC284D0C0D584D184D284D3DBC384D4BFB184D584D684D784D884D984DAC4BC84DB84DC84DD84DEC7DA84DF84E084E184E284E384E484E584E684E784E884E9DBC484EA84EB84EC84ED84EE84EF84F084F1D9E8C9D784F284F384F4B9B4CEF0D4C884F584F684F784F8B0FCB4D284F9D0D984FA84FB84FC84FDD9E984FEDECBD9EB8540854185428543D8B0BBAFB1B18544B3D7D8CE85458546D4D185478548BDB3BFEF8549CFBB854A854BD8D0854C854D854EB7CB854F85508551D8D185528553855485558556855785588559855A855BC6A5C7F8D2BD855C855DD8D2C4E4855ECAAE855FC7A78560D8A68561C9FDCEE7BBDCB0EB856285638564BBAAD0AD8565B1B0D7E4D7BF8566B5A5C2F4C4CF85678568B2A98569B2B7856AB1E5DFB2D5BCBFA8C2ACD8D5C2B1856BD8D4CED4856CDAE0856DCEC0856E856FD8B4C3AED3A1CEA38570BCB4C8B4C2D18571BEEDD0B68572DAE18573857485758576C7E485778578B3A78579B6F2CCFCC0FA857A857BC0F7857CD1B9D1E1D8C7857D857E85808581858285838584B2DE85858586C0E58587BAF185888589D8C8858AD4AD858B858CCFE1D8C9858DD8CACFC3858EB3F8BEC7858F859085918592D8CB8593859485958596859785988599DBCC859A859B859C859DC8A5859E859F85A0CFD885A1C8FEB2CE85A285A385A485A585A6D3D6B2E6BCB0D3D1CBABB7B485A785A885A9B7A285AA85ABCAE585ACC8A1CADCB1E4D0F085ADC5D185AE85AF85B0DBC5B5FE85B185B2BFDAB9C5BEE4C1ED85B3DFB6DFB5D6BBBDD0D5D9B0C8B6A3BFC9CCA8DFB3CAB7D3D285B4D8CFD2B6BAC5CBBECCBE85B5DFB7B5F0DFB485B685B785B8D3F585B9B3D4B8F785BADFBA85BBBACFBCAAB5F585BCCDACC3FBBAF3C0F4CDC2CFF2DFB8CFC585BDC2C0DFB9C2F085BE85BF85C0BEFD85C1C1DFCDCCD2F7B7CDDFC185C2DFC485C385C4B7F1B0C9B6D6B7D485C5BAACCCFDBFD4CBB1C6F485C6D6A8DFC585C7CEE2B3B385C885C9CEFCB4B585CACEC7BAF085CBCEE185CCD1BD85CD85CEDFC085CF85D0B4F485D1B3CA85D2B8E6DFBB85D385D485D585D6C4C585D7DFBCDFBDDFBEC5BBDFBFDFC2D4B1DFC385D8C7BACED885D985DA85DB85DC85DDC4D885DEDFCA85DFDFCF85E0D6DC85E185E285E385E485E585E685E785E8DFC9DFDACEB685E9BAC7DFCEDFC8C5DE85EA85EBC9EBBAF4C3FC85EC85EDBED785EEDFC685EFDFCD85F0C5D885F185F285F385F4D5A6BACD85F5BECCD3BDB8C085F6D6E485F7DFC7B9BEBFA785F885F9C1FCDFCBDFCC85FADFD085FB85FC85FD85FE8640DFDBDFE58641DFD7DFD6D7C9DFE3DFE4E5EBD2A7DFD28642BFA98643D4DB8644BFC8DFD4864586468647CFCC86488649DFDD864AD1CA864BDFDEB0A7C6B7DFD3864CBAE5864DB6DFCDDBB9FED4D5864E864FDFDFCFECB0A5DFE7DFD1D1C6DFD5DFD8DFD9DFDC8650BBA98651DFE0DFE18652DFE2DFE6DFE8D3B486538654865586568657B8E7C5B6DFEAC9DAC1A8C4C486588659BFDECFF8865A865B865CD5DCDFEE865D865E865F866086618662B2B88663BADFDFEC8664DBC18665D1E48666866786688669CBF4B4BD866AB0A6866B866C866D866E866FDFF1CCC6DFF286708671DFED867286738674867586768677DFE986788679867A867BDFEB867CDFEFDFF0BBBD867D867EDFF386808681DFF48682BBA38683CADBCEA8E0A7B3AA8684E0A6868586868687E0A186888689868A868BDFFE868CCDD9DFFC868DDFFA868EBFD0D7C4868FC9CC86908691DFF8B0A186928693869486958696DFFD869786988699869ADFFBE0A2869B869C869D869E869FE0A886A086A186A286A3B7C886A486A5C6A1C9B6C0B2DFF586A686A7C5BE86A8D8C4DFF9C4F686A986AA86AB86AC86AD86AEE0A3E0A4E0A5D0A586AF86B0E0B4CCE486B1E0B186B2BFA6E0AFCEB9E0ABC9C686B386B4C0AEE0AEBAEDBAB0E0A986B586B686B7DFF686B8E0B386B986BAE0B886BB86BC86BDB4ADE0B986BE86BFCFB2BAC886C0E0B086C186C286C386C486C586C686C7D0FA86C886C986CA86CB86CC86CD86CE86CF86D0E0AC86D1D4FB86D2DFF786D3C5E786D4E0AD86D5D3F786D6E0B6E0B786D786D886D986DA86DBE0C4D0E186DC86DD86DEE0BC86DF86E0E0C9E0CA86E186E286E3E0BEE0AAC9A4E0C186E4E0B286E586E686E786E886E9CAC8E0C386EAE0B586EBCECB86ECCBC3E0CDE0C6E0C286EDE0CB86EEE0BAE0BFE0C086EF86F0E0C586F186F2E0C7E0C886F3E0CC86F4E0BB86F586F686F786F886F9CBD4E0D586FAE0D6E0D286FB86FC86FD86FE87408741E0D0BCCE87428743E0D18744B8C2D8C587458746874787488749874A874B874CD0EA874D874EC2EF874F8750E0CFE0BD875187528753E0D4E0D387548755E0D78756875787588759E0DCE0D8875A875B875CD6F6B3B0875DD7EC875ECBBB875F8760E0DA8761CEFB876287638764BAD987658766876787688769876A876B876C876D876E876F8770E0E1E0DDD2AD87718772877387748775E0E287768777E0DBE0D9E0DF87788779E0E0877A877B877C877D877EE0DE8780E0E4878187828783C6F7D8ACD4EBE0E6CAC98784878587868787E0E587888789878A878BB8C1878C878D878E878FE0E7E0E887908791879287938794879587968797E0E9E0E387988799879A879B879C879D879EBABFCCE7879F87A087A1E0EA87A287A387A487A587A687A787A887A987AA87AB87AC87AD87AE87AF87B0CFF987B187B287B387B487B587B687B787B887B987BA87BBE0EB87BC87BD87BE87BF87C087C187C2C8C287C387C487C587C6BDC087C787C887C987CA87CB87CC87CD87CE87CF87D087D187D287D3C4D287D487D587D687D787D887D987DA87DB87DCE0EC87DD87DEE0ED87DF87E0C7F4CBC487E1E0EEBBD8D8B6D2F2E0EFCDC587E2B6DA87E387E487E587E687E787E8E0F187E9D4B087EA87EBC0A7B4D187EC87EDCEA7E0F087EE87EF87F0E0F2B9CC87F187F2B9FACDBCE0F387F387F487F5C6D4E0F487F6D4B287F7C8A6E0F6E0F587F887F987FA87FB87FC87FD87FE8840884188428843884488458846884788488849E0F7884A884BCDC1884C884D884ECAA5884F885088518852D4DADBD7DBD98853DBD8B9E7DBDCDBDDB5D888548855DBDA8856885788588859885ADBDBB3A1DBDF885B885CBBF8885DD6B7885EDBE0885F886088618862BEF988638864B7BB8865DBD0CCAEBFB2BBB5D7F8BFD38866886788688869886ABFE9886B886CBCE1CCB3DBDEB0D3CEEBB7D8D7B9C6C2886D886EC0A4886FCCB98870DBE7DBE1C6BADBE38871DBE88872C5F7887388748875DBEA88768877DBE9BFC088788879887ADBE6DBE5887B887C887D887E8880B4B9C0ACC2A2DBE2DBE48881888288838884D0CDDBED88858886888788888889C0DDDBF2888A888B888C888D888E888F8890B6E28891889288938894DBF3DBD2B9B8D4ABDBEC8895BFD1DBF08896DBD18897B5E68898DBEBBFE58899889A889BDBEE889CDBF1889D889E889FDBF988A088A188A288A388A488A588A688A788A8B9A1B0A388A988AA88AB88AC88AD88AE88AFC2F188B088B1B3C7DBEF88B288B3DBF888B4C6D2DBF488B588B6DBF5DBF7DBF688B788B8DBFE88B9D3F2B2BA88BA88BB88BCDBFD88BD88BE88BF88C088C188C288C388C4DCA488C5DBFB88C688C788C888C9DBFA88CA88CB88CCDBFCC5E0BBF988CD88CEDCA388CF88D0DCA588D1CCC388D288D388D4B6D1DDC088D588D688D7DCA188D8DCA288D988DA88DBC7B588DC88DD88DEB6E988DF88E088E1DCA788E288E388E488E5DCA688E6DCA9B1A488E788E8B5CC88E988EA88EB88EC88EDBFB088EE88EF88F088F188F2D1DF88F388F488F588F6B6C288F788F888F988FA88FB88FC88FD88FE894089418942894389448945DCA88946894789488949894A894B894CCBFAEBF3894D894E894FCBDC89508951CBFE895289538954CCC189558956895789588959C8FB895A895B895C895D895E895FDCAA89608961896289638964CCEEDCAB89658966896789688969896A896B896C896D896E896F897089718972897389748975DBD38976DCAFDCAC8977BEB38978CAFB8979897A897BDCAD897C897D897E89808981898289838984C9CAC4B989858986898789888989C7BDDCAE898A898B898CD4F6D0E6898D898E898F89908991899289938994C4ABB6D589958996899789988999899A899B899C899D899E899F89A089A189A289A389A489A589A6DBD489A789A889A989AAB1DA89AB89AC89ADDBD589AE89AF89B089B189B289B389B489B589B689B789B8DBD689B989BA89BBBABE89BC89BD89BE89BF89C089C189C289C389C489C589C689C789C889C9C8C089CA89CB89CC89CD89CE89CFCABFC8C989D0D7B389D1C9F989D289D3BFC789D489D5BAF889D689D7D2BC89D889D989DA89DB89DC89DD89DE89DFE2BA89E0B4A689E189E2B1B889E389E489E589E689E7B8B489E8CFC489E989EA89EB89ECD9E7CFA6CDE289ED89EED9EDB6E089EFD2B989F089F1B9BB89F289F389F489F5E2B9E2B789F6B4F389F7CCECCCABB7F289F8D8B2D1EBBABB89F9CAA789FA89FBCDB789FC89FDD2C4BFE4BCD0B6E189FEDEC58A408A418A428A43DEC6DBBC8A44D1D98A458A46C6E6C4CEB7EE8A47B7DC8A488A49BFFCD7E08A4AC6F58A4B8A4CB1BCDEC8BDB1CCD7DECA8A4DDEC98A4E8A4F8A508A518A52B5EC8A53C9DD8A548A55B0C28A568A578A588A598A5A8A5B8A5C8A5D8A5E8A5F8A608A618A62C5AEC5AB8A63C4CC8A64BCE9CBFD8A658A668A67BAC38A688A698A6AE5F9C8E7E5FACDFD8A6BD7B1B8BEC2E88A6CC8D18A6D8A6EE5FB8A6F8A708A718A72B6CABCCB8A738A74D1FDE6A18A75C3EE8A768A778A788A79E6A48A7A8A7B8A7C8A7DE5FEE6A5CDD78A7E8A80B7C1E5FCE5FDE6A38A818A82C4DDE6A88A838A84E6A78A858A868A878A888A898A8AC3C38A8BC6DE8A8C8A8DE6AA8A8E8A8F8A908A918A928A938A94C4B78A958A968A97E6A2CABC8A988A998A9A8A9BBDE3B9C3E6A6D0D5CEAF8A9C8A9DE6A9E6B08A9ED2A68A9FBDAAE6AD8AA08AA18AA28AA38AA4E6AF8AA5C0D18AA68AA7D2CC8AA88AA98AAABCA78AAB8AAC8AAD8AAE8AAF8AB08AB18AB28AB38AB48AB58AB6E6B18AB7D2F68AB88AB98ABAD7CB8ABBCDFE8ABCCDDEC2A6E6ABE6ACBDBFE6AEE6B38ABD8ABEE6B28ABF8AC08AC18AC2E6B68AC3E6B88AC48AC58AC68AC7C4EF8AC88AC98ACAC4C88ACB8ACCBEEAC9EF8ACD8ACEE6B78ACFB6F08AD08AD18AD2C3E48AD38AD48AD58AD68AD78AD88AD9D3E9E6B48ADAE6B58ADBC8A28ADC8ADD8ADE8ADF8AE0E6BD8AE18AE28AE3E6B98AE48AE58AE68AE78AE8C6C58AE98AEACDF1E6BB8AEB8AEC8AED8AEE8AEF8AF08AF18AF28AF38AF4E6BC8AF58AF68AF78AF8BBE98AF98AFA8AFB8AFC8AFD8AFE8B40E6BE8B418B428B438B44E6BA8B458B46C0B78B478B488B498B4A8B4B8B4C8B4D8B4E8B4FD3A4E6BFC9F4E6C38B508B51E6C48B528B538B548B55D0F68B568B578B588B598B5A8B5B8B5C8B5D8B5E8B5F8B608B618B628B638B648B658B668B67C3BD8B688B698B6A8B6B8B6C8B6D8B6EC3C4E6C28B6F8B708B718B728B738B748B758B768B778B788B798B7A8B7B8B7CE6C18B7D8B7E8B808B818B828B838B84E6C7CFB18B85EBF48B868B87E6CA8B888B898B8A8B8B8B8CE6C58B8D8B8EBCDEC9A98B8F8B908B918B928B938B94BCB58B958B96CFD38B978B988B998B9A8B9BE6C88B9CE6C98B9DE6CE8B9EE6D08B9F8BA08BA1E6D18BA28BA38BA4E6CBB5D58BA5E6CC8BA68BA7E6CF8BA88BA9C4DB8BAAE6C68BAB8BAC8BAD8BAE8BAFE6CD8BB08BB18BB28BB38BB48BB58BB68BB78BB88BB98BBA8BBB8BBC8BBD8BBE8BBF8BC08BC18BC28BC38BC48BC58BC6E6D28BC78BC88BC98BCA8BCB8BCC8BCD8BCE8BCF8BD08BD18BD2E6D4E6D38BD38BD48BD58BD68BD78BD88BD98BDA8BDB8BDC8BDD8BDE8BDF8BE08BE18BE28BE38BE48BE58BE68BE78BE88BE98BEA8BEB8BECE6D58BEDD9F88BEE8BEFE6D68BF08BF18BF28BF38BF48BF58BF68BF7E6D78BF88BF98BFA8BFB8BFC8BFD8BFE8C408C418C428C438C448C458C468C47D7D3E6DD8C48E6DEBFD7D4D08C49D7D6B4E6CBEFE6DAD8C3D7CED0A28C4AC3CF8C4B8C4CE6DFBCBEB9C2E6DBD1A78C4D8C4EBAA2C2CF8C4FD8AB8C508C518C52CAEBE5EE8C53E6DC8C54B7F58C558C568C578C58C8E68C598C5AC4F58C5B8C5CE5B2C4FE8C5DCBFCE5B3D5AC8C5ED3EECAD8B0B28C5FCBCECDEA8C608C61BAEA8C628C638C64E5B58C65E5B48C66D7DAB9D9D6E6B6A8CDF0D2CBB1A6CAB58C67B3E8C9F3BFCDD0FBCAD2E5B6BBC28C688C698C6ACFDCB9AC8C6B8C6C8C6D8C6ED4D78C6F8C70BAA6D1E7CFFCBCD28C71E5B7C8DD8C728C738C74BFEDB1F6CBDE8C758C76BCC58C77BCC4D2FAC3DCBFDC8C788C798C7A8C7BB8BB8C7C8C7D8C7EC3C28C80BAAED4A28C818C828C838C848C858C868C878C888C89C7DEC4AFB2EC8C8AB9D18C8B8C8CE5BBC1C88C8D8C8ED5AF8C8F8C908C918C928C93E5BC8C94E5BE8C958C968C978C988C998C9A8C9BB4E7B6D4CBC2D1B0B5BC8C9C8C9DCAD98C9EB7E28C9F8CA0C9E48CA1BDAB8CA28CA3CEBED7F08CA48CA58CA68CA7D0A18CA8C9D98CA98CAAB6FBE6D8BCE28CABB3BE8CACC9D08CADE6D9B3A28CAE8CAF8CB08CB1DECC8CB2D3C8DECD8CB3D2A28CB48CB58CB68CB7DECE8CB88CB98CBA8CBBBECD8CBC8CBDDECF8CBE8CBF8CC0CAACD2FCB3DFE5EAC4E1BEA1CEB2C4F2BED6C6A8B2E38CC18CC2BED38CC38CC4C7FCCCEBBDECCEDD8CC58CC6CABAC6C1E5ECD0BC8CC78CC88CC9D5B98CCA8CCB8CCCE5ED8CCD8CCE8CCF8CD0CAF48CD1CDC0C2C58CD2E5EF8CD3C2C4E5F08CD48CD58CD68CD78CD88CD98CDAE5F8CDCD8CDBC9BD8CDC8CDD8CDE8CDF8CE08CE18CE2D2D9E1A88CE38CE48CE58CE6D3EC8CE7CBEAC6F18CE88CE98CEA8CEB8CECE1AC8CED8CEE8CEFE1A7E1A98CF08CF1E1AAE1AF8CF28CF3B2ED8CF4E1ABB8DAE1ADE1AEE1B0B5BAE1B18CF58CF68CF78CF88CF9E1B3E1B88CFA8CFB8CFC8CFD8CFED1D28D40E1B6E1B5C1EB8D418D428D43E1B78D44D4C08D45E1B28D46E1BAB0B68D478D488D498D4AE1B48D4BBFF98D4CE1B98D4D8D4EE1BB8D4F8D508D518D528D538D54E1BE8D558D568D578D588D598D5AE1BC8D5B8D5C8D5D8D5E8D5F8D60D6C58D618D628D638D648D658D668D67CFBF8D688D69E1BDE1BFC2CD8D6AB6EB8D6BD3F88D6C8D6DC7CD8D6E8D6FB7E58D708D718D728D738D748D758D768D778D788D79BEFE8D7A8D7B8D7C8D7D8D7E8D80E1C0E1C18D818D82E1C7B3E78D838D848D858D868D878D88C6E98D898D8A8D8B8D8C8D8DB4DE8D8ED1C28D8F8D908D918D92E1C88D938D94E1C68D958D968D978D988D99E1C58D9AE1C3E1C28D9BB1C08D9C8D9D8D9ED5B8E1C48D9F8DA08DA18DA28DA3E1CB8DA48DA58DA68DA78DA88DA98DAA8DABE1CCE1CA8DAC8DAD8DAE8DAF8DB08DB18DB28DB3EFFA8DB48DB5E1D3E1D2C7B68DB68DB78DB88DB98DBA8DBB8DBC8DBD8DBE8DBF8DC0E1C98DC18DC2E1CE8DC3E1D08DC48DC58DC68DC78DC88DC98DCA8DCB8DCC8DCD8DCEE1D48DCFE1D1E1CD8DD08DD1E1CF8DD28DD38DD48DD5E1D58DD68DD78DD88DD98DDA8DDB8DDC8DDD8DDE8DDF8DE08DE18DE2E1D68DE38DE48DE58DE68DE78DE88DE98DEA8DEB8DEC8DED8DEE8DEF8DF08DF18DF28DF38DF48DF58DF68DF78DF8E1D78DF98DFA8DFBE1D88DFC8DFD8DFE8E408E418E428E438E448E458E468E478E488E498E4A8E4B8E4C8E4D8E4E8E4F8E508E518E528E538E548E55E1DA8E568E578E588E598E5A8E5B8E5C8E5D8E5E8E5F8E608E618E62E1DB8E638E648E658E668E678E688E69CEA18E6A8E6B8E6C8E6D8E6E8E6F8E708E718E728E738E748E758E76E7DD8E77B4A8D6DD8E788E79D1B2B3B28E7A8E7BB9A4D7F3C7C9BEDEB9AE8E7CCED78E7D8E7EB2EEDBCF8E80BCBAD2D1CBC8B0CD8E818E82CFEF8E838E848E858E868E87D9E3BDED8E888E89B1D2CAD0B2BC8E8ACBA7B7AB8E8BCAA68E8C8E8D8E8ECFA38E8F8E90E0F8D5CAE0FB8E918E92E0FAC5C1CCFB8E93C1B1E0F9D6E3B2AFD6C4B5DB8E948E958E968E978E988E998E9A8E9BB4F8D6A18E9C8E9D8E9E8E9F8EA0CFAFB0EF8EA18EA2E0FC8EA38EA48EA58EA68EA7E1A1B3A38EA88EA9E0FDE0FEC3B18EAA8EAB8EAC8EADC3DD8EAEE1A2B7F98EAF8EB08EB18EB28EB38EB4BBCF8EB58EB68EB78EB88EB98EBA8EBBE1A3C4BB8EBC8EBD8EBE8EBF8EC0E1A48EC18EC2E1A58EC38EC4E1A6B4B18EC58EC68EC78EC88EC98ECA8ECB8ECC8ECD8ECE8ECF8ED08ED18ED28ED3B8C9C6BDC4EA8ED4B2A28ED5D0D28ED6E7DBBBC3D3D7D3C48ED7B9E3E2CF8ED88ED98EDAD7AF8EDBC7ECB1D38EDC8EDDB4B2E2D18EDE8EDF8EE0D0F2C2AEE2D08EE1BFE2D3A6B5D7E2D2B5EA8EE2C3EDB8FD8EE3B8AE8EE4C5D3B7CFE2D48EE58EE68EE78EE8E2D3B6C8D7F98EE98EEA8EEB8EEC8EEDCDA58EEE8EEF8EF08EF18EF2E2D88EF3E2D6CAFCBFB5D3B9E2D58EF48EF58EF68EF7E2D78EF88EF98EFA8EFB8EFC8EFD8EFE8F408F418F42C1AEC0C88F438F448F458F468F478F48E2DBE2DAC0AA8F498F4AC1CE8F4B8F4C8F4D8F4EE2DC8F4F8F508F518F528F538F548F558F568F578F588F598F5AE2DD8F5BE2DE8F5C8F5D8F5E8F5F8F608F618F628F638F64DBC88F65D1D3CDA28F668F67BDA88F688F698F6ADEC3D8A5BFAADBCDD2ECC6FAC5AA8F6B8F6C8F6DDEC48F6EB1D7DFAE8F6F8F708F71CABD8F72DFB18F73B9AD8F74D2FD8F75B8A5BAEB8F768F77B3DA8F788F798F7AB5DCD5C58F7B8F7C8F7D8F7EC3D6CFD2BBA18F80E5F3E5F28F818F82E5F48F83CDE48F84C8F58F858F868F878F888F898F8A8F8BB5AFC7BF8F8CE5F68F8D8F8E8F8FECB08F908F918F928F938F948F958F968F978F988F998F9A8F9B8F9C8F9D8F9EE5E68F9FB9E9B5B18FA0C2BCE5E8E5E7E5E98FA18FA28FA38FA4D2CD8FA58FA68FA7E1EAD0CE8FA8CDAE8FA9D1E58FAA8FABB2CAB1EB8FACB1F2C5ED8FAD8FAED5C3D3B08FAFE1DC8FB08FB18FB2E1DD8FB3D2DB8FB4B3B9B1CB8FB58FB68FB7CDF9D5F7E1DE8FB8BEB6B4FD8FB9E1DFBADCE1E0BBB2C2C9E1E18FBA8FBB8FBCD0EC8FBDCDBD8FBE8FBFE1E28FC0B5C3C5C7E1E38FC18FC2E1E48FC38FC48FC58FC6D3F98FC78FC88FC98FCA8FCB8FCCE1E58FCDD1AD8FCE8FCFE1E6CEA28FD08FD18FD28FD38FD48FD5E1E78FD6B5C28FD78FD88FD98FDAE1E8BBD58FDB8FDC8FDD8FDE8FDFD0C4E2E0B1D8D2E48FE08FE1E2E18FE28FE3BCC9C8CC8FE4E2E3ECFEECFDDFAF8FE58FE68FE7E2E2D6BECDFCC3A68FE88FE98FEAE3C38FEB8FECD6D2E2E78FED8FEEE2E88FEF8FF0D3C78FF18FF2E2ECBFEC8FF3E2EDE2E58FF48FF5B3C08FF68FF78FF8C4EE8FF98FFAE2EE8FFB8FFCD0C38FFDBAF6E2E9B7DEBBB3CCACCBCBE2E4E2E6E2EAE2EB8FFE90409041E2F790429043E2F4D4F5E2F390449045C5AD9046D5FAC5C2B2C090479048E2EF9049E2F2C1AFCBBC904A904BB5A1E2F9904C904D904EBCB1E2F1D0D4D4B9E2F5B9D6E2F6904F90509051C7D390529053905490559056E2F0905790589059905A905BD7DCEDA1905C905DE2F8905EEDA5E2FECAD1905F906090619062906390649065C1B59066BBD090679068BFD69069BAE3906A906BCBA1906C906D906EEDA6EDA3906F9070EDA29071907290739074BBD6EDA7D0F490759076EDA4BADEB6F7E3A1B6B2CCF1B9A79077CFA2C7A190789079BFD2907A907BB6F1907CE2FAE2FBE2FDE2FCC4D5E3A2907DD3C1907E90809081E3A7C7C49082908390849085CFA490869087E3A9BAB790889089908A908BE3A8908CBBDA908DE3A3908E908F9090E3A4E3AA9091E3A69092CEF2D3C690939094BBBC90959096D4C39097C4FA90989099EDA8D0FCE3A5909AC3F5909BE3ADB1AF909CE3B2909D909E909FBCC290A090A1E3ACB5BF90A290A390A490A590A690A790A890A9C7E9E3B090AA90AB90ACBEAACDEF90AD90AE90AF90B090B1BBF390B290B390B4CCE890B590B6E3AF90B7E3B190B8CFA7E3AE90B9CEA9BBDD90BA90BB90BC90BD90BEB5EBBEE5B2D2B3CD90BFB1B9E3ABB2D1B5ACB9DFB6E890C090C1CFEBE3B790C2BBCC90C390C4C8C7D0CA90C590C690C790C890C9E3B8B3EE90CA90CB90CC90CDEDA990CED3FAD3E490CF90D090D1EDAAE3B9D2E290D290D390D490D590D6E3B590D790D890D990DAD3DE90DB90DC90DD90DEB8D0E3B390DF90E0E3B6B7DF90E1E3B4C0A290E290E390E4E3BA90E590E690E790E890E990EA90EB90EC90ED90EE90EF90F090F190F290F390F490F590F690F7D4B890F890F990FA90FB90FC90FD90FE9140B4C89141E3BB9142BBC59143C9F791449145C9E5914691479148C4BD9149914A914B914C914D914E914FEDAB9150915191529153C2FD9154915591569157BBDBBFAE91589159915A915B915C915D915ECEBF915F916091619162E3BC9163BFB6916491659166916791689169916A916B916C916D916E916F9170917191729173917491759176B1EF91779178D4F79179917A917B917C917DE3BE917E9180918191829183918491859186EDAD918791889189918A918B918C918D918E918FE3BFBAA9EDAC91909191E3BD91929193919491959196919791989199919A919BE3C0919C919D919E919F91A091A1BAB691A291A391A4B6AE91A591A691A791A891A9D0B891AAB0C3EDAE91AB91AC91AD91AE91AFEDAFC0C191B0E3C191B191B291B391B491B591B691B791B891B991BA91BB91BC91BD91BE91BF91C091C1C5B391C291C391C491C591C691C791C891C991CA91CB91CC91CD91CE91CFE3C291D091D191D291D391D491D591D691D791D8DCB291D991DA91DB91DC91DD91DEEDB091DFB8EA91E0CEECEAA7D0E7CAF9C8D6CFB7B3C9CED2BDE491E191E2E3DEBBF2EAA8D5BD91E3C6DDEAA991E491E591E6EAAA91E7EAACEAAB91E8EAAEEAAD91E991EA91EB91ECBDD891EDEAAF91EEC2BE91EF91F091F191F2B4C1B4F791F391F4BBA791F591F691F791F891F9ECE6ECE5B7BFCBF9B1E291FAECE791FB91FC91FDC9C8ECE8ECE991FECAD6DED0B2C5D4FA92409241C6CBB0C7B4F2C8D3924292439244CDD092459246BFB8924792489249924A924B924C924DBFDB924E924FC7A4D6B49250C0A9DED1C9A8D1EFC5A4B0E7B3B6C8C592519252B0E292539254B7F692559256C5FA92579258B6F39259D5D2B3D0BCBC925A925B925CB3AD925D925E925F9260BEF1B0D1926192629263926492659266D2D6CAE3D7A59267CDB6B6B6BFB9D5DB9268B8A7C5D79269926A926BDED2BFD9C2D5C7C0926CBBA4B1A8926D926EC5EA926F9270C5FBCCA79271927292739274B1A7927592769277B5D692789279927AC4A8927BDED3D1BAB3E9927CC3F2927D927EB7F79280D6F4B5A3B2F0C4B4C4E9C0ADDED49281B0E8C5C4C1E09282B9D59283BEDCCDD8B0CE9284CDCFDED6BED0D7BEDED5D5D0B0DD92859286C4E292879288C2A3BCF09289D3B5C0B9C5A1B2A6D4F1928A928BC0A8CAC3DED7D5FC928CB9B0928DC8ADCBA9928EDED9BFBD928F929092919292C6B4D7A7CAB0C4C39293B3D6B9D29294929592969297D6B8EAFCB0B492989299929A929BBFE6929C929DCCF4929E929F92A092A1CDDA92A292A392A4D6BFC2CE92A5CECECCA2D0AEC4D3B5B2DED8D5F5BCB7BBD392A692A7B0A492A8C5B2B4EC92A992AA92ABD5F192AC92ADEAFD92AE92AF92B092B192B292B3DEDACDA692B492B5CDEC92B692B792B892B9CEE6DEDC92BACDB1C0A692BB92BCD7BD92BDDEDBB0C6BAB4C9D3C4F3BEE892BE92BF92C092C1B2B692C292C392C492C592C692C792C892C9C0CCCBF092CABCF1BBBBB5B792CB92CC92CDC5F592CEDEE692CF92D092D1DEE3BEDD92D292D3DEDF92D492D592D692D7B4B7BDDD92D892D9DEE0C4ED92DA92DB92DC92DDCFC692DEB5E092DF92E092E192E2B6DECADAB5F4DEE592E3D5C692E4DEE1CCCDC6FE92E5C5C592E692E792E8D2B492E9BEF292EA92EB92EC92ED92EE92EF92F0C2D392F1CCBDB3B892F2BDD392F3BFD8CDC6D1DAB4EB92F4DEE4DEDDDEE792F5EAFE92F692F7C2B0DEE292F892F9D6C0B5A792FAB2F492FBDEE892FCDEF292FD92FE934093419342DEED9343DEF193449345C8E0934693479348D7E1DEEFC3E8CCE19349B2E5934A934B934CD2BE934D934E934F9350935193529353DEEE9354DEEBCED59355B4A79356935793589359935ABFABBEBE935B935CBDD2935D935E935F9360DEE99361D4AE9362DEDE9363DEEA9364936593669367C0BF9368DEECB2F3B8E9C2A79369936ABDC1936B936C936D936E936FDEF5DEF893709371B2ABB4A493729373B4EAC9A6937493759376937793789379DEF6CBD1937AB8E3937BDEF7DEFA937C937D937E9380DEF9938193829383CCC29384B0E1B4EE93859386938793889389938AE5BA938B938C938D938E938FD0AF93909391B2EB9392EBA19393DEF493949395C9E3DEF3B0DAD2A1B1F79396CCAF939793989399939A939B939C939DDEF0939ECBA4939F93A093A1D5AA93A293A393A493A593A6DEFB93A793A893A993AA93AB93AC93AD93AEB4DD93AFC4A693B093B193B2DEFD93B393B493B593B693B793B893B993BA93BB93BCC3FEC4A1DFA193BD93BE93BF93C093C193C293C3C1CC93C4DEFCBEEF93C5C6B293C693C793C893C993CA93CB93CC93CD93CEB3C5C8F693CF93D0CBBADEFE93D193D2DFA493D393D493D593D6D7B293D793D893D993DA93DBB3B793DC93DD93DE93DFC1C393E093E1C7CBB2A5B4E993E2D7AB93E393E493E593E6C4EC93E7DFA2DFA393E8DFA593E9BAB393EA93EB93ECDFA693EDC0DE93EE93EFC9C393F093F193F293F393F493F593F6B2D9C7E693F7DFA793F8C7DC93F993FA93FB93FCDFA8EBA293FD93FE944094419442CBD3944394449445DFAA9446DFA99447B2C194489449944A944B944C944D944E944F9450945194529453945494559456945794589459945A945B945C945D945E945F9460C5CA94619462946394649465946694679468DFAB9469946A946B946C946D946E946F9470D4DC94719472947394749475C8C19476947794789479947A947B947C947D947E948094819482DFAC94839484948594869487BEF094889489DFADD6A7948A948B948C948DEAB7EBB6CAD5948ED8FCB8C4948FB9A594909491B7C5D5FE94929493949494959496B9CA94979498D0A7F4CD9499949AB5D0949B949CC3F4949DBEC8949E949F94A0EBB7B0BD94A194A2BDCC94A3C1B294A4B1D6B3A894A594A694A7B8D2C9A294A894A9B6D894AA94AB94AC94ADEBB8BEB494AE94AF94B0CAFD94B1C7C394B2D5FB94B394B4B7F394B594B694B794B894B994BA94BB94BC94BD94BE94BF94C094C194C294C3CEC494C494C594C6D5ABB1F394C794C894C9ECB3B0DF94CAECB594CB94CC94CDB6B794CEC1CF94CFF5FAD0B194D094D1D5E594D2CED394D394D4BDEFB3E294D5B8AB94D6D5B694D7EDBD94D8B6CF94D9CBB9D0C294DA94DB94DC94DD94DE94DF94E094E1B7BD94E294E3ECB6CAA994E494E594E6C5D494E7ECB9ECB8C2C3ECB794E894E994EA94EBD0FDECBA94ECECBBD7E594ED94EEECBC94EF94F094F1ECBDC6EC94F294F394F494F594F694F794F894F9CEDE94FABCC894FB94FCC8D5B5A9BEC9D6BCD4E794FD94FED1AED0F1EAB8EAB9EABABAB59540954195429543CAB1BFF595449545CDFA9546954795489549954AEAC0954BB0BAEABE954C954DC0A5954E954F9550EABB9551B2FD9552C3F7BBE8955395549555D2D7CEF4EABF955695579558EABC9559955A955BEAC3955CD0C7D3B3955D955E955F9560B4BA9561C3C1D7F29562956395649565D5D19566CAC79567EAC595689569EAC4EAC7EAC6956A956B956C956D956ED6E7956FCFD495709571EACB9572BBCE9573957495759576957795789579BDFAC9CE957A957BEACC957C957DC9B9CFFEEACAD4CEEACDEACF957E9580CDED9581958295839584EAC99585EACE95869587CEEE9588BBDE9589B3BF958A958B958C958D958EC6D5BEB0CEFA958F95909591C7E79592BEA7EAD095939594D6C7959595969597C1C095989599959AD4DD959BEAD1959C959DCFBE959E959F95A095A1EAD295A295A395A495A5CAEE95A695A795A895A9C5AFB0B595AA95AB95AC95AD95AEEAD495AF95B095B195B295B395B495B595B695B7EAD3F4DF95B895B995BA95BB95BCC4BA95BD95BE95BF95C095C1B1A995C295C395C495C5E5DF95C695C795C895C9EAD595CA95CB95CC95CD95CE95CF95D095D195D295D395D495D595D695D795D895D995DA95DB95DC95DD95DE95DF95E095E195E295E3CAEF95E4EAD6EAD7C6D895E595E695E795E895E995EA95EB95ECEAD895ED95EEEAD995EF95F095F195F295F395F4D4BB95F5C7FAD2B7B8FC95F695F7EAC295F8B2DC95F995FAC2FC95FBD4F8CCE6D7EE95FC95FD95FE9640964196429643D4C2D3D0EBC3C5F39644B7FE96459646EBD4964796489649CBB7EBDE964AC0CA964B964C964DCDFB964EB3AF964FC6DA965096519652965396549655EBFC9656C4BE9657CEB4C4A9B1BED4FD9658CAF59659D6EC965A965BC6D3B6E4965C965D965E965FBBFA96609661D0E096629663C9B19664D4D3C8A896659666B8CB9667E8BEC9BC96689669E8BB966AC0EED0D3B2C4B4E5966BE8BC966C966DD5C8966E966F967096719672B6C59673E8BDCAF8B8DCCCF5967496759676C0B496779678D1EEE8BFE8C29679967ABABC967BB1ADBDDC967CEABDE8C3967DE8C6967EE8CB9680968196829683E8CC9684CBC9B0E59685BCAB96869687B9B996889689E8C1968ACDF7968BE8CA968C968D968E968FCEF69690969196929693D5ED9694C1D6E8C49695C3B69696B9FBD6A6E8C8969796989699CAE0D4E6969AE8C0969BE8C5E8C7969CC7B9B7E3969DE8C9969EBFDDE8D2969F96A0E8D796A1E8D5BCDCBCCFE8DB96A296A396A496A596A696A796A896A9E8DE96AAE8DAB1FA96AB96AC96AD96AE96AF96B096B196B296B396B4B0D8C4B3B8CCC6E2C8BEC8E196B596B696B7E8CFE8D4E8D696B8B9F1E8D8D7F596B9C4FB96BAE8DC96BB96BCB2E996BD96BE96BFE8D196C096C1BCED96C296C3BFC2E8CDD6F996C4C1F8B2F196C596C696C796C896C996CA96CB96CCE8DF96CDCAC1E8D996CE96CF96D096D1D5A496D2B1EAD5BBE8CEE8D0B6B0E8D396D3E8DDC0B896D4CAF796D5CBA896D696D7C6DCC0F596D896D996DA96DB96DCE8E996DD96DE96DFD0A396E096E196E296E396E496E596E6E8F2D6EA96E796E896E996EA96EB96EC96EDE8E0E8E196EE96EF96F0D1F9BACBB8F996F196F2B8F1D4D4E8EF96F3E8EEE8ECB9F0CCD2E8E6CEA6BFF296F4B0B8E8F1E8F096F5D7C096F6E8E496F7CDA9C9A396F8BBB8BDDBE8EA96F996FA96FB96FC96FD96FE9740974197429743E8E2E8E3E8E5B5B5E8E7C7C5E8EBE8EDBDB0D7AE9744E8F897459746974797489749974A974B974CE8F5974DCDB0E8F6974E974F9750975197529753975497559756C1BA9757E8E89758C3B7B0F09759975A975B975C975D975E975F9760E8F4976197629763E8F7976497659766B9A3976797689769976A976B976C976D976E976F9770C9D2977197729773C3CECEE0C0E69774977597769777CBF39778CCDDD0B59779977ACAE1977BE8F3977C977D977E9780978197829783978497859786BCEC9787E8F997889789978A978B978C978DC3DE978EC6E5978FB9F79790979197929793B0F497949795D7D897969797BCAC9798C5EF9799979A979B979C979DCCC4979E979FE9A697A097A197A297A397A497A597A697A797A897A9C9AD97AAE9A2C0E297AB97AC97ADBFC397AE97AF97B0E8FEB9D797B1E8FB97B297B397B497B5E9A497B697B797B8D2CE97B997BA97BB97BC97BDE9A397BED6B2D7B597BFE9A797C0BDB797C197C297C397C497C597C697C797C897C997CA97CB97CCE8FCE8FD97CD97CE97CFE9A197D097D197D297D397D497D597D697D7CDD697D897D9D2AC97DA97DB97DCE9B297DD97DE97DF97E0E9A997E197E297E3B4AA97E4B4BB97E597E6E9AB97E797E897E997EA97EB97EC97ED97EE97EF97F097F197F297F397F497F597F697F7D0A897F897F9E9A597FA97FBB3FE97FC97FDE9ACC0E397FEE9AA98409841E9B998429843E9B89844984598469847E9AE98489849E8FA984A984BE9A8984C984D984E984F9850BFACE9B1E9BA98519852C2A5985398549855E9AF9856B8C59857E9AD9858D3DCE9B4E9B5E9B79859985A985BE9C7985C985D985E985F98609861C0C6E9C598629863E9B098649865E9BBB0F19866986798689869986A986B986C986D986E986FE9BCD5A598709871E9BE9872E9BF987398749875E9C198769877C1F198789879C8B6987A987B987CE9BD987D987E988098819882E9C29883988498859886988798889889988AE9C3988BE9B3988CE9B6988DBBB1988E988F9890E9C0989198929893989498959896BCF7989798989899E9C4E9C6989A989B989C989D989E989F98A098A198A298A398A498A5E9CA98A698A798A898A9E9CE98AA98AB98AC98AD98AE98AF98B098B198B298B3B2DB98B4E9C898B598B698B798B898B998BA98BB98BC98BD98BEB7AE98BF98C098C198C298C398C498C598C698C798C898C998CAE9CBE9CC98CB98CC98CD98CE98CF98D0D5C198D1C4A398D298D398D498D598D698D7E9D898D8BAE198D998DA98DB98DCE9C998DDD3A398DE98DF98E0E9D498E198E298E398E498E598E698E7E9D7E9D098E898E998EA98EB98ECE9CF98ED98EEC7C198EF98F098F198F298F398F498F598F6E9D298F798F898F998FA98FB98FC98FDE9D9B3C898FEE9D399409941994299439944CFF0994599469947E9CD99489949994A994B994C994D994E994F995099519952B3F79953995499559956995799589959E9D6995A995BE9DA995C995D995ECCB4995F99609961CFAD99629963996499659966996799689969996AE9D5996BE9DCE9DB996C996D996E996F9970E9DE99719972997399749975997699779978E9D19979997A997B997C997D997E99809981E9DD9982E9DFC3CA9983998499859986998799889989998A998B998C998D998E998F9990999199929993999499959996999799989999999A999B999C999D999E999F99A099A199A299A399A499A599A699A799A899A999AA99AB99AC99AD99AE99AF99B099B199B299B399B499B599B699B799B899B999BA99BB99BC99BD99BE99BF99C099C199C299C399C499C599C699C799C899C999CA99CB99CC99CD99CE99CF99D099D199D299D399D499D599D699D799D899D999DA99DB99DC99DD99DE99DF99E099E199E299E399E499E599E699E799E899E999EA99EB99EC99ED99EE99EF99F099F199F299F399F499F5C7B7B4CEBBB6D0C0ECA399F699F7C5B799F899F999FA99FB99FC99FD99FE9A409A419A42D3FB9A439A449A459A46ECA49A47ECA5C6DB9A489A499A4ABFEE9A4B9A4C9A4D9A4EECA69A4F9A50ECA7D0AA9A51C7B89A529A53B8E89A549A559A569A579A589A599A5A9A5B9A5C9A5D9A5E9A5FECA89A609A619A629A639A649A659A669A67D6B9D5FDB4CBB2BDCEE4C6E79A689A69CDE19A6A9A6B9A6C9A6D9A6E9A6F9A709A719A729A739A749A759A769A77B4F59A78CBC0BCDF9A799A7A9A7B9A7CE9E2E9E3D1EAE9E59A7DB4F9E9E49A7ED1B3CAE2B2D09A80E9E89A819A829A839A84E9E6E9E79A859A86D6B39A879A889A89E9E9E9EA9A8A9A8B9A8C9A8D9A8EE9EB9A8F9A909A919A929A939A949A959A96E9EC9A979A989A999A9A9A9B9A9C9A9D9A9EECAFC5B9B6CE9A9FD2F39AA09AA19AA29AA39AA49AA59AA6B5EE9AA7BBD9ECB19AA89AA9D2E39AAA9AAB9AAC9AAD9AAECEE39AAFC4B89AB0C3BF9AB19AB2B6BED8B9B1C8B1CFB1D1C5FE9AB3B1D09AB4C3AB9AB59AB69AB79AB89AB9D5B19ABA9ABB9ABC9ABD9ABE9ABF9AC09AC1EBA4BAC19AC29AC39AC4CCBA9AC59AC69AC7EBA59AC8EBA79AC99ACA9ACBEBA89ACC9ACD9ACEEBA69ACF9AD09AD19AD29AD39AD49AD5EBA9EBABEBAA9AD69AD79AD89AD99ADAEBAC9ADBCACFD8B5C3F19ADCC3A5C6F8EBADC4CA9ADDEBAEEBAFEBB0B7D59ADE9ADF9AE0B7FA9AE1EBB1C7E29AE2EBB39AE3BAA4D1F5B0B1EBB2EBB49AE49AE59AE6B5AAC2C8C7E89AE7EBB59AE8CBAEE3DF9AE99AEAD3C09AEB9AEC9AED9AEED9DB9AEF9AF0CDA1D6ADC7F39AF19AF29AF3D9E0BBE39AF4BABAE3E29AF59AF69AF79AF89AF9CFAB9AFA9AFB9AFCE3E0C9C79AFDBAB99AFE9B409B41D1B4E3E1C8EAB9AFBDADB3D8CEDB9B429B43CCC09B449B459B46E3E8E3E9CDF49B479B489B499B4A9B4BCCAD9B4CBCB39B4DE3EA9B4EE3EB9B4F9B50D0DA9B519B529B53C6FBB7DA9B549B55C7DFD2CACED69B56E3E4E3EC9B57C9F2B3C19B589B59E3E79B5A9B5BC6E3E3E59B5C9B5DEDB3E3E69B5E9B5F9B609B61C9B39B62C5E69B639B649B65B9B59B66C3BB9B67E3E3C5BDC1A4C2D9B2D79B68E3EDBBA6C4AD9B69E3F0BEDA9B6A9B6BE3FBE3F5BAD39B6C9B6D9B6E9B6FB7D0D3CD9B70D6CED5D3B9C1D5B4D1D89B719B729B739B74D0B9C7F69B759B769B77C8AAB2B49B78C3DA9B799B7A9B7BE3EE9B7C9B7DE3FCE3EFB7A8E3F7E3F49B7E9B809B81B7BA9B829B83C5A29B84E3F6C5DDB2A8C6FC9B85C4E09B869B87D7A29B88C0E1E3F99B899B8AE3FAE3FDCCA9E3F39B8BD3BE9B8CB1C3EDB4E3F1E3F29B8DE3F8D0BAC6C3D4F3E3FE9B8E9B8FBDE09B909B91E4A79B929B93E4A69B949B959B96D1F3E4A39B97E4A99B989B999B9AC8F79B9B9B9C9B9D9B9ECFB49B9FE4A8E4AEC2E59BA09BA1B6B49BA29BA39BA49BA59BA69BA7BDF29BA8E4A29BA99BAABAE9E4AA9BAB9BACE4AC9BAD9BAEB6FDD6DEE4B29BAFE4AD9BB09BB19BB2E4A19BB3BBEECDDDC7A2C5C99BB49BB5C1F79BB6E4A49BB7C7B3BDACBDBDE4A59BB8D7C7B2E29BB9E4ABBCC3E4AF9BBABBEBE4B0C5A8E4B19BBB9BBC9BBD9BBED5E3BFA39BBFE4BA9BC0E4B79BC1E4BB9BC29BC3E4BD9BC49BC5C6D69BC69BC7BAC6C0CB9BC89BC99BCAB8A1E4B49BCB9BCC9BCD9BCED4A19BCF9BD0BAA3BDFE9BD19BD29BD3E4BC9BD49BD59BD69BD79BD8CDBF9BD99BDAC4F99BDB9BDCCFFBC9E69BDD9BDED3BF9BDFCFD19BE09BE1E4B39BE2E4B8E4B9CCE99BE39BE49BE59BE69BE7CCCE9BE8C0D4E4B5C1B0E4B6CED09BE9BBC1B5D39BEAC8F3BDA7D5C7C9ACB8A2E4CA9BEB9BECE4CCD1C49BED9BEED2BA9BEF9BF0BAAD9BF19BF2BAD49BF39BF49BF59BF69BF79BF8E4C3B5ED9BF99BFA9BFBD7CDE4C0CFFDE4BF9BFC9BFD9BFEC1DCCCCA9C409C419C429C43CAE79C449C459C469C47C4D79C48CCD4E4C89C499C4A9C4BE4C7E4C19C4CE4C4B5AD9C4D9C4ED3D99C4FE4C69C509C519C529C53D2F9B4E39C54BBB49C559C56C9EE9C57B4BE9C589C599C5ABBEC9C5BD1CD9C5CCCEDEDB59C5D9C5E9C5F9C609C619C629C639C64C7E59C659C669C679C68D4A89C69E4CBD7D5E4C29C6ABDA5E4C59C6B9C6CD3E69C6DE4C9C9F89C6E9C6FE4BE9C709C71D3E59C729C73C7FEB6C99C74D4FCB2B3E4D79C759C769C77CEC29C78E4CD9C79CEBC9C7AB8DB9C7B9C7CE4D69C7DBFCA9C7E9C809C81D3CE9C82C3EC9C839C849C859C869C879C889C899C8AC5C8E4D89C8B9C8C9C8D9C8E9C8F9C909C919C92CDC4E4CF9C939C949C959C96E4D4E4D59C97BAFE9C98CFE69C999C9AD5BF9C9B9C9C9C9DE4D29C9E9C9F9CA09CA19CA29CA39CA49CA59CA69CA79CA8E4D09CA99CAAE4CE9CAB9CAC9CAD9CAE9CAF9CB09CB19CB29CB39CB49CB59CB69CB79CB89CB9CDE5CAAA9CBA9CBB9CBCC0A39CBDBDA6E4D39CBE9CBFB8C89CC09CC19CC29CC39CC4E4E7D4B49CC59CC69CC79CC89CC99CCA9CCBE4DB9CCC9CCD9CCEC1EF9CCF9CD0E4E99CD19CD2D2E79CD39CD4E4DF9CD5E4E09CD69CD7CFAA9CD89CD99CDA9CDBCBDD9CDCE4DAE4D19CDDE4E59CDEC8DCE4E39CDF9CE0C4E7E4E29CE1E4E19CE29CE39CE4B3FCE4E89CE59CE69CE79CE8B5E19CE99CEA9CEBD7CC9CEC9CED9CEEE4E69CEFBBAC9CF0D7D2CCCFEBF89CF1E4E49CF29CF3B9F69CF49CF59CF6D6CDE4D9E4DCC2FAE4DE9CF7C2CBC0C4C2D09CF8B1F5CCB29CF99CFA9CFB9CFC9CFD9CFE9D409D419D429D43B5CE9D449D459D469D47E4EF9D489D499D4A9D4B9D4C9D4D9D4E9D4FC6AF9D509D519D52C6E19D539D54E4F59D559D569D579D589D59C2A99D5A9D5B9D5CC0ECD1DDE4EE9D5D9D5E9D5F9D609D619D629D639D649D659D66C4AE9D679D689D69E4ED9D6A9D6B9D6C9D6DE4F6E4F4C2FE9D6EE4DD9D6FE4F09D70CAFE9D71D5C49D729D73E4F19D749D759D769D779D789D799D7AD1FA9D7B9D7C9D7D9D7E9D809D819D82E4EBE4EC9D839D849D85E4F29D86CEAB9D879D889D899D8A9D8B9D8C9D8D9D8E9D8F9D90C5CB9D919D929D93C7B19D94C2BA9D959D969D97E4EA9D989D999D9AC1CA9D9B9D9C9D9D9D9E9D9F9DA0CCB6B3B19DA19DA29DA3E4FB9DA4E4F39DA59DA69DA7E4FA9DA8E4FD9DA9E4FC9DAA9DAB9DAC9DAD9DAE9DAF9DB0B3CE9DB19DB29DB3B3BAE4F79DB49DB5E4F9E4F8C5EC9DB69DB79DB89DB99DBA9DBB9DBC9DBD9DBE9DBF9DC09DC19DC2C0BD9DC39DC49DC59DC6D4E89DC79DC89DC99DCA9DCBE5A29DCC9DCD9DCE9DCF9DD09DD19DD29DD39DD49DD59DD6B0C49DD79DD8E5A49DD99DDAE5A39DDB9DDC9DDD9DDE9DDF9DE0BCA49DE1E5A59DE29DE39DE49DE59DE69DE7E5A19DE89DE99DEA9DEB9DEC9DED9DEEE4FEB1F49DEF9DF09DF19DF29DF39DF49DF59DF69DF79DF89DF9E5A89DFAE5A9E5A69DFB9DFC9DFD9DFE9E409E419E429E439E449E459E469E47E5A7E5AA9E489E499E4A9E4B9E4C9E4D9E4E9E4F9E509E519E529E539E549E559E569E579E589E599E5A9E5B9E5C9E5D9E5E9E5F9E609E619E629E639E649E659E669E679E68C6D99E699E6A9E6B9E6C9E6D9E6E9E6F9E70E5ABE5AD9E719E729E739E749E759E769E77E5AC9E789E799E7A9E7B9E7C9E7D9E7E9E809E819E829E839E849E859E869E879E889E89E5AF9E8A9E8B9E8CE5AE9E8D9E8E9E8F9E909E919E929E939E949E959E969E979E989E999E9A9E9B9E9C9E9D9E9EB9E09E9F9EA0E5B09EA19EA29EA39EA49EA59EA69EA79EA89EA99EAA9EAB9EAC9EAD9EAEE5B19EAF9EB09EB19EB29EB39EB49EB59EB69EB79EB89EB99EBABBF0ECE1C3F09EBBB5C6BBD29EBC9EBD9EBE9EBFC1E9D4EE9EC0BEC49EC19EC29EC3D7C69EC4D4D6B2D3ECBE9EC59EC69EC79EC8EAC19EC99ECA9ECBC2AFB4B69ECC9ECD9ECED1D79ECF9ED09ED1B3B49ED2C8B2BFBBECC09ED39ED4D6CB9ED59ED6ECBFECC19ED79ED89ED99EDA9EDB9EDC9EDD9EDE9EDF9EE09EE19EE29EE3ECC5BEE6CCBFC5DABEBC9EE4ECC69EE5B1FE9EE69EE79EE8ECC4D5A8B5E39EE9ECC2C1B6B3E39EEA9EEBECC3CBB8C0C3CCFE9EEC9EED9EEE9EEFC1D29EF0ECC89EF19EF29EF39EF49EF59EF69EF79EF89EF99EFA9EFB9EFC9EFDBAE6C0D39EFED6F29F409F419F42D1CC9F439F449F459F46BFBE9F47B7B3C9D5ECC7BBE29F48CCCCBDFDC8C89F49CFA99F4A9F4B9F4C9F4D9F4E9F4F9F50CDE99F51C5EB9F529F539F54B7E99F559F569F579F589F599F5A9F5B9F5C9F5D9F5E9F5FD1C9BAB89F609F619F629F639F64ECC99F659F66ECCA9F67BBC0ECCB9F68ECE2B1BAB7D99F699F6A9F6B9F6C9F6D9F6E9F6F9F709F719F729F73BDB99F749F759F769F779F789F799F7A9F7BECCCD1E6ECCD9F7C9F7D9F7E9F80C8BB9F819F829F839F849F859F869F879F889F899F8A9F8B9F8C9F8D9F8EECD19F8F9F909F919F92ECD39F93BBCD9F94BCE59F959F969F979F989F999F9A9F9B9F9C9F9D9F9E9F9F9FA09FA1ECCF9FA2C9B79FA39FA49FA59FA69FA7C3BA9FA8ECE3D5D5ECD09FA99FAA9FAB9FAC9FADD6F39FAE9FAF9FB0ECD2ECCE9FB19FB29FB39FB4ECD49FB5ECD59FB69FB7C9BF9FB89FB99FBA9FBB9FBC9FBDCFA89FBE9FBF9FC09FC19FC2D0DC9FC39FC49FC59FC6D1AC9FC79FC89FC99FCAC8DB9FCB9FCC9FCDECD6CEF59FCE9FCF9FD09FD19FD2CAECECDA9FD39FD49FD59FD69FD79FD89FD9ECD99FDA9FDB9FDCB0BE9FDD9FDE9FDF9FE09FE19FE2ECD79FE3ECD89FE49FE59FE6ECE49FE79FE89FE99FEA9FEB9FEC9FED9FEE9FEFC8BC9FF09FF19FF29FF39FF49FF59FF69FF79FF89FF9C1C79FFA9FFB9FFC9FFD9FFEECDCD1E0A040A041A042A043A044A045A046A047A048A049ECDBA04AA04BA04CA04DD4EFA04EECDDA04FA050A051A052A053A054DBC6A055A056A057A058A059A05AA05BA05CA05DA05EECDEA05FA060A061A062A063A064A065A066A067A068A069A06AB1ACA06BA06CA06DA06EA06FA070A071A072A073A074A075A076A077A078A079A07AA07BA07CA07DA07EA080A081ECDFA082A083A084A085A086A087A088A089A08AA08BECE0A08CD7A6A08DC5C0A08EA08FA090EBBCB0AEA091A092A093BEF4B8B8D2AFB0D6B5F9A094D8B3A095CBACA096E3DDA097A098A099A09AA09BA09CA09DC6ACB0E6A09EA09FA0A0C5C6EBB9A0A1A0A2A0A3A0A4EBBAA0A5A0A6A0A7EBBBA0A8A0A9D1C0A0AAC5A3A0ABEAF2A0ACC4B2A0ADC4B5C0CEA0AEA0AFA0B0EAF3C4C1A0B1CEEFA0B2A0B3A0B4A0B5EAF0EAF4A0B6A0B7C9FCA0B8A0B9C7A3A0BAA0BBA0BCCCD8CEFEA0BDA0BEA0BFEAF5EAF6CFACC0E7A0C0A0C1EAF7A0C2A0C3A0C4A0C5A0C6B6BFEAF8A0C7EAF9A0C8EAFAA0C9A0CAEAFBA0CBA0CCA0CDA0CEA0CFA0D0A0D1A0D2A0D3A0D4A0D5A0D6EAF1A0D7A0D8A0D9A0DAA0DBA0DCA0DDA0DEA0DFA0E0A0E1A0E2C8AEE1EBA0E3B7B8E1ECA0E4A0E5A0E6E1EDA0E7D7B4E1EEE1EFD3CCA0E8A0E9A0EAA0EBA0ECA0EDA0EEE1F1BFF1E1F0B5D2A0EFA0F0A0F1B1B7A0F2A0F3A0F4A0F5E1F3E1F2A0F6BAFCA0F7E1F4A0F8A0F9A0FAA0FBB9B7A0FCBED1A0FDA0FEAA40AA41C4FCAA42BADDBDC6AA43AA44AA45AA46AA47AA48E1F5E1F7AA49AA4AB6C0CFC1CAA8E1F6D5F8D3FCE1F8E1FCE1F9AA4BAA4CE1FAC0EAAA4DE1FEE2A1C0C7AA4EAA4FAA50AA51E1FBAA52E1FDAA53AA54AA55AA56AA57AA58E2A5AA59AA5AAA5BC1D4AA5CAA5DAA5EAA5FE2A3AA60E2A8B2FEE2A2AA61AA62AA63C3CDB2C2E2A7E2A6AA64AA65E2A4E2A9AA66AA67E2ABAA68AA69AA6AD0C9D6EDC3A8E2ACAA6BCFD7AA6CAA6DE2AEAA6EAA6FBAEFAA70AA71E9E0E2ADE2AAAA72AA73AA74AA75BBABD4B3AA76AA77AA78AA79AA7AAA7BAA7CAA7DAA7EAA80AA81AA82AA83E2B0AA84AA85E2AFAA86E9E1AA87AA88AA89AA8AE2B1AA8BAA8CAA8DAA8EAA8FAA90AA91AA92E2B2AA93AA94AA95AA96AA97AA98AA99AA9AAA9BAA9CAA9DE2B3CCA1AA9EE2B4AA9FAAA0AB40AB41AB42AB43AB44AB45AB46AB47AB48AB49AB4AAB4BE2B5AB4CAB4DAB4EAB4FAB50D0FEAB51AB52C2CAAB53D3F1AB54CDF5AB55AB56E7E0AB57AB58E7E1AB59AB5AAB5BAB5CBEC1AB5DAB5EAB5FAB60C2EAAB61AB62AB63E7E4AB64AB65E7E3AB66AB67AB68AB69AB6AAB6BCDE6AB6CC3B5AB6DAB6EE7E2BBB7CFD6AB6FC1E1E7E9AB70AB71AB72E7E8AB73AB74E7F4B2A3AB75AB76AB77AB78E7EAAB79E7E6AB7AAB7BAB7CAB7DAB7EE7ECE7EBC9BAAB80AB81D5E4AB82E7E5B7A9E7E7AB83AB84AB85AB86AB87AB88AB89E7EEAB8AAB8BAB8CAB8DE7F3AB8ED6E9AB8FAB90AB91AB92E7EDAB93E7F2AB94E7F1AB95AB96AB97B0E0AB98AB99AB9AAB9BE7F5AB9CAB9DAB9EAB9FABA0AC40AC41AC42AC43AC44AC45AC46AC47AC48AC49AC4AC7F2AC4BC0C5C0EDAC4CAC4DC1F0E7F0AC4EAC4FAC50AC51E7F6CBF6AC52AC53AC54AC55AC56AC57AC58AC59AC5AE8A2E8A1AC5BAC5CAC5DAC5EAC5FAC60D7C1AC61AC62E7FAE7F9AC63E7FBAC64E7F7AC65E7FEAC66E7FDAC67E7FCAC68AC69C1D5C7D9C5FDC5C3AC6AAC6BAC6CAC6DAC6EC7EDAC6FAC70AC71AC72E8A3AC73AC74AC75AC76AC77AC78AC79AC7AAC7BAC7CAC7DAC7EAC80AC81AC82AC83AC84AC85AC86E8A6AC87E8A5AC88E8A7BAF7E7F8E8A4AC89C8F0C9AAAC8AAC8BAC8CAC8DAC8EAC8FAC90AC91AC92AC93AC94AC95AC96E8A9AC97AC98B9E5AC99AC9AAC9BAC9CAC9DD1FEE8A8AC9EAC9FACA0AD40AD41AD42E8AAAD43E8ADE8AEAD44C1A7AD45AD46AD47E8AFAD48AD49AD4AE8B0AD4BAD4CE8ACAD4DE8B4AD4EAD4FAD50AD51AD52AD53AD54AD55AD56AD57AD58E8ABAD59E8B1AD5AAD5BAD5CAD5DAD5EAD5FAD60AD61E8B5E8B2E8B3AD62AD63AD64AD65AD66AD67AD68AD69AD6AAD6BAD6CAD6DAD6EAD6FAD70AD71E8B7AD72AD73AD74AD75AD76AD77AD78AD79AD7AAD7BAD7CAD7DAD7EAD80AD81AD82AD83AD84AD85AD86AD87AD88AD89E8B6AD8AAD8BAD8CAD8DAD8EAD8FAD90AD91AD92B9CFAD93F0ACAD94F0ADAD95C6B0B0EAC8BFAD96CDDFAD97AD98AD99AD9AAD9BAD9CAD9DCECDEAB1AD9EAD9FADA0AE40EAB2AE41C6BFB4C9AE42AE43AE44AE45AE46AE47AE48EAB3AE49AE4AAE4BAE4CD5E7AE4DAE4EAE4FAE50AE51AE52AE53AE54DDF9AE55EAB4AE56EAB5AE57EAB6AE58AE59AE5AAE5BB8CADFB0C9F5AE5CCCF0AE5DAE5EC9FAAE5FAE60AE61AE62AE63C9FBAE64AE65D3C3CBA6AE66B8A6F0AEB1C2AE67E5B8CCEFD3C9BCD7C9EAAE68B5E7AE69C4D0B5E9AE6AEEAEBBADAE6BAE6CE7DEAE6DEEAFAE6EAE6FAE70AE71B3A9AE72AE73EEB2AE74AE75EEB1BDE7AE76EEB0CEB7AE77AE78AE79AE7AC5CFAE7BAE7CAE7DAE7EC1F4DBCEEEB3D0F3AE80AE81AE82AE83AE84AE85AE86AE87C2D4C6E8AE88AE89AE8AB7ACAE8BAE8CAE8DAE8EAE8FAE90AE91EEB4AE92B3EBAE93AE94AE95BBFBEEB5AE96AE97AE98AE99AE9AE7DCAE9BAE9CAE9DEEB6AE9EAE9FBDAEAEA0AF40AF41AF42F1E2AF43AF44AF45CAE8AF46D2C9F0DAAF47F0DBAF48F0DCC1C6AF49B8EDBECEAF4AAF4BF0DEAF4CC5B1F0DDD1F1AF4DF0E0B0CCBDEAAF4EAF4FAF50AF51AF52D2DFF0DFAF53B4AFB7E8F0E6F0E5C6A3F0E1F0E2B4C3AF54AF55F0E3D5EEAF56AF57CCDBBED2BCB2AF58AF59AF5AF0E8F0E7F0E4B2A1AF5BD6A2D3B8BEB7C8ACAF5CAF5DF0EAAF5EAF5FAF60AF61D1F7AF62D6CCBADBF0E9AF63B6BBAF64AF65CDB4AF66AF67C6A6AF68AF69AF6AC1A1F0EBF0EEAF6BF0EDF0F0F0ECAF6CBBBEF0EFAF6DAF6EAF6FAF70CCB5F0F2AF71AF72B3D5AF73AF74AF75AF76B1D4AF77AF78F0F3AF79AF7AF0F4F0F6B4E1AF7BF0F1AF7CF0F7AF7DAF7EAF80AF81F0FAAF82F0F8AF83AF84AF85F0F5AF86AF87AF88AF89F0FDAF8AF0F9F0FCF0FEAF8BF1A1AF8CAF8DAF8ECEC1F1A4AF8FF1A3AF90C1F6F0FBCADDAF91AF92B4F1B1F1CCB1AF93F1A6AF94AF95F1A7AF96AF97F1ACD5CEF1A9AF98AF99C8B3AF9AAF9BAF9CF1A2AF9DF1ABF1A8F1A5AF9EAF9FF1AAAFA0B040B041B042B043B044B045B046B0A9F1ADB047B048B049B04AB04BB04CF1AFB04DF1B1B04EB04FB050B051B052F1B0B053F1AEB054B055B056B057D1A2B058B059B05AB05BB05CB05DB05EF1B2B05FB060B061F1B3B062B063B064B065B066B067B068B069B9EFB06AB06BB5C7B06CB0D7B0D9B06DB06EB06FD4EDB070B5C4B071BDD4BBCAF0A7B072B073B8DEB074B075F0A8B076B077B0A8B078F0A9B079B07ACDEEB07BB07CF0AAB07DB07EB080B081B082B083B084B085B086B087F0ABB088B089B08AB08BB08CB08DB08EB08FB090C6A4B091B092D6E5F1E4B093F1E5B094B095B096B097B098B099B09AB09BB09CB09DC3F3B09EB09FD3DBB0A0B140D6D1C5E8B141D3AFB142D2E6B143B144EEC1B0BBD5B5D1CEBCE0BAD0B145BFF8B146B8C7B5C1C5CCB147B148CAA2B149B14AB14BC3CBB14CB14DB14EB14FB150EEC2B151B152B153B154B155B156B157B158C4BFB6A2B159EDECC3A4B15AD6B1B15BB15CB15DCFE0EDEFB15EB15FC5CEB160B6DCB161B162CAA1B163B164EDEDB165B166EDF0EDF1C3BCB167BFB4B168EDEEB169B16AB16BB16CB16DB16EB16FB170B171B172B173EDF4EDF2B174B175B176B177D5E6C3DFB178EDF3B179B17AB17BEDF6B17CD5A3D1A3B17DB17EB180EDF5B181C3D0B182B183B184B185B186EDF7BFF4BEECEDF8B187CCF7B188D1DBB189B18AB18BD7C5D5F6B18CEDFCB18DB18EB18FEDFBB190B191B192B193B194B195B196B197EDF9EDFAB198B199B19AB19BB19CB19DB19EB19FEDFDBEA6B1A0B240B241B242B243CBAFEEA1B6BDB244EEA2C4C0B245EDFEB246B247BDDEB2C7B248B249B24AB24BB24CB24DB24EB24FB250B251B252B253B6C3B254B255B256EEA5D8BAEEA3EEA6B257B258B259C3E9B3F2B25AB25BB25CB25DB25EB25FEEA7EEA4CFB9B260B261EEA8C2F7B262B263B264B265B266B267B268B269B26AB26BB26CB26DEEA9EEAAB26EDEABB26FB270C6B3B271C7C6B272D6F5B5C9B273CBB2B274B275B276EEABB277B278CDABB279EEACB27AB27BB27CB27DB27ED5B0B280EEADB281F6C4B282B283B284B285B286B287B288B289B28AB28BB28CB28DB28EDBC7B28FB290B291B292B293B294B295B296B297B4A3B298B299B29AC3ACF1E6B29BB29CB29DB29EB29FCAB8D2D3B2A0D6AAB340EFF2B341BED8B342BDC3EFF3B6CCB0ABB343B344B345B346CAAFB347B348EDB6B349EDB7B34AB34BB34CB34DCEF9B7AFBFF3EDB8C2EBC9B0B34EB34FB350B351B352B353EDB9B354B355C6F6BFB3B356B357B358EDBCC5F8B359D1D0B35AD7A9EDBAEDBBB35BD1E2B35CEDBFEDC0B35DEDC4B35EB35FB360EDC8B361EDC6EDCED5E8B362EDC9B363B364EDC7EDBEB365B366C5E9B367B368B369C6C6B36AB36BC9E9D4D2EDC1EDC2EDC3EDC5B36CC0F9B36DB4A1B36EB36FB370B371B9E8B372EDD0B373B374B375B376EDD1B377EDCAB378EDCFB379CEF8B37AB37BCBB6EDCCEDCDB37CB37DB37EB380B381CFF5B382B383B384B385B386B387B388B389B38AB38BB38CB38DEDD2C1F2D3B2EDCBC8B7B38EB38FB390B391B392B393B394B395BCEFB396B397B398B399C5F0B39AB39BB39CB39DB39EB39FB3A0B440B441B442EDD6B443B5EFB444B445C2B5B0ADCBE9B446B447B1AEB448EDD4B449B44AB44BCDEBB5E2B44CEDD5EDD3EDD7B44DB44EB5FAB44FEDD8B450EDD9B451EDDCB452B1CCB453B454B455B456B457B458B459B45AC5F6BCEEEDDACCBCB2EAB45BB45CB45DB45EEDDBB45FB460B461B462C4EBB463B464B4C5B465B466B467B0F5B468B469B46AEDDFC0DAB4E8B46BB46CB46DB46EC5CDB46FB470B471EDDDBFC4B472B473B474EDDEB475B476B477B478B479B47AB47BB47CB47DB47EB480B481B482B483C4A5B484B485B486EDE0B487B488B489B48AB48BEDE1B48CEDE3B48DB48EC1D7B48FB490BBC7B491B492B493B494B495B496BDB8B497B498B499EDE2B49AB49BB49CB49DB49EB49FB4A0B540B541B542B543B544B545EDE4B546B547B548B549B54AB54BB54CB54DB54EB54FEDE6B550B551B552B553B554EDE5B555B556B557B558B559B55AB55BB55CB55DB55EB55FB560B561B562B563EDE7B564B565B566B567B568CABEECEAC0F1B569C9E7B56AECEBC6EEB56BB56CB56DB56EECECB56FC6EDECEDB570B571B572B573B574B575B576B577B578ECF0B579B57AD7E6ECF3B57BB57CECF1ECEEECEFD7A3C9F1CBEEECF4B57DECF2B57EB580CFE9B581ECF6C6B1B582B583B584B585BCC0B586ECF5B587B588B589B58AB58BB58CB58DB5BBBBF6B58EECF7B58FB590B591B592B593D9F7BDFBB594B595C2BBECF8B596B597B598B599ECF9B59AB59BB59CB59DB8A3B59EB59FB5A0B640B641B642B643B644B645B646ECFAB647B648B649B64AB64BB64CB64DB64EB64FB650B651B652ECFBB653B654B655B656B657B658B659B65AB65BB65CB65DECFCB65EB65FB660B661B662D3EDD8AEC0EBB663C7DDBACCB664D0E3CBBDB665CDBAB666B667B8D1B668B669B1FCB66AC7EFB66BD6D6B66CB66DB66EBFC6C3EBB66FB670EFF5B671B672C3D8B673B674B675B676B677B678D7E2B679B67AB67BEFF7B3D3B67CC7D8D1EDB67DD6C8B67EEFF8B680EFF6B681BBFDB3C6B682B683B684B685B686B687B688BDD5B689B68AD2C6B68BBBE0B68CB68DCFA1B68EEFFCEFFBB68FB690EFF9B691B692B693B694B3CCB695C9D4CBB0B696B697B698B699B69AEFFEB69BB69CB0DEB69DB69ED6C9B69FB6A0B740EFFDB741B3EDB742B743F6D5B744B745B746B747B748B749B74AB74BB74CB74DB74EB74FB750B751B752CEC8B753B754B755F0A2B756F0A1B757B5BEBCDABBFCB758B8E5B759B75AB75BB75CB75DB75EC4C2B75FB760B761B762B763B764B765B766B767B768F0A3B769B76AB76BB76CB76DCBEBB76EB76FB770B771B772B773B774B775B776B777B778B779B77AB77BB77CB77DB77EB780B781B782B783B784B785B786F0A6B787B788B789D1A8B78ABEBFC7EEF1B6F1B7BFD5B78BB78CB78DB78EB4A9F1B8CDBBB78FC7D4D5ADB790F1B9B791F1BAB792B793B794B795C7CFB796B797B798D2A4D6CFB799B79AF1BBBDD1B4B0BEBDB79BB79CB79DB4DCCED1B79EBFDFF1BDB79FB7A0B840B841BFFAF1BCB842F1BFB843B844B845F1BEF1C0B846B847B848B849B84AF1C1B84BB84CB84DB84EB84FB850B851B852B853B854B855C1FEB856B857B858B859B85AB85BB85CB85DB85EB85FB860C1A2B861B862B863B864B865B866B867B868B869B86ACAFAB86BB86CD5BEB86DB86EB86FB870BEBABEB9D5C2B871B872BFA2B873CDAFF1B5B874B875B876B877B878B879BDDFB87AB6CBB87BB87CB87DB87EB880B881B882B883B884D6F1F3C3B885B886F3C4B887B8CDB888B889B88AF3C6F3C7B88BB0CAB88CF3C5B88DF3C9CBF1B88EB88FB890F3CBB891D0A6B892B893B1CAF3C8B894B895B896F3CFB897B5D1B898B899F3D7B89AF3D2B89BB89CB89DF3D4F3D3B7FBB89EB1BFB89FF3CEF3CAB5DAB8A0F3D0B940B941F3D1B942F3D5B943B944B945B946F3CDB947BCE3B948C1FDB949F3D6B94AB94BB94CB94DB94EB94FF3DAB950F3CCB951B5C8B952BDEEF3DCB953B954B7A4BFF0D6FECDB2B955B4F0B956B2DFB957F3D8B958F3D9C9B8B959F3DDB95AB95BF3DEB95CF3E1B95DB95EB95FB960B961B962B963B964B965B966B967F3DFB968B969F3E3F3E2B96AB96BF3DBB96CBFEAB96DB3EFB96EF3E0B96FB970C7A9B971BCF2B972B973B974B975F3EBB976B977B978B979B97AB97BB97CB9BFB97DB97EF3E4B980B981B982B2ADBBFEB983CBE3B984B985B986B987F3EDF3E9B988B989B98AB9DCF3EEB98BB98CB98DF3E5F3E6F3EAC2E1F3ECF3EFF3E8BCFDB98EB98FB990CFE4B991B992F3F0B993B994B995F3E7B996B997B998B999B99AB99BB99CB99DF3F2B99EB99FB9A0BA40D7ADC6AABA41BA42BA43BA44F3F3BA45BA46BA47BA48F3F1BA49C2A8BA4ABA4BBA4CBA4DBA4EB8DDF3F5BA4FBA50F3F4BA51BA52BA53B4DBBA54BA55BA56F3F6F3F7BA57BA58BA59F3F8BA5ABA5BBA5CC0BABA5DBA5EC0E9BA5FBA60BA61BA62BA63C5F1BA64BA65BA66BA67F3FBBA68F3FABA69BA6ABA6BBA6CBA6DBA6EBA6FBA70B4D8BA71BA72BA73F3FEF3F9BA74BA75F3FCBA76BA77BA78BA79BA7ABA7BF3FDBA7CBA7DBA7EBA80BA81BA82BA83BA84F4A1BA85BA86BA87BA88BA89BA8AF4A3BBC9BA8BBA8CF4A2BA8DBA8EBA8FBA90BA91BA92BA93BA94BA95BA96BA97BA98BA99F4A4BA9ABA9BBA9CBA9DBA9EBA9FB2BEF4A6F4A5BAA0BB40BB41BB42BB43BB44BB45BB46BB47BB48BB49BCAEBB4ABB4BBB4CBB4DBB4EBB4FBB50BB51BB52BB53BB54BB55BB56BB57BB58BB59BB5ABB5BBB5CBB5DBB5EBB5FBB60BB61BB62BB63BB64BB65BB66BB67BB68BB69BB6ABB6BBB6CBB6DBB6EC3D7D9E1BB6FBB70BB71BB72BB73BB74C0E0F4CCD7D1BB75BB76BB77BB78BB79BB7ABB7BBB7CBB7DBB7EBB80B7DBBB81BB82BB83BB84BB85BB86BB87F4CEC1A3BB88BB89C6C9BB8AB4D6D5B3BB8BBB8CBB8DF4D0F4CFF4D1CBDABB8EBB8FF4D2BB90D4C1D6E0BB91BB92BB93BB94B7E0BB95BB96BB97C1B8BB98BB99C1BBF4D3BEACBB9ABB9BBB9CBB9DBB9EB4E2BB9FBBA0F4D4F4D5BEABBC40BC41F4D6BC42BC43BC44F4DBBC45F4D7F4DABC46BAFDBC47F4D8F4D9BC48BC49BC4ABC4BBC4CBC4DBC4EB8E2CCC7F4DCBC4FB2DABC50BC51C3D3BC52BC53D4E3BFB7BC54BC55BC56BC57BC58BC59BC5AF4DDBC5BBC5CBC5DBC5EBC5FBC60C5B4BC61BC62BC63BC64BC65BC66BC67BC68F4E9BC69BC6ACFB5BC6BBC6CBC6DBC6EBC6FBC70BC71BC72BC73BC74BC75BC76BC77BC78CEC9BC79BC7ABC7BBC7CBC7DBC7EBC80BC81BC82BC83BC84BC85BC86BC87BC88BC89BC8ABC8BBC8CBC8DBC8ECBD8BC8FCBF7BC90BC91BC92BC93BDF4BC94BC95BC96D7CFBC97BC98BC99C0DBBC9ABC9BBC9CBC9DBC9EBC9FBCA0BD40BD41BD42BD43BD44BD45BD46BD47BD48BD49BD4ABD4BBD4CBD4DBD4EBD4FBD50BD51BD52BD53BD54BD55BD56BD57BD58BD59BD5ABD5BBD5CBD5DBD5EBD5FBD60BD61BD62BD63BD64BD65BD66BD67BD68BD69BD6ABD6BBD6CBD6DBD6EBD6FBD70BD71BD72BD73BD74BD75BD76D0F5BD77BD78BD79BD7ABD7BBD7CBD7DBD7EF4EABD80BD81BD82BD83BD84BD85BD86BD87BD88BD89BD8ABD8BBD8CBD8DBD8EBD8FBD90BD91BD92BD93BD94BD95BD96BD97BD98BD99BD9ABD9BBD9CBD9DBD9EBD9FBDA0BE40BE41BE42BE43BE44BE45BE46BE47BE48BE49BE4ABE4BBE4CF4EBBE4DBE4EBE4FBE50BE51BE52BE53F4ECBE54BE55BE56BE57BE58BE59BE5ABE5BBE5CBE5DBE5EBE5FBE60BE61BE62BE63BE64BE65BE66BE67BE68BE69BE6ABE6BBE6CBE6DBE6EBE6FBE70BE71BE72BE73BE74BE75BE76BE77BE78BE79BE7ABE7BBE7CBE7DBE7EBE80BE81BE82BE83BE84BE85BE86BE87BE88BE89BE8ABE8BBE8CBE8DBE8EBE8FBE90BE91BE92BE93BE94BE95BE96BE97BE98BE99BE9ABE9BBE9CBE9DBE9EBE9FBEA0BF40BF41BF42BF43BF44BF45BF46BF47BF48BF49BF4ABF4BBF4CBF4DBF4EBF4FBF50BF51BF52BF53BF54BF55BF56BF57BF58BF59BF5ABF5BBF5CBF5DBF5EBF5FBF60BF61BF62BF63BF64BF65BF66BF67BF68BF69BF6ABF6BBF6CBF6DBF6EBF6FBF70BF71BF72BF73BF74BF75BF76BF77BF78BF79BF7ABF7BBF7CBF7DBF7EBF80F7E3BF81BF82BF83BF84BF85B7B1BF86BF87BF88BF89BF8AF4EDBF8BBF8CBF8DBF8EBF8FBF90BF91BF92BF93BF94BF95BF96BF97BF98BF99BF9ABF9BBF9CBF9DBF9EBF9FBFA0C040C041C042C043C044C045C046C047C048C049C04AC04BC04CC04DC04EC04FC050C051C052C053C054C055C056C057C058C059C05AC05BC05CC05DC05EC05FC060C061C062C063D7EBC064C065C066C067C068C069C06AC06BC06CC06DC06EC06FC070C071C072C073C074C075C076C077C078C079C07AC07BF4EEC07CC07DC07EE6F9BEC0E6FABAECE6FBCFCBE6FCD4BCBCB6E6FDE6FEBCCDC8D2CEB3E7A1C080B4BFE7A2C9B4B8D9C4C9C081D7DDC2DAB7D7D6BDCEC6B7C4C082C083C5A6E7A3CFDFE7A4E7A5E7A6C1B7D7E9C9F0CFB8D6AFD6D5E7A7B0EDE7A8E7A9C9DCD2EFBEADE7AAB0F3C8DEBDE1E7ABC8C6C084E7ACBBE6B8F8D1A4E7ADC2E7BEF8BDCACDB3E7AEE7AFBEEED0E5C085CBE7CCD0BCCCE7B0BCA8D0F7E7B1C086D0F8E7B2E7B3B4C2E7B4E7B5C9FECEACC3E0E7B7B1C1B3F1C087E7B8E7B9D7DBD5C0E7BAC2CCD7BAE7BBE7BCE7BDBCEAC3E5C0C2E7BEE7BFBCA9C088E7C0E7C1E7B6B6D0E7C2C089E7C3E7C4BBBAB5DEC2C6B1E0E7C5D4B5E7C6B8BFE7C8E7C7B7ECC08AE7C9B2F8E7CAE7CBE7CCE7CDE7CEE7CFE7D0D3A7CBF5E7D1E7D2E7D3E7D4C9C9E7D5E7D6E7D7E7D8E7D9BDC9E7DAF3BEC08BB8D7C08CC8B1C08DC08EC08FC090C091C092C093F3BFC094F3C0F3C1C095C096C097C098C099C09AC09BC09CC09DC09EB9DECDF8C09FC0A0D8E8BAB1C140C2DEEEB7C141B7A3C142C143C144C145EEB9C146EEB8B0D5C147C148C149C14AC14BEEBBD5D6D7EFC14CC14DC14ED6C3C14FC150EEBDCAF0C151EEBCC152C153C154C155EEBEC156C157C158C159EEC0C15AC15BEEBFC15CC15DC15EC15FC160C161C162C163D1F2C164C7BCC165C3C0C166C167C168C169C16AB8E1C16BC16CC16DC16EC16FC1E7C170C171F4C6D0DFF4C7C172CFDBC173C174C8BAC175C176F4C8C177C178C179C17AC17BC17CC17DF4C9F4CAC17EF4CBC180C181C182C183C184D9FAB8FEC185C186E5F1D3F0C187F4E0C188CECCC189C18AC18BB3E1C18CC18DC18EC18FF1B4C190D2EEC191F4E1C192C193C194C195C196CFE8F4E2C197C198C7CCC199C19AC19BC19CC19DC19EB5D4B4E4F4E4C19FC1A0C240F4E3F4E5C241C242F4E6C243C244C245C246F4E7C247BAB2B0BFC248F4E8C249C24AC24BC24CC24DC24EC24FB7ADD2EDC250C251C252D2ABC0CFC253BFBCEBA3D5DFEAC8C254C255C256C257F1F3B6F8CBA3C258C259C4CDC25AF1E7C25BF1E8B8FBF1E9BAC4D4C5B0D2C25CC25DF1EAC25EC25FC260F1EBC261F1ECC262C263F1EDF1EEF1EFF1F1F1F0C5D5C264C265C266C267C268C269F1F2C26AB6FAC26BF1F4D2AEDEC7CBCAC26CC26DB3DCC26EB5A2C26FB9A2C270C271C4F4F1F5C272C273F1F6C274C275C276C1C4C1FBD6B0F1F7C277C278C279C27AF1F8C27BC1AAC27CC27DC27EC6B8C280BEDBC281C282C283C284C285C286C287C288C289C28AC28BC28CC28DC28EF1F9B4CFC28FC290C291C292C293C294F1FAC295C296C297C298C299C29AC29BC29CC29DC29EC29FC2A0C340EDB2EDB1C341C342CBE0D2DEC343CBC1D5D8C344C8E2C345C0DFBCA1C346C347C348C349C34AC34BEBC1C34CC34DD0A4C34ED6E2C34FB6C7B8D8EBC0B8CEC350EBBFB3A6B9C9D6ABC351B7F4B7CAC352C353C354BCE7B7BEEBC6C355EBC7B0B9BFCFC356EBC5D3FDC357EBC8C358C359EBC9C35AC35BB7CEC35CEBC2EBC4C9F6D6D7D5CDD0B2EBCFCEB8EBD0C35DB5A8C35EC35FC360C361C362B1B3EBD2CCA5C363C364C365C366C367C368C369C5D6EBD3C36AEBD1C5DFEBCECAA4EBD5B0FBC36BC36CBAFAC36DC36ED8B7F1E3C36FEBCAEBCBEBCCEBCDEBD6E6C0EBD9C370BFE8D2C8EBD7EBDCB8ECEBD8C371BDBAC372D0D8C373B0B7C374EBDDC4DCC375C376C377C378D6ACC379C37AC37BB4E0C37CC37DC2F6BCB9C37EC380EBDAEBDBD4E0C6EAC4D4EBDFC5A7D9F5C381B2B1C382EBE4C383BDC5C384C385C386EBE2C387C388C389C38AC38BC38CC38DC38EC38FC390C391C392C393EBE3C394C395B8ACC396CDD1EBE5C397C398C399EBE1C39AC1B3C39BC39CC39DC39EC39FC6A2C3A0C440C441C442C443C444C445CCF3C446EBE6C447C0B0D2B8EBE7C448C449C44AB8AFB8ADC44BEBE8C7BBCDF3C44CC44DC44EEBEAEBEBC44FC450C451C452C453EBEDC454C455C456C457D0C8C458EBF2C459EBEEC45AC45BC45CEBF1C8F9C45DD1FCEBECC45EC45FEBE9C460C461C462C463B8B9CFD9C4E5EBEFEBF0CCDACDC8B0F2C464EBF6C465C466C467C468C469EBF5C46AB2B2C46BC46CC46DC46EB8E0C46FEBF7C470C471C472C473C474C475B1ECC476C477CCC5C4A4CFA5C478C479C47AC47BC47CEBF9C47DC47EECA2C480C5F2C481EBFAC482C483C484C485C486C487C488C489C9C5C48AC48BC48CC48DC48EC48FE2DFEBFEC490C491C492C493CDCEECA1B1DBD3B7C494C495D2DCC496C497C498EBFDC499EBFBC49AC49BC49CC49DC49EC49FC4A0C540C541C542C543C544C545C546C547C548C549C54AC54BC54CC54DC54EB3BCC54FC550C551EAB0C552C553D7D4C554F4ABB3F4C555C556C557C558C559D6C1D6C2C55AC55BC55CC55DC55EC55FD5E9BECAC560F4A7C561D2A8F4A8F4A9C562F4AABECBD3DFC563C564C565C566C567C9E0C9E1C568C569F3C2C56ACAE6C56BCCF2C56CC56DC56EC56FC570C571E2B6CBB4C572CEE8D6DBC573F4ADF4AEF4AFC574C575C576C577F4B2C578BABDF4B3B0E3F4B0C579F4B1BDA2B2D5C57AF4B6F4B7B6E6B2B0CFCFF4B4B4ACC57BF4B5C57CC57DF4B8C57EC580C581C582C583F4B9C584C585CDA7C586F4BAC587F4BBC588C589C58AF4BCC58BC58CC58DC58EC58FC590C591C592CBD2C593F4BDC594C595C596C597F4BEC598C599C59AC59BC59CC59DC59EC59FF4BFC5A0C640C641C642C643F4DEC1BCBCE8C644C9ABD1DEE5F5C645C646C647C648DCB3D2D5C649C64ADCB4B0ACDCB5C64BC64CBDDAC64DDCB9C64EC64FC650D8C2C651DCB7D3F3C652C9D6DCBADCB6C653DCBBC3A2C654C655C656C657DCBCDCC5DCBDC658C659CEDFD6A5C65ADCCFC65BDCCDC65CC65DDCD2BDE6C2ABC65EDCB8DCCBDCCEDCBEB7D2B0C5DCC7D0BEDCC1BBA8C65FB7BCDCCCC660C661DCC6DCBFC7DBC662C663C664D1BFDCC0C665C666DCCAC667C668DCD0C669C66ACEADDCC2C66BDCC3DCC8DCC9B2D4DCD1CBD5C66CD4B7DCDBDCDFCCA6DCE6C66DC3E7DCDCC66EC66FBFC1DCD9C670B0FAB9B6DCE5DCD3C671DCC4DCD6C8F4BFE0C672C673C674C675C9BBC676C677C678B1BDC679D3A2C67AC67BDCDAC67CC67DDCD5C67EC6BBC680DCDEC681C682C683C684C685D7C2C3AFB7B6C7D1C3A9DCE2DCD8DCEBDCD4C686C687DCDDC688BEA5DCD7C689DCE0C68AC68BDCE3DCE4C68CDCF8C68DC68EDCE1DDA2DCE7C68FC690C691C692C693C694C695C696C697C698BCEBB4C4C699C69AC3A3B2E7DCFAC69BDCF2C69CDCEFC69DDCFCDCEED2F0B2E8C69EC8D7C8E3DCFBC69FDCEDC6A0C740C741DCF7C742C743DCF5C744C745BEA3DCF4C746B2DDC747C748C749C74AC74BDCF3BCF6DCE8BBC4C74CC0F3C74DC74EC74FC750C751BCD4DCE9DCEAC752DCF1DCF6DCF9B5B4C753C8D9BBE7DCFEDCFDD3ABDDA1DDA3DDA5D2F1DDA4DDA6DDA7D2A9C754C755C756C757C758C759C75ABAC9DDA9C75BC75CDDB6DDB1DDB4C75DC75EC75FC760C761C762C763DDB0C6CEC764C765C0F2C766C767C768C769C9AFC76AC76BC76CDCECDDAEC76DC76EC76FC770DDB7C771C772DCF0DDAFC773DDB8C774DDACC775C776C777C778C779C77AC77BDDB9DDB3DDADC4AAC77CC77DC77EC780DDA8C0B3C1ABDDAADDABC781DDB2BBF1DDB5D3A8DDBAC782DDBBC3A7C783C784DDD2DDBCC785C786C787DDD1C788B9BDC789C78ABED5C78BBEFAC78CC78DBACAC78EC78FC790C791DDCAC792DDC5C793DDBFC794C795C796B2CBDDC3C797DDCBB2A4DDD5C798C799C79ADDBEC79BC79CC79DC6D0DDD0C79EC79FC7A0C840C841DDD4C1E2B7C6C842C843C844C845C846DDCEDDCFC847C848C849DDC4C84AC84BC84CDDBDC84DDDCDCCD1C84EDDC9C84FC850C851C852DDC2C3C8C6BCCEAEDDCCC853DDC8C854C855C856C857C858C859DDC1C85AC85BC85CDDC6C2DCC85DC85EC85FC860C861C862D3A9D3AADDD3CFF4C8F8C863C864C865C866C867C868C869C86ADDE6C86BC86CC86DC86EC86FC870DDC7C871C872C873DDE0C2E4C874C875C876C877C878C879C87AC87BDDE1C87CC87DC87EC880C881C882C883C884C885C886DDD7C887C888C889C88AC88BD6F8C88CDDD9DDD8B8F0DDD6C88DC88EC88FC890C6CFC891B6ADC892C893C894C895C896DDE2C897BAF9D4E1DDE7C898C899C89AB4D0C89BDDDAC89CBFFBDDE3C89DDDDFC89EDDDDC89FC8A0C940C941C942C943C944B5D9C945C946C947C948DDDBDDDCDDDEC949BDAFDDE4C94ADDE5C94BC94CC94DC94EC94FC950C951C952DDF5C953C3C9C954C955CBE2C956C957C958C959DDF2C95AC95BC95CC95DC95EC95FC960C961C962C963C964C965C966D8E1C967C968C6D1C969DDF4C96AC96BC96CD5F4DDF3DDF0C96DC96EDDECC96FDDEFC970DDE8C971C972D0EEC973C974C975C976C8D8DDEEC977C978DDE9C979C97ADDEACBF2C97BDDEDC97CC97DB1CDC97EC980C981C982C983C984C0B6C985BCBBDDF1C986C987DDF7C988DDF6DDEBC989C98AC98BC98CC98DC5EEC98EC98FC990DDFBC991C992C993C994C995C996C997C998C999C99AC99BDEA4C99CC99DDEA3C99EC99FC9A0CA40CA41CA42CA43CA44CA45CA46CA47CA48DDF8CA49CA4ACA4BCA4CC3EFCA4DC2FBCA4ECA4FCA50D5E1CA51CA52CEB5CA53CA54CA55CA56DDFDCA57B2CCCA58CA59CA5ACA5BCA5CCA5DCA5ECA5FCA60C4E8CADFCA61CA62CA63CA64CA65CA66CA67CA68CA69CA6AC7BEDDFADDFCDDFEDEA2B0AAB1CECA6BCA6CCA6DCA6ECA6FDEACCA70CA71CA72CA73DEA6BDB6C8EFCA74CA75CA76CA77CA78CA79CA7ACA7BCA7CCA7DCA7EDEA1CA80CA81DEA5CA82CA83CA84CA85DEA9CA86CA87CA88CA89CA8ADEA8CA8BCA8CCA8DDEA7CA8ECA8FCA90CA91CA92CA93CA94CA95CA96DEADCA97D4CCCA98CA99CA9ACA9BDEB3DEAADEAECA9CCA9DC0D9CA9ECA9FCAA0CB40CB41B1A1DEB6CB42DEB1CB43CB44CB45CB46CB47CB48CB49DEB2CB4ACB4BCB4CCB4DCB4ECB4FCB50CB51CB52CB53CB54D1A6DEB5CB55CB56CB57CB58CB59CB5ACB5BDEAFCB5CCB5DCB5EDEB0CB5FD0BDCB60CB61CB62DEB4CAEDDEB9CB63CB64CB65CB66CB67CB68DEB8CB69DEB7CB6ACB6BCB6CCB6DCB6ECB6FCB70DEBBCB71CB72CB73CB74CB75CB76CB77BDE5CB78CB79CB7ACB7BCB7CB2D8C3EACB7DCB7EDEBACB80C5BACB81CB82CB83CB84CB85CB86DEBCCB87CB88CB89CB8ACB8BCB8CCB8DCCD9CB8ECB8FCB90CB91B7AACB92CB93CB94CB95CB96CB97CB98CB99CB9ACB9BCB9CCB9DCB9ECB9FCBA0CC40CC41D4E5CC42CC43CC44DEBDCC45CC46CC47CC48CC49DEBFCC4ACC4BCC4CCC4DCC4ECC4FCC50CC51CC52CC53CC54C4A2CC55CC56CC57CC58DEC1CC59CC5ACC5BCC5CCC5DCC5ECC5FCC60CC61CC62CC63CC64CC65CC66CC67CC68DEBECC69DEC0CC6ACC6BCC6CCC6DCC6ECC6FCC70CC71CC72CC73CC74CC75CC76CC77D5BACC78CC79CC7ADEC2CC7BCC7CCC7DCC7ECC80CC81CC82CC83CC84CC85CC86CC87CC88CC89CC8ACC8BF2AEBBA2C2B2C5B0C2C7CC8CCC8DF2AFCC8ECC8FCC90CC91CC92D0E9CC93CC94CC95D3DDCC96CC97CC98EBBDCC99CC9ACC9BCC9CCC9DCC9ECC9FCCA0B3E6F2B0CD40F2B1CD41CD42CAADCD43CD44CD45CD46CD47CD48CD49BAE7F2B3F2B5F2B4CBE4CFBAF2B2CAB4D2CFC2ECCD4ACD4BCD4CCD4DCD4ECD4FCD50CEC3F2B8B0F6F2B7CD51CD52CD53CD54CD55F2BECD56B2CFCD57CD58CD59CD5ACD5BCD5CD1C1F2BACD5DCD5ECD5FCD60CD61F2BCD4E9CD62CD63F2BBF2B6F2BFF2BDCD64F2B9CD65CD66F2C7F2C4F2C6CD67CD68F2CAF2C2F2C0CD69CD6ACD6BF2C5CD6CCD6DCD6ECD6FCD70D6FBCD71CD72CD73F2C1CD74C7F9C9DFCD75F2C8B9C6B5B0CD76CD77F2C3F2C9F2D0F2D6CD78CD79BBD7CD7ACD7BCD7CF2D5CDDCCD7DD6EBCD7ECD80F2D2F2D4CD81CD82CD83CD84B8F2CD85CD86CD87CD88F2CBCD89CD8ACD8BF2CEC2F9CD8CD5DDF2CCF2CDF2CFF2D3CD8DCD8ECD8FF2D9D3BCCD90CD91CD92CD93B6EACD94CAF1CD95B7E4F2D7CD96CD97CD98F2D8F2DAF2DDF2DBCD99CD9AF2DCCD9BCD9CCD9DCD9ED1D1F2D1CD9FCDC9CDA0CECFD6A9CE40F2E3CE41C3DBCE42F2E0CE43CE44C0AFF2ECF2DECE45F2E1CE46CE47CE48F2E8CE49CE4ACE4BCE4CF2E2CE4DCE4EF2E7CE4FCE50F2E6CE51CE52F2E9CE53CE54CE55F2DFCE56CE57F2E4F2EACE58CE59CE5ACE5BCE5CCE5DCE5ED3ACF2E5B2F5CE5FCE60F2F2CE61D0ABCE62CE63CE64CE65F2F5CE66CE67CE68BBC8CE69F2F9CE6ACE6BCE6CCE6DCE6ECE6FF2F0CE70CE71F2F6F2F8F2FACE72CE73CE74CE75CE76CE77CE78CE79F2F3CE7AF2F1CE7BCE7CCE7DBAFBCE7EB5FBCE80CE81CE82CE83F2EFF2F7F2EDF2EECE84CE85CE86F2EBF3A6CE87F3A3CE88CE89F3A2CE8ACE8BF2F4CE8CC8DACE8DCE8ECE8FCE90CE91F2FBCE92CE93CE94F3A5CE95CE96CE97CE98CE99CE9ACE9BC3F8CE9CCE9DCE9ECE9FCEA0CF40CF41CF42F2FDCF43CF44F3A7F3A9F3A4CF45F2FCCF46CF47CF48F3ABCF49F3AACF4ACF4BCF4CCF4DC2DDCF4ECF4FF3AECF50CF51F3B0CF52CF53CF54CF55CF56F3A1CF57CF58CF59F3B1F3ACCF5ACF5BCF5CCF5DCF5EF3AFF2FEF3ADCF5FCF60CF61CF62CF63CF64CF65F3B2CF66CF67CF68CF69F3B4CF6ACF6BCF6CCF6DF3A8CF6ECF6FCF70CF71F3B3CF72CF73CF74F3B5CF75CF76CF77CF78CF79CF7ACF7BCF7CCF7DCF7ED0B7CF80CF81CF82CF83F3B8CF84CF85CF86CF87D9F9CF88CF89CF8ACF8BCF8CCF8DF3B9CF8ECF8FCF90CF91CF92CF93CF94CF95F3B7CF96C8E4F3B6CF97CF98CF99CF9AF3BACF9BCF9CCF9DCF9ECF9FF3BBB4C0CFA0D040D041D042D043D044D045D046D047D048D049D04AD04BD04CD04DEEC3D04ED04FD050D051D052D053F3BCD054D055F3BDD056D057D058D1AAD059D05AD05BF4ACD0C6D05CD05DD05ED05FD060D061D0D0D1DCD062D063D064D065D066D067CFCED068D069BDD6D06AD1C3D06BD06CD06DD06ED06FD070D071BAE2E1E9D2C2F1C2B2B9D072D073B1EDF1C3D074C9C0B3C4D075D9F2D076CBA5D077F1C4D078D079D07AD07BD6D4D07CD07DD07ED080D081F1C5F4C0F1C6D082D4ACF1C7D083B0C0F4C1D084D085F4C2D086D087B4FCD088C5DBD089D08AD08BD08CCCBBD08DD08ED08FD0E4D090D091D092D093D094CDE0D095D096D097D098D099F1C8D09AD9F3D09BD09CD09DD09ED09FD0A0B1BBD140CFAED141D142D143B8A4D144D145D146D147D148F1CAD149D14AD14BD14CF1CBD14DD14ED14FD150B2C3C1D1D151D152D7B0F1C9D153D154F1CCD155D156D157D158F1CED159D15AD15BD9F6D15CD2E1D4A3D15DD15EF4C3C8B9D15FD160D161D162D163F4C4D164D165F1CDF1CFBFE3F1D0D166D167F1D4D168D169D16AD16BD16CD16DD16EF1D6F1D1D16FC9D1C5E1D170D171D172C2E3B9FCD173D174F1D3D175F1D5D176D177D178B9D3D179D17AD17BD17CD17DD17ED180F1DBD181D182D183D184D185BAD6D186B0FDF1D9D187D188D189D18AD18BF1D8F1D2F1DAD18CD18DD18ED18FD190F1D7D191D192D193C8ECD194D195D196D197CDCAF1DDD198D199D19AD19BE5BDD19CD19DD19EF1DCD19FF1DED1A0D240D241D242D243D244D245D246D247D248F1DFD249D24ACFE5D24BD24CD24DD24ED24FD250D251D252D253D254D255D256D257D258D259D25AD25BD25CD25DD25ED25FD260D261D262D263F4C5BDF3D264D265D266D267D268D269F1E0D26AD26BD26CD26DD26ED26FD270D271D272D273D274D275D276D277D278D279D27AD27BD27CD27DF1E1D27ED280D281CEF7D282D2AAD283F1FBD284D285B8B2D286D287D288D289D28AD28BD28CD28DD28ED28FD290D291D292D293D294D295D296D297D298D299D29AD29BD29CD29DD29ED29FD2A0D340D341D342D343D344D345D346D347D348D349D34AD34BD34CD34DD34ED34FD350D351D352D353D354D355D356D357D358D359D35AD35BD35CD35DD35EBCFBB9DBD35FB9E6C3D9CAD3EAE8C0C0BEF5EAE9EAEAEAEBD360EAECEAEDEAEEEAEFBDC7D361D362D363F5FBD364D365D366F5FDD367F5FED368F5FCD369D36AD36BD36CBDE2D36DF6A1B4A5D36ED36FD370D371F6A2D372D373D374F6A3D375D376D377ECB2D378D379D37AD37BD37CD37DD37ED380D381D382D383D384D1D4D385D386D387D388D389D38AD9EAD38BD38CD38DD38ED38FD390D391D392D393D394D395D396D397D398D399D39AD39BD39CD39DD39ED39FD3A0D440D441D442D443D444D445D446D447D448D449D44AD44BD44CD44DD44ED44FD450D451D452D453D454D455D456D457D458D459D45AD45BD45CD45DD45ED45FF6A4D460D461D462D463D464D465D466D467D468EEBAD469D46AD46BD46CD46DD46ED46FD470D471D472D473D474D475D476D477D478D479D47AD47BD47CD47DD47ED480D481D482D483D484D485D486D487D488D489D48AD48BD48CD48DD48ED48FD490D491D492D493D494D495D496D497D498D499D5B2D49AD49BD49CD49DD49ED49FD4A0D540D541D542D543D544D545D546D547D3FECCDCD548D549D54AD54BD54CD54DD54ED54FCAC4D550D551D552D553D554D555D556D557D558D559D55AD55BD55CD55DD55ED55FD560D561D562D563D564D565D566D567D568D569D56AD56BD56CD56DD56ED56FD570D571D572D573D574D575D576D577D578D579D57AD57BD57CD57DD57ED580D581D582D583D584D585D586D587D588D589D58AD58BD58CD58DD58ED58FD590D591D592D593D594D595D596D597D598D599D59AD59BD59CD59DD59ED59FD5A0D640D641D642D643D644D645D646D647D648D649D64AD64BD64CD64DD64ED64FD650D651D652D653D654D655D656D657D658D659D65AD65BD65CD65DD65ED65FD660D661D662E5C0D663D664D665D666D667D668D669D66AD66BD66CD66DD66ED66FD670D671D672D673D674D675D676D677D678D679D67AD67BD67CD67DD67ED680D681F6A5D682D683D684D685D686D687D688D689D68AD68BD68CD68DD68ED68FD690D691D692D693D694D695D696D697D698D699D69AD69BD69CD69DD69ED69FD6A0D740D741D742D743D744D745D746D747D748D749D74AD74BD74CD74DD74ED74FD750D751D752D753D754D755D756D757D758D759D75AD75BD75CD75DD75ED75FBEAFD760D761D762D763D764C6A9D765D766D767D768D769D76AD76BD76CD76DD76ED76FD770D771D772D773D774D775D776D777D778D779D77AD77BD77CD77DD77ED780D781D782D783D784D785D786D787D788D789D78AD78BD78CD78DD78ED78FD790D791D792D793D794D795D796D797D798DAA5BCC6B6A9B8BCC8CFBCA5DAA6DAA7CCD6C8C3DAA8C6FDD799D1B5D2E9D1B6BCC7D79ABDB2BBE4DAA9DAAAD1C8DAABD0EDB6EFC2DBD79BCBCFB7EDC9E8B7C3BEF7D6A4DAACDAADC6C0D7E7CAB6D79CD5A9CBDFD5EFDAAED6DFB4CADAB0DAAFD79DD2EBDAB1DAB2DAB3CAD4DAB4CAABDAB5DAB6B3CFD6EFDAB7BBB0B5AEDAB8DAB9B9EED1AFD2E8DABAB8C3CFEAB2EFDABBDABCD79EBDEBCEDCD3EFDABDCEF3DABED3D5BBE5DABFCBB5CBD0DAC0C7EBD6EEDAC1C5B5B6C1DAC2B7CCBFCEDAC3DAC4CBADDAC5B5F7DAC6C1C2D7BBDAC7CCB8D79FD2EAC4B1DAC8B5FDBBD1DAC9D0B3DACADACBCEBDDACCDACDDACEB2F7DAD1DACFD1E8DAD0C3D5DAD2D7A0DAD3DAD4DAD5D0BBD2A5B0F9DAD6C7ABDAD7BDF7C3A1DAD8DAD9C3FDCCB7DADADADBC0BEC6D7DADCDADDC7B4DADEDADFB9C8D840D841D842D843D844D845D846D847D848BBEDD849D84AD84BD84CB6B9F4F8D84DF4F9D84ED84FCDE3D850D851D852D853D854D855D856D857F5B9D858D859D85AD85BEBE0D85CD85DD85ED85FD860D861CFF3BBBFD862D863D864D865D866D867D868BAC0D4A5D869D86AD86BD86CD86DD86ED86FE1D9D870D871D872D873F5F4B1AAB2F2D874D875D876D877D878D879D87AF5F5D87BD87CF5F7D87DD87ED880BAD1F5F6D881C3B2D882D883D884D885D886D887D888F5F9D889D88AD88BF5F8D88CD88DD88ED88FD890D891D892D893D894D895D896D897D898D899D89AD89BD89CD89DD89ED89FD8A0D940D941D942D943D944D945D946D947D948D949D94AD94BD94CD94DD94ED94FD950D951D952D953D954D955D956D957D958D959D95AD95BD95CD95DD95ED95FD960D961D962D963D964D965D966D967D968D969D96AD96BD96CD96DD96ED96FD970D971D972D973D974D975D976D977D978D979D97AD97BD97CD97DD97ED980D981D982D983D984D985D986D987D988D989D98AD98BD98CD98DD98ED98FD990D991D992D993D994D995D996D997D998D999D99AD99BD99CD99DD99ED99FD9A0DA40DA41DA42DA43DA44DA45DA46DA47DA48DA49DA4ADA4BDA4CDA4DDA4EB1B4D5EAB8BADA4FB9B1B2C6D4F0CFCDB0DCD5CBBBF5D6CAB7B7CCB0C6B6B1E1B9BAD6FCB9E1B7A1BCFAEADAEADBCCF9B9F3EADCB4FBC3B3B7D1BAD8EADDD4F4EADEBCD6BBDFEADFC1DEC2B8D4DFD7CAEAE0EAE1EAE4EAE2EAE3C9DEB8B3B6C4EAE5CAEAC9CDB4CDDA50DA51E2D9C5E2EAE6C0B5DA52D7B8EAE7D7ACC8FCD8D3D8CDD4DEDA53D4F9C9C4D3AEB8D3B3E0DA54C9E2F4F6DA55DA56DA57BAD5DA58F4F7DA59DA5AD7DFDA5BDA5CF4F1B8B0D5D4B8CFC6F0DA5DDA5EDA5FDA60DA61DA62DA63DA64DA65B3C3DA66DA67F4F2B3ACDA68DA69DA6ADA6BD4BDC7F7DA6CDA6DDA6EDA6FDA70F4F4DA71DA72F4F3DA73DA74DA75DA76DA77DA78DA79DA7ADA7BDA7CCCCBDA7DDA7EDA80C8A4DA81DA82DA83DA84DA85DA86DA87DA88DA89DA8ADA8BDA8CDA8DF4F5DA8ED7E3C5BFF5C0DA8FDA90F5BBDA91F5C3DA92F5C2DA93D6BAF5C1DA94DA95DA96D4BEF5C4DA97F5CCDA98DA99DA9ADA9BB0CFB5F8DA9CF5C9F5CADA9DC5DCDA9EDA9FDAA0DB40F5C5F5C6DB41DB42F5C7F5CBDB43BEE0F5C8B8FADB44DB45DB46F5D0F5D3DB47DB48DB49BFE7DB4AB9F2F5BCF5CDDB4BDB4CC2B7DB4DDB4EDB4FCCF8DB50BCF9DB51F5CEF5CFF5D1B6E5F5D2DB52F5D5DB53DB54DB55DB56DB57DB58DB59F5BDDB5ADB5BDB5CF5D4D3BBDB5DB3ECDB5EDB5FCCA4DB60DB61DB62DB63F5D6DB64DB65DB66DB67DB68DB69DB6ADB6BF5D7BEE1F5D8DB6CDB6DCCDFF5DBDB6EDB6FDB70DB71DB72B2C8D7D9DB73F5D9DB74F5DAF5DCDB75F5E2DB76DB77DB78F5E0DB79DB7ADB7BF5DFF5DDDB7CDB7DF5E1DB7EDB80F5DEF5E4F5E5DB81CCE3DB82DB83E5BFB5B8F5E3F5E8CCA3DB84DB85DB86DB87DB88F5E6F5E7DB89DB8ADB8BDB8CDB8DDB8EF5BEDB8FDB90DB91DB92DB93DB94DB95DB96DB97DB98DB99DB9AB1C4DB9BDB9CF5BFDB9DDB9EB5C5B2E4DB9FF5ECF5E9DBA0B6D7DC40F5EDDC41F5EADC42DC43DC44DC45DC46F5EBDC47DC48B4DADC49D4EADC4ADC4BDC4CF5EEDC4DB3F9DC4EDC4FDC50DC51DC52DC53DC54F5EFF5F1DC55DC56DC57F5F0DC58DC59DC5ADC5BDC5CDC5DDC5EF5F2DC5FF5F3DC60DC61DC62DC63DC64DC65DC66DC67DC68DC69DC6ADC6BC9EDB9AADC6CDC6DC7FBDC6EDC6FB6E3DC70DC71DC72DC73DC74DC75DC76CCC9DC77DC78DC79DC7ADC7BDC7CDC7DDC7EDC80DC81DC82DC83DC84DC85DC86DC87DC88DC89DC8AEAA6DC8BDC8CDC8DDC8EDC8FDC90DC91DC92DC93DC94DC95DC96DC97DC98DC99DC9ADC9BDC9CDC9DDC9EDC9FDCA0DD40DD41DD42DD43DD44DD45DD46DD47DD48DD49DD4ADD4BDD4CDD4DDD4EDD4FDD50DD51DD52DD53DD54DD55DD56DD57DD58DD59DD5ADD5BDD5CDD5DDD5EDD5FDD60DD61DD62DD63DD64DD65DD66DD67DD68DD69DD6ADD6BDD6CDD6DDD6EDD6FDD70DD71DD72DD73DD74DD75DD76DD77DD78DD79DD7ADD7BDD7CDD7DDD7EDD80DD81DD82DD83DD84DD85DD86DD87DD88DD89DD8ADD8BDD8CDD8DDD8EDD8FDD90DD91DD92DD93DD94DD95DD96DD97DD98DD99DD9ADD9BDD9CDD9DDD9EDD9FDDA0DE40DE41DE42DE43DE44DE45DE46DE47DE48DE49DE4ADE4BDE4CDE4DDE4EDE4FDE50DE51DE52DE53DE54DE55DE56DE57DE58DE59DE5ADE5BDE5CDE5DDE5EDE5FDE60B3B5D4FEB9ECD0F9DE61E9EDD7AAE9EEC2D6C8EDBAE4E9EFE9F0E9F1D6E1E9F2E9F3E9F5E9F4E9F6E9F7C7E1E9F8D4D8E9F9BDCEDE62E9FAE9FBBDCFE9FCB8A8C1BEE9FDB1B2BBD4B9F5E9FEDE63EAA1EAA2EAA3B7F8BCADDE64CAE4E0CED4AFCFBDD5B7EAA4D5DEEAA5D0C1B9BCDE65B4C7B1D9DE66DE67DE68C0B1DE69DE6ADE6BDE6CB1E6B1E7DE6DB1E8DE6EDE6FDE70DE71B3BDC8E8DE72DE73DE74DE75E5C1DE76DE77B1DFDE78DE79DE7AC1C9B4EFDE7BDE7CC7A8D3D8DE7DC6F9D1B8DE7EB9FDC2F5DE80DE81DE82DE83DE84D3ADDE85D4CBBDFCDE86E5C2B7B5E5C3DE87DE88BBB9D5E2DE89BDF8D4B6CEA5C1ACB3D9DE8ADE8BCCF6DE8CE5C6E5C4E5C8DE8DE5CAE5C7B5CFC6C8DE8EB5FCE5C5DE8FCAF6DE90DE91E5C9DE92DE93DE94C3D4B1C5BCA3DE95DE96DE97D7B7DE98DE99CDCBCBCDCACACCD3E5CCE5CBC4E6DE9ADE9BD1A1D1B7E5CDDE9CE5D0DE9DCDB8D6F0E5CFB5DDDE9ECDBEDE9FE5D1B6BADEA0DF40CDA8B9E4DF41CAC5B3D1CBD9D4ECE5D2B7EADF42DF43DF44E5CEDF45DF46DF47DF48DF49DF4AE5D5B4FEE5D6DF4BDF4CDF4DDF4EDF4FE5D3E5D4DF50D2DDDF51DF52C2DFB1C6DF53D3E2DF54DF55B6DDCBECDF56E5D7DF57DF58D3F6DF59DF5ADF5BDF5CDF5DB1E9DF5EB6F4E5DAE5D8E5D9B5C0DF5FDF60DF61D2C5E5DCDF62DF63E5DEDF64DF65DF66DF67DF68DF69E5DDC7B2DF6AD2A3DF6BDF6CE5DBDF6DDF6EDF6FDF70D4E2D5DADF71DF72DF73DF74DF75E5E0D7F1DF76DF77DF78DF79DF7ADF7BDF7CE5E1DF7DB1DCD1FBDF7EE5E2E5E4DF80DF81DF82DF83E5E3DF84DF85E5E5DF86DF87DF88DF89DF8AD2D8DF8BB5CBDF8CE7DFDF8DDAF5DF8EDAF8DF8FDAF6DF90DAF7DF91DF92DF93DAFAD0CFC4C7DF94DF95B0EEDF96DF97DF98D0B0DF99DAF9DF9AD3CABAAADBA2C7F1DF9BDAFCDAFBC9DBDAFDDF9CDBA1D7DEDAFEC1DADF9DDF9EDBA5DF9FDFA0D3F4E040E041DBA7DBA4E042DBA8E043E044BDBCE045E046E047C0C9DBA3DBA6D6A3E048DBA9E049E04AE04BDBADE04CE04DE04EDBAEDBACBAC2E04FE050E051BFA4DBABE052E053E054DBAAD4C7B2BFE055E056DBAFE057B9F9E058DBB0E059E05AE05BE05CB3BBE05DE05EE05FB5A6E060E061E062E063B6BCDBB1E064E065E066B6F5E067DBB2E068E069E06AE06BE06CE06DE06EE06FE070E071E072E073E074E075E076E077E078E079E07AE07BB1C9E07CE07DE07EE080DBB4E081E082E083DBB3DBB5E084E085E086E087E088E089E08AE08BE08CE08DE08EDBB7E08FDBB6E090E091E092E093E094E095E096DBB8E097E098E099E09AE09BE09CE09DE09EE09FDBB9E0A0E140DBBAE141E142D3CFF4FAC7F5D7C3C5E4F4FCF4FDF4FBE143BEC6E144E145E146E147D0EFE148E149B7D3E14AE14BD4CDCCAAE14CE14DF5A2F5A1BAA8F4FECBD6E14EE14FE150F5A4C0D2E151B3EAE152CDAAF5A5F5A3BDB4F5A8E153F5A9BDCDC3B8BFE1CBE1F5AAE154E155E156F5A6F5A7C4F0E157E158E159E15AE15BF5ACE15CB4BCE15DD7EDE15EB4D7F5ABF5AEE15FE160F5ADF5AFD0D1E161E162E163E164E165E166E167C3D1C8A9E168E169E16AE16BE16CE16DF5B0F5B1E16EE16FE170E171E172E173F5B2E174E175F5B3F5B4F5B5E176E177E178E179F5B7F5B6E17AE17BE17CE17DF5B8E17EE180E181E182E183E184E185E186E187E188E189E18AB2C9E18BD3D4CACDE18CC0EFD6D8D2B0C1BFE18DBDF0E18EE18FE190E191E192E193E194E195E196E197B8AAE198E199E19AE19BE19CE19DE19EE19FE1A0E240E241E242E243E244E245E246E247E248E249E24AE24BE24CE24DE24EE24FE250E251E252E253E254E255E256E257E258E259E25AE25BE25CE25DE25EE25FE260E261E262E263E264E265E266E267E268E269E26AE26BE26CE26DE26EE26FE270E271E272E273E274E275E276E277E278E279E27AE27BE27CE27DE27EE280E281E282E283E284E285E286E287E288E289E28AE28BE28CE28DE28EE28FE290E291E292E293E294E295E296E297E298E299E29AE29BE29CE29DE29EE29FE2A0E340E341E342E343E344E345E346E347E348E349E34AE34BE34CE34DE34EE34FE350E351E352E353E354E355E356E357E358E359E35AE35BE35CE35DE35EE35FE360E361E362E363E364E365E366E367E368E369E36AE36BE36CE36DBCF8E36EE36FE370E371E372E373E374E375E376E377E378E379E37AE37BE37CE37DE37EE380E381E382E383E384E385E386E387F6C6E388E389E38AE38BE38CE38DE38EE38FE390E391E392E393E394E395E396E397E398E399E39AE39BE39CE39DE39EE39FE3A0E440E441E442E443E444E445F6C7E446E447E448E449E44AE44BE44CE44DE44EE44FE450E451E452E453E454E455E456E457E458E459E45AE45BE45CE45DE45EF6C8E45FE460E461E462E463E464E465E466E467E468E469E46AE46BE46CE46DE46EE46FE470E471E472E473E474E475E476E477E478E479E47AE47BE47CE47DE47EE480E481E482E483E484E485E486E487E488E489E48AE48BE48CE48DE48EE48FE490E491E492E493E494E495E496E497E498E499E49AE49BE49CE49DE49EE49FE4A0E540E541E542E543E544E545E546E547E548E549E54AE54BE54CE54DE54EE54FE550E551E552E553E554E555E556E557E558E559E55AE55BE55CE55DE55EE55FE560E561E562E563E564E565E566E567E568E569E56AE56BE56CE56DE56EE56FE570E571E572E573F6C9E574E575E576E577E578E579E57AE57BE57CE57DE57EE580E581E582E583E584E585E586E587E588E589E58AE58BE58CE58DE58EE58FE590E591E592E593E594E595E596E597E598E599E59AE59BE59CE59DE59EE59FF6CAE5A0E640E641E642E643E644E645E646E647E648E649E64AE64BE64CE64DE64EE64FE650E651E652E653E654E655E656E657E658E659E65AE65BE65CE65DE65EE65FE660E661E662F6CCE663E664E665E666E667E668E669E66AE66BE66CE66DE66EE66FE670E671E672E673E674E675E676E677E678E679E67AE67BE67CE67DE67EE680E681E682E683E684E685E686E687E688E689E68AE68BE68CE68DE68EE68FE690E691E692E693E694E695E696E697E698E699E69AE69BE69CE69DF6CBE69EE69FE6A0E740E741E742E743E744E745E746E747F7E9E748E749E74AE74BE74CE74DE74EE74FE750E751E752E753E754E755E756E757E758E759E75AE75BE75CE75DE75EE75FE760E761E762E763E764E765E766E767E768E769E76AE76BE76CE76DE76EE76FE770E771E772E773E774E775E776E777E778E779E77AE77BE77CE77DE77EE780E781E782E783E784E785E786E787E788E789E78AE78BE78CE78DE78EE78FE790E791E792E793E794E795E796E797E798E799E79AE79BE79CE79DE79EE79FE7A0E840E841E842E843E844E845E846E847E848E849E84AE84BE84CE84DE84EF6CDE84FE850E851E852E853E854E855E856E857E858E859E85AE85BE85CE85DE85EE85FE860E861E862E863E864E865E866E867E868E869E86AE86BE86CE86DE86EE86FE870E871E872E873E874E875E876E877E878E879E87AF6CEE87BE87CE87DE87EE880E881E882E883E884E885E886E887E888E889E88AE88BE88CE88DE88EE88FE890E891E892E893E894EEC4EEC5EEC6D5EBB6A4EEC8EEC7EEC9EECAC7A5EECBEECCE895B7B0B5F6EECDEECFE896EECEE897B8C6EED0EED1EED2B6DBB3AED6D3C4C6B1B5B8D6EED3EED4D4BFC7D5BEFBCED9B9B3EED6EED5EED8EED7C5A5EED9EEDAC7AEEEDBC7AFEEDCB2A7EEDDEEDEEEDFEEE0EEE1D7EAEEE2EEE3BCD8EEE4D3CBCCFAB2ACC1E5EEE5C7A6C3ADE898EEE6EEE7EEE8EEE9EEEAEEEBEEECE899EEEDEEEEEEEFE89AE89BEEF0EEF1EEF2EEF4EEF3E89CEEF5CDADC2C1EEF6EEF7EEF8D5A1EEF9CFB3EEFAEEFBE89DEEFCEEFDEFA1EEFEEFA2B8F5C3FAEFA3EFA4BDC2D2BFB2F9EFA5EFA6EFA7D2F8EFA8D6FDEFA9C6CCE89EEFAAEFABC1B4EFACCFFACBF8EFAEEFADB3FAB9F8EFAFEFB0D0E2EFB1EFB2B7E6D0BFEFB3EFB4EFB5C8F1CCE0EFB6EFB7EFB8EFB9EFBAD5E0EFBBB4EDC3AAEFBCE89FEFBDEFBEEFBFE8A0CEFDEFC0C2E0B4B8D7B6BDF5E940CFC7EFC3EFC1EFC2EFC4B6A7BCFCBEE2C3CCEFC5EFC6E941EFC7EFCFEFC8EFC9EFCAC7C2EFF1B6CDEFCBE942EFCCEFCDB6C6C3BEEFCEE943EFD0EFD1EFD2D5F2E944EFD3C4F7E945EFD4C4F8EFD5EFD6B8E4B0F7EFD7EFD8EFD9E946EFDAEFDBEFDCEFDDE947EFDEBEB5EFE1EFDFEFE0E948EFE2EFE3C1CDEFE4EFE5EFE6EFE7EFE8EFE9EFEAEFEBEFECC0D8E949EFEDC1ADEFEEEFEFEFF0E94AE94BCFE2E94CE94DE94EE94FE950E951E952E953B3A4E954E955E956E957E958E959E95AE95BE95CE95DE95EE95FE960E961E962E963E964E965E966E967E968E969E96AE96BE96CE96DE96EE96FE970E971E972E973E974E975E976E977E978E979E97AE97BE97CE97DE97EE980E981E982E983E984E985E986E987E988E989E98AE98BE98CE98DE98EE98FE990E991E992E993E994E995E996E997E998E999E99AE99BE99CE99DE99EE99FE9A0EA40EA41EA42EA43EA44EA45EA46EA47EA48EA49EA4AEA4BEA4CEA4DEA4EEA4FEA50EA51EA52EA53EA54EA55EA56EA57EA58EA59EA5AEA5BC3C5E3C5C9C1E3C6EA5CB1D5CECAB4B3C8F2E3C7CFD0E3C8BCE4E3C9E3CAC3C6D5A2C4D6B9EBCEC5E3CBC3F6E3CCEA5DB7A7B8F3BAD2E3CDE3CED4C4E3CFEA5EE3D0D1CBE3D1E3D2E3D3E3D4D1D6E3D5B2FBC0BBE3D6EA5FC0ABE3D7E3D8E3D9EA60E3DAE3DBEA61B8B7DAE2EA62B6D3EA63DAE4DAE3EA64EA65EA66EA67EA68EA69EA6ADAE6EA6BEA6CEA6DC8EEEA6EEA6FDAE5B7C0D1F4D2F5D5F3BDD7EA70EA71EA72EA73D7E8DAE8DAE7EA74B0A2CDD3EA75DAE9EA76B8BDBCCAC2BDC2A4B3C2DAEAEA77C2AAC4B0BDB5EA78EA79CFDEEA7AEA7BEA7CDAEBC9C2EA7DEA7EEA80EA81EA82B1DDEA83EA84EA85DAECEA86B6B8D4BAEA87B3FDEA88EA89DAEDD4C9CFD5C5E3EA8ADAEEEA8BEA8CEA8DEA8EEA8FDAEFEA90DAF0C1EACCD5CFDDEA91EA92EA93EA94EA95EA96EA97EA98EA99EA9AEA9BEA9CEA9DD3E7C2A1EA9EDAF1EA9FEAA0CBE5EB40DAF2EB41CBE6D2FEEB42EB43EB44B8F4EB45EB46DAF3B0AFCFB6EB47EB48D5CFEB49EB4AEB4BEB4CEB4DEB4EEB4FEB50EB51EB52CBEDEB53EB54EB55EB56EB57EB58EB59EB5ADAF4EB5BEB5CE3C4EB5DEB5EC1A5EB5FEB60F6BFEB61EB62F6C0F6C1C4D1EB63C8B8D1E3EB64EB65D0DBD1C5BCAFB9CDEB66EFF4EB67EB68B4C6D3BAF6C2B3FBEB69EB6AF6C3EB6BEB6CB5F1EB6DEB6EEB6FEB70EB71EB72EB73EB74EB75EB76F6C5EB77EB78EB79EB7AEB7BEB7CEB7DD3EAF6A7D1A9EB7EEB80EB81EB82F6A9EB83EB84EB85F6A8EB86EB87C1E3C0D7EB88B1A2EB89EB8AEB8BEB8CCEEDEB8DD0E8F6ABEB8EEB8FCFF6EB90F6AAD5F0F6ACC3B9EB91EB92EB93BBF4F6AEF6ADEB94EB95EB96C4DEEB97EB98C1D8EB99EB9AEB9BEB9CEB9DCBAAEB9ECFBCEB9FEBA0EC40EC41EC42EC43EC44EC45EC46EC47EC48F6AFEC49EC4AF6B0EC4BEC4CF6B1EC4DC2B6EC4EEC4FEC50EC51EC52B0D4C5F9EC53EC54EC55EC56F6B2EC57EC58EC59EC5AEC5BEC5CEC5DEC5EEC5FEC60EC61EC62EC63EC64EC65EC66EC67EC68EC69C7E0F6A6EC6AEC6BBEB8EC6CEC6DBEB2EC6EB5E5EC6FEC70B7C7EC71BFBFC3D2C3E6EC72EC73D8CCEC74EC75EC76B8EFEC77EC78EC79EC7AEC7BEC7CEC7DEC7EEC80BDF9D1A5EC81B0D0EC82EC83EC84EC85EC86F7B0EC87EC88EC89EC8AEC8BEC8CEC8DEC8EF7B1EC8FEC90EC91EC92EC93D0ACEC94B0B0EC95EC96EC97F7B2F7B3EC98F7B4EC99EC9AEC9BC7CAEC9CEC9DEC9EEC9FECA0ED40ED41BECFED42ED43F7B7ED44ED45ED46ED47ED48ED49ED4AF7B6ED4BB1DEED4CF7B5ED4DED4EF7B8ED4FF7B9ED50ED51ED52ED53ED54ED55ED56ED57ED58ED59ED5AED5BED5CED5DED5EED5FED60ED61ED62ED63ED64ED65ED66ED67ED68ED69ED6AED6BED6CED6DED6EED6FED70ED71ED72ED73ED74ED75ED76ED77ED78ED79ED7AED7BED7CED7DED7EED80ED81CEA4C8CDED82BAABE8B8E8B9E8BABEC2ED83ED84ED85ED86ED87D2F4ED88D4CFC9D8ED89ED8AED8BED8CED8DED8EED8FED90ED91ED92ED93ED94ED95ED96ED97ED98ED99ED9AED9BED9CED9DED9EED9FEDA0EE40EE41EE42EE43EE44EE45EE46EE47EE48EE49EE4AEE4BEE4CEE4DEE4EEE4FEE50EE51EE52EE53EE54EE55EE56EE57EE58EE59EE5AEE5BEE5CEE5DEE5EEE5FEE60EE61EE62EE63EE64EE65EE66EE67EE68EE69EE6AEE6BEE6CEE6DEE6EEE6FEE70EE71EE72EE73EE74EE75EE76EE77EE78EE79EE7AEE7BEE7CEE7DEE7EEE80EE81EE82EE83EE84EE85EE86EE87EE88EE89EE8AEE8BEE8CEE8DEE8EEE8FEE90EE91EE92EE93EE94EE95EE96EE97EE98EE99EE9AEE9BEE9CEE9DEE9EEE9FEEA0EF40EF41EF42EF43EF44EF45D2B3B6A5C7EAF1FCCFEECBB3D0EBE7EFCDE7B9CBB6D9F1FDB0E4CBCCF1FED4A4C2ADC1ECC6C4BEB1F2A1BCD5EF46F2A2F2A3EF47F2A4D2C3C6B5EF48CDC7F2A5EF49D3B1BFC5CCE2EF4AF2A6F2A7D1D5B6EEF2A8F2A9B5DFF2AAF2ABEF4BB2FCF2ACF2ADC8A7EF4CEF4DEF4EEF4FEF50EF51EF52EF53EF54EF55EF56EF57EF58EF59EF5AEF5BEF5CEF5DEF5EEF5FEF60EF61EF62EF63EF64EF65EF66EF67EF68EF69EF6AEF6BEF6CEF6DEF6EEF6FEF70EF71B7E7EF72EF73ECA9ECAAECABEF74ECACEF75EF76C6AEECADECAEEF77EF78EF79B7C9CAB3EF7AEF7BEF7CEF7DEF7EEF80EF81E2B8F7CFEF82EF83EF84EF85EF86EF87EF88EF89EF8AEF8BEF8CEF8DEF8EEF8FEF90EF91EF92EF93EF94EF95EF96EF97EF98EF99EF9AEF9BEF9CEF9DEF9EEF9FEFA0F040F041F042F043F044F7D0F045F046B2CDF047F048F049F04AF04BF04CF04DF04EF04FF050F051F052F053F054F055F056F057F058F059F05AF05BF05CF05DF05EF05FF060F061F062F063F7D1F064F065F066F067F068F069F06AF06BF06CF06DF06EF06FF070F071F072F073F074F075F076F077F078F079F07AF07BF07CF07DF07EF080F081F082F083F084F085F086F087F088F089F7D3F7D2F08AF08BF08CF08DF08EF08FF090F091F092F093F094F095F096E2BBF097BCA2F098E2BCE2BDE2BEE2BFE2C0E2C1B7B9D2FBBDA4CACEB1A5CBC7F099E2C2B6FCC8C4E2C3F09AF09BBDC8F09CB1FDE2C4F09DB6F6E2C5C4D9F09EF09FE2C6CFDAB9DDE2C7C0A1F0A0E2C8B2F6F140E2C9F141C1F3E2CAE2CBC2F8E2CCE2CDE2CECAD7D8B8D9E5CFE3F142F143F144F145F146F147F148F149F14AF14BF14CF0A5F14DF14EDCB0F14FF150F151F152F153F154F155F156F157F158F159F15AF15BF15CF15DF15EF15FF160F161F162F163F164F165F166F167F168F169F16AF16BF16CF16DF16EF16FF170F171F172F173F174F175F176F177F178F179F17AF17BF17CF17DF17EF180F181F182F183F184F185F186F187F188F189F18AF18BF18CF18DF18EF18FF190F191F192F193F194F195F196F197F198F199F19AF19BF19CF19DF19EF19FF1A0F240F241F242F243F244F245F246F247F248F249F24AF24BF24CF24DF24EF24FF250F251F252F253F254F255F256F257F258F259F25AF25BF25CF25DF25EF25FF260F261F262F263F264F265F266F267F268F269F26AF26BF26CF26DF26EF26FF270F271F272F273F274F275F276F277F278F279F27AF27BF27CF27DF27EF280F281F282F283F284F285F286F287F288F289F28AF28BF28CF28DF28EF28FF290F291F292F293F294F295F296F297F298F299F29AF29BF29CF29DF29EF29FF2A0F340F341F342F343F344F345F346F347F348F349F34AF34BF34CF34DF34EF34FF350F351C2EDD4A6CDD4D1B1B3DBC7FDF352B2B5C2BFE6E0CABBE6E1E6E2BED4E6E3D7A4CDD5E6E5BCDDE6E4E6E6E6E7C2EEF353BDBEE6E8C2E6BAA7E6E9F354E6EAB3D2D1E9F355F356BFA5E6EBC6EFE6ECE6EDF357F358E6EEC6ADE6EFF359C9A7E6F0E6F1E6F2E5B9E6F3E6F4C2E2E6F5E6F6D6E8E6F7F35AE6F8B9C7F35BF35CF35DF35EF35FF360F361F7BBF7BAF362F363F364F365F7BEF7BCBAA1F366F7BFF367F7C0F368F369F36AF7C2F7C1F7C4F36BF36CF7C3F36DF36EF36FF370F371F7C5F7C6F372F373F374F375F7C7F376CBE8F377F378F379F37AB8DFF37BF37CF37DF37EF380F381F7D4F382F7D5F383F384F385F386F7D6F387F388F389F38AF7D8F38BF7DAF38CF7D7F38DF38EF38FF390F391F392F393F394F395F7DBF396F7D9F397F398F399F39AF39BF39CF39DD7D7F39EF39FF3A0F440F7DCF441F442F443F444F445F446F7DDF447F448F449F7DEF44AF44BF44CF44DF44EF44FF450F451F452F453F454F7DFF455F456F457F7E0F458F459F45AF45BF45CF45DF45EF45FF460F461F462DBCBF463F464D8AAF465F466F467F468F469F46AF46BF46CE5F7B9EDF46DF46EF46FF470BFFDBBEAF7C9C6C7F7C8F471F7CAF7CCF7CBF472F473F474F7CDF475CEBAF476F7CEF477F478C4A7F479F47AF47BF47CF47DF47EF480F481F482F483F484F485F486F487F488F489F48AF48BF48CF48DF48EF48FF490F491F492F493F494F495F496F497F498F499F49AF49BF49CF49DF49EF49FF4A0F540F541F542F543F544F545F546F547F548F549F54AF54BF54CF54DF54EF54FF550F551F552F553F554F555F556F557F558F559F55AF55BF55CF55DF55EF55FF560F561F562F563F564F565F566F567F568F569F56AF56BF56CF56DF56EF56FF570F571F572F573F574F575F576F577F578F579F57AF57BF57CF57DF57EF580F581F582F583F584F585F586F587F588F589F58AF58BF58CF58DF58EF58FF590F591F592F593F594F595F596F597F598F599F59AF59BF59CF59DF59EF59FF5A0F640F641F642F643F644F645F646F647F648F649F64AF64BF64CF64DF64EF64FF650F651F652F653F654F655F656F657F658F659F65AF65BF65CF65DF65EF65FF660F661F662F663F664F665F666F667F668F669F66AF66BF66CF66DF66EF66FF670F671F672F673F674F675F676F677F678F679F67AF67BF67CF67DF67EF680F681F682F683F684F685F686F687F688F689F68AF68BF68CF68DF68EF68FF690F691F692F693F694F695F696F697F698F699F69AF69BF69CF69DF69EF69FF6A0F740F741F742F743F744F745F746F747F748F749F74AF74BF74CF74DF74EF74FF750F751F752F753F754F755F756F757F758F759F75AF75BF75CF75DF75EF75FF760F761F762F763F764F765F766F767F768F769F76AF76BF76CF76DF76EF76FF770F771F772F773F774F775F776F777F778F779F77AF77BF77CF77DF77EF780D3E3F781F782F6CFF783C2B3F6D0F784F785F6D1F6D2F6D3F6D4F786F787F6D6F788B1ABF6D7F789F6D8F6D9F6DAF78AF6DBF6DCF78BF78CF78DF78EF6DDF6DECFCAF78FF6DFF6E0F6E1F6E2F6E3F6E4C0F0F6E5F6E6F6E7F6E8F6E9F790F6EAF791F6EBF6ECF792F6EDF6EEF6EFF6F0F6F1F6F2F6F3F6F4BEA8F793F6F5F6F6F6F7F6F8F794F795F796F797F798C8FAF6F9F6FAF6FBF6FCF799F79AF6FDF6FEF7A1F7A2F7A3F7A4F7A5F79BF79CF7A6F7A7F7A8B1EEF7A9F7AAF7ABF79DF79EF7ACF7ADC1DBF7AEF79FF7A0F7AFF840F841F842F843F844F845F846F847F848F849F84AF84BF84CF84DF84EF84FF850F851F852F853F854F855F856F857F858F859F85AF85BF85CF85DF85EF85FF860F861F862F863F864F865F866F867F868F869F86AF86BF86CF86DF86EF86FF870F871F872F873F874F875F876F877F878F879F87AF87BF87CF87DF87EF880F881F882F883F884F885F886F887F888F889F88AF88BF88CF88DF88EF88FF890F891F892F893F894F895F896F897F898F899F89AF89BF89CF89DF89EF89FF8A0F940F941F942F943F944F945F946F947F948F949F94AF94BF94CF94DF94EF94FF950F951F952F953F954F955F956F957F958F959F95AF95BF95CF95DF95EF95FF960F961F962F963F964F965F966F967F968F969F96AF96BF96CF96DF96EF96FF970F971F972F973F974F975F976F977F978F979F97AF97BF97CF97DF97EF980F981F982F983F984F985F986F987F988F989F98AF98BF98CF98DF98EF98FF990F991F992F993F994F995F996F997F998F999F99AF99BF99CF99DF99EF99FF9A0FA40FA41FA42FA43FA44FA45FA46FA47FA48FA49FA4AFA4BFA4CFA4DFA4EFA4FFA50FA51FA52FA53FA54FA55FA56FA57FA58FA59FA5AFA5BFA5CFA5DFA5EFA5FFA60FA61FA62FA63FA64FA65FA66FA67FA68FA69FA6AFA6BFA6CFA6DFA6EFA6FFA70FA71FA72FA73FA74FA75FA76FA77FA78FA79FA7AFA7BFA7CFA7DFA7EFA80FA81FA82FA83FA84FA85FA86FA87FA88FA89FA8AFA8BFA8CFA8DFA8EFA8FFA90FA91FA92FA93FA94FA95FA96FA97FA98FA99FA9AFA9BFA9CFA9DFA9EFA9FFAA0FB40FB41FB42FB43FB44FB45FB46FB47FB48FB49FB4AFB4BFB4CFB4DFB4EFB4FFB50FB51FB52FB53FB54FB55FB56FB57FB58FB59FB5AFB5BC4F1F0AFBCA6F0B0C3F9FB5CC5B8D1BBFB5DF0B1F0B2F0B3F0B4F0B5D1BCFB5ED1ECFB5FF0B7F0B6D4A7FB60CDD2F0B8F0BAF0B9F0BBF0BCFB61FB62B8EBF0BDBAE8FB63F0BEF0BFBEE9F0C0B6ECF0C1F0C2F0C3F0C4C8B5F0C5F0C6FB64F0C7C5F4FB65F0C8FB66FB67FB68F0C9FB69F0CAF7BDFB6AF0CBF0CCF0CDFB6BF0CEFB6CFB6DFB6EFB6FF0CFBAD7FB70F0D0F0D1F0D2F0D3F0D4F0D5F0D6F0D8FB71FB72D3A5F0D7FB73F0D9FB74FB75FB76FB77FB78FB79FB7AFB7BFB7CFB7DF5BAC2B9FB7EFB80F7E4FB81FB82FB83FB84F7E5F7E6FB85FB86F7E7FB87FB88FB89FB8AFB8BFB8CF7E8C2B4FB8DFB8EFB8FFB90FB91FB92FB93FB94FB95F7EAFB96F7EBFB97FB98FB99FB9AFB9BFB9CC2F3FB9DFB9EFB9FFBA0FC40FC41FC42FC43FC44FC45FC46FC47FC48F4F0FC49FC4AFC4BF4EFFC4CFC4DC2E9FC4EF7E1F7E2FC4FFC50FC51FC52FC53BBC6FC54FC55FC56FC57D9E4FC58FC59FC5ACAF2C0E8F0A4FC5BBADAFC5CFC5DC7ADFC5EFC5FFC60C4ACFC61FC62F7ECF7EDF7EEFC63F7F0F7EFFC64F7F1FC65FC66F7F4FC67F7F3FC68F7F2F7F5FC69FC6AFC6BFC6CF7F6FC6DFC6EFC6FFC70FC71FC72FC73FC74FC75EDE9FC76EDEAEDEBFC77F6BCFC78FC79FC7AFC7BFC7CFC7DFC7EFC80FC81FC82FC83FC84F6BDFC85F6BEB6A6FC86D8BEFC87FC88B9C4FC89FC8AFC8BD8BBFC8CDCB1FC8DFC8EFC8FFC90FC91FC92CAF3FC93F7F7FC94FC95FC96FC97FC98FC99FC9AFC9BFC9CF7F8FC9DFC9EF7F9FC9FFCA0FD40FD41FD42FD43FD44F7FBFD45F7FAFD46B1C7FD47F7FCF7FDFD48FD49FD4AFD4BFD4CF7FEFD4DFD4EFD4FFD50FD51FD52FD53FD54FD55FD56FD57C6EBECB4FD58FD59FD5AFD5BFD5CFD5DFD5EFD5FFD60FD61FD62FD63FD64FD65FD66FD67FD68FD69FD6AFD6BFD6CFD6DFD6EFD6FFD70FD71FD72FD73FD74FD75FD76FD77FD78FD79FD7AFD7BFD7CFD7DFD7EFD80FD81FD82FD83FD84FD85B3DDF6B3FD86FD87F6B4C1E4F6B5F6B6F6B7F6B8F6B9F6BAC8A3F6BBFD88FD89FD8AFD8BFD8CFD8DFD8EFD8FFD90FD91FD92FD93C1FAB9A8EDE8FD94FD95FD96B9EAD9DFFD97FD98FD99FD9AFD9";encodeToGb2312(t){for(var r="",i=0;i<t.length;i++){var a=t.charAt(i),l=t.charCodeAt(i);if(a==" ")r+="+";else if(l>=19968&&l<=40869){let c=l-19968;r+="%"+this.z.substr(c*4,2)+"%"+this.z.substr(c*4+2,2)}else r+="%"+t.charCodeAt(i).toString(16)}return r}decodeFromGb2312(t){for(var r="",i=0;i<t.length;i++){var a=t.charAt(i);if(a=="+")r+=" ";else if(a!="%")r+=a;else{i++;var l=t.charAt(i);if(isNaN(parseInt(l)))try{var c=t.substr(i,2)+t.substr(i+3,2);i=i+4;for(var d=-1;(d=this.z.indexOf(c,d+1))!=-1;)if(d%4==0){r+=String.fromCharCode(d/4+19968);break}}catch{}else{i++;try{r+=decodeURIComponent(a+l+t.charAt(i))}catch{console.log("decodeURIComponent error"),console.log(a+l+t.charAt(i))}}}}return r}}let w=new qD;const $D=new FinalizationRegistry(e=>{s.App.DestroyObject(e)}),XD={};class R{imp=0;constructor(t){this.imp=t,this.imp&&$D.register(this,t,XD)}getImp(){return this.imp}initTempObject(t){this.imp=t}get ObjectName(){return this.imp.getObjectName()}get Dxf0(){return this.imp.getDxf0()}getJson(){let t=this.imp.getJson();return w.decodeFromGb2312(t)}setJson(t){let r=w.encodeToGb2312(t);return this.imp.setJson(r)}}var y=(e=>(e[e.kMxCAD=0]="kMxCAD",e[e.kMxDraw=1]="kMxDraw",e[e.kInvalid=2]="kInvalid",e))(y||{});class x{id;type;constructor(t,r){this.id=t,t?this.type=r:this.type=2}isValid(){return this.type!=2&&this.id!=0}erase(){this.type==1?MxFun.getCurrentDraw().eraseMxEntity(this.id):this.type==0&&BD.eraseEntity(this.id)}getMcDbObject(){return this.type==0?s.App.ObjectIdToObject(this.id):null}getObjectName(){if(this.type==0)return s.App.getImp().ObjectIdToObjectName(this.id);if(this.type==1){let t=MxFun.getCurrentDraw().getMxEntity(this.id);if(t)return t.getTypeName()}return""}getMxDbEntity(){return this.type==1?MxFun.getCurrentDraw().getMxEntity(this.id):null}}class v extends R{constructor(t){super(t)}GetObjectID(){return this.imp.GetObjectID()}Erase(){return this.imp.Erase()}Clone(){let t=this.imp.Clone();return s.App.CreateCloneObject(t)}GetHandle(){return this.imp.GetHandle()}GetDatabase(){return new FD(this.imp.GetDatabase())}GetOwnerID(){return this.imp.GetOwnerID()}}class I extends v{constructor(t){super(t)}explode(){let t=this.imp.explode();return new U(t)}get trueColor(){return this.imp.TrueColor()}set trueColor(t){this.imp.SetTrueColor(t)}get colorIndex(){return this.imp.ColorIndex()}set colorIndex(t){this.imp.SetColorIndex(t)}get layer(){return this.imp.layer()}set layer(t){this.imp.SetLayer(t)}get linetypeScale(){return this.imp.ColorIndex()}set linetypeScale(t){this.imp.SetLinetypeScale(t)}get visible(){return this.imp.visible()}set visible(t){this.imp.SetVisible(t)}get lineweight(){return this.imp.Lineweight()}set lineweight(t){this.imp.SetLineweight(t)}get textStyle(){return this.imp.TextStyle()}set textStyle(t){this.imp.SetTextStyle(t)}highlight(t){this.imp.Highlight(t)}Move(t,r){return this.imp.Move(t,r)}Rotate(t,r){return this.imp.Rotate(t,r)}Mirror(t,r){return this.imp.Mirror(t,r)}ScaleEntity(t,r){return this.imp.ScaleEntity(t,r)}TransformBy(t){return this.imp.TransformBy(t)}GetBoundingBox(){let t=this.imp.GetBoundingBox();if(t){let r={minPt:t.AtPoint(0).val,maxPt:t.AtPoint(1).val,ret:0};return s.App.DestroyObject(t),r}else return{minPt:s.NewMcGePoint3d(),maxPt:s.NewMcGePoint3d(),ret:1}}}class q extends I{constructor(t){super(t)}getStartParam(){return{val:this.imp.getStartParam(),ret:s.getCallResult()}}getEndParam(){return{val:this.imp.getEndParam(),ret:s.getCallResult()}}getDistAtParam(t){return{val:this.imp.getDistAtParam(t),ret:s.getCallResult()}}getParamAtDist(t){return{val:this.imp.getParamAtDist(t),ret:s.getCallResult()}}getDistAtPoint(t){return{val:this.imp.getDistAtPoint(t),ret:s.getCallResult()}}getPointAtDist(t){return{val:this.imp.getPointAtDist(t),ret:s.getCallResult()}}getStartPoint(){return{val:this.imp.getStartPoint(),ret:s.getCallResult()}}getEndPoint(){return{val:this.imp.getStartPoint(),ret:s.getCallResult()}}getPointAtParam(t){return{val:this.imp.getPointAtParam(t),ret:s.getCallResult()}}getParamAtPoint(t){return{val:this.imp.getParamAtPoint(t),ret:s.getCallResult()}}getFirstDeriv(t){return{val:this.imp.getFirstDeriv(t),ret:s.getCallResult()}}getFirstDerivEx(t){return{val:this.imp.getFirstDerivEx(t),ret:s.getCallResult()}}getClosestPointTo(t,r){return{val:this.imp.getClosestPointTo(t,r),ret:s.getCallResult()}}offsetCurves(t,r){let i=this.imp.offsetCurves(t,r);return new U(i)}splitCurves(t){let r=this.imp.splitCurves(t);return new U(r)}getArea(){return{val:this.imp.getArea(),ret:s.getCallResult()}}getSamplePoints(t){let r=this.imp.getSamplePoints(t);return new U(r)}getLength(){return{val:this.imp.getLength(),ret:s.getCallResult()}}}class H extends q{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbLine)}get startPoint(){return this.imp.startPoint()}set startPoint(t){this.imp.setStartPoint(t)}get endPoint(){return this.imp.endPoint()}set endPoint(t){this.imp.setEndPoint(t)}}class _ extends I{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbText)}get position(){return this.imp.position()}set position(t){this.imp.setPosition(t)}get alignmentPoint(){return this.imp.position()}set alignmentPoint(t){this.imp.setAlignmentPoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get height(){return this.imp.height()}set height(t){this.imp.setHeight(t)}get widthFactor(){return this.imp.widthFactor()}set widthFactor(t){this.imp.setWidthFactor(t)}get textString(){return w.decodeFromGb2312(this.imp.textString())}set textString(t){this.imp.setTextString(w.encodeToGb2312(t))}get horizontalMode(){return this.imp.horizontalMode()}set horizontalMode(t){this.imp.setHorizontalMode(t)}get verticalMode(){return this.imp.verticalMode()}set verticalMode(t){this.imp.setVerticalMode(t)}}class Z extends I{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbMText)}get location(){return this.imp.location()}set location(t){this.imp.setLocation(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get width(){return this.imp.width()}set width(t){this.imp.setWidth(t)}get textHeight(){return this.imp.textHeight()}set textHeight(t){this.imp.setTextHeight(t)}get attachment(){return this.imp.attachment()}set attachment(t){this.imp.setAttachment(t)}get contents(){return w.decodeFromGb2312(this.imp.contents())}set contents(t){this.imp.setContents(w.encodeToGb2312(t))}}class DD extends q{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbCircle)}setCenter(t,r,i){this.imp.setCenter(t,r,i)}get center(){return this.imp.center()}set center(t){this.imp.setCenter(t)}get radius(){return this.imp.radius()}set radius(t){this.imp.setRadius(t)}}class uD extends q{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbPolyline)}get isClosed(){return this.imp.isClosed()}set isClosed(t){this.imp.setClosed(t)}get constantWidth(){return this.imp.getConstantWidth()}set constantWidth(t){this.imp.setConstantWidth(t)}addVertexAt(t,r,i,a,l){return this.imp.addVertexAt(t,r,i,a,l)}removeVertexAt(t){return this.imp.removeVertexAt(t)}numVerts(){return this.imp.numVerts()}getPointAt(t){return{val:this.imp.getPointAt(t),ret:s.getCallResult()}}getBulgeAt(t){return this.imp.getBulgeAt(t)}getWidthsAt(t){return{val1:this.imp.getStartWidthsAt(t),val2:this.imp.getEndWidthsAt(t),ret:s.getCallResult()}}setPointAt(t,r){return this.imp.setPointAt(t,r)}setBulgeAt(t,r){return this.imp.setBulgeAt(t,r)}}class lD extends I{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockReference)}get blockTableRecordId(){return new x(this.imp.blockTableRecord(),y.kMxCAD)}set blockTableRecordId(t){this.imp.setBlockTableRecordId(t.id)}get position(){return this.imp.position()}set position(t){this.imp.setPosition(t)}get scaleFactors(){return this.imp.scaleFactors()}set scaleFactors(t){this.imp.setScaleFactors(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}get blockTransform(){return this.imp.blockTransform()}set blockTransform(t){this.imp.setBlockTransform(t)}}class CD extends I{constructor(t){super(t)}get textPosition(){return this.imp.textPosition()}set textPosition(t){this.imp.setTextPosition(t)}isUsingDefaultTextPosition(){return this.imp.isUsingDefaultTextPosition()}useSetTextPosition(){return this.imp.useSetTextPosition()}useDefaultTextPosition(){return this.imp.useDefaultTextPosition()}get elevation(){return this.imp.elevation()}set elevation(t){this.imp.setElevation(t)}get dimensionText(){return this.imp.dimensionText()}set dimensionText(t){this.imp.setDimensionText(t)}get textRotation(){return this.imp.textRotation()}set textRotation(t){this.imp.setTextRotation(t)}get dimensionStyle(){return new x(this.imp.dimensionStyle(),y.kMxCAD)}set dimensionStyle(t){this.imp.setDimensionStyle(t.id)}get textAttachment(){return this.imp.textAttachment()}set textAttachment(t){this.imp.setTextAttachment(t)}get horizontalRotation(){return this.imp.horizontalRotation()}set horizontalRotation(t){this.imp.setHorizontalRotation(t)}recomputeDimBlock(){this.imp.recomputeDimBlock(!0)}getDimVarInt(t){return this.imp.GetDimVarInt(t)}setDimVarInt(t,r){this.imp.SetDimVarInt(t,r)}getDimVarDouble(t){return this.imp.GetDimVarDouble(t)}setDimVarDouble(t,r){this.imp.SetDimVarDouble(t,r)}getDimVarString(t){return this.imp.GetDimVarString(t)}setDimVarString(t,r){this.imp.SetDimVarString(t,r)}getDimVarObjectId(t){return new x(this.imp.GetDimVarObjectId(t),y.kMxCAD)}setDimVarObjectId(t,r){this.imp.SetDimVarObjectId(t,r.id)}}class cD extends CD{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbAlignedDimension)}get xLine1Point(){return this.imp.xLine1Point()}set xLine1Point(t){this.imp.setXLine1Point(t)}get xLine2Point(){return this.imp.xLine2Point()}set xLine2Point(t){this.imp.setXLine2Point(t)}get dimLinePoint(){return this.imp.dimLinePoint()}set dimLinePoint(t){this.imp.setDimLinePoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}}class dD extends CD{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbRotatedDimension)}get xLine1Point(){return this.imp.xLine1Point()}set xLine1Point(t){this.imp.setXLine1Point(t)}get xLine2Point(){return this.imp.xLine2Point()}set xLine2Point(t){this.imp.setXLine2Point(t)}get dimLinePoint(){return this.imp.dimLinePoint()}set dimLinePoint(t){this.imp.setDimLinePoint(t)}get oblique(){return this.imp.oblique()}set oblique(t){this.imp.setOblique(t)}get rotation(){return this.imp.rotation()}set rotation(t){this.imp.setRotation(t)}}function W(e=null){let t;return e==null?t=new s.mxcadassemblyimp.McDrawResbuf:t=e.getImp(),t}class U extends R{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.McDrawResbuf)}Clear(){this.imp.Clear()}GetCount(){return this.imp.GetCount()}AtDouble(t){return{val:this.imp.AtDouble(t),ret:s.getCallResult()}}Atlong(t){return{val:this.imp.Atlong(t),ret:s.getCallResult()}}AtObject(t){if(this.imp.AtObjectName(t)=="McDbMText"){let r=this.imp.AtObjectMdDbMText(t);if(r)return{val:new Z(r),ret:s.getCallResult()}}return{val:void 0,ret:-1}}AddObject(t){this.imp.AddObject(t.getImp())}AtObjectId(t){return{val:new x(this.imp.AtObjectId(t),y.kMxCAD),ret:s.getCallResult()}}AtString(t){return{val:w.decodeFromGb2312(this.imp.AtString(t)),ret:s.getCallResult()}}AtPoint(t){return{val:this.imp.AtPoint(t),ret:s.getCallResult()}}ItemDataType(){return this.imp.ItemDataType()}AddDouble(t,r=-10){return this.imp.AddDouble(t,r)}Addlong(t,r=-10){return this.imp.Addlong(t,r)}AddObjectId(t,r=-10){return this.imp.AddObjectId(t,r)}AddString(t,r=-10){return this.imp.AddString(t,r)}AddPoint(t,r=-10){return this.imp.AddPoint(t,r)}RemoveAll(){this.imp.RemoveAll()}Remove(t){this.imp.Remove(t)}}class mD{imp;constructor(){}eraseEntity(t){return this.init(),this.imp.eraseEntity(t)}highlightEntity(t,r=!0){return this.init(),this.imp.highlightEntity(t,r)}findEntAtPoint(t,r,i,a=-1,l=null){this.init();let c=this.imp.findEntAtPoint(t,r,i,a,W(l));return new x(c,y.kMxCAD)}selectEnt(t,r=null){return this.init(),new Promise(async i=>{const a=new MrxDbgUiPrPoint;t&&a.setMessage(t),a.setCursorType(MxCursorType.kRect);let l=await a.go();if(!l){i([]);return}MrxDbgUtils.findEntAtPoint(l).then(c=>{let d=[];c.forEach(C=>{d.push(new x(C,y.kMxDraw))});let E=this.findEntAtPoint(l.x,l.y,l.z,-1,r);E.isValid()&&d.push(E),i(d)})})}init(){this.imp||(this.imp=new s.mxcadassemblyimp.McDrawUtility)}}let BD=new mD;class pD extends R{constructor(){super(),this.initTempObject(new s.mxcadassemblyimp.McDrawSelSet)}allSelect(t=null){return this.imp.allSelect(W(t))}pointSelect(t,r,i=null,a=-1){return this.imp.pointSelect(t,r,W(i),a)}crossingSelect(t,r,i,a,l=null){return this.imp.crossingSelect(t,r,i,a,W(l))}count(){return this.imp.count()}item(t){return new x(this.imp.item(t),y.kMxCAD)}}const ED="1.0.56",JD="SharedArrayBuffer"in window,$$1=document.currentScript&&/unpkg\.com\/mxcad/.test(document.currentScript.src),YD=(e,t=self.location.href)=>$$1?`https://unpkg.com/mxcad@${ED}/dist/wasm/2d-st/${e}`:t+e,QD=(e,t=self.location.href)=>$$1?`https://unpkg.com/mxcad@${ED}/dist/wasm/2d/${e}`:t+e,hD=e=>new Promise((t,r)=>{const i=document.createElement("script");i.src=e,i.type="text/javascript",i.crossOrigin="anonymous",document.body.appendChild(i),i.onload=()=>{t()},i.onerror=a=>{r(a)}}),DC=async(e,t,r)=>{const{locateFile:i}=r,a=i(e+".js");return await hD(a),await globalThis[t](r)};class j{imp;mxObject;static currentFileName;constructor(t){this.imp=t}initMxObject(t){this.mxObject=t}getImp(){return this.imp}getMxCppImp(){return s.mxcadassemblyimp}updateDisplay(t,r){this.imp.updateDisplay(t,r)}test(){this.imp.test()}openWebFile(t,r,i=!0){let a=Math.round(Math.random()*1e7);if(r){let l=this,c=(d,E)=>{l.mxObject.removeEventFuction("openFileComplete",c),a==E&&r(d)};l.mxObject.addEvent("openFileComplete",c)}return j.currentFileName=t.split("/").pop(),this.imp.openWebFile(t,i,a)}getCurrentFileName(){return j.currentFileName}saveFileToUrl(t){return this.imp.saveFileToUrl(t)}saveFile(t,r,i=!0,a=!0){t||(t=this.getCurrentFileName());const l=window;return l.mx_saveFile_call=c=>{if(console.log(t),r&&r(c),!!c){if(i){let d;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?d=new Blob([c.buffer],{type:"application/octet-stream"}):d=new Blob([c.buffer],{type:"application/octet-binary"}),a?V.saveAsFileDialog({blob:d,filename:t,types:[{description:"mxweb File",accept:{"application/octet-stream":[".mxweb"]}}]}):V.downloadFile(d,t)}l.mx_saveFile_call=null}},this.imp.saveFile(t)}GetDatabase(){return new FD(this.imp.GetDatabase())}GetSysVarString(t){return this.imp.GetSysVarString(t)}SetSysVarString(t,r){return this.imp.SetSysVarString(t,r)}GetSysVarDouble(t){return this.imp.GetSysVarDouble(t)}SetSysVarDouble(t,r){return this.imp.SetSysVarDouble(t,r)}GetSysVarLong(t){return this.imp.GetSysVarLong(t)}SetSysVarLong(t,r){return this.imp.SetSysVarLong(t,r)}get DrawColor(){return this.imp.GetDrawColor()}set DrawColor(t){this.imp.SetDrawColor(t)}get DrawLineWeight(){return this.imp.GetDrawLineWeight()}set DrawLineWeight(t){this.imp.SetDrawLineWeight(t)}get DrawLineTypeScale(){return this.imp.GetDrawLineTypeScale()}set DrawLineTypeScale(t){this.imp.SetDrawLineTypeScale(t)}get DrawLinetype(){return this.imp.GetDrawLinetype()}set DrawLinetype(t){this.imp.SetDrawLinetype(t)}get DrawTextStyle(){return this.imp.GetDrawTextStyle()}set DrawTextStyle(t){this.imp.SetDrawTextStyle(t)}get DrawLayer(){return this.imp.GetDrawLayer()}set DrawLayer(t){this.imp.SetDrawLayer(t)}AddLayer(t){this.imp.AddLayer(t)}AddTextStyle(t,r,i,a){this.imp.AddTextStyle(t,r,i,a)}AddLinetype(t,r){this.imp.AddLinetype(t,r)}AddLinetypeEx(t,r,i){this.imp.AddLinetypeEx(t,r,i)}DrawLine(t,r,i,a,l,c){return this.imp.DrawLine(t,r,i,a,l,c)}AddDimStyle(t,r,i,a,l){return this.imp.AddDimStyle(t,r,i,a,l)}get DrawDimStyle(){return this.imp.GetDrawDimStyle()}set DrawDimStyle(t){this.imp.SetDrawDimStyle(t)}get DrawPatternDefinition(){return this.imp.GetPatternDefinition()}set DrawPatternDefinition(t){this.imp.SetPatternDefinition(t)}get DrawLineWidth(){return this.imp.GetDrawLineWidth()}set DrawLineWidth(t){this.imp.SetDrawLineWidth(t)}DrawArc(t,r,i,a,l){return this.imp.DrawArc(t,r,i,a,l)}DrawArc2(t,r,i,a,l,c){return this.imp.DrawArc2(t,r,i,a,l,c)}DrawCircle(t,r,i){return this.imp.DrawCircle(t,r,i)}DrawEllipse(t,r,i,a,l){return this.imp.DrawEllipse(t,r,i,a,l)}DrawEllipseArc(t,r,i,a,l,c,d){return this.imp.DrawEllipseArc(t,r,i,a,l,c,d)}DrawPoint(t,r){return this.imp.DrawPoint(t,r)}DrawSolid(t,r,i,a,l,c,d,E){return this.imp.DrawSolid(t,r,i,a,l,c,d,E)}DrawMText(t,r,i,a,l,c,d){return this.imp.DrawMText(t,r,i,a,l,c,d)}DrawText(t,r,i,a,l,c,d){return this.imp.DrawTextDrawText(t,r,i,a,l,c,d)}DrawBlockReference(t,r,i,a,l){return this.imp.DrawBlockReference(t,r,i,a,l)}DrawDimAligned(t,r,i,a,l,c){return this.imp.DrawDimAligned(t,r,i,a,l,c)}DrawDimAngular(t,r,i,a,l,c,d,E){return this.imp.DrawDimAngular(t,r,i,a,l,c,d,E)}DrawDimDiametric(t,r,i,a,l){return this.imp.DrawDimDiametric(t,r,i,a,l)}DrawDimRotated(t,r,i,a,l,c,d){return this.imp.DrawDimRotated(t,r,i,a,l,c,d)}DrawDimOrdinate(t,r,i,a,l){return this.imp.DrawDimOrdinate(t,r,i,a,l)}DrawDimRadial(t,r,i,a,l){return this.imp.DrawDimRadial(t,r,i,a,l)}PathMoveTo(t,r){this.imp.PathMoveTo(t,r)}PathMoveToEx(t,r,i,a,l){this.imp.PathMoveToEx(t,r,i,a,l)}PathLineTo(t,r){this.imp.PathLineTo(t,r)}PathLineToEx(t,r,i,a,l){this.imp.PathLineToEx(t,r,i,a,l)}DrawPathToPolyline(){return this.imp.DrawPathToPolyline()}DrawPathToSpline(){return this.imp.DrawPathToSpline()}PathMakeClosed(){this.imp.PathMakeClosed()}DrawPathToHatch(t){return this.imp.DrawPathToHatch(t)}DrawEntity(t){return this.imp.DrawEntity(t.getImp())}ObjectIdToObject(t){return s.App.ObjectIdToObject(t)}CloneMcDbObject(t){let r=this.imp.CloneMcDbObject(t);return s.App.CreateCloneObject(r)}ObjectIdToMdObjectImp(t){return s.App.getImp().ObjectIdToMdObject(t)}DestroyObject(t){!t||s.App.getImp().DestroyObject(t)}}class wD{imp;init(t){this.imp=t}getImp(){return this.imp}getLastCallResult(){return this.imp.getLastCallResult()}CreateMxCAD(t,r,i,a,l){let c=this.imp.CreateMxDraw(t,r,i,a,l);return new j(c)}DestroyObject(t){this.imp.DestroyObject(t)}GetCurrentMxCAD(){return new j(this.imp.GetCurrentMxDraw())}mcedRGB2Index(t,r,i,a=!0){return this.imp.mcedRGB2Index(t,r,i,a)}ObjectIdToObject(t){if(!t)return null;let r=this.imp.ObjectIdToObjectName(t);if(r=="McDbLine"){let i=this.imp.ObjectIdToMdDbLine(t);return new H(i)}else if(r=="McDbText"){let i=this.imp.ObjectIdToMdDbText(t);return new _(i)}else if(r=="McDbPolyline"){let i=this.imp.ObjectIdToMdDbPolyline(t);return new uD(i)}else if(r=="McDbCircle"){let i=this.imp.ObjectIdToMdDbCircle(t);return new DD(i)}else if(r=="McDbBlockReference"){let i=this.imp.ObjectIdToMdDbBlockReference(t);return new lD(i)}else if(r=="McDbAlignedDimension"){let i=this.imp.ObjectIdToMdDbAlignedDimension(t);return new cD(i)}else if(r=="McDbRotatedDimension"){let i=this.imp.ObjectIdToMdDbRotatedDimension(t);return new dD(i)}else if(r=="McDbMText"){let i=this.imp.ObjectIdToMdDbMText(t);return new Z(i)}return console.log("Mx ObjectIdToObject error type:"+r),null}CreateCloneObject(t){let r=t.getObjectName();if(r=="McDbLine"){let i=new H;return i.getImp().ConnectionTempObject(t),s.App.DestroyObject(t),i}else if(r=="McDbText"){let i=new _;return i.getImp().ConnectionTempObject(t),s.App.DestroyObject(t),i}return console.log("Mx: Clone error type"),new v(t)}}class gD{mxcadassemblyimp;App=new wD;NewMcCmColor(){return new this.mxcadassemblyimp.MdCmColor}getCallResult(){return this.App.getLastCallResult()}NewMcGePoint3d(t,r){if(r&&t&&t.x&&t.y){let a=t.z||0;t=MxFun.getCurrentDraw().docCoord2Cad(t.x,t.y,a)}let i=new this.mxcadassemblyimp.MdGePoint3d;return t&&t.x&&t.y&&(i.x=t.x,i.y=t.y,t.z&&(i.y=t.z)),i}NewMcGePoint3d2(t,r,i){let a=new this.mxcadassemblyimp.MdGePoint3d;return a.x=t,a.y=r,i&&(a.y=i),a}}let s;async function yD(e,t=JD||!$$1?YD:QD,r){return new Promise(async(i,a)=>{try{if(s||(s=new gD),s.mxcadassemblyimp)return e&&e(s),i(s);const l=await DC("mxdrawassembly_min","mxdrawassembly",{locateFile:t,wasmBinary:r});s.mxcadassemblyimp=l;let c=new l.McApp;c.Init(),s.App.init(c),s.App.GetCurrentMxCAD(),e&&e(s),i(s)}catch(l){a(l)}})}var Q;(e=>{(t=>{t[t.kTextLeft=0]="kTextLeft",t[t.kTextCenter=1]="kTextCenter",t[t.kTextRight=2]="kTextRight",t[t.kTextAlign=3]="kTextAlign",t[t.kTextMid=4]="kTextMid",t[t.kTextFit=5]="kTextFit"})(e.TextHorzMode||(e.TextHorzMode={})),(t=>{t[t.kTextBase=0]="kTextBase",t[t.kTextBottom=1]="kTextBottom",t[t.kTextVertMid=2]="kTextVertMid",t[t.kTextTop=3]="kTextTop"})(e.TextVertMode||(e.TextVertMode={})),(t=>{t[t.kTopLeft=1]="kTopLeft",t[t.kTopCenter=2]="kTopCenter",t[t.kTopRight=3]="kTopRight",t[t.kMiddleLeft=4]="kMiddleLeft",t[t.kMiddleCenter=5]="kMiddleCenter",t[t.kMiddleRight=6]="kMiddleRight",t[t.kBottomLeft=7]="kBottomLeft",t[t.kBottomCenter=8]="kBottomCenter",t[t.kBottomRight=9]="kBottomRight",t[t.kBaseLeft=10]="kBaseLeft",t[t.kBaseCenter=11]="kBaseCenter",t[t.kBaseRight=12]="kBaseRight",t[t.kBaseAlign=13]="kBaseAlign",t[t.kBottomAlign=14]="kBottomAlign",t[t.kMiddleAlign=15]="kMiddleAlign",t[t.kTopAlign=16]="kTopAlign",t[t.kBaseFit=17]="kBaseFit",t[t.kBottomFit=18]="kBottomFit",t[t.kMiddleFit=19]="kMiddleFit",t[t.kTopFit=20]="kTopFit",t[t.kBaseMid=21]="kBaseMid",t[t.kBottomMid=22]="kBottomMid",t[t.kMiddleMid=23]="kMiddleMid",t[t.kTopMid=24]="kTopMid"})(e.AttachmentPoint||(e.AttachmentPoint={})),(t=>{t[t.kLnWt000=0]="kLnWt000",t[t.kLnWt005=5]="kLnWt005",t[t.kLnWt009=9]="kLnWt009",t[t.kLnWt013=13]="kLnWt013",t[t.kLnWt015=15]="kLnWt015",t[t.kLnWt018=18]="kLnWt018",t[t.kLnWt020=20]="kLnWt020",t[t.kLnWt025=25]="kLnWt025",t[t.kLnWt030=30]="kLnWt030",t[t.kLnWt035=35]="kLnWt035",t[t.kLnWt040=40]="kLnWt040",t[t.kLnWt050=50]="kLnWt050",t[t.kLnWt053=53]="kLnWt053",t[t.kLnWt060=60]="kLnWt060",t[t.kLnWt070=70]="kLnWt070",t[t.kLnWt080=80]="kLnWt080",t[t.kLnWt090=90]="kLnWt090",t[t.kLnWt100=100]="kLnWt100",t[t.kLnWt106=106]="kLnWt106",t[t.kLnWt120=120]="kLnWt120",t[t.kLnWt140=140]="kLnWt140",t[t.kLnWt158=158]="kLnWt158",t[t.kLnWt200=200]="kLnWt200",t[t.kLnWt211=211]="kLnWt211",t[t.kLnWtByLayer=-1]="kLnWtByLayer",t[t.kLnWtByBlock=-2]="kLnWtByBlock",t[t.kLnWtByLwDefault=-3]="kLnWtByLwDefault"})(e.LineWeight||(e.LineWeight={}))})(Q||(Q={}));class bD extends v{constructor(t){super(t)}}class xD extends v{constructor(t){super(t)}}class fD extends v{constructor(t){super(t)}}class FD extends R{constructor(t){super(t)}GetLayerTable(){return new bD(this.imp.GetLayerTable())}GetLinetypeTable(){return new xD(this.imp.GetLinetypeTable())}GetTextStyleTable(){return new fD(this.imp.GetTextStyleTable())}GetBlockTable(){return new kD(this.imp.GetBlockTable())}CurrentSpace(){return new X(this.imp.CurrentSpace())}GetCurrentlyLineTypeScale(){return this.imp.GetCurrentlyLineTypeScale()}SetCurrentlyLineTypeScale(t){return this.imp.SetCurrentlyLineTypeScale(t)}GetCurrentlyLineTypeName(){let t=this.imp.GetCurrentlyLineTypeName();return w.decodeFromGb2312(t)}SetCurrentlyLineTypeName(t){let r=w.encodeToGb2312(t);this.imp.SetCurrentlyLineTypeName(r)}GetCurrentlyLayerName(){let t=this.imp.GetCurrentlyLayerName();return w.decodeFromGb2312(t)}SetCurrentlyLayerName(t){let r=w.encodeToGb2312(t);this.imp.SetCurrentlyLayerName(r)}GetCurrentlyTrueColor(){return this.imp.GetCurrentlyTrueColor()}SetCurrentlyTrueColor(t){return this.imp.SetCurrentlyTrueColor(t)}GetCurrentlyColorIndex(){return this.imp.GetCurrentlyColorIndex()}SetCurrentlyColorIndex(t){return this.imp.SetCurrentlyColorIndex(t)}GetCurrentlyTextStyleName(){let t=this.imp.GetCurrentlyTextStyleName();return w.decodeFromGb2312(t)}SetCurrentlyTextStyle(t){let r=w.encodeToGb2312(t);this.imp.SetCurrentlyTextStyle(r)}}class MD extends R{constructor(t){super(t)}start(t=!0,r=!0){this.imp.start(t,r)}done(){return this.imp.done()}getEntityId(){return new x(this.imp.getEntityId(),y.kMxCAD)}step(t=!0,r=!0){return this.imp.step(t,r)}}class X extends v{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockTableRecord)}appendAcDbEntity(t){return new x(this.imp.appendAcDbEntity(t.getImp()),y.kMxCAD)}newIterator(t=!0,r=!0){let i=this.imp.newIterator(t,r);return new MD(i)}get origin(){return this.imp.origin()}set origin(t){this.imp.setOrigin(t)}}class TD extends R{constructor(t){super(t)}start(t=!0,r=!0){this.imp.start(t,r)}done(){return this.imp.done()}getRecord(){let t=this.imp.getRecord();return new X(t)}step(t=!0,r=!0){this.imp.start(t,r)}}class kD extends v{constructor(t){super(t),t||this.initTempObject(new s.mxcadassemblyimp.MdDbBlockTable)}getAt(t){let r=this.getAt(t);return r&&new X(r)}has(t){return this.imp.has(t)}newIterator(t=!0,r=!0){let i=this.imp.newIterator(t,r);return new TD(i)}add(t){return this.imp.add(t.getImp())}}class eC extends MxDbCircleShape{getGripPoints(){const{x:t,y:r,z:i}=this.center;let a=new THREE.Vector3(t,r+this.radius,i),l=new THREE.Vector3(t,r-this.radius,i),c=new THREE.Vector3(t-this.radius,r,i),d=new THREE.Vector3(t+this.radius,r,i);return[this.center,a,l,c,d]}moveGripPointsAt(t,r){const[i,a,l,c,d]=this.getGripPoints();return t===0&&(this.center=i.add(r)),t===1&&(this.radius=a.add(r).distanceTo(this.center)),t===2&&(this.radius=l.add(r).distanceTo(this.center)),t===3&&(this.radius=c.add(r).distanceTo(this.center)),t===4&&(this.radius=d.add(r).distanceTo(this.center)),!0}}const eD=e=>{const[t,r,i]=e,{x:a,y:l,z:c}=t,{x:d,y:E,z:C}=r,{x:D,y:f,z:A}=i,S=l*C-E*c-l*A+f*c+E*A-f*C,L=-(a*C-d*c-a*A+D*c+d*A-D*C),N=a*E-d*l-a*f+D*l+d*f-D*E,G=-(a*E*A-a*f*C-d*l*A+d*f*c+D*l*C-D*E*c),ie=2*(d-a),le=2*(E-l),ae=2*(C-c),he=a*a+l*l+c*c-d*d-E*E-C*C,pe=2*(D-a),B=2*(f-l),se=2*(A-c),oe=a*a+l*l+c*c-D*D-f*f-A*A,O=-(L*ae*oe-L*se*he-le*N*oe+le*se*G+B*N*he-B*ae*G)/(S*le*se-S*B*ae-ie*L*se+ie*B*N+pe*L*ae-pe*le*N),T=(S*ae*oe-S*se*he-ie*N*oe+ie*se*G+pe*N*he-pe*ae*G)/(S*le*se-S*B*ae-ie*L*se+ie*B*N+pe*L*ae-pe*le*N),ce=-(S*le*oe-S*B*he-ie*L*oe+ie*B*G+pe*L*he-pe*le*G)/(S*le*se-S*B*ae-ie*L*se+ie*B*N+pe*L*ae-pe*le*N);return new THREE.Vector3(O,T,ce)};function PD(){const e=new MrxDbgUiPrPoint;let t=new eC;MxPaintBrush.use(t),t.closed=!1;let r=0,i="default",a=!0;const l=()=>{e.setUserDraw((S,L)=>{t.radius=a?t.center.distanceTo(S):t.center.distanceTo(S)/2,L.drawCustomEntity(t),L.drawLine(t.center,S)})},c=S=>{if(i==="default"){if(S===MrxDbgUiPrBaseReturn$1.kOk){if(r===0)e.setMessage(`
\u6307\u5B9A\u5706\u7684\u534A\u5F84:`),e.setKeyWords("[\u76F4\u5F84(D)]"),t.center=e.value(),l();else if(r===1)return MxFun.getCurrentDraw().addMxEntity(t),!0;r++}S===MrxDbgUiPrBaseReturn$1.kKeyWord&&e.isKeyWordPicked("D")&&(a=!1,l(),e.setMessage(`
\u6307\u5B9A\u5706\u7684\u76F4\u5F84:`),e.setKeyWords(""))}};let d=[];const E=S=>{if(i==="3P"&&(e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E00\u4E2A\u70B9:`),S===MrxDbgUiPrBaseReturn$1.kOk)){if(r===0&&(d.push(e.value()),e.setUserDraw((L,N)=>{N.drawLine(d[0],L)}),e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E8C\u4E2A\u70B9:`)),r===1&&(d.push(e.value()),e.setUserDraw((L,N)=>{const[G,ie]=d,le=L;t.center=eD([G,ie,le]),t.radius=t.center.distanceTo(G),N.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u5706\u4E0A\u7684\u7B2C\u4E09\u4E2A\u70B9:`)),r===2)return d.push(e.value()),t.center=eD(d),t.radius=t.center.distanceTo(d[0]),MxFun.getCurrentDraw().addMxEntity(t),!0;r++}};let C;const D=(S,L)=>{new THREE.Line3(S,L).getCenter(t.center),t.radius=L.distanceTo(S)/2},f=S=>{if(i==="2P"&&(e.setMessage(`
\u6307\u5B9A\u5706\u76F4\u5F84\u7684\u7B2C\u4E00\u4E2A\u7AEF\u70B9:`),S===MrxDbgUiPrBaseReturn$1.kOk)){if(r===0&&(C=e.value(),e.setUserDraw((L,N)=>{D(C,L),N.drawCustomEntity(t),N.drawLine(C,L)}),e.setMessage(`
\u6307\u5B9A\u5706\u76F4\u5F84\u7684\u7B2C\u4E8C\u4E2A\u7AEF\u70B9:`)),r===1)return D(C,e.value()),MxFun.getCurrentDraw().addMxEntity(t),!0;r++}},A=S=>{if(i==="T"){if(e.setMessage(`
\u6307\u5B9A\u5BF9\u8C61\u4E0E\u5706\u7684\u7B2C\u4E00\u4E2A\u5207\u70B9:`),S===MrxDbgUiPrBaseReturn$1.kOk){if(r===0){const L=e.value();console.log(L),MxFun.getCurrentDraw()}r++}return!0}};e.setMessage(`
\u6307\u5B9A\u5706\u7684\u5706\u5FC3\u6216[\u4E09\u70B9(3P)/\u4E24\u70B9(2P)/\u5207\u70B9\u3001\u5207\u70B9\u3001\u534A\u5F84(T)]:`),e.setKeyWords("3P 2P T"),e.goWhile(S=>{if(S===MrxDbgUiPrBaseReturn$1.kKeyWord&&(e.isKeyWordPicked("3P")?i="3P":e.isKeyWordPicked("2P")?i="2P":e.isKeyWordPicked("T")&&(i="T")),c(S))return{exit:!0};if(E(S))return{exit:!0};if(f(S))return{exit:!0};if(A(S))return{exit:!0}},S=>{S===MrxDbgUiPrBaseReturn$1.kCancel&&MxFun.getCurrentDraw().addMxEntity(t)})}MxFun.addCommand("Mx_Circle",PD);const tD=()=>store.state.MxFun.stopRunCommand();function J(e,t,r,i){const a=e-r,l=t-i;let c=0;return a==0?c=Math.PI/2:c=Math.atan(Math.abs(l/a)),a<0&&l>=0?c=Math.PI-c:a<0&&l<0?c=Math.PI+c:a>=0&&l<0&&(c=Math.PI*2-c),c}async function LD(){const e=new MrxDbgUiPrPoint;let t=new MxDbLine,r=[];e.setMessage(`
\u6307\u5B9A\u7B2C\u4E00\u70B9:`);let i=await e.go();e.setUserDraw((l,c)=>{r.forEach(d=>{c.drawCustomEntity(d)}),c.drawLine(i,l)});const a=()=>{e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),r.length>1?e.setKeyWords("[\u9000\u51FA(E)/\u95ED\u5408(C)/\u653E\u5F03(U)]"):e.setKeyWords("[\u9000\u51FA(E)/\u653E\u5F03(U)]")};a(),e.goWhile(l=>{if(l===MrxDbgUiPrBaseReturn$1.kOk&&(t=new MxDbLine,MxPaintBrush.use(t),t.pt1=i,t.pt2=e.value(),i=t.pt2.clone(),r.push(t),a()),l===MrxDbgUiPrBaseReturn$1.kKeyWord){if(e.isKeyWordPicked("E"))tD();else if(e.isKeyWordPicked("C")){const c=new MxDbLine;return c.pt1=i.clone(),c.pt2=r[0].pt1.clone(),MxPaintBrush.use(c),r.push(c),i=c.pt2.clone(),tD(),{exit:!0}}}},l=>(l===MrxDbgUiPrBaseReturn$1.kCancel&&r.forEach(c=>{MxFun.getCurrentDraw().addMxEntity(c)}),{exit:!0}))}async function tC(){{const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=await e.go();if(!t)return;let r=new H,i=new _;i.textString="\u6D4B\u8BD5Test",i.height=MxFun.viewCoordLong2Cad(100),r.startPoint=s.NewMcGePoint3d(t),e.setUserDraw((l,c)=>{r.endPoint=s.NewMcGePoint3d(l),i.position=s.NewMcGePoint3d(l),i.alignmentPoint=i.position,c.drawMcDbEntity(r),c.drawMcDbEntity(i)}),e.setMessage(`
\u6307\u5B9A\u4E8C\u70B9:`),await e.go();let a=s.App.GetCurrentMxCAD();a.DrawEntity(i),a.DrawEntity(r)}}async function iC(){let e=new pD;e.allSelect();let t=e.count(),r=0;for(;r<t;r++){let i=e.item(r),a=i.getObjectName();if(a=="McDbAlignedDimension"||a=="McDbRotatedDimension"){let l=i.getMcDbObject().explode();if(l.GetCount()==0)return;let c=l.GetCount();for(let d=0;d<c;d++){let E=l.AtObject(d).val;E?.ObjectName=="McDbMText"&&console.log(E.contents)}}}}MxFun.addCommand("Mx_Line",LD);MxFun.addCommand("Mx_TestDraw",tC);MxFun.addCommand("Mx_Test_GetDim",iC);async function vD(){const e=new MrxDbgUiPrPoint,t=new MxDbPolyline;MxPaintBrush.use(t),e.setMessage(`
\u6307\u5B9A\u8D77\u70B9:`);let r;e.setUserDraw((i,a)=>{a.drawCustomEntity(t),r&&a.drawLine(r,i)}),e.goWhile(i=>{if(i===MrxDbgUiPrBaseReturn$1.kOk){const a=e.value();t.points.push(e.value()),r=a,e.setMessage(`
\u6307\u5B9A\u4E0B\u4E00\u4E2A\u70B9:`),e.setKeyWords("[\u5706\u5F27(A)/\u5BBD\u5EA6(W)]")}else i===MrxDbgUiPrBaseReturn$1.kKeyWord&&(e.isKeyWordPicked("A"),e.isKeyWordPicked("W"))},i=>{i===MrxDbgUiPrBaseReturn$1.kCancel&&MxFun.getCurrentDraw().addMxEntity(t)})}MxFun.addCommand("Mx_Pline",vD);async function RD(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u4E00\u70B9:`);let t=await e.go(),r=new DD;r.setCenter(t.x,t.y,t.z);let i=5;e.setUserDraw((a,l)=>{r.radius=t.distanceTo(a);let c=r.getEndParam().val,d=r.getDistAtParam(c).val/i,E=0,C=new THREE.Vector3,D=new THREE.Vector3;for(let f=0;f<i;f++){let A=r.getPointAtDist(E).val;E+=d,f>0?l.drawMcDbLine(A.x,A.y,A.z,C.x,C.y,C.z):D=new THREE.Vector3(A.x,A.y,A.z),f==i-1&&l.drawMcDbLine(A.x,A.y,A.z,D.x,D.y,D.z),C=new THREE.Vector3(A.x,A.y,A.z)}}),e.setMessage(`
\u6307\u5B9A\u4E8C\u70B9:`),await e.go(),e.drawReserve()}MxFun.addCommand("Mx_Polygon",RD);function sC(e,t,r){const i=e.x,a=t.x,l=r.x,c=e.y,d=t.y,E=r.y,C=i-a,D=c-d,f=i-l,A=c-E,S=(i*i-a*a+(c*c-d*d))/2,L=(i*i-l*l+(c*c-E*E))/2,N=D*f-C*A,G=-(A*S-D*L)/N,ie=-(C*L-f*S)/N;return new THREE.Vector3(G,ie,0)}function nC(e,t){const r=e.x,i=e.y,a=t.x,l=t.y;return Math.sqrt((r-a)*(r-a)+(i-l)*(i-l))}function oC(e,t,r){let i;e<r?i=r-e:i=r-e+360;let a;return e<t?a=t-e:a=t-e+360,a>i}function Y(e,t,r){const i=e.x,a=t.x,l=e.y,c=t.y;let d,E,C;return d=(l-c)/r,E=(i-a)/r,E>=.99999&&(E=.99999),E<=-.99999&&(E=-.99999),C=Math.acos(E),C=C/Math.PI*180,d<-.05&&(C=360-C),{sin:d,cos:E,angle:C}}const K=Mx.MrxDbgUiPrBaseReturn,b=(e,t,r)=>{const i=()=>{e.go(a=>{if(a===K.kKeyWord&&r()&&i(),a===K.kOk&&t()&&i(),a===K.kNone&&i(),a===K.kCancel)return{exit:!0}})};return i};class AD extends MxDbCircleShape{constructor(){super(),this._propertyDbKeys=[...this._propertyDbKeys,"bulge"]}getTypeName(){return"MxDbCircle"}create(){return new AD}getArcBulge(t,r,i){const a=t.distanceTo(r);let l=2*new THREE.Line3(t,r).getCenter(new THREE.Vector3).distanceTo(i)/a;return l>.9999&&l<1.0001?l=1:l<-.9999&&l>-1.0001?l=-1:Math.abs(l)<1e-10&&(l=0),l}getArcMidPoint(t,r,i,a,l){const c=t,d=i*Math.PI/180;let E=a*Math.PI/180;const C=new THREE.Vector3,D=new THREE.Vector3;C.x=c.x+r*Math.cos(d),C.y=c.y+r*Math.sin(d),D.x=c.x+r*Math.cos(E),D.y=c.y+r*Math.sin(E);const f=r;(l?i<a:i>a)&&(E+=Math.PI*2);const A=new THREE.Vector3;return A.x=c.x+f*Math.cos((d+E)/2),A.y=c.y+f*Math.sin((d+E)/2),[C,A,D,this.center]}getGripPoints(){return this.getArcMidPoint(this.center,this.radius,THREE.MathUtils.radToDeg(this.startAngle),THREE.MathUtils.radToDeg(this.endAngle),this.clockwise)}moveGripPointsAt(t,r){if(t===3)return this.center.add(r),!0;const i=this.getGripPoints();return this.upDatePoints(i,t,r),!0}upDatePoints(t,r,i){t[r].add(i);const[a,l,c]=t;this.center=sC(a,c,l),this.radius=nC(l,this.center);const d=Y(a,this.center,this.radius),E=Y(c,this.center,this.radius),C=Y(l,this.center,this.radius);this.clockwise=oC(E.angle,d.angle,C.angle),this.startAngle=THREE.MathUtils.degToRad(d.angle),this.endAngle=THREE.MathUtils.degToRad(E.angle)}}async function SD(){const e=new MrxDbgUiPrPoint;e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u8D77\u70B9:`),e.setKeyWords("[\u5706\u5FC3(C)]");let t=new AD;t.closed=!1,MxPaintBrush.use(t);let r,i,a;const l=b(e,()=>{r=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7B2C\u4E8C\u4E2A\u70B9:`),e.setKeyWords("[\u5706\u5FC3(C)/\u7AEF\u70B9(E)]"),e.setUserDraw((G,ie)=>{ie.drawLine(r,G)}),L()},()=>{if(e.isKeyWordPicked("C")){const G=new MxDbCircleArc;t.center=e.value(),G.center=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3:`),e.setKeyWords(""),d()}else return!0});let c;const d=b(e,()=>{c=e.value(),a=new MxDbCircleArc,a.closed=!1,MxPaintBrush.use(a),a.center=c,t.center=c,e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u8D77\u70B9:`),e.setUserDraw((G,ie)=>{ie.drawCustomEntity(a),ie.drawLine(c,G)}),D()},()=>{});let E,C;const D=b(e,()=>{E=e.value(),a.endPoint=E,e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7AEF\u70B9(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u89D2\u5EA6(A)/\u5F26\u957F(L)/\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("A L R"),C=new MxDbLine,C.setDashLineDisplay(!0),C.setDashArray(.05),C.setLineWidth(2),C.setColor("#ffd30d"),C.pt1=a.center,e.setUserDraw((G,ie)=>{a.startPoint=G,C.pt2=G,ie.drawCustomEntity(a),ie.drawCustomEntity(C)}),A()},()=>{});let f;const A=b(e,()=>{f=e.value(),a.startPoint=f,a.endPoint=E,MxFun.getCurrentDraw().addMxEntity(a)},()=>{if(e.isKeyWordPicked("A"))return e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5939\u89D2(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("R"),e.setUserDraw((G,ie)=>{a.startPoint=G,ie.drawCustomEntity(a),ie.drawCustomEntity(C)}),!0;if(e.isKeyWordPicked("L"))return e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5939\u89D2(\u6309\u4F4F ctrl \u952E\u53D6\u76F8\u53CD\u65B9\u5411)\u6216 [\u4FEE\u6539\u534A\u5F84(R)]:`),e.setKeyWords("R"),e.setUserDraw((G,ie)=>{a.startPoint=G,ie.drawCustomEntity(a),ie.drawCustomEntity(C)}),!0;if(e.isKeyWordPicked("R"))e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u534A\u5F84${a.radius?"<"+a.radius+">":""}:`),e.setKeyWords(""),e.setUserDraw((G,ie)=>{ie.drawLine(G,a.center),a.startPoint=G,ie.drawCustomEntity(a)}),D();else return!0});let S;const L=b(e,()=>{S=e.value(),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u7AEF\u70B9:`),i=new Mx3PointArc,i.autoClockwise=!0,i.closed=!1,MxPaintBrush.use(i),i.point1=r,i.point3=S,t.center,e.setUserDraw((G,ie)=>{i.point2=G,ie.drawCustomEntity(t)}),N()},()=>{if(e.isKeyWordPicked("C"))a=new MxDbCircleArc,a.closed=!1,MxPaintBrush.use(a),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3`),e.setKeyWords(""),e.setUserDraw((G,ie)=>{a.startPoint=r,ie.drawLine(G,a.startPoint)}),d();else if(e.isKeyWordPicked("E"))a=new MxDbCircleArc,a.closed=!1,MxPaintBrush.use(a),e.setMessage(`
\u6307\u5B9A\u5706\u5F27\u7684\u5706\u5FC3`),e.setKeyWords(""),e.setUserDraw((G,ie)=>{a.startPoint=r,ie.drawLine(G,a.startPoint)}),d();else return!0}),N=b(e,()=>{i.point1=r,i.point2=e.value(),i.point3=S,MxFun.getCurrentDraw().addMxEntity(i)},()=>{if(e.isKeyWordPicked("C"))console.log("C");else if(e.isKeyWordPicked("E"))console.log("E");else return!0});l()}MxFun.addCommand("Mx_Arc",SD);function OD(){const e=new MrxDbgUiPrPoint,t=new MxDbEllipseShape;t.closed=!1,MxPaintBrush.use(t),e.setMessage(`
\u6307\u5B9A\u692D\u5706\u7684\u8F74\u7AEF\u70B9`),e.setKeyWords("[\u4E2D\u5FC3\u70B9(C)]");let r,i=new THREE.Vector3;b(e,()=>{r=e.value(),e.setUserDraw((E,C)=>{const D=new THREE.Line3(r,E);D.getCenter(i),t.center=i,t.xRadius=D.distance()/2,t.yRadius=t.xRadius,t.rotation=J(E.x,E.y,i.x,i.y),C.drawLine(E,r)}),e.setMessage(`
\u6307\u5B9A\u692D\u5706\u5F27\u8F74\u7684\u53E6\u4E00\u4E2A\u7AEF\u70B9:`),e.setKeyWords(""),a()},()=>{})();const a=b(e,()=>{e.setUserDraw((E,C)=>{t.yRadius=i.distanceTo(E),C.drawLine(i,E),C.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u53E6\u4E00\u6761\u534A\u8F74\u957F\u5EA6`),e.setKeyWords(""),l()},()=>{}),l=b(e,()=>{e.setMessage(`
\u6307\u5B9A\u8D77\u59CB\u89D2\u5EA6`),e.setKeyWords(""),e.setUserDraw((E,C)=>{t.startAngle=J(E.x,E.y,i.x,i.y)-t.rotation,C.drawLine(i,E),C.drawCustomEntity(t)}),c()},()=>{}),c=b(e,()=>{e.setUserDraw((E,C)=>{t.endAngle=J(E.x,E.y,i.x,i.y)-t.rotation,C.drawLine(i,E),C.drawCustomEntity(t)}),e.setMessage(`
\u6307\u5B9A\u7EC8\u6B62\u89D2\u5EA6`),e.setKeyWords(""),d()},()=>{}),d=b(e,()=>{MxFun.getCurrentDraw().addMxEntity(t)},()=>{})}MxFun.addCommand("Mx_EllipseArc",OD);async function jD(){(await BD.selectEnt(`
\u9009\u62E9\u5220\u9664\u5BF9\u8C61`)).forEach(e=>{e.erase()})}MxFun.addCommand("Mx_Erase",jD);const isElectron=()=>!0,MxElectronAPI=window.MxElectronAPI,configMap=new Map,getConfig=async e=>{if(configMap.has(e))return configMap.get(e);try{const t=await(await fetch(e)).json();return configMap.set(e,t),t}catch(t){console.error("error Config:"+e,t)}};let serverConfig;const fetchServerConfig=async()=>{serverConfig||(serverConfig=await getConfig(new URL(""+new URL("../mxServerConfig.json",import.meta.url).href,self.location).href))},getUploadFileConfig=()=>serverConfig?.uploadFileConfig,getWasmConfig=()=>serverConfig?.wasmConfig;let database,mxcadObj$1;const initDataBase=e=>{!e||(mxcadObj$1=e,database=mxcadObj$1.GetDatabase())},getDatabase=()=>(database||initDataBase(mxcadObj$1),database);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function e(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function e(t){for(var r=[],i=0,a=t.length;i<a;i++){var l=t[i];isArrayish(l)?r=concat.call(r,slice.call(l)):r.push(l)}return r};swizzle$1.wrap=function(e){return function(){return e(swizzle$1(arguments))}};var colorNames=colorName,swizzle=simpleSwizzle.exports,hasOwnProperty$1=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty$1.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(e){var t=e.substring(0,3).toLowerCase(),r,i;switch(t){case"hsl":r=cs.get.hsl(e),i="hsl";break;case"hwb":r=cs.get.hwb(e),i="hwb";break;default:r=cs.get.rgb(e),i="rgb";break}return r?{model:i,value:r}:null};cs.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,l=/^(\w+)$/,c=[0,0,0,1],d,E,C;if(d=e.match(r)){for(C=d[2],d=d[1],E=0;E<3;E++){var D=E*2;c[E]=parseInt(d.slice(D,D+2),16)}C&&(c[3]=parseInt(C,16)/255)}else if(d=e.match(t)){for(d=d[1],C=d[3],E=0;E<3;E++)c[E]=parseInt(d[E]+d[E],16);C&&(c[3]=parseInt(C+C,16)/255)}else if(d=e.match(i)){for(E=0;E<3;E++)c[E]=parseInt(d[E+1],0);d[4]&&(d[5]?c[3]=parseFloat(d[4])*.01:c[3]=parseFloat(d[4]))}else if(d=e.match(a)){for(E=0;E<3;E++)c[E]=Math.round(parseFloat(d[E+1])*2.55);d[4]&&(d[5]?c[3]=parseFloat(d[4])*.01:c[3]=parseFloat(d[4]))}else return(d=e.match(l))?d[1]==="transparent"?[0,0,0,0]:hasOwnProperty$1.call(colorNames,d[1])?(c=colorNames[d[1]],c[3]=1,c):null:null;for(E=0;E<3;E++)c[E]=clamp$1(c[E],0,255);return c[3]=clamp$1(c[3],0,1),c};cs.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,l=clamp$1(parseFloat(r[2]),0,100),c=clamp$1(parseFloat(r[3]),0,100),d=clamp$1(isNaN(i)?1:i,0,1);return[a,l,c,d]}return null};cs.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,l=clamp$1(parseFloat(r[2]),0,100),c=clamp$1(parseFloat(r[3]),0,100),d=clamp$1(isNaN(i)?1:i,0,1);return[a,l,c,d]}return null};cs.to.hex=function(){var e=swizzle(arguments);return"#"+hexDouble(e[0])+hexDouble(e[1])+hexDouble(e[2])+(e[3]<1?hexDouble(Math.round(e[3]*255)):"")};cs.to.rgb=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};cs.to.rgb.percent=function(){var e=swizzle(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+i+"%)":"rgba("+t+"%, "+r+"%, "+i+"%, "+e[3]+")"};cs.to.hsl=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};cs.to.hwb=function(){var e=swizzle(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};cs.to.keyword=function(e){return reverseNames[e.slice(0,3)]};function clamp$1(e,t,r){return Math.min(Math.max(t,e),r)}function hexDouble(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}const cssKeywords=colorName,reverseKeywords={};for(const e of Object.keys(cssKeywords))reverseKeywords[cssKeywords[e]]=e;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const e of Object.keys(convert$2)){if(!("channels"in convert$2[e]))throw new Error("missing channels property: "+e);if(!("labels"in convert$2[e]))throw new Error("missing channel labels property: "+e);if(convert$2[e].labels.length!==convert$2[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=convert$2[e];delete convert$2[e].channels,delete convert$2[e].labels,Object.defineProperty(convert$2[e],"channels",{value:t}),Object.defineProperty(convert$2[e],"labels",{value:r})}convert$2.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.min(t,r,i),l=Math.max(t,r,i),c=l-a;let d,E;l===a?d=0:t===l?d=(r-i)/c:r===l?d=2+(i-t)/c:i===l&&(d=4+(t-r)/c),d=Math.min(d*60,360),d<0&&(d+=360);const C=(a+l)/2;return l===a?E=0:C<=.5?E=c/(l+a):E=c/(2-l-a),[d,E*100,C*100]};convert$2.rgb.hsv=function(e){let t,r,i,a,l;const c=e[0]/255,d=e[1]/255,E=e[2]/255,C=Math.max(c,d,E),D=C-Math.min(c,d,E),f=function(A){return(C-A)/6/D+1/2};return D===0?(a=0,l=0):(l=D/C,t=f(c),r=f(d),i=f(E),c===C?a=i-r:d===C?a=1/3+t-i:E===C&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[a*360,l*100,C*100]};convert$2.rgb.hwb=function(e){const t=e[0],r=e[1];let i=e[2];const a=convert$2.rgb.hsl(e)[0],l=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[a,l*100,i*100]};convert$2.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.min(1-t,1-r,1-i),l=(1-t-a)/(1-a)||0,c=(1-r-a)/(1-a)||0,d=(1-i-a)/(1-a)||0;return[l*100,c*100,d*100,a*100]};function comparativeDistance(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}convert$2.rgb.keyword=function(e){const t=reverseKeywords[e];if(t)return t;let r=1/0,i;for(const a of Object.keys(cssKeywords)){const l=cssKeywords[a],c=comparativeDistance(e,l);c<r&&(r=c,i=a)}return i};convert$2.keyword.rgb=function(e){return cssKeywords[e]};convert$2.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const a=t*.4124+r*.3576+i*.1805,l=t*.2126+r*.7152+i*.0722,c=t*.0193+r*.1192+i*.9505;return[a*100,l*100,c*100]};convert$2.rgb.lab=function(e){const t=convert$2.rgb.xyz(e);let r=t[0],i=t[1],a=t[2];r/=95.047,i/=100,a/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const l=116*i-16,c=500*(r-i),d=200*(i-a);return[l,c,d]};convert$2.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,i=e[2]/100;let a,l,c;if(r===0)return c=i*255,[c,c,c];i<.5?a=i*(1+r):a=i+r-i*r;const d=2*i-a,E=[0,0,0];for(let C=0;C<3;C++)l=t+1/3*-(C-1),l<0&&l++,l>1&&l--,6*l<1?c=d+(a-d)*6*l:2*l<1?c=a:3*l<2?c=d+(a-d)*(2/3-l)*6:c=d,E[C]=c*255;return E};convert$2.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,i=e[2]/100,a=r;const l=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,a*=l<=1?l:2-l;const c=(i+r)/2,d=i===0?2*a/(l+a):2*r/(i+r);return[t,d*100,c*100]};convert$2.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let i=e[2]/100;const a=Math.floor(t)%6,l=t-Math.floor(t),c=255*i*(1-r),d=255*i*(1-r*l),E=255*i*(1-r*(1-l));switch(i*=255,a){case 0:return[i,E,c];case 1:return[d,i,c];case 2:return[c,i,E];case 3:return[c,d,i];case 4:return[E,c,i];case 5:return[i,c,d]}};convert$2.hsv.hsl=function(e){const t=e[0],r=e[1]/100,i=e[2]/100,a=Math.max(i,.01);let l,c;c=(2-r)*i;const d=(2-r)*a;return l=r*a,l/=d<=1?d:2-d,l=l||0,c/=2,[t,l*100,c*100]};convert$2.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,i=e[2]/100;const a=r+i;let l;a>1&&(r/=a,i/=a);const c=Math.floor(6*t),d=1-i;l=6*t-c,(c&1)!==0&&(l=1-l);const E=r+l*(d-r);let C,D,f;switch(c){default:case 6:case 0:C=d,D=E,f=r;break;case 1:C=E,D=d,f=r;break;case 2:C=r,D=d,f=E;break;case 3:C=r,D=E,f=d;break;case 4:C=E,D=r,f=d;break;case 5:C=d,D=r,f=E;break}return[C*255,D*255,f*255]};convert$2.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,i=e[2]/100,a=e[3]/100,l=1-Math.min(1,t*(1-a)+a),c=1-Math.min(1,r*(1-a)+a),d=1-Math.min(1,i*(1-a)+a);return[l*255,c*255,d*255]};convert$2.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,i=e[2]/100;let a,l,c;return a=t*3.2406+r*-1.5372+i*-.4986,l=t*-.9689+r*1.8758+i*.0415,c=t*.0557+r*-.204+i*1.057,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),c=Math.min(Math.max(0,c),1),[a*255,l*255,c*255]};convert$2.xyz.lab=function(e){let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const a=116*r-16,l=500*(t-r),c=200*(r-i);return[a,l,c]};convert$2.lab.xyz=function(e){const t=e[0],r=e[1],i=e[2];let a,l,c;l=(t+16)/116,a=r/500+l,c=l-i/200;const d=l**3,E=a**3,C=c**3;return l=d>.008856?d:(l-16/116)/7.787,a=E>.008856?E:(a-16/116)/7.787,c=C>.008856?C:(c-16/116)/7.787,a*=95.047,l*=100,c*=108.883,[a,l,c]};convert$2.lab.lch=function(e){const t=e[0],r=e[1],i=e[2];let a;a=Math.atan2(i,r)*360/2/Math.PI,a<0&&(a+=360);const c=Math.sqrt(r*r+i*i);return[t,c,a]};convert$2.lch.lab=function(e){const t=e[0],r=e[1],a=e[2]/360*2*Math.PI,l=r*Math.cos(a),c=r*Math.sin(a);return[t,l,c]};convert$2.rgb.ansi16=function(e,t=null){const[r,i,a]=e;let l=t===null?convert$2.rgb.hsv(e)[2]:t;if(l=Math.round(l/50),l===0)return 30;let c=30+(Math.round(a/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return l===2&&(c+=60),c};convert$2.hsv.ansi16=function(e){return convert$2.rgb.ansi16(convert$2.hsv.rgb(e),e[2])};convert$2.rgb.ansi256=function(e){const t=e[0],r=e[1],i=e[2];return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};convert$2.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,i=(t&1)*r*255,a=(t>>1&1)*r*255,l=(t>>2&1)*r*255;return[i,a,l]};convert$2.ansi256.rgb=function(e){if(e>=232){const l=(e-232)*10+8;return[l,l,l]}e-=16;let t;const r=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[r,i,a]};convert$2.rgb.hex=function(e){const r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};convert$2.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(d=>d+d).join(""));const i=parseInt(r,16),a=i>>16&255,l=i>>8&255,c=i&255;return[a,l,c]};convert$2.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,i=e[2]/255,a=Math.max(Math.max(t,r),i),l=Math.min(Math.min(t,r),i),c=a-l;let d,E;return c<1?d=l/(1-c):d=0,c<=0?E=0:a===t?E=(r-i)/c%6:a===r?E=2+(i-t)/c:E=4+(t-r)/c,E/=6,E%=1,[E*360,c*100,d*100]};convert$2.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,i=r<.5?2*t*r:2*t*(1-r);let a=0;return i<1&&(a=(r-.5*i)/(1-i)),[e[0],i*100,a*100]};convert$2.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,i=t*r;let a=0;return i<1&&(a=(r-i)/(1-i)),[e[0],i*100,a*100]};convert$2.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,i=e[2]/100;if(r===0)return[i*255,i*255,i*255];const a=[0,0,0],l=t%1*6,c=l%1,d=1-c;let E=0;switch(Math.floor(l)){case 0:a[0]=1,a[1]=c,a[2]=0;break;case 1:a[0]=d,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=c;break;case 3:a[0]=0,a[1]=d,a[2]=1;break;case 4:a[0]=c,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=d}return E=(1-r)*i,[(r*a[0]+E)*255,(r*a[1]+E)*255,(r*a[2]+E)*255]};convert$2.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,i=t+r*(1-t);let a=0;return i>0&&(a=t/i),[e[0],a*100,i*100]};convert$2.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let a=0;return i>0&&i<.5?a=t/(2*i):i>=.5&&i<1&&(a=t/(2*(1-i))),[e[0],a*100,i*100]};convert$2.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]};convert$2.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,a=i-t;let l=0;return a<1&&(l=(i-a)/(1-a)),[e[0],a*100,l*100]};convert$2.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};convert$2.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};convert$2.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};convert$2.gray.hsl=function(e){return[0,0,e[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(e){return[0,100,e[0]]};convert$2.gray.cmyk=function(e){return[0,0,0,e[0]]};convert$2.gray.lab=function(e){return[e[0],0,0]};convert$2.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};convert$2.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const e={},t=Object.keys(conversions$1);for(let r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function deriveBFS(e){const t=buildGraph(),r=[e];for(t[e].distance=0;r.length;){const i=r.pop(),a=Object.keys(conversions$1[i]);for(let l=a.length,c=0;c<l;c++){const d=a[c],E=t[d];E.distance===-1&&(E.distance=t[i].distance+1,E.parent=i,r.unshift(d))}}return t}function link(e,t){return function(r){return t(e(r))}}function wrapConversion(e,t){const r=[t[e].parent,e];let i=conversions$1[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)r.unshift(t[a].parent),i=link(conversions$1[t[a].parent][a],i),a=t[a].parent;return i.conversion=r,i}var route$1=function(e){const t=deriveBFS(e),r={},i=Object.keys(t);for(let a=i.length,l=0;l<a;l++){const c=i[l];t[c].parent!==null&&(r[c]=wrapConversion(c,t))}return r};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(e){const t=function(...r){const i=r[0];return i==null?i:(i.length>1&&(r=i),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function wrapRounded(e){const t=function(...r){const i=r[0];if(i==null)return i;i.length>1&&(r=i);const a=e(r);if(typeof a=="object")for(let l=a.length,c=0;c<l;c++)a[c]=Math.round(a[c]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}models.forEach(e=>{convert$1[e]={},Object.defineProperty(convert$1[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert$1[e],"labels",{value:conversions[e].labels});const t=route(e);Object.keys(t).forEach(i=>{const a=t[i];convert$1[e][i]=wrapRounded(a),convert$1[e][i].raw=wrapRaw(a)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const e of Object.keys(convert))hashedModelKeys[[...convert[e].labels].sort().join("")]=e;const limiters={};function Color(e,t){if(!(this instanceof Color))return new Color(e,t);if(t&&t in skippedModels&&(t=null),t&&!(t in convert))throw new Error("Unknown model: "+t);let r,i;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Color)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=colorString.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,i=convert[this.model].channels,this.color=a.value.slice(0,i),this.valpha=typeof a.value[i]=="number"?a.value[i]:1}else if(e.length>0){this.model=t||"rgb",i=convert[this.model].channels;const a=Array.prototype.slice.call(e,0,i);this.color=zeroArray(a,i),this.valpha=typeof e[i]=="number"?e[i]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const l=a.sort().join("");if(!(l in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=hashedModelKeys[l];const{labels:c}=convert[this.model],d=[];for(r=0;r<c.length;r++)d.push(e[c[r]]);this.color=zeroArray(d)}if(limiters[this.model])for(i=convert[this.model].channels,r=0;r<i;r++){const a=limiters[this.model][r];a&&(this.color[r]=a(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in colorString.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const r=t.valpha===1?t.color:[...t.color,this.valpha];return colorString.to[t.model](r)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return colorString.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=convert[this.model],{labels:r}=convert[this.model];for(let i=0;i<t;i++)e[r[i]]=this.color[i];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Color([...this.color.map(roundToPlace(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new Color([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(e){return e!==void 0?new Color(e):convert[this.model].keyword(this.color)},hex(e){return e!==void 0?new Color(e):colorString.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new Color(e);const t=this.rgb().round().color;let r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),colorString.to.hex(t)+r},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[r,i]of e.entries()){const a=i/255;t[r]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Color.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),i=this.rgb(),a=t===void 0?.5:t,l=2*a-1,c=r.alpha()-i.alpha(),d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2,E=1-d;return Color.rgb(d*r.red()+E*i.red(),d*r.green()+E*i.green(),d*r.blue()+E*i.blue(),r.alpha()*a+i.alpha()*(1-a))}};for(const e of Object.keys(convert)){if(skippedModels.includes(e))continue;const{channels:t}=convert[e];Color.prototype[e]=function(...r){return this.model===e?new Color(this):r.length>0?new Color(r,e):new Color([...assertArray(convert[this.model][e].raw(this.color)),this.valpha],e)},Color[e]=function(...r){let i=r[0];return typeof i=="number"&&(i=zeroArray(r,t)),new Color(i,e)}}function roundTo(e,t){return Number(e.toFixed(t))}function roundToPlace(e){return function(t){return roundTo(t,e)}}function getset(e,t,r){e=Array.isArray(e)?e:[e];for(const i of e)(limiters[i]||(limiters[i]=[]))[t]=r;return e=e[0],function(i){let a;return i!==void 0?(r&&(i=r(i)),a=this[e](),a.color[t]=i,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function maxfn(e){return function(t){return Math.max(0,Math.min(e,t))}}function assertArray(e){return Array.isArray(e)?e:[e]}function zeroArray(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}var color=Color;const Color$1=color;new Color$1;var ColorMethod=(e=>(e[e.kByLayer=1]="kByLayer",e[e.kByBlock=2]="kByBlock",e[e.kByColor=3]="kByColor",e[e.kByACI=4]="kByACI",e[e.kByPen=5]="kByPen",e[e.kForeground=6]="kForeground",e[e.kLayerOff=7]="kLayerOff",e[e.kLayerFrozen=8]="kLayerFrozen",e[e.kNone=9]="kNone",e))(ColorMethod||{}),ColorNameType=(e=>(e[e.\u968F\u5757=0]="\u968F\u5757",e[e.\u7EA2\u8272=1]="\u7EA2\u8272",e[e.\u9EC4\u8272=2]="\u9EC4\u8272",e[e.\u7EFF\u8272=3]="\u7EFF\u8272",e[e.\u9752\u8272=4]="\u9752\u8272",e[e.\u84DD\u8272=5]="\u84DD\u8272",e[e.\u6D0B\u7EA2\u8272=6]="\u6D0B\u7EA2\u8272",e[e.\u767D\u8272=7]="\u767D\u8272",e[e.\u968F\u5C42=256]="\u968F\u5C42",e))(ColorNameType||{});const getColorName=e=>{if(e===-1)return;const t=ColorNameType[e];return t||e.toString()},createMxColor=e=>{const t=s.NewMcCmColor();if(e){const{red:r,green:i,blue:a,method:l}=e;t.setRGB(r,i,a),t.method=l;let c=indexOfMxColor(r,i,a,!1);c!=-1&&(t.colorIndex=c,t.method=4)}return t},toRGB=e=>Math.abs(e),reverseRGB=e=>e===0?255:e,toRGBCss=(e,t=!1)=>{let{red:r,green:i,blue:a,method:l,colorIndex:c}=e;return`rgb(${toRGB(r)}, ${toRGB(i)}, ${toRGB(a)})`},indexOfMxColor=(...e)=>{const[t,r,i,a=!1]=e;return s.App.mcedRGB2Index(t,r,i,a)},countColorInfo=(e,t)=>{const r=Color$1(e),i=r.red(),a=r.green(),l=r.blue(),c=indexOfMxColor(i,a,l);return c!==-1&&(t=4),c===7&&(e=`rgb(${reverseRGB(i)}, ${reverseRGB(a)}, ${reverseRGB(l)})`),{name:t===4?getColorName(c)||e:`rgb(${i},${a},${l})`,index:c,color:e,method:t}},getLayerTable=()=>getDatabase()?.GetLayerTable(),getLayerJson=()=>getLayerTable()?.getJson(),setLayerJson=e=>getLayerTable().setJson(e);let commands=[];const registerCommand=()=>{for(;commands.length!==0;){const e=commands.pop();if(e){const{cmd:t,fun:r}=e;MxFun.addCommand(t,r)}}},addCommand=(e,t)=>{store.state.MxFun!==null?MxFun.addCommand(e,t):commands.push({cmd:e,fun:t})},callCommand=MxFun.sendStringToExecute.bind(MxFun);var PointDotStyleStatus=(e=>(e.PDMODE="PDMODE",e.PDSIZE="PDSIZE",e))(PointDotStyleStatus||{});const pointDotStyleStatus=reactive({}),pointDotModeValues=[0,1,2,3,4,32,33,34,35,36,64,65,66,67,68,96,97,98,99,100],preservePointDotStyleStatus=()=>{const{PDMODE:e,PDSIZE:t}=unref(pointDotStyleStatus);typeof e<"u"&&setSysVarLog("PDMODE",Number(e)),typeof t<"u"&&setSysVarLog("PDSIZE",Number(t))},initPointDotStyleStatus=()=>{Object.keys(PointDotStyleStatus).forEach(e=>pointDotStyleStatus[e]=getSysVarLong(e))};var Status=(e=>(e[e.Off=0]="Off",e[e.On=1]="On",e))(Status||{}),SysVarLongSketchSettings=(e=>(e.GRIDMODE="\u6805\u683C",e.ORTHOMODE="\u6B63\u4EA4",e.AUTOSNAP="\u6781\u8F74",e.OSMODE="\u5BF9\u8C61\u6355\u6349",e.DYNTRACE="\u5BF9\u8C61\u8FFD\u8E2A",e.DYNINPUT="DIY",e.LWDISPLAY="\u7EBF\u5BBD",e))(SysVarLongSketchSettings||{}),SysVarLongSketchSettingsOsMode=(e=>(e[e.End=1]="End",e[e.Mid=2]="Mid",e[e.Cen=4]="Cen",e[e.Node=8]="Node",e[e.Quad=16]="Quad",e[e.Int=32]="Int",e[e.Ins=64]="Ins",e[e.Perp=128]="Perp",e[e.Tan=256]="Tan",e[e.Near=512]="Near",e[e.App=2048]="App",e[e.Ext=4096]="Ext",e[e.Par=8192]="Par",e[e.Off=16384]="Off",e))(SysVarLongSketchSettingsOsMode||{});const sysVarLongSketchSettingsKeys=Object.keys(SysVarLongSketchSettings),getSysVarLongSketchSettings=e=>{const t=getMxCadObj().GetSysVarLong(e);return SysVarLongSketchSettings[e]==="\u5BF9\u8C61\u6355\u6349"?(t&16384)===Status.Off?Status.On:Status.Off:t},setSysVarLongSketchSettings=(e,t)=>{if(SysVarLongSketchSettings[e]==="\u5BF9\u8C61\u6355\u6349"){const r=getSysVarLongSketchSettingsOsMode();if(typeof r>"u")return;t===Status.On?r|16384:r&-16385}return getMxCadObj().SetSysVarLong(e,t)},sysVarLongSketchSettings=reactive({}),getSysVarLongSketchSettingsOsMode=e=>{try{const t=getMxCadObj().GetSysVarLong("OSMODE");return typeof e>"u"?t:(t&e)===Status.Off?Status.Off:Status.On}catch{return}},setSysVarLongSketchSettingsOsMode=e=>getMxCadObj().SetSysVarLong("OSMODE",e),countSysVarLongSketchSettingsOsMode=(e,t,r=getSysVarLongSketchSettingsOsMode())=>{if(!(typeof r>"u"))return r=t?r|e:r&~e};function osModeRef(e){return customRef((t,r)=>{let i;return{get(){t();const a=getSysVarLongSketchSettingsOsMode(e);return typeof a===void 0||typeof i>"u"&&(i=a!==Status.Off),i},set(a){i=a,r()}}})}const initSysVarLongSketchSettings=()=>{sysVarLongSketchSettingsKeys.forEach(e=>{sysVarLongSketchSettings[e]=getSysVarLongSketchSettings(e)})};({...SysVarLongSketchSettings,...PointDotStyleStatus});const setSysVarLog=(e,t)=>{getMxCadObj().SetSysVarLong(e,t)},getSysVarLong=e=>getMxCadObj().GetSysVarLong(e),initSysVarLong=()=>{initSysVarLongSketchSettings(),initPointDotStyleStatus()},offset=60,messages=ref([]),addMessage=e=>{const t={id:new Date().getTime(),...e,top:offset*messages.value.length};messages.value.push(t);const r=()=>{removeMessage(t)};return setTimeout(r,t.duration||2e3),r},removeMessage=e=>{messages.value.indexOf(e)>=0&&(messages.value.splice(messages.value.indexOf(e),1),messages.value.map(r=>{r.top-=offset}))},success=(e,t)=>addMessage({message:e,type:"success",duration:t}),warning=(e,t)=>addMessage({message:e,type:"warning",duration:t}),info=(e,t)=>addMessage({message:e,type:"info",duration:t}),error=(e,t)=>addMessage({message:e,type:"error",duration:t}),message=info;message.success=success;message.warning=warning;message.info=info;message.error=error;const useMessage=()=>message,useMessageData=()=>({addMessage,removeMessage,messages});MxElectronAPI?.onShowMessage((e,t="success")=>{useMessage()[t](e)});function downloadFile(e,t){fetch(e).then(r=>r.blob()).then(r=>{const i=document.createElement("a");i.href=window.URL.createObjectURL(r),i.download=t,i.click()})}let mxcadObj;const getMxCadObj=()=>mxcadObj,createMxCAD=async e=>{loadMxCADassemblyImp().then(async()=>{MxFun.setIniset({EnableIntelliSelect:!0,multipleSelect:!1,autoResetRenderer:!1,correctLargeCoordinates:!0});const t="myCanvas";MxFun.createMxObject({canvasId:t,isCPPMxCAD:!0,...e,callback(r,i){r.initRendererParam({webgl2:!0}),r.setMouseMiddlePan(!0),r.on("initObject",()=>{r.isWebgl2()?console.log("MxTip: use webgl2"):console.log("MxTip: use webgl1");const a=MxFun.getMxFunTHREE();let l=new a.Vector2;r.getRenderer().getSize(l),console.log(s),mxcadObj=s.App.CreateMxCAD(l.width,l.height,e.canvasId||t,r.isWebgl2(),r.getId()),r.initMxCpp(mxcadObj),initDataBase(mxcadObj),initSysVarLong(),r.on("saveFileComplete",(c,d)=>{const E=useMessage();if(c==0){let C=JSON.parse(d);if(C&&C.file){const{baseUrl:D="",mxfilepath:f=""}=getUploadFileConfig()||{};let A=D+f+C.file;downloadFile(A,C.file),E.success("\u4FDD\u5B58\u6210\u529F")}}})}),e.callback&&e.callback(r,i)}}),registerCommand()})};function getFileWasm(e){const{url:t,type:r}=getWasmConfig()||{};if(typeof t<"u"&&t!==""){if(/^(https?|http):\/\//.test(t))return t+(t[length-1]==="/"?"":"/")+e;console.warn(`mxServerConfig.json wasmConfig \u914D\u7F6E\u9879url:${t}  \u683C\u5F0F\u4E0D\u5339\u914D, \u8BF7\u8F93\u5165\u5305\u542Bmxcad\u76F8\u5173wasm\u76EE\u5F55\u7684\u7F51\u7EDC\u8DEF\u5F84\u5730\u5740\u4F8B\u5982: https://unpkg.com/mxcad/dist/wasm/2d-st/`)}const i=new URL(Object.assign({"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.js":__vite_glob_0_0,"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.wasm":__vite_glob_0_1,"/node_modules/mxcad/dist/wasm/2d/mxdrawassembly_min.worker.js":__vite_glob_0_2})[`/node_modules/mxcad/dist/wasm/2d/${e}`],self.location).href;if(typeof r<"u"&&r!==""){if(r==="2d")return i;if(r==="2d-st")return new URL(Object.assign({"/node_modules/mxcad/dist/wasm/2d-st/mxdrawassembly_min.js":__vite_glob_1_0,"/node_modules/mxcad/dist/wasm/2d-st/mxdrawassembly_minst.wasm":__vite_glob_1_1})[`/node_modules/mxcad/dist/wasm/2d-st/${e}`],self.location).href;console.warn(`mxServerConfig.json wasmConfig \u914D\u7F6E\u9879type:${r} \u8F93\u5165\u4E0D\u6B63\u786E, \u76EE\u524D\u652F\u6301\u7684\u8F93\u5165: 2d\u548C2d-st`)}return i}async function loadMxCADassemblyImp(){return store.state.MxFun||await loadCoreCode(),s&&s.mxcadassemblyimp?Promise.resolve(!0):new Promise(async e=>{yD(()=>{e(!0)},getFileWasm,await MxElectronAPI.getWasmBinary())})}var isVue2=!1;function set(e,t,r){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,r),r):(e[t]=r,r)}function del(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var e;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(t,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=r;const i={};if(t.settings)for(const c in t.settings){const d=t.settings[c];i[c]=d.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let l=Object.assign({},i);try{const c=localStorage.getItem(a),d=JSON.parse(c);Object.assign(l,d)}catch{}this.fallbacks={getSettings(){return l},setSettings(c){try{localStorage.setItem(a,JSON.stringify(c))}catch{}l=c},now(){return now()}},r&&r.on(HOOK_PLUGIN_SETTINGS_SET,(c,d)=>{c===this.plugin.id&&this.fallbacks.setSettings(d)}),this.proxiedOn=new Proxy({},{get:(c,d)=>this.target?this.target.on[d]:(...E)=>{this.onQueue.push({method:d,args:E})}}),this.proxiedTarget=new Proxy({},{get:(c,d)=>this.target?this.target[d]:d==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(d)?(...E)=>(this.targetQueue.push({method:d,args:E,resolve:()=>{}}),this.fallbacks[d](...E)):(...E)=>new Promise(C=>{this.targetQueue.push({method:d,args:E,resolve:C})})})}async setRealTarget(t){this.target=t;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function setupDevtoolsPlugin(e,t){const r=e,i=getTarget(),a=getDevtoolsGlobalHook(),l=isProxyAvailable&&r.enableEarlyProxy;if(a&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!l))a.emit(HOOK_SETUP,e,t);else{const c=l?new ApiProxy(r,a):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:t,proxy:c}),c&&t(c.proxiedTarget)}}/*!
  * pinia v2.0.32
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol("pinia");function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));const IS_CLIENT=typeof window<"u",USE_DEVTOOLS=IS_CLIENT,_global$2=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function bom(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function download(e,t,r){const i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){saveAs(i.response,t,r)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function click(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}const _navigator=typeof navigator=="object"?navigator:{userAgent:""},isMacOSWebView=(()=>/Macintosh/.test(_navigator.userAgent)&&/AppleWebKit/.test(_navigator.userAgent)&&!/Safari/.test(_navigator.userAgent))(),saveAs=IS_CLIENT?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!isMacOSWebView?downloadSaveAs:"msSaveOrOpenBlob"in _navigator?msSaveAs:fileSaverSaveAs:()=>{};function downloadSaveAs(e,t="download",r){const i=document.createElement("a");i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?corsEnabled(i.href)?download(e,t,r):(i.target="_blank",click(i)):click(i)):(i.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(i.href)},4e4),setTimeout(function(){click(i)},0))}function msSaveAs(e,t="download",r){if(typeof e=="string")if(corsEnabled(e))download(e,t,r);else{const i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){click(i)})}else navigator.msSaveOrOpenBlob(bom(e,r),t)}function fileSaverSaveAs(e,t,r,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return download(e,t,r);const a=e.type==="application/octet-stream",l=/constructor/i.test(String(_global$2.HTMLElement))||"safari"in _global$2,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||isMacOSWebView)&&typeof FileReader<"u"){const d=new FileReader;d.onloadend=function(){let E=d.result;if(typeof E!="string")throw i=null,new Error("Wrong reader.result type");E=c?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=E:location.assign(E),i=null},d.readAsDataURL(e)}else{const d=URL.createObjectURL(e);i?i.location.assign(d):location.href=d,i=null,setTimeout(function(){URL.revokeObjectURL(d)},4e4)}}function toastMessage(e,t){const r="\u{1F34D} "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(r,t):t==="error"?console.error(r):t==="warn"?console.warn(r):console.log(r)}function isPinia(e){return"_a"in e&&"install"in e}function checkClipboardAccess(){if(!("clipboard"in navigator))return toastMessage("Your browser doesn't support the Clipboard API","error"),!0}function checkNotFocusedError(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(toastMessage('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function actionGlobalCopyState(e){if(!checkClipboardAccess())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),toastMessage("Global state copied to clipboard.")}catch(t){if(checkNotFocusedError(t))return;toastMessage("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function actionGlobalPasteState(e){if(!checkClipboardAccess())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),toastMessage("Global state pasted from clipboard.")}catch(t){if(checkNotFocusedError(t))return;toastMessage("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function actionGlobalSaveState(e){try{saveAs(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){toastMessage("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let fileInput;function getFileOpener(){fileInput||(fileInput=document.createElement("input"),fileInput.type="file",fileInput.accept=".json");function e(){return new Promise((t,r)=>{fileInput.onchange=async()=>{const i=fileInput.files;if(!i)return t(null);const a=i.item(0);return t(a?{text:await a.text(),file:a}:null)},fileInput.oncancel=()=>t(null),fileInput.onerror=r,fileInput.click()})}return e}async function actionGlobalOpenStateFile(e){try{const r=await(await getFileOpener())();if(!r)return;const{text:i,file:a}=r;e.state.value=JSON.parse(i),toastMessage(`Global state imported from "${a.name}".`)}catch(t){toastMessage("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function formatDisplay(e){return{_custom:{display:e}}}const PINIA_ROOT_LABEL="\u{1F34D} Pinia (root)",PINIA_ROOT_ID="_root";function formatStoreForInspectorTree(e){return isPinia(e)?{id:PINIA_ROOT_ID,label:PINIA_ROOT_LABEL}:{id:e.$id,label:e.$id}}function formatStoreForInspectorState(e){if(isPinia(e)){const r=Array.from(e._s.keys()),i=e._s;return{state:r.map(l=>({editable:!0,key:l,value:e.state.value[l]})),getters:r.filter(l=>i.get(l)._getters).map(l=>{const c=i.get(l);return{editable:!1,key:l,value:c._getters.reduce((d,E)=>(d[E]=c[E],d),{})}})}}const t={state:Object.keys(e.$state).map(r=>({editable:!0,key:r,value:e.$state[r]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(r=>({editable:!1,key:r,value:e[r]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(r=>({editable:!0,key:r,value:e[r]}))),t}function formatEventData(e){return e?Array.isArray(e)?e.reduce((t,r)=>(t.keys.push(r.key),t.operations.push(r.type),t.oldValue[r.key]=r.oldValue,t.newValue[r.key]=r.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:formatDisplay(e.type),key:formatDisplay(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function formatMutationType(e){switch(e){case MutationType.direct:return"mutation";case MutationType.patchFunction:return"$patch";case MutationType.patchObject:return"$patch";default:return"unknown"}}let isTimelineActive=!0;const componentStateTypes=[],MUTATIONS_LAYER_ID="pinia:mutations",INSPECTOR_ID="pinia",{assign:assign$1}=Object,getStoreType=e=>"\u{1F34D} "+e;function registerPiniaDevtools(e,t){setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes,app:e},r=>{typeof r.now!="function"&&toastMessage("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Pinia \u{1F34D}",color:15064968}),r.addInspector({id:INSPECTOR_ID,label:"Pinia \u{1F34D}",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{actionGlobalCopyState(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await actionGlobalPasteState(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{actionGlobalSaveState(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await actionGlobalOpenStateFile(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:i=>{const a=t._s.get(i);a?a._isOptionsAPI?(a.$reset(),toastMessage(`Store "${i}" reset.`)):toastMessage(`Cannot reset "${i}" store because it's a setup store.`,"warn"):toastMessage(`Cannot reset "${i}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent((i,a)=>{const l=i.componentInstance&&i.componentInstance.proxy;if(l&&l._pStores){const c=i.componentInstance.proxy._pStores;Object.values(c).forEach(d=>{i.instanceData.state.push({type:getStoreType(d.$id),key:"state",editable:!0,value:d._isOptionsAPI?{_custom:{value:toRaw(d.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>d.$reset()}]}}:Object.keys(d.$state).reduce((E,C)=>(E[C]=d.$state[C],E),{})}),d._getters&&d._getters.length&&i.instanceData.state.push({type:getStoreType(d.$id),key:"getters",editable:!1,value:d._getters.reduce((E,C)=>{try{E[C]=d[C]}catch(D){E[C]=D}return E},{})})})}}),r.on.getInspectorTree(i=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){let a=[t];a=a.concat(Array.from(t._s.values())),i.rootNodes=(i.filter?a.filter(l=>"$id"in l?l.$id.toLowerCase().includes(i.filter.toLowerCase()):PINIA_ROOT_LABEL.toLowerCase().includes(i.filter.toLowerCase())):a).map(formatStoreForInspectorTree)}}),r.on.getInspectorState(i=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){const a=i.nodeId===PINIA_ROOT_ID?t:t._s.get(i.nodeId);if(!a)return;a&&(i.state=formatStoreForInspectorState(a))}}),r.on.editInspectorState((i,a)=>{if(i.app===e&&i.inspectorId===INSPECTOR_ID){const l=i.nodeId===PINIA_ROOT_ID?t:t._s.get(i.nodeId);if(!l)return toastMessage(`store "${i.nodeId}" not found`,"error");const{path:c}=i;isPinia(l)?c.unshift("state"):(c.length!==1||!l._customProperties.has(c[0])||c[0]in l.$state)&&c.unshift("$state"),isTimelineActive=!1,i.set(l,c,i.state.value),isTimelineActive=!0}}),r.on.editComponentState(i=>{if(i.type.startsWith("\u{1F34D}")){const a=i.type.replace(/^\s*/,""),l=t._s.get(a);if(!l)return toastMessage(`store "${a}" not found`,"error");const{path:c}=i;if(c[0]!=="state")return toastMessage(`Invalid path for store "${a}":
${c}
Only state can be modified.`);c[0]="$state",isTimelineActive=!1,i.set(l,c,i.state.value),isTimelineActive=!0}})})}function addStoreToDevtools(e,t){componentStateTypes.includes(getStoreType(t.$id))||componentStateTypes.push(getStoreType(t.$id)),setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia \u{1F34D}",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},r=>{const i=typeof r.now=="function"?r.now.bind(r):Date.now;t.$onAction(({after:c,onError:d,name:E,args:C})=>{const D=runningActionId++;r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F6EB} "+E,subtitle:"start",data:{store:formatDisplay(t.$id),action:formatDisplay(E),args:C},groupId:D}}),c(f=>{activeAction=void 0,r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F6EC} "+E,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(E),args:C,result:f},groupId:D}})}),d(f=>{activeAction=void 0,r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),logType:"error",title:"\u{1F4A5} "+E,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(E),args:C,error:f},groupId:D}})})},!0),t._customProperties.forEach(c=>{watch(()=>unref(t[c]),(d,E)=>{r.notifyComponentUpdate(),r.sendInspectorState(INSPECTOR_ID),isTimelineActive&&r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"Change",subtitle:c,data:{newValue:d,oldValue:E},groupId:activeAction}})},{deep:!0})}),t.$subscribe(({events:c,type:d},E)=>{if(r.notifyComponentUpdate(),r.sendInspectorState(INSPECTOR_ID),!isTimelineActive)return;const C={time:i(),title:formatMutationType(d),data:assign$1({store:formatDisplay(t.$id)},formatEventData(c)),groupId:activeAction};activeAction=void 0,d===MutationType.patchFunction?C.subtitle="\u2935\uFE0F":d===MutationType.patchObject?C.subtitle="\u{1F9E9}":c&&!Array.isArray(c)&&(C.subtitle=c.type),c&&(C.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:c}}),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:C})},{detached:!0,flush:"sync"});const a=t._hotUpdate;t._hotUpdate=markRaw(c=>{a(c),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:i(),title:"\u{1F525} "+t.$id,subtitle:"HMR update",data:{store:formatDisplay(t.$id),info:formatDisplay("HMR update")}}}),r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)});const{$dispose:l}=t;t.$dispose=()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.getSettings().logStoreChanges&&toastMessage(`Disposed "${t.$id}" store \u{1F5D1}`)},r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.getSettings().logStoreChanges&&toastMessage(`"${t.$id}" store installed \u{1F195}`)})}let runningActionId=0,activeAction;function patchActionForGrouping(e,t){const r=t.reduce((i,a)=>(i[a]=toRaw(e)[a],i),{});for(const i in r)e[i]=function(){const a=runningActionId,l=new Proxy(e,{get(...c){return activeAction=a,Reflect.get(...c)},set(...c){return activeAction=a,Reflect.set(...c)}});return r[i].apply(l,arguments)}}function devtoolsPlugin({app:e,store:t,options:r}){if(!t.$id.startsWith("__hot:")){if(r.state&&(t._isOptionsAPI=!0),typeof r.state=="function"){patchActionForGrouping(t,Object.keys(r.actions));const i=t._hotUpdate;toRaw(t)._hotUpdate=function(a){i.apply(this,arguments),patchActionForGrouping(t,Object.keys(a._hmrPayload.actions))}}addStoreToDevtools(e,t)}}function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let r=[],i=[];const a=markRaw({install(l){setActivePinia(a),a._a=l,l.provide(piniaSymbol,a),l.config.globalProperties.$pinia=a,USE_DEVTOOLS&&registerPiniaDevtools(l,a),i.forEach(c=>r.push(c)),i=[]},use(l){return!this._a&&!isVue2?i.push(l):r.push(l),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return USE_DEVTOOLS&&typeof Proxy<"u"&&a.use(devtoolsPlugin),a}function patchObject(e,t){for(const r in t){const i=t[r];if(!(r in e))continue;const a=e[r];isPlainObject$1(a)&&isPlainObject$1(i)&&!isRef(i)&&!isReactive(i)?e[r]=patchObject(a,i):e[r]=i}return e}const noop$2=()=>{};function addSubscription(e,t,r,i=noop$2){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),i())};return!r&&getCurrentScope()&&onScopeDispose(a),a}function triggerSubscriptions(e,...t){e.slice().forEach(r=>{r(...t)})}function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],a=e[r];isPlainObject$1(a)&&isPlainObject$1(i)&&e.hasOwnProperty(r)&&!isRef(i)&&!isReactive(i)?e[r]=mergeReactiveObjects(a,i):e[r]=i}return e}const skipHydrateSymbol=Symbol("pinia:skipHydration");function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,r,i){const{state:a,actions:l,getters:c}=t,d=r.state.value[e];let E;function C(){!d&&!i&&(r.state.value[e]=a?a():{});const D=toRefs(i?ref(a?a():{}).value:r.state.value[e]);return assign(D,l,Object.keys(c||{}).reduce((f,A)=>(A in D&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${A}" in store "${e}".`),f[A]=markRaw(computed(()=>{setActivePinia(r);const S=r._s.get(e);return c[A].call(S,S)})),f),{}))}return E=createSetupStore(e,C,t,r,i,!0),E.$reset=function(){const f=a?a():{};this.$patch(A=>{assign(A,f)})},E}function createSetupStore(e,t,r={},i,a,l){let c;const d=assign({actions:{}},r);if(!i._e.active)throw new Error("Pinia destroyed");const E={deep:!0};E.onTrigger=O=>{C?S=O:C==!1&&!se._hotUpdating&&(Array.isArray(S)?S.push(O):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let C,D,f=markRaw([]),A=markRaw([]),S;const L=i.state.value[e];!l&&!L&&!a&&(i.state.value[e]={});const N=ref({});let G;function ie(O){let T;C=D=!1,S=[],typeof O=="function"?(O(i.state.value[e]),T={type:MutationType.patchFunction,storeId:e,events:S}):(mergeReactiveObjects(i.state.value[e],O),T={type:MutationType.patchObject,payload:O,storeId:e,events:S});const ce=G=Symbol();nextTick().then(()=>{G===ce&&(C=!0)}),D=!0,triggerSubscriptions(f,T,i.state.value[e])}const le=()=>{throw new Error(`\u{1F34D}: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function ae(){c.stop(),f=[],A=[],i._s.delete(e)}function he(O,T){return function(){setActivePinia(i);const ce=Array.from(arguments),fe=[],Ee=[];function Ae(De){fe.push(De)}function _e(De){Ee.push(De)}triggerSubscriptions(A,{args:ce,name:O,store:se,after:Ae,onError:_e});let xe;try{xe=T.apply(this&&this.$id===e?this:se,ce)}catch(De){throw triggerSubscriptions(Ee,De),De}return xe instanceof Promise?xe.then(De=>(triggerSubscriptions(fe,De),De)).catch(De=>(triggerSubscriptions(Ee,De),Promise.reject(De))):(triggerSubscriptions(fe,xe),xe)}}const pe=markRaw({actions:{},getters:{},state:[],hotState:N}),B={_p:i,$id:e,$onAction:addSubscription.bind(null,A),$patch:ie,$reset:le,$subscribe(O,T={}){const ce=addSubscription(f,O,T.detached,()=>fe()),fe=c.run(()=>watch(()=>i.state.value[e],Ee=>{(T.flush==="sync"?D:C)&&O({storeId:e,type:MutationType.direct,events:S},Ee)},assign({},E,T)));return ce},$dispose:ae},se=reactive(assign({_hmrPayload:pe,_customProperties:markRaw(new Set)},B));i._s.set(e,se);const oe=i._e.run(()=>(c=effectScope(),c.run(()=>t())));for(const O in oe){const T=oe[O];if(isRef(T)&&!isComputed(T)||isReactive(T))a?set(N.value,O,toRef(oe,O)):l||(L&&shouldHydrate(T)&&(isRef(T)?T.value=L[O]:mergeReactiveObjects(T,L[O])),i.state.value[e][O]=T),pe.state.push(O);else if(typeof T=="function"){const ce=a?T:he(O,T);oe[O]=ce,pe.actions[O]=T,d.actions[O]=T}else isComputed(T)&&(pe.getters[O]=l?r.getters[O]:T,IS_CLIENT&&(oe._getters||(oe._getters=markRaw([]))).push(O))}if(assign(se,oe),assign(toRaw(se),oe),Object.defineProperty(se,"$state",{get:()=>a?N.value:i.state.value[e],set:O=>{if(a)throw new Error("cannot set hotState");ie(T=>{assign(T,O)})}}),se._hotUpdate=markRaw(O=>{se._hotUpdating=!0,O._hmrPayload.state.forEach(T=>{if(T in se.$state){const ce=O.$state[T],fe=se.$state[T];typeof ce=="object"&&isPlainObject$1(ce)&&isPlainObject$1(fe)?patchObject(ce,fe):O.$state[T]=fe}set(se,T,toRef(O.$state,T))}),Object.keys(se.$state).forEach(T=>{T in O.$state||del(se,T)}),C=!1,D=!1,i.state.value[e]=toRef(O._hmrPayload,"hotState"),D=!0,nextTick().then(()=>{C=!0});for(const T in O._hmrPayload.actions){const ce=O[T];set(se,T,he(T,ce))}for(const T in O._hmrPayload.getters){const ce=O._hmrPayload.getters[T],fe=l?computed(()=>(setActivePinia(i),ce.call(se,se))):ce;set(se,T,fe)}Object.keys(se._hmrPayload.getters).forEach(T=>{T in O._hmrPayload.getters||del(se,T)}),Object.keys(se._hmrPayload.actions).forEach(T=>{T in O._hmrPayload.actions||del(se,T)}),se._hmrPayload=O._hmrPayload,se._getters=O._getters,se._hotUpdating=!1}),USE_DEVTOOLS){const O={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(T=>{Object.defineProperty(se,T,assign({value:se[T]},O))})}return i._p.forEach(O=>{if(USE_DEVTOOLS){const T=c.run(()=>O({store:se,app:i._a,pinia:i,options:d}));Object.keys(T||{}).forEach(ce=>se._customProperties.add(ce)),assign(se,T)}else assign(se,c.run(()=>O({store:se,app:i._a,pinia:i,options:d})))}),se.$state&&typeof se.$state=="object"&&typeof se.$state.constructor=="function"&&!se.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${se.$id}".`),L&&l&&r.hydrate&&r.hydrate(se.$state,L),C=!0,D=!0,se}function defineStore(e,t,r){let i,a;const l=typeof t=="function";typeof e=="string"?(i=e,a=l?r:t):(a=e,i=e.id);function c(d,E){const C=getCurrentInstance$1();if(d=d||C&&inject$1(piniaSymbol,null),d&&setActivePinia(d),!activePinia)throw new Error(`[\u{1F34D}]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);d=activePinia,d._s.has(i)||(l?createSetupStore(i,t,a,d):createOptionsStore(i,a,d),c._pinia=d);const D=d._s.get(i);if(E){const f="__hot:"+i,A=l?createSetupStore(f,t,a,d,!0):createOptionsStore(f,assign({},a),d,!0);E._hotUpdate(A),delete d.state.value[f],d._s.delete(f)}if(IS_CLIENT&&C&&C.proxy&&!E){const f=C.proxy,A="_pStores"in f?f._pStores:f._pStores={};A[i]=D}return D}return c.$id=i,c}function storeToRefs(e){{e=toRaw(e);const t={};for(const r in e){const i=e[r];(isRef(i)||isReactive(i))&&(t[r]=toRef(e,r))}return t}}const useFocus$1=defineStore("focus",()=>{const e=ref(!0),t=c=>{e.value=c},r=ref(),i=c=>{r.value=c},a=()=>{window.onkeydown=()=>{const c=document.activeElement,d=c?.tagName,E=d==="INPUT",C=c?.getAttribute("readonly")===null,D=d==="TEXTAREA"&&C,f=Boolean(c?.getAttribute("contenteditable"));e.value&&!(E&&C)&&!f&&!(D&&C)&&r.value?.focus()}};return a(),{isCommandFocus:e,setCommandFocus:t,setInputEl:i,initInputAutoFocus:a,destroyInputAutoFocus:()=>{window.onkeydown=null,r.value=void 0}}}),setProp=(e,t,r)=>(e[t]=r,e[t]),defaultColor={color:"#fff",name:"#fff",index:-1,method:ColorMethod.kByColor,n:0},useColor$1=defineStore("color",()=>{const e=(E={})=>({...defaultColor,...E});let t=[];const r=computed(()=>t),i=ref([]),a=ref();return watch(a,E=>{E&&getDatabase().SetCurrentlyColorIndex(E.index)}),{colorIndexList:r,colorSelectList:i,currentSelectColor:a,initColorIndexList:()=>{const E=createMxColor();E.method=ColorMethod.kByACI;const C=[];for(let f=1;f<257;f++){E.setColorIndex(f);const A=toRGBCss(E);C.push(e({color:A,index:f,name:getColorName(f)||A}))}t=C,i.value=[...t.slice(0,7),t[t.length-1]];const D=getDatabase().GetCurrentlyColorIndex();a.value=i.value.find(({index:f})=>D===f)},createColor:e,parseJSONColor:E=>{const C=createMxColor(E),{colorIndex:D,method:f}=C,A=toRGBCss(C);return e({method:f,color:A,name:getColorName(D)||A})},stringifyJSONColor:E=>{const{method:C}=E,D=Color$1(E.color),f=D.red(),A=D.green(),S=D.blue();return{red:f,green:A,blue:S,method:C}}}}),defaultLineType={name:"ByLayer",explain:"",appearance:"",id:-1},useLineType=defineStore("lineType",()=>{const e=(c={})=>({...defaultLineType,...c}),t=ref([]),r=ref();watch(r,c=>{c&&getDatabase().SetCurrentlyLineTypeName(c.name)});const i=c=>{const{name:d,comments:E,id:C}=c;return e({name:d,explain:E,appearance:E,id:C})};return{initLineTypeList:()=>{const d=getDatabase().GetLinetypeTable().getJson(),E=JSON.parse(d);t.value=E.map(D=>i(D));const C=getDatabase().GetCurrentlyLineTypeName();r.value=t.value.find(({name:D})=>C===D)},createLineType:e,parseJSONLineType:i,stringifyJSONLineType:c=>{},lineTypeList:t,currentLineType:r}}),useLayer=defineStore("layer",()=>{const{createColor:e,stringifyJSONColor:t,parseJSONColor:r}=useColor$1(),{createLineType:i}=useLineType(),a={id:0,name:"0",visible:!0,freeze:!1,lock:!1,print:!0,status:!1,isSelect:!1,color:e(),lineType:i()};let l=0;const c=oe=>({...a,name:`\u65B0\u5EFA\u56FE\u5C42${l++}`,id:0,...oe}),d=ref([]),E=ref(0),C=ref(),D=computed(()=>d.value[0].id),f=oe=>new Promise((O,T)=>{setLayerJson(oe)?O():T()}),A=(oe,O,T=E)=>{const ce=unref(T||E),fe=unref(O);return(Array.isArray(ce)?ce.map(Ae=>d.value[unref(Ae)]):[d.value[unref(ce)]]).map((Ae,_e)=>setProp(Ae,oe,unref(Array.isArray(fe)?fe[_e]||fe[0]:fe)))},S=(oe=E)=>{const O=unref(oe),T=ce=>typeof ce=="object"?d.value.indexOf(ce):ce;return Array.isArray(O)?O.map(ce=>T(ce)):T(O)},L=oe=>{E.value=unref(oe),A("isSelect",!1,d.value.map((O,T)=>T)),A("isSelect",!0)},N=oe=>{if(d.value[oe])return L(oe);N(oe-1)},G=oe=>{d.value.push(oe||c()),L(d.value.length-1)},ie=(oe=E,O="index")=>{const T=unref(oe),ce=Ee=>{d.value=d.value.filter((_e,xe)=>{if(_e.id===D.value||_e.status)return!0;const De=O==="this"?_e:O==="id"?_e.id:xe;return!Ee.includes(De)});const Ae=S(Ee[Ee.length-1]);typeof Ae=="number"&&N(Ae)},fe=Ee=>{if(O==="id")ce([Ee]);else{let Ae=S(Ee);if(typeof Ae!="number"||Ae<0)return;const _e=d.value[Ae];if(_e.id===D.value||_e.status)return;d.value.splice(Ae,1)}};if(T)if(Array.isArray(T))ce(T);else{fe(T);const Ee=S(T);if(typeof Ee!="number")return;N(Ee)}},le=(oe,O=E)=>{let T=unref(O);const ce=fe=>{let Ee=unref(fe);if(!(oe==="freeze"&&d.value[Ee].id===D.value))return d.value[Ee][oe]=!d.value[Ee][oe],d.value[Ee][oe]};return Array.isArray(T)?T.map(fe=>ce(fe)):ce(T)},ae=oe=>{const O=oe?S(oe):E.value;Array.isArray(O)&&(O.length>1||O.length===0)||(A("status",!1,d.value.map((T,ce)=>ce)),C.value=unref(d.value[Array.isArray(O)?O[0]:O]),C.value.status=!0,getDatabase().SetCurrentlyLayerName(C.value.name))},he=()=>{const oe=getDatabase().GetCurrentlyLayerName();ae(d.value.find(({name:O})=>oe===O))},pe=oe=>{try{const O=JSON.parse(oe);if(!Array.isArray(O))return;d.value=O.map(({name:T,color:ce,off:fe,linetypename:Ee,locked:Ae,plottable:_e,id:xe})=>c({name:T,id:xe,color:r(ce),lock:Ae===Status.On,lineType:i({name:Ee}),print:_e===Status.On,visible:fe===Status.Off}))}catch(O){console.error(O)}};return{list:d,index:E,currentLayer:C,rootId:D,setIndex:L,getIndex:S,add:G,create:c,remove:ie,toggle:le,setValue:A,putCurrent:ae,parseJSON:pe,stringifyJSON:()=>JSON.stringify(d.value.map(oe=>{const{name:O,color:T,visible:ce,id:fe,lineType:Ee,print:Ae,lock:_e}=oe;return{name:O,id:fe,off:ce?Status.Off:Status.On,color:t(T),linetypename:Ee.name,plottable:Ae?Status.On:Status.Off,locked:_e?Status.On:Status.Off}})),initLayerList:()=>{pe(getLayerJson()),he()},initCurrentLayer:he,setLayerList:f}}),VBtn$1="",VBtnToggle$1="",VBtnGroup$1="";function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,r){var i=_classExtractFieldDescriptor(e,t,"set");return _classApplyDescriptorSet(e,i,r),r}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classPrivateFieldGet(e,t){var r=_classExtractFieldDescriptor(e,t,"get");return _classApplyDescriptorGet(e,r)}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function getNestedValue(e,t,r){const i=t.length-1;if(i<0)return e===void 0?r:e;for(let a=0;a<i;a++){if(e==null)return r;e=e[t[a]]}return e==null||e[t[i]]===void 0?r:e[t[i]]}function deepEqual(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(i=>deepEqual(e[i],t[i]))}function getObjectValueByPath(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),getNestedValue(e,t.split("."),r))}function getPropertyFromItem(e,t,r){if(t==null)return e===void 0?r:e;if(e!==Object(e)){if(typeof t!="function")return r;const a=t(e,r);return typeof a>"u"?r:a}if(typeof t=="string")return getObjectValueByPath(e,t,r);if(Array.isArray(t))return getNestedValue(e,t,r);if(typeof t!="function")return r;const i=t(e,r);return typeof i>"u"?r:i}function createRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,i)=>t+i)}function convertToUnit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function isObject$1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function isComponentInstance(e){return e?.$el}const keyCodes=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),keyValues=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function keys(e){return Object.keys(e)}function pick(e,t){const r=Object.create(null),i=Object.create(null);for(const a in e)t.some(l=>l instanceof RegExp?l.test(a):l===a)?r[a]=e[a]:i[a]=e[a];return[r,i]}function omit(e,t){const r={...e};return t.forEach(i=>delete r[i]),r}function filterInputAttrs(e){return pick(e,["class","style","id",/^data-/])}function wrapInArray(e){return e==null?[]:Array.isArray(e)?e:[e]}function clamp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function getDecimals(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function padEnd(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function chunk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let i=0;for(;i<e.length;)r.push(e.substr(i,t)),i+=t;return r}function mergeDeep(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i={};for(const a in e)i[a]=e[a];for(const a in t){const l=e[a],c=t[a];if(isObject$1(l)&&isObject$1(c)){i[a]=mergeDeep(l,c,r);continue}if(Array.isArray(l)&&Array.isArray(c)&&r){i[a]=r(l,c);continue}i[a]=c}return i}function toKebabCase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(toKebabCase.cache.has(e))return toKebabCase.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return toKebabCase.cache.set(e,t),t}toKebabCase.cache=new Map;function findChildrenWithProvide(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>findChildrenWithProvide(e,r)).flat(1);if(Array.isArray(t.children))return t.children.map(r=>findChildrenWithProvide(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return findChildrenWithProvide(e,t.component.subTree).flat(1)}return[]}var _arr=new WeakMap,_pointer=new WeakMap;class CircularBuffer{constructor(t){_classPrivateFieldInitSpec(this,_arr,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,_pointer,{writable:!0,value:0}),this.size=t}push(t){_classPrivateFieldGet(this,_arr)[_classPrivateFieldGet(this,_pointer)]=t,_classPrivateFieldSet(this,_pointer,(_classPrivateFieldGet(this,_pointer)+1)%this.size)}values(){return _classPrivateFieldGet(this,_arr).slice(_classPrivateFieldGet(this,_pointer)).concat(_classPrivateFieldGet(this,_arr).slice(0,_classPrivateFieldGet(this,_pointer)))}}function getEventCoordinates(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function destructComputed(e){const t=reactive({}),r=computed(e);return watchEffect(()=>{for(const i in r.value)t[i]=r.value[i]},{flush:"sync"}),toRefs(t)}function includes$1(e,t){return e.includes(t)}const onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),EventProp=[Function,Array];function hasEvent(e,t){return t="on"+capitalize(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function callEvent(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(Array.isArray(e))for(const a of e)a(...r);else typeof e=="function"&&e(...r)}const block=["top","bottom"],inline=["start","end","left","right"];function parseAnchor(e,t){let[r,i]=e.split(" ");return i||(i=includes$1(block,r)?"start":includes$1(inline,r)?"top":"center"),{side:toPhysical(r,t),align:toPhysical(i,t)}}function toPhysical(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function flipSide(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function flipAlign(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function flipCorner(e){return{side:e.align,align:e.side}}function getAxis(e){return includes$1(block,e.side)?"y":"x"}class Box{constructor(t){let{x:r,y:i,width:a,height:l}=t;this.x=r,this.y=i,this.width=a,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function getOverflow(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function nullifyTransforms(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),i=r.transform;if(i){let a,l,c,d,E;if(i.startsWith("matrix3d("))a=i.slice(9,-1).split(/, /),l=+a[0],c=+a[5],d=+a[12],E=+a[13];else if(i.startsWith("matrix("))a=i.slice(7,-1).split(/, /),l=+a[0],c=+a[3],d=+a[4],E=+a[5];else return new Box(t);const C=r.transformOrigin,D=t.x-d-(1-l)*parseFloat(C),f=t.y-E-(1-c)*parseFloat(C.slice(C.indexOf(" ")+1)),A=l?t.width/l:e.offsetWidth+1,S=c?t.height/c:e.offsetHeight+1;return new Box({x:D,y:f,width:A,height:S})}else return new Box(t)}function animate(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(a=>{i.onfinish=()=>{a(i)}})),i}function createMessage(e,t,r){if(r&&(t={__isVue:!0,$parent:r,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(t?generateComponentTrace(t):"")}function consoleWarn(e,t,r){const i=createMessage(e,t,r);i!=null&&console.warn(i)}function consoleError(e,t,r){const i=createMessage(e,t,r);i!=null&&console.error(i)}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function formatComponentName(e,t){if(e.$root===e)return"<Root>";const r=typeof e=="function"&&e.cid!=null?e.options:e.__isVue?e.$options||e.constructor.options:e||{};let i=r.name||r._componentTag;const a=r.__file;return!i&&a&&(i=a.match(/([^/\\]+)\.vue$/)?.[1]),(i?`<${classify(i)}>`:"<Anonymous>")+(a&&t!==!1?` at ${a}`:"")}function generateComponentTrace(e){if(e.__isVue&&e.$parent){const t=[];let r=0;for(;e;){if(t.length>0){const i=t[t.length-1];if(i.constructor===e.constructor){r++,e=e.$parent;continue}else r>0&&(t[t.length-1]=[i,r],r=0)}t.push(e),e=e.$parent}return`

found in

`+t.map((i,a)=>`${a===0?"---> ":" ".repeat(5+a*2)}${Array.isArray(i)?`${formatComponentName(i[0])}... (${i[1]} recursive calls)`:formatComponentName(i)}`).join(`
`)}else return`

(found in ${formatComponentName(e)})`}const srgbForwardMatrix=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],srgbForwardTransform=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,srgbReverseMatrix=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],srgbReverseTransform=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function fromXYZ$1(e){const t=Array(3),r=srgbForwardTransform,i=srgbForwardMatrix;for(let a=0;a<3;++a)t[a]=Math.round(clamp(r(i[a][0]*e[0]+i[a][1]*e[1]+i[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function toXYZ$1(e){let{r:t,g:r,b:i}=e;const a=[0,0,0],l=srgbReverseTransform,c=srgbReverseMatrix;t=l(t/255),r=l(r/255),i=l(i/255);for(let d=0;d<3;++d)a[d]=c[d][0]*t+c[d][1]*r+c[d][2]*i;return a}const delta=.20689655172413793,cielabForwardTransform=e=>e>delta**3?Math.cbrt(e):e/(3*delta**2)+4/29,cielabReverseTransform=e=>e>delta?e**3:3*delta**2*(e-4/29);function fromXYZ(e){const t=cielabForwardTransform,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function toXYZ(e){const t=cielabReverseTransform,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}function isCssColor(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function parseColor(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&consoleWarn(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(i=>i+i).join(""):[6,8].includes(t.length)||consoleWarn(`'${e}' is not a valid hex(a) color`);const r=parseInt(t,16);return(isNaN(r)||r<0||r>4294967295)&&consoleWarn(`'${e}' is not a valid hex(a) color`),HexToRGB(t)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${e==null?e:e.constructor.name} instead`)}function HSVtoRGB(e){const{h:t,s:r,v:i,a}=e,l=d=>{const E=(d+t/60)%6;return i-i*r*Math.max(Math.min(E,4-E,1),0)},c=[l(5),l(3),l(1)].map(d=>Math.round(d*255));return{r:c[0],g:c[1],b:c[2],a}}function RGBtoHSV(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(t,r,i),l=Math.min(t,r,i);let c=0;a!==l&&(a===t?c=60*(0+(r-i)/(a-l)):a===r?c=60*(2+(i-t)/(a-l)):a===i&&(c=60*(4+(t-r)/(a-l)))),c<0&&(c=c+360);const d=a===0?0:(a-l)/a,E=[c,d,a];return{h:E[0],s:E[1],v:E[2],a:e.a}}function HSVtoHSL(e){const{h:t,s:r,v:i,a}=e,l=i-i*r/2,c=l===1||l===0?0:(i-l)/Math.min(l,1-l);return{h:t,s:c,l,a}}function HSLtoHSV(e){const{h:t,s:r,l:i,a}=e,l=i+r*Math.min(i,1-i),c=l===0?0:2-2*i/l;return{h:t,s:c,v:l,a}}function RGBtoCSS(e){let{r:t,g:r,b:i,a}=e;return a===void 0?`rgb(${t}, ${r}, ${i})`:`rgba(${t}, ${r}, ${i}, ${a})`}function HSVtoCSS(e){return RGBtoCSS(HSVtoRGB(e))}function toHex(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function RGBtoHex(e){let{r:t,g:r,b:i,a}=e;return`#${[toHex(t),toHex(r),toHex(i),a!==void 0?toHex(Math.round(a*255)):""].join("")}`}function HexToRGB(e){e=parseHex(e);let[t,r,i,a]=chunk(e,2).map(l=>parseInt(l,16));return a=a===void 0?a:a/255,{r:t,g:r,b:i,a}}function HexToHSV(e){const t=HexToRGB(e);return RGBtoHSV(t)}function HSVtoHex(e){return RGBtoHex(HSVtoRGB(e))}function parseHex(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=padEnd(padEnd(e,6),8,"F")),e}function lighten(e,t){const r=fromXYZ(toXYZ$1(e));return r[0]=r[0]+t*10,fromXYZ$1(toXYZ(r))}function darken(e,t){const r=fromXYZ(toXYZ$1(e));return r[0]=r[0]-t*10,fromXYZ$1(toXYZ(r))}function getLuma(e){const t=parseColor(e);return toXYZ$1(t)[1]}function getContrast(e,t){const r=getLuma(e),i=getLuma(t),a=Math.max(r,i),l=Math.min(r,i);return(a+.05)/(l+.05)}function getCurrentInstance(e,t){const r=getCurrentInstance$1();if(!r)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return r}function getCurrentInstanceName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=getCurrentInstance(e).type;return toKebabCase(t?.aliasName||t?.name)}let _uid=0,_map=new WeakMap;function getUid(){const e=getCurrentInstance("getUid");if(_map.has(e))return _map.get(e);{const t=_uid++;return _map.set(e,t),t}}getUid.reset=()=>{_uid=0,_map=new WeakMap};function injectSelf(e){const{provides:t}=getCurrentInstance("injectSelf");if(t&&e in t)return t[e]}function propsFactory$1(e,t){return r=>Object.keys(e).reduce((i,a)=>{const c=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return r&&a in r?i[a]={...c,default:r[a]}:i[a]=c,t&&!i[a].source&&(i[a].source=t),i},{})}const DefaultsSymbol=Symbol.for("vuetify:defaults");function createDefaults(e){return ref(e)}function useDefaults(){const e=inject$1(DefaultsSymbol);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function provideDefaults(e,t){const r=useDefaults(),i=ref(e),a=computed(()=>{if(unref(t?.disabled))return r.value;const c=unref(t?.scoped),d=unref(t?.reset),E=unref(t?.root);let C=mergeDeep(i.value,{prev:r.value});if(c)return C;if(d||E){const D=Number(d||1/0);for(let f=0;f<=D&&!(!C||!("prev"in C));f++)C=C.prev;return C}return mergeDeep(C.prev,C)});return provide(DefaultsSymbol,a),a}function useToggleScope(e,t){let r;function i(){r=effectScope(),r.run(()=>t.length?t(()=>{r?.stop(),i()}):t())}watch(e,a=>{a&&!r?i():a||(r?.stop(),r=void 0)},{immediate:!0}),onScopeDispose(()=>{r?.stop()})}function propIsDefined(e,t){return typeof e.props?.[t]<"u"||typeof e.props?.[toKebabCase(t)]<"u"}function defineComponent(e){if(e._setup=e._setup??e.setup,!e.name)return consoleWarn("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=propsFactory$1(e.props??{},toKebabCase(e.name))();const t=Object.keys(e.props);e.filterProps=function(i){return pick(i,t)},e.props._as=String,e.setup=function(i,a){const l=useDefaults();if(!l.value)return e._setup(i,a);const c=getCurrentInstance$1(),d=computed(()=>l.value[i._as??e.name]),E=new Proxy(i,{get(f,A){const S=Reflect.get(f,A);return typeof A=="string"&&!propIsDefined(c.vnode,A)?d.value?.[A]??l.value.global?.[A]??S:S}}),C=shallowRef();watchEffect(()=>{if(d.value){const f=Object.entries(d.value).filter(A=>{let[S]=A;return S.startsWith(S[0].toUpperCase())});f.length&&(C.value=Object.fromEntries(f))}});const D=e._setup(E,a);return useToggleScope(C,()=>{provideDefaults(mergeDeep(injectSelf(DefaultsSymbol)?.value??{},C.value))}),D}}return e}function genericComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?defineComponent:defineComponent$1)(t)}function createSimpleFunctional(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:r??capitalize(camelize(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t}},setup(i,a){let{slots:l}=a;return()=>h(i.tag,{class:e},l.default?.())}})}function attachedRoot(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const standardEasing="cubic-bezier(0.4, 0, 0.2, 1)",deceleratedEasing="cubic-bezier(0.0, 0, 0.2, 1)",acceleratedEasing="cubic-bezier(0.4, 0, 1, 1)";function getScrollParent(e){for(;e;){if(hasScrollbar(e))return e;e=e.parentElement}return document.scrollingElement}function getScrollParents(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(hasScrollbar(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const IN_BROWSER=typeof window<"u",SUPPORTS_INTERSECTION=IN_BROWSER&&"IntersectionObserver"in window,SUPPORTS_TOUCH=IN_BROWSER&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),SUPPORTS_FOCUS_VISIBLE=IN_BROWSER&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function isFixedPosition(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function useRender(e){const t=getCurrentInstance("useRender");t.render=e}const makeBorderProps=propsFactory$1({border:[Boolean,Number,String]},"border");function useBorder(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const i=isRef(e)?e.value:e.border,a=[];if(i===!0||i==="")a.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const l of String(i).split(" "))a.push(`border-${l}`);return a})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory$1({density:{type:String,default:"default",validator:e=>allowedDensities$1.includes(e)}},"density");function useDensity(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{densityClasses:computed(()=>`${t}--density-${e.density}`)}}const makeElevationProps=propsFactory$1({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function useElevation(e){return{elevationClasses:computed(()=>{const r=isRef(e)?e.value:e.elevation,i=[];return r==null||i.push(`elevation-${r}`),i})}}const makeRoundedProps=propsFactory$1({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function useRounded(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const i=isRef(e)?e.value:e.rounded,a=[];if(i===!0||i==="")a.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const l of String(i).split(" "))a.push(`rounded-${l}`);return a})}}const makeTagProps=propsFactory$1({tag:{type:String,default:"div"}},"tag"),mainTRC=2.4,Rco=.2126729,Gco=.7151522,Bco=.072175,normBG=.55,normTXT=.58,revTXT=.57,revBG=.62,blkThrs=.03,blkClmp=1.45,deltaYmin=5e-4,scaleBoW=1.25,scaleWoB=1.25,loConThresh=.078,loConFactor=12.82051282051282,loConOffset=.06,loClip=.001;function APCAcontrast(e,t){const r=(e.r/255)**mainTRC,i=(e.g/255)**mainTRC,a=(e.b/255)**mainTRC,l=(t.r/255)**mainTRC,c=(t.g/255)**mainTRC,d=(t.b/255)**mainTRC;let E=r*Rco+i*Gco+a*Bco,C=l*Rco+c*Gco+d*Bco;if(E<=blkThrs&&(E+=(blkThrs-E)**blkClmp),C<=blkThrs&&(C+=(blkThrs-C)**blkClmp),Math.abs(C-E)<deltaYmin)return 0;let D;if(C>E){const f=(C**normBG-E**normTXT)*scaleBoW;D=f<loClip?0:f<loConThresh?f-f*loConFactor*loConOffset:f-loConOffset}else{const f=(C**revBG-E**revTXT)*scaleWoB;D=f>-loClip?0:f>-loConThresh?f-f*loConFactor*loConOffset:f+loConOffset}return D*100}const ThemeSymbol=Symbol.for("vuetify:theme"),makeThemeProps=propsFactory$1({theme:String},"theme"),defaultThemeOptions={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function parseThemeOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultThemeOptions;if(!e)return{...defaultThemeOptions,isDisabled:!0};const t={};for(const[r,i]of Object.entries(e.themes??{})){const a=i.dark||r==="dark"?defaultThemeOptions.themes?.dark:defaultThemeOptions.themes?.light;t[r]=mergeDeep(a,i)}return mergeDeep(defaultThemeOptions,{...e,themes:t})}function createTheme(e){const t=reactive(parseThemeOptions(e)),r=ref(t.defaultTheme),i=ref(t.themes),a=computed(()=>{const D={};for(const[f,A]of Object.entries(i.value)){const S=D[f]={...A,colors:{...A.colors}};if(t.variations)for(const L of t.variations.colors){const N=S.colors[L];if(!!N)for(const G of["lighten","darken"]){const ie=G==="lighten"?lighten:darken;for(const le of createRange(t.variations[G],1))S.colors[`${L}-${G}-${le}`]=RGBtoHex(ie(parseColor(N),le))}}for(const L of Object.keys(S.colors)){if(/^on-[a-z]/.test(L)||S.colors[`on-${L}`])continue;const N=`on-${L}`,G=parseColor(S.colors[L]),ie=Math.abs(APCAcontrast(parseColor(0),G)),le=Math.abs(APCAcontrast(parseColor(16777215),G));S.colors[N]=le>Math.min(ie,50)?"#fff":"#000"}}return D}),l=computed(()=>a.value[r.value]),c=computed(()=>{const D=[];l.value.dark&&createCssClass(D,":root",["color-scheme: dark"]),createCssClass(D,":root",genCssVariables(l.value));for(const[L,N]of Object.entries(a.value))createCssClass(D,`.v-theme--${L}`,[`color-scheme: ${N.dark?"dark":"normal"}`,...genCssVariables(N)]);const f=[],A=[],S=new Set(Object.values(a.value).flatMap(L=>Object.keys(L.colors)));for(const L of S)/^on-[a-z]/.test(L)?createCssClass(A,`.${L}`,[`color: rgb(var(--v-theme-${L})) !important`]):(createCssClass(f,`.bg-${L}`,[`--v-theme-overlay-multiplier: var(--v-theme-${L}-overlay-multiplier)`,`background: rgb(var(--v-theme-${L})) !important`,`color: rgb(var(--v-theme-on-${L})) !important`]),createCssClass(A,`.text-${L}`,[`color: rgb(var(--v-theme-${L})) !important`]),createCssClass(A,`.border-${L}`,[`--v-border-color: var(--v-theme-${L})`]));return D.push(...f,...A),D.map((L,N)=>N===0?L:`    ${L}`).join("")});function d(){return{style:[{children:c.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function E(D){const f=D._context.provides.usehead;if(f)if(f.push){const A=f.push(d);watch(c,()=>{A.patch(d)})}else IN_BROWSER?(f.addHeadObjs(computed(d)),watchEffect(()=>f.updateDOM())):f.addHeadObjs(d());else{let S=function(){if(!t.isDisabled){if(typeof document<"u"&&!A){const L=document.createElement("style");L.type="text/css",L.id="vuetify-theme-stylesheet",t.cspNonce&&L.setAttribute("nonce",t.cspNonce),A=L,document.head.appendChild(A)}A&&(A.innerHTML=c.value)}},A=IN_BROWSER?document.getElementById("vuetify-theme-stylesheet"):null;watch(c,S,{immediate:!0})}}const C=computed(()=>t.isDisabled?void 0:`v-theme--${r.value}`);return{install:E,isDisabled:t.isDisabled,name:r,themes:i,current:l,computedThemes:a,themeClasses:C,styles:c,global:{name:r,current:l}}}function provideTheme(e){getCurrentInstance("provideTheme");const t=inject$1(ThemeSymbol,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=computed(()=>e.theme??t?.name.value),i=computed(()=>t.isDisabled?void 0:`v-theme--${r.value}`),a={...t,name:r,themeClasses:i};return provide(ThemeSymbol,a),a}function useTheme$1(){getCurrentInstance("useTheme");const e=inject$1(ThemeSymbol,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function createCssClass(e,t,r){e.push(`${t} {
`,...r.map(i=>`  ${i};
`),`}
`)}function genCssVariables(e){const t=e.dark?2:1,r=e.dark?1:2,i=[];for(const[a,l]of Object.entries(e.colors)){const c=parseColor(l);i.push(`--v-theme-${a}: ${c.r},${c.g},${c.b}`),a.startsWith("on-")||i.push(`--v-theme-${a}-overlay-multiplier: ${getLuma(l)>.18?t:r}`)}for(const[a,l]of Object.entries(e.variables)){const c=typeof l=="string"&&l.startsWith("#")?parseColor(l):void 0,d=c?`${c.r}, ${c.g}, ${c.b}`:void 0;i.push(`--v-${a}: ${d??l}`)}return i}function useColor(e){return destructComputed(()=>{const t=[],r={};return e.value.background&&(isCssColor(e.value.background)?r.backgroundColor=e.value.background:t.push(`bg-${e.value.background}`)),e.value.text&&(isCssColor(e.value.text)?(r.color=e.value.text,r.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:r}})}function useTextColor(e,t){const r=computed(()=>({text:isRef(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:a}=useColor(r);return{textColorClasses:i,textColorStyles:a}}function useBackgroundColor(e,t){const r=computed(()=>({background:isRef(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:a}=useColor(r);return{backgroundColorClasses:i,backgroundColorStyles:a}}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(e,t){return createVNode(Fragment,null,[e&&createVNode("span",{key:"overlay",class:`${t}__overlay`},null),createVNode("span",{key:"underlay",class:`${t}__underlay`},null)])}const makeVariantProps=propsFactory$1({color:String,variant:{type:String,default:"elevated",validator:e=>allowedVariants$2.includes(e)}},"variant");function useVariant(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=computed(()=>{const{variant:l}=unref(e);return`${t}--variant-${l}`}),{colorClasses:i,colorStyles:a}=useColor(computed(()=>{const{variant:l,color:c}=unref(e);return{[["elevated","flat"].includes(l)?"background":"text"]:c}}));return{colorClasses:i,colorStyles:a,variantClasses:r}}const makeVBtnGroupProps=propsFactory$1({divided:Boolean,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},"v-btn-group"),VBtnGroup=genericComponent()({name:"VBtnGroup",props:makeVBtnGroupProps(),setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{densityClasses:a}=useDensity(e),{borderClasses:l}=useBorder(e),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e);provideDefaults({VBtn:{height:"auto",color:toRef(e,"color"),density:toRef(e,"density"),flat:!0,variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,l.value,a.value,c.value,d.value]},r))}});function useProxiedModel(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const l=getCurrentInstance("useProxiedModel"),c=ref(e[t]!==void 0?e[t]:r),d=toKebabCase(t),C=computed(d!==t?()=>(e[t],!!((l.vnode.props?.hasOwnProperty(t)||l.vnode.props?.hasOwnProperty(d))&&(l.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||l.vnode.props?.hasOwnProperty(`onUpdate:${d}`)))):()=>(e[t],!!(l.vnode.props?.hasOwnProperty(t)&&l.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));useToggleScope(()=>!C.value,()=>{watch(()=>e[t],f=>{c.value=f})});const D=computed({get(){return i(C.value?e[t]:c.value)},set(f){const A=a(f),S=toRaw(C.value?e[t]:c.value);S===A||i(S)===f||(c.value=A,l?.emit(`update:${t}`,A))}});return Object.defineProperty(D,"externalValue",{get:()=>C.value?e[t]:c.value}),D}const makeGroupProps=propsFactory$1({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory$1({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=getCurrentInstance("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=getUid();provide(Symbol.for(`${t.description}:id`),a);const l=inject$1(t,null);if(!l){if(!r)return l;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const c=toRef(e,"value"),d=computed(()=>l.disabled.value||e.disabled);l.register({id:a,value:c,disabled:d},i),onBeforeUnmount(()=>{l.unregister(a)});const E=computed(()=>l.isSelected(a)),C=computed(()=>E.value&&[l.selectedClass.value,e.selectedClass]);return watch(E,D=>{i.emit("group:selected",{value:D})}),{id:a,isSelected:E,toggle:()=>l.select(a,!E.value),select:D=>l.select(a,D),selectedClass:C,value:c,disabled:d,group:l}}function useGroup(e,t){let r=!1;const i=reactive([]),a=useProxiedModel(e,"modelValue",[],A=>A==null?[]:getIds(i,wrapInArray(A)),A=>{const S=getValues(i,A);return e.multiple?S:S[0]}),l=getCurrentInstance("useGroup");function c(A,S){const L=A,N=Symbol.for(`${t.description}:id`),ie=findChildrenWithProvide(N,l?.vnode).indexOf(S);ie>-1?i.splice(ie,0,L):i.push(L)}function d(A){if(r)return;E();const S=i.findIndex(L=>L.id===A);i.splice(S,1)}function E(){const A=i.find(S=>!S.disabled);A&&e.mandatory==="force"&&!a.value.length&&(a.value=[A.id])}onMounted(()=>{E()}),onBeforeUnmount(()=>{r=!0});function C(A,S){const L=i.find(N=>N.id===A);if(!(S&&L?.disabled))if(e.multiple){const N=a.value.slice(),G=N.findIndex(le=>le===A),ie=~G;if(S=S??!ie,ie&&e.mandatory&&N.length<=1||!ie&&e.max!=null&&N.length+1>e.max)return;G<0&&S?N.push(A):G>=0&&!S&&N.splice(G,1),a.value=N}else{const N=a.value.includes(A);if(e.mandatory&&N)return;a.value=S??!N?[A]:[]}}function D(A){if(e.multiple&&consoleWarn('This method is not supported when using "multiple" prop'),a.value.length){const S=a.value[0],L=i.findIndex(ie=>ie.id===S);let N=(L+A)%i.length,G=i[N];for(;G.disabled&&N!==L;)N=(N+A)%i.length,G=i[N];if(G.disabled)return;a.value=[i[N].id]}else{const S=i.find(L=>!L.disabled);S&&(a.value=[S.id])}}const f={register:c,unregister:d,selected:a,select:C,disabled:toRef(e,"disabled"),prev:()=>D(i.length-1),next:()=>D(1),isSelected:A=>a.value.includes(A),selectedClass:computed(()=>e.selectedClass),items:computed(()=>i),getItemIndex:A=>getItemIndex(i,A)};return provide(t,f),f}function getItemIndex(e,t){const r=getIds(e,[t]);return r.length?e.findIndex(i=>i.id===r[0]):-1}function getIds(e,t){const r=[];for(let i=0;i<e.length;i++){const a=e[i];a.value!=null?t.find(l=>deepEqual(l,a.value))!=null&&r.push(a.id):t.includes(i)&&r.push(a.id)}return r}function getValues(e,t){const r=[];for(let i=0;i<e.length;i++){const a=e[i];t.includes(a.id)&&r.push(a.value!=null?a.value:i)}return r}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle"),VBtnToggle=genericComponent()({name:"VBtnToggle",props:{...makeVBtnGroupProps(),...makeGroupProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:i,next:a,prev:l,select:c,selected:d}=useGroup(e,VBtnToggleSymbol);return useRender(()=>{const[E]=VBtnGroup.filterProps(e);return createVNode(VBtnGroup,mergeProps({class:"v-btn-toggle"},E),{default:()=>[r.default?.({isSelected:i,next:a,prev:l,select:c,selected:d})]})}),{next:a,prev:l,select:c}}}),VDefaultsProvider=genericComponent(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,t){let{slots:r}=t;const{defaults:i,disabled:a,reset:l,root:c,scoped:d}=toRefs(e);return provideDefaults(i,{reset:l,root:c,scoped:d,disabled:a}),()=>r.default?.()}}),VIcon$1="",aliases$1={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},mdi={component:e=>h(VClassIcon,{...e,class:"mdi"})},IconValue$1=[String,Function,Object],IconSymbol=Symbol.for("vuetify:icons"),makeIconProps$1=propsFactory$1({icon:{type:IconValue$1},tag:{type:String,required:!0}},"icon"),VComponentIcon=genericComponent()({name:"VComponentIcon",props:makeIconProps$1(),setup(e,t){let{slots:r}=t;return()=>createVNode(e.tag,null,{default:()=>[e.icon?createVNode(e.icon,null,null):r.default?.()]})}}),VSvgIcon=defineComponent({name:"VSvgIcon",inheritAttrs:!1,props:makeIconProps$1(),setup(e,t){let{attrs:r}=t;return()=>createVNode(e.tag,mergeProps(r,{style:null}),{default:()=>[createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[createVNode("path",{d:e.icon},null)])]})}});defineComponent({name:"VLigatureIcon",props:makeIconProps$1(),setup(e){return()=>createVNode(e.tag,null,{default:()=>[e.icon]})}});const VClassIcon=defineComponent({name:"VClassIcon",props:makeIconProps$1(),setup(e){return()=>createVNode(e.tag,{class:e.icon},null)}}),defaultSets={svg:{component:VSvgIcon},class:{component:VClassIcon}};function createIcons(e){return mergeDeep({defaultSet:"mdi",sets:{...defaultSets,mdi},aliases:aliases$1},e)}const useIcon=e=>{const t=inject$1(IconSymbol);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:computed(()=>{const i=isRef(e)?e.value:e.icon;if(!i)return{component:VComponentIcon};let a=i;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=t.aliases?.[a.slice(1)])),!a)throw new Error(`Could not find aliased icon "${i}"`);if(typeof a!="string")return{component:VComponentIcon,icon:a};const l=Object.keys(t.sets).find(E=>typeof a=="string"&&a.startsWith(`${E}:`)),c=l?a.slice(l.length+1):a;return{component:t.sets[l??t.defaultSet].component,icon:c}})}},predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory$1({size:{type:[String,Number],default:"default"}},"size");function useSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{let r,i;return includes$1(predefinedSizes,e.size)?r=`${t}--size-${e.size}`:e.size&&(i={width:convertToUnit(e.size),height:convertToUnit(e.size)}),{sizeClasses:r,sizeStyles:i}})}const makeVIconProps=propsFactory$1({color:String,start:Boolean,end:Boolean,icon:IconValue$1,...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"v-icon"),VIcon=genericComponent()({name:"VIcon",props:makeVIconProps(),setup(e,t){let{attrs:r,slots:i}=t,a;i.default&&(a=computed(()=>{const D=i.default?.();if(!!D)return D.filter(f=>f.type===Text&&f.children&&typeof f.children=="string")[0]?.children}));const{themeClasses:l}=provideTheme(e),{iconData:c}=useIcon(a||e),{sizeClasses:d}=useSize(e),{textColorClasses:E,textColorStyles:C}=useTextColor(toRef(e,"color"));return useRender(()=>createVNode(c.value.component,{tag:e.tag,icon:c.value.icon,class:["v-icon","notranslate",l.value,d.value,E.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[d.value?void 0:{fontSize:convertToUnit(e.size),height:convertToUnit(e.size),width:convertToUnit(e.size)},C.value],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[i.default?.()]})),{}}}),VProgressCircular$1="";function useIntersectionObserver(e){const t=ref(),r=ref(!1);if(SUPPORTS_INTERSECTION){const i=new IntersectionObserver(a=>{e?.(a,i),r.value=!!a.find(l=>l.isIntersecting)});onBeforeUnmount(()=>{i.disconnect()}),watch(t,(a,l)=>{l&&(i.unobserve(l),r.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:t,isIntersecting:r}}function useResizeObserver(e){const t=ref(),r=ref();if(IN_BROWSER){const i=new ResizeObserver(a=>{e?.(a,i),a.length&&(r.value=a[0].contentRect)});onBeforeUnmount(()=>{i.disconnect()}),watch(t,(a,l)=>{l&&(i.unobserve(l),r.value=void 0),a&&i.observe(a)},{flush:"post"})}return{resizeRef:t,contentRect:readonly(r)}}const VProgressCircular=genericComponent()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},setup(e,t){let{slots:r}=t;const i=20,a=2*Math.PI*i,l=ref(),{themeClasses:c}=provideTheme(e),{sizeClasses:d,sizeStyles:E}=useSize(e),{textColorClasses:C,textColorStyles:D}=useTextColor(toRef(e,"color")),{textColorClasses:f,textColorStyles:A}=useTextColor(toRef(e,"bgColor")),{intersectionRef:S,isIntersecting:L}=useIntersectionObserver(),{resizeRef:N,contentRect:G}=useResizeObserver(),ie=computed(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),le=computed(()=>Number(e.width)),ae=computed(()=>E.value?Number(e.size):G.value?G.value.width:Math.max(le.value,32)),he=computed(()=>i/(1-le.value/ae.value)*2),pe=computed(()=>le.value/ae.value*he.value),B=computed(()=>convertToUnit((100-ie.value)/100*a));return watchEffect(()=>{S.value=l.value,N.value=l.value}),useRender(()=>createVNode(e.tag,{ref:l,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":L.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},c.value,d.value,C.value],style:[E.value,D.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:ie.value},{default:()=>[createVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${he.value} ${he.value}`},[createVNode("circle",{class:["v-progress-circular__underlay",f.value],style:A.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":pe.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),createVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":pe.value,"stroke-dasharray":a,"stroke-dashoffset":B.value},null)]),r.default&&createVNode("div",{class:"v-progress-circular__content"},[r.default({value:ie.value})])]})),{}}}),VRipple="",stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(e,t){e.style.transform=t,e.style.webkitTransform=t}function isTouchEvent(e){return e.constructor.name==="TouchEvent"}function isKeyboardEvent(e){return e.constructor.name==="KeyboardEvent"}const calculate=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,a=0;if(!isKeyboardEvent(e)){const f=t.getBoundingClientRect(),A=isTouchEvent(e)?e.touches[e.touches.length-1]:e;i=A.clientX-f.left,a=A.clientY-f.top}let l=0,c=.3;t._ripple?.circle?(c=.15,l=t.clientWidth/2,l=r.center?l:l+Math.sqrt((i-l)**2+(a-l)**2)/4):l=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const d=`${(t.clientWidth-l*2)/2}px`,E=`${(t.clientHeight-l*2)/2}px`,C=r.center?d:`${i-l}px`,D=r.center?E:`${a-l}px`;return{radius:l,scale:c,x:C,y:D,centerX:d,centerY:E}},ripples={show(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const i=document.createElement("span"),a=document.createElement("span");i.appendChild(a),i.className="v-ripple__container",r.class&&(i.className+=` ${r.class}`);const{radius:l,scale:c,x:d,y:E,centerX:C,centerY:D}=calculate(e,t,r),f=`${l*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(i);const A=window.getComputedStyle(t);A&&A.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),transform(a,`translate(${d}, ${E}) scale3d(${c},${c},${c})`),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),transform(a,`translate(${C}, ${D}) scale3d(1,1,1)`)},0)},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const i=performance.now()-Number(r.dataset.activated),a=Math.max(250-i,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),r.parentNode?.parentNode===e&&e.removeChild(r.parentNode)},300)},a)}};function isRippleEnabled(e){return typeof e>"u"||!!e}function rippleShow(e){const t={},r=e.currentTarget;if(!(!r?._ripple||r._ripple.touched||e[stopSymbol])){if(e[stopSymbol]=!0,isTouchEvent(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||isKeyboardEvent(e),r._ripple.class&&(t.class=r._ripple.class),isTouchEvent(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{ripples.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{r?._ripple?.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(e,r,t)}}function rippleStop(e){e[stopSymbol]=!0}function rippleHide(e){const t=e.currentTarget;if(!!t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{rippleHide(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ripples.hide(t)}}function rippleCancelShow(e){const t=e.currentTarget;!t?._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e){!keyboardRipple&&(e.keyCode===keyCodes.enter||e.keyCode===keyCodes.space)&&(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,t,r){const{value:i,modifiers:a}=t,l=isRippleEnabled(i);if(l||ripples.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=l,e._ripple.centered=a.center,e._ripple.circle=a.circle,isObject$1(i)&&i.class&&(e._ripple.class=i.class),l&&!r){if(a.stop){e.addEventListener("touchstart",rippleStop,{passive:!0}),e.addEventListener("mousedown",rippleStop);return}e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",keyboardRippleShow),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})}else!l&&r&&removeListeners(e)}function removeListeners(e){e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),e.removeEventListener("keydown",keyboardRippleShow),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function mounted$5(e,t){updateRipple(e,t,!1)}function unmounted$4(e){delete e._ripple,removeListeners(e)}function updated(e,t){if(t.value===t.oldValue)return;const r=isRippleEnabled(t.oldValue);updateRipple(e,t,r)}const Ripple={mounted:mounted$5,unmounted:unmounted$4,updated},makeDimensionProps=propsFactory$1({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(e){return{dimensionStyles:computed(()=>({height:convertToUnit(e.height),maxHeight:convertToUnit(e.maxHeight),maxWidth:convertToUnit(e.maxWidth),minHeight:convertToUnit(e.minHeight),minWidth:convertToUnit(e.minWidth),width:convertToUnit(e.width)}))}}const VProgressLinear$1="",en={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},LANG_PREFIX="$vuetify.",replace=(e,t)=>e.replace(/\{(\d+)\}/g,(r,i)=>String(t[+i])),createTranslateFunction=(e,t,r)=>function(i){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];if(!i.startsWith(LANG_PREFIX))return replace(i,l);const d=i.replace(LANG_PREFIX,""),E=e.value&&r.value[e.value],C=t.value&&r.value[t.value];let D=getObjectValueByPath(E,d,null);return D||(consoleWarn(`Translation key "${i}" not found in "${e.value}", trying fallback locale`),D=getObjectValueByPath(C,d,null)),D||(consoleError(`Translation key "${i}" not found in fallback`),D=i),typeof D!="string"&&(consoleError(`Translation key "${i}" has a non-string value`),D=i),replace(D,l)};function createNumberFunction(e,t){return(r,i)=>new Intl.NumberFormat([e.value,t.value],i).format(r)}function useProvided(e,t,r){const i=useProxiedModel(e,t,e[t]??r.value);return i.value=e[t]??r.value,watch(r,a=>{e[t]==null&&(i.value=r.value)}),i}function createProvideFunction(e){return t=>{const r=useProvided(t,"locale",e.current),i=useProvided(t,"fallback",e.fallback),a=useProvided(t,"messages",e.messages);return{name:"vuetify",current:r,fallback:i,messages:a,t:createTranslateFunction(r,i,a),n:createNumberFunction(r,i),provide:createProvideFunction({current:r,fallback:i,messages:a})}}}function createVuetifyAdapter(e){const t=ref(e?.locale??"en"),r=ref(e?.fallback??"en"),i=ref({en,...e?.messages});return{name:"vuetify",current:t,fallback:r,messages:i,t:createTranslateFunction(t,r,i),n:createNumberFunction(t,r),provide:createProvideFunction({current:t,fallback:r,messages:i})}}const defaultRtl={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},LocaleSymbol=Symbol.for("vuetify:locale");function isLocaleInstance(e){return e.name!=null}function createLocale(e){const t=e?.adapter&&isLocaleInstance(e?.adapter)?e?.adapter:createVuetifyAdapter(e),r=createRtl(t,e);return{...t,...r}}function useLocale(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function createRtl(e,t){const r=ref(t?.rtl??defaultRtl),i=computed(()=>r.value[e.current.value]??!1);return{isRtl:i,rtl:r,rtlClasses:computed(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function useRtl(){const e=inject$1(LocaleSymbol);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory$1({location:String},"location");function useLocation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=useRtl();return{locationStyles:computed(()=>{if(!e.location)return{};const{side:l,align:c}=parseAnchor(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function d(C){return r?r(C):0}const E={};return l!=="center"&&(t?E[oppositeMap[l]]=`calc(100% - ${d(l)}px)`:E[l]=0),c!=="center"?t?E[oppositeMap[c]]=`calc(100% - ${d(c)}px)`:E[c]=0:(l==="center"?E.top=E.left="50%":E[{top:"left",bottom:"left",left:"top",right:"top"}[l]]="50%",E.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[l]),E})}}const VProgressLinear=genericComponent()({name:"VProgressLinear",props:{absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeLocationProps({location:"top"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{isRtl:a}=useRtl(),{themeClasses:l}=provideTheme(e),{locationStyles:c}=useLocation(e),{textColorClasses:d,textColorStyles:E}=useTextColor(e,"color"),{backgroundColorClasses:C,backgroundColorStyles:D}=useBackgroundColor(computed(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:A}=useBackgroundColor(e,"color"),{roundedClasses:S}=useRounded(e),{intersectionRef:L,isIntersecting:N}=useIntersectionObserver(),G=computed(()=>parseInt(e.max,10)),ie=computed(()=>parseInt(e.height,10)),le=computed(()=>parseFloat(e.bufferValue)/G.value*100),ae=computed(()=>parseFloat(i.value)/G.value*100),he=computed(()=>a.value!==e.reverse),pe=computed(()=>e.indeterminate?"fade-transition":"slide-x-transition"),B=computed(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function se(oe){if(!L.value)return;const{left:O,right:T,width:ce}=L.value.getBoundingClientRect(),fe=he.value?ce-oe.clientX+(T-ce):oe.clientX-O;i.value=Math.round(fe/ce*G.value)}return useRender(()=>createVNode(e.tag,{ref:L,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&N.value,"v-progress-linear--reverse":he.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},S.value,l.value],style:{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?convertToUnit(ie.value):0,"--v-progress-linear-height":convertToUnit(ie.value),...c.value},role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:ae.value,onClick:e.clickable&&se},{default:()=>[e.stream&&createVNode("div",{key:"stream",class:["v-progress-linear__stream",d.value],style:{...E.value,[he.value?"left":"right"]:convertToUnit(-ie.value),borderTop:`${convertToUnit(ie.value/2)} dotted`,opacity:B.value,top:`calc(50% - ${convertToUnit(ie.value/4)})`,width:convertToUnit(100-le.value,"%"),"--v-progress-linear-stream-to":convertToUnit(ie.value*(he.value?1:-1))}},null),createVNode("div",{class:["v-progress-linear__background",C.value],style:[D.value,{opacity:B.value,width:convertToUnit(e.stream?le.value:100,"%")}]},null),createVNode(Transition,{name:pe.value},{default:()=>[e.indeterminate?createVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(oe=>createVNode("div",{key:oe,class:["v-progress-linear__indeterminate",oe,f.value],style:A.value},null))]):createVNode("div",{class:["v-progress-linear__determinate",f.value],style:[A.value,{width:convertToUnit(ae.value,"%")}]},null)]}),r.default&&createVNode("div",{class:"v-progress-linear__content"},[r.default({value:ae.value,buffer:le.value})])]})),{}}}),makeLoaderProps=propsFactory$1({loading:[Boolean,String]},"loader");function useLoader(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{loaderClasses:computed(()=>({[`${t}--loading`]:e.loading}))}}function LoaderSlot(e,t){let{slots:r}=t;return createVNode("div",{class:`${e.name}__loader`},[r.default?.({color:e.color,isActive:e.active})||createVNode(VProgressLinear,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory$1({position:{type:String,validator:e=>positionValues.includes(e)}},"position");function usePosition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();return{positionClasses:computed(()=>e.position?`${t}--${e.position}`:void 0)}}function useRouter(){return getCurrentInstance("useRouter")?.proxy?.$router}function useLink(e,t){const r=resolveDynamicComponent("RouterLink"),i=computed(()=>!!(e.href||e.to)),a=computed(()=>i?.value||hasEvent(t,"click")||hasEvent(e,"click"));if(typeof r=="string")return{isLink:i,isClickable:a,href:toRef(e,"href")};const l=e.to?r.useLink(e):void 0;return{isLink:i,isClickable:a,route:l?.route,navigate:l?.navigate,isActive:l&&computed(()=>e.exact?l.isExactActive?.value:l.isActive?.value),href:computed(()=>e.to?l?.route.value.href:e.href)}}const makeRouterProps=propsFactory$1({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(e,t){let r=!1,i,a;IN_BROWSER&&(nextTick(()=>{window.addEventListener("popstate",l),i=e?.beforeEach((c,d,E)=>{inTransition?r?t(E):E():setTimeout(()=>r?t(E):E()),inTransition=!0}),a=e?.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{window.removeEventListener("popstate",l),i?.(),a?.()}));function l(c){c.state?.replaced||(r=!0,setTimeout(()=>r=!1))}}function useSelectLink(e,t){watch(()=>e.isActive?.value,r=>{e.isLink.value&&r&&t&&nextTick(()=>{t(!0)})},{immediate:!0})}const makeVBtnProps=propsFactory$1({active:{type:Boolean,default:void 0},symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue$1,appendIcon:IconValue$1,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},...makeBorderProps(),...makeRoundedProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VBtn"),VBtn=genericComponent()({name:"VBtn",directives:{Ripple},props:makeVBtnProps(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:a}=provideTheme(e),{borderClasses:l}=useBorder(e),{colorClasses:c,colorStyles:d,variantClasses:E}=useVariant(e),{densityClasses:C}=useDensity(e),{dimensionStyles:D}=useDimension(e),{elevationClasses:f}=useElevation(e),{loaderClasses:A}=useLoader(e),{locationStyles:S}=useLocation(e),{positionClasses:L}=usePosition(e),{roundedClasses:N}=useRounded(e),{sizeClasses:G,sizeStyles:ie}=useSize(e),le=useGroupItem(e,e.symbol,!1),ae=useLink(e,r),he=computed(()=>e.active!==void 0?e.active:ae.isLink.value?ae.isActive?.value:le?.isSelected.value),pe=computed(()=>le?.disabled.value||e.disabled),B=computed(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),se=computed(()=>{if(e.value!==void 0)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});return useSelectLink(ae,le?.select),useRender(()=>{const oe=ae.isLink.value?"a":e.tag,O=!!(e.prependIcon||i.prepend),T=!!(e.appendIcon||i.append),ce=!!(e.icon&&e.icon!==!0),fe=le?.isSelected.value&&(!ae.isLink.value||ae.isActive?.value)||!le||ae.isActive?.value;return withDirectives(createVNode(oe,{type:oe==="a"?void 0:"button",class:["v-btn",le?.selectedClass.value,{"v-btn--active":he.value,"v-btn--block":e.block,"v-btn--disabled":pe.value,"v-btn--elevated":B.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--stacked":e.stacked},a.value,l.value,fe?c.value:void 0,C.value,f.value,A.value,L.value,N.value,G.value,E.value],style:[fe?d.value:void 0,D.value,S.value,ie.value],disabled:pe.value||void 0,href:ae.href.value,onClick:Ee=>{pe.value||(ae.navigate?.(Ee),le?.toggle())},value:se.value},{default:()=>[genOverlays(!0,"v-btn"),!e.icon&&O&&createVNode("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon},null)]),createVNode("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&ce?createVNode(VIcon,{key:"content-icon",icon:e.icon},null):createVNode(VDefaultsProvider,{key:"content-defaults",disabled:!ce,defaults:{VIcon:{icon:e.icon}}},i.default)]),!e.icon&&T&&createVNode("span",{key:"append",class:"v-btn__append"},[i.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):createVNode(VIcon,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&createVNode("span",{key:"loader",class:"v-btn__loader"},[i.loader?.()??createVNode(VProgressCircular,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}),[[resolveDirective("ripple"),!pe.value&&e.ripple,null]])}),{}}}),VList$1="",VDivider$1="",VDivider=genericComponent()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...makeThemeProps()},setup(e,t){let{attrs:r}=t;const{themeClasses:i}=provideTheme(e),{textColorClasses:a,textColorStyles:l}=useTextColor(toRef(e,"color")),c=computed(()=>{const d={};return e.length&&(d[e.vertical?"maxHeight":"maxWidth"]=convertToUnit(e.length)),e.thickness&&(d[e.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(e.thickness)),d});return useRender(()=>createVNode("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,a.value],style:[c.value,l.value],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}});function createCssTransition(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center center",r=arguments.length>2?arguments[2]:void 0;return genericComponent()({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:r},origin:{type:String,default:t}},setup(i,a){let{slots:l}=a;return()=>{const c=i.group?TransitionGroup:Transition;return h(c,{name:e,mode:i.mode,onBeforeEnter(d){d.style.transformOrigin=i.origin},onLeave(d){if(i.leaveAbsolute){const{offsetTop:E,offsetLeft:C,offsetWidth:D,offsetHeight:f}=d;d._transitionInitialStyles={position:d.style.position,top:d.style.top,left:d.style.left,width:d.style.width,height:d.style.height},d.style.position="absolute",d.style.top=`${E}px`,d.style.left=`${C}px`,d.style.width=`${D}px`,d.style.height=`${f}px`}i.hideOnLeave&&d.style.setProperty("display","none","important")},onAfterLeave(d){if(i.leaveAbsolute&&d?._transitionInitialStyles){const{position:E,top:C,left:D,width:f,height:A}=d._transitionInitialStyles;delete d._transitionInitialStyles,d.style.position=E||"",d.style.top=C||"",d.style.left=D||"",d.style.width=f||"",d.style.height=A||""}}},l.default)}}})}function createJavascriptTransition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return genericComponent()({name:e,props:{mode:{type:String,default:r}},setup(i,a){let{slots:l}=a;return()=>h(Transition,{name:e,...t},l.default)}})}function ExpandTransitionGenerator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=camelize(`offset-${r}`);return{onBeforeEnter(c){c._parent=c.parentNode,c._initialStyle={transition:c.style.transition,overflow:c.style.overflow,[r]:c.style[r]}},onEnter(c){const d=c._initialStyle;c.style.setProperty("transition","none","important"),c.style.overflow="hidden";const E=`${c[i]}px`;c.style[r]="0",c.offsetHeight,c.style.transition=d.transition,e&&c._parent&&c._parent.classList.add(e),requestAnimationFrame(()=>{c.style[r]=E})},onAfterEnter:l,onEnterCancelled:l,onLeave(c){c._initialStyle={transition:"",overflow:c.style.overflow,[r]:c.style[r]},c.style.overflow="hidden",c.style[r]=`${c[i]}px`,c.offsetHeight,requestAnimationFrame(()=>c.style[r]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(c){e&&c._parent&&c._parent.classList.remove(e),l(c)}function l(c){const d=c._initialStyle[r];c.style.overflow=c._initialStyle.overflow,d!=null&&(c.style[r]=d),delete c._initialStyle}}const VDialogTransition=genericComponent()({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:r}=t;const i={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,l){await new Promise(A=>requestAnimationFrame(A)),await new Promise(A=>requestAnimationFrame(A)),a.style.visibility="";const{x:c,y:d,sx:E,sy:C,speed:D}=getDimensions(e.target,a),f=animate(a,[{transform:`translate(${c}px, ${d}px) scale(${E}, ${C})`,opacity:0},{}],{duration:225*D,easing:deceleratedEasing});getChildren(a)?.forEach(A=>{animate(A,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*D,easing:standardEasing})}),f.finished.then(()=>l())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,l){await new Promise(A=>requestAnimationFrame(A));const{x:c,y:d,sx:E,sy:C,speed:D}=getDimensions(e.target,a);animate(a,[{},{transform:`translate(${c}px, ${d}px) scale(${E}, ${C})`,opacity:0}],{duration:125*D,easing:acceleratedEasing}).finished.then(()=>l()),getChildren(a)?.forEach(A=>{animate(A,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*D,easing:standardEasing})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?createVNode(Transition,mergeProps({name:"dialog-transition"},i,{css:!1}),r):createVNode(Transition,{name:"dialog-transition"},r)}});function getChildren(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function getDimensions(e,t){const r=e.getBoundingClientRect(),i=nullifyTransforms(t),[a,l]=getComputedStyle(t).transformOrigin.split(" ").map(ie=>parseFloat(ie)),[c,d]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let E=r.left+r.width/2;c==="left"||d==="left"?E-=r.width/2:(c==="right"||d==="right")&&(E+=r.width/2);let C=r.top+r.height/2;c==="top"||d==="top"?C-=r.height/2:(c==="bottom"||d==="bottom")&&(C+=r.height/2);const D=r.width/i.width,f=r.height/i.height,A=Math.max(1,D,f),S=D/A||0,L=f/A||0,N=i.width*i.height/(window.innerWidth*window.innerHeight),G=N>.12?Math.min(1.5,(N-.12)*10+1):1;return{x:E-(a+i.left),y:C-(l+i.top),sx:S,sy:L,speed:G}}createCssTransition("fab-transition","center center","out-in");createCssTransition("dialog-bottom-transition");createCssTransition("dialog-top-transition");const VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition");createCssTransition("scroll-x-transition");createCssTransition("scroll-x-reverse-transition");createCssTransition("scroll-y-transition");createCssTransition("scroll-y-reverse-transition");createCssTransition("slide-x-transition");createCssTransition("slide-x-reverse-transition");const VSlideYTransition=createCssTransition("slide-y-transition");createCssTransition("slide-y-reverse-transition");const VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0)),ListKey=Symbol.for("vuetify:list");function createList(){const e=inject$1(ListKey,{hasPrepend:ref(!1),updateHasPrepend:()=>null}),t={hasPrepend:ref(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return provide(ListKey,t),e}function useList(){return inject$1(ListKey,null)}const singleOpenStrategy={open:e=>{let{id:t,value:r,opened:i,parents:a}=e;if(r){const l=new Set;l.add(t);let c=a.get(t);for(;c!=null;)l.add(c),c=a.get(c);return l}else return i.delete(t),i},select:()=>null},multipleOpenStrategy={open:e=>{let{id:t,value:r,opened:i,parents:a}=e;if(r){let l=a.get(t);for(i.add(t);l!=null&&l!==t;)i.add(l),l=a.get(l);return i}else i.delete(t);return i},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:e=>{let{id:t,value:r,opened:i,parents:a}=e;if(!r)return i;const l=[];let c=a.get(t);for(;c!=null;)l.push(c),c=a.get(c);return new Set(l)}},independentSelectStrategy=e=>{const t={select:r=>{let{id:i,value:a,selected:l}=r;if(i=toRaw(i),e&&!a){const c=Array.from(l.entries()).reduce((d,E)=>{let[C,D]=E;return D==="on"?[...d,C]:d},[]);if(c.length===1&&c[0]===i)return l}return l.set(i,a?"on":"off"),l},in:(r,i,a)=>{let l=new Map;for(const c of r||[])l=t.select({id:c,value:!0,selected:new Map(l),children:i,parents:a});return l},out:r=>{const i=[];for(const[a,l]of r.entries())l==="on"&&i.push(a);return i}};return t},independentSingleSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:i=>{let{selected:a,id:l,...c}=i;l=toRaw(l);const d=a.has(l)?new Map([[l,a.get(l)]]):new Map;return t.select({...c,id:l,selected:d})},in:(i,a,l)=>{let c=new Map;return i?.length&&(c=t.in(i.slice(0,1),a,l)),c},out:(i,a,l)=>t.out(i,a,l)}},leafSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:i=>{let{id:a,selected:l,children:c,...d}=i;return a=toRaw(a),c.has(a)?l:t.select({id:a,selected:l,children:c,...d})},in:t.in,out:t.out}},leafSingleSelectStrategy=e=>{const t=independentSingleSelectStrategy(e);return{select:i=>{let{id:a,selected:l,children:c,...d}=i;return a=toRaw(a),c.has(a)?l:t.select({id:a,selected:l,children:c,...d})},in:t.in,out:t.out}},classicSelectStrategy=e=>{const t={select:r=>{let{id:i,value:a,selected:l,children:c,parents:d}=r;i=toRaw(i);const E=new Map(l),C=[i];for(;C.length;){const f=C.shift();l.set(f,a?"on":"off"),c.has(f)&&C.push(...c.get(f))}let D=d.get(i);for(;D;){const f=c.get(D),A=f.every(L=>l.get(L)==="on"),S=f.every(L=>!l.has(L)||l.get(L)==="off");l.set(D,A?"on":S?"off":"indeterminate"),D=d.get(D)}return e&&!a&&Array.from(l.entries()).reduce((A,S)=>{let[L,N]=S;return N==="on"?[...A,L]:A},[]).length===0?E:l},in:(r,i,a)=>{let l=new Map;for(const c of r||[])l=t.select({id:c,value:!0,selected:new Map(l),children:i,parents:a});return l},out:(r,i)=>{const a=[];for(const[l,c]of r.entries())c==="on"&&!i.has(l)&&a.push(l);return a}};return t},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:ref(),root:{register:()=>null,unregister:()=>null,parents:ref(new Map),children:ref(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ref(new Set),selected:ref(new Map),selectedValues:ref([])}},makeNestedProps=propsFactory$1({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),useNested=e=>{let t=!1;const r=ref(new Map),i=ref(new Map),a=useProxiedModel(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),l=computed(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(e.mandatory);case"leaf":return leafSelectStrategy(e.mandatory);case"independent":return independentSelectStrategy(e.mandatory);case"single-independent":return independentSingleSelectStrategy(e.mandatory);case"classic":default:return classicSelectStrategy(e.mandatory)}}),c=computed(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;case"multiple":default:return multipleOpenStrategy}}),d=useProxiedModel(e,"selected",e.selected,f=>l.value.in(f,r.value,i.value),f=>l.value.out(f,r.value,i.value));onBeforeUnmount(()=>{t=!0});function E(f){const A=[];let S=f;for(;S!=null;)A.unshift(S),S=i.value.get(S);return A}const C=getCurrentInstance("nested"),D={id:ref(),root:{opened:a,selected:d,selectedValues:computed(()=>{const f=[];for(const[A,S]of d.value.entries())S==="on"&&f.push(A);return f}),register:(f,A,S)=>{A&&f!==A&&i.value.set(f,A),S&&r.value.set(f,[]),A!=null&&r.value.set(A,[...r.value.get(A)||[],f])},unregister:f=>{if(t)return;r.value.delete(f);const A=i.value.get(f);if(A){const S=r.value.get(A)??[];r.value.set(A,S.filter(L=>L!==f))}i.value.delete(f),a.value.delete(f)},open:(f,A,S)=>{C.emit("click:open",{id:f,value:A,path:E(f),event:S});const L=c.value.open({id:f,value:A,opened:new Set(a.value),children:r.value,parents:i.value,event:S});L&&(a.value=L)},openOnSelect:(f,A,S)=>{const L=c.value.select({id:f,value:A,selected:new Map(d.value),opened:new Set(a.value),children:r.value,parents:i.value,event:S});L&&(a.value=L)},select:(f,A,S)=>{C.emit("click:select",{id:f,value:A,path:E(f),event:S});const L=l.value.select({id:f,value:A,selected:new Map(d.value),children:r.value,parents:i.value,event:S});L&&(d.value=L),D.root.openOnSelect(f,A,S)},children:r,parents:i}};return provide(VNestedSymbol,D),D.root},useNestedItem=(e,t)=>{const r=inject$1(VNestedSymbol,emptyNested),i=Symbol(getUid()),a=computed(()=>e.value??i),l={...r,id:a,open:(c,d)=>r.root.open(a.value,c,d),openOnSelect:(c,d)=>r.root.openOnSelect(a.value,c,d),isOpen:computed(()=>r.root.opened.value.has(a.value)),parent:computed(()=>r.root.parents.value.get(a.value)),select:(c,d)=>r.root.select(a.value,c,d),isSelected:computed(()=>r.root.selected.value.get(toRaw(a.value))==="on"),isIndeterminate:computed(()=>r.root.selected.value.get(a.value)==="indeterminate"),isLeaf:computed(()=>!r.root.children.value.get(a.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(a.value,r.id.value,t),onBeforeUnmount(()=>{!r.isGroupActivator&&r.root.unregister(a.value)}),t&&provide(VNestedSymbol,l),l},useNestedGroupActivator=()=>{const e=inject$1(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...e,isGroupActivator:!0})},VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return useNestedGroupActivator(),()=>r.default?.()}}),makeVListGroupProps=propsFactory$1({activeColor:String,color:String,collapseIcon:{type:IconValue$1,default:"$collapse"},expandIcon:{type:IconValue$1,default:"$expand"},prependIcon:IconValue$1,appendIcon:IconValue$1,fluid:Boolean,subgroup:Boolean,value:null,...makeTagProps()},"v-list-group"),VListGroup=genericComponent()({name:"VListGroup",props:{title:String,...makeVListGroupProps()},setup(e,t){let{slots:r}=t;const{isOpen:i,open:a,id:l}=useNestedItem(toRef(e,"value"),!0),c=computed(()=>`v-list-group--id-${String(l.value)}`),d=useList();function E(f){a(!i.value,f)}const C=computed(()=>({onClick:E,class:"v-list-group__header",id:c.value})),D=computed(()=>i.value?e.collapseIcon:e.expandIcon);return useRender(()=>createVNode(e.tag,{class:["v-list-group",{"v-list-group--prepend":d?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value}]},{default:()=>[r.activator&&createVNode(VDefaultsProvider,{defaults:{VListItem:{active:i.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&D.value,appendIcon:e.appendIcon||!e.subgroup&&D.value,title:e.title,value:e.value}}},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[r.activator({props:C.value,isOpen:i.value})]})]}),createVNode(VExpandTransition,null,{default:()=>[withDirectives(createVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":c.value},[r.default?.()]),[[vShow,i.value]])]})]})),{}}}),VListItem$1="",VAvatar$1="",VImg$1="",VResponsive$1="";function useAspectStyles(e){return{aspectStyles:computed(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const VResponsive=genericComponent()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...makeDimensionProps()},setup(e,t){let{slots:r}=t;const{aspectStyles:i}=useAspectStyles(e),{dimensionStyles:a}=useDimension(e);return useRender(()=>createVNode("div",{class:"v-responsive",style:a.value},[createVNode("div",{class:"v-responsive__sizer",style:i.value},null),r.additional?.(),r.default&&createVNode("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])),{}}});function mounted$4(e,t){if(!SUPPORTS_INTERSECTION)return;const r=t.modifiers||{},i=t.value,{handler:a,options:l}=typeof i=="object"?i:{handler:i,options:{}},c=new IntersectionObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1?arguments[1]:void 0;const C=e._observe?.[t.instance.$.uid];if(!C)return;const D=d.some(f=>f.isIntersecting);a&&(!r.quiet||C.init)&&(!r.once||D||C.init)&&a(D,d,E),D&&r.once?unmounted$3(e,t):C.init=!0},l);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:c},c.observe(e)}function unmounted$3(e,t){const r=e._observe?.[t.instance.$.uid];!r||(r.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Intersect={mounted:mounted$4,unmounted:unmounted$3},Intersect$1=Intersect,makeTransitionProps=propsFactory$1({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),MaybeTransition=(e,t)=>{let{slots:r}=t;const{transition:i,...a}=e,{component:l=Transition,...c}=typeof i=="object"?i:{};return h(l,mergeProps(typeof i=="string"?{name:i}:c,a),r)},VImg=genericComponent()({name:"VImg",directives:{intersect:Intersect$1},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...makeTransitionProps()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:r,slots:i}=t;const a=ref(""),l=ref(),c=ref(e.eager?"loading":"idle"),d=ref(),E=ref(),C=computed(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),D=computed(()=>C.value.aspect||d.value/E.value||0);watch(()=>e.src,()=>{f(c.value!=="idle")}),watch(D,(oe,O)=>{!oe&&O&&l.value&&G(l.value)}),onBeforeMount(()=>f());function f(oe){if(!(e.eager&&oe)&&!(SUPPORTS_INTERSECTION&&!oe&&!e.eager)){if(c.value="loading",C.value.lazySrc){const O=new Image;O.src=C.value.lazySrc,G(O,null)}!C.value.src||nextTick(()=>{if(r("loadstart",l.value?.currentSrc||C.value.src),l.value?.complete){if(l.value.naturalWidth||S(),c.value==="error")return;D.value||G(l.value,null),A()}else D.value||G(l.value),L()})}}function A(){L(),c.value="loaded",r("load",l.value?.currentSrc||C.value.src)}function S(){c.value="error",r("error",l.value?.currentSrc||C.value.src)}function L(){const oe=l.value;oe&&(a.value=oe.currentSrc||oe.src)}let N=-1;function G(oe){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const T=()=>{clearTimeout(N);const{naturalHeight:ce,naturalWidth:fe}=oe;ce||fe?(d.value=fe,E.value=ce):!oe.complete&&c.value==="loading"&&O!=null?N=window.setTimeout(T,O):(oe.currentSrc.endsWith(".svg")||oe.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,E.value=1)};T()}const ie=computed(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),le=()=>{if(!C.value.src||c.value==="idle")return null;const oe=createVNode("img",{class:["v-img__img",ie.value],src:C.value.src,srcset:C.value.srcset,alt:e.alt,sizes:e.sizes,ref:l,onLoad:A,onError:S},null),O=i.sources?.();return createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[withDirectives(O?createVNode("picture",{class:"v-img__picture"},[O,oe]):oe,[[vShow,c.value==="loaded"]])]})},ae=()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[C.value.lazySrc&&c.value!=="loaded"&&createVNode("img",{class:["v-img__img","v-img__img--preload",ie.value],src:C.value.lazySrc,alt:e.alt},null)]}),he=()=>i.placeholder?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&createVNode("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,pe=()=>i.error?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&createVNode("div",{class:"v-img__error"},[i.error()])]}):null,B=()=>e.gradient?createVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,se=ref(!1);{const oe=watch(D,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{se.value=!0})}),oe())})}return useRender(()=>withDirectives(createVNode(VResponsive,{class:["v-img",{"v-img--booting":!se.value}],style:{width:convertToUnit(e.width==="auto"?d.value:e.width)},aspectRatio:D.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>createVNode(Fragment,null,[createVNode(le,null,null),createVNode(ae,null,null),createVNode(B,null,null),createVNode(he,null,null),createVNode(pe,null,null)]),default:i.default}),[[resolveDirective("intersect"),{handler:f,options:e.options},null,{once:!0}]])),{currentSrc:a,image:l,state:c,naturalWidth:d,naturalHeight:E}}}),makeVAvatarProps=propsFactory$1({start:Boolean,end:Boolean,icon:IconValue$1,image:String,...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"v-avatar"),VAvatar=genericComponent()({name:"VAvatar",props:makeVAvatarProps(),setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{colorClasses:a,colorStyles:l,variantClasses:c}=useVariant(e),{densityClasses:d}=useDensity(e),{roundedClasses:E}=useRounded(e),{sizeClasses:C,sizeStyles:D}=useSize(e);return useRender(()=>createVNode(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,a.value,d.value,E.value,C.value,c.value],style:[l.value,D.value]},{default:()=>[e.image?createVNode(VImg,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?createVNode(VIcon,{key:"icon",icon:e.icon},null):r.default?.(),genOverlays(!1,"v-avatar")]})),{}}}),VListItemSubtitle=createSimpleFunctional("v-list-item-subtitle"),VListItemTitle=createSimpleFunctional("v-list-item-title"),VListItem=genericComponent()({name:"VListItem",directives:{Ripple},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue$1,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:i,emit:a}=t;const l=useLink(e,r),c=computed(()=>e.value??l.href.value),{select:d,isSelected:E,isIndeterminate:C,isGroupActivator:D,root:f,parent:A,openOnSelect:S}=useNestedItem(c,!1),L=useList(),N=computed(()=>e.active!==!1&&(e.active||l.isActive?.value||E.value)),G=computed(()=>e.link!==!1&&l.isLink.value),ie=computed(()=>!e.disabled&&e.link!==!1&&(e.link||l.isClickable.value||e.value!=null&&!!L)),le=computed(()=>e.rounded||e.nav),ae=computed(()=>({color:N.value?e.activeColor??e.color:e.color,variant:e.variant}));watch(()=>l.isActive?.value,De=>{De&&A.value!=null&&f.open(A.value,!0),De&&S(De)},{immediate:!0});const{themeClasses:he}=provideTheme(e),{borderClasses:pe}=useBorder(e),{colorClasses:B,colorStyles:se,variantClasses:oe}=useVariant(ae),{densityClasses:O}=useDensity(e),{dimensionStyles:T}=useDimension(e),{elevationClasses:ce}=useElevation(e),{roundedClasses:fe}=useRounded(le),Ee=computed(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),Ae=computed(()=>({isActive:N.value,select:d,isSelected:E.value,isIndeterminate:C.value}));function _e(De){a("click",De),!(D||!ie.value)&&(l.navigate?.(De),e.value!=null&&d(!E.value,De))}function xe(De){(De.key==="Enter"||De.key===" ")&&(De.preventDefault(),_e(De))}return useRender(()=>{const De=G.value?"a":e.tag,Le=!L||E.value||N.value,Ge=i.title||e.title,rt=i.subtitle||e.subtitle,We=!!(e.appendAvatar||e.appendIcon),xt=!!(We||i.append),Me=!!(e.prependAvatar||e.prependIcon),Ue=!!(Me||i.prepend);return L?.updateHasPrepend(Ue),withDirectives(createVNode(De,{class:["v-list-item",{"v-list-item--active":N.value,"v-list-item--disabled":e.disabled,"v-list-item--link":ie.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ue&&L?.hasPrepend.value,[`${e.activeClass}`]:e.activeClass&&N.value},he.value,pe.value,Le?B.value:void 0,O.value,ce.value,Ee.value,fe.value,oe.value],style:[Le?se.value:void 0,T.value],href:l.href.value,tabindex:ie.value?0:void 0,onClick:_e,onKeydown:ie.value&&!G.value&&xe},{default:()=>[genOverlays(ie.value||N.value,"v-list-item"),Ue&&createVNode("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!Me,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[i.prepend?.(Ae.value)]}):createVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),createVNode("div",{class:"v-list-item__content","data-no-activator":""},[Ge&&createVNode(VListItemTitle,{key:"title"},{default:()=>[i.title?.({title:e.title})??e.title]}),rt&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>[i.subtitle?.({subtitle:e.subtitle})??e.subtitle]}),i.default?.(Ae.value)]),xt&&createVNode("div",{key:"append",class:"v-list-item__append"},[i.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!We,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[i.append?.(Ae.value)]}):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}),[[resolveDirective("ripple"),ie.value&&e.ripple]])}),{}}}),VListSubheader=genericComponent()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...makeTagProps()},setup(e,t){let{slots:r}=t;const{textColorClasses:i,textColorStyles:a}=useTextColor(toRef(e,"color"));return useRender(()=>{const l=!!(r.default||e.title);return createVNode(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value],style:{textColorStyles:a}},{default:()=>[l&&createVNode("div",{class:"v-list-subheader__text"},[r.default?.()??e.title])]})}),{}}}),VListChildren=genericComponent()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:r}=t;return createList(),()=>r.default?.()??e.items?.map(i=>{let{children:a,props:l,type:c,raw:d}=i;if(c==="divider")return r.divider?.({props:l})??createVNode(VDivider,l,null);if(c==="subheader")return r.subheader?.({props:l})??createVNode(VListSubheader,l,{default:r.subheader});const E={subtitle:r.subtitle?f=>r.subtitle?.({...f,item:d}):void 0,prepend:r.prepend?f=>r.prepend?.({...f,item:d}):void 0,append:r.append?f=>r.append?.({...f,item:d}):void 0,default:r.default?f=>r.default?.({...f,item:d}):void 0,title:r.title?f=>r.title?.({...f,item:d}):void 0},[C,D]=VListGroup.filterProps(l);return a?createVNode(VListGroup,mergeProps({value:l?.value},C),{activator:f=>{let{props:A}=f;return r.header?r.header({props:{...l,...A}}):createVNode(VListItem,mergeProps(l,A),E)},default:()=>createVNode(VListChildren,{items:a},r)}):r.item?r.item(l):createVNode(VListItem,l,E)})}}),makeItemsProps=propsFactory$1({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function transformItem$1(e,t){const r=getPropertyFromItem(t,e.itemTitle,t),i=e.returnObject?t:getPropertyFromItem(t,e.itemValue,r),a=getPropertyFromItem(t,e.itemChildren),l=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?pick(t,["children"])[1]:t:void 0:getPropertyFromItem(t,e.itemProps),c={title:r,value:i,...l};return{title:String(c.title??""),value:c.value,props:c,children:Array.isArray(a)?transformItems$1(e,a):void 0,raw:t}}function transformItems$1(e,t){const r=[];for(const i of t)r.push(transformItem$1(e,i));return r}function useItems(e){const t=computed(()=>transformItems$1(e,e.items));function r(a){return a.map(l=>transformItem$1(e,l))}function i(a){return a.map(l=>{let{props:c}=l;return c.value})}return{items:t,transformIn:r,transformOut:i}}function isPrimitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function transformItem(e,t){const r=getPropertyFromItem(t,e.itemType,"item"),i=isPrimitive(t)?t:getPropertyFromItem(t,e.itemTitle),a=getPropertyFromItem(t,e.itemValue,void 0),l=getPropertyFromItem(t,e.itemChildren),c=e.itemProps===!0?pick(t,["children"])[1]:getPropertyFromItem(t,e.itemProps),d={title:i,value:a,...c};return{type:r,title:d.title,value:d.value,props:d,children:r==="item"&&l?transformItems(e,l):void 0,raw:t}}function transformItems(e,t){const r=[];for(const i of t)r.push(transformItem(e,i));return r}function useListItems(e){return{items:computed(()=>transformItems(e,e.items))}}const VList=genericComponent()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),itemType:{type:String,default:"type"},...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:i}=useListItems(e),{themeClasses:a}=provideTheme(e),{backgroundColorClasses:l,backgroundColorStyles:c}=useBackgroundColor(toRef(e,"bgColor")),{borderClasses:d}=useBorder(e),{densityClasses:E}=useDensity(e),{dimensionStyles:C}=useDimension(e),{elevationClasses:D}=useElevation(e),{roundedClasses:f}=useRounded(e),{open:A,select:S}=useNested(e),L=computed(()=>e.lines?`v-list--${e.lines}-line`:void 0),N=toRef(e,"activeColor"),G=toRef(e,"color");createList(),provideDefaults({VListGroup:{activeColor:N,color:G},VListItem:{activeClass:toRef(e,"activeClass"),activeColor:N,color:G,density:toRef(e,"density"),disabled:toRef(e,"disabled"),lines:toRef(e,"lines"),nav:toRef(e,"nav"),variant:toRef(e,"variant")}});const ie=ref(!1),le=ref();function ae(oe){ie.value=!0}function he(oe){ie.value=!1}function pe(oe){!ie.value&&!(oe.relatedTarget&&le.value?.contains(oe.relatedTarget))&&se()}function B(oe){if(!!le.value){if(oe.key==="ArrowDown")se("next");else if(oe.key==="ArrowUp")se("prev");else if(oe.key==="Home")se("first");else if(oe.key==="End")se("last");else return;oe.preventDefault()}}function se(oe){if(!le.value)return;const O=[...le.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(ce=>!ce.hasAttribute("disabled")),T=O.indexOf(document.activeElement);if(!oe)le.value.contains(document.activeElement)||O[0]?.focus();else if(oe==="first")O[0]?.focus();else if(oe==="last")O.at(-1)?.focus();else{let ce,fe=T;const Ee=oe==="next"?1:-1;do fe+=Ee,ce=O[fe];while((!ce||ce.offsetParent==null)&&fe<O.length&&fe>=0);ce?ce.focus():se(oe==="next"?"first":"last")}}return useRender(()=>createVNode(e.tag,{ref:le,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},a.value,l.value,d.value,E.value,D.value,L.value,f.value],style:[c.value,C.value],role:"listbox","aria-activedescendant":void 0,onFocusin:ae,onFocusout:he,onFocus:pe,onKeydown:B},{default:()=>[createVNode(VListChildren,{items:i.value},r)]})),{open:A,select:S,focus:se}}}),VSelect$1="",VTextField$1="",VField$1="";function useInputIcon(e){const{t}=useLocale();function r(i){let{name:a}=i;const l={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],c=e[`onClick:${a}`],d=c&&l?t(`$vuetify.input.${l}`,e.label??""):void 0;return createVNode(VIcon,{icon:e[`${a}Icon`],"aria-label":d,onClick:c},null)}return{InputIcon:r}}const VLabel$1="",VLabel=genericComponent()({name:"VLabel",props:{text:String,clickable:Boolean,...makeThemeProps()},setup(e,t){let{slots:r}=t;return useRender(()=>createVNode("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,r.default?.()])),{}}}),VFieldLabel=genericComponent()({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:r}=t;return useRender(()=>createVNode(VLabel,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},r)),{}}}),makeFocusProps=propsFactory$1({focused:Boolean},"focus");function useFocus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName();const r=useProxiedModel(e,"focused"),i=computed(()=>({[`${t}--focused`]:r.value}));function a(){r.value=!0}function l(){r.value=!1}return{focusClasses:i,isFocused:r,focus:a,blur:l}}const allowedVariants$1=["underlined","outlined","filled","solo","plain"],makeVFieldProps=propsFactory$1({appendInnerIcon:IconValue$1,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue$1,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:IconValue$1,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>allowedVariants$1.includes(e)},"onClick:clear":EventProp,"onClick:appendInner":EventProp,"onClick:prependInner":EventProp,...makeThemeProps(),...makeLoaderProps()},"v-field"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:a}=t;const{themeClasses:l}=provideTheme(e),{loaderClasses:c}=useLoader(e),{focusClasses:d,isFocused:E,focus:C,blur:D}=useFocus(e),{InputIcon:f}=useInputIcon(e),A=computed(()=>e.dirty||e.active),S=computed(()=>!e.singleLine&&!!(e.label||a.label)),L=getUid(),N=computed(()=>e.id||`input-${L}`),G=computed(()=>`${N.value}-messages`),ie=ref(),le=ref(),ae=ref(),{backgroundColorClasses:he,backgroundColorStyles:pe}=useBackgroundColor(toRef(e,"bgColor")),{textColorClasses:B,textColorStyles:se}=useTextColor(computed(()=>A.value&&E.value&&!e.error&&!e.disabled?e.color:void 0));watch(A,T=>{if(S.value){const ce=ie.value.$el,fe=le.value.$el;requestAnimationFrame(()=>{const Ee=nullifyTransforms(ce),Ae=fe.getBoundingClientRect(),_e=Ae.x-Ee.x,xe=Ae.y-Ee.y-(Ee.height/2-Ae.height/2),De=Ae.width/.75,Le=Math.abs(De-Ee.width)>1?{maxWidth:convertToUnit(De)}:void 0,Ge=getComputedStyle(ce),rt=getComputedStyle(fe),We=parseFloat(Ge.transitionDuration)*1e3||150,xt=parseFloat(rt.getPropertyValue("--v-field-label-scale")),Me=rt.getPropertyValue("color");ce.style.visibility="visible",fe.style.visibility="hidden",animate(ce,{transform:`translate(${_e}px, ${xe}px) scale(${xt})`,color:Me,...Le},{duration:We,easing:standardEasing,direction:T?"normal":"reverse"}).finished.then(()=>{ce.style.removeProperty("visibility"),fe.style.removeProperty("visibility")})})}},{flush:"post"});const oe=computed(()=>({isActive:A,isFocused:E,controlRef:ae,blur:D,focus:C}));function O(T){T.target!==document.activeElement&&T.preventDefault()}return useRender(()=>{const T=e.variant==="outlined",ce=a["prepend-inner"]||e.prependInnerIcon,fe=!!(e.clearable||a.clear),Ee=!!(a["append-inner"]||e.appendInnerIcon||fe),Ae=a.label?a.label({label:e.label,props:{for:N.value}}):e.label;return createVNode("div",mergeProps({class:["v-field",{"v-field--active":A.value,"v-field--appended":Ee,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":ce,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!Ae,[`v-field--variant-${e.variant}`]:!0},l.value,he.value,d.value,c.value],style:[pe.value,se.value],onClick:O},r),[createVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:a.loader}),ce&&createVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&createVNode(f,{key:"prepend-icon",name:"prependInner"},null),a["prepend-inner"]?.(oe.value)]),createVNode("div",{class:"v-field__field","data-no-activator":""},[["solo","filled"].includes(e.variant)&&S.value&&createVNode(VFieldLabel,{key:"floating-label",ref:le,class:[B.value],floating:!0,for:N.value},{default:()=>[Ae]}),createVNode(VFieldLabel,{ref:ie,for:N.value},{default:()=>[Ae]}),a.default?.({...oe.value,props:{id:N.value,class:"v-field__input","aria-describedby":G.value},focus:C,blur:D})]),fe&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createVNode("div",{class:"v-field__clearable",onMousedown:_e=>{_e.preventDefault(),_e.stopPropagation()}},[a.clear?a.clear():createVNode(f,{name:"clear"},null)]),[[vShow,e.dirty]])]}),Ee&&createVNode("div",{key:"append",class:"v-field__append-inner"},[a["append-inner"]?.(oe.value),e.appendInnerIcon&&createVNode(f,{key:"append-icon",name:"appendInner"},null)]),createVNode("div",{class:["v-field__outline",B.value]},[T&&createVNode(Fragment,null,[createVNode("div",{class:"v-field__outline__start"},null),S.value&&createVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:le,floating:!0,for:N.value},{default:()=>[Ae]})]),createVNode("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&S.value&&createVNode(VFieldLabel,{ref:le,floating:!0,for:N.value},{default:()=>[Ae]})])])}),{controlRef:ae}}});function filterFieldProps(e){const t=Object.keys(VField.props).filter(r=>!isOn(r));return pick(e,t)}const VInput$1="",VMessages$1="",VMessages=genericComponent()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeTransitionProps({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},setup(e,t){let{slots:r}=t;const i=computed(()=>wrapInArray(e.messages)),{textColorClasses:a,textColorStyles:l}=useTextColor(computed(()=>e.color));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition,tag:"div",class:["v-messages",a.value],style:l.value,role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((c,d)=>createVNode("div",{class:"v-messages__message",key:`${d}-${i.value}`},[r.message?r.message({message:c}):c]))]})),{}}}),FormKey=Symbol.for("vuetify:form");function useForm(){return inject$1(FormKey,null)}const makeValidationProps=propsFactory$1({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getCurrentInstanceName(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:getUid();const i=useProxiedModel(e,"modelValue"),a=computed(()=>e.validationValue===void 0?i.value:e.validationValue),l=useForm(),c=ref([]),d=ref(!0),E=computed(()=>!!(wrapInArray(i.value===""?null:i.value).length||wrapInArray(a.value===""?null:a.value).length)),C=computed(()=>!!(e.disabled||l?.isDisabled.value)),D=computed(()=>!!(e.readonly||l?.isReadonly.value)),f=computed(()=>e.errorMessages.length?wrapInArray(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):c.value),A=computed(()=>e.error||f.value.length?!1:e.rules.length&&d.value?null:!0),S=ref(!1),L=computed(()=>({[`${t}--error`]:A.value===!1,[`${t}--dirty`]:E.value,[`${t}--disabled`]:C.value,[`${t}--readonly`]:D.value})),N=computed(()=>e.name??unref(r));onBeforeMount(()=>{l?.register({id:N.value,validate:ae,reset:ie,resetValidation:le})}),onBeforeUnmount(()=>{l?.unregister(N.value)});const G=computed(()=>e.validateOn||l?.validateOn.value||"input");onMounted(()=>l?.update(N.value,A.value,f.value)),useToggleScope(()=>G.value==="input",()=>{watch(a,()=>{if(a.value!=null)ae();else if(e.focused){const he=watch(()=>e.focused,pe=>{pe||ae(),he()})}})}),useToggleScope(()=>G.value==="blur",()=>{watch(()=>e.focused,he=>{he||ae()})}),watch(A,()=>{l?.update(N.value,A.value,f.value)});function ie(){le(),i.value=null}function le(){d.value=!0,c.value=[]}async function ae(){const he=[];S.value=!0;for(const pe of e.rules){if(he.length>=(e.maxErrors??1))break;const se=await(typeof pe=="function"?pe:()=>pe)(a.value);if(se!==!0){if(typeof se!="string"){console.warn(`${se} is not a valid value. Rule functions must return boolean true or a string.`);continue}he.push(se)}}return c.value=he,S.value=!1,d.value=!1,c.value}return{errorMessages:f,isDirty:E,isDisabled:C,isReadonly:D,isPristine:d,isValid:A,isValidating:S,reset:ie,resetValidation:le,validate:ae,validationClasses:L}}const makeVInputProps=propsFactory$1({id:String,appendIcon:IconValue$1,prependIcon:IconValue$1,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":EventProp,"onClick:append":EventProp,...makeDensityProps(),...makeValidationProps()},"v-input"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i,emit:a}=t;const{densityClasses:l}=useDensity(e),{InputIcon:c}=useInputIcon(e),d=getUid(),E=computed(()=>e.id||`input-${d}`),C=computed(()=>`${E.value}-messages`),{errorMessages:D,isDirty:f,isDisabled:A,isReadonly:S,isPristine:L,isValid:N,isValidating:G,reset:ie,resetValidation:le,validate:ae,validationClasses:he}=useValidation(e,"v-input",E),pe=computed(()=>({id:E,messagesId:C,isDirty:f,isDisabled:A,isReadonly:S,isPristine:L,isValid:N,isValidating:G,reset:ie,resetValidation:le,validate:ae}));return useRender(()=>{const B=!!(i.prepend||e.prependIcon),se=!!(i.append||e.appendIcon),oe=!!(e.messages?.length||D.value.length),O=!e.hideDetails||e.hideDetails==="auto"&&(oe||!!i.details);return createVNode("div",{class:["v-input",`v-input--${e.direction}`,l.value,he.value]},[B&&createVNode("div",{key:"prepend",class:"v-input__prepend"},[i.prepend?.(pe.value),e.prependIcon&&createVNode(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&createVNode("div",{class:"v-input__control"},[i.default?.(pe.value)]),se&&createVNode("div",{key:"append",class:"v-input__append"},[e.appendIcon&&createVNode(c,{key:"append-icon",name:"append"},null),i.append?.(pe.value)]),O&&createVNode("div",{class:"v-input__details"},[createVNode(VMessages,{id:C.value,active:oe,messages:D.value.length>0?D.value:e.messages},{message:i.message}),i.details?.(pe.value)])])}),{reset:ie,resetValidation:le,validate:ae}}});function filterInputProps(e){const t=Object.keys(VInput.props).filter(r=>!isOn(r));return pick(e,t)}const VCounter$1="",VCounter=genericComponent()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeTransitionProps({transition:{component:VSlideYTransition}})},setup(e,t){let{slots:r}=t;const i=computed(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[withDirectives(createVNode("div",{class:"v-counter"},[r.default?r.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[vShow,e.active]])]})),{}}}),Refs=Symbol("Forwarded refs");function getDescriptor(e,t){let r=e;for(;r;){const i=Reflect.getOwnPropertyDescriptor(r,t);if(i)return i;r=Object.getPrototypeOf(r)}}function forwardRefs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e[Refs]=r,new Proxy(e,{get(a,l){if(Reflect.has(a,l))return Reflect.get(a,l);for(const c of r)if(c.value&&Reflect.has(c.value,l)){const d=Reflect.get(c.value,l);return typeof d=="function"?d.bind(c.value):d}},getOwnPropertyDescriptor(a,l){const c=Reflect.getOwnPropertyDescriptor(a,l);if(c)return c;if(!(typeof l=="symbol"||l.startsWith("__"))){for(const d of r){if(!d.value)continue;const E=getDescriptor(d.value,l)??("_"in d.value?getDescriptor(d.value._?.setupState,l):void 0);if(E)return E}for(const d of r){const E=d.value&&d.value[Refs];if(!E)continue;const C=E.slice();for(;C.length;){const D=C.shift(),f=getDescriptor(D.value,l);if(f)return f;const A=D.value&&D.value[Refs];A&&C.push(...A)}}}}})}const activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory$1({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},...makeVInputProps(),...makeVFieldProps()},"v-text-field"),VTextField=genericComponent()({name:"VTextField",directives:{Intersect:Intersect$1},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:a}=t;const l=useProxiedModel(e,"modelValue"),{isFocused:c,focus:d,blur:E}=useFocus(e),C=computed(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value??"").toString().length),D=computed(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(B,se){!e.autofocus||!B||se[0].target?.focus?.()}const A=ref(),S=ref(),L=ref(),N=computed(()=>activeTypes.includes(e.type)||e.persistentPlaceholder||c.value),G=computed(()=>e.messages.length?e.messages:c.value||e.persistentHint?e.hint:"");function ie(){L.value!==document.activeElement&&L.value?.focus(),c.value||d()}function le(B){i("mousedown:control",B),B.target!==L.value&&(ie(),B.preventDefault())}function ae(B){ie(),i("click:control",B)}function he(B){B.stopPropagation(),ie(),nextTick(()=>{l.value=null,callEvent(e["onClick:clear"],B)})}function pe(B){const se=B.target;if(l.value=se.value,["text","search","password","tel","url"].includes(e.type)){const oe=[se.selectionStart,se.selectionEnd];nextTick(()=>{se.selectionStart=oe[0],se.selectionEnd=oe[1]})}}return useRender(()=>{const B=!!(a.counter||e.counter||e.counterValue),se=!!(B||a.details),[oe,O]=filterInputAttrs(r),[{modelValue:T,...ce}]=filterInputProps(e),[fe]=filterFieldProps(e);return createVNode(VInput,mergeProps({ref:A,modelValue:l.value,"onUpdate:modelValue":Ee=>l.value=Ee,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},oe,ce,{focused:c.value,messages:G.value}),{...a,default:Ee=>{let{id:Ae,isDisabled:_e,isDirty:xe,isReadonly:De,isValid:Le}=Ee;return createVNode(VField,mergeProps({ref:S,onMousedown:le,onClick:ae,"onClick:clear":he,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},fe,{id:Ae.value,active:N.value||xe.value,dirty:xe.value||e.dirty,disabled:_e.value,focused:c.value,error:Le.value===!1}),{...a,default:Ge=>{let{props:{class:rt,...We}}=Ge;const xt=computed(()=>(e.persistentPlaceholder||c.value)&&!xe.value?e.placeholder:""),Me=withDirectives(createVNode("input",mergeProps({ref:L,value:l.value,onInput:pe,autofocus:e.autofocus,readonly:De.value,disabled:_e.value,name:e.name,placeholder:xt.value,size:1,type:e.type,onFocus:ie,onBlur:E},We,O),null),[[resolveDirective("intersect"),{handler:f},null,{once:!0}]]);return createVNode(Fragment,null,[e.prefix&&createVNode("span",{class:"v-text-field__prefix"},[e.prefix]),a.default?createVNode("div",{class:rt,"data-no-activator":""},[a.default(),Me]):cloneVNode(Me,{class:rt}),e.suffix&&createVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:se?Ee=>createVNode(Fragment,null,[a.details?.(Ee),B&&createVNode(Fragment,null,[createVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||c.value,value:C.value,max:D.value},a.counter)])]):void 0})}),forwardRefs({},A,S,L)}}),VSelectionControl$1="",VSelectionControlGroup$1="",VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory$1({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue$1,trueIcon:IconValue$1,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual},...makeThemeProps(),...makeDensityProps()},"v-selection-control-group"),VSelectionControlGroup=genericComponent()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...makeSelectionControlGroupProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),a=getUid(),l=computed(()=>e.id||`v-selection-control-group-${a}`),c=computed(()=>e.name||l.value),d=new Set;return provide(VSelectionControlGroupSymbol,{modelValue:i,forceUpdate:()=>{d.forEach(E=>E())},onForceUpdate:E=>{d.add(E),onScopeDispose(()=>{d.delete(E)})}}),provideDefaults({[e.defaultsTarget]:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),density:toRef(e,"density"),error:toRef(e,"error"),inline:toRef(e,"inline"),modelValue:i,multiple:computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:c,falseIcon:toRef(e,"falseIcon"),trueIcon:toRef(e,"trueIcon"),readonly:toRef(e,"readonly"),ripple:toRef(e,"ripple"),type:toRef(e,"type"),valueComparator:toRef(e,"valueComparator")}}),useRender(()=>createVNode("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:e.type==="radio"?"radiogroup":void 0},[r.default?.()])),{}}}),makeSelectionControlProps=propsFactory$1({label:String,trueValue:null,falseValue:null,value:null,...makeSelectionControlGroupProps()},"v-selection-control");function useSelectionControl(e){const t=inject$1(VSelectionControlGroupSymbol,void 0),{densityClasses:r}=useDensity(e),i=useProxiedModel(e,"modelValue"),a=computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),l=computed(()=>e.falseValue!==void 0?e.falseValue:!1),c=computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),d=computed({get(){const f=t?t.modelValue.value:i.value;return c.value?f.some(A=>e.valueComparator(A,a.value)):e.valueComparator(f,a.value)},set(f){if(e.readonly)return;const A=f?a.value:l.value;let S=A;c.value&&(S=f?[...wrapInArray(i.value),A]:wrapInArray(i.value).filter(L=>!e.valueComparator(L,a.value))),t?t.modelValue.value=S:i.value=S}}),{textColorClasses:E,textColorStyles:C}=useTextColor(computed(()=>d.value&&!e.error&&!e.disabled?e.color:void 0)),D=computed(()=>d.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:r,trueValue:a,falseValue:l,model:d,textColorClasses:E,textColorStyles:C,icon:D}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{Ripple},inheritAttrs:!1,props:makeSelectionControlProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const{group:a,densityClasses:l,icon:c,model:d,textColorClasses:E,textColorStyles:C,trueValue:D}=useSelectionControl(e),f=getUid(),A=computed(()=>e.id||`input-${f}`),S=ref(!1),L=ref(!1),N=ref();a?.onForceUpdate(()=>{N.value&&(N.value.checked=d.value)});function G(ae){S.value=!0,(!SUPPORTS_FOCUS_VISIBLE||SUPPORTS_FOCUS_VISIBLE&&ae.target.matches(":focus-visible"))&&(L.value=!0)}function ie(){S.value=!1,L.value=!1}function le(ae){e.readonly&&a&&nextTick(()=>a.forceUpdate()),d.value=ae.target.checked}return useRender(()=>{const ae=i.label?i.label({label:e.label,props:{for:A.value}}):e.label,[he,pe]=filterInputAttrs(r);return createVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":d.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":S.value,"v-selection-control--focus-visible":L.value,"v-selection-control--inline":e.inline},l.value]},he),[createVNode("div",{class:["v-selection-control__wrapper",E.value],style:C.value},[i.default?.(),withDirectives(createVNode("div",{class:["v-selection-control__input"]},[c.value&&createVNode(VIcon,{key:"icon",icon:c.value},null),createVNode("input",mergeProps({ref:N,checked:d.value,disabled:e.disabled,id:A.value,onBlur:ie,onFocus:G,onInput:le,"aria-disabled":e.readonly,type:e.type,value:D.value,name:e.name,"aria-checked":e.type==="checkbox"?d.value:void 0},pe),null),i.input?.({model:d,textColorClasses:E,textColorStyles:C,props:{onFocus:G,onBlur:ie,id:A.value}})]),[[resolveDirective("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),ae&&createVNode(VLabel,{for:A.value,clickable:!0},{default:()=>[ae]})])}),{isFocused:S,input:N}}}),makeVCheckboxBtnProps=propsFactory$1({indeterminate:Boolean,indeterminateIcon:{type:IconValue$1,default:"$checkboxIndeterminate"},...makeSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),VCheckboxBtn=genericComponent()({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"indeterminate"),a=useProxiedModel(e,"modelValue");function l(E){i.value&&(i.value=!1)}const c=computed(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),d=computed(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return useRender(()=>createVNode(VSelectionControl,mergeProps(e,{modelValue:a.value,"onUpdate:modelValue":[E=>a.value=E,l],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:c.value,trueIcon:d.value,"aria-checked":e.indeterminate?"mixed":void 0}),r)),{}}}),VChip$1="",VChipGroup="",VChipGroupSymbol=Symbol.for("vuetify:v-chip-group");genericComponent()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual},...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{isSelected:a,select:l,next:c,prev:d,selected:E}=useGroup(e,VChipGroupSymbol);return provideDefaults({VChip:{color:toRef(e,"color"),disabled:toRef(e,"disabled"),filter:toRef(e,"filter"),variant:toRef(e,"variant")}}),useRender(()=>createVNode(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value]},{default:()=>[r.default?.({isSelected:a,select:l,next:c,prev:d,selected:E.value})]})),{}}});const VChip=genericComponent()({name:"VChip",directives:{Ripple},props:{activeClass:String,appendAvatar:String,appendIcon:IconValue$1,closable:Boolean,closeIcon:{type:IconValue$1,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:EventProp,onClickOnce:EventProp,...makeBorderProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:i,slots:a}=t;const{t:l}=useLocale(),{borderClasses:c}=useBorder(e),{colorClasses:d,colorStyles:E,variantClasses:C}=useVariant(e),{densityClasses:D}=useDensity(e),{elevationClasses:f}=useElevation(e),{roundedClasses:A}=useRounded(e),{sizeClasses:S}=useSize(e),{themeClasses:L}=provideTheme(e),N=useProxiedModel(e,"modelValue"),G=useGroupItem(e,VChipGroupSymbol,!1),ie=useLink(e,r),le=computed(()=>e.link!==!1&&ie.isLink.value),ae=computed(()=>!e.disabled&&e.link!==!1&&(!!G||e.link||ie.isClickable.value)),he=computed(()=>({"aria-label":l(e.closeLabel),onClick(se){N.value=!1,i("click:close",se)}}));function pe(se){i("click",se),ae.value&&(ie.navigate?.(se),G?.toggle())}function B(se){(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),pe(se))}return()=>{const se=ie.isLink.value?"a":e.tag,oe=!!(e.appendIcon||e.appendAvatar),O=!!(oe||a.append),T=!!(a.close||e.closable),ce=!!(a.filter||e.filter)&&G,fe=!!(e.prependIcon||e.prependAvatar),Ee=!!(fe||a.prepend),Ae=!G||G.isSelected.value;return N.value&&withDirectives(createVNode(se,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":ae.value,"v-chip--filter":ce,"v-chip--pill":e.pill},L.value,c.value,Ae?d.value:void 0,D.value,f.value,A.value,S.value,C.value,G?.selectedClass.value],style:[Ae?E.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:ie.href.value,tabindex:ae.value?0:void 0,onClick:pe,onKeydown:ae.value&&!le.value&&B},{default:()=>[genOverlays(ae.value,"v-chip"),ce&&createVNode(VExpandXTransition,{key:"filter"},{default:()=>[withDirectives(createVNode("div",{class:"v-chip__filter"},[a.filter?withDirectives(createVNode(VDefaultsProvider,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[resolveDirective("slot"),a.filter,"default"]]):createVNode(VIcon,{key:"filter-icon",icon:e.filterIcon},null)]),[[vShow,G.isSelected.value]])]}),Ee&&createVNode("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!fe,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):createVNode(Fragment,null,[e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a.default?.({isSelected:G?.isSelected.value,selectedClass:G?.selectedClass.value,select:G?.select,toggle:G?.toggle,value:G?.value.value,disabled:e.disabled})??e.text,O&&createVNode("div",{key:"append",class:"v-chip__append"},[a.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!oe,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):createVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),T&&createVNode("div",mergeProps({key:"close",class:"v-chip__close"},he.value),[a.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):createVNode(VIcon,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[resolveDirective("ripple"),ae.value&&e.ripple,null]])}}}),VMenu$1="",VOverlay$1="",makeDelayProps=propsFactory$1({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(e,t){const r={},i=a=>()=>{if(!IN_BROWSER)return Promise.resolve(!0);const l=a==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(c=>{const d=parseInt(e[a]??0,10);r[a]=window.setTimeout(()=>{t?.(l),c(l)},d)})};return{runCloseDelay:i("closeDelay"),runOpenDelay:i("openDelay")}}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeActivatorProps=propsFactory$1({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"v-overlay-activator");function useActivator(e,t){let{isActive:r,isTop:i}=t;const a=ref();let l=!1,c=!1,d=!0;const E=computed(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),C=computed(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!E.value),{runOpenDelay:D,runCloseDelay:f}=useDelay(e,ae=>{ae===(e.openOnHover&&l||E.value&&c)&&!(e.openOnHover&&r.value&&!i.value)&&(r.value!==ae&&(d=!0),r.value=ae)}),A={click:ae=>{ae.stopPropagation(),a.value=ae.currentTarget||ae.target,r.value=!r.value},mouseenter:ae=>{l=!0,a.value=ae.currentTarget||ae.target,D()},mouseleave:ae=>{l=!1,f()},focus:ae=>{SUPPORTS_FOCUS_VISIBLE&&!ae.target.matches(":focus-visible")||(c=!0,ae.stopPropagation(),a.value=ae.currentTarget||ae.target,D())},blur:ae=>{c=!1,ae.stopPropagation(),f()}},S=computed(()=>{const ae={};return C.value&&(ae.click=A.click),e.openOnHover&&(ae.mouseenter=A.mouseenter,ae.mouseleave=A.mouseleave),E.value&&(ae.focus=A.focus,ae.blur=A.blur),ae}),L=computed(()=>{const ae={};if(e.openOnHover&&(ae.mouseenter=()=>{l=!0,D()},ae.mouseleave=()=>{l=!1,f()}),e.closeOnContentClick){const he=inject$1(VMenuSymbol,null);ae.click=()=>{r.value=!1,he?.closeParents()}}return ae}),N=computed(()=>{const ae={};return e.openOnHover&&(ae.mouseenter=()=>{d&&(l=!0,d=!1,D())},ae.mouseleave=()=>{l=!1,f()}),ae});watch(i,ae=>{ae&&(e.openOnHover&&!l&&(!E.value||!c)||E.value&&!c&&(!e.openOnHover||!l))&&(r.value=!1)});const G=ref();watchEffect(()=>{!G.value||nextTick(()=>{const ae=G.value;a.value=isComponentInstance(ae)?ae.$el:ae})});const ie=getCurrentInstance("useActivator");let le;return watch(()=>!!e.activator,ae=>{ae&&IN_BROWSER?(le=effectScope(),le.run(()=>{_useActivator(e,ie,{activatorEl:a,activatorEvents:S})})):le&&le.stop()},{flush:"post",immediate:!0}),onScopeDispose(()=>{le?.stop()}),{activatorEl:a,activatorRef:G,activatorEvents:S,contentEvents:L,scrimEvents:N}}function _useActivator(e,t,r){let{activatorEl:i,activatorEvents:a}=r;watch(()=>e.activator,(E,C)=>{if(C&&E!==C){const D=d(C);D&&c(D)}E&&nextTick(()=>l())},{immediate:!0}),watch(()=>e.activatorProps,()=>{l()}),onScopeDispose(()=>{c()});function l(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!E||(Object.entries(a.value).forEach(D=>{let[f,A]=D;E.addEventListener(f,A)}),Object.keys(C).forEach(D=>{C[D]==null?E.removeAttribute(D):E.setAttribute(D,C[D])}))}function c(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!E||(Object.entries(a.value).forEach(D=>{let[f,A]=D;E.removeEventListener(f,A)}),Object.keys(C).forEach(D=>{E.removeAttribute(D)}))}function d(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,C;if(E)if(E==="parent"){let D=t?.proxy?.$el?.parentNode;for(;D.hasAttribute("data-no-activator");)D=D.parentNode;C=D}else typeof E=="string"?C=document.querySelector(E):"$el"in E?C=E.$el:C=E;return i.value=C?.nodeType===Node.ELEMENT_NODE?C:null,i.value}}const makeLazyProps=propsFactory$1({eager:Boolean},"lazy");function useLazy(e,t){const r=ref(!1),i=computed(()=>r.value||e.eager||t.value);watch(t,()=>r.value=!0);function a(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:i,onAfterLeave:a}}function elementToViewport(e,t){return{x:e.x+t.x,y:e.y+t.y}}function getOffset(e,t){return{x:e.x-t.x,y:e.y-t.y}}function anchorToPoint(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:i}=e,a=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,l=r==="top"?0:r==="bottom"?t.height:r;return elementToViewport({x:a,y:l},t)}else if(e.side==="left"||e.side==="right"){const{side:r,align:i}=e,a=r==="left"?0:r==="right"?t.width:r,l=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return elementToViewport({x:a,y:l},t)}return elementToViewport({x:t.width/2,y:t.height/2},t)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory$1({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function useLocationStrategies(e,t){const r=ref({}),i=ref();IN_BROWSER&&(useToggleScope(()=>!!(t.isActive.value&&e.locationStrategy),l=>{watch(()=>e.locationStrategy,l),onScopeDispose(()=>{i.value=void 0}),typeof e.locationStrategy=="function"?i.value=e.locationStrategy(t,e,r)?.updateLocation:i.value=locationStrategies[e.locationStrategy](t,e,r)?.updateLocation}),window.addEventListener("resize",a,{passive:!0}),onScopeDispose(()=>{window.removeEventListener("resize",a),i.value=void 0}));function a(l){i.value?.(l)}return{contentStyles:r,updateLocation:i}}function staticLocationStrategy(){}function getIntrinsicSize(e){const t=nullifyTransforms(e);return t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function connectedLocationStrategy(e,t,r){isFixedPosition(e.activatorEl.value)&&Object.assign(r.value,{position:"fixed"});const{preferredAnchor:a,preferredOrigin:l}=destructComputed(()=>{const L=parseAnchor(t.location,e.isRtl.value),N=t.origin==="overlap"?L:t.origin==="auto"?flipSide(L):parseAnchor(t.origin,e.isRtl.value);return L.side===N.side&&L.align===flipAlign(N).align?{preferredAnchor:flipCorner(L),preferredOrigin:flipCorner(N)}:{preferredAnchor:L,preferredOrigin:N}}),[c,d,E,C]=["minWidth","minHeight","maxWidth","maxHeight"].map(L=>computed(()=>{const N=parseFloat(t[L]);return isNaN(N)?1/0:N})),D=computed(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const L=t.offset.split(" ").map(parseFloat);return L.length<2&&L.push(0),L}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const A=new ResizeObserver(()=>{f&&S()});watch([e.activatorEl,e.contentEl],(L,N)=>{let[G,ie]=L,[le,ae]=N;le&&A.unobserve(le),G&&A.observe(G),ae&&A.unobserve(ae),ie&&A.observe(ie)},{immediate:!0}),onScopeDispose(()=>{A.disconnect()});function S(){if(f=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>f=!0)}),!e.activatorEl.value||!e.contentEl.value)return;const L=e.activatorEl.value.getBoundingClientRect(),N=getIntrinsicSize(e.contentEl.value),G=getScrollParents(e.contentEl.value),ie=12;G.length||(G.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(N.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),N.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const le=G.reduce((ce,fe)=>{const Ee=fe.getBoundingClientRect(),Ae=new Box({x:fe===document.documentElement?0:Ee.x,y:fe===document.documentElement?0:Ee.y,width:fe.clientWidth,height:fe.clientHeight});return ce?new Box({x:Math.max(ce.left,Ae.left),y:Math.max(ce.top,Ae.top),width:Math.min(ce.right,Ae.right)-Math.max(ce.left,Ae.left),height:Math.min(ce.bottom,Ae.bottom)-Math.max(ce.top,Ae.top)}):Ae},void 0);le.x+=ie,le.y+=ie,le.width-=ie*2,le.height-=ie*2;let ae={anchor:a.value,origin:l.value};function he(ce){const fe=new Box(N),Ee=anchorToPoint(ce.anchor,L),Ae=anchorToPoint(ce.origin,fe);let{x:_e,y:xe}=getOffset(Ee,Ae);switch(ce.anchor.side){case"top":xe-=D.value[0];break;case"bottom":xe+=D.value[0];break;case"left":_e-=D.value[0];break;case"right":_e+=D.value[0];break}switch(ce.anchor.align){case"top":xe-=D.value[1];break;case"bottom":xe+=D.value[1];break;case"left":_e-=D.value[1];break;case"right":_e+=D.value[1];break}return fe.x+=_e,fe.y+=xe,fe.width=Math.min(fe.width,E.value),fe.height=Math.min(fe.height,C.value),{overflows:getOverflow(fe,le),x:_e,y:xe}}let pe=0,B=0;const se={x:0,y:0},oe={x:!1,y:!1};let O=-1;for(;;){if(O++>10){consoleError("Infinite loop detected in connectedLocationStrategy");break}const{x:ce,y:fe,overflows:Ee}=he(ae);pe+=ce,B+=fe,N.x+=ce,N.y+=fe;{const Ae=getAxis(ae.anchor),_e=Ee.x.before||Ee.x.after,xe=Ee.y.before||Ee.y.after;let De=!1;if(["x","y"].forEach(Le=>{if(Le==="x"&&_e&&!oe.x||Le==="y"&&xe&&!oe.y){const Ge={anchor:{...ae.anchor},origin:{...ae.origin}},rt=Le==="x"?Ae==="y"?flipAlign:flipSide:Ae==="y"?flipSide:flipAlign;Ge.anchor=rt(Ge.anchor),Ge.origin=rt(Ge.origin);const{overflows:We}=he(Ge);(We[Le].before<=Ee[Le].before&&We[Le].after<=Ee[Le].after||We[Le].before+We[Le].after<(Ee[Le].before+Ee[Le].after)/2)&&(ae=Ge,De=oe[Le]=!0)}}),De)continue}Ee.x.before&&(pe+=Ee.x.before,N.x+=Ee.x.before),Ee.x.after&&(pe-=Ee.x.after,N.x-=Ee.x.after),Ee.y.before&&(B+=Ee.y.before,N.y+=Ee.y.before),Ee.y.after&&(B-=Ee.y.after,N.y-=Ee.y.after);{const Ae=getOverflow(N,le);se.x=le.width-Ae.x.before-Ae.x.after,se.y=le.height-Ae.y.before-Ae.y.after,pe+=Ae.x.before,N.x+=Ae.x.before,B+=Ae.y.before,N.y+=Ae.y.before}break}const T=getAxis(ae.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${ae.anchor.side} ${ae.anchor.align}`,transformOrigin:`${ae.origin.side} ${ae.origin.align}`,top:convertToUnit(pixelRound(B)),left:convertToUnit(pixelRound(pe)),minWidth:convertToUnit(T==="y"?Math.min(c.value,L.width):c.value),maxWidth:convertToUnit(pixelCeil(clamp(se.x,c.value===1/0?0:c.value,E.value))),maxHeight:convertToUnit(pixelCeil(clamp(se.y,d.value===1/0?0:d.value,C.value)))}),{available:se,contentBox:N}}return watch(()=>[a.value,l.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>S()),nextTick(()=>{const L=S();if(!L)return;const{available:N,contentBox:G}=L;G.height>N.y&&requestAnimationFrame(()=>{S(),requestAnimationFrame(()=>{S()})})}),{updateLocation:S}}function pixelRound(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pixelCeil(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(e){!clean||frames.length?(frames.push(e),run()):(clean=!1,e(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const e=frames.shift();e&&e(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory$1({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in scrollStrategies}},"v-overlay-scroll-strategies");function useScrollStrategies(e,t){if(!IN_BROWSER)return;let r;watchEffect(async()=>{r?.stop(),t.isActive.value&&e.scrollStrategy&&(r=effectScope(),await nextTick(),r.active&&r.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,r):scrollStrategies[e.scrollStrategy]?.(t,e,r)}))}),onScopeDispose(()=>{r?.stop()})}function closeScrollStrategy(e){function t(r){e.isActive.value=!1}bindScroll(e.activatorEl.value??e.contentEl.value,t)}function blockScrollStrategy(e,t){const r=e.root.value?.offsetParent,i=[...new Set([...getScrollParents(e.activatorEl.value,t.contained?r:void 0),...getScrollParents(e.contentEl.value,t.contained?r:void 0)])].filter(c=>!c.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,l=(c=>hasScrollbar(c)&&c)(r||document.documentElement);l&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((c,d)=>{c.style.setProperty("--v-body-scroll-x",convertToUnit(-c.scrollLeft)),c.style.setProperty("--v-body-scroll-y",convertToUnit(-c.scrollTop)),c.style.setProperty("--v-scrollbar-offset",convertToUnit(a)),c.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{i.forEach((c,d)=>{const E=parseFloat(c.style.getPropertyValue("--v-body-scroll-x")),C=parseFloat(c.style.getPropertyValue("--v-body-scroll-y"));c.style.removeProperty("--v-body-scroll-x"),c.style.removeProperty("--v-body-scroll-y"),c.style.removeProperty("--v-scrollbar-offset"),c.classList.remove("v-overlay-scroll-blocked"),c.scrollLeft=-E,c.scrollTop=-C}),l&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(e,t,r){let i=!1,a=-1,l=-1;function c(d){requestNewFrame(()=>{const E=performance.now();e.updateLocation.value?.(d),i=(performance.now()-E)/(1e3/60)>2})}l=(typeof requestIdleCallback>"u"?d=>d():requestIdleCallback)(()=>{r.run(()=>{bindScroll(e.activatorEl.value??e.contentEl.value,d=>{i?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{c(d)})})):c(d)})})}),onScopeDispose(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(l),cancelAnimationFrame(a)})}function bindScroll(e,t){const r=[document,...getScrollParents(e)];r.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),onScopeDispose(()=>{r.forEach(i=>{i.removeEventListener("scroll",t)})})}const breakpoints=["sm","md","lg","xl","xxl"],DisplaySymbol=Symbol.for("vuetify:display"),defaultDisplayOptions={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},parseDisplayOptions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultDisplayOptions;return mergeDeep(defaultDisplayOptions,e)};function getClientWidth(e){return IN_BROWSER&&!e?window.innerWidth:0}function getClientHeight(e){return IN_BROWSER&&!e?window.innerHeight:0}function getPlatform$1(e){const t=IN_BROWSER&&!e?window.navigator.userAgent:"ssr";function r(L){return Boolean(t.match(L))}const i=r(/android/i),a=r(/iphone|ipad|ipod/i),l=r(/cordova/i),c=r(/electron/i),d=r(/chrome/i),E=r(/edge/i),C=r(/firefox/i),D=r(/opera/i),f=r(/win/i),A=r(/mac/i),S=r(/linux/i);return{android:i,ios:a,cordova:l,electron:c,chrome:d,edge:E,firefox:C,opera:D,win:f,mac:A,linux:S,touch:SUPPORTS_TOUCH,ssr:t==="ssr"}}function createDisplay(e,t){const{thresholds:r,mobileBreakpoint:i}=parseDisplayOptions(e),a=ref(getClientHeight(t)),l=shallowRef(getPlatform$1(t)),c=reactive({}),d=ref(getClientWidth(t));function E(){a.value=getClientHeight(),d.value=getClientWidth()}function C(){E(),l.value=getPlatform$1()}return watchEffect(()=>{const D=d.value<r.sm,f=d.value<r.md&&!D,A=d.value<r.lg&&!(f||D),S=d.value<r.xl&&!(A||f||D),L=d.value<r.xxl&&!(S||A||f||D),N=d.value>=r.xxl,G=D?"xs":f?"sm":A?"md":S?"lg":L?"xl":"xxl",ie=typeof i=="number"?i:r[i],le=d.value<ie;c.xs=D,c.sm=f,c.md=A,c.lg=S,c.xl=L,c.xxl=N,c.smAndUp=!D,c.mdAndUp=!(D||f),c.lgAndUp=!(D||f||A),c.xlAndUp=!(D||f||A||S),c.smAndDown=!(A||S||L||N),c.mdAndDown=!(S||L||N),c.lgAndDown=!(L||N),c.xlAndDown=!N,c.name=G,c.height=a.value,c.width=d.value,c.mobile=le,c.mobileBreakpoint=i,c.platform=l.value,c.thresholds=r}),IN_BROWSER&&window.addEventListener("resize",E,{passive:!0}),{...toRefs(c),update:C,ssr:!!t}}function useDisplay(){const e=inject$1(DisplaySymbol);if(!e)throw new Error("Could not find Vuetify display injection");return e}function useHydration(){if(!IN_BROWSER)return ref(!1);const{ssr:e}=useDisplay();if(e){const t=ref(!1);return onMounted(()=>{t.value=!0}),t}else return ref(!0)}function useScopeId(){const t=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(e,t,r){const i=getCurrentInstance("useStack"),a=!r,l=inject$1(StackSymbol,void 0),c=reactive({activeChildren:new Set});provide(StackSymbol,c);const d=ref(+t.value);useToggleScope(e,()=>{const D=globalStack.at(-1)?.[1];d.value=D?D+10:+t.value,a&&globalStack.push([i.uid,d.value]),l?.activeChildren.add(i.uid),onScopeDispose(()=>{if(a){const f=toRaw(globalStack).findIndex(A=>A[0]===i.uid);globalStack.splice(f,1)}l?.activeChildren.delete(i.uid)})});const E=ref(!0);a&&watchEffect(()=>{const D=globalStack.at(-1)?.[0]===i.uid;setTimeout(()=>E.value=D)});const C=computed(()=>!c.activeChildren.size);return{globalTop:readonly(E),localTop:C,stackStyles:computed(()=>({zIndex:d.value}))}}function useTeleport(e){return{teleportTarget:computed(()=>{const r=e.value;if(r===!0||!IN_BROWSER)return;const i=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(i==null){warn(`Unable to locate target ${r}`);return}let a=i.querySelector(":scope > .v-overlay-container");return a||(a=document.createElement("div"),a.className="v-overlay-container",i.appendChild(a)),a})}}function defaultConditional(){return!0}function checkEvent(e,t,r){if(!e||checkIsActive(e,r)===!1)return!1;const i=attachedRoot(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const a=(typeof r.value=="object"&&r.value.include||(()=>[]))();return a.push(t),!a.some(l=>l?.contains(e.target))}function checkIsActive(e,t){return(typeof t.value=="object"&&t.value.closeConditional||defaultConditional)(e)}function directive(e,t,r){const i=typeof r.value=="function"?r.value:r.value.handler;t._clickOutside.lastMousedownWasOutside&&checkEvent(e,t,r)&&setTimeout(()=>{checkIsActive(e,r)&&i&&i(e)},0)}function handleShadow(e,t){const r=attachedRoot(e);t(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&t(r)}const ClickOutside={mounted(e,t){const r=a=>directive(a,e,t),i=a=>{e._clickOutside.lastMousedownWasOutside=checkEvent(a,e,t)};handleShadow(e,a=>{a.addEventListener("click",r,!0),a.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:i}},unmounted(e,t){!e._clickOutside||(handleShadow(e,r=>{if(!r||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:i,onMousedown:a}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",i,!0),r.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Scrim(e){const{modelValue:t,color:r,...i}=e;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&createVNode("div",mergeProps({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const makeVOverlayProps=propsFactory$1({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps()},"v-overlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{ClickOutside},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...makeVOverlayProps()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:i,emit:a}=t;const l=useProxiedModel(e,"modelValue"),c=computed({get:()=>l.value,set:Ge=>{Ge&&e.disabled||(l.value=Ge)}}),{teleportTarget:d}=useTeleport(computed(()=>e.attach||e.contained)),{themeClasses:E}=provideTheme(e),{rtlClasses:C,isRtl:D}=useRtl(),{hasContent:f,onAfterLeave:A}=useLazy(e,c),S=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:L,localTop:N,stackStyles:G}=useStack(c,toRef(e,"zIndex"),e._disableGlobalStack),{activatorEl:ie,activatorRef:le,activatorEvents:ae,contentEvents:he,scrimEvents:pe}=useActivator(e,{isActive:c,isTop:N}),{dimensionStyles:B}=useDimension(e),se=useHydration(),{scopeId:oe}=useScopeId();watch(()=>e.disabled,Ge=>{Ge&&(c.value=!1)});const O=ref(),T=ref(),{contentStyles:ce,updateLocation:fe}=useLocationStrategies(e,{isRtl:D,contentEl:T,activatorEl:ie,isActive:c});useScrollStrategies(e,{root:O,contentEl:T,activatorEl:ie,isActive:c,updateLocation:fe});function Ee(Ge){a("click:outside",Ge),e.persistent?Le():c.value=!1}function Ae(){return c.value&&L.value}IN_BROWSER&&watch(c,Ge=>{Ge?window.addEventListener("keydown",_e):window.removeEventListener("keydown",_e)},{immediate:!0});function _e(Ge){Ge.key==="Escape"&&L.value&&(e.persistent?Le():c.value=!1)}const xe=useRouter();useToggleScope(()=>e.closeOnBack,()=>{useBackButton(xe,Ge=>{L.value&&c.value?(Ge(!1),e.persistent?Le():c.value=!1):Ge()})});const De=ref();watch(()=>c.value&&(e.absolute||e.contained)&&d.value==null,Ge=>{if(Ge){const rt=getScrollParent(O.value);rt&&rt!==document.scrollingElement&&(De.value=rt.scrollTop)}});function Le(){e.noClickAnimation||T.value&&animate(T.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}return useRender(()=>createVNode(Fragment,null,[r.activator?.({isActive:c.value,props:mergeProps({ref:le},toHandlers(ae.value),e.activatorProps)}),se.value&&createVNode(Teleport,{disabled:!d.value,to:d.value},{default:()=>[f.value&&createVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},E.value,C.value],style:[G.value,{top:convertToUnit(De.value)}],ref:O},oe,i),[createVNode(Scrim,mergeProps({color:S,modelValue:c.value&&!!e.scrim},toHandlers(pe.value)),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:e.transition,target:ie.value,onAfterLeave:()=>{A(),a("afterLeave")}},{default:()=>[withDirectives(createVNode("div",mergeProps({ref:T,class:["v-overlay__content",e.contentClass],style:[B.value,ce.value]},toHandlers(he.value),e.contentProps),[r.default?.({isActive:c})]),[[vShow,c.value],[resolveDirective("click-outside"),{handler:Ee,closeConditional:Ae,include:()=>[ie.value]}]])]})])]})])),{activatorEl:ie,animateClick:Le,contentEl:T,globalTop:L,localTop:N,updateLocation:fe}}}),VMenu=genericComponent()({name:"VMenu",props:{id:String,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{scopeId:a}=useScopeId(),l=getUid(),c=computed(()=>e.id||`v-menu-${l}`),d=ref(),E=inject$1(VMenuSymbol,null),C=ref(0);provide(VMenuSymbol,{register(){++C.value},unregister(){--C.value},closeParents(){setTimeout(()=>{C.value||(i.value=!1,E?.closeParents())},40)}}),watch(i,A=>{A?E?.register():E?.unregister()});function D(){E?.closeParents()}const f=computed(()=>mergeProps({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":c.value},e.activatorProps));return useRender(()=>{const[A]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:d,class:["v-menu"]},A,{modelValue:i.value,"onUpdate:modelValue":S=>i.value=S,absolute:!0,activatorProps:f.value,"onClick:outside":D},a),{activator:r.activator,default:function(){for(var S=arguments.length,L=new Array(S),N=0;N<S;N++)L[N]=arguments[N];return createVNode(VDefaultsProvider,{root:!0},{default:()=>[r.default?.(...L)]})}})}),forwardRefs({id:c,\u03A8openChildren:C},d)}}),makeSelectProps=propsFactory$1({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:IconValue$1,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:deepEqual},...makeItemsProps({itemChildren:!1})},"v-select"),VSelect=genericComponent()({name:"VSelect",props:{...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps({transition:{component:VDialogTransition}})},emits:{"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:r}=t;const{t:i}=useLocale(),a=ref(),l=ref(),c=useProxiedModel(e,"menu"),d=computed({get:()=>c.value,set:se=>{c.value&&!se&&l.value?.\u03A8openChildren||(c.value=se)}}),{items:E,transformIn:C,transformOut:D}=useItems(e),f=useProxiedModel(e,"modelValue",[],se=>C(wrapInArray(se)),se=>{const oe=D(se);return e.multiple?oe:oe[0]??null}),A=useForm(),S=computed(()=>f.value.map(se=>E.value.find(oe=>e.valueComparator(oe.value,se.value))||se)),L=computed(()=>S.value.map(se=>se.props.value)),N=computed(()=>e.hideSelected?E.value.filter(se=>!S.value.some(oe=>oe===se)):E.value),G=ref();function ie(se){e.openOnClear&&(d.value=!0)}function le(){e.hideNoData&&!E.value.length||e.readonly||A?.isReadonly.value||(d.value=!d.value)}function ae(se){e.readonly||A?.isReadonly.value||(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(se.key)&&se.preventDefault(),["Enter","ArrowDown"," "].includes(se.key)&&(d.value=!0),["Escape","Tab"].includes(se.key)&&(d.value=!1),se.key==="ArrowDown"?G.value?.focus("next"):se.key==="ArrowUp"?G.value?.focus("prev"):se.key==="Home"?G.value?.focus("first"):se.key==="End"&&G.value?.focus("last"))}function he(se){if(e.multiple){const oe=L.value.findIndex(O=>e.valueComparator(O,se.value));if(oe===-1)f.value=[...f.value,se];else{const O=[...f.value];O.splice(oe,1),f.value=O}}else f.value=[se],d.value=!1}function pe(se){G.value?.$el.contains(se.relatedTarget)||(d.value=!1)}function B(se){se.relatedTarget==null&&a.value?.focus()}return useRender(()=>{const se=!!(e.chips||r.chip),oe=!!(!e.hideNoData||N.value.length||r.prepend||r.append||r["no-data"]),[O]=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:a},O,{modelValue:f.value.map(T=>T.props.value).join(", "),"onUpdate:modelValue":T=>{T==null&&(f.value=[])},validationValue:f.externalValue,dirty:f.value.length>0,class:["v-select",{"v-select--active-menu":d.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":ie,"onMousedown:control":le,onBlur:pe,onKeydown:ae}),{...r,default:()=>createVNode(Fragment,null,[createVNode(VMenu,mergeProps({ref:l,modelValue:d.value,"onUpdate:modelValue":T=>d.value=T,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[oe&&createVNode(VList,{ref:G,selected:L.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onFocusout:B},{default:()=>[!N.value.length&&!e.hideNoData&&(r["no-data"]?.()??createVNode(VListItem,{title:i(e.noDataText)},null)),r["prepend-item"]?.(),N.value.map((T,ce)=>r.item?r.item?.({item:T,index:ce,props:mergeProps(T.props,{onClick:()=>he(T)})}):createVNode(VListItem,mergeProps({key:ce},T.props,{onClick:()=>he(T)}),{prepend:fe=>{let{isSelected:Ee}=fe;return e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{modelValue:Ee,ripple:!1},null):void 0}})),r["append-item"]?.()]})]}),S.value.map((T,ce)=>{function fe(Ae){Ae.stopPropagation(),Ae.preventDefault(),he(T)}const Ee={"onClick:close":fe,modelValue:!0,"onUpdate:modelValue":void 0};return createVNode("div",{key:T.value,class:"v-select__selection"},[se?r.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:T.title}}},{default:()=>[r.chip?.({item:T,index:ce,props:Ee})]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:T.title},Ee),null):r.selection?.({item:T,index:ce})??createVNode("span",{class:"v-select__selection-text"},[T.title,e.multiple&&ce<S.value.length-1&&createVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})])})}),forwardRefs({menu:d,select:he},a)}}),VTooltip$1="",VTooltip=genericComponent()({name:"VTooltip",props:{id:String,text:String,...omit(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=useProxiedModel(e,"modelValue"),{scopeId:a}=useScopeId(),l=getUid(),c=computed(()=>e.id||`v-tooltip-${l}`),d=ref(),E=computed(()=>e.location.split(" ").length>1?e.location:e.location+" center"),C=computed(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),D=computed(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),f=computed(()=>mergeProps({"aria-describedby":c.value},e.activatorProps));return useRender(()=>{const[A]=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:d,class:["v-tooltip"],id:c.value},A,{modelValue:i.value,"onUpdate:modelValue":S=>i.value=S,transition:D.value,absolute:!0,location:E.value,origin:C.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:f.value,_disableGlobalStack:!0},a),{activator:r.activator,default:function(){for(var S=arguments.length,L=new Array(S),N=0;N<S;N++)L[N]=arguments[N];return r.default?.(...L)??e.text}})}),forwardRefs({},d)}}),_withScopeId$2=e=>(pushScopeId("data-v-332f2cc3"),e=e(),popScopeId(),e),_hoisted_1$c={class:"top-btn-list d-flex w-100 align-center py-1 ma-0 px-0 bg-prominent"},_hoisted_2$9={class:"d-flex align-center"},_hoisted_3$7=_withScopeId$2(()=>createBaseVNode("span",null,"\u56FE\u5C42",-1)),_hoisted_4$5={class:"select-box"},_hoisted_5$3={class:"text"},_sfc_main$h=defineComponent$1({__name:"TopBtnList",setup(e){const t=()=>{callCommand("MxLayerManager")},r=useLayer(),{putCurrent:i}=r,{list:a,currentLayer:l}=storeToRefs(r),{createColor:c}=useColor$1(),{colorSelectList:d,currentSelectColor:E}=storeToRefs(useColor$1()),{lineTypeList:C,currentLineType:D}=storeToRefs(useLineType()),f=()=>{callCommand("Mx_Color",{call:(A,S)=>{const L=c({...countColorInfo(A,S)});d.value.unshift(L),E.value=L},color:E.value})};return(A,S)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$9,[createVNode(VTooltip,{link:"",right:"","open-delay":700},{activator:withCtx(({props:L})=>[createVNode(VBtn,mergeProps({class:"box pa-1 rounded-0 ml-1",size:"large",icon:"",density:"compact","max-width":"45",variant:"text"},L,{onClick:t}),{default:withCtx(()=>[createVNode(VIcon,{icon:"tuceng",class:"",size:"x-large"})]),_:2},1040)]),default:withCtx(()=>[_hoisted_3$7]),_:1}),createCommentVNode(" \u56FE\u5C42\u9009\u62E9 "),createVNode(VSelect,{items:unref(a),"bg-color":"background","item-title":"name","item-value":"id",modelValue:unref(l),"onUpdate:modelValue":[S[0]||(S[0]=L=>isRef(l)?l.value=L:null),unref(i)],class:"mx-2 rounded","return-object":""},{selection:withCtx(({item:L,index:N})=>[createBaseVNode("div",_hoisted_4$5,[createVNode(VIcon,{class:"ml-1 text-blue-darken-3",size:"20",icon:L.value.visible?"yanjing1":"yanjing"},null,8,["icon"]),createVNode(VIcon,{class:"ml-1 text-orange iconjiesuo1",size:"20",icon:L.value.freeze?"ziyuan":"taiyang"},null,8,["icon"]),createVNode(VIcon,{class:"text-orange",size:"20",icon:L.value.lock?"suo":"jiesuo1"},null,8,["icon"]),createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${L.value.color.color}`)},null,4),(openBlock(),createElementBlock("span",{key:N,class:"text"},toDisplayString(L.title),1))])]),item:withCtx(({item:L,index:N,props:G})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(G)),{prepend:withCtx(()=>[createVNode(VIcon,{class:"ml-1 text-blue-darken-2",size:"20",icon:L.value.visible?"yanjing1":"yanjing"},null,8,["icon"]),createVNode(VIcon,{class:"ml-1 text-orange iconjiesuo1",size:"20",icon:L.value.freeze?"ziyuan":"taiyang"},null,8,["icon"]),createVNode(VIcon,{class:"text-orange",size:"20",icon:L.value.lock?"suo":"jiesuo1"},null,8,["icon"]),createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${L.value.color.color}`)},null,4)]),_:2},1040)]),_:1},8,["items","modelValue","onUpdate:modelValue"]),createCommentVNode(" \u989C\u8272\u9009\u62E9 "),createVNode(VSelect,{items:unref(d),"bg-color":"background","menu-props":{maxHeight:"600"},modelValue:unref(E),"onUpdate:modelValue":S[1]||(S[1]=L=>isRef(E)?E.value=L:null),"return-object":"","item-title":"name",class:"mr-2 rounded"},{selection:withCtx(({item:L,props:N})=>[createBaseVNode("div",mergeProps(N,{class:"select-box"}),[createBaseVNode("span",{class:"colorBox",style:normalizeStyle(`background:${L.value.color}`)},null,4),createBaseVNode("span",_hoisted_5$3,toDisplayString(L.value.name),1)],16)]),item:withCtx(({item:L,index:N,props:G})=>[createVNode(VListItem,normalizeProps(guardReactiveProps(G)),{prepend:withCtx(()=>[createBaseVNode("span",{class:"colorBox ml-1",style:normalizeStyle(`background:${L.value.color}`)},null,4)]),_:2},1040)]),"prepend-item":withCtx(()=>[createVNode(VListItem,{onClick:withModifiers(f,["stop"]),title:"\u9009\u62E9\u66F4\u591A\u989C\u8272"},{prepend:withCtx(()=>[createVNode(VIcon,{icon:"yanse",style:{"margin-right":"10px"},class:"ml-1",size:"14"}),createCommentVNode(' <span class="ml-1 colorBox white_color_box"></span> ')]),_:1},8,["onClick"])]),_:1},8,["items","modelValue"]),createCommentVNode(" \u7EBF\u578B\u9009\u62E9 "),createVNode(VSelect,{"bg-color":"background",items:unref(C),modelValue:unref(D),"onUpdate:modelValue":S[2]||(S[2]=L=>isRef(D)?D.value=L:null),"return-object":"","item-title":"name",class:"rounded"},null,8,["items","modelValue"])])]))}}),TopBtnList_vue_vue_type_style_index_0_scoped_332f2cc3_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[i,a]of t)r[i]=a;return r},TopBtnList=_export_sfc(_sfc_main$h,[["__scopeId","data-v-332f2cc3"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/TopBtnList.vue"]]),_sfc_main$g=defineComponent$1({__name:"index",props:{list:{type:Array,required:!1,default:()=>[]},location:{type:null,required:!1,default:"left"}},emits:["change"],setup(e,{emit:t}){return(r,i)=>(openBlock(),createBlock(VList,{class:"list d-flex"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.list,(a,l)=>(openBlock(),createBlock(VTooltip,{theme:"light",key:l,link:"","open-delay":700,location:e.location,text:a.prompt},{activator:withCtx(({isActive:c,props:d})=>[createVNode(VBtn,mergeProps(d,{size:"small",icon:a.icon,variant:"text",class:[e.location+"-item","rounded-0"],onClick:E=>t("change",a)}),{default:withCtx(()=>[createVNode(VIcon,{size:"x-large"})]),_:2},1040,["icon","class","onClick"])]),_:2},1032,["location","text"]))),128))]),_:1}))}}),index_vue_vue_type_style_index_0_scoped_8d99e05f_lang="",MxBtnList=_export_sfc(_sfc_main$g,[["__scopeId","data-v-8d99e05f"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxBtnList/index.vue"]]),version$2="1.0.0",getVersion=()=>window.MxElectronAPI&&window.MxElectronAPI.version||version$2,getLargeVersion=()=>{let e=getVersion();const t=e.lastIndexOf(".");return e=e.substring(0,t),e};let uiConfig;const fetchUiConfig=async()=>{uiConfig=await getConfig(new URL(""+new URL("../mxUiConfig.json",import.meta.url).href,self.location).href),uiConfig.title&&(document.title=uiConfig.title);const e=/<version>/g;uiConfig.headerTitle&&(uiConfig.headerTitle=uiConfig.headerTitle.replace(e,getLargeVersion()))},useTitleButtonBarData=()=>({mTitleButtonBarData:markRaw(uiConfig.mTitleButtonBarData||[])}),VCard$1="",VCardActions=defineComponent({name:"VCardActions",setup(e,t){let{slots:r}=t;return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>createVNode("div",{class:"v-card-actions"},[r.default?.()])),{}}}),VCardSubtitle=createSimpleFunctional("v-card-subtitle"),VCardTitle=createSimpleFunctional("v-card-title"),VCardItem=genericComponent()({name:"VCardItem",props:{appendAvatar:String,appendIcon:IconValue$1,prependAvatar:String,prependIcon:IconValue$1,subtitle:String,title:String,...makeDensityProps()},setup(e,t){let{slots:r}=t;return useRender(()=>{const i=!!(e.prependAvatar||e.prependIcon),a=!!(i||r.prepend),l=!!(e.appendAvatar||e.appendIcon),c=!!(l||r.append),d=!!(e.title||r.title),E=!!(e.subtitle||r.subtitle);return createVNode("div",{class:"v-card-item"},[a&&createVNode("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},r.prepend):i&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),createVNode("div",{class:"v-card-item__content"},[d&&createVNode(VCardTitle,{key:"title"},{default:()=>[r.title?.()??e.title]}),E&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>[r.subtitle?.()??e.subtitle]}),r.default?.()]),c&&createVNode("div",{key:"append",class:"v-card-item__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},r.append):l&&createVNode(VAvatar,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),VCardText=createSimpleFunctional("v-card-text"),VCard=genericComponent()({name:"VCard",directives:{Ripple},props:{appendAvatar:String,appendIcon:IconValue$1,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue$1,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...makeThemeProps(),...makeBorderProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeVariantProps({variant:"elevated"})},setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:a}=provideTheme(e),{borderClasses:l}=useBorder(e),{colorClasses:c,colorStyles:d,variantClasses:E}=useVariant(e),{densityClasses:C}=useDensity(e),{dimensionStyles:D}=useDimension(e),{elevationClasses:f}=useElevation(e),{loaderClasses:A}=useLoader(e),{locationStyles:S}=useLocation(e),{positionClasses:L}=usePosition(e),{roundedClasses:N}=useRounded(e),G=useLink(e,r),ie=computed(()=>e.link!==!1&&G.isLink.value),le=computed(()=>!e.disabled&&e.link!==!1&&(e.link||G.isClickable.value));return useRender(()=>{const ae=ie.value?"a":e.tag,he=!!(i.title||e.title),pe=!!(i.subtitle||e.subtitle),B=he||pe,se=!!(i.append||e.appendAvatar||e.appendIcon),oe=!!(i.prepend||e.prependAvatar||e.prependIcon),O=!!(i.image||e.image),T=B||oe||se,ce=!!(i.text||e.text);return withDirectives(createVNode(ae,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":le.value},a.value,l.value,c.value,C.value,f.value,A.value,L.value,N.value,E.value],style:[d.value,D.value,S.value],href:G.href.value,onClick:le.value&&G.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[O&&createVNode("div",{key:"image",class:"v-card__image"},[i.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(LoaderSlot,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),T&&createVNode(VCardItem,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),ce&&createVNode(VCardText,{key:"text"},{default:()=>[i.text?.()??e.text]}),i.default?.(),i.actions&&createVNode(VCardActions,null,{default:i.actions}),genOverlays(le.value,"v-card")]}),[[resolveDirective("ripple"),le.value&&e.ripple]])}),{}}}),_hoisted_1$b={class:"d-flex"},_sfc_main$f=defineComponent$1({__name:"TitleButtonBar",emits:["change"],setup(e,{emit:t}){const{mTitleButtonBarData:r}=useTitleButtonBarData();return(i,a)=>(openBlock(),createBlock(VCard,{class:"d-flex justify-space-between align-center pl-2 mb-0 w-100 mx-title-bar",height:"40",elevation:"0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[createVNode(MxBtnList,{class:"bg-background w-auto",location:"bottom",onChange:a[0]||(a[0]=l=>t("change",l)),list:unref(r)},null,8,["list"])])]),_:1}))}}),TitleButtonBar=_export_sfc(_sfc_main$f,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/TitleButtonBar.vue"]]),_withScopeId$1=e=>(pushScopeId("data-v-e930099d"),e=e(),popScopeId(),e),_hoisted_1$a={class:"ellipsis-prefix"},_hoisted_2$8=_withScopeId$1(()=>createBaseVNode("span",{class:"ellipsis-middle"},"...",-1)),_hoisted_3$6={class:"ellipsis-suffix"},_sfc_main$e=defineComponent$1({__name:"ListItem",props:{item:{type:null,required:!0}},setup(e){const t={prefix:5,suffix:21,max:34};return(r,i)=>(openBlock(),createBlock(VListItem,{class:"mx-menu-list-item","max-width":"360"},{prepend:withCtx(()=>[createVNode(VIcon,{icon:e.item.icon,size:"x-small"},null,8,["icon"])]),append:withCtx(()=>[createVNode(VIcon,{icon:e.item.endIcon,size:"x-small"},null,8,["icon"])]),default:withCtx(()=>[e.item.tab&&e.item.tab.length>t.max?(openBlock(),createBlock(VListItemTitle,{key:0,class:"ellipsis-container"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$a,toDisplayString(e.item.tab.slice(0,t.prefix)),1),_hoisted_2$8,createBaseVNode("span",_hoisted_3$6,toDisplayString(e.item.tab.slice(e.item.tab.length-t.suffix,e.item.tab.length)),1)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:1},{default:withCtx(()=>[createTextVNode(toDisplayString(e.item.tab),1)]),_:1}))]),_:1}))}}),ListItem_vue_vue_type_style_index_0_scoped_e930099d_lang="",ListItem_vue_vue_type_style_index_1_lang="",ListItem=_export_sfc(_sfc_main$e,[["__scopeId","data-v-e930099d"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxMenu/ListItem.vue"]]),__default__={name:"MxMenu"},_sfc_main$d=defineComponent$1({...__default__,props:{list:{type:Array,required:!1,default:()=>[]},title:{type:String,required:!1},isChildren:{type:Boolean,required:!1,default:!1}},emits:["change","click"],setup(e,{emit:t}){const r=a=>{t("change",a)},i=()=>{t("click")};return(a,l)=>{const c=resolveComponent("MxMenu");return openBlock(),createBlock(VMenu,{class:"mx-menu","offset-y":""},{activator:withCtx(({props:d})=>[e.title?renderSlot(a.$slots,"activator",normalizeProps(mergeProps({key:0},d)),()=>[e.isChildren?(openBlock(),createBlock(ListItem,{key:1,item:d,onClick:E=>r(d)},null,8,["item","onClick"])):(openBlock(),createBlock(VChip,mergeProps({key:0,class:"px-4 mx-1",color:"accent",size:"x-small",variant:"elevated",label:""},d,{onClick:i}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:2},1040))],!0):createCommentVNode("v-if",!0)]),default:withCtx(()=>[createVNode(VList,{"min-width":"10",nav:"",class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.list,(d,E)=>(openBlock(),createElementBlock(Fragment,{key:E},[d.list?(openBlock(),createBlock(c,{key:E,list:d.list,title:d.tab,isChildren:!0,"open-on-hover":"",location:"right center","activator-props":d},null,8,["list","title","activator-props"])):(openBlock(),createBlock(ListItem,{key:1,item:d,onClick:C=>r(d)},null,8,["item","onClick"]))],64))),128))]),_:1})]),_:3})}}}),index_vue_vue_type_style_index_0_scoped_42bd5041_lang="",MxMenu=_export_sfc(_sfc_main$d,[["__scopeId","data-v-42bd5041"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/components/MxMenu/index.vue"]]);addCommand("Mx_open_file_options",async e=>{if(e.list){let r=(await MxElectronAPI.getFileOpenRecords()).filter(i=>!e.list.some(({tab:a})=>a===i));e.list.push(...r.map(i=>({tab:i,cmd:"Mx_openRecordsFile"})))}});addCommand("Mx_openRecordsFile",e=>{MxElectronAPI.openFile(e.tab)});const useMenusData=()=>({menuListData:(uiConfig.mMenuBarData||[])?.map(t=>t.isResponsive?(t=reactive(t),t):markRaw(t))}),VuetifyLayoutKey=Symbol.for("vuetify:layout"),VuetifyLayoutItemKey=Symbol.for("vuetify:layout-item"),ROOT_ZINDEX=1e3,makeLayoutProps=propsFactory$1({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),makeLayoutItemProps=propsFactory$1({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function useLayout(){const e=inject$1(VuetifyLayoutKey);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function useLayoutItem(e){const t=inject$1(VuetifyLayoutKey);if(!t)throw new Error("[Vuetify] Could not find injected layout");const r=e.id??`layout-item-${getUid()}`,i=getCurrentInstance("useLayoutItem");provide(VuetifyLayoutItemKey,{id:r});const a=ref(!1);onDeactivated(()=>a.value=!0),onActivated(()=>a.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:c}=t.register(i,{...e,active:computed(()=>a.value?!1:e.active.value),id:r});return onBeforeUnmount(()=>t.unregister(r)),{layoutItemStyles:l,layoutRect:t.layoutRect,layoutItemScrimStyles:c}}const generateLayers=(e,t,r,i)=>{let a={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...a}}];for(const c of e){const d=t.get(c),E=r.get(c),C=i.get(c);if(!d||!E||!C)continue;const D={...a,[d.value]:parseInt(a[d.value],10)+(C.value?parseInt(E.value,10):0)};l.push({id:c,layer:D}),a=D}return l};function createLayout(e){const t=inject$1(VuetifyLayoutKey,null),r=computed(()=>t?t.rootZIndex.value-100:ROOT_ZINDEX),i=ref([]),a=reactive(new Map),l=reactive(new Map),c=reactive(new Map),d=reactive(new Map),E=reactive(new Map),{resizeRef:C,contentRect:D}=useResizeObserver(),f=computed(()=>{const B=new Map,se=e.overlaps??[];for(const oe of se.filter(O=>O.includes(":"))){const[O,T]=oe.split(":");if(!i.value.includes(O)||!i.value.includes(T))continue;const ce=a.get(O),fe=a.get(T),Ee=l.get(O),Ae=l.get(T);!ce||!fe||!Ee||!Ae||(B.set(T,{position:ce.value,amount:parseInt(Ee.value,10)}),B.set(O,{position:fe.value,amount:-parseInt(Ae.value,10)}))}return B}),A=computed(()=>{const B=[...new Set([...c.values()].map(oe=>oe.value))].sort((oe,O)=>oe-O),se=[];for(const oe of B){const O=i.value.filter(T=>c.get(T)?.value===oe);se.push(...O)}return generateLayers(se,a,l,d)}),S=computed(()=>!Array.from(E.values()).some(B=>B.value)),L=computed(()=>A.value[A.value.length-1].layer),N=computed(()=>({"--v-layout-left":convertToUnit(L.value.left),"--v-layout-right":convertToUnit(L.value.right),"--v-layout-top":convertToUnit(L.value.top),"--v-layout-bottom":convertToUnit(L.value.bottom),...S.value?void 0:{transition:"none"}})),G=computed(()=>A.value.slice(1).map((B,se)=>{let{id:oe}=B;const{layer:O}=A.value[se],T=l.get(oe),ce=a.get(oe);return{id:oe,...O,size:Number(T.value),position:ce.value}})),ie=B=>G.value.find(se=>se.id===B),le=getCurrentInstance("createLayout"),ae=ref(!1);onMounted(()=>{ae.value=!0}),provide(VuetifyLayoutKey,{register:(B,se)=>{let{id:oe,order:O,position:T,layoutSize:ce,elementSize:fe,active:Ee,disableTransitions:Ae,absolute:_e}=se;c.set(oe,O),a.set(oe,T),l.set(oe,ce),d.set(oe,Ee),Ae&&E.set(oe,Ae);const De=findChildrenWithProvide(VuetifyLayoutItemKey,le?.vnode).indexOf(B);De>-1?i.value.splice(De,0,oe):i.value.push(oe);const Le=computed(()=>G.value.findIndex(xt=>xt.id===oe)),Ge=computed(()=>r.value+A.value.length*2-Le.value*2),rt=computed(()=>{const xt=T.value==="left"||T.value==="right",Me=T.value==="right",Ue=T.value==="bottom",Pe={[T.value]:0,zIndex:Ge.value,transform:`translate${xt?"X":"Y"}(${(Ee.value?0:-110)*(Me||Ue?-1:1)}%)`,position:_e.value||r.value!==ROOT_ZINDEX?"absolute":"fixed",...S.value?void 0:{transition:"none"}};if(!ae.value)return Pe;const Re=G.value[Le.value];if(!Re)throw new Error(`[Vuetify] Could not find layout item "${oe}"`);const st=f.value.get(oe);return st&&(Re[st.position]+=st.amount),{...Pe,height:xt?`calc(100% - ${Re.top}px - ${Re.bottom}px)`:fe.value?`${fe.value}px`:void 0,left:Me?void 0:`${Re.left}px`,right:Me?`${Re.right}px`:void 0,top:T.value!=="bottom"?`${Re.top}px`:void 0,bottom:T.value!=="top"?`${Re.bottom}px`:void 0,width:xt?fe.value?`${fe.value}px`:void 0:`calc(100% - ${Re.left}px - ${Re.right}px)`}}),We=computed(()=>({zIndex:Ge.value-1}));return{layoutItemStyles:rt,layoutItemScrimStyles:We,zIndex:Ge}},unregister:B=>{c.delete(B),a.delete(B),l.delete(B),d.delete(B),E.delete(B),i.value=i.value.filter(se=>se!==B)},mainRect:L,mainStyles:N,getLayoutItem:ie,items:G,layoutRect:D,rootZIndex:r});const he=computed(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),pe=computed(()=>({zIndex:r.value,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:he,layoutStyles:pe,getLayoutItem:ie,items:G,layoutRect:D,layoutRef:C}}function createVuetify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...r}=e,i=mergeDeep(t,r),{aliases:a={},components:l={},directives:c={}}=i,d=createDefaults(i.defaults),E=createDisplay(i.display,i.ssr),C=createTheme(i.theme),D=createIcons(i.icons),f=createLocale(i.locale);return{install:S=>{for(const L in c)S.directive(L,c[L]);for(const L in l)S.component(L,l[L]);for(const L in a)S.component(L,defineComponent({...a[L],name:L,aliasName:a[L].name}));if(C.install(S),S.provide(DefaultsSymbol,d),S.provide(DisplaySymbol,E),S.provide(ThemeSymbol,C),S.provide(IconSymbol,D),S.provide(LocaleSymbol,f),IN_BROWSER&&i.ssr)if(S.$nuxt)S.$nuxt.hook("app:suspense:resolve",()=>{E.update()});else{const{mount:L}=S;S.mount=function(){const N=L(...arguments);return nextTick(()=>E.update()),S.mount=L,N}}getUid.reset(),S.mixin({computed:{$vuetify(){return reactive({defaults:inject.call(this,DefaultsSymbol),display:inject.call(this,DisplaySymbol),theme:inject.call(this,ThemeSymbol),icons:inject.call(this,IconSymbol),locale:inject.call(this,LocaleSymbol)})}}})},defaults:d,display:E,theme:C,icons:D,locale:f}}const version$1="3.1.12";createVuetify.version=version$1;function inject(e){const t=this.$,r=t.parent?.provides??t.vnode.appContext?.provides;if(r&&e in r)return r[e]}var _a;const isClient=typeof window<"u",isBoolean$1=e=>typeof e=="boolean",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",noop$1=()=>{};isClient&&((_a=window?.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(e){return typeof e=="function"?e():unref(e)}function createFilterWrapper(e,t){function r(...i){return new Promise((a,l)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(a).catch(l)})}return r}const bypassFilter=e=>e();function pausableFilter(e=bypassFilter){const t=ref(!0);function r(){t.value=!1}function i(){t.value=!0}const a=(...l)=>{t.value&&e(...l)};return{isActive:readonly(t),pause:r,resume:i,eventFilter:a}}function identity(e){return e}function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(e,t)=>{var r={};for(var i in e)__hasOwnProp$6.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&__getOwnPropSymbols$6)for(var i of __getOwnPropSymbols$6(e))t.indexOf(i)<0&&__propIsEnum$6.call(e,i)&&(r[i]=e[i]);return r};function watchWithFilter(e,t,r={}){const i=r,{eventFilter:a=bypassFilter}=i,l=__objRest$5(i,["eventFilter"]);return watch(e,createFilterWrapper(a,t),l)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(e,t,r)=>t in e?__defProp$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$2=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$2.call(t,r)&&__defNormalProp$2(e,r,t[r]);if(__getOwnPropSymbols$2)for(var r of __getOwnPropSymbols$2(t))__propIsEnum$2.call(t,r)&&__defNormalProp$2(e,r,t[r]);return e},__spreadProps$2=(e,t)=>__defProps$2(e,__getOwnPropDescs$2(t)),__objRest$1=(e,t)=>{var r={};for(var i in e)__hasOwnProp$2.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&__getOwnPropSymbols$2)for(var i of __getOwnPropSymbols$2(e))t.indexOf(i)<0&&__propIsEnum$2.call(e,i)&&(r[i]=e[i]);return r};function watchPausable(e,t,r={}){const i=r,{eventFilter:a}=i,l=__objRest$1(i,["eventFilter"]),{eventFilter:c,pause:d,resume:E,isActive:C}=pausableFilter(a);return{stop:watchWithFilter(e,t,__spreadProps$2(__spreadValues$2({},l),{eventFilter:c})),pause:d,resume:E,isActive:C}}function unrefElement(e){var t;const r=resolveUnref(e);return(t=r?.$el)!=null?t:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;isClient&&window.navigator;isClient&&window.location;function useEventListener(...e){let t,r,i,a;if(isString$1(e[0])||Array.isArray(e[0])?([r,i,a]=e,t=defaultWindow):[t,r,i,a]=e,!t)return noop$1;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const l=[],c=()=>{l.forEach(D=>D()),l.length=0},d=(D,f,A)=>(D.addEventListener(f,A,a),()=>D.removeEventListener(f,A,a)),E=watch(()=>unrefElement(t),D=>{c(),D&&l.push(...r.flatMap(f=>i.map(A=>d(D,f,A))))},{immediate:!0,flush:"post"}),C=()=>{E(),c()};return tryOnScopeDispose(C),C}const _global$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$1[globalKey]=_global$1[globalKey]||{};const handlers=_global$1[globalKey];function getSSRHandler(e,t){return handlers[e]||t}function guessSerializerType(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var __defProp$j=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(e,t,r)=>t in e?__defProp$j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues$j=(e,t)=>{for(var r in t||(t={}))__hasOwnProp$l.call(t,r)&&__defNormalProp$j(e,r,t[r]);if(__getOwnPropSymbols$l)for(var r of __getOwnPropSymbols$l(t))__propIsEnum$l.call(t,r)&&__defNormalProp$j(e,r,t[r]);return e};const StorageSerializers={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function useStorage(e,t,r,i={}){var a;const{flush:l="pre",deep:c=!0,listenToStorageChanges:d=!0,writeDefaults:E=!0,mergeDefaults:C=!1,shallow:D,window:f=defaultWindow,eventFilter:A,onError:S=se=>{console.error(se)}}=i,L=(D?shallowRef:ref)(t);if(!r)try{r=getSSRHandler("getDefaultStorage",()=>{var se;return(se=defaultWindow)==null?void 0:se.localStorage})()}catch(se){S(se)}if(!r)return L;const N=resolveUnref(t),G=guessSerializerType(N),ie=(a=i.serializer)!=null?a:StorageSerializers[G],{pause:le,resume:ae}=watchPausable(L,()=>he(L.value),{flush:l,deep:c,eventFilter:A});return f&&d&&useEventListener(f,"storage",B),B(),L;function he(se){try{if(se==null)r.removeItem(e);else{const oe=ie.write(se),O=r.getItem(e);O!==oe&&(r.setItem(e,oe),f&&f?.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:O,newValue:oe,storageArea:r})))}}catch(oe){S(oe)}}function pe(se){const oe=se?se.newValue:r.getItem(e);if(oe==null)return E&&N!==null&&r.setItem(e,ie.write(N)),N;if(!se&&C){const O=ie.read(oe);return isFunction$1(C)?C(O,N):G==="object"&&!Array.isArray(O)?__spreadValues$j(__spreadValues$j({},N),O):O}else return typeof oe!="string"?oe:ie.read(oe)}function B(se){if(!(se&&se.storageArea!==r)){if(se&&se.key==null){L.value=N;return}if(!(se&&se.key!==e)){le();try{L.value=pe(se)}catch(oe){S(oe)}finally{se?nextTick(ae):ae()}}}}}const defaultEvents=["mousedown","mouseup","keydown","keyup"];function useKeyModifier(e,t={}){const{events:r=defaultEvents,document:i=defaultDocument,initial:a=null}=t,l=ref(a);return i&&r.forEach(c=>{useEventListener(i,c,d=>{typeof d.getModifierState=="function"&&(l.value=d.getModifierState(e))})}),l}function useLocalStorage(e,t,r={}){const{window:i=defaultWindow}=r;return useStorage(e,t,i?.localStorage,r)}var SwipeDirection;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);let theme,isDark;const toggleTheme=()=>{const e=theme.global.current.value.dark?"light":"dark";theme.global.name.value=e,isDark.value=theme.global.name.value==="dark"},setIsDark=e=>theme.global.name.value=e?"dark":"light",useTheme=()=>(theme=useTheme$1(),isDark=useLocalStorage("mx-user-dark",Boolean(localStorage.getItem("mx-user-dark"))||!0),setIsDark(isDark.value),{toggleTheme,setIsDark,isDark}),logoSrc=""+new URL("logo.7457c414.png",import.meta.url).href,getLogoImgSrc=()=>logoSrc,useRightClickMenuOptions=(e={})=>{const{menuItemCss:t={},params:r={},menuWrapperCss:i={},...a}=e;return{params:{...r},menuWidth:120,menuWrapperCss:{background:"#fff",boxShadow:"0 0 2px #ccc",...i},menuItemCss:{labelColor:"#000",tipsColor:"#ccc",arrowColor:"#aaa",disabledColor:"#aaa",hoverBackground:"#2C7BB6",hoverLabelColor:"#fff",hoverTipsColor:"#fff",labelFontSize:"12px",...t},menuList:[],...a}},tabs=ref(await MxElectronAPI.viewTab.data());MxElectronAPI.viewTab.onUpdate(e=>{tabs.value=e});const useTabs=()=>({tabs,add:i=>MxElectronAPI.viewTab.add(i),close:i=>MxElectronAPI.viewTab.close(i),active:i=>MxElectronAPI.viewTab.active(i)}),useTabRightClickMenu=()=>{const{tabs:e,close:t}=useTabs();return{rightMenuOptions:useRightClickMenuOptions({menuList:[{label:"\u5173\u95ED\u5168\u90E8",fn:function(i,a,l,c){for(let d=0;d<e.value.length;d++)t()}}]})}},_hoisted_1$9={key:0,class:"d-flex bg-background"},_hoisted_2$7={class:"tabs"},_hoisted_3$5=["onClick"],_hoisted_4$4={class:"tab-title"},_sfc_main$c=defineComponent$1({__name:"Tabs",setup(e){const{tabs:t,add:r,close:i,active:a}=useTabs(),{rightMenuOptions:l}=useTabRightClickMenu();return(c,d)=>{const E=resolveDirective("scroll-bottom"),C=resolveDirective("right-click-menu");return unref(isElectron)()?(openBlock(),createElementBlock("div",_hoisted_1$9,[withDirectives((openBlock(),createElementBlock("ul",_hoisted_2$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(D,f)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["tab",D.active?"tab-active":""]),key:f,onClick:A=>unref(a)(f)},[createBaseVNode("span",_hoisted_4$4,toDisplayString(D.title),1),f!==0?(openBlock(),createBlock(VBtn,{key:0,icon:"",size:"16px",onClick:withModifiers(A=>unref(i)(f),["stop"]),class:"tab-close-btn"},{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi:mdi-close",size:"x-small"})]),_:2},1032,["onClick"])):createCommentVNode("v-if",!0)],10,_hoisted_3$5))),128))])),[[E],[C,unref(l)]]),createVNode(VTooltip,{text:"\u6DFB\u52A0\u6807\u7B7E",theme:"light",location:"top"},{activator:withCtx(({props:D})=>[createVNode(VBtn,mergeProps(D,{size:"20px",class:"tab-add",theme:"drak",onClick:d[0]||(d[0]=withModifiers(f=>unref(r)(),["stop"]))}),{default:withCtx(()=>[createVNode(VIcon,{icon:"mdi:mdi-plus"})]),_:2},1040)]),_:1})])):createCommentVNode("v-if",!0)}}}),Tabs_vue_vue_type_style_index_0_scoped_41bebcfe_lang="",Tabs=_export_sfc(_sfc_main$c,[["__scopeId","data-v-41bebcfe"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/ElectronView/Tabs.vue"]]),VAppBar$1="",VToolbar$1="",makeVToolbarTitleProps=propsFactory$1({text:String,...makeTagProps()},"v-toolbar-title"),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:r}=t;return useRender(()=>{const i=!!(r.default||r.text||e.text);return createVNode(e.tag,{class:"v-toolbar-title"},{default:()=>[i&&createVNode("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():e.text,r.default?.()])]})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory$1({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>allowedDensities.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"v-toolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(e,t){let{slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=useBackgroundColor(toRef(e,"color")),{borderClasses:l}=useBorder(e),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e),{themeClasses:E}=provideTheme(e),C=ref(!!(e.extended||r.extension?.())),D=computed(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=computed(()=>C.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{const A=!!(e.title||r.title),S=!!(r.image||e.image),L=r.extension?.();return C.value=!!(e.extended||L),createVNode(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,l.value,c.value,d.value,E.value],style:[a.value]},{default:()=>[S&&createVNode("div",{key:"image",class:"v-toolbar__image"},[r.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(D.value)}}},{default:()=>[createVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(D.value)}},[r.prepend&&createVNode("div",{class:"v-toolbar__prepend"},[r.prepend?.()]),A&&createVNode(VToolbarTitle,{key:"title",text:e.title},{text:r.title}),r.default?.(),r.append&&createVNode("div",{class:"v-toolbar__append"},[r.append?.()])])]}),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(f.value)}}},{default:()=>[createVNode(VExpandTransition,null,{default:()=>[C.value&&createVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(f.value)}},[L])]})]})]})}),{contentHeight:D,extensionHeight:f}}});function useSsrBoot(){const e=ref(!1);return onMounted(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:computed(()=>e.value?void 0:{transition:"none !important"}),isBooted:readonly(e)}}const VAppBar=genericComponent()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...makeVToolbarProps(),...makeLayoutItemProps(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=ref(),a=useProxiedModel(e,"modelValue"),l=computed(()=>{const E=i.value?.contentHeight??0,C=i.value?.extensionHeight??0;return E+C}),{ssrBootStyles:c}=useSsrBoot(),{layoutItemStyles:d}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(e,"location"),layoutSize:l,elementSize:l,active:a,absolute:toRef(e,"absolute")});return useRender(()=>{const[E]=VToolbar.filterProps(e);return createVNode(VToolbar,mergeProps({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"}],style:{...d.value,height:void 0,...c.value}},E),r)}),{}}}),_hoisted_1$8={class:"d-flex w-100 flex-column py-1 ma-0 px-0"},_hoisted_2$6={class:"d-flex align-center pa-1 bg-background mx-herder-top-box"},_hoisted_3$4={class:"mx-title mt-1"},_hoisted_4$3={class:"w-100"},_hoisted_5$2={class:"mb-6 d-flex"},_sfc_main$b=defineComponent$1({__name:"index",setup(e){const{menuListData:t}=useMenusData(),{toggleTheme:r,isDark:i}=useTheme(),a=(f,A)=>{f&&f.cmd&&callCommand(f.cmd,f,A)},l=ref(uiConfig.headerTitle||"\u68A6\u60F3CAD\u684C\u9762\u7AEF "+getLargeVersion()),c=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainCose()},d=ref(!1),E=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainMax(),d.value=!d.value},C=()=>{window.MxElectronAPI&&window.MxElectronAPI.winMainMin()},D=f=>{f.cmd&&callCommand(f.cmd,f)};return(f,A)=>(openBlock(),createBlock(VAppBar,{height:unref(isElectron)()?140:120,flat:"","clipped-left":"","clipped-right":"",class:"px-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("h1",_hoisted_3$4,toDisplayString(l.value),1),createVNode(VImg,{width:"60",height:"60",src:unref(getLogoImgSrc)()},null,8,["src"]),createCommentVNode(" \u6309\u94AE\u680F "),createBaseVNode("div",_hoisted_4$3,[createVNode(TitleButtonBar,{class:"bg-background",onChange:a}),createVNode(VCard,{style:{background:"transparent"},height:"30",class:"pl-2 mb-0 w-100",elevation:"0"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(S,L)=>(openBlock(),createBlock(MxMenu,{key:L,onClick:N=>D(S),list:S.list,title:S.tab,onChange:N=>a(N,S.list)},null,8,["onClick","list","title","onChange"]))),128))]),_:1})]),createBaseVNode("div",_hoisted_5$2,[createVNode(VBtn,{path:"theme",class:"text-medium-emphasis",icon:unref(i)?"mdi:mdi-weather-night":"mdi:mdi-weather-sunny",onClick:unref(r)},null,8,["icon","onClick"]),unref(isElectron)()?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(VBtn,{icon:"mdi:mdi-window-minimize",onClick:C}),createVNode(VBtn,{icon:d.value?"mdi:mdi-window-restore":"mdi:mdi-window-maximize",onClick:E},null,8,["icon"]),createVNode(VBtn,{icon:"mdi:mdi-window-close",class:"window-close",onClick:c})],64)):createCommentVNode("v-if",!0)])]),(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(Tabs)]),_:1})),createVNode(TopBtnList)])]),_:1},8,["height"]))}}),index_vue_vue_type_style_index_0_lang$2="",index_vue_vue_type_style_index_1_scoped_c1e42c5b_lang="",Header=_export_sfc(_sfc_main$b,[["__scopeId","data-v-c1e42c5b"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Header/index.vue"]]),commandText=ref(""),consoleText=ref(""),cmdTip=ref("\u547D\u4EE4:"),coordinates=ref("0, 0, 0"),useCommandLine=e=>{const{setInputEl:t,setCommandFocus:r}=useFocus$1(),i=a=>{MxFun.setCommandLineInputData(commandText.value,a.keyCode)};return onMounted(()=>{const a=e.value.$el.getElementsByTagName("input")[0];t(a),MxFun.listenForCommandLineInput(({msCmdTip:l,msCmdDisplay:c,msCmdText:d})=>{commandText.value=d,consoleText.value=c,cmdTip.value=l}),MxFun.listenForCoordTip(l=>{coordinates.value=l})}),{handleKeydownCmd:i,commandText,consoleText,cmdTip,coordinates,setCommandFocus:r}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$1(e,t,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(D){try{C(i.next(D))}catch(f){c(f)}}function E(D){try{C(i.throw(D))}catch(f){c(f)}}function C(D){D.done?l(D.value):a(D.value).then(d,E)}C((i=i.apply(e,t||[])).next())})}function createClassDom(e,t,r){let i=document.createElement(e);return i.setAttribute("class",t),r&&(i.innerText=r),i}const clone=function(e){let t=Array.isArray(e)?[]:{};if(e&&typeof e=="object")for(let r in e)e.hasOwnProperty(r)&&(e[r]&&typeof e[r]=="object"?t[r]=clone(e[r]):t[r]=e[r]);return t};var script=defineComponent$1({name:"MouseMenu",props:{appendToBody:{type:Boolean,default:!0},menuWidth:{type:Number,default:200},menuList:{type:Array,required:!0},menuHiddenFn:{type:Function},hasIcon:{type:Boolean,default:!1},iconType:{type:String,default:"font-icon"},menuWrapperCss:Object,menuItemCss:Object,el:{type:Object,required:!0},params:{type:[String,Number,Array,Object]},useLongPressInMobile:Boolean,longPressDuration:Number,injectCloseListener:{type:Boolean,default:!0},customClass:String,disabled:{type:Function}},setup(e){const t=ref(0),r=ref(0),i=ref(!1),a=ref(0),l=ref(0),c=ref(!1),d=ref(null),E=ref([]),C=computed(()=>e.menuList.some(ae=>ae.children&&ae.children.length>0)),D=ref(10),f=ref();watch(c,ae=>__awaiter$1(this,void 0,void 0,function*(){var he,pe;if(ae){yield nextTick();let B=f.value;e.menuWrapperCss&&Object.keys(e.menuWrapperCss).map(oe=>{B.style.setProperty(`--menu-${oe}`,e.menuWrapperCss&&e.menuWrapperCss[oe])}),e.menuItemCss&&Object.keys(e.menuItemCss).map(oe=>{B.style.setProperty(`--menu-item-${oe}`,e.menuItemCss&&e.menuItemCss[oe])});let se=(pe=(he=e.menuItemCss)===null||he===void 0?void 0:he.arrowSize)===null||pe===void 0?void 0:pe.match(/\d+/);se?D.value=~~se[0]||10:D.value=10,B.style.setProperty("--menu-item-arrowRealSize",D.value/2+"px")}}));const A=(ae,he)=>{ae.disabled||(ae.fn&&typeof ae.fn=="function"&&ae.fn(e.params,d.value,e.el,he),c.value=!1)},S=(ae,he)=>{ae.disabled||(ae.fn&&typeof ae.fn=="function"&&!ae.disabled&&(ae.fn(e.params,d.value,e.el,he),i.value=!1),c.value=!1)},L=(ae,he)=>{if(he.children&&!he.disabled){i.value=!0;const pe=ae.currentTarget;if(!pe)return;const{offsetWidth:B}=pe,se=pe.querySelector(".__menu__sub__wrapper");if(!se)return;const{offsetWidth:oe,offsetHeight:O}=se,{innerWidth:T,innerHeight:ce}=window,{top:fe,left:Ee}=pe.getBoundingClientRect();Ee+B+oe>T-5?t.value=Ee-oe+5:t.value=Ee+B,fe+O>ce-5?r.value=ce-O:r.value=fe+5}},N=(ae,he,pe,B)=>ae.map(se=>(se.children&&(se.children=N(se.children,he,pe,B)),se.label&&typeof se.label=="function"&&(se.label=se.label(B,he,pe)),se.tips&&typeof se.tips=="function"&&(se.tips=se.tips(B,he,pe)),se.icon&&typeof se.icon=="function"&&(se.icon=se.icon(B,he,pe)),se.hidden&&typeof se.hidden=="function"&&(se.hidden=se.hidden(B,he,pe)),se.disabled&&typeof se.disabled=="function"&&(se.disabled=se.disabled(B,he,pe)),se)),G=(ae=0,he=0)=>__awaiter$1(this,void 0,void 0,function*(){if(d.value=document.elementFromPoint(ae-1,he-1),e.menuHiddenFn?c.value=!e.menuHiddenFn(e.params,d.value,e.el):c.value=!0,!c.value)return;E.value=clone(e.menuList),E.value=N(E.value,d.value,e.el,e.params),yield nextTick();const{innerWidth:pe,innerHeight:B}=window,oe=f.value.offsetHeight,O=e.menuWidth||200;l.value=ae+O+1>pe?pe-O-5:ae+1,a.value=he+oe+1>B?B-oe-5:he+1}),ie=()=>{c.value=!1},le=ae=>{f.value&&!f.value.contains(ae.currentTarget)&&(c.value=!1,document.oncontextmenu=null)};return watch(()=>e.injectCloseListener,ae=>{ae?document.addEventListener("mousedown",le):document.removeEventListener("mousedown",le)},{immediate:!0}),onUnmounted(()=>{document.removeEventListener("mousedown",le)}),{subLeft:t,subTop:r,hoverFlag:i,menuTop:a,menuLeft:l,showMenu:c,clickDomEl:d,calcMenuList:E,arrowSize:D,hasSubMenu:C,MenuWrapper:f,handleMenuItemClick:A,handleSubMenuItemClick:S,handleMenuMouseEnter:L,show:G,close:ie}}});pushScopeId("data-v-3d21bc0a");const _hoisted_1$7=["onMousedown","onMouseenter"],_hoisted_2$5={key:0,class:"__menu__item-icon"},_hoisted_3$3=["innerHTML"],_hoisted_4$2={class:"__menu__item-label"},_hoisted_5$1={class:"__menu__item-tips"},_hoisted_6$1={class:"__menu__item-arrow-after"},_hoisted_7$1=["onMousedown"],_hoisted_8$1={class:"__menu__sub__item-label"},_hoisted_9$1={class:"__menu__sub__item-tips"};popScopeId();function render(e,t,r,i,a,l){return openBlock(),createBlock(Teleport,{to:"body",disabled:!e.appendToBody},[e.showMenu?(openBlock(),createElementBlock("div",{key:0,ref:"MenuWrapper",class:normalizeClass(["__menu__wrapper",e.customClass]),style:normalizeStyle({width:`${e.menuWidth}px`,top:`${e.menuTop}px`,left:`${e.menuLeft}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.calcMenuList,(c,d)=>(openBlock(),createElementBlock(Fragment,null,[!c.hidden&&!c.line?(openBlock(),createElementBlock("div",{key:d,class:normalizeClass(["__menu__item",c.disabled&&"disabled",c.customClass]),onMousedown:withModifiers(E=>e.handleMenuItemClick(c,E),["stop"]),onMouseenter:E=>e.handleMenuMouseEnter(E,c)},[e.hasIcon?(openBlock(),createElementBlock("div",_hoisted_2$5,[e.iconType==="font-icon"?withDirectives((openBlock(),createElementBlock("i",{key:0,class:normalizeClass(c.icon)},null,2)),[[vShow,c.icon]]):e.iconType==="svg-icon"?withDirectives((openBlock(),createElementBlock("div",{key:1,class:"__menu__item-icon-svg",innerHTML:c.icon},null,8,_hoisted_3$3)),[[vShow,c.icon]]):e.iconType==="vnode-icon"?(openBlock(),createBlock(resolveDynamicComponent(c.icon),{key:2})):createCommentVNode("v-if",!0)])):createCommentVNode("v-if",!0),createBaseVNode("span",_hoisted_4$2,toDisplayString(c.label),1),createBaseVNode("span",_hoisted_5$1,toDisplayString(c.tips||""),1),e.hasSubMenu?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["__menu__item-arrow",{show:e.hasSubMenu&&c.children}]),style:normalizeStyle({width:e.arrowSize+"px",height:e.arrowSize+"px"})},[withDirectives(createBaseVNode("span",_hoisted_6$1,null,512),[[vShow,e.hasSubMenu&&c.children]])],6)):createCommentVNode("v-if",!0),c.children&&c.children.length>0?withDirectives((openBlock(),createElementBlock("div",{key:2,class:"__menu__sub__wrapper",style:normalizeStyle({top:`${e.subTop}px`,left:`${e.subLeft}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.children,(E,C)=>(openBlock(),createElementBlock(Fragment,null,[!E.hidden&&!E.line?(openBlock(),createElementBlock("div",{key:C,class:normalizeClass(["__menu__sub__item",E.disabled&&"disabled",E.customClass]),onMousedown:withModifiers(D=>e.handleSubMenuItemClick(E,D),["stop"])},[createBaseVNode("span",_hoisted_8$1,toDisplayString(E.label),1),createBaseVNode("span",_hoisted_9$1,toDisplayString(E.tips||""),1)],42,_hoisted_7$1)):createCommentVNode("v-if",!0),E.line?(openBlock(),createElementBlock("div",{key:C,class:"__menu__line"})):createCommentVNode("v-if",!0)],64))),256))],4)),[[vShow,e.hoverFlag]]):createCommentVNode("v-if",!0)],42,_hoisted_1$7)):createCommentVNode("v-if",!0),!c.hidden&&c.line?(openBlock(),createElementBlock("div",{key:d,class:"__menu__line"})):createCommentVNode("v-if",!0)],64))),256))],6)):createCommentVNode("v-if",!0)],8,["disabled"])}function styleInject(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css_248z=`.__menu__mask[data-v-3d21bc0a] {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  z-index: 999;
}
.__menu__wrapper[data-v-3d21bc0a] {
  --menu-background: #c8f2f0;
  --menu-boxShadow: 0 1px 5px #888;
  --menu-padding: 5px 0;
  --menu-borderRadius: 0;
  --menu-item-height: 30px;
  --menu-item-padding: 0 10px;
  --menu-item-iconSize: 20px;
  --menu-item-iconFontSize: 14px;
  --menu-item-iconColor: #484852;
  --menu-item-labelColor: #484852;
  --menu-item-labelFontSize: 14px;
  --menu-item-tipsColor: #889;
  --menu-item-tipsFontSize: 12px;
  --menu-item-arrowColor: #484852;
  --menu-item-disabledColor: #bcc;
  --menu-item-hoverBackground: rgba(255, 255, 255, 0.8);
  --menu-item-hoverIconColor: inherit;
  --menu-item-hoverLabelColor: inherit;
  --menu-item-hoverTipsColor: inherit;
  --menu-item-hoverArrowColor: inherit;
  --menu-lineColor: #ccc;
  --menu-lineMargin: 5px 0;
}
.__menu__wrapper[data-v-3d21bc0a] {
  position: fixed;
  width: 200px;
  background: var(--menu-background);
  box-shadow: var(--menu-boxShadow);
  padding: var(--menu-padding);
  border-radius: var(--menu-borderRadius);
  z-index: 99999;
}
.__menu__line[data-v-3d21bc0a],
.__menu__sub__line[data-v-3d21bc0a] {
  border-top: 1px solid var(--menu-lineColor);
  margin: var(--menu-lineMargin);
}
.__menu__item[data-v-3d21bc0a],
.__menu__sub__item[data-v-3d21bc0a] {
  display: flex;
  height: var(--menu-item-height);
  align-items: center;
  cursor: pointer;
  padding: var(--menu-item-padding);
}
.__menu__item .__menu__item-icon[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon[data-v-3d21bc0a] {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--menu-item-iconColor);
  width: var(--menu-item-iconSize);
  height: var(--menu-item-iconSize);
}
.__menu__item .__menu__item-icon i[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon i[data-v-3d21bc0a] {
  font-size: var(--menu-item-iconFontSize);
}
.__menu__item .__menu__item-icon .__menu__item-icon-svg[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-icon .__menu__item-icon-svg[data-v-3d21bc0a] {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}
.__menu__item .__menu__item-label[data-v-3d21bc0a],
.__menu__item .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-label[data-v-3d21bc0a],
.__menu__sub__item .__menu__sub__item-label[data-v-3d21bc0a] {
  width: 100%;
  max-height: 100%;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  font-size: var(--menu-item-labelFontSize);
  color: var(--menu-item-labelColor);
  margin-right: 5px;
  overflow: hidden;
}
.__menu__item .__menu__item-tips[data-v-3d21bc0a],
.__menu__item .__menu__sub__item-tips[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-tips[data-v-3d21bc0a],
.__menu__sub__item .__menu__sub__item-tips[data-v-3d21bc0a] {
  font-size: var(--menu-item-tipsFontSize);
  color: var(--menu-item-tipsColor);
}
.__menu__item .__menu__item-arrow[data-v-3d21bc0a],
.__menu__sub__item .__menu__item-arrow[data-v-3d21bc0a] {
  width: 10px;
  height: 10px;
  margin-left: 5px;
  position: relative;
}
.__menu__item.disabled[data-v-3d21bc0a],
.__menu__sub__item.disabled[data-v-3d21bc0a] {
  cursor: not-allowed;
}
.__menu__item.disabled .__menu__item-icon[data-v-3d21bc0a],
.__menu__item.disabled .__menu__item-label[data-v-3d21bc0a],
.__menu__item.disabled .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__item.disabled .__menu__item-tips[data-v-3d21bc0a],
.__menu__item.disabled .__menu__sub__item-tips[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-icon[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-label[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__sub__item-label[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-tips[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__sub__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-disabledColor);
}
.__menu__item.disabled .__menu__item-arrow .__menu__item-arrow-after[data-v-3d21bc0a],
.__menu__sub__item.disabled .__menu__item-arrow .__menu__item-arrow-after[data-v-3d21bc0a] {
  border-left: var(--menu-item-arrowRealSize) solid var(--menu-item-disabledColor);
}
.__menu__item[data-v-3d21bc0a]:not(.disabled):hover {
  background: var(--menu-item-hoverBackground);
}
.__menu__item:not(.disabled):hover .__menu__item-icon[data-v-3d21bc0a] {
  color: var(--menu-item-hoverIconColor);
}
.__menu__item:not(.disabled):hover .__menu__item-label[data-v-3d21bc0a] {
  color: var(--menu-item-hoverLabelColor);
}
.__menu__item:not(.disabled):hover .__menu__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-hoverTipsColor);
}
.__menu__item:not(.disabled):hover .__menu__item-arrow[data-v-3d21bc0a] {
  color: var(--menu-item-hoverArrowColor);
}
.__menu__sub__item[data-v-3d21bc0a]:not(.disabled):hover {
  background: var(--menu-item-hoverBackground);
}
.__menu__sub__item:not(.disabled):hover .__menu__sub__item-label[data-v-3d21bc0a] {
  color: var(--menu-item-hoverLabelColor);
}
.__menu__sub__item:not(.disabled):hover .__menu__sub__item-tips[data-v-3d21bc0a] {
  color: var(--menu-item-hoverTipsColor);
}
.__menu__item-icon[data-v-3d21bc0a] {
  width: 20px;
  height: 20px;
  text-align: center;
  line-height: 20px;
  margin-right: 4px;
}
.__menu__item-arrow.show .__menu__item-arrow-after[data-v-3d21bc0a] {
  position: absolute;
  width: 0;
  height: 0;
  left: 8px;
  border-left: var(--menu-item-arrowRealSize) solid var(--menu-item-arrowColor);
  border-top: var(--menu-item-arrowRealSize) solid transparent;
  border-bottom: var(--menu-item-arrowRealSize) solid transparent;
}
.__menu__sub__wrapper[data-v-3d21bc0a] {
  position: fixed;
  visibility: hidden;
  width: 200px;
  background: var(--menu-background);
  box-shadow: var(--menu-boxShadow);
  padding: var(--menu-padding);
  border-radius: var(--menu-borderRadius);
}
.__menu__item:hover .__menu__sub__wrapper[data-v-3d21bc0a] {
  visibility: visible;
}`;styleInject(css_248z);script.render=render;script.__scopeId="data-v-3d21bc0a";script.__file="packages/mouse-menu/mouse-menu.vue";script.install=e=>{e.component(script.name,script)};function CustomMouseMenu(e){var t;const r="__mouse__menu__container";let i;document.querySelector(`.${r}`)?i=document.querySelector(`.${r}`):i=createClassDom("div",r);const a=h(script,e);return render$1(a,i),document.body.appendChild(i),(t=a.component)===null||t===void 0?void 0:t.proxy}let MouseMenuCtx,longPressTimer,longPressTouchStart,longPressTouchEnd;function addLongPressListener(e,t,r=500){longPressTouchStart=i=>{MouseMenuCtx&&MouseMenuCtx.close(),i.preventDefault(),longPressTimer&&clearTimeout(longPressTimer),longPressTimer=window.setTimeout(()=>{t(i)},r)},longPressTouchEnd=()=>{clearTimeout(longPressTimer)},e.addEventListener("touchstart",longPressTouchStart),e.addEventListener("touchmove",longPressTouchEnd),e.addEventListener("touchend",longPressTouchEnd),e.addEventListener("touchcancel",longPressTouchEnd)}function removeLongPressListener(e){e.removeEventListener("touchstart",longPressTouchStart),e.removeEventListener("touchmove",longPressTouchEnd),e.removeEventListener("touchend",longPressTouchEnd),e.removeEventListener("touchcancel",longPressTouchEnd)}let contextMenuEvent,longPressEvent;const mounted$3=(e,t)=>{const{value:r}=t;if(r.menuList.length>0)contextMenuEvent=i=>{if(typeof r.disabled=="function"&&r.disabled(r.params))return;i.preventDefault(),MouseMenuCtx=CustomMouseMenu(Object.assign({el:e},r));const{x:a,y:l}=i;MouseMenuCtx.show(a,l)},e.removeEventListener("contextmenu",contextMenuEvent),e.addEventListener("contextmenu",contextMenuEvent),r.useLongPressInMobile&&"ontouchstart"in window&&(longPressEvent=i=>{if(typeof r.disabled=="function"&&r.disabled(r.params))return;i.preventDefault(),MouseMenuCtx=CustomMouseMenu(Object.assign({el:e},r));const{touches:a}=i,{clientX:l,clientY:c}=a[0];MouseMenuCtx.show(l,c),document.onmousedown=null,e.onmousedown=null,setTimeout(()=>{document.onmousedown=()=>MouseMenuCtx.close(),e.onmousedown=()=>MouseMenuCtx.close()},500)},removeLongPressListener(e),addLongPressListener(e,longPressEvent,r.longPressDuration||500));else throw new Error("At least set one menu list!")},unmounted$2=e=>{e.removeEventListener("contextmenu",contextMenuEvent),"touchstart"in window&&removeLongPressListener(e)},MouseMenuDirective={mounted:mounted$3,unmounted:unmounted$2};function getComputedStyleList(e,t,r=!1){const i={},a=window.getComputedStyle(e);return t.map(l=>{let c=a[l];if(r){const d=c.match(/\d+/);d&&(c=~~d[0])}i[l]=c}),i}class ToDrag{constructor({el:t,options:r}){this.left=0,this.top=0,this.right=0,this.bottom=0,this.width=0,this.height=0,this.maxX=0,this.maxY=0,this.startX=0,this.startY=0,this.getScrollbarWidth=()=>{const i=document.createElement("div");i.style.cssText="width:100px;height:100px;overflow-y:scroll",document.body.appendChild(i);const a=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),a},this.setBetween=(i,a,l)=>i<a?a:i>l?l:i,this.borderInfo=[0,0,0,0],this.el=t instanceof HTMLElement?t:document.querySelector(t),this.scrollbarWidth=this.getScrollbarWidth(),this.isTouch="ontouchstart"in document.documentElement,this.isDrag=!1,this.options=Object.assign({moveCursor:!0,adsorb:0,adsorbOffset:0,transitionDuration:400,transitionTimingFunction:"ease-in-out",forbidBodyScroll:!0,isAbsolute:!1,positionMode:1,needComputeBorder:!0},r),this.parent=this.options.parentSelector&&document.querySelector(this.options.parentSelector)||this.el.parentNode,this.options.transitionDuration&&(this.options.transitionDuration=this.options.transitionDuration/1e3),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleMousedown=this.handleMousedown.bind(this),this.moveEvent=this.moveEvent.bind(this),this.endEvent=this.endEvent.bind(this),this.init()}init(){this.isTouch?this.el.addEventListener("touchstart",this.handleTouchStart):this.el.addEventListener("mousedown",this.handleMousedown),this.options.moveCursor&&(this.el.style.cursor="move"),this.setPosition(),this.setLimit(),this.handleAdsorb(),this.handlePositionMode(),setTimeout(()=>{this.emitEvent("todraginit")})}handleMousedown(t){if(typeof this.options.disabled=="function"&&this.options.disabled())return;const{x:r,y:i}=t;this.setStartInfo(r,i),document.addEventListener("mousemove",this.moveEvent),document.addEventListener("mouseup",this.endEvent)}handleTouchStart(t){if(typeof this.options.disabled=="function"&&this.options.disabled())return;const r=this.isTouch?t.changedTouches[0].clientX:t.x,i=this.isTouch?t.changedTouches[0].clientY:t.y;this.setStartInfo(r,i),document.addEventListener("touchmove",this.moveEvent,{passive:!1}),document.addEventListener("touchend",this.endEvent)}setPosition(){const{left:t,top:r,width:i,height:a}=this.el.getBoundingClientRect();this.left=t,this.top=r,this.width=i,this.height=a,this.options.isAbsolute?(this.maxX=this.parent.offsetWidth-this.width,this.maxY=this.parent.offsetHeight-this.height):(this.maxX=document.body.scrollWidth>window.innerWidth?window.innerWidth-this.width-this.scrollbarWidth:window.innerWidth-this.width,this.maxY=document.body.scrollHeight>window.innerHeight?window.innerHeight-this.height-this.scrollbarWidth:window.innerHeight-this.height)}setStartInfo(t,r){this.setPosition(),this.setLimit(),this.startX=t-this.left,this.startY=r-this.top,this.isDrag=!0,this.el.style.transition="",document.body.style.userSelect="none",this.options.forbidBodyScroll&&(document.body.style.overflow="hidden"),this.emitEvent("todragstart")}moveEvent(t){if(!this.isDrag)return;t.preventDefault();let r,i;const a=this.isTouch?t.changedTouches[0].clientX:t.x,l=this.isTouch?t.changedTouches[0].clientY:t.y;if(!this.options.isAbsolute)r=a-this.startX,i=l-this.startY;else{const c=this.parent.getClientRects()[0];r=a-c.x-this.startX-this.borderInfo[1],i=l-c.y-this.startY-this.borderInfo[2]}this.left=this.setBetween(r,0,this.maxX-this.borderInfo[1]-this.borderInfo[3]),this.top=this.setBetween(i,0,this.maxY-this.borderInfo[2]-this.borderInfo[0]),this.el.style.left=this.left+"px",this.el.style.top=this.top+"px",this.emitEvent("todragmove")}endEvent(){this.isDrag=!1,document.removeEventListener("mousemove",this.moveEvent),document.removeEventListener("mouseup",this.endEvent),document.removeEventListener("touchmove",this.moveEvent),document.removeEventListener("touchend",this.endEvent),document.body.style.userSelect="auto",this.options.forbidBodyScroll&&(document.body.style.overflow="visible"),this.handleAdsorb(),this.handlePositionMode(),this.emitEvent("todragend")}handleAdsorb(){if(this.options.isAbsolute)return;const t=[this.left+this.width/2,this.top+this.height/2],r=[window.innerWidth,window.innerHeight];if(this.el.style.transition=`left ${this.options.transitionDuration}s ${this.options.transitionTimingFunction}, 
                                top ${this.options.transitionDuration}s ${this.options.transitionTimingFunction}`,this.options.adsorb===1)t[0]<=window.innerWidth/2?this.left=this.options.adsorbOffset:this.left=this.maxX-this.options.adsorbOffset;else if(this.options.adsorb===2){const i=r[1]/r[0],a=r[1]/-r[0],l=t[1]/t[0],c=t[1]/(t[0]-r[0]);i>=l&&a<c?this.top=this.options.adsorbOffset:i>=l&&a>=c?this.left=this.maxX-this.options.adsorbOffset:i<l&&a>=c?this.top=this.maxY-this.options.adsorbOffset:this.left=this.options.adsorbOffset,this.options.adsorbOffset&&(this.top===0&&(this.top=this.options.adsorbOffset),this.top===this.maxY&&(this.top=this.maxY-this.options.adsorbOffset),this.left===0&&(this.left=this.options.adsorbOffset),this.left===this.maxX&&(this.left=this.maxX-this.options.adsorbOffset))}this.el.style.left=this.left+"px",this.el.style.top=this.top+"px"}handlePositionMode(){if(this.options.adsorb)return;const t=this.options.isAbsolute?this.el.offsetLeft:this.left,r=this.options.isAbsolute?this.el.offsetTop:this.top;this.right=this.maxX-t-this.borderInfo[1]-this.borderInfo[3],this.bottom=this.maxY-r-this.borderInfo[2]-this.borderInfo[0],this.options.positionMode===2?(this.el.style.left="auto",this.el.style.right=this.right+"px"):this.options.positionMode===3?(this.el.style.top="auto",this.el.style.bottom=this.bottom+"px"):this.options.positionMode===4&&(this.el.style.left="auto",this.el.style.top="auto",this.el.style.right=this.right+"px",this.el.style.bottom=this.bottom+"px")}emitEvent(t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!1,!1);const{left:i,top:a,right:l,bottom:c,width:d,height:E,maxX:C,maxY:D}=this;r.left=i,r.top=a,r.width=d,r.height=E,r.maxX=C,r.maxY=D,r.right=l,r.bottom=c,this.el.dispatchEvent(r)}destroy(){this.isTouch?this.el.removeEventListener("touchstart",this.handleTouchStart):this.el.removeEventListener("mousedown",this.handleMousedown)}setLimit(){if(!this.options.isAbsolute||!this.options.needComputeBorder)return;const t=["top","right","bottom","left"],r=getComputedStyleList(this.parent,[...t.map(i=>`border-${i}-width`)],!0);this.borderInfo=t.map(i=>r[`border-${i}-width`])}}class ToControl extends ToDrag{constructor({el:t,options:r}){super({el:t,options:Object.assign({adsorb:0,adsorbOffset:0,isAbsolute:!1,positionMode:1},r)}),this.arrowCtx=null,this.arrowStartX=0,this.arrowStartY=0,this.elWidth=0,this.elHeight=0,this.resizeFlag=!1,this.arrowMouseDownEvent=i=>{if(typeof this.controlOptions.disabled=="function"&&this.controlOptions.disabled())return;const a=this.isTouch?i.changedTouches[0].clientX:i.x,l=this.isTouch?i.changedTouches[0].clientY:i.y,{width:c,height:d,left:E,top:C}=this.el.getBoundingClientRect(),{width:D,height:f}=this.parent.getBoundingClientRect();this.arrowStartX=a,this.arrowStartY=l,this.elWidth=c,this.elHeight=d,this.resizeFlag=!0;let A,S;this.controlOptions.isAbsolute?(A=D-this.el.offsetLeft-this.borderInfo[1]-this.borderInfo[3],S=f-this.el.offsetTop-this.borderInfo[0]-this.borderInfo[2]):(A=window.innerWidth-E,S=window.innerHeight-C),setTimeout(()=>{this.isDrag=!1}),this.el.style.left=`${this.controlOptions.isAbsolute?this.el.offsetLeft:E}px`,this.el.style.top=`${this.controlOptions.isAbsolute?this.el.offsetTop:C}px`,this.el.style.right="auto",this.el.style.bottom="auto",this.emitControlEvent("tocontrolstart"),this.isTouch?(document.ontouchmove=L=>{if(!this.resizeFlag||!L.changedTouches)return;const{clientX:N,clientY:G}=L.changedTouches[0];this.el.style.width=`${Math.min(this.elWidth+N-this.arrowStartX,A)}px`,this.el.style.height=`${Math.min(this.elHeight+G-this.arrowStartY,S)}px`,this.emitControlEvent("tocontrolmove")},document.ontouchend=()=>{this.setPosition(),this.resizeFlag=!1,document.ontouchmove=null,document.ontouchend=null,this.emitControlEvent("tocontrolend")}):(document.onmousemove=L=>{if(!this.resizeFlag)return;const{x:N,y:G}=L;this.el.style.width=`${Math.min(this.elWidth+N-this.arrowStartX,A)}px`,this.el.style.height=`${Math.min(this.elHeight+G-this.arrowStartY,S)}px`,this.emitControlEvent("tocontrolmove")},document.onmouseup=()=>{this.setPosition(),this.resizeFlag=!1,document.onmousemove=null,document.onmouseup=null,this.emitControlEvent("tocontrolend")})},this.controlOptions=r||{},this.initControl()}initControl(){var t;this.arrowCtx=this.createResizeArrow((t=this.controlOptions)===null||t===void 0?void 0:t.arrowOptions),this.el.appendChild(this.arrowCtx)}updateArrow(){var t;this.arrowCtx&&this.el.contains(this.arrowCtx)&&this.el.removeChild(this.arrowCtx),this.arrowCtx=this.createResizeArrow((t=this.controlOptions)===null||t===void 0?void 0:t.arrowOptions),this.el.appendChild(this.arrowCtx)}createResizeArrow(t){const r=typeof this.controlOptions.disabled=="function"&&this.controlOptions.disabled(),i=Object.assign({size:8,lineWidth:2,lineColor:"#9a9a9a",padding:2},t),a=document.createElement("div");a.style.cssText=`
      position: absolute;
      right: 0; 
      bottom: 0;
      padding: ${i.padding}px;
      cursor: se-resize;
      background: ${i.background||"none"};
      display: ${r?"none":"block"}
    `,a.className="to-control-arrow";const l=document.createElement("div");return l.style.cssText=`
      width: ${i.size}px;
      height: ${i.size}px;
      border-bottom: ${i.lineWidth}px solid ${i.lineColor};
      border-right: ${i.lineWidth}px solid ${i.lineColor};
    `,l.className="to-control-arrow-inner",a.appendChild(l),this.isTouch?a.addEventListener("touchstart",this.arrowMouseDownEvent):a.addEventListener("mousedown",this.arrowMouseDownEvent),a}destroyControl(){var t,r;this.destroy(),this.isTouch?(t=this.arrowCtx)===null||t===void 0||t.removeEventListener("touchstart",this.arrowMouseDownEvent):(r=this.arrowCtx)===null||r===void 0||r.removeEventListener("mousedown",this.arrowMouseDownEvent)}emitControlEvent(t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!1,!1);const{left:i,top:a,right:l,bottom:c,width:d,height:E,maxX:C,maxY:D}=this;r.left=i,r.top=a,r.width=d,r.height=E,r.maxX=C,r.maxY=D,r.right=l,r.bottom=c,this.el.dispatchEvent(r)}}const mounted$2=(e,t,r)=>{const{value:i}=t,l=Object.assign(Object.assign({},r||{}),i);e.$toControl=new ToControl({el:e,options:l})},beforeUpdate=e=>{e.$toControl&&e.$toControl.updateArrow()},unmounted$1=e=>{e.$toControl&&e.$toControl.destroy()},ToControlDirective={mounted:(e,t)=>mounted$2(e,t),unmounted:unmounted$1,beforeUpdate,inserted:(e,t)=>mounted$2(e,t),unbind:unmounted$1,update:beforeUpdate,install:(e,t)=>{e.directive("to-control",{mounted:(r,i)=>mounted$2(r,i,t),unmounted:unmounted$1,beforeUpdate,inserted:(r,i)=>mounted$2(r,i,t),unbind:unmounted$1,update:beforeUpdate})}};class CustomResize{constructor({el:t,options:r}){t instanceof HTMLElement?this.el=t:this.el=document.querySelector(t),this.options=Object.assign({immediate:!1,direction:["right"],scrollElSelector:null,lineColor:"#aab",lineWidth:2,lineHoverColor:"#88f",lineHoverWidth:4,tipLineColor:"#262626",tipLineWidth:1,tipLineStyle:"dashed",zIndex:999,needParentNodeOffset:!0},r),this.directionArr=this.options.direction||["right"],this.el.$resize=this}init(){const{position:t}=getComputedStyle(this.el),{position:r}=getComputedStyle(this.el.parentNode);t==="static"&&(this.el.style.position="relative"),r==="static"&&console.warn("[@howdyjs/resize] Element parentNode position can not be static!"),this.directionArr.map(i=>{if(this.options.immediate){const a=this.createLineEl(i);this.el.appendChild(a)}else{const a=this.createDashedLineEl(i),l=this.createLineEl(i,a);this.el.appendChild(a),this.el.appendChild(l)}})}createDashedLineEl(t){const{tipLineColor:r,tipLineWidth:i,tipLineStyle:a,zIndex:l}=this.options,c=document.createElement("div"),d=`position:absolute;z-index: ${l};visibility: hidden;`,E=t==="left"||t==="right";return c.style.cssText=E?`${d};top:0;bottom: 0;${t}:0;border-${t}:${i}px ${a} ${r}`:`${d};left:0;right: 0;${t}:0;border-${t}:${i}px ${a} ${r}`,c.setAttribute("class","resize__dashed-line"),c}createLineEl(t,r){const{immediate:i,lineColor:a,lineWidth:l,lineHoverColor:c,lineHoverWidth:d,zIndex:E}=this.options,C=document.createElement("div"),D=`position: absolute;background: ${a};z-index: ${E}`,f=t==="left"||t==="right",A=t==="right"||t==="bottom";C.style.cssText=f?`${D};width: ${l}px;top:0;bottom: 0;${t}: -${l/2}px;cursor: col-resize;`:`${D};height: ${l}px;left:0;right: 0;${t}: -${l/2}px;cursor: row-resize;`,C.mouseoverEvent=function(){C.style.background=c,C.style[f?"width":"height"]=`${d}px`,C.style[t]=`-${d/2}px`},C.mouseoutEvent=function(){C.style.background=a,C.style[f?"width":"height"]=`${l}px`,C.style[t]=`-${l/2}px`};const S=this.el;return C.mousedownEvent=function(L){const G=(S||L.target.parentNode).parentNode;let ie;const le=f?G.offsetWidth:G.offsetHeight;document.body.style.userSelect="none";let ae=!0;const he=()=>{const pe=f?S.offsetWidth:S.offsetHeight,B=f?S.offsetLeft:S.offsetTop,se=A?B+pe+ie:B+ie,oe=A?pe+ie:pe-ie,O=document.createEvent("HTMLEvents");O.initEvent("resize",!1,!1),O.direction=t,O.moveOffset=se,O.moveOffsetPercent=se/le*100,O[f?"resizeWidth":"resizeHeight"]=oe,O[f?"resizeWidthPercent":"resizeHeightPercent"]=oe/le*100,S.dispatchEvent(O)};document.onmousemove=function(pe){pe.preventDefault();const{x:B,y:se}=S.getBoundingClientRect(),oe=f?S.offsetWidth:S.offsetHeight,O=f?S.offsetLeft:S.offsetTop;ie=A?f?pe.clientX-B-oe:pe.clientY-se-oe:f?pe.clientX-B:pe.clientY-se,ae=A?-ie<=oe&&O+oe+ie<=le:ie<=oe&&O+ie>=0,ae&&(i?he():r&&(r.style.visibility="visible",r.style[t]=`${A?-ie:ie}px`))},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,document.body.style.userSelect="auto",i||(r&&(r.style.visibility="hidden"),ae&&(he(),r&&(r.style[t]="0px")))}},C.setAttribute("class","resize__line"),C.addEventListener("mousemove",C.mouseoverEvent),C.addEventListener("mouseout",C.mouseoutEvent),C.addEventListener("mousedown",C.mousedownEvent),C}destroy(){Array.prototype.slice.call(this.el.querySelectorAll(".resize__line")).forEach(r=>{r.mouseoverEvent&&r.removeEventListener("mousemove",r.mouseoverEvent),r.mouseoutEvent&&r.removeEventListener("mouseout",r.mouseoutEvent),r.mousedownEvent&&r.removeEventListener("mousedown",r.mousedownEvent),r.parentNode&&r.parentNode.removeChild(r)}),this.el.querySelectorAll(".resize__dashed-line").forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)})}}const mounted$1=(e,t,r)=>{const{arg:i,value:a}=t,l=r||{};let c,d;i&&(i==="all"?c=["top","left","bottom","right"]:c=[i]),c?d=Object.assign(Object.assign(Object.assign({},l),a),{direction:c}):d=Object.assign(Object.assign({},l),a),new CustomResize({el:e,options:d}).init()},unmounted=e=>{e.$resize&&e.$resize.destroy()},ResizeDirective={mounted:(e,t)=>mounted$1(e,t),unmounted,inserted:(e,t)=>mounted$1(e,t),unbind:unmounted,install:(e,t)=>{e.directive("resize",{mounted:(r,i)=>mounted$1(r,i,t),unmounted,inserted:(r,i)=>mounted$1(r,i,t),unbind:unmounted})}},useResize=(e={})=>({resizeOptions:reactive({immediate:!1,lineWidth:3,lineColor:"",lineHoverWidth:6,lineHoverColor:"#70A8E0",tipLineColor:"#70A8E0",tipLineWidth:3,...e}),vResize:ResizeDirective,CustomResize}),mouseMenu={install(e){e.directive("right-click-menu",MouseMenuDirective),e.directive("to-control",ToControlDirective)}},useConsoleResize=()=>{const{vResize:e,resizeOptions:t}=useResize({direction:["top"]}),r=ref(68),{mainRect:i}=useLayout();return{vResize:e,resizeOptions:t,height:r,handleResize:l=>{l.resizeHeight&&(r.value+=l.resizeHeight-i.value.bottom)}}},useSysVarLongSketchSettings=()=>{const e=ref([]),t=ref(sysVarLongSketchSettingsKeys.map((r,i)=>{const a=SysVarLongSketchSettings[r],l=SysVarLongSketchSettings.GRIDMODE===a||SysVarLongSketchSettings.AUTOSNAP===a||SysVarLongSketchSettings.OSMODE===a;return{name:a,isMenu:l,menuOptions:l?useRightClickMenuOptions({hasIcon:!0,menuList:[{label:"\u8BBE\u7F6E",fn:()=>{switch(a){case SysVarLongSketchSettings.GRIDMODE:callCommand("showDraftingSettingsDialog",{tab:2});return;case SysVarLongSketchSettings.AUTOSNAP:callCommand("showDraftingSettingsDialog",{tab:1});return;case SysVarLongSketchSettings.OSMODE:callCommand("showDraftingSettingsDialog",{tab:3});return}}},{label:"\u5F00",fn:()=>{e.value=[...e.value,i]},icon:()=>{const c=e.value.includes(i);return console.log(c),c?"iconfont  gou":""}},{label:"\u5173",fn:()=>{e.value=e.value.filter(c=>c!==i)},icon:()=>e.value.includes(i)?"":"iconfont gou"}]}):null}}));return watch(e,(r,i)=>{sysVarLongSketchSettingsKeys.forEach((a,l)=>{let c=i.includes(l),d=r.includes(l);c&&!d&&(setSysVarLongSketchSettings(a,Status.Off),console.log(a,"off")),!c&&d&&(setSysVarLongSketchSettings(a,Status.On),console.log(a,"on"))})}),watch(sysVarLongSketchSettings,r=>{const i=[];sysVarLongSketchSettingsKeys.forEach((a,l)=>{r[a]===Status.On&&i.push(l)}),e.value=i}),{items:t,actives:e}};var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return r(i)}})(typeof window<"u"?window:commonjsGlobal,function(t,r){var i=[],a=Object.getPrototypeOf,l=i.slice,c=i.flat?function(ne){return i.flat.call(ne)}:function(ne){return i.concat.apply([],ne)},d=i.push,E=i.indexOf,C={},D=C.toString,f=C.hasOwnProperty,A=f.toString,S=A.call(Object),L={},N=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},G=function(g){return g!=null&&g===g.window},ie=t.document,le={type:!0,src:!0,nonce:!0,noModule:!0};function ae(ne,g,k){k=k||ie;var te,de,me=k.createElement("script");if(me.text=ne,g)for(te in le)de=g[te]||g.getAttribute&&g.getAttribute(te),de&&me.setAttribute(te,de);k.head.appendChild(me).parentNode.removeChild(me)}function he(ne){return ne==null?ne+"":typeof ne=="object"||typeof ne=="function"?C[D.call(ne)]||"object":typeof ne}var pe="3.6.3",B=function(ne,g){return new B.fn.init(ne,g)};B.fn=B.prototype={jquery:pe,constructor:B,length:0,toArray:function(){return l.call(this)},get:function(ne){return ne==null?l.call(this):ne<0?this[ne+this.length]:this[ne]},pushStack:function(ne){var g=B.merge(this.constructor(),ne);return g.prevObject=this,g},each:function(ne){return B.each(this,ne)},map:function(ne){return this.pushStack(B.map(this,function(g,k){return ne.call(g,k,g)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(B.grep(this,function(ne,g){return(g+1)%2}))},odd:function(){return this.pushStack(B.grep(this,function(ne,g){return g%2}))},eq:function(ne){var g=this.length,k=+ne+(ne<0?g:0);return this.pushStack(k>=0&&k<g?[this[k]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:i.sort,splice:i.splice},B.extend=B.fn.extend=function(){var ne,g,k,te,de,me,Ce=arguments[0]||{},Ie=1,Te=arguments.length,je=!1;for(typeof Ce=="boolean"&&(je=Ce,Ce=arguments[Ie]||{},Ie++),typeof Ce!="object"&&!N(Ce)&&(Ce={}),Ie===Te&&(Ce=this,Ie--);Ie<Te;Ie++)if((ne=arguments[Ie])!=null)for(g in ne)te=ne[g],!(g==="__proto__"||Ce===te)&&(je&&te&&(B.isPlainObject(te)||(de=Array.isArray(te)))?(k=Ce[g],de&&!Array.isArray(k)?me=[]:!de&&!B.isPlainObject(k)?me={}:me=k,de=!1,Ce[g]=B.extend(je,me,te)):te!==void 0&&(Ce[g]=te));return Ce},B.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(ne){throw new Error(ne)},noop:function(){},isPlainObject:function(ne){var g,k;return!ne||D.call(ne)!=="[object Object]"?!1:(g=a(ne),g?(k=f.call(g,"constructor")&&g.constructor,typeof k=="function"&&A.call(k)===S):!0)},isEmptyObject:function(ne){var g;for(g in ne)return!1;return!0},globalEval:function(ne,g,k){ae(ne,{nonce:g&&g.nonce},k)},each:function(ne,g){var k,te=0;if(se(ne))for(k=ne.length;te<k&&g.call(ne[te],te,ne[te])!==!1;te++);else for(te in ne)if(g.call(ne[te],te,ne[te])===!1)break;return ne},makeArray:function(ne,g){var k=g||[];return ne!=null&&(se(Object(ne))?B.merge(k,typeof ne=="string"?[ne]:ne):d.call(k,ne)),k},inArray:function(ne,g,k){return g==null?-1:E.call(g,ne,k)},merge:function(ne,g){for(var k=+g.length,te=0,de=ne.length;te<k;te++)ne[de++]=g[te];return ne.length=de,ne},grep:function(ne,g,k){for(var te,de=[],me=0,Ce=ne.length,Ie=!k;me<Ce;me++)te=!g(ne[me],me),te!==Ie&&de.push(ne[me]);return de},map:function(ne,g,k){var te,de,me=0,Ce=[];if(se(ne))for(te=ne.length;me<te;me++)de=g(ne[me],me,k),de!=null&&Ce.push(de);else for(me in ne)de=g(ne[me],me,k),de!=null&&Ce.push(de);return c(Ce)},guid:1,support:L}),typeof Symbol=="function"&&(B.fn[Symbol.iterator]=i[Symbol.iterator]),B.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(ne,g){C["[object "+g+"]"]=g.toLowerCase()});function se(ne){var g=!!ne&&"length"in ne&&ne.length,k=he(ne);return N(ne)||G(ne)?!1:k==="array"||g===0||typeof g=="number"&&g>0&&g-1 in ne}var oe=function(ne){var g,k,te,de,me,Ce,Ie,Te,je,Xe,ht,ot,ct,Yt,On,qt,er,qr,ii,si="sizzle"+1*new Date,Dr=ne.document,br=0,Zr=0,pr=un(),Cr=un(),fa=un(),Lo=un(),vo=function(Qe,Mt){return Qe===Mt&&(ht=!0),0},ma={}.hasOwnProperty,Gi=[],oo=Gi.pop,yo=Gi.push,eo=Gi.push,ki=Gi.slice,wi=function(Qe,Mt){for(var jt=0,yn=Qe.length;jt<yn;jt++)if(Qe[jt]===Mt)return jt;return-1},Co="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hi="[\\x20\\t\\r\\n\\f]",zi="(?:\\\\[\\da-fA-F]{1,6}"+hi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Mr="\\["+hi+"*("+zi+")(?:"+hi+"*([*^$|!~]?=)"+hi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zi+"))|)"+hi+"*\\]",qi=":("+zi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Mr+")*)|.*)\\)|)",Ji=new RegExp(hi+"+","g"),gi=new RegExp("^"+hi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+hi+"+$","g"),ca=new RegExp("^"+hi+"*,"+hi+"*"),Is=new RegExp("^"+hi+"*([>+~]|"+hi+")"+hi+"*"),vl=new RegExp(hi+"|>"),Jo=new RegExp(qi),na=new RegExp("^"+zi+"$"),Eo={ID:new RegExp("^#("+zi+")"),CLASS:new RegExp("^\\.("+zi+")"),TAG:new RegExp("^("+zi+"|[*])"),ATTR:new RegExp("^"+Mr),PSEUDO:new RegExp("^"+qi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+hi+"*(even|odd|(([+-]|)(\\d*)n|)"+hi+"*(?:([+-]|)"+hi+"*(\\d+)|))"+hi+"*\\)|)","i"),bool:new RegExp("^(?:"+Co+")$","i"),needsContext:new RegExp("^"+hi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+hi+"*((?:-\\d)?\\d*)"+hi+"*\\)|)(?=[^-]|$)","i")},Js=/HTML$/i,Va=/^(?:input|select|textarea|button)$/i,is=/^h\d$/i,Sa=/^[^{]+\{\s*\[native \w/,yl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,to=/[+~]/,Wi=new RegExp("\\\\[\\da-fA-F]{1,6}"+hi+"?|\\\\([^\\r\\n\\f])","g"),Ta=function(Qe,Mt){var jt="0x"+Qe.slice(1)-65536;return Mt||(jt<0?String.fromCharCode(jt+65536):String.fromCharCode(jt>>10|55296,jt&1023|56320))},Fo=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,al=function(Qe,Mt){return Mt?Qe==="\0"?"\uFFFD":Qe.slice(0,-1)+"\\"+Qe.charCodeAt(Qe.length-1).toString(16)+" ":"\\"+Qe},Et=function(){ot()},$t=no(function(Qe){return Qe.disabled===!0&&Qe.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{eo.apply(Gi=ki.call(Dr.childNodes),Dr.childNodes),Gi[Dr.childNodes.length].nodeType}catch{eo={apply:Gi.length?function(Mt,jt){yo.apply(Mt,ki.call(jt))}:function(Mt,jt){for(var yn=Mt.length,Jt=0;Mt[yn++]=jt[Jt++];);Mt.length=yn-1}}}function Ft(Qe,Mt,jt,yn){var Jt,Cn,Sn,In,dn,Ir,Fr,Ur=Mt&&Mt.ownerDocument,Gr=Mt?Mt.nodeType:9;if(jt=jt||[],typeof Qe!="string"||!Qe||Gr!==1&&Gr!==9&&Gr!==11)return jt;if(!yn&&(ot(Mt),Mt=Mt||ct,On)){if(Gr!==11&&(dn=yl.exec(Qe)))if(Jt=dn[1]){if(Gr===9)if(Sn=Mt.getElementById(Jt)){if(Sn.id===Jt)return jt.push(Sn),jt}else return jt;else if(Ur&&(Sn=Ur.getElementById(Jt))&&ii(Mt,Sn)&&Sn.id===Jt)return jt.push(Sn),jt}else{if(dn[2])return eo.apply(jt,Mt.getElementsByTagName(Qe)),jt;if((Jt=dn[3])&&k.getElementsByClassName&&Mt.getElementsByClassName)return eo.apply(jt,Mt.getElementsByClassName(Jt)),jt}if(k.qsa&&!Lo[Qe+" "]&&(!qt||!qt.test(Qe))&&(Gr!==1||Mt.nodeName.toLowerCase()!=="object")){if(Fr=Qe,Ur=Mt,Gr===1&&(vl.test(Qe)||Is.test(Qe))){for(Ur=to.test(Qe)&&yi(Mt.parentNode)||Mt,(Ur!==Mt||!k.scope)&&((In=Mt.getAttribute("id"))?In=In.replace(Fo,al):Mt.setAttribute("id",In=si)),Ir=Ce(Qe),Cn=Ir.length;Cn--;)Ir[Cn]=(In?"#"+In:":scope")+" "+$i(Ir[Cn]);Fr=Ir.join(",")}try{if(k.cssSupportsSelector&&!CSS.supports("selector(:is("+Fr+"))"))throw new Error;return eo.apply(jt,Ur.querySelectorAll(Fr)),jt}catch{Lo(Qe,!0)}finally{In===si&&Mt.removeAttribute("id")}}}return Te(Qe.replace(gi,"$1"),Mt,jt,yn)}function un(){var Qe=[];function Mt(jt,yn){return Qe.push(jt+" ")>te.cacheLength&&delete Mt[Qe.shift()],Mt[jt+" "]=yn}return Mt}function vn(Qe){return Qe[si]=!0,Qe}function Gn(Qe){var Mt=ct.createElement("fieldset");try{return!!Qe(Mt)}catch{return!1}finally{Mt.parentNode&&Mt.parentNode.removeChild(Mt),Mt=null}}function Yn(Qe,Mt){for(var jt=Qe.split("|"),yn=jt.length;yn--;)te.attrHandle[jt[yn]]=Mt}function mr(Qe,Mt){var jt=Mt&&Qe,yn=jt&&Qe.nodeType===1&&Mt.nodeType===1&&Qe.sourceIndex-Mt.sourceIndex;if(yn)return yn;if(jt){for(;jt=jt.nextSibling;)if(jt===Mt)return-1}return Qe?1:-1}function En(Qe){return function(Mt){var jt=Mt.nodeName.toLowerCase();return jt==="input"&&Mt.type===Qe}}function pi(Qe){return function(Mt){var jt=Mt.nodeName.toLowerCase();return(jt==="input"||jt==="button")&&Mt.type===Qe}}function sr(Qe){return function(Mt){return"form"in Mt?Mt.parentNode&&Mt.disabled===!1?"label"in Mt?"label"in Mt.parentNode?Mt.parentNode.disabled===Qe:Mt.disabled===Qe:Mt.isDisabled===Qe||Mt.isDisabled!==!Qe&&$t(Mt)===Qe:Mt.disabled===Qe:"label"in Mt?Mt.disabled===Qe:!1}}function kn(Qe){return vn(function(Mt){return Mt=+Mt,vn(function(jt,yn){for(var Jt,Cn=Qe([],jt.length,Mt),Sn=Cn.length;Sn--;)jt[Jt=Cn[Sn]]&&(jt[Jt]=!(yn[Jt]=jt[Jt]))})})}function yi(Qe){return Qe&&typeof Qe.getElementsByTagName<"u"&&Qe}k=Ft.support={},me=Ft.isXML=function(Qe){var Mt=Qe&&Qe.namespaceURI,jt=Qe&&(Qe.ownerDocument||Qe).documentElement;return!Js.test(Mt||jt&&jt.nodeName||"HTML")},ot=Ft.setDocument=function(Qe){var Mt,jt,yn=Qe?Qe.ownerDocument||Qe:Dr;return yn==ct||yn.nodeType!==9||!yn.documentElement||(ct=yn,Yt=ct.documentElement,On=!me(ct),Dr!=ct&&(jt=ct.defaultView)&&jt.top!==jt&&(jt.addEventListener?jt.addEventListener("unload",Et,!1):jt.attachEvent&&jt.attachEvent("onunload",Et)),k.scope=Gn(function(Jt){return Yt.appendChild(Jt).appendChild(ct.createElement("div")),typeof Jt.querySelectorAll<"u"&&!Jt.querySelectorAll(":scope fieldset div").length}),k.cssSupportsSelector=Gn(function(){return CSS.supports("selector(*)")&&ct.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),k.attributes=Gn(function(Jt){return Jt.className="i",!Jt.getAttribute("className")}),k.getElementsByTagName=Gn(function(Jt){return Jt.appendChild(ct.createComment("")),!Jt.getElementsByTagName("*").length}),k.getElementsByClassName=Sa.test(ct.getElementsByClassName),k.getById=Gn(function(Jt){return Yt.appendChild(Jt).id=si,!ct.getElementsByName||!ct.getElementsByName(si).length}),k.getById?(te.filter.ID=function(Jt){var Cn=Jt.replace(Wi,Ta);return function(Sn){return Sn.getAttribute("id")===Cn}},te.find.ID=function(Jt,Cn){if(typeof Cn.getElementById<"u"&&On){var Sn=Cn.getElementById(Jt);return Sn?[Sn]:[]}}):(te.filter.ID=function(Jt){var Cn=Jt.replace(Wi,Ta);return function(Sn){var In=typeof Sn.getAttributeNode<"u"&&Sn.getAttributeNode("id");return In&&In.value===Cn}},te.find.ID=function(Jt,Cn){if(typeof Cn.getElementById<"u"&&On){var Sn,In,dn,Ir=Cn.getElementById(Jt);if(Ir){if(Sn=Ir.getAttributeNode("id"),Sn&&Sn.value===Jt)return[Ir];for(dn=Cn.getElementsByName(Jt),In=0;Ir=dn[In++];)if(Sn=Ir.getAttributeNode("id"),Sn&&Sn.value===Jt)return[Ir]}return[]}}),te.find.TAG=k.getElementsByTagName?function(Jt,Cn){if(typeof Cn.getElementsByTagName<"u")return Cn.getElementsByTagName(Jt);if(k.qsa)return Cn.querySelectorAll(Jt)}:function(Jt,Cn){var Sn,In=[],dn=0,Ir=Cn.getElementsByTagName(Jt);if(Jt==="*"){for(;Sn=Ir[dn++];)Sn.nodeType===1&&In.push(Sn);return In}return Ir},te.find.CLASS=k.getElementsByClassName&&function(Jt,Cn){if(typeof Cn.getElementsByClassName<"u"&&On)return Cn.getElementsByClassName(Jt)},er=[],qt=[],(k.qsa=Sa.test(ct.querySelectorAll))&&(Gn(function(Jt){var Cn;Yt.appendChild(Jt).innerHTML="<a id='"+si+"'></a><select id='"+si+"-\r\\' msallowcapture=''><option selected=''></option></select>",Jt.querySelectorAll("[msallowcapture^='']").length&&qt.push("[*^$]="+hi+`*(?:''|"")`),Jt.querySelectorAll("[selected]").length||qt.push("\\["+hi+"*(?:value|"+Co+")"),Jt.querySelectorAll("[id~="+si+"-]").length||qt.push("~="),Cn=ct.createElement("input"),Cn.setAttribute("name",""),Jt.appendChild(Cn),Jt.querySelectorAll("[name='']").length||qt.push("\\["+hi+"*name"+hi+"*="+hi+`*(?:''|"")`),Jt.querySelectorAll(":checked").length||qt.push(":checked"),Jt.querySelectorAll("a#"+si+"+*").length||qt.push(".#.+[+~]"),Jt.querySelectorAll("\\\f"),qt.push("[\\r\\n\\f]")}),Gn(function(Jt){Jt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Cn=ct.createElement("input");Cn.setAttribute("type","hidden"),Jt.appendChild(Cn).setAttribute("name","D"),Jt.querySelectorAll("[name=d]").length&&qt.push("name"+hi+"*[*^$|!~]?="),Jt.querySelectorAll(":enabled").length!==2&&qt.push(":enabled",":disabled"),Yt.appendChild(Jt).disabled=!0,Jt.querySelectorAll(":disabled").length!==2&&qt.push(":enabled",":disabled"),Jt.querySelectorAll("*,:x"),qt.push(",.*:")})),(k.matchesSelector=Sa.test(qr=Yt.matches||Yt.webkitMatchesSelector||Yt.mozMatchesSelector||Yt.oMatchesSelector||Yt.msMatchesSelector))&&Gn(function(Jt){k.disconnectedMatch=qr.call(Jt,"*"),qr.call(Jt,"[s!='']:x"),er.push("!=",qi)}),k.cssSupportsSelector||qt.push(":has"),qt=qt.length&&new RegExp(qt.join("|")),er=er.length&&new RegExp(er.join("|")),Mt=Sa.test(Yt.compareDocumentPosition),ii=Mt||Sa.test(Yt.contains)?function(Jt,Cn){var Sn=Jt.nodeType===9&&Jt.documentElement||Jt,In=Cn&&Cn.parentNode;return Jt===In||!!(In&&In.nodeType===1&&(Sn.contains?Sn.contains(In):Jt.compareDocumentPosition&&Jt.compareDocumentPosition(In)&16))}:function(Jt,Cn){if(Cn){for(;Cn=Cn.parentNode;)if(Cn===Jt)return!0}return!1},vo=Mt?function(Jt,Cn){if(Jt===Cn)return ht=!0,0;var Sn=!Jt.compareDocumentPosition-!Cn.compareDocumentPosition;return Sn||(Sn=(Jt.ownerDocument||Jt)==(Cn.ownerDocument||Cn)?Jt.compareDocumentPosition(Cn):1,Sn&1||!k.sortDetached&&Cn.compareDocumentPosition(Jt)===Sn?Jt==ct||Jt.ownerDocument==Dr&&ii(Dr,Jt)?-1:Cn==ct||Cn.ownerDocument==Dr&&ii(Dr,Cn)?1:Xe?wi(Xe,Jt)-wi(Xe,Cn):0:Sn&4?-1:1)}:function(Jt,Cn){if(Jt===Cn)return ht=!0,0;var Sn,In=0,dn=Jt.parentNode,Ir=Cn.parentNode,Fr=[Jt],Ur=[Cn];if(!dn||!Ir)return Jt==ct?-1:Cn==ct?1:dn?-1:Ir?1:Xe?wi(Xe,Jt)-wi(Xe,Cn):0;if(dn===Ir)return mr(Jt,Cn);for(Sn=Jt;Sn=Sn.parentNode;)Fr.unshift(Sn);for(Sn=Cn;Sn=Sn.parentNode;)Ur.unshift(Sn);for(;Fr[In]===Ur[In];)In++;return In?mr(Fr[In],Ur[In]):Fr[In]==Dr?-1:Ur[In]==Dr?1:0}),ct},Ft.matches=function(Qe,Mt){return Ft(Qe,null,null,Mt)},Ft.matchesSelector=function(Qe,Mt){if(ot(Qe),k.matchesSelector&&On&&!Lo[Mt+" "]&&(!er||!er.test(Mt))&&(!qt||!qt.test(Mt)))try{var jt=qr.call(Qe,Mt);if(jt||k.disconnectedMatch||Qe.document&&Qe.document.nodeType!==11)return jt}catch{Lo(Mt,!0)}return Ft(Mt,ct,null,[Qe]).length>0},Ft.contains=function(Qe,Mt){return(Qe.ownerDocument||Qe)!=ct&&ot(Qe),ii(Qe,Mt)},Ft.attr=function(Qe,Mt){(Qe.ownerDocument||Qe)!=ct&&ot(Qe);var jt=te.attrHandle[Mt.toLowerCase()],yn=jt&&ma.call(te.attrHandle,Mt.toLowerCase())?jt(Qe,Mt,!On):void 0;return yn!==void 0?yn:k.attributes||!On?Qe.getAttribute(Mt):(yn=Qe.getAttributeNode(Mt))&&yn.specified?yn.value:null},Ft.escape=function(Qe){return(Qe+"").replace(Fo,al)},Ft.error=function(Qe){throw new Error("Syntax error, unrecognized expression: "+Qe)},Ft.uniqueSort=function(Qe){var Mt,jt=[],yn=0,Jt=0;if(ht=!k.detectDuplicates,Xe=!k.sortStable&&Qe.slice(0),Qe.sort(vo),ht){for(;Mt=Qe[Jt++];)Mt===Qe[Jt]&&(yn=jt.push(Jt));for(;yn--;)Qe.splice(jt[yn],1)}return Xe=null,Qe},de=Ft.getText=function(Qe){var Mt,jt="",yn=0,Jt=Qe.nodeType;if(Jt){if(Jt===1||Jt===9||Jt===11){if(typeof Qe.textContent=="string")return Qe.textContent;for(Qe=Qe.firstChild;Qe;Qe=Qe.nextSibling)jt+=de(Qe)}else if(Jt===3||Jt===4)return Qe.nodeValue}else for(;Mt=Qe[yn++];)jt+=de(Mt);return jt},te=Ft.selectors={cacheLength:50,createPseudo:vn,match:Eo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Qe){return Qe[1]=Qe[1].replace(Wi,Ta),Qe[3]=(Qe[3]||Qe[4]||Qe[5]||"").replace(Wi,Ta),Qe[2]==="~="&&(Qe[3]=" "+Qe[3]+" "),Qe.slice(0,4)},CHILD:function(Qe){return Qe[1]=Qe[1].toLowerCase(),Qe[1].slice(0,3)==="nth"?(Qe[3]||Ft.error(Qe[0]),Qe[4]=+(Qe[4]?Qe[5]+(Qe[6]||1):2*(Qe[3]==="even"||Qe[3]==="odd")),Qe[5]=+(Qe[7]+Qe[8]||Qe[3]==="odd")):Qe[3]&&Ft.error(Qe[0]),Qe},PSEUDO:function(Qe){var Mt,jt=!Qe[6]&&Qe[2];return Eo.CHILD.test(Qe[0])?null:(Qe[3]?Qe[2]=Qe[4]||Qe[5]||"":jt&&Jo.test(jt)&&(Mt=Ce(jt,!0))&&(Mt=jt.indexOf(")",jt.length-Mt)-jt.length)&&(Qe[0]=Qe[0].slice(0,Mt),Qe[2]=jt.slice(0,Mt)),Qe.slice(0,3))}},filter:{TAG:function(Qe){var Mt=Qe.replace(Wi,Ta).toLowerCase();return Qe==="*"?function(){return!0}:function(jt){return jt.nodeName&&jt.nodeName.toLowerCase()===Mt}},CLASS:function(Qe){var Mt=pr[Qe+" "];return Mt||(Mt=new RegExp("(^|"+hi+")"+Qe+"("+hi+"|$)"))&&pr(Qe,function(jt){return Mt.test(typeof jt.className=="string"&&jt.className||typeof jt.getAttribute<"u"&&jt.getAttribute("class")||"")})},ATTR:function(Qe,Mt,jt){return function(yn){var Jt=Ft.attr(yn,Qe);return Jt==null?Mt==="!=":Mt?(Jt+="",Mt==="="?Jt===jt:Mt==="!="?Jt!==jt:Mt==="^="?jt&&Jt.indexOf(jt)===0:Mt==="*="?jt&&Jt.indexOf(jt)>-1:Mt==="$="?jt&&Jt.slice(-jt.length)===jt:Mt==="~="?(" "+Jt.replace(Ji," ")+" ").indexOf(jt)>-1:Mt==="|="?Jt===jt||Jt.slice(0,jt.length+1)===jt+"-":!1):!0}},CHILD:function(Qe,Mt,jt,yn,Jt){var Cn=Qe.slice(0,3)!=="nth",Sn=Qe.slice(-4)!=="last",In=Mt==="of-type";return yn===1&&Jt===0?function(dn){return!!dn.parentNode}:function(dn,Ir,Fr){var Ur,Gr,Mi,Er,Ni,Xo,ga=Cn!==Sn?"nextSibling":"previousSibling",Hi=dn.parentNode,Pa=In&&dn.nodeName.toLowerCase(),ks=!Fr&&!In,ra=!1;if(Hi){if(Cn){for(;ga;){for(Er=dn;Er=Er[ga];)if(In?Er.nodeName.toLowerCase()===Pa:Er.nodeType===1)return!1;Xo=ga=Qe==="only"&&!Xo&&"nextSibling"}return!0}if(Xo=[Sn?Hi.firstChild:Hi.lastChild],Sn&&ks){for(Er=Hi,Mi=Er[si]||(Er[si]={}),Gr=Mi[Er.uniqueID]||(Mi[Er.uniqueID]={}),Ur=Gr[Qe]||[],Ni=Ur[0]===br&&Ur[1],ra=Ni&&Ur[2],Er=Ni&&Hi.childNodes[Ni];Er=++Ni&&Er&&Er[ga]||(ra=Ni=0)||Xo.pop();)if(Er.nodeType===1&&++ra&&Er===dn){Gr[Qe]=[br,Ni,ra];break}}else if(ks&&(Er=dn,Mi=Er[si]||(Er[si]={}),Gr=Mi[Er.uniqueID]||(Mi[Er.uniqueID]={}),Ur=Gr[Qe]||[],Ni=Ur[0]===br&&Ur[1],ra=Ni),ra===!1)for(;(Er=++Ni&&Er&&Er[ga]||(ra=Ni=0)||Xo.pop())&&!((In?Er.nodeName.toLowerCase()===Pa:Er.nodeType===1)&&++ra&&(ks&&(Mi=Er[si]||(Er[si]={}),Gr=Mi[Er.uniqueID]||(Mi[Er.uniqueID]={}),Gr[Qe]=[br,ra]),Er===dn)););return ra-=Jt,ra===yn||ra%yn===0&&ra/yn>=0}}},PSEUDO:function(Qe,Mt){var jt,yn=te.pseudos[Qe]||te.setFilters[Qe.toLowerCase()]||Ft.error("unsupported pseudo: "+Qe);return yn[si]?yn(Mt):yn.length>1?(jt=[Qe,Qe,"",Mt],te.setFilters.hasOwnProperty(Qe.toLowerCase())?vn(function(Jt,Cn){for(var Sn,In=yn(Jt,Mt),dn=In.length;dn--;)Sn=wi(Jt,In[dn]),Jt[Sn]=!(Cn[Sn]=In[dn])}):function(Jt){return yn(Jt,0,jt)}):yn}},pseudos:{not:vn(function(Qe){var Mt=[],jt=[],yn=Ie(Qe.replace(gi,"$1"));return yn[si]?vn(function(Jt,Cn,Sn,In){for(var dn,Ir=yn(Jt,null,In,[]),Fr=Jt.length;Fr--;)(dn=Ir[Fr])&&(Jt[Fr]=!(Cn[Fr]=dn))}):function(Jt,Cn,Sn){return Mt[0]=Jt,yn(Mt,null,Sn,jt),Mt[0]=null,!jt.pop()}}),has:vn(function(Qe){return function(Mt){return Ft(Qe,Mt).length>0}}),contains:vn(function(Qe){return Qe=Qe.replace(Wi,Ta),function(Mt){return(Mt.textContent||de(Mt)).indexOf(Qe)>-1}}),lang:vn(function(Qe){return na.test(Qe||"")||Ft.error("unsupported lang: "+Qe),Qe=Qe.replace(Wi,Ta).toLowerCase(),function(Mt){var jt;do if(jt=On?Mt.lang:Mt.getAttribute("xml:lang")||Mt.getAttribute("lang"))return jt=jt.toLowerCase(),jt===Qe||jt.indexOf(Qe+"-")===0;while((Mt=Mt.parentNode)&&Mt.nodeType===1);return!1}}),target:function(Qe){var Mt=ne.location&&ne.location.hash;return Mt&&Mt.slice(1)===Qe.id},root:function(Qe){return Qe===Yt},focus:function(Qe){return Qe===ct.activeElement&&(!ct.hasFocus||ct.hasFocus())&&!!(Qe.type||Qe.href||~Qe.tabIndex)},enabled:sr(!1),disabled:sr(!0),checked:function(Qe){var Mt=Qe.nodeName.toLowerCase();return Mt==="input"&&!!Qe.checked||Mt==="option"&&!!Qe.selected},selected:function(Qe){return Qe.parentNode&&Qe.parentNode.selectedIndex,Qe.selected===!0},empty:function(Qe){for(Qe=Qe.firstChild;Qe;Qe=Qe.nextSibling)if(Qe.nodeType<6)return!1;return!0},parent:function(Qe){return!te.pseudos.empty(Qe)},header:function(Qe){return is.test(Qe.nodeName)},input:function(Qe){return Va.test(Qe.nodeName)},button:function(Qe){var Mt=Qe.nodeName.toLowerCase();return Mt==="input"&&Qe.type==="button"||Mt==="button"},text:function(Qe){var Mt;return Qe.nodeName.toLowerCase()==="input"&&Qe.type==="text"&&((Mt=Qe.getAttribute("type"))==null||Mt.toLowerCase()==="text")},first:kn(function(){return[0]}),last:kn(function(Qe,Mt){return[Mt-1]}),eq:kn(function(Qe,Mt,jt){return[jt<0?jt+Mt:jt]}),even:kn(function(Qe,Mt){for(var jt=0;jt<Mt;jt+=2)Qe.push(jt);return Qe}),odd:kn(function(Qe,Mt){for(var jt=1;jt<Mt;jt+=2)Qe.push(jt);return Qe}),lt:kn(function(Qe,Mt,jt){for(var yn=jt<0?jt+Mt:jt>Mt?Mt:jt;--yn>=0;)Qe.push(yn);return Qe}),gt:kn(function(Qe,Mt,jt){for(var yn=jt<0?jt+Mt:jt;++yn<Mt;)Qe.push(yn);return Qe})}},te.pseudos.nth=te.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})te.pseudos[g]=En(g);for(g in{submit:!0,reset:!0})te.pseudos[g]=pi(g);function Lr(){}Lr.prototype=te.filters=te.pseudos,te.setFilters=new Lr,Ce=Ft.tokenize=function(Qe,Mt){var jt,yn,Jt,Cn,Sn,In,dn,Ir=Cr[Qe+" "];if(Ir)return Mt?0:Ir.slice(0);for(Sn=Qe,In=[],dn=te.preFilter;Sn;){(!jt||(yn=ca.exec(Sn)))&&(yn&&(Sn=Sn.slice(yn[0].length)||Sn),In.push(Jt=[])),jt=!1,(yn=Is.exec(Sn))&&(jt=yn.shift(),Jt.push({value:jt,type:yn[0].replace(gi," ")}),Sn=Sn.slice(jt.length));for(Cn in te.filter)(yn=Eo[Cn].exec(Sn))&&(!dn[Cn]||(yn=dn[Cn](yn)))&&(jt=yn.shift(),Jt.push({value:jt,type:Cn,matches:yn}),Sn=Sn.slice(jt.length));if(!jt)break}return Mt?Sn.length:Sn?Ft.error(Qe):Cr(Qe,In).slice(0)};function $i(Qe){for(var Mt=0,jt=Qe.length,yn="";Mt<jt;Mt++)yn+=Qe[Mt].value;return yn}function no(Qe,Mt,jt){var yn=Mt.dir,Jt=Mt.next,Cn=Jt||yn,Sn=jt&&Cn==="parentNode",In=Zr++;return Mt.first?function(dn,Ir,Fr){for(;dn=dn[yn];)if(dn.nodeType===1||Sn)return Qe(dn,Ir,Fr);return!1}:function(dn,Ir,Fr){var Ur,Gr,Mi,Er=[br,In];if(Fr){for(;dn=dn[yn];)if((dn.nodeType===1||Sn)&&Qe(dn,Ir,Fr))return!0}else for(;dn=dn[yn];)if(dn.nodeType===1||Sn)if(Mi=dn[si]||(dn[si]={}),Gr=Mi[dn.uniqueID]||(Mi[dn.uniqueID]={}),Jt&&Jt===dn.nodeName.toLowerCase())dn=dn[yn]||dn;else{if((Ur=Gr[Cn])&&Ur[0]===br&&Ur[1]===In)return Er[2]=Ur[2];if(Gr[Cn]=Er,Er[2]=Qe(dn,Ir,Fr))return!0}return!1}}function ro(Qe){return Qe.length>1?function(Mt,jt,yn){for(var Jt=Qe.length;Jt--;)if(!Qe[Jt](Mt,jt,yn))return!1;return!0}:Qe[0]}function Ke(Qe,Mt,jt){for(var yn=0,Jt=Mt.length;yn<Jt;yn++)Ft(Qe,Mt[yn],jt);return jt}function io(Qe,Mt,jt,yn,Jt){for(var Cn,Sn=[],In=0,dn=Qe.length,Ir=Mt!=null;In<dn;In++)(Cn=Qe[In])&&(!jt||jt(Cn,yn,Jt))&&(Sn.push(Cn),Ir&&Mt.push(In));return Sn}function Wn(Qe,Mt,jt,yn,Jt,Cn){return yn&&!yn[si]&&(yn=Wn(yn)),Jt&&!Jt[si]&&(Jt=Wn(Jt,Cn)),vn(function(Sn,In,dn,Ir){var Fr,Ur,Gr,Mi=[],Er=[],Ni=In.length,Xo=Sn||Ke(Mt||"*",dn.nodeType?[dn]:dn,[]),ga=Qe&&(Sn||!Mt)?io(Xo,Mi,Qe,dn,Ir):Xo,Hi=jt?Jt||(Sn?Qe:Ni||yn)?[]:In:ga;if(jt&&jt(ga,Hi,dn,Ir),yn)for(Fr=io(Hi,Er),yn(Fr,[],dn,Ir),Ur=Fr.length;Ur--;)(Gr=Fr[Ur])&&(Hi[Er[Ur]]=!(ga[Er[Ur]]=Gr));if(Sn){if(Jt||Qe){if(Jt){for(Fr=[],Ur=Hi.length;Ur--;)(Gr=Hi[Ur])&&Fr.push(ga[Ur]=Gr);Jt(null,Hi=[],Fr,Ir)}for(Ur=Hi.length;Ur--;)(Gr=Hi[Ur])&&(Fr=Jt?wi(Sn,Gr):Mi[Ur])>-1&&(Sn[Fr]=!(In[Fr]=Gr))}}else Hi=io(Hi===In?Hi.splice(Ni,Hi.length):Hi),Jt?Jt(null,In,Hi,Ir):eo.apply(In,Hi)})}function fi(Qe){for(var Mt,jt,yn,Jt=Qe.length,Cn=te.relative[Qe[0].type],Sn=Cn||te.relative[" "],In=Cn?1:0,dn=no(function(Ur){return Ur===Mt},Sn,!0),Ir=no(function(Ur){return wi(Mt,Ur)>-1},Sn,!0),Fr=[function(Ur,Gr,Mi){var Er=!Cn&&(Mi||Gr!==je)||((Mt=Gr).nodeType?dn(Ur,Gr,Mi):Ir(Ur,Gr,Mi));return Mt=null,Er}];In<Jt;In++)if(jt=te.relative[Qe[In].type])Fr=[no(ro(Fr),jt)];else{if(jt=te.filter[Qe[In].type].apply(null,Qe[In].matches),jt[si]){for(yn=++In;yn<Jt&&!te.relative[Qe[yn].type];yn++);return Wn(In>1&&ro(Fr),In>1&&$i(Qe.slice(0,In-1).concat({value:Qe[In-2].type===" "?"*":""})).replace(gi,"$1"),jt,In<yn&&fi(Qe.slice(In,yn)),yn<Jt&&fi(Qe=Qe.slice(yn)),yn<Jt&&$i(Qe))}Fr.push(jt)}return ro(Fr)}function li(Qe,Mt){var jt=Mt.length>0,yn=Qe.length>0,Jt=function(Cn,Sn,In,dn,Ir){var Fr,Ur,Gr,Mi=0,Er="0",Ni=Cn&&[],Xo=[],ga=je,Hi=Cn||yn&&te.find.TAG("*",Ir),Pa=br+=ga==null?1:Math.random()||.1,ks=Hi.length;for(Ir&&(je=Sn==ct||Sn||Ir);Er!==ks&&(Fr=Hi[Er])!=null;Er++){if(yn&&Fr){for(Ur=0,!Sn&&Fr.ownerDocument!=ct&&(ot(Fr),In=!On);Gr=Qe[Ur++];)if(Gr(Fr,Sn||ct,In)){dn.push(Fr);break}Ir&&(br=Pa)}jt&&((Fr=!Gr&&Fr)&&Mi--,Cn&&Ni.push(Fr))}if(Mi+=Er,jt&&Er!==Mi){for(Ur=0;Gr=Mt[Ur++];)Gr(Ni,Xo,Sn,In);if(Cn){if(Mi>0)for(;Er--;)Ni[Er]||Xo[Er]||(Xo[Er]=oo.call(dn));Xo=io(Xo)}eo.apply(dn,Xo),Ir&&!Cn&&Xo.length>0&&Mi+Mt.length>1&&Ft.uniqueSort(dn)}return Ir&&(br=Pa,je=ga),Ni};return jt?vn(Jt):Jt}return Ie=Ft.compile=function(Qe,Mt){var jt,yn=[],Jt=[],Cn=fa[Qe+" "];if(!Cn){for(Mt||(Mt=Ce(Qe)),jt=Mt.length;jt--;)Cn=fi(Mt[jt]),Cn[si]?yn.push(Cn):Jt.push(Cn);Cn=fa(Qe,li(Jt,yn)),Cn.selector=Qe}return Cn},Te=Ft.select=function(Qe,Mt,jt,yn){var Jt,Cn,Sn,In,dn,Ir=typeof Qe=="function"&&Qe,Fr=!yn&&Ce(Qe=Ir.selector||Qe);if(jt=jt||[],Fr.length===1){if(Cn=Fr[0]=Fr[0].slice(0),Cn.length>2&&(Sn=Cn[0]).type==="ID"&&Mt.nodeType===9&&On&&te.relative[Cn[1].type]){if(Mt=(te.find.ID(Sn.matches[0].replace(Wi,Ta),Mt)||[])[0],Mt)Ir&&(Mt=Mt.parentNode);else return jt;Qe=Qe.slice(Cn.shift().value.length)}for(Jt=Eo.needsContext.test(Qe)?0:Cn.length;Jt--&&(Sn=Cn[Jt],!te.relative[In=Sn.type]);)if((dn=te.find[In])&&(yn=dn(Sn.matches[0].replace(Wi,Ta),to.test(Cn[0].type)&&yi(Mt.parentNode)||Mt))){if(Cn.splice(Jt,1),Qe=yn.length&&$i(Cn),!Qe)return eo.apply(jt,yn),jt;break}}return(Ir||Ie(Qe,Fr))(yn,Mt,!On,jt,!Mt||to.test(Qe)&&yi(Mt.parentNode)||Mt),jt},k.sortStable=si.split("").sort(vo).join("")===si,k.detectDuplicates=!!ht,ot(),k.sortDetached=Gn(function(Qe){return Qe.compareDocumentPosition(ct.createElement("fieldset"))&1}),Gn(function(Qe){return Qe.innerHTML="<a href='#'></a>",Qe.firstChild.getAttribute("href")==="#"})||Yn("type|href|height|width",function(Qe,Mt,jt){if(!jt)return Qe.getAttribute(Mt,Mt.toLowerCase()==="type"?1:2)}),(!k.attributes||!Gn(function(Qe){return Qe.innerHTML="<input/>",Qe.firstChild.setAttribute("value",""),Qe.firstChild.getAttribute("value")===""}))&&Yn("value",function(Qe,Mt,jt){if(!jt&&Qe.nodeName.toLowerCase()==="input")return Qe.defaultValue}),Gn(function(Qe){return Qe.getAttribute("disabled")==null})||Yn(Co,function(Qe,Mt,jt){var yn;if(!jt)return Qe[Mt]===!0?Mt.toLowerCase():(yn=Qe.getAttributeNode(Mt))&&yn.specified?yn.value:null}),Ft}(t);B.find=oe,B.expr=oe.selectors,B.expr[":"]=B.expr.pseudos,B.uniqueSort=B.unique=oe.uniqueSort,B.text=oe.getText,B.isXMLDoc=oe.isXML,B.contains=oe.contains,B.escapeSelector=oe.escape;var O=function(ne,g,k){for(var te=[],de=k!==void 0;(ne=ne[g])&&ne.nodeType!==9;)if(ne.nodeType===1){if(de&&B(ne).is(k))break;te.push(ne)}return te},T=function(ne,g){for(var k=[];ne;ne=ne.nextSibling)ne.nodeType===1&&ne!==g&&k.push(ne);return k},ce=B.expr.match.needsContext;function fe(ne,g){return ne.nodeName&&ne.nodeName.toLowerCase()===g.toLowerCase()}var Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ae(ne,g,k){return N(g)?B.grep(ne,function(te,de){return!!g.call(te,de,te)!==k}):g.nodeType?B.grep(ne,function(te){return te===g!==k}):typeof g!="string"?B.grep(ne,function(te){return E.call(g,te)>-1!==k}):B.filter(g,ne,k)}B.filter=function(ne,g,k){var te=g[0];return k&&(ne=":not("+ne+")"),g.length===1&&te.nodeType===1?B.find.matchesSelector(te,ne)?[te]:[]:B.find.matches(ne,B.grep(g,function(de){return de.nodeType===1}))},B.fn.extend({find:function(ne){var g,k,te=this.length,de=this;if(typeof ne!="string")return this.pushStack(B(ne).filter(function(){for(g=0;g<te;g++)if(B.contains(de[g],this))return!0}));for(k=this.pushStack([]),g=0;g<te;g++)B.find(ne,de[g],k);return te>1?B.uniqueSort(k):k},filter:function(ne){return this.pushStack(Ae(this,ne||[],!1))},not:function(ne){return this.pushStack(Ae(this,ne||[],!0))},is:function(ne){return!!Ae(this,typeof ne=="string"&&ce.test(ne)?B(ne):ne||[],!1).length}});var _e,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,De=B.fn.init=function(ne,g,k){var te,de;if(!ne)return this;if(k=k||_e,typeof ne=="string")if(ne[0]==="<"&&ne[ne.length-1]===">"&&ne.length>=3?te=[null,ne,null]:te=xe.exec(ne),te&&(te[1]||!g))if(te[1]){if(g=g instanceof B?g[0]:g,B.merge(this,B.parseHTML(te[1],g&&g.nodeType?g.ownerDocument||g:ie,!0)),Ee.test(te[1])&&B.isPlainObject(g))for(te in g)N(this[te])?this[te](g[te]):this.attr(te,g[te]);return this}else return de=ie.getElementById(te[2]),de&&(this[0]=de,this.length=1),this;else return!g||g.jquery?(g||k).find(ne):this.constructor(g).find(ne);else{if(ne.nodeType)return this[0]=ne,this.length=1,this;if(N(ne))return k.ready!==void 0?k.ready(ne):ne(B)}return B.makeArray(ne,this)};De.prototype=B.fn,_e=B(ie);var Le=/^(?:parents|prev(?:Until|All))/,Ge={children:!0,contents:!0,next:!0,prev:!0};B.fn.extend({has:function(ne){var g=B(ne,this),k=g.length;return this.filter(function(){for(var te=0;te<k;te++)if(B.contains(this,g[te]))return!0})},closest:function(ne,g){var k,te=0,de=this.length,me=[],Ce=typeof ne!="string"&&B(ne);if(!ce.test(ne)){for(;te<de;te++)for(k=this[te];k&&k!==g;k=k.parentNode)if(k.nodeType<11&&(Ce?Ce.index(k)>-1:k.nodeType===1&&B.find.matchesSelector(k,ne))){me.push(k);break}}return this.pushStack(me.length>1?B.uniqueSort(me):me)},index:function(ne){return ne?typeof ne=="string"?E.call(B(ne),this[0]):E.call(this,ne.jquery?ne[0]:ne):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(ne,g){return this.pushStack(B.uniqueSort(B.merge(this.get(),B(ne,g))))},addBack:function(ne){return this.add(ne==null?this.prevObject:this.prevObject.filter(ne))}});function rt(ne,g){for(;(ne=ne[g])&&ne.nodeType!==1;);return ne}B.each({parent:function(ne){var g=ne.parentNode;return g&&g.nodeType!==11?g:null},parents:function(ne){return O(ne,"parentNode")},parentsUntil:function(ne,g,k){return O(ne,"parentNode",k)},next:function(ne){return rt(ne,"nextSibling")},prev:function(ne){return rt(ne,"previousSibling")},nextAll:function(ne){return O(ne,"nextSibling")},prevAll:function(ne){return O(ne,"previousSibling")},nextUntil:function(ne,g,k){return O(ne,"nextSibling",k)},prevUntil:function(ne,g,k){return O(ne,"previousSibling",k)},siblings:function(ne){return T((ne.parentNode||{}).firstChild,ne)},children:function(ne){return T(ne.firstChild)},contents:function(ne){return ne.contentDocument!=null&&a(ne.contentDocument)?ne.contentDocument:(fe(ne,"template")&&(ne=ne.content||ne),B.merge([],ne.childNodes))}},function(ne,g){B.fn[ne]=function(k,te){var de=B.map(this,g,k);return ne.slice(-5)!=="Until"&&(te=k),te&&typeof te=="string"&&(de=B.filter(te,de)),this.length>1&&(Ge[ne]||B.uniqueSort(de),Le.test(ne)&&de.reverse()),this.pushStack(de)}});var We=/[^\x20\t\r\n\f]+/g;function xt(ne){var g={};return B.each(ne.match(We)||[],function(k,te){g[te]=!0}),g}B.Callbacks=function(ne){ne=typeof ne=="string"?xt(ne):B.extend({},ne);var g,k,te,de,me=[],Ce=[],Ie=-1,Te=function(){for(de=de||ne.once,te=g=!0;Ce.length;Ie=-1)for(k=Ce.shift();++Ie<me.length;)me[Ie].apply(k[0],k[1])===!1&&ne.stopOnFalse&&(Ie=me.length,k=!1);ne.memory||(k=!1),g=!1,de&&(k?me=[]:me="")},je={add:function(){return me&&(k&&!g&&(Ie=me.length-1,Ce.push(k)),function Xe(ht){B.each(ht,function(ot,ct){N(ct)?(!ne.unique||!je.has(ct))&&me.push(ct):ct&&ct.length&&he(ct)!=="string"&&Xe(ct)})}(arguments),k&&!g&&Te()),this},remove:function(){return B.each(arguments,function(Xe,ht){for(var ot;(ot=B.inArray(ht,me,ot))>-1;)me.splice(ot,1),ot<=Ie&&Ie--}),this},has:function(Xe){return Xe?B.inArray(Xe,me)>-1:me.length>0},empty:function(){return me&&(me=[]),this},disable:function(){return de=Ce=[],me=k="",this},disabled:function(){return!me},lock:function(){return de=Ce=[],!k&&!g&&(me=k=""),this},locked:function(){return!!de},fireWith:function(Xe,ht){return de||(ht=ht||[],ht=[Xe,ht.slice?ht.slice():ht],Ce.push(ht),g||Te()),this},fire:function(){return je.fireWith(this,arguments),this},fired:function(){return!!te}};return je};function Me(ne){return ne}function Ue(ne){throw ne}function Pe(ne,g,k,te){var de;try{ne&&N(de=ne.promise)?de.call(ne).done(g).fail(k):ne&&N(de=ne.then)?de.call(ne,g,k):g.apply(void 0,[ne].slice(te))}catch(me){k.apply(void 0,[me])}}B.extend({Deferred:function(ne){var g=[["notify","progress",B.Callbacks("memory"),B.Callbacks("memory"),2],["resolve","done",B.Callbacks("once memory"),B.Callbacks("once memory"),0,"resolved"],["reject","fail",B.Callbacks("once memory"),B.Callbacks("once memory"),1,"rejected"]],k="pending",te={state:function(){return k},always:function(){return de.done(arguments).fail(arguments),this},catch:function(me){return te.then(null,me)},pipe:function(){var me=arguments;return B.Deferred(function(Ce){B.each(g,function(Ie,Te){var je=N(me[Te[4]])&&me[Te[4]];de[Te[1]](function(){var Xe=je&&je.apply(this,arguments);Xe&&N(Xe.promise)?Xe.promise().progress(Ce.notify).done(Ce.resolve).fail(Ce.reject):Ce[Te[0]+"With"](this,je?[Xe]:arguments)})}),me=null}).promise()},then:function(me,Ce,Ie){var Te=0;function je(Xe,ht,ot,ct){return function(){var Yt=this,On=arguments,qt=function(){var qr,ii;if(!(Xe<Te)){if(qr=ot.apply(Yt,On),qr===ht.promise())throw new TypeError("Thenable self-resolution");ii=qr&&(typeof qr=="object"||typeof qr=="function")&&qr.then,N(ii)?ct?ii.call(qr,je(Te,ht,Me,ct),je(Te,ht,Ue,ct)):(Te++,ii.call(qr,je(Te,ht,Me,ct),je(Te,ht,Ue,ct),je(Te,ht,Me,ht.notifyWith))):(ot!==Me&&(Yt=void 0,On=[qr]),(ct||ht.resolveWith)(Yt,On))}},er=ct?qt:function(){try{qt()}catch(qr){B.Deferred.exceptionHook&&B.Deferred.exceptionHook(qr,er.stackTrace),Xe+1>=Te&&(ot!==Ue&&(Yt=void 0,On=[qr]),ht.rejectWith(Yt,On))}};Xe?er():(B.Deferred.getStackHook&&(er.stackTrace=B.Deferred.getStackHook()),t.setTimeout(er))}}return B.Deferred(function(Xe){g[0][3].add(je(0,Xe,N(Ie)?Ie:Me,Xe.notifyWith)),g[1][3].add(je(0,Xe,N(me)?me:Me)),g[2][3].add(je(0,Xe,N(Ce)?Ce:Ue))}).promise()},promise:function(me){return me!=null?B.extend(me,te):te}},de={};return B.each(g,function(me,Ce){var Ie=Ce[2],Te=Ce[5];te[Ce[1]]=Ie.add,Te&&Ie.add(function(){k=Te},g[3-me][2].disable,g[3-me][3].disable,g[0][2].lock,g[0][3].lock),Ie.add(Ce[3].fire),de[Ce[0]]=function(){return de[Ce[0]+"With"](this===de?void 0:this,arguments),this},de[Ce[0]+"With"]=Ie.fireWith}),te.promise(de),ne&&ne.call(de,de),de},when:function(ne){var g=arguments.length,k=g,te=Array(k),de=l.call(arguments),me=B.Deferred(),Ce=function(Ie){return function(Te){te[Ie]=this,de[Ie]=arguments.length>1?l.call(arguments):Te,--g||me.resolveWith(te,de)}};if(g<=1&&(Pe(ne,me.done(Ce(k)).resolve,me.reject,!g),me.state()==="pending"||N(de[k]&&de[k].then)))return me.then();for(;k--;)Pe(de[k],Ce(k),me.reject);return me.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;B.Deferred.exceptionHook=function(ne,g){t.console&&t.console.warn&&ne&&Re.test(ne.name)&&t.console.warn("jQuery.Deferred exception: "+ne.message,ne.stack,g)},B.readyException=function(ne){t.setTimeout(function(){throw ne})};var st=B.Deferred();B.fn.ready=function(ne){return st.then(ne).catch(function(g){B.readyException(g)}),this},B.extend({isReady:!1,readyWait:1,ready:function(ne){(ne===!0?--B.readyWait:B.isReady)||(B.isReady=!0,!(ne!==!0&&--B.readyWait>0)&&st.resolveWith(ie,[B]))}}),B.ready.then=st.then;function It(){ie.removeEventListener("DOMContentLoaded",It),t.removeEventListener("load",It),B.ready()}ie.readyState==="complete"||ie.readyState!=="loading"&&!ie.documentElement.doScroll?t.setTimeout(B.ready):(ie.addEventListener("DOMContentLoaded",It),t.addEventListener("load",It));var Ct=function(ne,g,k,te,de,me,Ce){var Ie=0,Te=ne.length,je=k==null;if(he(k)==="object"){de=!0;for(Ie in k)Ct(ne,g,Ie,k[Ie],!0,me,Ce)}else if(te!==void 0&&(de=!0,N(te)||(Ce=!0),je&&(Ce?(g.call(ne,te),g=null):(je=g,g=function(Xe,ht,ot){return je.call(B(Xe),ot)})),g))for(;Ie<Te;Ie++)g(ne[Ie],k,Ce?te:te.call(ne[Ie],Ie,g(ne[Ie],k)));return de?ne:je?g.call(ne):Te?g(ne[0],k):me},tt=/^-ms-/,Ve=/-([a-z])/g;function Ze(ne,g){return g.toUpperCase()}function Ne(ne){return ne.replace(tt,"ms-").replace(Ve,Ze)}var qe=function(ne){return ne.nodeType===1||ne.nodeType===9||!+ne.nodeType};function lt(){this.expando=B.expando+lt.uid++}lt.uid=1,lt.prototype={cache:function(ne){var g=ne[this.expando];return g||(g={},qe(ne)&&(ne.nodeType?ne[this.expando]=g:Object.defineProperty(ne,this.expando,{value:g,configurable:!0}))),g},set:function(ne,g,k){var te,de=this.cache(ne);if(typeof g=="string")de[Ne(g)]=k;else for(te in g)de[Ne(te)]=g[te];return de},get:function(ne,g){return g===void 0?this.cache(ne):ne[this.expando]&&ne[this.expando][Ne(g)]},access:function(ne,g,k){return g===void 0||g&&typeof g=="string"&&k===void 0?this.get(ne,g):(this.set(ne,g,k),k!==void 0?k:g)},remove:function(ne,g){var k,te=ne[this.expando];if(te!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map(Ne):(g=Ne(g),g=g in te?[g]:g.match(We)||[]),k=g.length;k--;)delete te[g[k]];(g===void 0||B.isEmptyObject(te))&&(ne.nodeType?ne[this.expando]=void 0:delete ne[this.expando])}},hasData:function(ne){var g=ne[this.expando];return g!==void 0&&!B.isEmptyObject(g)}};var vt=new lt,bt=new lt,nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;function kt(ne){return ne==="true"?!0:ne==="false"?!1:ne==="null"?null:ne===+ne+""?+ne:nt.test(ne)?JSON.parse(ne):ne}function Qt(ne,g,k){var te;if(k===void 0&&ne.nodeType===1)if(te="data-"+g.replace(Nt,"-$&").toLowerCase(),k=ne.getAttribute(te),typeof k=="string"){try{k=kt(k)}catch{}bt.set(ne,g,k)}else k=void 0;return k}B.extend({hasData:function(ne){return bt.hasData(ne)||vt.hasData(ne)},data:function(ne,g,k){return bt.access(ne,g,k)},removeData:function(ne,g){bt.remove(ne,g)},_data:function(ne,g,k){return vt.access(ne,g,k)},_removeData:function(ne,g){vt.remove(ne,g)}}),B.fn.extend({data:function(ne,g){var k,te,de,me=this[0],Ce=me&&me.attributes;if(ne===void 0){if(this.length&&(de=bt.get(me),me.nodeType===1&&!vt.get(me,"hasDataAttrs"))){for(k=Ce.length;k--;)Ce[k]&&(te=Ce[k].name,te.indexOf("data-")===0&&(te=Ne(te.slice(5)),Qt(me,te,de[te])));vt.set(me,"hasDataAttrs",!0)}return de}return typeof ne=="object"?this.each(function(){bt.set(this,ne)}):Ct(this,function(Ie){var Te;if(me&&Ie===void 0)return Te=bt.get(me,ne),Te!==void 0||(Te=Qt(me,ne),Te!==void 0)?Te:void 0;this.each(function(){bt.set(this,ne,Ie)})},null,g,arguments.length>1,null,!0)},removeData:function(ne){return this.each(function(){bt.remove(this,ne)})}}),B.extend({queue:function(ne,g,k){var te;if(ne)return g=(g||"fx")+"queue",te=vt.get(ne,g),k&&(!te||Array.isArray(k)?te=vt.access(ne,g,B.makeArray(k)):te.push(k)),te||[]},dequeue:function(ne,g){g=g||"fx";var k=B.queue(ne,g),te=k.length,de=k.shift(),me=B._queueHooks(ne,g),Ce=function(){B.dequeue(ne,g)};de==="inprogress"&&(de=k.shift(),te--),de&&(g==="fx"&&k.unshift("inprogress"),delete me.stop,de.call(ne,Ce,me)),!te&&me&&me.empty.fire()},_queueHooks:function(ne,g){var k=g+"queueHooks";return vt.get(ne,k)||vt.access(ne,k,{empty:B.Callbacks("once memory").add(function(){vt.remove(ne,[g+"queue",k])})})}}),B.fn.extend({queue:function(ne,g){var k=2;return typeof ne!="string"&&(g=ne,ne="fx",k--),arguments.length<k?B.queue(this[0],ne):g===void 0?this:this.each(function(){var te=B.queue(this,ne,g);B._queueHooks(this,ne),ne==="fx"&&te[0]!=="inprogress"&&B.dequeue(this,ne)})},dequeue:function(ne){return this.each(function(){B.dequeue(this,ne)})},clearQueue:function(ne){return this.queue(ne||"fx",[])},promise:function(ne,g){var k,te=1,de=B.Deferred(),me=this,Ce=this.length,Ie=function(){--te||de.resolveWith(me,[me])};for(typeof ne!="string"&&(g=ne,ne=void 0),ne=ne||"fx";Ce--;)k=vt.get(me[Ce],ne+"queueHooks"),k&&k.empty&&(te++,k.empty.add(Ie));return Ie(),de.promise(g)}});var gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+gt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],et=ie.documentElement,sn=function(ne){return B.contains(ne.ownerDocument,ne)},bn={composed:!0};et.getRootNode&&(sn=function(ne){return B.contains(ne.ownerDocument,ne)||ne.getRootNode(bn)===ne.ownerDocument});var Fn=function(ne,g){return ne=g||ne,ne.style.display==="none"||ne.style.display===""&&sn(ne)&&B.css(ne,"display")==="none"};function St(ne,g,k,te){var de,me,Ce=20,Ie=te?function(){return te.cur()}:function(){return B.css(ne,g,"")},Te=Ie(),je=k&&k[3]||(B.cssNumber[g]?"":"px"),Xe=ne.nodeType&&(B.cssNumber[g]||je!=="px"&&+Te)&&Dt.exec(B.css(ne,g));if(Xe&&Xe[3]!==je){for(Te=Te/2,je=je||Xe[3],Xe=+Te||1;Ce--;)B.style(ne,g,Xe+je),(1-me)*(1-(me=Ie()/Te||.5))<=0&&(Ce=0),Xe=Xe/me;Xe=Xe*2,B.style(ne,g,Xe+je),k=k||[]}return k&&(Xe=+Xe||+Te||0,de=k[1]?Xe+(k[1]+1)*k[2]:+k[2],te&&(te.unit=je,te.start=Xe,te.end=de)),de}var dt={};function At(ne){var g,k=ne.ownerDocument,te=ne.nodeName,de=dt[te];return de||(g=k.body.appendChild(k.createElement(te)),de=B.css(g,"display"),g.parentNode.removeChild(g),de==="none"&&(de="block"),dt[te]=de,de)}function Xt(ne,g){for(var k,te,de=[],me=0,Ce=ne.length;me<Ce;me++)te=ne[me],te.style&&(k=te.style.display,g?(k==="none"&&(de[me]=vt.get(te,"display")||null,de[me]||(te.style.display="")),te.style.display===""&&Fn(te)&&(de[me]=At(te))):k!=="none"&&(de[me]="none",vt.set(te,"display",k)));for(me=0;me<Ce;me++)de[me]!=null&&(ne[me].style.display=de[me]);return ne}B.fn.extend({show:function(){return Xt(this,!0)},hide:function(){return Xt(this)},toggle:function(ne){return typeof ne=="boolean"?ne?this.show():this.hide():this.each(function(){Fn(this)?B(this).show():B(this).hide()})}});var cn=/^(?:checkbox|radio)$/i,zn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var ne=ie.createDocumentFragment(),g=ne.appendChild(ie.createElement("div")),k=ie.createElement("input");k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","t"),g.appendChild(k),L.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",L.option=!!g.lastChild})();var Un={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Un.tbody=Un.tfoot=Un.colgroup=Un.caption=Un.thead,Un.th=Un.td,L.option||(Un.optgroup=Un.option=[1,"<select multiple='multiple'>","</select>"]);function Mn(ne,g){var k;return typeof ne.getElementsByTagName<"u"?k=ne.getElementsByTagName(g||"*"):typeof ne.querySelectorAll<"u"?k=ne.querySelectorAll(g||"*"):k=[],g===void 0||g&&fe(ne,g)?B.merge([ne],k):k}function jr(ne,g){for(var k=0,te=ne.length;k<te;k++)vt.set(ne[k],"globalEval",!g||vt.get(g[k],"globalEval"))}var Bi=/<|&#?\w+;/;function Ut(ne,g,k,te,de){for(var me,Ce,Ie,Te,je,Xe,ht=g.createDocumentFragment(),ot=[],ct=0,Yt=ne.length;ct<Yt;ct++)if(me=ne[ct],me||me===0)if(he(me)==="object")B.merge(ot,me.nodeType?[me]:me);else if(!Bi.test(me))ot.push(g.createTextNode(me));else{for(Ce=Ce||ht.appendChild(g.createElement("div")),Ie=(zn.exec(me)||["",""])[1].toLowerCase(),Te=Un[Ie]||Un._default,Ce.innerHTML=Te[1]+B.htmlPrefilter(me)+Te[2],Xe=Te[0];Xe--;)Ce=Ce.lastChild;B.merge(ot,Ce.childNodes),Ce=ht.firstChild,Ce.textContent=""}for(ht.textContent="",ct=0;me=ot[ct++];){if(te&&B.inArray(me,te)>-1){de&&de.push(me);continue}if(je=sn(me),Ce=Mn(ht.appendChild(me),"script"),je&&jr(Ce),k)for(Xe=0;me=Ce[Xe++];)Vr.test(me.type||"")&&k.push(me)}return ht}var Dn=/^([^.]*)(?:\.(.+)|)/;function ar(){return!0}function Yr(){return!1}function ui(ne,g){return ne===Oi()==(g==="focus")}function Oi(){try{return ie.activeElement}catch{}}function Ti(ne,g,k,te,de,me){var Ce,Ie;if(typeof g=="object"){typeof k!="string"&&(te=te||k,k=void 0);for(Ie in g)Ti(ne,Ie,k,te,g[Ie],me);return ne}if(te==null&&de==null?(de=k,te=k=void 0):de==null&&(typeof k=="string"?(de=te,te=void 0):(de=te,te=k,k=void 0)),de===!1)de=Yr;else if(!de)return ne;return me===1&&(Ce=de,de=function(Te){return B().off(Te),Ce.apply(this,arguments)},de.guid=Ce.guid||(Ce.guid=B.guid++)),ne.each(function(){B.event.add(this,g,de,te,k)})}B.event={global:{},add:function(ne,g,k,te,de){var me,Ce,Ie,Te,je,Xe,ht,ot,ct,Yt,On,qt=vt.get(ne);if(!!qe(ne))for(k.handler&&(me=k,k=me.handler,de=me.selector),de&&B.find.matchesSelector(et,de),k.guid||(k.guid=B.guid++),(Te=qt.events)||(Te=qt.events=Object.create(null)),(Ce=qt.handle)||(Ce=qt.handle=function(er){return typeof B<"u"&&B.event.triggered!==er.type?B.event.dispatch.apply(ne,arguments):void 0}),g=(g||"").match(We)||[""],je=g.length;je--;)Ie=Dn.exec(g[je])||[],ct=On=Ie[1],Yt=(Ie[2]||"").split(".").sort(),ct&&(ht=B.event.special[ct]||{},ct=(de?ht.delegateType:ht.bindType)||ct,ht=B.event.special[ct]||{},Xe=B.extend({type:ct,origType:On,data:te,handler:k,guid:k.guid,selector:de,needsContext:de&&B.expr.match.needsContext.test(de),namespace:Yt.join(".")},me),(ot=Te[ct])||(ot=Te[ct]=[],ot.delegateCount=0,(!ht.setup||ht.setup.call(ne,te,Yt,Ce)===!1)&&ne.addEventListener&&ne.addEventListener(ct,Ce)),ht.add&&(ht.add.call(ne,Xe),Xe.handler.guid||(Xe.handler.guid=k.guid)),de?ot.splice(ot.delegateCount++,0,Xe):ot.push(Xe),B.event.global[ct]=!0)},remove:function(ne,g,k,te,de){var me,Ce,Ie,Te,je,Xe,ht,ot,ct,Yt,On,qt=vt.hasData(ne)&&vt.get(ne);if(!(!qt||!(Te=qt.events))){for(g=(g||"").match(We)||[""],je=g.length;je--;){if(Ie=Dn.exec(g[je])||[],ct=On=Ie[1],Yt=(Ie[2]||"").split(".").sort(),!ct){for(ct in Te)B.event.remove(ne,ct+g[je],k,te,!0);continue}for(ht=B.event.special[ct]||{},ct=(te?ht.delegateType:ht.bindType)||ct,ot=Te[ct]||[],Ie=Ie[2]&&new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ce=me=ot.length;me--;)Xe=ot[me],(de||On===Xe.origType)&&(!k||k.guid===Xe.guid)&&(!Ie||Ie.test(Xe.namespace))&&(!te||te===Xe.selector||te==="**"&&Xe.selector)&&(ot.splice(me,1),Xe.selector&&ot.delegateCount--,ht.remove&&ht.remove.call(ne,Xe));Ce&&!ot.length&&((!ht.teardown||ht.teardown.call(ne,Yt,qt.handle)===!1)&&B.removeEvent(ne,ct,qt.handle),delete Te[ct])}B.isEmptyObject(Te)&&vt.remove(ne,"handle events")}},dispatch:function(ne){var g,k,te,de,me,Ce,Ie=new Array(arguments.length),Te=B.event.fix(ne),je=(vt.get(this,"events")||Object.create(null))[Te.type]||[],Xe=B.event.special[Te.type]||{};for(Ie[0]=Te,g=1;g<arguments.length;g++)Ie[g]=arguments[g];if(Te.delegateTarget=this,!(Xe.preDispatch&&Xe.preDispatch.call(this,Te)===!1)){for(Ce=B.event.handlers.call(this,Te,je),g=0;(de=Ce[g++])&&!Te.isPropagationStopped();)for(Te.currentTarget=de.elem,k=0;(me=de.handlers[k++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||me.namespace===!1||Te.rnamespace.test(me.namespace))&&(Te.handleObj=me,Te.data=me.data,te=((B.event.special[me.origType]||{}).handle||me.handler).apply(de.elem,Ie),te!==void 0&&(Te.result=te)===!1&&(Te.preventDefault(),Te.stopPropagation()));return Xe.postDispatch&&Xe.postDispatch.call(this,Te),Te.result}},handlers:function(ne,g){var k,te,de,me,Ce,Ie=[],Te=g.delegateCount,je=ne.target;if(Te&&je.nodeType&&!(ne.type==="click"&&ne.button>=1)){for(;je!==this;je=je.parentNode||this)if(je.nodeType===1&&!(ne.type==="click"&&je.disabled===!0)){for(me=[],Ce={},k=0;k<Te;k++)te=g[k],de=te.selector+" ",Ce[de]===void 0&&(Ce[de]=te.needsContext?B(de,this).index(je)>-1:B.find(de,this,null,[je]).length),Ce[de]&&me.push(te);me.length&&Ie.push({elem:je,handlers:me})}}return je=this,Te<g.length&&Ie.push({elem:je,handlers:g.slice(Te)}),Ie},addProp:function(ne,g){Object.defineProperty(B.Event.prototype,ne,{enumerable:!0,configurable:!0,get:N(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[ne]},set:function(k){Object.defineProperty(this,ne,{enumerable:!0,configurable:!0,writable:!0,value:k})}})},fix:function(ne){return ne[B.expando]?ne:new B.Event(ne)},special:{load:{noBubble:!0},click:{setup:function(ne){var g=this||ne;return cn.test(g.type)&&g.click&&fe(g,"input")&&Ri(g,"click",ar),!1},trigger:function(ne){var g=this||ne;return cn.test(g.type)&&g.click&&fe(g,"input")&&Ri(g,"click"),!0},_default:function(ne){var g=ne.target;return cn.test(g.type)&&g.click&&fe(g,"input")&&vt.get(g,"click")||fe(g,"a")}},beforeunload:{postDispatch:function(ne){ne.result!==void 0&&ne.originalEvent&&(ne.originalEvent.returnValue=ne.result)}}}};function Ri(ne,g,k){if(!k){vt.get(ne,g)===void 0&&B.event.add(ne,g,ar);return}vt.set(ne,g,!1),B.event.add(ne,g,{namespace:!1,handler:function(te){var de,me,Ce=vt.get(this,g);if(te.isTrigger&1&&this[g]){if(Ce.length)(B.event.special[g]||{}).delegateType&&te.stopPropagation();else if(Ce=l.call(arguments),vt.set(this,g,Ce),de=k(this,g),this[g](),me=vt.get(this,g),Ce!==me||de?vt.set(this,g,!1):me={},Ce!==me)return te.stopImmediatePropagation(),te.preventDefault(),me&&me.value}else Ce.length&&(vt.set(this,g,{value:B.event.trigger(B.extend(Ce[0],B.Event.prototype),Ce.slice(1),this)}),te.stopImmediatePropagation())}})}B.removeEvent=function(ne,g,k){ne.removeEventListener&&ne.removeEventListener(g,k)},B.Event=function(ne,g){if(!(this instanceof B.Event))return new B.Event(ne,g);ne&&ne.type?(this.originalEvent=ne,this.type=ne.type,this.isDefaultPrevented=ne.defaultPrevented||ne.defaultPrevented===void 0&&ne.returnValue===!1?ar:Yr,this.target=ne.target&&ne.target.nodeType===3?ne.target.parentNode:ne.target,this.currentTarget=ne.currentTarget,this.relatedTarget=ne.relatedTarget):this.type=ne,g&&B.extend(this,g),this.timeStamp=ne&&ne.timeStamp||Date.now(),this[B.expando]=!0},B.Event.prototype={constructor:B.Event,isDefaultPrevented:Yr,isPropagationStopped:Yr,isImmediatePropagationStopped:Yr,isSimulated:!1,preventDefault:function(){var ne=this.originalEvent;this.isDefaultPrevented=ar,ne&&!this.isSimulated&&ne.preventDefault()},stopPropagation:function(){var ne=this.originalEvent;this.isPropagationStopped=ar,ne&&!this.isSimulated&&ne.stopPropagation()},stopImmediatePropagation:function(){var ne=this.originalEvent;this.isImmediatePropagationStopped=ar,ne&&!this.isSimulated&&ne.stopImmediatePropagation(),this.stopPropagation()}},B.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},B.event.addProp),B.each({focus:"focusin",blur:"focusout"},function(ne,g){B.event.special[ne]={setup:function(){return Ri(this,ne,ui),!1},trigger:function(){return Ri(this,ne),!0},_default:function(k){return vt.get(k.target,ne)},delegateType:g}}),B.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(ne,g){B.event.special[ne]={delegateType:g,bindType:g,handle:function(k){var te,de=this,me=k.relatedTarget,Ce=k.handleObj;return(!me||me!==de&&!B.contains(de,me))&&(k.type=Ce.origType,te=Ce.handler.apply(this,arguments),k.type=g),te}}}),B.fn.extend({on:function(ne,g,k,te){return Ti(this,ne,g,k,te)},one:function(ne,g,k,te){return Ti(this,ne,g,k,te,1)},off:function(ne,g,k){var te,de;if(ne&&ne.preventDefault&&ne.handleObj)return te=ne.handleObj,B(ne.delegateTarget).off(te.namespace?te.origType+"."+te.namespace:te.origType,te.selector,te.handler),this;if(typeof ne=="object"){for(de in ne)this.off(de,g,ne[de]);return this}return(g===!1||typeof g=="function")&&(k=g,g=void 0),k===!1&&(k=Yr),this.each(function(){B.event.remove(this,ne,k,g)})}});var lo=/<script|<style|<link/i,Ki=/checked\s*(?:[^=]|=\s*.checked.)/i,Qa=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function No(ne,g){return fe(ne,"table")&&fe(g.nodeType!==11?g:g.firstChild,"tr")&&B(ne).children("tbody")[0]||ne}function fo(ne){return ne.type=(ne.getAttribute("type")!==null)+"/"+ne.type,ne}function ni(ne){return(ne.type||"").slice(0,5)==="true/"?ne.type=ne.type.slice(5):ne.removeAttribute("type"),ne}function Po(ne,g){var k,te,de,me,Ce,Ie,Te;if(g.nodeType===1){if(vt.hasData(ne)&&(me=vt.get(ne),Te=me.events,Te)){vt.remove(g,"handle events");for(de in Te)for(k=0,te=Te[de].length;k<te;k++)B.event.add(g,de,Te[de][k])}bt.hasData(ne)&&(Ce=bt.access(ne),Ie=B.extend({},Ce),bt.set(g,Ie))}}function we(ne,g){var k=g.nodeName.toLowerCase();k==="input"&&cn.test(ne.type)?g.checked=ne.checked:(k==="input"||k==="textarea")&&(g.defaultValue=ne.defaultValue)}function vi(ne,g,k,te){g=c(g);var de,me,Ce,Ie,Te,je,Xe=0,ht=ne.length,ot=ht-1,ct=g[0],Yt=N(ct);if(Yt||ht>1&&typeof ct=="string"&&!L.checkClone&&Ki.test(ct))return ne.each(function(On){var qt=ne.eq(On);Yt&&(g[0]=ct.call(this,On,qt.html())),vi(qt,g,k,te)});if(ht&&(de=Ut(g,ne[0].ownerDocument,!1,ne,te),me=de.firstChild,de.childNodes.length===1&&(de=me),me||te)){for(Ce=B.map(Mn(de,"script"),fo),Ie=Ce.length;Xe<ht;Xe++)Te=de,Xe!==ot&&(Te=B.clone(Te,!0,!0),Ie&&B.merge(Ce,Mn(Te,"script"))),k.call(ne[Xe],Te,Xe);if(Ie)for(je=Ce[Ce.length-1].ownerDocument,B.map(Ce,ni),Xe=0;Xe<Ie;Xe++)Te=Ce[Xe],Vr.test(Te.type||"")&&!vt.access(Te,"globalEval")&&B.contains(je,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?B._evalUrl&&!Te.noModule&&B._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},je):ae(Te.textContent.replace(Qa,""),Te,je))}return ne}function Vo(ne,g,k){for(var te,de=g?B.filter(g,ne):ne,me=0;(te=de[me])!=null;me++)!k&&te.nodeType===1&&B.cleanData(Mn(te)),te.parentNode&&(k&&sn(te)&&jr(Mn(te,"script")),te.parentNode.removeChild(te));return ne}B.extend({htmlPrefilter:function(ne){return ne},clone:function(ne,g,k){var te,de,me,Ce,Ie=ne.cloneNode(!0),Te=sn(ne);if(!L.noCloneChecked&&(ne.nodeType===1||ne.nodeType===11)&&!B.isXMLDoc(ne))for(Ce=Mn(Ie),me=Mn(ne),te=0,de=me.length;te<de;te++)we(me[te],Ce[te]);if(g)if(k)for(me=me||Mn(ne),Ce=Ce||Mn(Ie),te=0,de=me.length;te<de;te++)Po(me[te],Ce[te]);else Po(ne,Ie);return Ce=Mn(Ie,"script"),Ce.length>0&&jr(Ce,!Te&&Mn(ne,"script")),Ie},cleanData:function(ne){for(var g,k,te,de=B.event.special,me=0;(k=ne[me])!==void 0;me++)if(qe(k)){if(g=k[vt.expando]){if(g.events)for(te in g.events)de[te]?B.event.remove(k,te):B.removeEvent(k,te,g.handle);k[vt.expando]=void 0}k[bt.expando]&&(k[bt.expando]=void 0)}}}),B.fn.extend({detach:function(ne){return Vo(this,ne,!0)},remove:function(ne){return Vo(this,ne)},text:function(ne){return Ct(this,function(g){return g===void 0?B.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,ne,arguments.length)},append:function(){return vi(this,arguments,function(ne){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=No(this,ne);g.appendChild(ne)}})},prepend:function(){return vi(this,arguments,function(ne){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=No(this,ne);g.insertBefore(ne,g.firstChild)}})},before:function(){return vi(this,arguments,function(ne){this.parentNode&&this.parentNode.insertBefore(ne,this)})},after:function(){return vi(this,arguments,function(ne){this.parentNode&&this.parentNode.insertBefore(ne,this.nextSibling)})},empty:function(){for(var ne,g=0;(ne=this[g])!=null;g++)ne.nodeType===1&&(B.cleanData(Mn(ne,!1)),ne.textContent="");return this},clone:function(ne,g){return ne=ne??!1,g=g??ne,this.map(function(){return B.clone(this,ne,g)})},html:function(ne){return Ct(this,function(g){var k=this[0]||{},te=0,de=this.length;if(g===void 0&&k.nodeType===1)return k.innerHTML;if(typeof g=="string"&&!lo.test(g)&&!Un[(zn.exec(g)||["",""])[1].toLowerCase()]){g=B.htmlPrefilter(g);try{for(;te<de;te++)k=this[te]||{},k.nodeType===1&&(B.cleanData(Mn(k,!1)),k.innerHTML=g);k=0}catch{}}k&&this.empty().append(g)},null,ne,arguments.length)},replaceWith:function(){var ne=[];return vi(this,arguments,function(g){var k=this.parentNode;B.inArray(this,ne)<0&&(B.cleanData(Mn(this)),k&&k.replaceChild(g,this))},ne)}}),B.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(ne,g){B.fn[ne]=function(k){for(var te,de=[],me=B(k),Ce=me.length-1,Ie=0;Ie<=Ce;Ie++)te=Ie===Ce?this:this.clone(!0),B(me[Ie])[g](te),d.apply(de,te.get());return this.pushStack(de)}});var xr=new RegExp("^("+gt+")(?!px)[a-z%]+$","i"),Bo=/^--/,pa=function(ne){var g=ne.ownerDocument.defaultView;return(!g||!g.opener)&&(g=t),g.getComputedStyle(ne)},ps=function(ne,g,k){var te,de,me={};for(de in g)me[de]=ne.style[de],ne.style[de]=g[de];te=k.call(ne);for(de in g)ne.style[de]=me[de];return te},fs=new RegExp(zt.join("|"),"i"),Aa="[\\x20\\t\\r\\n\\f]",sa=new RegExp("^"+Aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Aa+"+$","g");(function(){function ne(){if(!!je){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",je.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(Te).appendChild(je);var Xe=t.getComputedStyle(je);k=Xe.top!=="1%",Ie=g(Xe.marginLeft)===12,je.style.right="60%",me=g(Xe.right)===36,te=g(Xe.width)===36,je.style.position="absolute",de=g(je.offsetWidth/3)===12,et.removeChild(Te),je=null}}function g(Xe){return Math.round(parseFloat(Xe))}var k,te,de,me,Ce,Ie,Te=ie.createElement("div"),je=ie.createElement("div");!je.style||(je.style.backgroundClip="content-box",je.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=je.style.backgroundClip==="content-box",B.extend(L,{boxSizingReliable:function(){return ne(),te},pixelBoxStyles:function(){return ne(),me},pixelPosition:function(){return ne(),k},reliableMarginLeft:function(){return ne(),Ie},scrollboxSize:function(){return ne(),de},reliableTrDimensions:function(){var Xe,ht,ot,ct;return Ce==null&&(Xe=ie.createElement("table"),ht=ie.createElement("tr"),ot=ie.createElement("div"),Xe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ht.style.cssText="border:1px solid",ht.style.height="1px",ot.style.height="9px",ot.style.display="block",et.appendChild(Xe).appendChild(ht).appendChild(ot),ct=t.getComputedStyle(ht),Ce=parseInt(ct.height,10)+parseInt(ct.borderTopWidth,10)+parseInt(ct.borderBottomWidth,10)===ht.offsetHeight,et.removeChild(Xe)),Ce}}))})();function Qo(ne,g,k){var te,de,me,Ce,Ie=Bo.test(g),Te=ne.style;return k=k||pa(ne),k&&(Ce=k.getPropertyValue(g)||k[g],Ie&&Ce&&(Ce=Ce.replace(sa,"$1")||void 0),Ce===""&&!sn(ne)&&(Ce=B.style(ne,g)),!L.pixelBoxStyles()&&xr.test(Ce)&&fs.test(g)&&(te=Te.width,de=Te.minWidth,me=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=Ce,Ce=k.width,Te.width=te,Te.minWidth=de,Te.maxWidth=me)),Ce!==void 0?Ce+"":Ce}function mo(ne,g){return{get:function(){if(ne()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var Ra=["Webkit","Moz","ms"],jo=ie.createElement("div").style,es={};function As(ne){for(var g=ne[0].toUpperCase()+ne.slice(1),k=Ra.length;k--;)if(ne=Ra[k]+g,ne in jo)return ne}function ea(ne){var g=B.cssProps[ne]||es[ne];return g||(ne in jo?ne:es[ne]=As(ne)||ne)}var ms=/^(none|table(?!-c[ea]).+)/,Wo={position:"absolute",visibility:"hidden",display:"block"},La={letterSpacing:"0",fontWeight:"400"};function Ia(ne,g,k){var te=Dt.exec(g);return te?Math.max(0,te[2]-(k||0))+(te[3]||"px"):g}function Ba(ne,g,k,te,de,me){var Ce=g==="width"?1:0,Ie=0,Te=0;if(k===(te?"border":"content"))return 0;for(;Ce<4;Ce+=2)k==="margin"&&(Te+=B.css(ne,k+zt[Ce],!0,de)),te?(k==="content"&&(Te-=B.css(ne,"padding"+zt[Ce],!0,de)),k!=="margin"&&(Te-=B.css(ne,"border"+zt[Ce]+"Width",!0,de))):(Te+=B.css(ne,"padding"+zt[Ce],!0,de),k!=="padding"?Te+=B.css(ne,"border"+zt[Ce]+"Width",!0,de):Ie+=B.css(ne,"border"+zt[Ce]+"Width",!0,de));return!te&&me>=0&&(Te+=Math.max(0,Math.ceil(ne["offset"+g[0].toUpperCase()+g.slice(1)]-me-Te-Ie-.5))||0),Te}function Li(ne,g,k){var te=pa(ne),de=!L.boxSizingReliable()||k,me=de&&B.css(ne,"boxSizing",!1,te)==="border-box",Ce=me,Ie=Qo(ne,g,te),Te="offset"+g[0].toUpperCase()+g.slice(1);if(xr.test(Ie)){if(!k)return Ie;Ie="auto"}return(!L.boxSizingReliable()&&me||!L.reliableTrDimensions()&&fe(ne,"tr")||Ie==="auto"||!parseFloat(Ie)&&B.css(ne,"display",!1,te)==="inline")&&ne.getClientRects().length&&(me=B.css(ne,"boxSizing",!1,te)==="border-box",Ce=Te in ne,Ce&&(Ie=ne[Te])),Ie=parseFloat(Ie)||0,Ie+Ba(ne,g,k||(me?"border":"content"),Ce,te,Ie)+"px"}B.extend({cssHooks:{opacity:{get:function(ne,g){if(g){var k=Qo(ne,"opacity");return k===""?"1":k}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(ne,g,k,te){if(!(!ne||ne.nodeType===3||ne.nodeType===8||!ne.style)){var de,me,Ce,Ie=Ne(g),Te=Bo.test(g),je=ne.style;if(Te||(g=ea(Ie)),Ce=B.cssHooks[g]||B.cssHooks[Ie],k!==void 0){if(me=typeof k,me==="string"&&(de=Dt.exec(k))&&de[1]&&(k=St(ne,g,de),me="number"),k==null||k!==k)return;me==="number"&&!Te&&(k+=de&&de[3]||(B.cssNumber[Ie]?"":"px")),!L.clearCloneStyle&&k===""&&g.indexOf("background")===0&&(je[g]="inherit"),(!Ce||!("set"in Ce)||(k=Ce.set(ne,k,te))!==void 0)&&(Te?je.setProperty(g,k):je[g]=k)}else return Ce&&"get"in Ce&&(de=Ce.get(ne,!1,te))!==void 0?de:je[g]}},css:function(ne,g,k,te){var de,me,Ce,Ie=Ne(g),Te=Bo.test(g);return Te||(g=ea(Ie)),Ce=B.cssHooks[g]||B.cssHooks[Ie],Ce&&"get"in Ce&&(de=Ce.get(ne,!0,k)),de===void 0&&(de=Qo(ne,g,te)),de==="normal"&&g in La&&(de=La[g]),k===""||k?(me=parseFloat(de),k===!0||isFinite(me)?me||0:de):de}}),B.each(["height","width"],function(ne,g){B.cssHooks[g]={get:function(k,te,de){if(te)return ms.test(B.css(k,"display"))&&(!k.getClientRects().length||!k.getBoundingClientRect().width)?ps(k,Wo,function(){return Li(k,g,de)}):Li(k,g,de)},set:function(k,te,de){var me,Ce=pa(k),Ie=!L.scrollboxSize()&&Ce.position==="absolute",Te=Ie||de,je=Te&&B.css(k,"boxSizing",!1,Ce)==="border-box",Xe=de?Ba(k,g,de,je,Ce):0;return je&&Ie&&(Xe-=Math.ceil(k["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(Ce[g])-Ba(k,g,"border",!1,Ce)-.5)),Xe&&(me=Dt.exec(te))&&(me[3]||"px")!=="px"&&(k.style[g]=te,te=B.css(k,g)),Ia(k,te,Xe)}}}),B.cssHooks.marginLeft=mo(L.reliableMarginLeft,function(ne,g){if(g)return(parseFloat(Qo(ne,"marginLeft"))||ne.getBoundingClientRect().left-ps(ne,{marginLeft:0},function(){return ne.getBoundingClientRect().left}))+"px"}),B.each({margin:"",padding:"",border:"Width"},function(ne,g){B.cssHooks[ne+g]={expand:function(k){for(var te=0,de={},me=typeof k=="string"?k.split(" "):[k];te<4;te++)de[ne+zt[te]+g]=me[te]||me[te-2]||me[0];return de}},ne!=="margin"&&(B.cssHooks[ne+g].set=Ia)}),B.fn.extend({css:function(ne,g){return Ct(this,function(k,te,de){var me,Ce,Ie={},Te=0;if(Array.isArray(te)){for(me=pa(k),Ce=te.length;Te<Ce;Te++)Ie[te[Te]]=B.css(k,te[Te],!1,me);return Ie}return de!==void 0?B.style(k,te,de):B.css(k,te)},ne,g,arguments.length>1)}});function Hr(ne,g,k,te,de){return new Hr.prototype.init(ne,g,k,te,de)}B.Tween=Hr,Hr.prototype={constructor:Hr,init:function(ne,g,k,te,de,me){this.elem=ne,this.prop=k,this.easing=de||B.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=te,this.unit=me||(B.cssNumber[k]?"":"px")},cur:function(){var ne=Hr.propHooks[this.prop];return ne&&ne.get?ne.get(this):Hr.propHooks._default.get(this)},run:function(ne){var g,k=Hr.propHooks[this.prop];return this.options.duration?this.pos=g=B.easing[this.easing](ne,this.options.duration*ne,0,1,this.options.duration):this.pos=g=ne,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):Hr.propHooks._default.set(this),this}},Hr.prototype.init.prototype=Hr.prototype,Hr.propHooks={_default:{get:function(ne){var g;return ne.elem.nodeType!==1||ne.elem[ne.prop]!=null&&ne.elem.style[ne.prop]==null?ne.elem[ne.prop]:(g=B.css(ne.elem,ne.prop,""),!g||g==="auto"?0:g)},set:function(ne){B.fx.step[ne.prop]?B.fx.step[ne.prop](ne):ne.elem.nodeType===1&&(B.cssHooks[ne.prop]||ne.elem.style[ea(ne.prop)]!=null)?B.style(ne.elem,ne.prop,ne.now+ne.unit):ne.elem[ne.prop]=ne.now}}},Hr.propHooks.scrollTop=Hr.propHooks.scrollLeft={set:function(ne){ne.elem.nodeType&&ne.elem.parentNode&&(ne.elem[ne.prop]=ne.now)}},B.easing={linear:function(ne){return ne},swing:function(ne){return .5-Math.cos(ne*Math.PI)/2},_default:"swing"},B.fx=Hr.prototype.init,B.fx.step={};var ka,gs,Ps=/^(?:toggle|show|hide)$/,_s=/queueHooks$/;function Oo(){gs&&(ie.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Oo):t.setTimeout(Oo,B.fx.interval),B.fx.tick())}function Ci(){return t.setTimeout(function(){ka=void 0}),ka=Date.now()}function Fe(ne,g){var k,te=0,de={height:ne};for(g=g?1:0;te<4;te+=2-g)k=zt[te],de["margin"+k]=de["padding"+k]=ne;return g&&(de.opacity=de.width=ne),de}function at(ne,g,k){for(var te,de=(Ot.tweeners[g]||[]).concat(Ot.tweeners["*"]),me=0,Ce=de.length;me<Ce;me++)if(te=de[me].call(k,g,ne))return te}function ze(ne,g,k){var te,de,me,Ce,Ie,Te,je,Xe,ht="width"in g||"height"in g,ot=this,ct={},Yt=ne.style,On=ne.nodeType&&Fn(ne),qt=vt.get(ne,"fxshow");k.queue||(Ce=B._queueHooks(ne,"fx"),Ce.unqueued==null&&(Ce.unqueued=0,Ie=Ce.empty.fire,Ce.empty.fire=function(){Ce.unqueued||Ie()}),Ce.unqueued++,ot.always(function(){ot.always(function(){Ce.unqueued--,B.queue(ne,"fx").length||Ce.empty.fire()})}));for(te in g)if(de=g[te],Ps.test(de)){if(delete g[te],me=me||de==="toggle",de===(On?"hide":"show"))if(de==="show"&&qt&&qt[te]!==void 0)On=!0;else continue;ct[te]=qt&&qt[te]||B.style(ne,te)}if(Te=!B.isEmptyObject(g),!(!Te&&B.isEmptyObject(ct))){ht&&ne.nodeType===1&&(k.overflow=[Yt.overflow,Yt.overflowX,Yt.overflowY],je=qt&&qt.display,je==null&&(je=vt.get(ne,"display")),Xe=B.css(ne,"display"),Xe==="none"&&(je?Xe=je:(Xt([ne],!0),je=ne.style.display||je,Xe=B.css(ne,"display"),Xt([ne]))),(Xe==="inline"||Xe==="inline-block"&&je!=null)&&B.css(ne,"float")==="none"&&(Te||(ot.done(function(){Yt.display=je}),je==null&&(Xe=Yt.display,je=Xe==="none"?"":Xe)),Yt.display="inline-block")),k.overflow&&(Yt.overflow="hidden",ot.always(function(){Yt.overflow=k.overflow[0],Yt.overflowX=k.overflow[1],Yt.overflowY=k.overflow[2]})),Te=!1;for(te in ct)Te||(qt?"hidden"in qt&&(On=qt.hidden):qt=vt.access(ne,"fxshow",{display:je}),me&&(qt.hidden=!On),On&&Xt([ne],!0),ot.done(function(){On||Xt([ne]),vt.remove(ne,"fxshow");for(te in ct)B.style(ne,te,ct[te])})),Te=at(On?qt[te]:0,te,ot),te in qt||(qt[te]=Te.start,On&&(Te.end=Te.start,Te.start=0))}}function it(ne,g){var k,te,de,me,Ce;for(k in ne)if(te=Ne(k),de=g[te],me=ne[k],Array.isArray(me)&&(de=me[1],me=ne[k]=me[0]),k!==te&&(ne[te]=me,delete ne[k]),Ce=B.cssHooks[te],Ce&&"expand"in Ce){me=Ce.expand(me),delete ne[te];for(k in me)k in ne||(ne[k]=me[k],g[k]=de)}else g[te]=de}function Ot(ne,g,k){var te,de,me=0,Ce=Ot.prefilters.length,Ie=B.Deferred().always(function(){delete Te.elem}),Te=function(){if(de)return!1;for(var ht=ka||Ci(),ot=Math.max(0,je.startTime+je.duration-ht),ct=ot/je.duration||0,Yt=1-ct,On=0,qt=je.tweens.length;On<qt;On++)je.tweens[On].run(Yt);return Ie.notifyWith(ne,[je,Yt,ot]),Yt<1&&qt?ot:(qt||Ie.notifyWith(ne,[je,1,0]),Ie.resolveWith(ne,[je]),!1)},je=Ie.promise({elem:ne,props:B.extend({},g),opts:B.extend(!0,{specialEasing:{},easing:B.easing._default},k),originalProperties:g,originalOptions:k,startTime:ka||Ci(),duration:k.duration,tweens:[],createTween:function(ht,ot){var ct=B.Tween(ne,je.opts,ht,ot,je.opts.specialEasing[ht]||je.opts.easing);return je.tweens.push(ct),ct},stop:function(ht){var ot=0,ct=ht?je.tweens.length:0;if(de)return this;for(de=!0;ot<ct;ot++)je.tweens[ot].run(1);return ht?(Ie.notifyWith(ne,[je,1,0]),Ie.resolveWith(ne,[je,ht])):Ie.rejectWith(ne,[je,ht]),this}}),Xe=je.props;for(it(Xe,je.opts.specialEasing);me<Ce;me++)if(te=Ot.prefilters[me].call(je,ne,Xe,je.opts),te)return N(te.stop)&&(B._queueHooks(je.elem,je.opts.queue).stop=te.stop.bind(te)),te;return B.map(Xe,at,je),N(je.opts.start)&&je.opts.start.call(ne,je),je.progress(je.opts.progress).done(je.opts.done,je.opts.complete).fail(je.opts.fail).always(je.opts.always),B.fx.timer(B.extend(Te,{elem:ne,anim:je,queue:je.opts.queue})),je}B.Animation=B.extend(Ot,{tweeners:{"*":[function(ne,g){var k=this.createTween(ne,g);return St(k.elem,ne,Dt.exec(g),k),k}]},tweener:function(ne,g){N(ne)?(g=ne,ne=["*"]):ne=ne.match(We);for(var k,te=0,de=ne.length;te<de;te++)k=ne[te],Ot.tweeners[k]=Ot.tweeners[k]||[],Ot.tweeners[k].unshift(g)},prefilters:[ze],prefilter:function(ne,g){g?Ot.prefilters.unshift(ne):Ot.prefilters.push(ne)}}),B.speed=function(ne,g,k){var te=ne&&typeof ne=="object"?B.extend({},ne):{complete:k||!k&&g||N(ne)&&ne,duration:ne,easing:k&&g||g&&!N(g)&&g};return B.fx.off?te.duration=0:typeof te.duration!="number"&&(te.duration in B.fx.speeds?te.duration=B.fx.speeds[te.duration]:te.duration=B.fx.speeds._default),(te.queue==null||te.queue===!0)&&(te.queue="fx"),te.old=te.complete,te.complete=function(){N(te.old)&&te.old.call(this),te.queue&&B.dequeue(this,te.queue)},te},B.fn.extend({fadeTo:function(ne,g,k,te){return this.filter(Fn).css("opacity",0).show().end().animate({opacity:g},ne,k,te)},animate:function(ne,g,k,te){var de=B.isEmptyObject(ne),me=B.speed(g,k,te),Ce=function(){var Ie=Ot(this,B.extend({},ne),me);(de||vt.get(this,"finish"))&&Ie.stop(!0)};return Ce.finish=Ce,de||me.queue===!1?this.each(Ce):this.queue(me.queue,Ce)},stop:function(ne,g,k){var te=function(de){var me=de.stop;delete de.stop,me(k)};return typeof ne!="string"&&(k=g,g=ne,ne=void 0),g&&this.queue(ne||"fx",[]),this.each(function(){var de=!0,me=ne!=null&&ne+"queueHooks",Ce=B.timers,Ie=vt.get(this);if(me)Ie[me]&&Ie[me].stop&&te(Ie[me]);else for(me in Ie)Ie[me]&&Ie[me].stop&&_s.test(me)&&te(Ie[me]);for(me=Ce.length;me--;)Ce[me].elem===this&&(ne==null||Ce[me].queue===ne)&&(Ce[me].anim.stop(k),de=!1,Ce.splice(me,1));(de||!k)&&B.dequeue(this,ne)})},finish:function(ne){return ne!==!1&&(ne=ne||"fx"),this.each(function(){var g,k=vt.get(this),te=k[ne+"queue"],de=k[ne+"queueHooks"],me=B.timers,Ce=te?te.length:0;for(k.finish=!0,B.queue(this,ne,[]),de&&de.stop&&de.stop.call(this,!0),g=me.length;g--;)me[g].elem===this&&me[g].queue===ne&&(me[g].anim.stop(!0),me.splice(g,1));for(g=0;g<Ce;g++)te[g]&&te[g].finish&&te[g].finish.call(this);delete k.finish})}}),B.each(["toggle","show","hide"],function(ne,g){var k=B.fn[g];B.fn[g]=function(te,de,me){return te==null||typeof te=="boolean"?k.apply(this,arguments):this.animate(Fe(g,!0),te,de,me)}}),B.each({slideDown:Fe("show"),slideUp:Fe("hide"),slideToggle:Fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(ne,g){B.fn[ne]=function(k,te,de){return this.animate(g,k,te,de)}}),B.timers=[],B.fx.tick=function(){var ne,g=0,k=B.timers;for(ka=Date.now();g<k.length;g++)ne=k[g],!ne()&&k[g]===ne&&k.splice(g--,1);k.length||B.fx.stop(),ka=void 0},B.fx.timer=function(ne){B.timers.push(ne),B.fx.start()},B.fx.interval=13,B.fx.start=function(){gs||(gs=!0,Oo())},B.fx.stop=function(){gs=null},B.fx.speeds={slow:600,fast:200,_default:400},B.fn.delay=function(ne,g){return ne=B.fx&&B.fx.speeds[ne]||ne,g=g||"fx",this.queue(g,function(k,te){var de=t.setTimeout(k,ne);te.stop=function(){t.clearTimeout(de)}})},function(){var ne=ie.createElement("input"),g=ie.createElement("select"),k=g.appendChild(ie.createElement("option"));ne.type="checkbox",L.checkOn=ne.value!=="",L.optSelected=k.selected,ne=ie.createElement("input"),ne.value="t",ne.type="radio",L.radioValue=ne.value==="t"}();var tn,xn=B.expr.attrHandle;B.fn.extend({attr:function(ne,g){return Ct(this,B.attr,ne,g,arguments.length>1)},removeAttr:function(ne){return this.each(function(){B.removeAttr(this,ne)})}}),B.extend({attr:function(ne,g,k){var te,de,me=ne.nodeType;if(!(me===3||me===8||me===2)){if(typeof ne.getAttribute>"u")return B.prop(ne,g,k);if((me!==1||!B.isXMLDoc(ne))&&(de=B.attrHooks[g.toLowerCase()]||(B.expr.match.bool.test(g)?tn:void 0)),k!==void 0){if(k===null){B.removeAttr(ne,g);return}return de&&"set"in de&&(te=de.set(ne,k,g))!==void 0?te:(ne.setAttribute(g,k+""),k)}return de&&"get"in de&&(te=de.get(ne,g))!==null?te:(te=B.find.attr(ne,g),te??void 0)}},attrHooks:{type:{set:function(ne,g){if(!L.radioValue&&g==="radio"&&fe(ne,"input")){var k=ne.value;return ne.setAttribute("type",g),k&&(ne.value=k),g}}}},removeAttr:function(ne,g){var k,te=0,de=g&&g.match(We);if(de&&ne.nodeType===1)for(;k=de[te++];)ne.removeAttribute(k)}}),tn={set:function(ne,g,k){return g===!1?B.removeAttr(ne,k):ne.setAttribute(k,k),k}},B.each(B.expr.match.bool.source.match(/\w+/g),function(ne,g){var k=xn[g]||B.find.attr;xn[g]=function(te,de,me){var Ce,Ie,Te=de.toLowerCase();return me||(Ie=xn[Te],xn[Te]=Ce,Ce=k(te,de,me)!=null?Te:null,xn[Te]=Ie),Ce}});var Ln=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;B.fn.extend({prop:function(ne,g){return Ct(this,B.prop,ne,g,arguments.length>1)},removeProp:function(ne){return this.each(function(){delete this[B.propFix[ne]||ne]})}}),B.extend({prop:function(ne,g,k){var te,de,me=ne.nodeType;if(!(me===3||me===8||me===2))return(me!==1||!B.isXMLDoc(ne))&&(g=B.propFix[g]||g,de=B.propHooks[g]),k!==void 0?de&&"set"in de&&(te=de.set(ne,k,g))!==void 0?te:ne[g]=k:de&&"get"in de&&(te=de.get(ne,g))!==null?te:ne[g]},propHooks:{tabIndex:{get:function(ne){var g=B.find.attr(ne,"tabindex");return g?parseInt(g,10):Ln.test(ne.nodeName)||yr.test(ne.nodeName)&&ne.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(B.propHooks.selected={get:function(ne){var g=ne.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(ne){var g=ne.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),B.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){B.propFix[this.toLowerCase()]=this});function hr(ne){var g=ne.match(We)||[];return g.join(" ")}function Rr(ne){return ne.getAttribute&&ne.getAttribute("class")||""}function Qi(ne){return Array.isArray(ne)?ne:typeof ne=="string"?ne.match(We)||[]:[]}B.fn.extend({addClass:function(ne){var g,k,te,de,me,Ce;return N(ne)?this.each(function(Ie){B(this).addClass(ne.call(this,Ie,Rr(this)))}):(g=Qi(ne),g.length?this.each(function(){if(te=Rr(this),k=this.nodeType===1&&" "+hr(te)+" ",k){for(me=0;me<g.length;me++)de=g[me],k.indexOf(" "+de+" ")<0&&(k+=de+" ");Ce=hr(k),te!==Ce&&this.setAttribute("class",Ce)}}):this)},removeClass:function(ne){var g,k,te,de,me,Ce;return N(ne)?this.each(function(Ie){B(this).removeClass(ne.call(this,Ie,Rr(this)))}):arguments.length?(g=Qi(ne),g.length?this.each(function(){if(te=Rr(this),k=this.nodeType===1&&" "+hr(te)+" ",k){for(me=0;me<g.length;me++)for(de=g[me];k.indexOf(" "+de+" ")>-1;)k=k.replace(" "+de+" "," ");Ce=hr(k),te!==Ce&&this.setAttribute("class",Ce)}}):this):this.attr("class","")},toggleClass:function(ne,g){var k,te,de,me,Ce=typeof ne,Ie=Ce==="string"||Array.isArray(ne);return N(ne)?this.each(function(Te){B(this).toggleClass(ne.call(this,Te,Rr(this),g),g)}):typeof g=="boolean"&&Ie?g?this.addClass(ne):this.removeClass(ne):(k=Qi(ne),this.each(function(){if(Ie)for(me=B(this),de=0;de<k.length;de++)te=k[de],me.hasClass(te)?me.removeClass(te):me.addClass(te);else(ne===void 0||Ce==="boolean")&&(te=Rr(this),te&&vt.set(this,"__className__",te),this.setAttribute&&this.setAttribute("class",te||ne===!1?"":vt.get(this,"__className__")||""))}))},hasClass:function(ne){var g,k,te=0;for(g=" "+ne+" ";k=this[te++];)if(k.nodeType===1&&(" "+hr(Rr(k))+" ").indexOf(g)>-1)return!0;return!1}});var Ga=/\r/g;B.fn.extend({val:function(ne){var g,k,te,de=this[0];return arguments.length?(te=N(ne),this.each(function(me){var Ce;this.nodeType===1&&(te?Ce=ne.call(this,me,B(this).val()):Ce=ne,Ce==null?Ce="":typeof Ce=="number"?Ce+="":Array.isArray(Ce)&&(Ce=B.map(Ce,function(Ie){return Ie==null?"":Ie+""})),g=B.valHooks[this.type]||B.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,Ce,"value")===void 0)&&(this.value=Ce))})):de?(g=B.valHooks[de.type]||B.valHooks[de.nodeName.toLowerCase()],g&&"get"in g&&(k=g.get(de,"value"))!==void 0?k:(k=de.value,typeof k=="string"?k.replace(Ga,""):k??"")):void 0}}),B.extend({valHooks:{option:{get:function(ne){var g=B.find.attr(ne,"value");return g??hr(B.text(ne))}},select:{get:function(ne){var g,k,te,de=ne.options,me=ne.selectedIndex,Ce=ne.type==="select-one",Ie=Ce?null:[],Te=Ce?me+1:de.length;for(me<0?te=Te:te=Ce?me:0;te<Te;te++)if(k=de[te],(k.selected||te===me)&&!k.disabled&&(!k.parentNode.disabled||!fe(k.parentNode,"optgroup"))){if(g=B(k).val(),Ce)return g;Ie.push(g)}return Ie},set:function(ne,g){for(var k,te,de=ne.options,me=B.makeArray(g),Ce=de.length;Ce--;)te=de[Ce],(te.selected=B.inArray(B.valHooks.option.get(te),me)>-1)&&(k=!0);return k||(ne.selectedIndex=-1),me}}}}),B.each(["radio","checkbox"],function(){B.valHooks[this]={set:function(ne,g){if(Array.isArray(g))return ne.checked=B.inArray(B(ne).val(),g)>-1}},L.checkOn||(B.valHooks[this].get=function(ne){return ne.getAttribute("value")===null?"on":ne.value})}),L.focusin="onfocusin"in t;var ho=/^(?:focusinfocus|focusoutblur)$/,Wa=function(ne){ne.stopPropagation()};B.extend(B.event,{trigger:function(ne,g,k,te){var de,me,Ce,Ie,Te,je,Xe,ht,ot=[k||ie],ct=f.call(ne,"type")?ne.type:ne,Yt=f.call(ne,"namespace")?ne.namespace.split("."):[];if(me=ht=Ce=k=k||ie,!(k.nodeType===3||k.nodeType===8)&&!ho.test(ct+B.event.triggered)&&(ct.indexOf(".")>-1&&(Yt=ct.split("."),ct=Yt.shift(),Yt.sort()),Te=ct.indexOf(":")<0&&"on"+ct,ne=ne[B.expando]?ne:new B.Event(ct,typeof ne=="object"&&ne),ne.isTrigger=te?2:3,ne.namespace=Yt.join("."),ne.rnamespace=ne.namespace?new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,ne.result=void 0,ne.target||(ne.target=k),g=g==null?[ne]:B.makeArray(g,[ne]),Xe=B.event.special[ct]||{},!(!te&&Xe.trigger&&Xe.trigger.apply(k,g)===!1))){if(!te&&!Xe.noBubble&&!G(k)){for(Ie=Xe.delegateType||ct,ho.test(Ie+ct)||(me=me.parentNode);me;me=me.parentNode)ot.push(me),Ce=me;Ce===(k.ownerDocument||ie)&&ot.push(Ce.defaultView||Ce.parentWindow||t)}for(de=0;(me=ot[de++])&&!ne.isPropagationStopped();)ht=me,ne.type=de>1?Ie:Xe.bindType||ct,je=(vt.get(me,"events")||Object.create(null))[ne.type]&&vt.get(me,"handle"),je&&je.apply(me,g),je=Te&&me[Te],je&&je.apply&&qe(me)&&(ne.result=je.apply(me,g),ne.result===!1&&ne.preventDefault());return ne.type=ct,!te&&!ne.isDefaultPrevented()&&(!Xe._default||Xe._default.apply(ot.pop(),g)===!1)&&qe(k)&&Te&&N(k[ct])&&!G(k)&&(Ce=k[Te],Ce&&(k[Te]=null),B.event.triggered=ct,ne.isPropagationStopped()&&ht.addEventListener(ct,Wa),k[ct](),ne.isPropagationStopped()&&ht.removeEventListener(ct,Wa),B.event.triggered=void 0,Ce&&(k[Te]=Ce)),ne.result}},simulate:function(ne,g,k){var te=B.extend(new B.Event,k,{type:ne,isSimulated:!0});B.event.trigger(te,null,g)}}),B.fn.extend({trigger:function(ne,g){return this.each(function(){B.event.trigger(ne,g,this)})},triggerHandler:function(ne,g){var k=this[0];if(k)return B.event.trigger(ne,g,k,!0)}}),L.focusin||B.each({focus:"focusin",blur:"focusout"},function(ne,g){var k=function(te){B.event.simulate(g,te.target,B.event.fix(te))};B.event.special[g]={setup:function(){var te=this.ownerDocument||this.document||this,de=vt.access(te,g);de||te.addEventListener(ne,k,!0),vt.access(te,g,(de||0)+1)},teardown:function(){var te=this.ownerDocument||this.document||this,de=vt.access(te,g)-1;de?vt.access(te,g,de):(te.removeEventListener(ne,k,!0),vt.remove(te,g))}}});var Ma=t.location,Na={guid:Date.now()},Os=/\?/;B.parseXML=function(ne){var g,k;if(!ne||typeof ne!="string")return null;try{g=new t.DOMParser().parseFromString(ne,"text/xml")}catch{}return k=g&&g.getElementsByTagName("parsererror")[0],(!g||k)&&B.error("Invalid XML: "+(k?B.map(k.childNodes,function(te){return te.textContent}).join(`
`):ne)),g};var Ii=/\[\]$/,ta=/\r?\n/g,Fa=/^(?:submit|button|image|reset|file)$/i,$o=/^(?:input|select|textarea|keygen)/i;function ts(ne,g,k,te){var de;if(Array.isArray(g))B.each(g,function(me,Ce){k||Ii.test(ne)?te(ne,Ce):ts(ne+"["+(typeof Ce=="object"&&Ce!=null?me:"")+"]",Ce,k,te)});else if(!k&&he(g)==="object")for(de in g)ts(ne+"["+de+"]",g[de],k,te);else te(ne,g)}B.param=function(ne,g){var k,te=[],de=function(me,Ce){var Ie=N(Ce)?Ce():Ce;te[te.length]=encodeURIComponent(me)+"="+encodeURIComponent(Ie??"")};if(ne==null)return"";if(Array.isArray(ne)||ne.jquery&&!B.isPlainObject(ne))B.each(ne,function(){de(this.name,this.value)});else for(k in ne)ts(k,ne[k],g,de);return te.join("&")},B.fn.extend({serialize:function(){return B.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var ne=B.prop(this,"elements");return ne?B.makeArray(ne):this}).filter(function(){var ne=this.type;return this.name&&!B(this).is(":disabled")&&$o.test(this.nodeName)&&!Fa.test(ne)&&(this.checked||!cn.test(ne))}).map(function(ne,g){var k=B(this).val();return k==null?null:Array.isArray(k)?B.map(k,function(te){return{name:g.name,value:te.replace(ta,`\r
`)}}):{name:g.name,value:k.replace(ta,`\r
`)}}).get()}});var Ws=/%20/g,ai=/#.*$/,Bn=/([?&])_=[^&]*/,go=/^(.*?):[ \t]*([^\r\n]*)$/mg,Bs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,cc=/^(?:GET|HEAD)$/,ji=/^\/\//,Pi={},Ro={},$s="*/".concat("*"),Mo=ie.createElement("a");Mo.href=Ma.href;function Rs(ne){return function(g,k){typeof g!="string"&&(k=g,g="*");var te,de=0,me=g.toLowerCase().match(We)||[];if(N(k))for(;te=me[de++];)te[0]==="+"?(te=te.slice(1)||"*",(ne[te]=ne[te]||[]).unshift(k)):(ne[te]=ne[te]||[]).push(k)}}function qs(ne,g,k,te){var de={},me=ne===Ro;function Ce(Ie){var Te;return de[Ie]=!0,B.each(ne[Ie]||[],function(je,Xe){var ht=Xe(g,k,te);if(typeof ht=="string"&&!me&&!de[ht])return g.dataTypes.unshift(ht),Ce(ht),!1;if(me)return!(Te=ht)}),Te}return Ce(g.dataTypes[0])||!de["*"]&&Ce("*")}function mt(ne,g){var k,te,de=B.ajaxSettings.flatOptions||{};for(k in g)g[k]!==void 0&&((de[k]?ne:te||(te={}))[k]=g[k]);return te&&B.extend(!0,ne,te),ne}function vs(ne,g,k){for(var te,de,me,Ce,Ie=ne.contents,Te=ne.dataTypes;Te[0]==="*";)Te.shift(),te===void 0&&(te=ne.mimeType||g.getResponseHeader("Content-Type"));if(te){for(de in Ie)if(Ie[de]&&Ie[de].test(te)){Te.unshift(de);break}}if(Te[0]in k)me=Te[0];else{for(de in k){if(!Te[0]||ne.converters[de+" "+Te[0]]){me=de;break}Ce||(Ce=de)}me=me||Ce}if(me)return me!==Te[0]&&Te.unshift(me),k[me]}function qo(ne,g,k,te){var de,me,Ce,Ie,Te,je={},Xe=ne.dataTypes.slice();if(Xe[1])for(Ce in ne.converters)je[Ce.toLowerCase()]=ne.converters[Ce];for(me=Xe.shift();me;)if(ne.responseFields[me]&&(k[ne.responseFields[me]]=g),!Te&&te&&ne.dataFilter&&(g=ne.dataFilter(g,ne.dataType)),Te=me,me=Xe.shift(),me){if(me==="*")me=Te;else if(Te!=="*"&&Te!==me){if(Ce=je[Te+" "+me]||je["* "+me],!Ce){for(de in je)if(Ie=de.split(" "),Ie[1]===me&&(Ce=je[Te+" "+Ie[0]]||je["* "+Ie[0]],Ce)){Ce===!0?Ce=je[de]:je[de]!==!0&&(me=Ie[0],Xe.unshift(Ie[1]));break}}if(Ce!==!0)if(Ce&&ne.throws)g=Ce(g);else try{g=Ce(g)}catch(ht){return{state:"parsererror",error:Ce?ht:"No conversion from "+Te+" to "+me}}}}return{state:"success",data:g}}B.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ma.href,type:"GET",isLocal:Bs.test(Ma.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$s,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":B.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(ne,g){return g?mt(mt(ne,B.ajaxSettings),g):mt(B.ajaxSettings,ne)},ajaxPrefilter:Rs(Pi),ajaxTransport:Rs(Ro),ajax:function(ne,g){typeof ne=="object"&&(g=ne,ne=void 0),g=g||{};var k,te,de,me,Ce,Ie,Te,je,Xe,ht,ot=B.ajaxSetup({},g),ct=ot.context||ot,Yt=ot.context&&(ct.nodeType||ct.jquery)?B(ct):B.event,On=B.Deferred(),qt=B.Callbacks("once memory"),er=ot.statusCode||{},qr={},ii={},si="canceled",Dr={readyState:0,getResponseHeader:function(Zr){var pr;if(Te){if(!me)for(me={};pr=go.exec(de);)me[pr[1].toLowerCase()+" "]=(me[pr[1].toLowerCase()+" "]||[]).concat(pr[2]);pr=me[Zr.toLowerCase()+" "]}return pr==null?null:pr.join(", ")},getAllResponseHeaders:function(){return Te?de:null},setRequestHeader:function(Zr,pr){return Te==null&&(Zr=ii[Zr.toLowerCase()]=ii[Zr.toLowerCase()]||Zr,qr[Zr]=pr),this},overrideMimeType:function(Zr){return Te==null&&(ot.mimeType=Zr),this},statusCode:function(Zr){var pr;if(Zr)if(Te)Dr.always(Zr[Dr.status]);else for(pr in Zr)er[pr]=[er[pr],Zr[pr]];return this},abort:function(Zr){var pr=Zr||si;return k&&k.abort(pr),br(0,pr),this}};if(On.promise(Dr),ot.url=((ne||ot.url||Ma.href)+"").replace(ji,Ma.protocol+"//"),ot.type=g.method||g.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(We)||[""],ot.crossDomain==null){Ie=ie.createElement("a");try{Ie.href=ot.url,Ie.href=Ie.href,ot.crossDomain=Mo.protocol+"//"+Mo.host!=Ie.protocol+"//"+Ie.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&typeof ot.data!="string"&&(ot.data=B.param(ot.data,ot.traditional)),qs(Pi,ot,g,Dr),Te)return Dr;je=B.event&&ot.global,je&&B.active++===0&&B.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!cc.test(ot.type),te=ot.url.replace(ai,""),ot.hasContent?ot.data&&ot.processData&&(ot.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ot.data=ot.data.replace(Ws,"+")):(ht=ot.url.slice(te.length),ot.data&&(ot.processData||typeof ot.data=="string")&&(te+=(Os.test(te)?"&":"?")+ot.data,delete ot.data),ot.cache===!1&&(te=te.replace(Bn,"$1"),ht=(Os.test(te)?"&":"?")+"_="+Na.guid+++ht),ot.url=te+ht),ot.ifModified&&(B.lastModified[te]&&Dr.setRequestHeader("If-Modified-Since",B.lastModified[te]),B.etag[te]&&Dr.setRequestHeader("If-None-Match",B.etag[te])),(ot.data&&ot.hasContent&&ot.contentType!==!1||g.contentType)&&Dr.setRequestHeader("Content-Type",ot.contentType),Dr.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+(ot.dataTypes[0]!=="*"?", "+$s+"; q=0.01":""):ot.accepts["*"]);for(Xe in ot.headers)Dr.setRequestHeader(Xe,ot.headers[Xe]);if(ot.beforeSend&&(ot.beforeSend.call(ct,Dr,ot)===!1||Te))return Dr.abort();if(si="abort",qt.add(ot.complete),Dr.done(ot.success),Dr.fail(ot.error),k=qs(Ro,ot,g,Dr),!k)br(-1,"No Transport");else{if(Dr.readyState=1,je&&Yt.trigger("ajaxSend",[Dr,ot]),Te)return Dr;ot.async&&ot.timeout>0&&(Ce=t.setTimeout(function(){Dr.abort("timeout")},ot.timeout));try{Te=!1,k.send(qr,br)}catch(Zr){if(Te)throw Zr;br(-1,Zr)}}function br(Zr,pr,Cr,fa){var Lo,vo,ma,Gi,oo,yo=pr;Te||(Te=!0,Ce&&t.clearTimeout(Ce),k=void 0,de=fa||"",Dr.readyState=Zr>0?4:0,Lo=Zr>=200&&Zr<300||Zr===304,Cr&&(Gi=vs(ot,Dr,Cr)),!Lo&&B.inArray("script",ot.dataTypes)>-1&&B.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),Gi=qo(ot,Gi,Dr,Lo),Lo?(ot.ifModified&&(oo=Dr.getResponseHeader("Last-Modified"),oo&&(B.lastModified[te]=oo),oo=Dr.getResponseHeader("etag"),oo&&(B.etag[te]=oo)),Zr===204||ot.type==="HEAD"?yo="nocontent":Zr===304?yo="notmodified":(yo=Gi.state,vo=Gi.data,ma=Gi.error,Lo=!ma)):(ma=yo,(Zr||!yo)&&(yo="error",Zr<0&&(Zr=0))),Dr.status=Zr,Dr.statusText=(pr||yo)+"",Lo?On.resolveWith(ct,[vo,yo,Dr]):On.rejectWith(ct,[Dr,yo,ma]),Dr.statusCode(er),er=void 0,je&&Yt.trigger(Lo?"ajaxSuccess":"ajaxError",[Dr,ot,Lo?vo:ma]),qt.fireWith(ct,[Dr,yo]),je&&(Yt.trigger("ajaxComplete",[Dr,ot]),--B.active||B.event.trigger("ajaxStop")))}return Dr},getJSON:function(ne,g,k){return B.get(ne,g,k,"json")},getScript:function(ne,g){return B.get(ne,void 0,g,"script")}}),B.each(["get","post"],function(ne,g){B[g]=function(k,te,de,me){return N(te)&&(me=me||de,de=te,te=void 0),B.ajax(B.extend({url:k,type:g,dataType:me,data:te,success:de},B.isPlainObject(k)&&k))}}),B.ajaxPrefilter(function(ne){var g;for(g in ne.headers)g.toLowerCase()==="content-type"&&(ne.contentType=ne.headers[g]||"")}),B._evalUrl=function(ne,g,k){return B.ajax({url:ne,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(te){B.globalEval(te,g,k)}})},B.fn.extend({wrapAll:function(ne){var g;return this[0]&&(N(ne)&&(ne=ne.call(this[0])),g=B(ne,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var k=this;k.firstElementChild;)k=k.firstElementChild;return k}).append(this)),this},wrapInner:function(ne){return N(ne)?this.each(function(g){B(this).wrapInner(ne.call(this,g))}):this.each(function(){var g=B(this),k=g.contents();k.length?k.wrapAll(ne):g.append(ne)})},wrap:function(ne){var g=N(ne);return this.each(function(k){B(this).wrapAll(g?ne.call(this,k):ne)})},unwrap:function(ne){return this.parent(ne).not("body").each(function(){B(this).replaceWith(this.childNodes)}),this}}),B.expr.pseudos.hidden=function(ne){return!B.expr.pseudos.visible(ne)},B.expr.pseudos.visible=function(ne){return!!(ne.offsetWidth||ne.offsetHeight||ne.getClientRects().length)},B.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var uc={0:200,1223:204},ns=B.ajaxSettings.xhr();L.cors=!!ns&&"withCredentials"in ns,L.ajax=ns=!!ns,B.ajaxTransport(function(ne){var g,k;if(L.cors||ns&&!ne.crossDomain)return{send:function(te,de){var me,Ce=ne.xhr();if(Ce.open(ne.type,ne.url,ne.async,ne.username,ne.password),ne.xhrFields)for(me in ne.xhrFields)Ce[me]=ne.xhrFields[me];ne.mimeType&&Ce.overrideMimeType&&Ce.overrideMimeType(ne.mimeType),!ne.crossDomain&&!te["X-Requested-With"]&&(te["X-Requested-With"]="XMLHttpRequest");for(me in te)Ce.setRequestHeader(me,te[me]);g=function(Ie){return function(){g&&(g=k=Ce.onload=Ce.onerror=Ce.onabort=Ce.ontimeout=Ce.onreadystatechange=null,Ie==="abort"?Ce.abort():Ie==="error"?typeof Ce.status!="number"?de(0,"error"):de(Ce.status,Ce.statusText):de(uc[Ce.status]||Ce.status,Ce.statusText,(Ce.responseType||"text")!=="text"||typeof Ce.responseText!="string"?{binary:Ce.response}:{text:Ce.responseText},Ce.getAllResponseHeaders()))}},Ce.onload=g(),k=Ce.onerror=Ce.ontimeout=g("error"),Ce.onabort!==void 0?Ce.onabort=k:Ce.onreadystatechange=function(){Ce.readyState===4&&t.setTimeout(function(){g&&k()})},g=g("abort");try{Ce.send(ne.hasContent&&ne.data||null)}catch(Ie){if(g)throw Ie}},abort:function(){g&&g()}}}),B.ajaxPrefilter(function(ne){ne.crossDomain&&(ne.contents.script=!1)}),B.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(ne){return B.globalEval(ne),ne}}}),B.ajaxPrefilter("script",function(ne){ne.cache===void 0&&(ne.cache=!1),ne.crossDomain&&(ne.type="GET")}),B.ajaxTransport("script",function(ne){if(ne.crossDomain||ne.scriptAttrs){var g,k;return{send:function(te,de){g=B("<script>").attr(ne.scriptAttrs||{}).prop({charset:ne.scriptCharset,src:ne.url}).on("load error",k=function(me){g.remove(),k=null,me&&de(me.type==="error"?404:200,me.type)}),ie.head.appendChild(g[0])},abort:function(){k&&k()}}}});var rs=[],Ls=/(=)\?(?=&|$)|\?\?/;B.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var ne=rs.pop()||B.expando+"_"+Na.guid++;return this[ne]=!0,ne}}),B.ajaxPrefilter("json jsonp",function(ne,g,k){var te,de,me,Ce=ne.jsonp!==!1&&(Ls.test(ne.url)?"url":typeof ne.data=="string"&&(ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ls.test(ne.data)&&"data");if(Ce||ne.dataTypes[0]==="jsonp")return te=ne.jsonpCallback=N(ne.jsonpCallback)?ne.jsonpCallback():ne.jsonpCallback,Ce?ne[Ce]=ne[Ce].replace(Ls,"$1"+te):ne.jsonp!==!1&&(ne.url+=(Os.test(ne.url)?"&":"?")+ne.jsonp+"="+te),ne.converters["script json"]=function(){return me||B.error(te+" was not called"),me[0]},ne.dataTypes[0]="json",de=t[te],t[te]=function(){me=arguments},k.always(function(){de===void 0?B(t).removeProp(te):t[te]=de,ne[te]&&(ne.jsonpCallback=g.jsonpCallback,rs.push(te)),me&&N(de)&&de(me[0]),me=de=void 0}),"script"}),L.createHTMLDocument=function(){var ne=ie.implementation.createHTMLDocument("").body;return ne.innerHTML="<form></form><form></form>",ne.childNodes.length===2}(),B.parseHTML=function(ne,g,k){if(typeof ne!="string")return[];typeof g=="boolean"&&(k=g,g=!1);var te,de,me;return g||(L.createHTMLDocument?(g=ie.implementation.createHTMLDocument(""),te=g.createElement("base"),te.href=ie.location.href,g.head.appendChild(te)):g=ie),de=Ee.exec(ne),me=!k&&[],de?[g.createElement(de[1])]:(de=Ut([ne],g,me),me&&me.length&&B(me).remove(),B.merge([],de.childNodes))},B.fn.load=function(ne,g,k){var te,de,me,Ce=this,Ie=ne.indexOf(" ");return Ie>-1&&(te=hr(ne.slice(Ie)),ne=ne.slice(0,Ie)),N(g)?(k=g,g=void 0):g&&typeof g=="object"&&(de="POST"),Ce.length>0&&B.ajax({url:ne,type:de||"GET",dataType:"html",data:g}).done(function(Te){me=arguments,Ce.html(te?B("<div>").append(B.parseHTML(Te)).find(te):Te)}).always(k&&function(Te,je){Ce.each(function(){k.apply(this,me||[Te.responseText,je,Te])})}),this},B.expr.pseudos.animated=function(ne){return B.grep(B.timers,function(g){return ne===g.elem}).length},B.offset={setOffset:function(ne,g,k){var te,de,me,Ce,Ie,Te,je,Xe=B.css(ne,"position"),ht=B(ne),ot={};Xe==="static"&&(ne.style.position="relative"),Ie=ht.offset(),me=B.css(ne,"top"),Te=B.css(ne,"left"),je=(Xe==="absolute"||Xe==="fixed")&&(me+Te).indexOf("auto")>-1,je?(te=ht.position(),Ce=te.top,de=te.left):(Ce=parseFloat(me)||0,de=parseFloat(Te)||0),N(g)&&(g=g.call(ne,k,B.extend({},Ie))),g.top!=null&&(ot.top=g.top-Ie.top+Ce),g.left!=null&&(ot.left=g.left-Ie.left+de),"using"in g?g.using.call(ne,ot):ht.css(ot)}},B.fn.extend({offset:function(ne){if(arguments.length)return ne===void 0?this:this.each(function(de){B.offset.setOffset(this,ne,de)});var g,k,te=this[0];if(!!te)return te.getClientRects().length?(g=te.getBoundingClientRect(),k=te.ownerDocument.defaultView,{top:g.top+k.pageYOffset,left:g.left+k.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var ne,g,k,te=this[0],de={top:0,left:0};if(B.css(te,"position")==="fixed")g=te.getBoundingClientRect();else{for(g=this.offset(),k=te.ownerDocument,ne=te.offsetParent||k.documentElement;ne&&(ne===k.body||ne===k.documentElement)&&B.css(ne,"position")==="static";)ne=ne.parentNode;ne&&ne!==te&&ne.nodeType===1&&(de=B(ne).offset(),de.top+=B.css(ne,"borderTopWidth",!0),de.left+=B.css(ne,"borderLeftWidth",!0))}return{top:g.top-de.top-B.css(te,"marginTop",!0),left:g.left-de.left-B.css(te,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var ne=this.offsetParent;ne&&B.css(ne,"position")==="static";)ne=ne.offsetParent;return ne||et})}}),B.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ne,g){var k=g==="pageYOffset";B.fn[ne]=function(te){return Ct(this,function(de,me,Ce){var Ie;if(G(de)?Ie=de:de.nodeType===9&&(Ie=de.defaultView),Ce===void 0)return Ie?Ie[g]:de[me];Ie?Ie.scrollTo(k?Ie.pageXOffset:Ce,k?Ce:Ie.pageYOffset):de[me]=Ce},ne,te,arguments.length)}}),B.each(["top","left"],function(ne,g){B.cssHooks[g]=mo(L.pixelPosition,function(k,te){if(te)return te=Qo(k,g),xr.test(te)?B(k).position()[g]+"px":te})}),B.each({Height:"height",Width:"width"},function(ne,g){B.each({padding:"inner"+ne,content:g,"":"outer"+ne},function(k,te){B.fn[te]=function(de,me){var Ce=arguments.length&&(k||typeof de!="boolean"),Ie=k||(de===!0||me===!0?"margin":"border");return Ct(this,function(Te,je,Xe){var ht;return G(Te)?te.indexOf("outer")===0?Te["inner"+ne]:Te.document.documentElement["client"+ne]:Te.nodeType===9?(ht=Te.documentElement,Math.max(Te.body["scroll"+ne],ht["scroll"+ne],Te.body["offset"+ne],ht["offset"+ne],ht["client"+ne])):Xe===void 0?B.css(Te,je,Ie):B.style(Te,je,Xe,Ie)},g,Ce?de:void 0,Ce)}})}),B.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(ne,g){B.fn[g]=function(k){return this.on(g,k)}}),B.fn.extend({bind:function(ne,g,k){return this.on(ne,null,g,k)},unbind:function(ne,g){return this.off(ne,null,g)},delegate:function(ne,g,k,te){return this.on(g,ne,k,te)},undelegate:function(ne,g,k){return arguments.length===1?this.off(ne,"**"):this.off(g,ne||"**",k)},hover:function(ne,g){return this.mouseenter(ne).mouseleave(g||ne)}}),B.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(ne,g){B.fn[g]=function(k,te){return arguments.length>0?this.on(g,null,k,te):this.trigger(g)}});var la=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;B.proxy=function(ne,g){var k,te,de;if(typeof g=="string"&&(k=ne[g],g=ne,ne=k),!!N(ne))return te=l.call(arguments,2),de=function(){return ne.apply(g||this,te.concat(l.call(arguments)))},de.guid=ne.guid=ne.guid||B.guid++,de},B.holdReady=function(ne){ne?B.readyWait++:B.ready(!0)},B.isArray=Array.isArray,B.parseJSON=JSON.parse,B.nodeName=fe,B.isFunction=N,B.isWindow=G,B.camelCase=Ne,B.type=he,B.now=Date.now,B.isNumeric=function(ne){var g=B.type(ne);return(g==="number"||g==="string")&&!isNaN(ne-parseFloat(ne))},B.trim=function(ne){return ne==null?"":(ne+"").replace(la,"$1")};var ri=t.jQuery,gl=t.$;return B.noConflict=function(ne){return t.$===B&&(t.$=gl),ne&&t.jQuery===B&&(t.jQuery=ri),B},typeof r>"u"&&(t.jQuery=t.$=B),B})})(jquery);/*! WebUploader 0.1.6 */var jQuery$1=jquery.exports,webuploader_fis=function(e,t){var r={},i=function(C,D){var f,A,S;if(typeof C=="string")return c(C);for(f=[],A=C.length,S=0;S<A;S++)f.push(c(C[S]));return D.apply(null,f)},a=function(C,D,f){arguments.length===2&&(f=D,D=null),i(D||[],function(){l(C,f,arguments)})},l=function(C,D,f){var A={exports:D},S;typeof D=="function"&&(f.length||(f=[i,A.exports,A]),S=D.apply(null,f),S!==void 0&&(A.exports=S)),r[C]=A.exports},c=function(C){var D=r[C]||e[C];if(!D)throw new Error("`"+C+"` is undefined");return D},d=function(C){var D,f,A,S,L,N;N=function(G){return G&&G.charAt(0).toUpperCase()+G.substr(1)};for(D in r)if(f=C,!!r.hasOwnProperty(D)){for(A=D.split("/"),L=N(A.pop());S=N(A.shift());)f[S]=f[S]||{},f=f[S];f[L]=r[D]}return C},E=function(C){return e.__dollar=C,d(t(e,a,i))};return E(jQuery$1)}(window,function(e,t,r){t("dollar-third",[],function(){var a=e.require,l=e.__dollar||e.jQuery||e.Zepto||a("jquery")||a("zepto");if(!l)throw new Error("jQuery or Zepto not found!");return l}),t("dollar",["dollar-third"],function(a){return a}),t("promise-third",["dollar"],function(a){return{Deferred:a.Deferred,when:a.when,isPromise:function(l){return l&&typeof l.then=="function"}}}),t("promise",["promise-third"],function(a){return a}),t("base",["dollar","promise"],function(a,l){var c=function(){},d=Function.call;function E(f){return function(){return d.apply(f,arguments)}}function C(f,A){return function(){return f.apply(A,arguments)}}function D(f){var A;return Object.create?Object.create(f):(A=function(){},A.prototype=f,new A)}return{version:"0.1.6",$:a,Deferred:l.Deferred,isPromise:l.isPromise,when:l.when,browser:function(f){var A={},S=f.match(/WebKit\/([\d.]+)/),L=f.match(/Chrome\/([\d.]+)/)||f.match(/CriOS\/([\d.]+)/),N=f.match(/MSIE\s([\d\.]+)/)||f.match(/(?:trident)(?:.*rv:([\w.]+))?/i),G=f.match(/Firefox\/([\d.]+)/),ie=f.match(/Safari\/([\d.]+)/),le=f.match(/OPR\/([\d.]+)/);return S&&(A.webkit=parseFloat(S[1])),L&&(A.chrome=parseFloat(L[1])),N&&(A.ie=parseFloat(N[1])),G&&(A.firefox=parseFloat(G[1])),ie&&(A.safari=parseFloat(ie[1])),le&&(A.opera=parseFloat(le[1])),A}(navigator.userAgent),os:function(f){var A={},S=f.match(/(?:Android);?[\s\/]+([\d.]+)?/),L=f.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return S&&(A.android=parseFloat(S[1])),L&&(A.ios=parseFloat(L[1].replace(/_/g,"."))),A}(navigator.userAgent),inherits:function(f,A,S){var L;return typeof A=="function"?(L=A,A=null):A&&A.hasOwnProperty("constructor")?L=A.constructor:L=function(){return f.apply(this,arguments)},a.extend(!0,L,f,S||{}),L.__super__=f.prototype,L.prototype=D(f.prototype),A&&a.extend(!0,L.prototype,A),L},noop:c,bindFn:C,log:function(){return e.console?C(console.log,console):c}(),nextTick:function(){return function(f){setTimeout(f,1)}}(),slice:E([].slice),guid:function(){var f=0;return function(A){for(var S=(+new Date).toString(32),L=0;L<5;L++)S+=Math.floor(Math.random()*65535).toString(32);return(A||"wu_")+S+(f++).toString(32)}}(),formatSize:function(f,A,S){var L;for(S=S||["B","K","M","G","TB"];(L=S.shift())&&f>1024;)f=f/1024;return(L==="B"?f:f.toFixed(A||2))+L}}}),t("mediator",["base"],function(a){var l=a.$,c=[].slice,d=/\s+/,E;function C(A,S,L,N){return l.grep(A,function(G){return G&&(!S||G.e===S)&&(!L||G.cb===L||G.cb._cb===L)&&(!N||G.ctx===N)})}function D(A,S,L){l.each((A||"").split(d),function(N,G){L(G,S)})}function f(A,S){for(var L=!1,N=-1,G=A.length,ie;++N<G;)if(ie=A[N],ie.cb.apply(ie.ctx2,S)===!1){L=!0;break}return!L}return E={on:function(A,S,L){var N=this,G;return S?(G=this._events||(this._events=[]),D(A,S,function(ie,le){var ae={e:ie};ae.cb=le,ae.ctx=L,ae.ctx2=L||N,ae.id=G.length,G.push(ae)}),this):this},once:function(A,S,L){var N=this;return S&&D(A,S,function(G,ie){var le=function(){return N.off(G,le),ie.apply(L||N,arguments)};le._cb=ie,N.on(G,le,L)}),N},off:function(A,S,L){var N=this._events;return N?!A&&!S&&!L?(this._events=[],this):(D(A,S,function(G,ie){l.each(C(N,G,ie,L),function(){delete N[this.id]})}),this):this},trigger:function(A){var S,L,N;return!this._events||!A?this:(S=c.call(arguments,1),L=C(this._events,A),N=C(this._events,"all"),f(L,S)&&f(N,arguments))}},l.extend({installTo:function(A){return l.extend(A,E)}},E)}),t("uploader",["base","mediator"],function(a,l){var c=a.$;function d(E){this.options=c.extend(!0,{},d.options,E),this._init(this.options)}return d.options={},l.installTo(d.prototype),c.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(E,C){d.prototype[E]=function(){return this.request(C,arguments)}}),c.extend(d.prototype,{state:"pending",_init:function(E){var C=this;C.request("init",E,function(){C.state="ready",C.trigger("ready")})},option:function(E,C){var D=this.options;if(arguments.length>1)c.isPlainObject(C)&&c.isPlainObject(D[E])?c.extend(D[E],C):D[E]=C;else return E?D[E]:D},getStats:function(){var E=this.request("get-stats");return E?{successNum:E.numOfSuccess,progressNum:E.numOfProgress,cancelNum:E.numOfCancel,invalidNum:E.numOfInvalid,uploadFailNum:E.numOfUploadFailed,queueNum:E.numOfQueue,interruptNum:E.numofInterrupt}:{}},trigger:function(E){var C=[].slice.call(arguments,1),D=this.options,f="on"+E.substring(0,1).toUpperCase()+E.substring(1);return!(l.trigger.apply(this,arguments)===!1||c.isFunction(D[f])&&D[f].apply(this,C)===!1||c.isFunction(this[f])&&this[f].apply(this,C)===!1||l.trigger.apply(l,[this,E].concat(C))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:a.noop}),a.create=d.create=function(E){return new d(E)},a.Uploader=d,d}),t("runtime/runtime",["base","mediator"],function(a,l){var c=a.$,d={},E=function(D){for(var f in D)if(D.hasOwnProperty(f))return f;return null};function C(D){this.options=c.extend({container:document.body},D),this.uid=a.guid("rt_")}return c.extend(C.prototype,{getContainer:function(){var D=this.options,f,A;return this._container?this._container:(f=c(D.container||document.body),A=c(document.createElement("div")),A.attr("id","rt_"+this.uid),A.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),f.append(A),f.addClass("webuploader-container"),this._container=A,this._parent=f,A)},init:a.noop,exec:a.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),C.orders="html5,flash",C.addRuntime=function(D,f){d[D]=f},C.hasRuntime=function(D){return!!(D?d[D]:E(d))},C.create=function(D,f){var A,S;if(f=f||C.orders,c.each(f.split(/\s*,\s*/g),function(){if(d[this])return A=this,!1}),A=A||E(d),!A)throw new Error("Runtime Error");return S=new d[A](D),S},l.installTo(C.prototype),C}),t("runtime/client",["base","mediator","runtime/runtime"],function(a,l,c){var d;d=function(){var C={};return{add:function(D){C[D.uid]=D},get:function(D,f){var A;if(D)return C[D];for(A in C)if(!(f&&C[A].__standalone))return C[A];return null},remove:function(D){delete C[D.uid]}}}();function E(C,D){var f=a.Deferred(),A;this.uid=a.guid("client_"),this.runtimeReady=function(S){return f.done(S)},this.connectRuntime=function(S,L){if(A)throw new Error("already connected!");return f.done(L),typeof S=="string"&&d.get(S)&&(A=d.get(S)),A=A||d.get(null,D),A?(a.$.extend(A.options,S),A.__promise.then(f.resolve),A.__client++):(A=c.create(S,S.runtimeOrder),A.__promise=f.promise(),A.once("ready",f.resolve),A.init(),d.add(A),A.__client=1),D&&(A.__standalone=D),A},this.getRuntime=function(){return A},this.disconnectRuntime=function(){!A||(A.__client--,A.__client<=0&&(d.remove(A),delete A.__promise,A.destroy()),A=null)},this.exec=function(){if(!!A){var S=a.slice(arguments);return C&&S.unshift(C),A.exec.apply(this,S)}},this.getRuid=function(){return A&&A.uid},this.destroy=function(S){return function(){S&&S.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}return l.installTo(E.prototype),E}),t("lib/dnd",["base","mediator","runtime/client"],function(a,l,c){var d=a.$;function E(C){C=this.options=d.extend({},E.options,C),C.container=d(C.container),C.container.length&&c.call(this,"DragAndDrop")}return E.options={accept:null,disableGlobalDnd:!1},a.inherits(c,{constructor:E,init:function(){var C=this;C.connectRuntime(C.options,function(){C.exec("init"),C.trigger("ready")})}}),l.installTo(E.prototype),E}),t("widgets/widget",["base","uploader"],function(a,l){var c=a.$,d=l.prototype._init,E=l.prototype.destroy,C={},D=[];function f(S){if(!S)return!1;var L=S.length,N=c.type(S);return S.nodeType===1&&L?!0:N==="array"||N!=="function"&&N!=="string"&&(L===0||typeof L=="number"&&L>0&&L-1 in S)}function A(S){this.owner=S,this.options=S.options}return c.extend(A.prototype,{init:a.noop,invoke:function(S,L){var N=this.responseMap;return!N||!(S in N)||!(N[S]in this)||!c.isFunction(this[N[S]])?C:this[N[S]].apply(this,L)},request:function(){return this.owner.request.apply(this.owner,arguments)}}),c.extend(l.prototype,{_init:function(){var S=this,L=S._widgets=[],N=S.options.disableWidgets||"";return c.each(D,function(G,ie){(!N||!~N.indexOf(ie._name))&&L.push(new ie(S))}),d.apply(S,arguments)},request:function(S,L,N){var G=0,ie=this._widgets,le=ie&&ie.length,ae=[],he=[],pe,B,se,oe;for(L=f(L)?L:[L];G<le;G++)pe=ie[G],B=pe.invoke(S,L),B!==C&&(a.isPromise(B)?he.push(B):ae.push(B));return N||he.length?(se=a.when.apply(a,he),oe=se.pipe?"pipe":"then",se[oe](function(){var O=a.Deferred(),T=arguments;return T.length===1&&(T=T[0]),setTimeout(function(){O.resolve(T)},1),O.promise()})[N?oe:"done"](N||a.noop)):ae[0]},destroy:function(){E.apply(this,arguments),this._widgets=null}}),l.register=A.register=function(S,L){var N={init:"init",destroy:"destroy",name:"anonymous"},G;return arguments.length===1?(L=S,c.each(L,function(ie){if(ie[0]==="_"||ie==="name"){ie==="name"&&(N.name=L.name);return}N[ie.replace(/[A-Z]/g,"-$&").toLowerCase()]=ie})):N=c.extend(N,S),L.responseMap=N,G=a.inherits(A,L),G._name=N.name,D.push(G),G},l.unRegister=A.unRegister=function(S){if(!(!S||S==="anonymous"))for(var L=D.length;L--;)D[L]._name===S&&D.splice(L,1)},A}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(a,l,c){var d=a.$;return l.options.dnd="",l.register({name:"dnd",init:function(E){if(!(!E.dnd||this.request("predict-runtime-type")!=="html5")){var C=this,D=a.Deferred(),f=d.extend({},{disableGlobalDnd:E.disableGlobalDnd,container:E.dnd,accept:E.accept}),A;return this.dnd=A=new c(f),A.once("ready",D.resolve),A.on("drop",function(S){C.request("add-file",[S])}),A.on("accept",function(S){return C.owner.trigger("dndAccept",S)}),A.init(),D.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(a,l,c){var d=a.$;function E(C){C=this.options=d.extend({},C),C.container=d(C.container||document.body),c.call(this,"FilePaste")}return a.inherits(c,{constructor:E,init:function(){var C=this;C.connectRuntime(C.options,function(){C.exec("init"),C.trigger("ready")})}}),l.installTo(E.prototype),E}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(a,l,c){var d=a.$;return l.register({name:"paste",init:function(E){if(!(!E.paste||this.request("predict-runtime-type")!=="html5")){var C=this,D=a.Deferred(),f=d.extend({},{container:E.paste,accept:E.accept}),A;return this.paste=A=new c(f),A.once("ready",D.resolve),A.on("paste",function(S){C.owner.request("add-file",[S])}),A.init(),D.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(a,l){function c(d,E){var C=this;C.source=E,C.ruid=d,this.size=E.size||0,!E.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+(this.ext==="jpg"?"jpeg":this.ext):this.type=E.type||"application/octet-stream",l.call(C,"Blob"),this.uid=E.uid||this.uid,d&&C.connectRuntime(d)}return a.inherits(l,{constructor:c,slice:function(d,E){return this.exec("slice",d,E)},getSource:function(){return this.source}}),c}),t("lib/file",["base","lib/blob"],function(a,l){var c=1,d=/\.([^.]+)$/;function E(C,D){var f;this.name=D.name||"untitled"+c++,f=d.exec(D.name)?RegExp.$1.toLowerCase():"",!f&&D.type&&(f=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(D.type)?RegExp.$1.toLowerCase():"",this.name+="."+f),this.ext=f,this.lastModifiedDate=D.lastModifiedDate||new Date().toLocaleString(),l.apply(this,arguments)}return a.inherits(l,E)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(a,l,c){var d=a.$;function E(C){if(C=this.options=d.extend({},E.options,C),C.container=d(C.id),!C.container.length)throw new Error("\u6309\u94AE\u6307\u5B9A\u9519\u8BEF");C.innerHTML=C.innerHTML||C.label||C.container.html()||"",C.button=d(C.button||document.createElement("div")),C.button.html(C.innerHTML),C.container.html(C.button),l.call(this,"FilePicker",!0)}return E.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},a.inherits(l,{constructor:E,init:function(){var C=this,D=C.options,f=D.button,A=D.style;A&&f.addClass("webuploader-pick"),C.on("all",function(S){var L;switch(S){case"mouseenter":A&&f.addClass("webuploader-pick-hover");break;case"mouseleave":A&&f.removeClass("webuploader-pick-hover");break;case"change":L=C.exec("getFiles"),C.trigger("select",d.map(L,function(N){return N=new c(C.getRuid(),N),N._refer=D.container,N}),D.container);break}}),C.connectRuntime(D,function(){C.refresh(),C.exec("init",D),C.trigger("ready")}),this._resizeHandler=a.bindFn(this.refresh,this),d(e).on("resize",this._resizeHandler)},refresh:function(){var C=this.getRuntime().getContainer(),D=this.options.button,f=D.outerWidth?D.outerWidth():D.width(),A=D.outerHeight?D.outerHeight():D.height(),S=D.offset();f&&A&&C.css({bottom:"auto",right:"auto",width:f+"px",height:A+"px"}).offset(S)},enable:function(){var C=this.options.button;C.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var C=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),C.addClass("webuploader-pick-disable")},destroy:function(){var C=this.options.button;d(e).off("resize",this._resizeHandler),C.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),E}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(a,l,c){var d=a.$;return d.extend(l.options,{pick:null,accept:null}),l.register({name:"picker",init:function(E){return this.pickers=[],E.pick&&this.addBtn(E.pick)},refresh:function(){d.each(this.pickers,function(){this.refresh()})},addBtn:function(E){var C=this,D=C.options,f=D.accept,A=[];if(!!E)return d.isPlainObject(E)||(E={id:E}),d(E.id).each(function(){var S,L,N;N=a.Deferred(),S=d.extend({},E,{accept:d.isPlainObject(f)?[f]:f,swf:D.swf,runtimeOrder:D.runtimeOrder,id:this}),L=new c(S),L.once("ready",N.resolve),L.on("select",function(G){C.owner.request("add-file",[G])}),L.on("dialogopen",function(){C.owner.trigger("dialogOpen",L.button)}),L.init(),C.pickers.push(L),A.push(N.promise())}),a.when.apply(a,A)},disable:function(){d.each(this.pickers,function(){this.disable()})},enable:function(){d.each(this.pickers,function(){this.enable()})},destroy:function(){d.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(a,l,c){var d=a.$;function E(C){this.options=d.extend({},E.options,C),l.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}return E.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},a.inherits(l,{constructor:E,info:function(C){return C?(this._info=C,this):this._info},meta:function(C){return C?(this._meta=C,this):this._meta},loadFromBlob:function(C){var D=this,f=C.getRuid();this.connectRuntime(f,function(){D.exec("init",D.options),D.exec("loadFromBlob",C)})},resize:function(){var C=a.slice(arguments);return this.exec.apply(this,["resize"].concat(C))},crop:function(){var C=a.slice(arguments);return this.exec.apply(this,["crop"].concat(C))},getAsDataUrl:function(C){return this.exec("getAsDataUrl",C)},getAsBlob:function(C){var D=this.exec("getAsBlob",C);return new c(this.getRuid(),D)}}),E}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(a,l,c){var d=a.$,E;return E=function(C){var D=0,f=[],A=function(){for(var S;f.length&&D<C;)S=f.shift(),D+=S[0],S[1]()};return function(S,L,N){f.push([L,N]),S.once("destroy",function(){D-=L,setTimeout(A,1)}),setTimeout(A,1)}}(5*1024*1024),d.extend(l.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),l.register({name:"image",makeThumb:function(C,D,f,A){var S,L;if(C=this.request("get-file",C),!C.type.match(/^image/)){D(!0);return}S=d.extend({},this.options.thumb),d.isPlainObject(f)&&(S=d.extend(S,f),f=null),f=f||S.width,A=A||S.height,L=new c(S),L.once("load",function(){C._info=C._info||L.info(),C._meta=C._meta||L.meta(),f<=1&&f>0&&(f=C._info.width*f),A<=1&&A>0&&(A=C._info.height*A),L.resize(f,A)}),L.once("complete",function(){D(!1,L.getAsDataUrl(S.type)),L.destroy()}),L.once("error",function(N){D(N||!0),L.destroy()}),E(L,C.source.size,function(){C._info&&L.info(C._info),C._meta&&L.meta(C._meta),L.loadFromBlob(C.source)})},beforeSendFile:function(C){var D=this.options.compress||this.options.resize,f=D&&D.compressSize||0,A=D&&D.noCompressIfLarger||!1,S,L;if(C=this.request("get-file",C),!(!D||!~"image/jpeg,image/jpg".indexOf(C.type)||C.size<f||C._compressed))return D=d.extend({},D),L=a.Deferred(),S=new c(D),L.always(function(){S.destroy(),S=null}),S.once("error",L.reject),S.once("load",function(){var N=D.width,G=D.height;C._info=C._info||S.info(),C._meta=C._meta||S.meta(),N<=1&&N>0&&(N=C._info.width*N),G<=1&&G>0&&(G=C._info.height*G),S.resize(N,G)}),S.once("complete",function(){var N,G;try{N=S.getAsBlob(D.type),G=C.size,(!A||N.size<G)&&(C.source=N,C.size=N.size,C.trigger("resize",N.size,G)),C._compressed=!0,L.resolve()}catch{L.resolve()}}),C._info&&S.info(C._info),C._meta&&S.meta(C._meta),S.loadFromBlob(C.source),L.promise()}})}),t("file",["base","mediator"],function(a,l){var c=a.$,d="WU_FILE_",E=0,C=/\.([^.]+)$/,D={};function f(){return d+E++}function A(S){this.name=S.name||"Untitled",this.size=S.size||0,this.type=S.type||"application/octet-stream",this.lastModifiedDate=S.lastModifiedDate||new Date*1,this.id=f(),this.ext=C.exec(this.name)?RegExp.$1:"",this.statusText="",D[this.id]=A.Status.INITED,this.source=S,this.loaded=0,this.on("error",function(L){this.setStatus(A.Status.ERROR,L)})}return c.extend(A.prototype,{setStatus:function(S,L){var N=D[this.id];typeof L<"u"&&(this.statusText=L),S!==N&&(D[this.id]=S,this.trigger("statuschange",S,N))},getStatus:function(){return D[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete D[this.id]}}),l.installTo(A.prototype),A.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},A}),t("queue",["base","mediator","file"],function(a,l,c){var d=a.$,E=c.Status;function C(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}return d.extend(C.prototype,{append:function(D){return this._queue.push(D),this._fileAdded(D),this},prepend:function(D){return this._queue.unshift(D),this._fileAdded(D),this},getFile:function(D){return typeof D!="string"?D:this._map[D]},fetch:function(D){var f=this._queue.length,A,S;for(D=D||E.QUEUED,A=0;A<f;A++)if(S=this._queue[A],D===S.getStatus())return S;return null},sort:function(D){typeof D=="function"&&this._queue.sort(D)},getFiles:function(){for(var D=[].slice.call(arguments,0),f=[],A=0,S=this._queue.length,L;A<S;A++)L=this._queue[A],!(D.length&&!~d.inArray(L.getStatus(),D))&&f.push(L);return f},removeFile:function(D){var f=this._map[D.id];f&&(delete this._map[D.id],D.destroy(),this.stats.numofDeleted++)},_fileAdded:function(D){var f=this,A=this._map[D.id];A||(this._map[D.id]=D,D.on("statuschange",function(S,L){f._onFileStatusChange(S,L)}))},_onFileStatusChange:function(D,f){var A=this.stats;switch(f){case E.PROGRESS:A.numOfProgress--;break;case E.QUEUED:A.numOfQueue--;break;case E.ERROR:A.numOfUploadFailed--;break;case E.INVALID:A.numOfInvalid--;break;case E.INTERRUPT:A.numofInterrupt--;break}switch(D){case E.QUEUED:A.numOfQueue++;break;case E.PROGRESS:A.numOfProgress++;break;case E.ERROR:A.numOfUploadFailed++;break;case E.COMPLETE:A.numOfSuccess++;break;case E.CANCELLED:A.numOfCancel++;break;case E.INVALID:A.numOfInvalid++;break;case E.INTERRUPT:A.numofInterrupt++;break}}}),l.installTo(C.prototype),C}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(a,l,c,d,E,C){var D=a.$,f=/\.\w+$/,A=d.Status;return l.register({name:"queue",init:function(S){var L=this,N,G,ie,le,ae,he,pe;if(D.isPlainObject(S.accept)&&(S.accept=[S.accept]),S.accept){for(ae=[],ie=0,G=S.accept.length;ie<G;ie++)le=S.accept[ie].extensions,le&&ae.push(le);ae.length&&(he="\\."+ae.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),L.accept=new RegExp(he,"i")}if(L.queue=new c,L.stats=L.queue.stats,this.request("predict-runtime-type")==="html5")return N=a.Deferred(),this.placeholder=pe=new C("Placeholder"),pe.connectRuntime({runtimeOrder:"html5"},function(){L._ruid=pe.getRuid(),N.resolve()}),N.promise()},_wrapFile:function(S){if(!(S instanceof d)){if(!(S instanceof E)){if(!this._ruid)throw new Error("Can't add external files.");S=new E(this._ruid,S)}S=new d(S)}return S},acceptFile:function(S){var L=!S||!S.size||this.accept&&f.exec(S.name)&&!this.accept.test(S.name);return!L},_addFile:function(S){var L=this;if(S=L._wrapFile(S),!!L.owner.trigger("beforeFileQueued",S)){if(!L.acceptFile(S)){L.owner.trigger("error","Q_TYPE_DENIED",S);return}return L.queue.append(S),L.owner.trigger("fileQueued",S),S}},getFile:function(S){return this.queue.getFile(S)},addFile:function(S){var L=this;S.length||(S=[S]),S=D.map(S,function(N){return L._addFile(N)}),S.length&&(L.owner.trigger("filesQueued",S),L.options.auto&&setTimeout(function(){L.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(S,L){var N=this;S=S.id?S:N.queue.getFile(S),this.request("cancel-file",S),L&&this.queue.removeFile(S)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(S,L){var N=this,G,ie,le;if(S){S=S.id?S:N.queue.getFile(S),S.setStatus(A.QUEUED),L||N.request("start-upload");return}for(G=N.queue.getFiles(A.ERROR),ie=0,le=G.length;ie<le;ie++)S=G[ie],S.setStatus(A.QUEUED);N.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new c,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(a,l){return a.support=function(){return l.hasRuntime.apply(l,arguments)},a.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var c=this.options.runtimeOrder||l.orders,d=this.type,E,C;if(!d){for(c=c.split(/\s*,\s*/g),E=0,C=c.length;E<C;E++)if(l.hasRuntime(c[E])){this.type=d=c[E];break}}return d}})}),t("lib/transport",["base","runtime/client","mediator"],function(a,l,c){var d=a.$;function E(C){var D=this;C=D.options=d.extend(!0,{},E.options,C||{}),l.call(this,"Transport"),this._blob=null,this._formData=C.formData||{},this._headers=C.headers||{},this.on("progress",this._timeout),this.on("load error",function(){D.trigger("progress",1),clearTimeout(D._timer)})}return E.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:2*60*1e3,formData:{},headers:{},sendAsBinary:!1},d.extend(E.prototype,{appendBlob:function(C,D,f){var A=this,S=A.options;A.getRuid()&&A.disconnectRuntime(),A.connectRuntime(D.ruid,function(){A.exec("init")}),A._blob=D,S.fileVal=C||S.fileVal,S.filename=f||S.filename},append:function(C,D){typeof C=="object"?d.extend(this._formData,C):this._formData[C]=D},setRequestHeader:function(C,D){typeof C=="object"?d.extend(this._headers,C):this._headers[C]=D},send:function(C){this.exec("send",C),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var C=this,D=C.options.timeout;!D||(clearTimeout(C._timer),C._timer=setTimeout(function(){C.abort(),C.trigger("error","timeout")},D))}}),c.installTo(E.prototype),E}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(a,l,c,d){var E=a.$,C=a.isPromise,D=c.Status;E.extend(l.options,{prepareNextFile:!1,chunked:!1,chunkSize:5*1024*1024,chunkRetry:2,threads:3,formData:{}});function f(A,S){var L=[],N=A.source,G=N.size,ie=S?Math.ceil(G/S):1,le=0,ae=0,he,pe;for(pe={file:A,has:function(){return!!L.length},shift:function(){return L.shift()},unshift:function(B){L.unshift(B)}};ae<ie;)he=Math.min(S,G-le),L.push({file:A,start:le,end:S?le+he:G,total:G,chunks:ie,chunk:ae++,cuted:pe}),le+=he;return A.blocks=L.concat(),A.remaning=L.length,pe}l.register({name:"upload",init:function(){var A=this.owner,S=this;this.runing=!1,this.progress=!1,A.on("startUpload",function(){S.progress=!0}).on("uploadFinished",function(){S.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=a.bindFn(this._tick,this),A.on("uploadComplete",function(L){L.blocks&&E.each(L.blocks,function(N,G){G.transport&&(G.transport.abort(),G.transport.destroy()),delete G.transport}),delete L.blocks,delete L.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(A){var S=this;if(E.each(S.request("get-files",D.INVALID),function(){S.request("remove-file",this)}),A?(A=A.id?A:S.request("get-file",A),A.getStatus()===D.INTERRUPT?(A.setStatus(D.QUEUED),E.each(S.pool,function(N,G){G.file===A&&(G.transport&&G.transport.send(),A.setStatus(D.PROGRESS))})):A.getStatus()!==D.PROGRESS&&A.setStatus(D.QUEUED)):E.each(S.request("get-files",[D.INITED]),function(){this.setStatus(D.QUEUED)}),S.runing)return a.nextTick(S.__tick);S.runing=!0;var L=[];A||E.each(S.pool,function(N,G){var ie=G.file;ie.getStatus()===D.INTERRUPT&&(S._trigged=!1,L.push(ie),G.transport&&G.transport.send())}),E.each(L,function(){this.setStatus(D.PROGRESS)}),A||E.each(S.request("get-files",D.INTERRUPT),function(){this.setStatus(D.PROGRESS)}),S._trigged=!1,a.nextTick(S.__tick),S.owner.trigger("startUpload")},stopUpload:function(A,S){var L=this,N;if(A===!0&&(S=A,A=null),L.runing!==!1){if(A)return A=A.id?A:L.request("get-file",A),A.getStatus()!==D.PROGRESS&&A.getStatus()!==D.QUEUED?void 0:(A.setStatus(D.INTERRUPT),E.each(L.pool,function(G,ie){if(ie.file===A)return N=ie,!1}),N.transport&&N.transport.abort(),S&&(L._putback(N),L._popBlock(N)),a.nextTick(L.__tick));L.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(D.INTERRUPT),S&&E.each(L.pool,function(G,ie){ie.transport&&ie.transport.abort(),ie.file.setStatus(D.INTERRUPT)}),L.owner.trigger("stopUpload")}},cancelFile:function(A){A=A.id?A:this.request("get-file",A),A.blocks&&E.each(A.blocks,function(S,L){var N=L.transport;N&&(N.abort(),N.destroy(),delete L.transport)}),A.setStatus(D.CANCELLED),this.owner.trigger("fileDequeued",A)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(A,S){A=A.id?A:this.request("get-file",A),A.setStatus(S||D.COMPLETE),A.skipped=!0,A.blocks&&E.each(A.blocks,function(L,N){var G=N.transport;G&&(G.abort(),G.destroy(),delete N.transport)}),this.owner.trigger("uploadSkip",A)},_tick:function(){var A=this,S=A.options,L,N;if(A._promise)return A._promise.always(A.__tick);A.pool.length<S.threads&&(N=A._nextBlock())?(A._trigged=!1,L=function(G){A._promise=null,G&&G.file&&A._startSend(G),a.nextTick(A.__tick)},A._promise=C(N)?N.always(L):L(N)):!A.remaning&&!A._getStats().numOfQueue&&!A._getStats().numofInterrupt&&(A.runing=!1,A._trigged||a.nextTick(function(){A.owner.trigger("uploadFinished")}),A._trigged=!0)},_putback:function(A){var S;A.cuted.unshift(A),S=this.stack.indexOf(A.cuted),~S||this.stack.unshift(A.cuted)},_getStack:function(){for(var A=0,S;S=this.stack[A++];){if(S.has()&&S.file.getStatus()===D.PROGRESS)return S;(!S.has()||S.file.getStatus()!==D.PROGRESS&&S.file.getStatus()!==D.INTERRUPT)&&this.stack.splice(--A,1)}return null},_nextBlock:function(){var A=this,S=A.options,L,N,G,ie;if(L=this._getStack())return S.prepareNextFile&&!A.pending.length&&A._prepareNextFile(),L.shift();if(A.runing)return!A.pending.length&&A._getStats().numOfQueue&&A._prepareNextFile(),N=A.pending.shift(),G=function(le){return le?(L=f(le,S.chunked?S.chunkSize:0),A.stack.push(L),L.shift()):null},C(N)?(ie=N.file,N=N[N.pipe?"pipe":"then"](G),N.file=ie,N):G(N)},_prepareNextFile:function(){var A=this,S=A.request("fetch-file"),L=A.pending,N;S&&(N=A.request("before-send-file",S,function(){return S.getStatus()===D.PROGRESS||S.getStatus()===D.INTERRUPT?S:A._finishFile(S)}),A.owner.trigger("uploadStart",S),S.setStatus(D.PROGRESS),N.file=S,N.done(function(){var G=E.inArray(N,L);~G&&L.splice(G,1,S)}),N.fail(function(G){S.setStatus(D.ERROR,G),A.owner.trigger("uploadError",S,G),A.owner.trigger("uploadComplete",S)}),L.push(N))},_popBlock:function(A){var S=E.inArray(A,this.pool);this.pool.splice(S,1),A.file.remaning--,this.remaning--},_startSend:function(A){var S=this,L=A.file,N;if(L.getStatus()!==D.PROGRESS){L.getStatus()===D.INTERRUPT&&S._putback(A);return}S.pool.push(A),S.remaning++,A.blob=A.chunks===1?L.source:L.source.slice(A.start,A.end),N=S.request("before-send",A,function(){L.getStatus()===D.PROGRESS?S._doSend(A):(S._popBlock(A),a.nextTick(S.__tick))}),N.fail(function(){L.remaning===1?S._finishFile(L).always(function(){A.percentage=1,S._popBlock(A),S.owner.trigger("uploadComplete",L),a.nextTick(S.__tick)}):(A.percentage=1,S.updateFileProgress(L),S._popBlock(A),a.nextTick(S.__tick))})},_doSend:function(A){var S=this,L=S.owner,N=S.options,G=A.file,ie=new d(N),le=E.extend({},N.formData),ae=E.extend({},N.headers),he,pe;A.transport=ie,ie.on("destroy",function(){delete A.transport,S._popBlock(A),a.nextTick(S.__tick)}),ie.on("progress",function(B){A.percentage=B,S.updateFileProgress(G)}),he=function(B){var se;return pe=ie.getResponseAsJson()||{},pe._raw=ie.getResponse(),se=function(oe){B=oe},L.trigger("uploadAccept",A,pe,se)||(B=B||"server"),B},ie.on("error",function(B,se){A.retried=A.retried||0,A.chunks>1&&~"http,abort".indexOf(B)&&A.retried<N.chunkRetry?(A.retried++,ie.send()):(!se&&B==="server"&&(B=he(B)),G.setStatus(D.ERROR,B),L.trigger("uploadError",G,B),L.trigger("uploadComplete",G))}),ie.on("load",function(){var B;if(B=he()){ie.trigger("error",B,!0);return}G.remaning===1?S._finishFile(G,pe):ie.destroy()}),le=E.extend(le,{id:G.id,name:G.name,type:G.type,lastModifiedDate:G.lastModifiedDate,size:G.size}),A.chunks>1&&E.extend(le,{chunks:A.chunks,chunk:A.chunk}),L.trigger("uploadBeforeSend",A,le,ae),ie.appendBlob(N.fileVal,A.blob,G.name),ie.append(le),ie.setRequestHeader(ae),ie.send()},_finishFile:function(A,S,L){var N=this.owner;return N.request("after-send-file",arguments,function(){A.setStatus(D.COMPLETE),N.trigger("uploadSuccess",A,S,L)}).fail(function(G){A.getStatus()===D.PROGRESS&&A.setStatus(D.ERROR,G),N.trigger("uploadError",A,G)}).always(function(){N.trigger("uploadComplete",A)})},updateFileProgress:function(A){var S=0,L=0;!A.blocks||(E.each(A.blocks,function(N,G){L+=(G.percentage||0)*(G.end-G.start)}),S=L/A.size,this.owner.trigger("uploadProgress",A,S||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(a,l,c){var d=a.$,E={},C;return C={addValidator:function(D,f){E[D]=f},removeValidator:function(D){delete E[D]}},l.register({name:"validator",init:function(){var D=this;a.nextTick(function(){d.each(E,function(){this.call(D.owner)})})}}),C.addValidator("fileNumLimit",function(){var D=this,f=D.options,A=0,S=parseInt(f.fileNumLimit,10),L=!0;!S||(D.on("beforeFileQueued",function(N){return A>=S&&L&&(L=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",S,N),setTimeout(function(){L=!0},1)),!(A>=S)}),D.on("fileQueued",function(){A++}),D.on("fileDequeued",function(){A--}),D.on("reset",function(){A=0}))}),C.addValidator("fileSizeLimit",function(){var D=this,f=D.options,A=0,S=parseInt(f.fileSizeLimit,10),L=!0;!S||(D.on("beforeFileQueued",function(N){var G=A+N.size>S;return G&&L&&(L=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",S,N),setTimeout(function(){L=!0},1)),!G}),D.on("fileQueued",function(N){A+=N.size}),D.on("fileDequeued",function(N){A-=N.size}),D.on("reset",function(){A=0}))}),C.addValidator("fileSingleSizeLimit",function(){var D=this,f=D.options,A=f.fileSingleSizeLimit;!A||D.on("beforeFileQueued",function(S){if(S.size>A)return S.setStatus(c.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",A,S),!1})}),C.addValidator("duplicate",function(){var D=this,f=D.options,A={};if(f.duplicate)return;function S(L){for(var N=0,G=0,ie=L.length,le;G<ie;G++)le=L.charCodeAt(G),N=le+(N<<6)+(N<<16)-N;return N}D.on("beforeFileQueued",function(L){var N=L.__hash||(L.__hash=S(L.name+L.size+L.lastModifiedDate));if(A[N])return this.trigger("error","F_DUPLICATE",L),!1}),D.on("fileQueued",function(L){var N=L.__hash;N&&(A[N]=!0)}),D.on("fileDequeued",function(L){var N=L.__hash;N&&delete A[N]}),D.on("reset",function(){A={}})}),C}),t("lib/md5",["runtime/client","mediator"],function(a,l){function c(){a.call(this,"Md5")}return l.installTo(c.prototype),c.prototype.loadFromBlob=function(d){var E=this;E.getRuid()&&E.disconnectRuntime(),E.connectRuntime(d.ruid,function(){E.exec("init"),E.exec("loadFromBlob",d)})},c.prototype.getResult=function(){return this.exec("getResult")},c}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(a,l,c,d){return l.register({name:"md5",md5File:function(E,C,D){var f=new c,A=a.Deferred(),S=E instanceof d?E:this.request("get-file",E).source;return f.on("progress load",function(L){L=L||{},A.notify(L.total?L.loaded/L.total:1)}),f.on("complete",function(){A.resolve(f.getResult())}),f.on("error",function(L){A.reject(L)}),arguments.length>1&&(C=C||0,D=D||0,C<0&&(C=S.size+C),D<0&&(D=S.size+D),D=Math.min(D,S.size),S=S.slice(C,D)),f.loadFromBlob(S),A.promise()}})}),t("runtime/compbase",[],function(){function a(l,c){this.owner=l,this.options=l.options,this.getRuntime=function(){return c},this.getRuid=function(){return c.uid},this.trigger=function(){return l.trigger.apply(l,arguments)}}return a}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(a,l,c){var d="html5",E={};function C(){var D={},f=this,A=this.destroy;l.apply(f,arguments),f.type=d,f.exec=function(S,L){var N=this,G=N.uid,ie=a.slice(arguments,2),le;if(E[S]&&(le=D[G]=D[G]||new E[S](N,f),le[L]))return le[L].apply(le,ie)},f.destroy=function(){return A&&A.apply(this,arguments)}}return a.inherits(l,{constructor:C,init:function(){var D=this;setTimeout(function(){D.trigger("ready")},1)}}),C.register=function(D,f){var A=E[D]=a.inherits(c,f);return A},e.Blob&&e.FileReader&&e.DataView&&l.addRuntime(d,C),C}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(a,l){return a.register("Blob",{slice:function(c,d){var E=this.owner.source,C=E.slice||E.webkitSlice||E.mozSlice;return E=C.call(E,c,d),new l(this.getRuid(),E)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(a,l,c){var d=a.$,E="webuploader-dnd-";return l.register("DragAndDrop",{init:function(){var C=this.elem=this.options.container;this.dragEnterHandler=a.bindFn(this._dragEnterHandler,this),this.dragOverHandler=a.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=a.bindFn(this._dragLeaveHandler,this),this.dropHandler=a.bindFn(this._dropHandler,this),this.dndOver=!1,C.on("dragenter",this.dragEnterHandler),C.on("dragover",this.dragOverHandler),C.on("dragleave",this.dragLeaveHandler),C.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).on("dragover",this.dragOverHandler),d(document).on("drop",this.dropHandler))},_dragEnterHandler:function(C){var D=this,f=D._denied||!1,A;return C=C.originalEvent||C,D.dndOver||(D.dndOver=!0,A=C.dataTransfer.items,A&&A.length&&(D._denied=f=!D.trigger("accept",A)),D.elem.addClass(E+"over"),D.elem[f?"addClass":"removeClass"](E+"denied")),C.dataTransfer.dropEffect=f?"none":"copy",!1},_dragOverHandler:function(C){var D=this.elem.parent().get(0);return D&&!d.contains(D,C.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,C)),!1},_dragLeaveHandler:function(){var C=this,D;return D=function(){C.dndOver=!1,C.elem.removeClass(E+"over "+E+"denied")},clearTimeout(C._leaveTimer),C._leaveTimer=setTimeout(D,100),!1},_dropHandler:function(C){var D=this,f=D.getRuid(),A=D.elem.parent().get(0),S,L;if(A&&!d.contains(A,C.currentTarget))return!1;C=C.originalEvent||C,S=C.dataTransfer;try{L=S.getData("text/html")}catch{}if(D.dndOver=!1,D.elem.removeClass(E+"over"),!L)return D._getTansferFiles(S,function(N){D.trigger("drop",d.map(N,function(G){return new c(f,G)}))}),!1},_getTansferFiles:function(C,D){var f=[],A=[],S,L,N,G,ie,le,ae;for(S=C.items,L=C.files,ae=!!(S&&S[0].webkitGetAsEntry),ie=0,le=L.length;ie<le;ie++)N=L[ie],G=S&&S[ie],ae&&G.webkitGetAsEntry().isDirectory?A.push(this._traverseDirectoryTree(G.webkitGetAsEntry(),f)):f.push(N);a.when.apply(a,A).done(function(){!f.length||D(f)})},_traverseDirectoryTree:function(C,D){var f=a.Deferred(),A=this;return C.isFile?C.file(function(S){D.push(S),f.resolve()}):C.isDirectory&&C.createReader().readEntries(function(S){var L=S.length,N=[],G=[],ie;for(ie=0;ie<L;ie++)N.push(A._traverseDirectoryTree(S[ie],G));a.when.apply(a,N).then(function(){D.push.apply(D,G),f.resolve()},f.reject)}),f.promise()},destroy:function(){var C=this.elem;!C||(C.off("dragenter",this.dragEnterHandler),C.off("dragover",this.dragOverHandler),C.off("dragleave",this.dragLeaveHandler),C.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(d(document).off("dragover",this.dragOverHandler),d(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(a,l,c){return l.register("FilePaste",{init:function(){var d=this.options,E=this.elem=d.container,C=".*",D,f,A,S;if(d.accept){for(D=[],f=0,A=d.accept.length;f<A;f++)S=d.accept[f].mimeTypes,S&&D.push(S);D.length&&(C=D.join(","),C=C.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=C=new RegExp(C,"i"),this.hander=a.bindFn(this._pasteHander,this),E.on("paste",this.hander)},_pasteHander:function(d){var E=[],C=this.getRuid(),D,f,A,S,L;for(d=d.originalEvent||d,D=d.clipboardData.items,S=0,L=D.length;S<L;S++)f=D[S],!(f.kind!=="file"||!(A=f.getAsFile()))&&E.push(new c(C,A));E.length&&(d.preventDefault(),d.stopPropagation(),this.trigger("paste",E))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(a,l){var c=a.$;return l.register("FilePicker",{init:function(){var d=this.getRuntime().getContainer(),E=this,C=E.owner,D=E.options,f=this.label=c(document.createElement("label")),A=this.input=c(document.createElement("input")),S,L,N,G;if(A.attr("type","file"),A.attr("capture","camera"),A.attr("name",D.name),A.addClass("webuploader-element-invisible"),f.on("click",function(le){A.trigger("click"),le.stopPropagation(),C.trigger("dialogopen")}),f.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),D.multiple&&A.attr("multiple","multiple"),D.accept&&D.accept.length>0){for(S=[],L=0,N=D.accept.length;L<N;L++)S.push(D.accept[L].mimeTypes);A.attr("accept",S.join(","))}d.append(A),d.append(f),G=function(le){C.trigger(le.type)};function ie(le){var ae=ie,he;E.files=le.target.files,he=this.cloneNode(!0),he.value=null,this.parentNode.replaceChild(he,this),A.off(),A=c(he).on("change",ae).on("mouseenter mouseleave",G),C.trigger("change")}A.on("change",ie),f.on("mouseenter mouseleave",G)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(a){var l=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,c=a.noop,d=c;return l&&(c=function(){return l.createObjectURL.apply(l,arguments)},d=function(){return l.revokeObjectURL.apply(l,arguments)}),{createObjectURL:c,revokeObjectURL:d,dataURL2Blob:function(E){var C,D,f,A,S,L;for(L=E.split(","),~L[0].indexOf("base64")?C=atob(L[1]):C=decodeURIComponent(L[1]),f=new ArrayBuffer(C.length),D=new Uint8Array(f),A=0;A<C.length;A++)D[A]=C.charCodeAt(A);return S=L[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(f,S)},dataURL2ArrayBuffer:function(E){var C,D,f,A;for(A=E.split(","),~A[0].indexOf("base64")?C=atob(A[1]):C=decodeURIComponent(A[1]),D=new Uint8Array(C.length),f=0;f<C.length;f++)D[f]=C.charCodeAt(f);return D.buffer},arrayBufferToBlob:function(E,C){var D=e.BlobBuilder||e.WebKitBlobBuilder,f;return D?(f=new D,f.append(E),f.getBlob(C)):new Blob([E],C?{type:C}:{})},canvasToDataUrl:function(E,C,D){return E.toDataURL(C,D/100)},parseMeta:function(E,C){C(!1,{})},updateImageHead:function(E){return E}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(a){var l;return l={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(c,d){var E=this,C=new FileReader;C.onload=function(){d(!1,E._parse(this.result)),C=C.onload=C.onerror=null},C.onerror=function(D){d(D.message),C=C.onload=C.onerror=null},c=c.slice(0,E.maxMetaDataSize),C.readAsArrayBuffer(c.getSource())},_parse:function(c,d){if(!(c.byteLength<6)){var E=new DataView(c),C=2,D=E.byteLength-4,f=C,A={},S,L,N,G;if(E.getUint16(0)===65496){for(;C<D&&(S=E.getUint16(C),S>=65504&&S<=65519||S===65534);){if(L=E.getUint16(C+2)+2,C+L>E.byteLength)break;if(N=l.parsers[S],!d&&N)for(G=0;G<N.length;G+=1)N[G].call(l,E,C,L,A);C+=L,f=C}f>6&&(c.slice?A.imageHead=c.slice(2,f):A.imageHead=new Uint8Array(c).subarray(2,f))}return A}},updateImageHead:function(c,d){var E=this._parse(c,!0),C,D,f;return f=2,E.imageHead&&(f=2+E.imageHead.byteLength),c.slice?D=c.slice(f):D=new Uint8Array(c).subarray(f),C=new Uint8Array(d.byteLength+2+D.byteLength),C[0]=255,C[1]=216,C.set(new Uint8Array(d),2),C.set(new Uint8Array(D),d.byteLength+2),C.buffer}},a.parseMeta=function(){return l.parse.apply(l,arguments)},a.updateImageHead=function(){return l.updateImageHead.apply(l,arguments)},l}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(a,l){var c={};return c.ExifMap=function(){return this},c.ExifMap.prototype.map={Orientation:274},c.ExifMap.prototype.get=function(d){return this[d]||this[this.map[d]]},c.exifTagTypes={1:{getValue:function(d,E){return d.getUint8(E)},size:1},2:{getValue:function(d,E){return String.fromCharCode(d.getUint8(E))},size:1,ascii:!0},3:{getValue:function(d,E,C){return d.getUint16(E,C)},size:2},4:{getValue:function(d,E,C){return d.getUint32(E,C)},size:4},5:{getValue:function(d,E,C){return d.getUint32(E,C)/d.getUint32(E+4,C)},size:8},9:{getValue:function(d,E,C){return d.getInt32(E,C)},size:4},10:{getValue:function(d,E,C){return d.getInt32(E,C)/d.getInt32(E+4,C)},size:8}},c.exifTagTypes[7]=c.exifTagTypes[1],c.getExifValue=function(d,E,C,D,f,A){var S=c.exifTagTypes[D],L,N,G,ie,le,ae;if(!S){a.log("Invalid Exif data: Invalid tag type.");return}if(L=S.size*f,N=L>4?E+d.getUint32(C+8,A):C+8,N+L>d.byteLength){a.log("Invalid Exif data: Invalid data offset.");return}if(f===1)return S.getValue(d,N,A);for(G=[],ie=0;ie<f;ie+=1)G[ie]=S.getValue(d,N+ie*S.size,A);if(S.ascii){for(le="",ie=0;ie<G.length&&(ae=G[ie],ae!=="\0");ie+=1)le+=ae;return le}return G},c.parseExifTag=function(d,E,C,D,f){var A=d.getUint16(C,D);f.exif[A]=c.getExifValue(d,E,C,d.getUint16(C+2,D),d.getUint32(C+4,D),D)},c.parseExifTags=function(d,E,C,D,f){var A,S,L;if(C+6>d.byteLength){a.log("Invalid Exif data: Invalid directory offset.");return}if(A=d.getUint16(C,D),S=C+2+12*A,S+4>d.byteLength){a.log("Invalid Exif data: Invalid directory size.");return}for(L=0;L<A;L+=1)this.parseExifTag(d,E,C+2+12*L,D,f);return d.getUint32(S,D)},c.parseExifData=function(d,E,C,D){var f=E+10,A,S;if(d.getUint32(E+4)===1165519206){if(f+8>d.byteLength){a.log("Invalid Exif data: Invalid segment size.");return}if(d.getUint16(E+8)!==0){a.log("Invalid Exif data: Missing byte alignment offset.");return}switch(d.getUint16(f)){case 18761:A=!0;break;case 19789:A=!1;break;default:a.log("Invalid Exif data: Invalid byte alignment marker.");return}if(d.getUint16(f+2,A)!==42){a.log("Invalid Exif data: Missing TIFF marker.");return}S=d.getUint32(f+4,A),D.exif=new c.ExifMap,S=c.parseExifTags(d,f,f+S,A,D)}},l.parsers[65505].push(c.parseExifData),c}),t("runtime/html5/jpegencoder",[],function(a,l,c){function d(E){var C=Math.floor,D=new Array(64),f=new Array(64),A=new Array(64),S=new Array(64),L,N,G,ie,le=new Array(65535),ae=new Array(65535),he=new Array(64),pe=new Array(64),B=[],se=0,oe=7,O=new Array(64),T=new Array(64),ce=new Array(64),fe=new Array(256),Ee=new Array(2048),Ae,_e=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],xe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],De=[0,1,2,3,4,5,6,7,8,9,10,11],Le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],rt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],We=[0,1,2,3,4,5,6,7,8,9,10,11],xt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ue(gt){for(var Dt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],zt=0;zt<64;zt++){var et=C((Dt[zt]*gt+50)/100);et<1?et=1:et>255&&(et=255),D[_e[zt]]=et}for(var sn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],bn=0;bn<64;bn++){var Fn=C((sn[bn]*gt+50)/100);Fn<1?Fn=1:Fn>255&&(Fn=255),f[_e[bn]]=Fn}for(var St=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],dt=0,At=0;At<8;At++)for(var Xt=0;Xt<8;Xt++)A[dt]=1/(D[_e[dt]]*St[At]*St[Xt]*8),S[dt]=1/(f[_e[dt]]*St[At]*St[Xt]*8),dt++}function Pe(gt,Dt){for(var zt=0,et=0,sn=new Array,bn=1;bn<=16;bn++){for(var Fn=1;Fn<=gt[bn];Fn++)sn[Dt[et]]=[],sn[Dt[et]][0]=zt,sn[Dt[et]][1]=bn,et++,zt++;zt*=2}return sn}function Re(){L=Pe(xe,De),N=Pe(rt,We),G=Pe(Le,Ge),ie=Pe(xt,Me)}function st(){for(var gt=1,Dt=2,zt=1;zt<=15;zt++){for(var et=gt;et<Dt;et++)ae[32767+et]=zt,le[32767+et]=[],le[32767+et][1]=zt,le[32767+et][0]=et;for(var sn=-(Dt-1);sn<=-gt;sn++)ae[32767+sn]=zt,le[32767+sn]=[],le[32767+sn][1]=zt,le[32767+sn][0]=Dt-1+sn;gt<<=1,Dt<<=1}}function It(){for(var gt=0;gt<256;gt++)Ee[gt]=19595*gt,Ee[gt+256>>0]=38470*gt,Ee[gt+512>>0]=7471*gt+32768,Ee[gt+768>>0]=-11059*gt,Ee[gt+1024>>0]=-21709*gt,Ee[gt+1280>>0]=32768*gt+8421375,Ee[gt+1536>>0]=-27439*gt,Ee[gt+1792>>0]=-5329*gt}function Ct(gt){for(var Dt=gt[0],zt=gt[1]-1;zt>=0;)Dt&1<<zt&&(se|=1<<oe),zt--,oe--,oe<0&&(se==255?(tt(255),tt(0)):tt(se),oe=7,se=0)}function tt(gt){B.push(fe[gt])}function Ve(gt){tt(gt>>8&255),tt(gt&255)}function Ze(gt,Dt){var zt,et,sn,bn,Fn,St,dt,At,Xt=0,cn,zn=8,Vr=64;for(cn=0;cn<zn;++cn){zt=gt[Xt],et=gt[Xt+1],sn=gt[Xt+2],bn=gt[Xt+3],Fn=gt[Xt+4],St=gt[Xt+5],dt=gt[Xt+6],At=gt[Xt+7];var Un=zt+At,Mn=zt-At,jr=et+dt,Bi=et-dt,Ut=sn+St,Dn=sn-St,ar=bn+Fn,Yr=bn-Fn,ui=Un+ar,Oi=Un-ar,Ti=jr+Ut,Ri=jr-Ut;gt[Xt]=ui+Ti,gt[Xt+4]=ui-Ti;var lo=(Ri+Oi)*.707106781;gt[Xt+2]=Oi+lo,gt[Xt+6]=Oi-lo,ui=Yr+Dn,Ti=Dn+Bi,Ri=Bi+Mn;var Ki=(ui-Ri)*.382683433,Qa=.5411961*ui+Ki,No=1.306562965*Ri+Ki,fo=Ti*.707106781,ni=Mn+fo,Po=Mn-fo;gt[Xt+5]=Po+Qa,gt[Xt+3]=Po-Qa,gt[Xt+1]=ni+No,gt[Xt+7]=ni-No,Xt+=8}for(Xt=0,cn=0;cn<zn;++cn){zt=gt[Xt],et=gt[Xt+8],sn=gt[Xt+16],bn=gt[Xt+24],Fn=gt[Xt+32],St=gt[Xt+40],dt=gt[Xt+48],At=gt[Xt+56];var we=zt+At,vi=zt-At,Vo=et+dt,xr=et-dt,Bo=sn+St,pa=sn-St,ps=bn+Fn,fs=bn-Fn,Aa=we+ps,sa=we-ps,Qo=Vo+Bo,mo=Vo-Bo;gt[Xt]=Aa+Qo,gt[Xt+32]=Aa-Qo;var Ra=(mo+sa)*.707106781;gt[Xt+16]=sa+Ra,gt[Xt+48]=sa-Ra,Aa=fs+pa,Qo=pa+xr,mo=xr+vi;var jo=(Aa-mo)*.382683433,es=.5411961*Aa+jo,As=1.306562965*mo+jo,ea=Qo*.707106781,ms=vi+ea,Wo=vi-ea;gt[Xt+40]=Wo+es,gt[Xt+24]=Wo-es,gt[Xt+8]=ms+As,gt[Xt+56]=ms-As,Xt++}var La;for(cn=0;cn<Vr;++cn)La=gt[cn]*Dt[cn],he[cn]=La>0?La+.5|0:La-.5|0;return he}function Ne(){Ve(65504),Ve(16),tt(74),tt(70),tt(73),tt(70),tt(0),tt(1),tt(1),tt(0),Ve(1),Ve(1),tt(0),tt(0)}function qe(gt,Dt){Ve(65472),Ve(17),tt(8),Ve(Dt),Ve(gt),tt(3),tt(1),tt(17),tt(0),tt(2),tt(17),tt(1),tt(3),tt(17),tt(1)}function lt(){Ve(65499),Ve(132),tt(0);for(var gt=0;gt<64;gt++)tt(D[gt]);tt(1);for(var Dt=0;Dt<64;Dt++)tt(f[Dt])}function vt(){Ve(65476),Ve(418),tt(0);for(var gt=0;gt<16;gt++)tt(xe[gt+1]);for(var Dt=0;Dt<=11;Dt++)tt(De[Dt]);tt(16);for(var zt=0;zt<16;zt++)tt(Le[zt+1]);for(var et=0;et<=161;et++)tt(Ge[et]);tt(1);for(var sn=0;sn<16;sn++)tt(rt[sn+1]);for(var bn=0;bn<=11;bn++)tt(We[bn]);tt(17);for(var Fn=0;Fn<16;Fn++)tt(xt[Fn+1]);for(var St=0;St<=161;St++)tt(Me[St])}function bt(){Ve(65498),Ve(12),tt(3),tt(1),tt(0),tt(2),tt(17),tt(3),tt(17),tt(0),tt(63),tt(0)}function nt(gt,Dt,zt,et,sn){for(var bn=sn[0],Fn=sn[240],St,dt=16,At=63,Xt=64,cn=Ze(gt,Dt),zn=0;zn<Xt;++zn)pe[_e[zn]]=cn[zn];var Vr=pe[0]-zt;zt=pe[0],Vr==0?Ct(et[0]):(St=32767+Vr,Ct(et[ae[St]]),Ct(le[St]));for(var Un=63;Un>0&&pe[Un]==0;Un--);if(Un==0)return Ct(bn),zt;for(var Mn=1,jr;Mn<=Un;){for(var Bi=Mn;pe[Mn]==0&&Mn<=Un;++Mn);var Ut=Mn-Bi;if(Ut>=dt){jr=Ut>>4;for(var Dn=1;Dn<=jr;++Dn)Ct(Fn);Ut=Ut&15}St=32767+pe[Mn],Ct(sn[(Ut<<4)+ae[St]]),Ct(le[St]),Mn++}return Un!=At&&Ct(bn),zt}function Nt(){for(var gt=String.fromCharCode,Dt=0;Dt<256;Dt++)fe[Dt]=gt(Dt)}this.encode=function(gt,Dt){Dt&&kt(Dt),B=new Array,se=0,oe=7,Ve(65496),Ne(),lt(),qe(gt.width,gt.height),vt(),bt();var zt=0,et=0,sn=0;se=0,oe=7,this.encode.displayName="_encode_";for(var bn=gt.data,Fn=gt.width,St=gt.height,dt=Fn*4,At,Xt=0,cn,zn,Vr,Un,Mn,jr,Bi,Ut;Xt<St;){for(At=0;At<dt;){for(Un=dt*Xt+At,Mn=Un,jr=-1,Bi=0,Ut=0;Ut<64;Ut++)Bi=Ut>>3,jr=(Ut&7)*4,Mn=Un+Bi*dt+jr,Xt+Bi>=St&&(Mn-=dt*(Xt+1+Bi-St)),At+jr>=dt&&(Mn-=At+jr-dt+4),cn=bn[Mn++],zn=bn[Mn++],Vr=bn[Mn++],O[Ut]=(Ee[cn]+Ee[zn+256>>0]+Ee[Vr+512>>0]>>16)-128,T[Ut]=(Ee[cn+768>>0]+Ee[zn+1024>>0]+Ee[Vr+1280>>0]>>16)-128,ce[Ut]=(Ee[cn+1280>>0]+Ee[zn+1536>>0]+Ee[Vr+1792>>0]>>16)-128;zt=nt(O,A,zt,L,G),et=nt(T,S,et,N,ie),sn=nt(ce,S,sn,N,ie),At+=32}Xt+=8}if(oe>=0){var Dn=[];Dn[1]=oe+1,Dn[0]=(1<<oe+1)-1,Ct(Dn)}Ve(65497);var ar="data:image/jpeg;base64,"+btoa(B.join(""));return B=[],ar};function kt(gt){if(gt<=0&&(gt=1),gt>100&&(gt=100),Ae!=gt){var Dt=0;gt<50?Dt=Math.floor(5e3/gt):Dt=Math.floor(200-gt*2),Ue(Dt),Ae=gt}}function Qt(){E||(E=50),Nt(),Re(),st(),It(),kt(E)}Qt()}return d.encode=function(E,C){var D=new d(C);return D.encode(E)},d}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(a,l,c){var d=a.canvasToDataUrl,E;a.canvasToDataUrl=function(C,D,f){var A,S,L,N,G;return c.os.android?(D==="image/jpeg"&&typeof E>"u"&&(N=d.apply(null,arguments),G=N.split(","),~G[0].indexOf("base64")?N=atob(G[1]):N=decodeURIComponent(G[1]),N=N.substring(0,2),E=N.charCodeAt(0)===255&&N.charCodeAt(1)===216),D==="image/jpeg"&&!E?(S=C.width,L=C.height,A=C.getContext("2d"),l.encode(A.getImageData(0,0,S,L),f)):d.apply(null,arguments)):d.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(a,l,c){var d="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return l.register("Image",{modified:!1,init:function(){var E=this,C=new Image;C.onload=function(){E._info={type:E.type,width:this.width,height:this.height},!E._metas&&E.type==="image/jpeg"?c.parseMeta(E._blob,function(D,f){E._metas=f,E.owner.trigger("load")}):E.owner.trigger("load")},C.onerror=function(){E.owner.trigger("error")},E._img=C},loadFromBlob:function(E){var C=this,D=C._img;C._blob=E,C.type=E.type,D.src=c.createObjectURL(E.getSource()),C.owner.once("load",function(){c.revokeObjectURL(D.src)})},resize:function(E,C){var D=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,D,E,C),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(E,C,D,f,A){var S=this._canvas||(this._canvas=document.createElement("canvas")),L=this.options,N=this._img,G=N.naturalWidth,ie=N.naturalHeight,le=this.getOrientation();A=A||1,S.width=D,S.height=f,L.preserveHeaders||this._rotate2Orientaion(S,le),this._renderImageToCanvas(S,N,-E,-C,G*A,ie*A),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(E){var C=this._blob,D=this.options,f;if(E=E||this.type,this.modified||this.type!==E){if(f=this._canvas,E==="image/jpeg"){if(C=c.canvasToDataUrl(f,E,D.quality),D.preserveHeaders&&this._metas&&this._metas.imageHead)return C=c.dataURL2ArrayBuffer(C),C=c.updateImageHead(C,this._metas.imageHead),C=c.arrayBufferToBlob(C,E),C}else C=c.canvasToDataUrl(f,E);C=c.dataURL2Blob(C)}return C},getAsDataUrl:function(E){var C=this.options;return E=E||this.type,E==="image/jpeg"?c.canvasToDataUrl(this._canvas,E,C.quality):this._canvas.toDataURL(E)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(E){return E?(this._info=E,this):this._info},meta:function(E){return E?(this._metas=E,this):this._metas},destroy:function(){var E=this._canvas;this._img.onload=null,E&&(E.getContext("2d").clearRect(0,0,E.width,E.height),E.width=E.height=0,this._canvas=null),this._img.src=d,this._img=this._blob=null},_resize:function(E,C,D,f){var A=this.options,S=E.width,L=E.height,N=this.getOrientation(),G,ie,le,ae,he;~[5,6,7,8].indexOf(N)&&(D^=f,f^=D,D^=f),G=Math[A.crop?"max":"min"](D/S,f/L),A.allowMagnify||(G=Math.min(1,G)),ie=S*G,le=L*G,A.crop?(C.width=D,C.height=f):(C.width=ie,C.height=le),ae=(C.width-ie)/2,he=(C.height-le)/2,A.preserveHeaders||this._rotate2Orientaion(C,N),this._renderImageToCanvas(C,E,ae,he,ie,le)},_rotate2Orientaion:function(E,C){var D=E.width,f=E.height,A=E.getContext("2d");switch(C){case 5:case 6:case 7:case 8:E.width=f,E.height=D;break}switch(C){case 2:A.translate(D,0),A.scale(-1,1);break;case 3:A.translate(D,f),A.rotate(Math.PI);break;case 4:A.translate(0,f),A.scale(1,-1);break;case 5:A.rotate(.5*Math.PI),A.scale(1,-1);break;case 6:A.rotate(.5*Math.PI),A.translate(0,-f);break;case 7:A.rotate(.5*Math.PI),A.translate(D,-f),A.scale(-1,1);break;case 8:A.rotate(-.5*Math.PI),A.translate(-D,0);break}},_renderImageToCanvas:function(){if(!a.os.ios)return function(D){var f=a.slice(arguments,1),A=D.getContext("2d");A.drawImage.apply(A,f)};function E(D,f,A){var S=document.createElement("canvas"),L=S.getContext("2d"),N=0,G=A,ie=A,le,ae,he;for(S.width=1,S.height=A,L.drawImage(D,0,0),le=L.getImageData(0,0,1,A).data;ie>N;)ae=le[(ie-1)*4+3],ae===0?G=ie:N=ie,ie=G+N>>1;return he=ie/A,he===0?1:he}if(a.os.ios>=7)return function(D,f,A,S,L,N){var G=f.naturalWidth,ie=f.naturalHeight,le=E(f,G,ie);return D.getContext("2d").drawImage(f,0,0,G*le,ie*le,A,S,L,N)};function C(D){var f=D.naturalWidth,A=D.naturalHeight,S,L;return f*A>1024*1024?(S=document.createElement("canvas"),S.width=S.height=1,L=S.getContext("2d"),L.drawImage(D,-f+1,0),L.getImageData(0,0,1,1).data[3]===0):!1}return function(D,f,A,S,L,N){var G=f.naturalWidth,ie=f.naturalHeight,le=D.getContext("2d"),ae=C(f),he=this.type==="image/jpeg",pe=1024,B=0,se=0,oe,O,T,ce,fe,Ee,Ae;for(ae&&(G/=2,ie/=2),le.save(),oe=document.createElement("canvas"),oe.width=oe.height=pe,O=oe.getContext("2d"),T=he?E(f,G,ie):1,ce=Math.ceil(pe*L/G),fe=Math.ceil(pe*N/ie/T);B<ie;){for(Ee=0,Ae=0;Ee<G;)O.clearRect(0,0,pe,pe),O.drawImage(f,-Ee,-B),le.drawImage(oe,0,0,pe,pe,A+Ae,S+se,ce,fe),Ee+=pe,Ae+=ce;B+=pe,se+=fe}le.restore(),oe=O=null}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(a,l){var c=a.noop,d=a.$;return l.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var E=this.owner,C=this.options,D=this._initAjax(),f=E._blob,A=C.server,S,L,N;C.sendAsBinary?(A+=(/\?/.test(A)?"&":"?")+d.param(E._formData),L=f.getSource()):(S=new FormData,d.each(E._formData,function(G,ie){S.append(G,ie)}),S.append(C.fileVal,f.getSource(),C.filename||E._formData.name||"")),C.withCredentials&&"withCredentials"in D?(D.open(C.method,A,!0),D.withCredentials=!0):D.open(C.method,A),this._setRequestHeader(D,C.headers),L?(D.overrideMimeType&&D.overrideMimeType("application/octet-stream"),a.os.android?(N=new FileReader,N.onload=function(){D.send(this.result),N=N.onload=null},N.readAsArrayBuffer(L)):D.send(L)):D.send(S)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var E=this._xhr;E&&(E.upload.onprogress=c,E.onreadystatechange=c,E.abort(),this._xhr=E=null)},destroy:function(){this.abort()},_initAjax:function(){var E=this,C=new XMLHttpRequest,D=this.options;return D.withCredentials&&!("withCredentials"in C)&&typeof XDomainRequest<"u"&&(C=new XDomainRequest),C.upload.onprogress=function(f){var A=0;return f.lengthComputable&&(A=f.loaded/f.total),E.trigger("progress",A)},C.onreadystatechange=function(){if(C.readyState===4)return C.upload.onprogress=c,C.onreadystatechange=c,E._xhr=null,E._status=C.status,C.status>=200&&C.status<300?(E._response=C.responseText,E.trigger("load")):C.status>=500&&C.status<600?(E._response=C.responseText,E.trigger("error","server")):E.trigger("error",E._status?"http":"abort")},E._xhr=C,C},_setRequestHeader:function(E,C){d.each(C,function(D,f){E.setRequestHeader(D,f)})},_parseJson:function(E){var C;try{C=JSON.parse(E)}catch{C={}}return C}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(a){var l=function(pe,B){return pe+B&4294967295},c=function(pe,B,se,oe,O,T){return B=l(l(B,pe),l(oe,T)),l(B<<O|B>>>32-O,se)},d=function(pe,B,se,oe,O,T,ce){return c(B&se|~B&oe,pe,B,O,T,ce)},E=function(pe,B,se,oe,O,T,ce){return c(B&oe|se&~oe,pe,B,O,T,ce)},C=function(pe,B,se,oe,O,T,ce){return c(B^se^oe,pe,B,O,T,ce)},D=function(pe,B,se,oe,O,T,ce){return c(se^(B|~oe),pe,B,O,T,ce)},f=function(pe,B){var se=pe[0],oe=pe[1],O=pe[2],T=pe[3];se=d(se,oe,O,T,B[0],7,-680876936),T=d(T,se,oe,O,B[1],12,-389564586),O=d(O,T,se,oe,B[2],17,606105819),oe=d(oe,O,T,se,B[3],22,-1044525330),se=d(se,oe,O,T,B[4],7,-176418897),T=d(T,se,oe,O,B[5],12,1200080426),O=d(O,T,se,oe,B[6],17,-1473231341),oe=d(oe,O,T,se,B[7],22,-45705983),se=d(se,oe,O,T,B[8],7,1770035416),T=d(T,se,oe,O,B[9],12,-1958414417),O=d(O,T,se,oe,B[10],17,-42063),oe=d(oe,O,T,se,B[11],22,-1990404162),se=d(se,oe,O,T,B[12],7,1804603682),T=d(T,se,oe,O,B[13],12,-40341101),O=d(O,T,se,oe,B[14],17,-1502002290),oe=d(oe,O,T,se,B[15],22,1236535329),se=E(se,oe,O,T,B[1],5,-165796510),T=E(T,se,oe,O,B[6],9,-1069501632),O=E(O,T,se,oe,B[11],14,643717713),oe=E(oe,O,T,se,B[0],20,-373897302),se=E(se,oe,O,T,B[5],5,-701558691),T=E(T,se,oe,O,B[10],9,38016083),O=E(O,T,se,oe,B[15],14,-660478335),oe=E(oe,O,T,se,B[4],20,-405537848),se=E(se,oe,O,T,B[9],5,568446438),T=E(T,se,oe,O,B[14],9,-1019803690),O=E(O,T,se,oe,B[3],14,-187363961),oe=E(oe,O,T,se,B[8],20,1163531501),se=E(se,oe,O,T,B[13],5,-1444681467),T=E(T,se,oe,O,B[2],9,-51403784),O=E(O,T,se,oe,B[7],14,1735328473),oe=E(oe,O,T,se,B[12],20,-1926607734),se=C(se,oe,O,T,B[5],4,-378558),T=C(T,se,oe,O,B[8],11,-2022574463),O=C(O,T,se,oe,B[11],16,1839030562),oe=C(oe,O,T,se,B[14],23,-35309556),se=C(se,oe,O,T,B[1],4,-1530992060),T=C(T,se,oe,O,B[4],11,1272893353),O=C(O,T,se,oe,B[7],16,-155497632),oe=C(oe,O,T,se,B[10],23,-1094730640),se=C(se,oe,O,T,B[13],4,681279174),T=C(T,se,oe,O,B[0],11,-358537222),O=C(O,T,se,oe,B[3],16,-722521979),oe=C(oe,O,T,se,B[6],23,76029189),se=C(se,oe,O,T,B[9],4,-640364487),T=C(T,se,oe,O,B[12],11,-421815835),O=C(O,T,se,oe,B[15],16,530742520),oe=C(oe,O,T,se,B[2],23,-995338651),se=D(se,oe,O,T,B[0],6,-198630844),T=D(T,se,oe,O,B[7],10,1126891415),O=D(O,T,se,oe,B[14],15,-1416354905),oe=D(oe,O,T,se,B[5],21,-57434055),se=D(se,oe,O,T,B[12],6,1700485571),T=D(T,se,oe,O,B[3],10,-1894986606),O=D(O,T,se,oe,B[10],15,-1051523),oe=D(oe,O,T,se,B[1],21,-2054922799),se=D(se,oe,O,T,B[8],6,1873313359),T=D(T,se,oe,O,B[15],10,-30611744),O=D(O,T,se,oe,B[6],15,-1560198380),oe=D(oe,O,T,se,B[13],21,1309151649),se=D(se,oe,O,T,B[4],6,-145523070),T=D(T,se,oe,O,B[11],10,-1120210379),O=D(O,T,se,oe,B[2],15,718787259),oe=D(oe,O,T,se,B[9],21,-343485551),pe[0]=l(se,pe[0]),pe[1]=l(oe,pe[1]),pe[2]=l(O,pe[2]),pe[3]=l(T,pe[3])},A=function(pe){var B=[],se;for(se=0;se<64;se+=4)B[se>>2]=pe.charCodeAt(se)+(pe.charCodeAt(se+1)<<8)+(pe.charCodeAt(se+2)<<16)+(pe.charCodeAt(se+3)<<24);return B},S=function(pe){var B=[],se;for(se=0;se<64;se+=4)B[se>>2]=pe[se]+(pe[se+1]<<8)+(pe[se+2]<<16)+(pe[se+3]<<24);return B},L=function(pe){var B=pe.length,se=[1732584193,-271733879,-1732584194,271733878],oe,O,T,ce,fe,Ee;for(oe=64;oe<=B;oe+=64)f(se,A(pe.substring(oe-64,oe)));for(pe=pe.substring(oe-64),O=pe.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=0;oe<O;oe+=1)T[oe>>2]|=pe.charCodeAt(oe)<<(oe%4<<3);if(T[oe>>2]|=128<<(oe%4<<3),oe>55)for(f(se,T),oe=0;oe<16;oe+=1)T[oe]=0;return ce=B*8,ce=ce.toString(16).match(/(.*?)(.{0,8})$/),fe=parseInt(ce[2],16),Ee=parseInt(ce[1],16)||0,T[14]=fe,T[15]=Ee,f(se,T),se},N=function(pe){var B=pe.length,se=[1732584193,-271733879,-1732584194,271733878],oe,O,T,ce,fe,Ee;for(oe=64;oe<=B;oe+=64)f(se,S(pe.subarray(oe-64,oe)));for(pe=oe-64<B?pe.subarray(oe-64):new Uint8Array(0),O=pe.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=0;oe<O;oe+=1)T[oe>>2]|=pe[oe]<<(oe%4<<3);if(T[oe>>2]|=128<<(oe%4<<3),oe>55)for(f(se,T),oe=0;oe<16;oe+=1)T[oe]=0;return ce=B*8,ce=ce.toString(16).match(/(.*?)(.{0,8})$/),fe=parseInt(ce[2],16),Ee=parseInt(ce[1],16)||0,T[14]=fe,T[15]=Ee,f(se,T),se},G=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ie=function(pe){var B="",se;for(se=0;se<4;se+=1)B+=G[pe>>se*8+4&15]+G[pe>>se*8&15];return B},le=function(pe){var B;for(B=0;B<pe.length;B+=1)pe[B]=ie(pe[B]);return pe.join("")},ae=function(pe){return le(L(pe))},he=function(){this.reset()};return ae("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(l=function(pe,B){var se=(pe&65535)+(B&65535),oe=(pe>>16)+(B>>16)+(se>>16);return oe<<16|se&65535}),he.prototype.append=function(pe){return/[\u0080-\uFFFF]/.test(pe)&&(pe=unescape(encodeURIComponent(pe))),this.appendBinary(pe),this},he.prototype.appendBinary=function(pe){this._buff+=pe,this._length+=pe.length;var B=this._buff.length,se;for(se=64;se<=B;se+=64)f(this._state,A(this._buff.substring(se-64,se)));return this._buff=this._buff.substr(se-64),this},he.prototype.end=function(pe){var B=this._buff,se=B.length,oe,O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T;for(oe=0;oe<se;oe+=1)O[oe>>2]|=B.charCodeAt(oe)<<(oe%4<<3);return this._finish(O,se),T=pe?this._state:le(this._state),this.reset(),T},he.prototype._finish=function(pe,B){var se=B,oe,O,T;if(pe[se>>2]|=128<<(se%4<<3),se>55)for(f(this._state,pe),se=0;se<16;se+=1)pe[se]=0;oe=this._length*8,oe=oe.toString(16).match(/(.*?)(.{0,8})$/),O=parseInt(oe[2],16),T=parseInt(oe[1],16)||0,pe[14]=O,pe[15]=T,f(this._state,pe)},he.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},he.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},he.hash=function(pe,B){/[\u0080-\uFFFF]/.test(pe)&&(pe=unescape(encodeURIComponent(pe)));var se=L(pe);return B?se:le(se)},he.hashBinary=function(pe,B){var se=L(pe);return B?se:le(se)},he.ArrayBuffer=function(){this.reset()},he.ArrayBuffer.prototype.append=function(pe){var B=this._concatArrayBuffer(this._buff,pe),se=B.length,oe;for(this._length+=pe.byteLength,oe=64;oe<=se;oe+=64)f(this._state,S(B.subarray(oe-64,oe)));return this._buff=oe-64<se?B.subarray(oe-64):new Uint8Array(0),this},he.ArrayBuffer.prototype.end=function(pe){var B=this._buff,se=B.length,oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O,T;for(O=0;O<se;O+=1)oe[O>>2]|=B[O]<<(O%4<<3);return this._finish(oe,se),T=pe?this._state:le(this._state),this.reset(),T},he.ArrayBuffer.prototype._finish=he.prototype._finish,he.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},he.ArrayBuffer.prototype.destroy=he.prototype.destroy,he.ArrayBuffer.prototype._concatArrayBuffer=function(pe,B){var se=pe.length,oe=new Uint8Array(se+B.byteLength);return oe.set(pe),oe.set(new Uint8Array(B),se),oe},he.ArrayBuffer.hash=function(pe,B){var se=N(new Uint8Array(pe));return B?se:le(se)},a.register("Md5",{init:function(){},loadFromBlob:function(pe){var B=pe.getSource(),se=2*1024*1024,oe=Math.ceil(B.size/se),O=0,T=this.owner,ce=new he.ArrayBuffer,fe=this,Ee=B.mozSlice||B.webkitSlice||B.slice,Ae,_e;_e=new FileReader,Ae=function(){var xe,De;xe=O*se,De=Math.min(xe+se,B.size),_e.onload=function(Le){ce.append(Le.target.result),T.trigger("progress",{total:pe.size,loaded:De})},_e.onloadend=function(){_e.onloadend=_e.onload=null,++O<oe?setTimeout(Ae,1):setTimeout(function(){T.trigger("load"),fe.result=ce.end(),Ae=pe=B=ce=null,T.trigger("complete")},50)},_e.readAsArrayBuffer(Ee.call(B,xe,De))},Ae()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(a,l,c){var d=a.$,E="flash",C={};function D(){var A;try{A=navigator.plugins["Shockwave Flash"],A=A.description}catch{try{A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch{A="0.0"}}return A=A.match(/\d+/g),parseFloat(A[0]+"."+A[1],10)}function f(){var A={},S={},L=this.destroy,N=this,G=a.guid("webuploader_");l.apply(N,arguments),N.type=E,N.exec=function(le,ae){var he=this,pe=he.uid,B=a.slice(arguments,2),se;return S[pe]=he,C[le]&&(A[pe]||(A[pe]=new C[le](he,N)),se=A[pe],se[ae])?se[ae].apply(se,B):N.flashExec.apply(he,arguments)};function ie(le,ae){var he=le.type||le,pe,B;pe=he.split("::"),B=pe[0],he=pe[1],he==="Ready"&&B===N.uid?N.trigger("ready"):S[B]&&S[B].trigger(he.toLowerCase(),le,ae)}e[G]=function(){var le=arguments;setTimeout(function(){ie.apply(null,le)},1)},this.jsreciver=G,this.destroy=function(){return L&&L.apply(this,arguments)},this.flashExec=function(le,ae){var he=N.getFlash(),pe=a.slice(arguments,2);return he.exec(this.uid,le,ae,pe)}}return a.inherits(l,{constructor:f,init:function(){var A=this.getContainer(),S=this.options,L;A.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),L='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+S.swf+'" ',a.browser.ie&&(L+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),L+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+S.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',A.html(L)},getFlash:function(){return this._flash?this._flash:(this._flash=d("#"+this.uid).get(0),this._flash)}}),f.register=function(A,S){return S=C[A]=a.inherits(c,d.extend({flashExec:function(){var L=this.owner,N=this.getRuntime();return N.flashExec.apply(L,arguments)}},S)),S},D()>=11.4&&l.addRuntime(E,f),f}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(a,l){var c=a.$;return l.register("FilePicker",{init:function(d){var E=c.extend({},d),C,D;for(C=E.accept&&E.accept.length,D=0;D<C;D++)E.accept[D].title||(E.accept[D].title="Files");delete E.button,delete E.id,delete E.container,this.flashExec("FilePicker","init",E)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(a){return a.register("Image",{loadFromBlob:function(l){var c=this.owner;c.info()&&this.flashExec("Image","info",c.info()),c.meta()&&this.flashExec("Image","meta",c.meta()),this.flashExec("Image","loadFromBlob",l.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(a,l,c){var d=a.$;return l.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var E=this.owner,C=this.options,D=this._initAjax(),f=E._blob,A=C.server,S;D.connectRuntime(f.ruid),C.sendAsBinary?(A+=(/\?/.test(A)?"&":"?")+d.param(E._formData),S=f.uid):(d.each(E._formData,function(L,N){D.exec("append",L,N)}),D.exec("appendBlob",C.fileVal,f.uid,C.filename||E._formData.name||"")),this._setRequestHeader(D,C.headers),D.exec("send",{method:C.method,url:A,forceURLStream:C.forceURLStream,mimeType:"application/octet-stream"},S)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var E=this._xhr;E&&(E.exec("abort"),E.destroy(),this._xhr=E=null)},destroy:function(){this.abort()},_initAjax:function(){var E=this,C=new c("XMLHttpRequest");return C.on("uploadprogress progress",function(D){var f=D.loaded/D.total;return f=Math.min(1,Math.max(0,f)),E.trigger("progress",f)}),C.on("load",function(){var D=C.exec("getStatus"),f=!1,A="",S;return C.off(),E._xhr=null,D>=200&&D<300?f=!0:D>=500&&D<600?(f=!0,A="server"):A="http",f&&(E._response=C.exec("getResponse"),E._response=decodeURIComponent(E._response),S=function(L){try{return e.JSON&&e.JSON.parse?JSON.parse(L):new Function("return "+L).call()}catch{return{}}},E._responseJson=E._response?S(E._response):{}),C.destroy(),C=null,A?E.trigger("error",A):E.trigger("load")}),C.on("error",function(){C.off(),E._xhr=null,E.trigger("error","http")}),E._xhr=C,C},_setRequestHeader:function(E,C){d.each(C,function(D,f){E.exec("setRequestHeader",D,f)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(a,l){return a.register("Blob",{slice:function(c,d){var E=this.flashExec("Blob","slice",c,d);return new l(this.getRuid(),E)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(a){return a.register("Md5",{init:function(){},loadFromBlob:function(l){return this.flashExec("Md5","loadFromBlob",l.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(a){return a}),t("widgets/log",["base","uploader","widgets/widget"],function(a,l){var c=a.$,d=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",E=(location.hostname||location.host||"protected").toLowerCase(),C=E&&/baidu/i.exec(E),D;if(!C)return;D={dv:3,master:"webuploader",online:/test/.exec(E)?0:1,module:"",product:E,type:0};function f(A){var S=c.extend({},D,A),L=d.replace(/^(.*)\?/,"$1"+c.param(S)),N=new Image;N.src=L}return l.register({name:"log",init:function(){var A=this.owner,S=0,L=0;A.on("error",function(N){f({type:2,c_error_code:N})}).on("uploadError",function(N,G){f({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+G})}).on("uploadComplete",function(N){S++,L+=N.size}).on("uploadFinished",function(){f({c_count:S,c_size:L}),S=L=0}),f({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(a){return a});var i=r;return i("webuploader")});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),isArray(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let d;for(i=0;i<c;i++)d=l[i],t.call(null,e[d],d,e)}}function findKey(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,a;for(;i-- >0;)if(a=r[i],t===a.toLowerCase())return a;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},r=(i,a)=>{const l=e&&findKey(t,a)||a;isPlainObject(t[l])&&isPlainObject(i)?t[l]=merge(t[l],i):isPlainObject(i)?t[l]=merge({},i):isArray(i)?t[l]=i.slice():t[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&forEach(arguments[i],r);return t}const extend=(e,t,r,{allOwnKeys:i}={})=>(forEach(t,(a,l)=>{r&&isFunction(a)?e[l]=bind(a,r):e[l]=a},{allOwnKeys:i}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject=(e,t,r,i)=>{let a,l,c;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)c=a[l],(!i||i(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=r!==!1&&getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=i.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},matchAll=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,a){return i.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};forEach(r,(a,l)=>{t(a,l,e)!==!1&&(i[l]=a)}),Object.defineProperties(e,i)},freezeMethods=e=>{reduceDescriptors(e,(t,r)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(!!isFunction(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(e,t)=>{const r={},i=a=>{a.forEach(l=>{r[l]=!0})};return isArray(e)?i(e):i(String(e).split(t)),r},noop=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),r=(i,a)=>{if(isObject(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const l=isArray(i)?[]:{};return forEach(i,(c,d)=>{const E=r(c,a+1);!isUndefined(E)&&(l[d]=E)}),t[a]=void 0,l}}return i};return r(e,0)},utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(e,t,r,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),a&&(this.response=a)}utils.inherits(AxiosError,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,t,r,i,a,l)=>{const c=Object.create(prototype$1);return utils.toFlatObject(e,c,function(E){return E!==Error.prototype},d=>d!=="isAxiosError"),AxiosError.call(c,e.message,t,r,i,a),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(e){return utils.isPlainObject(e)||utils.isArray(e)}function removeBrackets(e){return utils.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,r){return e?e.concat(t).map(function(a,l){return a=removeBrackets(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function isFlatArray(e){return utils.isArray(e)&&!e.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function e(t){return/^is[A-Z]/.test(t)});function toFormData(e,t,r){if(!utils.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,G){return!utils.isUndefined(G[N])});const i=r.metaTokens,a=r.visitor||D,l=r.dots,c=r.indexes,E=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(t);if(!utils.isFunction(a))throw new TypeError("visitor must be a function");function C(L){if(L===null)return"";if(utils.isDate(L))return L.toISOString();if(!E&&utils.isBlob(L))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(L)||utils.isTypedArray(L)?E&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function D(L,N,G){let ie=L;if(L&&!G&&typeof L=="object"){if(utils.endsWith(N,"{}"))N=i?N:N.slice(0,-2),L=JSON.stringify(L);else if(utils.isArray(L)&&isFlatArray(L)||(utils.isFileList(L)||utils.endsWith(N,"[]"))&&(ie=utils.toArray(L)))return N=removeBrackets(N),ie.forEach(function(ae,he){!(utils.isUndefined(ae)||ae===null)&&t.append(c===!0?renderKey([N],he,l):c===null?N:N+"[]",C(ae))}),!1}return isVisitable(L)?!0:(t.append(renderKey(G,N,l),C(L)),!1)}const f=[],A=Object.assign(predicates,{defaultVisitor:D,convertValue:C,isVisitable});function S(L,N){if(!utils.isUndefined(L)){if(f.indexOf(L)!==-1)throw Error("Circular reference detected in "+N.join("."));f.push(L),utils.forEach(L,function(ie,le){(!(utils.isUndefined(ie)||ie===null)&&a.call(t,ie,utils.isString(le)?le.trim():le,N,A))===!0&&S(ie,N?N.concat(le):[le])}),f.pop()}}if(!utils.isObject(e))throw new TypeError("data must be an object");return S(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function e(t,r){this._pairs.push([t,r])};prototype.toString=function e(t){const r=t?function(i){return t.call(this,i,encode$1)}:encode$1;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,r){if(!t)return e;const i=r&&r.encode||encode,a=r&&r.serialize;let l;if(a?l=a(t,r):l=utils.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(i),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils.forEach(this.handlers,function(i){i!==null&&t(i)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,i,a,l){return platform.isNode&&utils.isBuffer(r)?(this.append(i,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},r=Object.keys(e);let i;const a=r.length;let l;for(i=0;i<a;i++)l=r[i],t[l]=e[l];return t}function formDataToJSON(e){function t(r,i,a,l){let c=r[l++];const d=Number.isFinite(+c),E=l>=r.length;return c=!c&&utils.isArray(a)?a.length:c,E?(utils.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!d):((!a[c]||!utils.isObject(a[c]))&&(a[c]=[]),t(r,i,a[c],l)&&utils.isArray(a[c])&&(a[c]=arrayToObject(a[c])),!d)}if(utils.isFormData(e)&&utils.isFunction(e.entries)){const r={};return utils.forEachEntry(e,(i,a)=>{t(parsePropPath(i),a,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(e,t,r){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function e(t,r){const i=r.getContentType()||"",a=i.indexOf("application/json")>-1,l=utils.isObject(t);if(l&&utils.isHTMLForm(t)&&(t=new FormData(t)),utils.isFormData(t))return a&&a?JSON.stringify(formDataToJSON(t)):t;if(utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t))return t;if(utils.isArrayBufferView(t))return t.buffer;if(utils.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((d=utils.isFileList(t))||i.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return toFormData(d?{"files[]":t}:t,E&&new E,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function e(t){const r=this.transitional||defaults.transitional,i=r&&r.forcedJSONParsing,a=this.responseType==="json";if(t&&utils.isString(t)&&(i&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?AxiosError.from(d,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function e(t){defaults.headers[t]={}});utils.forEach(["post","put","patch"],function e(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let r,i,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!r||t[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}function isValidHeaderName(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function matchHeaderValue(e,t,r,i,a){if(utils.isFunction(i))return i.call(this,t,r);if(a&&(t=r),!!utils.isString(t)){if(utils.isString(i))return t.indexOf(i)!==-1;if(utils.isRegExp(i))return i.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function buildAccessors(e,t){const r=utils.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(a,l,c){return this[i].call(this,t,a,l,c)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,r,i){const a=this;function l(d,E,C){const D=normalizeHeader(E);if(!D)throw new Error("header name must be a non-empty string");const f=utils.findKey(a,D);(!f||a[f]===void 0||C===!0||C===void 0&&a[f]!==!1)&&(a[f||E]=normalizeValue(d))}const c=(d,E)=>utils.forEach(d,(C,D)=>l(C,D,E));return utils.isPlainObject(t)||t instanceof this.constructor?c(t,r):utils.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?c(parseHeaders(t),r):t!=null&&l(r,t,i),this}get(t,r){if(t=normalizeHeader(t),t){const i=utils.findKey(this,t);if(i){const a=this[i];if(!r)return a;if(r===!0)return parseTokens(a);if(utils.isFunction(r))return r.call(this,a,i);if(utils.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=normalizeHeader(t),t){const i=utils.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||matchHeaderValue(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let a=!1;function l(c){if(c=normalizeHeader(c),c){const d=utils.findKey(i,c);d&&(!r||matchHeaderValue(i,i[d],d,r))&&(delete i[d],a=!0)}}return utils.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let i=r.length,a=!1;for(;i--;){const l=r[i];(!t||matchHeaderValue(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,i={};return utils.forEach(this,(a,l)=>{const c=utils.findKey(i,l);if(c){r[c]=normalizeValue(a),delete r[l];return}const d=t?formatHeader(l):String(l).trim();d!==l&&delete r[l],r[d]=normalizeValue(a),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return utils.forEach(this,(i,a)=>{i!=null&&i!==!1&&(r[a]=t&&utils.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=normalizeHeader(c);i[d]||(buildAccessors(a,c),i[d]=!0)}return utils.isArray(t)?t.forEach(l):l(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const r=this||defaults$1,i=t||r,a=AxiosHeaders$1.from(i.headers);let l=i.data;return utils.forEach(e,function(d){l=d.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,r){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,t,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function e(){return{write:function(r,i,a,l,c,d){const E=[];E.push(r+"="+encodeURIComponent(i)),utils.isNumber(a)&&E.push("expires="+new Date(a).toGMTString()),utils.isString(l)&&E.push("path="+l),utils.isString(c)&&E.push("domain="+c),d===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function e(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const isURLSameOrigin=platform.isStandardBrowserEnv?function e(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function a(l){let c=l;return t&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=a(window.location.href),function(c){const d=utils.isString(c)?a(c):c;return d.protocol===i.protocol&&d.host===i.host}}():function e(){return function(){return!0}}();function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const r=new Array(e),i=new Array(e);let a=0,l=0,c;return t=t!==void 0?t:1e3,function(E){const C=Date.now(),D=i[l];c||(c=C),r[a]=E,i[a]=C;let f=l,A=0;for(;f!==a;)A+=r[f++],f=f%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),C-c<t)return;const S=D&&C-D;return S?Math.round(A*1e3/S):void 0}}function progressEventReducer(e,t){let r=0;const i=speedometer(50,250);return a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-r,E=i(d),C=l<=c;r=l;const D={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:E||void 0,estimated:E&&c&&C?(c-l)/E:void 0,event:a};D[t?"download":"upload"]=!0,e(D)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(r,i){let a=e.data;const l=AxiosHeaders$1.from(e.headers).normalize(),c=e.responseType;let d;function E(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}utils.isFormData(a)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&l.setContentType(!1);let C=new XMLHttpRequest;if(e.auth){const S=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.set("Authorization","Basic "+btoa(S+":"+L))}const D=buildFullPath(e.baseURL,e.url);C.open(e.method.toUpperCase(),buildURL(D,e.params,e.paramsSerializer),!0),C.timeout=e.timeout;function f(){if(!C)return;const S=AxiosHeaders$1.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:S,config:e,request:C};settle(function(ie){r(ie),E()},function(ie){i(ie),E()},N),C=null}if("onloadend"in C?C.onloadend=f:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(f)},C.onabort=function(){!C||(i(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,C)),C=null)},C.onerror=function(){i(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const N=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),i(new AxiosError(L,N.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,C)),C=null},platform.isStandardBrowserEnv){const S=(e.withCredentials||isURLSameOrigin(D))&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);S&&l.set(e.xsrfHeaderName,S)}a===void 0&&l.setContentType(null),"setRequestHeader"in C&&utils.forEach(l.toJSON(),function(L,N){C.setRequestHeader(N,L)}),utils.isUndefined(e.withCredentials)||(C.withCredentials=!!e.withCredentials),c&&c!=="json"&&(C.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&C.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=S=>{!C||(i(!S||S.type?new CanceledError(null,e,C):S),C.abort(),C=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const A=parseProtocol(D);if(A&&platform.protocols.indexOf(A)===-1){i(new AxiosError("Unsupported protocol "+A+":",AxiosError.ERR_BAD_REQUEST,e));return}C.send(a||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const adapters={getAdapter:e=>{e=utils.isArray(e)?e:[e];const{length:t}=e;let r,i;for(let a=0;a<t&&(r=e[a],!(i=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));a++);if(!i)throw i===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(i){return throwIfCancellationRequested(e),i.data=transformData.call(e,e.transformResponse,i),i.headers=AxiosHeaders$1.from(i.headers),i},function(i){return isCancel(i)||(throwIfCancellationRequested(e),i&&i.response&&(i.response.data=transformData.call(e,e.transformResponse,i.response),i.response.headers=AxiosHeaders$1.from(i.response.headers))),Promise.reject(i)})}const headersToObject=e=>e instanceof AxiosHeaders$1?e.toJSON():e;function mergeConfig(e,t){t=t||{};const r={};function i(C,D,f){return utils.isPlainObject(C)&&utils.isPlainObject(D)?utils.merge.call({caseless:f},C,D):utils.isPlainObject(D)?utils.merge({},D):utils.isArray(D)?D.slice():D}function a(C,D,f){if(utils.isUndefined(D)){if(!utils.isUndefined(C))return i(void 0,C,f)}else return i(C,D,f)}function l(C,D){if(!utils.isUndefined(D))return i(void 0,D)}function c(C,D){if(utils.isUndefined(D)){if(!utils.isUndefined(C))return i(void 0,C)}else return i(void 0,D)}function d(C,D,f){if(f in t)return i(C,D);if(f in e)return i(void 0,C)}const E={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(C,D)=>a(headersToObject(C),headersToObject(D),!0)};return utils.forEach(Object.keys(e).concat(Object.keys(t)),function(D){const f=E[D]||a,A=f(e[D],t[D],D);utils.isUndefined(A)&&f!==d||(r[D]=A)}),r}const VERSION="1.3.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function e(t,r,i){function a(l,c){return"[Axios v"+VERSION+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(t===!1)throw new AxiosError(a(c," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,d):!0}};function assertOptions(e,t,r){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const l=i[a],c=t[l];if(c){const d=e[l],E=d===void 0||c(d,l,e);if(E!==!0)throw new AxiosError("option "+l+" must be "+E,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+l,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig(this.defaults,r);const{transitional:i,paramsSerializer:a,headers:l}=r;i!==void 0&&validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!==void 0&&validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c;c=l&&utils.merge(l.common,l[r.method]),c&&utils.forEach(["delete","get","head","post","put","patch","common"],L=>{delete l[L]}),r.headers=AxiosHeaders$1.concat(c,l);const d=[];let E=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(E=E&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const C=[];this.interceptors.response.forEach(function(N){C.push(N.fulfilled,N.rejected)});let D,f=0,A;if(!E){const L=[dispatchRequest.bind(this),void 0];for(L.unshift.apply(L,d),L.push.apply(L,C),A=L.length,D=Promise.resolve(r);f<A;)D=D.then(L[f++],L[f++]);return D}A=d.length;let S=r;for(f=0;f<A;){const L=d[f++],N=d[f++];try{S=L(S)}catch(G){N.call(this,G);break}}try{D=dispatchRequest.call(this,S)}catch(L){return Promise.reject(L)}for(f=0,A=C.length;f<A;)D=D.then(C[f++],C[f++]);return D}getUri(t){t=mergeConfig(this.defaults,t);const r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function e(t){Axios.prototype[t]=function(r,i){return this.request(mergeConfig(i||{},{method:t,url:r,data:(i||{}).data}))}});utils.forEach(["post","put","patch"],function e(t){function r(i){return function(l,c,d){return this.request(mergeConfig(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios.prototype[t]=r(),Axios.prototype[t+"Form"]=r(!0)});const Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},t(function(l,c,d){i.reason||(i.reason=new CanceledError(l,c,d),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new CancelToken(function(a){t=a}),cancel:t}}}const CancelToken$1=CancelToken;function spread(e){return function(r){return e.apply(null,r)}}function isAxiosError(e){return utils.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),r=bind(Axios$1.prototype.request,t);return utils.extend(r,Axios$1.prototype,t,{allOwnKeys:!0}),utils.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return createInstance(mergeConfig(e,a))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function e(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils.isHTMLForm(e)?new FormData(e):e);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;axios$1.defaults.baseURL="";axios$1.defaults.headers.post["Content-Type"]="application/json";axios$1.defaults.withCredentials=!0;function createDwgFileUploader(e){const{create:t,baseUrl:r="",fileisExist:i,chunkisExist:a}=getUploadFileConfig()||{},{swf:l,server:c="",accept:d}=t||{},{pick:E,serverURL:C,onError:D,onFileQueued:f,onCreateHashProgress:A,onProgress:S,onCreateHash:L,onSecondTransmission:N,onUploadSuccess:G,onUploadFinished:ie}=e;let le="";webuploader_fis.Uploader.register({"before-send":"beforeSend"},{beforeSend:he=>{const pe=webuploader_fis.Deferred();return axios$1.post(r+a,{chunk:he.chunk,chunks:he.chunks,fileName:he.file.name,fileHash:le,size:he.blob.size}).then(B=>{B.data.ret=="chunkAlreadyExist"?pe.reject():pe.resolve()},()=>{D&&D()}),pe.promise()}});const ae=webuploader_fis.create({preserveHeaders:!0,withCredentials:!0,auto:!1,swf:l,server:C||r+c,pick:E,resize:!1,duplicate:!0,threads:1,chunked:!0,fileNumLimit:1,timeout:2601e3,accept:d||{extensions:"dwg,DWG",mimeTypes:".dwg,.DwG"}});return ae.on("fileQueued",he=>{f&&f(he),ae.md5File(he).progress(pe=>{A&&A(pe)}).then(pe=>{le=pe,axios$1.post(r+i,{fileHash:pe,filename:he.name}).then(B=>{L&&L(B),B.data.ret=="fileAlreadyExist"?(N&&N(),ae.skipFile(he),ae.reset(),G&&G(he,le)):ae.upload()},()=>{D&&D()})})}),ae.on("uploadBeforeSend",(he,pe,B)=>{pe.hash=le}),ae.on("uploadProgress",(he,pe)=>{S&&S(pe*100)}),ae.on("uploadSuccess",he=>{axios$1.post(r+i,{fileHash:le,filename:he.name}).then(pe=>{pe.data.ret=="fileAlreadyExist"?G&&G(he,le):D&&D()})}),ae.on("uploadFinished",function(he){ie&&ie(),ae.reset()}),ae.on("uploadError",(he,pe)=>{D&&D()}),ae.on("error",he=>{ae.reset(),console.log("err",he),D&&D()}),ae}const createEl=()=>{const e=document.createElement("div");return e.id="picker",document.body.appendChild(e),e},el=createEl();let upload;const tipsShow=ref(!1),fileTips=ref(""),progress=ref(0),uploadFile=()=>{el.getElementsByTagName("label")[0].click(),el.click()},timeoutHideTip=()=>{setTimeout(()=>{tipsShow.value=!1},3e3)},setFileTips=e=>{fileTips.value=e},setTipsShow=e=>{tipsShow.value=e},useDwgUpload=()=>(onMounted(()=>{const e=useMessage();upload||(upload=createDwgFileUploader({pick:el,onError:()=>{tipsShow.value=!0,setFileTips("\u4E0A\u4F20\u4E2D\u65AD\uFF1A\u670D\u52A1\u5668\u7A0B\u5E8F\u5F02\u5E38\uFF01"),e.error("\u4E0A\u4F20\u4E2D\u65AD,\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),timeoutHideTip()},onFileQueued:()=>{setFileTips("\u6587\u4EF6\u9884\u5904\u7406\u4E2D..."),setTipsShow(!0)},onCreateHash:()=>{setFileTips("\u7B49\u5F85\u4E0A\u4F20...")},onSecondTransmission:()=>{setTipsShow(!1),setFileTips("\u6253\u5F00\u56FE\u7EB8\u6210\u529F"),e.success("\u6253\u5F00\u56FE\u7EB8\u6210\u529F"),timeoutHideTip()},onProgress:t=>{setTipsShow(!1),progress.value=t},onUploadSuccess:(t,r)=>{timeoutHideTip(),MxFun.sendStringToExecute("OpenDwgImp",r)}}))}),{uploadFile,upload,tipsShow,fileTips,progress}),VFooter$1="",VFooter=genericComponent()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...makeBorderProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"footer"}),...makeThemeProps()},setup(e,t){let{slots:r}=t;const{themeClasses:i}=provideTheme(e),{backgroundColorClasses:a,backgroundColorStyles:l}=useBackgroundColor(toRef(e,"color")),{borderClasses:c}=useBorder(e),{elevationClasses:d}=useElevation(e),{roundedClasses:E}=useRounded(e),C=ref(32),{resizeRef:D}=useResizeObserver(S=>{!S.length||(C.value=S[0].target.clientHeight)}),f=computed(()=>e.height==="auto"?C.value:parseInt(e.height,10)),{layoutItemStyles:A}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:computed(()=>"bottom"),layoutSize:f,elementSize:computed(()=>e.height==="auto"?void 0:f.value),active:computed(()=>e.app),absolute:toRef(e,"absolute")});return useRender(()=>createVNode(e.tag,{ref:D,class:["v-footer",i.value,a.value,c.value,d.value,E.value],style:[l.value,e.app?A.value:void 0]},r)),{}}}),_hoisted_1$6={class:"d-flex w-100 flex-column pa-0 ma-0"},_hoisted_2$4={key:0},_hoisted_3$2={key:1},_sfc_main$a=defineComponent$1({__name:"index",setup(e){const{items:t,actives:r}=useSysVarLongSketchSettings();ref();const i=ref(),{handleKeydownCmd:a,commandText:l,consoleText:c,cmdTip:d,coordinates:E,setCommandFocus:C}=useCommandLine(i),{resizeOptions:D,vResize:f,height:A,handleResize:S}=useConsoleResize(),L=()=>{C(!1)},N=()=>{C(!0)},G=he=>{he.key==="c"&&he.ctrlKey===!0||C(!0)},{tipsShow:ie,progress:le,fileTips:ae}=useDwgUpload();return(he,pe)=>{const B=resolveDirective("scroll-bottom"),se=resolveDirective("right-click-menu");return withDirectives((openBlock(),createBlock(VFooter,{app:"",height:"auto",class:"pa-0 mx-footer",onResize:unref(S)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",{class:"console-box",style:normalizeStyle({height:unref(A)+"px"})},[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":pe[0]||(pe[0]=oe=>isRef(c)?c.value=oe:null),onMousedown:L,onBlur:N,onKeyup:G,readonly:"",class:"console d-flex"},null,544),[[vModelText,unref(c)],[B]])],4),createVNode(VTextField,{onKeydown:unref(a),"bg-color":"surface",theme:"light",ref_key:"input",ref:i,prefix:unref(d),autofocus:"",modelValue:unref(l),"onUpdate:modelValue":pe[1]||(pe[1]=oe=>isRef(l)?l.value=oe:null),autocomplete:"off",light:""},{"prepend-inner":withCtx(()=>[createVNode(VIcon,{icon:"cloudshellyunminglinghang",style:{color:"#7ABDE9"}})]),_:1},8,["onKeydown","prefix","modelValue"]),createCommentVNode(" \u5E95\u90E8\u6309\u94AE "),unref(ie)?createCommentVNode("v-if",!0):(openBlock(),createBlock(VCard,{key:0,class:"d-flex align-center bg-background"},{default:withCtx(()=>[createVNode(VChip,{size:"x-small",theme:"light",class:"ml-1 me-auto bg-accent"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(E)),1)]),_:1}),createVNode(VBtnToggle,{modelValue:unref(r),"onUpdate:modelValue":pe[3]||(pe[3]=oe=>isRef(r)?r.value=oe:null),density:"compact",variant:"text",class:"d-flex align-center px-2",style:{height:"26px"},multiple:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(oe,O)=>(openBlock(),createElementBlock(Fragment,{key:O},[oe.isMenu?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$4,[createVNode(VBtn,{value:O,class:"mx-1 rounded",height:"20",size:"x-small"},{default:withCtx(()=>[createTextVNode(toDisplayString(oe.name),1)]),_:2},1032,["value"])])),[[se,oe.menuOptions]]):(openBlock(),createElementBlock("div",_hoisted_3$2,[createVNode(VBtn,{value:O,class:"mx-1 rounded",height:"20",size:"x-small",onContextmenu:pe[2]||(pe[2]=withModifiers(()=>{},["prevent","stop"]))},{default:withCtx(()=>[createTextVNode(toDisplayString(oe.name),1)]),_:2},1032,["value"])]))],64))),128))]),_:1},8,["modelValue"])]),_:1})),unref(ie)?(openBlock(),createBlock(VProgressLinear,{key:1,modelValue:unref(le),"onUpdate:modelValue":pe[4]||(pe[4]=oe=>isRef(le)?le.value=oe:null),color:"cyan",rounded:"",indeterminate:""},null,8,["modelValue"])):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:"w-100 text-center file-tip"},toDisplayString(unref(ae)),513),[[vShow,unref(ie)]])])]),_:1},8,["onResize"])),[[unref(f),unref(D)]])}}}),index_vue_vue_type_style_index_0_lang$1="",index_vue_vue_type_style_index_1_scoped_4812e439_lang="",Footer=_export_sfc(_sfc_main$a,[["__scopeId","data-v-4812e439"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Footer/index.vue"]]);let uiData;const getUiData=()=>MxFun.getUIData(),useUIData=()=>(uiData||(uiData=getUiData()),uiData);let dynamicInputData;ref();let misShow=ref();ref();ref();ref();ref();ref();const initRef=(e,t,r)=>{unref(t)===void 0&&(t=toRef(e,r))},initRefs=(e,t)=>{for(let r in t)initRef(e,t[r],r)},onMountedDynInputUpDisplay=e=>{useUIData().mountMxEvent("dynInputUpDisplay",()=>{const r=dynamicInputData.getData();e&&e(r)})},onMountedDynInputSetFocus=e=>{useUIData().mountMxEvent("dynInputSetFocus",r=>{e&&e(r)})},onMountedDynInputReSet=e=>{useUIData().mountMxEvent("dynInputReSet",()=>{e&&e()})},useDynamicInputData=()=>{const e=useUIData();dynamicInputData||(dynamicInputData=e.getDynamicInput());const t={misShow};return initRefs(dynamicInputData,t),{...t,onMountedDynInputUpDisplay,onMountedDynInputSetFocus,onMountedDynInputReSet,dynamicInputData}},selectText=e=>{const t=document,r=window;if(t.selection){const i=t.body.createTextRange();i.moveToElementText(e),i.select()}else if(r.getSelection){const i=t.createRange();r.getSelection().removeAllRanges(),i.selectNodeContents(e),r.getSelection().addRange(i)}};function cursorGenerate(e=128,t=10,r=!0,i=document.createElement("canvas"),a="transparent"){i.width=i.height=e,i.style.background=a;const l=i.getContext("2d"),c=e%2===0?-.5:0,d=t%2===0?-.5:0;l.strokeStyle="#fff",r&&(l.beginPath(),l.moveTo(i.width/2+c,c),l.lineTo(i.width/2+c,i.height+c),l.stroke(),l.beginPath(),l.moveTo(c,i.height/2+c),l.lineTo(i.width+c,i.height/2+c),l.stroke()),l.beginPath(),l.strokeRect(e/2-t/2+d,e/2-t/2+d,t,t),l.stroke();const E=new Image;return E.src=i.toDataURL("image/png"),E.src}const targetFrameSize=ref(10),cursorSize=ref(128),cursorStyles={Rect:`url('${cursorGenerate(cursorSize.value,targetFrameSize.value,!1)}') ${cursorSize.value/2} ${cursorSize.value/2}, auto`,Cross:`url('${cursorGenerate(cursorSize.value,0,!0)}') ${cursorSize.value/2} ${cursorSize.value/2} , auto`,Normal:`url('${cursorGenerate(cursorSize.value,targetFrameSize.value,!0)}') ${cursorSize.value/2} ${cursorSize.value/2}, auto`},cursorType=ref("Normal"),cursor=computed(()=>cursorStyles[cursorType.value]),updateCursor=e=>{cursorType.value=e},mountAutoUpdateCursor=()=>{MxFun.getUIData().mountUpdateCursorFun(e=>{updateCursor(e)})},useCursorStyle=()=>({cursor,mountAutoUpdateCursor,updateCursor,type:cursorType,size:cursorSize,targetFrameSize,cursorStyles}),useDynamicInputBox=(e,t)=>{const{setCommandFocus:r}=useFocus$1(),{misShow:i,dynamicInputData:a,onMountedDynInputUpDisplay:l,onMountedDynInputSetFocus:c,onMountedDynInputReSet:d}=useDynamicInputData(),{mainRect:E}=useLayout(),{size:C}=useCursorStyle(),D=ref(0),f=ref(0),A=ref(0),S=ref([{isShow:!0,value:"",top:0,left:0,readonly:!0},{isShow:!0,value:"",top:80,left:0,readonly:!1},{isShow:!0,value:"",top:180,left:0,readonly:!1}]),L=ref(0),N=unref(t),G=()=>e.value?.getElementsByClassName(N),ie=se=>{se.focus(),selectText(se)},le=()=>{const se=G();L.value>=se.length-1?(L.value=0,ie(se[0])):(L.value+=1,ie(se[L.value]))},ae=se=>{i.value=se,r(!se)},he=(se=!0)=>{const oe=G();!oe||(se?setTimeout(()=>{ie(oe[L.value])},200):ie(oe[L.value]))},pe=se=>{if(a.onKeydown(se.keyCode),se.keyCode==32||se.keyCode==13){const oe=G();if(!oe)return;a.setValue1(oe[0].innerText),a.setValue2(oe[1].innerText),a.setFocusValue(oe[L.value].innerText),se.preventDefault(),ie(oe[L.value])}};onMounted(()=>{l(oe=>{if(!oe){i.value&&ae(!1);return}i.value||(L.value=0,ae(!0),he(!0)),(()=>{const ce=e.value?.clientWidth??0;let fe=oe.pos[0]+26,Ee=oe.pos[1]+26;const Ae=C.value/2,_e=MxFun.getCurrentDraw().getViewWidth()-26,xe=MxFun.getCurrentDraw().getViewWidth()-E.value.top-Ae-E.value.bottom;_e-fe<ce+Ae&&(fe=fe-ce-Ae),xe-Ee<E.value.bottom&&(Ee=Ee-26*3),D.value=fe,f.value=Ee})();const{list:T}=oe;S.value.forEach((ce,fe)=>{ce.isShow=T[fe].show,ce.value=T[fe].value,ce.readonly=T[fe].readonly}),A.value=oe.postype}),c(oe=>{const{isFocus:O}=oe??{};O&&he(!1)}),d(()=>{he(!0)})});const B=se=>{se.code==="Tab"&&(se.preventDefault(),le())};return watch(i,se=>{r(!se),se?window.addEventListener("keydown",B):window.removeEventListener("keydown",B)}),onUnmounted(()=>{window.removeEventListener("keydown",B)}),{isShow:i,posType:A,x:D,y:f,coordinateInputBoxData:S,inputClass:t,focusNextInput:le,onKeydown:pe,makeFocus:he}},_hoisted_1$5=["tabIndex","contenteditable"],_sfc_main$9=defineComponent$1({__name:"index",setup(e){const t=ref(),{posType:r,isShow:i,coordinateInputBoxData:a,x:l,y:c,focusNextInput:d,onKeydown:E}=useDynamicInputBox(t,"coordinate");return(C,D)=>{const f=resolveDirective("focus-select");return withDirectives((openBlock(),createElementBlock("div",{ref_key:"DynamicInputBox",ref:t,style:normalizeStyle({transform:unref(r)===0?`translate3d(${unref(l)}px,${unref(c)}px, 1px)`:""}),class:normalizeClass(unref(r)===0?"box":"")},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),(A,S)=>(openBlock(),createElementBlock("div",{class:"input_box",key:S},[withDirectives((openBlock(),createElementBlock("span",{tabIndex:A.readonly?-1:S+1,onKeydown:[D[0]||(D[0]=withKeys(withModifiers((...L)=>unref(d)&&unref(d)(...L),["stop","prevent"]),["tab"])),D[1]||(D[1]=(...L)=>unref(E)&&unref(E)(...L))],style:normalizeStyle({position:unref(r)===0?void 0:"absolute",transform:`translate3d(${A.left}px,${A.top}px, 1px)`}),contenteditable:A.readonly?"false":"true",class:normalizeClass(A.readonly?"coordinate_text":"coordinate")},[createTextVNode(toDisplayString(A.value),1)],46,_hoisted_1$5)),[[f,!A.readonly],[vShow,A.isShow]])]))),128))],6)),[[vShow,unref(i)]])}}}),index_vue_vue_type_style_index_0_scoped_9cf7a523_lang="",DynamicInputBox=_export_sfc(_sfc_main$9,[["__scopeId","data-v-9cf7a523"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/DynamicInputBox/index.vue"]]),_sfc_main$8=defineComponent$1({setup(){const{messages:e,removeMessage:t,addMessage:r}=useMessageData();return{messages:e,removeMessage:t,iconCache:{error:{icon:"mdi:mdi-close-circle",color:"rgb(203,49,49)"},info:{icon:"mdi:mdi-check-circle",color:"rgb(47,144,207)"},success:{icon:"mdi:mdi-alert-circle",color:"rgb(139,216,118)"},warning:{icon:"mdi:mdi-information",color:"rgb(230,140,34)"}}}}}),index_vue_vue_type_style_index_0_scoped_c4b556e2_lang="",VAlert$1="",VAlertTitle=createSimpleFunctional("v-alert-title"),allowedTypes=["success","info","warning","error"],VAlert=genericComponent()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:IconValue$1,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>allowedTypes.includes(e)},...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:i}=t;const a=useProxiedModel(e,"modelValue"),l=computed(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),c=computed(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:d}=provideTheme(e),{colorClasses:E,colorStyles:C,variantClasses:D}=useVariant(c),{densityClasses:f}=useDensity(e),{dimensionStyles:A}=useDimension(e),{elevationClasses:S}=useElevation(e),{locationStyles:L}=useLocation(e),{positionClasses:N}=usePosition(e),{roundedClasses:G}=useRounded(e),{textColorClasses:ie,textColorStyles:le}=useTextColor(toRef(e,"borderColor")),{t:ae}=useLocale(),he=computed(()=>({"aria-label":ae(e.closeLabel),onClick(pe){a.value=!1,r("click:close",pe)}}));return()=>{const pe=!!(i.prepend||l.value),B=!!(i.title||e.title),se=!!(e.text||i.text),oe=!!(i.close||e.closable);return a.value&&createVNode(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},d.value,E.value,f.value,S.value,N.value,G.value,D.value],style:[C.value,A.value,L.value],role:"alert"},{default:()=>[genOverlays(!1,"v-alert"),e.border&&createVNode("div",{key:"border",class:["v-alert__border",ie.value],style:le.value},null),pe&&createVNode("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!l.value,defaults:{VIcon:{density:e.density,icon:l.value,size:e.prominent?44:28}}},i.prepend):createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:l.value,size:e.prominent?44:28},null)]),createVNode("div",{class:"v-alert__content"},[B&&createVNode(VAlertTitle,{key:"title"},{default:()=>[i.title?.()??e.title]}),se&&(i.text?.()??e.text),i.default?.()]),i.append&&createVNode("div",{key:"append",class:"v-alert__append"},[i.append()]),oe&&createVNode("div",{key:"close",class:"v-alert__close"},[i.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[i.close?.({props:he.value})]}):createVNode(VBtn,mergeProps({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},he.value),null)])]})}}});function _sfc_render(e,t,r,i,a,l){return openBlock(!0),createElementBlock(Fragment,null,renderList(e.messages,(c,d)=>(openBlock(),createBlock(VAlert,{key:c.id,width:"auto",position:"absolute",class:"message-alert",location:"top center",style:normalizeStyle({zIndex:1e6,top:c.top+"px"}),"max-height":"55","min-width":"300",type:c.type,"onClick:close":E=>e.removeMessage(c)},{prepend:withCtx(()=>[createVNode(VIcon,{icon:e.iconCache[c.type].icon,class:"rounded-circle",color:e.iconCache[c.type].color},null,8,["icon","color"])]),default:withCtx(()=>[createTextVNode(toDisplayString(c.message)+" ",1)]),_:2},1032,["style","type","onClick:close"]))),128)}const Message=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__scopeId","data-v-c4b556e2"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Message/index.vue"]]);var __assign=function(){return __assign=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},__assign.apply(this,arguments)};function __awaiter(e,t,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(D){try{C(i.next(D))}catch(f){c(f)}}function E(D){try{C(i.throw(D))}catch(f){c(f)}}function C(D){D.done?l(D.value):a(D.value).then(d,E)}C((i=i.apply(e,t||[])).next())})}function __generator(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(C){return function(D){return E([C,D])}}function E(C){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,C[0]&&(r=0)),r;)try{if(i=1,a&&(l=C[0]&2?a.return:C[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,C[1])).done)return l;switch(a=0,l&&(C=[C[0]&2,l.value]),C[0]){case 0:case 1:l=C;break;case 4:return r.label++,{value:C[1],done:!1};case 5:r.label++,a=C[1],C=[0];continue;case 7:C=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(C[0]===6||C[0]===2)){r=0;continue}if(C[0]===3&&(!l||C[1]>l[0]&&C[1]<l[3])){r.label=C[1];break}if(C[0]===6&&r.label<l[1]){r.label=l[1],l=C;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(C);break}l[2]&&r.ops.pop(),r.trys.pop();continue}C=t.call(e,r)}catch(D){C=[6,D],a=0}finally{i=l=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function __spreadArray(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var version="3.4.0";function wait(e,t){return new Promise(function(r){return setTimeout(r,e,t)})}function requestIdleCallbackIfAvailable(e,t){t===void 0&&(t=1/0);var r=window.requestIdleCallback;return r?new Promise(function(i){return r.call(window,function(){return i()},{timeout:t})}):wait(Math.min(e,t))}function isPromise(e){return!!e&&typeof e.then=="function"}function awaitIfAsync(e,t){try{var r=e();isPromise(r)?r.then(function(i){return t(!0,i)},function(i){return t(!1,i)}):t(!0,r)}catch(i){t(!1,i)}}function forEachWithBreaks(e,t,r){return r===void 0&&(r=16),__awaiter(this,void 0,void 0,function(){var i,a,l;return __generator(this,function(c){switch(c.label){case 0:i=Date.now(),a=0,c.label=1;case 1:return a<e.length?(t(e[a],a),l=Date.now(),l>=i+r?(i=l,[4,wait(0)]):[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return++a,[3,1];case 4:return[2]}})})}function suppressUnhandledRejectionWarning(e){e.then(void 0,function(){})}function x64Add(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function x64Multiply(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function x64Rotl(e,t){return t%=64,t===32?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function x64LeftShift(e,t){return t%=64,t===0?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function x64Xor(e,t){return[e[0]^t[0],e[1]^t[1]]}function x64Fmix(e){return e=x64Xor(e,[0,e[0]>>>1]),e=x64Multiply(e,[4283543511,3981806797]),e=x64Xor(e,[0,e[0]>>>1]),e=x64Multiply(e,[3301882366,444984403]),e=x64Xor(e,[0,e[0]>>>1]),e}function x64hash128(e,t){e=e||"",t=t||0;var r=e.length%16,i=e.length-r,a=[0,t],l=[0,t],c=[0,0],d=[0,0],E=[2277735313,289559509],C=[1291169091,658871167],D;for(D=0;D<i;D=D+16)c=[e.charCodeAt(D+4)&255|(e.charCodeAt(D+5)&255)<<8|(e.charCodeAt(D+6)&255)<<16|(e.charCodeAt(D+7)&255)<<24,e.charCodeAt(D)&255|(e.charCodeAt(D+1)&255)<<8|(e.charCodeAt(D+2)&255)<<16|(e.charCodeAt(D+3)&255)<<24],d=[e.charCodeAt(D+12)&255|(e.charCodeAt(D+13)&255)<<8|(e.charCodeAt(D+14)&255)<<16|(e.charCodeAt(D+15)&255)<<24,e.charCodeAt(D+8)&255|(e.charCodeAt(D+9)&255)<<8|(e.charCodeAt(D+10)&255)<<16|(e.charCodeAt(D+11)&255)<<24],c=x64Multiply(c,E),c=x64Rotl(c,31),c=x64Multiply(c,C),a=x64Xor(a,c),a=x64Rotl(a,27),a=x64Add(a,l),a=x64Add(x64Multiply(a,[0,5]),[0,1390208809]),d=x64Multiply(d,C),d=x64Rotl(d,33),d=x64Multiply(d,E),l=x64Xor(l,d),l=x64Rotl(l,31),l=x64Add(l,a),l=x64Add(x64Multiply(l,[0,5]),[0,944331445]);switch(c=[0,0],d=[0,0],r){case 15:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+14)],48));case 14:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+13)],40));case 13:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+12)],32));case 12:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+11)],24));case 11:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+10)],16));case 10:d=x64Xor(d,x64LeftShift([0,e.charCodeAt(D+9)],8));case 9:d=x64Xor(d,[0,e.charCodeAt(D+8)]),d=x64Multiply(d,C),d=x64Rotl(d,33),d=x64Multiply(d,E),l=x64Xor(l,d);case 8:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+7)],56));case 7:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+6)],48));case 6:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+5)],40));case 5:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+4)],32));case 4:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+3)],24));case 3:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+2)],16));case 2:c=x64Xor(c,x64LeftShift([0,e.charCodeAt(D+1)],8));case 1:c=x64Xor(c,[0,e.charCodeAt(D)]),c=x64Multiply(c,E),c=x64Rotl(c,31),c=x64Multiply(c,C),a=x64Xor(a,c)}return a=x64Xor(a,[0,e.length]),l=x64Xor(l,[0,e.length]),a=x64Add(a,l),l=x64Add(l,a),a=x64Fmix(a),l=x64Fmix(l),a=x64Add(a,l),l=x64Add(l,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function errorToObject(e){var t;return __assign({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function includes(e,t){for(var r=0,i=e.length;r<i;++r)if(e[r]===t)return!0;return!1}function excludes(e,t){return!includes(e,t)}function toInt(e){return parseInt(e)}function toFloat(e){return parseFloat(e)}function replaceNaN(e,t){return typeof e=="number"&&isNaN(e)?t:e}function countTruthy(e){return e.reduce(function(t,r){return t+(r?1:0)},0)}function round(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var r=1/t;return Math.round(e*r)/r}function parseSimpleCssSelector(e){for(var t,r,i="Unexpected syntax '".concat(e,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(e),l=a[1]||void 0,c={},d=/([.:#][\w-]+|\[.+?\])/gi,E=function(A,S){c[A]=c[A]||[],c[A].push(S)};;){var C=d.exec(a[2]);if(!C)break;var D=C[0];switch(D[0]){case".":E("class",D.slice(1));break;case"#":E("id",D.slice(1));break;case"[":{var f=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(D);if(f)E(f[1],(r=(t=f[4])!==null&&t!==void 0?t:f[5])!==null&&r!==void 0?r:"");else throw new Error(i);break}default:throw new Error(i)}}return[l,c]}function ensureErrorWithMessage(e){return e&&typeof e=="object"&&"message"in e?e:{message:e}}function isFinalResultLoaded(e){return typeof e!="function"}function loadSource(e,t){var r=new Promise(function(i){var a=Date.now();awaitIfAsync(e.bind(null,t),function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=Date.now()-a;if(!l[0])return i(function(){return{error:ensureErrorWithMessage(l[1]),duration:d}});var E=l[1];if(isFinalResultLoaded(E))return i(function(){return{value:E,duration:d}});i(function(){return new Promise(function(C){var D=Date.now();awaitIfAsync(E,function(){for(var f=[],A=0;A<arguments.length;A++)f[A]=arguments[A];var S=d+Date.now()-D;if(!f[0])return C({error:ensureErrorWithMessage(f[1]),duration:S});C({value:f[1],duration:S})})})})})});return suppressUnhandledRejectionWarning(r),function(){return r.then(function(a){return a()})}}function loadSources(e,t,r){var i=Object.keys(e).filter(function(l){return excludes(r,l)}),a=Array(i.length);return forEachWithBreaks(i,function(l,c){a[c]=loadSource(e[l],t)}),function(){return __awaiter(this,void 0,void 0,function(){var c,d,E,C,D,f,A;return __generator(this,function(S){switch(S.label){case 0:for(c={},d=0,E=i;d<E.length;d++)C=E[d],c[C]=void 0;D=Array(i.length),f=function(){var L;return __generator(this,function(N){switch(N.label){case 0:return L=!0,[4,forEachWithBreaks(i,function(G,ie){if(!D[ie])if(a[ie]){var le=a[ie]().then(function(ae){return c[G]=ae});suppressUnhandledRejectionWarning(le),D[ie]=le}else L=!1})];case 1:return N.sent(),L?[2,"break"]:[4,wait(1)];case 2:return N.sent(),[2]}})},S.label=1;case 1:return[5,f()];case 2:if(A=S.sent(),A==="break")return[3,4];S.label=3;case 3:return[3,1];case 4:return[4,Promise.all(D)];case 5:return S.sent(),[2,c]}})})}}function isTrident(){var e=window,t=navigator;return countTruthy(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function isEdgeHTML(){var e=window,t=navigator;return countTruthy(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!isTrident()}function isChromium(){var e=window,t=navigator;return countTruthy(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,t.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function isWebKit(){var e=window,t=navigator;return countTruthy(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function isDesktopSafari(){var e=window;return countTruthy(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function isGecko(){var e,t,r=window;return countTruthy(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in r,"mozInnerScreenX"in r,"CSSMozDocumentRule"in r,"CanvasCaptureMediaStream"in r])>=4}function isChromium86OrNewer(){var e=window;return countTruthy([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function isWebKit606OrNewer(){var e=window;return countTruthy(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function isIPad(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return countTruthy(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function getFullscreenElement(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function exitFullscreen(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function isAndroid(){var e=isChromium(),t=isGecko();if(!e&&!t)return!1;var r=window;return countTruthy(["onorientationchange"in r,"orientation"in r,e&&!("SharedWorker"in r),t&&/android/i.test(navigator.appVersion)])>=2}function getAudioFingerprint(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(doesCurrentBrowserSuspendAudioContext())return-1;var r=4500,i=5e3,a=new t(1,i,44100),l=a.createOscillator();l.type="triangle",l.frequency.value=1e4;var c=a.createDynamicsCompressor();c.threshold.value=-50,c.knee.value=40,c.ratio.value=12,c.attack.value=0,c.release.value=.25,l.connect(c),c.connect(a.destination),l.start(0);var d=startRenderingAudio(a),E=d[0],C=d[1],D=E.then(function(f){return getHash(f.getChannelData(0).subarray(r))},function(f){if(f.name==="timeout"||f.name==="suspended")return-3;throw f});return suppressUnhandledRejectionWarning(D),function(){return C(),D}}function doesCurrentBrowserSuspendAudioContext(){return isWebKit()&&!isDesktopSafari()&&!isWebKit606OrNewer()}function startRenderingAudio(e){var t=3,r=500,i=500,a=5e3,l=function(){},c=new Promise(function(d,E){var C=!1,D=0,f=0;e.oncomplete=function(L){return d(L.renderedBuffer)};var A=function(){setTimeout(function(){return E(makeInnerError("timeout"))},Math.min(i,f+a-Date.now()))},S=function(){try{switch(e.startRendering(),e.state){case"running":f=Date.now(),C&&A();break;case"suspended":document.hidden||D++,C&&D>=t?E(makeInnerError("suspended")):setTimeout(S,r);break}}catch(L){E(L)}};S(),l=function(){C||(C=!0,f>0&&A())}});return[c,l]}function getHash(e){for(var t=0,r=0;r<e.length;++r)t+=Math.abs(e[r]);return t}function makeInnerError(e){var t=new Error(e);return t.name=e,t}function withIframe(e,t,r){var i,a,l;return r===void 0&&(r=50),__awaiter(this,void 0,void 0,function(){var c,d;return __generator(this,function(E){switch(E.label){case 0:c=document,E.label=1;case 1:return c.body?[3,3]:[4,wait(r)];case 2:return E.sent(),[3,1];case 3:d=c.createElement("iframe"),E.label=4;case 4:return E.trys.push([4,,10,11]),[4,new Promise(function(C,D){var f=!1,A=function(){f=!0,C()},S=function(G){f=!0,D(G)};d.onload=A,d.onerror=S;var L=d.style;L.setProperty("display","block","important"),L.position="absolute",L.top="0",L.left="0",L.visibility="hidden",t&&"srcdoc"in d?d.srcdoc=t:d.src="about:blank",c.body.appendChild(d);var N=function(){var G,ie;f||(((ie=(G=d.contentWindow)===null||G===void 0?void 0:G.document)===null||ie===void 0?void 0:ie.readyState)==="complete"?A():setTimeout(N,10))};N()})];case 5:E.sent(),E.label=6;case 6:return!((a=(i=d.contentWindow)===null||i===void 0?void 0:i.document)===null||a===void 0)&&a.body?[3,8]:[4,wait(r)];case 7:return E.sent(),[3,6];case 8:return[4,e(d,d.contentWindow)];case 9:return[2,E.sent()];case 10:return(l=d.parentNode)===null||l===void 0||l.removeChild(d),[7];case 11:return[2]}})})}function selectorToElement(e){for(var t=parseSimpleCssSelector(e),r=t[0],i=t[1],a=document.createElement(r??"div"),l=0,c=Object.keys(i);l<c.length;l++){var d=c[l],E=i[d].join(" ");d==="style"?addStyleString(a.style,E):a.setAttribute(d,E)}return a}function addStyleString(e,t){for(var r=0,i=t.split(";");r<i.length;r++){var a=i[r],l=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(l){var c=l[1],d=l[2],E=l[4];e.setProperty(c,d,E||"")}}}var testString="mmMwWLliI0O&1",textSize="48px",baseFonts=["monospace","sans-serif","serif"],fontList=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function getFonts(){return withIframe(function(e,t){var r=t.document,i=r.body;i.style.fontSize=textSize;var a=r.createElement("div"),l={},c={},d=function(N){var G=r.createElement("span"),ie=G.style;return ie.position="absolute",ie.top="0",ie.left="0",ie.fontFamily=N,G.textContent=testString,a.appendChild(G),G},E=function(N,G){return d("'".concat(N,"',").concat(G))},C=function(){return baseFonts.map(d)},D=function(){for(var N={},G=function(he){N[he]=baseFonts.map(function(pe){return E(he,pe)})},ie=0,le=fontList;ie<le.length;ie++){var ae=le[ie];G(ae)}return N},f=function(N){return baseFonts.some(function(G,ie){return N[ie].offsetWidth!==l[G]||N[ie].offsetHeight!==c[G]})},A=C(),S=D();i.appendChild(a);for(var L=0;L<baseFonts.length;L++)l[baseFonts[L]]=A[L].offsetWidth,c[baseFonts[L]]=A[L].offsetHeight;return fontList.filter(function(N){return f(S[N])})})}function getPlugins(){var e=navigator.plugins;if(!!e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(!!i){for(var a=[],l=0;l<i.length;++l){var c=i[l];a.push({type:c.type,suffixes:c.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:a})}}return t}}function getCanvasFingerprint(){var e=!1,t,r,i=makeCanvasContext(),a=i[0],l=i[1];if(!isSupported(a,l))t=r="";else{e=doesSupportWinding(l),renderTextImage(a,l);var c=canvasToString(a),d=canvasToString(a);c!==d?t=r="unstable":(r=c,renderGeometryImage(a,l),t=canvasToString(a))}return{winding:e,geometry:t,text:r}}function makeCanvasContext(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function isSupported(e,t){return!!(t&&e.toDataURL)}function doesSupportWinding(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function renderTextImage(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var r="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(r,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(r,4,45)}function renderGeometryImage(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var r=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];r<i.length;r++){var a=i[r],l=a[0],c=a[1],d=a[2];t.fillStyle=l,t.beginPath(),t.arc(c,d,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function canvasToString(e){return e.toDataURL()}function getTouchSupport(){var e=navigator,t=0,r;e.maxTouchPoints!==void 0?t=toInt(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),r=!0}catch{r=!1}var i="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:r,touchStart:i}}function getOsCpu(){return navigator.oscpu}function getLanguages(){var e=navigator,t=[],r=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(r!==void 0&&t.push([r]),Array.isArray(e.languages))isChromium()&&isChromium86OrNewer()||t.push(e.languages);else if(typeof e.languages=="string"){var i=e.languages;i&&t.push(i.split(","))}return t}function getColorDepth(){return window.screen.colorDepth}function getDeviceMemory(){return replaceNaN(toFloat(navigator.deviceMemory),void 0)}function getScreenResolution(){var e=screen,t=function(i){return replaceNaN(toInt(i),null)},r=[t(e.width),t(e.height)];return r.sort().reverse(),r}var screenFrameCheckInterval=2500,roundingPrecision=10,screenFrameBackup,screenFrameSizeTimeoutId;function watchScreenFrame(){if(screenFrameSizeTimeoutId===void 0){var e=function(){var t=getCurrentScreenFrame();isFrameSizeNull(t)?screenFrameSizeTimeoutId=setTimeout(e,screenFrameCheckInterval):(screenFrameBackup=t,screenFrameSizeTimeoutId=void 0)};e()}}function getScreenFrame(){var e=this;return watchScreenFrame(),function(){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return t=getCurrentScreenFrame(),isFrameSizeNull(t)?screenFrameBackup?[2,__spreadArray([],screenFrameBackup,!0)]:getFullscreenElement()?[4,exitFullscreen()]:[3,2]:[3,2];case 1:r.sent(),t=getCurrentScreenFrame(),r.label=2;case 2:return isFrameSizeNull(t)||(screenFrameBackup=t),[2,t]}})})}}function getRoundedScreenFrame(){var e=this,t=getScreenFrame();return function(){return __awaiter(e,void 0,void 0,function(){var r,i;return __generator(this,function(a){switch(a.label){case 0:return[4,t()];case 1:return r=a.sent(),i=function(l){return l===null?null:round(l,roundingPrecision)},[2,[i(r[0]),i(r[1]),i(r[2]),i(r[3])]]}})})}}function getCurrentScreenFrame(){var e=screen;return[replaceNaN(toFloat(e.availTop),null),replaceNaN(toFloat(e.width)-toFloat(e.availWidth)-replaceNaN(toFloat(e.availLeft),0),null),replaceNaN(toFloat(e.height)-toFloat(e.availHeight)-replaceNaN(toFloat(e.availTop),0),null),replaceNaN(toFloat(e.availLeft),null)]}function isFrameSizeNull(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function getHardwareConcurrency(){return replaceNaN(toInt(navigator.hardwareConcurrency),void 0)}function getTimezone(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var r=new t().resolvedOptions().timeZone;if(r)return r}var i=-getTimezoneOffset();return"UTC".concat(i>=0?"+":"").concat(Math.abs(i))}function getTimezoneOffset(){var e=new Date().getFullYear();return Math.max(toFloat(new Date(e,0,1).getTimezoneOffset()),toFloat(new Date(e,6,1).getTimezoneOffset()))}function getSessionStorage(){try{return!!window.sessionStorage}catch{return!0}}function getLocalStorage(){try{return!!window.localStorage}catch{return!0}}function getIndexedDB(){if(!(isTrident()||isEdgeHTML()))try{return!!window.indexedDB}catch{return!0}}function getOpenDatabase(){return!!window.openDatabase}function getCpuClass(){return navigator.cpuClass}function getPlatform(){var e=navigator.platform;return e==="MacIntel"&&isWebKit()&&!isDesktopSafari()?isIPad()?"iPad":"iPhone":e}function getVendor(){return navigator.vendor||""}function getVendorFlavors(){for(var e=[],t=0,r=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<r.length;t++){var i=r[t],a=window[i];a&&typeof a=="object"&&e.push(i)}return e.sort()}function areCookiesEnabled(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function getFilters(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",e("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",e("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",e("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),e("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2FkLWJhbm5lcg=="),e("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iL29kMDA1LmNvbSJd"),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[e("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[e("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),e("LmJveHN0YXJ0d2VyYnVuZw=="),e("LndlcmJ1bmcz"),e("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),e("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("LmFkX3JlZ3VsYXIz")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),e("I2FkX3NxdWFyZQ==")],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",e("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",e("I25ld0Fk")],easyList:[e("I0FEX0NPTlRST0xfMjg="),e("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",e("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),e("LnNxdWFyZV9hZHM=")],easyListChina:[e("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[e("I0FkX1dpbjJkYXk="),e("I3dlcmJ1bmdzYm94MzAw"),e("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),e("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),e("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function getDomBlockers(e){var t=e===void 0?{}:e,r=t.debug;return __awaiter(this,void 0,void 0,function(){var i,a,l,c,d,E;return __generator(this,function(C){switch(C.label){case 0:return isApplicable()?(i=getFilters(),a=Object.keys(i),l=(E=[]).concat.apply(E,a.map(function(D){return i[D]})),[4,getBlockedSelectors(l)]):[2,void 0];case 1:return c=C.sent(),r&&printDebug(i,c),d=a.filter(function(D){var f=i[D],A=countTruthy(f.map(function(S){return c[S]}));return A>f.length*.6}),d.sort(),[2,d]}})})}function isApplicable(){return isWebKit()||isAndroid()}function getBlockedSelectors(e){var t;return __awaiter(this,void 0,void 0,function(){var r,i,a,l,E,c,d,E;return __generator(this,function(C){switch(C.label){case 0:for(r=document,i=r.createElement("div"),a=new Array(e.length),l={},forceShow(i),E=0;E<e.length;++E)c=selectorToElement(e[E]),d=r.createElement("div"),forceShow(d),d.appendChild(c),i.appendChild(d),a[E]=c;C.label=1;case 1:return r.body?[3,3]:[4,wait(50)];case 2:return C.sent(),[3,1];case 3:r.body.appendChild(i);try{for(E=0;E<e.length;++E)a[E].offsetParent||(l[e[E]]=!0)}finally{(t=i.parentNode)===null||t===void 0||t.removeChild(i)}return[2,l]}})})}function forceShow(e){e.style.setProperty("display","block","important")}function printDebug(e,t){for(var r="DOM blockers debug:\n```",i=0,a=Object.keys(e);i<a.length;i++){var l=a[i];r+=`
`.concat(l,":");for(var c=0,d=e[l];c<d.length;c++){var E=d[c];r+=`
  `.concat(t[E]?"\u{1F6AB}":"\u27A1\uFE0F"," ").concat(E)}}console.log("".concat(r,"\n```"))}function getColorGamut(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var r=t[e];if(matchMedia("(color-gamut: ".concat(r,")")).matches)return r}}function areColorsInverted(){if(doesMatch$4("inverted"))return!0;if(doesMatch$4("none"))return!1}function doesMatch$4(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function areColorsForced(){if(doesMatch$3("active"))return!0;if(doesMatch$3("none"))return!1}function doesMatch$3(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var maxValueToCheck=100;function getMonochromeDepth(){if(!!matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=maxValueToCheck;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function getContrastPreference(){if(doesMatch$2("no-preference"))return 0;if(doesMatch$2("high")||doesMatch$2("more"))return 1;if(doesMatch$2("low")||doesMatch$2("less"))return-1;if(doesMatch$2("forced"))return 10}function doesMatch$2(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function isMotionReduced(){if(doesMatch$1("reduce"))return!0;if(doesMatch$1("no-preference"))return!1}function doesMatch$1(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function isHDR(){if(doesMatch("high"))return!0;if(doesMatch("standard"))return!1}function doesMatch(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var M=Math,fallbackFn=function(){return 0};function getMathFingerprint(){var e=M.acos||fallbackFn,t=M.acosh||fallbackFn,r=M.asin||fallbackFn,i=M.asinh||fallbackFn,a=M.atanh||fallbackFn,l=M.atan||fallbackFn,c=M.sin||fallbackFn,d=M.sinh||fallbackFn,E=M.cos||fallbackFn,C=M.cosh||fallbackFn,D=M.tan||fallbackFn,f=M.tanh||fallbackFn,A=M.exp||fallbackFn,S=M.expm1||fallbackFn,L=M.log1p||fallbackFn,N=function(oe){return M.pow(M.PI,oe)},G=function(oe){return M.log(oe+M.sqrt(oe*oe-1))},ie=function(oe){return M.log(oe+M.sqrt(oe*oe+1))},le=function(oe){return M.log((1+oe)/(1-oe))/2},ae=function(oe){return M.exp(oe)-1/M.exp(oe)/2},he=function(oe){return(M.exp(oe)+1/M.exp(oe))/2},pe=function(oe){return M.exp(oe)-1},B=function(oe){return(M.exp(2*oe)-1)/(M.exp(2*oe)+1)},se=function(oe){return M.log(1+oe)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:G(1e154),asin:r(.12312423423423424),asinh:i(1),asinhPf:ie(1),atanh:a(.5),atanhPf:le(.5),atan:l(.5),sin:c(-1e300),sinh:d(1),sinhPf:ae(1),cos:E(10.000000000123),cosh:C(1),coshPf:he(1),tan:D(-1e300),tanh:f(1),tanhPf:B(1),exp:A(1),expm1:S(1),expm1Pf:pe(1),log1p:L(10),log1pPf:se(10),powPI:N(-100)}}var defaultText="mmMwWLliI0fiflO&1",presets={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function getFontPreferences(){return withNaturalFonts(function(e,t){for(var r={},i={},a=0,l=Object.keys(presets);a<l.length;a++){var c=l[a],d=presets[c],E=d[0],C=E===void 0?{}:E,D=d[1],f=D===void 0?defaultText:D,A=e.createElement("span");A.textContent=f,A.style.whiteSpace="nowrap";for(var S=0,L=Object.keys(C);S<L.length;S++){var N=L[S],G=C[N];G!==void 0&&(A.style[N]=G)}r[c]=A,t.appendChild(e.createElement("br")),t.appendChild(A)}for(var ie=0,le=Object.keys(presets);ie<le.length;ie++){var c=le[ie];i[c]=r[c].getBoundingClientRect().width}return i})}function withNaturalFonts(e,t){return t===void 0&&(t=4e3),withIframe(function(r,i){var a=i.document,l=a.body,c=l.style;c.width="".concat(t,"px"),c.webkitTextSizeAdjust=c.textSizeAdjust="none",isChromium()?l.style.zoom="".concat(1/i.devicePixelRatio):isWebKit()&&(l.style.zoom="reset");var d=a.createElement("div");return d.textContent=__spreadArray([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),l.appendChild(d),e(a,l)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function getVideoCard(){var e,t=document.createElement("canvas"),r=(e=t.getContext("webgl"))!==null&&e!==void 0?e:t.getContext("experimental-webgl");if(r&&"getExtension"in r){var i=r.getExtension("WEBGL_debug_renderer_info");if(i)return{vendor:(r.getParameter(i.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(r.getParameter(i.UNMASKED_RENDERER_WEBGL)||"").toString()}}}function isPdfViewerEnabled(){return navigator.pdfViewerEnabled}function getArchitecture(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}var sources={fonts:getFonts,domBlockers:getDomBlockers,fontPreferences:getFontPreferences,audio:getAudioFingerprint,screenFrame:getRoundedScreenFrame,osCpu:getOsCpu,languages:getLanguages,colorDepth:getColorDepth,deviceMemory:getDeviceMemory,screenResolution:getScreenResolution,hardwareConcurrency:getHardwareConcurrency,timezone:getTimezone,sessionStorage:getSessionStorage,localStorage:getLocalStorage,indexedDB:getIndexedDB,openDatabase:getOpenDatabase,cpuClass:getCpuClass,platform:getPlatform,plugins:getPlugins,canvas:getCanvasFingerprint,touchSupport:getTouchSupport,vendor:getVendor,vendorFlavors:getVendorFlavors,cookiesEnabled:areCookiesEnabled,colorGamut:getColorGamut,invertedColors:areColorsInverted,forcedColors:areColorsForced,monochrome:getMonochromeDepth,contrast:getContrastPreference,reducedMotion:isMotionReduced,hdr:isHDR,math:getMathFingerprint,videoCard:getVideoCard,pdfViewerEnabled:isPdfViewerEnabled,architecture:getArchitecture};function loadBuiltinSources(e){return loadSources(sources,e,[])}var commentTemplate="$ if upgrade to Pro: https://fpjs.dev/pro";function getConfidence(e){var t=getOpenConfidenceScore(e),r=deriveProConfidenceScore(t);return{score:t,comment:commentTemplate.replace(/\$/g,"".concat(r))}}function getOpenConfidenceScore(e){if(isAndroid())return .4;if(isWebKit())return isDesktopSafari()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function deriveProConfidenceScore(e){return round(.99+.01*e,1e-4)}function componentsToCanonicalString(e){for(var t="",r=0,i=Object.keys(e).sort();r<i.length;r++){var a=i[r],l=e[a],c=l.error?"error":JSON.stringify(l.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(c)}return t}function componentsToDebugString(e){return JSON.stringify(e,function(t,r){return r instanceof Error?errorToObject(r):r},2)}function hashComponents(e){return x64hash128(componentsToCanonicalString(e))}function makeLazyGetResult(e){var t,r=getConfidence(e);return{get visitorId(){return t===void 0&&(t=hashComponents(this.components)),t},set visitorId(i){t=i},confidence:r,components:e,version}}function prepareForSources(e){return e===void 0&&(e=50),requestIdleCallbackIfAvailable(e,e*2)}function makeAgent(e,t){var r=Date.now();return{get:function(i){return __awaiter(this,void 0,void 0,function(){var a,l,c;return __generator(this,function(d){switch(d.label){case 0:return a=Date.now(),[4,e()];case 1:return l=d.sent(),c=makeLazyGetResult(l),(t||i?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(c.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(a-r,`
visitorId: `).concat(c.visitorId,`
components: `).concat(componentsToDebugString(l),"\n```")),[2,c]}})})}}}function monitor(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(version,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function load(e){var t=e===void 0?{}:e,r=t.delayFallback,i=t.debug,a=t.monitoring,l=a===void 0?!0:a;return __awaiter(this,void 0,void 0,function(){var c;return __generator(this,function(d){switch(d.label){case 0:return l&&monitor(),[4,prepareForSources(r)];case 1:return d.sent(),c=loadBuiltinSources({debug:i}),[2,makeAgent(c,i)]}})})}async function getFingerprintId(){return(await(await load()).get()).visitorId}function getParamsFromUrl(){let e={};const t=window.location.href,r=t.indexOf("?");if(r!==-1){const i=t.substring(r+1);e=decodeParams(parseParamString(i))}return e}function parseParamString(e){const t={},r=e.split("&");for(let i=0;i<r.length;i++){const a=r[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}return t}function decodeParams(e){const t={};for(const r in e)t[decodeURIComponent(r)]=decodeURIComponent(e[r]);return t}const isShow=ref(!1),abort=ref(),showLoading$1=e=>{e?.abort&&(abort.value=e.abort),isShow.value=!0,document.body.style.pointerEvents="none"},hideLoading$1=()=>{isShow.value=!1,document.body.style.pointerEvents=""},useLoadingData=()=>({isShow,abort,showLoading:showLoading$1,hideLoading:hideLoading$1});MxElectronAPI.onShowLoading(showLoading$1),MxElectronAPI.onHideLoading(hideLoading$1);const useLoading=()=>({showLoading:showLoading$1,hideLoading:hideLoading$1});ref([]);ref("");ref();ref([]);ref();const onOpenFileCompleteCalls=[];let isOpenFileComplete=!1;const onOpenFileComplete=e=>{if(isOpenFileComplete)return e();onOpenFileCompleteCalls.push(e)},{showLoading,hideLoading}=useLoading();window.onerror=()=>{hideLoading()};const useMxCad=e=>{const{mainRect:t}=useLayout(),{initLayerList:r}=useLayer(),{initColorIndexList:i}=useColor$1(),{initLineTypeList:a}=useLineType();return onMounted(async()=>{const l=await getFingerprintId();createMxCAD({canvasId:e,userIdentitySign:l,isCPPMxCAD:!0,callback:(c,{canvasParent:d,canvas:E})=>{c.on("loadComplete",()=>{const{file:C}=getParamsFromUrl();requestIdleCallback(()=>{mxcadObj.openWebFile(C||"test2.mxweb")&&showLoading({})})}),c.on("openFileComplete",()=>{hideLoading(),r(),i(),a(),onOpenFileCompleteCalls.forEach(C=>{C&&C()}),isOpenFileComplete=!0})}})}),{mainRect:t}},useSideBtnListUIData=e=>{const{mainRect:t}=useLayout(),r=ref(uiConfig.mLeftButtonBarData?.isShow),i=ref(uiConfig.mRightButtonBarData?.isShow),a=markRaw(uiConfig.mLeftButtonBarData?.buttonBarData||[]),l=markRaw(uiConfig.mRightButtonBarData?.buttonBarData||[]),c=D=>{const A=(document.body.clientHeight-t.value.top-t.value.bottom+16)/e;return Math.ceil(D/A)*e},d=ref(0),E=ref(0),C=D=>{d.value=r.value?c(a.length):0,E.value=i.value?c(l.length):0};return watch([()=>t.value.top,()=>t.value.bottom],()=>C()),window.addEventListener("resize",C),{isShowLeftBtnList:r,isShowRightBtnList:i,leftBtnListUIData:a,rightBtnListUIData:l,leftWidth:d,rightWidth:E}},_hoisted_1$4={class:"modelNav"},_hoisted_2$3=["onClick"],_sfc_main$7=defineComponent$1({__name:"ModelNav",setup(e){const t=a=>{i.value=a},r=ref([{name:"\u6A21\u578B"},{name:"\u5E03\u5C401"},{name:"\u5E03\u5C402"}]),i=ref(0);return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(c,d)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["nav",d===i.value?"nav-active":""]),onClick:E=>t(d)},toDisplayString(c.name),11,_hoisted_2$3))),256))]))}}),ModelNav_vue_vue_type_style_index_0_scoped_9b060cc4_lang="",ModelNav=_export_sfc(_sfc_main$7,[["__scopeId","data-v-9b060cc4"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/ModelNav.vue"]]),VMain$1="",VMain=genericComponent()({name:"VMain",props:{scrollable:Boolean,...makeTagProps({tag:"main"})},setup(e,t){let{slots:r}=t;const{mainStyles:i}=useLayout(),{ssrBootStyles:a}=useSsrBoot();return useRender(()=>createVNode(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[i.value,a.value]},{default:()=>[e.scrollable?createVNode("div",{class:"v-main__scroller"},[r.default?.()]):r.default?.()]})),{}}}),_hoisted_1$3=createBaseVNode("canvas",{id:"myCanvas"},null,-1),_sfc_main$6=defineComponent$1({__name:"index",setup(e){const{cursor:t,mountAutoUpdateCursor:r}=useCursorStyle(),{mainRect:i}=useMxCad("myCanvas"),{isShowLeftBtnList:a,isShowRightBtnList:l,leftBtnListUIData:c,rightBtnListUIData:d,leftWidth:E,rightWidth:C}=useSideBtnListUIData(44),D=computed(()=>`calc(100% - ${E.value+C.value}px)`),f=computed(()=>`calc(100vh - ${i.value.bottom+i.value.top}px)`);onMounted(()=>{r()});const A=S=>{S?.cmd&&callCommand(S?.cmd)};return(S,L)=>(openBlock(),createBlock(VMain,null,{default:withCtx(()=>[createBaseVNode("div",{class:"d-flex",style:normalizeStyle({height:unref(f)})},[unref(a)?(openBlock(),createBlock(MxBtnList,{key:0,style:{"z-index":"2"},width:unref(E),"bg-color":"prominent",class:"flex-column flex-wrap-reverse",onChange:A,list:unref(c)},null,8,["width","list"])):createCommentVNode("v-if",!0),createCommentVNode('  v-right-click-menu="rightMenuOptions" '),createBaseVNode("div",{class:"mxbox",style:normalizeStyle({width:unref(D)})},[createBaseVNode("div",{class:"pa-0 overflow-hidden mxdiv",style:normalizeStyle({cursor:unref(t)})},[createVNode(DynamicInputBox),_hoisted_1$3,createVNode(Message)],4),createVNode(ModelNav)],4),unref(l)?(openBlock(),createBlock(MxBtnList,{key:1,style:{"z-index":"2"},width:unref(C),"bg-color":"prominent",class:"flex-column flex-wrap-reverse",onChange:A,list:unref(d),location:"right"},null,8,["width","list"])):createCommentVNode("v-if",!0)],4)]),_:1}))}}),index_vue_vue_type_style_index_0_lang="",Main=_export_sfc(_sfc_main$6,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Main/index.vue"]]),useDrawer=e=>{const r=ref(0),i=computed(()=>r.value>0),{vResize:a,resizeOptions:l}=useResize({direction:e});return{width:r,isShow:i,resizeOptions:l,handleResize:C=>{if(C.resizeWidth&&C.resizeWidth){const D=200-C.resizeWidth>0?200-C.resizeWidth:0;r.value=C.resizeWidth+D}},vResize:a,handleClose:()=>{r.value=0},handleOpen:()=>{r.value=200}}},VNavigationDrawer$1="";function useSticky(e){let{rootEl:t,isSticky:r,layoutItemStyles:i}=e;const a=ref(!1),l=ref(0),c=computed(()=>{const C=typeof a.value=="boolean"?"top":a.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[C]:convertToUnit(l.value)}:{top:i.value.top}]});onMounted(()=>{watch(r,C=>{C?window.addEventListener("scroll",E,{passive:!0}):window.removeEventListener("scroll",E)},{immediate:!0})}),onBeforeUnmount(()=>{document.removeEventListener("scroll",E)});let d=0;function E(){const C=d>window.scrollY?"up":"down",D=t.value.getBoundingClientRect(),f=parseFloat(i.value.top??0),A=window.scrollY-Math.max(0,l.value-f),S=D.height+Math.max(l.value,f)-window.scrollY-window.innerHeight;D.height<window.innerHeight-f?(a.value="top",l.value=f):C==="up"&&a.value==="bottom"||C==="down"&&a.value==="top"?(l.value=window.scrollY+D.top,a.value=!0):C==="down"&&S<=0?(l.value=0,a.value="bottom"):C==="up"&&A<=0&&(l.value=D.top+A,a.value="top"),d=window.scrollY}return{isStuck:a,stickyStyles:c}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function calculateImpulseVelocity(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const i=kineticEnergyToVelocity(t),a=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);t+=(a-i)*Math.abs(a),r===e.length-1&&(t*=.5)}return kineticEnergyToVelocity(t)*1e3}function useVelocity(){const e={};function t(a){Array.from(a.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new CircularBuffer(HISTORY))).push([a.timeStamp,l])})}function r(a){Array.from(a.changedTouches).forEach(l=>{delete e[l.identifier]})}function i(a){const l=e[a]?.values().reverse();if(!l)throw new Error(`No samples for touch id ${a}`);const c=l[0],d=[],E=[];for(const C of l){if(c[0]-C[0]>HORIZON)break;d.push({t:C[0],d:C[1].clientX}),E.push({t:C[0],d:C[1].clientY})}return{x:calculateImpulseVelocity(d),y:calculateImpulseVelocity(E),get direction(){const{x:C,y:D}=this,[f,A]=[Math.abs(C),Math.abs(D)];return f>A&&C>=0?"right":f>A&&C<=0?"left":A>f&&D>=0?"down":A>f&&D<=0?"up":oops$1()}}}return{addMovement:t,endTouch:r,getVelocity:i}}function oops$1(){throw new Error}function useTouch(e){let{isActive:t,isTemporary:r,width:i,touchless:a,position:l}=e;onMounted(()=>{window.addEventListener("touchstart",ie,{passive:!0}),window.addEventListener("touchmove",le,{passive:!1}),window.addEventListener("touchend",ae,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",ie),window.removeEventListener("touchmove",le),window.removeEventListener("touchend",ae)});const c=computed(()=>["left","right"].includes(l.value)),{addMovement:d,endTouch:E,getVelocity:C}=useVelocity();let D=!1;const f=ref(!1),A=ref(0),S=ref(0);let L;function N(pe,B){return(l.value==="left"?pe:l.value==="right"?document.documentElement.clientWidth-pe:l.value==="top"?pe:l.value==="bottom"?document.documentElement.clientHeight-pe:oops())-(B?i.value:0)}function G(pe){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const se=l.value==="left"?(pe-S.value)/i.value:l.value==="right"?(document.documentElement.clientWidth-pe-S.value)/i.value:l.value==="top"?(pe-S.value)/i.value:l.value==="bottom"?(document.documentElement.clientHeight-pe-S.value)/i.value:oops();return B?Math.max(0,Math.min(1,se)):se}function ie(pe){if(a.value)return;const B=pe.changedTouches[0].clientX,se=pe.changedTouches[0].clientY,oe=25,O=l.value==="left"?B<oe:l.value==="right"?B>document.documentElement.clientWidth-oe:l.value==="top"?se<oe:l.value==="bottom"?se>document.documentElement.clientHeight-oe:oops(),T=t.value&&(l.value==="left"?B<i.value:l.value==="right"?B>document.documentElement.clientWidth-i.value:l.value==="top"?se<i.value:l.value==="bottom"?se>document.documentElement.clientHeight-i.value:oops());(O||T||t.value&&r.value)&&(D=!0,L=[B,se],S.value=N(c.value?B:se,t.value),A.value=G(c.value?B:se),E(pe),d(pe))}function le(pe){const B=pe.changedTouches[0].clientX,se=pe.changedTouches[0].clientY;if(D){if(!pe.cancelable){D=!1;return}const O=Math.abs(B-L[0]),T=Math.abs(se-L[1]);(c.value?O>T&&O>3:T>O&&T>3)?(f.value=!0,D=!1):(c.value?T:O)>3&&(D=!1)}if(!f.value)return;pe.preventDefault(),d(pe);const oe=G(c.value?B:se,!1);A.value=Math.max(0,Math.min(1,oe)),oe>1?S.value=N(c.value?B:se,!0):oe<0&&(S.value=N(c.value?B:se,!1))}function ae(pe){if(D=!1,!f.value)return;d(pe),f.value=!1;const B=C(pe.changedTouches[0].identifier),se=Math.abs(B.x),oe=Math.abs(B.y);(c.value?se>oe&&se>400:oe>se&&oe>3)?t.value=B.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||oops()):t.value=A.value>.5}const he=computed(()=>f.value?{transform:l.value==="left"?`translateX(calc(-100% + ${A.value*i.value}px))`:l.value==="right"?`translateX(calc(100% - ${A.value*i.value}px))`:l.value==="top"?`translateY(calc(-100% + ${A.value*i.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${A.value*i.value}px))`:oops(),transition:"none"}:void 0);return{isDragging:f,dragProgress:A,dragStyles:he}}function oops(){throw new Error}const locations=["start","end","left","right","top","bottom"],VNavigationDrawer=genericComponent()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>locations.includes(e)},sticky:Boolean,...makeBorderProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:a}=t;const{isRtl:l}=useRtl(),{themeClasses:c}=provideTheme(e),{borderClasses:d}=useBorder(e),{backgroundColorClasses:E,backgroundColorStyles:C}=useBackgroundColor(toRef(e,"color")),{elevationClasses:D}=useElevation(e),{mobile:f}=useDisplay(),{roundedClasses:A}=useRounded(e),S=useRouter(),L=useProxiedModel(e,"modelValue",null,De=>!!De),{ssrBootStyles:N}=useSsrBoot(),G=ref(),ie=ref(!1),le=computed(()=>e.rail&&e.expandOnHover&&ie.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),ae=computed(()=>toPhysical(e.location,l.value)),he=computed(()=>!e.permanent&&(f.value||e.temporary)),pe=computed(()=>e.sticky&&!he.value&&ae.value!=="bottom");e.expandOnHover&&e.rail!=null&&watch(ie,De=>i("update:rail",!De)),e.disableResizeWatcher||watch(he,De=>!e.permanent&&nextTick(()=>L.value=!De)),!e.disableRouteWatcher&&S&&watch(S.currentRoute,()=>he.value&&(L.value=!1)),watch(()=>e.permanent,De=>{De&&(L.value=!0)}),onBeforeMount(()=>{e.modelValue!=null||he.value||(L.value=e.permanent||!f.value)});const{isDragging:B,dragProgress:se,dragStyles:oe}=useTouch({isActive:L,isTemporary:he,width:le,touchless:toRef(e,"touchless"),position:ae}),O=computed(()=>{const De=he.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):le.value;return B.value?De*se.value:De}),{layoutItemStyles:T,layoutRect:ce,layoutItemScrimStyles:fe}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:ae,layoutSize:O,elementSize:le,active:computed(()=>L.value||B.value),disableTransitions:computed(()=>B.value),absolute:computed(()=>e.absolute||pe.value&&typeof Ee.value!="string")}),{isStuck:Ee,stickyStyles:Ae}=useSticky({rootEl:G,isSticky:pe,layoutItemStyles:T}),_e=useBackgroundColor(computed(()=>typeof e.scrim=="string"?e.scrim:null)),xe=computed(()=>({...B.value?{opacity:se.value*.2,transition:"none"}:void 0,...ce.value?{left:convertToUnit(ce.value.left),right:convertToUnit(ce.value.right),top:convertToUnit(ce.value.top),bottom:convertToUnit(ce.value.bottom)}:void 0,...fe.value}));return provideDefaults({VList:{bgColor:"transparent"}}),useRender(()=>{const De=a.image||e.image;return createVNode(Fragment,null,[createVNode(e.tag,mergeProps({ref:G,onMouseenter:()=>ie.value=!0,onMouseleave:()=>ie.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${ae.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":ie.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":he.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":pe.value},c.value,E.value,d.value,D.value,A.value],style:[C.value,T.value,oe.value,N.value,Ae.value]},r),{default:()=>[De&&createVNode("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?a.image?.({image:e.image}):createVNode("img",{src:e.image,alt:""},null)]),a.prepend&&createVNode("div",{class:"v-navigation-drawer__prepend"},[a.prepend?.()]),createVNode("div",{class:"v-navigation-drawer__content"},[a.default?.()]),a.append&&createVNode("div",{class:"v-navigation-drawer__append"},[a.append?.()])]}),createVNode(Transition,{name:"fade-transition"},{default:()=>[he.value&&(B.value||L.value)&&!!e.scrim&&createVNode("div",{class:["v-navigation-drawer__scrim",_e.backgroundColorClasses.value],style:[xe.value,_e.backgroundColorStyles.value],onClick:()=>L.value=!1},null)]})])}),{isStuck:Ee}}}),_hoisted_1$2={class:"w-100 d-flex px-1 align-center justify-space-between bg-background rounded-t title"},_hoisted_2$2={class:""},_sfc_main$5=defineComponent$1({__name:"Drawer",props:{location:{type:String,required:!1,default:"left"},title:{type:String,required:!1,default:"\u6807\u9898"}},setup(e,{expose:t}){const r=computed(()=>e.location==="left"?"right":"left"),{width:i,isShow:a,resizeOptions:l,handleResize:c,vResize:d,handleClose:E,handleOpen:C}=useDrawer([r.value]),{mainRect:D}=useLayout(),f=computed(()=>`width: ${i.value}px;  height: calc(100% - ${D.value.top}px); top: ${D.value.top}px; ${e.location}: 0;`);return t({handleOpen:C,handleClose:E}),(A,S)=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("div",{class:"resize-line",style:normalizeStyle(unref(f)),onResize:S[0]||(S[0]=(...L)=>unref(c)&&unref(c)(...L))},null,36),[[vShow,unref(a)],[unref(d),unref(l)]]),unref(a)?(openBlock(),createBlock(VNavigationDrawer,{key:0,permanent:"",width:unref(i),location:e.location,class:"pa-1 bg-prominent drawer"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("span",_hoisted_2$2,toDisplayString(e.title),1),createVNode(VBtn,{size:"x-small",icon:"",variant:"plain",onClick:unref(E)},{default:withCtx(()=>[createVNode(VIcon,{icon:"cha",size:"large"})]),_:1},8,["onClick"])]),renderSlot(A.$slots,"default",{},void 0,!0)]),_:3},8,["width","location"])):createCommentVNode("v-if",!0)],64))}}),Drawer_vue_vue_type_style_index_0_lang="",Drawer_vue_vue_type_style_index_1_scoped_b6696ec4_lang="",Drawer$1=_export_sfc(_sfc_main$5,[["__scopeId","data-v-b6696ec4"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/Drawer.vue"]]),_withScopeId=e=>(pushScopeId("data-v-68800be9"),e=e(),popScopeId(),e),_hoisted_1$1=_withScopeId(()=>createBaseVNode("div",{class:"w-100 ma-0 mt-1 bg-background text-left pl-2"}," \u6BD4\u8F83\u7ED3\u679C ",-1)),_hoisted_2$1=_withScopeId(()=>createBaseVNode("table",{class:"w-100"},[createBaseVNode("thead",{class:"w-100"},[createBaseVNode("tr",{class:"w-100"},[createBaseVNode("th",{class:"text-left pa-1 w-50 disabled"},"\u5750\u6807"),createBaseVNode("th",{class:"text-left pa-1 w-50 disabled"},"\u4FEE\u6539\u8BF4\u660E")])]),createBaseVNode("tbody",{class:"w-100"},[createBaseVNode("tr",null,[createBaseVNode("td",{class:"pa-1 w-50"},[createBaseVNode("label",{class:"w-100"},"(-1515,1212)")]),createBaseVNode("td",{class:"pa-1 w-50"}," \u5220\u9664 ")])])],-1)),_hoisted_3$1=_withScopeId(()=>createBaseVNode("div",{class:"w-100 ma-0 mt-2 bg-background text-left pl-2"}," \u88AB\u6BD4\u8F83\u56FE\u7EB8\u9884\u89C8 ",-1)),_hoisted_4$1=_withScopeId(()=>createBaseVNode("div",{style:{background:"#000",width:"100%",height:"300px"}},null,-1)),_sfc_main$4=defineComponent$1({__name:"LeftDrawer",setup(e){return(t,r)=>(openBlock(),createBlock(Drawer$1,{location:"left",title:"\u56FE\u7EB8\u6BD4\u8F83"},{default:withCtx(()=>[createVNode(VBtn,{class:"w-100 mt-1 bg-depth border",variant:"text",size:"small"},{default:withCtx(()=>[createTextVNode(" \u9009\u62E9\u6BD4\u8F83\u6587\u4EF6 ")]),_:1}),createVNode(VBtn,{class:"w-100 mt-1 bg-undertint border",variant:"text",size:"small"},{default:withCtx(()=>[createTextVNode(" \u5F00\u59CB\u6BD4\u8F83 ")]),_:1}),_hoisted_1$1,_hoisted_2$1,_hoisted_3$1,_hoisted_4$1]),_:1}))}}),LeftDrawer_vue_vue_type_style_index_0_scoped_68800be9_lang="",LeftDrawer=_export_sfc(_sfc_main$4,[["__scopeId","data-v-68800be9"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/LeftDrawer.vue"]]),VExpansionPanel$1="",VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),allowedVariants=["default","accordion","inset","popout"],VExpansionPanels=genericComponent()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>allowedVariants.includes(e)},readonly:Boolean,...makeGroupProps(),...makeTagProps(),...makeThemeProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;useGroup(e,VExpansionPanelSymbol);const{themeClasses:i}=provideTheme(e),a=computed(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return provideDefaults({VExpansionPanel:{color:toRef(e,"color")},VExpansionPanelTitle:{readonly:toRef(e,"readonly")}}),useRender(()=>createVNode(e.tag,{class:["v-expansion-panels",i.value,a.value]},r)),{}}}),makeVExpansionPanelTitleProps=propsFactory$1({color:String,expandIcon:{type:IconValue$1,default:"$expand"},collapseIcon:{type:IconValue$1,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),VExpansionPanelTitle=genericComponent()({name:"VExpansionPanelTitle",directives:{Ripple},props:{...makeVExpansionPanelTitleProps()},setup(e,t){let{slots:r}=t;const i=inject$1(VExpansionPanelSymbol);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:l}=useBackgroundColor(e,"color"),c=computed(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return useRender(()=>withDirectives(createVNode("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value},a.value],style:l.value,type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[createVNode("span",{class:"v-expansion-panel-title__overlay"},null),r.default?.(c.value),!e.hideActions&&createVNode("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(c.value):createVNode(VIcon,{icon:i.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[resolveDirective("ripple"),e.ripple]])),{}}}),VExpansionPanelText=genericComponent()({name:"VExpansionPanelText",props:{...makeLazyProps()},setup(e,t){let{slots:r}=t;const i=inject$1(VExpansionPanelSymbol);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:l}=useLazy(e,i.isSelected);return useRender(()=>createVNode(VExpandTransition,{onAfterLeave:l},{default:()=>[withDirectives(createVNode("div",{class:"v-expansion-panel-text"},[r.default&&a.value&&createVNode("div",{class:"v-expansion-panel-text__wrapper"},[r.default?.()])]),[[vShow,i.isSelected.value]])]})),{}}}),VExpansionPanel=genericComponent()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeLazyProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps()},emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const i=useGroupItem(e,VExpansionPanelSymbol),{backgroundColorClasses:a,backgroundColorStyles:l}=useBackgroundColor(e,"bgColor"),{elevationClasses:c}=useElevation(e),{roundedClasses:d}=useRounded(e),E=computed(()=>i?.disabled.value||e.disabled),C=computed(()=>i.group.items.value.reduce((A,S,L)=>(i.group.selected.value.includes(S.id)&&A.push(L),A),[])),D=computed(()=>{const A=i.group.items.value.findIndex(S=>S.id===i.id);return!i.isSelected.value&&C.value.some(S=>S-A===1)}),f=computed(()=>{const A=i.group.items.value.findIndex(S=>S.id===i.id);return!i.isSelected.value&&C.value.some(S=>S-A===-1)});return provide(VExpansionPanelSymbol,i),useRender(()=>{const A=!!(r.text||e.text),S=!!(r.title||e.title);return createVNode(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":D.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":E.value},d.value,a.value],style:l.value,"aria-expanded":i.isSelected.value},{default:()=>[createVNode("div",{class:["v-expansion-panel__shadow",...c.value]},null),S&&createVNode(VExpansionPanelTitle,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[r.title?r.title():e.title]}),A&&createVNode(VExpansionPanelText,{key:"text",eager:e.eager},{default:()=>[r.text?r.text():e.text]}),r.default?.()]})}),{}}}),_hoisted_1={class:"ml-4"},_hoisted_2={class:"w-100"},_hoisted_3={class:"w-100"},_hoisted_4={key:0,class:"w-100"},_hoisted_5={class:"text-left pa-1 w-50 disabled"},_hoisted_6={class:"text-left pa-1 w-50 disabled"},_hoisted_7={class:"w-100"},_hoisted_8=["for"],_hoisted_9={class:"pa-1 w-50"},_hoisted_10=["type","onUpdate:modelValue","disabled","id"],_sfc_main$3=defineComponent$1({__name:"RightDrawer",setup(e){const t=[{name:"\u57FA\u7840",isShow:!0,tableHeader:["\u540D\u79F0","\u76F4\u7EBF"],table:[{key:"\u989C\u8272",type:"color",prop:{index:-1}},{key:"\u56FE\u5C42",type:"v-select",prop:{data:[0,1,2]}},{key:"\u7EBF\u578B",type:"lineTypeSelect",prop:{index:0}},{key:"\u7EBF\u578B\u6BD4\u4F8B",type:"input",prop:{type:"number",value:1.001,border:!1,step:"0.005",inputStyle:{width:"100%"}}},{key:"\u6CD5\u5411\u5750\u6807",type:"input",prop:{type:"text",value:"(0,0,1)",border:!1,disabled:!0,inputStyle:{width:"100%"}}},{key:"\u5176\u4ED6\u4FE1\u606F",type:"input",prop:{type:"text",value:"{id:1231231231231231123123}",border:!1,disabled:!0,inputStyle:{width:"100%",whiteSpace:"nowrap !important",overflow:"hidden !important",textOverflow:"ellipsis !important"}}},{key:"\u7EBF\u5BBD",type:"LineWidthSelect",prop:{index:0}}]},{name:"\u66F2\u7EBF\u53C2\u6570",isShow:!1,tableHeader:[],table:[{key:"\u957F\u5EA6",type:"input",prop:{type:"text",value:"204.555",border:!1,disabled:!0,inputStyle:{width:"100%"}}},{key:"\u9762\u79EF",type:"input",prop:{type:"text",value:"0.000",border:!1,disabled:!0,inputStyle:{width:"100%"}}}]},{name:"\u51E0\u4F55\u56FE\u5F62",isShow:!1,tableHeader:[],table:[{key:"\u5F00\u59CB\u70B9X",type:"input",prop:{type:"number",value:"19.000",border:!1,inputStyle:{width:"100%"},pattern:"^(-?\\d+)(\\.\\d+)?$",title:"\u5F00\u59CB\u70B9X\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u5F00\u59CB\u70B9Y",type:"input",prop:{type:"number",value:"190.000",border:!1,inputStyle:{width:"100%"},pattern:"^(-?\\d+)(\\.\\d+)?$",title:"\u5F00\u59CB\u70B9Y\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u5F00\u59CB\u70B9Z",type:"input",prop:{type:"number",value:"0.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u5F00\u59CB\u70B9Z\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9X",type:"input",prop:{type:"text",value:"128.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9X\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9Y",type:"input",prop:{type:"text",value:"28.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9Y\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u7ED3\u675F\u70B9Z",type:"input",prop:{type:"text",value:"0.000",border:!1,inputStyle:{width:"100%"},pattern:new String("^(-?\\d+)(\\.\\d+)?$"),title:"\u7ED3\u675F\u70B9Z\u5E94\u8BE5\u662F\u6570\u5B57,\u8BF7\u91CD\u65B0\u8F93\u5165"}},{key:"\u589E\u91CFX",type:"input",prop:{type:"text",value:"149.000",border:!1,disabled:!0}},{key:"\u589E\u91CFY",type:"input",prop:{type:"text",value:"140.000",border:!1,disabled:!0}},{key:"\u589E\u91CFZ",type:"input",prop:{type:"text",value:"0.000",disabled:!0,border:!1}},{key:"\u89D2\u5EA6",type:"input",prop:{type:"text",value:"361.000",border:!1,disabled:!0}}]}],r=ref([1,2,3]),i=ref("\u5168\u90E8"),a=ref();return addCommand("Mx_Properties",()=>a.value?.handleOpen()),(l,c)=>(openBlock(),createBlock(Drawer$1,{location:"right",title:"\u7279\u6027",ref_key:"rightDrawer",ref:a},{default:withCtx(()=>[createVNode(VSelect,{items:["\u5168\u90E8"],modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),"bg-color":"transition",class:"mt-2 mb-2 border"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_1,[createVNode(VExpansionPanels,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=d=>r.value=d),variant:"accordion",multiple:"",class:"w-100"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(t,(d,E)=>createVNode(VExpansionPanel,{key:E+d.name,class:"item"},{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{"expand-icon":"mdi:mdi-menu-down","collapse-icon":"mdi:mdi-menu-up",class:"bg-background"},{default:withCtx(()=>[createTextVNode(toDisplayString(d.name),1)]),_:2},1024),createVNode(VExpansionPanelText,{eager:"",class:"ml-2"},{default:withCtx(()=>[createBaseVNode("table",_hoisted_2,[createBaseVNode("thead",_hoisted_3,[d.tableHeader.length!==0?(openBlock(),createElementBlock("tr",_hoisted_4,[createBaseVNode("th",_hoisted_5,toDisplayString(d.tableHeader[0]),1),createBaseVNode("th",_hoisted_6,toDisplayString(d.tableHeader[1]),1)])):createCommentVNode("v-if",!0)]),createBaseVNode("tbody",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.table,(C,D)=>(openBlock(),createElementBlock("tr",{key:C.key+D,class:"w-100"},[createBaseVNode("td",{class:normalizeClass(["pa-1 w-50",C.prop.disabled?"disabled":""])},[createBaseVNode("label",{class:"w-100",for:C.key},toDisplayString(C.key),9,_hoisted_8)],2),createBaseVNode("td",_hoisted_9,[withDirectives(createBaseVNode("input",{class:"w-100",type:C.prop.type,"onUpdate:modelValue":f=>C.prop.value=f,disabled:C.prop.disabled,id:C.key},null,8,_hoisted_10),[[vModelDynamic,C.prop.value]])])]))),128))])])]),_:2},1024)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),_:1},512))}}),RightDrawer_vue_vue_type_style_index_0_lang="",RightDrawer_vue_vue_type_style_index_1_scoped_b609ee10_lang="",RightDrawer=_export_sfc(_sfc_main$3,[["__scopeId","data-v-b609ee10"],["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/RightDrawer.vue"]]),_sfc_main$2=defineComponent$1({__name:"index",setup(e){return(t,r)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(LeftDrawer),createVNode(RightDrawer)],64))}}),Drawer=_export_sfc(_sfc_main$2,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/Drawer/index.vue"]]),scriptRel="modulepreload",assetsURL=function(e,t){return new URL(e,t).href},seen={},__vitePreload=function e(t,r,i){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(l=>{if(l=assetsURL(l,i),l in seen)return;seen[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!i)for(let D=a.length-1;D>=0;D--){const f=a[D];if(f.href===l&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const C=document.createElement("link");if(C.rel=c?"stylesheet":scriptRel,c||(C.as="script",C.crossOrigin=""),C.href=l,document.head.appendChild(C),c)return new Promise((D,f)=>{C.addEventListener("load",D),C.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())},requireModules=Object.assign({"./AboutDialog/index.vue":()=>__vitePreload(()=>import("./index.9ea37892.js"),["./index.9ea37892.js","./index.4bc1f7b9.js","./index.bf79da37.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./index.fdedb59d.css"],import.meta.url),"./ArrayDialog/index.vue":()=>__vitePreload(()=>import("./index.b108b353.js"),["./index.b108b353.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.357bfb6b.js","./MxGetPointBtn.2f9b5d35.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./index.21b67efc.css"],import.meta.url),"./AttachPictureDialog/index.vue":()=>__vitePreload(()=>import("./index.cd1bed10.js"),["./index.cd1bed10.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.ccdc0544.js","./VAutocomplete.3db23aac.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css"],import.meta.url),"./CADToPDFDialog/index.vue":()=>__vitePreload(()=>import("./index.8f9ca5ac.js"),["./index.8f9ca5ac.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css"],import.meta.url),"./ColorSelectDialog/index.vue":()=>__vitePreload(()=>import("./index.08a8b8a9.js"),["./index.08a8b8a9.js","./index.4bc1f7b9.js","./index.bf79da37.css","./index.691a06b3.js","./index.3408c9ae.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./math.58b544d2.js","./VSlider.ecad6653.js","./VSlider.70bd7a7a.css","./index.be091902.css"],import.meta.url),"./CreateBlocksDialog/index.vue":()=>__vitePreload(()=>import("./index.8b62548b.js"),["./index.8b62548b.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.357bfb6b.js","./MxGetPointBtn.2f9b5d35.css","./VAutocomplete.ccdc0544.js","./VAutocomplete.3db23aac.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./index.8a2f256a.css"],import.meta.url),"./DWGCutDialog/index.vue":()=>__vitePreload(()=>import("./index.a893b2c2.js"),["./index.a893b2c2.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.ccdc0544.js","./VAutocomplete.3db23aac.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./index.e174ff80.css"],import.meta.url),"./DimensionStyleManagerDialog/index.vue":()=>__vitePreload(()=>import("./index.81e77e84.js"),["./index.81e77e84.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCol.7ca72c30.js","./index.f47f1172.css"],import.meta.url),"./DraftingSettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.db22c710.js"),["./index.db22c710.js","./index.4bc1f7b9.js","./index.bf79da37.css","./index.691a06b3.js","./index.3408c9ae.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCol.7ca72c30.js"],import.meta.url),"./InsertDialog/index.vue":()=>__vitePreload(()=>import("./index.4439f35c.js"),["./index.4439f35c.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.ccdc0544.js","./VAutocomplete.3db23aac.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css"],import.meta.url),"./LayerManagementDialog/index.vue":()=>__vitePreload(()=>import("./index.6f379dab.js"),["./index.6f379dab.js","./index.4bc1f7b9.js","./index.bf79da37.css","./math.58b544d2.js","./VTable.5f7c8aac.js","./VTable.026c2777.css","./index.ba46a858.css"],import.meta.url),"./LineWeightSettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.3bb86698.js"),["./index.3bb86698.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VSlider.ecad6653.js","./VSlider.70bd7a7a.css","./index.ae6b9b03.css"],import.meta.url),"./LinearManagerDialog/index.vue":()=>__vitePreload(()=>import("./index.03bfff54.js"),["./index.03bfff54.js","./index.4bc1f7b9.js","./index.bf79da37.css","./VTable.5f7c8aac.js","./VTable.026c2777.css","./index.b308856f.css"],import.meta.url),"./ModifyDimensionStylesDialog/index.vue":()=>__vitePreload(()=>import("./index.fc3ead1a.js"),["./index.fc3ead1a.js","./index.4bc1f7b9.js","./index.bf79da37.css","./index.691a06b3.js","./index.3408c9ae.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCol.7ca72c30.js","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./index.0a20bb04.css"],import.meta.url),"./MultilineTextDialog/index.vue":()=>__vitePreload(()=>import("./index.7ccc947e.js"),["./index.7ccc947e.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./index.31016aaf.css"],import.meta.url),"./PatternFillingDialog/index.vue":()=>__vitePreload(()=>import("./index.092a125a.js"),["./index.092a125a.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./MxGetPointBtn.357bfb6b.js","./MxGetPointBtn.2f9b5d35.css","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCol.7ca72c30.js"],import.meta.url),"./PointStyleDialog/index.vue":()=>__vitePreload(()=>import("./index.177fc2a0.js"),["./index.177fc2a0.js","./index.4bc1f7b9.js","./index.bf79da37.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./index.50a2ca63.css"],import.meta.url),"./PopupDialog/index.vue":()=>__vitePreload(()=>import("./index.d1cb332b.js"),["./index.d1cb332b.js","./index.4bc1f7b9.js","./index.bf79da37.css","./popup.80154f04.js"],import.meta.url),"./QuickSelectionDialog/index.vue":()=>__vitePreload(()=>import("./index.c49c30b0.js"),["./index.c49c30b0.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./index.6f3650f9.css"],import.meta.url),"./SetUpDialog/index.vue":()=>__vitePreload(()=>import("./index.c1b2ed0a.js"),["./index.c1b2ed0a.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./VSlider.ecad6653.js","./VSlider.70bd7a7a.css","./index.30dea8e8.css"],import.meta.url),"./ShortcutKeySettingsDialog/index.vue":()=>__vitePreload(()=>import("./index.b2b59cee.js"),["./index.b2b59cee.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VCol.7ca72c30.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VTable.5f7c8aac.js","./VTable.026c2777.css","./index.65981c7c.css"],import.meta.url),"./SingleLineTextDialog/index.vue":()=>__vitePreload(()=>import("./index.e5a5a0d5.js"),["./index.e5a5a0d5.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css"],import.meta.url),"./TextFindDialog/index.vue":()=>__vitePreload(()=>import("./index.df5486f6.js"),["./index.df5486f6.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./VAutocomplete.ccdc0544.js","./VAutocomplete.3db23aac.css","./VRadioGroup.75d438cc.js","./VRadioGroup.d9c771a1.css","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./index.d12aecf2.css"],import.meta.url),"./TextStyleDialog/index.vue":()=>__vitePreload(()=>import("./index.6057cd12.js"),["./index.6057cd12.js","./index.4bc1f7b9.js","./index.bf79da37.css","./MxFieldset.e7a6f4c8.js","./MxFieldset.9aaca3fc.css","./popup.80154f04.js","./VRow.dbe6d3b9.js","./VRow.37f80755.css","./VCol.7ca72c30.js","./VCheckbox.673e3cfb.js","./VCheckbox.1ea139e1.css","./index.374694c0.css"],import.meta.url)});let components=[];for(const e in requireModules){const t=requireModules[e];components.push(defineAsyncComponent(t))}const _sfc_main$1=defineComponent$1({__name:"index",setup(e){const{isShow:t,abort:r,hideLoading:i}=useLoadingData(),a=()=>{i(),r.value&&(r.value(),r.value=void 0)};return(l,c)=>(openBlock(),createBlock(VOverlay,{modelValue:unref(t),"onUpdate:modelValue":c[0]||(c[0]=d=>isRef(t)?t.value=d:null),absolute:"","z-index":99999,class:"align-center justify-center",persistent:""},{default:withCtx(()=>[createVNode(VProgressCircular,{indeterminate:"",size:"64",color:"primary"}),withDirectives(createVNode(VBtn,{onClick:a},{default:withCtx(()=>[createTextVNode("\u505C\u6B62")]),_:1},512),[[vShow,unref(r)]])]),_:1},8,["modelValue"]))}}),MxLoading=_export_sfc(_sfc_main$1,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/view/MxLoading/index.vue"]]),VLayout$1="",VLayout=genericComponent()({name:"VLayout",props:makeLayoutProps(),setup(e,t){let{slots:r}=t;const{layoutClasses:i,layoutStyles:a,getLayoutItem:l,items:c,layoutRef:d}=createLayout(e);return useRender(()=>createVNode("div",{ref:d,class:i.value,style:a.value},[r.default?.()])),{getLayoutItem:l,items:c}}}),_sfc_main=defineComponent$1({__name:"App",setup(e){return(t,r)=>(openBlock(),createBlock(VLayout,null,{default:withCtx(()=>[createVNode(Header),createVNode(Drawer),createVNode(Main),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(components),i=>(openBlock(),createBlock(resolveDynamicComponent(i)))),256)),createVNode(Footer),createVNode(MxLoading)]),_:1}))}}),App=_export_sfc(_sfc_main,[["__file","D:/web/MxCADOnline/Sample/Edit/MxCADAppVuetify3/src/App.vue"]]),materialdesignicons="",main="";function propsFactory(e,t){return r=>Object.keys(e).reduce((i,a)=>{const c=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return r&&a in r?i[a]={...c,default:r[a]}:i[a]=c,t&&!i[a].source&&(i[a].source=t),i},{})}const IconValue=[String,Function,Object],makeIconProps=propsFactory({icon:{type:IconValue},tag:{type:String,required:!0},fill:{type:String}},"icon"),MxAliSymbolIcon=defineComponent$1({name:"MxAliSymbolIcon",inheritAttrs:!1,props:makeIconProps(),setup(e,{attrs:t}){const{style:r,...i}=t;return r.fill=e.fill,()=>h(e.tag,{style:r,...i},[h("svg",{role:"img","aria-hidden":!0,class:"ali-icon"},[h("use",{"xlink:href":"#"+e.icon})])])}}),getMxAliSymbolIconHTML=e=>`<svg role="img" aria-hidden=true class="ali-icon">
        <use xlink:href="#${e}"/>
        </svg>`,aliases={},aliSymbol={component:MxAliSymbolIcon},vuetify=createVuetify({defaults:{VSelect:{density:"compact",variant:"solo",hideDetails:!0,menuIcon:"mdi:mdi-menu-down",menuProps:{maxHeight:400}},VMenu:{maxHeight:800},VList:{dense:!0,light:!0,nav:!0},VListItem:{minHeight:"25px",density:"compact",link:!0,rounded:0},VTextField:{density:"compact",variant:"solo",hideDetails:!0,inline:!0,bgColor:"grey-lighten-2"},VAutocomplete:{density:"compact",variant:"solo",hideDetails:!0,menuIcon:"mdi:mdi-menu-down",bgColor:"grey-lighten-2"},VBtn:{size:"small",variant:"outlined"},VCheckbox:{density:"compact",hideDetails:!0,trueIcon:"mdi:mdi-checkbox-marked",falseIcon:"mdi:mdi-checkbox-blank-outline"},VRadio:{density:"compact",trueIcon:"mdi:mdi-radiobox-marked",falseIcon:"mdi:mdi-radiobox-blank"},VRadioGroup:{trueIcon:"mdi:mdi-radiobox-marked",falseIcon:"mdi:mdi-radiobox-blank",inline:!0,hideDetails:!0},VRow:{alignContent:"center",justify:"center",dense:!0},VCol:{cols:12,alignSelf:"center"},VTabs:{density:"compact",hideSlider:!0},VTable:{density:"density",fixedHeader:!0,hover:!0},VAlert:{closable:!0,closeIcon:"mdi:mdi-close",closeLabel:"\u5173\u95ED",density:"compact"}},icons:{defaultSet:"aliSymbol",aliases:{...aliases},sets:{aliSymbol}},theme:{defaultTheme:"dark",themes:{light:{colors:{surface:"#FFFFFF",background:"#E0E0E0",accent:"#545555",prominent:"#FFFFFF",modification:"#FFFFFF",transition:"#EFEFEF",undertint:"#3A4352",depth:"#D3D1D1","on-undertint-bg":"#000","undertint-bg":"#CDCDCD","depth-bg":"#EBE9E9",inverse:"#000000",inverse1:"#FFFFFF"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":1,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.2,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.1,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{colors:{surface:"#212832",background:"#212832",accent:"#545555",prominent:"#3A4352",modification:"#1E252F",transition:"#5D6675",undertint:"#AEABAB","on-undertint":"#fff",depth:"#5D6675","on-depth":"#fff","undertint-bg":"#2E3440","depth-bg":"#454F61",inverse:"#FFFFFF",inverse1:"#000000"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":1,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.2,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.1,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}),vuetify$1={install(e){e.use(vuetify)}};function registerPlugins(e){e.use(createPinia()),e.use(vuetify$1),e.use(mouseMenu)}window._iconfont_svg_string_3973422='<svg shape-rendering="geometricPrecision"><symbol id="charukuai1" viewBox="0 0 1024 1024"><path d="M485 697.6c0 2.1 0 4.3 0.1 6.4H383v-12.5h102.1c-0.1 2-0.1 4.1-0.1 6.1zM960 162.5V704h-50.1c0.1-2.1 0.1-4.3 0.1-6.4 0-117.2-95.3-212.5-212.5-212.5-2 0-4 0-6 0.1V216.5H383V64h448l129 98.5z" fill="currentColor" ></path><path d="M115.5 191.5v525h601v-525h-601z m25 25h551v475h-551v-475z" fill="#178FE6" ></path><path d="M64 668h100v100H64V668z" fill="#178FE6" ></path><path d="M865.4 529.7c-44.9-44.9-104.5-69.6-167.9-69.6-2 0-4 0-6 0.1-61.2 1.5-118.5 26-161.9 69.5-43.4 43.4-68 100.7-69.5 161.8 0 2-0.1 4.1-0.1 6.1 0 2.1 0 4.3 0.1 6.4 1.6 61 26.1 118.2 69.5 161.5 44.9 44.9 104.5 69.6 167.9 69.6s123.1-24.7 167.9-69.6c43.3-43.3 67.9-100.5 69.5-161.5 0-2.1 0.1-4.3 0.1-6.4 0-63.4-24.7-123.1-69.6-167.9zM697.5 910.1c-115 0-209-91.9-212.4-206.1-0.1-2.1-0.1-4.3-0.1-6.4 0-2 0-4.1 0.1-6.1 3.2-112.4 94-203.2 206.4-206.3 2-0.1 4-0.1 6-0.1 117.2 0 212.5 95.3 212.5 212.5 0 2.1 0 4.3-0.1 6.4-3.4 114.2-97.4 206.1-212.4 206.1z" fill="#178FE6" ></path><path d="M960 780v180H780" fill="currentColor" ></path></symbol><symbol id="shunshizhenxuanzhuan90du" viewBox="0 0 1024 1024"><path d="M897.4 410.5c13.8 0 25 11.2 25 25v476c0 13.8-11.2 25-25 25h-540c-13.8 0-25-11.2-25-25v-476c0-13.8 11.2-25 25-25h540m0-25h-540c-27.6 0-50 22.4-50 50v476c0 27.6 22.4 50 50 50h540c27.6 0 50-22.4 50-50v-476c0-27.6-22.4-50-50-50z" fill="currentColor" ></path><path d="M65.6 580.6h-0.8c-6.9-0.4-12.1-6.4-11.7-13.3 6.7-107.1 52.2-208.2 128.1-284.6 75.8-76.3 176.5-122.4 283.6-129.9 6.9-0.5 12.9 4.7 13.3 11.6 0.5 6.9-4.7 12.9-11.6 13.3C258 192.3 91.1 360.4 78 568.9c-0.4 6.6-5.9 11.7-12.4 11.7z" fill="#178FE6" ></path><path d="M614.4 182.7l-140.9 81.4c-13.3 7.7-30-1.9-30-17.3V84c0-15.4 16.7-25 30-17.3l140.9 81.4c13.3 7.7 13.3 26.9 0 34.6z" fill="#178FE6" ></path><path d="M473.5 772.6c17.2-28.9 31.2-55.1 42.2-78.5-19.5 3.1-35.7 0.6-48.6-7.6s-20.7-19.3-23.4-33.4c-2.7-14.1-2.5-26.8 0.6-38.1s8-20.7 14.6-28.1c6.6-7.4 14.6-12.7 24-15.8 9.4-3.1 17.8-4.7 25.2-4.7 7.4 0 15 1.6 22.9 4.7 7.8 3.1 14.8 7.8 21.1 14.1 6.2 6.3 10.5 12.7 12.9 19.3 2.3 6.6 3.5 15.2 3.5 25.8s-3.9 24-11.7 40.4c-7.8 16.4-27 50.4-57.4 102h-25.9zM467 641.4c1.2 10.2 5.5 18.6 12.9 25.2 7.4 6.6 15.4 9.6 24 8.8 8.6-0.8 15.4-3.1 20.5-7s10-10.5 14.6-19.9c3.1-11.7 3.9-21.7 2.3-29.9s-5.7-15-12.3-20.5c-6.6-5.5-13.9-8.2-21.7-8.2-4.7-0.8-10.7 0.4-18.2 3.5-7.4 3.1-13.3 9.4-17.6 18.8-4.1 9.2-5.6 19-4.5 29.2zM596.5 657.2c0.8-20.7 3.7-37.1 8.8-49.2 5.1-12.1 12.3-22.1 21.7-29.9 9.4-7.8 20.9-11.7 34.6-11.7 13.7 0 25.6 5.7 35.7 17 10.1 11.3 16.8 25.6 19.9 42.8 3.1 17.2 4.1 36.9 2.9 59.2s-5.1 40.4-11.7 54.5c-6.6 14.1-16.6 23.8-29.9 29.3-13.3 5.5-26.6 4.9-39.8-1.8-13.3-6.6-22.7-15.4-28.1-26.4-5.5-10.9-9.4-22.4-11.7-34.6-2.4-12.1-3.2-28.5-2.4-49.2z m24.6-7c-2.3 21.5-1.6 40.6 2.3 57.4 3.9 16.8 10.3 28.7 19.3 35.7 9 7 18.2 8.4 27.5 4.1 9.4-4.3 16.2-12.9 20.5-25.8 4.3-12.9 6.4-27 6.4-42.2s-0.6-29.1-1.8-41.6c-1.2-12.5-4.7-23.8-10.5-34-5.9-10.1-13.7-15.4-23.4-15.8-9.8-0.4-18.4 4.5-25.8 14.6-7.3 10.3-12.1 26.1-14.5 47.6zM806.9 625c-9.8-0.8-17.6-4.3-23.4-10.5-5.9-6.2-8.6-14.1-8.2-23.4 0.4-9.4 2.9-16.6 7.6-21.7 4.7-5.1 10.5-8.6 17.6-10.5 7-1.9 13.9-2.1 20.5-0.6 6.6 1.6 12.3 5.7 17 12.3 4.7 6.6 6.4 15.1 5.3 25.2-1.2 10.2-5.1 17.8-11.7 22.9-6.8 4.9-15 7-24.7 6.3z m-19.4-36.4c-0.8 5.5 0.2 10.5 2.9 15.2 2.7 4.7 7.8 7.6 15.2 8.8 7.4 1.2 13.5-0.4 18.2-4.7 4.7-4.3 7-10.1 7-17.6 0-7.4-2.3-13.1-7-17-4.7-3.9-9.8-5.5-15.2-4.7-5.5 0.8-10.2 2.9-14.1 6.4-3.9 3.7-6.2 8.2-7 13.6z" fill="currentColor" ></path></symbol><symbol id="gaojigongju" viewBox="0 0 1024 1024"><path d="M760 585c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7 0 3.8-0.1 7.5-0.4 11.3l-85-85-17.9-17.9-17.7 18-125.5 128-17 17.6 17.1 17.5 83.4 85.1c-4 0.3-8 0.4-12.1 0.4-46.7 0-90.7-18.2-123.7-51.3-33.1-33.1-51.3-77-51.3-123.7s18.2-90.7 51.3-123.7C669.3 603.2 713.3 585 760 585m0-25c-110.5 0-200 89.5-200 200s89.5 200 200 200c21.8 0 42.7-3.5 62.3-9.9L706.5 832 832 704l118.2 118.2c6.4-19.6 9.8-40.5 9.8-62.2 0-110.5-89.5-200-200-200zM264 89c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7c-33.1 33.1-77 51.3-123.7 51.3s-90.7-18.2-123.7-51.3c-33.1-33-51.3-77-51.3-123.7 0-3.8 0.1-7.5 0.4-11.3l85 85 17.9 17.9 17.7-18 125.4-128 17.1-17.5-17.1-17.5L252 89.5c3.9-0.4 8-0.5 12-0.5m0-25c-21.8 0-42.7 3.5-62.3 9.9L317.5 192 192 320 73.8 201.8C67.4 221.4 64 242.3 64 264c0 110.5 89.5 200 200 200s200-89.5 200-200S374.5 64 264 64z" fill="currentColor" ></path><path d="M308.535 454.187l17.678-17.678L584.87 695.166l-17.678 17.678zM437.858 324.899l17.677-17.678 258.657 258.657-17.677 17.678z" fill="currentColor" ></path></symbol><symbol id="nishizhenxuanzhuan90du" viewBox="0 0 1024 1024"><path d="M655.5 410.5c13.8 0 25 11.2 25 25v476c0 13.8-11.2 25-25 25h-540c-13.8 0-25-11.2-25-25v-476c0-13.8 11.2-25 25-25h540m0-25h-540c-27.6 0-50 22.4-50 50v476c0 27.6 22.4 50 50 50h540c27.6 0 50-22.4 50-50v-476c0-27.6-22.3-50-50-50z" fill="currentColor" ></path><path d="M947.4 580.6c-6.5 0-12-5.1-12.5-11.7-13.1-208.5-180-376.6-388.4-391-6.9-0.5-12.1-6.4-11.6-13.3s6.4-12.1 13.3-11.6c107 7.4 207.7 53.5 283.6 129.9 75.9 76.4 121.3 177.4 128.1 284.6 0.4 6.9-4.8 12.8-11.7 13.3-0.3-0.2-0.5-0.2-0.8-0.2z" fill="#178FE6" ></path><path d="M398.6 182.7l140.9 81.4c13.3 7.7 30-1.9 30-17.3V84c0-15.4-16.7-25-30-17.3l-140.9 81.4c-13.3 7.7-13.3 26.9 0 34.6z" fill="#178FE6" ></path><path d="M215.6 772.6c17.2-28.9 31.2-55.1 42.2-78.5-19.5 3.1-35.7 0.6-48.6-7.6s-20.7-19.3-23.4-33.4c-2.7-14.1-2.5-26.8 0.6-38.1s8-20.7 14.6-28.1c6.6-7.4 14.6-12.7 24-15.8 9.4-3.1 17.8-4.7 25.2-4.7 7.4 0 15 1.6 22.9 4.7 7.8 3.1 14.8 7.8 21.1 14.1 6.2 6.3 10.5 12.7 12.9 19.3 2.3 6.6 3.5 15.2 3.5 25.8s-3.9 24-11.7 40.4c-7.8 16.4-27 50.4-57.4 102h-25.9z m-6.5-131.2c1.2 10.2 5.5 18.6 12.9 25.2 7.4 6.6 15.4 9.6 24 8.8 8.6-0.8 15.4-3.1 20.5-7s10-10.5 14.6-19.9c3.1-11.7 3.9-21.7 2.3-29.9s-5.7-15-12.3-20.5c-6.6-5.5-13.9-8.2-21.7-8.2-4.7-0.8-10.7 0.4-18.2 3.5-7.4 3.1-13.3 9.4-17.6 18.8-4.1 9.2-5.7 19-4.5 29.2zM338.6 657.2c0.8-20.7 3.7-37.1 8.8-49.2 5.1-12.1 12.3-22.1 21.7-29.9 9.4-7.8 20.9-11.7 34.6-11.7 13.7 0 25.6 5.7 35.7 17 10.1 11.3 16.8 25.6 19.9 42.8 3.1 17.2 4.1 36.9 2.9 59.2s-5.1 40.4-11.7 54.5c-6.6 14.1-16.6 23.8-29.9 29.3-13.3 5.5-26.6 4.9-39.8-1.8-13.3-6.6-22.7-15.4-28.1-26.4-5.5-10.9-9.4-22.4-11.7-34.6-2.4-12.1-3.2-28.5-2.4-49.2z m24.6-7c-2.3 21.5-1.6 40.6 2.3 57.4 3.9 16.8 10.3 28.7 19.3 35.7 9 7 18.2 8.4 27.5 4.1 9.4-4.3 16.2-12.9 20.5-25.8 4.3-12.9 6.4-27 6.4-42.2s-0.6-29.1-1.8-41.6c-1.2-12.5-4.7-23.8-10.5-34-5.9-10.1-13.7-15.4-23.4-15.8-9.8-0.4-18.4 4.5-25.8 14.6-7.3 10.3-12.1 26.1-14.5 47.6zM549 625c-9.8-0.8-17.6-4.3-23.4-10.5-5.9-6.2-8.6-14.1-8.2-23.4 0.4-9.4 2.9-16.6 7.6-21.7 4.7-5.1 10.5-8.6 17.6-10.5 7-1.9 13.9-2.1 20.5-0.6 6.6 1.6 12.3 5.7 17 12.3 4.7 6.6 6.4 15.1 5.3 25.2-1.2 10.2-5.1 17.8-11.7 22.9-6.8 4.9-15 7-24.7 6.3z m-19.4-36.4c-0.8 5.5 0.2 10.5 2.9 15.2 2.7 4.7 7.8 7.6 15.2 8.8 7.4 1.2 13.5-0.4 18.2-4.7 4.7-4.3 7-10.1 7-17.6 0-7.4-2.3-13.1-7-17-4.7-3.9-9.8-5.5-15.2-4.7-5.5 0.8-10.2 2.9-14.1 6.4-3.9 3.7-6.2 8.2-7 13.6z" fill="currentColor" ></path></symbol><symbol id="pizhu" viewBox="0 0 1024 1024"><path d="M652.5 921.4h-25V579.1L512 489.2l-115.5 89.9v342.3h-25V566.9L512 457.6l140.5 109.3z" fill="#178FE6" ></path><path d="M512 89c57.1 0 112.5 11.2 164.6 33.2 50.4 21.3 95.6 51.8 134.5 90.7 38.9 38.9 69.4 84.1 90.7 134.5 22 52.1 33.2 107.5 33.2 164.6s-11.2 112.5-33.2 164.6c-21.3 50.4-51.8 95.6-90.7 134.5-38.9 38.9-84.1 69.4-134.5 90.7-52.1 22-107.5 33.2-164.6 33.2s-112.5-11.2-164.6-33.2c-50.4-21.3-95.6-51.8-134.5-90.7-38.9-38.9-69.4-84.1-90.7-134.5C100.2 624.5 89 569.1 89 512s11.2-112.5 33.2-164.6c21.3-50.4 51.8-95.6 90.7-134.5s84.1-69.4 134.5-90.7C399.5 100.2 454.9 89 512 89m0-25C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z" fill="currentColor" ></path><path d="M384 652.9h256v25H384zM512 480c-0.8 0-1.6-0.1-2.3-0.2-3.9-0.7-96.6-18.9-130-74.1-12.8-21.1-15.3-44.6-7.6-69.9 8-26.2 21.7-41.1 41.8-45.4 16.7-3.5 34.5 0.9 53.4 5.7 36.1 9 70.1 17.6 98.2-27.3 15.7-25.1 19.9-46.6 12.4-64-12.1-28.2-53.4-42.1-68.2-45.1-6.8-1.4-11.1-8-9.8-14.7s8-11.2 14.7-9.8c2.7 0.5 66.5 13.9 86.3 59.7 10.9 25.4 6.2 54.7-14.1 87.2-37.7 60.3-88.5 47.6-125.5 38.3-38.5-9.6-54.5-12.2-65.1 22.7-5.6 18.4-3.9 34.7 5.1 49.6 27.7 45.8 112.4 62.3 113.3 62.4 6.8 1.3 11.2 7.8 10 14.6-1.5 6.1-6.7 10.3-12.6 10.3z" fill="#178FE6" ></path></symbol><symbol id="dakaidwg" viewBox="0 0 1024 1024"><path d="M908.8 424l-167 496H115.2l167-496h626.6m41.1-40H260.4c-4.2 0-8 2.9-9.5 7.3L64.7 944.8c-2.5 7.4 2.4 15.2 9.5 15.2h689.4c4.2 0 8-2.9 9.5-7.3l186.3-553.5c2.4-7.4-2.5-15.2-9.5-15.2z" fill="currentColor" ></path><path d="M84.6 960.1c-11 0-20-9-20-20V85.4c0-11 9-20 20-20h405.7c5 0 9.7 1.8 13.4 5.2l129.5 116.9H896c11 0 20 9 20 20v122.1c0 11-9 20-20 20s-20-9-20-20V227.5H625.5c-5 0-9.7-1.8-13.4-5.2L482.6 105.4h-378v834.7c0 11.1-8.9 20-20 20z" fill="currentColor" ></path><path d="M745.8 596h-384c-11 0-20-9-20-20s9-20 20-20h384c11 0 20 9 20 20s-8.9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="xinjian" viewBox="0 0 1024 1024"><path d="M512 812c-11 0-20-14.9-20-33.3V245.3c0-18.4 9-33.3 20-33.3s20 14.9 20 33.3v533.3c0 18.5-9 33.4-20 33.4z" fill="currentColor" ></path><path d="M860 104c33.1 0 60 26.9 60 60v696c0 33.1-26.9 60-60 60H361.4c-16 0-31.1-6.2-42.4-17.6L121.6 705c-11.3-11.3-17.6-26.4-17.6-42.4V164c0-33.1 26.9-60 60-60h696m0-40H164c-55.2 0-100 44.8-100 100v498.6c0 26.5 10.5 52 29.3 70.7l197.4 197.4a99.91 99.91 0 0 0 70.7 29.3H860c55.2 0 100-44.8 100-100V164c0-55.2-44.8-100-100-100z" fill="currentColor" ></path><path d="M212 512c0-11 14.9-20 33.3-20h533.3c18.4 0 33.3 9 33.3 20s-14.9 20-33.3 20H245.3c-18.4 0-33.3-9-33.3-20z" fill="currentColor" ></path></symbol><symbol id="baocun" viewBox="0 0 1024 1024"><path d="M860 104c33.1 0 60 26.9 60 60v696c0 33.1-26.9 60-60 60H164c-33.1 0-60-26.9-60-60V164c0-33.1 26.9-60 60-60h696m0-40H164c-55.2 0-100 44.8-100 100v696c0 55.2 44.8 100 100 100h696c55.2 0 100-44.8 100-100V164c0-55.2-44.8-100-100-100z" fill="currentColor" ></path><path d="M722 104v260c0 33.1-26.9 60-60 60H362c-33.1 0-60-26.9-60-60V104h420m40-40H262v300c0 55.2 44.8 100 100 100h300c55.2 0 100-44.8 100-100V64zM737 660H287c-11 0-20-9-20-20s9-20 20-20h450c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path><path d="M640 256m-40 0a40 40 0 1 0 80 0 40 40 0 1 0-80 0Z" fill="currentColor" ></path></symbol><symbol id="dayin" viewBox="0 0 1024 1024"><path d="M844.5 780.5h-45.9v-40h45.9c41.7 0 75.5-31.7 75.5-70.7V352.2c0-39-33.9-70.7-75.5-70.7h-665c-41.7 0-75.5 31.7-75.5 70.7v317.5c0 39 33.9 70.7 75.5 70.7h45.9v40h-45.9C115.8 780.5 64 730.8 64 669.8V352.2c0-61.1 51.8-110.7 115.5-110.7h664.9c63.7 0 115.5 49.7 115.5 110.7v317.5c0.1 61.1-51.7 110.8-115.4 110.8z" fill="currentColor" ></path><path d="M712 104c33.1 0 60 26.9 60 60v73.1H252V164c0-33.1 26.9-60 60-60h400m0-40H312c-55.2 0-100 44.8-100 100v113.1h600V164c0-55.2-44.8-100-100-100zM712 551c33.1 0 60 26.9 60 60v250c0 33.1-26.9 60-60 60H312c-33.1 0-60-26.9-60-60V611c0-33.1 26.9-60 60-60h400m0-40H312c-55.2 0-100 44.8-100 100v250c0 55.2 44.8 100 100 100h400c55.2 0 100-44.8 100-100V611c0-55.2-44.8-100-100-100zM832 404H576c-11 0-20-9-20-20s9-20 20-20h256c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="dakaiwodetuzhi" viewBox="0 0 1024 1024"><path d="M908.8 424l-167 496H115.2l167-496h626.6m41.1-40H260.4c-4.2 0-8 2.9-9.5 7.3L64.7 944.8c-2.5 7.4 2.4 15.2 9.5 15.2h689.4c4.2 0 8-2.9 9.5-7.3l186.3-553.5c2.4-7.4-2.5-15.2-9.5-15.2z" fill="currentColor" ></path><path d="M84.6 960.1c-11 0-20-9-20-20V85.4c0-11 9-20 20-20h405.7c5 0 9.7 1.8 13.4 5.2l129.5 116.9H896c11 0 20 9 20 20v122.1c0 11-9 20-20 20s-20-9-20-20V227.5H625.5c-5 0-9.7-1.8-13.4-5.2L482.6 105.4h-378v834.7c0 11.1-8.9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="shezhi" viewBox="0 0 1024 1024"><path d="M531 975h-38c-28.8 0-55.9-11.2-76.3-31.6C396.2 923 385 895.9 385 867c0-48.3-40.5-78.1-78.1-78.1-13.6 0-26.7 3.6-38.8 10.6-51.6 29.8-117.7 12-147.5-39.5l-19-33C92 710.6 87 692 87 673.1c0-38.5 20.7-74.4 54-93.6 24.4-14.1 39-39.3 39-67.5s-14.6-53.4-39-67.5c-25-14.4-42.8-37.7-50.3-65.6-7.5-27.9-3.6-57 10.8-81.9l19-33c19.2-33.3 55.1-54 93.6-54 18.9 0 37.5 5 53.9 14.5 12.2 7 25.2 10.6 38.9 10.6 37.6 0 78.1-29.9 78.1-78.1 0-59.5 48.4-108 108-108h38c28.8 0 55.9 11.2 76.3 31.6C627.8 101 639 128.1 639 157c0 48.3 40.5 78.1 78.1 78.1 13.6 0 26.7-3.6 38.8-10.6 51.6-29.8 117.7-12 147.5 39.5l19 33c9.5 16.4 14.5 35 14.5 53.9 0 38.5-20.7 74.4-54 93.6-24.4 14.1-39 39.3-39 67.5s14.6 53.4 39 67.5c25 14.4 42.8 37.7 50.3 65.6 7.5 27.9 3.6 57-10.8 81.9l-19 33c-19.2 33.3-55.1 54-93.6 54-18.9 0-37.5-5-53.9-14.5-12.2-7-25.2-10.6-38.9-10.6-37.6 0-78.1 29.9-78.1 78.1 0.1 59.6-48.3 108-107.9 108zM306.9 758.9c27.6 0 55 11.1 75.1 30.4 21.3 20.4 33 48 33 77.7 0 20.8 8.1 40.4 22.8 55.1 14.7 14.7 34.3 22.8 55.1 22.8H531c43 0 78-35 78-78 0-29.8 11.7-57.4 33-77.7 20.1-19.3 47.5-30.4 75.1-30.4 18.7 0 37.3 5.1 53.9 14.6 11.9 6.8 25.3 10.5 38.9 10.5 27.8 0 53.7-14.9 67.6-39l19-33c10.4-18 13.2-39.1 7.8-59.2-5.4-20.1-18.3-36.9-36.3-47.3-33.8-19.4-54-54.4-54-93.4s20.2-74 54-93.5c24.1-13.9 39-39.8 39-67.6 0-13.6-3.6-27.1-10.5-38.9l-19-33c-21.5-37.2-69.3-50-106.5-28.5-16.6 9.6-35.2 14.6-53.8 14.6-27.6 0-55-11.1-75.1-30.4-21.3-20.4-33-48-33-77.7 0-20.8-8.1-40.4-22.8-55.1C571.4 87.1 551.8 79 531 79h-38c-43 0-78 35-78 78 0 29.8-11.7 57.4-33 77.7-20.1 19.3-47.5 30.4-75.1 30.4-18.7 0-37.3-5.1-53.9-14.6-11.9-6.8-25.3-10.5-38.9-10.5-27.8 0-53.7 14.9-67.6 39l-19 33c-10.4 18-13.2 39.1-7.8 59.2 5.4 20.1 18.3 36.9 36.3 47.3 33.8 19.5 54 54.5 54 93.5s-20.2 74-54 93.5c-24.1 13.9-39 39.8-39 67.6 0 13.6 3.6 27.1 10.5 38.9l19 33c21.5 37.2 69.3 50 106.5 28.5 16.6-9.5 35.2-14.6 53.9-14.6zM512 677c-91 0-165-74-165-165s74-165 165-165 165 74 165 165-74 165-165 165z m0-300c-74.4 0-135 60.6-135 135s60.6 135 135 135 135-60.6 135-135-60.6-135-135-135z" fill="currentColor" ></path></symbol><symbol id="quanping" viewBox="0 0 1024 1024"><path d="M910 89c13.8 0 25 11.2 25 25v796c0 13.8-11.2 25-25 25H114c-13.8 0-25-11.2-25-25V114c0-13.8 11.2-25 25-25h796m0-25H114c-27.6 0-50 22.4-50 50v796c0 27.6 22.4 50 50 50h796c27.6 0 50-22.4 50-50V114c0-27.6-22.4-50-50-50z" fill="currentColor" ></path><path d="M819.4 417.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M819.4 217.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM204.6 831.9c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M404.6 831.9h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM607.3 429.2c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L616.1 425.6c-2.4 2.4-5.6 3.6-8.8 3.6z" fill="#178FE6" ></path><path d="M204.6 831.9c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L213.4 828.2c-2.4 2.5-5.6 3.7-8.8 3.7z" fill="#178FE6" ></path></symbol><symbol id="suofangshangyibu" viewBox="0 0 1024 1024"><path d="M600.4 345c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.4 64.9-20.1 99.4-20.1m0-25C445.5 320 320 445.5 320 600.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S755.2 320 600.4 320zM882.8 453.9c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M882.8 154.7h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM920 960c-10.2 0-20.5-3.9-28.3-11.7L778.6 835.2c-15.6-15.6-15.6-40.9 0-56.6s40.9-15.6 56.6 0l113.1 113.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.8-18.1 11.7-28.3 11.7zM140.7 893.2c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M440.7 896.3h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M239.1 138V78.2c0.1-5.3-2.7-10.2-7.4-12.6-4.7-2.4-10.4-2-14.6 1.1L70.3 168.4c-3.9 2.6-6.3 7-6.3 11.7 0 4.7 2.4 9.1 6.3 11.7L217 294.3c4.3 3 9.9 3.3 14.6 0.8 4.6-2.5 7.5-7.3 7.5-12.5v-36.8c0-3.9 1.6-7.5 4.4-10.2 2.8-2.7 6.6-4.1 10.4-3.9 80.8 7.4 147.6 65.8 165.7 144.9 11.7-52.5 0-107.5-32.1-150.7-32.1-43.2-81.4-70.2-135.1-74.1-7.4-0.3-13.3-6.4-13.3-13.8z m0 0" fill="#2884C7" ></path></symbol><symbol id="shishisuofang" viewBox="0 0 1024 1024"><path d="M476.9 889.6c-55.7 0-109.7-10.9-160.6-32.4-49.1-20.8-93.2-50.5-131.1-88.4-37.9-37.9-67.6-82-88.4-131.1-21.5-50.9-32.4-104.9-32.4-160.6s10.9-109.7 32.4-160.6c20.8-49.1 50.5-93.2 88.4-131.1 37.9-37.9 82-67.6 131.1-88.4 50.9-21.5 104.9-32.4 160.6-32.4 9.6 0 19.2 0.3 28.6 1 6.9 0.5 12.1 6.5 11.6 13.3s-6.5 12.1-13.3 11.6c-8.8-0.6-17.9-0.9-26.9-0.9-213.7 0-387.5 173.8-387.5 387.5s173.8 387.5 387.5 387.5c136.6 0 260.6-69.8 331.5-186.8 3.6-5.9 11.3-7.8 17.2-4.2 5.9 3.6 7.8 11.3 4.2 17.2-36.1 59.5-87.1 109.4-147.5 144.1-62.2 35.8-133.2 54.7-205.4 54.7z" fill="currentColor" ></path><path d="M947.4 264.1h-350c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h350c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M772.3 439.1c-6.9 0-12.5-5.6-12.5-12.5v-350c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v350c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M920.1 960c-10.2 0-20.5-3.9-28.3-11.7l-140-139.9c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l139.9 139.9c15.6 15.6 15.6 40.9 0 56.6-7.8 7.8-18 11.7-28.2 11.7z" fill="currentColor" ></path><path d="M947.3 543.7h-350c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h350c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path></symbol><symbol id="fanweisuofang" viewBox="0 0 1024 1024"><path d="M947.4 289.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 89.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M600.4 345c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.4 64.9-20.1 99.4-20.1m0-25C445.5 320 320 445.5 320 600.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S755.2 320 600.4 320zM920 960c-10.2 0-20.5-3.9-28.3-11.7L783.6 840.1c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l108.1 108.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.9-18.1 11.8-28.3 11.8z" fill="currentColor" ></path><path d="M76.5 959.9c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5S89 740.5 89 747.4v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M276.5 959.9h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM276.6 89.1h-200c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h200c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M76.6 289.1c-6.9 0-12.5-5.6-12.5-12.5v-200c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v200c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M288.8 301.2c-3.2 0-6.4-1.2-8.8-3.7L67.8 85.5c-4.9-4.9-4.9-12.8 0-17.7 4.9-4.9 12.8-4.9 17.7 0l212.1 212.1c4.9 4.9 4.9 12.8 0 17.7-2.4 2.4-5.6 3.6-8.8 3.6zM735.3 301.2c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L744.1 297.6c-2.4 2.4-5.6 3.6-8.8 3.6z" fill="#178FE6" ></path><path d="M76.5 959.9c-3.2 0-6.4-1.2-8.8-3.7-4.9-4.9-4.9-12.8 0-17.7l212.1-212.1c4.9-4.9 12.8-4.9 17.7 0 4.9 4.9 4.9 12.8 0 17.7L85.4 956.3c-2.5 2.4-5.7 3.6-8.9 3.6z" fill="#178FE6" ></path></symbol><symbol id="zhonghua" viewBox="0 0 1024 1024"><path d="M857.7 139.8l94.5 94.5c11.9 11.9 9.9 33-4.3 47.3L889.5 340c-14.2 14.2-35.4 16.2-47.3 4.3l-94.5-94.5c-11.9-11.9-9.9-33 4.3-47.3l58.4-58.4c14.3-14.3 35.4-16.2 47.3-4.3z" fill="#D81E06" ></path><path d="M729.6 267.9l94.5 94.5c11.9 11.9 6 37-13.2 56.2L420.4 809.1c-11.6 11.6-26 18.8-38.4 19.3l-98.1 3.6c-15 0.5-24.4-8.9-23.8-23.8l3.6-98.1c0.5-12.4 7.7-26.8 19.3-38.4l390.6-390.6c19-19.2 44.2-25.1 56-13.2z" fill="#FF9800" ></path><path d="M896 908.5H256c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h640c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="currentColor" ></path><path d="M181.4 908.8c-26 0-87.8-4.8-108.8-48.3-11-22.9-8.7-52.3 7.1-87.4 17.5-39 52.2-86.7 103.2-141.6 38.1-41 63.7-76 76.1-104 9.7-21.9 11.2-39.1 4.4-51-11.5-20.1-49.2-29.9-106.3-27.5-46.6 1.9-89.9 11.2-90.3 11.3-6.8 1.5-13.4-2.8-14.9-9.6-1.5-6.7 2.8-13.4 9.6-14.9 1.8-0.4 45.5-9.8 94.3-11.8 69-2.9 112.6 10.6 129.4 40.1 22.4 39.3-5 99.6-83.9 184.5-49.1 52.9-82.3 98.2-98.7 134.8-12.6 28.1-15.1 50.4-7.4 66.3 15.7 32.5 74.6 35.5 96 33.9 6.9-0.5 12.9 4.6 13.4 11.5s-4.6 12.9-11.5 13.4c-0.9 0-5.2 0.3-11.7 0.3z" fill="currentColor" ></path></symbol><symbol id="chuangkousuofang" viewBox="0 0 1024 1024"><path d="M947.4 389.1c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 89.1h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M492.4 237c34.5 0 67.9 6.7 99.4 20.1 30.4 12.9 57.7 31.3 81.2 54.7s41.9 50.8 54.7 81.2c13.3 31.5 20.1 64.9 20.1 99.4s-6.7 67.9-20.1 99.4c-12.9 30.4-31.3 57.7-54.7 81.2s-50.8 41.9-81.2 54.7c-31.5 13.3-64.9 20.1-99.4 20.1s-67.9-6.7-99.4-20.1c-30.4-12.9-57.7-31.3-81.2-54.7s-41.9-50.8-54.7-81.2c-13.3-31.5-20.1-64.9-20.1-99.4s6.7-67.9 20.1-99.4c12.9-30.4 31.3-57.7 54.7-81.2s50.8-41.9 81.2-54.7c31.4-13.3 64.9-20.1 99.4-20.1m0-25C337.5 212 212 337.5 212 492.4s125.5 280.4 280.4 280.4 280.4-125.5 280.4-280.4S647.2 212 492.4 212zM812 852c-10.2 0-20.5-3.9-28.3-11.7L675.6 732.1c-15.6-15.6-15.6-40.9 0-56.6 15.6-15.6 40.9-15.6 56.6 0l108.1 108.1c15.6 15.6 15.6 40.9 0 56.6-7.8 7.9-18.1 11.8-28.3 11.8z" fill="currentColor" ></path><path d="M76.5 956.8c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5S89 637.4 89 644.3v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M376.5 959.9h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5zM947.4 959.9h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M947.4 959.9c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5zM376.6 89.1h-300c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5h300c6.9 0 12.5 5.6 12.5 12.5s-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path><path d="M76.6 389.1c-6.9 0-12.5-5.6-12.5-12.5v-300c0-6.9 5.6-12.5 12.5-12.5s12.5 5.6 12.5 12.5v300c0 6.9-5.6 12.5-12.5 12.5z" fill="#178FE6" ></path></symbol><symbol id="youjianbianji" viewBox="0 0 1024 1024"><path d="M881.1 70l72.9 72.9c9.2 9.2 7.7 25.5-3.3 36.5l-45.1 45.1c-11 11-27.3 12.5-36.5 3.3l-72.9-72.9c-9.2-9.2-7.7-25.5 3.3-36.5l45.1-45.1c11-11 27.3-12.5 36.5-3.3zM782.3 168.8l72.9 72.9c9.2 9.2 4.6 28.5-10.2 43.3L543.7 586.4c-8.9 8.9-20.1 14.5-29.6 14.9l-75.7 2.8c-11.6 0.4-18.8-6.8-18.4-18.4l2.8-75.7c0.4-9.6 5.9-20.7 14.9-29.6L738.9 179c14.8-14.8 34.2-19.3 43.4-10.2z" fill="#178FE6" ></path><path d="M834.1 959.9h-700c-38.6 0-70-31.4-70-70v-700c0-38.6 31.4-70 70-70h398c11 0 20 9 20 20s-9 20-20 20h-398c-16.5 0-30 13.5-30 30v700c0 16.5 13.5 30 30 30h700c16.5 0 30-13.5 30-30v-398c0-11 9-20 20-20s20 9 20 20v398c0 38.6-31.4 70-70 70z" fill="currentColor" ></path></symbol><symbol id="youjianshanchu" viewBox="0 0 1040 1024"><path d="M765.886734 80.40238L943.59762 258.113266 452.238817 749.472068 274.527932 571.761183 765.886734 80.40238z m0 0" fill="#FF9800" ></path><path d="M159.920138 769.621808l94.458054 94.458054c23.000192 23.000192 61.923594 21.427529 86.987905-3.636783l88.757151-88.757151-177.809176-177.710885-88.757151 88.757151c-24.96602 24.96602-26.636974 63.889422-3.636783 86.889614z m0 0" fill="#D81E06" ></path><path d="M62.906508 858.870417h117.949702v39.316567H62.906508z" fill="#178FE6" ></path><path d="M452.140526 858.870417h491.457094v39.316567H452.140526z" fill="#178FE6" ></path></symbol><symbol id="youjianzhongmingming" viewBox="0 0 1024 1024"><path d="M881.1 427.7l72.9 72.9c9.2 9.2 7.7 25.5-3.3 36.5l-45.1 45.1c-11 11-27.3 12.5-36.5 3.3l-72.9-72.9c-9.2-9.2-7.7-25.5 3.3-36.5l45.1-45.1c11-11 27.3-12.4 36.5-3.3z" fill="#D81E06" ></path><path d="M782.3 526.5l72.9 72.9c9.2 9.2 4.6 28.5-10.2 43.3L543.7 944.1c-8.9 8.9-20.1 14.5-29.6 14.9l-75.7 2.8c-11.6 0.4-18.8-6.8-18.4-18.4l2.8-75.7c0.4-9.6 5.9-20.7 14.9-29.6L739 536.8c14.7-14.9 34.1-19.4 43.3-10.3z" fill="#FF9800" ></path><path d="M340.1 936.1h-206c-38.6 0-70-31.4-70-70v-732c0-38.6 31.4-70 70-70H517c13.9 0 27.3 4.1 38.8 11.8l157.1 104.8c19.5 13 31.2 34.8 31.2 58.2v229.2c0 11-9 20-20 20s-20-9-20-20V238.8c0-10.1-5-19.4-13.4-25L533.6 109.1c-4.9-3.3-10.7-5-16.6-5H134.1c-16.5 0-30 13.5-30 30v732c0 16.5 13.5 30 30 30h206c11 0 20 9 20 20s-9 20-20 20z" fill="currentColor" ></path></symbol><symbol id="guanyu" viewBox="0 0 1024 1024"><path d="M512 89c57.1 0 112.5 11.2 164.6 33.2 50.4 21.3 95.6 51.8 134.5 90.7 38.9 38.9 69.4 84.1 90.7 134.5 22 52.1 33.2 107.5 33.2 164.6s-11.2 112.5-33.2 164.6c-21.3 50.4-51.8 95.6-90.7 134.5-38.9 38.9-84.1 69.4-134.5 90.7-52.1 22-107.5 33.2-164.6 33.2s-112.5-11.2-164.6-33.2c-50.4-21.3-95.6-51.8-134.5-90.7-38.9-38.9-69.4-84.1-90.7-134.5C100.2 624.5 89 569.1 89 512s11.2-112.5 33.2-164.6c21.3-50.4 51.8-95.6 90.7-134.5s84.1-69.4 134.5-90.7C399.5 100.2 454.9 89 512 89m0-25C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z" fill="currentColor" ></path><path d="M462 229.5h100v400H462z" fill="#178FE6" ></path><path d="M512 744.5m-50 0a50 50 0 1 0 100 0 50 50 0 1 0-100 0Z" fill="#178FE6" ></path></symbol><symbol id="dakaiquanbutuceng" viewBox="0 0 1024 1024"><path d="M530 676.5l31-18.6v74.3l-31.2 18.7c-10.1 6.1-26.6 6.1-36.7 0l-421.6-253c-10.1-6.1-10.1-15.9 0-22l43.6-26.2 378.1 226.8c10.2 6.1 26.6 6.1 36.8 0zM959.1 487.6v-1.5 1.5zM561 815.1v63.3l-31.2 18.7c-10.1 6.1-26.6 6.1-36.7 0L71.6 644.2c-10.1-6.1-10.1-15.9 0-22l34.3-20.6 387.2 232.3c10.1 6.1 26.6 6.1 36.7 0l31.2-18.8zM951.6 321.9L530 68.9c-10.1-6.1-26.6-6.1-36.7 0l-421.7 253c-10.1 6.1-10.1 15.9 0 22l421.7 253c10.1 6.1 26.4 6.1 36.6 0l421.8-253c10-6 10-15.9-0.1-22z" fill="#666666" ></path><path d="M860.6 908.3v4.4c0 1.3 0.1 2.8 0.2 4.4 0.1 1.6 0.2 3.2 0.2 4.8-0.3 5.1-1.7 10.6-4.2 16.6-2.5 6-7.4 10.3-14.6 13-2.9 1.1-6.7 2.6-11.4 4.6-4.7 2-11.7 3-21 3-8 0-14.6-0.9-19.8-2.8-5.2-1.9-9.3-3.1-12.2-3.6-3.7-0.8-6.7-2.5-9-5s-4-5.4-5.2-8.6c-1.2-3.2-1.9-6.5-2.2-9.8-0.3-3.3-0.4-6.3-0.4-9v-12.4l99.6 0.4z m86.9-261.7c6.9 16.3 10.9 31.6 12 46 1.1 14.4 0.3 27.7-2.4 39.8-2.7 12.1-6.5 23-11.6 32.6-5.1 9.6-10.3 18-15.8 25.2-5.5 7.2-10.6 13.1-15.4 17.8-4.8 4.7-8.1 7.8-10 9.4-2.7 2.4-5.1 4.2-7.4 5.4-2.3 1.2-4.3 2.2-6 3-1.7 0.8-3.4 1.7-5 2.8-1.6 1.1-3.2 2.8-4.8 5.2-3.5 5.1-6.1 10-8 14.8-1.9 4.8-3.5 9.5-4.8 14-1.3 3.7-2.8 6.8-4.4 9.2-1.6 2.4-3.3 4.5-5.2 6.4-2.1 2.1-4.3 3.9-6.4 5.2h-88c-2.1-1.3-4.1-3.1-6-5.2-1.9-1.9-3.7-4.3-5.6-7.2-1.9-2.9-3.5-6.7-4.8-11.2-2.7-7.7-5.9-13.9-9.8-18.6-3.9-4.7-8.9-9.3-15-13.8-4.3-3.2-9.1-7.5-14.6-12.8-5.5-5.3-10.9-11.6-16.2-18.8-5.3-7.2-10.4-15.3-15.2-24.2-4.8-8.9-8.7-18.7-11.6-29.4-2.9-10.7-4.7-22.1-5.2-34.2-0.5-12.1 0.7-24.9 3.6-38.2 4.5-21.3 12.4-39.3 23.6-53.8 11.2-14.5 23.7-26.2 37.6-35 13.9-8.8 28.2-15.1 43-19 14.8-3.9 28.2-5.8 40.2-5.8 12.5 0 25.6 1.7 39.2 5.2 13.6 3.5 26.7 8.9 39.4 16.2 12.7 7.3 24.3 16.7 34.8 28 10.5 11.3 19.1 25 25.8 41zM907 728.2c11.5-46.7-3.5-82.3-44.8-106.9-6.9-4.3-15-7.6-24.2-10-9.2-2.4-18.6-3.6-28.2-3.6-9.6 0-19.1 1.2-28.6 3.6-9.5 2.4-17.9 6.1-25.4 11.2-18.1 12.5-30.4 26.1-36.8 40.8-6.4 14.7-9.3 30.1-8.8 46.4 0.3 9.1 1.8 17.2 4.6 24.4 2.8 7.2 6.1 13.7 10 19.6 3.9 5.9 7.9 11 12 15.4s7.8 8.3 11 11.8c6.7 6.9 12.5 13 17.6 18.2 5.1 5.2 9.1 11.8 12 19.8 2.9 7.7 7.5 12.5 13.8 14.2 6.3 1.7 12.1 2.6 17.4 2.6 6.9 0 13.6-1.5 20-4.6 6.4-3.1 10.9-7.8 13.6-14.2 1.3-3.7 4.1-8.3 8.2-13.6 4.1-5.3 10.3-12.8 18.6-22.4 4.3-5.1 8.3-9.5 12.2-13.2 3.9-3.7 7.5-7.5 10.8-11.2 3.3-3.7 6.3-7.8 8.8-12.2 2.6-4.3 4.6-9.7 6.2-16.1z m0 0" fill="#FF9800" ></path></symbol><symbol id="xuanzeguanbituceng" viewBox="0 0 1024 1024"><path d="M959.1 487.6v-1.5 1.5zM951.6 321.9L530 68.9c-10.1-6.1-26.6-6.1-36.7 0l-421.7 253c-10.1 6.1-10.1 15.9 0 22l421.7 253c10.1 6.1 26.4 6.1 36.6 0l421.8-253c10-6 10-15.9-0.1-22z" fill="#666666" ></path><path d="M860.6 908.3v4.4c0 1.3 0.1 2.8 0.2 4.4 0.1 1.6 0.2 3.2 0.2 4.8-0.3 5.1-1.7 10.6-4.2 16.6-2.5 6-7.4 10.3-14.6 13-2.9 1.1-6.7 2.6-11.4 4.6-4.7 2-11.7 3-21 3-8 0-14.6-0.9-19.8-2.8-5.2-1.9-9.3-3.1-12.2-3.6-3.7-0.8-6.7-2.5-9-5s-4-5.4-5.2-8.6c-1.2-3.2-1.9-6.5-2.2-9.8-0.3-3.3-0.4-6.3-0.4-9v-12.4l99.6 0.4z m86.9-261.7c6.9 16.3 10.9 31.6 12 46 1.1 14.4 0.3 27.7-2.4 39.8-2.7 12.1-6.5 23-11.6 32.6-5.1 9.6-10.3 18-15.8 25.2-5.5 7.2-10.6 13.1-15.4 17.8-4.8 4.7-8.1 7.8-10 9.4-2.7 2.4-5.1 4.2-7.4 5.4-2.3 1.2-4.3 2.2-6 3-1.7 0.8-3.4 1.7-5 2.8-1.6 1.1-3.2 2.8-4.8 5.2-3.5 5.1-6.1 10-8 14.8-1.9 4.8-3.5 9.5-4.8 14-1.3 3.7-2.8 6.8-4.4 9.2-1.6 2.4-3.3 4.5-5.2 6.4-2.1 2.1-4.3 3.9-6.4 5.2h-88c-2.1-1.3-4.1-3.1-6-5.2-1.9-1.9-3.7-4.3-5.6-7.2-1.9-2.9-3.5-6.7-4.8-11.2-2.7-7.7-5.9-13.9-9.8-18.6-3.9-4.7-8.9-9.3-15-13.8-4.3-3.2-9.1-7.5-14.6-12.8-5.5-5.3-10.9-11.6-16.2-18.8-5.3-7.2-10.4-15.3-15.2-24.2-4.8-8.9-8.7-18.7-11.6-29.4-2.9-10.7-4.7-22.1-5.2-34.2-0.5-12.1 0.7-24.9 3.6-38.2 4.5-21.3 12.4-39.3 23.6-53.8 11.2-14.5 23.7-26.2 37.6-35 13.9-8.8 28.2-15.1 43-19 14.8-3.9 28.2-5.8 40.2-5.8 12.5 0 25.6 1.7 39.2 5.2 13.6 3.5 26.7 8.9 39.4 16.2 12.7 7.3 24.3 16.7 34.8 28 10.5 11.3 19.1 25 25.8 41zM907 728.2c11.5-46.7-3.5-82.3-44.8-106.9-6.9-4.3-15-7.6-24.2-10-9.2-2.4-18.6-3.6-28.2-3.6-9.6 0-19.1 1.2-28.6 3.6-9.5 2.4-17.9 6.1-25.4 11.2-18.1 12.5-30.4 26.1-36.8 40.8-6.4 14.7-9.3 30.1-8.8 46.4 0.3 9.1 1.8 17.2 4.6 24.4 2.8 7.2 6.1 13.7 10 19.6 3.9 5.9 7.9 11 12 15.4s7.8 8.3 11 11.8c6.7 6.9 12.5 13 17.6 18.2 5.1 5.2 9.1 11.8 12 19.8 2.9 7.7 7.5 12.5 13.8 14.2 6.3 1.7 12.1 2.6 17.4 2.6 6.9 0 13.6-1.5 20-4.6 6.4-3.1 10.9-7.8 13.6-14.2 1.3-3.7 4.1-8.3 8.2-13.6 4.1-5.3 10.3-12.8 18.6-22.4 4.3-5.1 8.3-9.5 12.2-13.2 3.9-3.7 7.5-7.5 10.8-11.2 3.3-3.7 6.3-7.8 8.8-12.2 2.6-4.3 4.6-9.7 6.2-16.1z m0 0" fill="#178FE6" ></path></symbol><symbol id="yanse" viewBox="0 0 1024 1024"><path d="M512 512L195.5 828.5l-0.3 0.3C114.1 747.7 64 635.7 64 512h448z" fill="#999999" ></path><path d="M512 959.5v0.5c-123.7 0-235.7-50.1-316.8-131.2l0.3-0.3L512 512v447.5z" fill="currentColor" ></path><path d="M828.5 828.5l0.3 0.3C747.7 909.9 635.7 960 512 960V512l316.5 316.5z" fill="#FF00FF" ></path><path d="M959.5 512h0.5c0 123.7-50.1 235.7-131.2 316.8l-0.3-0.3L512 512h447.5z" fill="#0000FF" ></path><path d="M960 512H512l316.5-316.5 0.3-0.3C909.9 276.3 960 388.3 960 512z" fill="#00FFFF" ></path><path d="M828.8 195.2l-0.3 0.3L512 512V64c123.7 0 235.7 50.1 316.8 131.2z" fill="#00FF00" ></path><path d="M512 64.4V512L195.5 195.5l-0.3-0.3C276.3 114.1 388.3 64 512 64v0.4z" fill="#FFFF00" ></path><path d="M512 512H64c0-123.7 50.1-235.7 131.2-316.8l0.3 0.3L512 512z" fill="#FF0000" ></path></symbol><symbol id="dianyangshi" viewBox="0 0 1024 1024"><path d="M64 704h192v192H64zM64 256h192v192H64zM416 256h192v192H416zM416 704h192v192H416zM768 256h192v192H768zM768 704h192v192H768z" fill="currentColor" ></path><path d="M564 564.5l-111-111 306.8-306.8 111 111L564 564.5z m0 0" fill="#FF9800" ></path><path d="M942.4 134.1l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.7-15.6 16.7-39.9 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M442.7 471l-39.2 143.1 143.1-39.2L442.7 471z m0 0" fill="#FF9800" ></path></symbol><symbol id="wenziyangshi" viewBox="0 0 1024 1024"><path d="M64 755.4h716.8v24H64zM534.2 465H269.8l-53 137.3c-7.8 21.7-7.8 39.1 0 52.4 7.8 13.3 25.4 19.8 52.9 19.8h17.6v21.7H69.8v-21.7h17.6c15.7 0 29.4-3 41.1-9 11.8-6 19.6-16.2 23.5-30.7L381.4 82l88.2-18L693 634.8c7.8 14.5 17.6 24.7 29.4 30.7 11.8 6 25.4 9 41.1 9H781v21.7H528.2v-21.7h23.5c23.5 0 38.2-4.2 44.1-12.6 5.8-8.4 4.9-21-3-37.9l-58.6-159zM410.8 143.4H405L281.5 443.3h246.9L410.8 143.4z m0 0" fill="currentColor" ></path><path d="M571.4 909.8l-111-111L767.2 492l111 111-306.8 306.8z m0 0" fill="#FF9800" ></path><path d="M949.8 479.4l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.6-15.7 16.6-40 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M450 816.2l-39.2 143.1 143.1-39.2L450 816.2z m0 0" fill="#FF9800" ></path></symbol><symbol id="biaozhuyangshi" viewBox="0 0 1024 1024"><path d="M564 564.5l-111-111 306.8-306.8 111 111L564 564.5z m0 0" fill="#FF9800" ></path><path d="M942.4 134.1l-59-59c-14.4-14.4-38.7-13.4-54.3 2.3l-55.4 55.4 111 111 55.4-55.4c15.7-15.6 16.7-39.9 2.3-54.3z m0 0" fill="#D81E06" ></path><path d="M442.7 471l-39.2 143.1 143.1-39.2L442.7 471z m0 0" fill="#FF9800" ></path><path d="M78.9 958.7c-8.3 0-15-3.6-15-8.1V567.8c0-4.5 6.7-8.1 15-8.1s15 3.6 15 8.1v382.8c0 4.5-6.7 8.1-15 8.1z m0 0" fill="currentColor" ></path><path d="M839.4 774.1H182c-8.3 0-15-6.7-15-15s6.7-15 15-15h657.3c8.3 0 15 6.7 15 15 0.1 8.3-6.5 15-14.9 15z m0 0" fill="currentColor" ></path><path d="M196.3 662.3L135.2 759l61.1 96.7h0.6V662.3h-0.6z m628.8 0l61.1 96.7-61.1 96.7h-0.6V662.3h0.6z m0 0M944 959c-8.3 0-15-3.6-15-8.1V567.2c0-4.5 6.7-8.1 15-8.1s15 3.6 15 8.1V951c0 4.4-6.7 8-15 8z m0 0" fill="currentColor" ></path></symbol><symbol id="yuntu" viewBox="0 0 1024 1024"><path d="M250.4 975.2c-22.2 0-96-3.9-148.3-53.5-35.2-33.4-53-80.1-53-138.9 0-58.8 17.8-105.5 53-138.9 46.2-43.8 109.2-52 138.5-53.3 0.4-29.2 7.4-91.9 54.4-143.7 46.8-51.7 119.9-78 217.1-78s170.2 26.2 217.1 78c46.8 51.7 53.9 114.2 54.4 143.5 29.3 0.9 91.6 8.4 137.6 51.4 35.8 33.4 53.9 80.9 53.9 141 0 56.1-15.9 101.3-47.2 134.3-23.3 24.5-54.3 41.6-92.3 50.9-8 2-16.2-3-18.1-11-2-8 3-16.2 11-18.1 53.2-13 116.6-50.6 116.6-156 0-51.4-14.9-91.4-44.3-118.9-51.3-48-130.9-43.4-131.7-43.4-4.4 0.3-8.7-1.4-11.8-4.5-3.1-3.2-4.6-7.5-4.2-11.9 0.1-0.7 6.8-78.6-46.5-137.2-41-45.2-106.4-68-194.6-68-88.4 0-153.9 22.9-194.8 68.1-53.4 58.9-46.3 136.2-46.3 137 0.4 4.4-1.1 8.7-4.1 11.8s-7.3 4.9-11.6 4.6c-0.8 0-81.3-3.5-132.7 45.3-28.9 27.6-43.5 66.9-43.5 117s14.6 89.5 43.5 116.9c51.3 48.8 131.9 45.4 132.7 45.3H616c8.3 0 15 6.7 15 15s-6.7 15-15 15H256.4c-1 0.1-3 0.2-6 0.2z" fill="#178FE6" ></path><path d="M310.1 647.6h-1c-8.3-0.6-14.5-7.7-13.9-16 0.1-2 3.5-49.3 24.4-96.4 28.9-65.3 77.1-98.1 139.2-94.8 8.3 0.4 14.6 7.5 14.2 15.8s-7.5 14.6-15.8 14.2c-49.1-2.6-86.1 23.1-109.9 76.4-18.9 42.3-22.1 86.4-22.2 86.9-0.6 7.8-7.2 13.9-15 13.9z" fill="#178FE6" ></path></symbol><symbol id="dingyishuxing" viewBox="0 0 1024 1024"><path d="M450.2 89.4c7.1 0 14.1 3 19.2 8.1l457.4 457.4c5.1 5.1 8 11.8 8.1 18.8 0.1 6.7-2.4 13-7 17.6L591.4 927.9c-4.5 4.5-10.6 7-17.2 7-7.2 0-14-2.9-19.2-8.1L97.5 469.5c-6.4-6.4-9.3-15.3-7.7-23.9l52.6-284c1.8-9.8 9.4-17.4 19.2-19.2l284-52.6c1.5-0.3 3.1-0.4 4.6-0.4m0-25c-3.1 0-6.1 0.3-9.2 0.8l-284 52.6c-20 3.7-35.5 19.2-39.2 39.2L65.2 441c-3.1 16.6 2.4 33.9 14.6 46.1l457.4 457.4c10.3 10.3 23.7 15.4 36.9 15.4 12.7 0 25.3-4.8 34.9-14.3L945.6 609c19.5-19.5 19-51.7-1.1-71.8L487.1 79.8c-9.9-9.9-23.3-15.4-36.9-15.4z" fill="currentColor" ></path><path d="M333.8 265.3c19.7 0 38.4 7.8 52.6 22.1 28.5 28.5 29.5 73.9 2.2 101.2-12.8 12.8-30.1 19.9-48.6 19.9-19.7 0-38.4-7.8-52.6-22.1-28.5-28.5-29.5-73.9-2.2-101.2 12.8-12.8 30-19.9 48.6-19.9m0-30c-25.5 0-50.7 9.5-69.8 28.7-39.1 39.1-38.1 103.4 2.2 143.6 20.5 20.5 47.3 30.9 73.8 30.9 25.5 0 50.7-9.5 69.8-28.7 39.1-39.1 38.1-103.4-2.2-143.6-20.5-20.6-47.3-30.9-73.8-30.9zM454.9 741.4c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l271.5-271.5c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L465.5 737c-2.9 3-6.8 4.4-10.6 4.4zM361.5 648.1c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2L622.4 351c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L372.2 643.7c-3 2.9-6.8 4.4-10.7 4.4z" fill="#178FE6" ></path></symbol><symbol id="huiyuandenglu" viewBox="0 0 1024 1024"><path d="M512 537c38 0 75.7 5 112 15 35.2 9.6 69 23.9 100.6 42.3 62.4 36.4 114.8 88.4 151.6 150.6 18.9 31.9 33.5 66.1 43.4 101.7 8 28.8 12.9 58.4 14.6 88.4H89.7c1.8-30 6.7-59.7 14.6-88.4 9.9-35.6 24.5-69.8 43.4-101.7 36.8-62.2 89.2-114.2 151.6-150.6C331 575.8 364.8 561.6 400 552c36.3-10 74-15 112-15m0-25c-164.2 0-307.8 88.3-385.8 220.1C86.7 798.9 64 876.8 64 960h896c0-83.2-22.7-161.1-62.2-227.9C819.8 600.3 676.2 512 512 512z" fill="#178FE6" ></path><path d="M512 89c27 0 53.2 5.3 77.8 15.7 23.8 10.1 45.2 24.5 63.6 42.9s32.8 39.8 42.9 63.6C706.7 235.8 712 262 712 289s-5.3 53.2-15.7 77.8c-10.1 23.8-24.5 45.2-42.9 63.6s-39.8 32.8-63.6 42.9C565.2 483.7 539 489 512 489s-53.2-5.3-77.8-15.7c-23.8-10.1-45.2-24.5-63.6-42.9s-32.8-39.8-42.9-63.6C317.3 342.2 312 316 312 289s5.3-53.2 15.7-77.8c10.1-23.8 24.5-45.2 42.9-63.6s39.8-32.8 63.6-42.9C458.8 94.3 485 89 512 89m0-25c-124.3 0-225 100.7-225 225s100.7 225 225 225 225-100.7 225-225S636.3 64 512 64zM448 844.5c-3.2 0-6.4-1.2-8.8-3.7l-128-128c-4.9-4.9-4.9-12.8 0-17.7 4.9-4.9 12.8-4.9 17.7 0l120.3 120.3L696.5 630c5.5-4.1 13.4-3 17.5 2.5s3 13.4-2.5 17.5l-256 192c-2.2 1.7-4.9 2.5-7.5 2.5z" fill="#178FE6" ></path></symbol><symbol id="chuangjiankuai1" viewBox="0 0 1024 1024"><path d="M716.5 716.5h-601v-537h601v537z m-576-25h551v-487h-551v487z" fill="currentColor" ></path><path d="M64 668h100v100H64V668z" fill="#178FE6" ></path><path d="M697.5 960.1c-70.1 0-136-27.3-185.6-76.9S435 767.7 435 697.6s27.3-136 76.9-185.6 115.5-76.9 185.6-76.9 136 27.3 185.6 76.9S960 627.5 960 697.6s-27.3 136-76.9 185.6-115.5 76.9-185.6 76.9z m0-500c-131 0-237.5 106.5-237.5 237.5s106.5 237.5 237.5 237.5S935 828.6 935 697.6 828.5 460.1 697.5 460.1z" fill="currentColor" ></path><path d="M730 179h230M730 166.5h230v25H730z" fill="#178FE6" ></path><path d="M844.9 64v230M832.4 64h25v230h-25z" fill="#178FE6" ></path></symbol><symbol id="daojiao" viewBox="0 0 1024 1024"><path d="M944.7 94.3H896c-8.3 0-15-6.7-15-15s6.7-15 15-15h48.7c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-128.7 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M944.7 463.1c-8.3 0-15-6.7-15-15v-48.7c0-8.3 6.7-15 15-15s15 6.7 15 15v48.7c0 8.2-6.7 15-15 15z m0-128.8c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.7 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.7 15-15 15z"  ></path><path d="M576 94.3H79c-8.3 0-15-6.7-15-15s6.7-15 15-15h497c8.3 0 15 6.7 15 15s-6.7 15-15 15zM945 960c-8.3 0-15-6.7-15-15V448c0-8.3 6.7-15 15-15s15 6.7 15 15v497c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M944.9 463.1c-3.8 0-7.7-1.5-10.6-4.4L565.4 89.9c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l368.9 368.9c5.9 5.9 5.9 15.4 0 21.2-3 2.9-6.8 4.3-10.6 4.3z" fill="currentColor" ></path></symbol><symbol id="jian1" viewBox="0 0 1024 1024"><path d="M676.040 537.8c14.58 0 26.4-11.82 26.4-26.4s-11.82-26.4-26.4-26.4h-316.56c-13.794 0.96-24.622 12.385-24.622 26.34s10.826 25.38 24.538 26.335l316.643 0.125zM834.32 89.3h-633.12c-58.32 0-105.54 47.28-105.54 105.54v633.12c0 58.32 47.28 105.6 105.54 105.6h633.12c58.296-0.034 105.54-47.3 105.54-105.6 0 0 0 0 0 0v-633.24c0-58.2-47.22-105.42-105.54-105.42zM887.12 827.96c0 29.161-23.639 52.8-52.8 52.8 0 0 0 0 0 0h-633.12c-29.161 0-52.8-23.639-52.8-52.8 0 0 0 0 0 0v-633.24c0.034-29.135 23.661-52.74 52.8-52.74 0 0 0 0 0 0h633.12c0 0 0 0 0 0 29.139 0 52.766 23.605 52.8 52.737v633.243z" fill="currentColor" ></path></symbol><symbol id="yanjing" viewBox="0 0 1024 1024"><path d="M512 334.37167391c-14.48135344 0-28.38592497 1.0299681-41.73431364 2.98690763-16.89147917 2.43072477-32.62939453-8.7547303-35.1631167-25.00762971-2.55432121-16.2528994 9.06372103-31.41403214 25.9552002-33.84475692 16.37649513-2.38952669 33.37097168-3.64608788 50.94223014-3.64608716 127.01568571 0 219.69223023 65.91796858 279.03900114 128.74603215a551.15661653 551.15661653 0 0 1 83.18023707 115.27404776c1.85394287 3.52249146 3.66668693 7.06558195 5.41763312 10.64987199l0.30899072 0.6797793 0.12359572 0.24719213v0.06179859l0.02059977 0.02059904-28.22113046 12.11242652 28.26232926 12.11242724-0.06179857 0.08239689-0.06179784 0.16479525-0.24719216 0.53558382a452.15606722 452.15606722 0 0 1-16.37649584 30.15747021 557.91320777 557.91320777 0 0 1-49.12948608 69.68765292 31.72302214 31.72302214 0 0 1-43.15567008 4.44946289 29.02450545 29.02450545 0 0 1-5.21163909-41.48712151 497.14508041 497.14508041 0 0 0 51.53961182-75.70266771 491.70684822 491.70684822 0 0 0-72.09777865-98.97994956C692.2856447 387.47683692 614.9556272 334.37167391 512 334.37167391z m339.88952613 208.28018132l28.22113045 12.11242724a28.83911116 28.83911116 0 0 0 0-24.22485376l-28.22113045 12.11242652zM276.61105323 401.62860132c6.07681267 5.31463647 9.68170174 12.73040796 10.07309007 20.59936491 0.37078857 7.88955671-2.5131224 15.59371915-8.03375291 21.42333969a491.8510437 491.8510437 0 0 0-72.09777793 99.00054931 491.99523918 491.99523918 0 0 0 72.09777793 99.00054931C331.75555412 697.80627449 409.0443728 750.93203727 512 750.93203727a285.91918953 285.91918953 0 0 0 97.33200073-16.82968131c15.86151106-5.35583529 33.24737525 2.5131224 39.13879362 17.67425513 5.87081933 15.16113274-1.89514167 32.05261263-17.50945988 38.04702766A349.92141741 349.92141741 0 0 1 512 810.44360345c-127.01568571 0-219.69223023-65.91796858-279.03900114-128.74603289a551.05361915 551.05361915 0 0 1-83.18023707-115.27404778c-1.85394287-3.50189242-3.66668693-7.06558195-5.41763312-10.64987199l-0.30899072-0.67977856-0.12359572-0.24719287-0.02059977-0.04119808v-0.04119881l28.22113046-12.11242724L143.84814461 530.53942873l0.04119882-0.02059906 0.02059904-0.06179858 0.10299664-0.24719214 0.30899074-0.67977929 1.17416357-2.30712908c6.38580339-12.64801033 13.38958748-25.00762972 20.8877566-37.05825765a552.92816178 552.92816178 0 0 1 66.53595002-86.55853303 31.39343238 31.39343238 0 0 1 21.42333969-9.68170175c8.17794767-0.39138761 16.19110084 2.38952669 22.24731445 7.70416317zM172.11047387 542.65185523L143.88934343 530.53942873a28.83911116 28.83911116 0 0 0 0 24.22485374l28.22113044-12.11242724z" fill="currentColor" ></path><path d="M481.45114144 405.21289062c0-16.50009156 13.76037606-29.88967903 30.73425285-29.88967903 92.77954118 0 166.01028459 75.59967033 166.01028458 166.5046696 0 10.67047103-5.87081933 20.53756706-15.3671268 25.8934016a31.51702881 31.51702881 0 0 1-30.75485189 0 29.74548356 29.74548356 0 0 1-15.36712678-25.8934016c0-60.04714999-47.89352393-106.72531151-104.52117911-106.72531153-16.97387678 0-30.73425285-13.38958748-30.73425285-29.88967904z m-94.81887833 77.49481201c16.60308821 3.48129264 27.14996355 19.36340347 23.58627327 35.51330551a109.3826294 109.3826294 0 0 0-2.55432121 23.60687305c0 60.04714999 47.89352393 106.72531151 104.52117912 106.72531079 8.11614983 0 15.9851075-0.92697143 23.52447542-2.67791765 16.47949252-3.89328003 33.10317977 5.973816 37.07885742 22.02072209 4.01687646 16.04690535-6.13861052 32.1968081-22.6387028 36.06948836a165.88668816 165.88668816 0 0 1-37.96463004 4.32586646c-92.77954118 0-166.01028459-75.59967033-166.01028458-166.50466887 0-12.35961937 1.35955787-24.51324471 3.93447884-36.15188599 1.70974739-7.74536125 6.52999886-14.52255225 13.38958747-18.82782039 6.83898958-4.32586646 15.16113274-5.78842171 23.13308709-4.1198724v0.02059904zM213.78298966 221.81674186a31.37283333 31.37283333 0 0 1 43.46466081 0L810.58779891 759.81036401c11.65924103 11.74163795 11.4944458 30.38406405-0.37078858 41.89910888a31.37283333 31.37283333 0 0 1-43.09387223 0.37078858L213.78298966 264.08663933a29.31289641 29.31289641 0 0 1 0-42.26989747z" fill="currentColor" ></path></symbol><symbol id="cha" viewBox="0 0 1024 1024"><path d="M168.38 208.632l42.426-42.426 633.561 633.561-42.426 42.426z" fill="currentColor" ></path><path d="M168.38 799.775L801.94 166.214l42.426 42.426L210.806 842.2z" fill="currentColor" ></path></symbol><symbol id="budayinbiaoqian" viewBox="0 0 1024 1024"><path d="M150.314667 301.098667L403.84 554.666667 298.666667 554.666667v298.666666h227.925333c11.221333 31.829333 28.586667 60.757333 50.645333 85.333334H213.333333v-213.333334H85.333333V384a85.333333 85.333333 0 0 1 64.981334-82.901333z m7.850666-203.264l768 768-30.208 30.122666L896 938.666667l-27.818667-14.933334-2.346666 2.432-768-768 60.330666-60.330666zM640 790.826667l96.384 96.426666L640 938.666667v-147.84zM748.117333 597.333333L896 597.333333v147.84L748.117333 597.333333z m-298.709333-298.666666L853.333333 298.666667a85.333333 85.333333 0 0 1 85.333334 85.333333v193.237333A255.061333 255.061333 0 0 0 768 512c-31.36 0-61.44 5.632-89.173333 15.957333L449.365333 298.666667zM810.666667 384a42.666667 42.666667 0 1 0 0 85.333333 42.666667 42.666667 0 0 0 0-85.333333z m0-298.666667v170.666667H406.741333l-170.666666-170.666667H810.666667z" fill="currentColor" ></path></symbol><symbol id="ziyuan" viewBox="0 0 1024 1024"><path d="M770.30775499 535.50654286h65.59120971a25.18233922 25.18233922 0 1 0 0-49.77904322h-66.76248156l83.74591991-83.74591991a24.596704 24.596704 0 0 0-35.13814784-35.13814857l-117.12716072 117.12716071H555.37941492L625.65571135 360.9870733 789.63373635 317.65002387a25.18233922 25.18233922 0 0 0 17.56907427-31.0386978 24.596704 24.596704 0 0 0-30.45306184-17.56907428l-114.19898179 30.45306187 33.38124079-58.56358a25.18233922 25.18233922 0 0 0-43.92268536-25.18233993l-32.79560486 58.5635807L588.17501978 161.28526452a24.596704 24.596704 0 0 0-48.02213543 12.88398756l43.33704943 162.22111721-71.44756829 124.15479043-72.03320422-124.74042636 43.33705015-162.2211172a25.76797515 25.76797515 0 0 0-17.56907428-31.62433373 25.18233922 25.18233922 0 0 0-30.45306186 18.15471023l-31.03869779 117.12716072-32.79560486-58.56358073a24.596704 24.596704 0 0 0-33.96687671-8.78453678 24.01106807 24.01106807 0 0 0-9.37017271 33.96687672l33.38124079 58.56357999-114.19898179-32.79560485a25.18233922 25.18233922 0 0 0-12.88398757 48.02213615l162.22111721 43.33704942 72.03320421 124.74042634H327.56708728l-117.12716071-117.1271607a24.596704 24.596704 0 0 0-35.13814785 0 24.596704 24.596704 0 0 0 0 35.13814785l81.98901212 81.98901285H182.32940771a25.18233922 25.18233922 0 1 0 0 49.77904322h73.79011128L172.95923499 619.25246279a25.18233922 25.18233922 0 0 0 0 35.72378379 24.596704 24.596704 0 0 0 17.5690743 7.02762972 24.596704 24.596704 0 0 0 17.56907428-7.02762972l117.12716072-117.12716071h143.48077177l-70.27629642 120.05533963-162.80675314 43.33704943a24.596704 24.596704 0 1 0 12.88398756 48.02213615l114.19898179-30.45306185L325.22454428 786.15866672a25.18233922 25.18233922 0 0 0 21.66852436 37.48069157 25.76797515 25.76797515 0 0 0 21.66852507-12.29835236l37.48069157-64.41993784 30.45306186 117.12716071a25.18233922 25.18233922 0 0 0 24.01106734 18.74034542h6.44199379a24.596704 24.596704 0 0 0 17.56907429-30.45306185l-43.33704943-169.24874693 70.86193236-122.39788336 70.27629643 121.81224743L538.9816125 844.72224672a24.596704 24.596704 0 0 0 17.56907427 30.45306185h6.44199379a25.18233922 25.18233922 0 0 0 24.01106807-18.74034543l30.45306114-117.12716071 37.48069157 65.00557379a26.35361107 26.35361107 0 0 0 21.66852508 12.29835235 25.18233922 25.18233922 0 0 0 12.88398756-3.51381485 24.596704 24.596704 0 0 0 8.78453679-26.939247l-36.89505564-64.41993857 117.12716071 31.03869778a25.18233922 25.18233922 0 0 0 12.88398758-48.60777207L625.65571135 658.49006143l-70.27629642-122.98351857h144.0664077l117.12716071 117.12716072a25.18233922 25.18233922 0 0 0 35.13814785 0 25.18233922 25.18233922 0 0 0 0-35.7237845z" fill="currentColor" ></path></symbol><symbol id="cloudshellyunminglinghang" viewBox="0 0 1024 1024"><path d="M917.504 835.584H106.496V188.416h810.496l0.512 647.168zM186.88 755.2h650.752v-486.4H186.88v486.4z" fill="currentColor" ></path><path d="M343.04 648.704l-56.32-56.32 88.064-88.064L286.72 415.744l56.32-56.832 144.896 144.896L343.04 648.704z m163.84-63.488h230.4v79.872H506.88v-79.872z" fill="currentColor" ></path></symbol><symbol id="suo" viewBox="0 0 1024 1024"><path d="M699.63238224 436.42830294L324.36048895 436.42830294c-32.41326715 0-58.68649143 26.21904532-58.68649143 58.57029185l0 248.4525261c0 32.35195941 26.27322427 58.57029185 58.68649143 58.57029184l375.27260617 0c32.41398004 0 58.69433313-26.21833245 58.69433312-58.57029184L758.32742824 494.99859479C758.32671536 462.64734826 732.04636228 436.42830294 699.63238224 436.42830294zM536.71272806 617.54424119l0 65.21362864c0 13.64453976-11.05749509 24.71771823-24.71629246 24.71771822-13.65095568 0-24.71629247-11.07317848-24.71629246-24.71771822l0-65.21362863c-14.75877254-8.54886733-24.71700533-24.4838933-24.71700536-42.77356477 0-27.30333712 22.12996069-49.43401068 49.43329782-49.43401068s49.4411395 22.13067357 49.44113949 49.43401068C561.43757509 593.0603479 551.48718397 608.99537387 536.71272806 617.54424119zM511.9964356 201.58894983c-95.55954127 0-173.03186925 76.38019449-173.03186926 176.73314671l1e-8 76.75231829 346.07229306 16.47752832L685.03685941 378.32209654C685.03685941 277.96914432 607.56453145 201.58894983 511.9964356 201.58894983zM388.42851802 450.73796054L388.42851802 376.60334078c0-68.23410486 55.32525815-123.56791757 123.56720469-123.56791759 68.24978823 0 123.56791757 55.33381272 123.56791758 123.56791759l0 75.8690589L388.42851802 450.73796054z" fill="currentColor" ></path></symbol><symbol id="taiyang" viewBox="0 0 1024 1024"><path d="M507.47829852 315.02083306c-6.7282375 0-12.17328942-5.45863062-12.17328944-12.18686812V229.73312427c0-6.7282375 5.44505195-12.18007878 12.17328945-12.18007877 6.74181618 0 12.18686812 5.45184128 12.1868681 12.18007877v73.10084067c0 6.7282375-5.44505195 12.18686812-12.1868681 12.18686812zM507.47829852 802.35977088s0.01357868 0 1e-8 0c-6.70786947 0-12.17328942-5.45184128-12.17328946-12.18007877V717.07885143c0-6.7282375 5.45863062-12.18686812 12.18686812-12.18686811s12.17328942 5.45863062 12.17328944 12.1868681v73.10084069c0 6.7282375-5.44505195 12.18007878-12.18686811 12.18007877z" fill="currentColor" ></path><path d="M369.64108599 372.11240631c-4.76611778 4.75932844-12.47202046 4.75932844-17.22455956 0l-51.70083606-51.6940467c-4.74574975-4.7525391-4.74574975-12.46523112 0-17.22455956 4.76611778-4.76611778 12.47202046-4.76611778 17.23813825 0l51.68725737 51.68725736c4.76611778 4.75932844 4.76611778 12.47880982 0 17.2313489zM714.25448534 716.71222699c-4.76611778 4.76611778-12.47880982 4.76611778-17.23813825 0l-51.68725736-51.68725737c-4.76611778-4.75932844-4.76611778-12.47880982 1e-8-17.2313489 4.76611778-4.75932844 12.47202046-4.75932844 17.23813823 0l51.68725737 51.69404671c4.74574975 4.7525391 4.74574975 12.46523112-1e-8 17.22455956z" fill="currentColor" ></path><path d="M312.54951273 509.95640818c0 6.7282375-5.45863062 12.18007878-12.18686811 12.18007878H227.26180393c-6.7282375 0-12.17328942-5.45184128-12.18686811-12.18007878 0-6.7282375 5.45863062-12.18007878 12.18686811-12.18007877h73.10084069c6.7282375 0 12.18686812 5.44505195 12.18686811 12.18007877zM799.8816612 509.95640818c0 6.7282375-5.44505195 12.18007878-12.17328943 12.18007878H714.6075311c-6.7282375 0-12.18686812-5.45184128-12.18686812-12.18007878 0-6.7282375 5.45863062-12.18007878 12.18686812-12.18007877h73.10084067c6.7282375 0 12.17328942 5.44505195 12.17328943 12.18007877z" fill="currentColor" ></path><path d="M369.64108599 647.79362072c4.76611778 4.7525391 4.76611778 12.47202046 0 17.2313489l-51.68725737 51.68725737c-4.76611778 4.76611778-12.47202046 4.76611778-17.23813825 0-4.74574975-4.75932844-4.74574975-12.46523112 0-17.22455956l51.70083606-51.69404671c4.7525391-4.75932844 12.46523112-4.75932844 17.22455956 0zM714.25448534 303.1870107c0 0.00678934 0 0-1e-8 0 4.74574975 4.76611778 4.74574975 12.47880982 0 17.23134891l-51.70083603 51.6940467c-4.74574975 4.75932844-12.45844178 4.75932844-17.22455957 0-4.76611778-4.7525391-4.76611778-12.47202046 0-17.23134891l51.68725736-51.6940467c4.75932844-4.7525391 12.47202046-4.7525391 17.23813824 0z" fill="currentColor" ></path><path d="M507.47829852 668.33816831c-87.32451127 0-158.37497078-71.05045952-158.37497078-158.38176013S420.15378725 351.56785872 507.47829852 351.56785872c87.34487928 0 158.38854946 71.05045952 158.38854946 158.38176013S594.81638847 668.33816831 507.47829852 668.33816831z" fill="currentColor" ></path><path d="M507.47829852 339.38099062c-94.19532493 0-170.56183889 76.36651397-170.5618389 170.57541756S413.28297358 680.52503642 507.47829852 680.52503642c94.21569295 0 170.58220691-76.36651397 170.58220692-170.56862824S601.68720212 339.38099062 507.47829852 339.38099062z m103.38130407 273.9499323c-27.60546282 27.61904151-64.32222203 42.82716662-103.38809342 42.82716662-39.0522927 0-75.76226257-15.20812511-103.36772538-42.82716662C376.49832096 585.7254601 361.27661716 549.00191157 361.27661716 509.95640818s15.22170381-75.76905191 42.83395596-103.37451472c27.60546282-27.61904151 64.32222203-42.82716662 103.36772541-42.82716662 39.06587139 0 75.77584125 15.20812511 103.3880934 42.82716662 27.61225217 27.60546282 42.81358793 64.32901136 42.81358793 103.37451472s-15.20812511 75.76905191-42.82037727 103.37451474z" fill="currentColor" ></path></symbol><symbol id="youjiantou" viewBox="0 0 1024 1024"><path d="M273.322667 963.413333a62.805333 62.805333 0 0 1 0-86.613333L625.365333 512 273.322667 147.2a62.805333 62.805333 0 0 1 0-86.613333 57.6 57.6 0 0 1 83.541333 0l393.813333 408.149333c23.082667 23.893333 23.082667 62.634667 0 86.528l-393.813333 408.149333a57.6 57.6 0 0 1-83.541333 0z" fill="currentColor" ></path></symbol><symbol id="jinggao" viewBox="0 0 1155 1024"><path d="M513.239709 49.588378C533.075061 14.876513 580.184019 2.479419 614.895884 22.31477c12.397094 7.438257 19.835351 14.876513 27.273608 27.273608l490.924939 850.440678c19.835351 34.711864 7.438257 81.820823-27.273608 101.656174-12.397094 7.438257-24.794189 9.917676-37.191283 9.917676H86.779661c-42.150121 0-74.382567-32.232446-74.382567-74.382567 0-12.397094 2.479419-24.794189 9.917676-37.191283L513.239709 49.588378z" fill="#FFBA00" ></path><path d="M86.779661 1024c-47.108959 0-86.779661-39.670702-86.779661-86.779661 0-14.876513 4.958838-29.753027 12.397094-44.62954L503.322034 44.62954c24.794189-42.150121 76.861985-54.547215 119.012106-32.232446 12.397094 7.438257 24.794189 19.835351 32.232446 32.232446L1143.012107 892.590799c12.397094 19.835351 14.876513 44.62954 7.438256 66.94431-4.958838 22.31477-19.835351 42.150121-39.670702 52.067797-12.397094 7.438257-27.273608 12.397094-44.62954 12.397094H86.779661zM577.7046 24.794189c-22.31477 0-42.150121 9.917676-54.547215 32.232445L32.232446 904.987893c-4.958838 9.917676-7.438257 19.835351-7.438257 32.232446 0 34.711864 27.273608 61.985472 61.985472 61.985472h981.849879c9.917676 0 22.31477-2.479419 32.232445-7.438257 29.753027-17.355932 39.670702-54.547215 22.31477-84.300242L632.251816 54.547215c-4.958838-9.917676-12.397094-17.355932-22.31477-22.314769-9.917676-4.958838-22.31477-7.438257-32.232446-7.438257z m-64.464891 24.794189z"  ></path><path d="M505.801453 825.646489c0-34.711864 27.273608-57.026634 59.506053-57.026634 32.232446 0 59.506053 22.31477 59.506053 57.026634 0 37.191283-27.273608 59.506053-59.506053 59.506053-32.232446 0-59.506053-22.31477-59.506053-59.506053z m17.355932-414.062954l-2.479419-86.779661h89.25908l-2.479419 86.779661-19.835351 287.612591h-49.588378l-14.876513-287.612591z"  ></path></symbol><symbol id="a-zu20" viewBox="0 0 1024 1024"><path d="M95.936884 10.098619h565.522682v706.903353H95.936884V10.098619z" fill="#82BF82" ></path><path d="M661.459566 727.100592H95.936884c-6.059172 0-10.098619-4.039448-10.09862-10.09862V10.098619C85.838264 4.039448 89.877712 0 95.936884 0h565.522682c6.059172 0 10.098619 4.039448 10.098619 10.098619v706.903353c0 6.059172-4.039448 10.098619-10.098619 10.09862zM106.035503 706.903353h545.325444V20.197239H106.035503v686.706114z" fill="#016601" ></path><path d="M909.885602 941.191321l-201.972387-298.919132 153.499014-16.157791-375.668639-228.228796 74.729783 440.299802 68.670611-141.38067 201.972387 298.919132 78.769231-54.532545z" fill="currentColor" ></path><path d="M827.076923 1024l-193.893491-286.800789-80.788955 165.617357-92.907298-545.325444 464.53649 280.741618-179.755424 20.197238 193.893491 288.820513-111.084813 76.749507z m-199.952663-367.589744l210.051282 311.037476 44.433925-32.315582L671.558185 624.094675l127.242604-14.138068-286.800789-173.696252L570.571992 771.534517l56.552268-115.124261z" fill="#232323" ></path></symbol><symbol id="houtui" viewBox="0 0 1433 1024"><path d="M1433.6 1024c0-430.08-753.664-425.984-753.664-425.984V860.16L0 430.08 679.936 0v262.144S1433.6 290.816 1433.6 1024z" fill="currentColor" ></path></symbol><symbol id="xuanzhuan1" viewBox="0 0 1024 1024"><path d="M512 1024C505.277899 1024 70.582057 988.148796 70.582057 582.582057 70.582057 177.015317 440.297593 141.164114 442.538293 141.164114c8.962801 0 15.684902 6.722101 17.925602 13.444201 0 8.962801-6.722101 15.684902-13.444201 17.925602-15.684902 2.2407-345.067834 33.610503-345.067834 410.04814S496.315098 990.389497 514.2407 992.630197c13.444201 0 407.80744-15.684902 407.80744-432.455142 0-8.962801 6.722101-15.684902 15.684902-15.684902s15.684902 6.722101 15.684901 15.684902c0 448.140044-436.936543 463.824945-441.417943 463.824945z" fill="currentColor" ></path><path d="M720.38512 156.849015l-268.884026 156.849016V0l268.884026 156.849015z" fill="currentColor" ></path></symbol><symbol id="juxing" viewBox="0 0 1024 1024"><path d="M912 862.7H112c-5.5 0-10-4.5-10-10V171.3c0-5.5 4.5-10 10-10h800c5.5 0 10 4.5 10 10v681.3c0 5.6-4.5 10.1-10 10.1z m-790-20h780V181.3H122v661.4z" fill="currentColor" ></path><path d="M912 865.2H112c-6.9 0-12.5-5.6-12.5-12.5V171.3c0-6.9 5.6-12.5 12.5-12.5h800c6.9 0 12.5 5.6 12.5 12.5v681.3c0 7-5.6 12.6-12.5 12.6zM112 163.8c-4.1 0-7.5 3.4-7.5 7.5v681.3c0 4.1 3.4 7.5 7.5 7.5h800c4.1 0 7.5-3.4 7.5-7.5V171.3c0-4.1-3.4-7.5-7.5-7.5H112z m792.5 681.4h-785V178.8h785v666.4z m-780-5h775V183.8h-775v656.4z" fill="currentColor" ></path><path d="M860.2 128h100v100h-100V128z"  ></path><path d="M64 795.6h100v100H64v-100z"  ></path></symbol><symbol id="zhengduobianxing" viewBox="0 0 1024 1024"><path d="M788.7 936H235.3l-171-526.2L512 84.5l447.6 325.2L788.7 936z m-531.6-30h509.7l157.5-484.8L512 121.6 99.6 421.2 257.1 906z" fill="currentColor" ></path><path d="M192 859.6h100v100H192v-100zM462 462h100v100H462V462z"  ></path></symbol><symbol id="duobianxing" viewBox="0 0 1024 1024"><path d="M415.9 928c-3.3 0-6.4-1.6-8.3-4.5L65.7 410.7c-2.5-3.7-2.2-8.7 0.7-12.1L322.8 99.5c1.9-2.2 4.7-3.5 7.6-3.5h491.4c3.5 0 6.8 1.8 8.6 4.9 1.8 3 1.9 6.8 0.2 9.9L662.8 425.5 957.9 805c2.1 2.7 2.7 6.4 1.5 9.6-1.2 3.2-4 5.6-7.4 6.3L417.8 927.8c-0.6 0.1-1.3 0.2-1.9 0.2zM86.5 405.9l333.9 500.9 511.7-102.3L643 432.7c-2.4-3.1-2.8-7.4-0.9-10.8l163-305.9H335L86.5 405.9z" fill="currentColor" ></path><path d="M415.8 930.5c-4.2 0-8.1-2.1-10.4-5.6L63.6 412.1c-3.1-4.6-2.7-10.8 0.9-15.1L320.9 97.9c2.4-2.8 5.8-4.4 9.5-4.4h491.4c4.4 0 8.5 2.3 10.7 6.1 2.2 3.7 2.4 8.5 0.3 12.3L665.7 425.3l294.1 378.2c2.7 3.4 3.4 7.9 1.8 12-1.5 4.1-5 7-9.3 7.9l-534 106.8c-0.8 0.2-1.6 0.3-2.5 0.3 0.1 0 0.1 0 0 0z m-85.4-832c-2.2 0-4.3 1-5.7 2.6L68.3 400.3c-2.2 2.5-2.4 6.3-0.5 9l341.9 512.8c1.4 2.1 3.7 3.3 6.2 3.3 0.5 0 1 0 1.5-0.1l534.1-106.8c2.6-0.5 4.6-2.3 5.6-4.7 0.9-2.5 0.5-5.2-1.1-7.2L659.8 425.8l0.8-1.4 167.9-314.8c1.2-2.3 1.2-5.1-0.2-7.4-1.3-2.2-3.8-3.6-6.4-3.6H330.4z m88.9 811.1l-0.9-1.4-335-502.5 1.2-1.4 249.2-290.8h475.5L644.3 423c-1.4 2.6-1.1 5.8 0.7 8.1l291.7 375-517.4 103.5zM89.7 406.1l332 497.9 506.1-101.2L641 434.2c-3-3.9-3.5-9.2-1.2-13.6L801 118.5H336.1L89.7 406.1z" fill="currentColor" ></path><path d="M348.1 859.6h100v100h-100v-100z"  ></path><path d="M732.2 63.9h100v100h-100v-100z"  ></path></symbol><symbol id="zhixian" viewBox="0 0 1024 1024"><path d="M112.481 890.299l777.81-777.81 21.213 21.213-777.81 777.81z" fill="currentColor" ></path><path d="M860.2 63.9h100v100h-100zM64 859.6h100v100H64z"  ></path></symbol><symbol id="danhangwenzi" viewBox="0 0 1024 1024"><path d="M64 928.9h896v30H64z"  ></path><path d="M651.8 565.9H321.2L255 737.5c-9.8 27.1-9.8 48.9 0 65.5s31.8 24.8 66.1 24.8h22v27.1H71.3v-27.1h22c19.6 0 36.7-3.8 51.4-11.3 14.7-7.5 24.5-20.3 29.4-38.4L460.8 87.2 571 64.7l279.2 713.5c9.8 18.1 22 30.9 36.7 38.4 14.7 7.5 31.8 11.3 51.4 11.3h22V855h-316v-27.1h29.4c29.4 0 47.8-5.3 55.1-15.8s6.1-26.3-3.7-47.4l-73.3-198.8zM497.5 164h-7.3L335.9 538.8h308.6L497.5 164z" fill="currentColor" ></path></symbol><symbol id="dian" viewBox="0 0 1024 1024"><path d="M437 437h150v150H437V437z"  ></path></symbol><symbol id="duoxianduan" viewBox="0 0 1024 1024"><path d="M113.928 826.67L274.511 378.8l28.239 10.124-160.583 447.87zM326.439 392.367l24.582-17.2 272.776 389.871-24.582 17.2zM641.725 750.904l233.417-564.871 27.726 11.457-233.417 564.87z" fill="currentColor" ></path><path d="M860.2 128h100v100h-100V128zM64 795.6h100v100H64v-100zM256 320h100v100H256V320zM576.1 731.7h100v100h-100v-100z"  ></path></symbol><symbol id="charutupian" viewBox="0 0 1024 1024"><path d="M294.7 814.7l-24.7-17c1.1-1.6 27.4-39.7 65.4-75.2 22.8-21.3 45-37.2 66.2-47.4 28.1-13.5 54.6-17 78.7-10.4 12.4 3.4 24.8 7.1 36.9 10.8 74.4 22.4 144.7 43.5 208-10.4 13.4-11.4 26.3-22.9 38.8-34 64.2-57.2 119.7-106.6 182.1-88.4l-8.4 28.8c-46.5-13.5-93.8 28.6-153.8 82-12.6 11.2-25.7 22.9-39.3 34.5-75.8 64.5-157.3 40-236.1 16.3-11.9-3.6-24.1-7.3-36.2-10.6-39.6-10.9-85 21.4-116.1 50.4-35.6 33.3-61.2 70.2-61.5 70.6z"  ></path><path d="M957 892H67V222h890v670zM97 862h830V252H97v610z" fill="currentColor" ></path><path d="M798.1 342h-60c-13.8 0-25-11.2-25-25V157c0-13.8 11.2-25 25-25h60c13.8 0 25 11.2 25 25v160c0 13.8-11.2 25-25 25z m-55-30h50V162h-50v150z" fill="currentColor" ></path><path d="M282.4 526.5c-49.6 0-90-40.4-90-90s40.4-90 90-90 90 40.4 90 90-40.4 90-90 90z m0-150c-33.1 0-60 26.9-60 60s26.9 60 60 60 60-26.9 60-60-26.9-60-60-60z"  ></path></symbol><symbol id="duohangwenben" viewBox="0 0 1024 1024"><path d="M1024 977H0V47h1024v930zM30 947h964V77H30v870z" fill="currentColor" ></path><path d="M946 833.5H78.4c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 591H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 463H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 335H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15zM946 207H569.8c-8.3 0-15-6.7-15-15s6.7-15 15-15H946c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M435.3 492.9H223.8l-42.3 124.9c-6.3 19.7-6.3 35.6 0 47.7 6.3 12.1 20.4 18.1 42.3 18.1h14.1v19.7H64v-19.7h14.1c12.5 0 23.5-2.7 32.9-8.2 9.4-5.5 15.7-14.8 18.8-28l183.3-503 70.5-16.4 178.6 519.4c6.3 13.2 14.1 22.5 23.5 28s20.4 8.2 32.9 8.2h14.1v19.7H430.6v-19.7h18.8c18.8 0 30.5-3.8 35.2-11.5s3.9-19.2-2.3-34.5l-47-144.7z m-98.7-292.6h-4.7l-98.7 272.9h197.4l-94-272.9z" fill="currentColor" ></path></symbol><symbol id="tuoyuanhu" viewBox="0 0 1024 1024"><path d="M895 512c0 54.5-38.7 106.3-109 146-73 41.2-170.3 64-274 64s-201.1-22.7-274-64c-70.3-39.7-109-91.6-109-146 0-54.5 38.7-106.3 109-146 73-41.2 170.3-64 274-64h0.5v-30h-0.5c-108.8 0-211.4 24.1-288.8 67.8-38.4 21.7-68.6 47.1-89.9 75.6C110.5 445.8 99 478.3 99 512s11.5 66.2 34.3 96.6c21.3 28.5 51.5 53.9 89.9 75.6C300.6 728 403.2 752 512 752s211.4-24.1 288.8-67.8c38.4-21.7 68.6-47.1 89.9-75.6 22.7-30.4 34.3-62.9 34.3-96.6h-30z" fill="currentColor" ></path><path d="M497.5 272h30v255.1h-30z" fill="currentColor" ></path><path d="M512 497h413v30H512z" fill="currentColor" ></path><path d="M462 233.9h100v100H462v-100zM462 462h100v100H462V462zM860 462h100v100H860V462z"  ></path></symbol><symbol id="yuan" viewBox="0 0 1024 1024"><path d="M512 932c-56.7 0-111.7-11.1-163.5-33-50-21.2-94.9-51.4-133.5-90-38.6-38.6-68.8-83.5-90-133.5-21.9-51.8-33-106.8-33-163.5s11.1-111.7 33-163.5c21.2-50 51.4-94.9 90-133.5 38.6-38.6 83.5-68.8 133.5-90 51.8-21.9 106.8-33 163.5-33s111.7 11.1 163.5 33c50 21.2 94.9 51.4 133.5 90 38.6 38.6 68.8 83.5 90 133.5 21.9 51.8 33 106.8 33 163.5s-11.1 111.7-33 163.5c-21.2 50-51.4 94.9-90 133.5-38.6 38.6-83.5 68.8-133.5 90-51.8 21.9-106.8 33-163.5 33z m0-810c-215 0-390 175-390 390s175 390 390 390 390-175 390-390-175-390-390-390z" fill="currentColor" ></path><path d="M462 64h100v100H462V64zM64 462h100v100H64V462zM860 462h100v100H860V462zM462 860h100v100H462V860z"  ></path></symbol><symbol id="yangtiaoxian" viewBox="0 0 1024 1024"><path d="M236.4 931.5c-1.7-0.7-43-17.5-87.1-46C88.1 846 52.8 804.8 44.5 763c-7.2-36.2 5.9-71.1 38.9-103.8 62.2-61.5 241.7-59.7 431.8-57.8 91.6 0.9 186.4 1.9 260.5-5.4 77.9-7.6 125.1-23.9 140.5-48.2 9-14.3 7.6-33-4.2-57.1-38.9-79.4-71.1-135.3-94.6-176.2-48.5-84.4-68.6-119.3-49.9-190.4l29 7.6c-15.6 59.2-1.1 84.3 46.9 167.8 23.7 41.2 56.1 97.6 95.5 177.9 16.6 33.8 17.4 62.8 2.6 86.3-21.1 33.5-72.9 53.3-163 62.1-75.7 7.4-171.3 6.5-263.7 5.6-88.7-0.9-180.4-1.8-255.2 4.6-81.1 6.9-131.9 21.5-155.2 44.5C78.6 706 68.6 731 73.8 757.1c16.4 81.9 172.3 146 173.8 146.6l-11.2 27.8z" fill="currentColor" ></path><path d="M732 64h100v100H732V64zM192 860h100v100H192V860z"  ></path></symbol><symbol id="tuoyuan" viewBox="0 0 1024 1024"><path d="M512 752c-108.9 0-211.4-24.1-288.8-67.8-38.4-21.7-68.6-47.1-89.9-75.6C110.5 578.2 99 545.7 99 512c0-33.7 11.5-66.2 34.3-96.6 21.3-28.5 51.6-53.9 89.9-75.6 77.4-43.7 180-67.8 288.8-67.8s211.4 24.1 288.8 67.8c38.4 21.7 68.6 47.1 89.9 75.6 22.7 30.4 34.3 62.9 34.3 96.6 0 33.7-11.5 66.2-34.3 96.6-21.3 28.5-51.6 53.9-89.9 75.6C723.4 727.9 620.9 752 512 752z m0-450c-103.8 0-201.1 22.7-274 64-70.3 39.7-109 91.6-109 146 0 54.5 38.7 106.3 109 146 73 41.2 170.3 64 274 64s201.1-22.7 274-64c70.3-39.7 109-91.6 109-146 0-54.5-38.7-106.3-109-146-72.9-41.3-170.2-64-274-64z" fill="currentColor" ></path><path d="M462 687.8h100v100H462v-100zM64 462h100v100H64V462zM860 462h100v100H860V462z"  ></path></symbol><symbol id="tianchong" viewBox="0 0 1024 1024"><path d="M64 129.4h896v40H64zM64 855.6h896v40H64z"  ></path><path d="M129.6 64h40v896h-40zM855.8 64h40v896h-40z"  ></path><path d="M256 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l512-512c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-512 512c-2.9 2.9-6.8 4.4-10.6 4.4zM384 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l384-384c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-384 384c-2.9 2.9-6.8 4.4-10.6 4.4zM512 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l256-256c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-256 256c-2.9 2.9-6.8 4.4-10.6 4.4zM640 783c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l128-128c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-128 128c-2.9 2.9-6.8 4.4-10.6 4.4zM256 655c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l384-384c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-384 384c-2.9 2.9-6.8 4.4-10.6 4.4zM256 527c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l256-256c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-256 256c-2.9 2.9-6.8 4.4-10.6 4.4zM256 399c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l128-128c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2l-128 128c-2.9 2.9-6.8 4.4-10.6 4.4z" fill="currentColor" ></path></symbol><symbol id="yuanhu" viewBox="0 0 1024 1024"><path d="M99 911.2c-0.3-3.5-6.6-87.4 14-201.5 12.1-67.1 31.1-130.6 56.4-188.9 31.7-73.1 73.5-137.9 124.3-192.9C434 176 641.3 99 910 99v30c-259.8 0-459.7 73.7-594.1 219.1C206.2 466.8 161.2 612.6 142.7 714c-20.1 110.6-13.9 194-13.8 194.8L99 911.2z" fill="currentColor" ></path><path d="M860 64h100v100H860V64zM64 860h100v100H64V860zM256 270h100v100H256V270z"  ></path></symbol><symbol id="fuzhi" viewBox="0 0 1024 1024"><path d="M959.5 965h-750c-8.3 0-15-6.7-15-15V200c0-8.3 6.7-15 15-15h750c8.3 0 15 6.7 15 15v750c0 8.3-6.7 15-15 15z m-735-30h720V215h-720v720z" fill="currentColor" ></path><path d="M142.5 829H64c-8.3 0-15-6.7-15-15V64c0-8.3 6.7-15 15-15h750c8.3 0 15 6.7 15 15v82c0 8.3-6.7 15-15 15s-15-6.7-15-15V79H79v720h63.5c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M781.5 590.9h-400c-8.3 0-15-6.7-15-15s6.7-15 15-15h400c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M581.5 790.9c-8.3 0-15-6.7-15-15v-400c0-8.3 6.7-15 15-15s15 6.7 15 15v400c0 8.2-6.7 15-15 15z"  ></path></symbol><symbol id="shanchu" viewBox="0 0 1024 1024"><path d="M562.4 327.623l21.214-21.213 255.97 255.97-21.213 21.213z"  ></path><path d="M506.7 898.2L485.5 877l438.7-438.7-216.8-216.7-544.5 544.5 111 110.9-21.2 21.2-121.6-121.5c-5.9-5.9-5.9-15.4 0-21.2l565.7-565.7c2.8-2.8 6.6-4.4 10.6-4.4s7.8 1.6 10.6 4.4l238 238c5.9 5.9 5.9 15.4 0 21.2L506.7 898.2z" fill="currentColor" ></path><path d="M252 867.6h256v30H252z" fill="currentColor" ></path><path d="M276.2 930.2H960v30H276.2z"  ></path></symbol><symbol id="lisanquxian" viewBox="0 0 1024 1024"><path d="M128 815h-0.9c-8.3-0.5-14.6-7.6-14.1-15.9 0.1-1 6.5-105.5 22.6-221.6 1.1-8.2 8.7-13.9 16.9-12.8 8.2 1.1 13.9 8.7 12.8 16.9-15.9 115-22.3 218.3-22.4 219.4-0.4 7.9-7 14-14.9 14zM805.8 446.7c-2.5 0-5-0.6-7.4-1.9-7.2-4.1-9.8-13.2-5.7-20.4 56.1-99.4 88.6-203.7 88.9-204.8 2.4-7.9 10.8-12.4 18.8-9.9 7.9 2.4 12.4 10.8 9.9 18.8-1.3 4.4-33.7 108.4-91.4 210.7-2.7 4.8-7.8 7.5-13.1 7.5z"  ></path><path d="M583.7 635.6c-27.7 0-52.1-9.7-74.7-29.4-33.2-28.8-59.8-77.4-90.6-133.6C389 419 355.7 358.2 308.2 297.2c-11-14.2-27.2-30.4-41.7-26.9-14.7 3.6-52.8 32.7-87.3 224.2-1.5 8.2-9.3 13.6-17.4 12.1-8.2-1.5-13.6-9.3-12.1-17.4 12.1-66.8 25.8-120.7 40.7-160.3 19.9-52.5 42.4-81.2 69-87.7 24.2-5.9 48.6 6.7 72.5 37.6 48.9 63 82.8 124.8 112.8 179.4C510.9 579 544 630.9 634.3 594.1c37.2-15.1 74.5-47.4 110.9-96.1 5-6.6 14.4-8 21-3s8 14.4 3 21c-39.8 53.1-81.4 88.7-123.6 105.9-22.4 9.1-42.9 13.7-61.9 13.7z" fill="currentColor" ></path></symbol><symbol id="jingxiang" viewBox="0 0 1024 1024"><path d="M448 975H64c-5 0-9.7-2.5-12.5-6.7-2.8-4.2-3.3-9.5-1.3-14.2l384-896c2.8-6.5 9.8-10.2 16.8-8.8 7 1.4 12 7.6 12 14.7v896c0 8.3-6.7 15-15 15zM86.7 945H433V137.1L86.7 945z"  ></path><path d="M960 975H576c-8.3 0-15-6.7-15-15V64c0-7.1 5-13.3 12-14.7 7-1.4 14 2.2 16.8 8.8l384 896c2 4.6 1.5 10-1.3 14.2-2.8 4.2-7.5 6.7-12.5 6.7z m-369-30h346.3L591 137.1V945z" fill="currentColor" ></path></symbol><symbol id="jianqie" viewBox="0 0 1024 1024"><path d="M960 527H743.3c-8.3 0-15-6.7-15-15s6.7-15 15-15H960c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M544.2 527h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0H64c-8.3 0-15-6.7-15-15s6.7-15 15-15h0.2c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M453.3 933c-2.1 0-4.3-0.5-6.3-1.4-7.5-3.5-10.8-12.4-7.3-19.9L818.4 99.6c3.5-7.5 12.4-10.8 19.9-7.3 7.5 3.5 10.8 12.4 7.3 19.9L466.9 924.4c-2.5 5.4-7.9 8.6-13.6 8.6z" fill="currentColor" ></path></symbol><symbol id="huitui" viewBox="0 0 1024 1024"><path d="M960.3 835.6c0-272.8-470.2-268-470.2-268v166.5L63.7 461.2l426.4-272.9v166.5s470.2 18 470.2 480.8z" fill="currentColor" ></path></symbol><symbol id="yuanjiao" viewBox="0 0 1024 1024"><path d="M640 94.3h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0H80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M79.3 654.3c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z m0-160c-8.3 0-15-6.7-15-15v-80c0-8.3 6.7-15 15-15s15 6.7 15 15v80c0 8.3-6.8 15-15 15z"  ></path><path d="M64.1 946.2c-0.2-2.3-2.9-36.7-0.1-91V448c0-8.3 6.7-15 15-15s15 6.7 15 15v208.7c11.9-46.8 27.1-91.6 45.3-133.8 34.2-79.2 79.4-149.7 134.4-209.3C373.3 205.3 504.5 132 665.3 94.3H448c-8.3 0-15-6.7-15-15s6.7-15 15-15h497v30c-284.2 0-502.6 80.5-649.1 239.4C176.7 463 128.1 621.7 108.4 732c-8.6 47.9-12.6 91.1-14.4 125.8V945l-29.9 1.2z" fill="currentColor" ></path></symbol><symbol id="pianyi" viewBox="0 0 1024 1024"><path d="M787 802H687c-8.3 0-15-6.7-15-15s6.7-15 15-15h85v-25c0-8.3 6.7-15 15-15s15 6.7 15 15v40c0 8.3-6.7 15-15 15z m-180 0H507c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0H327c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0h-10c-8.3 0-15-6.7-15-15v-90c0-8.3 6.7-15 15-15s15 6.7 15 15v75.9c5.8 2.1 10 7.6 10 14.1 0 8.3-6.7 15-15 15z m540-120c-8.3 0-15-6.7-15-15V567c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15V517c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m550-130c-8.3 0-15-6.7-15-15V387c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15V337c0-8.3 6.7-15 15-15s15 6.7 15 15v100c0 8.3-6.7 15-15 15z m550-130c-8.3 0-15-6.7-15-15v-55h-15c-8.3 0-15-6.7-15-15s6.7-15 15-15h30c8.3 0 15 6.7 15 15v70c0 8.3-6.7 15-15 15z m-550-50c-8.3 0-15-6.7-15-15v-20c0-8.3 6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15h-65v5c0 8.3-6.7 15-15 15z m440-20H577c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-180 0H397c-8.3 0-15-6.7-15-15s6.7-15 15-15h100c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M945 960H79c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h866c8.3 0 15 6.7 15 15v866c0 8.3-6.7 15-15 15zM94 930h836V94H94v836z" fill="currentColor" ></path></symbol><symbol id="suofang" viewBox="0 0 1024 1024"><path d="M945 960H572c-8.3 0-15-6.7-15-15s6.7-15 15-15h358V94H94v358c0 8.3-6.7 15-15 15s-15-6.7-15-15V79c0-8.3 6.7-15 15-15h866c8.3 0 15 6.7 15 15v866c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M479 960H79c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 930h370V560H94v370z"  ></path></symbol><symbol id="zhenlie" viewBox="0 0 1024 1024"><path d="M479 960H79c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 930h370V560H94v370z"  ></path><path d="M479 494H79c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15zM94 464h370V94H94v370zM945 494H545c-8.3 0-15-6.7-15-15V79c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15z m-385-30h370V94H560v370zM945 960H545c-8.3 0-15-6.7-15-15V545c0-8.3 6.7-15 15-15h400c8.3 0 15 6.7 15 15v400c0 8.3-6.7 15-15 15z m-385-30h370V560H560v370z" fill="currentColor" ></path></symbol><symbol id="xuanzhuan" viewBox="0 0 1024 1024"><path d="M512 972.3c-56 0-110.4-11-161.5-32.6-49.4-20.9-93.8-50.8-131.9-88.9-38.1-38.1-68-82.5-88.9-131.9C108 667.7 97 613.3 97 557.3s11-110.4 32.6-161.5c20.9-49.4 50.8-93.8 88.9-131.9 38.1-38.1 82.5-68 131.9-88.9 51.2-21.6 105.5-32.6 161.5-32.6 8.7 0 17.5 0.3 26 0.8l-1.9 29.9c-7.9-0.5-16.1-0.8-24.2-0.8-212.3 0-385 172.7-385 385s172.7 385 385 385 385-172.7 385-385c0-60.6-13.7-118.6-40.7-172.4l26.8-13.5c29.1 58 43.9 120.5 43.9 185.9 0 56-11 110.4-32.6 161.5-20.9 49.4-50.8 93.8-88.9 131.9s-82.5 68-131.9 88.9c-51 21.7-105.4 32.7-161.4 32.7z" fill="currentColor" ></path><path d="M601.6 168.5L422.4 65v206.9z" fill="currentColor" ></path></symbol><symbol id="hebing" viewBox="0 0 1024 1024"><path d="M65 472h250v80H65zM453.8 512L315 403.8v216.4zM710 472h250v80H710zM571.2 512L710 620.2V403.8z" fill="currentColor" ></path></symbol><symbol id="daduan" viewBox="0 0 1024 1024"><path d="M945.5 893h-867c-8.3 0-15-6.7-15-15V178c0-8.3 6.7-15 15-15h278.6v30H93.5v670h837V193H656v-30h289.5c8.3 0 15 6.7 15 15v700c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M606 128h100v100H606V128zM320 128h100v100H320V128z"  ></path></symbol><symbol id="zhiyuduixiangzhishang" viewBox="0 0 1024 1024"><path d="M64 64h600v600H64z"  ></path><path d="M959.7 960.3h-480V704h30v226.3h420v-420H704v-30h255.7z" fill="currentColor" ></path></symbol><symbol id="qianzhi" viewBox="0 0 1024 1024"><path d="M322 322h380v380H322z"  ></path><path d="M297 473.9H65.9v-410h410V297h-30V93.9h-350v350H297zM958.5 960.1h-410V727h30v203.1h350v-350H727v-30h231.5z" fill="currentColor" ></path></symbol><symbol id="tuceng" viewBox="0 0 1024 1024"><path d="M851.4 471.6L526.1 666.8c-7.8 4.7-20.5 4.7-28.3 0L172.6 471.6c-7.8-4.7-7.8-12.3 0-17l33.6-20.2 291.7 175c7.8 4.7 20.5 4.7 28.3 0l291.7-175 33.6 20.2c7.7 4.8 7.7 12.4-0.1 17z" fill="currentColor" ></path><path d="M851.4 584.5L526.1 779.6c-7.8 4.7-20.5 4.7-28.3 0L172.6 584.5c-7.8-4.7-7.8-12.3 0-17l26.5-15.9 298.7 179.2c7.8 4.7 20.5 4.7 28.3 0l298.7-179.2 26.5 15.9c7.9 4.7 7.9 12.3 0.1 17z" fill="currentColor" ></path><path d="M497.9 548.1L172.6 352.9c-7.8-4.7-7.8-12.3 0-17l325.3-195.2c7.8-4.7 20.5-4.7 28.3 0l325.3 195.2c7.8 4.7 7.8 12.3 0 17L526.1 548.1c-7.8 4.7-20.4 4.7-28.2 0z"  ></path></symbol><symbol id="fenjie" viewBox="0 0 1024 1024"><path d="M871.5 298.1L512 90.5 147 301.3v421.5l350 202.1 15 8.7 15-8.7v-34.6l-15 8.7-15-8.7-320-184.9V318.6l335-193.4 327.7 189.2 7.3 4.2v25.7l30-15.3v-27.7l-5.5-3.2z" fill="currentColor" ></path><path d="M497 488.7h30v428.1h-30z" fill="currentColor" ></path><path d="M497.437 489.238L855.19 306.545l13.644 26.718L511.08 515.956z" fill="currentColor" ></path><path d="M148.208 329.397l13.641-26.718 357.754 182.653-13.64 26.718z" fill="currentColor" ></path><path d="M595.6 948.5c-2.7 0-5.4-0.7-7.7-2.1-4.5-2.7-7.3-7.6-7.3-12.9V553.6c0-5.5 3.1-10.6 8-13.2l292.8-155.7c4.6-2.5 10.3-2.3 14.8 0.4 4.5 2.7 7.3 7.6 7.3 12.9v379.8c0 5.5-3.1 10.6-8 13.2L602.7 946.7c-2.2 1.2-4.7 1.8-7.1 1.8z m15-385.9v345.9l262.8-139.7V422.9L610.6 562.6z m277.8 215.2z"  ></path></symbol><symbol id="zhiyuduixiangzhixia" viewBox="0 0 1024 1024"><path d="M962.5 512v450h-450V753.9H753V512z"  ></path><path d="M696.2 694.9h-630v-630h630v630z m-600-30h570v-570h-570v570z" fill="currentColor" ></path></symbol><symbol id="banjingbiaozhu" viewBox="0 0 1024 1024"><path d="M512 960c-60.5 0-119.1-11.8-174.4-35.2-53.3-22.6-101.3-54.9-142.4-96s-73.4-89-96-142.4C75.8 631.1 64 572.5 64 512s11.8-119.1 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89-73.4 142.4-96C392.9 75.8 451.5 64 512 64s119.1 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96s73.4 89 96 142.4C948.2 392.9 960 451.5 960 512s-11.8 119.1-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4s-89 73.4-142.4 96C631.1 948.2 572.5 960 512 960z m0-866C281.5 94 94 281.5 94 512s187.5 418 418 418 418-187.5 418-418S742.5 94 512 94z" fill="currentColor" ></path><path d="M512.5 522.7c-3.8 0-7.7-1.5-10.6-4.4L310.2 326.6c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l191.7 191.7c5.9 5.9 5.9 15.4 0 21.2-2.9 3-6.8 4.4-10.6 4.4z"  ></path><path d="M265 389.1l128.9-128.9-128.9 0.1z"  ></path></symbol><symbol id="yanshen" viewBox="0 0 1024 1024"><path d="M615.3 454.2c-8.3 0-15-6.7-15-15s6.7-15 15-15h169.4c8.3 0 15 6.7 15 15s-6.7 15-15 15H615.3z" fill="currentColor" ></path><path d="M777.3 384.5v109.4l54.7-54.7z" fill="currentColor" ></path><path d="M832 599.8h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z m-160 0h-80c-8.3 0-15-6.7-15-15s6.7-15 15-15h80c8.3 0 15 6.7 15 15s-6.7 15-15 15z"  ></path><path d="M945.1 975c-8.3 0-15-6.7-15-15V64c0-8.3 6.7-15 15-15s15 6.7 15 15v896c0 8.3-6.7 15-15 15z" fill="currentColor" ></path></symbol><symbol id="houzhi" viewBox="0 0 1024 1024"><path d="M702 322v243.1H563.5V702H322V458.9h138.9V322z"  ></path><path d="M960.1 959.2h-350v-350h350v350z m-320-30h290v-290h-290v290zM414.3 414.8h-350v-350h350v350z m-320-30h290v-290h-290v290z" fill="currentColor" ></path></symbol><symbol id="qingxiebiaozhu" viewBox="0 0 1024 1024"><path d="M80 869.5c-1.3 0-2.6-0.2-3.9-0.5-8-2.1-12.8-10.4-10.6-18.4l183.5-685c2.1-8 10.4-12.8 18.4-10.6 8 2.1 12.8 10.4 10.6 18.4l-183.5 685c-1.8 6.7-7.9 11.1-14.5 11.1z" fill="currentColor" ></path><path d="M765.3 527H258.7c-8.3 0-15-6.7-15-15s6.7-15 15-15h506.5c8.3 0 15 6.7 15 15s-6.6 15-14.9 15z"  ></path><path d="M273 415.4L212 512l61 96.6h0.6V415.4zM751 415.4l61 96.6-61 96.6h-0.6V415.4z"  ></path><path d="M761.2 871.7c-1.3 0-2.6-0.2-3.9-0.5-8-2.1-12.8-10.4-10.6-18.4l183.5-685c2.1-8 10.4-12.7 18.4-10.6 8 2.1 12.8 10.4 10.6 18.4l-183.5 685c-1.9 6.7-7.9 11.1-14.5 11.1z" fill="currentColor" ></path><path d="M468.2 312.1v118.8c0 4.2 1.3 7.3 3.9 9.4 2.6 2.1 6.2 3.1 10.9 3.1h7.8v4.7h-57v-4.7h7c5.2 0 9-1 11.3-3.1 2.3-2.1 3.5-5.2 3.5-9.4v-94.5c0-2.1-0.7-3.8-2-5.1-1.3-1.3-3.3-2-5.9-2h-14.1v-4.7h7c6.2 0 11.3-1 15.2-3.1 3.9-2.1 6.9-5.2 9-9.4h3.4zM561.2 449.6c-11.5 0-21.1-6-28.9-18-7.8-12-11.7-28.9-11.7-50.8 0-20.3 3.8-36.7 11.3-49.2 7.5-12.5 17.3-18.8 29.3-18.8 11.5 0 21 6 28.5 18s11.3 28.6 11.3 50-3.8 38.2-11.3 50.4c-7.5 12.2-17 18.4-28.5 18.4z m0-130.5c-7.3 0-13.4 5.6-18.4 16.8-5 11.2-7.4 26.2-7.4 44.9 0 19.8 2.5 35.2 7.4 46.1 4.9 10.9 11.1 16.4 18.4 16.4 7.8 0 13.9-5.5 18.4-16.4 4.4-10.9 6.6-26.3 6.6-46.1 0-18.8-2.1-33.7-6.2-44.9-4.2-11.2-10.5-16.8-18.8-16.8z"  ></path></symbol><symbol id="yidong" viewBox="0 0 1024 1024"><path d="M174.4 497h675.2v30H174.4z" fill="currentColor" ></path><path d="M191.5 384.4v255.2L64 512zM832.5 384.4v255.2L960 512z" fill="currentColor" ></path><path d="M497 174.4h30v675.2h-30z" fill="currentColor" ></path><path d="M384.4 832.5h255.2L512 960zM384.4 191.5h255.2L512 64z" fill="currentColor" ></path></symbol><symbol id="duiqibiaozhu" viewBox="0 0 1142 1024"><path d="M469.12011 1024c-3.406684 0-6.903018-1.344744-9.502856-3.944582L10.024573 570.552387c-5.289326-5.289326-5.289326-13.806036 0-19.005713 5.289326-5.289326 13.806036-5.289326 19.005713 0l449.592681 449.592681c5.289326 5.289326 5.289326 13.806036 0 19.005713-2.599838 2.599838-6.096172 3.854932-9.502857 3.854932z" fill="currentColor" ></path><path d="M309.633494 733.983585c-3.406684 0-6.903018-1.344744-9.502856-3.944582-5.289326-5.289326-5.289326-13.806036 0-19.005713l416.153385-416.153385c5.289326-5.289326 13.806036-5.289326 19.005712 0 5.289326 5.289326 5.289326 13.806036 0 19.005713L319.136351 730.039003c-2.689488 2.599838-6.096172 3.944582-9.502857 3.944582z"  ></path><path d="M257.457435 650.25087L279.959481 750.12051l99.86964 22.591696 0.448248-0.448247-122.461336-122.371687zM655.591252 252.117052l99.869641 22.591696 22.502046 99.869641-0.358598 0.358598-122.461337-122.371687z"  ></path><path d="M1016.69979 476.42032c-3.406684 0-6.903018-1.344744-9.502856-3.944582L557.604253 22.972707c-5.289326-5.289326-5.289326-13.806036 0-19.005713 5.289326-5.289326 13.806036-5.289326 19.005713 0l449.592681 449.592681c5.289326 5.289326 5.289326 13.806036 0 19.005713-2.599838 2.510188-6.096172 3.854932-9.502857 3.854932z" fill="currentColor" ></path><path d="M363.243948 413.39666l75.305653 75.305653c2.689488 2.689488 5.468625 3.765283 8.427061 3.496334 2.958436-0.358598 5.916873-1.972291 8.875309-4.930727l4.930728-4.930727 2.958436 2.958436-36.128784 36.128784-2.958436-2.958437 4.482479-4.482479c3.317035-3.317035 5.020377-6.365121 5.199676-9.144258 0.179299-2.779137-1.075795-5.558274-3.675633-8.158112L370.684863 436.705553c-1.344744-1.344744-2.779137-1.972291-4.482479-1.972291-1.613693 0-3.317035 0.806846-4.930727 2.510188l-8.875309 8.875309-2.958437-2.958436 4.48248-4.482479c3.944582-3.944582 6.54442-7.799514 7.709864-11.654447 1.165445-3.765283 1.075795-7.709865-0.268949-11.654446l1.882642-1.972291zM509.372775 441.63628c-7.261617 7.261617-17.123071 9.592506-29.674013 6.903018-12.550942-2.599838-25.729432-10.93725-39.625118-24.743286-12.909541-12.909541-20.888354-25.639782-24.026089-38.370023-3.137736-12.730241-0.896496-22.860645 6.723719-30.48086 7.261617-7.261617 17.123071-9.502856 29.494714-6.723719 12.371643 2.779137 25.370833 10.93725 38.907921 24.474337 13.537088 13.537088 21.78485 26.625927 24.743286 39.08722 2.868787 12.730241 0.717197 22.591696-6.54442 29.853313z m-82.746569-82.65692c-4.661779 4.661779-4.930727 12.013045-0.986145 22.322748 3.944582 10.220053 11.923395 21.336602 23.75714 33.170347 12.550942 12.550942 23.84679 20.709055 33.887544 24.474337 10.040754 3.765283 17.39202 3.406684 22.053799-1.255094 4.930727-4.930727 5.378975-12.281993 1.255094-22.053798-4.123881-9.771805-12.461293-20.888354-25.012235-33.439296-11.923395-11.923395-22.681346-20.081508-32.453151-24.474338-9.682155-4.482479-17.212721-4.034231-22.502046 1.255094z"  ></path></symbol><symbol id="xianxingbiaozhu" viewBox="0 0 1024 1024"><path d="M80.7 881.6c-8.3 0-15-6.7-15-15V157.4c0-8.3 6.7-15 15-15s15 6.7 15 15v709.2c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M840.3 527H183.7c-8.3 0-15-6.7-15-15s6.7-15 15-15h656.5c8.3 0 15 6.7 15 15s-6.6 15-14.9 15z"  ></path><path d="M198 415.4L137 512l61 96.6h0.6V415.4zM826 415.4l61 96.6-61 96.6h-0.6V415.4z"  ></path><path d="M944.7 881.6c-8.3 0-15-6.7-15-15V157.4c0-8.3 6.7-15 15-15s15 6.7 15 15v709.2c0 8.3-6.7 15-15 15z" fill="currentColor" ></path><path d="M468.2 312.1v118.8c0 4.2 1.3 7.3 3.9 9.4 2.6 2.1 6.2 3.1 10.9 3.1h7.8v4.7h-57v-4.7h7c5.2 0 9-1 11.3-3.1 2.3-2.1 3.5-5.2 3.5-9.4v-94.5c0-2.1-0.7-3.8-2-5.1-1.3-1.3-3.3-2-5.9-2h-14.1v-4.7h7c6.2 0 11.3-1 15.2-3.1 3.9-2.1 6.9-5.2 9-9.4h3.4zM561.2 449.6c-11.5 0-21.1-6-28.9-18-7.8-12-11.7-28.9-11.7-50.8 0-20.3 3.8-36.7 11.3-49.2 7.5-12.5 17.3-18.8 29.3-18.8 11.5 0 21 6 28.5 18s11.3 28.6 11.3 50-3.8 38.2-11.3 50.4c-7.5 12.2-17 18.4-28.5 18.4z m0-130.5c-7.3 0-13.4 5.6-18.4 16.8-5 11.2-7.4 26.2-7.4 44.9 0 19.8 2.5 35.2 7.4 46.1 4.9 10.9 11.1 16.4 18.4 16.4 7.8 0 13.9-5.5 18.4-16.4 4.4-10.9 6.6-26.3 6.6-46.1 0-18.8-2.1-33.7-6.2-44.9-4.2-11.2-10.5-16.8-18.8-16.8z"  ></path></symbol><symbol id="zhijingbiaozhu" viewBox="0 0 1024 1024"><path d="M512 960c-60.5 0-119.1-11.8-174.4-35.2-53.3-22.6-101.3-54.9-142.4-96s-73.4-89-96-142.4C75.8 631.1 64 572.5 64 512s11.8-119.1 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89-73.4 142.4-96C392.9 75.8 451.5 64 512 64s119.1 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96s73.4 89 96 142.4C948.2 392.9 960 451.5 960 512s-11.8 119.1-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4s-89 73.4-142.4 96C631.1 948.2 572.5 960 512 960z m0-866C281.5 94 94 281.5 94 512s187.5 418 418 418 418-187.5 418-418S742.5 94 512 94z" fill="currentColor" ></path><path d="M703.7 718.7c-3.8 0-7.7-1.5-10.6-4.4L309.7 330.9c-5.9-5.9-5.9-15.4 0-21.2 5.9-5.9 15.4-5.9 21.2 0l383.4 383.4c5.9 5.9 5.9 15.4 0 21.2-2.9 2.9-6.7 4.4-10.6 4.4z"  ></path><path d="M630.6 759.5l128.9-128.9v128.9zM264.5 393.4l128.9-128.9H264.5z"  ></path></symbol><symbol id="jiaodubiaozhu" viewBox="0 0 1024 1024"><path d="M783 680.6l-30-0.3v-4c0-111.3-43.3-216.1-121.8-294.9l21.3-21.2c40.9 41.1 73.1 88.9 95.5 142.2 23.2 55.1 35 113.6 35 173.9v4.3z"  ></path><path d="M677.6 659.9l181.5 16.6-99 82.4zM591.6 448.6l118.2-138.7-128.5 10.3z"  ></path><path d="M945 895.5H79c-8.3 0-15-6.7-15-15s6.7-15 15-15h866c8.3 0 15 6.7 15 15s-6.7 15-15 15z" fill="currentColor" ></path><path d="M81.5 704.2c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2L683.2 66.2c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L92.1 699.8c-3 2.9-6.8 4.4-10.6 4.4z" fill="currentColor" ></path></symbol><symbol id="jiesuo1" viewBox="0 0 1055 1024"><path d="M374.55451349 243.47623678C300.33283245 243.47623678 239.95572897 303.85334027 239.95572897 378.0750213l0 94.63149207 54.73330668 0 0-94.63149207c0-44.03312982 35.83234801-79.86547784 79.86547784-79.86547782s79.86547784 35.82082981 79.86547784 79.86547782l0 94.63149207 54.74482491 0 0-94.63149207C509.16481623 303.85334027 448.77619507 243.47623678 374.55451349 243.47623678z" fill="currentColor" ></path><path d="M749.52143422 488.65887659L435.91064257 488.65887659c-23.83064222 0-43.15776545 19.31560501-43.15776544 43.14624723l0 205.56088552c0 23.84216044 19.31560501 43.15776545 43.15776544 43.15776543l313.61079111 0c23.81912455 0 43.13472954-19.31560501 43.13472958-43.15776543L792.65616325 531.79360615C792.65616325 507.9744816 773.35207644 488.65887659 749.52143422 488.65887659zM679.67657409 653.51532049l-42.7546368 1e-8c-7.3484533 17.15023043-24.36046793 29.16345389-44.20589917 29.16345389s-36.85744586-12.01322345-44.21741683-29.16345389l-42.7546368 0 0-37.85950733 42.7546368 0c7.35997098-17.13871223 24.37198613-29.15193622 44.21741683-29.15193621s36.85744586 12.01322345 44.20589917 29.15193621l42.7546368 0L679.67657409 653.51532049z" fill="currentColor" ></path></symbol><symbol id="yanjing1" viewBox="0 0 1764 1024"><path d="M810.3174103 734.08587615C804.96157574 734.08587615 799.48214404 733.05590804 794.20870709 730.78997779 709.71011026 694.90588371 655.03939531 612.17883284 655.03939531 520.09967073 655.03939531 393.94915788 757.33584297 291.32312044 883.07436847 291.32312044 1008.77169513 291.32312044 1111.02694399 393.94915788 1111.02694399 520.09967073 1111.02694399 610.77807617 1058.99294715 693.29913298 978.40823086 730.2955935 957.6852695 739.8125 933.21322359 730.74877897 923.73751519 710.06701644 914.2618075 689.42645271 923.32552779 664.95440682 944.00729108 655.43750032 995.42330646 631.83062727 1028.62948288 578.72546354 1028.62948288 520.09967073 1028.62948288 439.39135726 963.32949502 373.72058082 883.07436847 373.72058082 802.77804237 373.72058082 737.43685641 439.39135726 737.43685641 520.09967073 737.43685641 579.05505403 772.37337927 631.99542253 826.46731304 654.98431412 847.39626772 663.88323991 857.16036708 688.06689486 848.26144131 708.99584953 841.58724696 724.65136726 826.34371661 734.08587615 810.3174103 734.08587615" fill="currentColor" ></path><path d="M883.70058908 874.66006454C623.77779855 874.66006454 404.47695595 695.93997177 296.86587253 589.40005526 274.70095497 567.44113175 262.46493203 538.51962295 262.46493203 507.95016463 262.46493203 477.33950822 274.70095497 448.41799946 296.86587253 426.45907593 404.47695595 319.91915869 623.77779855 141.19906592 883.70058908 141.19906592 1143.62337962 141.19906592 1362.92422222 319.91915869 1470.49410682 426.45907593 1492.65902439 448.41799946 1504.89504732 477.33950822 1504.89504732 507.95016463 1504.89504732 538.51962295 1492.65902439 567.44113175 1470.49410682 589.40005526 1450.47152382 609.25784302 1432.75606987 626.43771386 1402.68099654 651.73373381 1385.25393357 666.35928345 1359.25753455 664.134552 1344.63198566 646.70748901 1330.00643602 629.28042602 1332.23116747 603.28402702 1349.65823046 588.65847811 1377.42617471 565.29879793 1393.20528888 549.97286996 1412.52749353 530.85665861 1418.95449502 524.47085595 1422.49758625 516.35470614 1422.49758625 507.95016463 1422.49758625 499.54562386 1418.95449502 491.38827522 1412.52749353 485.04367065 1333.13753985 406.43649292 1122.73562304 223.59652701 883.70058908 223.59652701 644.66555513 223.59652701 434.2224395 406.43649292 354.87368463 485.04367065 348.44668316 491.38827522 344.86239311 499.54562386 344.86239311 507.95016463 344.86239311 516.35470614 348.44668316 524.47085595 354.87368463 530.81546053 434.2224395 609.46383634 644.66555513 792.26260345 883.70058908 792.26260345 1006.67879929 792.26260345 1114.24868462 756.46090698 1232.44784217 676.2057797 1251.31686139 663.35177605 1276.94247109 668.29562393 1289.67287903 687.12344361 1302.48568463 705.95126327 1297.58303555 731.53567489 1278.75521588 744.34848046 1147.86684918 833.25534066 1022.29311822 874.66006454 883.70058908 874.66006454" fill="currentColor" ></path></symbol><symbol id="gou" viewBox="0 0 1397 1024"><path d="M1396.363636 121.018182c0 0-223.418182 74.472727-484.072727 372.363636-242.036364 269.963636-297.890909 381.672727-390.981818 530.618182C512 1014.690909 372.363636 744.727273 0 549.236364l195.490909-186.181818c0 0 176.872727 121.018182 297.890909 344.436364 0 0 307.2-474.763636 902.981818-707.490909L1396.363636 121.018182 1396.363636 121.018182zM1396.363636 121.018182" fill="currentColor" ></path></symbol><symbol id="jia" viewBox="0 0 1024 1024"><path d="M952.32 248.35584C952.32 150.77888 873.216 71.68 775.63904 71.68H248.36096C150.784 71.68 71.68 150.77888 71.68 248.35584v527.2832C71.68 873.22112 150.784 952.32 248.36096 952.32h527.27808C873.216 952.32 952.32 873.22112 952.32 775.64416V248.35584z m-46.08 527.2832C906.24 847.7696 847.7696 906.24 775.63904 906.24H248.36096C176.2304 906.24 117.76 847.7696 117.76 775.63904V248.36096C117.76 176.2304 176.2304 117.76 248.36096 117.76h527.27808C847.7696 117.76 906.24 176.2304 906.24 248.36096v527.27808z" fill="currentColor" ></path><path d="M766.49472 476.16H547.84V257.1264c0-21.20704-17.18784-38.4-38.4-38.4s-38.4 17.19296-38.4 38.4V476.16H254.49984c-21.20704 0-38.4 17.18784-38.4 38.4s17.19296 38.4 38.4 38.4H471.04v216.1664c0 21.21216 17.18784 38.4 38.4 38.4s38.4-17.18784 38.4-38.4V552.96h218.65472c21.21216 0 38.4-17.18784 38.4-38.4s-17.18784-38.4-38.4-38.4z" fill="currentColor" ></path></symbol></svg>',function(e){var r=(r=document.getElementsByTagName("script"))[r.length-1],t=r.getAttribute("data-injectcss"),r=r.getAttribute("data-disable-injectsvg");if(!r){var i,a,l,c,d,E=function(f,A){A.parentNode.insertBefore(f,A)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(f){console&&console.log(f)}}i=function(){var f,A=document.createElement("div");A.innerHTML=e._iconfont_svg_string_3973422,(A=A.getElementsByTagName("svg")[0])&&(A.setAttribute("aria-hidden","true"),A.style.position="absolute",A.style.width=0,A.style.height=0,A.style.overflow="hidden",A=A,(f=document.body).firstChild?E(A,f.firstChild):f.appendChild(A))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),i()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(l=i,c=e.document,d=!1,D(),c.onreadystatechange=function(){c.readyState=="complete"&&(c.onreadystatechange=null,C())})}function C(){d||(d=!0,l())}function D(){try{c.documentElement.doScroll("left")}catch{return void setTimeout(D,50)}C()}}(window);const iconfont="",ScrollBottom={updated(e,t){(typeof t.value>"u"?!0:unref(t.value))&&e.scrollTo(e.scrollWidth,e.scrollHeight)}},CURSORTYPE={top:"n-resize",bottom:"s-resize",left:"w-resize",right:"e-resize",right_top:"ne-resize",left_top:"nw-resize",left_bottom:"sw-resize",right_bottom:"se-resize",default:"default"},mounted=(e,t)=>{const r=t.modifiers,{onmouseup:i,onmousemove:a}=t.value,l=e,c=l.currentStyle||window.getComputedStyle(l,null),d=C=>{const{x:D,y:f,left:A,top:S,width:L,height:N}=C;let G="default";return D>A+L-5&&e.scrollTop+f<=S+N-5&&S+5<=f?G="right":A+5>D&&e.scrollTop+f<=S+N-5&&S+5<=f?G="left":e.scrollTop+f>S+N-5&&D<=A+L-5&&A+5<=D?G="bottom":S+5>f&&D<=A+L-5&&A+5<=D?G="top":D>A+L-5&&e.scrollTop+f>S+N-5?G="right_bottom":A+5>D&&e.scrollTop+f>S+N-5?G="left_bottom":S+5>f&&D>A+L-5?G="right_top":S+5>f&&A+5>D&&(G="left_top"),r?r[G]?G:"default":G},E=C=>{const{left:D,top:f,width:A,height:S,diffX:L,diffY:N,screenHeight:G,screenWidth:ie,arr:le}=C,ae=()=>{A+L>ie-D?l.style.width=ie-D+"px":l.style.width=A+L+"px"},he=()=>{A-L>A+D?(l.style.width=A+D+"px",l.style.left=-parseInt(c.marginLeft)+"px"):(l.style.width=A-L+"px",l.style.left=D+L-parseInt(c.marginLeft)+"px")},pe=()=>{S-N>S+f?(l.style.height=S+f+"px",l.style.top=-parseInt(c.marginTop)+"px"):(l.style.height=S-N+"px",l.style.top=f+N-parseInt(c.marginTop)+"px")},B=()=>{S+N>G-f?l.style.height=G-f+"px":l.style.height=S-N+"px"};(le[0]=="right"||le[1]=="right")&&ae(),(le[0]=="left"||le[1]=="left")&&he(),(le[0]=="top"||le[1]=="top")&&pe(),(le[0]=="bottom"||le[1]=="bottom")&&B()};l.onmousemove=function(C){const D=C.clientX,f=C.clientY,A=l.offsetLeft,S=l.offsetTop,L=l.clientWidth,N=l.clientHeight;let G=d({x:D,y:f,left:A,top:S,width:L,height:N});l.style.cursor=CURSORTYPE[G]||"default"},l.onmousedown=C=>{const D=C.clientX,f=C.clientY,A=l.clientWidth,S=l.clientHeight,L=l.offsetLeft,N=l.offsetTop,G=document.documentElement.clientWidth||document.body.clientWidth,ie=document.documentElement.clientHeight||document.body.clientHeight;let le=d({x:D,y:f,left:L,top:N,width:A,height:S});document.onmousemove=function(ae){ae.preventDefault();let he=ae.clientX,pe=ae.clientY,B=he-D,se=pe-f,oe;le.indexOf("_")==-1?oe=[le,""]:oe=le.split("_"),E({left:L,top:N,width:A,height:S,diffX:B,diffY:se,screenHeight:ie,screenWidth:G,arr:oe}),a&&a()},document.onmouseup=function(){i&&i(),document.onmousemove=null,document.onmouseup=null}}},Draw={mounted},FocusSelect={mounted(e,t){const r=typeof t.value>"u"?!0:unref(t.value),i=(a,l=!0)=>{const c=a.parentNode;!c||(l?(c.style.background="#fff",c.style.color="#000"):(c.style.background="",c.style.color=""))};e.onfocus=()=>{!r||(i(e,!0),selectText(e))},e.onblur=()=>{i(e,!1)}},unmounted(e){e.onfocus=null,e.onblur=null}},Draggable={mounted:function(e,t){const r=e;let i=null;const a=r.parentNode;a.style.width="100%",a.style.height="100%",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center";const{downEl:l}=t.value||{};typeof l=="string"&&(i=e.querySelector(t.value.downEl)),isRef(l)&&(i=unref(l)),i||(i=e);function c(d){function E(ie,le){return typeof window.getComputedStyle<"u"?window.getComputedStyle(ie,null)[le]:typeof ie.currentStyle<"u"?ie.currentStyle[le]:""}const C=/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/,D=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/;r.className.indexOf("drag_box_translate3d")<0&&(r.className+=" drag_box_translate3d");const f={},A=E(r,"transform"),S=A.match(C)||A.match(D);f.clientX=d.clientX,f.clientY=d.clientY,f.targetX=S[1],f.targetY=S[2],f.distX=f.clientX-f.targetX,f.distY=f.clientY-f.targetY,r.style.position="absolute";const L=d.pageX-r.offsetLeft,N=d.pageY-r.offsetTop,G=function(ie){ie.stopPropagation(),ie.preventDefault();let le=ie.clientX-f.distX,ae=ie.clientY-f.distY;Math.abs(ae)>=Math.abs(f.clientY-N)&&(ae>0?ae=f.clientY-N:ae=-(f.clientY-N)),Math.abs(le)>=Math.abs(f.clientX-L)&&(le>0?le=f.clientX-L:le=-(f.clientX-L));const he=r.style;he.transform=he.mozTransform=he.webkitTransform=`translate3d(${le}px, ${ae}px, 1px)`};document.onmousemove=G,document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}i.onmousedown=c}},BoxSelection={mounted(e,t){const r=t.value,i=document.createElement("div");e.style.position="relative";let a=0,l=0;e.onmousedown=c=>{e.onselectstart=()=>!1,i.style.cssText="width: 0; height: 0; border:2px solid#0696D7; opacity: 0.4; position: absolute; display: none;",e.appendChild(i);const d=e.getBoundingClientRect();a=c.clientX-d.left+e.scrollLeft,l=c.clientY-d.top+e.scrollTop,i.style.left=a+"px",i.style.top=l+"px",e.onmousemove=function(C){if(C.buttons==1||C.which==1){i.style.display="block";const D=C.clientX-d.left+e.scrollLeft,f=C.clientY-d.top+e.scrollTop,A=Math.abs(D-a),S=Math.abs(f-l);i.style.width=A+"px",i.style.height=S+"px",D<a&&(i.style.left=a-A+"px"),f<l&&(i.style.top=l-S+"px")}};let E=[];document.onmouseup=function(C){r&&r((D,f=()=>{})=>{let A=[];const S=i.offsetLeft,L=i.offsetWidth,N=i.offsetTop,G=i.offsetHeight;for(var ie=0;ie<D.length;ie++){var le=D[ie].offsetWidth+D[ie].offsetLeft,ae=D[ie].offsetHeight+D[ie].offsetTop;le>S&&ae>N&&D[ie].offsetLeft<S+L&&D[ie].offsetTop<N+G&&(E.push(D[ie]),f&&A.push(f(D[ie],ie)))}return{nodes:E,map:A}}),i.style.display="none",e.onselectstart=null},e.ondragstart=()=>!1}},unmounted(e){e.onmousedown=null,e.onmousemove=null,e.ondragstart=null,document.onmouseup=null}},Directives={install(e){e.directive("scroll-bottom",ScrollBottom),e.directive("draw",Draw),e.directive("focus-select",FocusSelect),e.directive("draggable",Draggable),e.directive("box-selection",BoxSelection)}},initConfig=async()=>{await fetchUiConfig(),await fetchServerConfig()},registcommad=()=>{addCommand("Mx_Rectang",()=>{MxDbRect.use()}),addCommand("Mx_Spline",()=>{MxDbSplineCurve.use()}),addCommand("_InsertImage",()=>{MxDbImage.use()}),addCommand("_DrawText",()=>{MxDbText.use()}),addCommand("Mx_Hatch",()=>{MxDbArea.use()})};registcommad();addCommand("OpenDwg",()=>{MxElectronAPI?.openFile()});addCommand("OpenDwgImp",e=>{const{baseUrl:t="",mxfilepath:r=""}=getUploadFileConfig()||{};let i=t+r+e+".dwg.mxweb";s.App.GetCurrentMxCAD().openWebFile(i)});addCommand("Mx_SaveAs",()=>{s.App.GetCurrentMxCAD().saveFile(void 0,void 0,!0)});addCommand("Mx_debug_tools",()=>{MxElectronAPI.debugTools()});addCommand("Mx_clear_file_cache",()=>{MxElectronAPI.clearFileCache()});const app=createApp(App);registerPlugins(app);initConfig().then(()=>{app.use(Directives).mount("#app")});export{capitalize as $,createElementBlock as A,genericComponent as B,makeVOverlayProps as C,VDialogTransition as D,useProxiedModel as E,Fragment as F,useScopeId as G,computed as H,IN_BROWSER as I,useRender as J,forwardRefs as K,nextTick as L,MxElectronAPI as M,mergeProps as N,VOverlay as O,VDefaultsProvider as P,getLogoImgSrc as Q,VCardTitle as R,withModifiers as S,VIcon as T,VCardText as U,VDivider as V,VCardActions as W,renderList as X,VCard as Y,breakpoints as Z,_export_sfc as _,createBaseVNode as a,makeRoundedProps as a$,makeTagProps as a0,h as a1,withDirectives as a2,vShow as a3,VImg as a4,VSelect as a5,makeSelectionControlProps as a6,VSelectionControl as a7,makeVInputProps as a8,omit as a9,storeToRefs as aA,onMounted as aB,Color$1 as aC,indexOfMxColor as aD,ColorNameType as aE,ColorMethod as aF,normalizeStyle as aG,defineComponent as aH,convertToUnit as aI,useResizeObserver as aJ,clamp as aK,getEventCoordinates as aL,parseHex as aM,HexToHSV as aN,RGBtoHSV as aO,HSLtoHSV as aP,HSVtoHex as aQ,HSVtoRGB as aR,HSVtoHSL as aS,HSVtoCSS as aT,deepEqual as aU,getContrast as aV,makeBorderProps as aW,makeDimensionProps as aX,makeElevationProps as aY,makeLocationProps as aZ,makePositionProps as a_,makeSelectionControlGroupProps as aa,IconValue$1 as ab,getUid as ac,filterInputAttrs as ad,filterInputProps as ae,VLabel as af,VSelectionControlGroup as ag,VInput as ah,makeVCheckboxBtnProps as ai,useFocus as aj,VCheckboxBtn as ak,propsFactory$1 as al,watchEffect as am,wrapInArray as an,getPropertyFromItem as ao,makeSelectProps as ap,makeVTextFieldProps as aq,makeTransitionProps as ar,useLocale as as,useItems as at,useForm as au,VMenu as av,VList as aw,VListItem as ax,VChip as ay,useColor$1 as az,createVNode as b,pointDotModeValues as b$,makeThemeProps as b0,provideTheme as b1,useBackgroundColor as b2,toRef as b3,useBorder as b4,useDimension as b5,useElevation as b6,useLocation as b7,usePosition as b8,useRounded as b9,VScaleTransition as bA,keyValues as bB,makeFocusProps as bC,VProgressLinear as bD,VListItemTitle as bE,reactive as bF,osModeRef as bG,SysVarLongSketchSettingsOsMode as bH,countSysVarLongSketchSettingsOsMode as bI,setSysVarLongSketchSettingsOsMode as bJ,useLayer as bK,useKeyModifier as bL,useRightClickMenuOptions as bM,useLineType as bN,getMxAliSymbolIconHTML as bO,callCommand as bP,countColorInfo as bQ,vModelText as bR,onBeforeUnmount as bS,Teleport as bT,shallowRef as bU,markRaw as bV,customRef as bW,getCurrentInstance$1 as bX,preservePointDotStyleStatus as bY,initPointDotStyleStatus as bZ,pointDotStyleStatus as b_,provideDefaults as ba,makeGroupProps as bb,useRtl as bc,useDisplay as bd,useGroup as be,VFadeTransition as bf,makeVBtnProps as bg,useTextColor as bh,animate as bi,standardEasing as bj,makeDensityProps as bk,useDensity as bl,keys as bm,provide as bn,resolveDirective as bo,makeGroupItemProps as bp,makeLazyProps as bq,inject$1 as br,useGroupItem as bs,useSsrBoot as bt,useLazy as bu,MaybeTransition as bv,resolveDynamicComponent as bw,getDecimals as bx,createRange as by,Ripple as bz,createBlock as c,defineStore as c0,onOpenFileComplete as c1,getDatabase as c2,defineComponent$1 as d,isElectron as e,VTextField as f,getVersion as g,createCommentVNode as h,isRef as i,popScopeId as j,createTextVNode as k,useFocus$1 as l,watch as m,addCommand as n,openBlock as o,pushScopeId as p,onUpdated as q,ref as r,onUnmounted as s,toDisplayString as t,unref as u,isBoolean$1 as v,withCtx as w,renderSlot as x,normalizeClass as y,VBtn as z};
